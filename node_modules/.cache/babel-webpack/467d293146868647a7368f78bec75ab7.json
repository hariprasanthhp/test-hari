{"ast":null,"code":"import inherits from 'inherits';\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\nimport { getBusinessObject } from '../../../util/ModelUtil';\nimport { isAny } from '../util/ModelingUtil';\n\n/**\n * A component that makes sure that each created or updated\n * Pool and Lane is assigned an isHorizontal property set to true.\n *\n * @param {EventBus} eventBus\n */\nexport default function IsHorizontalFix(eventBus) {\n  CommandInterceptor.call(this, eventBus);\n  var elementTypesToUpdate = ['bpmn:Participant', 'bpmn:Lane'];\n  this.executed(['shape.move', 'shape.create', 'shape.resize'], function (event) {\n    var bo = getBusinessObject(event.context.shape);\n    if (isAny(bo, elementTypesToUpdate) && !bo.di.get('isHorizontal')) {\n      // set attribute directly to avoid modeling#updateProperty side effects\n      bo.di.set('isHorizontal', true);\n    }\n  });\n}\nIsHorizontalFix.$inject = ['eventBus'];\ninherits(IsHorizontalFix, CommandInterceptor);","map":null,"metadata":{},"sourceType":"module"}