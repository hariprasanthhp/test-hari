{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport { DataTableDirective } from 'angular-datatables';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"../../services/mycommunity-iq.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"src/app-services/translate.service\";\nimport * as i5 from \"@angular/common/http\";\nimport * as i6 from \"../../services/common.service\";\nimport * as i7 from \"src/app/cco-foundation/foundation-systems/foundation-manage/foundation-manage.service\";\nimport * as i8 from \"@angular/platform-browser\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"@angular/forms\";\nimport * as i11 from \"@ng-select/ng-select\";\nimport * as i12 from \"angular-datatables\";\nfunction CommunityUsersComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelementStart(1, \"span\", 23);\n    i0.ɵɵelement(2, \"img\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function CommunityUsersComponent_div_1_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.errorInfo = \"\";\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r0.errorInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction CommunityUsersComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵelementStart(1, \"span\", 28);\n    i0.ɵɵelement(2, \"img\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 30);\n    i0.ɵɵelementStart(4, \"strong\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 30);\n    i0.ɵɵelementStart(8, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function CommunityUsersComponent_div_2_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.deleteSuccess = false;\n    });\n    i0.ɵɵelement(9, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedUserForEditOrDelete.email, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.language[\"Successfully Deleted\"], \" \");\n  }\n}\nfunction CommunityUsersComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵelementStart(1, \"div\", 32);\n    i0.ɵɵelementStart(2, \"div\", 33);\n    i0.ɵɵelementStart(3, \"span\", 34);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.language.Loading);\n  }\n}\nfunction CommunityUsersComponent_tr_34_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const community_r18 = ctx.$implicit;\n    const j_r19 = ctx.index;\n    const subscriber_r14 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", community_r18.communityName, \"\", subscriber_r14.community.length - 1 !== j_r19 ? \", \" : \"\", \"\");\n  }\n}\nfunction CommunityUsersComponent_tr_34_a_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 41);\n    i0.ɵɵlistener(\"click\", function CommunityUsersComponent_tr_34_a_18_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const subscriber_r14 = i0.ɵɵnextContext().$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      const _r8 = i0.ɵɵreference(40);\n      return ctx_r21.openEditOrDeleteUsersModal(subscriber_r14, _r8);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r17.language[\"Delete user\"]);\n  }\n}\nfunction CommunityUsersComponent_tr_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 35);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtemplate(10, CommunityUsersComponent_tr_34_span_10_Template, 2, 2, \"span\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 17);\n    i0.ɵɵelementStart(12, \"div\", 36);\n    i0.ɵɵelementStart(13, \"div\", 37);\n    i0.ɵɵtext(14, \" ... \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 38);\n    i0.ɵɵelementStart(16, \"a\", 39);\n    i0.ɵɵlistener(\"click\", function CommunityUsersComponent_tr_34_Template_a_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r25);\n      const subscriber_r14 = restoredCtx.$implicit;\n      const ctx_r24 = i0.ɵɵnextContext();\n      const _r6 = i0.ɵɵreference(38);\n      return ctx_r24.openEditOrDeleteUsersModal(subscriber_r14, _r6);\n    });\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, CommunityUsersComponent_tr_34_a_18_Template, 2, 1, \"a\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const subscriber_r14 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(subscriber_r14 == null ? null : subscriber_r14.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(subscriber_r14 == null ? null : subscriber_r14.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(subscriber_r14 == null ? null : subscriber_r14.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.language[(subscriber_r14 == null ? null : subscriber_r14.isCommunitySubscriber) ? \"No\" : \"Yes\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", subscriber_r14 == null ? null : subscriber_r14.community);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r3.language[\"Edit access\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", subscriber_r14 == null ? null : subscriber_r14.isCommunitySubscriber);\n  }\n}\nfunction CommunityUsersComponent_ng_template_35_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54);\n    i0.ɵɵelementStart(1, \"div\", 55);\n    i0.ɵɵelement(2, \"img\", 56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 57);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r26.replaceLimitValue(ctx_r26.language[\"reduce the number of records\"]), \" \");\n  }\n}\nfunction CommunityUsersComponent_ng_template_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵelementStart(1, \"div\", 43);\n    i0.ɵɵelementStart(2, \"h3\", 44);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function CommunityUsersComponent_ng_template_35_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return ctx_r27.close();\n    });\n    i0.ɵɵelement(5, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, CommunityUsersComponent_ng_template_35_div_6_Template, 5, 1, \"div\", 47);\n    i0.ɵɵelementStart(7, \"div\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementStart(9, \"ul\", 48);\n    i0.ɵɵelementStart(10, \"li\");\n    i0.ɵɵelementStart(11, \"b\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"li\");\n    i0.ɵɵelementStart(14, \"strong\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 49);\n    i0.ɵɵelementStart(19, \"div\", 14);\n    i0.ɵɵelementStart(20, \"table\");\n    i0.ɵɵelementStart(21, \"thead\");\n    i0.ɵɵelementStart(22, \"tr\");\n    i0.ɵɵelementStart(23, \"th\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"th\");\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"th\");\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"th\");\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"tbody\");\n    i0.ɵɵelementStart(32, \"tr\");\n    i0.ɵɵelementStart(33, \"td\");\n    i0.ɵɵtext(34, \"John\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"td\");\n    i0.ɵɵtext(36, \"McClane\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"td\");\n    i0.ɵɵtext(38, \"Jmac@APD.gov\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"td\");\n    i0.ɵɵtext(40, \"station-wifi\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"tr\");\n    i0.ɵɵelementStart(42, \"td\");\n    i0.ɵɵtext(43, \"James\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"td\");\n    i0.ɵɵtext(45, \"Smith\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"td\");\n    i0.ɵɵtext(47, \"Smith@APD.tgd\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"td\");\n    i0.ɵɵtext(49, \"c-library\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"tr\");\n    i0.ɵɵelementStart(51, \"td\");\n    i0.ɵɵtext(52, \"Mary \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"td\");\n    i0.ɵɵtext(54, \"Smith\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"td\");\n    i0.ɵɵtext(56, \"Mary@gmail.com\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(57, \"td\");\n    i0.ɵɵtext(58, \"station-wifi\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"tr\");\n    i0.ɵɵelementStart(60, \"td\");\n    i0.ɵɵtext(61, \"Maria \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(62, \"td\");\n    i0.ɵɵtext(63, \"Hernandez\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(64, \"td\");\n    i0.ɵɵtext(65, \"Hernande@gmail.com\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(66, \"td\");\n    i0.ɵɵtext(67, \"c-library, station-wifi\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(68, \"div\", 50);\n    i0.ɵɵelementStart(69, \"div\");\n    i0.ɵɵelementStart(70, \"label\", 51);\n    i0.ɵɵtext(71);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(72, \"input\", 52);\n    i0.ɵɵlistener(\"change\", function CommunityUsersComponent_ng_template_35_Template_input_change_72_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return ctx_r29.readSingleFile($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(73, \"button\", 53);\n    i0.ɵɵlistener(\"click\", function CommunityUsersComponent_ng_template_35_Template_button_click_73_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return ctx_r30.close();\n    });\n    i0.ɵɵtext(74);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r5.language[\"addUsers\"]);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.CSVLimitExceded);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.language[\"uploading a CSV file with their information\"], \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r5.language[\"Only .csv format is supported (Maximum 1000 users)\"]);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r5.language[\"Duplicate users will be appended upon upload\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r5.language[\"Please use the format exactly as shown below:\"], \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r5.language[\"First Name\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.language[\"Last_Name\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.language[\"emailAddess\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r5.language[\"Bsp_Microsite_Name\"], \"(s)\");\n    i0.ɵɵadvance(41);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r5.language[\"Browse\"], \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.language[\"Cancel\"], \" \");\n  }\n}\nfunction CommunityUsersComponent_ng_template_37_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵelementStart(1, \"div\", 32);\n    i0.ɵɵelementStart(2, \"div\", 33);\n    i0.ɵɵelementStart(3, \"span\", 34);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r31 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r31.language.Loading);\n  }\n}\nfunction CommunityUsersComponent_ng_template_37_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵelementStart(1, \"span\", 28);\n    i0.ɵɵelement(2, \"img\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 62);\n    i0.ɵɵelementStart(4, \"div\", 30);\n    i0.ɵɵelementStart(5, \"button\", 63);\n    i0.ɵɵlistener(\"click\", function CommunityUsersComponent_ng_template_37_div_10_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r36);\n      const ctx_r35 = i0.ɵɵnextContext(2);\n      return ctx_r35.editSuccess = false;\n    });\n    i0.ɵɵelement(6, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r32 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r32.language[\"community_removed_successfully\"](ctx_r32.removedCommunity[0].communityName), i0.ɵɵsanitizeHtml);\n  }\n}\nfunction CommunityUsersComponent_ng_template_37_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 64);\n    i0.ɵɵelementStart(1, \"div\", 65);\n    i0.ɵɵelement(2, \"img\", 66);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 67);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementStart(5, \"B\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵelementStart(8, \"div\", 6);\n    i0.ɵɵelementStart(9, \"button\", 68);\n    i0.ɵɵlistener(\"click\", function CommunityUsersComponent_ng_template_37_div_12_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return ctx_r37.removeCommunity();\n    });\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 69);\n    i0.ɵɵlistener(\"click\", function CommunityUsersComponent_ng_template_37_div_12_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r39 = i0.ɵɵnextContext(2);\n      return ctx_r39.selectedCommunityForRemove = undefined;\n    });\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r33 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r33.language[\"Are you sure you want to remove access to\"], \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r33.removeCommunityName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r33.language[\"for this user?\"], \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r33.language[\"Remove access\"], \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r33.language[\"Cancel\"], \" \");\n  }\n}\nfunction CommunityUsersComponent_ng_template_37_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelementStart(4, \"img\", 70);\n    i0.ɵɵlistener(\"click\", function CommunityUsersComponent_ng_template_37_tr_23_Template_img_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r43);\n      const i_r41 = restoredCtx.index;\n      const ctx_r42 = i0.ɵɵnextContext(2);\n      ctx_r42.selectedCommunityForRemove = i_r41;\n      return ctx_r42.removeCommunityName = ctx_r42.selectedUserForEditOrDelete == null ? null : ctx_r42.selectedUserForEditOrDelete.community[i_r41] == null ? null : ctx_r42.selectedUserForEditOrDelete.community[i_r41].communityName;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const community_r40 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", community_r40.communityName, \" \");\n  }\n}\nfunction CommunityUsersComponent_ng_template_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtemplate(1, CommunityUsersComponent_ng_template_37_div_1_Template, 5, 1, \"div\", 2);\n    i0.ɵɵelementStart(2, \"div\", 43);\n    i0.ɵɵelementStart(3, \"h3\", 58);\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 35);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function CommunityUsersComponent_ng_template_37_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r44 = i0.ɵɵnextContext();\n      return ctx_r44.close();\n    });\n    i0.ɵɵelement(9, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, CommunityUsersComponent_ng_template_37_div_10_Template, 7, 1, \"div\", 1);\n    i0.ɵɵelementStart(11, \"div\", 49);\n    i0.ɵɵtemplate(12, CommunityUsersComponent_ng_template_37_div_12_Template, 13, 5, \"div\", 60);\n    i0.ɵɵelementStart(13, \"p\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 14);\n    i0.ɵɵelementStart(16, \"table\");\n    i0.ɵɵelementStart(17, \"thead\");\n    i0.ɵɵelementStart(18, \"tr\");\n    i0.ɵɵelementStart(19, \"th\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"th\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"tbody\");\n    i0.ɵɵtemplate(23, CommunityUsersComponent_ng_template_37_tr_23_Template, 5, 1, \"tr\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"button\", 61);\n    i0.ɵɵlistener(\"click\", function CommunityUsersComponent_ng_template_37_Template_button_click_24_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r46 = i0.ɵɵnextContext();\n      return ctx_r46.close();\n    });\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.EditLoader);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r7.language[\"Edit\"], \": \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\\"\", ctx_r7.selectedUserForEditOrDelete.email, \"\\\"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.editSuccess);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.selectedCommunityForRemove !== undefined);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r7.language[\"This user has access to the following communities\"], \":\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r7.language[\"Community Access\"]);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.selectedUserForEditOrDelete.community);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r7.language[\"done\"], \" \");\n  }\n}\nfunction CommunityUsersComponent_ng_template_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵelementStart(1, \"div\", 71);\n    i0.ɵɵelementStart(2, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function CommunityUsersComponent_ng_template_39_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r47 = i0.ɵɵnextContext();\n      return ctx_r47.close();\n    });\n    i0.ɵɵelement(3, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 49);\n    i0.ɵɵelementStart(5, \"div\", 72);\n    i0.ɵɵelementStart(6, \"div\", 65);\n    i0.ɵɵelement(7, \"img\", 73);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 74);\n    i0.ɵɵelementStart(9, \"div\", 75);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"p\", 76);\n    i0.ɵɵelementStart(12, \"div\", 6);\n    i0.ɵɵelementStart(13, \"button\", 77);\n    i0.ɵɵlistener(\"click\", function CommunityUsersComponent_ng_template_39_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r49 = i0.ɵɵnextContext();\n      return ctx_r49.deleteUser(ctx_r49.selectedUserForEditOrDelete.subscriberId);\n    });\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 78);\n    i0.ɵɵlistener(\"click\", function CommunityUsersComponent_ng_template_39_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r50 = i0.ɵɵnextContext();\n      return ctx_r50.close();\n    });\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r9.language[\"Delete Community User Access\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r9.language[\"Remove_Community_access\"](ctx_r9.selectedUserForEditOrDelete == null ? null : ctx_r9.selectedUserForEditOrDelete.name, ctx_r9.selectedUserForEditOrDelete == null ? null : ctx_r9.selectedUserForEditOrDelete.email), i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r9.language[\"Delete\"], \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r9.language[\"Cancel\"], \" \");\n  }\n}\nexport let CommunityUsersComponent = /*#__PURE__*/(() => {\n  class CommunityUsersComponent {\n    constructor(dialogService, myCommunityIqService, router, translateService, http, commonOrgService, systemservice, titleService) {\n      this.dialogService = dialogService;\n      this.myCommunityIqService = myCommunityIqService;\n      this.router = router;\n      this.translateService = translateService;\n      this.http = http;\n      this.commonOrgService = commonOrgService;\n      this.systemservice = systemservice;\n      this.titleService = titleService;\n      this.subscriptions = [];\n      this.communitySubscriberList = [];\n      this.CSVLimitExceded = false;\n      this.dtOptions = {\n        pagingType: 'full_numbers',\n        dom: 'tipr',\n        lengthChange: false,\n        pageLength: 10,\n        processing: true\n      };\n      this.loader = false;\n      this.disabledAddUser = true;\n      this.deleteSuccess = false;\n      /*Fetch all community Users */\n      this.count = 0;\n      this.filteredValueCount = 0;\n      this.dtTrigger = new Subject();\n      this.microSiteList = [];\n      this.selectedMicroSite = '';\n      this.editSuccess = false;\n      this.EditLoader = false;\n      this.frTable = this.translateService.fr;\n      this.esTable = this.translateService.es;\n      this.de_DETable = this.translateService.de_DE;\n    }\n    ngAfterViewInit() {\n      this.dtTrigger.next();\n    }\n    ngOnInit() {\n      this.orgId = JSON.parse(localStorage.getItem('calix.org_id'));\n      this.language = this.translateService.defualtLanguage;\n      this.subscriptions.push(this.translateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n        this.tableLanguageOptions();\n        this.titleService.setTitle(`${this.language['Community Users']} - ${this.language['SmartTown Wi-Fi']} - ${this.language['administration']} - ${this.language['Calix Cloud']}`);\n        const tempObj = {\n          _iDisplayStart: this.tableCounts.start,\n          _iDisplayLength: this.tableCounts.displayCount,\n          _iRecordsDisplay: this.tableCounts.displayed,\n          _iRecordsTotal: this.tableCounts.total,\n          oPreviousSearch: {\n            sSearch: this.tableCounts.searchText\n          }\n        };\n        this.changeTableStatusLanguage(tempObj);\n      }));\n      this.titleService.setTitle(`${this.language['Community Users']} - ${this.language['SmartTown Wi-Fi']} - ${this.language['administration']} - ${this.language['Calix Cloud']}`);\n      this.getCommunitySubscribers();\n      this.getCount();\n      this.GetBspProvider();\n      this.getMicroSites();\n    }\n    changeTableStatusLanguage(dtObj) {\n      const nf = new Intl.NumberFormat();\n      this.tableCounts = {\n        searchText: dtObj.oPreviousSearch.sSearch.replace(/\\s+/g, \"\"),\n        total: dtObj._iRecordsTotal,\n        displayCount: dtObj._iDisplayLength,\n        displayed: dtObj._iRecordsDisplay,\n        start: dtObj._iDisplayStart\n      };\n      const isFrench = sessionStorage.getItem('defaultLanguage') == 'fr';\n      const isSpanish = sessionStorage.getItem('defaultLanguage') == 'es';\n      const isGermen = sessionStorage.getItem('defaultLanguage') == 'de_DE';\n      const filtered = `${dtObj._iRecordsTotal > 10000 && (dtObj.oPreviousSearch.sSearch == '' || dtObj.oPreviousSearch.sSearch != '') ? isFrench ? `(filtrées à partir des  ${nf.format(dtObj._iRecordsTotal)} entrées totales)<br/>` + (this.show ? `<b style=\"font-size: 14px;\">${this.language.searchError}</b>` : '') : isSpanish ? `(filtrado de un total de  ${nf.format(dtObj._iRecordsTotal)} entradas)<br/>` + (this.show ? `<b style=\"font-size: 14px;\">${this.language.searchError}</b>` : '') : isGermen ? `(gefiltert aus  ${nf.format(dtObj._iRecordsTotal)} Einträgen)<br/>` + (this.show ? `<b style=\"font-size: 14px;\">${this.language.searchError}</b>` : '') : `(filtered from  ${nf.format(dtObj._iRecordsTotal)} total entries)<br/>` + (this.show ? `<b style=\"font-size: 14px;\">${this.language.searchError}</b>` : '') : ''}`;\n      const startCount = dtObj._iRecordsDisplay == 0 ? -1 : dtObj._iDisplayStart;\n      const showingCount = dtObj._iDisplayStart + dtObj._iDisplayLength > dtObj._iRecordsDisplay ? dtObj._iRecordsDisplay : dtObj._iDisplayStart + dtObj._iDisplayLength;\n      $('div [role=\"status\"]').html(isFrench ? `Affichage de ${nf.format(startCount + 1)} à ${nf.format(showingCount)} des ${nf.format(dtObj._iRecordsDisplay)} entrées ${filtered}` : isSpanish ? `Se muestran del ${nf.format(startCount + 1)} al ${nf.format(showingCount)} de ${nf.format(dtObj._iRecordsDisplay)} resultados ${filtered}` : isGermen ? `Angezeigt ${nf.format(startCount + 1)} bis ${nf.format(showingCount)} von ${nf.format(dtObj._iRecordsDisplay)} ergebnissen ${filtered}` : `Showing ${nf.format(startCount + 1)} to ${nf.format(showingCount)} of ${nf.format(dtObj._iRecordsDisplay)} entries ${filtered}`);\n      //$(\".dataTables_filter label\")[0].childNodes[0].nodeValue = isFrench ? 'Chercher:' : 'Search:';\n      //$(\".dataTables_length label\")[0].childNodes[0].nodeValue = isFrench ? 'Afficher les ' : 'Show ';\n      //$(\".dataTables_length label\")[0].childNodes[2].nodeValue = isFrench ? ' entrées' : ' entries';\n      $(\".first\").text(isFrench ? 'Le début' : isSpanish ? 'Primero' : isGermen ? 'Erste Seite' : 'First');\n      $(\".previous\").text(isFrench ? 'Précédent' : isSpanish ? 'Anterior' : isGermen ? 'Zurück' : 'Previous');\n      $(\".next\").text(isFrench ? 'Suivant' : isSpanish ? 'Siguiente' : isGermen ? 'Weiter' : 'Next');\n      $(\".last\").text(isFrench ? 'Dernière' : isSpanish ? 'Último' : isGermen ? 'Letzte' : 'Last');\n    }\n    getCount() {\n      this.loader = true;\n      this.myCommunityIqService.getSmartTownUsersCount(this.selectedMicroSite, this.filter).subscribe(res => {\n        this[this.selectedMicroSite || this.filter ? 'filteredValueCount' : 'count'] = res;\n        this.rerender();\n      }, err => {\n        this.loader = false;\n        this.pageErrorHandle(err);\n      });\n    }\n    rerender() {\n      var _a, _b;\n      (_b = (_a = this.dtElement) === null || _a === void 0 ? void 0 : _a.dtInstance) === null || _b === void 0 ? void 0 : _b.then(dtInstance => {\n        // Destroy the table first\n        dtInstance.destroy();\n        this.dtTrigger.next();\n      });\n    }\n    getMicroSites() {\n      this.bspDataLoader = true;\n      this.subscriptions.push(this.myCommunityIqService.GetMicrosite().subscribe(res => {\n        this.microSiteList = [{\n          communityName: this.language['All_communities'],\n          id: ''\n        }, ...res];\n        this.bspDataLoader = false;\n      }, err => {\n        this.bspDataLoader = false;\n        if (err.error.errorMessage !== \"No BSP Provider Found.\") {\n          this.pageErrorHandle(err);\n        }\n        //\n      }));\n    }\n\n    getCommunitySubscribers(count) {\n      let that = this;\n      this.dtOptions = {\n        pagingType: 'full_numbers',\n        pageLength: 10,\n        serverSide: true,\n        processing: false,\n        ordering: false,\n        search: false,\n        paging: true,\n        dom: \"tipr\",\n        responsive: true,\n        drawCallback: settings => {\n          this.dataTableSetting = settings;\n          this.changeTableStatusLanguage(settings);\n          let length = settings._iDisplayLength,\n            pageLimit = 10,\n            value = this.count - length;\n          if (value <= pageLimit) {\n            $(settings.nTableWrapper).find(`#${settings.sTableId}_last`).addClass('disabled');\n          }\n        },\n        ajax: (dataTablesParameters, callback) => {\n          if (this.dataTableSetting && dataTablesParameters.start == 9990) {\n            this.show = true;\n            this.changeTableStatusLanguage(this.dataTableSetting);\n          } else {\n            this.show = false;\n          }\n          let pageNumber,\n            limit,\n            value,\n            pageSize = 10;\n          pageNumber = Math.round(dataTablesParameters.start / pageSize);\n          value = this.count - pageNumber * pageSize;\n          limit = value > pageSize || !this.count ? pageSize : value;\n          pageNumber *= pageSize;\n          let url = `${environment.FOUNDATION_BASE_URL}/subscriber-systems/passpoint-subscribers?org-id=${this.orgId}&offset=${pageNumber}&limit=${limit}${this.selectedMicroSite ? '&micrositeId=' + this.selectedMicroSite : ''}${this.filter ? '&filter=' + this.filter : ''}`;\n          that.loader = true;\n          that.http.get(url).subscribe(res => {\n            this.communitySubscriberList = res;\n            that.loader = false;\n            callback({\n              recordsTotal: this.count,\n              recordsFiltered: this.selectedMicroSite || this.filter ? this.filteredValueCount : this.count,\n              data: []\n            });\n            let element = document.getElementsByClassName('dataTables_empty')[0];\n            if (element) element.style.display = res.length ? 'none' : 'table-cell';\n          }, err => {\n            that.loader = false;\n            if (err.status == 404) {\n              callback({\n                recordsTotal: 0,\n                recordsFiltered: 0,\n                data: []\n              });\n            } else {\n              this.pageErrorHandle(err);\n            }\n          });\n        }\n      };\n    }\n    pageErrorHandle(err) {\n      if (err.status == 401) {\n        this.errorInfo = this.language['Access Denied'];\n      } else {\n        this.errorInfo = this.commonOrgService.pageErrorHandle(err);\n      }\n    }\n    openAddUserPopup(modal) {\n      this.CSVLimitExceded = false;\n      this.dialogService.open(modal, {\n        size: 'xl',\n        centered: true,\n        windowClass: 'add-user-modal'\n      });\n    }\n    openEditOrDeleteUsersModal(user, modal) {\n      this.selectedUserForEditOrDelete = user;\n      this.selectedCommunityForRemove = undefined;\n      this.editSuccess = false;\n      this.dialogService.open(modal, {\n        size: 'xl',\n        centered: true,\n        windowClass: 'edit-user-modal'\n      });\n    }\n    close() {\n      this.dialogService.dismissAll();\n    }\n    readSingleFile(e) {\n      var _a;\n      var file = e.target.files[0];\n      if (!file || !((_a = file.type) === null || _a === void 0 ? void 0 : _a.includes('csv')) && !/^(application\\/vnd.ms-excel)$/.test(file.type)) {\n        return;\n      }\n      ;\n      var reader = new FileReader();\n      let that = this;\n      reader.onload = function (e) {\n        var contents = e.target.result;\n        that.displayContents(contents);\n      };\n      reader.readAsText(file);\n    }\n    displayContents(contents) {\n      let values = contents.split(/\\r?\\n/).map(e => {\n        let row = e.split(','),\n          value = {\n            firstName: '',\n            lastName: '',\n            email: '',\n            community: []\n          };\n        if (row.length) {\n          value.firstName = row[0];\n          if (row[1]) value.lastName = row[1];\n          if (row[2]) value.email = row[2];\n          if (row[3]) value.community = [...new Set(row.slice(3).map(e => JSON.stringify({\n            \"communityName\": e.replace(/\"/g, '')\n          })))].map(e => JSON.parse(e));\n        }\n        ;\n        return value;\n      });\n      values = [...new Set(values.map(e => JSON.stringify(e)))].map(e => JSON.parse(e)).filter(e => Object.keys(e).some(c => Array.isArray(e[c]) ? e[c].length : e[c]));\n      const maximumAllowedUserCount = 1000;\n      this.CSVLimitExceded = values.length > maximumAllowedUserCount;\n      if (this.CSVLimitExceded) return;\n      this.myCommunityIqService.communityListSubject.next(values);\n      this.close();\n      this.router.navigate(['/organization-admin/SmartTownWi-Fi/confirm-users']);\n    }\n    removeCommunity() {\n      var _a, _b, _c, _d;\n      this.EditLoader = true;\n      this.removedCommunity = (_b = (_a = this.selectedUserForEditOrDelete) === null || _a === void 0 ? void 0 : _a.community) === null || _b === void 0 ? void 0 : _b.splice(this.selectedCommunityForRemove, 1);\n      this.subscriptions.push(this.myCommunityIqService.editCommunityAccess({\n        enable: Boolean((_d = (_c = this.selectedUserForEditOrDelete) === null || _c === void 0 ? void 0 : _c.community) === null || _d === void 0 ? void 0 : _d.length),\n        communities: this.selectedUserForEditOrDelete.community\n      }, this.orgId, this.selectedUserForEditOrDelete.subscriberId).subscribe(res => {\n        var _a, _b;\n        this.selectedCommunityForRemove = undefined;\n        this.EditLoader = false;\n        if (!((_b = (_a = this.selectedUserForEditOrDelete) === null || _a === void 0 ? void 0 : _a.community) === null || _b === void 0 ? void 0 : _b.length)) {\n          this.close();\n          this.getCount();\n        }\n        this.editSuccess = true;\n      }, err => {\n        var _a, _b;\n        (_b = (_a = this.selectedUserForEditOrDelete) === null || _a === void 0 ? void 0 : _a.community) === null || _b === void 0 ? void 0 : _b.splice(this.selectedCommunityForRemove, 0, this.removedCommunity[0]);\n        this.selectedCommunityForRemove = undefined;\n        this.EditLoader = false;\n        this.editSuccess = false;\n        this.close();\n        this.pageErrorHandle(err);\n      }));\n    }\n    tableLanguageOptions() {\n      if (this.language.fileLanguage == 'fr') {\n        this.dtOptions.language = this.frTable;\n      } else if (this.language.fileLanguage == 'es') {\n        this.dtOptions.language = this.esTable;\n      } else if (this.language.fileLanguage == 'de_DE') {\n        this.dtOptions.language = this.de_DETable;\n      } else if (this.language.fileLanguage == 'en' && this.dtOptions.language) {\n        delete this.dtOptions.language;\n      }\n    }\n    GetBspProvider() {\n      this.subscriptions.push(this.myCommunityIqService.GetBspproviderInfo().subscribe(res => {\n        this.disabledAddUser = (res === null || res === void 0 ? void 0 : res.status) !== 'READY';\n      }, err => {\n        if (err.error.errorMessage !== \"No BSP Provider Found.\") {\n          this.pageErrorHandle(err);\n        }\n      }));\n    }\n    deleteUser(id) {\n      this.close();\n      this.loader = true;\n      this.subscriptions.push(this.systemservice.deleteSubscriber(id, this.orgId).subscribe(res => {\n        this.deleteSuccess = true;\n        setTimeout(() => {\n          this.deleteSuccess = false;\n          this.getCount();\n        }, 3500);\n      }, err => {\n        this.loader = false;\n        this.pageErrorHandle(err);\n      }));\n    }\n    filterValue() {\n      clearTimeout(this.typingTimer);\n      // Start a new timer for 500 milliseconds (adjust as needed)\n      this.typingTimer = setTimeout(() => {\n        this.getCount();\n      }, 500);\n    }\n    ngOnDestroy() {\n      var _a;\n      (_a = this.subscriptions) === null || _a === void 0 ? void 0 : _a.forEach(e => e.unsubscribe());\n    }\n    replaceLimitValue(message) {\n      return message.replace('500', '1000');\n    }\n  }\n  CommunityUsersComponent.ɵfac = function CommunityUsersComponent_Factory(t) {\n    return new (t || CommunityUsersComponent)(i0.ɵɵdirectiveInject(i1.NgbModal), i0.ɵɵdirectiveInject(i2.MycommunityIqService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.TranslateService), i0.ɵɵdirectiveInject(i5.HttpClient), i0.ɵɵdirectiveInject(i6.CommonService), i0.ɵɵdirectiveInject(i7.FoundationManageService), i0.ɵɵdirectiveInject(i8.Title));\n  };\n  CommunityUsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CommunityUsersComponent,\n    selectors: [[\"app-community-users\"]],\n    viewQuery: function CommunityUsersComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(DataTableDirective, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dtElement = _t.first);\n      }\n    },\n    decls: 41,\n    vars: 18,\n    consts: [[\"class\", \"w-100 alert alert-danger  fade show my-3\", 4, \"ngIf\"], [\"class\", \"alert alert-success alert-dismissible fade show\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"loader\", 4, \"ngIf\"], [1, \"container\"], [1, \"row\", \"mb-3\"], [1, \"col-md-12\"], [1, \"\"], [\"data-toggle\", \"modal\", \"data-target\", \".bd-example-modal-lg\", 1, \"btn-default\", \"primary\", \"px-3\", \"mt-2\", 3, \"disabled\", \"click\"], [1, \"row\", \"d-flex\", \"justify-content-between\", \"mt-3\"], [1, \"col-md-3\", \"ccl-form\"], [\"type\", \"search\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", 1, \"form-control\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\"], [1, \"col-md-3\"], [\"placeholder\", \"Select\", \"bindLabel\", \"communityName\", \"bindValue\", \"id\", 3, \"items\", \"ngModel\", \"ngModelChange\", \"change\"], [1, \"row\", \"my-3\"], [1, \"community-users-list\"], [\"datatable\", \"\", 1, \"w-100\", 3, \"dtOptions\", \"dtTrigger\"], [1, \"email-with\", \"text-break\"], [1, \"pl-4\"], [4, \"ngFor\", \"ngForOf\"], [\"AddUsersModal\", \"\"], [\"EditUsersModal\", \"\"], [\"DeleteUsersModal\", \"\"], [1, \"w-100\", \"alert\", \"alert-danger\", \"fade\", \"show\", \"my-3\"], [1, \"error-img\"], [\"src\", \"./assets/img/ic_error-36px.svg\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [1, \"d-inline-flex\", 3, \"innerHtml\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\", \"alert-dismissible\", \"fade\", \"show\"], [1, \"mr-2\"], [\"src\", \"./assets/img/success-icon.svg\", 1, \"wh-26\"], [1, \"d-inline\"], [1, \"loader\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"spinner-border\", \"text-primary\"], [1, \"sr-only\"], [1, \"text-break\"], [1, \"dropdown\"], [\"data-toggle\", \"dropdown\", \"aria-expanded\", \"false\", 1, \"dropdown-toggle\", \"pointer\"], [1, \"dropdown-menu\"], [\"data-toggle\", \"modal\", \"data-target\", \".bd-example-modal-lg\", 1, \"dropdown-item\", \"cursor-pointer\", 3, \"click\"], [\"class\", \"dropdown-item cursor-pointer\", \"data-target\", \".bd-example-modal-lg\", 3, \"click\", 4, \"ngIf\"], [\"data-target\", \".bd-example-modal-lg\", 1, \"dropdown-item\", \"cursor-pointer\", 3, \"click\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [\"class\", \"user-warning-meg d-flex\", 4, \"ngIf\"], [1, \"pl-4\", \"list-style-disc\"], [1, \"modal-body\"], [1, \"my-4\"], [\"for\", \"CSVFile\", \"type\", \"button\", 1, \"usoc-upload-button\", \"btn-default\", \"primary\", \"ml-1\", \"mr-3\"], [\"type\", \"file\", \"id\", \"CSVFile\", \"accept\", \".csv\", 1, \"d-none\", 3, \"change\"], [\"id\", \"cancel-add-role\", 1, \"btn-default\", \"btn-dft\", \"py-1\", \"md-btn\", 3, \"click\"], [1, \"user-warning-meg\", \"d-flex\"], [1, \"user-warning-img\"], [\"src\", \"../../../../assets/img/ic_error-outline.svg\", \"alt\", \"\"], [1, \"user-warning-content\"], [1, \"modal-title\", \"d-flex\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\", \"p-0\", 3, \"click\"], [\"class\", \"edit-warning-info w-100 d-flex align-items-start\", 4, \"ngIf\"], [1, \"btn-default\", \"primary\", \"px-2\", \"mt-2\", 3, \"click\"], [1, \"d-inline\", 3, \"innerHTML\"], [\"type\", \"button\", 1, \"close\", \"close-btn\", 3, \"click\"], [1, \"edit-warning-info\", \"w-100\", \"d-flex\", \"align-items-start\"], [1, \"w-10\", \"mr-2\"], [\"src\", \"../../../../assets/img/ic_warning-36px.svg\", \"alt\", \"\"], [1, \"w-90\", \"m;-2\"], [1, \"btn-default\", \"primary\", \"px-3\", \"mt-2\", \"mr-3\", 3, \"click\"], [1, \"btn-default\", \"btn-dft\", \"py-1\", \"md-btn\", 3, \"click\"], [\"src\", \"../../../../assets/img/ic_close-24px.svg\", \"alt\", \"\", 1, \"pointer\", 3, \"click\"], [1, \"modal-header\", \"mb-4\"], [1, \"d-flex\", \"w-100\", \"align-items-start\"], [\"src\", \"../../../../assets/img/ic_warning-36px.svg\", \"alt\", \"\", 1, \"err-img\"], [1, \"w-90\", \"ml-2\"], [1, \"stop-user-sub-title\", \"chart-title\"], [3, \"innerHTML\"], [\"id\", \"\", 1, \"btn-default\", \"primary\", \"mr-2\", 3, \"click\"], [\"type\", \"button\", 1, \"btn-default\", \"btn-dft\", \"py-1\", \"md-btn\", \"ml-1\", \"mr-3\", 3, \"click\"]],\n    template: function CommunityUsersComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r51 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"section\");\n        i0.ɵɵtemplate(1, CommunityUsersComponent_div_1_Template, 6, 1, \"div\", 0);\n        i0.ɵɵtemplate(2, CommunityUsersComponent_div_2_Template, 10, 2, \"div\", 1);\n        i0.ɵɵtemplate(3, CommunityUsersComponent_div_3_Template, 5, 1, \"div\", 2);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵelementStart(8, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function CommunityUsersComponent_Template_button_click_8_listener() {\n          i0.ɵɵrestoreView(_r51);\n          const _r4 = i0.ɵɵreference(36);\n          return ctx.openAddUserPopup(_r4);\n        });\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 8);\n        i0.ɵɵelementStart(11, \"div\", 9);\n        i0.ɵɵelementStart(12, \"input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function CommunityUsersComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.filter = $event;\n        })(\"ngModelChange\", function CommunityUsersComponent_Template_input_ngModelChange_12_listener() {\n          return ctx.filterValue();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 11);\n        i0.ɵɵelementStart(14, \"ng-select\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function CommunityUsersComponent_Template_ng_select_ngModelChange_14_listener($event) {\n          return ctx.selectedMicroSite = $event;\n        })(\"change\", function CommunityUsersComponent_Template_ng_select_change_14_listener() {\n          return ctx.getCount();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 13);\n        i0.ɵɵelementStart(16, \"div\", 5);\n        i0.ɵɵelementStart(17, \"div\", 14);\n        i0.ɵɵelementStart(18, \"table\", 15);\n        i0.ɵɵelementStart(19, \"thead\");\n        i0.ɵɵelementStart(20, \"tr\");\n        i0.ɵɵelementStart(21, \"th\");\n        i0.ɵɵtext(22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"th\");\n        i0.ɵɵtext(24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"th\", 16);\n        i0.ɵɵtext(26);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"th\");\n        i0.ɵɵtext(28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"th\");\n        i0.ɵɵtext(30);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"th\", 17);\n        i0.ɵɵtext(32);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"tbody\");\n        i0.ɵɵtemplate(34, CommunityUsersComponent_tr_34_Template, 19, 7, \"tr\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(35, CommunityUsersComponent_ng_template_35_Template, 75, 12, \"ng-template\", null, 19, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(37, CommunityUsersComponent_ng_template_37_Template, 26, 9, \"ng-template\", null, 20, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(39, CommunityUsersComponent_ng_template_39_Template, 17, 4, \"ng-template\", null, 21, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorInfo);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.deleteSuccess);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loader || ctx.bspDataLoader);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"disabled\", ctx.disabledAddUser || ctx.microSiteList.length <= 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\"\", ctx.language[\"addUsers\"], \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.language[\"Search\"]);\n        i0.ɵɵproperty(\"ngModel\", ctx.filter);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"items\", ctx.microSiteList)(\"ngModel\", ctx.selectedMicroSite);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"dtOptions\", ctx.dtOptions)(\"dtTrigger\", ctx.dtTrigger);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.language[\"First_Name\"]);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.language[\"Last_Name\"]);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.language[\"Email\"]);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.language[\"BSP Subscriber\"]);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.language[\"Community Access\"]);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.language[\"Action\"]);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.communitySubscriberList);\n      }\n    },\n    directives: [i9.NgIf, i10.DefaultValueAccessor, i10.NgControlStatus, i10.NgModel, i11.NgSelectComponent, i12.DataTableDirective, i9.NgForOf],\n    styles: [\".community-users-list[_ngcontent-%COMP%]{width:100%}.community-users-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.community-users-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #CCCCCC}.community-users-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-size:16px;line-height:20px;color:#1a1f22;padding-bottom:7px}.community-users-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;font-size:15px;line-height:24px;padding:7px 0}.community-users-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6){margin-right:30px}.community-users-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f8f8fa}.dropdown-toggle[_ngcontent-%COMP%]:after{content:\\\"\\\";border:0px!important}.dropdown-menu.show[_ngcontent-%COMP%]{position:absolute;transform:translate(-6px,24px);top:0px;left:-95px!important;will-change:transform}.usoc-upload-button[_ngcontent-%COMP%]{position:relative}.usoc-upload-button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;z-index:1;left:0;top:0;width:100%;height:100%;opacity:0}.usoc-upload-button[_ngcontent-%COMP%]:focus{outline:none!important}  .add-user-modal .modal-content{background:#fff}  .add-user-modal .modal-dialog{max-width:45.73%!important}  .edit-user-modal .modal-content{background:#fff}  .edit-user-modal .modal-dialog{max-width:45.73%!important}.user-warning-meg[_ngcontent-%COMP%]{background-color:#fff5f5;padding:12px 24px;border-radius:12px;margin-bottom:24px;align-items:center}.user-warning-img[_ngcontent-%COMP%]{width:6%;margin-right:16px}.user-warning-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.user-warning-content[_ngcontent-%COMP%]{width:94%}  .delete-user-modal .modal-content{background:#FFF9F5}  .delete-user-modal .modal-dialog{max-width:35%!important}.edit-warning-info[_ngcontent-%COMP%]{background:#FFF8F5;border-radius:24px;padding:20px 24px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer!important}.no-drop[_ngcontent-%COMP%]{cursor:no-drop}.modal-content[_ngcontent-%COMP%]{position:relative}.wh-26[_ngcontent-%COMP%]{width:30px;height:30px}.err-img[_ngcontent-%COMP%]{height:48px;width:48px}.email-with[_ngcontent-%COMP%]{min-width:180px;min-width:200px;word-break:break-all}.close-btn[_ngcontent-%COMP%]{top:2px!important;right:0px!important}.list-style-disc[_ngcontent-%COMP%]{list-style-type:disc!important}\"]\n  });\n  return CommunityUsersComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}