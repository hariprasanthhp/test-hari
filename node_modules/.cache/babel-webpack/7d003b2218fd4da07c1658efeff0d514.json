{"ast":null,"code":"import { getBusinessObject, is } from 'bpmn-js/lib/util/ModelUtil';\n\n/**\n * Fix bpmn:Process#isExecutable to always be set to either\n * true or false after edit.\n *\n * This is an initializer that may be passed to a modules\n * __init__ block.\n *\n * @param {EventBus} eventBus\n */\nexport default function fixIsExecutable(eventBus) {\n  function fixIfProcess(element) {\n    // exclude labels\n    if (element.labelTarget) {\n      return;\n    }\n    var bo = getBusinessObject(element);\n    if (is(bo, 'bpmn:Participant')) {\n      bo = bo.processRef;\n    }\n    if (is(bo, 'bpmn:Process')) {\n      bo.isExecutable = !!bo.isExecutable;\n    }\n  }\n  eventBus.on(['shape.added', 'root.added'], function (event) {\n    fixIfProcess(event.element);\n  });\n  eventBus.on('elements.changed', function (event) {\n    var elements = event.elements;\n    elements.forEach(function (element) {\n      fixIfProcess(element);\n    });\n  });\n}\nfixIsExecutable.$inject = ['eventBus'];","map":null,"metadata":{},"sourceType":"module"}