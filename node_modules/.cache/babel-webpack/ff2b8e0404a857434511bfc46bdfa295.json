{"ast":null,"code":"// import { OrganizationApiService } from '../services/organization-api.service';\nimport { DataTableDirective } from 'angular-datatables';\n// import { AuthService } from '../../shared/services/auth.service';\nimport { combineLatest, Subject, of } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../services/common.service\";\nimport * as i3 from \"../../shared/services/custom-translate.service\";\nimport * as i4 from \"../services/add-role.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"src/app/shared/services/sso-auth.service\";\nimport * as i7 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i8 from \"@angular/platform-browser\";\nimport * as i9 from \"src/app/shared/services/common-functions.service\";\nimport * as i10 from \"@angular/forms\";\nimport * as i11 from \"../../shared/directives/trim-space.directive\";\nimport * as i12 from \"@ng-select/ng-select\";\nimport * as i13 from \"angular-datatables\";\nconst _c0 = [\"deleteModal\"];\nconst _c1 = [\"multiDeleteModal\"];\nfunction AddRoleComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵelementStart(1, \"div\", 49);\n    i0.ɵɵelementStart(2, \"div\", 50);\n    i0.ɵɵelementStart(3, \"span\", 51);\n    i0.ɵɵtext(4, \"Loading...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRoleComponent_div_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 52);\n    i0.ɵɵelementStart(1, \"span\", 53);\n    i0.ɵɵelement(2, \"img\", 54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_div_2_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return ctx_r13.closeAlert();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 56);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r6.errorInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction AddRoleComponent_div_0_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵelementStart(1, \"span\", 58);\n    i0.ɵɵelement(2, \"img\", 59);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_div_3_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return ctx_r15.closeAlert();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 56);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r7.successInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction AddRoleComponent_div_0_div_32_div_10_i_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 73);\n  }\n}\nfunction AddRoleComponent_div_0_div_32_div_10_i_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 74);\n  }\n}\nfunction AddRoleComponent_div_0_div_32_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"a\", 70);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_div_32_div_10_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const item_r17 = i0.ɵɵnextContext().$implicit;\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return ctx_r23.expandCollapse(item_r17._id);\n    });\n    i0.ɵɵtemplate(2, AddRoleComponent_div_0_div_32_div_10_i_2_Template, 1, 0, \"i\", 71);\n    i0.ɵɵtemplate(3, AddRoleComponent_div_0_div_32_div_10_i_3_Template, 1, 0, \"i\", 72);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r17 = i0.ɵɵnextContext().$implicit;\n    const ctx_r18 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"id\", \"collapse-btn-\" + item_r17.displayName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r18.isExpanded[item_r17._id]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r18.isExpanded[item_r17._id]);\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    oneLevelDisable: a0\n  };\n};\nconst _c3 = function (a0) {\n  return {\n    noWriteApi: a0\n  };\n};\nfunction AddRoleComponent_div_0_div_32_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"label\", 75);\n    i0.ɵɵelementStart(3, \"input\", 76);\n    i0.ɵɵlistener(\"change\", function AddRoleComponent_div_0_div_32_span_12_Template_input_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r29);\n      const item_r17 = i0.ɵɵnextContext().$implicit;\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return ctx_r27.levelOneAction(item_r17, $event.target.checked);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"span\", 77);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 78);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r17 = i0.ɵɵnextContext().$implicit;\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r19.language.readOnly, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMapInterpolate1(\"\", item_r17._id, \"_action firstLevel\");\n    i0.ɵɵpropertyInterpolate(\"id\", item_r17._id + \"_action\");\n    i0.ɵɵpropertyInterpolate(\"name\", item_r17.name);\n    i0.ɵɵproperty(\"checked\", item_r17.readWrite)(\"ngClass\", i0.ɵɵpureFunction1(12, _c2, item_r17 == null ? null : item_r17.isSubscriber))(\"disabled\", item_r17.disableScope || !item_r17.checked || (item_r17 == null ? null : item_r17.isSubscriber));\n    i0.ɵɵattribute(\"noWriteApi\", item_r17 == null ? null : item_r17.disableScope);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(14, _c3, item_r17.disableScope));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r19.language.writeAndRead);\n  }\n}\nfunction AddRoleComponent_div_0_div_32_div_13_div_1_div_10_i_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 84);\n  }\n}\nfunction AddRoleComponent_div_0_div_32_div_13_div_1_div_10_i_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 74);\n  }\n}\nfunction AddRoleComponent_div_0_div_32_div_13_div_1_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"a\", 70);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_div_32_div_13_div_1_div_10_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const menu_r32 = i0.ɵɵnextContext().$implicit;\n      const ctx_r37 = i0.ɵɵnextContext(4);\n      return ctx_r37.expandCollapse(menu_r32._id);\n    });\n    i0.ɵɵtemplate(2, AddRoleComponent_div_0_div_32_div_13_div_1_div_10_i_2_Template, 1, 0, \"i\", 83);\n    i0.ɵɵtemplate(3, AddRoleComponent_div_0_div_32_div_13_div_1_div_10_i_3_Template, 1, 0, \"i\", 72);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const menu_r32 = i0.ɵɵnextContext().$implicit;\n    const ctx_r33 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"id\", \"collapse-btn-\" + menu_r32.displayName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r33.isExpanded[menu_r32._id]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r33.isExpanded[menu_r32._id]);\n  }\n}\nfunction AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_div_10_i_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 84);\n  }\n}\nfunction AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_div_10_i_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 74);\n  }\n}\nfunction AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"a\", 70);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_div_10_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r49);\n      const secondSubMenu_r42 = i0.ɵɵnextContext().$implicit;\n      const ctx_r47 = i0.ɵɵnextContext(6);\n      return ctx_r47.expandCollapse(secondSubMenu_r42._id);\n    });\n    i0.ɵɵtemplate(2, AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_div_10_i_2_Template, 1, 0, \"i\", 83);\n    i0.ɵɵtemplate(3, AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_div_10_i_3_Template, 1, 0, \"i\", 72);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const secondSubMenu_r42 = i0.ɵɵnextContext().$implicit;\n    const ctx_r43 = i0.ɵɵnextContext(6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"id\", \"collapse-btn-\" + secondSubMenu_r42.displayName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r43.isExpanded[secondSubMenu_r42._id]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r43.isExpanded[secondSubMenu_r42._id]);\n  }\n}\nfunction AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_div_18_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r54 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 36);\n    i0.ɵɵelementStart(2, \"div\", 61);\n    i0.ɵɵelementStart(3, \"div\", 86);\n    i0.ɵɵelementStart(4, \"div\");\n    i0.ɵɵelementStart(5, \"input\", 64);\n    i0.ɵɵlistener(\"change\", function AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_div_18_div_1_Template_input_change_5_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r54);\n      const thirdSubMenu_r52 = restoredCtx.$implicit;\n      const secondSubMenu_r42 = i0.ɵɵnextContext(2).$implicit;\n      const menu_r32 = i0.ɵɵnextContext(2).$implicit;\n      const item_r17 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r53 = i0.ɵɵnextContext(2);\n      return ctx_r53.levelFourChange(thirdSubMenu_r52, $event.target.checked, secondSubMenu_r42._id, menu_r32._id, item_r17._id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 81);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementStart(9, \"label\", 75);\n    i0.ɵɵelementStart(10, \"input\", 82);\n    i0.ɵɵlistener(\"change\", function AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_div_18_div_1_Template_input_change_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r54);\n      const thirdSubMenu_r52 = restoredCtx.$implicit;\n      const secondSubMenu_r42 = i0.ɵɵnextContext(2).$implicit;\n      const menu_r32 = i0.ɵɵnextContext(2).$implicit;\n      const item_r17 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r58 = i0.ɵɵnextContext(2);\n      return ctx_r58.levelFourAction(thirdSubMenu_r52._id, secondSubMenu_r42._id, menu_r32._id, item_r17._id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"span\", 77);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\", 78);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const thirdSubMenu_r52 = ctx.$implicit;\n    const secondSubMenu_r42 = i0.ɵɵnextContext(2).$implicit;\n    const menu_r32 = i0.ɵɵnextContext(2).$implicit;\n    const item_r17 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r51 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassMapInterpolate4(\"\", item_r17._id, \" \", menu_r32._id, \" \", secondSubMenu_r42._id, \" \", thirdSubMenu_r52._id, \"\");\n    i0.ɵɵpropertyInterpolate(\"id\", thirdSubMenu_r52._id);\n    i0.ɵɵpropertyInterpolate(\"value\", thirdSubMenu_r52.name);\n    i0.ɵɵproperty(\"checked\", thirdSubMenu_r52.checked);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r51.scopeDisplayName[thirdSubMenu_r52.displayName] || ctx_r51.language[thirdSubMenu_r52.displayName] || thirdSubMenu_r52.displayName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r51.language.readOnly, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMapInterpolate4(\"\", item_r17._id, \"_action \", menu_r32._id, \"_action \", secondSubMenu_r42._id, \"_action \", thirdSubMenu_r52._id, \"_action\");\n    i0.ɵɵpropertyInterpolate(\"id\", thirdSubMenu_r52._id + \"_action\");\n    i0.ɵɵpropertyInterpolate(\"name\", thirdSubMenu_r52.name);\n    i0.ɵɵproperty(\"checked\", thirdSubMenu_r52.readWrite)(\"disabled\", thirdSubMenu_r52.disableScope || !thirdSubMenu_r52.checked);\n    i0.ɵɵattribute(\"noWriteApi\", thirdSubMenu_r52 == null ? null : thirdSubMenu_r52.disableScope);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(24, _c3, thirdSubMenu_r52.disableScope));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r51.language.writeAndRead);\n  }\n}\nfunction AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 79);\n    i0.ɵɵtemplate(1, AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_div_18_div_1_Template, 14, 26, \"div\", 43);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const secondSubMenu_r42 = i0.ɵɵnextContext().$implicit;\n    const ctx_r44 = i0.ɵɵnextContext(6);\n    i0.ɵɵproperty(\"ngClass\", ctx_r44.isExpanded[secondSubMenu_r42._id] ? \"d-block\" : \"d-none\");\n    i0.ɵɵattribute(\"id\", \"collapse-\" + secondSubMenu_r42.displayName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", secondSubMenu_r42.permissions3);\n  }\n}\nfunction AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r67 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 36);\n    i0.ɵɵelementStart(2, \"div\", 61);\n    i0.ɵɵelementStart(3, \"div\", 85);\n    i0.ɵɵelementStart(4, \"div\", 63);\n    i0.ɵɵelementStart(5, \"input\", 64);\n    i0.ɵɵlistener(\"change\", function AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_Template_input_change_5_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r67);\n      const secondSubMenu_r42 = restoredCtx.$implicit;\n      const menu_r32 = i0.ɵɵnextContext(2).$implicit;\n      const item_r17 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r66 = i0.ɵɵnextContext(2);\n      return ctx_r66.levelThreeChange(secondSubMenu_r42, $event.target.checked, menu_r32._id, item_r17._id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 65);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_Template_span_click_6_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r67);\n      const secondSubMenu_r42 = restoredCtx.$implicit;\n      const ctx_r70 = i0.ɵɵnextContext(6);\n      return ctx_r70.showCheckBox($event, secondSubMenu_r42);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 66);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"span\", 67);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_div_10_Template, 4, 3, \"div\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 81);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementStart(13, \"label\", 75);\n    i0.ɵɵelementStart(14, \"input\", 82);\n    i0.ɵɵlistener(\"change\", function AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_Template_input_change_14_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r67);\n      const secondSubMenu_r42 = restoredCtx.$implicit;\n      const menu_r32 = i0.ɵɵnextContext(2).$implicit;\n      const item_r17 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r71 = i0.ɵɵnextContext(2);\n      return ctx_r71.levelThreeAction(secondSubMenu_r42, $event.target.checked, menu_r32._id, item_r17._id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"span\", 77);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"span\", 78);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_div_18_Template, 2, 3, \"div\", 69);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const secondSubMenu_r42 = ctx.$implicit;\n    const menu_r32 = i0.ɵɵnextContext(2).$implicit;\n    const item_r17 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r41 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassMapInterpolate3(\"\", item_r17._id, \" \", menu_r32._id, \" \", secondSubMenu_r42._id, \"\");\n    i0.ɵɵpropertyInterpolate1(\"id\", \"\", secondSubMenu_r42._id, \"_inner_parent\");\n    i0.ɵɵpropertyInterpolate(\"value\", secondSubMenu_r42.name);\n    i0.ɵɵproperty(\"checked\", secondSubMenu_r42.checked);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"\", secondSubMenu_r42._id, \"_inner_parent_span\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r41.scopeDisplayName[secondSubMenu_r42.displayName] || ctx_r41.language[secondSubMenu_r42.displayName] || secondSubMenu_r42.displayName, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"\", secondSubMenu_r42._id, \"_info\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", secondSubMenu_r42.permissions3.length);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r41.language.readOnly, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMapInterpolate3(\"\", item_r17._id, \"_action \", menu_r32._id, \"_action \", secondSubMenu_r42._id, \"_action\");\n    i0.ɵɵpropertyInterpolate(\"id\", secondSubMenu_r42._id + \"_action\");\n    i0.ɵɵpropertyInterpolate(\"name\", secondSubMenu_r42.name);\n    i0.ɵɵproperty(\"checked\", secondSubMenu_r42.readWrite)(\"disabled\", secondSubMenu_r42.disableScope || !secondSubMenu_r42.checked);\n    i0.ɵɵattribute(\"noWriteApi\", secondSubMenu_r42 == null ? null : secondSubMenu_r42.disableScope);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(26, _c3, secondSubMenu_r42.disableScope));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r41.language.writeAndRead);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", secondSubMenu_r42.permissions3.length);\n  }\n}\nfunction AddRoleComponent_div_0_div_32_div_13_div_1_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 79);\n    i0.ɵɵtemplate(1, AddRoleComponent_div_0_div_32_div_13_div_1_div_18_div_1_Template, 19, 28, \"div\", 43);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const menu_r32 = i0.ɵɵnextContext().$implicit;\n    const ctx_r34 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"ngClass\", ctx_r34.isExpanded[menu_r32._id] ? \"d-block\" : \"d-none\");\n    i0.ɵɵattribute(\"id\", \"collapse-\" + menu_r32.displayName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", menu_r32.permissions2);\n  }\n}\nfunction AddRoleComponent_div_0_div_32_div_13_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r78 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 36);\n    i0.ɵɵelementStart(2, \"div\", 61);\n    i0.ɵɵelementStart(3, \"div\", 80);\n    i0.ɵɵelementStart(4, \"div\", 63);\n    i0.ɵɵelementStart(5, \"input\", 64);\n    i0.ɵɵlistener(\"change\", function AddRoleComponent_div_0_div_32_div_13_div_1_Template_input_change_5_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r78);\n      const menu_r32 = restoredCtx.$implicit;\n      const item_r17 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r77 = i0.ɵɵnextContext(2);\n      return ctx_r77.levelTwoChange(menu_r32, $event.target.checked, item_r17._id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 65);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_div_32_div_13_div_1_Template_span_click_6_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r78);\n      const menu_r32 = restoredCtx.$implicit;\n      const ctx_r80 = i0.ɵɵnextContext(4);\n      return ctx_r80.showCheckBox($event, menu_r32);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 66);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"span\", 67);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, AddRoleComponent_div_0_div_32_div_13_div_1_div_10_Template, 4, 3, \"div\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 81);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementStart(13, \"label\", 75);\n    i0.ɵɵelementStart(14, \"input\", 82);\n    i0.ɵɵlistener(\"change\", function AddRoleComponent_div_0_div_32_div_13_div_1_Template_input_change_14_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r78);\n      const menu_r32 = restoredCtx.$implicit;\n      const item_r17 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r81 = i0.ɵɵnextContext(2);\n      return ctx_r81.levelTwoAction(menu_r32, $event.target.checked, item_r17._id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"span\", 77);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"span\", 78);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, AddRoleComponent_div_0_div_32_div_13_div_1_div_18_Template, 2, 3, \"div\", 69);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const menu_r32 = ctx.$implicit;\n    const item_r17 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r31 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassMap(item_r17._id);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"\", menu_r32._id, \"_parent\");\n    i0.ɵɵpropertyInterpolate(\"value\", menu_r32.name);\n    i0.ɵɵproperty(\"checked\", menu_r32.checked);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"\", menu_r32._id, \"_parent_span\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r31.scopeDisplayName[menu_r32.displayName] || ctx_r31.language[menu_r32.displayName] || menu_r32.displayName, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"\", menu_r32._id, \"_info\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", menu_r32.permissions2.length);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r31.language.readOnly, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMapInterpolate1(\"\", item_r17._id, \"_action\");\n    i0.ɵɵpropertyInterpolate(\"id\", menu_r32._id + \"_action\");\n    i0.ɵɵpropertyInterpolate(\"name\", menu_r32.name);\n    i0.ɵɵproperty(\"checked\", menu_r32.readWrite)(\"disabled\", menu_r32.disableScope || !menu_r32.checked);\n    i0.ɵɵattribute(\"noWriteApi\", menu_r32 == null ? null : menu_r32.disableScope);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(22, _c3, menu_r32.disableScope || menu_r32.name === \"cloud.rbac.csc.calloutcome.enforce\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r31.language.writeAndRead);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", menu_r32.permissions2.length);\n  }\n}\nfunction AddRoleComponent_div_0_div_32_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 79);\n    i0.ɵɵtemplate(1, AddRoleComponent_div_0_div_32_div_13_div_1_Template, 19, 24, \"div\", 43);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r17 = i0.ɵɵnextContext().$implicit;\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r20.isExpanded[item_r17._id] ? \"d-block\" : \"d-none\");\n    i0.ɵɵattribute(\"id\", \"collapse-\" + item_r17.displayName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", item_r17.permissions);\n  }\n}\nconst _c4 = function (a0) {\n  return {\n    \"emptyRowSwitch\": a0\n  };\n};\nfunction AddRoleComponent_div_0_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r86 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 60);\n    i0.ɵɵelementStart(1, \"div\", 36);\n    i0.ɵɵelementStart(2, \"div\", 61);\n    i0.ɵɵelementStart(3, \"div\", 62);\n    i0.ɵɵelementStart(4, \"div\", 63);\n    i0.ɵɵelementStart(5, \"input\", 64);\n    i0.ɵɵlistener(\"change\", function AddRoleComponent_div_0_div_32_Template_input_change_5_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r86);\n      const item_r17 = restoredCtx.$implicit;\n      const ctx_r85 = i0.ɵɵnextContext(2);\n      return ctx_r85.levelOneChange(item_r17._id, $event.target.checked, item_r17);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 65);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_div_32_Template_span_click_6_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r86);\n      const item_r17 = restoredCtx.$implicit;\n      const ctx_r87 = i0.ɵɵnextContext(2);\n      return ctx_r87.showCheckBox($event, item_r17);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 66);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"span\", 67);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, AddRoleComponent_div_0_div_32_div_10_Template, 4, 3, \"div\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 68);\n    i0.ɵɵtemplate(12, AddRoleComponent_div_0_div_32_span_12_Template, 7, 16, \"span\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, AddRoleComponent_div_0_div_32_div_13_Template, 2, 3, \"div\", 69);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r17 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"\", item_r17._id, \"_parent\");\n    i0.ɵɵpropertyInterpolate(\"value\", item_r17.name);\n    i0.ɵɵproperty(\"checked\", item_r17.checked);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"\", item_r17._id, \"_parent_span\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.scopeDisplayName[item_r17.displayName] || ctx_r8.language[item_r17.displayName] || item_r17.displayName, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"\", item_r17._id, \"_info\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r17.permissions.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c4, item_r17 == null ? null : item_r17.isSubscriber));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !(item_r17 == null ? null : item_r17.isSubscriber));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r17.permissions.length);\n  }\n}\nfunction AddRoleComponent_div_0_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r89 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 87);\n    i0.ɵɵelementStart(1, \"span\", 53);\n    i0.ɵɵelement(2, \"img\", 54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_div_36_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r89);\n      const ctx_r88 = i0.ɵɵnextContext(2);\n      return ctx_r88.closeAlertWarning();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 56);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r9.warningInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction AddRoleComponent_div_0_button_48_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r91 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 88);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_button_48_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r91);\n      const ctx_r90 = i0.ɵɵnextContext(2);\n      return ctx_r90.deleteMultiUsers();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.language.delete, \" \");\n  }\n}\nfunction AddRoleComponent_div_0_tr_62_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r94 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 89);\n    i0.ɵɵelementStart(2, \"input\", 90);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_tr_62_Template_input_click_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r94);\n      const item_r92 = restoredCtx.$implicit;\n      const ctx_r93 = i0.ɵɵnextContext(2);\n      return ctx_r93.deleteUserCheckOne(item_r92, $event.target.checked);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 91);\n    i0.ɵɵelementStart(6, \"i\", 92);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_tr_62_Template_i_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r94);\n      const item_r92 = restoredCtx.$implicit;\n      const ctx_r95 = i0.ɵɵnextContext(2);\n      return ctx_r95.deleteUser(item_r92);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r92 = ctx.$implicit;\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"id\", item_r92._id);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"user_del_\", item_r92._id, \"\");\n    i0.ɵɵpropertyInterpolate(\"value\", item_r92._id);\n    i0.ɵɵproperty(\"checked\", ctx_r11.usersDelSelectedChecked);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r92.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"title\", ctx_r11.language.delete);\n  }\n}\nfunction AddRoleComponent_div_0_tbody_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵelementStart(2, \"td\", 93);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r12.language[\"No data available in table\"]);\n  }\n}\nconst _c5 = function () {\n  return {\n    standalone: true\n  };\n};\nfunction AddRoleComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r97 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtemplate(1, AddRoleComponent_div_0_div_1_Template, 5, 0, \"div\", 4);\n    i0.ɵɵtemplate(2, AddRoleComponent_div_0_div_2_Template, 6, 1, \"div\", 5);\n    i0.ɵɵtemplate(3, AddRoleComponent_div_0_div_3_Template, 6, 1, \"div\", 6);\n    i0.ɵɵelementStart(4, \"div\", 7);\n    i0.ɵɵelementStart(5, \"div\", 8);\n    i0.ɵɵelementStart(6, \"div\", 9);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 10);\n    i0.ɵɵelementStart(9, \"div\", 11);\n    i0.ɵɵelementStart(10, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_Template_a_click_10_listener() {\n      i0.ɵɵrestoreView(_r97);\n      const ctx_r96 = i0.ɵɵnextContext();\n      return ctx_r96.goBack();\n    });\n    i0.ɵɵelement(11, \"i\", 13);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 14);\n    i0.ɵɵelementStart(14, \"div\", 8);\n    i0.ɵɵelementStart(15, \"div\", 15);\n    i0.ɵɵelementStart(16, \"label\", 16);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementStart(18, \"span\", 17);\n    i0.ɵɵtext(19, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"input\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function AddRoleComponent_div_0_Template_input_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r97);\n      const ctx_r98 = i0.ɵɵnextContext();\n      return ctx_r98.roleName = $event;\n    })(\"blur\", function AddRoleComponent_div_0_Template_input_blur_20_listener() {\n      i0.ɵɵrestoreView(_r97);\n      const ctx_r99 = i0.ɵɵnextContext();\n      return ctx_r99.removeUnwantedSpace(\"roleName\", ctx_r99.roleName);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 19);\n    i0.ɵɵelementStart(22, \"div\", 15);\n    i0.ɵɵelementStart(23, \"label\", 20);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function AddRoleComponent_div_0_Template_input_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r97);\n      const ctx_r100 = i0.ɵɵnextContext();\n      return ctx_r100.roleDescription = $event;\n    })(\"blur\", function AddRoleComponent_div_0_Template_input_blur_25_listener() {\n      i0.ɵɵrestoreView(_r97);\n      const ctx_r101 = i0.ɵɵnextContext();\n      return ctx_r101.removeUnwantedSpace(\"roleDescription\", ctx_r101.roleDescription);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 14);\n    i0.ɵɵelementStart(27, \"div\", 22);\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"div\", 14);\n    i0.ɵɵelementStart(30, \"div\", 23);\n    i0.ɵɵelementStart(31, \"form\", 24);\n    i0.ɵɵtemplate(32, AddRoleComponent_div_0_div_32_Template, 14, 12, \"div\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"div\", 14);\n    i0.ɵɵelementStart(34, \"div\", 22);\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(36, AddRoleComponent_div_0_div_36_Template, 6, 1, \"div\", 26);\n    i0.ɵɵelementStart(37, \"div\", 14);\n    i0.ɵɵelementStart(38, \"div\", 27);\n    i0.ɵɵelementStart(39, \"form\");\n    i0.ɵɵelementStart(40, \"div\", 28);\n    i0.ɵɵelementStart(41, \"ng-select\", 29);\n    i0.ɵɵlistener(\"ngModelChange\", function AddRoleComponent_div_0_Template_ng_select_ngModelChange_41_listener($event) {\n      i0.ɵɵrestoreView(_r97);\n      const ctx_r102 = i0.ɵɵnextContext();\n      return ctx_r102.selectedUsers = $event;\n    })(\"ngModelChange\", function AddRoleComponent_div_0_Template_ng_select_ngModelChange_41_listener($event) {\n      i0.ɵɵrestoreView(_r97);\n      const ctx_r103 = i0.ɵɵnextContext();\n      return ctx_r103.selectSocialMedia($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"div\", 30);\n    i0.ɵɵelementStart(43, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_Template_button_click_43_listener() {\n      i0.ɵɵrestoreView(_r97);\n      const ctx_r104 = i0.ɵɵnextContext();\n      return ctx_r104.addUser();\n    });\n    i0.ɵɵtext(44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"div\", 32);\n    i0.ɵɵelementStart(46, \"div\", 33);\n    i0.ɵɵelementStart(47, \"div\", 34);\n    i0.ɵɵtemplate(48, AddRoleComponent_div_0_button_48_Template, 2, 1, \"button\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"div\", 36);\n    i0.ɵɵelementStart(50, \"div\", 37);\n    i0.ɵɵelementStart(51, \"table\", 38);\n    i0.ɵɵelementStart(52, \"thead\", 39);\n    i0.ɵɵelementStart(53, \"tr\");\n    i0.ɵɵelementStart(54, \"th\", 40);\n    i0.ɵɵelementStart(55, \"input\", 41);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_Template_input_click_55_listener($event) {\n      i0.ɵɵrestoreView(_r97);\n      const ctx_r105 = i0.ɵɵnextContext();\n      return ctx_r105.deleteUserCheckAll($event.target.checked);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"span\", 42);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_Template_span_click_56_listener($event) {\n      i0.ɵɵrestoreView(_r97);\n      const ctx_r106 = i0.ɵɵnextContext();\n      return ctx_r106.showAllUserCheckBox($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(57, \"th\");\n    i0.ɵɵtext(58);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"th\");\n    i0.ɵɵtext(60);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(61, \"tbody\");\n    i0.ɵɵtemplate(62, AddRoleComponent_div_0_tr_62_Template, 7, 6, \"tr\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(63, AddRoleComponent_div_0_tbody_63_Template, 4, 1, \"tbody\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(64, \"div\", 36);\n    i0.ɵɵelementStart(65, \"div\", 45);\n    i0.ɵɵelementStart(66, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_Template_button_click_66_listener() {\n      i0.ɵɵrestoreView(_r97);\n      const ctx_r107 = i0.ɵɵnextContext();\n      return ctx_r107.addRole();\n    });\n    i0.ɵɵtext(67);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(68, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_div_0_Template_button_click_68_listener() {\n      i0.ɵɵrestoreView(_r97);\n      const ctx_r108 = i0.ɵɵnextContext();\n      return ctx_r108.goBack();\n    });\n    i0.ɵɵtext(69);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.loader);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.error);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.success);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.pageTitle);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.language[\"Back to Roles List\"], \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.language.roleName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", ctx_r0.language[\"Enter role name\"]);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.roleName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.language.Description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", ctx_r0.language.Description);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.roleDescription);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.language.permissions);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.allPermissions);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.language.addUsers);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.warning);\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", ctx_r0.language.selectUser);\n    i0.ɵɵpropertyInterpolate(\"notFoundText\", ctx_r0.language.noItemsFound);\n    i0.ɵɵproperty(\"items\", ctx_r0.usersList)(\"ngModel\", ctx_r0.selectedUsers)(\"clearable\", false)(\"ngModelOptions\", i0.ɵɵpureFunction0(35, _c5));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.language.add, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.usersDelSelected.length != 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !ctx_r0.dataAvailable);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dtOptions\", ctx_r0.tableOptions)(\"dtTrigger\", ctx_r0.dtTrigger);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"checked\", ctx_r0.usersDelSelectedChecked)(\"disabled\", (ctx_r0.addedUsersList == null ? null : ctx_r0.addedUsersList.length) == 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.language.userName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.language.Action);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.addedUsersList);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.addedUsersList == null ? null : ctx_r0.addedUsersList.length) == 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.loader);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.language.saveEnregistrer, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.language.Cancel, \" \");\n  }\n}\nfunction AddRoleComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r112 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 94);\n    i0.ɵɵelementStart(1, \"h4\", 95);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 96);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_ng_template_1_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r112);\n      const ctx_r111 = i0.ɵɵnextContext();\n      return ctx_r111.closeModal();\n    });\n    i0.ɵɵelement(4, \"span\", 97);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 98);\n    i0.ɵɵtext(6);\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 99);\n    i0.ɵɵelementStart(10, \"button\", 100);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_ng_template_1_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r112);\n      const ctx_r113 = i0.ɵɵnextContext();\n      return ctx_r113.confirmDeleteSecleted();\n    });\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 101);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_ng_template_1_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r112);\n      const ctx_r114 = i0.ɵɵnextContext();\n      return ctx_r114.closeModal();\n    });\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.modalTitle);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.language[\"Are you sure you want to delete this Role\"], \"?\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" (\", ctx_r2.modalInfo, \") \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.language.yes, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.language.no, \" \");\n  }\n}\nfunction AddRoleComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r118 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 94);\n    i0.ɵɵelementStart(1, \"h4\", 95);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 96);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_ng_template_3_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r118);\n      const ctx_r117 = i0.ɵɵnextContext();\n      return ctx_r117.closeModal();\n    });\n    i0.ɵɵelement(4, \"span\", 97);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 98);\n    i0.ɵɵtext(6);\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 99);\n    i0.ɵɵelementStart(10, \"button\", 100);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_ng_template_3_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r118);\n      const ctx_r119 = i0.ɵɵnextContext();\n      return ctx_r119.confirmMultiDeleteSecleted();\n    });\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 101);\n    i0.ɵɵlistener(\"click\", function AddRoleComponent_ng_template_3_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r118);\n      const ctx_r120 = i0.ɵɵnextContext();\n      return ctx_r120.closeModal();\n    });\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.modalTitle);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.language[\"Are you sure you want to delete these selected Roles\"], \"?\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" (\", ctx_r4.modalInfo, \") \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.language.yes, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.language.no, \" \");\n  }\n}\nconst $ = require('jquery');\nexport let AddRoleComponent = /*#__PURE__*/(() => {\n  class AddRoleComponent {\n    constructor(location,\n    //private commonFunctionAllService: CommonFunctionAllService,\n    commonOrgService, customTranslateService,\n    // private organizationApiService: OrganizationApiService,\n    addRoleService, router, sso, dialogService, titleService, CommonFunctionsService) {\n      this.location = location;\n      this.commonOrgService = commonOrgService;\n      this.customTranslateService = customTranslateService;\n      this.addRoleService = addRoleService;\n      this.router = router;\n      this.sso = sso;\n      this.dialogService = dialogService;\n      this.titleService = titleService;\n      this.CommonFunctionsService = CommonFunctionsService;\n      this.isExpanded = {};\n      this.pageAvailable = false;\n      this.rolesAddForm = 'supportCloud';\n      this.usersList = []; // All users\n      this.usersFiltered = []; // Users list except added \n      this.addedUsersList = []; // Added users list\n      this.existingUserError = false;\n      this.usersDelSelected = [];\n      this.usersDelSelectedChecked = false;\n      this.loader = true;\n      this.tableOptions = {\n        pagingType: 'full_numbers',\n        pageLength: 5,\n        ordering: false,\n        dom: 'tipr',\n        drawCallback: settings => {\n          let total = settings.aoData.length;\n          let length = settings._iDisplayLength;\n          if (total <= length) {\n            $(settings.nTableWrapper).find(`#${settings.sTableId}_last`).addClass('disabled');\n          }\n        }\n      };\n      this.supportCloudRolesData = [];\n      this.marketingCloudRolesData = [];\n      this.smartHomeRoles = [];\n      this.systemRoles = [];\n      this.supportDataAvailable = false;\n      this.marketingDataAvailable = false;\n      this.smartDataAvailable = false;\n      this.systemDataAvailable = false;\n      this.dtTrigger = new Subject();\n      this.isRerender = false;\n      this.allPermissions = [];\n      this.errorInfo = '';\n      this.successInfo = '';\n      this.warningInfo = '';\n      this.MODULE = 'systemAdministration';\n      this.levelTwoSelected = [];\n      this.levelThreeSelected = [];\n      this.usersCount = 0;\n      this.scopesToBeDisabled = [\"cloud.rbac.csc.qoe\", \"cloud.rbac.csc.apps.arlo\", \"cloud.rbac.csc.apps.servify\", \"cloud.rbac.csc.apps.mycommunityiq\", \"cloud.rbac.csc.apps.bark\", \"cloud.rbac.csc.devices\", \"cloud.rbac.csc.topology\", \"cloud.rbac.csc.calloutcome.enforce\"];\n      this.scopeDisplayName = {\n        'WiFi': 'WiFi',\n        'XDSL': 'XDSL',\n        'Devices': 'Devices',\n        \"Subscriber Mgmt\": \"Subscriber Mgmt\"\n      }; /* CCL-37865 */\n      this.allPrmsnfrmApi = [];\n      let url = this.router.url;\n      this.ORG_ID = this.sso.getOrganizationID(url);\n      this.MODULE = this.sso.getRedirectModule(url);\n      this.language = this.customTranslateService.defualtLanguage;\n      if (this.language) {\n        this.pageAvailable = true;\n      }\n      this.translateSubscribe = this.customTranslateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n        this.pageTitleCreator();\n        this.dataAvailable = false;\n        this.isRerender = true;\n        this.titleService.setTitle(`${this.language['Add Role']} - ${this.MODULE === 'systemAdministration' ? this.language['System Administration'] : this.language['administration']} - ${this.language['Calix Cloud']}`);\n        this.renderUsersTable('language');\n      });\n      this.rolesAddForm = sessionStorage.getItem('calixAdminAddRole');\n      this.pageTitleCreator();\n      this.getDatas();\n      this.frTable = this.customTranslateService.fr;\n      this.titleService.setTitle(`${this.language['Add Role']} - ${this.MODULE === 'systemAdministration' ? this.language['System Administration'] : this.language['administration']} - ${this.language['Calix Cloud']}`);\n    }\n    onClick(el) {\n      let clsList = el.target.className;\n      let tag = el.target.localName;\n      if (clsList.indexOf('paginate_button') > -1 && clsList.indexOf('disabled') == -1 && clsList.indexOf('current') == -1 && tag == 'a') {\n        this.tablePageChange();\n      }\n    }\n    ngOnInit() {\n      this.closeAlert();\n      this.tableLanguageOptions();\n      this.commonOrgService.currentPageAdder('addRole');\n    }\n    ngOnDestroy() {\n      if (this.parallelReqSubscribtion) {\n        this.parallelReqSubscribtion.unsubscribe();\n      }\n      if (this.translateSubscribe) {\n        this.translateSubscribe.unsubscribe();\n      }\n      if (this.allPermsSubs) {\n        this.allPermsSubs.unsubscribe();\n      }\n      if (this.usersCountSubs) {\n        this.usersCountSubs.unsubscribe();\n      }\n      if (this.usersListSubs) {\n        this.usersListSubs.unsubscribe();\n      }\n      if (this.roleAddSubs) {\n        this.roleAddSubs.unsubscribe();\n      }\n    }\n    getDatas() {\n      this.getAllPermissions();\n      this.getUserList();\n    }\n    getAllPermissions() {\n      this.allPermsSubs = this.addRoleService.AllPemissionsData(this.appType).subscribe(res => {\n        this.allPrmsnfrmApi = res;\n        this.allPermissionsDataProcess(res);\n        this.loader = false;\n      }, err => {\n        this.pageErrorHandle(err);\n        this.loader = false;\n      });\n    }\n    allPermissionsDataProcess(data) {\n      if (this.rolesAddForm == 'supportCloud' || this.rolesAddForm == 'marketingCloud' || this.rolesAddForm == 'cco') {\n        this.allPermissions = this.commonOrgService.allSupportDataProcessV21(data, {});\n        if (this.rolesAddForm == 'marketingCloud') {\n          this.allPermissions = this.allPermissions.map(obj => {\n            if (obj.displayName == \"Subscriber\" || obj.displayName == \"Revenue\") obj.isSubscriber = true;\n            return obj;\n          });\n        }\n      } else {\n        this.allPermissions = this.commonOrgService.allSupportDataProcess(data, {});\n        ;\n      }\n      /* This is to disable scopes which doesn't have api to write/change anything\r\n      Fix for CCL-36870 */\n      this.allPermissions = this.disableScopeDoesntNeedWrite(this.allPermissions, 1);\n    }\n    disableScopeDoesntNeedWrite(permissions, ind) {\n      permissions.forEach(obj => {\n        const tempInd = ind == 1 ? '' : ind;\n        if (this.scopesToBeDisabled.includes(obj.name)) obj.disableScope = true;\n        if (obj.hasOwnProperty(`permissions${tempInd}`) && obj[`permissions${tempInd}`]) {\n          obj = this.disableScopeDoesntNeedWrite(obj[`permissions${tempInd}`], ind + 1);\n        }\n      });\n      return permissions;\n    }\n    getUserList() {\n      this.usersCountSubs = this.addRoleService.UsersCountByOrgId(this.ORG_ID).subscribe(res => {\n        this.usersCount = res;\n        this.usersListSubs = this.addRoleService.UsersListByOrgId(this.ORG_ID, res).subscribe(res => {\n          this.usersList = res;\n          //this.dataAvailable = true;\n          if (this.usersList.length) {\n            this.selectedUsers = this.usersList[0];\n          }\n          this.renderUsersTable();\n        }, err => {\n          this.pageErrorHandle(err);\n          this.renderUsersTable();\n        });\n      }, err => {\n        this.pageErrorHandle(err);\n        this.renderUsersTable();\n      });\n    }\n    addUser() {\n      this.warning = false;\n      let id = this.selectedUsers._id;\n      if (this.addedUsersList.filter(e => e._id === id).length > 0) {\n        this.warningInfo = `${this.selectedUsers.username} - ${this.language['User already added']}`;\n        this.warning = true;\n        return;\n      }\n      this.addedUsersList.push(this.selectedUsers);\n      //this.redraw();\n      this.isRerender = true;\n      this.renderUsersTable();\n      this.deleteUserCheckAll(false);\n      this.resetMultiDelete();\n    }\n    deleteUser(item) {\n      this.deleteItem = item;\n      this.modalTitle = this.language['Delete User'];\n      this.modalInfo = `${item.username}`;\n      this.closeModal();\n      this.modalRef = this.dialogService.open(this.deleteModal);\n    }\n    confirmDeleteSecleted() {\n      this.closeModal();\n      let item = this.deleteItem;\n      let temp = [];\n      this.addedUsersList.forEach(element => {\n        if (element._id !== item._id) {\n          temp.push(element);\n        }\n      });\n      this.usersDelSelected = this.usersDelSelected.filter(ele => ele._id !== item._id);\n      this.addedUsersList = temp;\n      this.isRerender = true;\n      this.renderUsersTable();\n      setTimeout(() => {\n        this.deleteUserCheckAll(false);\n        this.resetMultiDelete();\n      }, 200);\n    }\n    deleteUserCheckAll(isChecked) {\n      let i = 0;\n      var that = this;\n      let id;\n      if (isChecked) {\n        $('input[name^=\"user_del\"]').each(function () {\n          if (i >= 5) {\n            return false;\n          }\n          $(this).prop('checked', true);\n          id = $(this).attr('id');\n          that.addedUsersList.forEach(element => {\n            if (element._id == id && !that.usersDelSelected.includes(element)) {\n              that.usersDelSelected.push(element);\n            }\n          });\n          i++;\n        });\n      } else {\n        $('input[name^=\"user_del\"]').each(function () {\n          if (i >= 5) {\n            return false;\n          }\n          $(this).prop('checked', false);\n          that.usersDelSelected = [];\n          i++;\n        });\n      }\n    }\n    deleteUserCheckOne(data, isChecked) {\n      if (isChecked) {\n        this.usersDelSelected.push(data);\n        if (this.usersDelSelected.length == $('input[name^=\"user_del\"]').length) {\n          $('#user-all-delete').prop('checked', true);\n          $('#user-all-delete-span').hide();\n        } else {\n          $('#user-all-delete-span').show();\n        }\n      } else {\n        this.usersDelSelected = this.usersDelSelected.filter(e => {\n          return e._id != data._id;\n        });\n        if (this.usersDelSelected.length) {\n          if (this.usersDelSelected.length != $('input[name^=\"user_del\"]').length) {\n            $('#user-all-delete').prop('checked', false);\n            $('#user-all-delete-span').show();\n          } else {\n            $('#user-all-delete-span').hide();\n          }\n        } else {\n          $('#user-all-delete').prop('checked', false);\n          $('#user-all-delete-span').hide();\n        }\n      }\n    }\n    deleteMultiUsers() {\n      this.modalTitle = this.language['Delete Multiple Users'];\n      let names = [];\n      this.usersDelSelected.forEach(element => {\n        names.push(element.username);\n      });\n      this.modalInfo = names.join(', ');\n      this.closeModal();\n      this.modalRef = this.dialogService.open(this.multiDeleteModal);\n    }\n    confirmMultiDeleteSecleted() {\n      this.closeModal();\n      this.addedUsersList = this.addedUsersList.filter(({\n        _id\n      }) => !this.usersDelSelected.some(x => x._id == _id));\n      this.isRerender = true;\n      this.renderUsersTable();\n      setTimeout(() => {\n        this.deleteUserCheckAll(false);\n        this.resetMultiDelete();\n      }, 200);\n    }\n    resetMultiDelete() {\n      this.usersDelSelected = [];\n      $('#user-all-delete').prop('checked', false);\n      $('#user-all-delete-span').hide();\n    }\n    closeAlert() {\n      this.error = false;\n      this.success = false;\n    }\n    renderUsersTable(type) {\n      this.setTableOptions();\n      if (type && type == 'language') {\n        setTimeout(() => {\n          if (this.isRerender) {\n            this.rerender();\n            this.isRerender = false;\n          } else {\n            this.dtTrigger.next();\n          }\n        }, 50);\n      } else {\n        if (this.isRerender) {\n          this.rerender();\n          this.isRerender = false;\n        } else {\n          this.dtTrigger.next();\n        }\n      }\n    }\n    setTableOptions() {\n      this.tableOptions = {\n        pagingType: 'full_numbers',\n        pageLength: 5,\n        processing: true,\n        //searching: false,\n        ordering: false,\n        dom: 'tipr',\n        // paging: false,\n        drawCallback: settings => {\n          let total = settings.aoData.length;\n          let length = settings._iDisplayLength;\n          if (total <= length) {\n            $(settings.nTableWrapper).find(`#${settings.sTableId}_last`).addClass('disabled');\n          }\n        }\n      };\n      this.tableLanguageOptions();\n      this.dataAvailable = true;\n    }\n    rerender() {\n      this.dtElement.dtInstance.then(dtInstance => {\n        // Destroy the table first\n        dtInstance.destroy();\n        this.dtTrigger.next();\n      });\n    }\n    redraw() {\n      this.dtElement.dtInstance.then(dtInstance => {\n        dtInstance.draw();\n      });\n    }\n    pageTitleCreator() {\n      if (this.rolesAddForm == 'smartHome') {\n        this.pageTitle = this.language.addRoleSmartHome;\n        //this.appType = '200';\n        this.appType = 'shad';\n      } else if (this.rolesAddForm == 'marketingCloud') {\n        this.pageTitle = this.language.addRoleMarketing;\n        this.appType = '119';\n      } else if (this.rolesAddForm == 'supportCloud') {\n        this.pageTitle = this.language.addRoleSupportCloud;\n        this.appType = '118';\n      } else if (this.rolesAddForm == 'foundation') {\n        this.pageTitle = this.language.addRoleFoundation;\n        this.appType = '200';\n      } else if (this.rolesAddForm == 'cco') {\n        this.pageTitle = this.language.addRoleOperationsCloud;\n        this.appType = '102';\n      } else if (this.rolesAddForm == 'fa') {\n        this.pageTitle = this.language.addRoleFA;\n        this.appType = '102';\n      }\n    }\n    selectSocialMedia(data) {}\n    goBack() {\n      this.location.back();\n    }\n    addRole() {\n      this.closeAlert();\n      if (this.roleName == undefined || this.roleName == '' || this.roleName.length && this.roleName.trim() == '') {\n        this.commonOrgService.pageScrollTop();\n        this.errorInfo = this.language['Invalid name'];\n        this.error = true;\n        return;\n      } else {\n        let name = this.roleName.trim();\n        if (name == '' || name.length < 2) {\n          this.commonOrgService.pageScrollTop();\n          this.errorInfo = this.language['Invalid name'];\n          this.error = true;\n          return;\n        }\n      }\n      var perParams = {};\n      var fields = $('#permissionsForm').serializeArray();\n      $.each(fields, function (i, field) {\n        if (typeof perParams[field.name] != 'undefined') {\n          if (jQuery.type(perParams[field.name]) != 'array') {\n            var old = perParams[field.name];\n            perParams[field.name] = [old];\n          }\n          perParams[field.name].push(field.value);\n        } else {\n          perParams[field.name] = field.value;\n        }\n      });\n      let pd = perParams['scopeName'];\n      let pdData = [];\n      if (pd) {\n        if (typeof pd == 'string') {\n          pdData.push({\n            scopeName: pd,\n            action: perParams[pd] ? 'read,write' : 'read'\n          });\n        } else {\n          for (let i = 0; i < pd.length; i++) {\n            pdData.push({\n              scopeName: pd[i],\n              action: perParams[pd[i]] ? 'read,write' : 'read'\n            });\n          }\n        }\n      }\n      //console.log(pdData);\n      this.finalPerData = pdData;\n      //let appType = (this.appType == '200' || this.appType == '201') ? 'shad' : this.appType;\n      let appType = this.appType;\n      let params = {\n        apptype: appType,\n        name: this.roleName,\n        description: this.roleDescription ? this.roleDescription : '',\n        orgDefault: true,\n        orgId: this.ORG_ID\n      };\n      this.loader = true;\n      this.roleAddSubs = this.addRoleService.RoleAdd(params).subscribe(res => {\n        this.roleDatas = res;\n        this.addOtherDetailsToRole(pdData);\n      }, err => {\n        this.loader = false;\n        this.closeAlert();\n        if (err.status == 401) {\n          this.errorInfo = this.language['Access Denied'];\n          this.error = true;\n          this.commonOrgService.pageScrollTop();\n        } else if (typeof err.error == 'string' && err.error.indexOf('already exists') > -1) {\n          this.errorInfo = this.language['Role name already exist'];\n          this.error = true;\n          this.commonOrgService.pageScrollTop();\n        } else {\n          this.pageErrorHandle(err);\n        }\n      });\n    }\n    addOtherDetailsToRole(pdData) {\n      const requests = [];\n      let users = [];\n      this.addedUsersList.forEach(element => {\n        users.push(element._id);\n      });\n      const req = this.addRoleService.AddUsersByRoleId(users, this.roleDatas._id).forEach(resp => {\n        return resp;\n      }).catch(error => {\n        return of(error);\n      });\n      requests.push(req);\n      if (pdData.length) {\n        let params = [];\n        params = pdData ? pdData : [];\n        const req2 = this.addRoleService.AddRolePermissions(params, this.roleDatas._id).forEach(resp => {\n          return resp;\n        }).catch(error => {\n          return of(error);\n        });\n        requests.push(req2);\n      }\n      this.combineLatest = combineLatest(requests);\n      this.makeParallelAddRequest();\n    }\n    makeParallelAddRequest() {\n      this.loader = true;\n      this.parallelReqSubscribtion = this.combineLatest.subscribe(response => {\n        this.loader = false;\n        if (response.length) {\n          for (let e of response) {\n            if (e != null && e.error != undefined) {\n              if (typeof e.error == 'string') {\n                this.errorInfo = `${e.error}`;\n              } else {\n                this.errorInfo = `${e.message}`;\n              }\n              this.pageErrorHandle(e);\n              return;\n            }\n          }\n        }\n        this.closeAlert();\n        this.successInfo = this.language['Users with roles data saved successfully'];\n        this.success = true;\n        this.commonOrgService.pageScrollTop();\n        setTimeout(() => {\n          this.goToOrgRoles();\n        }, 1500);\n      });\n    }\n    processData(res) {\n      let csc = res[0];\n      let cscObj = {};\n      for (let i = 0; i < csc.permissions.length; i++) {\n        cscObj[csc.permissions[i].scopeName] = csc.permissions[i].action;\n      }\n      this.selectedPermissions = cscObj;\n    }\n    levelOneChange(scopeName, isChecked, item) {\n      $('.' + scopeName).prop('checked', isChecked);\n      if (!isChecked) {\n        //$('#' + scopeName + '_parent_span').show();\n        $('#' + scopeName + '_parent').prop('checked', isChecked);\n        $('.' + scopeName + '_action').prop('checked', isChecked);\n        $('.' + scopeName + '_action').prop('disabled', true);\n      } else {\n        $('.' + scopeName + '_action').prop('disabled', false);\n        $('#' + scopeName + '_parent').prop('checked', isChecked);\n      }\n      this.getSlctdParams();\n      $('.oneLevelDisable').prop('disabled', true);\n      if (item.name === 'cloud.rbac.csc.calloutcome') {\n        // const enforceCalloutcomeId = item.permissions.find(e => e.name === 'cloud.rbac.csc.calloutcome.enforce')?._id;\n        // let enforceCalloutcomeSwitch = document.getElementById(`${enforceCalloutcomeId}` + '_action') as HTMLInputElement;\n        // enforceCalloutcomeSwitch.disabled = true;\n        this.levelOneAction(item, isChecked);\n      } else {\n        this.renderChild(item, isChecked);\n      }\n    }\n    levelTwoChange(obj, isChecked, parentClass) {\n      var _a, _b, _c, _d;\n      const scopeName = obj._id;\n      $('.' + scopeName).prop('checked', isChecked);\n      if (!isChecked) {\n        if (obj.name === 'cloud.rbac.csc.calloutcome.createview') {\n          const calloutcomePermission = (_a = this.allPermissions.find(e => e.name === 'cloud.rbac.csc.calloutcome')) === null || _a === void 0 ? void 0 : _a.permissions;\n          const enforceCalloutcomeId = (_b = calloutcomePermission.find(e => e.name === 'cloud.rbac.csc.calloutcome.enforce')) === null || _b === void 0 ? void 0 : _b._id;\n          let enforceElement = document.querySelector(`#${enforceCalloutcomeId}` + '_parent');\n          enforceElement.checked = false;\n        }\n        $('#' + parentClass + '_parent_span').show();\n        $('#' + parentClass + '_parent').prop('checked', isChecked);\n        $('.' + scopeName + '_action').prop('checked', isChecked);\n        $('.' + scopeName + '_action').prop('disabled', true);\n        // $('.' + parentClass + '_action').prop('checked', isChecked);\n        // //$('.' + parentClass + '_action').prop('disabled', true);\n        // $('#' + scopeName + '_action').prop('disabled', true);\n        // $('.' + scopeName + '_action').prop('disabled', true);\n      } else {\n        $('.' + parentClass + '_action').prop('disabled', obj.disableScope || false);\n        $('#' + parentClass + '_parent_span').show();\n        if (obj.name === 'cloud.rbac.csc.calloutcome.enforce') {\n          const calloutcomePermission = (_c = this.allPermissions.find(e => e.name === 'cloud.rbac.csc.calloutcome')) === null || _c === void 0 ? void 0 : _c.permissions;\n          const createViewCalloutcomeId = (_d = calloutcomePermission.find(e => e.name === 'cloud.rbac.csc.calloutcome.createview')) === null || _d === void 0 ? void 0 : _d._id;\n          let createViewCalloutcomeElement = document.getElementById(`${createViewCalloutcomeId}` + '_parent');\n          createViewCalloutcomeElement.checked = true;\n          let createViewCalloutcomeSwitch = document.getElementById(`${createViewCalloutcomeId}` + '_action');\n          createViewCalloutcomeSwitch.checked = true;\n          let calloutcomeSwitch = document.getElementById(`${parentClass}` + '_action');\n          calloutcomeSwitch.checked = true;\n        }\n        let checked = true;\n        $('.' + parentClass).each(function () {\n          if (!$(this).prop('checked')) {\n            checked = false;\n          }\n        });\n        if (checked) {\n          $('#' + parentClass + '_parent').prop('checked', isChecked);\n          $('#' + parentClass + '_parent_span').hide();\n        }\n      }\n      this.getSlctdParams();\n      //Main parent\n      if ($(`.${parentClass}`).length == $(`.${parentClass}:checked`).length) {\n        $(`#${parentClass}_parent`).prop('checked', true).show();\n        $(`#${parentClass}_parent_span`).hide();\n      } else if ($(`.${parentClass}:checked`).length > 0) {\n        $(`#${parentClass}_parent`).prop('checked', false).hide();\n        $(`#${parentClass}_parent_span`).show();\n      } else {\n        $(`#${parentClass}_parent`).prop('checked', false).show();\n        $(`#${parentClass}_parent_span`).hide();\n      }\n      if (obj.name === 'cloud.rbac.csc.calloutcome.enforce') {\n        let enforceCalloutcomeSwitch = document.getElementById(`${scopeName}` + '_action');\n        enforceCalloutcomeSwitch.disabled = true;\n      }\n    }\n    levelThreeChange(obj, isChecked, parentClass, mainParentClass) {\n      const scopeName = obj._id;\n      $('.' + scopeName).prop('checked', isChecked);\n      if (!isChecked) {\n        $('#' + parentClass + '_parent').prop('checked', isChecked);\n        $('#' + mainParentClass + '_parent').prop('checked', isChecked);\n        $('#' + mainParentClass + '_parent_span').show();\n        //$('.' + scopeName + '_action').prop('checked', isChecked);\n        //$('.' + scopeName + '_action').prop('disabled', true);\n        //$('#' + scopeName + '_action').prop('checked', false);\n        $('#' + scopeName + '_action').prop('disabled', true);\n        $('#' + parentClass + '_parent_span').show();\n        $('#' + parentClass + '_parent').hide();\n      } else {\n        $('.' + scopeName + '_action').prop('disabled', obj.disableScope || false);\n        $('#' + parentClass + '_parent_span').show();\n        $('#' + mainParentClass + '_parent_span').show();\n        $('#' + parentClass + '_parent').hide();\n        let checked = true;\n        $('.' + parentClass).each(function () {\n          if (!$(this).prop('checked')) {\n            checked = false;\n          }\n        });\n        if (checked) {\n          $('#' + parentClass + '_parent').prop('checked', isChecked);\n          $('#' + parentClass + '_parent_span').hide();\n          $('#' + parentClass + '_parent').show();\n        }\n        checked = true;\n        $('.' + mainParentClass).each(function () {\n          if (!$(this).prop('checked')) {\n            checked = false;\n          }\n        });\n        if (checked) {\n          $('#' + mainParentClass + '_parent').prop('checked', isChecked);\n          $('#' + mainParentClass + '_parent_span').hide();\n          $('#' + parentClass + '_parent_span').hide();\n        }\n      }\n      this.getSlctdParams();\n      // Parent\n      if ($(`.${parentClass}`).length == $(`.${parentClass}:checked`).length) {\n        $(`#${parentClass}_parent`).prop('checked', true).show();\n        $(`#${parentClass}_parent_span`).hide();\n      } else if ($(`.${parentClass}:checked`).length > 0) {\n        $(`#${parentClass}_parent`).prop('checked', false).hide();\n        $(`#${parentClass}_parent_span`).show();\n      } else {\n        $(`#${parentClass}_parent`).prop('checked', false).show();\n        $(`#${parentClass}_parent_span`).hide();\n      }\n      //Main parent\n      if ($(`.${mainParentClass}`).length == $(`.${mainParentClass}:checked`).length) {\n        $(`#${mainParentClass}_parent`).prop('checked', true).show();\n        $(`#${mainParentClass}_parent_span`).hide();\n      } else if ($(`.${mainParentClass}:checked`).length > 0) {\n        $(`#${mainParentClass}_parent`).prop('checked', false).hide();\n        $(`#${mainParentClass}_parent_span`).show();\n      } else {\n        $(`#${mainParentClass}_parent`).prop('checked', false).show();\n        $(`#${mainParentClass}_parent_span`).hide();\n      }\n    }\n    levelFourChange(obj, isChecked, innerParentClass, parentClass, mainParentClass) {\n      const scopeName = obj._id;\n      if (!isChecked) {\n        $('#' + parentClass + '_parent').prop('checked', isChecked);\n        $('#' + mainParentClass + '_parent').prop('checked', isChecked);\n        $('#' + mainParentClass + '_parent_span').show();\n        let checked = true;\n        $('.' + innerParentClass).each(function () {\n          if (!$(this).prop('checked')) {\n            checked = false;\n          }\n        });\n        if (checked) {\n          $('#' + innerParentClass + '_inner_parent_span').show();\n          $('#' + innerParentClass + '_inner_parent').prop('checked', checked);\n        } else {\n          $('#' + innerParentClass + '_inner_parent_span').hide();\n          $('#' + innerParentClass + '_inner_parent').prop('checked', checked);\n        }\n        // $('.' + scopeName + '_action').prop('checked', isChecked);\n        // //$('.' + scopeName + '_action').prop('disabled', true);\n        $('#' + scopeName + '_action').prop('disabled', true);\n        $('#' + scopeName + '_action').prop('checked', false);\n        $('#' + parentClass + '_parent_span').show();\n        $('#' + parentClass + '_parent').hide();\n      } else {\n        $('.' + scopeName + '_action').prop('disabled', obj.disableScope || false);\n        $('#' + parentClass + '_parent_span').show();\n        $('#' + mainParentClass + '_parent_span').show();\n        $('#' + parentClass + '_parent').hide();\n        $('#' + innerParentClass + '_inner_parent').prop('checked', true);\n        $('#' + innerParentClass + '_inner_parent_span').show();\n        let checked = true;\n        $('.' + parentClass).each(function () {\n          if (!$(this).prop('checked')) {\n            checked = false;\n          }\n        });\n        if (checked) {\n          $('#' + parentClass + '_parent').prop('checked', isChecked);\n          $('#' + parentClass + '_parent_span').hide();\n          $('#' + parentClass + '_parent').show();\n        }\n        checked = true;\n        $('.' + innerParentClass).each(function () {\n          if (!$(this).prop('checked')) {\n            checked = false;\n          }\n        });\n        if (checked) {\n          $('#' + innerParentClass + '_inner_parent').prop('checked', checked);\n          $('#' + innerParentClass + '_inner_parent_span').hide();\n        }\n        checked = true;\n        $('.' + mainParentClass).each(function () {\n          if (!$(this).prop('checked')) {\n            checked = false;\n          }\n        });\n        if (checked) {\n          $('#' + mainParentClass + '_parent').prop('checked', isChecked);\n          $('#' + mainParentClass + '_parent_span').hide();\n          $('#' + parentClass + '_parent_span').hide();\n        }\n      }\n      this.getSlctdParams();\n      //First parent\n      if ($(`.${scopeName}`).length == $(`.${scopeName}:checked`).length) {\n        $(`#${innerParentClass}_parent`).prop('checked', true).show();\n        $(`#${innerParentClass}_parent_span`).hide();\n      } else if ($(`.${scopeName}:checked`).length > 0) {\n        $(`#${innerParentClass}_parent`).prop('checked', false).hide();\n        $(`#${innerParentClass}_parent_span`).show();\n      } else {\n        $(`#${innerParentClass}_parent`).prop('checked', false).show();\n        $(`#${innerParentClass}_parent_span`).hide();\n      }\n      // Parent of parent\n      if ($(`.${parentClass}`).length == $(`.${parentClass}:checked`).length) {\n        $(`#${parentClass}_parent`).prop('checked', true).show();\n        $(`#${parentClass}_parent_span`).hide();\n      } else if ($(`.${parentClass}:checked`).length > 0) {\n        $(`#${parentClass}_parent`).prop('checked', false).hide();\n        $(`#${parentClass}_parent_span`).show();\n      } else {\n        $(`#${parentClass}_parent`).prop('checked', false).show();\n        $(`#${parentClass}_parent_span`).hide();\n      }\n      //Main parent\n      if ($(`.${mainParentClass}`).length == $(`.${mainParentClass}:checked`).length) {\n        $(`#${mainParentClass}_parent`).prop('checked', true).show();\n        $(`#${mainParentClass}_parent_span`).hide();\n      } else if ($(`.${mainParentClass}:checked`).length > 0) {\n        $(`#${mainParentClass}_parent`).prop('checked', false).hide();\n        $(`#${mainParentClass}_parent_span`).show();\n      } else {\n        $(`#${mainParentClass}_parent`).prop('checked', false).show();\n        $(`#${mainParentClass}_parent_span`).hide();\n      }\n    }\n    levelOneAction(scope, isChecked) {\n      var _a, _b, _c;\n      $('.' + scope._id + '_action').not('[disabled]').prop('checked', isChecked);\n      if (isChecked && $(`a[id^=\"collapse-btn-${scope.displayName}\"]`).length && $(`a[id^=\"collapse-btn-${scope.displayName}\"]`).attr('aria-expanded') == \"false\") {\n        document.getElementById(\"collapse-btn-\" + scope.displayName).click();\n      } else if (!isChecked && $(`a[id^=\"collapse-btn-${scope.displayName}\"]`).length && $(`a[id^=\"collapse-btn-${scope.displayName}\"]`).attr('aria-expanded') == \"true\") {\n        document.getElementById(\"collapse-btn-\" + scope.displayName).click();\n      }\n      if (isChecked && !this.isExpanded.hasOwnProperty(scope._id)) this.expandCollapse(scope._id);else if (!isChecked && this.isExpanded.hasOwnProperty(scope._id)) this.expandCollapse(scope._id);\n      if (scope.name === 'cloud.rbac.csc.calloutcome') {\n        if (!isChecked) {\n          const enforceCalloutcomeId = (_a = scope === null || scope === void 0 ? void 0 : scope.permissions.find(e => e.name === 'cloud.rbac.csc.calloutcome.enforce')) === null || _a === void 0 ? void 0 : _a._id;\n          let enforceElement = document.querySelector(`#${enforceCalloutcomeId}` + '_parent');\n          enforceElement.checked = false;\n          // console.log('span', calloutcomeScope?._id)\n          let calloutcomeSwitch = document.getElementById(`${scope._id}` + '_action');\n          calloutcomeSwitch.disabled = true;\n          const createViewCalloutcomeId = (_b = scope === null || scope === void 0 ? void 0 : scope.permissions.find(e => e.name === 'cloud.rbac.csc.calloutcome.createview')) === null || _b === void 0 ? void 0 : _b._id;\n          let createViewCalloutcomeElement = document.getElementById(`${createViewCalloutcomeId}` + '_parent');\n          if (createViewCalloutcomeElement.checked) {\n            let calloutcomeElement = document.querySelector(`#${scope === null || scope === void 0 ? void 0 : scope._id}` + '_parent');\n            calloutcomeElement.checked = false;\n            let calloutcomeSpan = document.querySelector(`#${scope === null || scope === void 0 ? void 0 : scope._id}` + '_parent_span');\n            calloutcomeSpan.style.display = 'inline';\n          }\n        } else {\n          const enforceCalloutcomeId = (_c = scope === null || scope === void 0 ? void 0 : scope.permissions.find(e => e.name === 'cloud.rbac.csc.calloutcome.enforce')) === null || _c === void 0 ? void 0 : _c._id;\n          let enforceElement = document.querySelector(`#${enforceCalloutcomeId}` + '_parent');\n          enforceElement.checked = true;\n          let calloutcomeElement = document.querySelector(`#${scope === null || scope === void 0 ? void 0 : scope._id}` + '_parent');\n          calloutcomeElement.checked = true;\n          let calloutcomeSpan = document.querySelector(`#${scope === null || scope === void 0 ? void 0 : scope._id}` + '_parent_span');\n          calloutcomeSpan.style.display = 'none';\n        }\n      }\n    }\n    levelTwoAction(scope, isChecked, parent) {\n      var _a;\n      $('.' + scope._id + '_action').not('[disabled]').prop('checked', isChecked);\n      if ($(`.${parent}_action:not(.firstLevel)`).length == $(`.${parent}_action:not(.firstLevel):checked`).length) $(`#${parent}_action.firstLevel`).prop('checked', true);else $(`#${parent}_action.firstLevel`).prop('checked', false);\n      if (isChecked && $(`a[id^=\"collapse-btn-${scope.displayName}\"]`).length && $(`a[id^=\"collapse-btn-${scope.displayName}\"]`).attr('aria-expanded') == \"false\") {\n        document.getElementById(\"collapse-btn-\" + scope.displayName).click();\n      } else if (!isChecked && $(`a[id^=\"collapse-btn-${scope.displayName}\"]`).length && $(`a[id^=\"collapse-btn-${scope.displayName}\"]`).attr('aria-expanded') == \"true\") {\n        document.getElementById(\"collapse-btn-\" + scope.displayName).click();\n      }\n      if (!isChecked) {\n        if (scope.name === 'cloud.rbac.csc.calloutcome.createview') {\n          const calloutcomeScope = this.allPermissions.find(e => e.name === 'cloud.rbac.csc.calloutcome');\n          const enforceCalloutcomeId = (_a = calloutcomeScope === null || calloutcomeScope === void 0 ? void 0 : calloutcomeScope.permissions.find(e => e.name === 'cloud.rbac.csc.calloutcome.enforce')) === null || _a === void 0 ? void 0 : _a._id;\n          let enforceElement = document.querySelector(`#${enforceCalloutcomeId}` + '_parent');\n          enforceElement.checked = false;\n          let calloutcomeElement = document.querySelector(`#${calloutcomeScope === null || calloutcomeScope === void 0 ? void 0 : calloutcomeScope._id}` + '_parent');\n          calloutcomeElement.checked = false;\n          let calloutcomeSpan = document.querySelector(`#${calloutcomeScope === null || calloutcomeScope === void 0 ? void 0 : calloutcomeScope._id}` + '_parent_span');\n          calloutcomeSpan.style.display = 'inline';\n          let calloutcomeSwitch = document.getElementById(`${calloutcomeScope._id}` + '_action');\n          calloutcomeSwitch.disabled = true;\n        }\n        $('#' + parent + '_action').prop('checked', false);\n      }\n    }\n    levelThreeAction(scope, isChecked, parent, mainParent) {\n      $('.' + scope._id + '_action').not('[disabled]').prop('checked', isChecked);\n      if ($(`.${parent}_action`).length == $(`.${parent}_action:checked`).length) $(`#${parent}_action`).prop('checked', true);else $(`#${parent}_action`).prop('checked', false);\n      if ($(`.${mainParent}_action:not(.firstLevel)`).length == $(`.${mainParent}_action:not(.firstLevel):checked`).length) $(`#${mainParent}_action.firstLevel`).prop('checked', true);else $(`#${mainParent}_action.firstLevel`).prop('checked', false);\n      if (isChecked && $(`a[id^=\"collapse-btn-${scope.displayName}\"]`).length && $(`a[id^=\"collapse-btn-${scope.displayName}\"]`).attr('aria-expanded') == \"false\") {\n        document.getElementById(\"collapse-btn-\" + scope.displayName).click();\n      } else if (!isChecked && $(`a[id^=\"collapse-btn-${scope.displayName}\"]`).length && $(`a[id^=\"collapse-btn-${scope.displayName}\"]`).attr('aria-expanded') == \"true\") {\n        document.getElementById(\"collapse-btn-\" + scope.displayName).click();\n      }\n    }\n    levelFourAction(thisSiblings, parent, parentOfParent, mainParent) {\n      if ($(`.${thisSiblings}_action`).length == $(`.${thisSiblings}_action:checked`).length) $(`#${parent}_action`).prop('checked', true);else $(`#${parent}_action`).prop('checked', false);\n      if ($(`.${parentOfParent}_action`).length == $(`.${parentOfParent}_action:checked`).length) $(`#${parentOfParent}_action`).prop('checked', true);else $(`#${parentOfParent}_action`).prop('checked', false);\n      if ($(`.${mainParent}_action:not(.firstLevel)`).length == $(`.${mainParent}_action:not(.firstLevel):checked`).length) $(`#${mainParent}_action.firstLevel`).prop('checked', true);else $(`#${mainParent}_action.firstLevel`).prop('checked', false);\n    }\n    goToOrgRoles() {\n      this.router.navigate([`${this.MODULE}/roles`]);\n    }\n    showCheckBox(event, item) {\n      //console.log(event.target.id);\n      $('#' + event.target.id).hide();\n      let idArr = event.target.id.split('_');\n      this.levelOneChange(idArr[0], true, item);\n    }\n    openDeleteModal() {\n      document.getElementById(\"deleteModalHiddenButton\").click();\n    }\n    openMultiDeleteModal() {\n      document.getElementById(\"multiDeleteModalHiddenButton\").click();\n    }\n    closeAlertWarning() {\n      this.warning = false;\n    }\n    hideSearch() {\n      setTimeout(() => {\n        $('#table-div .dataTables_wrapper .dataTables_filter').css('display', 'none');\n        $('#table-div .dataTables_wrapper .dataTables_length').css('display', 'none');\n      }, 10);\n    }\n    pageScrollTop() {\n      const element = document.querySelector('#scrollTopId');\n      element.scrollIntoView();\n    }\n    getSlctdParams() {\n      var perParams = {};\n      var fields = $('#permissionsForm').serializeArray();\n      $.each(fields, function (i, field) {\n        if (typeof perParams[field.name] != 'undefined') {\n          if (jQuery.type(perParams[field.name]) != 'array') {\n            var old = perParams[field.name];\n            perParams[field.name] = [old];\n          }\n          perParams[field.name].push(field.value);\n        } else {\n          perParams[field.name] = field.value;\n        }\n      });\n      let obj = {};\n      if (perParams['scopeName']) {\n        if (typeof perParams['scopeName'] !== 'object') {\n          perParams['scopeName'] = [perParams['scopeName']];\n        }\n        perParams['scopeName'].forEach(element => {\n          obj[element] = element;\n        });\n      }\n      let data;\n      if (this.rolesAddForm == 'supportCloud' || this.rolesAddForm == 'marketingCloud' || this.rolesAddForm == 'cco') {\n        data = this.commonOrgService.getSelectedSubScopeNames(this.allPrmsnfrmApi, obj, true);\n      } else {\n        data = this.commonOrgService.getSelectedSubScopeNames(this.allPrmsnfrmApi, obj);\n      }\n      data.scopes.forEach(element => {\n        let html = data.selectedData[element] ? `(${data.selectedData[element]})` : '';\n        $(\"#\" + element + \"_info\").html(html);\n        if (data.selectedData[element] === ' ') $(\"#\" + element + \"_info\").html('');\n        const noWriteApi = document.getElementById(`${element}_action`).getAttribute(\"noWriteApi\") == \"true\";\n        $(\"#\" + element + \"_parent\").prop(\"checked\", data.checkedScopes[element]);\n        $(\"#\" + element + \"_action\").prop(\"disabled\", noWriteApi ? true : !data.checkedScopes[element]);\n        if (!data.checkedScopes[element]) {\n          $(\"#\" + element + \"_action\").prop(\"checked\", data.checkedScopes[element]);\n        }\n        if (data.checkedScopes[element]) {\n          $(\"#\" + element + \"_parent\").show();\n          $(\"#\" + element + \"_parent_span\").hide();\n        }\n      });\n    }\n    showAllUserCheckBox(event) {\n      //console.log(event.target.id);\n      $('#' + event.target.id).hide();\n      $('#user-all-delete').prop(\"checked\", true);\n      this.deleteUserCheckAll(true);\n    }\n    tableLanguageOptions() {\n      if (this.language.fileLanguage == 'fr') {\n        this.tableOptions.language = this.frTable;\n      } else if (this.language.fileLanguage == 'es') {\n        this.tableOptions.language = this.customTranslateService.es;\n      } else if (this.language.fileLanguage == 'de_DE') {\n        this.tableOptions.language = this.customTranslateService.de_DE;\n      } else if (this.language.fileLanguage == 'en' && this.tableOptions.language) {\n        delete this.tableOptions.language;\n      }\n    }\n    closeModal() {\n      this.closeAlertWarning();\n      if (this.modalRef) {\n        this.modalRef.close();\n      }\n    }\n    pageErrorHandle(err) {\n      if (err.status == 401) {\n        this.errorInfo = this.language['Access Denied'];\n      } else {\n        this.errorInfo = this.commonOrgService.pageErrorHandle(err);\n      }\n      this.closeAlert();\n      this.error = true;\n      this.commonOrgService.pageScrollTop();\n    }\n    tablePageChange() {\n      setTimeout(() => {\n        $('#user-all-delete-span').hide();\n        $('#user-all-delete').prop(\"checked\", false);\n        this.deleteUserCheckAll(false);\n      }, 100);\n    }\n    expandCollapse(id) {\n      this.isExpanded.hasOwnProperty(id) ? delete this.isExpanded[id] : this.isExpanded[id] = true;\n    }\n    removeUnwantedSpace(input, value) {\n      this[input] = this.CommonFunctionsService.trimSpaceFromNonObjectInputs(value);\n    }\n    renderChild(scope, isChecked) {\n      const collapseBtn = document.querySelector(`a[id^=\"collapse-btn-${scope.displayName}\"]`);\n      if (isChecked && collapseBtn && collapseBtn.getAttribute('aria-expanded') === \"false\") {\n        collapseBtn.click();\n      } else if (!isChecked && collapseBtn && collapseBtn.getAttribute('aria-expanded') === \"true\") {\n        collapseBtn.click();\n      }\n      if (isChecked && !this.isExpanded.hasOwnProperty(scope._id)) {\n        this.expandCollapse(scope._id);\n      } else if (!isChecked && this.isExpanded.hasOwnProperty(scope._id)) {\n        this.expandCollapse(scope._id);\n      }\n    }\n  }\n  AddRoleComponent.ɵfac = function AddRoleComponent_Factory(t) {\n    return new (t || AddRoleComponent)(i0.ɵɵdirectiveInject(i1.Location), i0.ɵɵdirectiveInject(i2.CommonService), i0.ɵɵdirectiveInject(i3.CustomTranslateService), i0.ɵɵdirectiveInject(i4.AddRoleService), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i6.SsoAuthService), i0.ɵɵdirectiveInject(i7.NgbModal), i0.ɵɵdirectiveInject(i8.Title), i0.ɵɵdirectiveInject(i9.CommonFunctionsService));\n  };\n  AddRoleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddRoleComponent,\n    selectors: [[\"app-add-role\"]],\n    viewQuery: function AddRoleComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n        i0.ɵɵviewQuery(_c1, 7);\n        i0.ɵɵviewQuery(DataTableDirective, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.deleteModal = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.multiDeleteModal = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dtElement = _t.first);\n      }\n    },\n    hostBindings: function AddRoleComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function AddRoleComponent_click_HostBindingHandler($event) {\n          return ctx.onClick($event);\n        });\n      }\n    },\n    decls: 5,\n    vars: 1,\n    consts: [[\"class\", \"container position-relative\", 4, \"ngIf\"], [\"deleteModal\", \"\"], [\"multiDeleteModal\", \"\"], [1, \"container\", \"position-relative\"], [\"class\", \"loader\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-danger fade show\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-success fade show\", 4, \"ngIf\"], [1, \"row\", \"justify-content-end\", \"my-3\"], [1, \"col-md-4\"], [1, \"ccl-title\"], [1, \"col-md-8\", \"px-0\"], [1, \"text-right\"], [1, \"back-text\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-angle-left\", \"mr-1\"], [1, \"row\", \"my-3\"], [1, \"ccl-form\"], [\"for\", \"first\", 1, \"f-w-600\"], [1, \"error\"], [\"type\", \"text\", \"name\", \"roleName\", \"autocomplete\", \"new-password\", \"trimSpace\", \"\", 1, \"\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\", \"blur\"], [1, \"col-md-8\", \"pr-0\"], [\"for\", \"last\", 1, \"f-w-600\"], [\"type\", \" text\", \"name\", \"roleDescription\", \"autocomplete\", \"new-password\", \"trimSpace\", \"\", 1, \"\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\", \"blur\"], [1, \"col-md-12\", \"ccl-title\"], [1, \"col-md-12\"], [\"id\", \"permissionsForm\"], [\"class\", \"\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-md-6 my-3 alert alert-danger fade show\", 4, \"ngIf\"], [1, \"col-md-4\", \"offset-md-0\"], [1, \"form-group\"], [\"bindLabel\", \"username\", 3, \"items\", \"ngModel\", \"clearable\", \"ngModelOptions\", \"placeholder\", \"notFoundText\", \"ngModelChange\"], [1, \"col-md-2\", \"offset-md-0\"], [1, \"btn-default\", \"primary\", \"mr-2\", 3, \"click\"], [1, \"row\", \"my-2\"], [1, \"col-md-8\"], [1, \"text-right\", \"flat-right\"], [\"class\", \"btn-default primary px-3 mx-3\", 3, \"click\", 4, \"ngIf\"], [1, \"row\"], [1, \"col-md-8\", 3, \"hidden\"], [\"id\", \"add-role-users\", \"width\", \"100%\", \"datatable\", \"\", 1, \"table\", \"table-sm\", \"row-border\", \"w-100\", \"roles-addtable\", 3, \"dtOptions\", \"dtTrigger\"], [1, \"header-color\"], [1, \"checkbox-column\", \"user-all\"], [\"type\", \"checkbox\", \"name\", \"websitecheck\", \"id\", \"user-all-delete\", 3, \"checked\", \"disabled\", \"click\"], [\"id\", \"user-all-delete-span\", 1, \"checkbox-ui\", 2, \"display\", \"none\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"col-md-6\", \"offset-md-6\", \"text-right\", \"pr-0\"], [\"id\", \"submit-add-role\", 1, \"btn-default\", \"primary\", \"md-btn\", \"mr-3\", 3, \"disabled\", \"click\"], [\"id\", \"cancel-add-role\", 1, \"btn-default\", \"btn-dft\", \"py-1\", \"md-btn\", 3, \"click\"], [1, \"loader\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"spinner-border\", \"text-primary\"], [1, \"sr-only\"], [1, \"w-100\", \"alert\", \"alert-danger\", \"fade\", \"show\"], [1, \"error-img\"], [\"src\", \"./assets/img/ic_error-36px.svg\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [1, \"d-inline-flex\", 3, \"innerHtml\"], [1, \"w-100\", \"alert\", \"alert-success\", \"fade\", \"show\"], [1, \"success-img\"], [\"src\", \"./assets/img/success-icon.svg\"], [1, \"\"], [1, \"box-of-permission\", \"col-md-8\"], [1, \"custom-flex\"], [1, \"checkbox-permission\"], [\"type\", \"checkbox\", \"name\", \"scopeName\", 3, \"id\", \"checked\", \"value\", \"change\"], [1, \"checkbox-ui\", \"check-intermediate\", 2, \"display\", \"none\", 3, \"id\", \"click\"], [1, \"check-caption\"], [3, \"id\"], [1, \"box-of-permission\", \"col-md-4\", 3, \"ngClass\"], [\"class\", \"multi-collapse\", 3, \"ngClass\", 4, \"ngIf\"], [\"role\", \"button\", 1, \"collapse-btn\", 3, \"click\"], [\"class\", \"fas fa-plus-circle collapse-btn\", 4, \"ngIf\"], [\"class\", \"fas fa-minus-circle\", 4, \"ngIf\"], [1, \"fas\", \"fa-plus-circle\", \"collapse-btn\"], [1, \"fas\", \"fa-minus-circle\"], [1, \"switch\"], [\"type\", \"checkbox\", \"value\", \"true\", 3, \"id\", \"checked\", \"name\", \"ngClass\", \"disabled\", \"change\"], [1, \"slider\", \"round\"], [3, \"ngClass\"], [1, \"multi-collapse\", 3, \"ngClass\"], [1, \"custom-flex\", \"custom-check-permission\", \"ml-3\"], [1, \"box-of-permission\", \"col-md-4\"], [\"type\", \"checkbox\", \"value\", \"true\", 3, \"id\", \"checked\", \"name\", \"disabled\", \"change\"], [\"class\", \"fas fa-plus-circle\", 4, \"ngIf\"], [1, \"fas\", \"fa-plus-circle\"], [1, \"custom-flex\", \"custom-check-permission\", \"ml-5\"], [1, \"custom-flex\", \"ml-5r\"], [1, \"col-md-6\", \"my-3\", \"alert\", \"alert-danger\", \"fade\", \"show\"], [1, \"btn-default\", \"primary\", \"px-3\", \"mx-3\", 3, \"click\"], [1, \"checkbox-column\"], [\"type\", \"checkbox\", 3, \"id\", \"name\", \"checked\", \"value\", \"click\"], [1, \"actions\"], [1, \"fas\", \"fa-trash-alt\", \"p-1\", \"primary\", 3, \"title\", \"click\"], [\"colspan\", \"5\", 1, \"no-data-available\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn-default\", \"primary\", \"px-3\", 3, \"click\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn-default\", \"btn-dft\", \"py-1\", \"px-3\", 3, \"click\"]],\n    template: function AddRoleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AddRoleComponent_div_0_Template, 70, 36, \"div\", 0);\n        i0.ɵɵtemplate(1, AddRoleComponent_ng_template_1_Template, 14, 5, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(3, AddRoleComponent_ng_template_3_Template, 14, 5, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.pageAvailable);\n      }\n    },\n    directives: [i1.NgIf, i10.DefaultValueAccessor, i11.TrimSpaceDirective, i10.NgControlStatus, i10.NgModel, i10.ɵNgNoValidate, i10.NgControlStatusGroup, i10.NgForm, i1.NgForOf, i12.NgSelectComponent, i13.DataTableDirective, i1.NgClass],\n    styles: [\"table.roles-addtable td.dataTables_empty{display:none}.back-link-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{font-size:13px}.box-of-permission[_ngcontent-%COMP%]:first-child{border-right:.5px solid #dddddd}.box-of-permission[_ngcontent-%COMP%]{padding:8px;border-top:.5px solid #dddddd;vertical-align:middle;font-size:13px!important}.fa-plus-circle[_ngcontent-%COMP%]{font-size:18px;color:#0279ff}.fa-minus-circle[_ngcontent-%COMP%]{font-size:18px;color:#0279ff}.checkbox-ui[_ngcontent-%COMP%]:before{content:\\\"\\\";display:block;width:7px;height:0;border:solid #ffffff;border-width:0 2px 2px 0;transform:rotate(0);position:absolute;left:-14px;top:0px!important}input[type=checkbox][_ngcontent-%COMP%] + .checkbox-ui[_ngcontent-%COMP%]{width:13px;height:13px}a[aria-expanded=true][_ngcontent-%COMP%]   .fa-plus-circle[_ngcontent-%COMP%]{display:none}a[aria-expanded=false][_ngcontent-%COMP%]   .fa-minus-circle[_ngcontent-%COMP%]{display:none}input[_ngcontent-%COMP%]:disabled{cursor:not-allowed;pointer-events:all!important}.switch[_ngcontent-%COMP%] > input[type=checkbox][_ngcontent-%COMP%]:disabled + .slider[_ngcontent-%COMP%]{cursor:not-allowed}@media only screen and (max-width: 425px){.add-user-btn[_ngcontent-%COMP%]{margin-top:20px}}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:40px;height:22px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:\\\"\\\";height:18px;width:18px;left:4px;right:2px;bottom:2px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#0279ff}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #0279ff}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(16px)}.slider.round[_ngcontent-%COMP%]{border-radius:18px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}input[type=checkbox][_ngcontent-%COMP%]{border:1px solid #ccc!important;cursor:pointer}input[type=checkbox][_ngcontent-%COMP%]:disabled{cursor:not-allowed}.custom-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.ml-5r[_ngcontent-%COMP%]{margin-left:5rem!important}.emptyRowSwitch[_ngcontent-%COMP%]{height:45px}.noWriteApi[_ngcontent-%COMP%]{opacity:.5}input[type=checkbox][_ngcontent-%COMP%] + .checkbox-ui[_ngcontent-%COMP%]{width:13px!important;height:13px!important}input[type=checkbox][_ngcontent-%COMP%] + .check-intermediate[_ngcontent-%COMP%]{left:0px!important;margin-top:2px!important}.checkbox-permission[_ngcontent-%COMP%]{position:relative}.checkbox-permission[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;margin-top:3.5px}.checkbox-permission[_ngcontent-%COMP%]   .check-intermediate[_ngcontent-%COMP%]{position:absolute!important}.check-intermediate[_ngcontent-%COMP%] + span.check-caption[_ngcontent-%COMP%]{margin-left:18px}span#user-all-delete-span[_ngcontent-%COMP%]{top:0px!important}\"]\n  });\n  return AddRoleComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}