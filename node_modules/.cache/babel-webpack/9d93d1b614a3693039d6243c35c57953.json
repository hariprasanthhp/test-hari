{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../sys-admin/services/common.service\";\nimport * as i2 from \"@angular/platform-browser\";\nimport * as i3 from \"../shared/services/sso-auth.service\";\nimport * as i4 from \"src/app-services/translate.service\";\nimport * as i5 from \"../sys-admin/header/header.component\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/router\";\nimport * as i8 from \"../sys-admin/footer/footer.component\";\nimport * as i9 from \"./org-admin-side-menu/org-admin-side-menu.component\";\nconst _c0 = [\"scrollTopId\"];\nfunction OrgAdminComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"app-org-admin-side-menu\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", (ctx_r0.showRecord == null ? null : ctx_r0.showRecord.show) !== true ? \"org-left-menu\" : \"\");\n  }\n}\nfunction OrgAdminComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelementStart(1, \"span\", 10);\n    i0.ɵɵelement(2, \"img\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function OrgAdminComponent_div_8_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.closeAlert();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r2.errorInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction OrgAdminComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelementStart(1, \"span\", 15);\n    i0.ɵɵelement(2, \"img\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function OrgAdminComponent_div_9_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.closeAlert();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.successInfo, \" \");\n  }\n}\nexport let OrgAdminComponent = /*#__PURE__*/(() => {\n  class OrgAdminComponent {\n    constructor(common, titleService, sso, translateService) {\n      this.common = common;\n      this.titleService = titleService;\n      this.sso = sso;\n      this.translateService = translateService;\n      this.showAdmin = false;\n      this.showRecord = this.common.recordView;\n    }\n    ngOnInit() {\n      this.language = this.translateService.defualtLanguage;\n      this.languageSubject = this.translateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n      });\n      let roles = this.sso.getRoles();\n      if (roles && roles.indexOf('OrgAdmin') !== -1) {\n        this.showAdmin = true;\n      }\n      //this.titleService.setTitle('Calix Cloud - Administration');\n      this.scrollSubs = this.common.scrollTop.subscribe(() => {\n        try {\n          this.scrollTop();\n        } catch (ex) {}\n      });\n      this.closeSubs = this.common.closeAlerts.subscribe(() => {\n        this.closeAlert();\n      });\n      this.successSubs = this.common.successAlert.subscribe(res => {\n        this.openSuccessAlert(res);\n      });\n      this.errorSubs = this.common.errorAlert.subscribe(res => {\n        this.openErrorAlert(res);\n      });\n    }\n    onActivate(event) {\n      window.scroll({\n        top: 0,\n        left: 0,\n        behavior: 'smooth'\n      });\n    }\n    ngOnDestroy() {\n      if (this.scrollSubs) {\n        this.scrollSubs.unsubscribe();\n      }\n      if (this.closeSubs) {\n        this.closeSubs.unsubscribe();\n      }\n      if (this.successSubs) {\n        this.successSubs.unsubscribe();\n      }\n      if (this.errorSubs) {\n        this.errorSubs.unsubscribe();\n      }\n    }\n    scrollTop() {\n      this.scrollTopId.nativeElement.scrollIntoView();\n    }\n    closeAlert() {\n      this.error = false;\n      this.success = false;\n    }\n    openSuccessAlert(info = 'Error') {\n      this.closeAlert();\n      if (info) {\n        this.successInfo = info;\n        this.success = true;\n      }\n    }\n    openErrorAlert(info = 'Error') {\n      this.closeAlert();\n      if (info) {\n        this.errorInfo = info;\n        this.error = true;\n      }\n    }\n  }\n  OrgAdminComponent.ɵfac = function OrgAdminComponent_Factory(t) {\n    return new (t || OrgAdminComponent)(i0.ɵɵdirectiveInject(i1.CommonService), i0.ɵɵdirectiveInject(i2.Title), i0.ɵɵdirectiveInject(i3.SsoAuthService), i0.ɵɵdirectiveInject(i4.TranslateService));\n  };\n  OrgAdminComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OrgAdminComponent,\n    selectors: [[\"app-org-admin\"]],\n    viewQuery: function OrgAdminComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.scrollTopId = _t.first);\n      }\n    },\n    decls: 12,\n    vars: 7,\n    consts: [[1, \"maximus\", \"sys-admin-cont\"], [\"role\", \"alert\", 1, \"alert\", \"alert-warning\", 3, \"hidden\"], [1, \"row\", 3, \"hidden\"], [3, \"ngClass\", 4, \"ngIf\"], [3, \"ngClass\"], [\"scrollTopId\", \"\"], [\"class\", \"w-100 alert alert-danger  fade show\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-success fade show\", 4, \"ngIf\"], [3, \"activate\"], [1, \"w-100\", \"alert\", \"alert-danger\", \"fade\", \"show\"], [1, \"error-img\"], [\"src\", \"./assets/img/ic_error-36px.svg\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [1, \"d-inline-flex\", 3, \"innerHtml\"], [1, \"w-100\", \"alert\", \"alert-success\", \"fade\", \"show\"], [1, \"success-img\"], [\"src\", \"./assets/img/success-icon.svg\"]],\n    template: function OrgAdminComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"app-admin-header\");\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 2);\n        i0.ɵɵtemplate(5, OrgAdminComponent_div_5_Template, 2, 1, \"div\", 3);\n        i0.ɵɵelementStart(6, \"div\", 4, 5);\n        i0.ɵɵtemplate(8, OrgAdminComponent_div_8_Template, 6, 1, \"div\", 6);\n        i0.ɵɵtemplate(9, OrgAdminComponent_div_9_Template, 6, 1, \"div\", 7);\n        i0.ɵɵelementStart(10, \"router-outlet\", 8);\n        i0.ɵɵlistener(\"activate\", function OrgAdminComponent_Template_router_outlet_activate_10_listener($event) {\n          return ctx.onActivate($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"app-admin-footer\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"hidden\", ctx.showAdmin);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.language[\"Access denied due to RBAC. Please consult your Organization Administrator for access.\"], \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"hidden\", !ctx.showAdmin);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showAdmin && !(ctx.showRecord == null ? null : ctx.showRecord.show));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", (ctx.showRecord == null ? null : ctx.showRecord.show) === true ? \"col-md-12 col-sm-12 col-xs-12\" : \"org-content-wrapper\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.success);\n      }\n    },\n    directives: [i5.HeaderComponent, i6.NgIf, i6.NgClass, i7.RouterOutlet, i8.FooterComponent, i9.OrgAdminSideMenuComponent],\n    styles: [\".org-left-menu[_ngcontent-%COMP%]{width:20%}.org-content-wrapper[_ngcontent-%COMP%]{width:80%;padding-left:24px}\"]\n  });\n  return OrgAdminComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}