{"ast":null,"code":"import { Subject } from 'rxjs';\nimport { DataTableDirective } from 'angular-datatables';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app-services/translate.service\";\nimport * as i3 from \"src/app/cco/operations/cco-subscriber-operations/cco-subscriber-profile/profile.service\";\nimport * as i4 from \"src/app/shared/services/sso-auth.service\";\nimport * as i5 from \"src/app/sys-admin/services/common.service\";\nimport * as i6 from \"@angular/common/http\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"angular-datatables\";\nfunction ListComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelementStart(2, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function ListComponent_div_2_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.gotoAdd();\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.language[\"Add_Profile\"], \" \");\n  }\n}\nfunction ListComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵelementStart(1, \"span\", 20);\n    i0.ɵɵelement(2, \"img\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function ListComponent_div_3_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.closeAlert();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r1.errorInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction ListComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵelementStart(1, \"span\", 25);\n    i0.ɵɵelement(2, \"img\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function ListComponent_div_4_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.success = false;\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r2.language[ctx_r2.successInfo] || ctx_r2.successInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction ListComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵelementStart(1, \"div\", 28);\n    i0.ɵɵelementStart(2, \"div\", 29);\n    i0.ɵɵelementStart(3, \"span\", 30);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.language.Loading);\n  }\n}\nfunction ListComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵelementStart(1, \"span\", 20);\n    i0.ɵɵelement(2, \"img\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 33);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementStart(5, \"b\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"? \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 34);\n    i0.ɵɵelementStart(9, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function ListComponent_div_7_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.DeleteProfile();\n    });\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function ListComponent_div_7_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.closeModal();\n    });\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.language[\"Are you sure you want to delete\"], \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.modalInfo);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.language.Confirm, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.language.Cancel, \"\");\n  }\n}\nfunction ListComponent_img_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 37);\n  }\n}\nfunction ListComponent_tr_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 38);\n    i0.ɵɵlistener(\"click\", function ListComponent_tr_26_Template_td_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const data_r17 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.showdetails(data_r17, (data_r17 == null ? null : data_r17.deviceType) ? data_r17 == null ? null : data_r17.deviceType : (data_r17 == null ? null : data_r17.ontSMP == null ? null : data_r17.ontSMP.deviceType) ? data_r17 == null ? null : data_r17.ontSMP == null ? null : data_r17.ontSMP.deviceType : \"-\");\n    });\n    i0.ɵɵelementStart(2, \"a\", 39);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 40);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 41);\n    i0.ɵɵelementStart(11, \"div\", 42);\n    i0.ɵɵelementStart(12, \"button\", 43);\n    i0.ɵɵtext(13, \" ... \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 44);\n    i0.ɵɵelementStart(15, \"ul\", 45);\n    i0.ɵɵelementStart(16, \"li\");\n    i0.ɵɵelementStart(17, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function ListComponent_tr_26_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const data_r17 = restoredCtx.$implicit;\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.editProfile(data_r17, data_r17 == null ? null : data_r17.deviceType);\n    });\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"li\");\n    i0.ɵɵelementStart(20, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function ListComponent_tr_26_Template_button_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const data_r17 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.deleteProfile(data_r17, data_r17 == null ? null : data_r17.deviceType);\n    });\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r17 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate((data_r17 == null ? null : data_r17.rgSMP == null ? null : data_r17.rgSMP.name) ? data_r17 == null ? null : data_r17.rgSMP == null ? null : data_r17.rgSMP.name : (data_r17 == null ? null : data_r17.ontSMP == null ? null : data_r17.ontSMP.name) ? data_r17 == null ? null : data_r17.ontSMP == null ? null : data_r17.ontSMP.name : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((data_r17 == null ? null : data_r17.rgSMP == null ? null : data_r17.rgSMP.description) ? data_r17 == null ? null : data_r17.rgSMP == null ? null : data_r17.rgSMP.description : (data_r17 == null ? null : data_r17.ontSMP == null ? null : data_r17.ontSMP.description) ? data_r17 == null ? null : data_r17.ontSMP == null ? null : data_r17.ontSMP.description : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((data_r17 == null ? null : data_r17.deviceType) ? data_r17 == null ? null : data_r17.deviceType : (data_r17 == null ? null : data_r17.ontSMP == null ? null : data_r17.ontSMP.deviceType) ? data_r17 == null ? null : data_r17.ontSMP == null ? null : data_r17.ontSMP.deviceType : \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((data_r17 == null ? null : data_r17.rgSMP == null ? null : data_r17.rgSMP.serviceType) === \"DATA\" ? \"Data\" : (data_r17 == null ? null : data_r17.rgSMP == null ? null : data_r17.rgSMP.serviceType) === \"VIDEO\" ? \"Video\" : (data_r17 == null ? null : data_r17.rgSMP == null ? null : data_r17.rgSMP.serviceType) === \"VOICE\" ? \"Voice\" : (data_r17 == null ? null : data_r17.ontSMP == null ? null : data_r17.ontSMP.serviceType) === \"DATA\" ? \"Data\" : (data_r17 == null ? null : data_r17.ontSMP == null ? null : data_r17.ontSMP.serviceType) === \"VIDEO\" ? \"Video\" : (data_r17 == null ? null : data_r17.ontSMP == null ? null : data_r17.ontSMP.serviceType) === \"VOICE\" ? \"Voice\" : \"-\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !ctx_r6.scope[\"write\"]);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.language[\"Edit\"], \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.language.Delete, \" \");\n  }\n}\nfunction ListComponent_tbody_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵelementStart(2, \"td\", 47);\n    i0.ɵɵtext(3, \" No migration profile added \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\nclass DataTablesResponse {}\nexport let ListComponent = /*#__PURE__*/(() => {\n  class ListComponent {\n    constructor(router, translateService, service, sso, commonOrgService, http) {\n      this.router = router;\n      this.translateService = translateService;\n      this.service = service;\n      this.sso = sso;\n      this.commonOrgService = commonOrgService;\n      this.http = http;\n      this.dtOptions = {\n        pagingType: 'full_numbers',\n        dom: 'tipr'\n      };\n      this.dtTrigger = new Subject();\n      this.scope = [];\n      this.showcloseicon = false;\n      this.tableCount = 0;\n      this.language = this.translateService.defualtLanguage;\n      this.frTable = this.translateService.fr;\n      this.esTable = this.translateService.es;\n      this.de_DETable = this.translateService.de_DE;\n    }\n    ngOnInit() {\n      var _a, _b;\n      let scopes = this.sso.getScopes();\n      if (scopes['cloud.rbac.coc.operations.configuration.axosmigration']) {\n        if (((_a = scopes['cloud.rbac.coc.operations.configuration.axosmigration']) === null || _a === void 0 ? void 0 : _a.indexOf('read')) !== -1) this.scope['read'] = true;\n        if (((_b = scopes['cloud.rbac.coc.operations.configuration.axosmigration']) === null || _b === void 0 ? void 0 : _b.indexOf('write')) !== -1) this.scope['write'] = true;\n      }\n      this.language = this.translateService.defualtLanguage;\n      this.languageSubject = this.translateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n        //this.tableLanguageOptions();\n        this.rerender();\n      });\n      this.dtOptions = {\n        pagingType: 'full_numbers',\n        pageLength: 10,\n        lengthChange: true,\n        processing: false,\n        dom: 'tipr',\n        stateSave: true,\n        // stateDuration: -1,\n        autoWidth: false,\n        columnDefs: [{\n          targets: [0],\n          orderable: true\n        }, {\n          targets: [1, 2, 3, 4],\n          orderable: false\n        }],\n        order: []\n      };\n      this.languageSubject = this.translateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n        const tempObj = {\n          _iDisplayStart: this.tableCounts.start,\n          _iDisplayLength: this.tableCounts.displayCount,\n          _iRecordsDisplay: this.tableCounts.displayed,\n          _iRecordsTotal: this.tableCounts.total,\n          oPreviousSearch: {\n            sSearch: this.tableCounts.searchText\n          }\n        };\n        this.changeTableStatusLanguage(tempObj);\n        this.tableLanguageOptions();\n      });\n      $(\"body\").off('click', '.languageContent ul li a');\n      $(\"body\").on('click', '.languageContent ul li a', () => {\n        const tempObj = {\n          _iDisplayStart: this.tableCounts.start,\n          _iDisplayLength: this.tableCounts.displayCount,\n          _iRecordsDisplay: this.tableCounts.displayed,\n          _iRecordsTotal: this.tableCounts.total,\n          oPreviousSearch: {\n            sSearch: this.tableCounts.searchText\n          }\n        };\n        this.changeTableStatusLanguage(tempObj);\n      });\n      this.getProfileList();\n      this.tableLanguageOptions();\n    }\n    editProfile(data, type) {\n      var _a, _b, _c;\n      let id = ((_a = data === null || data === void 0 ? void 0 : data.ontSMP) === null || _a === void 0 ? void 0 : _a.id) ? (_b = data === null || data === void 0 ? void 0 : data.ontSMP) === null || _b === void 0 ? void 0 : _b.id : (_c = data === null || data === void 0 ? void 0 : data.rgSMP) === null || _c === void 0 ? void 0 : _c.id;\n      this.router.navigate(['/cco/operations/configuration/migrations/profiles/add'], {\n        queryParams: {\n          smpId: id,\n          type: type\n        }\n      });\n    }\n    closeicon(text) {\n      this.searchtext = \"\";\n      this.showcloseicon = false;\n      this.search(this.searchtext);\n    }\n    changeTableStatusLanguage(dtObj) {\n      const nf = new Intl.NumberFormat();\n      this.tableCounts = {\n        searchText: dtObj.oPreviousSearch.sSearch.replace(/\\s+/g, \"\"),\n        total: dtObj._iRecordsTotal,\n        displayCount: dtObj._iDisplayLength,\n        displayed: dtObj._iRecordsDisplay,\n        start: dtObj._iDisplayStart\n      };\n      const isFrench = sessionStorage.getItem('defaultLanguage') == 'fr';\n      const isSpanish = sessionStorage.getItem('defaultLanguage') == 'es';\n      const isGermen = sessionStorage.getItem('defaultLanguage') == 'de_DE';\n      const filtered = `${dtObj._iRecordsTotal > 10000 && (dtObj.oPreviousSearch.sSearch == '' || dtObj.oPreviousSearch.sSearch != '') ? isFrench ? `(filtrées à partir des  ${nf.format(dtObj._iRecordsTotal)} entrées totales)<br/>` + (this.show ? `<b style=\"font-size: 14px;\">${this.language.searchError}</b>` : '') : isSpanish ? `(filtrado de un total de  ${nf.format(dtObj._iRecordsTotal)} entradas)<br/>` + (this.show ? `<b style=\"font-size: 14px;\">${this.language.searchError}</b>` : '') : isGermen ? `(gefiltert aus  ${nf.format(dtObj._iRecordsTotal)} Einträgen)<br/>` + (this.show ? `<b style=\"font-size: 14px;\">${this.language.searchError}</b>` : '') : `(filtered from  ${nf.format(dtObj._iRecordsTotal)} total entries)<br/>` + (this.show ? `<b style=\"font-size: 14px;\">${this.language.searchError}</b>` : '') : ''}`;\n      const startCount = dtObj._iRecordsDisplay == 0 ? -1 : dtObj._iDisplayStart;\n      const showingCount = dtObj._iDisplayStart + dtObj._iDisplayLength > dtObj._iRecordsDisplay ? dtObj._iRecordsDisplay : dtObj._iDisplayStart + dtObj._iDisplayLength;\n      $('div [role=\"status\"]').html(isFrench ? `Affichage de ${nf.format(startCount + 1)} à ${nf.format(showingCount)} des ${this.firstValues ? this.language.first : ''} ${nf.format(dtObj._iRecordsDisplay)} entrées ${filtered}` : isSpanish ? `Se muestran del ${nf.format(startCount + 1)} al ${nf.format(showingCount)} de ${this.firstValues ? this.language.first : ''} ${nf.format(dtObj._iRecordsDisplay)} resultados ${filtered}` : isGermen ? `Angezeigt ${nf.format(startCount + 1)} bis ${nf.format(showingCount)} von ${this.firstValues ? this.language.first : ''} ${nf.format(dtObj._iRecordsDisplay)} ergebnissen ${filtered}` : `Showing ${nf.format(startCount + 1)} to ${nf.format(showingCount)} of ${this.firstValues ? this.language.first : ''} ${nf.format(dtObj._iRecordsDisplay)} entries ${filtered}`);\n      $(\".first\").text(isFrench ? 'Le début' : isSpanish ? 'Primero' : isGermen ? 'Erste Seite' : 'First');\n      $(\".previous\").text(isFrench ? 'Précédent' : isSpanish ? 'Anterior' : isGermen ? 'Zurück' : 'Previous');\n      $(\".next\").text(isFrench ? 'Suivant' : isSpanish ? 'Siguiente' : isGermen ? 'Weiter' : 'Next');\n      $(\".last\").text(isFrench ? 'Dernière' : isSpanish ? 'Último' : isGermen ? 'Letzte' : 'Last');\n    }\n    tableLanguageOptions(value) {\n      if (this.language.fileLanguage == 'fr') {\n        this.dtOptions.language = this.frTable;\n      } else if (this.language.fileLanguage == 'es') {\n        this.dtOptions.language = this.esTable;\n      } else if (this.language.fileLanguage == 'de_DE') {\n        this.dtOptions.language = this.de_DETable;\n      } else if (this.language.fileLanguage == 'en' && this.dtOptions.language) {\n        delete this.dtOptions.language;\n      }\n    }\n    search(term) {\n      if (term.length) this.showcloseicon = true;else this.showcloseicon = false;\n      this.datatableElement.dtInstance.then(dtInstance => {\n        dtInstance.columns(0).search(term).draw();\n      });\n    }\n    getProfileList(val) {\n      if (val) {\n        this.dtTrigger.next();\n      }\n      this.loader = true;\n      const that = this;\n      let pageNumber;\n      let url = `${environment.COC_SERVICE_MIGRATION_URL}/migration/smps`;\n      this.dtOptions = {\n        pagingType: 'full_numbers',\n        pageLength: 10,\n        serverSide: true,\n        processing: false,\n        search: false,\n        destroy: true,\n        //paging: true,\n        dom: \"tipr\",\n        columnDefs: [{\n          targets: [0],\n          orderable: true\n        }, {\n          targets: [1, 2, 3, 4],\n          orderable: false\n        }],\n        order: [],\n        //responsive: true,\n        drawCallback: settings => {\n          this.Settings = settings;\n          this.changeTableStatusLanguage(settings);\n          this._iDisplayStart = settings._iDisplayStart;\n          let total = settings.aoData.length;\n          let length = settings._iDisplayLength;\n          // if (total <= length) {\n          //   $(settings.nTableWrapper).find(`#${settings.sTableId}_last`).addClass('disabled');\n          // }\n        },\n\n        ajax: (dataTablesParameters, callback) => {\n          var _a;\n          if (this.Settings && dataTablesParameters.start == 9990) {\n            this.show = true;\n            this.changeTableStatusLanguage(this.Settings);\n          } else {\n            this.show = false;\n          }\n          let limit,\n            value,\n            pageSize = 10;\n          pageNumber = Math.round(dataTablesParameters.start / pageSize);\n          this.sortedColumnDetails = (_a = dataTablesParameters.order[0]) === null || _a === void 0 ? void 0 : _a.dir;\n          // if (dataTablesParameters.start == 0) {\n          //   pageNumber = 0;\n          // } else {\n          //   pageNumber = dataTablesParameters.start / dataTablesParameters.length;\n          // }\n          // if(!this.sortedColumnDetails) this.sortedColumnDetails = 'asc'\n          // var params:any = {\"page\": `${pageNumber }`,\"size\": pageSize,sort:`name,${this.sortedColumnDetails}`}\n          var params = {\n            \"filter\": `${this.searchtext || ''}`,\n            \"page\": `${pageNumber}`,\n            \"size\": pageSize\n          };\n          if (this.sortedColumnDetails) params = Object.assign(Object.assign({}, params), {\n            sort: `name,${this.sortedColumnDetails}`\n          });\n          this.searchsub = that.http.get(url, {\n            params: params\n          }).subscribe(resp => {\n            this.tableCount = (resp === null || resp === void 0 ? void 0 : resp.totalNumberRecords) ? resp === null || resp === void 0 ? void 0 : resp.totalNumberRecords : 0;\n            //this.rerender()\n            this.profileList = (resp === null || resp === void 0 ? void 0 : resp.result) ? resp === null || resp === void 0 ? void 0 : resp.result : [];\n            that.dataAvailable = true;\n            callback({\n              recordsTotal: that.tableCount,\n              recordsFiltered: that.tableCount,\n              data: []\n            });\n            that.loader = false;\n            // let element = (document.getElementsByClassName('dataTables_empty')[0] as HTMLElement)\n            // if(element) element.style.display = resp.length ? 'none' : 'table-cell';\n          }, err => {\n            that.loader = false;\n            if (err.status == 404) {\n              callback({\n                recordsTotal: 0,\n                recordsFiltered: 0,\n                data: []\n              });\n            } else {\n              this.pageErrorHandle(err);\n            }\n          });\n        }\n      };\n    }\n    ngAfterViewInit() {\n      this.dtTrigger.next();\n    }\n    rerender() {\n      var _a, _b;\n      (_b = (_a = this.datatableElement) === null || _a === void 0 ? void 0 : _a.dtInstance) === null || _b === void 0 ? void 0 : _b.then(dtInstance => {\n        var _a;\n        dtInstance === null || dtInstance === void 0 ? void 0 : dtInstance.destroy();\n        (_a = this.dtTrigger) === null || _a === void 0 ? void 0 : _a.next();\n      });\n    }\n    showdetails(data, type) {\n      var _a, _b, _c;\n      this.detail = data;\n      let id = ((_a = data === null || data === void 0 ? void 0 : data.ontSMP) === null || _a === void 0 ? void 0 : _a.id) ? (_b = data === null || data === void 0 ? void 0 : data.ontSMP) === null || _b === void 0 ? void 0 : _b.id : (_c = data === null || data === void 0 ? void 0 : data.rgSMP) === null || _c === void 0 ? void 0 : _c.id;\n      this.router.navigate(['/cco/operations/configuration/migrations/profiles/detail'], {\n        queryParams: {\n          smpId: id,\n          type: type\n        }\n      });\n    }\n    deleteProfile(data, type) {\n      var _a, _b, _c, _d;\n      this.deviceType = type;\n      this.smpId = ((_a = data === null || data === void 0 ? void 0 : data.ontSMP) === null || _a === void 0 ? void 0 : _a.id) ? (_b = data === null || data === void 0 ? void 0 : data.ontSMP) === null || _b === void 0 ? void 0 : _b.id : (_c = data === null || data === void 0 ? void 0 : data.rgSMP) === null || _c === void 0 ? void 0 : _c.id;\n      this.deletedata = (data === null || data === void 0 ? void 0 : data.ontSMP) ? data === null || data === void 0 ? void 0 : data.ontSMP : data === null || data === void 0 ? void 0 : data.rgSMP;\n      this.modalInfo = (_d = this.deletedata) === null || _d === void 0 ? void 0 : _d.name;\n      $(\"html, body\").animate({\n        scrollTop: 0\n      }, \"slow\");\n    }\n    DeleteProfile() {\n      this.loader = true;\n      this.service.DeleteProfile(this.smpId, this.sso.getOrgId(), this.deviceType).subscribe(res => {\n        this.success = true;\n        this.loader = false;\n        this.deletedata = \"\";\n        this.successInfo = (res === null || res === void 0 ? void 0 : res.message) ? res.message : res;\n        this.getProfileList(true);\n      }, err => {\n        this.loader = false;\n        this.deletedata = \"\";\n        this.pageErrorHandle(err);\n      });\n    }\n    closeModal() {\n      this.deletedata = \"\";\n    }\n    // getProfileList(){\n    //   this.loader=true\n    //   this.getAllProfileData = this.service.GetAllProfile(this.sso.getOrgId(),0,1).subscribe((res: any) => {\n    //       this.profileList = res? res?.result:[];\n    //       if (this.isTableLoaded) {\n    //         this.rerender();\n    //       } else {\n    //         this.isTableLoaded = true;\n    //         this.dtTrigger.next();\n    //       }\n    //       this.loader=false\n    //     }, (err: HttpErrorResponse) => {\n    //       if (this.isTableLoaded) {\n    //         this.rerender();\n    //       } else {\n    //         this.isTableLoaded = true;\n    //         this.dtTrigger.next();\n    //       }\n    //       this.loader=false\n    //       this.pageErrorHandle(err);\n    //     })\n    // }\n    pageErrorHandle(err) {\n      if (err.status == 401) {\n        this.errorInfo = this.language['Access Denied'];\n      } else {\n        this.errorInfo = this.commonOrgService.pageErrorHandle(err);\n      }\n      this.error = true;\n      this.loader = false;\n    }\n    ngOnDestroy() {\n      //this.dtTrigger.unsubscribe();\n      if (this.languageSubject) {\n        this.languageSubject.unsubscribe();\n      }\n    }\n    gotoAdd() {\n      this.router.navigate(['/cco/operations/configuration/migrations/profiles/add']);\n    }\n    closeAlert() {\n      this.error = false;\n      this.errorInfo = '';\n    }\n    setSuccessInfo(msg) {\n      this.success = true;\n      this.successInfo = msg;\n      setTimeout(() => {\n        this.success = false;\n      }, 2000);\n    }\n  }\n  ListComponent.ɵfac = function ListComponent_Factory(t) {\n    return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TranslateService), i0.ɵɵdirectiveInject(i3.ProfileService), i0.ɵɵdirectiveInject(i4.SsoAuthService), i0.ɵɵdirectiveInject(i5.CommonService), i0.ɵɵdirectiveInject(i6.HttpClient));\n  };\n  ListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListComponent,\n    selectors: [[\"app-list\"]],\n    viewQuery: function ListComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(DataTableDirective, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.datatableElement = _t.first);\n      }\n    },\n    decls: 29,\n    vars: 18,\n    consts: [[1, \"container\", \"px-0\"], [\"class\", \"d-flex justify-content-between\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-danger fade show my-3\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-success fade show my-3\", 4, \"ngIf\"], [\"class\", \"loader\", 4, \"ngIf\"], [\"class\", \"py-3 warning-msg\", 4, \"ngIf\"], [1, \"text-right\", \"ccl-form\", \"position-relative\"], [\"type\", \"text\", \"placeholder\", \"Search\", \"id\", \"data-filter-input\", 1, \"max-w-227px\", \"pr-4\", 3, \"ngModel\", \"ngModelChange\", \"keyup\", \"search\"], [1, \"pointer\", \"close-pointer\", \"clear-icon\", 3, \"ngClass\", \"click\"], [\"src\", \"../../../assets/img/close-icon.svg\", \"alt\", \"\", 4, \"ngIf\"], [\"id\", \"subscriber-template\", \"datatable\", \"\", 1, \"w-100\", 3, \"dtOptions\", \"dtTrigger\"], [1, \"w-25\"], [1, \"migration-col\"], [1, \"w-20\"], [3, \"hidden\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"d-flex\", \"justify-content-between\"], [\"type\", \"button\", 1, \"btn-default\", \"primary\", \"px-3\", \"mb-3\", 3, \"click\"], [1, \"w-100\", \"alert\", \"alert-danger\", \"fade\", \"show\", \"my-3\"], [1, \"error-img\"], [\"src\", \"./assets/img/ic_error-36px.svg\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [1, \"d-inline-flex\", 3, \"innerHtml\"], [1, \"w-100\", \"alert\", \"alert-success\", \"fade\", \"show\", \"my-3\"], [1, \"success-img\"], [\"src\", \"./assets/img/success-icon.svg\"], [1, \"loader\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"spinner-border\", \"text-primary\"], [1, \"sr-only\"], [1, \"py-3\", \"warning-msg\"], [\"src\", \"./assets/img/warning-icon.svg\"], [1, \"di-inline-wrap\"], [1, \"btn-con-sec\", \"float-right\"], [\"id\", \"deletePFBtn\", 1, \"btn-default\", \"btn-primary\", \"mr-2\", 3, \"click\"], [1, \"btn-default\", \"btn-dft\", \"py-1\", 3, \"click\"], [\"src\", \"../../../assets/img/close-icon.svg\", \"alt\", \"\"], [1, \"text-break\", 3, \"click\"], [\"href\", \"javascript:void(0)\", 1, \"text-decoration-none\"], [1, \"description-text\", \"text-break\"], [1, \"\", 3, \"hidden\"], [1, \"dropdown\", \"dropleft\"], [\"type\", \"button\", \"data-boundary\", \"viewport\", \"data-toggle\", \"dropdown\", 1, \"list-button\"], [1, \"text-left\"], [1, \"dropdown-menu\"], [1, \"btn\", \"btn-white\", 3, \"click\"], [\"colspan\", \"8\", 1, \"no-data-available\"]],\n    template: function ListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵtemplate(2, ListComponent_div_2_Template, 4, 1, \"div\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, ListComponent_div_3_Template, 6, 1, \"div\", 2);\n        i0.ɵɵtemplate(4, ListComponent_div_4_Template, 6, 1, \"div\", 3);\n        i0.ɵɵelementStart(5, \"section\");\n        i0.ɵɵtemplate(6, ListComponent_div_6_Template, 5, 1, \"div\", 4);\n        i0.ɵɵtemplate(7, ListComponent_div_7_Template, 13, 4, \"div\", 5);\n        i0.ɵɵelementStart(8, \"div\", 6);\n        i0.ɵɵelementStart(9, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function ListComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.searchtext = $event;\n        })(\"keyup\", function ListComponent_Template_input_keyup_9_listener($event) {\n          return ctx.search($event.target.value);\n        })(\"search\", function ListComponent_Template_input_search_9_listener($event) {\n          return ctx.search($event.target.value);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"span\", 8);\n        i0.ɵɵlistener(\"click\", function ListComponent_Template_span_click_10_listener($event) {\n          return ctx.closeicon($event.target.value);\n        });\n        i0.ɵɵtemplate(11, ListComponent_img_11_Template, 1, 0, \"img\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"table\", 10);\n        i0.ɵɵelementStart(13, \"thead\");\n        i0.ɵɵelementStart(14, \"tr\");\n        i0.ɵɵelementStart(15, \"th\", 11);\n        i0.ɵɵtext(16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"th\");\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"th\", 12);\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"th\", 13);\n        i0.ɵɵtext(22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"th\", 14);\n        i0.ɵɵtext(24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"tbody\");\n        i0.ɵɵtemplate(26, ListComponent_tr_26_Template, 22, 7, \"tr\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(27, ListComponent_tbody_27_Template, 4, 0, \"tbody\", 16);\n        i0.ɵɵelement(28, \"tbody\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.scope[\"write\"]);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.success);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.loader);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.deletedata);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchtext);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", ctx.showcloseicon ? \"\" : \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.searchtext);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"dtOptions\", ctx.dtOptions)(\"dtTrigger\", ctx.dtTrigger);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.language[\"Name\"]);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.language[\"Decription\"]);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.language[\"Migration Type\"]);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.language[\"Service_Type\"]);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"hidden\", !ctx.scope[\"write\"]);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.language[\"Action\"]);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.profileList);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.profileList == null ? null : ctx.profileList.length) === 0);\n      }\n    },\n    directives: [i7.NgIf, i8.DefaultValueAccessor, i8.NgControlStatus, i8.NgModel, i7.NgClass, i9.DataTableDirective, i7.NgForOf],\n    styles: [\".max-w-227px[_ngcontent-%COMP%]{max-width:227px}.list-button[_ngcontent-%COMP%]{margin-left:15px;padding:0;color:#212529;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;font-size:1rem;line-height:23px;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;border:none!important}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 5px 15px #80808040;-webkit-box-shadow:0px 5px 15px rgba(128,128,128,.25);border-color:#0000000d!important;min-width:143px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{width:100%!important;border-radius:0!important;text-align:left;padding:10px 25px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:hover{background-color:#edf5ff!important}[_nghost-%COMP%]     .dataTables_empty{display:none}.no-data-available[_ngcontent-%COMP%]{text-align:center}.clear-icon[_ngcontent-%COMP%]{position:absolute;right:12px;top:5px}.clear-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10px}.description-text[_ngcontent-%COMP%]{max-width:230px}.migration-col[_ngcontent-%COMP%]{max-width:130px}\"]\n  });\n  return ListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}