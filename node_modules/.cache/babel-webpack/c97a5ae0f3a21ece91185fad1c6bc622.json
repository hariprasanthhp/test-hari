{"ast":null,"code":"import { forkJoin } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app-services/translate.service\";\nimport * as i2 from \"src/app/shared/services/sso-auth.service\";\nimport * as i3 from \"src/app/support/netops-management/operations/services/category-config.service\";\nimport * as i4 from \"../profile.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"src/app/sys-admin/services/common.service\";\nimport * as i7 from \"@angular/platform-browser\";\nimport * as i8 from \"../../cco-subscriber-templates/subscriber-templates/subscribers/service/subscriber.service\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"./start/start.component\";\nimport * as i11 from \"./process/process.component\";\nfunction AddComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.language[\"Access denied due to RBAC. Please consult your Organization Administrator for access.\"], \" \");\n  }\n}\nfunction AddComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵelementStart(2, \"div\", 6);\n    i0.ɵɵelementStart(3, \"span\", 7);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.language.Loading);\n  }\n}\nfunction AddComponent_div_2_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵelementStart(1, \"span\", 27);\n    i0.ɵɵelement(2, \"img\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function AddComponent_div_2_div_9_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return ctx_r10.error = false;\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r3.errorInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction AddComponent_div_2_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵelementStart(1, \"span\", 31);\n    i0.ɵɵelement(2, \"img\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function AddComponent_div_2_div_10_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return ctx_r12.success = false;\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r4.language[ctx_r4.successInfo] || ctx_r4.successInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"step-done\": a0,\n    \"step-current\": a1\n  };\n};\nfunction AddComponent_div_2_li_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function AddComponent_div_2_li_13_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const i_r15 = restoredCtx.index;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return ctx_r16.onTabChange(i_r15);\n    });\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tab_r14 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"title\", ctx_r5.language[tab_r14]);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(3, _c0, ctx_r5.addProfileObj.start.name && tab_r14 === \"Start\" && ctx_r5.activeTab !== tab_r14 || ctx_r5.addProfileObj.buildProfile.allfieldvalid && tab_r14 === \"Build Profile\" && ctx_r5.activeTab !== tab_r14, ctx_r5.activeTab === tab_r14));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.language[tab_r14]);\n  }\n}\nfunction AddComponent_div_2_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function AddComponent_div_2_button_18_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      ctx_r18.onTabChange(ctx_r18.selectedTabIndex + 1);\n      return ctx_r18.submitted = true;\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"img\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r6.saveDisabled || ctx_r6.disableSave);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.language.Next, \" \");\n  }\n}\nfunction AddComponent_div_2_button_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function AddComponent_div_2_button_19_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return ctx_r20.onSave();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.language.Finish, \" \");\n  }\n}\nfunction AddComponent_div_2_app_start_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-start\", 37);\n    i0.ɵɵlistener(\"Out_Start_Focus\", function AddComponent_div_2_app_start_20_Template_app_start_Out_Start_Focus_0_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return ctx_r22.saveEnableDisable($event);\n    })(\"Out_Name_Error\", function AddComponent_div_2_app_start_20_Template_app_start_Out_Name_Error_0_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return ctx_r24.CopyName($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"submitted\", ctx_r8.submitted)(\"addProfileObj\", ctx_r8.addProfileObj);\n  }\n}\nfunction AddComponent_div_2_app_process_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-process\", 38);\n    i0.ɵɵlistener(\"globleVlanErrMsg\", function AddComponent_div_2_app_process_21_Template_app_process_globleVlanErrMsg_0_listener($event) {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return ctx_r25.vlanValidation($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"buildProfileObj\", ctx_r9.addProfileObj.buildProfile)(\"addProfileObj\", ctx_r9.addProfileObj);\n  }\n}\nfunction AddComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelementStart(1, \"div\", 9);\n    i0.ɵɵelementStart(2, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function AddComponent_div_2_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return ctx_r27.gotolist();\n    });\n    i0.ɵɵelement(3, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 11);\n    i0.ɵɵelementStart(5, \"div\", 12);\n    i0.ɵɵelementStart(6, \"span\", 13);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 8);\n    i0.ɵɵtemplate(9, AddComponent_div_2_div_9_Template, 6, 1, \"div\", 14);\n    i0.ɵɵtemplate(10, AddComponent_div_2_div_10_Template, 6, 1, \"div\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"section\", 16);\n    i0.ɵɵelementStart(12, \"ul\", 17);\n    i0.ɵɵtemplate(13, AddComponent_div_2_li_13_Template, 4, 6, \"li\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 19);\n    i0.ɵɵelementStart(15, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function AddComponent_div_2_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return ctx_r29.onTabChange(ctx_r29.selectedTabIndex - 1);\n    });\n    i0.ɵɵelement(16, \"img\", 21);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, AddComponent_div_2_button_18_Template, 3, 2, \"button\", 22);\n    i0.ɵɵtemplate(19, AddComponent_div_2_button_19_Template, 2, 1, \"button\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, AddComponent_div_2_app_start_20_Template, 1, 2, \"app-start\", 24);\n    i0.ɵɵtemplate(21, AddComponent_div_2_app_process_21_Template, 1, 2, \"app-process\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r2.language.Wizard);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.error);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.success);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.addProfileTab);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.selectedTabIndex === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.language.Previous, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectedTabIndex + 1 !== (ctx_r2.addProfileTab == null ? null : ctx_r2.addProfileTab.length));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectedTabIndex + 1 === (ctx_r2.addProfileTab == null ? null : ctx_r2.addProfileTab.length));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.activeTab === \"Start\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.activeTab === \"Build Profile\");\n  }\n}\nexport let AddComponent = /*#__PURE__*/(() => {\n  class AddComponent {\n    constructor(translateService, ssoService, categoryConfigService, service, router, route, commonOrgService, titleService, subscriberService) {\n      var _a, _b;\n      this.translateService = translateService;\n      this.ssoService = ssoService;\n      this.categoryConfigService = categoryConfigService;\n      this.service = service;\n      this.router = router;\n      this.route = route;\n      this.commonOrgService = commonOrgService;\n      this.titleService = titleService;\n      this.subscriberService = subscriberService;\n      this.selectedTabIndex = 0;\n      this.isTabChange = true;\n      this.categoryListData = [];\n      this.loading = false;\n      this.showOverViewPage = false;\n      this.profileTableData = [];\n      this.innerProfileCategory = [];\n      this.addProfileTab = ['Start', 'Build Profile'];\n      this.submitted = false;\n      this.addProfileObj = {\n        addProfileTab: this.addProfileTab,\n        start: {\n          name: undefined,\n          description: undefined,\n          isNameEntered: false,\n          count: 0\n        },\n        buildProfile: {\n          typeofprofile: undefined,\n          property: {\n            Vlans: [],\n            bandwidth: {},\n            servicetemplate: {}\n          },\n          isvalid: false,\n          all_service_field_valid: true,\n          allfieldvalid: false,\n          allProfileData: this.profileTableData,\n          isStepperClicked: false,\n          innerProfileCategory: this.innerProfileCategory,\n          disableAddCategoryBtn: true,\n          isFromDataModel: (_a = history.state) === null || _a === void 0 ? void 0 : _a.isDataModel,\n          dataModelCategoryObj: {\n            isFormValid: false,\n            name: 'Set Parameter Value',\n            displayName: 'Set Parameter Value',\n            parameters: (_b = history.state) === null || _b === void 0 ? void 0 : _b.dataModel\n          },\n          exisitingCategory: [],\n          categoryList: [],\n          reviewPageCategoryList: []\n        }\n      };\n      this.errorMsg = undefined;\n      this.isNewRecord = true;\n      this.activeTab = 'Start';\n      this.success = false;\n      this.NEW_CATEGORY_BUTTON_DISABLE = ['Bandwidth', 'DHCP Option82', 'Video - Multicast Range Filters', 'Video - Multicast VLAN Registration (MVR)'];\n      this.hasScopeAccess = false;\n      this.loadingRecords = true;\n      this.vlanValue = false;\n      this.disableSave = false;\n      this.isCOC = false;\n      this.findDuplicates = arr => {\n        let sorted_arr = arr;\n        let results = [];\n        for (let i = 0; i < sorted_arr.length - 1; i++) {\n          if (sorted_arr[i + 1] == sorted_arr[i]) {\n            results.push(sorted_arr[i]);\n          }\n        }\n        return results;\n      };\n      this.isCOC = this.router.url.includes('cco/services');\n      this.route.queryParams.subscribe(params => {\n        if (params['name']) {\n          this.name = params['name'];\n        } else {\n          this.name = params['name'];\n        }\n        if (params['type']) {\n          this.type = params['type'];\n        } else {\n          this.type = params['type'];\n        }\n        if (params['key']) {\n          this.key = params['key'];\n        }\n        if (this.name) {\n          this.edit = true;\n          this.addProfileObj.buildProfile.allfieldvalid = true;\n          this.getsubscriber();\n        }\n      });\n    }\n    setTitle() {\n      this.titleService.setTitle(this.isCOC ? `${this.language['ONT Services Profiles']} - ${this.language['Services Profiles']} - ${this.language['Services']} - ${this.language['Operations']} - ${this.language['Calix Cloud']}` : `${this.language['ONT Services Profiles']}  - ${this.language['Workflow Prerequisites']} - ${this.language['configuration']} - ${this.language['Deployment']} - ${this.language['Calix Cloud']}`);\n    }\n    ngOnInit() {\n      // this.addProfileObj = {\n      //   addProfileTab: this.addProfileTab,\n      //   start: {\n      //     name: undefined,\n      //     description: undefined,\n      //     isNameEntered: true\n      //   },\n      //   buildProfile: {\n      //     allProfileData: this.profileTableData,\n      //     isStepperClicked: false,\n      //     innerProfileCategory: this.innerProfileCategory,\n      //     disableAddCategoryBtn: true,\n      //     isFromDataModel: history.state.isDataModel,\n      //     dataModelCategoryObj: {\n      //       isFormValid: false,\n      //       name: 'Set Parameter Value',\n      //       displayName: 'Set Parameter Value',\n      //       parameters: history.state.dataModel,\n      //     },\n      //     exisitingCategory: [],\n      //     categoryList: [],\n      //     reviewPageCategoryList: [],\n      //     property: {\n      var _a;\n      //     },\n      //     voiceDataVideoServiceData: {}\n      //   }\n      // }\n      this.orgId = this.ssoService.getOrgId();\n      this.language = this.translateService.defualtLanguage;\n      this.languageSubject = this.translateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n        this.setTitle();\n      });\n      this.setTitle();\n      let scopes = this.ssoService.getScopes();\n      if (scopes && (scopes['cloud.rbac.coc.services.serviceprofiles.serviceprofiles'] || this.router.url.includes('cco-foundation') && scopes['cloud.rbac.foundation.configurations'])) {\n        this.hasScopeAccess = true;\n      }\n      if (!this.hasScopeAccess) {\n        this.ssoService.setPageAccess(false);\n        return;\n      }\n      //this.getProfileData();\n      // this.name = this.route.snapshot.paramMap.get(\"id\");\n      // this.type = this.route.snapshot.paramMap.get(\"type\");\n      // if (this.name) {\n      //   this.edit = true;\n      //   this.addProfileObj.buildProfile.allfieldvalid = true;\n      //   this.getsubscriber();\n      // }\n      this.onTabChange(0);\n      this.getallprofile();\n      if ((_a = history.state) === null || _a === void 0 ? void 0 : _a.isOverview) {\n        // this.patchValue();\n      }\n    }\n    getsubscriber() {\n      this.loading = true;\n      this.service.getsubscriberDetail(this.name, this.type).subscribe(data => {\n        this.setoption(data);\n        this.loading = false;\n      }, err => {\n        // this.error = true;\n        // this.errorInfo = err.error.message;\n        this.loading = false;\n        this.setoption({});\n      });\n    }\n    setoption(data) {\n      var _a, _b, _c;\n      this.addProfileObj = {\n        addProfileTab: this.addProfileTab,\n        start: {\n          name: data.name ? data.name : \"\",\n          description: data.description ? data.description : \"\",\n          isNameEntered: true,\n          count: 0\n        },\n        buildProfile: {\n          typeofprofile: this.type == \"Service Defintion\" ? \"service_Definition_Profile\" : this.type == \"Subscriber\" ? \"subscriber_profile\" : this.type == \"Bandwidth tier\" ? \"bandWidth_profile\" : this.type == \"ouiMatchList\" ? \"oui_profile\" : this.type == 'Multicast Range' ? 'Multicast_Range_Profile' : this.type == 'Multicast VLAN' ? 'Multicast_Vlan_Profile' : \"\",\n          property: [],\n          isvalid: false,\n          all_service_field_valid: true,\n          allfieldvalid: true,\n          // subscribertemplate: data.serviceTemplateName ? data.serviceTemplateName : \"\",\n          // bandWidth: data.tierName ? data.tierName : \"\",\n          // isvalid: false\n          allProfileData: this.profileTableData,\n          isStepperClicked: false,\n          innerProfileCategory: this.innerProfileCategory,\n          disableAddCategoryBtn: true,\n          isFromDataModel: (_a = history.state) === null || _a === void 0 ? void 0 : _a.isDataModel,\n          dataModelCategoryObj: {\n            isFormValid: false,\n            name: 'Set Parameter Value',\n            displayName: 'Set Parameter Value',\n            parameters: (_b = history.state) === null || _b === void 0 ? void 0 : _b.dataModel\n          },\n          exisitingCategory: [],\n          categoryList: [],\n          reviewPageCategoryList: [],\n          voiceDataVideoServiceData: {\n            parameterValues: data === null || data === void 0 ? void 0 : data.acsJsonb\n          }\n        }\n      };\n      if (this.type == 'Service Defintion') {\n        this.addProfileObj.buildProfile.property.servicedefinition = data;\n      } else if (this.type == 'Subscriber') {\n        this.addProfileObj.buildProfile.property.servicetemplate = data;\n        this.addProfileObj.buildProfile.property.Vlans = data.vlans ? data.vlans : [];\n        this.addProfileObj.buildProfile.property.servicetemplate.VlanTagAction = (_c = data === null || data === void 0 ? void 0 : data.acsJsonb) === null || _c === void 0 ? void 0 : _c.VlanTagAction;\n        // this.addProfileObj.buildProfile.property.Servicetype = data.serviceType ? data.serviceType : \"\",\n        //   this.addProfileObj.buildProfile.property.CeVlan = data.ceVlan ? data.ceVlan : \"\",\n        //   this.addProfileObj.buildProfile.property.VlanMode = data.vlanMode ? data.vlanMode : \"\",\n        //   this.addProfileObj.buildProfile.property.Vlans = data.vlans ? data.vlans : [],\n        //   this.addProfileObj.buildProfile.property.SubscribersPerVlan = data.subscribersPerVlan ? data.subscribersPerVlan : \"\"\n        // if (data.serviceType == \"VOICE\") {\n        //   this.addProfileObj.buildProfile.property.priH248GwController = data.h248Profile ? data.h248Profile : \"\",\n        //     this.addProfileObj.buildProfile.property.secH248GwController = data.dialPlan ? data.dialPlan : \"\",\n        //     this.addProfileObj.buildProfile.property.sipProxyServerAddress = data.sipProfile ? data.sipProfile : \"\"\n        // }\n        // if (data.serviceType == \"VIDEO\") {\n        //   this.addProfileObj.buildProfile.property.multicastProfile = data.multicastProfile\n        // }\n      } else if (this.type == \"Bandwidth tier\") {\n        this.addProfileObj.buildProfile.property.bandwidth = data;\n      } else if (this.type == \"ouiMatchList\") {\n        this.addProfileObj.buildProfile.property.oui = data.ouiListValues;\n      } else if (this.type == \"Multicast Range\") {\n        this.addProfileObj.buildProfile.property.multirange = data.filters;\n      } else if (this.type == \"Multicast VLAN\") {\n        this.addProfileObj.buildProfile.property.multicastvlans = data.vlans;\n      }\n    }\n    saveEnableDisable(isDisabled) {\n      this.saveDisabled = isDisabled;\n    }\n    CopyName(val) {\n      this.disableSave = val;\n    }\n    vlanValidation(event) {\n      this.vlanValue = event;\n    }\n    onTabChange(index) {\n      if (this.addProfileObj.start.name) {\n        //  if (this.addProfileObj.start.name.indexOf(' ') != 0)\n        // if (!(this.addProfileObj.start.name.includes(\" \")))\n        //{\n        this.activeTab = this.addProfileTab[index];\n        this.addProfileObj.start.isNameEntered = true;\n        this.selectedTabIndex = index;\n      } else {\n        this.addProfileObj.start.isNameEntered = index !== 0 ? false : true;\n        this.addProfileObj.buildProfile.isvalid = index !== 1 ? false : true;\n      }\n      // } else {\n      //   this.addProfileObj.start.isNameEntered = (index !== 0) ? false : true;\n      //   this.addProfileObj.buildProfile.isvalid = (index !== 1) ? false : true;\n      // }\n    }\n\n    gotolist() {\n      this.router.navigate([this.isCOC ? '/cco/services/service-profiles/ONT-profile' : 'cco-foundation/foundation-configuration/configuration-prerequisites/foundation-profiles/ONT-profile']);\n    }\n    onSave() {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28;\n      //debugger;\n      // this.submitted = true;\n      // if (this.SubscriberForm.invalid) {\n      //   return;\n      // } typeofprofile: undefined,\n      // property: [],\n      // isvalid: false\n      // console.log(this.addProfileObj)\n      if (this.addProfileObj.buildProfile.typeofprofile === 'oui_profile') {\n        this.valid = this.findDuplicates(this.addProfileObj.buildProfile.property.oui);\n      }\n      if (!this.addProfileObj.buildProfile.typeofprofile || !this.addProfileObj.buildProfile.allfieldvalid || this.addProfileObj.buildProfile.typeofprofile === 'oui_profile' && this.valid.length !== 0) {\n        this.addProfileObj.buildProfile.isvalid = false;\n        return;\n      } else this.addProfileObj.buildProfile.isvalid = true;\n      if (!((_a = this.addProfileObj.buildProfile) === null || _a === void 0 ? void 0 : _a.isvalid)) {\n        return;\n      }\n      let data = {\n        name: this.addProfileObj.start.name,\n        description: this.addProfileObj.start.description ? this.addProfileObj.start.description : \"\"\n      };\n      if (this.addProfileObj.buildProfile.typeofprofile == \"subscriber_profile\") {\n        if (this.addProfileObj.buildProfile.property.servicetemplate.vlanType == 'Global') {\n          if (this.addProfileObj.buildProfile.property.servicetemplate.globalVlan && this.vlanValue) {\n            return;\n          }\n          if (!this.addProfileObj.buildProfile.property.servicetemplate.globalVlan) {\n            return;\n          }\n          if (this.addProfileObj.buildProfile.property.servicetemplate.globalVlan) {\n            delete this.addProfileObj.buildProfile.property.Vlans;\n          }\n        }\n        if (this.addProfileObj.buildProfile.property.servicetemplate.vlanType == 'Static') {\n          delete this.addProfileObj.buildProfile.property.servicetemplate.globalVlan;\n        }\n        if (this.addProfileObj.buildProfile.property.servicetemplate.serviceType == \"DATA\") {\n          if (((_b = this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues) === null || _b === void 0 ? void 0 : _b.X_000631_VlanMux8021p) === undefined || !((_c = this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues) === null || _c === void 0 ? void 0 : _c.productFamily) || !((_d = this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues) === null || _d === void 0 ? void 0 : _d.Mode)) {\n            return;\n          }\n          if (((_f = (_e = this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues) === null || _e === void 0 ? void 0 : _e.ExosBridgedInterface) === null || _f === void 0 ? void 0 : _f.length) == 0) {\n            return;\n          }\n          if (this.addProfileObj.buildProfile.property.servicetemplate.secondaryDnsServer && !this.addProfileObj.buildProfile.property.servicetemplate.primaryDnsServer) {\n            return;\n          }\n          delete this.addProfileObj.buildProfile.property.servicetemplate.Type;\n          data = Object.assign(data, {\n            primaryDnsServer: this.addProfileObj.buildProfile.property.servicetemplate.primaryDnsServer,\n            secondaryDnsServer: this.addProfileObj.buildProfile.property.servicetemplate.secondaryDnsServer\n          });\n        }\n        data = Object.assign(data, {\n          \"serviceType\": this.addProfileObj.buildProfile.property.servicetemplate.serviceType,\n          \"ceVlan\": this.addProfileObj.buildProfile.property.servicetemplate.ceVlan,\n          \"Type\": this.addProfileObj.buildProfile.property.servicetemplate.Type,\n          \"vlanMode\": this.addProfileObj.buildProfile.property.servicetemplate.vlanMode,\n          \"ipAddressingType\": \"v4\",\n          \"globalVlan\": this.addProfileObj.buildProfile.property.servicetemplate.globalVlan,\n          \"vlanType\": this.addProfileObj.buildProfile.property.servicetemplate.vlanType,\n          \"vlans\": ((_g = this.addProfileObj.buildProfile.property) === null || _g === void 0 ? void 0 : _g.Vlans) ? this.addProfileObj.buildProfile.property.Vlans.map(String) : '',\n          \"subscribersPerVlan\": this.addProfileObj.buildProfile.property.servicetemplate.subscribersPerVlan\n        });\n        if (this.addProfileObj.buildProfile.property.servicetemplate.serviceType == \"VOICE\") {\n          if (this.addProfileObj.buildProfile.property.servicetemplate.secondaryDnsServer && !this.addProfileObj.buildProfile.property.servicetemplate.primaryDnsServer) {\n            return;\n          }\n          if (!((_h = this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues) === null || _h === void 0 ? void 0 : _h.X_000631_VlanMux8021p) || !((_j = this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues) === null || _j === void 0 ? void 0 : _j.Model)) {\n            return;\n          }\n          data = Object.assign(data, {\n            primaryDnsServer: this.addProfileObj.buildProfile.property.servicetemplate.primaryDnsServer,\n            secondaryDnsServer: this.addProfileObj.buildProfile.property.servicetemplate.secondaryDnsServer\n          });\n        }\n        if (this.addProfileObj.buildProfile.property.servicetemplate.serviceType == \"VOICE\") {\n          if (this.addProfileObj.buildProfile.property.servicetemplate.Type == 'SIP') {\n            (_o = (_m = (_l = (_k = this.addProfileObj) === null || _k === void 0 ? void 0 : _k.buildProfile) === null || _l === void 0 ? void 0 : _l.property) === null || _m === void 0 ? void 0 : _m.servicetemplate) === null || _o === void 0 ? true : delete _o.h248Profile;\n            // if (!this.addProfileObj?.buildProfile?.voiceDataVideoServiceData?.parameterValues?.ProxyServer ||!this.addProfileObj?.buildProfile?.voiceDataVideoServiceData?.parameterValues?.RTPCodec1st) {\n            //   return\n            // }\n            if (((_p = this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues) === null || _p === void 0 ? void 0 : _p.Model) === \"T-Series\") {\n              if (!((_t = (_s = (_r = (_q = this.addProfileObj) === null || _q === void 0 ? void 0 : _q.buildProfile) === null || _r === void 0 ? void 0 : _r.voiceDataVideoServiceData) === null || _s === void 0 ? void 0 : _s.parameterValues) === null || _t === void 0 ? void 0 : _t.RegistrarServer) || !((_x = (_w = (_v = (_u = this.addProfileObj) === null || _u === void 0 ? void 0 : _u.buildProfile) === null || _v === void 0 ? void 0 : _v.voiceDataVideoServiceData) === null || _w === void 0 ? void 0 : _w.parameterValues) === null || _x === void 0 ? void 0 : _x.RegistrarServerPort) || !((_1 = (_0 = (_z = (_y = this.addProfileObj) === null || _y === void 0 ? void 0 : _y.buildProfile) === null || _z === void 0 ? void 0 : _z.voiceDataVideoServiceData) === null || _0 === void 0 ? void 0 : _0.parameterValues) === null || _1 === void 0 ? void 0 : _1.UserAgentPort)) {\n                return;\n              }\n            }\n          }\n          if (((_3 = (_2 = this.addProfileObj) === null || _2 === void 0 ? void 0 : _2.buildProfile) === null || _3 === void 0 ? void 0 : _3.property.servicetemplate.Type) == 'H.248') {\n            (_7 = (_6 = (_5 = (_4 = this.addProfileObj) === null || _4 === void 0 ? void 0 : _4.buildProfile) === null || _5 === void 0 ? void 0 : _5.property) === null || _6 === void 0 ? void 0 : _6.servicetemplate) === null || _7 === void 0 ? true : delete _7.sipProfile;\n            // if (!this.addProfileObj?.buildProfile?.voiceDataVideoServiceData?.parameterValues?.PrimaryGWController) {\n            //   return\n            // }\n          }\n\n          if (((_9 = (_8 = this.addProfileObj) === null || _8 === void 0 ? void 0 : _8.buildProfile) === null || _9 === void 0 ? void 0 : _9.property.servicetemplate.Type) == 'MGCP') {\n            // if (!this.addProfileObj?.buildProfile?.voiceDataVideoServiceData?.parameterValues?.PrimaryCallMainAgent) {\n            //   return\n            // }\n          }\n          data = Object.assign(data, {\n            h248Profile: this.addProfileObj.buildProfile.property.servicetemplate.h248Profile,\n            dialPlan: this.addProfileObj.buildProfile.property.servicetemplate.dialPlan,\n            sipProfile: this.addProfileObj.buildProfile.property.servicetemplate.sipProfile\n          });\n          if (this.addProfileObj.buildProfile.property.servicetemplate.sipProfile) {\n            data = Object.assign(data, {\n              DNSservers: this.addProfileObj.buildProfile.property.servicetemplate.DNSservers,\n              domainname: this.addProfileObj.buildProfile.property.servicetemplate.domainname,\n              dnsprimary: this.addProfileObj.buildProfile.property.servicetemplate.dnsprimary,\n              dnssecondary: this.addProfileObj.buildProfile.property.servicetemplate.dnssecondary\n            });\n          }\n        }\n        if (this.addProfileObj.buildProfile.property.servicetemplate.serviceType == \"VIDEO\") {\n          if (this.addProfileObj.buildProfile.property.servicetemplate.secondaryDnsServer && !this.addProfileObj.buildProfile.property.servicetemplate.primaryDnsServer) {\n            return;\n          }\n          if (!((_10 = this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues) === null || _10 === void 0 ? void 0 : _10.X_000631_VlanMux8021p) || !((_11 = this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues) === null || _11 === void 0 ? void 0 : _11.productFamily) || !((_12 = this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues) === null || _12 === void 0 ? void 0 : _12.Mode)) {\n            return;\n          }\n          data = Object.assign(data, {\n            primaryDnsServer: this.addProfileObj.buildProfile.property.servicetemplate.primaryDnsServer,\n            secondaryDnsServer: this.addProfileObj.buildProfile.property.servicetemplate.secondaryDnsServer,\n            QueryInterval: this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues.QueryInterval,\n            X_000631_Dscp2PbitMapEnabled: this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues.X_000631_Dscp2PbitMapEnabled\n          });\n          if (this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues.ExosBridgedInterface) {\n            this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues.BridgedInterface = this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues.ExosBridgedInterface;\n            delete this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues.ExosBridgedInterface;\n          }\n          if (((_14 = (_13 = this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues) === null || _13 === void 0 ? void 0 : _13.BridgedInterface) === null || _14 === void 0 ? void 0 : _14.length) == 0) {\n            return;\n          }\n          if (!this.addProfileObj.buildProfile.all_service_field_valid) return;\n          data = Object.assign(data, {\n            multicastProfile: this.addProfileObj.buildProfile.property.servicetemplate.multicastProfile,\n            igmpProfile: this.addProfileObj.buildProfile.property.servicetemplate.igmpProfile,\n            'X_000631_MaxStreams': this.addProfileObj.buildProfile.property.servicetemplate.X_000631_MaxStreams,\n            BridgedInterface: this.addProfileObj.buildProfile.voiceDataVideoServiceData.parameterValues.BridgedInterface\n          });\n        }\n      } else if (this.addProfileObj.buildProfile.typeofprofile == \"service_Definition_Profile\") {\n        data = Object.assign(data, {\n          serviceType: this.addProfileObj.buildProfile.property.servicedefinition.serviceType,\n          serviceTemplateName: this.addProfileObj.buildProfile.property.servicedefinition.serviceTemplateName,\n          //tagAction: this.addProfileObj.buildProfile.property.servicedefinition.tagAction ? this.addProfileObj.buildProfile.property.servicedefinition.tagAction : \"\",\n          tierName: this.addProfileObj.buildProfile.property.servicedefinition.tierName,\n          ouiMatchListName: this.addProfileObj.buildProfile.property.servicedefinition.ouiMatchListName,\n          multicastRangeName: this.addProfileObj.buildProfile.property.servicedefinition.multicastRangeName,\n          multicastVlanName: this.addProfileObj.buildProfile.property.servicedefinition.multicastVlanName\n        });\n      } else if (this.addProfileObj.buildProfile.typeofprofile == \"bandWidth_profile\") {\n        data = Object.assign(data, {\n          \"upstreamPir\": this.addProfileObj.buildProfile.property.bandwidth.upstreamPir ? this.service.convert_to_kpbs(this.addProfileObj.buildProfile.property.bandwidth.upstreamPir) : 0,\n          \"upstreamCir\": this.addProfileObj.buildProfile.property.bandwidth.upstreamCir ? this.service.convert_to_kpbs(this.addProfileObj.buildProfile.property.bandwidth.upstreamCir) : 0,\n          \"downstreamPir\": this.addProfileObj.buildProfile.property.bandwidth.downstreamPir ? this.service.convert_to_kpbs(this.addProfileObj.buildProfile.property.bandwidth.downstreamPir) : 0,\n          \"downstreamCir\": this.addProfileObj.buildProfile.property.bandwidth.downstreamCir ? this.service.convert_to_kpbs(this.addProfileObj.buildProfile.property.bandwidth.downstreamCir) : 0\n        });\n      } else if (this.addProfileObj.buildProfile.typeofprofile == \"oui_profile\") {\n        data = Object.assign(data, {\n          'ouiListValues': this.addProfileObj.buildProfile.property.oui\n        });\n      } else if (this.addProfileObj.buildProfile.typeofprofile == \"Multicast_Range_Profile\") {\n        data = Object.assign(data, {\n          'filters': this.addProfileObj.buildProfile.property.multirange\n        });\n      } else if (this.addProfileObj.buildProfile.typeofprofile == \"Multicast_Vlan_Profile\") {\n        let sampledata1 = this.addProfileObj.buildProfile.property.multicastvlans;\n        sampledata1.forEach(element => {\n          delete element.totalrange;\n        });\n        data = Object.assign(data, {\n          'vlans': sampledata1\n        });\n      }\n      let query = {};\n      for (var key in data) {\n        if ((data[key] == undefined || data[key] == \"undefined\" || data[key] == \"\") && typeof data[key] != 'number') {\n          continue;\n        }\n        query[key] = data[key];\n        // if (query != \"\") {\n        //   query += \"&\";\n        // }\n        // query += key + \"=\" + encodeURIComponent(data[key]);\n      }\n\n      if (this.addProfileObj.buildProfile.typeofprofile == \"subscriber_profile\" && ((_17 = (_16 = (_15 = this.addProfileObj) === null || _15 === void 0 ? void 0 : _15.buildProfile) === null || _16 === void 0 ? void 0 : _16.voiceDataVideoServiceData) === null || _17 === void 0 ? void 0 : _17.parameterValues)) {\n        if ((_21 = (_20 = (_19 = (_18 = this.addProfileObj) === null || _18 === void 0 ? void 0 : _18.buildProfile) === null || _19 === void 0 ? void 0 : _19.voiceDataVideoServiceData) === null || _20 === void 0 ? void 0 : _20.parameterValues) === null || _21 === void 0 ? void 0 : _21.name) (_25 = (_24 = (_23 = (_22 = this.addProfileObj) === null || _22 === void 0 ? void 0 : _22.buildProfile) === null || _23 === void 0 ? void 0 : _23.voiceDataVideoServiceData) === null || _24 === void 0 ? void 0 : _24.parameterValues) === null || _25 === void 0 ? true : delete _25.name;\n        query = Object.assign(query, (_28 = (_27 = (_26 = this.addProfileObj) === null || _26 === void 0 ? void 0 : _26.buildProfile) === null || _27 === void 0 ? void 0 : _27.voiceDataVideoServiceData) === null || _28 === void 0 ? void 0 : _28.parameterValues);\n        if (query['ipAddressingType']) {\n          delete query['ipAddressingType'];\n        }\n        if (query['VlanTagAction'] == false) delete query['ceVlan'];\n      }\n      if (query.serviceType === \"DATA\" && query.productFamily === 'EXOS') {\n        if (query.hasOwnProperty('AddressingType')) delete query.AddressingType;\n        if (query.hasOwnProperty('ConnectionType')) delete query.ConnectionType;\n        if (query.Mode === \"RG L2 Bridged\") {\n          query.ServiceConnectionType = \"Bridged\";\n        }\n      }\n      if (query['Type'] == \"X_000631_TDMGW\" && query['serviceType'] == \"VOICE\" && query['ServerIP'] && !/^(?=\\d+\\.\\d+\\.\\d+\\.\\d+$)(?:(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\\.?){4}$/.test(query['ServerIP'])) return;\n      if (this.edit && this.key !== 'copy') {\n        this.loading = true;\n        this.service.putdata(query, this.addProfileObj.buildProfile.typeofprofile).subscribe(data => {\n          this.loading = false;\n          this.success = true;\n          if (this.addProfileObj.buildProfile.typeofprofile == \"service_Definition_Profile\") {\n            this.successInfo = \"Service Definition Template data updated successfully\";\n          } else if (this.addProfileObj.buildProfile.typeofprofile == \"subscriber_profile\") {\n            this.successInfo = \"Service Profile data updated successfully\";\n          } else if (this.addProfileObj.buildProfile.typeofprofile == \"oui_profile\") {\n            this.successInfo = \"OUI match list data updated successfully\";\n          } else if (this.addProfileObj.buildProfile.typeofprofile == \"Multicast_Range_Profile\") {\n            this.successInfo = 'RG Multicast Range Profile data updated successfully';\n          } else if (this.addProfileObj.buildProfile.typeofprofile == \"Multicast_Vlan_Profile\") {\n            this.successInfo = 'RG Multicast VLAN Profile data updated successfully';\n          } else if (this.addProfileObj.buildProfile.typeofprofile == \"bandWidth_profile\") {\n            this.successInfo = \"Bandwidth Tier data updated successfully\";\n          } else {\n            this.successInfo = (data === null || data === void 0 ? void 0 : data.message) ? data.message : data;\n          }\n          $(\"html, body\").animate({\n            scrollTop: 0\n          }, \"slow\");\n          setTimeout(() => {\n            this.router.navigate([this.isCOC ? \"/cco/services/service-profiles/ONT-profile\" : 'cco-foundation/foundation-configuration/configuration-prerequisites/foundation-profiles/ONT-profile']);\n          }, 1000);\n          //this.router.navigate([\"/cco/operations/cco-subscriber-operations/profiles/list\"])\n        }, err => {\n          this.loading = false;\n          this.error = true;\n          if (typeof err.error.message === \"object\") {\n            this.errorInfo = this.processErrorMsg(err.error.message);\n          } else if (typeof err.error === \"string\") {\n            this.errorInfo = err.error;\n          } else if (typeof err.error === 'object' && !err.error.message) {\n            if (err.error.errorMessage) this.errorInfo = err.error.errorMessage;else this.errorInfo = this.commonOrgService.pageErrorHandle(err);\n          } else {\n            this.errorInfo = this.commonOrgService.pageErrorHandle(err);\n          }\n          $(\"html, body\").animate({\n            scrollTop: 0\n          }, \"slow\");\n        });\n      } else {\n        this.loading = true;\n        this.service.postdata(query, this.addProfileObj.buildProfile.typeofprofile).subscribe(data => {\n          if (data === null || data === void 0 ? void 0 : data.message) {\n            this.loading = false;\n            this.success = true;\n            this.successInfo = (data === null || data === void 0 ? void 0 : data.message) ? data.message : data;\n            $(\"html, body\").animate({\n              scrollTop: 0\n            }, \"slow\");\n            setTimeout(() => {\n              this.router.navigate([this.isCOC ? \"/cco/services/service-profiles/ONT-profile\" : 'cco-foundation/foundation-configuration/configuration-prerequisites/foundation-profiles/ONT-profile']);\n            }, 3000);\n          } else {\n            this.loading = false;\n            this.success = true;\n            if (this.addProfileObj.buildProfile.typeofprofile == \"service_Definition_Profile\") {\n              this.successInfo = \"Service Definition Template data created successfully\";\n            } else if (this.addProfileObj.buildProfile.typeofprofile == \"subscriber_profile\") {\n              this.successInfo = \"Service Profile data created successfully\";\n            } else if (this.addProfileObj.buildProfile.typeofprofile == \"oui_profile\") {\n              this.successInfo = \"OUI match list data created successfully\";\n            } else if (this.addProfileObj.buildProfile.typeofprofile == \"Multicast_Range_Profile\") {\n              this.successInfo = 'RG Multicast Range Profile data created successfully';\n            } else if (this.addProfileObj.buildProfile.typeofprofile == \"Multicast_Vlan_Profile\") {\n              this.successInfo = 'RG Multicast VLAN Profile data created successfully';\n            } else if (this.addProfileObj.buildProfile.typeofprofile == \"bandWidth_profile\") {\n              this.successInfo = \"Bandwidth Tier data created successfully\";\n            } else {\n              this.successInfo = data;\n            }\n            $(\"html, body\").animate({\n              scrollTop: 0\n            }, \"slow\");\n            setTimeout(() => {\n              this.router.navigate([this.isCOC ? \"//cco/services/service-profiles/ONT-profile\" : 'cco-foundation/foundation-configuration/configuration-prerequisites/foundation-profiles/ONT-profile']);\n            }, 1000);\n          }\n        }, err => {\n          this.loading = false;\n          this.error = true;\n          if (typeof err.error.message === \"object\") {\n            this.errorInfo = this.processErrorMsg(err.error.message);\n          } else if (typeof err.error === 'object' && !err.error.message) {\n            if (err.error.errorMessage) this.errorInfo = err.error.errorMessage;else this.errorInfo = this.commonOrgService.pageErrorHandle(err);\n          } else if (typeof err.error === \"string\") {\n            this.errorInfo = err.error;\n          } else {\n            this.errorInfo = this.commonOrgService.pageErrorHandle(err);\n          }\n          $(\"html, body\").animate({\n            scrollTop: 0\n          }, \"slow\");\n        });\n      }\n    }\n    onCloseError() {\n      this.errorMsg = undefined;\n    }\n    ngOnDestroy() {\n      this.addProfileObj = undefined;\n      this.languageSubject.unsubscribe();\n    }\n    pageErrorHandle(err) {\n      if (err.status == 401) {\n        this.errorInfo = this.language['Access Denied'];\n      } else {\n        this.errorInfo = this.commonOrgService.pageErrorHandle(err);\n      }\n    }\n    patchValue() {\n      var _a, _b, _c, _d, _e, _f, _g;\n      const profileData = (_a = history.state) === null || _a === void 0 ? void 0 : _a.editProfile;\n      const isFromDataModel = (_b = history.state) === null || _b === void 0 ? void 0 : _b.dataModel;\n      if (profileData) {\n        this.isNewRecord = false;\n        this.addProfileObj = {\n          addProfileTab: this.addProfileTab,\n          start: {\n            name: profileData.name,\n            description: profileData.description,\n            isNameEntered: false\n          },\n          buildProfile: {\n            allProfileData: this.profileTableData,\n            isStepperClicked: true,\n            innerProfileCategory: this.innerProfileCategory,\n            disableAddCategoryBtn: true,\n            isFromDataModel: (_c = history.state) === null || _c === void 0 ? void 0 : _c.isDataModel,\n            dataModelCategoryObj: {\n              isFormValid: false,\n              name: 'Set Parameter Value',\n              displayName: 'Set Parameter Value',\n              parameters: (_d = history.state) === null || _d === void 0 ? void 0 : _d.dataModel\n            },\n            exisitingCategory: [],\n            categoryList: [...this.getCategoryObj(profileData.configurations)],\n            reviewPageCategoryList: [...this.getCategoryObj(profileData.configurations)],\n            categoryConfigData: [],\n            property: {}\n          }\n        };\n        this.getCategoryObj(profileData.configurations);\n        this.showOverViewPage = (_e = history.state) === null || _e === void 0 ? void 0 : _e.isOverview;\n      } else {\n        this.isNewRecord = true;\n        this.addProfileObj = {\n          addProfileTab: this.addProfileTab,\n          start: {\n            name: undefined,\n            description: undefined,\n            isNameEntered: true\n          },\n          buildProfile: {\n            allProfileData: this.profileTableData,\n            isStepperClicked: false,\n            innerProfileCategory: this.innerProfileCategory,\n            disableAddCategoryBtn: true,\n            isFromDataModel: (_f = history.state) === null || _f === void 0 ? void 0 : _f.isDataModel,\n            dataModelCategoryObj: {\n              isFormValid: false,\n              name: 'Set Parameter Value',\n              displayName: 'Set Parameter Value',\n              parameters: (_g = history.state) === null || _g === void 0 ? void 0 : _g.dataModel\n            },\n            exisitingCategory: [],\n            categoryList: [],\n            reviewPageCategoryList: [],\n            property: {}\n          }\n        };\n      }\n    }\n    getCategoryObj(selectedCategory) {\n      selectedCategory.forEach(item => {\n        for (let key of Object.keys(this.categoryConfigData)) {\n          this.categoryConfigData[key].forEach(category => {\n            if (category.displayName === item.category || category.name === item.category) {\n              this.selectedCategoryType = category;\n              this.addProfileObj.buildProfile.exisitingCategory.push(category.displayName);\n              this.addProfileObj.buildProfile.exisitingCategory = this.addProfileObj.buildProfile.exisitingCategory.concat(this.NEW_CATEGORY_BUTTON_DISABLE);\n            }\n          });\n        }\n        item.selectedCategory = this.selectedCategoryType.parameters;\n      });\n      return selectedCategory;\n    }\n    getProfileData(isRerender) {\n      if (this.allProfileSubscribe) this.allProfileSubscribe.unsubscribe();\n      this.allProfileSubscribe = this.service.getProfileList(this.orgId).subscribe(res => {\n        if (res) {\n          this.profileTableData = res;\n          // if(!history.state.isOverview) {\n          //   this.patchValue();\n          // }\n          // this.patchValue();\n        }\n      }, err => {\n        var _a;\n        this.loading = false;\n        this.profileTableData = [];\n        if (!((_a = history.state) === null || _a === void 0 ? void 0 : _a.isOverview)) {\n          //  this.patchValue();\n        }\n        this.errorMsg = err.error.error;\n      }, () => {\n        this.loading = false;\n      });\n    }\n    getallprofile() {\n      this.loading = true;\n      let observables = [this.allProfileSubscribe = this.service.getsubscriber(), this.subscriberService.getsubscriber(), this.service.getOuiList(), this.service.getMultipleRange()\n      // this.service.getMultiplecastVlan()\n      ];\n\n      forkJoin(this.isCOC ? [...observables, this.subscriberService.getbandwidth()] : observables\n      // this.allProfileSubscribe = this.service.getsubscriber(),\n      // this.subscriberService.getsubscriber(),\n      // this.subscriberService.getbandwidth(),\n      // this.service.getOuiList(),\n      // this.service.getMultipleRange(),\n      //this.service.getMultiplecastVlan()\n      ).subscribe(alldatas => {\n        if (alldatas === null || alldatas === void 0 ? void 0 : alldatas.length) {\n          if (typeof alldatas[0] === 'object' && alldatas[0]) {\n            alldatas[0].forEach(ele => {\n              ele = Object.assign(ele, {\n                type: \"Service Definition\"\n              });\n            });\n          } else {\n            alldatas[0] = [];\n          }\n          if (typeof alldatas[1] === 'object' && alldatas[1]) {\n            alldatas[1].forEach(ele => {\n              if (ele.serviceType == \"VOICE\") ele = Object.assign(ele, {\n                type: \"Subscriber Template(Voice)\"\n              });else if (ele.serviceType == \"DATA\") ele = Object.assign(ele, {\n                type: \"Subscriber Template(Data)\"\n              });else if (ele.serviceType == \"VIDEO\") ele = Object.assign(ele, {\n                type: \"Subscriber Template(Video)\"\n              });\n              // ele = Object.assign(ele, { type: \"Subscriber Template\" });\n            });\n          } else {\n            alldatas[1] = [];\n          }\n          if (typeof alldatas[4] === 'object' && alldatas[4]) {\n            alldatas[4].forEach(ele => {\n              ele = Object.assign(ele, {\n                type: \"Bandwidth Tier\",\n                innerProfileCategory: \"Bandwidth\"\n              });\n            });\n          } else {\n            alldatas[4] = [];\n          }\n          if (typeof alldatas[2] === 'object' && alldatas[2]) {\n            alldatas[2].forEach(ele => {\n              ele = Object.assign(ele, {\n                type: \"Oui Match List\"\n              });\n            });\n          } else {\n            alldatas[2] = [];\n          }\n          if (typeof alldatas[3] === 'object' && alldatas[3]) {\n            alldatas[3].forEach(ele => {\n              ele = Object.assign(ele, {\n                type: \"Multicast Range\",\n                innerProfileCategory: \"Video - Multicast Range Filters\"\n              });\n            });\n          } else {\n            alldatas[3] = [];\n          }\n          // if (typeof alldatas[4] === 'object' && alldatas[4]) {\n          //   alldatas[4].forEach(ele => {\n          //     ele = Object.assign(ele, { type: \"Multicast VLAN\", innerProfileCategory: 'Video - Multicast VLAN Registration (MVR)' });\n          //   });\n          // } else {\n          //   alldatas[4] = [];\n          // }\n          this.loading = false;\n          this.profileTableData = [...alldatas[0], ...alldatas[1], ...alldatas[2], ...alldatas[3], ...alldatas[4]];\n          this.addProfileObj.buildProfile.allProfileData = this.profileTableData;\n          this.loadingRecords = false;\n        } else this.profileTableData = [];\n      }, err => {\n        this.pageErrorHandle(err);\n        this.loading = false;\n        this.loadingRecords = false;\n      });\n    }\n    processErrorMsg(msg = {}) {\n      let msgs = [];\n      if (typeof msg === 'object') {\n        let keys = Object.keys(msg);\n        keys.forEach(key => {\n          if (typeof msg[key] === 'object') {\n            msgs.push(`${key}: ${msg[key].join(',')}`);\n          } else {\n            msgs.push(`${key}: ${msg[key]}`);\n          }\n        });\n      }\n      return msgs.join(', ');\n    }\n  }\n  AddComponent.ɵfac = function AddComponent_Factory(t) {\n    return new (t || AddComponent)(i0.ɵɵdirectiveInject(i1.TranslateService), i0.ɵɵdirectiveInject(i2.SsoAuthService), i0.ɵɵdirectiveInject(i3.CategoryConfigurationService), i0.ɵɵdirectiveInject(i4.ProfileService), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i5.ActivatedRoute), i0.ɵɵdirectiveInject(i6.CommonService), i0.ɵɵdirectiveInject(i7.Title), i0.ɵɵdirectiveInject(i8.SubscriberService));\n  };\n  AddComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddComponent,\n    selectors: [[\"app-add\"]],\n    decls: 3,\n    vars: 3,\n    consts: [[\"role\", \"alert\", \"class\", \"alert alert-warning\", 4, \"ngIf\"], [\"class\", \"loader\", 4, \"ngIf\"], [\"class\", \"row\", 4, \"ngIf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-warning\"], [1, \"loader\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"spinner-border\", \"text-primary\"], [1, \"sr-only\"], [1, \"row\"], [1, \"col-md-12\", \"mt-3\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [1, \"col-md-12\"], [\"id\", \"profileWizard\", 1, \"profile-wizard\"], [\"id\", \"addProfile\", 1, \"net-ops-secondary-title\"], [\"class\", \"w-100 alert alert-danger  fade show my-3\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-success fade show my-3\", 4, \"ngIf\"], [1, \"stepper-main\"], [1, \"stepper-ui\"], [4, \"ngFor\", \"ngForOf\"], [2, \"position\", \"absolute\", \"right\", \"0px\", \"top\", \"0px\"], [\"type\", \"button\", \"id\", \"previousbtn\", 1, \"btn-arrow\", \"btn-arr-prev\", \"btn-grey\", \"mr-2\", 3, \"disabled\", \"click\"], [\"src\", \"assets/img/ic_chevronleft_grey.svg\"], [\"type\", \"button\", \"id\", \"nextbtn\", \"class\", \"btn-arrow btn-arr-nxt primary mr-2\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"id\", \"finishbtn\", \"class\", \"btn-default primary px-3\", 3, \"click\", 4, \"ngIf\"], [3, \"submitted\", \"addProfileObj\", \"Out_Start_Focus\", \"Out_Name_Error\", 4, \"ngIf\"], [3, \"buildProfileObj\", \"addProfileObj\", \"globleVlanErrMsg\", 4, \"ngIf\"], [1, \"w-100\", \"alert\", \"alert-danger\", \"fade\", \"show\", \"my-3\"], [1, \"error-img\"], [\"src\", \"./assets/img/ic_error-36px.svg\"], [1, \"d-inline-flex\", 3, \"innerHtml\"], [1, \"w-100\", \"alert\", \"alert-success\", \"fade\", \"show\", \"my-3\"], [1, \"success-img\"], [\"src\", \"./assets/img/success-icon.svg\"], [3, \"title\", \"ngClass\", \"click\"], [\"type\", \"button\", \"id\", \"nextbtn\", 1, \"btn-arrow\", \"btn-arr-nxt\", \"primary\", \"mr-2\", 3, \"disabled\", \"click\"], [\"src\", \"assets/img/ic_chevron-r-w.svg\"], [\"type\", \"button\", \"id\", \"finishbtn\", 1, \"btn-default\", \"primary\", \"px-3\", 3, \"click\"], [3, \"submitted\", \"addProfileObj\", \"Out_Start_Focus\", \"Out_Name_Error\"], [3, \"buildProfileObj\", \"addProfileObj\", \"globleVlanErrMsg\"]],\n    template: function AddComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AddComponent_div_0_Template, 2, 1, \"div\", 0);\n        i0.ɵɵtemplate(1, AddComponent_div_1_Template, 5, 1, \"div\", 1);\n        i0.ɵɵtemplate(2, AddComponent_div_2_Template, 22, 10, \"div\", 2);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.hasScopeAccess);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading && ctx.hasScopeAccess || ctx.loadingRecords);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasScopeAccess);\n      }\n    },\n    directives: [i9.NgIf, i9.NgForOf, i9.NgClass, i10.StartComponent, i11.ProcessComponent],\n    styles: [\"#profileWizard.profile-wizard[_ngcontent-%COMP%]   .stepper-main[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;position:relative}#profileWizard.profile-wizard[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]{width:100%;display:flex;position:relative}#profileWizard.profile-wizard[_ngcontent-%COMP%]   .step--1[_ngcontent-%COMP%], #profileWizard.profile-wizard[_ngcontent-%COMP%]   .step--2[_ngcontent-%COMP%], #profileWizard.profile-wizard[_ngcontent-%COMP%]   .step--3[_ngcontent-%COMP%], #profileWizard.profile-wizard[_ngcontent-%COMP%]   .step--4[_ngcontent-%COMP%], #profileWizard.profile-wizard[_ngcontent-%COMP%]   .step--5[_ngcontent-%COMP%]{width:calc(100% / 5);padding:5px 25px;background:#ebeaef;color:gray;text-align:center;border-radius:20px!important;cursor:pointer!important}#profileWizard.profile-wizard[_ngcontent-%COMP%]   .step--1[_ngcontent-%COMP%]{z-index:55!important}#profileWizard.profile-wizard[_ngcontent-%COMP%]   .step--2[_ngcontent-%COMP%]{z-index:44!important;transform:translate(-20px)!important}#profileWizard.profile-wizard[_ngcontent-%COMP%]   .step--3[_ngcontent-%COMP%]{z-index:33!important;transform:translate(-40px)!important}#profileWizard.profile-wizard[_ngcontent-%COMP%]   .step--4[_ngcontent-%COMP%]{z-index:22!important;transform:translate(-60px)!important}#profileWizard.profile-wizard[_ngcontent-%COMP%]   .step--5[_ngcontent-%COMP%]{z-index:11!important;transform:translate(-80px)!important}#profileWizard.profile-wizard[_ngcontent-%COMP%]   .step-active[_ngcontent-%COMP%]{background:#0279ff!important;color:#fff!important;z-index:99!important}#profileWizard.profile-wizard[_ngcontent-%COMP%]   .step-success[_ngcontent-%COMP%]{background:#82bf00!important;color:#fff!important;z-index:101!important}#profileWizard.profile-wizard[_ngcontent-%COMP%]   .pb-4[_ngcontent-%COMP%]{padding-bottom:3.5rem!important}.form-control-sm[_ngcontent-%COMP%]{min-height:38px!important;max-height:42px!important;padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:1.2rem!important;background-color:#f8f8fa!important;border:none!important}select[_ngcontent-%COMP%]{border-radius:20px;background:url(http://cdn1.iconfinder.com/data/icons/cc_mono_icon_set/blacks/16x16/br_down.png) no-repeat right #f8f8fa10;-webkit-appearance:none;background-position:right 17px center}.stepper-main[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;flex-direction:column;position:relative}.stepper-ui[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0 0 10px;padding:0;overflow:hidden}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 10px 0 30px;color:#1a1f22;position:relative;height:32px;border-top:1px solid #0279ff;border-bottom:1px solid #0279ff;border-right:0px!important;border-left:0px!important;outline:none!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:2}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{content:\\\"\\\";width:30px;height:100%;background:transparent;position:absolute;top:0;right:-10px;transform:rotate(48deg);z-index:1;border:1px ridge transparent;border-top-color:#0279ff;border-right-color:#0279ff;border-top-right-radius:5px}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]{color:#fff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:after{background-color:#0279ff!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]{background-color:#82bf00!important;border-color:#82bf00}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:after{background-color:#82bf00!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:disabled{background-color:#82bf00!important;border-color:#82bf00!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:after{border-top-color:#fff!important;border-right-color:#fff!important;border-style:solid}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:after{border-top-color:#0279ff!important;border-right-color:#0279ff!important;border-style:solid}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   button[_ngcontent-%COMP%]{border-top-left-radius:30px;border-bottom-left-radius:30px}button[_ngcontent-%COMP%]:disabled{background:transparent!important;border-color:#0279ff!important;cursor:not-allowed;color:#4c4c4c}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f5faff;color:#0279ff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{background-color:#f5faff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;right:0;top:-1px;width:20px;height:32px;background-color:transparent;border-top:1px solid #0279ff;border-bottom:1px solid #0279ff;z-index:9}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#1a1f22}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled:after{background-color:#fff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%]{opacity:.8;color:#fff!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:before, .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:before{display:none}\"]\n  });\n  return AddComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}