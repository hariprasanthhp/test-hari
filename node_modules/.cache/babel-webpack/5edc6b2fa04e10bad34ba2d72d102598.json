{"ast":null,"code":"import * as Highcharts from 'highcharts/highstock';\nimport more from 'highcharts/highcharts-more';\nimport StreamgraphModule from 'highcharts/modules/streamgraph';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app-services/translate.service\";\nimport * as i2 from \"src/app/shared-utils/date-utils.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"highcharts-angular\";\nfunction RecordStreamChartComponent_div_0_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵelement(1, \"i\", 17);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.upRate, \" \");\n  }\n}\nfunction RecordStreamChartComponent_div_0_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 18);\n    i0.ɵɵelement(1, \"i\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.downRate, \"\");\n  }\n}\nfunction RecordStreamChartComponent_div_0_highcharts_chart_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"highcharts-chart\", 20);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"Highcharts\", ctx_r3.highcharts)(\"options\", ctx_r3.streamOptions)(\"callbackFunction\", ctx_r3.chartCallback);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"background-color\": a0\n  };\n};\nfunction RecordStreamChartComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelementStart(1, \"div\", 2);\n    i0.ɵɵelementStart(2, \"div\", 3);\n    i0.ɵɵelementStart(3, \"div\", 4);\n    i0.ɵɵelementStart(4, \"span\", 5);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"a\", 6);\n    i0.ɵɵlistener(\"click\", function RecordStreamChartComponent_div_0_Template_a_click_6_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.toggleUpStream();\n    });\n    i0.ɵɵelement(7, \"span\", 7);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"a\", 8);\n    i0.ɵɵlistener(\"click\", function RecordStreamChartComponent_div_0_Template_a_click_9_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.toggleDownStream();\n    });\n    i0.ɵɵelement(10, \"span\", 7);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\", 9);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 10);\n    i0.ɵɵelementStart(15, \"span\", 11);\n    i0.ɵɵtemplate(16, RecordStreamChartComponent_div_0_span_16_Template, 3, 1, \"span\", 12);\n    i0.ɵɵtemplate(17, RecordStreamChartComponent_div_0_span_17_Template, 3, 1, \"span\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 14);\n    i0.ɵɵtemplate(19, RecordStreamChartComponent_div_0_highcharts_chart_19_Template, 1, 3, \"highcharts-chart\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"title\", ctx_r0.chartName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.chartName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(10, _c0, ctx_r0.isUpStreamVisible === true ? \"#0027FF\" : \"grey\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.language.up, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(12, _c0, ctx_r0.isDownStreamVisible === true ? \"#00d0ff\" : \"grey\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.language.down, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.language.interval, \" 1 sec\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isUpStreamVisible);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isDownStreamVisible);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.load);\n  }\n}\nmore(Highcharts);\nStreamgraphModule(Highcharts);\nexport let RecordStreamChartComponent = /*#__PURE__*/(() => {\n  class RecordStreamChartComponent {\n    constructor(customTranslateService, dateUtilsService) {\n      this.customTranslateService = customTranslateService;\n      this.dateUtilsService = dateUtilsService;\n      this.load = true;\n      this.title = 'myHighchart';\n      this.highcharts = Highcharts;\n      this.yAxixTitle = '';\n      this.pageAvailable = false;\n      this.windowLen = 5;\n      this.selectedFilter = 1;\n      this.selectedLocation = [];\n      this.selectedApplication = [];\n      this.selectedRegion = [];\n      this.selectedSystem = [];\n      this.lastData = [0, 0];\n      this.chartData = [0, 0];\n      this.lastChartDataObj = {};\n      this.triggerReloadChart = false;\n      this.minutes = [5, 10, 15, 20, 25, 30];\n      this.msgLen = 0;\n      this.inc = 0;\n      this.isDownStreamVisible = true;\n      this.isUpStreamVisible = true;\n      this.conversions = {\n        'bps': 1,\n        'Kbps': 1000,\n        'Mbps': 1000000,\n        'Gbps': 1000000000,\n        'Tbps': 1000000000000,\n        'pps': 1,\n        'Kpps': 1000,\n        'Mpps': 1000000,\n        'Gpps': 1000000000,\n        'Tpps': 1000000000000\n      };\n      this.reloadChart = false;\n      this.sizes = {\n        'bps': 1,\n        'Kbps': 1000,\n        'Mbps': 1000000,\n        'Gbps': 1000000000,\n        'Tbps': 1000000000000,\n        'pps': 1,\n        'Kpps': 1000,\n        'Mpps': 1000000,\n        'Gpps': 1000000000,\n        'Tpps': 1000000000000\n      };\n    }\n    set play(value) {\n      this._play = value;\n      if (value) {\n        this.buildNewChart();\n      }\n    }\n    get play() {\n      return this._play;\n    }\n    set reload(value) {\n      this._reload = value;\n      if (value) {\n        this.buildNewChart();\n      }\n    }\n    get reload() {\n      return this._reload;\n    }\n    ngOnInit() {\n      this.language = this.customTranslateService.defualtLanguage;\n      if (this.language) {\n        this.pageAvailable = true;\n      }\n      this.customTranslateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n      });\n    }\n    ngOnChanges(changes) {\n      let v1, v2;\n      let sizes = this.chartName.toLowerCase() === 'rate' ? ['bps', 'Kbps', 'Mbps', 'Gbps', 'Tbps'] : ['pps', 'Kpps', 'Mpps', 'Gpps', 'Tpps'];\n      if (changes.history && changes.history.currentValue) {\n        this.lastChartDataObj = this.history ? this.history : {};\n        if (Object.keys(this.lastChartDataObj).length) {\n          let keys = Object.keys(this.lastChartDataObj);\n          this.yAxixTitle = this.lastChartDataObj[keys[keys.length - 1]][2];\n          this.lastData = this.data;\n          this.chartData = this.data;\n          this.rebuildData();\n        } else {\n          this.buildNewChart();\n        }\n      }\n    }\n    chartCallback(chart) {}\n    toggleDownStream() {\n      if (this.streamOptions.series[1].visible) {\n        this.streamOptions.series[1].visible = false;\n        this.isDownStreamVisible = false;\n      } else {\n        this.streamOptions.series[1].visible = true;\n        this.isDownStreamVisible = true;\n      }\n      this.rebuildData();\n    }\n    toggleUpStream() {\n      if (this.streamOptions.series[0].visible) {\n        this.streamOptions.series[0].visible = false;\n        this.isUpStreamVisible = false;\n      } else {\n        this.streamOptions.series[0].visible = true;\n        this.isUpStreamVisible = true;\n      }\n      this.rebuildData();\n    }\n    ngOnDestroy() {\n      this.streamOptions = {};\n      clearInterval(this.interval);\n      clearInterval(this.interval2);\n      this.interval = null;\n      this.interval2 = null;\n    }\n    transformData(currentData, lastData, data) {\n      if (this.chartName.toLowerCase() === 'rate') {}\n      if (!lastData || !lastData.length) {\n        lastData = [0, 0];\n      }\n      let chartData = [];\n      for (let i = 0; i < currentData.length; i++) {\n        let delta = parseFloat(currentData[i]) - parseFloat(lastData[i]);\n        if (!parseFloat(currentData[i]) && !parseFloat(lastData[i])) {\n          data[i] = 0;\n        }\n        let deltaRate = delta / 15;\n        let value = parseFloat(data[i]) + deltaRate;\n        chartData.push(value);\n      }\n      if (!chartData[0] && !chartData[1] && (currentData[0] || currentData[1]) && this.msgLen > 2) {\n        chartData = currentData;\n      }\n      return chartData;\n    }\n    bitsToSize(bits) {\n      let bytes = parseFloat(bits);\n      let sizes = this.chartName.toLowerCase() === 'rate' ? ['bps', 'Kbps', 'Mbps', 'Gbps', 'Tbps'] : ['pps', 'Kpps', 'Mpps', 'Gpps', 'Tpps'];\n      if (bytes == 0 && this.chartName.toLowerCase() === 'rate') return '0 bps';\n      if (bytes == 0 && this.chartName.toLowerCase() === 'packet') return '0 pps';\n      var i = Math.floor(Math.log(bytes) / Math.log(1000));\n      return Highcharts.numberFormat(Math.abs(bytes / Math.pow(1000, i)), 2) + ' ' + sizes[i];\n    }\n    removeLast3Chars(str) {\n      str = str.toString();\n      str = str.slice(0, -3);\n      str = parseInt(str);\n      return str;\n    }\n    removeOldKeys() {\n      let keys = Object.keys(this.lastChartDataObj);\n      let len = keys.length;\n      if (len > 300 * this.selectedFilter) {\n        let obj = this.lastChartDataObj;\n        let removeLen = len - 300 * this.selectedFilter;\n        for (let i = 0; i < removeLen; i++) {\n          delete obj[keys[i]];\n        }\n        this.lastChartDataObj = obj;\n      }\n    }\n    getPacketRate(bits) {\n      let bytes = bits;\n      let sizes = this.chartName.toLowerCase() === 'rate' ? ['bps', 'Kbps', 'Mbps', 'Gbps', 'Tbps'] : ['pps', 'Kpps', 'Mpps', 'Gpps', 'Tpps'];\n      if (bytes == 0 && this.chartName.toLowerCase() === 'rate') return '0 bps';\n      if (bytes == 0 && this.chartName.toLowerCase() === 'packet') return '0 pps';\n      var i = Math.floor(Math.log(bytes) / Math.log(1024));\n      return Math.round(bytes / Math.pow(1000, i)) + ' ' + sizes[i];\n    }\n    timezoneDetected() {\n      var dtDate = new Date('1/1/' + new Date().getUTCFullYear());\n      var intOffset = 10000;\n      var intMonth;\n      for (intMonth = 0; intMonth < 12; intMonth++) {\n        dtDate.setUTCMonth(dtDate.getUTCMonth() + 1);\n        if (intOffset > dtDate.getTimezoneOffset() * -1) {\n          intOffset = dtDate.getTimezoneOffset() * -1;\n        }\n      }\n      //return intOffset * 60 * 1000;\n      return 0;\n      return -75 * 1000;\n    }\n    rebuildData() {\n      let sizes = this.chartName.toLowerCase() === 'rate' ? ['bps', 'Kbps', 'Mbps', 'Gbps', 'Tbps'] : ['pps', 'Kpps', 'Mpps', 'Gpps', 'Tpps'];\n      let keys = Object.keys(this.lastChartDataObj);\n      let length = keys.length;\n      if (length) {\n        this.reloadChart = true;\n        this.buildNewChart();\n      }\n    }\n    buildNewChart() {\n      this.time = this.dateUtilsService.getCurrentUtcTime() * 1000;\n      this.streamOptions = {};\n      let timezoneDetected = this.timezoneDetected();\n      let loadTime = this.startTime + this.playedTime * 1000;\n      var chartxaxis = {\n        type: 'datetime',\n        tickPixelInterval: 120\n      };\n      var charcredits = {\n        enabled: false\n      };\n      var chartyaxis = {\n        gridLineDashStyle: 'longdash',\n        opposite: false,\n        startOnTick: false,\n        endOnTick: false,\n        title: {\n          text: this.yAxixTitle,\n          margin: 40\n        },\n        labels: {\n          align: 'left',\n          x: -35,\n          formatter: function () {\n            return Math.abs(this.value);\n          }\n        }\n      };\n      let that = this;\n      this.streamOptions = {\n        chart: {\n          type: 'areaspline',\n          height: 200,\n          events: {\n            load: function () {\n              let sizes = that.chartName.toLowerCase() === 'rate' ? ['bps', 'Kbps', 'Mbps', 'Gbps', 'Tbps'] : ['pps', 'Kpps', 'Mpps', 'Gpps', 'Tpps'];\n              var series = this.series;\n              that.interval = setInterval(function () {\n                if (that.startTime + that.playedTime * 1000 > that.endTime || !that.play) {\n                  return;\n                }\n                var time = that.startTime + that.playedTime * 1000 + timezoneDetected;\n                let timeKey = time;\n                let key = that.removeLast3Chars(timeKey);\n                let data = [0, 0];\n                if (typeof that.lastChartDataObj[key] !== 'undefined') {\n                  data = that.lastChartDataObj[key];\n                }\n                that.chartData = data;\n                if (!data[0]) {\n                  data[0] = 0;\n                }\n                if (!data[1]) {\n                  data[1] = 0;\n                }\n                let upRate = that.bitsToSize(data[0]);\n                let downRate = that.bitsToSize(data[1]);\n                let vArr1 = upRate.split(\" \");\n                let vArr2 = downRate.split(\" \");\n                let upRateValue = vArr1[0];\n                let downRateValue = vArr2[0];\n                let upRateUnit = vArr1[1] ? vArr1[1] : that.chartName.toLowerCase() === 'rate' ? 'bps' : 'pps';\n                let downRateUnit = vArr2[1] ? vArr2[1] : that.chartName.toLowerCase() === 'rate' ? 'bps' : 'pps';\n                let maxUnit = '';\n                upRateUnit = upRateUnit == 'undefined' ? that.chartName.toLowerCase() === 'rate' ? 'bps' : 'pps' : upRateUnit;\n                downRateUnit = downRateUnit == 'undefined' ? that.chartName.toLowerCase() === 'rate' ? 'bps' : 'pps' : downRateUnit;\n                if (data[0] || data[1]) {\n                  if (data[0] > data[1]) {\n                    maxUnit = vArr1[1];\n                  } else {\n                    maxUnit = vArr2[1];\n                  }\n                } else {\n                  maxUnit = that.yAxixTitle ? that.yAxixTitle : that.chartName.toLowerCase() === 'rate' ? 'bps' : 'pps';\n                }\n                if (maxUnit == 'undefined') {\n                  maxUnit = that.yAxixTitle ? that.yAxixTitle : that.chartName.toLowerCase() === 'rate' ? 'bps' : 'pps';\n                }\n                if (maxUnit != undefined && that.yAxixTitle != maxUnit && (data[0] || data[1])) {\n                  that.yAxixTitle = maxUnit;\n                  that.streamOptions.yAxis.title.text = that.yAxixTitle;\n                  that.rebuildData();\n                  return;\n                }\n                if (typeof maxUnit === 'string') {\n                  that.yAxixTitle = maxUnit;\n                }\n                let v1 = parseFloat(vArr1[0]);\n                let v2 = parseFloat(vArr2[0]);\n                if ((data[0] || data[1]) && data[0] < data[1] && vArr1[1] !== vArr2[1]) {\n                  let indexV1 = sizes.indexOf(vArr1[1]);\n                  let indexV2 = sizes.indexOf(vArr2[1]);\n                  let diff = indexV2 - indexV1;\n                  if (diff) {\n                    for (let i = diff; i > 0; i--) {\n                      v1 = v1 / 1000;\n                    }\n                  }\n                }\n                if ((data[0] || data[1]) && data[0] > data[1] && vArr1[1] !== vArr2[1]) {\n                  let indexV1 = sizes.indexOf(vArr1[1]);\n                  let indexV2 = sizes.indexOf(vArr2[1]);\n                  let diff = indexV1 - indexV2;\n                  if (diff) {\n                    for (let i = diff; i > 0; i--) {\n                      v2 = v2 / 1000;\n                    }\n                  }\n                }\n                if (data) {\n                  let num = parseFloat(Highcharts.numberFormat(Math.abs(v1), 2));\n                  that.upRate = `${upRateValue} ${upRateUnit ? upRateUnit : that.chartName.toLowerCase() === 'rate' ? 'bps' : 'pps'}`;\n                  num = parseFloat(Highcharts.numberFormat(Math.abs(v2), 2));\n                  that.downRate = `${downRateValue} ${downRateUnit ? downRateUnit : that.chartName.toLowerCase() === 'rate' ? 'bps' : 'pps'}`;\n                  var x = time,\n                    y = v1;\n                  series[0].addPoint([x, y], true, true);\n                  var sx = time,\n                    sy = -v2;\n                  series[1].addPoint([sx, sy], true, true);\n                }\n              }, 1000);\n            }\n          }\n        },\n        time: {\n          useUTC: false\n        },\n        title: {\n          text: ''\n        },\n        colors: ['#0027FF', '#5ACFEA'],\n        //colors: ['#FF8238', '#836EE8'],\n        xAxis: chartxaxis,\n        yAxis: chartyaxis,\n        credits: charcredits,\n        plotOptions: {\n          areaspline: {\n            lineWidth: 1,\n            marker: {\n              enabled: false\n            },\n            fillOpacity: 0.75\n          },\n          spline: {\n            animation: false,\n            marker: {\n              enabled: false,\n              radius: 0.9,\n              lineWidth: 0.7\n            }\n          },\n          series: {\n            turboThreshold: 1000000\n          }\n        },\n        tooltip: {\n          formatter: function () {\n            let dateValue = this.point.x;\n            var dateStr = that.dateUtilsService.getLocalRealtimeDateFormat(dateValue);\n            let datakey = that.removeLast3Chars(this.point.x);\n            let unit = that.lastChartDataObj[datakey] ? that.lastChartDataObj[datakey][2] : '';\n            return `<b> ${dateStr}  </b><br/>\n                 ${this.series.name}stream: ${Highcharts.numberFormat(Math.abs(this.point.y), 2)} ${that.yAxixTitle ? that.yAxixTitle : unit}`;\n          }\n        },\n        legend: {\n          enabled: false\n        },\n        exporting: {\n          enabled: false\n        },\n        series: [{\n          name: 'Up',\n          data: function () {\n            var data = [],\n              time = loadTime + timezoneDetected,\n              i;\n            var pastTime = that.totalTime;\n            if (that._reload) {\n              pastTime = 300;\n            }\n            for (i = -1 * pastTime; i <= 0; i += 1) {\n              let timeKey = time + i * 1000;\n              let key = that.removeLast3Chars(timeKey);\n              let value = typeof that.lastChartDataObj[key] !== 'undefined' ? that.lastChartDataObj[key][0] : that.lastChartDataObj[key - 1] && that.lastChartDataObj[key - 1][0] ? that.lastChartDataObj[key - 1][0] : 0;\n              if (that.reloadChart && !value) {\n                value = typeof that.lastChartDataObj[key - 1] !== 'undefined' ? that.lastChartDataObj[key - 1][0] : that.lastChartDataObj[key - 2] && that.lastChartDataObj[key - 2][0] ? that.lastChartDataObj[key - 2][0] : 0;\n              }\n              if (value) {\n                value = value / that.sizes[that.yAxixTitle];\n              }\n              data.push({\n                x: timeKey,\n                y: value\n              });\n            }\n            return data;\n          }()\n        }, {\n          name: 'Down',\n          data: function () {\n            var data = [],\n              time = loadTime + timezoneDetected,\n              i;\n            var pastTime = that.totalTime;\n            if (that._reload) {\n              pastTime = 300;\n            }\n            for (i = -1 * pastTime; i <= 0; i += 1) {\n              let timeKey = time + i * 1000;\n              let key = that.removeLast3Chars(timeKey);\n              let value = typeof that.lastChartDataObj[key] !== 'undefined' ? that.lastChartDataObj[key][1] : that.lastChartDataObj[key - 1] && that.lastChartDataObj[key - 1][1] ? that.lastChartDataObj[key - 1][1] : 0;\n              if (that.reloadChart && !value) {\n                value = typeof that.lastChartDataObj[key - 1] !== 'undefined' ? that.lastChartDataObj[key - 1][1] : that.lastChartDataObj[key - 2] && that.lastChartDataObj[key - 2][1] ? that.lastChartDataObj[key - 2][1] : 0;\n              }\n              if (value) {\n                value = value / that.sizes[that.yAxixTitle];\n              }\n              value = value * -1;\n              data.push({\n                x: timeKey,\n                y: value\n              });\n            }\n            return data;\n          }()\n        }]\n      };\n      this.streamOptions.series[0].visible = this.isUpStreamVisible;\n      this.streamOptions.series[1].visible = this.isDownStreamVisible;\n      this.streamOptions = Object.assign({}, this.streamOptions);\n    }\n    bitsConversion(bits) {\n      let down = false;\n      if (bits < 0) {\n        bits = -bits;\n        down = true;\n      }\n      let bytes = parseFloat(bits);\n      if (bytes == 0) return 0;\n      var i = Math.floor(Math.log(bytes) / Math.log(1000));\n      var val = parseInt(Highcharts.numberFormat(Math.abs(bytes / Math.pow(1000, i)), 2));\n      return down ? -1 * val : val;\n    }\n    getYAxisTitle(bits) {\n      let bytes = bits;\n      let sizes = this.chartName.toLowerCase() === 'rate' ? ['bps', 'Kbps', 'Mbps', 'Gbps', 'Tbps'] : ['pps', 'Kpps', 'Mpps', 'Gpps', 'Tpps'];\n      var i = Math.floor(Math.log(bytes) / Math.log(1024));\n      return sizes[i];\n    }\n    removePrevious() {\n      this.lastChartDataObj = Object.keys(this.lastChartDataObj).reduce((acc, key) => {\n        acc[key] = [0, 0, \"bps\", \"bps\", \"bps\"];\n        return acc;\n      }, {});\n      this.lastData = [0, 0];\n      this.currentData = [0, 0];\n      this.rebuildData();\n    }\n  }\n  RecordStreamChartComponent.ɵfac = function RecordStreamChartComponent_Factory(t) {\n    return new (t || RecordStreamChartComponent)(i0.ɵɵdirectiveInject(i1.TranslateService), i0.ɵɵdirectiveInject(i2.DateUtilsService));\n  };\n  RecordStreamChartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RecordStreamChartComponent,\n    selectors: [[\"app-record-stream-chart\"]],\n    inputs: {\n      startTime: \"startTime\",\n      endTime: \"endTime\",\n      totalTime: \"totalTime\",\n      playedTime: \"playedTime\",\n      play: \"play\",\n      reload: \"reload\",\n      chartName: \"chartName\",\n      yAxixTitle: \"yAxixTitle\",\n      xAxix: \"xAxix\",\n      data: \"data\",\n      windowLen: \"windowLen\",\n      selectedFilter: \"selectedFilter\",\n      selectedLocation: \"selectedLocation\",\n      selectedApplication: \"selectedApplication\",\n      selectedRegion: \"selectedRegion\",\n      selectedSystem: \"selectedSystem\",\n      monitorId: \"monitorId\",\n      time: \"time\",\n      history: \"history\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"analytic-widget\", 4, \"ngIf\"], [1, \"analytic-widget\"], [1, \"analytic-widget-header\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"mx-2\"], [1, \"widget-title\", 3, \"title\"], [1, \"legend-label\", \"toggle-up\", 3, \"click\"], [1, \"legend-glyph\", 3, \"ngStyle\"], [1, \"legend-label\", \"toggle-down\", 3, \"click\"], [1, \"interval\"], [1, \"mr-2\", \"text-right\"], [1, \"traffic-volume\", \"monitor-status-normal\"], [\"class\", \"upRate\", 4, \"ngIf\"], [\"class\", \"downRate\", 4, \"ngIf\"], [1, \"analytic-widget-body\"], [\"id\", \"custom-mirrot-chart\", \"class\", \"analytic-widget-chart\", 3, \"Highcharts\", \"options\", \"callbackFunction\", 4, \"ngIf\"], [1, \"upRate\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-arrow-up\"], [1, \"downRate\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-arrow-down\"], [\"id\", \"custom-mirrot-chart\", 1, \"analytic-widget-chart\", 3, \"Highcharts\", \"options\", \"callbackFunction\"]],\n    template: function RecordStreamChartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, RecordStreamChartComponent_div_0_Template, 20, 14, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.pageAvailable);\n      }\n    },\n    directives: [i3.NgIf, i3.NgStyle, i4.HighchartsChartComponent],\n    styles: [\".highcharts-data-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:320px;max-width:800px;margin:1em auto}.highcharts-data-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:Verdana,sans-serif;border-collapse:collapse;border:1px solid #EBEBEB;margin:10px auto;text-align:center;width:100%;max-width:500px}.highcharts-data-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{padding:1em 0;font-size:1.2em;color:#555}.highcharts-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;padding:.5em}.highcharts-data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{padding:.5em}.highcharts-data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f8f8f8}.highcharts-data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f1f7ff}.analytic-widget[_ngcontent-%COMP%]   .analytic-widget-header[_ngcontent-%COMP%]{display:block}.analytic-widget[_ngcontent-%COMP%]   .analytic-widget-header-cell[_ngcontent-%COMP%]{display:block;padding:5px 5px 5px 10px;position:relative}.analytic-widget[_ngcontent-%COMP%]   .legend-glyph[_ngcontent-%COMP%]{display:inline-block;margin-left:4px;margin-right:4px;width:10px;height:10px;border-radius:6px}.analytic-widget[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{display:inline-block;font-size:12px;padding-right:8px;margin-right:4px;border-color:#e1dfec;background-color:#eae8f3;border-width:1px;text-decoration:none;cursor:pointer}.analytic-widget[_ngcontent-%COMP%]   .interval[_ngcontent-%COMP%]{background:#efefef;padding:2px 6px;font-size:11px;border-radius:2px;color:#666;margin-right:15px}.analytic-widget[_ngcontent-%COMP%]   .traffic-volume.monitor-status-normal[_ngcontent-%COMP%]{margin-top:0;background-color:#eae8f3;border-color:#e1dfec;border-width:1px;font-size:12px}.upRate[_ngcontent-%COMP%]{color:#0027ff}.downRate[_ngcontent-%COMP%]{color:#5acfea}.analytic-widget-chart[_ngcontent-%COMP%]{width:100%;display:block}\"]\n  });\n  return RecordStreamChartComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}