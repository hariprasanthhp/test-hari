{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app-services/translate.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../shared/services/websocket.service\";\nimport * as i4 from \"src/app/shared/services/sso-auth.service\";\nimport * as i5 from \"@angular/common\";\nfunction EndpointsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.language[\"Access denied due to RBAC. Please consult your Organization Administrator for access.\"], \" \");\n  }\n}\nconst _c0 = function () {\n  return [\"/cco/traffic/endpoints/reports\"];\n};\nconst _c1 = function (a0) {\n  return {\n    id: a0\n  };\n};\nfunction EndpointsComponent_section_1_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 11);\n    i0.ɵɵelementStart(1, \"a\", 12);\n    i0.ɵɵlistener(\"Click\", function EndpointsComponent_section_1_li_7_Template_a_Click_1_listener($event) {\n      return $event.preventDefault();\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c0))(\"queryParams\", i0.ɵɵpureFunction1(4, _c1, ctx_r2.endpointID));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.language.Reports, \"\");\n  }\n}\nconst _c2 = function () {\n  return [\"/cco/traffic/endpoints/realtime\"];\n};\nfunction EndpointsComponent_section_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 3);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelementStart(2, \"div\", 5);\n    i0.ɵɵelementStart(3, \"ul\", 6);\n    i0.ɵɵelementStart(4, \"li\", 7);\n    i0.ɵɵelementStart(5, \"a\", 8);\n    i0.ɵɵlistener(\"Click\", function EndpointsComponent_section_1_Template_a_Click_5_listener($event) {\n      return $event.preventDefault();\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, EndpointsComponent_section_1_li_7_Template, 3, 6, \"li\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 10);\n    i0.ɵɵelement(9, \"router-outlet\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c2))(\"queryParams\", i0.ɵɵpureFunction1(5, _c1, ctx_r1.endpointID));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.language[\"Real Time\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.webSocketService.isUnmapped);\n  }\n}\nexport let EndpointsComponent = /*#__PURE__*/(() => {\n  class EndpointsComponent {\n    constructor(translateService, activatedRoute, router, webSocketService, sso) {\n      this.translateService = translateService;\n      this.activatedRoute = activatedRoute;\n      this.router = router;\n      this.webSocketService = webSocketService;\n      this.sso = sso;\n      this.menus = {\n        network: false,\n        location: false,\n        applications: false\n      };\n      this.endpointID = this.activatedRoute.snapshot.queryParamMap.get('id');\n      this.webSocketService.previousURL = \"\";\n    }\n    ngOnInit() {\n      this.language = this.translateService.defualtLanguage;\n      this.languageSubject = this.translateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n      });\n      let scopes = this.sso.getScopes();\n      if (environment.VALIDATE_SCOPE) {\n        let validScopes = Object.keys(scopes);\n        if (validScopes) {\n          for (let i = 0; i < validScopes.length; i++) {\n            if (validScopes[i].indexOf('cloud.rbac.coc.traffic.network') !== -1) {\n              this.menus['network'] = true;\n              continue;\n            }\n            if (validScopes[i].indexOf('cloud.rbac.coc.traffic.location') !== -1) {\n              this.menus['location'] = true;\n              continue;\n            }\n            if (validScopes[i].indexOf('cloud.rbac.coc.traffic.applications') !== -1) {\n              this.menus['applications'] = true;\n              continue;\n            }\n          }\n        }\n      } else {\n        this.menus = {\n          network: true,\n          location: true,\n          applications: true\n        };\n      }\n    }\n    ngOnDestroy() {\n      if (this.languageSubject) {\n        this.languageSubject.unsubscribe();\n      }\n      if (sessionStorage.getItem('aggregate_Endpoint_Id')) {\n        sessionStorage.removeItem('aggregate_Endpoint_Id');\n      }\n    }\n    goToRealtime() {\n      this.router.navigate(['/cco/traffic/endpoints/realtime'], {\n        queryParams: {\n          id: this.endpointID\n        }\n      });\n    }\n    goToReports() {\n      this.router.navigate(['/cco/traffic/endpoints/reports'], {\n        queryParams: {\n          id: this.endpointID\n        }\n      });\n    }\n  }\n  EndpointsComponent.ɵfac = function EndpointsComponent_Factory(t) {\n    return new (t || EndpointsComponent)(i0.ɵɵdirectiveInject(i1.TranslateService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.WebsocketService), i0.ɵɵdirectiveInject(i4.SsoAuthService));\n  };\n  EndpointsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EndpointsComponent,\n    selectors: [[\"app-endpoints\"]],\n    decls: 2,\n    vars: 2,\n    consts: [[\"role\", \"alert\", \"class\", \"alert alert-warning\", 4, \"ngIf\"], [\"class\", \"m-2\", 4, \"ngIf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-warning\"], [1, \"m-2\"], [1, \"row\"], [1, \"col-md-12\", \"my-2\", \"ccl-tabs\"], [\"id\", \"tabs\", 1, \"nav\", \"nav-tabs\"], [1, \"nav-item\"], [\"data-toggle\", \"tab\", \"id\", \"realtime\", \"routerLinkActive\", \"active\", 1, \"nav-link\", \"small\", 3, \"routerLink\", \"queryParams\", \"Click\"], [\"class\", \"nav-item\", 3, \"routerLink\", \"queryParams\", 4, \"ngIf\"], [1, \"col-md-12\", \"pl-0\"], [1, \"nav-item\", 3, \"routerLink\", \"queryParams\"], [\"id\", \"reports\", \"data-toggle\", \"tab\", \"routerLinkActive\", \"active\", 1, \"nav-link\", \"small\", 3, \"Click\"]],\n    template: function EndpointsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, EndpointsComponent_div_0_Template, 2, 1, \"div\", 0);\n        i0.ɵɵtemplate(1, EndpointsComponent_section_1_Template, 10, 7, \"section\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.menus[\"network\"] && !ctx.menus[\"location\"] && !ctx.menus[\"applications\"]);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.menus[\"network\"] || ctx.menus[\"location\"] || ctx.menus[\"applications\"]);\n      }\n    },\n    directives: [i5.NgIf, i2.RouterLinkWithHref, i2.RouterLinkActive, i2.RouterOutlet, i2.RouterLink],\n    styles: [\".active[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{color:#fff!important}.icon-round[_ngcontent-%COMP%]{width:32px;height:32px;background:#0279FF;border-radius:100%;text-align:center;line-height:26px}\"]\n  });\n  return EndpointsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}