{"ast":null,"code":"import { FavoritePageType } from '../favorites-api.service';\nimport { Subject } from 'rxjs';\nimport { maskString } from 'src/app/cco/shared/functions/cco-mask';\nimport { DataTableDirective } from 'angular-datatables';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app-services/translate.service\";\nimport * as i2 from \"../favorites-api.service\";\nimport * as i3 from \"src/app/sys-admin/services/common.service\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"angular-datatables\";\nconst _c0 = [\"modaleEndpointFavorites\"];\nconst _c1 = function (a0) {\n  return {\n    \"redoDisablity\": a0\n  };\n};\nfunction FavoriteEndpointsComponent_span_0_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 7);\n    i0.ɵɵlistener(\"click\", function FavoriteEndpointsComponent_span_0_span_2_Template_span_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return ctx_r6.saveEndPoint();\n    });\n    i0.ɵɵelement(1, \"i\", 8);\n    i0.ɵɵelementStart(2, \"span\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c1, (ctx_r4.favoriteEndPoints == null ? null : ctx_r4.favoriteEndPoints.length) >= 25));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r4.language[\"Add to Favorites\"], \" \");\n  }\n}\nfunction FavoriteEndpointsComponent_span_0_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 10);\n    i0.ɵɵlistener(\"click\", function FavoriteEndpointsComponent_span_0_span_3_Template_span_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return ctx_r8.confirmDelete(ctx_r8.selectedEndPoint.id);\n    });\n    i0.ɵɵelementStart(1, \"i\");\n    i0.ɵɵelement(2, \"img\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 12);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.language[\"Remove from Favorites\"], \"\");\n  }\n}\nfunction FavoriteEndpointsComponent_span_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"span\", 4);\n    i0.ɵɵtemplate(2, FavoriteEndpointsComponent_span_0_span_2_Template, 4, 4, \"span\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, FavoriteEndpointsComponent_span_0_span_3_Template, 5, 1, \"span\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"title\", (ctx_r0.favoriteEndPoints == null ? null : ctx_r0.favoriteEndPoints.length) >= 25 ? ctx_r0.language[\"Maximum number of Endpoint Favorites reached.\"] : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.selectedEndPoint);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedEndPoint);\n  }\n}\nfunction FavoriteEndpointsComponent_div_1_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function FavoriteEndpointsComponent_div_1_button_7_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const item_r12 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return ctx_r13.onSelectEndPoint(item_r12);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r12.settingName);\n  }\n}\nfunction FavoriteEndpointsComponent_div_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r11.language[\"No endpoint favorites added\"], \" \");\n  }\n}\nfunction FavoriteEndpointsComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelementStart(1, \"div\", 14);\n    i0.ɵɵelementStart(2, \"div\", 15);\n    i0.ɵɵelementStart(3, \"a\", 16);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 17);\n    i0.ɵɵelementStart(6, \"div\", 18);\n    i0.ɵɵtemplate(7, FavoriteEndpointsComponent_div_1_button_7_Template, 2, 1, \"button\", 19);\n    i0.ɵɵtemplate(8, FavoriteEndpointsComponent_div_1_div_8_Template, 2, 1, \"div\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"div\", 21);\n    i0.ɵɵelementStart(10, \"div\", 22);\n    i0.ɵɵelementStart(11, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function FavoriteEndpointsComponent_div_1_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.modalManageEndpoint();\n    });\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.language[\"Favorite Endpoints\"], \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.favoriteEndPoints);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.favoriteEndPoints == null ? null : ctx_r1.favoriteEndPoints.length) == 0);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.language[\"Manage Favorite Endpoints\"], \"...\");\n  }\n}\nfunction FavoriteEndpointsComponent_ng_template_2_p_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r18.favoriteEndPoints == null ? null : ctx_r18.favoriteEndPoints.length, \" of 25 endpoint favorites added \");\n  }\n}\nfunction FavoriteEndpointsComponent_ng_template_2_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵelementStart(1, \"span\", 48);\n    i0.ɵɵelement(2, \"img\", 49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function FavoriteEndpointsComponent_ng_template_2_div_24_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return ctx_r24.closeAlert();\n    });\n    i0.ɵɵelement(6, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r19.errorMessage);\n  }\n}\nfunction FavoriteEndpointsComponent_ng_template_2_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 51);\n    i0.ɵɵelementStart(1, \"span\", 52);\n    i0.ɵɵelement(2, \"img\", 53);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function FavoriteEndpointsComponent_ng_template_2_div_25_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return ctx_r26.closeAlert();\n    });\n    i0.ɵɵelement(6, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r20.successMessage);\n  }\n}\nfunction FavoriteEndpointsComponent_ng_template_2_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r21.language[\"There are no endpoint favorites added.\"], \" \");\n  }\n}\nfunction FavoriteEndpointsComponent_ng_template_2_tr_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelementStart(4, \"a\", 55);\n    i0.ɵɵlistener(\"click\", function FavoriteEndpointsComponent_ng_template_2_tr_35_Template_a_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r30);\n      const item_r28 = restoredCtx.$implicit;\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return ctx_r29.deleteEndPoint(item_r28);\n    });\n    i0.ɵɵelement(5, \"img\", 56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r28 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r28.settingName);\n  }\n}\nfunction FavoriteEndpointsComponent_ng_template_2_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵelementStart(1, \"div\", 58);\n    i0.ɵɵelementStart(2, \"div\", 59);\n    i0.ɵɵelementStart(3, \"span\", 60);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r23 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r23.language.Loading);\n  }\n}\nfunction FavoriteEndpointsComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵelementStart(1, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function FavoriteEndpointsComponent_ng_template_2_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r32);\n      const modal_r17 = restoredCtx.$implicit;\n      return modal_r17.dismiss(\"Cross click\");\n    });\n    i0.ɵɵelement(2, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 27);\n    i0.ɵɵelementStart(4, \"div\", 28);\n    i0.ɵɵelementStart(5, \"div\", 29);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, FavoriteEndpointsComponent_ng_template_2_p_7_Template, 2, 1, \"p\", 30);\n    i0.ɵɵelementStart(8, \"div\", 31);\n    i0.ɵɵelementStart(9, \"div\", 32);\n    i0.ɵɵelementStart(10, \"div\", 33);\n    i0.ɵɵelement(11, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 34);\n    i0.ɵɵelementStart(13, \"div\", 35);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementStart(15, \"div\");\n    i0.ɵɵelementStart(16, \"b\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"? \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 36);\n    i0.ɵɵelementStart(20, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function FavoriteEndpointsComponent_ng_template_2_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return ctx_r33.confirmDelete(ctx_r33.deletableEndPoint.id);\n    });\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function FavoriteEndpointsComponent_ng_template_2_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return ctx_r34.cancelDelete();\n    });\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(24, FavoriteEndpointsComponent_ng_template_2_div_24_Template, 7, 1, \"div\", 39);\n    i0.ɵɵtemplate(25, FavoriteEndpointsComponent_ng_template_2_div_25_Template, 7, 1, \"div\", 40);\n    i0.ɵɵtemplate(26, FavoriteEndpointsComponent_ng_template_2_div_26_Template, 2, 1, \"div\", 41);\n    i0.ɵɵelementStart(27, \"div\", 42);\n    i0.ɵɵelementStart(28, \"table\", 43);\n    i0.ɵɵelementStart(29, \"thead\");\n    i0.ɵɵelementStart(30, \"tr\");\n    i0.ɵɵelementStart(31, \"th\");\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(33, \"th\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"tbody\");\n    i0.ɵɵtemplate(35, FavoriteEndpointsComponent_ng_template_2_tr_35_Template, 6, 1, \"tr\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(36, FavoriteEndpointsComponent_ng_template_2_div_36_Template, 5, 1, \"div\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r3.language[\"Manage Endpoint Favorites\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r3.favoriteEndPoints == null ? null : ctx_r3.favoriteEndPoints.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !ctx_r3.isDeleteSelected);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.language[\"Are you sure you want to delete\"], \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r3.deletableEndPoint == null ? null : ctx_r3.deletableEndPoint.settingName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.language[\"Confirm\"], \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.language[\"Cancel\"], \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.errorMessage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.successMessage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r3.favoriteEndPoints == null ? null : ctx_r3.favoriteEndPoints.length) == 0 && !ctx_r3.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", ctx_r3.loading || (ctx_r3.favoriteEndPoints == null ? null : ctx_r3.favoriteEndPoints.length) == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dtOptions\", ctx_r3.dtOptions)(\"dtTrigger\", ctx_r3.dtTrigger);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.language[\"end\"]);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.favoriteEndPoints);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.loading);\n  }\n}\nexport let FavoriteEndpointsComponent = /*#__PURE__*/(() => {\n  class FavoriteEndpointsComponent {\n    constructor(cdRef, translateService, favoritesApiService, commonService, dialogService, router) {\n      this.cdRef = cdRef;\n      this.translateService = translateService;\n      this.favoritesApiService = favoritesApiService;\n      this.commonService = commonService;\n      this.dialogService = dialogService;\n      this.router = router;\n      this.FavoritePageType = FavoritePageType;\n      this.isDeleteSelected = false;\n      this.favoriteEndPoints = [];\n      this.dtOptions = {\n        paging: true,\n        pagingType: 'full_numbers',\n        pageLength: 10,\n        lengthChange: false,\n        processing: false,\n        searching: false,\n        dom: 'tipr',\n        retrieve: true,\n        ordering: true,\n        initComplete: () => {\n          setTimeout(() => {\n            this.loading = false;\n          }, 100);\n        },\n        columnDefs: [{\n          targets: [1],\n          orderable: false\n        }]\n      };\n      this.dtTrigger = new Subject();\n      this.subscriptions = [];\n      this.loading = false;\n      this.successMessage = '';\n      this.errorMessage = '';\n      this.settingType = 'Traffic_Realtime_Endpoint';\n    }\n    ngOnChanges(changes) {\n      var _a, _b, _c;\n      if (((_a = changes.showSensitiveInfo) === null || _a === void 0 ? void 0 : _a.currentValue) != ((_b = changes.showSensitiveInfo) === null || _b === void 0 ? void 0 : _b.previousValue) && !((_c = changes.showSensitiveInfo) === null || _c === void 0 ? void 0 : _c.firstChange)) {\n        this.viewAllEndPoints();\n      }\n    }\n    ngOnDestroy() {\n      this.subscriptions.forEach(sub => sub.unsubscribe());\n      if (this.dtTrigger) {\n        this.dtTrigger.unsubscribe();\n      }\n    }\n    ngOnInit() {\n      this.language = this.translateService.defualtLanguage;\n      this.translateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n        this.tableLanguageOptions();\n      });\n      this.viewAllEndPoints();\n      this.tableLanguageOptions();\n    }\n    get isEndPointPage() {\n      if (this.endPointId && this.endPointName) {\n        return true;\n      }\n      return false;\n    }\n    get selectedEndPoint() {\n      return this.favoriteEndPoints.find(f => f.settingJsonTyped.endPointId == this.endPointId);\n    }\n    viewAllEndPoints() {\n      this.favoriteEndPoints = [];\n      this.subscriptions.push(this.favoritesApiService.getAllFavorites(this.settingType).subscribe(result => {\n        result.sort((a, b) => a.settingName.localeCompare(b.settingName));\n        result.forEach(r => {\n          r.settingJsonTyped = JSON.parse(r.settingJson);\n        });\n        this.favoriteEndPoints = result;\n        this.processMaskNames();\n        this.cdRef.markForCheck();\n      }, err => this.showMessage(this.commonService.pageErrorHandle(err), false)));\n    }\n    saveEndPoint() {\n      const settingJson = {\n        endPointId: this.endPointId,\n        endPointName: this.endPointName\n      };\n      const favEndPoint = {\n        settingType: this.settingType,\n        settingName: this.endPointName,\n        settingJson: JSON.stringify(settingJson)\n      };\n      this.subscriptions.push(this.favoritesApiService.saveFavorite(favEndPoint).subscribe(result => {\n        result.settingJsonTyped = JSON.parse(result.settingJson);\n        this.favoriteEndPoints.unshift(result);\n        this.processMaskNames();\n        this.cdRef.markForCheck();\n      }, err => this.showMessage(this.commonService.pageErrorHandle(err), false)));\n    }\n    cancelDelete() {\n      this.isDeleteSelected = false;\n    }\n    deleteEndPoint(item) {\n      this.closeAlert();\n      this.isDeleteSelected = true;\n      this.deletableEndPoint = item;\n    }\n    confirmDelete(id) {\n      this.subscriptions.push(this.favoritesApiService.deleteFavorite(id).subscribe(() => {\n        this.favoriteEndPoints = this.favoriteEndPoints.filter(f => f.id != id);\n        this.showMessage(\"Deleted Successfully\", true);\n        this.dialogService.dismissAll();\n        this.isDeleteSelected = false;\n        if (this.pageType == FavoritePageType.Traffic) {\n          this.modalManageEndpoint();\n        }\n        this.cdRef.markForCheck();\n      }, err => this.showMessage(this.commonService.pageErrorHandle(err), false)));\n    }\n    onSelectEndPoint(item) {\n      window.sessionStorage.setItem('endpointName', item.settingJsonTyped.endPointName);\n      let url = window.location.pathname.indexOf('/organization-admin/') > -1 ? '/organization-admin/flowAnalyze/traffic/endpoint/realtime' : window.location.pathname.indexOf('/cco/traffic/') > -1 ? '/cco/traffic/endpoints/realtime' : '/systemAdministration/flowAnalyze/traffic/endpoint/realtime';\n      this.router.navigate([url], {\n        queryParams: {\n          id: item.settingJsonTyped.endPointId\n        }\n      });\n    }\n    modalManageEndpoint() {\n      this.isDeleteSelected = false;\n      this.loading = true;\n      const modelRef = this.dialogService.open(this.modaleEndpointFavorites, {\n        size: 'md',\n        centered: true,\n        windowClass: 'custom-modal'\n      });\n      modelRef.result.then(() => {\n        this.dtOptions.order = [0];\n      });\n      this.reRender();\n    }\n    processMaskNames() {\n      if (!this.showSensitiveInfo) {\n        this.favoriteEndPoints.forEach(f => {\n          f.settingName = maskString(f.settingName);\n          f.settingJsonTyped.endPointName = maskString(f.settingJsonTyped.endPointName);\n        });\n      }\n    }\n    closeAlert() {\n      this.errorMessage = '';\n      this.successMessage = '';\n    }\n    showMessage(message, isSuccess) {\n      this.loading = false;\n      clearTimeout(this.messageTimeout);\n      if (isSuccess) {\n        this.successMessage = message;\n      } else {\n        this.errorMessage = message;\n      }\n      this.messageTimeout = setTimeout(() => {\n        this.successMessage = '';\n        this.errorMessage = '';\n      }, 5000);\n    }\n    reRender() {\n      this.dtTrigger = new Subject();\n      setTimeout(() => {\n        var _a, _b;\n        (_b = (_a = this.dtElement) === null || _a === void 0 ? void 0 : _a.dtInstance) === null || _b === void 0 ? void 0 : _b.then(dtInstance => {\n          dtInstance.destroy();\n          this.dtTrigger.next();\n        });\n        this.dtTrigger.next();\n      }, 200);\n    }\n    tableLanguageOptions() {\n      if (this.language.fileLanguage == 'fr') {\n        this.dtOptions.language = this.translateService.fr;\n      } else if (this.language.fileLanguage == 'es') {\n        this.dtOptions.language = this.translateService.es;\n      } else if (this.language.fileLanguage == 'de_DE') {\n        this.dtOptions.language = this.translateService.de_DE;\n      } else if (this.language.fileLanguage == 'en' && this.dtOptions.language) {\n        delete this.dtOptions.language;\n      }\n    }\n  }\n  FavoriteEndpointsComponent.ɵfac = function FavoriteEndpointsComponent_Factory(t) {\n    return new (t || FavoriteEndpointsComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.TranslateService), i0.ɵɵdirectiveInject(i2.FavoritesApiService), i0.ɵɵdirectiveInject(i3.CommonService), i0.ɵɵdirectiveInject(i4.NgbModal), i0.ɵɵdirectiveInject(i5.Router));\n  };\n  FavoriteEndpointsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FavoriteEndpointsComponent,\n    selectors: [[\"app-favorite-endpoints\"]],\n    viewQuery: function FavoriteEndpointsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(DataTableDirective, 5);\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dtElement = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modaleEndpointFavorites = _t.first);\n      }\n    },\n    inputs: {\n      pageType: \"pageType\",\n      endPointId: \"endPointId\",\n      endPointName: \"endPointName\",\n      showSensitiveInfo: \"showSensitiveInfo\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 4,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [\"class\", \"d-inline-flex\", 4, \"ngIf\"], [\"class\", \"col-md-12\"], [\"modaleEndpointFavorites\", \"\"], [3, \"title\"], [\"class\", \"addto-favlink align-bottom mt-1\", 3, \"ngClass\", \"click\", 4, \"ngIf\"], [\"class\", \"addto-favlink align-bottom\", 3, \"click\", 4, \"ngIf\"], [1, \"addto-favlink\", \"align-bottom\", \"mt-1\", 3, \"ngClass\", \"click\"], [1, \"fa\", \"fa-star-o\"], [1, \"f-size-16px\"], [1, \"addto-favlink\", \"align-bottom\", 3, \"click\"], [\"src\", \"../../../assets/img/ic_close_blue.svg\"], [1, \"f-size-16px\", \"mt-1\"], [1, \"d-inline-flex\"], [1, \"btn-Favorite-dropdown\"], [1, \"btn-group\", \"ml-3\"], [\"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"text-decoration-none\", \"cursor-pointer\", \"dropdown-toggle\"], [1, \"dropdown-menu\", \"dropdown-ul\"], [1, \"dropdown-ul-body\"], [\"type\", \"button\", \"class\", \"dropdown-item\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"no-endpoint\", 4, \"ngIf\"], [1, \"dropdown-ul-divider\"], [1, \"dropdown-ul-footer\"], [\"type\", \"button\", 1, \"dropdown-item\", 3, \"click\"], [1, \"no-endpoint\"], [1, \"modal-header\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [1, \"modal-body\", \"px-4\"], [1, \"w-100\", \"px-3\", \"pb-3\"], [1, \"ccl-admin-title\", \"my-3\"], [\"class\", \"mb-3\", 4, \"ngIf\"], [1, \"clx-warning-alert\", \"mb-3\", 3, \"hidden\"], [1, \"clx-warning-wrapper\"], [1, \"clx-warning-icon\"], [1, \"clx-warning-content\"], [1, \"text-break\", \"cco-secondary-title\", \"warning-title\", \"mb-3\"], [1, \"mt-3\"], [\"type\", \"button\", 1, \"btn-default\", \"btn-primary\", \"mr-3\", 3, \"click\"], [\"type\", \"button\", 1, \"btn-default\", \"btn-dft\", 3, \"click\"], [\"class\", \"w-100 alert alert-danger fade show\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-success fade show\", 4, \"ngIf\"], [\"class\", \"text-center\", 4, \"ngIf\"], [3, \"hidden\"], [\"datatable\", \"\", 1, \"w-100\", 3, \"dtOptions\", \"dtTrigger\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"loader\", 4, \"ngIf\"], [1, \"mb-3\"], [1, \"w-100\", \"alert\", \"alert-danger\", \"fade\", \"show\"], [1, \"error-img\"], [\"src\", \"./assets/img/ic_error-36px.svg\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [1, \"w-100\", \"alert\", \"alert-success\", \"fade\", \"show\"], [1, \"success-img\"], [\"src\", \"./assets/img/success-icon.svg\"], [1, \"text-center\"], [1, \"cursor-pointer\", 3, \"click\"], [\"src\", \"../../../assets/img/ic_delete_trash.svg\"], [1, \"loader\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"spinner-border\", \"text-primary\"], [1, \"sr-only\"]],\n    template: function FavoriteEndpointsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, FavoriteEndpointsComponent_span_0_Template, 4, 3, \"span\", 0);\n        i0.ɵɵtemplate(1, FavoriteEndpointsComponent_div_1_Template, 13, 4, \"div\", 1);\n        i0.ɵɵtemplate(2, FavoriteEndpointsComponent_ng_template_2_Template, 37, 16, \"ng-template\", 2, 3, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.pageType == ctx.FavoritePageType.EndPoint && ctx.isEndPointPage);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.pageType == ctx.FavoritePageType.Traffic);\n      }\n    },\n    directives: [i6.NgIf, i6.NgClass, i6.NgForOf, i7.DataTableDirective],\n    styles: [\".ccl-tabs-traffic[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-bottom:2px solid #ccc}.ccl-tabs-traffic[_ngcontent-%COMP%]   ul.nav-tabs[_ngcontent-%COMP%]{border-bottom:0!important}.ccl-tabs-traffic[_ngcontent-%COMP%]   ul.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-top:1px}.dropdown-ul[_ngcontent-%COMP%]{box-shadow:0 5px 15px #80808040;border-radius:16px;border-color:transparent;padding:15px 0;min-width:230px;max-width:250px}.dropdown-ul[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{width:100%!important;border-radius:0!important;text-align:left;padding:10px 25px;cursor:pointer}.dropdown-ul[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#edf5ff!important}.btn-Favorite-dropdown[_ngcontent-%COMP%]{margin-right:10px}.btn-Favorite-dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{content:url(ic_chevrondown_blue.37ea23f182a971ed3e60.svg);position:relative;border:none;border-width:0;margin:0;top:4px}.dropdown-ul-body[_ngcontent-%COMP%]{overflow:auto;max-height:225px}.dropdown-ul-divider[_ngcontent-%COMP%]{border-top:1px solid #ccc;padding:0 15px;margin:0 15px}.addto-favlink[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;margin-right:2px}.addto-favlink[_ngcontent-%COMP%]{display:inline-flex;align-items:center;color:#0279ff;cursor:pointer}.addto-favlink[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}.addto-favlink[_ngcontent-%COMP%]:hover{color:#0054b2}.no-endpoint[_ngcontent-%COMP%]{color:gray;font-style:italic;text-align:center;cursor:default;padding-top:10px;padding-bottom:10px;font-size:15px}.warning-title[_ngcontent-%COMP%]{font-size:18px;line-height:22.63px}\"],\n    changeDetection: 0\n  });\n  return FavoriteEndpointsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}