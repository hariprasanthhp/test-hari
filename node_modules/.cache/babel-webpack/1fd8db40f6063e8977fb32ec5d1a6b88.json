{"ast":null,"code":"import { FormControl, Validators } from '@angular/forms';\nimport { DataTableDirective } from 'angular-datatables';\nimport { forkJoin, fromEvent, Observable, of, Subject } from 'rxjs';\nimport { catchError, debounceTime, distinctUntilChanged, switchMap } from 'rxjs/operators';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app-services/translate.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"src/app/shared/services/sso-auth.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"../services/common.service\";\nimport * as i7 from \"@angular/platform-browser\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@ng-select/ng-select\";\nimport * as i10 from \"angular-datatables\";\nfunction AccountManagementComponent_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1, \"To grant 3rd party users access to your organization, please use this \");\n    i0.ɵɵelementStart(2, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function AccountManagementComponent_p_4_Template_a_click_2_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.openMFALink();\n    });\n    i0.ɵɵtext(3, \"link \");\n    i0.ɵɵelement(4, \"img\", 20);\n    i0.ɵɵtext(5, \".\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccountManagementComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelementStart(1, \"span\", 22);\n    i0.ɵɵelement(2, \"img\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function AccountManagementComponent_div_5_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.closeAlert();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r1.errorInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction AccountManagementComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵelementStart(1, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function AccountManagementComponent_div_6_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.closeAlert();\n    });\n    i0.ɵɵelement(2, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r2.successInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction AccountManagementComponent_i_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"i\", 28);\n    i0.ɵɵlistener(\"click\", function AccountManagementComponent_i_24_Template_i_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.clearSearchInp();\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccountManagementComponent_div_26_tr_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 36);\n    i0.ɵɵlistener(\"click\", function AccountManagementComponent_div_26_tr_9_Template_td_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const item_r15 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return ctx_r16.gotoUserDetail(item_r15);\n    });\n    i0.ɵɵelement(4, \"i\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r15 = ctx.$implicit;\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r15 == null ? null : item_r15.userName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"title\", ctx_r13.language.Edit);\n  }\n}\nfunction AccountManagementComponent_div_26_tbody_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵelementStart(2, \"td\", 38);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r14.filterAndSearchFlag ? ctx_r14.language[\"No matching records found\"] : ctx_r14.language[\"No data available in table\"]);\n  }\n}\nfunction AccountManagementComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵelementStart(1, \"table\", 30);\n    i0.ɵɵelementStart(2, \"thead\", 31);\n    i0.ɵɵelementStart(3, \"tr\");\n    i0.ɵɵelementStart(4, \"th\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"tbody\");\n    i0.ɵɵtemplate(9, AccountManagementComponent_div_26_tr_9_Template, 5, 2, \"tr\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, AccountManagementComponent_div_26_tbody_10_Template, 4, 1, \"tbody\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function AccountManagementComponent_div_26_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.onSubmit();\n    });\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function AccountManagementComponent_div_26_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.clearForm();\n    });\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dtOptions\", ctx_r4.dtOptions);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r4.language.userName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.language.Action);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.userListForOrg);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r4.userListForOrg == null ? null : ctx_r4.userListForOrg.length) == 0 || ctx_r4.filterCount == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r4.disableBtn);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.language.submit, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.language.Cancel, \" \");\n  }\n}\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\nexport let AccountManagementComponent = /*#__PURE__*/(() => {\n  class AccountManagementComponent {\n    constructor(translateService, fb, http, sso, router, commonOrgService, titleService) {\n      this.translateService = translateService;\n      this.fb = fb;\n      this.http = http;\n      this.sso = sso;\n      this.router = router;\n      this.commonOrgService = commonOrgService;\n      this.titleService = titleService;\n      this.showMFALink = false;\n      this.searchUser = new FormControl('');\n      this.orgsList = []; //[{ \"orgId\": '', \"orgName\": \"Select\" }]\n      this.userListForOrg = [];\n      this.defaultRoleForOrg = {};\n      this.roles = [{\n        _id: '',\n        name: 'Unassigned'\n      }];\n      this.MODULE = 'systemAdministration';\n      this.accountsForm = this.fb.group({\n        org: [null, [Validators.required]],\n        roleId: ['', [Validators.required]]\n      });\n      this.disableBtn = true;\n      this.count = 0;\n      this.errorInfo = '';\n      this.successInfo = '';\n      this.dtOptions = {};\n      this.dtTrigger = new Subject();\n      this.loading = false;\n      this.showTable = false;\n      this.defaultRoleId = '';\n      this.filterAndSearchFlag = false;\n    }\n    ngOnInit() {\n      this.language = this.translateService.defualtLanguage;\n      this.languageSubject = this.translateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n      });\n      this.listenSearch();\n      this.commonOrgService.currentPageAdder('account-management');\n      let url = this.router.url;\n      this.ORG_ID = this.sso.getOrganizationID(url);\n      this.MODULE = this.sso.getRedirectModule(url);\n      if (!(this.MODULE === 'systemAdministration' || this.sso.isSecureAccess())) {\n        this.showMFALink = true;\n      }\n      this.titleService.setTitle(`Account Management - ${this.MODULE === 'systemAdministration' ? 'System Administration' : 'Administration'} - Calix Cloud`);\n      this.accountsForm.valueChanges.subscribe(changedObj => {\n        this.watchDisableBtn();\n      });\n      this.formSub = this.accountsForm.get('org').valueChanges.pipe(distinctUntilChanged(), switchMap(org => {\n        this.accountsForm.get('roleId').setValue('');\n        return this.getUsersAndDefaultRoles(org);\n      })).subscribe(json => {\n        var _a, _b, _c, _d, _e;\n        this.userListForOrg = [];\n        this.defaultRoleId = '';\n        this.searchUser.setValue('');\n        if (!((_a = json === null || json === void 0 ? void 0 : json.users) === null || _a === void 0 ? void 0 : _a['api-error'])) {\n          this.count = json.users ? json.users : 0;\n          this.filterCount = json.users ? json.users : 0;\n          if (this.initLoad) {\n            this.redraw();\n          } else {\n            this.showTable = true;\n            this.getData();\n          }\n        }\n        if (!((_b = json === null || json === void 0 ? void 0 : json.defaultrole) === null || _b === void 0 ? void 0 : _b['api-error'])) {\n          if (json['defaultrole'] && ((_c = Object.keys(json['defaultrole'])) === null || _c === void 0 ? void 0 : _c.length)) {\n            this.accountsForm.get('roleId').setValue((_d = json['defaultrole']) === null || _d === void 0 ? void 0 : _d._id);\n            this.defaultRoleId = (_e = json['defaultrole']) === null || _e === void 0 ? void 0 : _e._id;\n          }\n        }\n        this.watchDisableBtn();\n      });\n      this.getOrgsAndRoles();\n    }\n    getUsersAndDefaultRoles(orgId) {\n      if (!orgId) {\n        this.initLoad = false;\n        this.showTable = false;\n        this.accountsForm.get('roleId').setValue('');\n        return new Observable(subsciber => subsciber.next({\n          users: [],\n          defaultrole: {}\n        }));\n      }\n      const requests = {};\n      let types = ['users', 'defaultrole'];\n      types.forEach(type => {\n        let url = `${environment.API_BASE_URL}federated/${this.ORG_ID}/grantee/${orgId}/${type}`;\n        if (type === 'users') {\n          url += `/_count`;\n        }\n        requests[type] = this.http.get(url).pipe(catchError(err => {\n          err['api-error'] = true;\n          this.showErrorMessage(this.commonOrgService.pageErrorHandle(err));\n          return of(err);\n        }));\n      });\n      return forkJoin(requests);\n    }\n    getOrgsAndRoles() {\n      const requests = {};\n      requests['orgs'] = this.http.get(`${environment.API_BASE_URL}federated/${this.ORG_ID}/grantee`).pipe(catchError(err => {\n        return of(err);\n      }));\n      requests['roles'] = this.http.get(`${environment.API_BASE_URL}admin/org/${this.ORG_ID}/roles`).pipe(catchError(err => {\n        return of(err);\n      }));\n      this.orgsListSub = forkJoin(requests).subscribe(json => {\n        this.orgsList = [...this.orgsList, ...json.orgs];\n        this.roles = [...this.roles, ...json.roles];\n      });\n    }\n    onSubmit() {\n      this.disableBtn = true;\n      let fields = this.accountsForm.value;\n      let request = this.http.post(`${environment.API_BASE_URL}federated/${this.ORG_ID}/grantee/${fields['org']}/defaultrole/${fields['roleId']}`, {});\n      if (this.defaultRoleId && !this.accountsForm.get('roleId').value) {\n        request = this.http.delete(`${environment.API_BASE_URL}federated/${this.ORG_ID}/grantee/${fields['org']}/defaultrole/${this.defaultRoleId}`, {});\n      }\n      request.subscribe(json => {\n        this.successMessage();\n      }, err => {\n        this.showErrorMessage(this.commonOrgService.pageErrorHandle(err));\n      }, () => {\n        this.disableBtn = false;\n      });\n    }\n    clearForm() {\n      this.accountsForm.patchValue({\n        org: null,\n        roleId: ''\n      });\n    }\n    successMessage() {\n      this.closeAlert();\n      this.successInfo = 'Default role saved successfully';\n      this.success = true;\n      this.commonOrgService.pageScrollTop();\n    }\n    closeAlert() {\n      this.error = false;\n      this.success = false;\n    }\n    showErrorMessage(msg) {\n      this.closeAlert();\n      this.errorInfo = msg;\n      this.error = true;\n      //this.commonOrgService.pageScrollTop();\n    }\n\n    gotoUserDetail(info) {\n      localStorage.setItem('calix.federated_grantee_orgId', this.accountsForm.get('org').value);\n      sessionStorage.setItem('calixAdminUserDetail', JSON.stringify(info));\n      this.router.navigate([`${this.MODULE}/federated-user-details`]);\n    }\n    getData(searchValue) {\n      if (!this.accountsForm.get('org').value) {\n        this.showTable = false;\n        return;\n      }\n      this.showTable = true;\n      this.dtOptions = {\n        pagingType: \"full_numbers\",\n        pageLength: 10,\n        serverSide: true,\n        processing: false,\n        lengthChange: false,\n        ordering: false,\n        dom: 'tipr',\n        ajax: (dataTablesParameters, callback) => {\n          let url = `${environment.API_BASE_URL}federated/${this.ORG_ID}/grantee/${this.accountsForm.get('org').value}/users?offset=${dataTablesParameters.start}&size=${dataTablesParameters.length}&filter=${dataTablesParameters.search.value}`;\n          this.http.get(url).subscribe(resp => {\n            this.userListForOrg = resp ? resp : [];\n            this.loading = false;\n            callback({\n              recordsTotal: this.count ? this.count : 0,\n              recordsFiltered: this.filterCount != undefined ? this.filterCount : this.count,\n              data: []\n            });\n          }, err => {\n            this.loading = false;\n            this.showErrorMessage(this.commonOrgService.pageErrorHandle(err));\n            callback({\n              recordsTotal: this.count ? this.count : 0,\n              recordsFiltered: this.filterCount != undefined ? this.filterCount : this.count,\n              data: []\n            });\n          }, () => {\n            this.initLoad = true;\n          });\n        },\n        drawCallback: settings => {\n          //this.changeTableStatusLanguage(settings);\n          // let total = settings._iRecordsDisplay; // for server side rendering\n          // let length = settings._iDisplayLength;\n          // if (total <= length) {\n          // }\n        }\n      };\n      this.tableLanguageOptions();\n    }\n    ngOnDestroy() {\n      var _a, _b, _c;\n      (_a = this.formSub) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n      (_b = this.orgsListSub) === null || _b === void 0 ? void 0 : _b.unsubscribe();\n      (_c = this.searchSub) === null || _c === void 0 ? void 0 : _c.unsubscribe();\n    }\n    tableLanguageOptions() {\n      if (this.language.fileLanguage == 'de_DE') {\n        this.dtOptions.language = this.translateService.de_DE;\n      } else if (this.language.fileLanguage == 'fr') {\n        this.dtOptions.language = this.translateService.fr;\n      } else if (this.language.fileLanguage == 'es') {\n        this.dtOptions.language = this.translateService.es;\n      } else if (this.language.fileLanguage == 'en' && this.dtOptions.language) {\n        delete this.dtOptions.language;\n      }\n    }\n    clearSearchInp() {\n      this.searchUser.setValue('');\n      this.subscribeCount('');\n    }\n    getCount(searchValue) {\n      let url = `${environment.API_BASE_URL}federated/${this.ORG_ID}/grantee/${this.accountsForm.get('org').value}/users/_count`;\n      if (searchValue) {\n        url += `?filter=${searchValue}`;\n      }\n      this.filterAndSearchFlag = true;\n      return this.http.get(url).pipe(catchError(err => {\n        err['api-error'] = true;\n        this.showErrorMessage(this.commonOrgService.pageErrorHandle(err));\n        return of(err);\n      }));\n    }\n    subscribeCount(searchValue) {\n      this.getCount(searchValue).subscribe(count => {\n        if (count === null || count === void 0 ? void 0 : count['api-error']) {\n          return;\n        }\n        this.count = count;\n        this.filterCount = count;\n        this.redraw();\n        //this.getData(searchValue);\n      });\n    }\n\n    listenSearch() {\n      this.searchSub = fromEvent(document.getElementById('search-user'), 'keyup').pipe(debounceTime(200), distinctUntilChanged(), switchMap(e => {\n        this.userListForOrg = [];\n        return this.getCount(e.target.value);\n      })).subscribe(value => {\n        if (value === null || value === void 0 ? void 0 : value['api-error']) {\n          return;\n        }\n        this.filterCount = value;\n        this.redraw();\n      });\n    }\n    watchDisableBtn() {\n      if (this.defaultRoleId && !this.accountsForm.get('roleId').value) {\n        this.disableBtn = false;\n      } else {\n        this.disableBtn = !this.accountsForm.valid;\n      }\n    }\n    redraw() {\n      if (!this.accountsForm.get('org').value) {\n        return;\n      }\n      this.dtElement.dtInstance.then(dtInstance => {\n        dtInstance.search(this.searchUser.value).draw();\n      });\n    }\n    openMFALink() {\n      window.open(environment.EMBEDDING_LINK, \"_blank\");\n    }\n    tableRerender() {\n      this.accountsForm.valueChanges.subscribe(value => {\n        if (value.org) {\n          this.filterAndSearchFlag = false;\n          this.dtTrigger.next();\n        }\n      });\n    }\n  }\n  AccountManagementComponent.ɵfac = function AccountManagementComponent_Factory(t) {\n    return new (t || AccountManagementComponent)(i0.ɵɵdirectiveInject(i1.TranslateService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.HttpClient), i0.ɵɵdirectiveInject(i4.SsoAuthService), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i6.CommonService), i0.ɵɵdirectiveInject(i7.Title));\n  };\n  AccountManagementComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AccountManagementComponent,\n    selectors: [[\"app-account-management\"]],\n    viewQuery: function AccountManagementComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(DataTableDirective, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dtElement = _t.first);\n      }\n    },\n    decls: 27,\n    vars: 20,\n    consts: [[1, \"row\", \"my-3\"], [1, \"col-md-12\"], [1, \"ccl-admin-title\"], [\"class\", \"management-link\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-danger  fade show\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-success fade show\", 4, \"ngIf\"], [1, \"col-md-4\", \"offset-md-0\"], [3, \"formGroup\"], [1, \"form-group\", \"ccl-form\"], [\"for\", \"inputPassword4\"], [1, \"required-field\"], [\"formControlName\", \"org\", \"bindLabel\", \"orgName\", \"bindValue\", \"orgId\", \"placeholder\", \"Select\", 3, \"items\", \"clearable\", \"ngModelOptions\", \"notFoundText\", \"change\"], [\"formControlName\", \"roleId\", \"bindLabel\", \"name\", \"bindValue\", \"_id\", \"placeholder\", \"Accounts\", 3, \"items\", \"clearable\", \"ngModelOptions\", \"notFoundText\"], [1, \"row\", \"col-md-3\", \"ccl-form\", \"mt-4\", \"position-relative\", \"px-0\", 3, \"hidden\"], [\"id\", \"search-user\", 1, \"ccl-input\", 3, \"placeholder\", \"formControl\"], [\"class\", \"search-close fas fa-times\", 3, \"click\", 4, \"ngIf\"], [1, \"row\"], [\"class\", \"col-md-8\", 4, \"ngIf\"], [1, \"management-link\"], [1, \"cursor-pointer\", 3, \"click\"], [\"src\", \"../../../assets/img/External Link-blue.svg\", \"alt\", \"\"], [1, \"w-100\", \"alert\", \"alert-danger\", \"fade\", \"show\"], [1, \"error-img\"], [\"src\", \"./assets/img/ic_error-36px.svg\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [1, \"d-inline-flex\", 3, \"innerHtml\"], [1, \"w-100\", \"alert\", \"alert-success\", \"fade\", \"show\"], [3, \"innerHtml\"], [1, \"search-close\", \"fas\", \"fa-times\", 3, \"click\"], [1, \"col-md-8\"], [\"id\", \"add-role-users\", \"width\", \"100%\", \"datatable\", \"\", 1, \"table\", \"table-sm\", \"row-border\", \"w-100\", 3, \"dtOptions\"], [1, \"header-color\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [\"type\", \"button\", \"id\", \"add-call-home\", 1, \"btn-default\", \"transparant\", \"px-3\", \"m-2\", 3, \"click\"], [1, \"actions\", 3, \"click\"], [1, \"fas\", \"fa-pencil-alt\", \"p-1\", \"primary\", \"cursor-pointer\", 3, \"title\"], [\"colspan\", \"5\", 1, \"no-data-available\"]],\n    template: function AccountManagementComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, AccountManagementComponent_p_4_Template, 6, 0, \"p\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, AccountManagementComponent_div_5_Template, 6, 1, \"div\", 4);\n        i0.ɵɵtemplate(6, AccountManagementComponent_div_6_Template, 4, 1, \"div\", 5);\n        i0.ɵɵelementStart(7, \"div\", 0);\n        i0.ɵɵelementStart(8, \"div\", 6);\n        i0.ɵɵelementStart(9, \"form\", 7);\n        i0.ɵɵelementStart(10, \"div\", 8);\n        i0.ɵɵelementStart(11, \"label\", 9);\n        i0.ɵɵtext(12, \"Select an Account \");\n        i0.ɵɵelementStart(13, \"span\", 10);\n        i0.ɵɵtext(14, \"*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"ng-select\", 11);\n        i0.ɵɵlistener(\"change\", function AccountManagementComponent_Template_ng_select_change_15_listener() {\n          return ctx.tableRerender();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 8);\n        i0.ɵɵelementStart(17, \"label\", 9);\n        i0.ɵɵtext(18, \"Default Role \");\n        i0.ɵɵelementStart(19, \"span\", 10);\n        i0.ɵɵtext(20, \"*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"ng-select\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 13);\n        i0.ɵɵelement(23, \"input\", 14);\n        i0.ɵɵtemplate(24, AccountManagementComponent_i_24_Template, 1, 0, \"i\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 16);\n        i0.ɵɵtemplate(26, AccountManagementComponent_div_26_Template, 15, 8, \"div\", 17);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.language[\"Account Management\"]);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showMFALink);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.success);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.accountsForm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵpropertyInterpolate(\"notFoundText\", ctx.language.noItemsFound);\n        i0.ɵɵproperty(\"items\", ctx.orgsList)(\"clearable\", false)(\"ngModelOptions\", i0.ɵɵpureFunction0(18, _c0));\n        i0.ɵɵadvance(6);\n        i0.ɵɵpropertyInterpolate(\"notFoundText\", ctx.language.noItemsFound);\n        i0.ɵɵproperty(\"items\", ctx.roles)(\"clearable\", false)(\"ngModelOptions\", i0.ɵɵpureFunction0(19, _c0));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"hidden\", !ctx.showTable);\n        i0.ɵɵadvance(1);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.language[\"searchUsers\"]);\n        i0.ɵɵproperty(\"formControl\", ctx.searchUser);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.searchUser == null ? null : ctx.searchUser.value);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.showTable);\n      }\n    },\n    directives: [i8.NgIf, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i9.NgSelectComponent, i2.NgControlStatus, i2.FormControlName, i2.DefaultValueAccessor, i2.FormControlDirective, i10.DataTableDirective, i8.NgForOf],\n    styles: [\"table.dataTable td.dataTables_empty{display:none}.search-close[_ngcontent-%COMP%]{position:absolute;right:15px;top:10px;color:#cdcdcd;cursor:pointer}.management-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}\"]\n  });\n  return AccountManagementComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}