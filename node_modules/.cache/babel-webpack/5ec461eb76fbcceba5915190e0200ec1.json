{"ast":null,"code":"import _ from 'lodash';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app-services/translate.service\";\nimport * as i2 from \"@angular/platform-browser\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"src/app/sys-admin/services/common.service\";\nimport * as i5 from \"@angular/common/http\";\nimport * as i6 from \"src/app/shared/services/sso-auth.service\";\nimport * as i7 from \"src/app/cco/operations/cco-subscriber-operations/cco-subscriber-profile/profile.service\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"./start/start.component\";\nimport * as i10 from \"./build-profile/build-profile.component\";\nfunction AddComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵelementStart(1, \"span\", 18);\n    i0.ɵɵelement(2, \"img\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function AddComponent_div_0_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.closeAlert();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r0.errorInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction AddComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelementStart(1, \"span\", 23);\n    i0.ɵɵelement(2, \"img\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function AddComponent_div_1_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.success = false;\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r1.language[ctx_r1.successInfo] || ctx_r1.successInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"step-done\": a0,\n    \"step-current\": a1\n  };\n};\nfunction AddComponent_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function AddComponent_li_9_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const i_r13 = restoredCtx.index;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.onTabChange(i_r13);\n    });\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tab_r12 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"title\", ctx_r2.language[tab_r12] || tab_r12);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(3, _c0, ctx_r2.smpId && tab_r12 === \"Start\" && ctx_r2.activeTab !== tab_r12 || ctx_r2.smpId && tab_r12 === \"Build Profile\" && ctx_r2.activeTab !== tab_r12, ctx_r2.activeTab === tab_r12));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.language[tab_r12] || tab_r12);\n  }\n}\nfunction AddComponent_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function AddComponent_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.onTabChange(ctx_r16.selectedTabIndex + 1);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"img\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", !(ctx_r3.startdata == null ? null : ctx_r3.startdata.name) || !(ctx_r3.startdata == null ? null : ctx_r3.startdata.deviceType));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.language[\"next\"], \" \");\n  }\n}\nfunction AddComponent_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function AddComponent_button_15_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.Onsave();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r4.disableFinishBtn);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.language.Finish, \" \");\n  }\n}\nfunction AddComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵelementStart(1, \"div\", 30);\n    i0.ɵɵelementStart(2, \"div\", 31);\n    i0.ɵɵelementStart(3, \"span\", 32);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r5.language.Loading);\n  }\n}\nfunction AddComponent_app_start_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-start\", 33);\n    i0.ɵɵlistener(\"isFormValid\", function AddComponent_app_start_18_Template_app_start_isFormValid_0_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.OnFormData(\"start\", $event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"data\", ctx_r6.startdata);\n  }\n}\nfunction AddComponent_app_build_profile_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-build-profile\", 34);\n    i0.ɵɵlistener(\"isprofilevalue\", function AddComponent_app_build_profile_19_Template_app_build_profile_isprofilevalue_0_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.OnFormData(\"profile\", $event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"data\", ctx_r7.startdata)(\"profiledata\", ctx_r7.profileobj);\n  }\n}\nexport let AddComponent = /*#__PURE__*/(() => {\n  class AddComponent {\n    constructor(translateService, titleService, route, commonOrgService, http, router, sso, service) {\n      this.translateService = translateService;\n      this.titleService = titleService;\n      this.route = route;\n      this.commonOrgService = commonOrgService;\n      this.http = http;\n      this.router = router;\n      this.sso = sso;\n      this.service = service;\n      this.loader = false;\n      this.disableFinishBtn = false;\n      this.selectedTabIndex = 0;\n      this.isTabChange = true;\n      this.disableNextBtn = false;\n      this.error = false;\n      this.activeTab = 'Start';\n      this.errorInfo = '';\n      this.FormData = {\n        start: {},\n        profile: {}\n      };\n      this.addProfileTab = ['Start', 'Build Profile'];\n      this.removeNull = obj => {\n        Object.keys(obj).forEach(key => obj[key] && typeof obj[key] === 'object' && this.removeNull(obj[key]) || (obj[key] === '' || obj[key] === null) && delete obj[key]);\n        return obj;\n      };\n      this.ORG_ID = this.sso.getOrgId();\n    }\n    ngOnInit() {\n      this.language = this.translateService.defualtLanguage;\n      this.languageSubject = this.translateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n        this.titleService.setTitle(`${this.language['Profiles']} - Migrations - ${this.language['Configuration']} - ${this.language['Operations']} - ${this.language['Operations']} - ${this.language['Calix Cloud']}`);\n      });\n      this.titleService.setTitle(`${this.language['Profiles']} - Migrations - ${this.language['Configuration']} - ${this.language['Operations']} - ${this.language['Operations']} - ${this.language['Calix Cloud']}`);\n      this.onTabChange(0);\n      this.route.queryParams.subscribe(params => {\n        if (params['smpId']) {\n          this.smpId = params['smpId'];\n          this.deviceType = params['type'];\n          this.getEditData();\n        }\n      });\n    }\n    closeAlert() {\n      this.error = false;\n      this.errorInfo = '';\n    }\n    nameValidation() {\n      var _a, _b, _c, _d, _e;\n      var regex = new RegExp(\"^[a-zA-Z0-9_.-]{1,48}$\");\n      let result = ((_b = (_a = this.FormData) === null || _a === void 0 ? void 0 : _a.start) === null || _b === void 0 ? void 0 : _b.name) ? (_d = (_c = this.FormData) === null || _c === void 0 ? void 0 : _c.start) === null || _d === void 0 ? void 0 : _d.name : (_e = this.startdata) === null || _e === void 0 ? void 0 : _e.name;\n      if (regex.test(result)) {\n        this.nameError = false;\n      } else {\n        this.nameError = true;\n      }\n    }\n    getEditData() {\n      this.loader = true;\n      this.getProfileData = this.service.GetProfile(this.smpId, this.deviceType).subscribe(res => {\n        var _a, _b;\n        this.FormData.profile = this.profileobj = res ? res : {};\n        this.editData = true;\n        this.startdata = {\n          name: (_a = this.profileobj) === null || _a === void 0 ? void 0 : _a.name,\n          description: (_b = this.profileobj) === null || _b === void 0 ? void 0 : _b.description\n        };\n        this.FormData.start = this.startdata;\n        this.loader = false;\n      }, err => {\n        this.loader = false;\n        this.pageErrorHandle(err);\n      });\n    }\n    Onsave() {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26;\n      //this.nameValidation()\n      if (!((_b = (_a = this.FormData) === null || _a === void 0 ? void 0 : _a.start) === null || _b === void 0 ? void 0 : _b.name) || !((_d = (_c = this.FormData) === null || _c === void 0 ? void 0 : _c.profile) === null || _d === void 0 ? void 0 : _d.serviceType) || !((_f = (_e = this.FormData) === null || _e === void 0 ? void 0 : _e.profile) === null || _f === void 0 ? void 0 : _f.serviceDefinitionName)) {\n        return;\n      }\n      // if(this.FormData?.profile?.serviceType==='VOICE' && (!this.FormData?.profile?.voIPProtocol)){\n      //   return\n      // }\n      // if(this.FormData?.profile?.voIPProtocol==='SIP' && (!this.FormData?.profile?.sipProfile || !this.FormData?.profile?.dialPlan)){\n      //   return\n      // }\n      // if(this.FormData?.profile?.voIPProtocol==='H.248' && !this.FormData?.profile?.h248Profile){\n      //   return\n      // }\n      // if(this.FormData?.profile?.serviceType==='VIDEO' && (!this.FormData?.profile?.multicastProfile || !this.FormData?.profile?.igmpProfile)){\n      //   return\n      // }\n      this.loader = true;\n      let params = (_g = this.FormData) === null || _g === void 0 ? void 0 : _g.profile;\n      params.name = ((_j = (_h = this.FormData) === null || _h === void 0 ? void 0 : _h.start) === null || _j === void 0 ? void 0 : _j.name) ? (_l = (_k = this.FormData) === null || _k === void 0 ? void 0 : _k.start) === null || _l === void 0 ? void 0 : _l.name : (_m = this.startdata) === null || _m === void 0 ? void 0 : _m.name;\n      params.description = ((_p = (_o = this.FormData) === null || _o === void 0 ? void 0 : _o.start) === null || _p === void 0 ? void 0 : _p.description) ? (_r = (_q = this.FormData) === null || _q === void 0 ? void 0 : _q.start) === null || _r === void 0 ? void 0 : _r.description : (_s = this.startdata) === null || _s === void 0 ? void 0 : _s.description;\n      params.deviceType = ((_u = (_t = this.FormData) === null || _t === void 0 ? void 0 : _t.start) === null || _u === void 0 ? void 0 : _u.deviceType) ? (_w = (_v = this.FormData) === null || _v === void 0 ? void 0 : _v.start) === null || _w === void 0 ? void 0 : _w.deviceType : (_x = this.startdata) === null || _x === void 0 ? void 0 : _x.deviceType;\n      //if(params?.voIPProtocol) delete params?.voIPProtocol\n      params = _.pickBy(params, v => v !== null && v !== \"\");\n      if (params.deviceType === 'ONT') {\n        delete params.videoProfile;\n        delete params.dataProfile;\n        delete params.voiceH248Profile;\n        delete params.voiceMGCPProfile;\n        delete params.voiceSIPProfile;\n        delete params.voiceTDMGWProfile;\n      }\n      if (params.deviceType === 'RG' && (params === null || params === void 0 ? void 0 : params.serviceType) === 'DATA') {\n        if (params.dataProfile.FramingType == 'IPoE' || params.dataProfile.FramingType == 'PPPoE' && params.dataProfile.ProductFamily == 'EXOS') {\n          params.dataProfile.version = (_y = params.dataProfile) === null || _y === void 0 ? void 0 : _y.version;\n        } else {\n          (_z = params.dataProfile) === null || _z === void 0 ? true : delete _z.version;\n        }\n        if (!params.dataProfile.VlanTagAction) {\n          (_0 = params.dataProfile) === null || _0 === void 0 ? true : delete _0.X_000631_VlanMux8021p;\n        }\n        if ((_1 = params.dataProfile.X_CALIX_SXACC_BW_PROFILE) === null || _1 === void 0 ? void 0 : _1.downloadCIR) {\n          params.dataProfile.X_CALIX_SXACC_BW_PROFILE.downloadCIR = ((_2 = params.dataProfile.X_CALIX_SXACC_BW_PROFILE) === null || _2 === void 0 ? void 0 : _2.downloadCIR.includes('k')) ? parseInt((_3 = params.dataProfile.X_CALIX_SXACC_BW_PROFILE) === null || _3 === void 0 ? void 0 : _3.downloadCIR) * 1024 : ((_4 = params.dataProfile.X_CALIX_SXACC_BW_PROFILE) === null || _4 === void 0 ? void 0 : _4.downloadCIR.includes('m')) ? parseInt((_5 = params.dataProfile.X_CALIX_SXACC_BW_PROFILE) === null || _5 === void 0 ? void 0 : _5.downloadCIR) * 1048576 : '';\n        }\n        if ((_6 = params.dataProfile.X_CALIX_SXACC_BW_PROFILE) === null || _6 === void 0 ? void 0 : _6.uploadCIR) {\n          params.dataProfile.X_CALIX_SXACC_BW_PROFILE.uploadCIR = ((_7 = params.dataProfile.X_CALIX_SXACC_BW_PROFILE) === null || _7 === void 0 ? void 0 : _7.uploadCIR.includes('k')) ? parseInt((_8 = params.dataProfile.X_CALIX_SXACC_BW_PROFILE) === null || _8 === void 0 ? void 0 : _8.uploadCIR) * 1024 : ((_9 = params.dataProfile.X_CALIX_SXACC_BW_PROFILE) === null || _9 === void 0 ? void 0 : _9.uploadCIR.includes('m')) ? parseInt((_10 = params.dataProfile.X_CALIX_SXACC_BW_PROFILE) === null || _10 === void 0 ? void 0 : _10.uploadCIR) * 1048576 : '';\n        }\n        delete params.videoProfile;\n        delete params.voiceH248Profile;\n        delete params.voiceMGCPProfile;\n        delete params.voiceSIPProfile;\n        delete params.voiceTDMGWProfile;\n      } else if (params.deviceType === 'RG' && (params === null || params === void 0 ? void 0 : params.serviceType) === 'VIDEO') {\n        if ((_11 = params.videoProfile.X_CALIX_SXACC_BW_PROFILE) === null || _11 === void 0 ? void 0 : _11.downloadCIR) {\n          params.videoProfile.X_CALIX_SXACC_BW_PROFILE.downloadCIR = ((_12 = params.videoProfile.X_CALIX_SXACC_BW_PROFILE) === null || _12 === void 0 ? void 0 : _12.downloadCIR.includes('k')) ? parseInt((_13 = params.videoProfile.X_CALIX_SXACC_BW_PROFILE) === null || _13 === void 0 ? void 0 : _13.downloadCIR) * 1024 : ((_14 = params.videoProfile.X_CALIX_SXACC_BW_PROFILE) === null || _14 === void 0 ? void 0 : _14.downloadCIR.includes('m')) ? parseInt((_15 = params.videoProfile.X_CALIX_SXACC_BW_PROFILE) === null || _15 === void 0 ? void 0 : _15.downloadCIR) * 1048576 : '';\n        }\n        if ((_16 = params.videoProfile.X_CALIX_SXACC_BW_PROFILE) === null || _16 === void 0 ? void 0 : _16.uploadCIR) {\n          params.videoProfile.X_CALIX_SXACC_BW_PROFILE.uploadCIR = ((_17 = params.videoProfile.X_CALIX_SXACC_BW_PROFILE) === null || _17 === void 0 ? void 0 : _17.uploadCIR.includes('k')) ? parseInt((_18 = params.videoProfile.X_CALIX_SXACC_BW_PROFILE) === null || _18 === void 0 ? void 0 : _18.uploadCIR) * 1024 : ((_19 = params.videoProfile.X_CALIX_SXACC_BW_PROFILE) === null || _19 === void 0 ? void 0 : _19.uploadCIR.includes('m')) ? parseInt((_20 = params.videoProfile.X_CALIX_SXACC_BW_PROFILE) === null || _20 === void 0 ? void 0 : _20.uploadCIR) * 1048576 : '';\n        }\n        if (!params.videoProfile.VlanTagAction) {\n          (_21 = params.videoProfile) === null || _21 === void 0 ? true : delete _21.X_000631_VlanMux8021p;\n        }\n        delete params.dataProfile;\n        delete params.voiceH248Profile;\n        delete params.voiceMGCPProfile;\n        delete params.voiceSIPProfile;\n        delete params.voiceTDMGWProfile;\n      } else if (params.deviceType === 'RG' && (params === null || params === void 0 ? void 0 : params.serviceType) === 'VOICE') {\n        delete params.dataProfile;\n        delete params.videoProfile;\n        if ((params === null || params === void 0 ? void 0 : params.voiceServiceType) === 'SIP') {\n          if (!params.voiceSIPProfile.VlanTagAction) {\n            (_22 = params.voiceSIPProfile) === null || _22 === void 0 ? true : delete _22.X_000631_VlanMux8021p;\n          }\n          delete params.voiceH248Profile;\n          delete params.voiceMGCPProfile;\n          delete params.voiceTDMGWProfile;\n        } else if ((params === null || params === void 0 ? void 0 : params.voiceServiceType) === 'H.248') {\n          if (!params.voiceH248Profile.VlanTagAction) {\n            (_23 = params.voiceH248Profile) === null || _23 === void 0 ? true : delete _23.X_000631_VlanMux8021p;\n          }\n          delete params.voiceMGCPProfile;\n          delete params.voiceSIPProfile;\n          delete params.voiceTDMGWProfile;\n        } else if ((params === null || params === void 0 ? void 0 : params.voiceServiceType) === 'MGCP') {\n          if (!params.voiceMGCPProfile.VlanTagAction) {\n            (_24 = params.voiceMGCPProfile) === null || _24 === void 0 ? true : delete _24.X_000631_VlanMux8021p;\n          }\n          delete params.voiceH248Profile;\n          delete params.voiceSIPProfile;\n          delete params.voiceTDMGWProfile;\n        } else if ((params === null || params === void 0 ? void 0 : params.voiceServiceType) === 'X_000631_TDMGW') {\n          if (!params.voiceTDMGWProfile.VlanTagAction) {\n            (_25 = params.voiceTDMGWProfile) === null || _25 === void 0 ? true : delete _25.X_000631_VlanMux8021p;\n          }\n          delete params.voiceH248Profile;\n          delete params.voiceMGCPProfile;\n          delete params.voiceSIPProfile;\n        }\n      }\n      if (((_26 = params === null || params === void 0 ? void 0 : params.dataProfile) === null || _26 === void 0 ? void 0 : _26.Mode) === 'RG L2 Bridged') {\n        delete params.dataProfile.NATEnabled;\n        delete params.dataProfile.version;\n        delete params.dataProfile.FramingType;\n        delete params.dataProfile.defaultConnectionService;\n      }\n      params = this.removeNull(params);\n      if (this.smpId) {\n        //if(params?.id) params.smp_id=params?.id\n        if (params === null || params === void 0 ? void 0 : params.id) params === null || params === void 0 ? true : delete params.id;\n        this.service.UpdateProfile(this.ORG_ID, params, this.smpId, params.deviceType).subscribe(data => {\n          this.loader = false;\n          this.success = true;\n          this.successInfo = (data === null || data === void 0 ? void 0 : data.message) ? data.message : 'Service migration profile updated successfully';\n          setTimeout(() => {\n            this.router.navigate([\"/cco/operations/configuration/migrations/profiles/list\"]);\n          }, 3000);\n        }, err => {\n          this.loader = false;\n          this.pageErrorHandle(err);\n        });\n      } else {\n        this.service.saveProfile(this.ORG_ID, params, params.deviceType).subscribe(data => {\n          this.loader = false;\n          this.success = true;\n          this.successInfo = (data === null || data === void 0 ? void 0 : data.message) ? data.message : data;\n          setTimeout(() => {\n            this.router.navigate([\"/cco/operations/configuration/migrations/profiles/list\"]);\n          }, 3000);\n        }, err => {\n          this.loader = false;\n          this.pageErrorHandle(err);\n        });\n      }\n    }\n    OnFormData(key, buildMigForm) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n      this.FormData[key] = buildMigForm.value;\n      if (key == 'start') {\n        this.startdata = buildMigForm.value;\n      } else {\n        // debugger\n        console.log(\"profileobj\", buildMigForm.value);\n        this.profileobj = buildMigForm.value;\n        this.profileobj.deviceType = (_a = this.startdata) === null || _a === void 0 ? void 0 : _a.deviceType;\n        let type = this.profileobj.voiceServiceType;\n        // console.log(\"type\",type)\n        if (!((_b = this.profileobj) === null || _b === void 0 ? void 0 : _b.serviceType) || !((_c = this.profileobj) === null || _c === void 0 ? void 0 : _c.serviceDefinitionName) || ((_d = this.startdata) === null || _d === void 0 ? void 0 : _d.deviceType) == 'RG' && (!((_e = this.profileobj) === null || _e === void 0 ? void 0 : _e.cscProfileName) || ((_f = this.profileobj) === null || _f === void 0 ? void 0 : _f.serviceType) == 'DATA' && ((_g = buildMigForm.get('dataProfile')) === null || _g === void 0 ? void 0 : _g.invalid) || ((_h = this.profileobj) === null || _h === void 0 ? void 0 : _h.serviceType) == 'VIDEO' && ((_j = buildMigForm.get('videoProfile')) === null || _j === void 0 ? void 0 : _j.invalid) || ((_k = this.profileobj) === null || _k === void 0 ? void 0 : _k.serviceType) == 'VOICE' && ((_l = buildMigForm.get(type === 'SIP' ? 'voiceSIPProfile' : type === 'H.248' ? 'voiceH248Profile' : type === 'MGCP' ? 'voiceMGCPProfile' : type === 'X_000631_TDMGW' ? 'voiceTDMGWProfile' : '')) === null || _l === void 0 ? void 0 : _l.invalid))) {\n          this.disableFinishBtn = true;\n        } else {\n          this.disableFinishBtn = false;\n        }\n        // if(!this.profileobj?.serviceType ||!this.profileobj?.serviceDefinitionName || (this.startdata?.deviceType =='RG'\n        // &&(!this.profileobj?.cscProfileName || ((this.profileobj?.serviceType == 'DATA' && (!this.profileobj?.dataProfile?.VLANID && this.profileobj?.dataProfile.VlanTagAction))\n        //  || (this.profileobj?.serviceType == 'VIDEO' && (!this.profileobj?.videoProfile?.VLANID && this.profileobj?.videoProfile.VlanTagAction)) \n        //  || (this.profileobj?.serviceType == 'VOICE' && (!this.profileobj?.voiceSIPProfile?.VLANID && this.profileobj?.voiceSIPProfile.VlanTagAction)\n        //   && (!this.profileobj?.voiceH248Profile?.VLANID && this.profileobj?.voiceH248Profile.VlanTagAction) \n        //   && (!this.profileobj?.voiceMGCPProfile?.VLANID && this.profileobj?.voiceMGCPProfile.VlanTagAction) \n        //   && (!this.profileobj?.voiceTDMGWProfile?.VLANID && this.profileobj?.voiceTDMGWProfile.VlanTagAction)))))){\n        //   this.disableFinishBtn=true\n        // }else{\n        //   this.disableFinishBtn=false\n        // }\n      }\n    }\n\n    onTabChange(index, type = null) {\n      var _a, _b, _c, _d;\n      if ((((_a = this.profileobj) === null || _a === void 0 ? void 0 : _a.name) || ((_b = this.FormData.start) === null || _b === void 0 ? void 0 : _b.name)) && (((_c = this.profileobj) === null || _c === void 0 ? void 0 : _c.deviceType) || ((_d = this.FormData.start) === null || _d === void 0 ? void 0 : _d.deviceType))) {\n        this.activeTab = this.addProfileTab[index];\n        this.selectedTabIndex = index;\n      }\n    }\n    pageErrorHandle(err) {\n      if (err.status == 401) {\n        this.errorInfo = this.language['Access Denied'];\n      } else {\n        this.errorInfo = this.commonOrgService.pageErrorHandle(err);\n      }\n      this.error = true;\n      this.loader = false;\n    }\n    setSuccessInfo(msg) {\n      this.success = true;\n      this.successInfo = msg;\n      setTimeout(() => {\n        this.success = false;\n      }, 2000);\n    }\n  }\n  AddComponent.ɵfac = function AddComponent_Factory(t) {\n    return new (t || AddComponent)(i0.ɵɵdirectiveInject(i1.TranslateService), i0.ɵɵdirectiveInject(i2.Title), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.CommonService), i0.ɵɵdirectiveInject(i5.HttpClient), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i6.SsoAuthService), i0.ɵɵdirectiveInject(i7.ProfileService));\n  };\n  AddComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddComponent,\n    selectors: [[\"app-add\"]],\n    decls: 20,\n    vars: 10,\n    consts: [[\"class\", \"w-100 alert alert-danger fade show my-3\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-success fade show my-3\", 4, \"ngIf\"], [\"id\", \"profile-workflow\", 1, \"profile-workflow\"], [1, \"d-flex\", \"w-100\", \"justify-content-end\", \"align-items-center\", \"pb-1\"], [1, \"col-auto\", \"px-0\", \"text-right\"], [\"routerLink\", \"/cco/operations/configuration/migrations/profiles/list\", 1, \"close\", \"cursor-pointer\", \"mt-1\"], [1, \"stepper-main\", \"mt-2\", \"mb-3\"], [1, \"stepper-ui\"], [4, \"ngFor\", \"ngForOf\"], [1, \"pos-action-btn\"], [\"type\", \"button\", 1, \"btn-default\", \"btn-dft\", \"back-arrow\", \"mr-2\", 3, \"disabled\", \"click\"], [\"src\", \"assets/img/ic_chevronleft_grey.svg\"], [\"type\", \"button\", \"class\", \"btn-default primary mr-2\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn-default primary px-3\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"class\", \"loader\", 4, \"ngIf\"], [3, \"data\", \"isFormValid\", 4, \"ngIf\"], [3, \"data\", \"profiledata\", \"isprofilevalue\", 4, \"ngIf\"], [1, \"w-100\", \"alert\", \"alert-danger\", \"fade\", \"show\", \"my-3\"], [1, \"error-img\"], [\"src\", \"./assets/img/ic_error-36px.svg\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [1, \"d-inline-flex\", 3, \"innerHtml\"], [1, \"w-100\", \"alert\", \"alert-success\", \"fade\", \"show\", \"my-3\"], [1, \"success-img\"], [\"src\", \"./assets/img/success-icon.svg\"], [3, \"title\", \"ngClass\", \"click\"], [\"type\", \"button\", 1, \"btn-default\", \"primary\", \"mr-2\", 3, \"disabled\", \"click\"], [\"src\", \"assets/img/ic_chevron-r-w.svg\"], [\"type\", \"button\", 1, \"btn-default\", \"primary\", \"px-3\", 3, \"disabled\", \"click\"], [1, \"loader\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"spinner-border\", \"text-primary\"], [1, \"sr-only\"], [3, \"data\", \"isFormValid\"], [3, \"data\", \"profiledata\", \"isprofilevalue\"]],\n    template: function AddComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AddComponent_div_0_Template, 6, 1, \"div\", 0);\n        i0.ɵɵtemplate(1, AddComponent_div_1_Template, 6, 1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"button\", 5);\n        i0.ɵɵelement(6, \"span\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"section\", 6);\n        i0.ɵɵelementStart(8, \"ul\", 7);\n        i0.ɵɵtemplate(9, AddComponent_li_9_Template, 4, 6, \"li\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 9);\n        i0.ɵɵelementStart(11, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function AddComponent_Template_button_click_11_listener() {\n          return ctx.onTabChange(ctx.selectedTabIndex - 1);\n        });\n        i0.ɵɵelement(12, \"img\", 11);\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(14, AddComponent_button_14_Template, 3, 2, \"button\", 12);\n        i0.ɵɵtemplate(15, AddComponent_button_15_Template, 2, 2, \"button\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, AddComponent_div_16_Template, 5, 1, \"div\", 14);\n        i0.ɵɵelementStart(17, \"div\");\n        i0.ɵɵtemplate(18, AddComponent_app_start_18_Template, 1, 1, \"app-start\", 15);\n        i0.ɵɵtemplate(19, AddComponent_app_build_profile_19_Template, 1, 2, \"app-build-profile\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.success);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngForOf\", ctx.addProfileTab);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.selectedTabIndex === 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.language.back, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedTabIndex + 1 !== (ctx.addProfileTab == null ? null : ctx.addProfileTab.length));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedTabIndex + 1 === (ctx.addProfileTab == null ? null : ctx.addProfileTab.length));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loader);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.smpId && ctx.activeTab === \"Start\" && ctx.editData || !ctx.smpId && ctx.activeTab === \"Start\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.smpId && ctx.activeTab === \"Build Profile\" && ctx.editData || !ctx.smpId && ctx.activeTab === \"Build Profile\");\n      }\n    },\n    directives: [i8.NgIf, i3.RouterLink, i8.NgForOf, i8.NgClass, i9.StartComponent, i10.BuildProfileComponent],\n    styles: [\"#profile-workflow.profile-workflow[_ngcontent-%COMP%]   .stepper-main[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;position:relative}#profile-workflow.profile-workflow[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]{width:100%;display:flex;flex:0 0 100%;position:relative}#profile-workflow.profile-workflow[_ngcontent-%COMP%]   .step--1[_ngcontent-%COMP%], #profile-workflow.profile-workflow[_ngcontent-%COMP%]   .step--2[_ngcontent-%COMP%], #profile-workflow.profile-workflow[_ngcontent-%COMP%]   .step--3[_ngcontent-%COMP%], #profile-workflow.profile-workflow[_ngcontent-%COMP%]   .step--4[_ngcontent-%COMP%], #profile-workflow.profile-workflow[_ngcontent-%COMP%]   .step--5[_ngcontent-%COMP%]{width:calc(100% / 5);padding:5px 25px;background:#ebeaef!important;color:gray;text-align:center;cursor:pointer!important;border-radius:20px}#profile-workflow.profile-workflow[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:first-child{border-top-left-radius:20px;border-bottom-left-radius:20px}#profile-workflow.profile-workflow[_ngcontent-%COMP%]   .step--1[_ngcontent-%COMP%]{z-index:55!important}#profile-workflow.profile-workflow[_ngcontent-%COMP%]   .step--2[_ngcontent-%COMP%]{z-index:44!important;transform:translate(-20px)}#profile-workflow.profile-workflow[_ngcontent-%COMP%]   .step--3[_ngcontent-%COMP%]{z-index:33!important;transform:translate(-40px)}#profile-workflow.profile-workflow[_ngcontent-%COMP%]   .step--4[_ngcontent-%COMP%]{z-index:22!important;transform:translate(-60px)!important}#profile-workflow.profile-workflow[_ngcontent-%COMP%]   .step--5[_ngcontent-%COMP%]{z-index:11!important;transform:translate(-80px)!important}#profile-workflow.profile-workflow[_ngcontent-%COMP%]   .step-active[_ngcontent-%COMP%]{background:#0279ff!important;color:#fff!important;z-index:99!important;border-radius:20px!important}#profile-workflow.profile-workflow[_ngcontent-%COMP%]   .step-success[_ngcontent-%COMP%]{background:#82bf00!important;color:#fff!important;z-index:101!important;border-radius:20px!important}.profile-workflow[_ngcontent-%COMP%]{position:relative}.close-box[_ngcontent-%COMP%]{font-size:24px;font-weight:300;color:gray}.btn-arrow.btn-grey[_ngcontent-%COMP%]{border:1px solid #CCCCCC!important;background-color:#f8f8fa!important;color:#4c4c4c!important}.stepper-main[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;flex-direction:column;position:relative}.stepper-ui[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0 0 10px;padding:0;overflow:hidden;width:100%}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 10px 0 30px;color:#1a1f22;position:relative;height:32px;border-top:1px solid #0279ff;border-bottom:1px solid #0279ff;border-right:0px!important;border-left:0px!important;outline:none!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:2}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{content:\\\"\\\";width:30px;height:100%;background:transparent;position:absolute;top:0;right:-10px;transform:rotate(48deg);z-index:1;border:1px ridge transparent;border-top-color:#0279ff;border-right-color:#0279ff;border-top-right-radius:5px}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]{color:#fff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:after{background-color:#0279ff!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]{background-color:#82bf00!important;border-color:#82bf00}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:after{background-color:#82bf00!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:disabled{background-color:#82bf00!important;border-color:#82bf00!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:after{border-top-color:#fff!important;border-right-color:#fff!important;border-style:solid}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:after{border-top-color:#0279ff!important;border-right-color:#0279ff!important;border-style:solid}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   button[_ngcontent-%COMP%]{border-top-left-radius:30px;border-bottom-left-radius:30px}button[_ngcontent-%COMP%]:disabled{background:transparent!important;border-color:#0279ff;cursor:not-allowed;color:#4c4c4c}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f5faff;color:#0279ff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{background-color:#f5faff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;right:0;top:-1px;width:20px;height:32px;background-color:transparent;border-top:1px solid #0279ff;border-bottom:1px solid #0279ff;z-index:9}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#1a1f22}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled:after{background-color:#fff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%]{opacity:.8;color:#fff!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:before, .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:before{display:none}.btn-arr-nxt[_ngcontent-%COMP%]:disabled{background:#0279ff!important;border:1px solid #0279ff!important;cursor:not-allowed;opacity:.5;color:#81bcff}.pos-action-btn[_ngcontent-%COMP%]{position:absolute;right:0px;top:0px}\"]\n  });\n  return AddComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}