{"ast":null,"code":"import { EdgeSuitsComponent } from './edge-suits/edge-suits.component';\nimport { FoundationSystemDetailsComponent } from './foundation-system-details/foundation-system-details.component';\nimport { ServiceTierComponent } from './service-tier/service-tier.component';\nimport _ from 'lodash';\nimport { environment } from 'src/environments/environment';\nimport { catchError, map } from 'rxjs/operators';\nimport { combineLatest, forkJoin, of } from 'rxjs';\nimport { StaticGroupsComponent } from './static-groups/static-groups.component';\nimport { SystemAdvancedComponent } from './system-advanced/system-advanced.component';\nimport { AddServicesComponent } from 'src/app/cco/system/cco-subscriber-system/add-service-system/add-services/add-services.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app-services/translate.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"src/app/cco/shared/services/cco-common.service\";\nimport * as i5 from \"../../foundation-data.service\";\nimport * as i6 from \"../foundation-manage.service\";\nimport * as i7 from \"src/app/shared/services/sso-auth.service\";\nimport * as i8 from \"src/app/sys-admin/services/common.service\";\nimport * as i9 from \"src/app/sys-admin/services/mycommunity-iq.service\";\nimport * as i10 from \"src/app/cco/system/cco-subscriber-system/add-service-system/add-subscriber.service\";\nimport * as i11 from \"src/app/shared/services/common-functions.service\";\nimport * as i12 from \"@angular/common\";\nimport * as i13 from \"./foundation-system-details/foundation-system-details.component\";\nimport * as i14 from \"./service-tier/service-tier.component\";\nimport * as i15 from \"./edge-suits/edge-suits.component\";\nimport * as i16 from \"./static-groups/static-groups.component\";\nimport * as i17 from \"./system-advanced/system-advanced.component\";\nimport * as i18 from \"../../../../cco/system/cco-subscriber-system/add-service-system/add-services/add-services.component\";\nfunction FoundationAddSystemComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵelementStart(1, \"div\", 19);\n    i0.ɵɵelementStart(2, \"div\", 20);\n    i0.ɵɵelementStart(3, \"div\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.language[ctx_r0.system] || ctx_r0.system, \" \");\n  }\n}\nfunction FoundationAddSystemComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵelementStart(1, \"div\", 19);\n    i0.ɵɵelementStart(2, \"div\", 20);\n    i0.ɵɵelementStart(3, \"div\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r1.language[ctx_r1.system] || ctx_r1.system, \" - \", ctx_r1.subscriberName ? ctx_r1.subscriberName : ctx_r1.subscriberLocationId, \"\");\n  }\n}\nfunction FoundationAddSystemComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵelementStart(1, \"div\", 19);\n    i0.ɵɵelementStart(2, \"div\", 20);\n    i0.ɵɵelementStart(3, \"div\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.subscriberName ? ctx_r2.subscriberName : ctx_r2.subscriberLocationId, \"\");\n  }\n}\nfunction FoundationAddSystemComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelementStart(1, \"div\", 23);\n    i0.ɵɵelementStart(2, \"div\", 24);\n    i0.ɵɵelementStart(3, \"div\", 25);\n    i0.ɵɵelementStart(4, \"span\", 26);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.language.Loading);\n  }\n}\nfunction FoundationAddSystemComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵelementStart(1, \"span\", 28);\n    i0.ɵɵelement(2, \"img\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function FoundationAddSystemComponent_div_6_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.closeAlert();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 31);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r4.language[ctx_r4.errorInfo] || ctx_r4.errorInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction FoundationAddSystemComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵelementStart(1, \"span\", 33);\n    i0.ɵɵelement(2, \"img\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function FoundationAddSystemComponent_div_7_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.closeAlert();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 31);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r5.successInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction FoundationAddSystemComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵelementStart(1, \"span\", 28);\n    i0.ɵɵelement(2, \"img\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function FoundationAddSystemComponent_div_8_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.closeAlert();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 31);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r6.edgeSuitsWarningInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction FoundationAddSystemComponent_div_15_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 10);\n    i0.ɵɵelementStart(1, \"a\", 36);\n    i0.ɵɵlistener(\"click\", function FoundationAddSystemComponent_div_15_li_1_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      ctx_r19.subonlytabDisable ? false : ctx_r19.gotoTab(\"SystemEdgesuits\");\n      return ctx_r19.myCommunityIQEntitlement;\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r17.activeTab == \"SystemEdgesuits\" ? \"active\" : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r17.language[\"Managed_Services\"], \"\");\n  }\n}\nfunction FoundationAddSystemComponent_div_15_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 10);\n    i0.ɵɵelementStart(1, \"a\", 37);\n    i0.ɵɵlistener(\"click\", function FoundationAddSystemComponent_div_15_li_2_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      ctx_r21.subonlytabDisable ? false : ctx_r21.gotoTab(\"SystemEdgesuits\");\n      return ctx_r21.myCommunityIQEntitlement;\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r18.activeTab == \"SystemEdgesuits\" ? \"active\" : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r18.language[\"Managed_Services\"], \"\");\n  }\n}\nfunction FoundationAddSystemComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, FoundationAddSystemComponent_div_15_li_1_Template, 3, 2, \"li\", 13);\n    i0.ɵɵtemplate(2, FoundationAddSystemComponent_div_15_li_2_Template, 3, 2, \"li\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.subonlytabDisable);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.subonlytabDisable);\n  }\n}\nfunction FoundationAddSystemComponent_li_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 10);\n    i0.ɵɵelementStart(1, \"a\", 38);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r8.activeTab == \"systemAdvanced\" || ctx_r8.activeTab == \"networkService\" ? \"active\" : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.language.Advanced, \" \");\n  }\n}\nfunction FoundationAddSystemComponent_li_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 10);\n    i0.ɵɵelementStart(1, \"a\", 39);\n    i0.ɵɵlistener(\"click\", function FoundationAddSystemComponent_li_17_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return ctx_r23.gotoTab((ctx_r23.servicedisable || ctx_r23.SaveSystem == \"Save\" && ((ctx_r23.systemInfo == null ? null : ctx_r23.systemInfo.subscriberId) || ctx_r23.createdSubscriberId || (ctx_r23.createdSubcriberData == null ? null : ctx_r23.createdSubcriberData._id)) || ctx_r23.SaveSystem !== \"Save\" && ((ctx_r23.systemInfo == null ? null : ctx_r23.systemInfo.subscriberId) || ctx_r23.createdSubscriberId || (ctx_r23.createdSubcriberData == null ? null : ctx_r23.createdSubcriberData._id))) && (!ctx_r23.LegazyViewIsConfigured || !ctx_r23.netWorkServiceIsNotConfigured && ctx_r23.LegazyViewIsConfigured) ? \"networkService\" : \"systemAdvanced\");\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r9.activeTab == \"systemAdvanced\" || ctx_r9.activeTab == \"networkService\" ? \"active\" : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.language.Advanced, \" \");\n  }\n}\nfunction FoundationAddSystemComponent_section_23_app_foundation_system_details_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-foundation-system-details\", 47);\n    i0.ɵɵlistener(\"out_static_groups_submit\", function FoundationAddSystemComponent_section_23_app_foundation_system_details_1_Template_app_foundation_system_details_out_static_groups_submit_0_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r32 = i0.ɵɵnextContext(2);\n      return ctx_r32.submitStaticGroups();\n    })(\"out_static_groups_change\", function FoundationAddSystemComponent_section_23_app_foundation_system_details_1_Template_app_foundation_system_details_out_static_groups_change_0_listener($event) {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r34 = i0.ɵɵnextContext(2);\n      return ctx_r34.OnStaticFormData($event);\n    })(\"advanced_enable_disable\", function FoundationAddSystemComponent_section_23_app_foundation_system_details_1_Template_app_foundation_system_details_advanced_enable_disable_0_listener($event) {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r35 = i0.ɵɵnextContext(2);\n      return ctx_r35.saveEnableDisable($event);\n    })(\"Out_sysDet\", function FoundationAddSystemComponent_section_23_app_foundation_system_details_1_Template_app_foundation_system_details_Out_sysDet_0_listener($event) {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r36 = i0.ɵɵnextContext(2);\n      return ctx_r36.OnFormData(\"SysDetails\", $event);\n    })(\"out_sys_Subsc_submit\", function FoundationAddSystemComponent_section_23_app_foundation_system_details_1_Template_app_foundation_system_details_out_sys_Subsc_submit_0_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return ctx_r37.saveSyetemsubscriber();\n    })(\"Out_System_Focus\", function FoundationAddSystemComponent_section_23_app_foundation_system_details_1_Template_app_foundation_system_details_Out_System_Focus_0_listener($event) {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r38 = i0.ɵɵnextContext(2);\n      return ctx_r38.saveEnableDisable($event);\n    })(\"Out_Service_Status\", function FoundationAddSystemComponent_section_23_app_foundation_system_details_1_Template_app_foundation_system_details_Out_Service_Status_0_listener($event) {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r39 = i0.ɵɵnextContext(2);\n      return ctx_r39.serviceDetails($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"staticGroups\", ctx_r25.StaticForm)(\"AllFormData\", ctx_r25.syetemsAllData)(\"sys_Det\", ctx_r25.FormData.SysDetails)(\"system_id\", ctx_r25.system)(\"AllFormData\", ctx_r25.syetemsAllData)(\"subscriberName\", ctx_r25.subscriberName)(\"SSIDbackup\", ctx_r25.SSIDbackup)(\"subscriberLocationId\", ctx_r25.subscriberLocationId)(\"deviceDataList\", ctx_r25.deviceDataList);\n  }\n}\nfunction FoundationAddSystemComponent_section_23_app_service_tier_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-service-tier\", 48);\n    i0.ɵɵlistener(\"Out_sys_ServiceTiers\", function FoundationAddSystemComponent_section_23_app_service_tier_2_Template_app_service_tier_Out_sys_ServiceTiers_0_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r40 = i0.ɵɵnextContext(2);\n      return ctx_r40.OnFormData(\"SysServicetiers\", $event);\n    })(\"out_sys_service_tiers_submit\", function FoundationAddSystemComponent_section_23_app_service_tier_2_Template_app_service_tier_out_sys_service_tiers_submit_0_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r42 = i0.ɵɵnextContext(2);\n      return ctx_r42.submitServiceData();\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"sys_ServiceTiers\", ctx_r26.FormData.SysServicetiers)(\"AllFormData\", ctx_r26.syetemsAllData)(\"formOptions\", ctx_r26.formOptions)(\"servicesListData\", ctx_r26.servicesListData);\n  }\n}\nfunction FoundationAddSystemComponent_section_23_app_edge_suits_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-edge-suits\", 49);\n    i0.ɵɵlistener(\"Out_System_Focus\", function FoundationAddSystemComponent_section_23_app_edge_suits_3_Template_app_edge_suits_Out_System_Focus_0_listener($event) {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r43 = i0.ɵɵnextContext(2);\n      return ctx_r43.saveEnableDisable($event);\n    })(\"Out_sys_EdgeSuites\", function FoundationAddSystemComponent_section_23_app_edge_suits_3_Template_app_edge_suits_Out_sys_EdgeSuites_0_listener($event) {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r45 = i0.ɵɵnextContext(2);\n      return ctx_r45.OnFormData(\"SysEdgeSuites\", $event);\n    })(\"allFormData\", function FoundationAddSystemComponent_section_23_app_edge_suits_3_Template_app_edge_suits_allFormData_0_listener($event) {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r46 = i0.ɵɵnextContext(2);\n      return ctx_r46.allFormData($event);\n    })(\"out_sys_edge_suits_submit\", function FoundationAddSystemComponent_section_23_app_edge_suits_3_Template_app_edge_suits_out_sys_edge_suits_submit_0_listener($event) {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r47 = i0.ɵɵnextContext(2);\n      return ctx_r47.submitEdgeSuitsData($event);\n    })(\"parentOpMode\", function FoundationAddSystemComponent_section_23_app_edge_suits_3_Template_app_edge_suits_parentOpMode_0_listener($event) {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r48 = i0.ɵɵnextContext(2);\n      return ctx_r48.getOpMode($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r27 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"sys_EdgeSuites\", ctx_r27.FormData.SysEdgeSuites)(\"AllFormData\", ctx_r27.syetemsAllData)(\"IQ_SuiteEnable\", ctx_r27.iqsuitEnable)(\"arloEntitleEnable\", ctx_r27.arloEnableentitlement)(\"myCommunityIQEntitlement\", ctx_r27.myCommunityIQEntitlement)(\"arloUnlimitedplusentitlement\", ctx_r27.arloUnlimitedplusentitlement)(\"proExpDisable\", ctx_r27.proExpDisable)(\"arloUnlimitedentitlement\", ctx_r27.arloUnlimitedentitlement)(\"ServifyEnableentitlement\", ctx_r27.ServifyEnableentitlement)(\"ServifyPlatinumentitlement\", ctx_r27.ServifyPlatinumentitlement)(\"ServifySilverentitlement\", ctx_r27.ServifySilverentitlement)(\"ServifyGoldentitlement\", ctx_r27.ServifyGoldentitlement)(\"Bark_Premiumentitlement\", ctx_r27.Bark_Premiumentitlement)(\"Bark_Juniorentitlement\", ctx_r27.Bark_Juniorentitlement)(\"ProductIQEntitleEnable\", ctx_r27.productIQEnableentitlement)(\"ExpIQEntitleEnable\", ctx_r27.ExperienceIQEnableentitlement)(\"ProAndExpIQEntitleEnable\", ctx_r27.proAndExpEnableentitlement)(\"smallBizIQentitlement\", ctx_r27.smallBizIQentitlement)(\"systemInfo\", ctx_r27.systemInfo)(\"formOptions\", ctx_r27.formOptions);\n  }\n}\nfunction FoundationAddSystemComponent_section_23_app_static_groups_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r50 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-static-groups\", 50);\n    i0.ɵɵlistener(\"out_static_groups_change\", function FoundationAddSystemComponent_section_23_app_static_groups_4_Template_app_static_groups_out_static_groups_change_0_listener($event) {\n      i0.ɵɵrestoreView(_r50);\n      const ctx_r49 = i0.ɵɵnextContext(2);\n      return ctx_r49.OnStaticFormData($event);\n    })(\"out_static_groups_submit\", function FoundationAddSystemComponent_section_23_app_static_groups_4_Template_app_static_groups_out_static_groups_submit_0_listener() {\n      i0.ɵɵrestoreView(_r50);\n      const ctx_r51 = i0.ɵɵnextContext(2);\n      return ctx_r51.submitStaticGroups();\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r28 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"staticGroups\", ctx_r28.StaticForm)(\"AllFormData\", ctx_r28.syetemsAllData)(\"deviceDataList\", ctx_r28.deviceDataList);\n  }\n}\nfunction FoundationAddSystemComponent_section_23_a_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r53 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 51);\n    i0.ɵɵlistener(\"click\", function FoundationAddSystemComponent_section_23_a_5_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r52 = i0.ɵɵnextContext(2);\n      return ctx_r52.activeTab = ctx_r52.activeTab == \"systemAdvanced\" ? \"networkService\" : \"systemAdvanced\";\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r29 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r29.activeTab == \"networkService\" ? ctx_r29.language[\"Enable Legacy(NetOps) View\"] : ctx_r29.language[\"Disable Legacy(NetOps) View\"]);\n  }\n}\nfunction FoundationAddSystemComponent_section_23_app_system_advanced_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r55 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-system-advanced\", 52);\n    i0.ɵɵlistener(\"Out_sys_ServiceTiers\", function FoundationAddSystemComponent_section_23_app_system_advanced_6_Template_app_system_advanced_Out_sys_ServiceTiers_0_listener($event) {\n      i0.ɵɵrestoreView(_r55);\n      const ctx_r54 = i0.ɵɵnextContext(2);\n      return ctx_r54.OnFormData(\"SysServicetiers\", $event);\n    })(\"out_sys_service_tiers_submit\", function FoundationAddSystemComponent_section_23_app_system_advanced_6_Template_app_system_advanced_out_sys_service_tiers_submit_0_listener() {\n      i0.ɵɵrestoreView(_r55);\n      const ctx_r56 = i0.ɵɵnextContext(2);\n      return ctx_r56.submitServiceData();\n    })(\"out_static_groups_change\", function FoundationAddSystemComponent_section_23_app_system_advanced_6_Template_app_system_advanced_out_static_groups_change_0_listener($event) {\n      i0.ɵɵrestoreView(_r55);\n      const ctx_r57 = i0.ɵɵnextContext(2);\n      return ctx_r57.OnStaticFormData($event);\n    })(\"out_static_groups_submit\", function FoundationAddSystemComponent_section_23_app_system_advanced_6_Template_app_system_advanced_out_static_groups_submit_0_listener() {\n      i0.ɵɵrestoreView(_r55);\n      const ctx_r58 = i0.ɵɵnextContext(2);\n      return ctx_r58.submitStaticGroups();\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r30 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"sys_ServiceTiers\", ctx_r30.FormData.SysServicetiers)(\"AllFormData\", ctx_r30.syetemsAllData)(\"formOptions\", ctx_r30.formOptions)(\"servicesListData\", ctx_r30.servicesListData)(\"device\", ctx_r30.deviceInfo)(\"staticGroups\", ctx_r30.StaticForm)(\"deviceDataList\", ctx_r30.deviceDataList)(\"servicedisable\", ctx_r30.servicedisable)(\"preProvisionedSystem\", ctx_r30.PreProvisnedSystem);\n  }\n}\nfunction FoundationAddSystemComponent_section_23_app_add_services_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r60 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-add-services\", 53);\n    i0.ɵɵlistener(\"Out_Service\", function FoundationAddSystemComponent_section_23_app_add_services_7_Template_app_add_services_Out_Service_0_listener($event) {\n      i0.ɵɵrestoreView(_r60);\n      const ctx_r59 = i0.ɵɵnextContext(2);\n      return ctx_r59.formDataUpdate($event, \"services\");\n    })(\"out_servicesubmit\", function FoundationAddSystemComponent_section_23_app_add_services_7_Template_app_add_services_out_servicesubmit_0_listener() {\n      i0.ɵɵrestoreView(_r60);\n      const ctx_r61 = i0.ɵɵnextContext(2);\n      return ctx_r61.saveServiceData();\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r31 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"data_plan\", ctx_r31.DataPlanitem)(\"video_plan\", ctx_r31.VideoPlanitem)(\"voice_plan\", ctx_r31.VoicePlanitem)(\"sys_Service\", ctx_r31.defaultServices)(\"DialPlanitem\", ctx_r31.DialPlanitems)(\"disableService\", false)(\"serviceData\", ctx_r31.serviceData);\n  }\n}\nfunction FoundationAddSystemComponent_section_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\");\n    i0.ɵɵtemplate(1, FoundationAddSystemComponent_section_23_app_foundation_system_details_1_Template, 1, 9, \"app-foundation-system-details\", 40);\n    i0.ɵɵtemplate(2, FoundationAddSystemComponent_section_23_app_service_tier_2_Template, 1, 4, \"app-service-tier\", 41);\n    i0.ɵɵtemplate(3, FoundationAddSystemComponent_section_23_app_edge_suits_3_Template, 1, 20, \"app-edge-suits\", 42);\n    i0.ɵɵtemplate(4, FoundationAddSystemComponent_section_23_app_static_groups_4_Template, 1, 3, \"app-static-groups\", 43);\n    i0.ɵɵtemplate(5, FoundationAddSystemComponent_section_23_a_5_Template, 2, 1, \"a\", 44);\n    i0.ɵɵtemplate(6, FoundationAddSystemComponent_section_23_app_system_advanced_6_Template, 1, 9, \"app-system-advanced\", 45);\n    i0.ɵɵtemplate(7, FoundationAddSystemComponent_section_23_app_add_services_7_Template, 1, 7, \"app-add-services\", 46);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.activeTab == \"systemDetails\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.activeTab == \"systemServices\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.activeTab == \"SystemEdgesuits\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.activeTab == \"systemStaticgroups\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r10.activeTab == \"networkService\" || ctx_r10.activeTab == \"systemAdvanced\") && ((ctx_r10.systemInfo == null ? null : ctx_r10.systemInfo.subscriberId) || ctx_r10.createdSubscriberId || (ctx_r10.createdSubcriberData == null ? null : ctx_r10.createdSubcriberData._id)) && ctx_r10.systemID && ctx_r10.netWorkServiceIsNotConfigured && !ctx_r10.LegazyViewIsConfigured);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.activeTab == \"systemAdvanced\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.activeTab == \"networkService\");\n  }\n}\nexport let FoundationAddSystemComponent = /*#__PURE__*/(() => {\n  class FoundationAddSystemComponent {\n    constructor(translateService, formBuilder, router, route, ccoCommonService, dataService, service, sso, commonOrgService, communityService, systemService, commonFunctionsService, cdr) {\n      this.translateService = translateService;\n      this.formBuilder = formBuilder;\n      this.router = router;\n      this.route = route;\n      this.ccoCommonService = ccoCommonService;\n      this.dataService = dataService;\n      this.service = service;\n      this.sso = sso;\n      this.commonOrgService = commonOrgService;\n      this.communityService = communityService;\n      this.systemService = systemService;\n      this.commonFunctionsService = commonFunctionsService;\n      this.cdr = cdr;\n      this.language = {};\n      this.FormData = {\n        SysDetails: {},\n        SysServicetiers: {},\n        SysEdgeSuites: {}\n      };\n      this.tabDisable = true;\n      this.formOptions = {};\n      this.activeTab = 'systemDetails';\n      this.subonlytabDisable = true;\n      this.servicetabdisable = true;\n      this.savesystemsubloading = false;\n      this.edgeSuiteLoading = false;\n      this.serviceLoading = false;\n      this.iqsuitEnable = true;\n      this.getEdgeSuitesCalled = 0;\n      this.saveDisabled = false;\n      this.communityArr = [];\n      this.proExpDisable = false;\n      this.PreProvisnedSystem = true;\n      this.hideService = false;\n      this.SSIDbackup = false;\n      this.removeNull = obj => {\n        Object.keys(obj).forEach(key => obj[key] && typeof obj[key] === 'object' && this.removeNull(obj[key]) || (obj[key] === '' || obj[key] === null) && delete obj[key]);\n        return obj;\n      };\n      this.microSiteLoading = false;\n      this.LegazyViewIsConfigured = false;\n      this.netWorkServiceIsNotConfigured = true;\n      /********************* CODE FOR NETWORK SERVICES ***************************/\n      this.Dataplan = [];\n      this.defaultServices = {};\n      this.dataservice = {};\n      this.dataservice1 = {};\n      this.videoservice = {};\n      this.VoiceService = {};\n      this.subsSysServiceForm = {\n        subscriber: {},\n        services: {},\n        edgeSuites: {},\n        systems: []\n      };\n      this.removedOntPortValues = [];\n      this.disableService = true;\n      this.getEdgeSuiteEntitlement();\n      this.ccoCommonService.currentPageAdder('add-new-system');\n      this.ORG_ID = this.sso.getOrgId();\n      let scopes = this.sso.getScopes();\n      if (!this.getScopes()) {\n        this.router.navigate(['cco-foundation/foundation-home']);\n      }\n    }\n    ngOnInit() {\n      // if(this.myCommunityIQEntitlement){\n      //   this.GetMicrosites();\n      // }\n      this.loading = true;\n      this.deviceDataAvail = false;\n      this.language = this.translateService.defualtLanguage;\n      this.languageSubject = this.translateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n      });\n      let url = this.router.url;\n      if (url.indexOf('/foundation-manage/system-edit') == -1) {\n        this.SaveSystem = 'Save';\n        this.system = 'New System';\n        // this.getformDatas();\n        this.dataAvail = true;\n        this.loading = false;\n      } else {\n        this.route.queryParams.subscribe(params => {\n          var _a;\n          this.tabDisable = false;\n          this.subonlytabDisable = false;\n          this.servicetabdisable = false;\n          this.SaveSystem = 'Update';\n          this.subscriberInfo = {\n            subscriberId: params.subscriber ? params.subscriber : '',\n            sn: ''\n          };\n          this.systemInfo = {\n            sn: params.sn ? params.sn.replace(/\\s+/g, \"\") : '',\n            subscriberId: params.subscriber ? params.subscriber : ''\n          };\n          this.redirectToView = params.from ? params.from : '';\n          if (params.sn) {\n            this.system = params.sn.replace(/\\s+/g, \"\");\n          } else if (params.subscriber && !params.sn) {\n            //this.system = 'System Subscriber';\n            this.tabDisable = true;\n            this.servicetabdisable = true;\n          }\n          if (params.sn) {\n            this.getSyetemsAllData();\n          } else {\n            //this.getSubscriberData();\n            this.getSyetemsAllData();\n          }\n          // this.getformDatas();\n          this.getSubscriberData();\n          if ((_a = this.systemInfo) === null || _a === void 0 ? void 0 : _a.subscriberId) this.getSubscriberServices();\n          this.getAllSubsServicesData();\n        });\n      }\n      this.getformDatas();\n      this.getServiceallDatas();\n      this.getDialPlan();\n    }\n    getOpMode(event) {\n      this.opMode = event;\n    }\n    ngAfterViewChecked() {\n      this.cdr.detectChanges();\n    }\n    ngOnDestroy() {\n      var _a;\n      if (this.languageSubject) {\n        this.languageSubject.unsubscribe();\n      }\n      if (this.systemGetSubs) this.systemGetSubs.unsubscribe();\n      if (this.subscriberGetSubs) this.subscriberGetSubs.unsubscribe();\n      if (this.serviceUpdateSubs) {\n        this.serviceUpdateSubs.unsubscribe();\n      }\n      (_a = this.addBspsub) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n      if (this.edgeSuitsUpdateSubs) {\n        this.edgeSuitsUpdateSubs.unsubscribe();\n      }\n      if (this.addSystemSusbsciberSubs) this.addSystemSusbsciberSubs.unsubscribe();\n      if (this.addSusbsciberSubs) this.addSusbsciberSubs.unsubscribe();\n      if (this.updateSystemSusbsciberSubs) this.updateSystemSusbsciberSubs.unsubscribe();\n      if (this.updateSystemSubs) this.updateSystemSubs.unsubscribe();\n      if (this.updateSubscriberSubs) this.updateSubscriberSubs.unsubscribe();\n      if (this.parallelReqSubscribtion) this.parallelReqSubscribtion.unsubscribe();\n      if (this.deviceListSubs) this.deviceListSubs.unsubscribe();\n      if (this.associateSubs) this.associateSubs.unsubscribe();\n      if (this.devicesubs) this.devicesubs.unsubscribe();\n    }\n    OnFormData(key, value) {\n      console.log(key, value);\n      this.FormData[key] = value;\n    }\n    allFormData(value) {\n      this.syetemsAllData = value;\n    }\n    OnStaticFormData(value) {\n      this.StaticForm = value;\n    }\n    getSyetemsAllData(hideSuccess) {\n      this.systemGetSubs = this.service.getSubscribersSystemList(this.ORG_ID, this.systemInfo, true).subscribe(res => {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29;\n        if (res) {\n          // this.FormData = res ? res : {};\n          this.systemID = res.systemId;\n          console.log(\"systemID\", this.systemID);\n          this.LegazyViewIsConfigured = Boolean(res.hasOwnProperty('rgService') && (((_b = (_a = res === null || res === void 0 ? void 0 : res.rgService) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.Enable) || ((_d = (_c = res === null || res === void 0 ? void 0 : res.rgService) === null || _c === void 0 ? void 0 : _c.video) === null || _d === void 0 ? void 0 : _d.Enable) || ((_e = res === null || res === void 0 ? void 0 : res.rgService) === null || _e === void 0 ? void 0 : _e.voice) && Object.values((_g = (_f = res === null || res === void 0 ? void 0 : res.rgService) === null || _f === void 0 ? void 0 : _f.voice) === null || _g === void 0 ? void 0 : _g.Line).some(e => e.Enable !== \"Disabled\")));\n          this.syetemsAllData = res ? res : {};\n          if ((_h = res === null || res === void 0 ? void 0 : res.subscriber) === null || _h === void 0 ? void 0 : _h.subscriberId) {\n            this.createdSubscriberId = res.subscriber.subscriberId;\n          }\n          this.PreProvisnedSystem = (res === null || res === void 0 ? void 0 : res.status) === 'Pre Provisioned';\n          this.subscriberName = (_k = (_j = this.syetemsAllData) === null || _j === void 0 ? void 0 : _j.subscriber) === null || _k === void 0 ? void 0 : _k.name;\n          this.subscriberLocationId = (_m = (_l = this.syetemsAllData) === null || _l === void 0 ? void 0 : _l.subscriber) === null || _m === void 0 ? void 0 : _m.subscriberLocationId;\n          this.systemInfo.subscriberId = (_p = (_o = this.syetemsAllData) === null || _o === void 0 ? void 0 : _o.subscriber) === null || _p === void 0 ? void 0 : _p.subscriberId;\n          this.model = (_q = this.syetemsAllData) === null || _q === void 0 ? void 0 : _q.modelName;\n          if (((_u = (_t = (_s = (_r = this.syetemsAllData) === null || _r === void 0 ? void 0 : _r.edgeSuites) === null || _s === void 0 ? void 0 : _s.myCommunityIQ) === null || _t === void 0 ? void 0 : _t.passpoint) === null || _u === void 0 ? void 0 : _u.enable) && (((_z = (_y = (_x = (_w = (_v = this.syetemsAllData) === null || _v === void 0 ? void 0 : _v.edgeSuites) === null || _w === void 0 ? void 0 : _w.myCommunityIQ) === null || _x === void 0 ? void 0 : _x.passpoint) === null || _y === void 0 ? void 0 : _y.status) === null || _z === void 0 ? void 0 : _z.result) == 'pending' || ((_4 = (_3 = (_2 = (_1 = (_0 = this.syetemsAllData) === null || _0 === void 0 ? void 0 : _0.edgeSuites) === null || _1 === void 0 ? void 0 : _1.myCommunityIQ) === null || _2 === void 0 ? void 0 : _2.passpoint) === null || _3 === void 0 ? void 0 : _3.status) === null || _4 === void 0 ? void 0 : _4.result) == \"succeeded\") || ((_8 = (_7 = (_6 = (_5 = this.syetemsAllData) === null || _5 === void 0 ? void 0 : _5.edgeSuites) === null || _6 === void 0 ? void 0 : _6.myCommunityIQ) === null || _7 === void 0 ? void 0 : _7.eduroam) === null || _8 === void 0 ? void 0 : _8.enable) && (((_13 = (_12 = (_11 = (_10 = (_9 = this.syetemsAllData) === null || _9 === void 0 ? void 0 : _9.edgeSuites) === null || _10 === void 0 ? void 0 : _10.myCommunityIQ) === null || _11 === void 0 ? void 0 : _11.eduroam) === null || _12 === void 0 ? void 0 : _12.status) === null || _13 === void 0 ? void 0 : _13.result) == 'pending' || ((_18 = (_17 = (_16 = (_15 = (_14 = this.syetemsAllData) === null || _14 === void 0 ? void 0 : _14.edgeSuites) === null || _15 === void 0 ? void 0 : _15.myCommunityIQ) === null || _16 === void 0 ? void 0 : _16.eduroam) === null || _17 === void 0 ? void 0 : _17.status) === null || _18 === void 0 ? void 0 : _18.result) == \"succeeded\") || ((_21 = (_20 = (_19 = this.syetemsAllData) === null || _19 === void 0 ? void 0 : _19.edgeSuites) === null || _20 === void 0 ? void 0 : _20.smallBizIQ) === null || _21 === void 0 ? void 0 : _21.enable) && (((_25 = (_24 = (_23 = (_22 = this.syetemsAllData) === null || _22 === void 0 ? void 0 : _22.edgeSuites) === null || _23 === void 0 ? void 0 : _23.smallBizIQ) === null || _24 === void 0 ? void 0 : _24.status) === null || _25 === void 0 ? void 0 : _25.result) == 'pending' || ((_29 = (_28 = (_27 = (_26 = this.syetemsAllData) === null || _26 === void 0 ? void 0 : _26.edgeSuites) === null || _27 === void 0 ? void 0 : _27.smallBizIQ) === null || _28 === void 0 ? void 0 : _28.status) === null || _29 === void 0 ? void 0 : _29.result) == \"succeeded\")) {\n            this.proExpDisable = true;\n          } else {\n            this.proExpDisable = false;\n          }\n          if (this.activeTab == 'SystemEdgesuits') {\n            if (this.proAndExpEnableentitlement || this.productIQEnableentitlement || this.ExperienceIQEnableentitlement) {\n              this.updated = this.checkUpdatedEdgeSuites(res);\n            } else {\n              this.updated = true;\n            }\n            if (!this.updated && this.iqsuitEnable) {\n              if (this.getEdgeSuitesCalled >= 24) {\n                this.commonProcessingCall(res, hideSuccess);\n              } else {\n                setTimeout(() => {\n                  this.getSyetemsAllData();\n                  this.getEdgeSuitesCalled++;\n                }, 5000);\n              }\n            } else {\n              // successfully updated\n              this.commonProcessingCall(res, hideSuccess);\n            }\n          } else {\n            // not in edge suites page\n            // this.formatListData(res, hideSuccess);\n            // if (this.syetemsAllData?.rgService) {\n            //   this.getServicesList();\n            // }\n            // this.loading = false;\n            // this.savesystemsubloading = false;\n            // this.serviceLoading = false;\n            this.commonProcessingCall(res, hideSuccess);\n          }\n          //this.router.navigate(['../foundation-system-list'], { relativeTo: this.route });\n        }\n      }, err => {\n        this.loading = false;\n        this.microSiteLoading = false;\n        this.savesystemsubloading = false;\n        this.edgeSuiteLoading = false;\n        this.serviceLoading = false;\n        this.getEdgeSuitesCalled = 0;\n        this.pageErrorHandle(err);\n      });\n    }\n    commonProcessingCall(res, hideSuccess) {\n      var _a;\n      this.formatListData(res, hideSuccess);\n      if ((_a = this.syetemsAllData) === null || _a === void 0 ? void 0 : _a.rgService) {\n        this.getServicesList();\n      }\n      this.loading = false;\n      this.savesystemsubloading = false;\n      this.serviceLoading = false;\n      this.getEdgeSuitesCalled = 0;\n    }\n    getSubscriberData() {\n      this.subscriberGetSubs = this.service.GetSubscriberData(this.ORG_ID, this.systemInfo.subscriberId).subscribe(res => {\n        this.subscriberName = res === null || res === void 0 ? void 0 : res.name;\n        this.subscriberLocationId = res === null || res === void 0 ? void 0 : res.subscriberLocationId;\n        if (res) {\n          this.syetemsAllData = this.syetemsAllData ? this.syetemsAllData : {};\n          this.subscriber = {\n            account: res.account,\n            email: res.email,\n            name: res.name,\n            phone: res.phone,\n            serviceAddress: res.serviceAddress,\n            subscriberLocationId: res.subscriberLocationId\n          };\n          this.createdSubscriberId = res === null || res === void 0 ? void 0 : res._id;\n          this.createdSubcriberData = res;\n          this.syetemsAllData.subscriber = this.subscriber;\n          if (this.systemInfo.subscriberId) this.formatListData(this.syetemsAllData);\n          this.getServicesList();\n          this.loading = false;\n          this.savesystemsubloading = false;\n        }\n      }, err => {\n        this.pageErrorHandle(err);\n        this.loading = false;\n        this.savesystemsubloading = false;\n      });\n    }\n    formatListData(data, hideSuccess) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30, _31, _32;\n      // console.clear();\n      console.log(data);\n      this.FormData.SysDetails = {\n        systemId: data.systemId ? data.systemId : null,\n        modelName: data.modelName ? data.modelName : null,\n        subscriber: data.subscriber ? data.subscriber : {}\n      };\n      console.log(this.FormData);\n      if (data.rgService) {\n        if (((_b = (_a = data.rgService) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.Enable) && ((_d = (_c = data.rgService) === null || _c === void 0 ? void 0 : _c.data) === null || _d === void 0 ? void 0 : _d.Pbit) != undefined) {\n          data.rgService.data.Pbit = `${(_f = (_e = data.rgService) === null || _e === void 0 ? void 0 : _e.data) === null || _f === void 0 ? void 0 : _f.Pbit}`;\n        }\n        if (((_j = (_h = (_g = data.rgService) === null || _g === void 0 ? void 0 : _g.voice) === null || _h === void 0 ? void 0 : _h.Line['1']) === null || _j === void 0 ? void 0 : _j.Enable) === true || ((_m = (_l = (_k = data.rgService) === null || _k === void 0 ? void 0 : _k.voice) === null || _l === void 0 ? void 0 : _l.Line['1']) === null || _m === void 0 ? void 0 : _m.Enable) == 'Enabled') {\n          data.rgService.voice.Line['1'].Enable = true;\n          //Service Loss Plan\n          if (((_p = (_o = data.rgService) === null || _o === void 0 ? void 0 : _o.voice) === null || _p === void 0 ? void 0 : _p.Line['1'].VoiceProcessing) && ((_r = (_q = data.rgService) === null || _q === void 0 ? void 0 : _q.voice) === null || _r === void 0 ? void 0 : _r.Line['1'].VoiceProcessing.TransmitGain)) {\n            data.rgService.voice.Line['1'].VoiceProcessing.TransmitGain = ((_t = (_s = data.rgService) === null || _s === void 0 ? void 0 : _s.voice) === null || _t === void 0 ? void 0 : _t.Line['1'].VoiceProcessing.TransmitGain) / 10;\n          } else data.rgService.voice.Line['1'].VoiceProcessing.TransmitGain = -3;\n          if (((_v = (_u = data.rgService) === null || _u === void 0 ? void 0 : _u.voice) === null || _v === void 0 ? void 0 : _v.Line['1'].VoiceProcessing) && ((_x = (_w = data.rgService) === null || _w === void 0 ? void 0 : _w.voice) === null || _x === void 0 ? void 0 : _x.Line['1'].VoiceProcessing.ReceiveGain)) {\n            data.rgService.voice.Line['1'].VoiceProcessing.ReceiveGain = ((_z = (_y = data.rgService) === null || _y === void 0 ? void 0 : _y.voice) === null || _z === void 0 ? void 0 : _z.Line['1'].VoiceProcessing.ReceiveGain) / 10;\n          } else data.rgService.voice.Line['1'].VoiceProcessing.ReceiveGain = -9;\n        } else {\n          if ((_0 = data.rgService) === null || _0 === void 0 ? void 0 : _0.voice) {\n            data.rgService.voice.Line['1'].Enable = false;\n          }\n        }\n        if (((_3 = (_2 = (_1 = data.rgService) === null || _1 === void 0 ? void 0 : _1.voice) === null || _2 === void 0 ? void 0 : _2.Line['2']) === null || _3 === void 0 ? void 0 : _3.Enable) === true || ((_6 = (_5 = (_4 = data.rgService) === null || _4 === void 0 ? void 0 : _4.voice) === null || _5 === void 0 ? void 0 : _5.Line['2']) === null || _6 === void 0 ? void 0 : _6.Enable) == 'Enabled') {\n          data.rgService.voice.Line['2'].Enable = true;\n          //Service Loss Plan\n          if (((_8 = (_7 = data.rgService) === null || _7 === void 0 ? void 0 : _7.voice) === null || _8 === void 0 ? void 0 : _8.Line['2'].VoiceProcessing) && ((_10 = (_9 = data.rgService) === null || _9 === void 0 ? void 0 : _9.voice) === null || _10 === void 0 ? void 0 : _10.Line['2'].VoiceProcessing.TransmitGain)) {\n            data.rgService.voice.Line['2'].VoiceProcessing.TransmitGain = ((_12 = (_11 = data.rgService) === null || _11 === void 0 ? void 0 : _11.voice) === null || _12 === void 0 ? void 0 : _12.Line['2'].VoiceProcessing.TransmitGain) / 10;\n          } else data.rgService.voice.Line['2'].VoiceProcessing.TransmitGain = -3;\n          if (((_14 = (_13 = data.rgService) === null || _13 === void 0 ? void 0 : _13.voice) === null || _14 === void 0 ? void 0 : _14.Line['2'].VoiceProcessing) && ((_16 = (_15 = data.rgService) === null || _15 === void 0 ? void 0 : _15.voice) === null || _16 === void 0 ? void 0 : _16.Line['2'].VoiceProcessing.ReceiveGain)) {\n            data.rgService.voice.Line['2'].VoiceProcessing.ReceiveGain = ((_18 = (_17 = data.rgService) === null || _17 === void 0 ? void 0 : _17.voice) === null || _18 === void 0 ? void 0 : _18.Line['2'].VoiceProcessing.ReceiveGain) / 10;\n          } else data.rgService.voice.Line['2'].VoiceProcessing.ReceiveGain = -9;\n        } else {\n          if ((_19 = data.rgService) === null || _19 === void 0 ? void 0 : _19.voice) {\n            data.rgService.voice.Line['2'].Enable = false;\n          }\n        }\n        if (((_21 = (_20 = data.rgService) === null || _20 === void 0 ? void 0 : _20.video) === null || _21 === void 0 ? void 0 : _21.Enable) && ((_23 = (_22 = data.rgService) === null || _22 === void 0 ? void 0 : _22.video) === null || _23 === void 0 ? void 0 : _23.Pbit) != undefined) {\n          data.rgService.video.Pbit = `${(_25 = (_24 = data.rgService) === null || _24 === void 0 ? void 0 : _24.video) === null || _25 === void 0 ? void 0 : _25.Pbit}`;\n        }\n        this.FormData.SysServicetiers = data.rgService ? data.rgService : {};\n        if (this.activeTab == 'systemAdvanced') {\n          setTimeout(() => {\n            // this.childSystemServicetier.initialize();\n            this.childSystemAdvance.initialize();\n          }, 200);\n        }\n      } else {\n        this.FormData.SysServicetiers = {};\n        if (this.activeTab == 'systemAdvanced') {\n          //this.childSystemServicetier.initialize();\n          this.childSystemAdvance.initialize();\n        }\n      }\n      this.FormData.SysEdgeSuites = data.edgeSuites ? data.edgeSuites : {};\n      if (data.edgeSuites) {\n        if (this.activeTab == 'SystemEdgesuits') {\n          if (data.edgeSuites && ((_26 = data.edgeSuites) === null || _26 === void 0 ? void 0 : _26.arloSmart) && !((_28 = (_27 = data.edgeSuites) === null || _27 === void 0 ? void 0 : _27.arloSmart) === null || _28 === void 0 ? void 0 : _28.userId) && ((_30 = (_29 = data.edgeSuites) === null || _29 === void 0 ? void 0 : _29.arloSmart) === null || _30 === void 0 ? void 0 : _30.provResults) && ((_32 = (_31 = data.edgeSuites) === null || _31 === void 0 ? void 0 : _31.arloSmart) === null || _32 === void 0 ? void 0 : _32.provResults.indexOf('error'))) {\n            let msg = this.language['System Subscribers edge suites data updated successfully except Arlo details'];\n            this.showWarningMessage(msg);\n            this.removeArloAccount();\n          } else {\n            if (!hideSuccess) {\n              let msg = this.language['System subscriber\\'s Managed Services updated successfully'];\n              this.showSuccessMessage(msg);\n            }\n            this.edgeSuiteLoading = false;\n          }\n          setTimeout(() => {\n            this.childSystemEdgesuits.initialize();\n          }, 50);\n        }\n      }\n      this.loading = false;\n      this.dataAvail = true;\n    }\n    getformDatas() {\n      let requestEndpoints = [`${environment.SUPPORT_URL}/netops-config/configuration-profile?${this.sso.getOrg(this.ORG_ID)}`, `${environment.SUPPORT_URL}/netops-dp/dial-plan?${this.sso.getOrg(this.ORG_ID)}`, `${environment.SUPPORT_URL}/netops-device/group/count?${this.sso.getOrg(this.ORG_ID)}`\n      // `${environment.API_BASE_URL}foundation/feature/arlo/serviceroles`,\n      // `${environment.API_BASE_URL}foundation/feature/servify/plans`,\n      // `${environment.API_BASE_URL}foundation/feature/servify/cancelreasons`\n      ];\n\n      if (this.arloEnableentitlement || this.arloUnlimitedentitlement || this.arloUnlimitedplusentitlement) {\n        requestEndpoints.push(`${environment.API_BASE_URL}foundation/feature/arlo/serviceroles`);\n      }\n      if (this.ServifyEnableentitlement || this.ServifyGoldentitlement || this.ServifySilverentitlement || this.ServifyPlatinumentitlement) {\n        requestEndpoints.push(`${environment.API_BASE_URL}foundation/feature/servify/plans`, `${environment.API_BASE_URL}foundation/feature/servify/cancelreasons`);\n      }\n      const requests = [];\n      if (this.systemInfo && this.systemInfo.sn) {\n        requestEndpoints.push(`${environment.FOUNDATION_BASE_URL}/subscriber-systems/static-group-memberships?orgId=${this.ORG_ID}&systemId=${this.systemInfo.sn}`);\n        requestEndpoints.push(`${environment.SUPPORT_URL}/device/${this.ORG_ID}/${this.systemInfo.sn}/deviceinfo`);\n      }\n      requestEndpoints.forEach(endpoint => {\n        const req = this.service.callRestApi(endpoint).pipe(map(res => {\n          return res;\n        }), catchError(error => {\n          return of(error);\n        }));\n        requests.push(req);\n      });\n      this.combineLatest = combineLatest(requests);\n      this.makeParallelRequest();\n    }\n    makeParallelRequest() {\n      this.parallelReqSubscribtion = this.combineLatest.subscribe(response => {\n        var _a;\n        if (response[0] && response[0].error) {\n          this.pageErrorHandle(response[0]);\n          this.formOptions.Brandwidthitems = [];\n        } else {\n          this.buildBWProfile(response[0]);\n        }\n        if (response[1] && response[1].error) {\n          this.pageErrorHandle(response[1]);\n          this.formOptions.DialPlanitems = [];\n        } else {\n          this.formOptions.DialPlanitems = response[1] ? response[1] : [];\n        }\n        if (response[2] && response[2].error) {\n          this.pageErrorHandle(response[2]);\n          this.formOptions.DialPlanitems = [];\n        } else if (response[2] && response[2].count) {\n          this.getDeviceGoupList(response[2].count);\n        } else {}\n        if (response[3] && response[3].error) {\n          this.pageErrorHandle(response[3]);\n          this.formOptions.ArloServicePlan = [];\n        } else {\n          this.formOptions.ArloServicePlan = response[3] ? response[3] : [];\n        }\n        if (response[4] && response[4].error) {\n          this.pageErrorHandle(response[4]);\n          this.formOptions.servifyPlan = [];\n        } else {\n          this.formOptions.servifyPlan = response[4] ? response[4] : [];\n        }\n        if (response[5] && response[5].error) {\n          this.pageErrorHandle(response[5]);\n          this.formOptions.servifyCancelcode = [];\n        } else {\n          this.formOptions.servifyCancelcode = response[5] ? response[5] : [];\n        }\n        if (this.systemInfo && this.systemInfo.sn) {\n          if (response[6] && response[6].error) {\n            this.pageErrorHandle(response[6]);\n            this.StaticForm = {\n              static: false,\n              staticGroupList: []\n            };\n          } else {\n            if (response[6] && response[6].length) {\n              this.StaticForm = {\n                static: true,\n                staticGroupList: response[6]\n              };\n            } else {\n              this.StaticForm = {\n                static: false,\n                staticGroupList: []\n              };\n            }\n          }\n          this.service.staticGroupSubject.next(this.StaticForm);\n          if (response[7] && response[7].error) {\n            this.pageErrorHandle(response[7]);\n          } else {\n            if (response[7] && Object.keys(response[7]).length) {\n              this.deviceInfo = response[7] ? response[7] : {};\n              this.deviceOpMode = response[7] && response[7].opMode ? response[7].opMode : '';\n              this.modelname = response[7] && response[7].modelName ? response[7].modelName : '';\n              this.wanAccessType = response[7] && response[7].wanAccessType ? response[7].wanAccessType.toUpperCase() : '';\n              if (this.deviceOpMode === 'RG') {\n                if (this.modelname.indexOf(\"GS\") !== -1 || this.modelname.indexOf(\"GM\") !== -1 || this.modelname.indexOf(\"GPR\") !== -1) {\n                  this.iqsuitEnable = true;\n                } else {\n                  this.iqsuitEnable = false;\n                }\n                let serialNumber = (_a = this.deviceInfo) === null || _a === void 0 ? void 0 : _a.serialNumber;\n                this.service.fetchMetaData(this.ORG_ID, serialNumber).subscribe(res => {\n                  res.properties.forEach(obj => {\n                    if (obj.featureName === \"SSIDBackup\") {\n                      this.SSIDbackup = true;\n                    }\n                  });\n                });\n              }\n              // if (this.wanAccessType == 'GPON') {\n              //   this.servicetabdisable = true;\n              // } else {\n              //   this.servicetabdisable = false;\n              // }\n            } else {\n              this.deviceInfo = {};\n              this.getProvisionRecord();\n            }\n          }\n        }\n        setTimeout(() => {\n          this.deviceDataAvail = true;\n        }, 1000);\n      }, err => {\n        this.loading = false;\n        this.deviceDataAvail = true;\n        this.pageErrorHandle(err);\n        this.commonOrgService.pageScrollTop();\n      }, () => {\n        this.loading = false;\n      });\n    }\n    getDeviceGoupList(count) {\n      this.loading = true;\n      this.deviceListSubs = this.service.getDeviceGoupList(this.ORG_ID, count).subscribe(data => {\n        this.loading = false;\n        this.deviceDataList = data ? this.getStaticList(data) : [];\n      }, err => {\n        this.pageErrorHandle(err);\n      });\n    }\n    gotoTab(tab) {\n      this.activeTab = tab ? tab : 'systemDetails';\n      if (tab === 'networkService' || tab === 'systemAdvanced') this.saveDisabled = false;\n      if (this.activeTab == 'systemDetails' && this.StaticForm) {\n        this.service.staticGroupSubject.next(this.StaticForm);\n      }\n      console.log('haha');\n    }\n    saveSystem() {\n      if (this.activeTab == 'systemDetails') {\n        this.childSystemDetails.saveSystem();\n      } else if (this.activeTab == 'systemServices') {\n        this.childSystemServicetier.saveSystem();\n      } else if (this.activeTab == 'SystemEdgesuits') {\n        this.childSystemEdgesuits.saveSystem();\n      } else if (this.activeTab == 'systemStaticgroups') {\n        this.childStaticGroups.saveSystem();\n      } else if (this.activeTab == 'systemAdvanced') {\n        this.childSystemAdvance.saveSystem();\n      } else if (this.activeTab == 'networkService') {\n        this.childNetworkService.saveSubscriber();\n      }\n    }\n    // @ViewChild(AddStaticGroupsComponent) staticGroup:AddStaticGroupsComponent\n    saveSyetemsubscriber() {\n      var _a, _b, _c;\n      //debugger;\n      let sysFormData = this.FormData.SysDetails;\n      // console.log(this.staticGroup)\n      if (sysFormData.staticGroup) {\n        delete sysFormData.staticGroup;\n      }\n      this.SaveSysData = {};\n      if (sysFormData.subscriber.subscriberLocationId == null) {\n        const sjonObj1 = this.SaveSysData = {\n          systemId: sysFormData.systemId.replace(/\\s+/g, \"\"),\n          modelName: sysFormData.modelName\n        };\n        $.each(sjonObj1, function (key, value) {\n          if (value == \"\" || value == null) {\n            delete sjonObj1[key];\n          }\n        });\n      } else {\n        this.FormData.SysDetails.systemId = (_c = (_b = (_a = this.FormData) === null || _a === void 0 ? void 0 : _a.SysDetails) === null || _b === void 0 ? void 0 : _b.systemId) === null || _c === void 0 ? void 0 : _c.replace(/\\s+/g, \"\");\n        this.SaveSysData = this.removeNull(this.FormData.SysDetails);\n        //this.SaveSysData = _.pickBy(this.FormData.SysDetails, v => v !== null && v !== undefined);\n      }\n\n      this.savesystemsubloading = true;\n      this.closeAlert();\n      if (this.system == 'New System') {\n        if (sysFormData.systemId) {\n          this.addSystemSusbsciberSubs = this.service.AddSystemSubscriberData(this.ORG_ID, this.SaveSysData).subscribe(res => {\n            this.tabDisable = false;\n            this.subonlytabDisable = false;\n            this.servicetabdisable = false;\n            if (res) {\n              this.systemInfo = {\n                sn: res.systemId ? res.systemId : '',\n                subscriberId: res.subscriberId ? res.subscriberId : ''\n              };\n              if (res.systemId || this.FormData.SysDetails.systemId) {\n                this.submitStaticGroups();\n              }\n              ;\n              this.getDeviceRecord();\n              this.getSubscriberServices();\n              if (res && res.systemId) {\n                this.commonFunctionsService.trackPendoEvents('Deployment_Cloud', 'System Created');\n                this.system = res.systemId ? res.systemId : 'Added New System';\n              } else if (res && res.subscriberId) {\n                this.commonFunctionsService.trackPendoEvents('Deployment_Cloud', 'Subscriber Created');\n                this.system = sysFormData.modelName ? sysFormData.modelName : 'Added New System';\n              }\n            }\n            this.showSuccessMessage(this.language['New System details added successfully']);\n            this.getSyetemsAllData();\n            //this.router.navigate(['../foundation-system-list'], { relativeTo: this.route });\n          }, err => {\n            var _a, _b;\n            this.pageErrorHandle(err, (_b = (_a = this.FormData.SysDetails) === null || _a === void 0 ? void 0 : _a.subscriber) === null || _b === void 0 ? void 0 : _b.subscriberLocationId);\n            this.savesystemsubloading = false;\n          });\n        } else {\n          let params = this.SaveSysData['subscriber'];\n          this.addSusbsciberSubs = this.service.AddSubscriberData(this.ORG_ID, params).subscribe(res => {\n            this.createdSubscriberId = res === null || res === void 0 ? void 0 : res._id;\n            this.tabDisable = true;\n            this.subonlytabDisable = false;\n            this.servicetabdisable = true;\n            this.iqsuitEnable = true;\n            if (res) {\n              this.systemInfo = {\n                sn: res.systemId ? res.systemId : '',\n                subscriberId: res._id ? res._id : ''\n              };\n              this.system = \"\";\n              this.commonFunctionsService.trackPendoEvents('Deployment_Cloud', 'Subscriber Created');\n              // this.system = res.name ? res.name : 'New System Subsciber';\n            }\n\n            if (res.systemId || this.FormData.SysDetails.systemId) {\n              this.submitStaticGroups();\n            }\n            this.getSubscriberData();\n            this.getSubscriberServices();\n            this.showSuccessMessage(this.language['New subscriber data added successfully']);\n            //this.router.navigate(['../foundation-system-list'], { relativeTo: this.route });\n          }, err => {\n            var _a, _b;\n            this.pageErrorHandle(err, (_b = (_a = this.FormData.SysDetails) === null || _a === void 0 ? void 0 : _a.subscriber) === null || _b === void 0 ? void 0 : _b.subscriberLocationId);\n            this.savesystemsubloading = false;\n          });\n        }\n      } else {\n        if (this.systemInfo.sn && this.systemInfo.subscriberId) {\n          let systemParams = this.SaveSysData;\n          systemParams['subscriber']['subscriberId'] = this.systemInfo.subscriberId;\n          this.updateSystemSusbsciberSubs = this.service.UpdateSystemSubscriberData(this.ORG_ID, systemParams, this.systemInfo).subscribe(res => {\n            this.getSyetemsAllData();\n            this.commonFunctionsService.trackPendoEvents('Deployment_Cloud', 'System Updated');\n            this.commonFunctionsService.trackPendoEvents('Deployment_Cloud', 'Subscriber Updated');\n            let msg = this.language['System data updated successfully'];\n            if (this.systemInfo.sn) {\n              msg = `${this.systemInfo.sn} - ${this.language['System data updated successfully']}`;\n              this.submitStaticGroups();\n            }\n            ;\n            this.showSuccessMessage(msg);\n          }, err => {\n            var _a, _b;\n            this.savesystemsubloading = false;\n            this.pageErrorHandle(err, (_b = (_a = this.FormData.SysDetails) === null || _a === void 0 ? void 0 : _a.subscriber) === null || _b === void 0 ? void 0 : _b.subscriberLocationId);\n          });\n        } else if (this.systemInfo.sn) {\n          //Updating using SystemId\n          if (this.SaveSysData['subscriber'] && this.SaveSysData['subscriber']['subscriberLocationId']) {\n            //Updating available System Info & Adding Subscriber Info seperately- since there is SystemId Available\n            this.updateSystemSusbsciberSubs = this.service.UpdateSystemSubscriberData(this.ORG_ID, this.SaveSysData, this.systemInfo).subscribe(res => {\n              this.getSyetemsAllData();\n              this.commonFunctionsService.trackPendoEvents('Deployment_Cloud', 'Subscriber Created');\n              this.commonFunctionsService.trackPendoEvents('Deployment_Cloud', 'System Updated');\n              let msg = this.language['System data updated successfully'];\n              ;\n              if (this.systemInfo.sn) {\n                msg = `${this.systemInfo.sn} - ${this.language['System data updated successfully']}`;\n              }\n              this.showSuccessMessage(msg);\n            }, err => {\n              var _a, _b;\n              this.savesystemsubloading = false;\n              this.pageErrorHandle(err, (_b = (_a = this.FormData.SysDetails) === null || _a === void 0 ? void 0 : _a.subscriber) === null || _b === void 0 ? void 0 : _b.subscriberLocationId);\n            });\n          } else {\n            //Updating System Info Alone\n            let systemParams = {\n              systemId: this.SaveSysData['systemId'],\n              modelName: this.SaveSysData['modelName']\n            };\n            this.updateSystemSubs = this.service.UpdateSystemInfo(this.ORG_ID, systemParams, this.systemInfo).subscribe(res => {\n              this.getSyetemsAllData();\n              if (this.systemInfo.sn || this.FormData.SysDetails.systemId) {\n                this.submitStaticGroups();\n              }\n              this.commonFunctionsService.trackPendoEvents('Deployment_Cloud', 'System Updated');\n              let msg = this.language['System data updated successfully'];\n              if (this.systemInfo.sn) {\n                msg = `${this.systemInfo.sn} - ${this.language['System data updated successfully']}`;\n              }\n              this.showSuccessMessage(msg);\n            }, err => {\n              var _a, _b;\n              this.savesystemsubloading = false;\n              this.pageErrorHandle(err, (_b = (_a = this.FormData.SysDetails) === null || _a === void 0 ? void 0 : _a.subscriber) === null || _b === void 0 ? void 0 : _b.subscriberLocationId);\n            });\n          }\n        } else if (this.systemInfo.subscriberId) {\n          //Updating Using Subscriber Id\n          if (this.SaveSysData['systemId']) {\n            //Updating available Subscriber Info & Adding New System Info extra- since there is SubscriberId Available\n            this.devicesubs = this.service.getSearchResult(this.ORG_ID, this.SaveSysData['systemId']).subscribe(res => {\n              this.deviceData = res ? res : {};\n              this.deviceInfo = res ? res : {};\n              this.deviceOpMode = res && res['opMode'] ? res['opMode'] : '';\n              this.modelName = res && res['modelName'] ? res['modelName'] : '';\n              if (Object.keys(this.deviceData).length) {\n                let systemParams = {\n                  systemId: this.SaveSysData['systemId'],\n                  subscriberId: this.systemInfo.subscriberId\n                };\n                this.associateSubs = this.service.associateDevice(this.ORG_ID, systemParams).subscribe(res => {\n                  this.tabDisable = false;\n                  this.subonlytabDisable = false;\n                  this.servicetabdisable = false;\n                  this.systemInfo.sn = this.SaveSysData['systemId'];\n                  this.getSyetemsAllData();\n                  this.commonFunctionsService.trackPendoEvents('Deployment_Cloud', 'System Created');\n                  this.commonFunctionsService.trackPendoEvents('Deployment_Cloud', 'Subscriber Updated');\n                  let msg = this.language['System data updated successfully'];\n                  if (this.systemInfo.sn) {\n                    msg = `${this.systemInfo.sn} - ${this.language['System data updated successfully']}`;\n                  }\n                  if (this.systemInfo.sn) {\n                    this.system = this.systemInfo.sn ? this.systemInfo.sn : 'Added New System';\n                  }\n                  this.showSuccessMessage(msg);\n                }, err => {\n                  var _a, _b;\n                  this.pageErrorHandle(err, (_b = (_a = this.FormData.SysDetails) === null || _a === void 0 ? void 0 : _a.subscriber) === null || _b === void 0 ? void 0 : _b.subscriberLocationId);\n                  this.savesystemsubloading = false;\n                });\n              } else {\n                let systemParams = this.SaveSysData;\n                systemParams['subscriber']['subscriberId'] = this.systemInfo.subscriberId;\n                this.service.UpdateSystemSubscriberData(this.ORG_ID, systemParams, this.systemInfo).subscribe(res => {\n                  this.tabDisable = false;\n                  this.subonlytabDisable = false;\n                  this.servicetabdisable = false;\n                  this.systemInfo.sn = this.SaveSysData['systemId'];\n                  this.getSyetemsAllData();\n                  this.commonFunctionsService.trackPendoEvents('Deployment_Cloud', 'System Updated');\n                  this.commonFunctionsService.trackPendoEvents('Deployment_Cloud', 'Subscriber Updated');\n                  let msg = this.language['System data updated successfully'];\n                  if (this.systemInfo.sn) {\n                    msg = `${this.systemInfo.sn} - ${this.language['System data updated successfully']}`;\n                  }\n                  if (this.systemInfo.sn) {\n                    this.system = this.systemInfo.sn ? this.systemInfo.sn : 'Added New System';\n                  }\n                  this.showSuccessMessage(msg);\n                }, err => {\n                  var _a, _b;\n                  this.savesystemsubloading = false;\n                  this.pageErrorHandle(err, (_b = (_a = this.FormData.SysDetails) === null || _a === void 0 ? void 0 : _a.subscriber) === null || _b === void 0 ? void 0 : _b.subscriberLocationId);\n                });\n              }\n            });\n          } else {\n            //Updating Suscriber Info Alone\n            let params = this.SaveSysData['subscriber'];\n            this.updateSubscriberInfo(params);\n          }\n        } else {\n          //\n        }\n      }\n    }\n    updateSubscriberInfo(params) {\n      this.updateSubscriberSubs = this.service.UpdateSubscriberData(this.ORG_ID, params, this.systemInfo.subscriberId).subscribe(res => {\n        this.createdSubscriberId = res === null || res === void 0 ? void 0 : res._id;\n        this.getSubscriberData();\n        this.commonFunctionsService.trackPendoEvents('Deployment_Cloud', 'Subscriber Updated');\n        let msg = this.language['Subscriber data updated successfully'];\n        this.showSuccessMessage(msg);\n        this.savesystemsubloading = false;\n        this.iqsuitEnable = true;\n      }, err => {\n        this.savesystemsubloading = false;\n        this.pageErrorHandle(err);\n      });\n    }\n    closeAddEdit() {\n      if (this.redirectToView && this.redirectToView === 'view') {\n        let sn = this.systemInfo.sn ? this.systemInfo.sn : '';\n        let subscriberId = this.systemInfo.subscriberId ? this.systemInfo.subscriberId : '';\n        let queryParams = {\n          sn: sn,\n          subscriber: subscriberId\n        };\n        if (!sn && !subscriberId) {\n          this.goToList();\n        }\n        this.router.navigate(['/cco-foundation/foundation-systems/foundation-manage/system-details'], {\n          relativeTo: this.route,\n          queryParams: queryParams\n        });\n      } else {\n        this.goToList();\n      }\n    }\n    goToList() {\n      let searchText = sessionStorage.getItem('foundation_list_search');\n      if (searchText) {\n        this.router.navigate(['../foundation-system-list'], {\n          relativeTo: this.route,\n          state: {\n            systemSearchText: searchText || ''\n          }\n        });\n      } else this.router.navigate(['../foundation-system-list'], {\n        relativeTo: this.route\n      });\n    }\n    submitServiceData() {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n      let formData = this.FormData.SysServicetiers;\n      let params = {\n        data: {\n          Enable: false\n        },\n        voice: {},\n        video: {\n          Enable: false\n        },\n        services: []\n      };\n      const ServiceType = ((_a = formData.voice) === null || _a === void 0 ? void 0 : _a.ServiceType) ? (_b = formData.voice) === null || _b === void 0 ? void 0 : _b.ServiceType : '';\n      //DATA PROCESS\n      if ((_c = formData === null || formData === void 0 ? void 0 : formData.services) === null || _c === void 0 ? void 0 : _c.Enable) {\n        params.services.push(formData.services);\n      }\n      if (formData.data.Enable) {\n        formData.data.pppoe = _.pickBy(formData.data.pppoe, v => v !== null && v !== \"\");\n        if (formData.data.Pbit != undefined) {\n          formData.data.Pbit = `${formData.data.Pbit}`;\n        }\n      } else {\n        if (formData.data.BwProfile) {\n          formData.data = {\n            Enable: false,\n            BwProfile: formData.data.BwProfile\n          };\n        } else {\n          formData.data = {\n            Enable: false\n          };\n        }\n      }\n      //params.data = _.pickBy(formData.data, v => !(v == null || v == \"\" || (typeof v == 'object' && !Object.keys(v).length)));\n      params.data = _.pickBy(formData.data, v => {\n        return v !== null && v !== \"\" || v !== null && typeof v == 'object' && Object.keys(v).length;\n      });\n      //VOICE PROCESS\n      if (ServiceType !== 'SIP' && ((_d = formData.voice) === null || _d === void 0 ? void 0 : _d.FaxT38) != undefined) {\n        (_e = formData.voice) === null || _e === void 0 ? true : delete _e.FaxT38;\n      }\n      if (ServiceType !== 'SIP' && ((_f = formData.voice) === null || _f === void 0 ? void 0 : _f.DialPlan) != undefined) {\n        (_g = formData.voice) === null || _g === void 0 ? true : delete _g.DialPlan;\n      }\n      if (ServiceType !== 'MGCP' && ServiceType !== 'H.248' || ((_h = formData.voice) === null || _h === void 0 ? void 0 : _h.X_CALIX_SXACC_RG_WAN.ServiceConnectionType) !== 'DHCP') {\n        if (formData.voice.X_000631_Opt81ClientFQDN != undefined) delete formData.voice.X_000631_Opt81ClientFQDN;\n      }\n      if (((_j = formData.voice) === null || _j === void 0 ? void 0 : _j.X_CALIX_SXACC_RG_WAN.ServiceConnectionType) !== 'Static') {\n        formData.voice.X_CALIX_SXACC_RG_WAN = {\n          ServiceConnectionType: 'DHCP'\n        };\n      } else if (((_k = formData.voice) === null || _k === void 0 ? void 0 : _k.X_CALIX_SXACC_RG_WAN.ServiceConnectionType) === 'Static' && ((_l = formData.voice) === null || _l === void 0 ? void 0 : _l.X_CALIX_SXACC_RG_WAN.DNSServers)) {\n        let dns = (_m = formData.voice) === null || _m === void 0 ? void 0 : _m.X_CALIX_SXACC_RG_WAN.DNSServers;\n        let arr = dns.split(\",\");\n        arr = arr.filter(el => el && el.replace(/\\s+/g, \"\"));\n        formData.voice.X_CALIX_SXACC_RG_WAN.DNSServers = arr.join(',');\n      }\n      formData = (formData => {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n        for (let i = 1; i < 3; i++) {\n          if (ServiceType === 'SIP' && ((_a = formData.voice) === null || _a === void 0 ? void 0 : _a.Line[i].Enable) === true) {\n            formData.voice.Line[i] = {\n              Enable: formData.voice.Line[i].Enable,\n              SIP: formData.voice.Line[i].SIP,\n              CallingFeatures: formData.voice.Line[i].CallingFeatures,\n              VoiceProcessing: formData.voice.Line[i].VoiceProcessing\n            };\n            if (!((_b = formData.voice) === null || _b === void 0 ? void 0 : _b.Line[i].CallingFeatures.X_000631_DirectConnectEnable)) {\n              (_c = formData.voice) === null || _c === void 0 ? true : delete _c.Line[i].CallingFeatures.X_000631_DirectConnectNumber;\n              (_d = formData.voice) === null || _d === void 0 ? true : delete _d.Line[i].CallingFeatures.X_000631_DirectConnectTimer;\n            }\n          } else if (ServiceType === 'H.248' && ((_e = formData.voice) === null || _e === void 0 ? void 0 : _e.Line[i].Enable) === true) {\n            formData.voice.Line[i] = {\n              Enable: formData.voice.Line[i].Enable,\n              X_000631_H248: formData.voice.Line[i].X_000631_H248,\n              //CallingFeatures: formData.voice.Line[i].CallingFeatures,\n              VoiceProcessing: formData.voice.Line[i].VoiceProcessing\n            };\n            // if (formData.voice?.Line[i].MGCP) delete formData.voice?.Line[i].MGCP;\n            // if (formData.voice?.Line[i].X_000631_TdmGw) delete formData.voice?.Line[i].X_000631_TdmGw;\n          } else if (ServiceType === 'MGCP' && ((_f = formData.voice) === null || _f === void 0 ? void 0 : _f.Line[i].Enable) === true) {\n            formData.voice.Line[i] = {\n              Enable: formData.voice.Line[i].Enable,\n              MGCP: formData.voice.Line[i].MGCP,\n              //CallingFeatures: formData.voice.Line[i].CallingFeatures,\n              VoiceProcessing: formData.voice.Line[i].VoiceProcessing\n            };\n            // if (formData.voice?.Line[i].TerminationId) delete formData.voice?.Line[i].TerminationId;\n            // if (formData.voice?.Line[i].X_000631_TdmGw) delete formData.voice?.Line[i].X_000631_TdmGw;\n          } else if (ServiceType === 'X_000631_TDMGW' && ((_g = formData.voice) === null || _g === void 0 ? void 0 : _g.Line[i].Enable) === true) {\n            formData.voice.Line[i] = {\n              Enable: formData.voice.Line[i].Enable,\n              X_000631_TdmGw: formData.voice.Line[i].X_000631_TdmGw,\n              //CallingFeatures: formData.voice.Line[i].CallingFeatures,\n              VoiceProcessing: formData.voice.Line[i].VoiceProcessing\n            };\n            // if (formData.voice?.Line[i].TerminationId) delete formData.voice?.Line[i].TerminationId;\n            // if (formData.voice?.Line[i].MGCP) delete formData.voice?.Line[i].MGCP;\n          }\n\n          if (((_h = formData.voice) === null || _h === void 0 ? void 0 : _h.Line[i].Enable) && ((_j = formData.voice) === null || _j === void 0 ? void 0 : _j.Line[i].VoiceProcessing)) {\n            formData.voice.Line[i].VoiceProcessing.TransmitGain = ((_k = formData.voice) === null || _k === void 0 ? void 0 : _k.Line[i].VoiceProcessing.TransmitGain) * 10;\n            formData.voice.Line[i].VoiceProcessing.ReceiveGain = ((_l = formData.voice) === null || _l === void 0 ? void 0 : _l.Line[i].VoiceProcessing.ReceiveGain) * 10;\n            if ((_o = (_m = formData.voice) === null || _m === void 0 ? void 0 : _m.Line[i].VoiceProcessing) === null || _o === void 0 ? void 0 : _o.systemLoss) delete formData.voice.Line[i].VoiceProcessing.systemLoss;\n          }\n        }\n        return formData;\n      })(formData);\n      params.voice = _.pickBy(formData.voice, v => v !== null && v !== \"\");\n      if (formData.voice.Line['1'].Enable === false || formData.voice.Line['1'].Enable === 'Disabled') {\n        params.voice['Line']['1'] = {\n          Enable: \"Disabled\"\n        };\n      } else if (formData.voice.Line['1'].Enable === true) {\n        params.voice['Line']['1'].Enable = \"Enabled\";\n      }\n      if (formData.voice.Line['2'].Enable === false || formData.voice.Line['2'].Enable === 'Disabled') {\n        params.voice['Line']['2'] = {\n          Enable: \"Disabled\"\n        };\n      } else if (formData.voice.Line['2'].Enable === true) {\n        params.voice['Line']['2'].Enable = \"Enabled\";\n      }\n      //VIDEO PROCESS\n      if (formData.video.Enable) {\n        if (formData.video.Pbit != undefined) {\n          formData.video.Pbit = `${formData.video.Pbit}`;\n        }\n      } else {\n        if (formData.video.BwProfile) {\n          formData.video = {\n            Enable: false,\n            BwProfile: formData.video.BwProfile\n          };\n        } else {\n          formData.video = {\n            Enable: false\n          };\n        }\n      }\n      params.video = _.pickBy(formData.video, v => {\n        return v !== null && v !== \"\" || v !== null && typeof v == 'object' && Object.keys(v).length;\n      });\n      //params.video = _.pickBy(formData.video, v => !(v == null || v == \"\" || (typeof v == 'object' && !Object.keys(v).length)));\n      this.closeAlert();\n      this.serviceLoading = true;\n      this.serviceUpdateSubs = this.service.updateServiceData(this.ORG_ID, this.systemInfo, params).subscribe(res => {\n        this.getSyetemsAllData();\n        this.LegazyViewIsConfigured = true;\n        let msg = this.language['System Subscribers services data updated successfully'];\n        this.showSuccessMessage(msg);\n      }, err => {\n        this.serviceLoading = false;\n        this.pageErrorHandle(err);\n      });\n    }\n    GetMicrosites() {\n      this.microSiteLoading = true;\n      this.addBspsub = this.communityService.GetMicrosite().subscribe(res => {\n        this.communityArr = res ? res.filter(x => x.status === \"READY\") : [];\n        this.microSiteLoading = false;\n      }, err => {\n        this.microSiteLoading = false;\n      });\n    }\n    submitEdgeSuitsData(event, noDelay) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30, _31, _32, _33, _34, _35, _36, _37, _38, _39, _40, _41, _42, _43, _44, _45, _46, _47, _48, _49, _50, _51, _52, _53, _54, _55, _56, _57, _58, _59, _60, _61, _62, _63, _64, _65, _66, _67, _68, _69, _70, _71, _72, _73, _74, _75, _76, _77, _78, _79, _80, _81, _82, _83, _84, _85, _86, _87, _88;\n      let formData = Object.assign({}, this.FormData.SysEdgeSuites);\n      if (formData.arloSmart.enabled && !formData.arloSmart.email) {\n        return;\n      } else if (formData.arloSmart.enabled && formData.arloSmart.email && !this.commonOrgService.validateEmail(formData.arloSmart.email)) {\n        return;\n      }\n      let params = {\n        protectIQ: {},\n        experienceIQ: {},\n        myCommunityIQ: {},\n        bark: {},\n        smallBizIQ: {}\n      };\n      if (!(formData === null || formData === void 0 ? void 0 : formData.smallBizIQ)) {\n        params.smallBizIQ = {};\n      } else {\n        if ((_a = formData === null || formData === void 0 ? void 0 : formData.smallBizIQ) === null || _a === void 0 ? void 0 : _a.enable) {\n          params.smallBizIQ = {\n            enable: (_b = formData.smallBizIQ) === null || _b === void 0 ? void 0 : _b.enable\n          };\n        } else {\n          params.smallBizIQ = {\n            enable: false\n          };\n        }\n      }\n      if ((_c = formData.bark) === null || _c === void 0 ? void 0 : _c.enable) {\n        params.bark = {\n          email: (_d = formData.bark) === null || _d === void 0 ? void 0 : _d.email,\n          planCode: (_e = formData.bark) === null || _e === void 0 ? void 0 : _e.planCode\n        };\n      } else {\n        params.bark = {};\n      }\n      if (this.proAndExpEnableentitlement || this.ExperienceIQEnableentitlement) {\n        params.experienceIQ = {\n          subscribed: formData.experienceIQ.subscribed,\n          enabled: formData.experienceIQ.enabled\n        };\n      }\n      if (this.productIQEnableentitlement || this.proAndExpEnableentitlement) {\n        params.protectIQ = {\n          subscribed: formData.protectIQ.subscribed,\n          enabled: formData.protectIQ.enabled\n        };\n      }\n      //mycommunity\n      params.myCommunityIQ = formData.myCommunityIQ;\n      if (this.opMode && this.opMode != \"RG\") {\n        if ((_g = (_f = params === null || params === void 0 ? void 0 : params.myCommunityIQ) === null || _f === void 0 ? void 0 : _f.passpoint) === null || _g === void 0 ? void 0 : _g.enable) {\n          params.myCommunityIQ.passpoint.enable = false;\n        }\n      }\n      ((_k = (_j = (_h = params.myCommunityIQ) === null || _h === void 0 ? void 0 : _h.subscriber) === null || _j === void 0 ? void 0 : _j.communities) === null || _k === void 0 ? void 0 : _k.length) > 0 ? params.myCommunityIQ.subscriber.communities = (_o = (_m = (_l = params.myCommunityIQ) === null || _l === void 0 ? void 0 : _l.subscriber) === null || _m === void 0 ? void 0 : _m.communities) === null || _o === void 0 ? void 0 : _o.map(element => {\n        if (typeof element == 'object' && element != null) {\n          return element;\n        } else {\n          return {\n            micrositeId: element\n          };\n        }\n      }) : null;\n      ((_r = (_q = (_p = params.myCommunityIQ) === null || _p === void 0 ? void 0 : _p.passpoint) === null || _q === void 0 ? void 0 : _q.communities) === null || _r === void 0 ? void 0 : _r.length) > 0 ? params.myCommunityIQ.passpoint.communities = (_u = (_t = (_s = params.myCommunityIQ) === null || _s === void 0 ? void 0 : _s.passpoint) === null || _t === void 0 ? void 0 : _t.communities) === null || _u === void 0 ? void 0 : _u.map(element => {\n        if (typeof element == 'object' && element != null) {\n          return element;\n        } else {\n          return {\n            micrositeId: element\n          };\n        }\n      }) : null;\n      let arrayLength = (_x = (_w = (_v = params === null || params === void 0 ? void 0 : params.myCommunityIQ) === null || _v === void 0 ? void 0 : _v.passpoint) === null || _w === void 0 ? void 0 : _w.communities) === null || _x === void 0 ? void 0 : _x.length,\n        deletedCount = 0;\n      for (let i = 0; i < arrayLength; i++) {\n        let count = 0;\n        for (let j = 0; j < this.communityArr.length; j++) {\n          if (params.myCommunityIQ.passpoint.communities[i].micrositeId == this.communityArr[j].id) {\n            ++count;\n          }\n          if (this.communityArr.length - 1 == j && count == 0) {\n            params.myCommunityIQ.passpoint.communities.splice(i - deletedCount, 1);\n            deletedCount++;\n          }\n        }\n      }\n      (_z = (_y = params.myCommunityIQ) === null || _y === void 0 ? void 0 : _y.subscriber) === null || _z === void 0 ? true : delete _z.communitiesDuplicate;\n      (_1 = (_0 = params.myCommunityIQ) === null || _0 === void 0 ? void 0 : _0.passpoint) === null || _1 === void 0 ? true : delete _1.communitiesDuplicate;\n      !((_3 = (_2 = params.myCommunityIQ) === null || _2 === void 0 ? void 0 : _2.subscriber) === null || _3 === void 0 ? void 0 : _3.enable) ? delete params.myCommunityIQ.subscriber.communities : null;\n      for (let key in params.myCommunityIQ) {\n        if (typeof params.myCommunityIQ[key] == 'object') {\n          for (let childKey in params.myCommunityIQ[key]) {\n            if (Array.isArray(params.myCommunityIQ[key][childKey])) {\n              if (key == 'subscriber') {\n                !params.myCommunityIQ[key][childKey].length ? delete params.myCommunityIQ[key][childKey] : null;\n              }\n            } else if (typeof params.myCommunityIQ[key][childKey] == 'object') {\n              for (let grandChild in params.myCommunityIQ[key][childKey]) {\n                !params.myCommunityIQ[key][childKey][grandChild] ? delete params.myCommunityIQ[key][childKey][grandChild] : null;\n              }\n            }\n          }\n        }\n      }\n      if (((_5 = (_4 = params.myCommunityIQ) === null || _4 === void 0 ? void 0 : _4.network) === null || _5 === void 0 ? void 0 : _5.type) == 'Bridge') {\n        if ((_7 = (_6 = params === null || params === void 0 ? void 0 : params.myCommunityIQ) === null || _6 === void 0 ? void 0 : _6.network) === null || _7 === void 0 ? void 0 : _7.protocol) delete params.myCommunityIQ.network.protocol;\n        (_11 = (_10 = (_9 = (_8 = this.childSystemEdgesuits) === null || _8 === void 0 ? void 0 : _8.edgeSuitsForm) === null || _9 === void 0 ? void 0 : _9.get('myCommunityIQ')) === null || _10 === void 0 ? void 0 : _10.get('network')) === null || _11 === void 0 ? void 0 : _11.patchValue({\n          protocol: null\n        });\n      } else if (((_13 = (_12 = params.myCommunityIQ) === null || _12 === void 0 ? void 0 : _12.network) === null || _13 === void 0 ? void 0 : _13.type) !== 'Policy_Route') {\n        if ((_15 = (_14 = params === null || params === void 0 ? void 0 : params.myCommunityIQ) === null || _14 === void 0 ? void 0 : _14.network) === null || _15 === void 0 ? void 0 : _15.protocol) delete params.myCommunityIQ.network.protocol;\n        if ((_17 = (_16 = params === null || params === void 0 ? void 0 : params.myCommunityIQ) === null || _16 === void 0 ? void 0 : _16.network) === null || _17 === void 0 ? void 0 : _17.vlanId) delete params.myCommunityIQ.network.vlanId;\n        (_21 = (_20 = (_19 = (_18 = this.childSystemEdgesuits) === null || _18 === void 0 ? void 0 : _18.edgeSuitsForm) === null || _19 === void 0 ? void 0 : _19.get('myCommunityIQ')) === null || _20 === void 0 ? void 0 : _20.get('network')) === null || _21 === void 0 ? void 0 : _21.patchValue({\n          protocol: null,\n          vlanId: null\n        });\n      }\n      if (!((_23 = (_22 = this.syetemsAllData) === null || _22 === void 0 ? void 0 : _22.subscriber) === null || _23 === void 0 ? void 0 : _23.subscriberLocationId) && ((_24 = params === null || params === void 0 ? void 0 : params.myCommunityIQ) === null || _24 === void 0 ? void 0 : _24.subscriber)) {\n        delete params.myCommunityIQ.subscriber;\n        (_28 = (_27 = (_26 = (_25 = this.childSystemEdgesuits) === null || _25 === void 0 ? void 0 : _25.edgeSuitsForm) === null || _26 === void 0 ? void 0 : _26.get('myCommunityIQ')) === null || _27 === void 0 ? void 0 : _27.get('subscriber')) === null || _28 === void 0 ? void 0 : _28.patchValue({\n          enable: false,\n          communities: [],\n          communitiesDuplicate: []\n        });\n      }\n      if ((_29 = formData === null || formData === void 0 ? void 0 : formData.arloSmart) === null || _29 === void 0 ? void 0 : _29.enabled) {\n        params['arloSmart'] = _.pickBy(formData.arloSmart, v => v !== null && v !== \"\" && v !== false);\n        if (params['arloSmart'].enabled) delete params['arloSmart'].enabled;\n        if (!((_30 = params['arloSmart'].plan) === null || _30 === void 0 ? void 0 : _30.includes('PARTNER_REGULAR'))) delete params['arloSmart'][\"2kCameras\"];\n        // delete params['arloSmart']['2kCameras'];\n        // delete params['arloSmart']['4kCameras'];\n      }\n\n      if ((_31 = formData === null || formData === void 0 ? void 0 : formData.servifyCare) === null || _31 === void 0 ? void 0 : _31.enabled) {\n        params['servifyCare'] = _.pickBy(formData.servifyCare, v => v !== null && v !== \"\" && v !== false);\n        if (params['servifyCare'].enabled) delete params['servifyCare'].enabled;\n      }\n      if (((_32 = params.myCommunityIQ) === null || _32 === void 0 ? void 0 : _32.eduroam) && !((_34 = (_33 = params.myCommunityIQ) === null || _33 === void 0 ? void 0 : _33.eduroam) === null || _34 === void 0 ? void 0 : _34.enable)) {\n        (_36 = (_35 = params.myCommunityIQ) === null || _35 === void 0 ? void 0 : _35.eduroam) === null || _36 === void 0 ? true : delete _36.primaryServer;\n        (_38 = (_37 = params.myCommunityIQ) === null || _37 === void 0 ? void 0 : _37.eduroam) === null || _38 === void 0 ? true : delete _38.secret;\n        (_40 = (_39 = params.myCommunityIQ) === null || _39 === void 0 ? void 0 : _39.eduroam) === null || _40 === void 0 ? true : delete _40.secondaryServer;\n        (_44 = (_43 = (_42 = (_41 = this.childSystemEdgesuits) === null || _41 === void 0 ? void 0 : _41.edgeSuitsForm) === null || _42 === void 0 ? void 0 : _42.get('myCommunityIQ')) === null || _43 === void 0 ? void 0 : _43.get('eduroam')) === null || _44 === void 0 ? void 0 : _44.patchValue({\n          primaryServer: null,\n          secondaryServer: null,\n          secret: null\n        });\n      }\n      if (((_45 = params === null || params === void 0 ? void 0 : params.myCommunityIQ) === null || _45 === void 0 ? void 0 : _45.eduroam) && ((_47 = (_46 = params === null || params === void 0 ? void 0 : params.myCommunityIQ) === null || _46 === void 0 ? void 0 : _46.eduroam) === null || _47 === void 0 ? void 0 : _47.secondaryServer) == '') {\n        (_49 = (_48 = params.myCommunityIQ) === null || _48 === void 0 ? void 0 : _48.eduroam) === null || _49 === void 0 ? true : delete _49.secondaryServer;\n        (_53 = (_52 = (_51 = (_50 = this.childSystemEdgesuits) === null || _50 === void 0 ? void 0 : _50.edgeSuitsForm) === null || _51 === void 0 ? void 0 : _51.get('myCommunityIQ')) === null || _52 === void 0 ? void 0 : _52.get('eduroam')) === null || _53 === void 0 ? void 0 : _53.patchValue({\n          secondaryServer: null\n        });\n      }\n      params = _.pickBy(params, v => !(v == null || v == \"\" || typeof v == 'object' && !Object.keys(v).length));\n      let paramsEnabled = _.cloneDeep(params);\n      this.updationEdgeSuitesData = _.cloneDeep(params);\n      this.updationEdgeSuitesData['experienceIQInpEnabled'] = event.experienceIQ ? true : false;\n      this.updationEdgeSuitesData['protectIQInpEnabled'] = event.protectIQ ? true : false;\n      if (this.proAndExpEnableentitlement || this.ExperienceIQEnableentitlement) {\n        if (params.experienceIQ['enabled'] != undefined) delete params.experienceIQ['enabled'];\n      }\n      if (this.productIQEnableentitlement || this.proAndExpEnableentitlement) {\n        if (params.protectIQ['enabled'] != undefined) delete params.protectIQ['enabled'];\n      }\n      this.closeAlert();\n      this.edgeSuiteLoading = true;\n      if (((_55 = (_54 = params.myCommunityIQ) === null || _54 === void 0 ? void 0 : _54.network) === null || _55 === void 0 ? void 0 : _55.type) == null) (_57 = (_56 = params.myCommunityIQ) === null || _56 === void 0 ? void 0 : _56.network) === null || _57 === void 0 ? true : delete _57.type;\n      if (((_59 = (_58 = params.myCommunityIQ) === null || _58 === void 0 ? void 0 : _58.network) === null || _59 === void 0 ? void 0 : _59.vlanId) == '') (_61 = (_60 = params.myCommunityIQ) === null || _60 === void 0 ? void 0 : _60.network) === null || _61 === void 0 ? true : delete _61.vlanId;\n      if (((_63 = (_62 = params.myCommunityIQ) === null || _62 === void 0 ? void 0 : _62.network) === null || _63 === void 0 ? void 0 : _63.protocol) == '') (_65 = (_64 = params.myCommunityIQ) === null || _64 === void 0 ? void 0 : _64.network) === null || _65 === void 0 ? true : delete _65.protocol;\n      if (!((_66 = params.myCommunityIQ) === null || _66 === void 0 ? void 0 : _66.passpoint)) {\n        (_67 = params.myCommunityIQ) === null || _67 === void 0 ? true : delete _67.passpoint;\n        (_71 = (_70 = (_69 = (_68 = this.childSystemEdgesuits) === null || _68 === void 0 ? void 0 : _68.edgeSuitsForm) === null || _69 === void 0 ? void 0 : _69.get('myCommunityIQ')) === null || _70 === void 0 ? void 0 : _70.get('passpoint')) === null || _71 === void 0 ? void 0 : _71.patchValue({\n          enable: false,\n          communities: [],\n          communitiesDuplicate: []\n        });\n      } else if (!((_73 = (_72 = params.myCommunityIQ) === null || _72 === void 0 ? void 0 : _72.passpoint) === null || _73 === void 0 ? void 0 : _73.enable)) {\n        (_75 = (_74 = params.myCommunityIQ) === null || _74 === void 0 ? void 0 : _74.passpoint) === null || _75 === void 0 ? true : delete _75.communities;\n        (_79 = (_78 = (_77 = (_76 = this.childSystemEdgesuits) === null || _76 === void 0 ? void 0 : _76.edgeSuitsForm) === null || _77 === void 0 ? void 0 : _77.get('myCommunityIQ')) === null || _78 === void 0 ? void 0 : _78.get('passpoint')) === null || _79 === void 0 ? void 0 : _79.patchValue({\n          communities: []\n        });\n      }\n      if (!((_81 = (_80 = params.myCommunityIQ) === null || _80 === void 0 ? void 0 : _80.passpoint) === null || _81 === void 0 ? void 0 : _81.enable) && !((_83 = (_82 = params.myCommunityIQ) === null || _82 === void 0 ? void 0 : _82.eduroam) === null || _83 === void 0 ? void 0 : _83.enable)) {\n        (_84 = params.myCommunityIQ) === null || _84 === void 0 ? true : delete _84.network;\n        (_85 = params.myCommunityIQ) === null || _85 === void 0 ? true : delete _85.prioritizeTraffic;\n        (_88 = (_87 = (_86 = this.childSystemEdgesuits) === null || _86 === void 0 ? void 0 : _86.edgeSuitsForm) === null || _87 === void 0 ? void 0 : _87.get('myCommunityIQ')) === null || _88 === void 0 ? void 0 : _88.patchValue({\n          network: {\n            type: 'Bridge',\n            vlanId: '',\n            protocol: ''\n          },\n          prioritizeTraffic: false\n        });\n      }\n      this.edgeSuitsUpdateSubs = this.service.updateEdgeSuitsData(this.ORG_ID, this.systemInfo, params).subscribe(res => {\n        var _a;\n        if ((_a = this.childSystemEdgesuits) === null || _a === void 0 ? void 0 : _a.submitted) this.childSystemEdgesuits.submitted = false;\n        if (noDelay) {\n          setTimeout(() => {\n            this.getSyetemsAllData(true);\n          }, 1500);\n        } else {\n          let delay = 1000;\n          if (res && res.estimatedDelay) {\n            delay += res.estimatedDelay * 1000;\n          }\n          // setTimeout(() => {\n          //   this.getSyetemsAllData();\n          // }, delay);\n          if (this.iqsuitEnable && event && (event.protectIQ || event.experienceIQ)) {\n            setTimeout(() => {\n              this.updateApplicationService(event, paramsEnabled, delay);\n            }, 500);\n          } else {\n            delay = delay + 2000;\n            ;\n            setTimeout(() => {\n              this.getSyetemsAllData();\n            }, delay);\n          }\n        }\n      }, err => {\n        this.edgeSuiteLoading = false;\n        this.pageErrorHandle(err);\n      });\n    }\n    getEdgeSuitesAgain() {\n      this.countDown = 60;\n      this.intervalEdgeSuites = setInterval(() => {\n        if (this.countDown % 5 == 0) {\n          this.getSyetemsAllData();\n        }\n        if (this.countDown == 0) {\n          clearInterval(this.intervalEdgeSuites);\n        }\n        this.countDown--;\n      }, 1000);\n    }\n    submitStaticGroups() {\n      let formData = this.StaticForm;\n      let params = [];\n      if (formData.staticGroupList && formData.staticGroupList.length) {\n        params = formData.staticGroupList.slice(0);\n      }\n      this.staticGroupUpdateSubs = this.service.updateStaticGroupsData(this.ORG_ID, this.systemInfo, params).subscribe(res => {\n        let msg = this.language['System Static groups data updated successfully'];\n        this.showSuccessMessage(msg);\n      }, err => {\n        this.pageErrorHandle(err);\n      });\n    }\n    buildBWProfile(profileList) {\n      const bwProfile = profileList === null || profileList === void 0 ? void 0 : profileList.filter(profile => {\n        return profile.innerProfileCategory === 'Bandwidth';\n      });\n      // if (bwProfile && bwProfile[0] && bwProfile[0]._id) {\n      //   bwProfile.unshift({\n      //     _id: '',\n      //     name: ''\n      //   });\n      // }\n      //this.addDeviceObj.configurationObj['serviceBWList'] = bwProfile;\n      this.formOptions.Brandwidthitems = [...bwProfile];\n    }\n    pageErrorHandle(err, value) {\n      var _a, _b, _c;\n      if (((_a = err === null || err === void 0 ? void 0 : err.error) === null || _a === void 0 ? void 0 : _a.errorMessage) === 'System Already Exists') {\n        this.errorInfo = 'System already exists';\n      } else if ((_b = err === null || err === void 0 ? void 0 : err.error) === null || _b === void 0 ? void 0 : _b.errorMessage) {\n        if (((_c = err === null || err === void 0 ? void 0 : err.error) === null || _c === void 0 ? void 0 : _c.errorMessage.indexOf(\"Found An Existing Subscriber\")) !== -1) {\n          this.errorInfo = `Found an existing subscriber with same Subscriber Location ID ${value}`;\n        } else {\n          if (err.status == 401) {\n            this.errorInfo = this.language['Access Denied'];\n          } else {\n            this.errorInfo = this.commonOrgService.pageErrorHandle(err);\n          }\n        }\n      } else {\n        if (err.status == 401) {\n          this.errorInfo = this.language['Access Denied'];\n        } else {\n          this.errorInfo = this.commonOrgService.pageErrorHandle(err);\n        }\n      }\n      this.closeAlert();\n      this.error = true;\n      this.loading = false;\n    }\n    closeAlert() {\n      this.error = false;\n      this.success = false;\n      this.edgeSuitsWarning = false;\n    }\n    showSuccessMessage(msg) {\n      this.closeAlert();\n      this.successInfo = msg;\n      this.success = true;\n      setTimeout(() => {\n        this.success = false;\n      }, 2500);\n    }\n    showWarningMessage(msg) {\n      this.closeAlert();\n      this.edgeSuitsWarningInfo = msg;\n      this.edgeSuitsWarning = true;\n      setTimeout(() => {\n        this.edgeSuitsWarning = false;\n      }, 5000);\n    }\n    getStaticList(list) {\n      if (list && list.length > 0) {\n        list = list.filter(device => {\n          return device.type === 'static';\n        });\n      }\n      return list;\n    }\n    getProvisionRecord() {\n      if (this.systemInfo && this.systemInfo.sn) {\n        this.service.getProvisionrecord(this.ORG_ID, this.systemInfo.sn).subscribe(res => {\n          var _a, _b, _c, _d, _e;\n          this.provisionData = res ? res : {};\n          this.deviceOpMode = res && res.opMode ? res.opMode : '';\n          if (!this.deviceInfo) {\n            if (this.deviceOpMode === 'RG' && ((_a = this.provisionData) === null || _a === void 0 ? void 0 : _a.modelName)) {\n              if (((_b = this.provisionData) === null || _b === void 0 ? void 0 : _b.modelName).indexOf(\"GS\") !== -1 || ((_c = this.provisionData) === null || _c === void 0 ? void 0 : _c.modelName).indexOf(\"GM\") !== -1 || ((_d = this.provisionData) === null || _d === void 0 ? void 0 : _d.modelName).indexOf(\"GPR\") !== -1) {\n                this.iqsuitEnable = true;\n              } else {\n                this.iqsuitEnable = false;\n              }\n            } else if (this.deviceOpMode === 'RG' && !((_e = this.provisionData) === null || _e === void 0 ? void 0 : _e.modelName) && this.model) {\n              if (this.model.indexOf(\"GS\") !== -1 || this.model.indexOf(\"GM\") !== -1 || this.model.indexOf(\"GPR\") !== -1) {\n                this.iqsuitEnable = true;\n              } else {\n                this.iqsuitEnable = false;\n              }\n            }\n            this.LegazyViewIsConfigured = true;\n          }\n          if (Object.keys(this.provisionData).length == 0) {\n            this.iqsuitEnable = true;\n            this.LegazyViewIsConfigured = false;\n          }\n          this.loading = false;\n        }, err => {\n          this.pageErrorHandle(err);\n          this.loading = false;\n        });\n      } else {\n        this.LegazyViewIsConfigured = false;\n      }\n    }\n    getDeviceRecord() {\n      if (this.systemInfo && this.systemInfo.sn) {\n        this.service.getDeviceInfo(this.ORG_ID, this.systemInfo.sn).subscribe(res => {\n          var _a, _b, _c, _d;\n          this.device = res ? res : [];\n          if (Object.keys(this.device).length) {\n            this.deviceOpMode = res && res.opMode ? res.opMode : '';\n            if (this.deviceOpMode === 'RG' && ((_a = this.device) === null || _a === void 0 ? void 0 : _a.modelName)) {\n              if (((_b = this.device) === null || _b === void 0 ? void 0 : _b.modelName).indexOf(\"GS\") !== -1 || ((_c = this.device) === null || _c === void 0 ? void 0 : _c.modelName).indexOf(\"GM\") !== -1 || ((_d = this.device) === null || _d === void 0 ? void 0 : _d.modelName).indexOf(\"GPR\") !== -1) {\n                this.iqsuitEnable = true;\n              } else {\n                this.iqsuitEnable = false;\n              }\n            }\n          } else {\n            this.getProvisionRecord();\n          }\n          //this.getModelFeature();\n        }, err => {\n          this.pageErrorHandle(err);\n          this.loading = false;\n        });\n      }\n    }\n    getServicesList() {\n      if (this.systemInfo.subscriberId) {\n        this.servicesListSubs = this.service.getServicesOfSubscriber(this.ORG_ID, this.systemInfo.subscriberId).subscribe(res => {\n          this.servicesListData = res ? res : {};\n        }, err => {\n          //this.pageErrorHandle(err);\n          this.loading = false;\n        });\n      }\n    }\n    removeArloAccount() {\n      this.FormData.SysEdgeSuites['arloSmart'].enabled = false;\n      let updateEnabled = {\n        protectIQ: false,\n        experienceIQ: false\n      };\n      this.submitEdgeSuitsData(updateEnabled, true);\n    }\n    getEdgeSuiteEntitlement() {\n      var _a, _b;\n      //debugger;\n      let entitlement = this.sso.getEntitlements();\n      entitlement['arlo'] = entitlement[206] ? entitlement[206] : [];\n      entitlement['ProtectIQ'] = entitlement[203] ? entitlement[203] : [];\n      entitlement['ExperienceIQ'] = entitlement[204] ? entitlement[204] : [];\n      entitlement['ExperienceIQ And ProtectIQ'] = entitlement[205] ? entitlement[205] : [];\n      entitlement['Servify'] = entitlement[207] ? entitlement[207] : [];\n      entitlement['Platinum'] = entitlement[215] ? entitlement[215] : [];\n      entitlement['Silver'] = entitlement[216] ? entitlement[216] : [];\n      entitlement['Gold'] = entitlement[217] ? entitlement[217] : [];\n      entitlement['MyCommunityIQ'] = entitlement[214] ? entitlement[214] : [];\n      entitlement['Bark_Premium'] = entitlement[219] ? entitlement[219] : [];\n      entitlement['Bark_Junior'] = entitlement[220] ? entitlement[220] : [];\n      entitlement['smallBizIQ'] = entitlement[218] ? entitlement[218] : [];\n      if (entitlement && ((_a = entitlement === null || entitlement === void 0 ? void 0 : entitlement.smallBizIQ) === null || _a === void 0 ? void 0 : _a.apptype) === 218) {\n        this.smallBizIQentitlement = true;\n      } else {\n        this.smallBizIQentitlement = false;\n      }\n      if (entitlement && entitlement['Bark_Premium'] && entitlement['Bark_Premium'].name === \"Bark Premium\") {\n        this.Bark_Premiumentitlement = true;\n      } else {\n        this.Bark_Premiumentitlement = false;\n      }\n      if (entitlement && entitlement['Bark_Junior'] && entitlement['Bark_Junior'].name === \"Bark Junior\") {\n        this.Bark_Juniorentitlement = true;\n      } else {\n        this.Bark_Juniorentitlement = false;\n      }\n      if (entitlement && entitlement['arlo'] && entitlement['arlo'].name === \"ARLO\") {\n        this.arloEnableentitlement = true;\n      } else {\n        this.arloEnableentitlement = false;\n      }\n      entitlement['arloUnlimited'] = entitlement[212] ? entitlement[212] : [];\n      entitlement['arloUnlimitedPlus'] = entitlement[213] ? entitlement[213] : [];\n      if (entitlement && entitlement['arloUnlimited'] && entitlement['arloUnlimited'].name === \"ARLO Unlimited\") {\n        this.arloUnlimitedentitlement = true;\n      } else {\n        this.arloUnlimitedentitlement = false;\n      }\n      if (entitlement && entitlement['arloUnlimitedPlus'] && entitlement['arloUnlimitedPlus'].name === \"ARLO Unlimited Plus\") {\n        this.arloUnlimitedplusentitlement = true;\n      } else {\n        this.arloUnlimitedplusentitlement = false;\n      }\n      if (entitlement && entitlement['Servify'] && entitlement['Servify'].name === \"Servify Bronze\") {\n        this.ServifyEnableentitlement = true;\n      } else {\n        this.ServifyEnableentitlement = false;\n      }\n      if (entitlement && entitlement['Platinum'] && entitlement['Platinum'].name === \"Servify Platinum\") {\n        this.ServifyPlatinumentitlement = true;\n      } else {\n        this.ServifyPlatinumentitlement = false;\n      }\n      if (entitlement && entitlement['Silver'] && entitlement['Silver'].name === \"Servify Silver\") {\n        this.ServifySilverentitlement = true;\n      } else {\n        this.ServifySilverentitlement = false;\n      }\n      if (entitlement && entitlement['Gold'] && entitlement['Gold'].name === \"Servify Gold\") {\n        this.ServifyGoldentitlement = true;\n      } else {\n        this.ServifyGoldentitlement = false;\n      }\n      if (entitlement && entitlement['ProtectIQ'] && entitlement['ProtectIQ'].name === \"ProtectIQ\") {\n        this.productIQEnableentitlement = true;\n      } else {\n        this.productIQEnableentitlement = false;\n      }\n      if (entitlement && entitlement['ExperienceIQ'] && entitlement['ExperienceIQ'].name === \"ExperienceIQ\") {\n        this.ExperienceIQEnableentitlement = true;\n      } else {\n        this.ExperienceIQEnableentitlement = false;\n      }\n      if (entitlement && entitlement['ExperienceIQ And ProtectIQ'] && entitlement['ExperienceIQ And ProtectIQ'].name === \"ExperienceIQ And ProtectIQ\") {\n        this.proAndExpEnableentitlement = true;\n      } else {\n        this.proAndExpEnableentitlement = false;\n      }\n      if (entitlement && ((_b = entitlement === null || entitlement === void 0 ? void 0 : entitlement.MyCommunityIQ) === null || _b === void 0 ? void 0 : _b.apptype) === 214) {\n        this.myCommunityIQEntitlement = true;\n      } else {\n        this.myCommunityIQEntitlement = false;\n      }\n    }\n    updateApplicationService(update, params, delay) {\n      var _a, _b;\n      delay = delay ? delay : 0;\n      const requests = [];\n      if (update.protectIQ) {\n        let deviceSubDetails = {\n          app: 'protectIQ',\n          enable: (_a = params.protectIQ) === null || _a === void 0 ? void 0 : _a.enabled\n        };\n        requests.push(this.service.updateEnableApp(this.ORG_ID, this.systemInfo, deviceSubDetails));\n      }\n      if (update.experienceIQ) {\n        let deviceSubDetails = {\n          app: 'experienceIQ',\n          enable: (_b = params.experienceIQ) === null || _b === void 0 ? void 0 : _b.enabled\n        };\n        requests.push(this.service.updateEnableApp(this.ORG_ID, this.systemInfo, deviceSubDetails));\n      }\n      forkJoin(requests).subscribe(resultArray => {\n        //debugger\n        let dely = delay + 3000;\n        resultArray.forEach(e => {\n          if (e && e.estimatedDelay) {\n            dely += e.estimatedDelay * 1000;\n          }\n        });\n        setTimeout(() => {\n          this.getSyetemsAllData();\n        }, dely);\n      }, err => {\n        this.pageErrorHandle(err);\n        let dely = delay + 3000;\n        setTimeout(() => {\n          this.getSyetemsAllData();\n        }, dely);\n      });\n    }\n    checkUpdatedEdgeSuites(res) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\n      let formData = this.updationEdgeSuitesData;\n      let resData = res === null || res === void 0 ? void 0 : res.edgeSuites;\n      let updated = true;\n      if (resData && Object.keys(resData).length) {\n        if ((_a = formData === null || formData === void 0 ? void 0 : formData.experienceIQ) === null || _a === void 0 ? void 0 : _a.subscribed) {\n          //If ExpIQ Subscribed\n          if ((formData === null || formData === void 0 ? void 0 : formData.experienceIQInpEnabled) && ((_b = formData === null || formData === void 0 ? void 0 : formData.experienceIQ) === null || _b === void 0 ? void 0 : _b.enabled) !== ((_c = resData === null || resData === void 0 ? void 0 : resData.experienceIQ) === null || _c === void 0 ? void 0 : _c.enabled)) {\n            return false;\n          } else if (!(formData === null || formData === void 0 ? void 0 : formData.experienceIQInpEnabled) && ((_d = formData === null || formData === void 0 ? void 0 : formData.experienceIQ) === null || _d === void 0 ? void 0 : _d.subscribed) !== ((_e = resData === null || resData === void 0 ? void 0 : resData.experienceIQ) === null || _e === void 0 ? void 0 : _e.subscribed)) {\n            return false;\n          }\n        } else if (((_f = formData === null || formData === void 0 ? void 0 : formData.experienceIQ) === null || _f === void 0 ? void 0 : _f.subscribed) !== ((_g = resData === null || resData === void 0 ? void 0 : resData.experienceIQ) === null || _g === void 0 ? void 0 : _g.subscribed)) {\n          return false;\n        }\n        if ((_h = formData === null || formData === void 0 ? void 0 : formData.protectIQ) === null || _h === void 0 ? void 0 : _h.subscribed) {\n          //If ExpIQ Subscribed\n          if ((formData === null || formData === void 0 ? void 0 : formData.protectIQInpEnabled) && ((_j = formData === null || formData === void 0 ? void 0 : formData.protectIQ) === null || _j === void 0 ? void 0 : _j.enabled) !== ((_k = resData === null || resData === void 0 ? void 0 : resData.protectIQ) === null || _k === void 0 ? void 0 : _k.enabled)) {\n            return false;\n          } else if (!(formData === null || formData === void 0 ? void 0 : formData.protectIQInpEnabled) && ((_l = formData === null || formData === void 0 ? void 0 : formData.protectIQ) === null || _l === void 0 ? void 0 : _l.subscribed) !== ((_m = resData === null || resData === void 0 ? void 0 : resData.protectIQ) === null || _m === void 0 ? void 0 : _m.subscribed)) {\n            return false;\n          }\n        } else if (((_o = formData === null || formData === void 0 ? void 0 : formData.protectIQ) === null || _o === void 0 ? void 0 : _o.subscribed) !== ((_p = resData === null || resData === void 0 ? void 0 : resData.protectIQ) === null || _p === void 0 ? void 0 : _p.subscribed)) {\n          return false;\n        }\n        return true;\n      }\n      return true;\n    }\n    showEdgeSuitesNotUpdateError() {\n      this.errorInfo = 'Edge suites updation not yet reflected, please refresh';\n      this.error = true;\n      setTimeout(() => {\n        this.closeAlert();\n      }, 2500);\n    }\n    saveEnableDisable(isDisabled) {\n      if (this.activeTab === 'systemDetails' || this.activeTab === 'SystemEdgesuits') {\n        this.saveDisabled = isDisabled;\n      } else {\n        this.saveDisabled = false;\n      }\n    }\n    serviceDetails(data) {\n      //this.servicedisable = data;\n    }\n    getScopes() {\n      let scopes = this.sso.getScopes();\n      let hasWrite = false;\n      scopes['cloud.rbac.foundation.systems'] = scopes['cloud.rbac.foundation.systems'] ? scopes['cloud.rbac.foundation.systems'] : [];\n      if (scopes && scopes['cloud.rbac.foundation.systems'] && scopes['cloud.rbac.foundation.systems'].indexOf('write') !== -1) {\n        hasWrite = true;\n      }\n      return hasWrite;\n    }\n    getSubscriberServices() {\n      var _a, _b;\n      this.servicedisable = false;\n      if (!((_a = this.systemInfo) === null || _a === void 0 ? void 0 : _a.subscriberId)) {\n        this.netWorkServiceIsNotConfigured = true;\n        return;\n      }\n      ;\n      this.subServicesSubscription = this.service.getSubscriberServices((_b = this.systemInfo) === null || _b === void 0 ? void 0 : _b.subscriberId).subscribe(res => {\n        if (res) {\n          res.forEach(el => {\n            if (el.activate) {\n              this.servicedisable = true;\n            }\n          });\n        }\n        // this.netWorkServiceIsNotConfigured = (!res || !res?.length) ? true : false;\n      }, err => {});\n    }\n    getServiceallDatas() {\n      let request = [];\n      request.push(`${environment.COC_SERVICES_ACTIVATION_URL}/serviceDefinitions?serviceType=DATA`);\n      request.push(`${environment.COC_SERVICES_ACTIVATION_URL}/serviceDefinitions?serviceType=VOICE`);\n      request.push(`${environment.COC_SERVICES_ACTIVATION_URL}/serviceDefinitions?serviceType=VIDEO`);\n      if (this.arloEnableentitlement || this.arloUnlimitedentitlement || this.arloUnlimitedplusentitlement) {\n        request.push(`${environment.API_BASE_URL}foundation/feature/arlo/serviceroles`);\n      }\n      if (this.ServifyEnableentitlement || this.ServifyGoldentitlement || this.ServifySilverentitlement || this.ServifyPlatinumentitlement) {\n        request.push(`${environment.API_BASE_URL}foundation/feature/servify/plans`, `${environment.API_BASE_URL}foundation/feature/servify/cancelreasons`);\n      }\n      const requests = [];\n      request.forEach(endpoint => {\n        const req = this.systemService.callRestApi(endpoint).pipe(map(res => {\n          return res;\n        }), catchError(error => {\n          return of(error);\n        }));\n        requests.push(req);\n      });\n      this.combineLat = combineLatest(requests);\n      this.makeParallelReq();\n    }\n    makeParallelReq() {\n      let data = [];\n      let video = [];\n      let voice = [];\n      this.parallelReqSub = this.combineLat.subscribe(response => {\n        var _a, _b, _c;\n        if (response[0] && response[0].error) {\n          this.pageErrorHandle(response[0]);\n          this.Dataplan = [];\n        } else {\n          this.Dataplan = response[0] ? response[0] : [];\n          if (response[0] !== \"Service definition not found\") {\n            for (var i = 0; i < ((_a = this.Dataplan) === null || _a === void 0 ? void 0 : _a.length); i++) {\n              const dataplan = this.Dataplan[i];\n              if (dataplan !== \"\") {\n                data.push(dataplan);\n              }\n            }\n          } else {\n            data = [];\n          }\n          this.DataPlanitem = data;\n        }\n        if (response[1] && response[1].error) {\n          this.pageErrorHandle(response[1]);\n          this.VoicePlan = [];\n        } else {\n          this.VoicePlan = response[1] ? response[1] : [];\n          if (response[1] !== \"Service definition not found\") {\n            for (var i = 0; i < ((_b = this.VoicePlan) === null || _b === void 0 ? void 0 : _b.length); i++) {\n              const voiceplan = this.VoicePlan[i];\n              if (voiceplan !== \"\") {\n                voice.push(voiceplan);\n              }\n            }\n          } else {\n            voice = [];\n          }\n          this.VoicePlanitem = voice;\n        }\n        if (response[2] && response[2].error) {\n          this.pageErrorHandle(response[2]);\n          this.VideoPlan = [];\n        } else {\n          this.VideoPlan = response[2] ? response[2] : [];\n          if (response[2] !== \"Service definition not found\") {\n            for (var i = 0; i < ((_c = this.VideoPlan) === null || _c === void 0 ? void 0 : _c.length); i++) {\n              const videoPlan = this.VideoPlan[i];\n              if (videoPlan !== \"\") {\n                video.push(videoPlan);\n              }\n            }\n          } else {\n            video = [];\n          }\n          this.VideoPlanitem = video;\n        }\n        if (response[3] && response[3].error) {\n          this.pageErrorHandle(response[3]);\n          this.formOptions.ArloServicePlan = [];\n        } else {\n          this.formOptions.ArloServicePlan = response[3] ? response[3] : [];\n        }\n        if (response[4] && response[4].error) {\n          this.pageErrorHandle(response[4]);\n          this.formOptions.servifyPlan = [];\n        } else {\n          this.formOptions.servifyPlan = response[4] ? response[4] : [];\n        }\n        if (response[5] && response[5].error) {\n          this.pageErrorHandle(response[5]);\n          this.formOptions.servifyCancelcode = [];\n        } else {\n          this.formOptions.servifyCancelcode = response[5] ? response[5] : [];\n        }\n        this.loading = false;\n      }, err => {\n        //console.log(err)\n        this.pageErrorHandle(err);\n        this.loading = false;\n        this.commonOrgService.pageScrollTop();\n      }, () => {});\n    }\n    getAllSubsServicesData(onSave, value) {\n      var _a, _b;\n      //debugger\n      if (!this.subscriberInfo || !((_a = this.subscriberInfo) === null || _a === void 0 ? void 0 : _a.subscriberId)) {\n        this.subscriberInfo = {};\n        this.subscriberInfo['subscriberId'] = this.createdSubscriberId ? this.createdSubscriberId : ((_b = this.createdSubcriberData) === null || _b === void 0 ? void 0 : _b._id) ? this.createdSubcriberData._id : this.systemInfo.subscriberId ? this.systemInfo.subscriberId : '';\n      }\n      this.dataservice = {};\n      this.dataservice1 = {};\n      this.videoservice = {};\n      this.VoiceService = {};\n      //text\n      this.allSubsServicesDataSubs = this.systemService.getDetailedSubscriberServices(this.subscriberInfo.subscriberId).subscribe(res => {\n        if (res && res.services && res.services.length) {\n          this.allSubsServicesData = res ? res : {};\n          this.devicesList = res === null || res === void 0 ? void 0 : res.devices;\n          var services = this.allSubsServicesData.services;\n          for (var i = 0; i < (services === null || services === void 0 ? void 0 : services.length); i++) {\n            if (!services[i].activate) {\n              this.NotCocService = true;\n            }\n            if (services[i].type === 'data' || services[i].type === 'DATA') {\n              this.dataservice = services[i] ? services[i] : {};\n            } else if (services[i].type === 'data1' || services[i].type === 'DATA1') {\n              this.dataservice1 = services[i] ? services[i] : {};\n              ;\n            } else if (services[i].type === 'video' || services[i].type === 'VIDEO') {\n              this.videoservice = services[i] ? services[i] : {};\n              ;\n            } else if (services[i].type === 'voice' || services[i].type === 'VOICE') {\n              this.VoiceService = services[i] ? services[i] : {};\n              this.VoiceService.voiceInterfaces = this.VoiceService.voiceInterfaces.filter(e => {\n                if (e.name.includes('p')) {\n                  this.removedOntPortValues.push(e);\n                  return false;\n                }\n                return true;\n              });\n            }\n          }\n          this.subsSysServiceForm.services = {\n            data: _.cloneDeep(this.dataservice),\n            data1: _.cloneDeep(this.dataservice1),\n            video: _.cloneDeep(this.videoservice),\n            voice: _.cloneDeep(this.VoiceService)\n          };\n          this.defaultServices = {\n            data: _.cloneDeep(this.dataservice),\n            data1: _.cloneDeep(this.dataservice1),\n            video: _.cloneDeep(this.videoservice),\n            voice: _.cloneDeep(this.VoiceService)\n          };\n        } else {\n          this.subsSysServiceForm.services = {\n            data: {},\n            data1: {},\n            video: {},\n            voice: {}\n          };\n          // this.disableSystem = false\n          this.defaultServices = {\n            data: {},\n            data1: {},\n            video: {},\n            voice: {}\n          };\n        }\n        //to fix: CCL-33855\n        if (!onSave) {\n          this.getServicesStatus();\n          this.loading = false;\n        } else {\n          this.error = false;\n          this.success = true;\n          this.successInfo = 'Network Services updated successfully';\n          this.loading = false;\n          setTimeout(() => {\n            this.success = false;\n          }, 1000);\n        }\n        //this.subsSysServiceForm.systems = res?.devices ? res?.devices : [];\n      }, err => {\n        this.pageErrorHandle(err);\n        this.loading = false;\n      });\n    }\n    getDialPlan() {\n      this.dialplansub = this.systemService.getDialPlan(this.ORG_ID).subscribe(res => {\n        this.DialPlanitems = res ? res : [];\n        this.formOptions.DialPlanitems = res ? res : [];\n      }, err => {\n        this.pageErrorHandle(err);\n        this.loading = false;\n      });\n    }\n    formDataUpdate(data, key) {\n      this.subsSysServiceForm[key] = data;\n    }\n    saveServiceData() {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30, _31, _32, _33, _34, _35, _36, _37, _38, _39, _40, _41, _42, _43, _44, _45, _46, _47, _48, _49, _50, _51, _52, _53, _54, _55, _56, _57, _58, _59, _60, _61, _62, _63, _64, _65, _66, _67, _68, _69, _70, _71, _72, _73, _74, _75, _76, _77, _78, _79, _80, _81, _82, _83, _84, _85, _86, _87, _88, _89, _90, _91, _92, _93, _94, _95, _96, _97, _98, _99, _100, _101, _102, _103, _104, _105, _106, _107, _108, _109, _110, _111, _112, _113, _114, _115, _116, _117, _118, _119, _120, _121, _122, _123, _124, _125, _126, _127, _128, _129, _130, _131, _132, _133, _134, _135, _136, _137, _138, _139, _140, _141, _142, _143, _144, _145, _146, _147, _148, _149, _150, _151, _152, _153, _154, _155, _156, _157, _158, _159, _160, _161, _162, _163, _164, _165, _166, _167, _168, _169, _170, _171, _172, _173, _174, _175, _176, _177, _178, _179, _180, _181, _182, _183, _184, _185, _186, _187, _188, _189, _190, _191, _192, _193, _194, _195, _196, _197, _198, _199, _200, _201, _202, _203, _204, _205, _206, _207, _208, _209, _210, _211, _212, _213, _214, _215, _216, _217, _218, _219, _220, _221, _222, _223, _224, _225, _226, _227, _228, _229, _230, _231, _232, _233, _234, _235, _236, _237, _238, _239, _240, _241, _242, _243, _244, _245, _246, _247, _248, _249, _250, _251, _252, _253, _254, _255, _256, _257, _258, _259, _260, _261, _262, _263, _264, _265, _266, _267, _268, _269, _270, _271, _272, _273, _274, _275, _276, _277, _278, _279, _280, _281, _282, _283, _284, _285, _286, _287, _288, _289, _290, _291, _292, _293, _294, _295, _296, _297, _298, _299, _300, _301, _302, _303, _304, _305, _306, _307, _308, _309, _310, _311, _312, _313, _314, _315, _316, _317, _318, _319, _320, _321, _322, _323, _324, _325, _326, _327, _328, _329, _330, _331, _332, _333, _334, _335, _336, _337, _338, _339, _340, _341, _342, _343, _344, _345, _346, _347, _348, _349, _350, _351, _352, _353, _354, _355, _356, _357, _358, _359, _360, _361, _362, _363, _364, _365, _366, _367, _368, _369, _370, _371, _372, _373, _374, _375, _376, _377, _378, _379, _380, _381, _382, _383, _384, _385, _386, _387, _388, _389, _390, _391, _392, _393, _394, _395, _396, _397, _398, _399, _400, _401, _402, _403, _404, _405, _406, _407, _408, _409, _410, _411, _412, _413, _414, _415, _416, _417, _418, _419, _420, _421, _422, _423, _424, _425, _426, _427, _428, _429, _430, _431, _432, _433, _434, _435, _436, _437, _438, _439, _440, _441, _442, _443, _444, _445, _446, _447, _448;\n      this.loading = true;\n      const paramsData = [];\n      const subId = this.createdSubscriberId ? this.createdSubscriberId : ((_a = this.createdSubcriberData) === null || _a === void 0 ? void 0 : _a._id) ? this.createdSubcriberData._id : this.systemInfo.subscriberId ? this.systemInfo.subscriberId : '';\n      //DATA PROCESS\n      this.serviceParams = JSON.parse(JSON.stringify(this.subsSysServiceForm.services));\n      // console.log(\"service params\", this.serviceParams);\n      (_c = (_b = this.serviceParams) === null || _b === void 0 ? void 0 : _b.data) === null || _c === void 0 ? true : delete _c.isStaticHost;\n      //if(this.serviceParams?.data?.interface !== 'G1') delete this.serviceParams?.data?.staticIpAddressFamily;\n      this.serviceParams.data = _.pickBy(this.serviceParams.data, v => {\n        return v !== null && v !== \"\" || v !== null && typeof v == 'object' && Object.keys(v).length;\n      });\n      if (!((_e = (_d = this.serviceParams) === null || _d === void 0 ? void 0 : _d.data) === null || _e === void 0 ? void 0 : _e.usoc)) {\n        this.serviceParams.data = {};\n      } else {\n        this.serviceParams.data.type = \"data\";\n        this.serviceParams.data.activate = true;\n      }\n      const params = this.serviceParams.data;\n      paramsData.push(params);\n      this.serviceParams.video = _.pickBy(this.serviceParams.video, v => {\n        return v !== null && v !== \"\" || v !== null && typeof v == 'object' && Object.keys(v).length;\n      });\n      if (!((_g = (_f = this.serviceParams) === null || _f === void 0 ? void 0 : _f.video) === null || _g === void 0 ? void 0 : _g.usoc)) {\n        this.serviceParams.video = {};\n      } else {\n        this.serviceParams.video.type = \"video\";\n        this.serviceParams.video.activate = true;\n        (_j = (_h = this.serviceParams) === null || _h === void 0 ? void 0 : _h.video) === null || _j === void 0 ? true : delete _j.isStaticHost;\n      }\n      let voiceInterfaces = [];\n      const requestvideo = this.serviceParams.video;\n      paramsData.push(requestvideo);\n      const ServiceType = ((_k = this.serviceParams.voice) === null || _k === void 0 ? void 0 : _k.voiceServiceType) ? (_l = this.serviceParams.voice) === null || _l === void 0 ? void 0 : _l.voiceServiceType : '';\n      //p1\n      if (ServiceType === 'SIP' && ((_m = this.serviceParams.voice) === null || _m === void 0 ? void 0 : _m.voiceInterfaces) && Object.keys((_o = this.serviceParams.voice) === null || _o === void 0 ? void 0 : _o.voiceInterfaces).length && ((_r = (_q = (_p = this.serviceParams) === null || _p === void 0 ? void 0 : _p.voice) === null || _q === void 0 ? void 0 : _q.voiceInterfaces['P1']) === null || _r === void 0 ? void 0 : _r.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P1'] = {\n          enable: (_u = (_t = (_s = this.serviceParams) === null || _s === void 0 ? void 0 : _s.voice) === null || _t === void 0 ? void 0 : _t.voiceInterfaces['P1']) === null || _u === void 0 ? void 0 : _u.Enable,\n          name: (_w = (_v = this.serviceParams) === null || _v === void 0 ? void 0 : _v.voice) === null || _w === void 0 ? void 0 : _w.voiceInterfaces['P1'].SIP.name,\n          sipUsername: (_y = (_x = this.serviceParams) === null || _x === void 0 ? void 0 : _x.voice) === null || _y === void 0 ? void 0 : _y.voiceInterfaces['P1'].SIP.sipUsername,\n          sipPassword: (_0 = (_z = this.serviceParams) === null || _z === void 0 ? void 0 : _z.voice) === null || _0 === void 0 ? void 0 : _0.voiceInterfaces['P1'].SIP.sipPassword,\n          sipUri: (_2 = (_1 = this.serviceParams) === null || _1 === void 0 ? void 0 : _1.voice) === null || _2 === void 0 ? void 0 : _2.voiceInterfaces['P1'].SIP.sipUri\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P1']);\n      } else if (ServiceType === 'H.248' && ((_3 = this.serviceParams.voice) === null || _3 === void 0 ? void 0 : _3.voiceInterfaces) && Object.keys((_4 = this.serviceParams.voice) === null || _4 === void 0 ? void 0 : _4.voiceInterfaces).length && ((_7 = (_6 = (_5 = this.serviceParams) === null || _5 === void 0 ? void 0 : _5.voice) === null || _6 === void 0 ? void 0 : _6.voiceInterfaces['P1']) === null || _7 === void 0 ? void 0 : _7.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P1'] = {\n          name: (_9 = (_8 = this.serviceParams) === null || _8 === void 0 ? void 0 : _8.voice) === null || _9 === void 0 ? void 0 : _9.voiceInterfaces['P1'].X_000631_H248.name,\n          enable: (_12 = (_11 = (_10 = this.serviceParams) === null || _10 === void 0 ? void 0 : _10.voice) === null || _11 === void 0 ? void 0 : _11.voiceInterfaces['P1']) === null || _12 === void 0 ? void 0 : _12.Enable,\n          terminationId: (_14 = (_13 = this.serviceParams) === null || _13 === void 0 ? void 0 : _13.voice) === null || _14 === void 0 ? void 0 : _14.voiceInterfaces['P1'].X_000631_H248.terminationId\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P1']);\n      }\n      //p2\n      if (ServiceType === 'SIP' && ((_15 = this.serviceParams.voice) === null || _15 === void 0 ? void 0 : _15.voiceInterfaces) && Object.keys((_16 = this.serviceParams.voice) === null || _16 === void 0 ? void 0 : _16.voiceInterfaces).length && ((_19 = (_18 = (_17 = this.serviceParams) === null || _17 === void 0 ? void 0 : _17.voice) === null || _18 === void 0 ? void 0 : _18.voiceInterfaces['P2']) === null || _19 === void 0 ? void 0 : _19.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P2'] = {\n          enable: (_22 = (_21 = (_20 = this.serviceParams) === null || _20 === void 0 ? void 0 : _20.voice) === null || _21 === void 0 ? void 0 : _21.voiceInterfaces['P2']) === null || _22 === void 0 ? void 0 : _22.Enable,\n          name: (_24 = (_23 = this.serviceParams) === null || _23 === void 0 ? void 0 : _23.voice) === null || _24 === void 0 ? void 0 : _24.voiceInterfaces['P2'].SIP.name,\n          sipUsername: (_26 = (_25 = this.serviceParams) === null || _25 === void 0 ? void 0 : _25.voice) === null || _26 === void 0 ? void 0 : _26.voiceInterfaces['P2'].SIP.sipUsername,\n          sipPassword: (_28 = (_27 = this.serviceParams) === null || _27 === void 0 ? void 0 : _27.voice) === null || _28 === void 0 ? void 0 : _28.voiceInterfaces['P2'].SIP.sipPassword,\n          sipUri: (_30 = (_29 = this.serviceParams) === null || _29 === void 0 ? void 0 : _29.voice) === null || _30 === void 0 ? void 0 : _30.voiceInterfaces['P2'].SIP.sipUri\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P2']);\n      } else if (ServiceType === 'H.248' && ((_31 = this.serviceParams.voice) === null || _31 === void 0 ? void 0 : _31.voiceInterfaces) && Object.keys((_32 = this.serviceParams.voice) === null || _32 === void 0 ? void 0 : _32.voiceInterfaces).length && ((_35 = (_34 = (_33 = this.serviceParams) === null || _33 === void 0 ? void 0 : _33.voice) === null || _34 === void 0 ? void 0 : _34.voiceInterfaces['P2']) === null || _35 === void 0 ? void 0 : _35.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P2'] = {\n          name: (_37 = (_36 = this.serviceParams) === null || _36 === void 0 ? void 0 : _36.voice) === null || _37 === void 0 ? void 0 : _37.voiceInterfaces['P2'].X_000631_H248.name,\n          enable: (_40 = (_39 = (_38 = this.serviceParams) === null || _38 === void 0 ? void 0 : _38.voice) === null || _39 === void 0 ? void 0 : _39.voiceInterfaces['P2']) === null || _40 === void 0 ? void 0 : _40.Enable,\n          terminationId: (_42 = (_41 = this.serviceParams) === null || _41 === void 0 ? void 0 : _41.voice) === null || _42 === void 0 ? void 0 : _42.voiceInterfaces['P2'].X_000631_H248.terminationId\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P2']);\n      }\n      //p3\n      if (ServiceType === 'SIP' && ((_43 = this.serviceParams.voice) === null || _43 === void 0 ? void 0 : _43.voiceInterfaces) && Object.keys((_44 = this.serviceParams.voice) === null || _44 === void 0 ? void 0 : _44.voiceInterfaces).length && ((_47 = (_46 = (_45 = this.serviceParams) === null || _45 === void 0 ? void 0 : _45.voice) === null || _46 === void 0 ? void 0 : _46.voiceInterfaces['P3']) === null || _47 === void 0 ? void 0 : _47.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P3'] = {\n          enable: (_50 = (_49 = (_48 = this.serviceParams) === null || _48 === void 0 ? void 0 : _48.voice) === null || _49 === void 0 ? void 0 : _49.voiceInterfaces['P3']) === null || _50 === void 0 ? void 0 : _50.Enable,\n          name: (_52 = (_51 = this.serviceParams) === null || _51 === void 0 ? void 0 : _51.voice) === null || _52 === void 0 ? void 0 : _52.voiceInterfaces['P3'].SIP.name,\n          sipUsername: (_54 = (_53 = this.serviceParams) === null || _53 === void 0 ? void 0 : _53.voice) === null || _54 === void 0 ? void 0 : _54.voiceInterfaces['P3'].SIP.sipUsername,\n          sipPassword: (_56 = (_55 = this.serviceParams) === null || _55 === void 0 ? void 0 : _55.voice) === null || _56 === void 0 ? void 0 : _56.voiceInterfaces['P3'].SIP.sipPassword,\n          sipUri: (_58 = (_57 = this.serviceParams) === null || _57 === void 0 ? void 0 : _57.voice) === null || _58 === void 0 ? void 0 : _58.voiceInterfaces['P3'].SIP.sipUri\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P3']);\n      } else if (ServiceType === 'H.248' && ((_59 = this.serviceParams.voice) === null || _59 === void 0 ? void 0 : _59.voiceInterfaces) && Object.keys((_60 = this.serviceParams.voice) === null || _60 === void 0 ? void 0 : _60.voiceInterfaces).length && ((_63 = (_62 = (_61 = this.serviceParams) === null || _61 === void 0 ? void 0 : _61.voice) === null || _62 === void 0 ? void 0 : _62.voiceInterfaces['P3']) === null || _63 === void 0 ? void 0 : _63.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P3'] = {\n          name: (_65 = (_64 = this.serviceParams) === null || _64 === void 0 ? void 0 : _64.voice) === null || _65 === void 0 ? void 0 : _65.voiceInterfaces['P3'].X_000631_H248.name,\n          enable: (_68 = (_67 = (_66 = this.serviceParams) === null || _66 === void 0 ? void 0 : _66.voice) === null || _67 === void 0 ? void 0 : _67.voiceInterfaces['P3']) === null || _68 === void 0 ? void 0 : _68.Enable,\n          terminationId: (_70 = (_69 = this.serviceParams) === null || _69 === void 0 ? void 0 : _69.voice) === null || _70 === void 0 ? void 0 : _70.voiceInterfaces['P3'].X_000631_H248.terminationId\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P3']);\n      }\n      //p4\n      if (ServiceType === 'SIP' && ((_71 = this.serviceParams.voice) === null || _71 === void 0 ? void 0 : _71.voiceInterfaces) && Object.keys((_72 = this.serviceParams.voice) === null || _72 === void 0 ? void 0 : _72.voiceInterfaces).length && ((_75 = (_74 = (_73 = this.serviceParams) === null || _73 === void 0 ? void 0 : _73.voice) === null || _74 === void 0 ? void 0 : _74.voiceInterfaces['P4']) === null || _75 === void 0 ? void 0 : _75.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P4'] = {\n          enable: (_78 = (_77 = (_76 = this.serviceParams) === null || _76 === void 0 ? void 0 : _76.voice) === null || _77 === void 0 ? void 0 : _77.voiceInterfaces['P4']) === null || _78 === void 0 ? void 0 : _78.Enable,\n          name: (_80 = (_79 = this.serviceParams) === null || _79 === void 0 ? void 0 : _79.voice) === null || _80 === void 0 ? void 0 : _80.voiceInterfaces['P4'].SIP.name,\n          sipUsername: (_82 = (_81 = this.serviceParams) === null || _81 === void 0 ? void 0 : _81.voice) === null || _82 === void 0 ? void 0 : _82.voiceInterfaces['P4'].SIP.sipUsername,\n          sipPassword: (_84 = (_83 = this.serviceParams) === null || _83 === void 0 ? void 0 : _83.voice) === null || _84 === void 0 ? void 0 : _84.voiceInterfaces['P4'].SIP.sipPassword,\n          sipUri: (_86 = (_85 = this.serviceParams) === null || _85 === void 0 ? void 0 : _85.voice) === null || _86 === void 0 ? void 0 : _86.voiceInterfaces['P4'].SIP.sipUri\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P4']);\n      } else if (ServiceType === 'H.248' && ((_87 = this.serviceParams.voice) === null || _87 === void 0 ? void 0 : _87.voiceInterfaces) && Object.keys((_88 = this.serviceParams.voice) === null || _88 === void 0 ? void 0 : _88.voiceInterfaces).length && ((_91 = (_90 = (_89 = this.serviceParams) === null || _89 === void 0 ? void 0 : _89.voice) === null || _90 === void 0 ? void 0 : _90.voiceInterfaces['P4']) === null || _91 === void 0 ? void 0 : _91.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P4'] = {\n          name: (_93 = (_92 = this.serviceParams) === null || _92 === void 0 ? void 0 : _92.voice) === null || _93 === void 0 ? void 0 : _93.voiceInterfaces['P4'].X_000631_H248.name,\n          enable: (_96 = (_95 = (_94 = this.serviceParams) === null || _94 === void 0 ? void 0 : _94.voice) === null || _95 === void 0 ? void 0 : _95.voiceInterfaces['P4']) === null || _96 === void 0 ? void 0 : _96.Enable,\n          terminationId: (_98 = (_97 = this.serviceParams) === null || _97 === void 0 ? void 0 : _97.voice) === null || _98 === void 0 ? void 0 : _98.voiceInterfaces['P4'].X_000631_H248.terminationId\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P4']);\n      }\n      //p5\n      if (ServiceType === 'SIP' && ((_99 = this.serviceParams.voice) === null || _99 === void 0 ? void 0 : _99.voiceInterfaces) && Object.keys((_100 = this.serviceParams.voice) === null || _100 === void 0 ? void 0 : _100.voiceInterfaces).length && ((_103 = (_102 = (_101 = this.serviceParams) === null || _101 === void 0 ? void 0 : _101.voice) === null || _102 === void 0 ? void 0 : _102.voiceInterfaces['P5']) === null || _103 === void 0 ? void 0 : _103.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P5'] = {\n          enable: (_106 = (_105 = (_104 = this.serviceParams) === null || _104 === void 0 ? void 0 : _104.voice) === null || _105 === void 0 ? void 0 : _105.voiceInterfaces['P5']) === null || _106 === void 0 ? void 0 : _106.Enable,\n          name: (_108 = (_107 = this.serviceParams) === null || _107 === void 0 ? void 0 : _107.voice) === null || _108 === void 0 ? void 0 : _108.voiceInterfaces['P5'].SIP.name,\n          sipUsername: (_110 = (_109 = this.serviceParams) === null || _109 === void 0 ? void 0 : _109.voice) === null || _110 === void 0 ? void 0 : _110.voiceInterfaces['P5'].SIP.sipUsername,\n          sipPassword: (_112 = (_111 = this.serviceParams) === null || _111 === void 0 ? void 0 : _111.voice) === null || _112 === void 0 ? void 0 : _112.voiceInterfaces['P5'].SIP.sipPassword,\n          sipUri: (_114 = (_113 = this.serviceParams) === null || _113 === void 0 ? void 0 : _113.voice) === null || _114 === void 0 ? void 0 : _114.voiceInterfaces['P5'].SIP.sipUri\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P5']);\n      } else if (ServiceType === 'H.248' && ((_115 = this.serviceParams.voice) === null || _115 === void 0 ? void 0 : _115.voiceInterfaces) && Object.keys((_116 = this.serviceParams.voice) === null || _116 === void 0 ? void 0 : _116.voiceInterfaces).length && ((_119 = (_118 = (_117 = this.serviceParams) === null || _117 === void 0 ? void 0 : _117.voice) === null || _118 === void 0 ? void 0 : _118.voiceInterfaces['P5']) === null || _119 === void 0 ? void 0 : _119.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P5'] = {\n          name: (_121 = (_120 = this.serviceParams) === null || _120 === void 0 ? void 0 : _120.voice) === null || _121 === void 0 ? void 0 : _121.voiceInterfaces['P5'].X_000631_H248.name,\n          enable: (_124 = (_123 = (_122 = this.serviceParams) === null || _122 === void 0 ? void 0 : _122.voice) === null || _123 === void 0 ? void 0 : _123.voiceInterfaces['P5']) === null || _124 === void 0 ? void 0 : _124.Enable,\n          terminationId: (_126 = (_125 = this.serviceParams) === null || _125 === void 0 ? void 0 : _125.voice) === null || _126 === void 0 ? void 0 : _126.voiceInterfaces['P5'].X_000631_H248.terminationId\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P5']);\n      }\n      //p6\n      if (ServiceType === 'SIP' && ((_127 = this.serviceParams.voice) === null || _127 === void 0 ? void 0 : _127.voiceInterfaces) && Object.keys((_128 = this.serviceParams.voice) === null || _128 === void 0 ? void 0 : _128.voiceInterfaces).length && ((_131 = (_130 = (_129 = this.serviceParams) === null || _129 === void 0 ? void 0 : _129.voice) === null || _130 === void 0 ? void 0 : _130.voiceInterfaces['P6']) === null || _131 === void 0 ? void 0 : _131.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P6'] = {\n          enable: (_134 = (_133 = (_132 = this.serviceParams) === null || _132 === void 0 ? void 0 : _132.voice) === null || _133 === void 0 ? void 0 : _133.voiceInterfaces['P6']) === null || _134 === void 0 ? void 0 : _134.Enable,\n          name: (_136 = (_135 = this.serviceParams) === null || _135 === void 0 ? void 0 : _135.voice) === null || _136 === void 0 ? void 0 : _136.voiceInterfaces['P6'].SIP.name,\n          sipUsername: (_138 = (_137 = this.serviceParams) === null || _137 === void 0 ? void 0 : _137.voice) === null || _138 === void 0 ? void 0 : _138.voiceInterfaces['P6'].SIP.sipUsername,\n          sipPassword: (_140 = (_139 = this.serviceParams) === null || _139 === void 0 ? void 0 : _139.voice) === null || _140 === void 0 ? void 0 : _140.voiceInterfaces['P6'].SIP.sipPassword,\n          sipUri: (_142 = (_141 = this.serviceParams) === null || _141 === void 0 ? void 0 : _141.voice) === null || _142 === void 0 ? void 0 : _142.voiceInterfaces['P6'].SIP.sipUri\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P6']);\n      } else if (ServiceType === 'H.248' && ((_143 = this.serviceParams.voice) === null || _143 === void 0 ? void 0 : _143.voiceInterfaces) && Object.keys((_144 = this.serviceParams.voice) === null || _144 === void 0 ? void 0 : _144.voiceInterfaces).length && ((_147 = (_146 = (_145 = this.serviceParams) === null || _145 === void 0 ? void 0 : _145.voice) === null || _146 === void 0 ? void 0 : _146.voiceInterfaces['P6']) === null || _147 === void 0 ? void 0 : _147.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P6'] = {\n          name: (_149 = (_148 = this.serviceParams) === null || _148 === void 0 ? void 0 : _148.voice) === null || _149 === void 0 ? void 0 : _149.voiceInterfaces['P6'].X_000631_H248.name,\n          enable: (_152 = (_151 = (_150 = this.serviceParams) === null || _150 === void 0 ? void 0 : _150.voice) === null || _151 === void 0 ? void 0 : _151.voiceInterfaces['P6']) === null || _152 === void 0 ? void 0 : _152.Enable,\n          terminationId: (_154 = (_153 = this.serviceParams) === null || _153 === void 0 ? void 0 : _153.voice) === null || _154 === void 0 ? void 0 : _154.voiceInterfaces['P6'].X_000631_H248.terminationId\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P6']);\n      }\n      //p7\n      if (ServiceType === 'SIP' && ((_155 = this.serviceParams.voice) === null || _155 === void 0 ? void 0 : _155.voiceInterfaces) && Object.keys((_156 = this.serviceParams.voice) === null || _156 === void 0 ? void 0 : _156.voiceInterfaces).length && ((_159 = (_158 = (_157 = this.serviceParams) === null || _157 === void 0 ? void 0 : _157.voice) === null || _158 === void 0 ? void 0 : _158.voiceInterfaces['P7']) === null || _159 === void 0 ? void 0 : _159.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P7'] = {\n          enable: (_162 = (_161 = (_160 = this.serviceParams) === null || _160 === void 0 ? void 0 : _160.voice) === null || _161 === void 0 ? void 0 : _161.voiceInterfaces['P7']) === null || _162 === void 0 ? void 0 : _162.Enable,\n          name: (_164 = (_163 = this.serviceParams) === null || _163 === void 0 ? void 0 : _163.voice) === null || _164 === void 0 ? void 0 : _164.voiceInterfaces['P7'].SIP.name,\n          sipUsername: (_166 = (_165 = this.serviceParams) === null || _165 === void 0 ? void 0 : _165.voice) === null || _166 === void 0 ? void 0 : _166.voiceInterfaces['P7'].SIP.sipUsername,\n          sipPassword: (_168 = (_167 = this.serviceParams) === null || _167 === void 0 ? void 0 : _167.voice) === null || _168 === void 0 ? void 0 : _168.voiceInterfaces['P7'].SIP.sipPassword,\n          sipUri: (_170 = (_169 = this.serviceParams) === null || _169 === void 0 ? void 0 : _169.voice) === null || _170 === void 0 ? void 0 : _170.voiceInterfaces['P7'].SIP.sipUri\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P7']);\n      } else if (ServiceType === 'H.248' && ((_171 = this.serviceParams.voice) === null || _171 === void 0 ? void 0 : _171.voiceInterfaces) && Object.keys((_172 = this.serviceParams.voice) === null || _172 === void 0 ? void 0 : _172.voiceInterfaces).length && ((_175 = (_174 = (_173 = this.serviceParams) === null || _173 === void 0 ? void 0 : _173.voice) === null || _174 === void 0 ? void 0 : _174.voiceInterfaces['P7']) === null || _175 === void 0 ? void 0 : _175.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P7'] = {\n          name: (_177 = (_176 = this.serviceParams) === null || _176 === void 0 ? void 0 : _176.voice) === null || _177 === void 0 ? void 0 : _177.voiceInterfaces['P7'].X_000631_H248.name,\n          enable: (_180 = (_179 = (_178 = this.serviceParams) === null || _178 === void 0 ? void 0 : _178.voice) === null || _179 === void 0 ? void 0 : _179.voiceInterfaces['P7']) === null || _180 === void 0 ? void 0 : _180.Enable,\n          terminationId: (_182 = (_181 = this.serviceParams) === null || _181 === void 0 ? void 0 : _181.voice) === null || _182 === void 0 ? void 0 : _182.voiceInterfaces['P7'].X_000631_H248.terminationId\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P7']);\n      }\n      //p8\n      if (ServiceType === 'SIP' && ((_183 = this.serviceParams.voice) === null || _183 === void 0 ? void 0 : _183.voiceInterfaces) && Object.keys((_184 = this.serviceParams.voice) === null || _184 === void 0 ? void 0 : _184.voiceInterfaces).length && ((_187 = (_186 = (_185 = this.serviceParams) === null || _185 === void 0 ? void 0 : _185.voice) === null || _186 === void 0 ? void 0 : _186.voiceInterfaces['P8']) === null || _187 === void 0 ? void 0 : _187.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P8'] = {\n          enable: (_190 = (_189 = (_188 = this.serviceParams) === null || _188 === void 0 ? void 0 : _188.voice) === null || _189 === void 0 ? void 0 : _189.voiceInterfaces['P8']) === null || _190 === void 0 ? void 0 : _190.Enable,\n          name: (_192 = (_191 = this.serviceParams) === null || _191 === void 0 ? void 0 : _191.voice) === null || _192 === void 0 ? void 0 : _192.voiceInterfaces['P8'].SIP.name,\n          sipUsername: (_194 = (_193 = this.serviceParams) === null || _193 === void 0 ? void 0 : _193.voice) === null || _194 === void 0 ? void 0 : _194.voiceInterfaces['P8'].SIP.sipUsername,\n          sipPassword: (_196 = (_195 = this.serviceParams) === null || _195 === void 0 ? void 0 : _195.voice) === null || _196 === void 0 ? void 0 : _196.voiceInterfaces['P8'].SIP.sipPassword,\n          sipUri: (_198 = (_197 = this.serviceParams) === null || _197 === void 0 ? void 0 : _197.voice) === null || _198 === void 0 ? void 0 : _198.voiceInterfaces['P8'].SIP.sipUri\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P8']);\n      } else if (ServiceType === 'H.248' && ((_199 = this.serviceParams.voice) === null || _199 === void 0 ? void 0 : _199.voiceInterfaces) && Object.keys((_200 = this.serviceParams.voice) === null || _200 === void 0 ? void 0 : _200.voiceInterfaces).length && ((_203 = (_202 = (_201 = this.serviceParams) === null || _201 === void 0 ? void 0 : _201.voice) === null || _202 === void 0 ? void 0 : _202.voiceInterfaces['P8']) === null || _203 === void 0 ? void 0 : _203.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['P8'] = {\n          name: (_205 = (_204 = this.serviceParams) === null || _204 === void 0 ? void 0 : _204.voice) === null || _205 === void 0 ? void 0 : _205.voiceInterfaces['P8'].X_000631_H248.name,\n          enable: (_208 = (_207 = (_206 = this.serviceParams) === null || _206 === void 0 ? void 0 : _206.voice) === null || _207 === void 0 ? void 0 : _207.voiceInterfaces['P8']) === null || _208 === void 0 ? void 0 : _208.Enable,\n          terminationId: (_210 = (_209 = this.serviceParams) === null || _209 === void 0 ? void 0 : _209.voice) === null || _210 === void 0 ? void 0 : _210.voiceInterfaces['P8'].X_000631_H248.terminationId\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['P8']);\n      }\n      //L1\n      if (ServiceType === 'SIP' && ((_211 = this.serviceParams.voice) === null || _211 === void 0 ? void 0 : _211.voiceInterfaces) && Object.keys((_212 = this.serviceParams.voice) === null || _212 === void 0 ? void 0 : _212.voiceInterfaces).length && ((_215 = (_214 = (_213 = this.serviceParams) === null || _213 === void 0 ? void 0 : _213.voice) === null || _214 === void 0 ? void 0 : _214.voiceInterfaces['L1']) === null || _215 === void 0 ? void 0 : _215.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['L1'] = {\n          enable: (_218 = (_217 = (_216 = this.serviceParams) === null || _216 === void 0 ? void 0 : _216.voice) === null || _217 === void 0 ? void 0 : _217.voiceInterfaces['L1']) === null || _218 === void 0 ? void 0 : _218.Enable,\n          name: (_220 = (_219 = this.serviceParams) === null || _219 === void 0 ? void 0 : _219.voice) === null || _220 === void 0 ? void 0 : _220.voiceInterfaces['L1'].SIP.name,\n          sipUsername: (_222 = (_221 = this.serviceParams) === null || _221 === void 0 ? void 0 : _221.voice) === null || _222 === void 0 ? void 0 : _222.voiceInterfaces['L1'].SIP.AuthUserName,\n          sipPassword: (_224 = (_223 = this.serviceParams) === null || _223 === void 0 ? void 0 : _223.voice) === null || _224 === void 0 ? void 0 : _224.voiceInterfaces['L1'].SIP.AuthPassword,\n          sipUri: (_226 = (_225 = this.serviceParams) === null || _225 === void 0 ? void 0 : _225.voice) === null || _226 === void 0 ? void 0 : _226.voiceInterfaces['L1'].SIP.URI,\n          callerId: (_228 = (_227 = this.serviceParams) === null || _227 === void 0 ? void 0 : _227.voice) === null || _228 === void 0 ? void 0 : _228.voiceInterfaces['L1'].CallingFeatures.CallerIDEnable,\n          callWaiting: (_230 = (_229 = this.serviceParams) === null || _229 === void 0 ? void 0 : _229.voice) === null || _230 === void 0 ? void 0 : _230.voiceInterfaces['L1'].CallingFeatures.CallWaitingEnable,\n          threeWayCalling: (_232 = (_231 = this.serviceParams) === null || _231 === void 0 ? void 0 : _231.voice) === null || _232 === void 0 ? void 0 : _232.voiceInterfaces['L1'].CallingFeatures.X_000631_ThreewayCallingEnable,\n          //faxT38: this.serviceParams?.voice?.voiceInterfaces['L1'].CallingFeatures.faxT38,\n          mwi: (_234 = (_233 = this.serviceParams) === null || _233 === void 0 ? void 0 : _233.voice) === null || _234 === void 0 ? void 0 : _234.voiceInterfaces['L1'].CallingFeatures.MWIEnable,\n          directConnect: (_236 = (_235 = this.serviceParams) === null || _235 === void 0 ? void 0 : _235.voice) === null || _236 === void 0 ? void 0 : _236.voiceInterfaces['L1'].CallingFeatures.X_000631_DirectConnectEnable,\n          directConnectNumber: (_238 = (_237 = this.serviceParams) === null || _237 === void 0 ? void 0 : _237.voice) === null || _238 === void 0 ? void 0 : _238.voiceInterfaces['L1'].CallingFeatures.X_000631_DirectConnectNumber,\n          directConnectTimer: (_240 = (_239 = this.serviceParams) === null || _239 === void 0 ? void 0 : _239.voice) === null || _240 === void 0 ? void 0 : _240.voiceInterfaces['L1'].CallingFeatures.X_000631_DirectConnectTimer,\n          receiveGain: ((_242 = (_241 = this.serviceParams) === null || _241 === void 0 ? void 0 : _241.voice) === null || _242 === void 0 ? void 0 : _242.voiceInterfaces['L1'].VoiceProcessing.ReceiveGain) * 10,\n          transmitGain: ((_244 = (_243 = this.serviceParams) === null || _243 === void 0 ? void 0 : _243.voice) === null || _244 === void 0 ? void 0 : _244.voiceInterfaces['L1'].VoiceProcessing.TransmitGain) * 10\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['L1']);\n      } else if (ServiceType === 'H.248' && ((_245 = this.serviceParams.voice) === null || _245 === void 0 ? void 0 : _245.voiceInterfaces) && Object.keys((_246 = this.serviceParams.voice) === null || _246 === void 0 ? void 0 : _246.voiceInterfaces).length && ((_249 = (_248 = (_247 = this.serviceParams) === null || _247 === void 0 ? void 0 : _247.voice) === null || _248 === void 0 ? void 0 : _248.voiceInterfaces['L1']) === null || _249 === void 0 ? void 0 : _249.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['L1'] = {\n          name: (_251 = (_250 = this.serviceParams) === null || _250 === void 0 ? void 0 : _250.voice) === null || _251 === void 0 ? void 0 : _251.voiceInterfaces['L1'].X_000631_H248.name,\n          enable: (_254 = (_253 = (_252 = this.serviceParams) === null || _252 === void 0 ? void 0 : _252.voice) === null || _253 === void 0 ? void 0 : _253.voiceInterfaces['L1']) === null || _254 === void 0 ? void 0 : _254.Enable,\n          terminationId: (_256 = (_255 = this.serviceParams) === null || _255 === void 0 ? void 0 : _255.voice) === null || _256 === void 0 ? void 0 : _256.voiceInterfaces['L1'].X_000631_H248.TerminationId,\n          receiveGain: ((_258 = (_257 = this.serviceParams) === null || _257 === void 0 ? void 0 : _257.voice) === null || _258 === void 0 ? void 0 : _258.voiceInterfaces['L1'].VoiceProcessing.ReceiveGain) * 10,\n          transmitGain: ((_260 = (_259 = this.serviceParams) === null || _259 === void 0 ? void 0 : _259.voice) === null || _260 === void 0 ? void 0 : _260.voiceInterfaces['L1'].VoiceProcessing.TransmitGain) * 10\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['L1']);\n      } else if (ServiceType === 'MGCP' && ((_261 = this.serviceParams.voice) === null || _261 === void 0 ? void 0 : _261.voiceInterfaces) && Object.keys((_262 = this.serviceParams.voice) === null || _262 === void 0 ? void 0 : _262.voiceInterfaces).length && ((_265 = (_264 = (_263 = this.serviceParams) === null || _263 === void 0 ? void 0 : _263.voice) === null || _264 === void 0 ? void 0 : _264.voiceInterfaces['L1']) === null || _265 === void 0 ? void 0 : _265.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['L1'] = {\n          enable: (_268 = (_267 = (_266 = this.serviceParams) === null || _266 === void 0 ? void 0 : _266.voice) === null || _267 === void 0 ? void 0 : _267.voiceInterfaces['L1']) === null || _268 === void 0 ? void 0 : _268.Enable,\n          name: (_270 = (_269 = this.serviceParams) === null || _269 === void 0 ? void 0 : _269.voice) === null || _270 === void 0 ? void 0 : _270.voiceInterfaces['L1'].MGCP.name,\n          gr303: (_272 = (_271 = this.serviceParams) === null || _271 === void 0 ? void 0 : _271.voice) === null || _272 === void 0 ? void 0 : _272.voiceInterfaces['L1'].MGCP.X_000631_GR303,\n          receiveGain: ((_274 = (_273 = this.serviceParams) === null || _273 === void 0 ? void 0 : _273.voice) === null || _274 === void 0 ? void 0 : _274.voiceInterfaces['L1'].VoiceProcessing.ReceiveGain) * 10,\n          transmitGain: ((_276 = (_275 = this.serviceParams) === null || _275 === void 0 ? void 0 : _275.voice) === null || _276 === void 0 ? void 0 : _276.voiceInterfaces['L1'].VoiceProcessing.TransmitGain) * 10\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['L1']);\n      } else if (ServiceType === 'X_000631_TDMGW' && ((_277 = this.serviceParams.voice) === null || _277 === void 0 ? void 0 : _277.voiceInterfaces) && Object.keys((_278 = this.serviceParams.voice) === null || _278 === void 0 ? void 0 : _278.voiceInterfaces).length && ((_281 = (_280 = (_279 = this.serviceParams) === null || _279 === void 0 ? void 0 : _279.voice) === null || _280 === void 0 ? void 0 : _280.voiceInterfaces['L1']) === null || _281 === void 0 ? void 0 : _281.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['L1'] = {\n          enable: (_284 = (_283 = (_282 = this.serviceParams) === null || _282 === void 0 ? void 0 : _282.voice) === null || _283 === void 0 ? void 0 : _283.voiceInterfaces['L1']) === null || _284 === void 0 ? void 0 : _284.Enable,\n          name: (_286 = (_285 = this.serviceParams) === null || _285 === void 0 ? void 0 : _285.voice) === null || _286 === void 0 ? void 0 : _286.voiceInterfaces['L1'].MGCP.name,\n          crv: (_288 = (_287 = this.serviceParams) === null || _287 === void 0 ? void 0 : _287.voice) === null || _288 === void 0 ? void 0 : _288.voiceInterfaces['L1'].X_000631_TdmGw.Crv,\n          receiveGain: ((_290 = (_289 = this.serviceParams) === null || _289 === void 0 ? void 0 : _289.voice) === null || _290 === void 0 ? void 0 : _290.voiceInterfaces['L1'].VoiceProcessing.ReceiveGain) * 10,\n          transmitGain: ((_292 = (_291 = this.serviceParams) === null || _291 === void 0 ? void 0 : _291.voice) === null || _292 === void 0 ? void 0 : _292.voiceInterfaces['L1'].VoiceProcessing.TransmitGain) * 10\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['L1']);\n      }\n      //L2\n      if (ServiceType === 'SIP' && ((_293 = this.serviceParams.voice) === null || _293 === void 0 ? void 0 : _293.voiceInterfaces) && Object.keys((_294 = this.serviceParams.voice) === null || _294 === void 0 ? void 0 : _294.voiceInterfaces).length && ((_297 = (_296 = (_295 = this.serviceParams) === null || _295 === void 0 ? void 0 : _295.voice) === null || _296 === void 0 ? void 0 : _296.voiceInterfaces['L2']) === null || _297 === void 0 ? void 0 : _297.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['L2'] = {\n          enable: (_300 = (_299 = (_298 = this.serviceParams) === null || _298 === void 0 ? void 0 : _298.voice) === null || _299 === void 0 ? void 0 : _299.voiceInterfaces['L2']) === null || _300 === void 0 ? void 0 : _300.Enable,\n          name: (_302 = (_301 = this.serviceParams) === null || _301 === void 0 ? void 0 : _301.voice) === null || _302 === void 0 ? void 0 : _302.voiceInterfaces['L2'].SIP.name,\n          sipUsername: (_304 = (_303 = this.serviceParams) === null || _303 === void 0 ? void 0 : _303.voice) === null || _304 === void 0 ? void 0 : _304.voiceInterfaces['L2'].SIP.AuthUserName,\n          sipPassword: (_306 = (_305 = this.serviceParams) === null || _305 === void 0 ? void 0 : _305.voice) === null || _306 === void 0 ? void 0 : _306.voiceInterfaces['L2'].SIP.AuthPassword,\n          sipUri: (_308 = (_307 = this.serviceParams) === null || _307 === void 0 ? void 0 : _307.voice) === null || _308 === void 0 ? void 0 : _308.voiceInterfaces['L2'].SIP.URI,\n          callerId: (_310 = (_309 = this.serviceParams) === null || _309 === void 0 ? void 0 : _309.voice) === null || _310 === void 0 ? void 0 : _310.voiceInterfaces['L2'].CallingFeatures.CallerIDEnable,\n          callWaiting: (_312 = (_311 = this.serviceParams) === null || _311 === void 0 ? void 0 : _311.voice) === null || _312 === void 0 ? void 0 : _312.voiceInterfaces['L2'].CallingFeatures.CallWaitingEnable,\n          threeWayCalling: (_314 = (_313 = this.serviceParams) === null || _313 === void 0 ? void 0 : _313.voice) === null || _314 === void 0 ? void 0 : _314.voiceInterfaces['L2'].CallingFeatures.X_000631_ThreewayCallingEnable,\n          //faxT38: this.serviceParams?.voice?.voiceInterfaces['L2'].CallingFeatures.faxT38,\n          mwi: (_316 = (_315 = this.serviceParams) === null || _315 === void 0 ? void 0 : _315.voice) === null || _316 === void 0 ? void 0 : _316.voiceInterfaces['L2'].CallingFeatures.MWIEnable,\n          directConnect: (_318 = (_317 = this.serviceParams) === null || _317 === void 0 ? void 0 : _317.voice) === null || _318 === void 0 ? void 0 : _318.voiceInterfaces['L2'].CallingFeatures.X_000631_DirectConnectEnable,\n          directConnectTimer: (_320 = (_319 = this.serviceParams) === null || _319 === void 0 ? void 0 : _319.voice) === null || _320 === void 0 ? void 0 : _320.voiceInterfaces['L2'].CallingFeatures.X_000631_DirectConnectTimer,\n          directConnectNumber: parseInt((_322 = (_321 = this.serviceParams) === null || _321 === void 0 ? void 0 : _321.voice) === null || _322 === void 0 ? void 0 : _322.voiceInterfaces['L2'].CallingFeatures.X_000631_DirectConnectNumber),\n          receiveGain: ((_324 = (_323 = this.serviceParams) === null || _323 === void 0 ? void 0 : _323.voice) === null || _324 === void 0 ? void 0 : _324.voiceInterfaces['L2'].VoiceProcessing.ReceiveGain) * 10,\n          transmitGain: ((_326 = (_325 = this.serviceParams) === null || _325 === void 0 ? void 0 : _325.voice) === null || _326 === void 0 ? void 0 : _326.voiceInterfaces['L2'].VoiceProcessing.TransmitGain) * 10\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['L2']);\n      } else if (ServiceType === 'H.248' && ((_327 = this.serviceParams.voice) === null || _327 === void 0 ? void 0 : _327.voiceInterfaces) && Object.keys((_328 = this.serviceParams.voice) === null || _328 === void 0 ? void 0 : _328.voiceInterfaces).length && ((_331 = (_330 = (_329 = this.serviceParams) === null || _329 === void 0 ? void 0 : _329.voice) === null || _330 === void 0 ? void 0 : _330.voiceInterfaces['L2']) === null || _331 === void 0 ? void 0 : _331.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['L2'] = {\n          name: (_333 = (_332 = this.serviceParams) === null || _332 === void 0 ? void 0 : _332.voice) === null || _333 === void 0 ? void 0 : _333.voiceInterfaces['L2'].X_000631_H248.name,\n          enable: (_336 = (_335 = (_334 = this.serviceParams) === null || _334 === void 0 ? void 0 : _334.voice) === null || _335 === void 0 ? void 0 : _335.voiceInterfaces['L2']) === null || _336 === void 0 ? void 0 : _336.Enable,\n          terminationId: (_338 = (_337 = this.serviceParams) === null || _337 === void 0 ? void 0 : _337.voice) === null || _338 === void 0 ? void 0 : _338.voiceInterfaces['L2'].X_000631_H248.TerminationId,\n          receiveGain: ((_340 = (_339 = this.serviceParams) === null || _339 === void 0 ? void 0 : _339.voice) === null || _340 === void 0 ? void 0 : _340.voiceInterfaces['L2'].VoiceProcessing.ReceiveGain) * 10,\n          transmitGain: ((_342 = (_341 = this.serviceParams) === null || _341 === void 0 ? void 0 : _341.voice) === null || _342 === void 0 ? void 0 : _342.voiceInterfaces['L2'].VoiceProcessing.TransmitGain) * 10\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['L2']);\n      } else if (ServiceType === 'MGCP' && ((_343 = this.serviceParams.voice) === null || _343 === void 0 ? void 0 : _343.voiceInterfaces) && Object.keys((_344 = this.serviceParams.voice) === null || _344 === void 0 ? void 0 : _344.voiceInterfaces).length && ((_347 = (_346 = (_345 = this.serviceParams) === null || _345 === void 0 ? void 0 : _345.voice) === null || _346 === void 0 ? void 0 : _346.voiceInterfaces['L2']) === null || _347 === void 0 ? void 0 : _347.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['L2'] = {\n          enable: (_350 = (_349 = (_348 = this.serviceParams) === null || _348 === void 0 ? void 0 : _348.voice) === null || _349 === void 0 ? void 0 : _349.voiceInterfaces['L2']) === null || _350 === void 0 ? void 0 : _350.Enable,\n          name: (_352 = (_351 = this.serviceParams) === null || _351 === void 0 ? void 0 : _351.voice) === null || _352 === void 0 ? void 0 : _352.voiceInterfaces['L2'].MGCP.name,\n          gr303: (_354 = (_353 = this.serviceParams) === null || _353 === void 0 ? void 0 : _353.voice) === null || _354 === void 0 ? void 0 : _354.voiceInterfaces['L2'].MGCP.X_000631_GR303,\n          receiveGain: ((_356 = (_355 = this.serviceParams) === null || _355 === void 0 ? void 0 : _355.voice) === null || _356 === void 0 ? void 0 : _356.voiceInterfaces['L2'].VoiceProcessing.ReceiveGain) * 10,\n          transmitGain: ((_358 = (_357 = this.serviceParams) === null || _357 === void 0 ? void 0 : _357.voice) === null || _358 === void 0 ? void 0 : _358.voiceInterfaces['L2'].VoiceProcessing.TransmitGain) * 10\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['L2']);\n      } else if (ServiceType === 'X_000631_TDMGW' && ((_359 = this.serviceParams.voice) === null || _359 === void 0 ? void 0 : _359.voiceInterfaces) && Object.keys((_360 = this.serviceParams.voice) === null || _360 === void 0 ? void 0 : _360.voiceInterfaces).length && ((_363 = (_362 = (_361 = this.serviceParams) === null || _361 === void 0 ? void 0 : _361.voice) === null || _362 === void 0 ? void 0 : _362.voiceInterfaces['L2']) === null || _363 === void 0 ? void 0 : _363.Enable)) {\n        this.serviceParams.voice.voiceInterfaces['L2'] = {\n          enable: (_366 = (_365 = (_364 = this.serviceParams) === null || _364 === void 0 ? void 0 : _364.voice) === null || _365 === void 0 ? void 0 : _365.voiceInterfaces['L2']) === null || _366 === void 0 ? void 0 : _366.Enable,\n          name: (_368 = (_367 = this.serviceParams) === null || _367 === void 0 ? void 0 : _367.voice) === null || _368 === void 0 ? void 0 : _368.voiceInterfaces['L2'].MGCP.name,\n          crv: (_370 = (_369 = this.serviceParams) === null || _369 === void 0 ? void 0 : _369.voice) === null || _370 === void 0 ? void 0 : _370.voiceInterfaces['L2'].X_000631_TdmGw.Crv,\n          receiveGain: ((_372 = (_371 = this.serviceParams) === null || _371 === void 0 ? void 0 : _371.voice) === null || _372 === void 0 ? void 0 : _372.voiceInterfaces['L2'].VoiceProcessing.ReceiveGain) * 10,\n          transmitGain: ((_374 = (_373 = this.serviceParams) === null || _373 === void 0 ? void 0 : _373.voice) === null || _374 === void 0 ? void 0 : _374.voiceInterfaces['L2'].VoiceProcessing.TransmitGain) * 10\n        };\n        voiceInterfaces.push(this.serviceParams.voice.voiceInterfaces['L2']);\n      }\n      if (!((_376 = (_375 = this.serviceParams) === null || _375 === void 0 ? void 0 : _375.voice) === null || _376 === void 0 ? void 0 : _376.usoc)) {\n        this.serviceParams.voice = {};\n      } else {\n        this.serviceParams.voice.type = \"voice\";\n        this.serviceParams.voice.activate = true;\n        if (ServiceType === 'SIP' && ((_377 = this.serviceParams.voice) === null || _377 === void 0 ? void 0 : _377.voiceInterfaces) && Object.keys((_378 = this.serviceParams.voice) === null || _378 === void 0 ? void 0 : _378.voiceInterfaces).length && (((_381 = (_380 = (_379 = this.serviceParams) === null || _379 === void 0 ? void 0 : _379.voice) === null || _380 === void 0 ? void 0 : _380.voiceInterfaces['L1']) === null || _381 === void 0 ? void 0 : _381.enable) || ((_384 = (_383 = (_382 = this.serviceParams) === null || _382 === void 0 ? void 0 : _382.voice) === null || _383 === void 0 ? void 0 : _383.voiceInterfaces['L2']) === null || _384 === void 0 ? void 0 : _384.enable))) {\n          // this.serviceParams.voice.faxT38 = this.serviceParams?.voice?.voiceInterfaces['L1'].CallingFeatures.faxT38\n        } else {\n          delete this.serviceParams.voice.faxT38;\n        }\n        if (ServiceType === 'SIP' && ((_385 = this.serviceParams.voice) === null || _385 === void 0 ? void 0 : _385.voiceInterfaces) && Object.keys((_386 = this.serviceParams.voice) === null || _386 === void 0 ? void 0 : _386.voiceInterfaces).length && ((_389 = (_388 = (_387 = this.serviceParams) === null || _387 === void 0 ? void 0 : _387.voice) === null || _388 === void 0 ? void 0 : _388.voiceInterfaces['L2']) === null || _389 === void 0 ? void 0 : _389.enable)) {\n          // this.serviceParams.voice.faxT38 = this.serviceParams?.voice?.voiceInterfaces['L2'].CallingFeatures.faxT38\n        }\n        (_391 = (_390 = this.serviceParams) === null || _390 === void 0 ? void 0 : _390.voice) === null || _391 === void 0 ? true : delete _391.ServiceConnectionType;\n        //delete this.serviceParams.voice.faxT38\n      }\n\n      if (((_392 = this.serviceParams.voice) === null || _392 === void 0 ? void 0 : _392.voiceInterfaces) && ((_394 = (_393 = this.serviceParams) === null || _393 === void 0 ? void 0 : _393.voice) === null || _394 === void 0 ? void 0 : _394.voiceInterfaces['P1'])) (_396 = (_395 = this.serviceParams) === null || _395 === void 0 ? void 0 : _395.voice) === null || _396 === void 0 ? true : delete _396.voiceInterfaces['P1'];\n      if (((_397 = this.serviceParams.voice) === null || _397 === void 0 ? void 0 : _397.voiceInterfaces) && ((_399 = (_398 = this.serviceParams) === null || _398 === void 0 ? void 0 : _398.voice) === null || _399 === void 0 ? void 0 : _399.voiceInterfaces['P2'])) (_401 = (_400 = this.serviceParams) === null || _400 === void 0 ? void 0 : _400.voice) === null || _401 === void 0 ? true : delete _401.voiceInterfaces['P2'];\n      if (((_402 = this.serviceParams.voice) === null || _402 === void 0 ? void 0 : _402.voiceInterfaces) && ((_404 = (_403 = this.serviceParams) === null || _403 === void 0 ? void 0 : _403.voice) === null || _404 === void 0 ? void 0 : _404.voiceInterfaces['P3'])) (_406 = (_405 = this.serviceParams) === null || _405 === void 0 ? void 0 : _405.voice) === null || _406 === void 0 ? true : delete _406.voiceInterfaces['P3'];\n      if (((_407 = this.serviceParams.voice) === null || _407 === void 0 ? void 0 : _407.voiceInterfaces) && ((_409 = (_408 = this.serviceParams) === null || _408 === void 0 ? void 0 : _408.voice) === null || _409 === void 0 ? void 0 : _409.voiceInterfaces['P4'])) (_411 = (_410 = this.serviceParams) === null || _410 === void 0 ? void 0 : _410.voice) === null || _411 === void 0 ? true : delete _411.voiceInterfaces['P4'];\n      if (((_412 = this.serviceParams.voice) === null || _412 === void 0 ? void 0 : _412.voiceInterfaces) && ((_414 = (_413 = this.serviceParams) === null || _413 === void 0 ? void 0 : _413.voice) === null || _414 === void 0 ? void 0 : _414.voiceInterfaces['P5'])) (_416 = (_415 = this.serviceParams) === null || _415 === void 0 ? void 0 : _415.voice) === null || _416 === void 0 ? true : delete _416.voiceInterfaces['P5'];\n      if (((_417 = this.serviceParams.voice) === null || _417 === void 0 ? void 0 : _417.voiceInterfaces) && ((_419 = (_418 = this.serviceParams) === null || _418 === void 0 ? void 0 : _418.voice) === null || _419 === void 0 ? void 0 : _419.voiceInterfaces['P6'])) (_421 = (_420 = this.serviceParams) === null || _420 === void 0 ? void 0 : _420.voice) === null || _421 === void 0 ? true : delete _421.voiceInterfaces['P6'];\n      if (((_422 = this.serviceParams.voice) === null || _422 === void 0 ? void 0 : _422.voiceInterfaces) && ((_424 = (_423 = this.serviceParams) === null || _423 === void 0 ? void 0 : _423.voice) === null || _424 === void 0 ? void 0 : _424.voiceInterfaces['P7'])) (_426 = (_425 = this.serviceParams) === null || _425 === void 0 ? void 0 : _425.voice) === null || _426 === void 0 ? true : delete _426.voiceInterfaces['P7'];\n      if (((_427 = this.serviceParams.voice) === null || _427 === void 0 ? void 0 : _427.voiceInterfaces) && ((_429 = (_428 = this.serviceParams) === null || _428 === void 0 ? void 0 : _428.voice) === null || _429 === void 0 ? void 0 : _429.voiceInterfaces['P8'])) (_431 = (_430 = this.serviceParams) === null || _430 === void 0 ? void 0 : _430.voice) === null || _431 === void 0 ? true : delete _431.voiceInterfaces['P8'];\n      if (((_432 = this.serviceParams.voice) === null || _432 === void 0 ? void 0 : _432.voiceInterfaces) && ((_434 = (_433 = this.serviceParams) === null || _433 === void 0 ? void 0 : _433.voice) === null || _434 === void 0 ? void 0 : _434.voiceInterfaces['L1'])) (_436 = (_435 = this.serviceParams) === null || _435 === void 0 ? void 0 : _435.voice) === null || _436 === void 0 ? true : delete _436.voiceInterfaces['L1'];\n      if (((_437 = this.serviceParams.voice) === null || _437 === void 0 ? void 0 : _437.voiceInterfaces) && ((_439 = (_438 = this.serviceParams) === null || _438 === void 0 ? void 0 : _438.voice) === null || _439 === void 0 ? void 0 : _439.voiceInterfaces['L2'])) (_441 = (_440 = this.serviceParams) === null || _440 === void 0 ? void 0 : _440.voice) === null || _441 === void 0 ? true : delete _441.voiceInterfaces['L2'];\n      if ((voiceInterfaces === null || voiceInterfaces === void 0 ? void 0 : voiceInterfaces.length) !== 0) {\n        this.serviceParams.voice.voiceInterfaces = voiceInterfaces ? voiceInterfaces.concat(this.removedOntPortValues) : [];\n      } else {\n        this.serviceParams.voice.voiceInterfaces = [];\n      }\n      if (!((_442 = this.serviceParams.voice) === null || _442 === void 0 ? void 0 : _442.staticIpAddress)) {\n        (_443 = this.serviceParams.voice) === null || _443 === void 0 ? true : delete _443.staticNetmask;\n        (_444 = this.serviceParams.voice) === null || _444 === void 0 ? true : delete _444.staticGateway;\n      }\n      this.serviceParams.voice = _.pickBy(this.serviceParams.voice, v => v !== null && v !== \"\");\n      const voiceparams = this.serviceParams.voice;\n      paramsData.push(voiceparams);\n      if (((_445 = paramsData[2]) === null || _445 === void 0 ? void 0 : _445.staticIpConfigurations) && !((_447 = (_446 = paramsData[2]) === null || _446 === void 0 ? void 0 : _446.staticIpConfigurations[0]) === null || _447 === void 0 ? void 0 : _447.staticIpAddress)) {\n        (_448 = paramsData[2]) === null || _448 === void 0 ? true : delete _448.staticIpConfigurations;\n      }\n      let serviceData = paramsData.map(e => {\n        var _a;\n        let billingData = ((_a = this.allSubsServicesData) === null || _a === void 0 ? void 0 : _a.services.find(x => x.type === e.type)) || {};\n        if (billingData === null || billingData === void 0 ? void 0 : billingData.customerType) {\n          return Object.assign(billingData, e);\n        }\n        ;\n        return e;\n      });\n      this.systemService.saveServiceData(subId, serviceData).subscribe(res => {\n        this.loading = false;\n        // to check service configured or not\n        this.netWorkServiceIsNotConfigured = serviceData.every(e => Object.keys(e).length <= 1);\n        this.getServicesStatus(true);\n        this.getAllSubsServicesData(true);\n      }, err => {\n        this.pageErrorHandle(err);\n        this.loading = false;\n      });\n    }\n    getServicesStatus(onSave) {\n      var _a, _b;\n      if (!this.subscriberInfo || !((_a = this.subscriberInfo) === null || _a === void 0 ? void 0 : _a.subscriberId)) {\n        this.subscriberInfo = {};\n        this.subscriberInfo['subscriberId'] = this.createdSubscriberId ? this.createdSubscriberId : ((_b = this.createdSubcriberData) === null || _b === void 0 ? void 0 : _b._id) ? this.createdSubcriberData._id : this.systemInfo.subscriberId ? this.systemInfo.subscriberId : '';\n        this.serviceData = {\n          data: {},\n          data1: {},\n          video: {},\n          voice: {}\n        };\n        if (!this.subscriberInfo['subscriberId']) return;\n      }\n      this.loading = true;\n      this.allSubsServicesStatusSubs = this.systemService.getServicesStatus(this.subscriberInfo.subscriberId).subscribe(res => {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\n        if (!onSave) this.netWorkServiceIsNotConfigured = true;\n        if (res) {\n          // if(onSave){\n          if (!onSave) this.netWorkServiceIsNotConfigured = Object.values(res).every(e => !e.length);\n          // }\n          // this.servicedisable = !this.netWorkServiceIsNotConfigured;\n          if (res && (res === null || res === void 0 ? void 0 : res.dataServices) && (res === null || res === void 0 ? void 0 : res.dataServices.length)) {\n            let l = ((_a = res === null || res === void 0 ? void 0 : res.dataServices) === null || _a === void 0 ? void 0 : _a.length) - 1;\n            this.dataServicesStatus = (res === null || res === void 0 ? void 0 : res.dataServices[0]) ? res === null || res === void 0 ? void 0 : res.dataServices[0] : {};\n          } else {\n            this.dataServicesStatus = {};\n          }\n          if (res && (res === null || res === void 0 ? void 0 : res.videoServices) && (res === null || res === void 0 ? void 0 : res.videoServices.length)) {\n            let l = ((_b = res === null || res === void 0 ? void 0 : res.videoServices) === null || _b === void 0 ? void 0 : _b.length) - 1;\n            this.videoServicesStatus = (res === null || res === void 0 ? void 0 : res.videoServices[0]) ? res === null || res === void 0 ? void 0 : res.videoServices[0] : {};\n          } else {\n            this.videoServicesStatus = {};\n          }\n          if (res && (res === null || res === void 0 ? void 0 : res.voiceServices) && (res === null || res === void 0 ? void 0 : res.voiceServices.length)) {\n            let l = ((_c = res === null || res === void 0 ? void 0 : res.voiceServices) === null || _c === void 0 ? void 0 : _c.length) - 1;\n            this.voiceServicesStatus = (res === null || res === void 0 ? void 0 : res.voiceServices[0]) ? res === null || res === void 0 ? void 0 : res.voiceServices[0] : {};\n          } else {\n            this.voiceServicesStatus = {};\n          }\n        } else {\n          this.DataService = {};\n          this.dataservices1 = {};\n          this.videoServicesStatus = {};\n          this.voiceServicesStatus = {};\n        }\n        if ((_f = (_e = (_d = this.subsSysServiceForm) === null || _d === void 0 ? void 0 : _d.services) === null || _e === void 0 ? void 0 : _e.data) === null || _f === void 0 ? void 0 : _f.usoc) {\n          if (((_j = (_h = (_g = this.subsSysServiceForm) === null || _g === void 0 ? void 0 : _g.services) === null || _h === void 0 ? void 0 : _h.data) === null || _j === void 0 ? void 0 : _j.usoc) === ((_k = this.dataServicesStatus) === null || _k === void 0 ? void 0 : _k.serviceDefinitionName)) {\n            this.DataService = this.dataServicesStatus;\n            this.dataservices1 = this.dataServicesStatus1;\n          } else if (((_o = (_m = (_l = this.subsSysServiceForm) === null || _l === void 0 ? void 0 : _l.services) === null || _m === void 0 ? void 0 : _m.data) === null || _o === void 0 ? void 0 : _o.usoc) !== ((_p = this.dataServicesStatus) === null || _p === void 0 ? void 0 : _p.serviceDefinitionName)) {\n            this.DataService = this.dataServicesStatus1;\n            this.dataservices1 = this.dataServicesStatus;\n          }\n        } else {\n          this.DataService = this.dataServicesStatus;\n          this.dataservices1 = this.dataServicesStatus1;\n        }\n        this.serviceData = {\n          data: this.DataService,\n          data1: this.dataservices1,\n          video: this.videoServicesStatus,\n          voice: this.voiceServicesStatus\n        };\n        this.loading = false;\n      }, err => {\n        this.pageErrorHandle(err);\n        this.DataService = {};\n        this.dataservices1 = {};\n        this.videoServicesStatus = {};\n        this.voiceServicesStatus = {};\n        this.serviceData = {\n          data: {},\n          data1: {},\n          video: {},\n          voice: {}\n        };\n        this.loading = false;\n      });\n    }\n  }\n  FoundationAddSystemComponent.ɵfac = function FoundationAddSystemComponent_Factory(t) {\n    return new (t || FoundationAddSystemComponent)(i0.ɵɵdirectiveInject(i1.TranslateService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.CcoCommonService), i0.ɵɵdirectiveInject(i5.FoundationDataService), i0.ɵɵdirectiveInject(i6.FoundationManageService), i0.ɵɵdirectiveInject(i7.SsoAuthService), i0.ɵɵdirectiveInject(i8.CommonService), i0.ɵɵdirectiveInject(i9.MycommunityIqService), i0.ɵɵdirectiveInject(i10.AddSubscriberService), i0.ɵɵdirectiveInject(i11.CommonFunctionsService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  FoundationAddSystemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FoundationAddSystemComponent,\n    selectors: [[\"app-foundation-add-system\"]],\n    viewQuery: function FoundationAddSystemComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(FoundationSystemDetailsComponent, 5);\n        i0.ɵɵviewQuery(ServiceTierComponent, 5);\n        i0.ɵɵviewQuery(EdgeSuitsComponent, 5);\n        i0.ɵɵviewQuery(StaticGroupsComponent, 5);\n        i0.ɵɵviewQuery(SystemAdvancedComponent, 5);\n        i0.ɵɵviewQuery(AddServicesComponent, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.childSystemDetails = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.childSystemServicetier = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.childSystemEdgesuits = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.childStaticGroups = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.childSystemAdvance = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.childNetworkService = _t.first);\n      }\n    },\n    decls: 24,\n    vars: 15,\n    consts: [[1, \"mb-2\"], [\"class\", \"container\", 4, \"ngIf\"], [1, \"container\", \"loader-wrapper\"], [\"class\", \"loader-wrapper-info\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-danger fade show\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-success fade show\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-danger\", 4, \"ngIf\"], [1, \"row\", \"my-2\"], [1, \"col-md-8\", \"px-0\", \"ccl-tabs\", \"mt-2\"], [\"id\", \"tabs\", 1, \"nav\", \"nav-tabs\", \"sub-tab\"], [1, \"nav-item\"], [\"id\", \"sys-subscriber\", \"data-toggle\", \"tab\", 1, \"nav-link\", 3, \"ngClass\", \"click\"], [4, \"ngIf\"], [\"class\", \"nav-item\", 4, \"ngIf\"], [1, \"col-md-4\", \"text-right\", \"border-bottom-grey\"], [\"type\", \"submit\", 1, \"mr-3\", \"btn-default\", \"primary\", 3, \"disabled\", \"click\"], [1, \"close-icon\", \"pointer\", 3, \"click\"], [\"src\", \"assets/img/close-icon.svg\", \"alt\", \"\"], [1, \"container\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"cco-title\"], [1, \"loader-wrapper-info\"], [1, \"loader\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"spinner-border\", \"text-primary\"], [1, \"sr-only\"], [1, \"w-100\", \"alert\", \"alert-danger\", \"fade\", \"show\"], [1, \"error-img\"], [\"src\", \"./assets/img/ic_error-36px.svg\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [1, \"d-inline-flex\", 3, \"innerHtml\"], [1, \"w-100\", \"alert\", \"alert-success\", \"fade\", \"show\"], [1, \"success-img\"], [\"src\", \"./assets/img/success-icon.svg\"], [1, \"w-100\", \"alert\", \"alert-danger\"], [\"id\", \"sys-edgesuits\", \"data-toggle\", \"tab\", 1, \"disabled\", 3, \"ngClass\", \"click\"], [\"id\", \"sys-edgesuits\", \"data-toggle\", \"tab\", 1, \"nav-link\", 3, \"ngClass\", \"click\"], [\"id\", \"sys-Advance\", \"data-toggle\", \"tab\", 1, \"disabled\", 3, \"ngClass\"], [\"id\", \"sys-Adv\", \"data-toggle\", \"tab\", 1, \"nav-link\", 3, \"ngClass\", \"click\"], [3, \"staticGroups\", \"AllFormData\", \"sys_Det\", \"system_id\", \"subscriberName\", \"SSIDbackup\", \"subscriberLocationId\", \"deviceDataList\", \"out_static_groups_submit\", \"out_static_groups_change\", \"advanced_enable_disable\", \"Out_sysDet\", \"out_sys_Subsc_submit\", \"Out_System_Focus\", \"Out_Service_Status\", 4, \"ngIf\"], [3, \"sys_ServiceTiers\", \"AllFormData\", \"formOptions\", \"servicesListData\", \"Out_sys_ServiceTiers\", \"out_sys_service_tiers_submit\", 4, \"ngIf\"], [3, \"sys_EdgeSuites\", \"AllFormData\", \"IQ_SuiteEnable\", \"arloEntitleEnable\", \"myCommunityIQEntitlement\", \"arloUnlimitedplusentitlement\", \"proExpDisable\", \"arloUnlimitedentitlement\", \"ServifyEnableentitlement\", \"ServifyPlatinumentitlement\", \"ServifySilverentitlement\", \"ServifyGoldentitlement\", \"Bark_Premiumentitlement\", \"Bark_Juniorentitlement\", \"ProductIQEntitleEnable\", \"ExpIQEntitleEnable\", \"ProAndExpIQEntitleEnable\", \"smallBizIQentitlement\", \"systemInfo\", \"formOptions\", \"Out_System_Focus\", \"Out_sys_EdgeSuites\", \"allFormData\", \"out_sys_edge_suits_submit\", \"parentOpMode\", 4, \"ngIf\"], [3, \"staticGroups\", \"AllFormData\", \"deviceDataList\", \"out_static_groups_change\", \"out_static_groups_submit\", 4, \"ngIf\"], [\"class\", \"py-4 pointer\", 3, \"click\", 4, \"ngIf\"], [3, \"sys_ServiceTiers\", \"AllFormData\", \"formOptions\", \"servicesListData\", \"device\", \"staticGroups\", \"deviceDataList\", \"servicedisable\", \"preProvisionedSystem\", \"Out_sys_ServiceTiers\", \"out_sys_service_tiers_submit\", \"out_static_groups_change\", \"out_static_groups_submit\", 4, \"ngIf\"], [3, \"data_plan\", \"video_plan\", \"voice_plan\", \"sys_Service\", \"DialPlanitem\", \"disableService\", \"serviceData\", \"Out_Service\", \"out_servicesubmit\", 4, \"ngIf\"], [3, \"staticGroups\", \"AllFormData\", \"sys_Det\", \"system_id\", \"subscriberName\", \"SSIDbackup\", \"subscriberLocationId\", \"deviceDataList\", \"out_static_groups_submit\", \"out_static_groups_change\", \"advanced_enable_disable\", \"Out_sysDet\", \"out_sys_Subsc_submit\", \"Out_System_Focus\", \"Out_Service_Status\"], [3, \"sys_ServiceTiers\", \"AllFormData\", \"formOptions\", \"servicesListData\", \"Out_sys_ServiceTiers\", \"out_sys_service_tiers_submit\"], [3, \"sys_EdgeSuites\", \"AllFormData\", \"IQ_SuiteEnable\", \"arloEntitleEnable\", \"myCommunityIQEntitlement\", \"arloUnlimitedplusentitlement\", \"proExpDisable\", \"arloUnlimitedentitlement\", \"ServifyEnableentitlement\", \"ServifyPlatinumentitlement\", \"ServifySilverentitlement\", \"ServifyGoldentitlement\", \"Bark_Premiumentitlement\", \"Bark_Juniorentitlement\", \"ProductIQEntitleEnable\", \"ExpIQEntitleEnable\", \"ProAndExpIQEntitleEnable\", \"smallBizIQentitlement\", \"systemInfo\", \"formOptions\", \"Out_System_Focus\", \"Out_sys_EdgeSuites\", \"allFormData\", \"out_sys_edge_suits_submit\", \"parentOpMode\"], [3, \"staticGroups\", \"AllFormData\", \"deviceDataList\", \"out_static_groups_change\", \"out_static_groups_submit\"], [1, \"py-4\", \"pointer\", 3, \"click\"], [3, \"sys_ServiceTiers\", \"AllFormData\", \"formOptions\", \"servicesListData\", \"device\", \"staticGroups\", \"deviceDataList\", \"servicedisable\", \"preProvisionedSystem\", \"Out_sys_ServiceTiers\", \"out_sys_service_tiers_submit\", \"out_static_groups_change\", \"out_static_groups_submit\"], [3, \"data_plan\", \"video_plan\", \"voice_plan\", \"sys_Service\", \"DialPlanitem\", \"disableService\", \"serviceData\", \"Out_Service\", \"out_servicesubmit\"]],\n    template: function FoundationAddSystemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵtemplate(1, FoundationAddSystemComponent_div_1_Template, 5, 1, \"div\", 1);\n        i0.ɵɵtemplate(2, FoundationAddSystemComponent_div_2_Template, 5, 2, \"div\", 1);\n        i0.ɵɵtemplate(3, FoundationAddSystemComponent_div_3_Template, 5, 1, \"div\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 2);\n        i0.ɵɵtemplate(5, FoundationAddSystemComponent_div_5_Template, 6, 1, \"div\", 3);\n        i0.ɵɵtemplate(6, FoundationAddSystemComponent_div_6_Template, 6, 1, \"div\", 4);\n        i0.ɵɵtemplate(7, FoundationAddSystemComponent_div_7_Template, 6, 1, \"div\", 5);\n        i0.ɵɵtemplate(8, FoundationAddSystemComponent_div_8_Template, 6, 1, \"div\", 6);\n        i0.ɵɵelementStart(9, \"div\", 7);\n        i0.ɵɵelementStart(10, \"div\", 8);\n        i0.ɵɵelementStart(11, \"ul\", 9);\n        i0.ɵɵelementStart(12, \"li\", 10);\n        i0.ɵɵelementStart(13, \"a\", 11);\n        i0.ɵɵlistener(\"click\", function FoundationAddSystemComponent_Template_a_click_13_listener() {\n          return ctx.gotoTab(\"systemDetails\");\n        });\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(15, FoundationAddSystemComponent_div_15_Template, 3, 2, \"div\", 12);\n        i0.ɵɵtemplate(16, FoundationAddSystemComponent_li_16_Template, 3, 2, \"li\", 13);\n        i0.ɵɵtemplate(17, FoundationAddSystemComponent_li_17_Template, 3, 2, \"li\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 14);\n        i0.ɵɵelementStart(19, \"button\", 15);\n        i0.ɵɵlistener(\"click\", function FoundationAddSystemComponent_Template_button_click_19_listener() {\n          return ctx.saveSystem();\n        });\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"span\", 16);\n        i0.ɵɵlistener(\"click\", function FoundationAddSystemComponent_Template_span_click_21_listener() {\n          return ctx.closeAddEdit();\n        });\n        i0.ɵɵelement(22, \"img\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(23, FoundationAddSystemComponent_section_23_Template, 8, 7, \"section\", 12);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.subscriberName && !ctx.subscriberLocationId);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.subscriberName || ctx.subscriberLocationId) && ctx.system);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.system);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading || ctx.savesystemsubloading || ctx.edgeSuiteLoading || ctx.serviceLoading || (ctx.systemInfo == null ? null : ctx.systemInfo.sn) && !ctx.deviceDataAvail || ctx.microSiteLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.success);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.edgeSuitsWarning);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngClass\", ctx.activeTab == \"systemDetails\" ? \"active\" : \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.language.Details, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.arloEnableentitlement || ctx.proAndExpEnableentitlement || ctx.productIQEnableentitlement || ctx.ExperienceIQEnableentitlement || ctx.ServifyEnableentitlement || ctx.arloUnlimitedentitlement || ctx.arloUnlimitedplusentitlement || ctx.smallBizIQentitlement || ctx.Bark_Premiumentitlement || ctx.Bark_Juniorentitlement || ctx.ServifyPlatinumentitlement || ctx.ServifySilverentitlement || ctx.ServifyGoldentitlement || ctx.myCommunityIQEntitlement);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.servicetabdisable && !ctx.createdSubscriberId);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.servicetabdisable || ctx.createdSubscriberId);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.loading || ctx.saveDisabled);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.language[\"Save Changes\"], \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.dataAvail);\n      }\n    },\n    directives: [i12.NgIf, i12.NgClass, i13.FoundationSystemDetailsComponent, i14.ServiceTierComponent, i15.EdgeSuitsComponent, i16.StaticGroupsComponent, i17.SystemAdvancedComponent, i18.AddServicesComponent],\n    styles: [\".close-icon[_ngcontent-%COMP%]{cursor:pointer}.cco-secondary-title-system[_ngcontent-%COMP%]{font-size:24px;line-height:53px;font-weight:500}a.disabled[_ngcontent-%COMP%]{color:gray;cursor:not-allowed;text-decoration:none;font-size:18px;line-height:40px;padding:0 16px}a[_ngcontent-%COMP%]:hover{color:gray;border-bottom:none!important}.border-bottom-grey[_ngcontent-%COMP%]{border-bottom:2px solid #cccccc}.pointer[_ngcontent-%COMP%]{cursor:pointer}\"]\n  });\n  return FoundationAddSystemComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}