{"ast":null,"code":"import { requestType } from './../model/files-list.model';\nimport { FilesListModel } from './../model/files-list.model';\nimport { HttpParams } from '@angular/common/http';\nimport { getConfigFileList } from '../services/endpoint';\nimport { DataTableDirective } from 'angular-datatables';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app-services/translate.service\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"src/app/shared/services/sso-auth.service\";\nimport * as i4 from \"../services/files.service\";\nimport * as i5 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i6 from \"@angular/platform-browser\";\nimport * as i7 from \"@angular/router\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"angular-datatables\";\nconst _c0 = [\"deleteConfiguratioModal\"];\nfunction ConfigurationFilesListComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.language[\"Access denied due to RBAC. Please consult your Organization Administrator for access.\"], \" \");\n  }\n}\nfunction ConfigurationFilesListComponent_div_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵelementStart(1, \"span\", 16);\n    i0.ɵɵelement(2, \"img\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function ConfigurationFilesListComponent_div_1_div_4_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return ctx_r8.hideError();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r2.language[ctx_r2.errorMsg] || ctx_r2.errorMsg, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction ConfigurationFilesListComponent_div_1_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵelementStart(1, \"span\", 21);\n    i0.ɵɵelement(2, \"img\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ConfigurationFilesListComponent_div_1_div_5_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return ctx_r10.hideSuccess();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r3.successMsg, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction ConfigurationFilesListComponent_div_1_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵelementStart(1, \"span\", 16);\n    i0.ɵɵelement(2, \"img\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementStart(5, \"b\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 26);\n    i0.ɵɵelementStart(8, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function ConfigurationFilesListComponent_div_1_div_6_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return ctx_r12.deleteConfigFile();\n    });\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function ConfigurationFilesListComponent_div_1_div_6_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return ctx_r14.closeModal();\n    });\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r4.language[\"Are you sure you want to delete the configuration\"], \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.modalInfo);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.language.Confirm, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.language.Cancel, \" \");\n  }\n}\nfunction ConfigurationFilesListComponent_div_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵelementStart(1, \"div\", 30);\n    i0.ɵɵelementStart(2, \"div\", 31);\n    i0.ɵɵelementStart(3, \"span\", 32);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r5.language.Loading);\n  }\n}\nfunction ConfigurationFilesListComponent_div_1_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function ConfigurationFilesListComponent_div_1_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return ctx_r15.gotoAdd();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r6.language.Add_Config_File);\n  }\n}\nfunction ConfigurationFilesListComponent_div_1_table_12_tr_13_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 41);\n    i0.ɵɵelementStart(1, \"a\", 42);\n    i0.ɵɵlistener(\"click\", function ConfigurationFilesListComponent_div_1_table_12_tr_13_td_9_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const file_r19 = i0.ɵɵnextContext().$implicit;\n      const ctx_r23 = i0.ɵɵnextContext(3);\n      return ctx_r23.deleteConfigFileConfirm(file_r19);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"title\", ctx_r20.language.delete);\n  }\n}\nfunction ConfigurationFilesListComponent_div_1_table_12_tr_13_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"td\");\n  }\n}\nfunction ConfigurationFilesListComponent_div_1_table_12_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 38);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, ConfigurationFilesListComponent_div_1_table_12_tr_13_td_9_Template, 2, 1, \"td\", 39);\n    i0.ɵɵtemplate(10, ConfigurationFilesListComponent_div_1_table_12_tr_13_ng_template_10_Template, 1, 0, \"ng-template\", null, 40, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const file_r19 = ctx.$implicit;\n    const _r21 = i0.ɵɵreference(11);\n    const ctx_r17 = i0.ɵɵnextContext(3);\n    i0.ɵɵpropertyInterpolate(\"id\", file_r19._id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(file_r19.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(file_r19.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r17.language[file_r19.type] || file_r19.type, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(file_r19.version);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r17.hasWriteAccess)(\"ngIfElse\", _r21);\n  }\n}\nfunction ConfigurationFilesListComponent_div_1_table_12_tbody_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵelementStart(2, \"td\", 43);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r18.language[\"No data available in table\"]);\n  }\n}\nfunction ConfigurationFilesListComponent_div_1_table_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 34);\n    i0.ɵɵelementStart(1, \"thead\");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵelementStart(3, \"th\", 35);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 35);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 35);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\", 35);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"th\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵtemplate(13, ConfigurationFilesListComponent_div_1_table_12_tr_13_Template, 12, 7, \"tr\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, ConfigurationFilesListComponent_div_1_table_12_tbody_14_Template, 4, 1, \"tbody\", 37);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"dtOptions\", ctx_r7.tableOptions);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r7.language.Name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r7.language.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r7.language.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r7.language.Version);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.filesListObj);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r7.filesListObj == null ? null : ctx_r7.filesListObj.length) == 0);\n  }\n}\nfunction ConfigurationFilesListComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵtext(2, \"Configuration Files\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 5);\n    i0.ɵɵtemplate(4, ConfigurationFilesListComponent_div_1_div_4_Template, 6, 1, \"div\", 6);\n    i0.ɵɵtemplate(5, ConfigurationFilesListComponent_div_1_div_5_Template, 6, 1, \"div\", 7);\n    i0.ɵɵtemplate(6, ConfigurationFilesListComponent_div_1_div_6_Template, 12, 4, \"div\", 8);\n    i0.ɵɵelementStart(7, \"div\", 9);\n    i0.ɵɵtemplate(8, ConfigurationFilesListComponent_div_1_div_8_Template, 5, 1, \"div\", 10);\n    i0.ɵɵelementStart(9, \"div\", 11);\n    i0.ɵɵelementStart(10, \"div\", 12);\n    i0.ɵɵtemplate(11, ConfigurationFilesListComponent_div_1_button_11_Template, 2, 1, \"button\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, ConfigurationFilesListComponent_div_1_table_12_Template, 15, 7, \"table\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showSuccess);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.deleteData == null ? null : ctx_r1.deleteData.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.loading);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.hasWriteAccess);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.dtRendered);\n  }\n}\nexport let ConfigurationFilesListComponent = /*#__PURE__*/(() => {\n  class ConfigurationFilesListComponent {\n    constructor(translateService, http, ssoAuthService, fileService, dialogService, titleService, router) {\n      this.translateService = translateService;\n      this.http = http;\n      this.ssoAuthService = ssoAuthService;\n      this.fileService = fileService;\n      this.dialogService = dialogService;\n      this.titleService = titleService;\n      this.router = router;\n      this.filesListObj = [];\n      this.tableOptions = {};\n      this.showError = false;\n      this.showSuccess = false;\n      this.dtRendered = false;\n      this.loading = false;\n      this.hasWriteAccess = false;\n      this.hasScopeAccess = false;\n      this.orgId = this.ssoAuthService.getOrgId();\n      this.getConfigFilesListCout();\n      this.scopes = this.ssoAuthService.getScopes();\n      // this.titleService.setTitle('Cloud Calix - Operations - Operations - Subscriber Operations - Operations - Configuration File');\n    }\n\n    setTitle(url) {\n      if (!this.router.url.includes('cco-foundation') && !this.router.url.includes('cco/operations/configuration')) {\n        this.titleService.setTitle(`${this.language['Config_Files']} - ${this.language['Operations']} - ${this.language['NetOps']} - ${this.language['Service']} - ${this.language['Calix Cloud']}`);\n      } else if (this.router.url.includes('cco/operations/configuration')) {\n        this.titleService.setTitle(`${this.language['Config_Files']} - ${this.language['Configuration']} - ${this.language['Operations']} - ${this.language['Operations']} - ${this.language['Calix Cloud']}`);\n      }\n    }\n    ngOnInit() {\n      var _a, _b, _c;\n      // this.titleService.setTitle('Cloud Calix - Support - Netops - Operations - Configuration Files');\n      // this.titleService.setTitle('Calix Cloud - Configuration Files');\n      this.language = this.translateService.defualtLanguage;\n      this.languageSubject = this.translateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n        this.redraw();\n        this.setTitle(this.router.url);\n      });\n      this.setTitle(this.router.url);\n      if (!this.router.url.includes('cco/operations/configuration')) {\n        if (environment.VALIDATE_SCOPE) {\n          this.scopes['cloud.rbac.csc.netops.operations.config_files'] = this.scopes['cloud.rbac.csc.netops.operations.config_files'] ? this.scopes['cloud.rbac.csc.netops.operations.config_files'] : [];\n          if (this.scopes['cloud.rbac.csc.netops.operations.config_files'].length) {\n            this.hasScopeAccess = true;\n          }\n          if (this.scopes && this.scopes['cloud.rbac.csc.netops.operations.config_files'] && this.scopes['cloud.rbac.csc.netops.operations.config_files'].indexOf('write') !== -1) {\n            this.hasWriteAccess = true;\n          }\n        } else {\n          this.hasScopeAccess = true;\n          this.hasWriteAccess = true;\n        }\n      } else {\n        if (environment.VALIDATE_SCOPE) {\n          if ((_b = (_a = this.scopes) === null || _a === void 0 ? void 0 : _a['cloud.rbac.coc.operations.configuration.configurationfiles']) === null || _b === void 0 ? void 0 : _b.length) {\n            this.hasScopeAccess = true;\n          }\n          if (this.scopes && ((_c = this.scopes['cloud.rbac.coc.operations.configuration.configurationfiles']) === null || _c === void 0 ? void 0 : _c.includes('write'))) {\n            this.hasWriteAccess = true;\n          }\n        } else {\n          this.hasScopeAccess = true;\n          this.hasWriteAccess = true;\n        }\n      }\n      if (!this.hasScopeAccess) {\n        this.ssoAuthService.setPageAccess(false);\n        return;\n      }\n      this.frTable = this.translateService.fr;\n      this.fetchConfigurationList();\n    }\n    // tableLanguageOptions() {\n    //   if (localStorage.getItem('defaultLanguage') && localStorage.getItem('defaultLanguage') == 'fr') {\n    //     this.tableOptions.language = this.frTable;\n    //   } else if (localStorage.getItem('defaultLanguage') && localStorage.getItem('defaultLanguage') == 'en' && this.tableOptions.language) {\n    //     delete this.tableOptions.language;\n    //   }\n    // }\n    fetchConfigurationList() {\n      this.loading = true;\n      const that = this;\n      this.tableOptions = {\n        pagingType: 'full_numbers',\n        pageLength: 20,\n        serverSide: true,\n        processing: false,\n        ordering: false,\n        dom: \"tip\",\n        responsive: true,\n        ajax: (dataTablesParameters, callback) => {\n          const params = new HttpParams().set(\"skip\", dataTablesParameters.start).set(\"limit\", dataTablesParameters.length).set(\"type\", requestType.Configuration_File);\n          if (this.ssoAuthService.getOrg(this.orgId)) {\n            params.set(\"orgId\", this.orgId);\n          }\n          ;\n          that.http.get(getConfigFileList, {\n            params\n          }).subscribe(resp => {\n            that.filesListObj = resp;\n            this.loading = false;\n            callback({\n              recordsTotal: this.count,\n              recordsFiltered: this.count,\n              data: []\n            });\n          }, error => {\n            this.loading = false;\n            this.errorMsg = error.error.error;\n            this.showError = true;\n            if (error.status === 500) {\n              this.errorMsg = 'Internal Server Error';\n            }\n          });\n        },\n        drawCallback: settings => {\n          this.changeTableStatusLanguage(settings);\n          let total = settings._iRecordsDisplay; // for server side rendering\n          let length = settings._iDisplayLength;\n          if (total <= length) {\n            $(settings.nTableWrapper).find('#users-table_last').addClass('disabled');\n          } else {\n            //$(settings.nTableWrapper).find('#users-table_last').removeClass('disabled');\n          }\n        }\n      };\n    }\n    changeTableStatusLanguage(dtObj) {\n      const nf = new Intl.NumberFormat();\n      this.tableCounts = {\n        searchText: dtObj.oPreviousSearch.sSearch.replace(/\\s+/g, \"\"),\n        total: dtObj._iRecordsTotal,\n        displayCount: dtObj._iDisplayLength,\n        displayed: dtObj._iRecordsDisplay,\n        start: dtObj._iDisplayStart\n      };\n      const isFrench = sessionStorage.getItem('defaultLanguage') == 'fr';\n      const isSpanish = sessionStorage.getItem('defaultLanguage') == 'es';\n      const isGermen = sessionStorage.getItem('defaultLanguage') == 'de_DE';\n      const filtered = `${dtObj.oPreviousSearch.sSearch.replace(/\\s+/g, \"\") ? isFrench ? `(filtrées à partir des ${nf.format(dtObj._iRecordsTotal)} entrées totales)` : isSpanish ? `(filtrado de un total de ${nf.format(dtObj._iRecordsTotal)} entradas)` : isGermen ? `(gefiltert aus ${nf.format(dtObj._iRecordsTotal)} Einträgen)` : `(filtered from ${nf.format(dtObj._iRecordsTotal)} total entries)` : ''}`;\n      const startCount = dtObj._iRecordsDisplay == 0 ? -1 : dtObj._iDisplayStart;\n      const showingCount = dtObj._iDisplayStart + dtObj._iDisplayLength > dtObj._iRecordsDisplay ? dtObj._iRecordsDisplay : dtObj._iDisplayStart + dtObj._iDisplayLength;\n      $('div [role=\"status\"]').text(isFrench ? `Affichage de ${nf.format(startCount + 1)} à ${nf.format(showingCount)} des ${nf.format(dtObj._iRecordsDisplay)} entrées ${filtered}` : isSpanish ? `Se muestran del ${nf.format(startCount + 1)} al ${nf.format(showingCount)} de ${nf.format(dtObj._iRecordsDisplay)} resultados ${filtered}` : isGermen ? `Angezeigt ${nf.format(startCount + 1)} bis ${nf.format(showingCount)} von ${nf.format(dtObj._iRecordsDisplay)} ergebnissen ${filtered}` : `Showing ${nf.format(startCount + 1)} to ${nf.format(showingCount)} of ${nf.format(dtObj._iRecordsDisplay)} entries ${filtered}`);\n      //$(\".dataTables_filter label\")[0].childNodes[0].nodeValue = isFrench ? 'Chercher:' : 'Search:';\n      //$(\".dataTables_length label\")[0].childNodes[0].nodeValue = isFrench ? 'Afficher les ' : 'Show ';\n      //$(\".dataTables_length label\")[0].childNodes[2].nodeValue = isFrench ? ' entrées' : ' entries';\n      $(\".first\").text(isFrench ? 'Le début' : isSpanish ? 'Primero' : isGermen ? 'Erste Seite' : 'First');\n      $(\".previous\").text(isFrench ? 'Précédent' : isSpanish ? 'Anterior' : isGermen ? 'Zurück' : 'Previous');\n      $(\".next\").text(isFrench ? 'Suivant' : isSpanish ? 'Siguiente' : isGermen ? 'Weiter' : 'Next');\n      $(\".last\").text(isFrench ? 'Dernière' : isSpanish ? 'Último' : isGermen ? 'Letzte' : 'Last');\n    }\n    getConfigFilesListCout() {\n      this.fileService.getConfigFilesCount(this.orgId).subscribe(res => {\n        this.count = res.count;\n        this.dtRendered = true;\n      });\n    }\n    deleteConfigFileConfirm(data) {\n      this.loading = false;\n      this.errorMsg = \"\";\n      this.showError = false;\n      this.deleteData = data;\n      this.modalTitle = 'Warning!';\n      this.modalInfo = ` ${data.name}?`;\n      $(\"html, body\").animate({\n        scrollTop: 0\n      }, \"slow\");\n      // document.body.scrollIntoView();\n      // this.closeModal();\n      // this.modalRef = this.dialogService.open(this.deleteConfiguratioModal);\n    }\n\n    deleteConfigFile() {\n      // this.closeModal();\n      this.loading = true;\n      this.fileService.deleteConfigFileById(this.deleteData._id).subscribe(res => {\n        this.loading = false;\n        this.showSuccess = true;\n        this.successMsg = this.language['successfully Deleted!!'];\n        this.getConfigFilesListCout();\n        this.deleteData = new FilesListModel();\n        this.redraw();\n      }, err => {\n        this.loading = false;\n        this.deleteData = new FilesListModel();\n        this.errorMsg = \"Error! \" + err.error.error;\n        this.showError = true;\n      });\n    }\n    redraw() {\n      var _a;\n      (_a = this.dtElement) === null || _a === void 0 ? void 0 : _a.dtInstance.then(dtInstance => {\n        dtInstance.draw();\n      });\n    }\n    closeModal() {\n      this.deleteData = new FilesListModel();\n      if (this.modalRef) {\n        this.modalRef.close();\n      }\n    }\n    hideError() {\n      this.showError = false;\n      this.errorMsg = '';\n    }\n    hideSuccess() {\n      this.showSuccess = false;\n      this.successMsg = '';\n    }\n    gotoAdd() {\n      var _a;\n      if (((_a = window.location.href) === null || _a === void 0 ? void 0 : _a.indexOf('/cco/operations/configuration/configuration-files-list')) !== -1) {\n        this.router.navigate(['./cco/operations/configuration/configuration-files-form']);\n        return;\n      }\n      this.ssoAuthService.redirectByUrl(['/support/netops-management/operations/configuration-files-form', '/cco/operations/cco-system-operations/configuration-files/configuration-files-form', '', '/cco/operations/configuration/configuration-files-form']);\n    }\n    ngOnDestroy() {\n      this.languageSubject.unsubscribe();\n    }\n    // For Unit test case \n    getConfigurationFileList() {\n      const params = new HttpParams().set(\"orgId\", this.orgId).set(\"skip\", 0).set(\"limit\", 10).set(\"type\", requestType.Configuration_File);\n      this.fileService.getConfigurationFileList(getConfigFileList, {\n        params\n      }).subscribe(resp => {\n        this.filesListObj = resp;\n      });\n    }\n  }\n  ConfigurationFilesListComponent.ɵfac = function ConfigurationFilesListComponent_Factory(t) {\n    return new (t || ConfigurationFilesListComponent)(i0.ɵɵdirectiveInject(i1.TranslateService), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.SsoAuthService), i0.ɵɵdirectiveInject(i4.FileService), i0.ɵɵdirectiveInject(i5.NgbModal), i0.ɵɵdirectiveInject(i6.Title), i0.ɵɵdirectiveInject(i7.Router));\n  };\n  ConfigurationFilesListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ConfigurationFilesListComponent,\n    selectors: [[\"app-configuration-files-list\"]],\n    viewQuery: function ConfigurationFilesListComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n        i0.ɵɵviewQuery(DataTableDirective, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.deleteConfiguratioModal = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dtElement = _t.first);\n      }\n    },\n    decls: 2,\n    vars: 2,\n    consts: [[\"role\", \"alert\", \"class\", \"alert alert-warning\", 4, \"ngIf\"], [\"id\", \"configure-filess\", \"class\", \"tab-pane\", 4, \"ngIf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-warning\"], [\"id\", \"configure-filess\", 1, \"tab-pane\"], [1, \"d-block\", \"my-3\", \"d-sm-none\", \"ccl-Secondary-title\", \"mb-2\", \"col-md-12\", \"border-bottom\"], [1, \"pb-2\"], [\"class\", \"w-100 alert alert alert-danger  fade show\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert alert-success  fade show\", 4, \"ngIf\"], [\"class\", \"py-3 warning-msg \", 4, \"ngIf\"], [1, \"table-responsive\", \"configuration-files-table\", \"position-relative\"], [\"class\", \"loader\", 4, \"ngIf\"], [1, \"row\"], [1, \"col-md-6\", \"my-3\"], [\"type\", \"button\", \"id\", \"add-config-btn\", \"class\", \"btn-default primary px-3 px-3\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"configurationFilesTable\", \"datatable\", \"\", \"class\", \"\\n table table-hover table-striped\", 3, \"dtOptions\", 4, \"ngIf\"], [1, \"w-100\", \"alert\", \"alert\", \"alert-danger\", \"fade\", \"show\"], [1, \"error-img\"], [\"src\", \"./assets/img/ic_error-36px.svg\"], [\"type\", \"button\", \"id\", \"hide-error-btn\", 1, \"close\", 3, \"click\"], [1, \"d-inline-flex\", 3, \"innerHtml\"], [1, \"w-100\", \"alert\", \"alert\", \"alert-success\", \"fade\", \"show\"], [1, \"success-img\"], [\"src\", \"./assets/img/success-icon.svg\"], [\"type\", \"button\", \"id\", \"hide-success-btn\", 1, \"close\", 3, \"click\"], [1, \"py-3\", \"warning-msg\"], [\"src\", \"./assets/img/warning-icon.svg\"], [1, \"btn-con-sec\", \"float-right\"], [\"id\", \"confirm-btn\", 1, \"btn-default\", \"btn-primary\", \"px-3\", \"mr-2\", 3, \"click\"], [\"id\", \"cancel-btn\", 1, \"btn-default\", \"btn-dft\", \"py-1\", 3, \"click\"], [1, \"loader\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"spinner-border\", \"text-primary\"], [1, \"sr-only\"], [\"type\", \"button\", \"id\", \"add-config-btn\", 1, \"btn-default\", \"primary\", \"px-3\", \"px-3\", 3, \"click\"], [\"id\", \"configurationFilesTable\", \"datatable\", \"\", 1, \"table\", \"table-hover\", \"table-striped\", 3, \"dtOptions\"], [\"scope\", \"col\"], [3, \"id\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"id\"], [\"class\", \"actions\", 4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [1, \"actions\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-trash-o\", 2, \"cursor\", \"pointer\", 3, \"title\", \"click\"], [\"colspan\", \"5\", 1, \"no-data-available\"]],\n    template: function ConfigurationFilesListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ConfigurationFilesListComponent_div_0_Template, 2, 1, \"div\", 0);\n        i0.ɵɵtemplate(1, ConfigurationFilesListComponent_div_1_Template, 13, 6, \"div\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.hasScopeAccess);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasScopeAccess);\n      }\n    },\n    directives: [i8.NgIf, i9.DataTableDirective, i8.NgForOf],\n    styles: [\"[_nghost-%COMP%]     .dataTables_empty{display:none}.no-data-available[_ngcontent-%COMP%]{text-align:center}.configuration-files-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%!important}.configuration-files-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{word-break:break-all}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#fff0!important}.table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd) > td[_ngcontent-%COMP%]{background-color:#fff!important}.actions[_ngcontent-%COMP%]   a.fa-trash-o[_ngcontent-%COMP%]{text-decoration:none}\"]\n  });\n  return ConfigurationFilesListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}