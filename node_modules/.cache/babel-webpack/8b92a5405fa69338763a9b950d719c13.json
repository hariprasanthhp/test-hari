{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormArray, FormGroup } from '@angular/forms';\nimport _ from 'lodash';\nimport { AdvancedSystemComponent } from '../advanced-system/advanced-system.component';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app-services/translate.service\";\nimport * as i3 from \"src/app/cco-foundation/foundation-systems/foundation-data.service\";\nimport * as i4 from \"src/app/flow-config/services/common-functions.service\";\nimport * as i5 from \"src/app/sys-admin/services/common.service\";\nimport * as i6 from \"src/app/support/netops-management/subscriber-management/service/management.service\";\nimport * as i7 from \"src/app/shared/services/uri-validator.service\";\nimport * as i8 from \"src/app/cco-foundation/foundation-systems/foundation-manage/foundation-manage.service\";\nimport * as i9 from \"src/app/shared/services/sso-auth.service\";\nimport * as i10 from \"@angular/common/http\";\nimport * as i11 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i12 from \"../add-subscriber.service\";\nimport * as i13 from \"@angular/common\";\nimport * as i14 from \"../advanced-system/advanced-system.component\";\nconst _c0 = [\"deleteDeviceModel\"];\nfunction AddSystemComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵelementStart(2, \"div\", 11);\n    i0.ɵɵelementStart(3, \"div\", 12);\n    i0.ɵɵelementStart(4, \"span\", 13);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.language.Loading);\n  }\n}\nfunction AddSystemComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelementStart(1, \"span\", 15);\n    i0.ɵɵelement(2, \"img\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_div_2_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.closeAlert();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r1.errorInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction AddSystemComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵelementStart(1, \"span\", 20);\n    i0.ɵɵelement(2, \"img\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_div_3_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.closeAlert();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r2.successInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction AddSystemComponent_div_5_img_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 43);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_div_5_img_17_Template_img_click_0_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ind_r13 = i0.ɵɵnextContext().index;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.removeSystem(ind_r13);\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddSystemComponent_div_5_img_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 43);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_div_5_img_18_Template_img_click_0_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ind_r13 = i0.ɵɵnextContext().index;\n      const ctx_r24 = i0.ɵɵnextContext();\n      const _r6 = i0.ɵɵreference(9);\n      return ctx_r24.displayWaringMessageModel(ctx_r24.systemsListForm.value[\"systems\"][ind_r13].deviceId, ctx_r24.systemsListForm.value[\"systems\"][ind_r13].opmode, _r6);\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddSystemComponent_div_5_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"span\", 44);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementStart(6, \"span\", 44);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r16.language.OntlinkageType, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r16.linkageType, \".\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r16.language.please, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r16.RegErrorName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r16.language.associateONT, \" \");\n  }\n}\nfunction AddSystemComponent_div_5_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵelementStart(1, \"a\", 46);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_div_5_div_26_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ind_r13 = i0.ɵɵnextContext().index;\n      const ctx_r27 = i0.ɵɵnextContext();\n      return ctx_r27.showAdvancedForm(ind_r13);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r17.language.Advanced, \" \");\n  }\n}\nfunction AddSystemComponent_div_5_section_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"section\");\n  }\n}\nfunction AddSystemComponent_div_5_app_advanced_system_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-advanced-system\", 47);\n    i0.ɵɵlistener(\"Out_Data_Change\", function AddSystemComponent_div_5_app_advanced_system_28_Template_app_advanced_system_Out_Data_Change_0_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ind_r13 = i0.ɵɵnextContext().index;\n      const ctx_r30 = i0.ɵɵnextContext();\n      return ctx_r30.updateForm($event, ind_r13);\n    })(\"Out_Data_Submit\", function AddSystemComponent_div_5_app_advanced_system_28_Template_app_advanced_system_Out_Data_Submit_0_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ind_r13 = i0.ɵɵnextContext().index;\n      const ctx_r33 = i0.ɵɵnextContext();\n      return ctx_r33.save(ind_r13);\n    })(\"Out_System_Info\", function AddSystemComponent_div_5_app_advanced_system_28_Template_app_advanced_system_Out_System_Info_0_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ind_r13 = i0.ɵɵnextContext().index;\n      const ctx_r35 = i0.ɵɵnextContext();\n      return ctx_r35.updateSystemForm($event, ind_r13);\n    })(\"Out_unsavedData\", function AddSystemComponent_div_5_app_advanced_system_28_Template_app_advanced_system_Out_unsavedData_0_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ind_r13 = i0.ɵɵnextContext().index;\n      const ctx_r37 = i0.ɵɵnextContext();\n      return ctx_r37.unsavedData($event, ind_r13);\n    })(\"Out_wifiNotchanged\", function AddSystemComponent_div_5_app_advanced_system_28_Template_app_advanced_system_Out_wifiNotchanged_0_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ind_r13 = i0.ɵɵnextContext().index;\n      const ctx_r39 = i0.ɵɵnextContext();\n      return ctx_r39.wifiNotchanged($event, ind_r13);\n    })(\"Out_WiFi_Info\", function AddSystemComponent_div_5_app_advanced_system_28_Template_app_advanced_system_Out_WiFi_Info_0_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ind_r13 = i0.ɵɵnextContext().index;\n      const ctx_r41 = i0.ɵɵnextContext();\n      return ctx_r41.updateWifiForm($event, ind_r13);\n    })(\"Out_Unified\", function AddSystemComponent_div_5_app_advanced_system_28_Template_app_advanced_system_Out_Unified_0_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ind_r13 = i0.ɵɵnextContext().index;\n      const ctx_r43 = i0.ɵɵnextContext();\n      return ctx_r43.Out_Unified($event, ind_r13);\n    })(\"Out_LAN_Info\", function AddSystemComponent_div_5_app_advanced_system_28_Template_app_advanced_system_Out_LAN_Info_0_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ind_r13 = i0.ɵɵnextContext().index;\n      const ctx_r45 = i0.ɵɵnextContext();\n      return ctx_r45.updateDeviceObjForm($event, ind_r13, \"settings\");\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ind_r13 = i0.ɵɵnextContext().index;\n    const ctx_r19 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate1(\"id\", \"advanced_from_\", ind_r13, \"\");\n    i0.ɵɵproperty(\"iId\", ind_r13)(\"isPreProvistionedSystem\", ctx_r19.isPreProvistionedSystem)(\"systemId\", ctx_r19.systemsListForm.value[\"systems\"][ind_r13].deviceId)(\"deviceModels\", ctx_r19.Modelitems)(\"deviceDataList\", ctx_r19.deviceDataList)(\"sys_ServiceTiers\", ctx_r19.servicesFormData[ctx_r19.systemsListForm.value[\"systems\"][ind_r13].deviceId])(\"systemInfoData\", ctx_r19.systemInfoFormData[ctx_r19.systemsListForm.value[\"systems\"][ind_r13].deviceId])(\"ontDevice\", ctx_r19.ontDevice)(\"deviceData\", ctx_r19.deviceData[ctx_r19.systemsListForm.value[\"systems\"][ind_r13].deviceId])(\"formOptions\", ctx_r19.formOptions)(\"wifiObj\", ctx_r19.wifiInfoFormData[ctx_r19.systemsListForm.value[\"systems\"][ind_r13].deviceId])(\"tempWifiObj\", ctx_r19.tempWifiObj)(\"disableSystem\", ctx_r19.disableSystem)(\"editMode\", ctx_r19.editMode)(\"addDevObj\", ctx_r19.addDeviceObj[ctx_r19.systemsListForm.value[\"systems\"][ind_r13].deviceId]);\n  }\n}\nfunction AddSystemComponent_div_5_img_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r50 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 48);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_div_5_img_30_Template_img_click_0_listener() {\n      i0.ɵɵrestoreView(_r50);\n      const ind_r13 = i0.ɵɵnextContext().index;\n      const ctx_r48 = i0.ɵɵnextContext();\n      return ctx_r48.AddMoreSystem(ind_r13);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ind_r13 = i0.ɵɵnextContext().index;\n    const ctx_r20 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", !(ctx_r20.systemsListForm == null ? null : ctx_r20.systemsListForm.value[\"systems\"][ind_r13] == null ? null : ctx_r20.systemsListForm.value[\"systems\"][ind_r13].saved) ? \"not-allow\" : \"\");\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"inp-disabled\": a0\n  };\n};\nfunction AddSystemComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r53 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelementStart(1, \"div\", 23);\n    i0.ɵɵelementStart(2, \"div\", 24);\n    i0.ɵɵelementStart(3, \"div\", 25);\n    i0.ɵɵelementStart(4, \"div\", 26);\n    i0.ɵɵelementStart(5, \"div\", 27);\n    i0.ɵɵelementStart(6, \"label\", 28);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementStart(8, \"span\", 29);\n    i0.ɵɵtext(9, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"input\", 30);\n    i0.ɵɵlistener(\"change\", function AddSystemComponent_div_5_Template_input_change_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r53);\n      const ind_r13 = restoredCtx.index;\n      const ctx_r52 = i0.ɵɵnextContext();\n      return ctx_r52.deviceDetails(ind_r13);\n    })(\"keypress\", function AddSystemComponent_div_5_Template_input_keypress_10_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r53);\n      const ind_r13 = restoredCtx.index;\n      const ctx_r54 = i0.ɵɵnextContext();\n      ctx_r54.clsAlphaNoOnly($event);\n      return ctx_r54.maxLength(ind_r13);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 31);\n    i0.ɵɵelementStart(12, \"div\", 32);\n    i0.ɵɵelementStart(13, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_div_5_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r53);\n      const ind_r13 = restoredCtx.index;\n      const ctx_r55 = i0.ɵɵnextContext();\n      return ctx_r55.saveSystem(ind_r13);\n    });\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 34);\n    i0.ɵɵelementStart(16, \"div\", 35);\n    i0.ɵɵtemplate(17, AddSystemComponent_div_5_img_17_Template, 1, 0, \"img\", 36);\n    i0.ɵɵtemplate(18, AddSystemComponent_div_5_img_18_Template, 1, 0, \"img\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 26);\n    i0.ɵɵelementStart(20, \"div\", 27);\n    i0.ɵɵelementStart(21, \"small\", 37);\n    i0.ɵɵtext(22);\n    i0.ɵɵelement(23, \"br\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(25, AddSystemComponent_div_5_div_25_Template, 9, 5, \"div\", 38);\n    i0.ɵɵtemplate(26, AddSystemComponent_div_5_div_26_Template, 3, 1, \"div\", 39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(27, AddSystemComponent_div_5_section_27_Template, 1, 0, \"section\", 38);\n    i0.ɵɵtemplate(28, AddSystemComponent_div_5_app_advanced_system_28_Template, 1, 16, \"app-advanced-system\", 40);\n    i0.ɵɵelementStart(29, \"div\", 41);\n    i0.ɵɵtemplate(30, AddSystemComponent_div_5_img_30_Template, 1, 1, \"img\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ind_r13 = ctx.index;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroupName\", ind_r13);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.language[\"FSAN/SN/Reg ID/MAC Address\"], \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", ctx_r3.language[\"FSAN/SN/Reg ID/MAC Address\"]);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(18, _c1, ctx_r3.systemsListForm.value[\"systems\"][ind_r13].saved))(\"readonly\", ctx_r3.systemsListForm.value[\"systems\"][ind_r13].saved);\n    i0.ɵɵattribute(\"maxLength\", ctx_r3.macAddressLength[ind_r13]);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r3.systemsListForm.value[\"systems\"][ind_r13].deviceId || ctx_r3.systemsListForm.value[\"systems\"][ind_r13].deviceId && !ctx_r3.systemInfoChecked[ctx_r3.systemsListForm.value[\"systems\"][ind_r13].deviceId]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.language.Save);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ind_r13 !== 0 && !(ctx_r3.systemsListForm == null ? null : ctx_r3.systemsListForm.value[\"systems\"][ind_r13] == null ? null : ctx_r3.systemsListForm.value[\"systems\"][ind_r13].saved));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.systemsListForm == null ? null : ctx_r3.systemsListForm.value[\"systems\"][ind_r13] == null ? null : ctx_r3.systemsListForm.value[\"systems\"][ind_r13].saved);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r3.language.reg_Hint, \"\\u00A0 & \\u00A0\", ctx_r3.language.EXOS, \",\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.language._MAC_Address, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.systemsListForm.value[\"systems\"][ind_r13].deviceId && !(ctx_r3.systemsListForm == null ? null : ctx_r3.systemsListForm.value[\"systems\"][ind_r13] == null ? null : ctx_r3.systemsListForm.value[\"systems\"][ind_r13].saved));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.opMode !== \"ONT\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.systemsListForm.value[\"systems\"][ind_r13].showAdvanced);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.systemsListForm.value[\"systems\"][ind_r13].showAdvanced);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ind_r13 == (ctx_r3.systemsListForm == null ? null : ctx_r3.systemsListForm.value[\"systems\"] == null ? null : ctx_r3.systemsListForm.value[\"systems\"].length) - 1);\n  }\n}\nfunction AddSystemComponent_ng_template_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelementStart(1, \"div\", 11);\n    i0.ɵɵelementStart(2, \"div\", 58);\n    i0.ɵɵelement(3, \"span\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddSystemComponent_ng_template_6_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r65 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 59);\n    i0.ɵɵelementStart(1, \"span\", 15);\n    i0.ɵɵelement(2, \"img\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 60);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_ng_template_6_div_8_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r65);\n      const ctx_r64 = i0.ɵɵnextContext(2);\n      return ctx_r64.isModalError = !ctx_r64.isModalError;\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r58 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r58.modalWarningMessage, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction AddSystemComponent_ng_template_6_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r67 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵelementStart(1, \"div\", 62);\n    i0.ɵɵelement(2, \"div\", 63);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 62);\n    i0.ɵɵelementStart(4, \"div\", 64);\n    i0.ɵɵelementStart(5, \"button\", 65);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_ng_template_6_div_9_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r67);\n      const ctx_r66 = i0.ɵɵnextContext(2);\n      return ctx_r66.deleteAndDisassSystem();\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 66);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_ng_template_6_div_9_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r67);\n      const ctx_r68 = i0.ɵɵnextContext(2);\n      return ctx_r68.closeDeleteModal();\n    });\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r59 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r59.deleteAndDisassociateSystemMsg, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r59.language.Confirm, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r59.language.Cancel, \" \");\n  }\n}\nfunction AddSystemComponent_ng_template_6_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r70 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵelementStart(1, \"div\", 62);\n    i0.ɵɵelement(2, \"div\", 63);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 62);\n    i0.ɵɵelementStart(4, \"div\", 64);\n    i0.ɵɵelementStart(5, \"button\", 67);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_ng_template_6_div_10_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r70);\n      const ctx_r69 = i0.ɵɵnextContext(2);\n      return ctx_r69.disassSystem();\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 66);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_ng_template_6_div_10_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r70);\n      const ctx_r71 = i0.ɵɵnextContext(2);\n      return ctx_r71.closeDeleteModal();\n    });\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r60 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r60.disassociateSystemMsg, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r60.language.Confirm, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r60.language.Cancel, \" \");\n  }\n}\nfunction AddSystemComponent_ng_template_6_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 68);\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵelementStart(2, \"h5\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r61 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r61.language.Device_Delete_Disassociate_Confirmation);\n  }\n}\nfunction AddSystemComponent_ng_template_6_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r73 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 69);\n    i0.ɵɵelementStart(1, \"div\", 70);\n    i0.ɵɵelementStart(2, \"input\", 71);\n    i0.ɵɵlistener(\"change\", function AddSystemComponent_ng_template_6_div_12_Template_input_change_2_listener($event) {\n      i0.ɵɵrestoreView(_r73);\n      const ctx_r72 = i0.ɵɵnextContext(2);\n      return ctx_r72.getDeleteOption($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 72);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 73);\n    i0.ɵɵelementStart(6, \"input\", 74);\n    i0.ɵɵlistener(\"change\", function AddSystemComponent_ng_template_6_div_12_Template_input_change_6_listener($event) {\n      i0.ɵɵrestoreView(_r73);\n      const ctx_r74 = i0.ɵɵnextContext(2);\n      return ctx_r74.getDeleteOption($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\", 75);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r62 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r62.language.Disassociate_Device, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r62.language[\"Disassociate and Delete System\"]);\n  }\n}\nfunction AddSystemComponent_ng_template_6_section_13_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r78 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 78);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_ng_template_6_section_13_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r78);\n      const ctx_r77 = i0.ɵɵnextContext(3);\n      return ctx_r77.showDissAssConfirmMsg();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r75 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r75.language.Disassociate_Device, \" \");\n  }\n}\nfunction AddSystemComponent_ng_template_6_section_13_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r80 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 78);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_ng_template_6_section_13_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r80);\n      const ctx_r79 = i0.ɵɵnextContext(3);\n      return ctx_r79.showDeleteAndDissAssConfirmMsg();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r76 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r76.language[\"Disassociate and Delete System\"], \" \");\n  }\n}\nfunction AddSystemComponent_ng_template_6_section_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r82 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"section\");\n    i0.ɵɵtemplate(1, AddSystemComponent_ng_template_6_section_13_button_1_Template, 2, 1, \"button\", 76);\n    i0.ɵɵtemplate(2, AddSystemComponent_ng_template_6_section_13_button_2_Template, 2, 1, \"button\", 76);\n    i0.ɵɵelementStart(3, \"button\", 77);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_ng_template_6_section_13_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r82);\n      const ctx_r81 = i0.ɵɵnextContext(2);\n      return ctx_r81.closeDeleteModal();\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r63 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r63.isDeleteAndDisAss);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r63.isDeleteAndDisAss);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r63.language.cancel, \" \");\n  }\n}\nfunction AddSystemComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r84 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 0);\n    i0.ɵɵtemplate(1, AddSystemComponent_ng_template_6_div_1_Template, 4, 0, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 49);\n    i0.ɵɵelementStart(3, \"h5\", 50);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 51);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_ng_template_6_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r84);\n      const ctx_r83 = i0.ɵɵnextContext();\n      return ctx_r83.closeDeleteModal();\n    });\n    i0.ɵɵelement(6, \"span\", 52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 53);\n    i0.ɵɵtemplate(8, AddSystemComponent_ng_template_6_div_8_Template, 6, 1, \"div\", 54);\n    i0.ɵɵtemplate(9, AddSystemComponent_ng_template_6_div_9_Template, 9, 3, \"div\", 55);\n    i0.ɵɵtemplate(10, AddSystemComponent_ng_template_6_div_10_Template, 9, 3, \"div\", 55);\n    i0.ɵɵtemplate(11, AddSystemComponent_ng_template_6_div_11_Template, 4, 1, \"div\", 56);\n    i0.ɵɵtemplate(12, AddSystemComponent_ng_template_6_div_12_Template, 9, 2, \"div\", 57);\n    i0.ɵɵtemplate(13, AddSystemComponent_ng_template_6_section_13_Template, 5, 3, \"section\", 38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.modalLoader);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r5.language.Remove_System);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.isModalError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.deleteAndDisassociateSystemMsg);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.disassociateSystemMsg);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.showDeleteBtn);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.showDeleteBtn);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.showDeleteBtn);\n  }\n}\nfunction AddSystemComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r88 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵelementStart(1, \"h4\", 79);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 80);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_ng_template_8_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r88);\n      const modal_r85 = restoredCtx.$implicit;\n      return modal_r85.dismiss();\n    });\n    i0.ɵɵelement(4, \"span\", 52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 53);\n    i0.ɵɵelementStart(6, \"div\", 81);\n    i0.ɵɵelementStart(7, \"div\", 82);\n    i0.ɵɵelement(8, \"img\", 83);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 84);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 85);\n    i0.ɵɵelementStart(12, \"button\", 86);\n    i0.ɵɵlistener(\"click\", function AddSystemComponent_ng_template_8_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r88);\n      const modal_r85 = restoredCtx.$implicit;\n      return modal_r85.dismiss();\n    });\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.language[\"Cannot delete system\"], \"\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.language[\"You must delete eduroam and RG membership before deleting system\"], \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r7.language.Okay);\n  }\n}\nexport let AddSystemComponent = /*#__PURE__*/(() => {\n  class AddSystemComponent {\n    constructor(formBuilder, translateService, dataService, commonFunc, commonOrgService, managementService, uriValidate, service, sso, http, dialogService, systemService) {\n      this.formBuilder = formBuilder;\n      this.translateService = translateService;\n      this.dataService = dataService;\n      this.commonFunc = commonFunc;\n      this.commonOrgService = commonOrgService;\n      this.managementService = managementService;\n      this.uriValidate = uriValidate;\n      this.service = service;\n      this.sso = sso;\n      this.http = http;\n      this.dialogService = dialogService;\n      this.systemService = systemService;\n      this.Out_Data_Change = new EventEmitter();\n      this.Out_Data_Provision = new EventEmitter();\n      this.Out_Default_Data = new EventEmitter();\n      this.disable_service = new EventEmitter();\n      this.delete_system = new EventEmitter();\n      this.unSavedData_emit = new EventEmitter();\n      this.deviceProvRecord = {};\n      this.editMode = false;\n      //-----------------------\n      this.exosModel = false;\n      this.systemInfoFormData = {};\n      this.systemInfoFormDataReceived = {};\n      this.wifiInfoFormData = {};\n      this.addDeviceObj = {};\n      this.profiles = {};\n      this.disableService = false;\n      this.ontDevice = false;\n      this.deltedevice = false;\n      this.showMeg = false;\n      this.macAddressLength = {};\n      this.unSavedData = false;\n      this.wifiNotchange = false;\n      this.deviceData = {};\n      this.provisionData = {};\n      this.systemInfoChecked = {};\n      this.servicesFormData = {};\n      this.isPreProvistionedSystem = false;\n      this.wifiSsidMngrStngsValues = {};\n      this.isDeleteAndDisAss = false;\n      this.getDeviceModels();\n      this.ORG_ID = this.sso.getOrgId();\n      this.language = this.translateService.defualtLanguage;\n      this.languageSubject = this.translateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n      });\n    }\n    ngOnInit() {\n      if (this.linkageType === \"REG_ID\") {\n        this.RegErrorName = `RegID`;\n      } else {\n        this.RegErrorName = `FSAN`;\n      }\n      this.systemsListForm = new FormGroup({\n        systems: new FormArray([])\n      });\n      this.renderSystemsForm();\n      this.getDeviceGoupCount();\n      //this.getProfileData();\n      this.setConfigProfileData();\n    }\n    maxLength(i) {\n      setTimeout(() => {\n        if (this.systemsListForm.value.systems[i].deviceId.indexOf(':') !== -1) {\n          this.macAddressLength[i] = 17;\n        } else {\n          this.macAddressLength[i] = 32;\n        }\n      }, 100);\n    }\n    renderSystemsForm() {\n      if (this.In_Systems_Data && this.In_Systems_Data.length) {\n        this.editMode = true;\n        //let removeDevice = this.In_Systems_Data.filter(el => el.deviceId !== this.deleteSystem)\n        let availableSys = this.In_Systems_Data.filter(el => el.saved);\n        let discoveredDevice = this.In_Systems_Data.filter(el => el.discoveredDevice);\n        if (availableSys && availableSys.length) {\n          this.addAvailableSystems(availableSys, availableSys.discoveredDevice);\n        } else {\n          setTimeout(() => {\n            this.AddMoreSystem(0);\n          }, 100);\n        }\n      } else {\n        this.editMode = false;\n        setTimeout(() => {\n          this.AddMoreSystem(0);\n        }, 100);\n      }\n      this.Out_Data_Change.emit(this.systemsListForm.value.systems);\n    }\n    createItem(data) {\n      return this.formBuilder.group({\n        deviceId: (data === null || data === void 0 ? void 0 : data.deviceId) || '',\n        showAdvanced: false,\n        saved: (data === null || data === void 0 ? void 0 : data.saved) || false,\n        opmode: (data === null || data === void 0 ? void 0 : data.opmode) || ''\n        //modelName: data?.modelName || ''\n      });\n    }\n\n    showAdvancedForm(i) {\n      var _a, _b, _c;\n      //this.showAdvanced = true;\n      if (((_a = this.systemsListForm) === null || _a === void 0 ? void 0 : _a.value['systems'][i]) && !((_c = (_b = this.systemsListForm) === null || _b === void 0 ? void 0 : _b.value['systems'][i]) === null || _c === void 0 ? void 0 : _c.saved)) {\n        //return;\n      }\n      this.systemsListForm.value['systems'][i].showAdvanced = !this.systemsListForm.value['systems'][i].showAdvanced;\n    }\n    AddMoreSystem(i) {\n      var _a, _b, _c;\n      this.editMode = false;\n      this.macAddressLength[i] = 20;\n      if (((_a = this.systemsListForm) === null || _a === void 0 ? void 0 : _a.value['systems'][i]) && !((_c = (_b = this.systemsListForm) === null || _b === void 0 ? void 0 : _b.value['systems'][i]) === null || _c === void 0 ? void 0 : _c.saved)) {\n        return;\n      }\n      this.systemList = this.systemsListForm.get('systems');\n      this.systemList.push(this.createItem());\n    }\n    addAvailableSystems(list, discoveredDevice) {\n      this.systemList = this.systemsListForm.get('systems');\n      list.forEach(e => {\n        this.systemList.push(this.createItem(e));\n      });\n      setTimeout(() => {\n        list.forEach((e, i) => {\n          setTimeout(() => {\n            this.deviceDetails(i, e.discoveredDevice);\n          }, 500);\n        });\n      }, 100);\n    }\n    removeSystem(i) {\n      this.systemList.removeAt(i);\n    }\n    /////////////////////////---------------------\n    deviceChange(i) {}\n    pageErrorHandle(err, place) {\n      if (err.status == 401) {\n        this.errorInfo = this.language['Access Denied'];\n      } else {\n        this.errorInfo = this.commonOrgService.pageErrorHandle(err);\n      }\n      if (place && place == 'isModalError') {\n        this.modalWarningMessage = this.errorInfo;\n        this.isModalError = true;\n      } else {\n        this.closeAlert();\n        this.error = true;\n        this.loading = false;\n      }\n    }\n    closeAlert() {\n      this.error = false;\n      this.success = false;\n      this.unSavedData = false;\n      //this.edgeSuitsWarning = false;\n    }\n\n    deviceDetails(ind, discoveredDevice) {\n      var _a, _b, _c, _d, _e, _f, _g;\n      //debugger;\n      this.loading = true;\n      let system = (_a = this.systemsListForm) === null || _a === void 0 ? void 0 : _a.value.systems[ind].deviceId;\n      // console.log(\"systemsListForm\",this.systemsListForm?.value)\n      this.systemsListForm.value.systems[ind].deviceId = system ? system.trim() : '';\n      this.systemsListForm.value.systems[ind].deviceId = system.replace(/[^0-9A-Za-z:]/g, '').replace(/(\\..?)\\../g, '$1');\n      this.systemsListForm.value.systems[ind].deviceId = this.removeSpaces(system);\n      this.systemInfoChecked[system] = false;\n      if (system == \"\") {\n        this.modelnoteditable = false;\n        //this.subscriberForm.patchValue({ modelName: null });\n        this.loading = false;\n      } else if (this.DEFAULT_SYTEMS && this.DEFAULT_SYTEMS[system] && Object.keys(this.DEFAULT_SYTEMS[system]).length) {\n        this.deviceData[system] = this.DEFAULT_SYTEMS[system].device ? this.DEFAULT_SYTEMS[system].device : {};\n        this.provisionData[system] = this.DEFAULT_SYTEMS[system].provison ? this.DEFAULT_SYTEMS[system].provison : {};\n        if (!Object.keys(this.deviceData[system]).length) {\n          let system = (_b = this.systemsListForm) === null || _b === void 0 ? void 0 : _b.value.systems[ind].deviceId;\n          this.service.getDeviceInfo(this.ORG_ID, system).subscribe(res => {\n            //this.deviceData = res ? res : {};\n            // console.log(\"deviceData\",res)\n            if (res) {\n              this.deviceData[system] = res;\n              this.discoveredDevice = true;\n            } else {\n              this.deviceData[system] = {};\n            }\n          }, err => {\n            this.pageErrorHandle(err);\n            this.loading = false;\n          });\n        }\n        this.provosionrecord(ind);\n        let res = this.provisionData[system] ? this.provisionData[system] : {};\n        // console.log(\"res\",res)\n        this.systemInfoChecked[system] = true;\n        this.opMode = (res === null || res === void 0 ? void 0 : res.opMode) ? res === null || res === void 0 ? void 0 : res.opMode : ((_c = this.deviceData[system]) === null || _c === void 0 ? void 0 : _c.opMode) ? (_d = this.deviceData[system]) === null || _d === void 0 ? void 0 : _d.opMode : '';\n        // console.log(\"opMode\",this.opMode)\n        let model = (res === null || res === void 0 ? void 0 : res.modelName) ? res === null || res === void 0 ? void 0 : res.modelName : ((_e = this.deviceData[system]) === null || _e === void 0 ? void 0 : _e.modelName) ? (_f = this.deviceData[system]) === null || _f === void 0 ? void 0 : _f.modelName : '';\n        this.searchDeviceByMACAddressDetail(ind, this.opMode);\n        if (this.opMode && this.opMode == 'Managed ONT') {\n          this.formatListDataMngdONT(system, res, ind);\n        } else {\n          this.formatListData(system, res, ind, discoveredDevice);\n        }\n        setTimeout(() => {\n          this.Out_Data_Provision.emit(this.provisionData);\n        }, 10);\n        this.loading = false;\n      } else {\n        let system = (_g = this.systemsListForm) === null || _g === void 0 ? void 0 : _g.value.systems[ind].deviceId;\n        this.service.getDeviceInfo(this.ORG_ID, system).subscribe(res => {\n          //this.deviceData = res ? res : {};\n          if (res) {\n            this.deviceData[system] = res;\n            this.discoveredDevice = true;\n          } else {\n            this.deviceData[system] = {};\n          }\n          this.provosionrecord(ind);\n          this.foundationstatus(ind);\n        }, err => {\n          this.pageErrorHandle(err);\n          this.loading = false;\n        });\n      }\n    }\n    foundationstatus(ind) {\n      var _a;\n      let system = {\n        sn: (_a = this.systemsListForm) === null || _a === void 0 ? void 0 : _a.value.systems[ind].deviceId\n      };\n      this.getstatussub = this.systemService.getSubscribersSystemList(system).subscribe(res => {\n        var _a;\n        this.isPreProvistionedSystem = true;\n        this.searchDeviceByMACAddressDetail(ind, res === null || res === void 0 ? void 0 : res.opMode);\n        if (res && res.error == undefined && (res === null || res === void 0 ? void 0 : res.subscriber) && (res === null || res === void 0 ? void 0 : res.subscriber.name)) {\n          this.error = true;\n          this.errorInfo = this.language.alreadySysAssociated((_a = res === null || res === void 0 ? void 0 : res.subscriber) === null || _a === void 0 ? void 0 : _a.name);\n        }\n      });\n    }\n    searchDeviceByMACAddressDetail(ind, opmode) {\n      var _a;\n      let system = (_a = this.systemsListForm) === null || _a === void 0 ? void 0 : _a.value.systems[ind].deviceId;\n      this.getstatussub = this.service.getSearchResult(this.ORG_ID, system).subscribe(res => {\n        setTimeout(() => {\n          this.ontdeveice(ind, res, opmode);\n        }, 100);\n      }, err => {\n        this.pageErrorHandle(err);\n        this.loading = false;\n      });\n    }\n    ontdeveice(ind, resp, opMode) {\n      var _a, _b, _c, _d, _e, _f, _g, _h;\n      if (resp && resp.records.length > 0) {\n        this.deviceinform = (_a = resp.records[0]) === null || _a === void 0 ? void 0 : _a.devices;\n      }\n      let system = (_b = this.systemsListForm) === null || _b === void 0 ? void 0 : _b.value.systems[ind].deviceId;\n      if (this.deviceinform) {\n        for (var i = 0; i < ((_c = this.deviceinform) === null || _c === void 0 ? void 0 : _c.length); i++) {\n          if (((_d = this.deviceinform[i]) === null || _d === void 0 ? void 0 : _d.deviceId.toUpperCase()) === system.toUpperCase() || ((_e = this.deviceinform[i]) === null || _e === void 0 ? void 0 : _e.registrationId) === system) {\n            const fsan = (_f = this.deviceinform[i]) === null || _f === void 0 ? void 0 : _f.serialNumber;\n            this.opmode = ((_g = this.deviceinform[i]) === null || _g === void 0 ? void 0 : _g.opModeWithOnt) ? (_h = this.deviceinform[i]) === null || _h === void 0 ? void 0 : _h.opModeWithOnt : opMode;\n            if (fsan) {\n              this.getstatussub = this.systemService.getOntDeviceStatus(fsan).subscribe(res => {\n                var _a, _b, _c, _d;\n                if (this.opmode === 'ONT/RG') {\n                  this.systemsListForm.value['systems'][ind].opmode = 'ONT/RG';\n                }\n                if (((_a = res === null || res === void 0 ? void 0 : res.ontDevices) === null || _a === void 0 ? void 0 : _a.length) !== 0 && this.opmode !== 'RG' && this.opmode !== 'WAP' && this.opmode !== 'ONT/RG' && this.opmode !== 'ONT') {\n                  let response = res === null || res === void 0 ? void 0 : res.ontDevices[0];\n                  this.modelONT = response === null || response === void 0 ? void 0 : response.discoveredModel;\n                  this.showMeg = true;\n                  this.deviceId = (_b = this.systemsListForm) === null || _b === void 0 ? void 0 : _b.value.systems[ind].deviceId;\n                  this.systemsListForm.value['systems'][ind].opmode = 'ONT';\n                  this.getFeatureProperties(this.modelONT, ind);\n                } else if (((_c = res === null || res === void 0 ? void 0 : res.ontDevices) === null || _c === void 0 ? void 0 : _c.length) !== 0 && this.opmode === 'ONT') {\n                  let response = res === null || res === void 0 ? void 0 : res.ontDevices[0];\n                  this.modelONT = response === null || response === void 0 ? void 0 : response.discoveredModel;\n                  this.showMeg = true;\n                  this.systemsListForm.value['systems'][ind].opmode = 'ONT';\n                  this.getFeatureProperties(this.modelONT, ind);\n                }\n                if (((_d = res === null || res === void 0 ? void 0 : res.ontDevice) === null || _d === void 0 ? void 0 : _d.length) !== 0) {\n                  this.discoveredDevice = true;\n                }\n                this.Out_Data_Change.emit(this.systemsListForm.value.systems);\n              }, err => {\n                this.pageErrorHandle(err);\n                this.loading = false;\n              });\n            }\n          }\n        }\n      } else {\n        this.getstatussub = this.systemService.getOntDeviceStatus(system).subscribe(res => {\n          var _a, _b, _c;\n          if (((_a = res === null || res === void 0 ? void 0 : res.ontDevices) === null || _a === void 0 ? void 0 : _a.length) !== 0 && opMode !== 'RG' && opMode !== 'WAP' && opMode !== 'ONT/RG' && opMode !== 'ONT') {\n            let response = res === null || res === void 0 ? void 0 : res.ontDevices[0];\n            this.modelONT = response === null || response === void 0 ? void 0 : response.discoveredModel;\n            this.systemsListForm.value['systems'][ind].opmode = 'ONT';\n            this.showMeg = true;\n            this.getFeatureProperties(this.modelONT, ind);\n          } else if (((_b = res === null || res === void 0 ? void 0 : res.ontDevices) === null || _b === void 0 ? void 0 : _b.length) !== 0 && opMode === 'ONT') {\n            let response = res === null || res === void 0 ? void 0 : res.ontDevices[0];\n            this.modelONT = response === null || response === void 0 ? void 0 : response.discoveredModel;\n            this.showMeg = true;\n            this.systemsListForm.value['systems'][ind].opmode = 'ONT';\n            this.getFeatureProperties(this.modelONT, ind);\n          }\n          if (((_c = res === null || res === void 0 ? void 0 : res.ontDevice) === null || _c === void 0 ? void 0 : _c.length) !== 0) {\n            this.discoveredDevice = true;\n          }\n          this.Out_Data_Change.emit(this.systemsListForm.value.systems);\n        }, err => {\n          this.pageErrorHandle(err);\n          this.loading = false;\n        });\n      }\n    }\n    findObjByKeyValue(value, myArray) {\n      for (var i = 0; i < myArray.length; i++) {\n        if (myArray[i] && myArray[i]['featureName'] === value) {\n          return myArray[i];\n        }\n      }\n      return false;\n    }\n    getFeatureProperties(modelName, ind) {\n      var _a;\n      let system = (_a = this.systemsListForm) === null || _a === void 0 ? void 0 : _a.value.systems[ind].deviceId;\n      // console.log(\"system\",system)\n      this.loading = true;\n      let query = `modelName=${encodeURIComponent(modelName)}`;\n      this.http.get(`${environment.CALIX_URL}support/device/feature-properties?${query}`).subscribe(json => {\n        // console.log(\"json\",json)\n        var _a;\n        if (json && json.properties) {\n          let opmodes = {};\n          let opmodesObj = this.findObjByKeyValue('OpModeOptions', json.properties);\n          if (opmodesObj && opmodesObj['configuration']) {\n            if (opmodesObj['configuration'].RG) {\n              opmodes['RG'] = true;\n            }\n            if (opmodesObj['configuration'].WAP) {\n              opmodes['WAP'] = true;\n            }\n            if (opmodesObj['configuration']['Managed ONT']) {\n              opmodes['Managed ONT'] = true;\n            }\n            if (opmodesObj['configuration']['WAP-IGMP']) {\n              opmodes['WAP-IGMP'] = true;\n            }\n            if (opmodesObj['configuration']['Modem']) {\n              opmodes['Modem'] = true;\n            }\n          }\n          //this.deviceData[system] = this.DEFAULT_SYTEMS[system].device ? this.DEFAULT_SYTEMS[system].device : {};\n          let obj = (_a = this.Modelitems) === null || _a === void 0 ? void 0 : _a.find(o => o === modelName);\n          // if (obj) {\n          //   // if (this.systemsListForm.value['systems'][ind].opmode = 'ONT' && opmodes['RG']) {\n          //   //   this.systemsListForm.value['systems'][ind].opmode = 'ONT/RG';\n          //   //   this.deviceData[system].modelName = modelName;\n          //   //   this.systemInfoFormData[system] = {\n          //   //     modelName: modelName,\n          //   //     opMode: 'ONT/RG'\n          //   //   }\n          //   // }\n          // } else {\n          //   this.systemsListForm.value['systems'][ind].opmode = 'ONT';\n          // }\n          this.Out_Data_Change.emit(this.systemsListForm.value.systems);\n        }\n        setTimeout(() => {\n          this.loading = false;\n        }, 100);\n      }, err => {\n        //this.pageErrorHandle(err);\n        this.loading = false;\n      });\n    }\n    provosionrecord(ind, systemId, services, wifi, settings, isManagedOnt, value) {\n      var _a;\n      ////debugger;\n      let system = (_a = this.systemsListForm) === null || _a === void 0 ? void 0 : _a.value.systems[ind].deviceId;\n      this.loading = true;\n      this.service.getProvisionrecord(this.ORG_ID, system).subscribe(res => {\n        var _a, _b, _c, _d;\n        //this.provisionData = res ? res : [];\n        if (res) {\n          this.provisionData[system] = res;\n        } else {\n          this.provisionData[system] = {};\n        }\n        if (!value) {\n          this.deviceProvRecord[system] = this.provisionData[system] ? Object.assign({}, this.provisionData[system]) : {};\n        }\n        this.systemInfoChecked[system] = true;\n        let opMode = (res === null || res === void 0 ? void 0 : res.opMode) ? res === null || res === void 0 ? void 0 : res.opMode : ((_a = this.deviceData[system]) === null || _a === void 0 ? void 0 : _a.opMode) ? (_b = this.deviceData[system]) === null || _b === void 0 ? void 0 : _b.opMode : '';\n        let model = (res === null || res === void 0 ? void 0 : res.modelName) ? res === null || res === void 0 ? void 0 : res.modelName : ((_c = this.deviceData[system]) === null || _c === void 0 ? void 0 : _c.modelName) ? (_d = this.deviceData[system]) === null || _d === void 0 ? void 0 : _d.modelName : '';\n        if (opMode && opMode == 'Managed ONT') {\n          this.formatListDataMngdONT(system, res, ind);\n        } else {\n          this.formatListData(system, res, ind, this.discoveredDevice, systemId, services, wifi, settings, isManagedOnt, value);\n        }\n        setTimeout(() => {\n          this.Out_Data_Provision.emit(this.provisionData);\n          if (value) {\n            this.Out_Default_Data.emit({\n              system: system,\n              device: this.deviceData[system] ? this.deviceData[system] : {},\n              provision: this.provisionData[system] ? this.provisionData[system] : {}\n            });\n          }\n        }, 10);\n        this.loading = false;\n        this.systemsListForm.value['systems'][ind].showAdvanced = false;\n      }, err => {\n        this.pageErrorHandle(err);\n        this.provisionData[system] = {};\n        this.loading = false;\n      });\n    }\n    formatListData(id, data, i, discoveredDevice, systemId, services, wifi, settings, isManagedOnt, value) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16;\n      this.addDeviceObj[id] = {};\n      if (value) {\n        this.servicesFormData[id] = this.servicesFormData[id];\n      } else {\n        this.servicesFormData[id] = {\n          configuredService: 'Yes'\n        };\n      }\n      if (value) {\n        this.systemInfoFormData[id] = {\n          modelName: ((_a = this.systemInfoFormData[id]) === null || _a === void 0 ? void 0 : _a.modelName) ? (_b = this.systemInfoFormData[id]) === null || _b === void 0 ? void 0 : _b.modelName : '',\n          opMode: ((_c = this.systemInfoFormData[id]) === null || _c === void 0 ? void 0 : _c.opMode) ? (_d = this.systemInfoFormData[id]) === null || _d === void 0 ? void 0 : _d.opMode : '',\n          static: ((_e = this.systemInfoFormData[id]) === null || _e === void 0 ? void 0 : _e.static) ? (_f = this.systemInfoFormData[id]) === null || _f === void 0 ? void 0 : _f.static : false,\n          staticGroupList: ((_g = this.systemInfoFormData[id]) === null || _g === void 0 ? void 0 : _g.staticGroupList) ? (_h = this.systemInfoFormData[id]) === null || _h === void 0 ? void 0 : _h.staticGroupList : [],\n          discoveredDevice: discoveredDevice\n        };\n      } else {\n        this.systemInfoFormData[id] = {\n          modelName: '',\n          opMode: '',\n          static: false,\n          staticGroupList: [],\n          discoveredDevice: discoveredDevice\n        };\n        if (data && data.staticGroupMember) {\n          let grps = [];\n          data.staticGroupMember.forEach(e => {\n            grps.push(e.groupId);\n          });\n          if (grps.length) {\n            this.systemInfoFormData[id] = {\n              modelName: '',\n              opMode: '',\n              static: true,\n              staticGroupList: grps,\n              discoveredDevice: discoveredDevice\n            };\n          }\n        }\n        if (data && data.modelName) {\n          this.systemInfoFormData[id].modelName = data.modelName;\n        } else {\n          this.systemInfoFormData[id].modelName = this.deviceData[id] && ((_j = this.deviceData[id]) === null || _j === void 0 ? void 0 : _j.modelName) ? this.deviceData[id].modelName : '';\n        }\n        if (data && data.opMode) {\n          this.systemInfoFormData[id].opMode = this.systemsListForm.value['systems'][i].opmode ? this.systemsListForm.value['systems'][i].opmode : data.opMode;\n        } else {\n          this.systemInfoFormData[id].opMode = this.systemsListForm.value['systems'][i].opmode ? this.systemsListForm.value['systems'][i].opmode : this.deviceData[id] && ((_k = this.deviceData[id]) === null || _k === void 0 ? void 0 : _k.opMode) ? this.deviceData[id].opMode : '';\n        }\n      }\n      if (value) {\n        this.addDeviceObj[id]['wifiSSID'] = this.wifiInfoFormData[id] ? this.wifiInfoFormData[id] : data === null || data === void 0 ? void 0 : data.wifi;\n      } else {\n        this.wifiInfoFormData[id] = {};\n        this.addDeviceObj[id]['wifiSSID'] = {};\n        if (data && data.wifi && Object.keys(data.wifi).length) {\n          this.wifiInfoFormData[id] = data.wifi;\n          if (this.wifiInfoFormData[id][\"X_CALIX_SXACC_PRIMARY_5GHZ_SSID\"]) {\n            this.wifiInfoFormData[id][\"UNIFIED_PRIMARY_SSID\"] = this.wifiInfoFormData[id][\"X_CALIX_SXACC_PRIMARY_5GHZ_SSID\"];\n          }\n          this.addDeviceObj[id]['wifiSSID'] = data.wifi;\n          this.tempWifiObj = data.wifi;\n        }\n      }\n      data = {\n        data: data === null || data === void 0 ? void 0 : data.data,\n        video: data === null || data === void 0 ? void 0 : data.video,\n        voice: data === null || data === void 0 ? void 0 : data.voice\n      };\n      if (data && (data.data || data.video || data.voice)) {\n        if (((_l = data.data) === null || _l === void 0 ? void 0 : _l.Enable) && ((_m = data.data) === null || _m === void 0 ? void 0 : _m.Pbit) != undefined) {\n          data.data.Pbit = `${(_o = data.data) === null || _o === void 0 ? void 0 : _o.Pbit}`;\n          this.disableService = true;\n          this.disable_service.emit(this.disableService);\n        }\n        if (((_q = (_p = data.voice) === null || _p === void 0 ? void 0 : _p.Line['1']) === null || _q === void 0 ? void 0 : _q.Enable) && (((_s = (_r = data.voice) === null || _r === void 0 ? void 0 : _r.Line['1']) === null || _s === void 0 ? void 0 : _s.Enable) == 'Enabled' || ((_u = (_t = data.voice) === null || _t === void 0 ? void 0 : _t.Line['1']) === null || _u === void 0 ? void 0 : _u.Enable) == true)) {\n          data.voice.Line['1'].Enable = true;\n          this.disableService = true;\n          this.disable_service.emit(this.disableService);\n          //Service Loss Plan\n          if (((_v = data.voice) === null || _v === void 0 ? void 0 : _v.Line['1'].VoiceProcessing) && ((_w = data.voice) === null || _w === void 0 ? void 0 : _w.Line['1'].VoiceProcessing.TransmitGain)) {\n            data.voice.Line['1'].VoiceProcessing.TransmitGain = ((_x = data.voice) === null || _x === void 0 ? void 0 : _x.Line['1'].VoiceProcessing.TransmitGain) / 10;\n          } else data.voice.Line['1'].VoiceProcessing.TransmitGain = -3;\n          if (((_y = data.voice) === null || _y === void 0 ? void 0 : _y.Line['1'].VoiceProcessing) && ((_z = data.voice) === null || _z === void 0 ? void 0 : _z.Line['1'].VoiceProcessing.ReceiveGain)) {\n            data.voice.Line['1'].VoiceProcessing.ReceiveGain = ((_0 = data.voice) === null || _0 === void 0 ? void 0 : _0.Line['1'].VoiceProcessing.ReceiveGain) / 10;\n          } else data.voice.Line['1'].VoiceProcessing.ReceiveGain = -9;\n        } else {\n          if (data.voice) {\n            data.voice.Line['1'].Enable = false;\n          } else {\n            //data['voice']['Line']['1']['Enable'] = false;\n          }\n        }\n        if (((_2 = (_1 = data.voice) === null || _1 === void 0 ? void 0 : _1.Line['2']) === null || _2 === void 0 ? void 0 : _2.Enable) && (((_4 = (_3 = data.voice) === null || _3 === void 0 ? void 0 : _3.Line['2']) === null || _4 === void 0 ? void 0 : _4.Enable) == 'Enabled' || ((_6 = (_5 = data.voice) === null || _5 === void 0 ? void 0 : _5.Line['2']) === null || _6 === void 0 ? void 0 : _6.Enable) == true)) {\n          data.voice.Line['2'].Enable = true;\n          this.disableService = true;\n          this.disable_service.emit(this.disableService);\n          //Service Loss Plan\n          if (((_7 = data.voice) === null || _7 === void 0 ? void 0 : _7.Line['2'].VoiceProcessing) && ((_8 = data.voice) === null || _8 === void 0 ? void 0 : _8.Line['2'].VoiceProcessing.TransmitGain)) {\n            data.voice.Line['2'].VoiceProcessing.TransmitGain = ((_9 = data.voice) === null || _9 === void 0 ? void 0 : _9.Line['2'].VoiceProcessing.TransmitGain) / 10;\n          } else data.voice.Line['2'].VoiceProcessing.TransmitGain = -3;\n          if (((_10 = data.voice) === null || _10 === void 0 ? void 0 : _10.Line['2'].VoiceProcessing) && ((_11 = data.voice) === null || _11 === void 0 ? void 0 : _11.Line['2'].VoiceProcessing.ReceiveGain)) {\n            data.voice.Line['2'].VoiceProcessing.ReceiveGain = ((_12 = data.voice) === null || _12 === void 0 ? void 0 : _12.Line['2'].VoiceProcessing.ReceiveGain) / 10;\n          } else data.voice.Line['2'].VoiceProcessing.ReceiveGain = -9;\n        } else {\n          if (data === null || data === void 0 ? void 0 : data.voice) {\n            data.voice.Line['2'].Enable = false;\n          } else {\n            //data['voice']['Line']['2']['Enable'] = false;\n          }\n        }\n        if (((_13 = data.video) === null || _13 === void 0 ? void 0 : _13.Enable) && ((_14 = data.video) === null || _14 === void 0 ? void 0 : _14.Pbit) != undefined) {\n          data.video.Pbit = `${(_15 = data.video) === null || _15 === void 0 ? void 0 : _15.Pbit}`;\n          this.disableService = true;\n          this.disable_service.emit(this.disableService);\n        }\n        this.servicesFormData[id] = {\n          configuredService: 'No',\n          data: data.data ? data.data : {\n            Enable: false\n          },\n          video: data.video ? data.video : {\n            Enable: false\n          },\n          voice: data.voice\n        };\n        // if (this.activeTab == 'systemServices') {\n        //   setTimeout(() => {\n        //     this.childSystemServicetier.initialize();\n        //   }, 1000);\n        // }\n      } else {\n        this.servicesFormData[id] = {\n          configuredService: 'Yes'\n        };\n      }\n      //Wifi\n      //Lan Settings\n      this.addDeviceObj[id]['settings'] = {};\n      if (data && data.ports && Object.keys(data.ports).length) {\n        this.addDeviceObj[id]['settings'] = this.formatLanSettingsData(data);\n      }\n      if (((_16 = this.systemInfoFormData[systemId]) === null || _16 === void 0 ? void 0 : _16.opMode) == \"Managed ONT\") {\n        isManagedOnt = true;\n        services = this.buildONTServiceParams(systemId, i);\n      } else {\n        services = this.buildServiceParams(systemId, i);\n      }\n      this.loading = false;\n      this.systemsListForm.value['systems'][i].showAdvanced = false;\n      //this.dataAvail = true;\n      setTimeout(() => {\n        if (value) {\n          this.saveSystemsAdvancedData(i, systemId, services, wifi, settings, isManagedOnt);\n        }\n      }, 1000);\n    }\n    formatListDataMngdONT(id, data, i) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1;\n      this.addDeviceObj[id] = {};\n      this.servicesFormData[id] = {\n        //configuredService: 'Yes'\n      };\n      this.systemInfoFormData[id] = {\n        modelName: '',\n        opMode: '',\n        static: false,\n        staticGroupList: []\n      };\n      if (data && data.staticGroupMember) {\n        let grps = [];\n        data.staticGroupMember.forEach(e => {\n          grps.push(e.groupId);\n        });\n        if (grps.length) {\n          this.systemInfoFormData[id] = {\n            modelName: '',\n            opMode: '',\n            static: true,\n            staticGroupList: grps\n          };\n        } else {\n          this.systemInfoFormData[id] = {\n            modelName: '',\n            opMode: '',\n            static: false,\n            staticGroupList: []\n          };\n        }\n      }\n      if (data && data.modelName) {\n        this.systemInfoFormData[id].modelName = data.modelName;\n      } else {\n        this.systemInfoFormData[id].modelName = this.deviceData[id] && ((_a = this.deviceData[id]) === null || _a === void 0 ? void 0 : _a.modelName) ? this.deviceData[id].modelName : '';\n      }\n      if (data && data.opMode) {\n        this.systemInfoFormData[id].opMode = data.opMode;\n      } else {\n        this.systemInfoFormData[id].opMode = this.deviceData[id] && ((_b = this.deviceData[id]) === null || _b === void 0 ? void 0 : _b.opMode) ? this.deviceData[id].opMode : '';\n      }\n      let dataObj = [],\n        videoObj = [],\n        voiceObj = [];\n      if (data && data.services && data.services.length) {\n        data.services.forEach(s => {\n          if (s.category == 'Data Service') {\n            dataObj.push(s);\n          }\n          if (s.category == 'Video Service') {\n            videoObj.push(s);\n          }\n          if (s.category == 'Voice Service') {\n            voiceObj.push(s);\n          }\n        });\n      }\n      if (data && data.voice && voiceObj && voiceObj.length) {\n        if (((_d = (_c = data.voice) === null || _c === void 0 ? void 0 : _c.Line['1']) === null || _d === void 0 ? void 0 : _d.Enable) && (((_f = (_e = data.voice) === null || _e === void 0 ? void 0 : _e.Line['1']) === null || _f === void 0 ? void 0 : _f.Enable) == 'Enabled' || ((_h = (_g = data.voice) === null || _g === void 0 ? void 0 : _g.Line['1']) === null || _h === void 0 ? void 0 : _h.Enable) == true)) {\n          data.voice.Line['1'].Enable = true;\n          //Service Loss Plan\n          if (((_j = data.voice) === null || _j === void 0 ? void 0 : _j.Line['1'].VoiceProcessing) && ((_k = data.voice) === null || _k === void 0 ? void 0 : _k.Line['1'].VoiceProcessing.TransmitGain)) {\n            data.voice.Line['1'].VoiceProcessing.TransmitGain = ((_l = data.voice) === null || _l === void 0 ? void 0 : _l.Line['1'].VoiceProcessing.TransmitGain) / 10;\n          } else data.voice.Line['1'].VoiceProcessing.TransmitGain = -3;\n          if (((_m = data.voice) === null || _m === void 0 ? void 0 : _m.Line['1'].VoiceProcessing) && ((_o = data.voice) === null || _o === void 0 ? void 0 : _o.Line['1'].VoiceProcessing.ReceiveGain)) {\n            data.voice.Line['1'].VoiceProcessing.ReceiveGain = ((_p = data.voice) === null || _p === void 0 ? void 0 : _p.Line['1'].VoiceProcessing.ReceiveGain) / 10;\n          } else data.voice.Line['1'].VoiceProcessing.ReceiveGain = -9;\n        } else {\n          if (data.voice) {\n            data.voice.Line['1'].Enable = false;\n          } else {\n            //data['voice']['Line']['1']['Enable'] = false;\n          }\n        }\n        if (((_r = (_q = data.voice) === null || _q === void 0 ? void 0 : _q.Line['2']) === null || _r === void 0 ? void 0 : _r.Enable) && (((_t = (_s = data.voice) === null || _s === void 0 ? void 0 : _s.Line['2']) === null || _t === void 0 ? void 0 : _t.Enable) == 'Enabled' || ((_v = (_u = data.voice) === null || _u === void 0 ? void 0 : _u.Line['2']) === null || _v === void 0 ? void 0 : _v.Enable) == true)) {\n          data.voice.Line['2'].Enable = true;\n          //Service Loss Plan\n          if (((_w = data.voice) === null || _w === void 0 ? void 0 : _w.Line['2'].VoiceProcessing) && ((_x = data.voice) === null || _x === void 0 ? void 0 : _x.Line['2'].VoiceProcessing.TransmitGain)) {\n            data.voice.Line['2'].VoiceProcessing.TransmitGain = ((_y = data.voice) === null || _y === void 0 ? void 0 : _y.Line['2'].VoiceProcessing.TransmitGain) / 10;\n          } else data.voice.Line['2'].VoiceProcessing.TransmitGain = -3;\n          if (((_z = data.voice) === null || _z === void 0 ? void 0 : _z.Line['2'].VoiceProcessing) && ((_0 = data.voice) === null || _0 === void 0 ? void 0 : _0.Line['2'].VoiceProcessing.ReceiveGain)) {\n            data.voice.Line['2'].VoiceProcessing.ReceiveGain = ((_1 = data.voice) === null || _1 === void 0 ? void 0 : _1.Line['2'].VoiceProcessing.ReceiveGain) / 10;\n          } else data.voice.Line['2'].VoiceProcessing.ReceiveGain = -9;\n        } else {\n          if (data === null || data === void 0 ? void 0 : data.voice) {\n            data.voice.Line['2'].Enable = false;\n          } else {\n            //data['voice']['Line']['2']['Enable'] = false;\n          }\n        }\n        this.servicesFormData[id] = {\n          data: dataObj,\n          video: videoObj,\n          voice: Object.assign({\n            Enable: voiceObj.length ? true : false,\n            ProfileId: voiceObj[0].ProfileId && this.profiles[voiceObj[0].ProfileId] ? this.profiles[voiceObj[0].ProfileId] : undefined\n          }, data.voice)\n        };\n      } else {\n        this.servicesFormData[id] = {\n          data: dataObj,\n          video: videoObj,\n          voice: {\n            ProfileId: undefined,\n            Enable: voiceObj.length ? true : false,\n            Line: {\n              '1': {\n                Enable: false\n              },\n              '2': {\n                Enable: false\n              }\n            }\n          }\n        };\n      }\n      //Wifi\n      this.wifiInfoFormData[id] = {};\n      this.addDeviceObj[id]['wifiSSID'] = {};\n      if (data && data.wifi && Object.keys(data.wifi).length) {\n        this.wifiInfoFormData[id] = data.wifi;\n        this.addDeviceObj[id]['wifiSSID'] = data.wifi;\n        this.tempWifiObj = data.wifi;\n      }\n      //Lan Settings\n      this.addDeviceObj[id]['settings'] = {};\n      if (data && data.ports && Object.keys(data.ports).length) {\n        this.addDeviceObj[id]['settings'] = this.formatLanSettingsData(data);\n      }\n      this.loading = false;\n      //this.dataAvail = true;\n    }\n\n    buildPortsObj(systemId) {\n      let portObjs = {};\n      let currentPortObj = this.addDeviceObj[systemId].settings;\n      let i = 0;\n      for (let key of Object.keys(currentPortObj)) {\n        if (Object.keys(currentPortObj[key]).length > 0) {\n          i++;\n          let portObj = {};\n          if (currentPortObj[key].DHCPLeaseLimit !== '') {\n            portObj['DhcpLeaseLimit'] = currentPortObj[key].DHCPLeaseLimit;\n          }\n          if (currentPortObj[key].speed !== 'Auto') {\n            portObj['MaxBitRate'] = currentPortObj[key].speed;\n          }\n          if (currentPortObj[key].adminState !== \"Enable\") {\n            portObj['Enable'] = false;\n          }\n          if (!currentPortObj[key].powerSaving) {\n            portObj['OnBatteryEnable'] = true;\n          }\n          if (currentPortObj[key].duplex && currentPortObj[key].duplex.trim() !== 'Auto') {\n            portObj['OnBatteryEnable'] = false;\n          }\n          portObjs['eth-' + i] = _.pickBy(portObj, function (value, key) {\n            return !(value === undefined || value === \"\" || value === \" \");\n          });\n        }\n      }\n      return _.pickBy(portObjs, function (value, key) {\n        return !(value === undefined || value === \"\" || value === \" \");\n      });\n    }\n    updateForm(data, ind) {\n      if (this.systemsListForm.value.systems[ind]) {\n        let systemId = this.systemsListForm.value.systems[ind].deviceId;\n        this.servicesFormData[systemId] = data;\n      }\n    }\n    updateSystemForm(data, ind) {\n      if (this.systemsListForm.value.systems[ind]) {\n        let systemId = this.systemsListForm.value.systems[ind].deviceId;\n        this.systemInfoFormData[systemId] = data;\n      }\n    }\n    unsavedData(data, ind) {\n      this.unSavedData = data;\n      this.errorInfo = \"There are unsaved changes, do you still want to go ahead?\";\n      this.unSavedData_emit.emit(this.unSavedData);\n    }\n    wifiNotchanged(data, ind) {\n      this.wifiNotchange = data;\n    }\n    Out_Unified(data, ind) {\n      this.unifiedData = data;\n    }\n    updateWifiForm(data, ind) {\n      let systemId = this.systemsListForm.value.systems[ind].deviceId;\n      if (!this.wifiNotchange) {\n        this.wifiInfoFormData[systemId] = {};\n        this.addDeviceObj[systemId]['wifiSSID'] = {};\n      } else {\n        this.wifiInfoFormData[systemId] = data;\n        this.addDeviceObj[systemId]['wifiSSID'] = data;\n      }\n    }\n    updateDeviceObjForm(data, ind, obj) {\n      let systemId = this.systemsListForm.value.systems[ind].deviceId;\n      this.addDeviceObj[systemId][obj] = data;\n    }\n    saveSystem(ind) {\n      var _a;\n      this.submitted = true;\n      this.unSavedData = false;\n      if (!((_a = this.systemsListForm.value['systems'][ind]) === null || _a === void 0 ? void 0 : _a.deviceId)) {\n        return;\n      }\n      this.loading = true;\n      if (!this.systemsListForm.value['systems'][ind].showAdvanced) {\n        this.systemsListForm.value['systems'][ind].showAdvanced = true;\n        setTimeout(() => {\n          //this.save(ind);\n          this.childAdvanced.forEach((dtElement, i) => {\n            if (ind == dtElement.iId) {\n              dtElement.saveSystem();\n              this.loading = false;\n            }\n          });\n        }, 1000);\n      } else {\n        this.systemsListForm.value['systems'][ind].showAdvanced = false;\n        this.childAdvanced.forEach((dtElement, i) => {\n          if (ind == dtElement.iId) {\n            dtElement.saveSystem();\n            this.loading = false;\n          }\n        });\n      }\n      this.unSavedData_emit.emit(this.unSavedData);\n    }\n    saveAllSystemsData() {\n      this.loading = true;\n      this.systemsListForm.value['systems'].forEach((sys, ind) => {\n        //this.systemsListForm.value['systems'][ind].showAdvanced = true;\n      });\n      setTimeout(() => {\n        this.systemsListForm.value['systems'].forEach((sys, ind) => {\n          this.childAdvanced.forEach((dtElement, i) => {\n            if (ind == dtElement.iId) {\n              dtElement.saveSystem();\n              this.loading = false;\n            }\n          });\n        });\n      }, 1000);\n    }\n    saveSys(ind) {\n      let systemId = this.systemsListForm.value.systems[ind].deviceId;\n      this.systemsListForm.value['systems'][ind].showAdvanced = false;\n      if (this.systemsListForm.value['systems'][ind].saved) {\n        this.system = 'Edit System';\n      } else {\n        this.system = 'New System';\n      }\n      this.saveSystemLoading = true;\n      this.closeAlert();\n      if (this.system == 'New System') {\n        this.getSystemsListSubs = this.service.getSubscriberSystemList(this.subscriberData._id).subscribe(list => {\n          let avail = false;\n          if (list && list.length && list.includes(systemId)) {\n            avail = true;\n            this.saveSystemLoading = false;\n          } else {\n            this.updateSystemSusbsciberSubs = this.service.addSubscriberSystemList(this.subscriberData._id, systemId).subscribe(res => {\n              this.provosionrecord(ind);\n              this.showSuccessMessage(this.language['system_associate_successfully']);\n              this.Out_Data_Change.emit(this.systemsListForm.value.systems);\n              this.systemsListForm.value['systems'][ind].saved = true;\n              this.saveSystemLoading = false;\n            }, err => {\n              this.saveSystemLoading = false;\n              this.Out_Data_Change.emit(this.systemsListForm.value.systems);\n              this.pageErrorHandle(err);\n            });\n          }\n        }, err => {\n          if (err.status == 404) {\n            this.updateSystemSusbsciberSubs = this.service.addSubscriberSystemList(this.subscriberData._id, systemId).subscribe(res => {\n              this.provosionrecord(ind);\n              this.saveSystemLoading = false;\n              this.showSuccessMessage(this.language['system_associate_successfully']);\n              this.Out_Data_Change.emit(this.systemsListForm.value.systems);\n              this.systemsListForm.value['systems'][ind].saved = true;\n            }, err => {\n              this.saveSystemLoading = false;\n              this.Out_Data_Change.emit(this.systemsListForm.value.systems);\n              this.pageErrorHandle(err);\n            });\n          } else {\n            this.saveSystemLoading = false;\n            this.Out_Data_Change.emit(this.systemsListForm.value.systems);\n            this.systemsListForm.value['systems'][ind].saved = true;\n            this.pageErrorHandle(err);\n          }\n        });\n        this.systemsListForm.value['systems'][ind].showAdvanced = false;\n      } else {\n        this.saveSystemLoading = false;\n        this.provosionrecord(ind);\n      }\n    }\n    save(ind) {\n      //debugger;\n      this.saveSystemLoading = true;\n      let systemId = this.systemsListForm.value.systems[ind].deviceId;\n      let services;\n      let wifi = this.WifiDataParams(ind);\n      let settings = this.buildPortsObj(systemId);\n      let isManagedOnt = false;\n      this.provosionrecord(ind, systemId, services, wifi, settings, isManagedOnt, true);\n    }\n    saveSystemsAdvancedData(ind, systemId, services, wifi, settings, isManagedOnt) {\n      var _a, _b, _c, _d, _e, _f, _g;\n      //Update Advanced Settings\n      this.saveSystemLoading = true;\n      let params = {\n        isNeedAssociateDeviceToSubscriber: false,\n        subscriber: {\n          account: this.subscriberData.account,\n          email: this.subscriberData.email,\n          name: this.subscriberData.name,\n          phone: this.subscriberData.phone,\n          serviceAddress: this.subscriberData.serviceAddress,\n          subscriberLocationId: this.subscriberData.subscriberLocationId,\n          _id: this.subscriberData._id\n        },\n        deviceId: systemId,\n        provisioningRecord: {\n          deviceId: systemId,\n          opMode: this.systemInfoFormData[systemId].opMode === 'ONT/RG' ? 'RG' : this.systemInfoFormData[systemId].opMode ? this.systemInfoFormData[systemId].opMode : 'RG',\n          // orgId: this.ORG_ID,\n          subscriberId: this.subscriberData._id,\n          wifi: {}\n          // data: services.data,\n          // video: services.video,\n          // voice: services.voice,\n        }\n      };\n\n      if (isManagedOnt) {\n        if (services.voice && Object.keys(services.voice).length) {\n          params.provisioningRecord['voice'] = services.voice;\n        }\n        if (services.services) {\n          params.provisioningRecord['services'] = services.services ? services.services : [];\n        }\n      } else {\n        if ((this.systemInfoFormData[systemId].opMode && this.systemInfoFormData[systemId].opMode != 'WAP' || params.provisioningRecord.opMode != 'WAP') && services) {\n          if ((_a = services === null || services === void 0 ? void 0 : services.data) === null || _a === void 0 ? void 0 : _a.Enable) {\n            params.provisioningRecord['data'] = services.data;\n          }\n          if ((_b = services === null || services === void 0 ? void 0 : services.video) === null || _b === void 0 ? void 0 : _b.Enable) {\n            params.provisioningRecord['video'] = services.video;\n          }\n          if ((_c = services === null || services === void 0 ? void 0 : services.voice) === null || _c === void 0 ? void 0 : _c.ServiceType) {\n            params.provisioningRecord['voice'] = services.voice;\n          }\n        }\n      }\n      if (this.provisionData[systemId] && this.provisionData[systemId]._id) {\n        params.isNeedAssociateDeviceToSubscriber = false;\n        if (!this.deltedevice) {\n          params.provisioningRecord['_id'] = this.provisionData[systemId]._id;\n        }\n      } else {\n        params.isNeedAssociateDeviceToSubscriber = false;\n      }\n      if (this.systemInfoFormData[systemId] && ((_d = this.systemInfoFormData[systemId]) === null || _d === void 0 ? void 0 : _d.modelName)) {\n        params.provisioningRecord['modelName'] = this.systemInfoFormData[systemId].modelName;\n      }\n      //STATIC GROUPS\n      if (this.systemInfoFormData[systemId].staticGroupList && this.systemInfoFormData[systemId].staticGroupList.length) {\n        let groups = [];\n        this.systemInfoFormData[systemId].staticGroupList.forEach(g => {\n          groups.push({\n            groupId: g,\n            memberInfo: systemId,\n            type: \"FSAN\"\n          });\n        });\n        params.provisioningRecord['newStaticGroup'] = groups;\n      }\n      if (this.provisionData[systemId].staticGroupMember && this.provisionData[systemId].staticGroupMember.length) {\n        params.provisioningRecord['oldStaticGroup'] = this.provisionData[systemId].staticGroupMember;\n      }\n      //WIFI\n      if (wifi && Object.keys(wifi).length) {\n        params.provisioningRecord['wifi'] = wifi;\n      }\n      // LAN SETTINGS\n      if (((_e = this.systemInfoFormData[systemId]) === null || _e === void 0 ? void 0 : _e.opMode) && this.systemInfoFormData[systemId].opMode == 'Managed ONT' && settings && Object.keys(settings).length) {\n        params.provisioningRecord['ports'] = settings;\n        params.provisioningRecord['enableRgOnBattery'] = (_g = (_f = this.addDeviceObj[systemId]) === null || _f === void 0 ? void 0 : _f.settings) === null || _g === void 0 ? void 0 : _g.isPowerSaving;\n      }\n      //debugger;\n      if (params.provisioningRecord['opMode'] !== 'ONT') {\n        this.updateSystemServicesSubs = this.service.saveSubscriberSystem(params).subscribe(res => {\n          this.saveSys(ind);\n          this.saveSystemLoading = false;\n          this.systemsListForm.value['systems'][ind].showAdvanced = false;\n          this.editMode = true;\n          this.unifiedData = {};\n        }, err => {\n          this.saveSystemLoading = false;\n          //this.Out_Data_Change.emit(this.systemsListForm.value.systems);\n          this.pageErrorHandle(err);\n        });\n      } else {\n        this.saveSystemLoading = false;\n        this.saveSys(ind);\n        //this.systemsListForm.value['systems'][ind].saved = true;\n      }\n    }\n\n    buildServiceParams(sysId, ind) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t;\n      let formData = this.servicesFormData[sysId] ? _.cloneDeep(this.servicesFormData[sysId]) : {};\n      let params = {\n        data: {\n          Enable: false\n        },\n        voice: {},\n        video: {\n          Enable: false\n        }\n      };\n      if (formData.configuredService && formData.configuredService != 'Yes') {\n        const ServiceType = ((_a = formData.voice) === null || _a === void 0 ? void 0 : _a.ServiceType) ? (_b = formData.voice) === null || _b === void 0 ? void 0 : _b.ServiceType : '';\n        //DATA PROCESS\n        if ((_c = formData.data) === null || _c === void 0 ? void 0 : _c.Enable) {\n          formData.data.pppoe = _.pickBy(formData.data.pppoe, v => v !== null && v !== \"\");\n          if (formData.data.Pbit != undefined) {\n            formData.data.Pbit = `${formData.data.Pbit}`;\n          }\n        } else {\n          if ((_d = formData.data) === null || _d === void 0 ? void 0 : _d.BwProfile) {\n            formData.data = {\n              Enable: false,\n              BwProfile: formData.data.BwProfile\n            };\n          } else {\n            formData.data = {\n              Enable: false\n            };\n          }\n        }\n        //params.data = _.pickBy(formData.data, v => !(v == null || v == \"\" || (typeof v == 'object' && !Object.keys(v).length)));\n        params.data = _.pickBy(formData.data, v => {\n          return v !== null && v !== \"\" || v !== null && typeof v == 'object' && Object.keys(v).length;\n        });\n        if (params.data['VlanId'] && typeof params.data['VlanId'] == 'string') {\n          params.data['VlanId'] = parseInt(params.data['VlanId']);\n        }\n        if (params.data['Pbit'] && typeof params.data['Pbit'] == 'string') {\n          params.data['Pbit'] = parseInt(params.data['Pbit']);\n        }\n        //VOICE PROCESS\n        if (ServiceType !== 'SIP' && ((_e = formData.voice) === null || _e === void 0 ? void 0 : _e.FaxT38) != undefined) {\n          (_f = formData.voice) === null || _f === void 0 ? true : delete _f.FaxT38;\n        }\n        if (ServiceType !== 'SIP' && ((_g = formData.voice) === null || _g === void 0 ? void 0 : _g.DialPlan) != undefined) {\n          (_h = formData.voice) === null || _h === void 0 ? true : delete _h.DialPlan;\n        }\n        if (ServiceType !== 'MGCP' && ServiceType !== 'H.248' || ((_k = (_j = formData.voice) === null || _j === void 0 ? void 0 : _j.X_CALIX_SXACC_RG_WAN) === null || _k === void 0 ? void 0 : _k.ServiceConnectionType) !== 'DHCP') {\n          if (((_l = formData.voice) === null || _l === void 0 ? void 0 : _l.X_000631_Opt81ClientFQDN) != undefined) delete formData.voice.X_000631_Opt81ClientFQDN;\n        }\n        if (formData.voice && ((_o = (_m = formData.voice) === null || _m === void 0 ? void 0 : _m.X_CALIX_SXACC_RG_WAN) === null || _o === void 0 ? void 0 : _o.ServiceConnectionType) !== 'Static') {\n          formData.voice.X_CALIX_SXACC_RG_WAN = {\n            ServiceConnectionType: 'DHCP'\n          };\n        } else if (((_q = (_p = formData.voice) === null || _p === void 0 ? void 0 : _p.X_CALIX_SXACC_RG_WAN) === null || _q === void 0 ? void 0 : _q.ServiceConnectionType) === 'Static' && ((_s = (_r = formData.voice) === null || _r === void 0 ? void 0 : _r.X_CALIX_SXACC_RG_WAN) === null || _s === void 0 ? void 0 : _s.DNSServers)) {\n          let dns = (_t = formData.voice) === null || _t === void 0 ? void 0 : _t.X_CALIX_SXACC_RG_WAN.DNSServers;\n          let arr = dns.split(\",\");\n          arr = arr.filter(el => el && el.trim());\n          formData.voice.X_CALIX_SXACC_RG_WAN.DNSServers = arr.join(',');\n        }\n        formData = (formData => {\n          var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\n          for (let i = 1; i < 3; i++) {\n            if (((_a = formData.voice) === null || _a === void 0 ? void 0 : _a.Line[i].Enable) && typeof ((_b = formData.voice) === null || _b === void 0 ? void 0 : _b.Line[i].Enable) != 'boolean') {\n              formData.voice.Line[i].Enable = ((_c = formData.voice) === null || _c === void 0 ? void 0 : _c.Line[i].Enable) == 'Enabled' ? true : false;\n            }\n            if (ServiceType === 'SIP' && ((_d = formData.voice) === null || _d === void 0 ? void 0 : _d.Line[i].Enable)) {\n              formData.voice.Line[i] = {\n                Enable: formData.voice.Line[i].Enable,\n                SIP: formData.voice.Line[i].SIP,\n                CallingFeatures: formData.voice.Line[i].CallingFeatures,\n                VoiceProcessing: formData.voice.Line[i].VoiceProcessing\n              };\n              if (!((_e = formData.voice) === null || _e === void 0 ? void 0 : _e.Line[i].CallingFeatures.X_000631_DirectConnectEnable)) {\n                (_f = formData.voice) === null || _f === void 0 ? true : delete _f.Line[i].CallingFeatures.X_000631_DirectConnectNumber;\n                (_g = formData.voice) === null || _g === void 0 ? true : delete _g.Line[i].CallingFeatures.X_000631_DirectConnectTimer;\n              } else {\n                if ((_h = formData.voice) === null || _h === void 0 ? void 0 : _h.Line[i].CallingFeatures.X_000631_DirectConnectTimer) formData.voice.Line[i].CallingFeatures.X_000631_DirectConnectTimer = parseInt(formData.voice.Line[i].CallingFeatures.X_000631_DirectConnectTimer);\n              }\n            } else if (ServiceType === 'H.248' && ((_j = formData.voice) === null || _j === void 0 ? void 0 : _j.Line[i].Enable)) {\n              formData.voice.Line[i] = {\n                Enable: formData.voice.Line[i].Enable,\n                X_000631_H248: formData.voice.Line[i].X_000631_H248,\n                //CallingFeatures: formData.voice.Line[i].CallingFeatures,\n                VoiceProcessing: formData.voice.Line[i].VoiceProcessing\n              };\n              // if (formData.voice?.Line[i].MGCP) delete formData.voice?.Line[i].MGCP;\n              // if (formData.voice?.Line[i].X_000631_TdmGw) delete formData.voice?.Line[i].X_000631_TdmGw;\n            } else if (ServiceType === 'MGCP' && ((_k = formData.voice) === null || _k === void 0 ? void 0 : _k.Line[i].Enable)) {\n              formData.voice.Line[i] = {\n                Enable: formData.voice.Line[i].Enable,\n                MGCP: formData.voice.Line[i].MGCP,\n                //CallingFeatures: formData.voice.Line[i].CallingFeatures,\n                VoiceProcessing: formData.voice.Line[i].VoiceProcessing\n              };\n              // if (formData.voice?.Line[i].TerminationId) delete formData.voice?.Line[i].TerminationId;\n              // if (formData.voice?.Line[i].X_000631_TdmGw) delete formData.voice?.Line[i].X_000631_TdmGw;\n            } else if (ServiceType === 'X_000631_TDMGW' && ((_l = formData.voice) === null || _l === void 0 ? void 0 : _l.Line[i].Enable)) {\n              formData.voice.Line[i] = {\n                Enable: formData.voice.Line[i].Enable,\n                X_000631_TdmGw: formData.voice.Line[i].X_000631_TdmGw,\n                //CallingFeatures: formData.voice.Line[i].CallingFeatures,\n                VoiceProcessing: formData.voice.Line[i].VoiceProcessing\n              };\n              // if (formData.voice?.Line[i].TerminationId) delete formData.voice?.Line[i].TerminationId;\n              // if (formData.voice?.Line[i].MGCP) delete formData.voice?.Line[i].MGCP;\n            }\n\n            if (((_m = formData.voice) === null || _m === void 0 ? void 0 : _m.Line[i].Enable) && ((_o = formData.voice) === null || _o === void 0 ? void 0 : _o.Line[i].VoiceProcessing)) {\n              formData.voice.Line[i].VoiceProcessing.TransmitGain = ((_p = formData.voice) === null || _p === void 0 ? void 0 : _p.Line[i].VoiceProcessing.TransmitGain) * 10;\n              formData.voice.Line[i].VoiceProcessing.ReceiveGain = ((_q = formData.voice) === null || _q === void 0 ? void 0 : _q.Line[i].VoiceProcessing.ReceiveGain) * 10;\n              if ((_s = (_r = formData.voice) === null || _r === void 0 ? void 0 : _r.Line[i].VoiceProcessing) === null || _s === void 0 ? void 0 : _s.systemLoss) delete formData.voice.Line[i].VoiceProcessing.systemLoss;\n            }\n          }\n          return formData;\n        })(formData);\n        params.voice = _.pickBy(formData.voice, v => v !== null && v !== \"\");\n        if (formData.voice && !formData.voice.Line['1'].Enable) {\n          params.voice['Line']['1'] = {\n            Enable: \"Disabled\"\n          };\n        } else if (formData.voice) {\n          params.voice['Line']['1'].Enable = \"Enabled\";\n        }\n        if (formData.voice && !formData.voice.Line['2'].Enable) {\n          params.voice['Line']['2'] = {\n            Enable: \"Disabled\"\n          };\n        } else if (formData.voice) {\n          params.voice['Line']['2'].Enable = \"Enabled\";\n        }\n        //VIDEO PROCESS\n        if (formData.video.Enable) {\n          if (formData.video.Pbit != undefined) {\n            formData.video.Pbit = `${formData.video.Pbit}`;\n          }\n        } else {\n          if (formData.video.BwProfile) {\n            formData.video = {\n              Enable: false,\n              BwProfile: formData.video.BwProfile\n            };\n          } else {\n            formData.video = {\n              Enable: false\n            };\n          }\n        }\n        params.video = _.pickBy(formData.video, v => {\n          return v !== null && v !== \"\" || v !== null && typeof v == 'object' && Object.keys(v).length;\n        });\n        if (params.video['VlanId'] && typeof params.video['VlanId'] == 'string') {\n          params.video['VlanId'] = parseInt(params.video['VlanId']);\n        }\n        if (params.video['Pbit'] && typeof params.video['Pbit'] == 'string') {\n          params.video['Pbit'] = parseInt(params.video['Pbit']);\n        }\n      }\n      return params;\n    }\n    buildONTServiceParams(sysId, ind) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n      let formData = this.servicesFormData[sysId] ? _.cloneDeep(this.servicesFormData[sysId]) : {};\n      let params = {\n        services: [],\n        voice: {}\n      };\n      const ServiceType = ((_a = formData.voice) === null || _a === void 0 ? void 0 : _a.ServiceType) ? (_b = formData.voice) === null || _b === void 0 ? void 0 : _b.ServiceType : '';\n      //DATA PROCESS\n      if (formData.data) {\n        formData.data.forEach(data => {\n          var _a;\n          let dataObj = {\n            Enable: data.Enable,\n            ProfileId: data.ProfileId && data.ProfileId['_id'] ? data.ProfileId['_id'] : undefined,\n            Overrides: {\n              BwProfile: data.Overrides.BwProfile ? data.Overrides.BwProfile : undefined,\n              VlanId: data.Overrides.VlanId && ((_a = data.ProfileId) === null || _a === void 0 ? void 0 : _a.VLAN) != data.Overrides.VlanId ? data.Overrides.VlanId : undefined\n            },\n            pppoe: {\n              Username: data.pppoe.Username ? data.pppoe.Username : '',\n              Password: data.pppoe.Password ? data.pppoe.Password : ''\n            }\n          };\n          dataObj.pppoe = _.pickBy(dataObj.pppoe, v => v !== null && v !== \"\");\n          if (!Object.keys(dataObj.pppoe).length) {\n            delete dataObj.pppoe;\n          }\n          dataObj.Overrides = _.pickBy(dataObj.Overrides, v => v !== null && v !== \"\");\n          dataObj = _.pickBy(dataObj, v => {\n            return v !== null && v !== \"\" || v !== null && typeof v == 'object' && Object.keys(v).length;\n          });\n          if (dataObj.ProfileId) {\n            params.services.push(dataObj);\n          }\n        });\n      }\n      if (formData.video) {\n        formData.video.forEach(data => {\n          var _a;\n          let dataObj = {\n            Enable: data.Enable,\n            ProfileId: data.ProfileId && data.ProfileId['_id'] ? data.ProfileId['_id'] : undefined,\n            Overrides: {\n              BwProfile: data.Overrides.BwProfile ? data.Overrides.BwProfile : undefined,\n              VlanId: data.Overrides.VlanId && ((_a = data.ProfileId) === null || _a === void 0 ? void 0 : _a.VLAN) != data.Overrides.VlanId ? data.Overrides.VlanId : undefined\n            }\n          };\n          dataObj.Overrides = _.pickBy(dataObj.Overrides, v => v !== null && v !== \"\");\n          dataObj = _.pickBy(dataObj, v => {\n            return v !== null && v !== \"\" || v !== null && typeof v == 'object' && Object.keys(v).length;\n          });\n          if (dataObj.ProfileId) {\n            params.services.push(dataObj);\n          }\n        });\n      }\n      if (formData.voice && formData.voice.Enable) {\n        let data = formData.voice;\n        let dataObj = {\n          Enable: data.Enable,\n          ProfileId: data.ProfileId && data.ProfileId['_id'] ? data.ProfileId['_id'] : undefined\n        };\n        dataObj = _.pickBy(dataObj, v => {\n          return v !== null && v !== \"\" || v !== null && typeof v == 'object' && Object.keys(v).length;\n        });\n        if (dataObj.ProfileId) {\n          params.services.push(dataObj);\n        }\n      }\n      params.services.map(m => {\n        var _a;\n        if (m.Overrides && ((_a = m.Overrides) === null || _a === void 0 ? void 0 : _a.VlanId)) {\n          m.Overrides.VlanId = parseInt(m.Overrides.VlanId);\n        }\n      });\n      // params.data = _.pickBy(formData.data, v => {\n      //   return ((v !== null && v !== \"\") || (v !== null && typeof v == 'object' && Object.keys(v).length))\n      // });\n      // if (params.data['VlanId'] && typeof params.data['VlanId'] == 'string') {\n      //   params.data['VlanId'] = parseInt(params.data['VlanId']);\n      // }\n      // if (params.data['Pbit'] && typeof params.data['Pbit'] == 'string') {\n      //   params.data['Pbit'] = parseInt(params.data['Pbit']);\n      // }\n      //VOICE PROCESS\n      if (formData.voice && formData.voice.Enable) {\n        if (ServiceType !== 'SIP' && ((_c = formData.voice) === null || _c === void 0 ? void 0 : _c.FaxT38) != undefined) {\n          (_d = formData.voice) === null || _d === void 0 ? true : delete _d.FaxT38;\n        }\n        if (ServiceType !== 'SIP' && ((_e = formData.voice) === null || _e === void 0 ? void 0 : _e.DialPlan) != undefined) {\n          (_f = formData.voice) === null || _f === void 0 ? true : delete _f.DialPlan;\n        }\n        if (ServiceType !== 'MGCP' && ServiceType !== 'H.248' || ((_g = formData.voice) === null || _g === void 0 ? void 0 : _g.X_CALIX_SXACC_RG_WAN.ServiceConnectionType) !== 'DHCP') {\n          if (((_h = formData.voice) === null || _h === void 0 ? void 0 : _h.X_000631_Opt81ClientFQDN) != undefined) delete formData.voice.X_000631_Opt81ClientFQDN;\n        }\n        if (((_j = formData.voice) === null || _j === void 0 ? void 0 : _j.X_CALIX_SXACC_RG_WAN.ServiceConnectionType) !== 'Static') {\n          formData.voice.X_CALIX_SXACC_RG_WAN = {\n            ServiceConnectionType: 'DHCP'\n          };\n        } else if (((_k = formData.voice) === null || _k === void 0 ? void 0 : _k.X_CALIX_SXACC_RG_WAN.ServiceConnectionType) === 'Static' && ((_l = formData.voice) === null || _l === void 0 ? void 0 : _l.X_CALIX_SXACC_RG_WAN.DNSServers)) {\n          let dns = (_m = formData.voice) === null || _m === void 0 ? void 0 : _m.X_CALIX_SXACC_RG_WAN.DNSServers;\n          let arr = dns.split(\",\");\n          arr = arr.filter(el => el && el.trim());\n          formData.voice.X_CALIX_SXACC_RG_WAN.DNSServers = arr.join(',');\n        }\n        formData = (formData => {\n          var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\n          for (let i = 1; i < 3; i++) {\n            if (((_a = formData.voice) === null || _a === void 0 ? void 0 : _a.Line[i].Enable) && typeof ((_b = formData.voice) === null || _b === void 0 ? void 0 : _b.Line[i].Enable) != 'boolean') {\n              formData.voice.Line[i].Enable = ((_c = formData.voice) === null || _c === void 0 ? void 0 : _c.Line[i].Enable) == 'Enabled' ? true : false;\n            }\n            if (ServiceType === 'SIP' && ((_d = formData.voice) === null || _d === void 0 ? void 0 : _d.Line[i].Enable)) {\n              formData.voice.Line[i] = {\n                Enable: formData.voice.Line[i].Enable,\n                SIP: formData.voice.Line[i].SIP,\n                CallingFeatures: formData.voice.Line[i].CallingFeatures,\n                VoiceProcessing: formData.voice.Line[i].VoiceProcessing\n              };\n              if (!((_e = formData.voice) === null || _e === void 0 ? void 0 : _e.Line[i].CallingFeatures.X_000631_DirectConnectEnable)) {\n                (_f = formData.voice) === null || _f === void 0 ? true : delete _f.Line[i].CallingFeatures.X_000631_DirectConnectNumber;\n                (_g = formData.voice) === null || _g === void 0 ? true : delete _g.Line[i].CallingFeatures.X_000631_DirectConnectTimer;\n              } else {\n                if ((_h = formData.voice) === null || _h === void 0 ? void 0 : _h.Line[i].CallingFeatures.X_000631_DirectConnectTimer) formData.voice.Line[i].CallingFeatures.X_000631_DirectConnectTimer = parseInt(formData.voice.Line[i].CallingFeatures.X_000631_DirectConnectTimer);\n              }\n            } else if (ServiceType === 'H.248' && ((_j = formData.voice) === null || _j === void 0 ? void 0 : _j.Line[i].Enable)) {\n              formData.voice.Line[i] = {\n                Enable: formData.voice.Line[i].Enable,\n                X_000631_H248: formData.voice.Line[i].X_000631_H248,\n                //CallingFeatures: formData.voice.Line[i].CallingFeatures,\n                VoiceProcessing: formData.voice.Line[i].VoiceProcessing\n              };\n              // if (formData.voice?.Line[i].MGCP) delete formData.voice?.Line[i].MGCP;\n              // if (formData.voice?.Line[i].X_000631_TdmGw) delete formData.voice?.Line[i].X_000631_TdmGw;\n            } else if (ServiceType === 'MGCP' && ((_k = formData.voice) === null || _k === void 0 ? void 0 : _k.Line[i].Enable)) {\n              formData.voice.Line[i] = {\n                Enable: formData.voice.Line[i].Enable,\n                MGCP: formData.voice.Line[i].MGCP,\n                //CallingFeatures: formData.voice.Line[i].CallingFeatures,\n                VoiceProcessing: formData.voice.Line[i].VoiceProcessing\n              };\n              // if (formData.voice?.Line[i].TerminationId) delete formData.voice?.Line[i].TerminationId;\n              // if (formData.voice?.Line[i].X_000631_TdmGw) delete formData.voice?.Line[i].X_000631_TdmGw;\n            } else if (ServiceType === 'X_000631_TDMGW' && ((_l = formData.voice) === null || _l === void 0 ? void 0 : _l.Line[i].Enable)) {\n              formData.voice.Line[i] = {\n                Enable: formData.voice.Line[i].Enable,\n                X_000631_TdmGw: formData.voice.Line[i].X_000631_TdmGw,\n                //CallingFeatures: formData.voice.Line[i].CallingFeatures,\n                VoiceProcessing: formData.voice.Line[i].VoiceProcessing\n              };\n              // if (formData.voice?.Line[i].TerminationId) delete formData.voice?.Line[i].TerminationId;\n              // if (formData.voice?.Line[i].MGCP) delete formData.voice?.Line[i].MGCP;\n            }\n\n            if (((_m = formData.voice) === null || _m === void 0 ? void 0 : _m.Line[i].Enable) && ((_o = formData.voice) === null || _o === void 0 ? void 0 : _o.Line[i].VoiceProcessing)) {\n              formData.voice.Line[i].VoiceProcessing.TransmitGain = ((_p = formData.voice) === null || _p === void 0 ? void 0 : _p.Line[i].VoiceProcessing.TransmitGain) * 10;\n              formData.voice.Line[i].VoiceProcessing.ReceiveGain = ((_q = formData.voice) === null || _q === void 0 ? void 0 : _q.Line[i].VoiceProcessing.ReceiveGain) * 10;\n              if ((_s = (_r = formData.voice) === null || _r === void 0 ? void 0 : _r.Line[i].VoiceProcessing) === null || _s === void 0 ? void 0 : _s.systemLoss) delete formData.voice.Line[i].VoiceProcessing.systemLoss;\n            }\n          }\n          return formData;\n        })(formData);\n        params.voice = _.pickBy(formData.voice, v => v !== null && v !== \"\");\n        if (!formData.voice.Line['1'].Enable) {\n          params.voice['Line']['1'] = {\n            Enable: \"Disabled\"\n          };\n        } else {\n          params.voice['Line']['1'].Enable = \"Enabled\";\n        }\n        if (!formData.voice.Line['2'].Enable) {\n          params.voice['Line']['2'] = {\n            Enable: \"Disabled\"\n          };\n        } else {\n          params.voice['Line']['2'].Enable = \"Enabled\";\n        }\n        if (params.voice && params.voice['Enable']) {\n          delete params.voice['Enable'];\n        }\n        if (params.voice && params.voice['ProfileId']) {\n          delete params.voice['ProfileId'];\n        }\n      }\n      return params;\n    }\n    getDeviceModels(value) {\n      this.modelLoading = true;\n      let params = {\n        orgId: this.sso.getOrgId()\n      };\n      return this.http.get(`${environment.SUPPORT_URL}/netops-device/device-type?matcher=${JSON.stringify(params)}`).subscribe(json => {\n        //console.log(json);\n        let obj = {};\n        if (json) {\n          json.forEach(element => {\n            if (element && element.modelName) {\n              obj[element['modelName'.trim()]] = true;\n            }\n          });\n          this.Modelitems = [];\n          this.deviceModels = Object.keys(obj);\n          const deviceModel = this.deviceModels.filter(el => {\n            if (el.indexOf(\"844F\") == -1 && el.indexOf(\"801F\") == -1) {\n              this.Modelitems.push(el);\n            }\n          });\n        }\n        // if (value === 'Exos') {\n        //   this.exosModel = true;\n        // } else {\n        //   this.exosModel = false;\n        // }\n        this.modelLoading = false;\n      }, err => {\n        this.pageErrorHandle(err);\n        this.modelLoading = false;\n      });\n    }\n    getDeviceGoupCount() {\n      this.devGrpLoading = true;\n      this.deviceListSubs = this.service.getDeviceGroupCount(this.ORG_ID).subscribe(data => {\n        let count = 0;\n        if (data) {\n          count = data.count;\n          this.getDeviceGoupList(count);\n        } else {\n          this.devGrpLoading = false;\n        }\n      }, err => {\n        this.devGrpLoading = false;\n        this.pageErrorHandle(err);\n      });\n    }\n    getDeviceGoupList(count) {\n      this.devGrpLoading = true;\n      this.deviceListSubs = this.service.getDeviceGoupList(this.ORG_ID, count).subscribe(data => {\n        this.deviceDataList = data ? this.getStaticList(data) : [];\n        this.devGrpLoading = false;\n      }, err => {\n        this.devGrpLoading = false;\n        this.pageErrorHandle(err);\n      });\n    }\n    getStaticList(list) {\n      if (list && list.length > 0) {\n        list = list.filter(device => {\n          return device.type === 'static';\n        });\n      }\n      return list;\n    }\n    setConfigProfileData() {\n      let value = this.formOptions;\n      if (value && (value === null || value === void 0 ? void 0 : value.Profiles) && (value === null || value === void 0 ? void 0 : value.Profiles.length)) {\n        this.dataServiceProfileList = value.Profiles.filter(service => {\n          return service.configurations.category === 'Data Service';\n        });\n        this.videoServiceProfileList = value.Profiles.filter(service => {\n          return service.configurations.category === 'Video Service';\n        });\n        this.voiceServiceProfileList = value.Profiles.filter(service => {\n          return service.configurations.category === 'Voice Service';\n        });\n        value.Profiles.forEach(e => {\n          this.profiles[e._id] = e;\n        });\n      }\n    }\n    getProfileData() {\n      //if (this.getAllProfileSubscribe) this.getAllProfileSubscribe.unsubscribe();\n      this.bandwidthLoading = true;\n      this.getAllProfileSubscribe = this.service.getBWProfile(this.ORG_ID).subscribe(res => {\n        this.bandwidthLoading = false;\n        if (res) {\n          //this.buildeServiceProfileList(res);\n          this.buildBWProfile(res);\n          this.allProfileList = res;\n        }\n      }, err => {\n        this.pageErrorHandle(err);\n      }, () => {\n        this.bandwidthLoading = false;\n      });\n    }\n    buildBWProfile(profileList) {\n      const bwProfile = profileList.filter(profile => {\n        return profile.innerProfileCategory === 'Bandwidth';\n      });\n      this.formOptions.Brandwidthitems = [...bwProfile];\n    }\n    checkWifiSSIDForBuildKeys(key) {\n      if (key == 'X_CALIX_SXACC_PRIMARY_2DOT4GHZ_SSID') {\n        return this.wifiSsidMngrStngsValues['2DOT4GHZ_PRIMARY'];\n      } else if (key == 'X_CALIX_SXACC_PRIMARY_5GHZ_SSID') {\n        return this.wifiSsidMngrStngsValues['5GHZ_PRIMARY'];\n      } else if (key == 'X_CALIX_SXACC_GUEST_2DOT4GHZ_SSID') {\n        return this.wifiSsidMngrStngsValues['2DOT4GHZ_PRIMARY'] && !this.sso.acceptGSModel(this.addDeviceObj.device.selectedModel);\n      } else if (key == 'X_CALIX_SXACC_GUEST_5GHZ_SSID') {\n        return this.wifiSsidMngrStngsValues['5GHZ_GUEST'] && !this.sso.acceptGSModel(this.addDeviceObj.device.selectedModel);\n      } else if (key == 'X_CALIX_SXACC_PRIMARY_6GHZ_SSID') {\n        return this.wifiSsidMngrStngsValues['6GHZ_PRIMARY'];\n      } else if (key == 'X_CALIX_SXACC_GUEST_6GHZ_SSID') {\n        return this.wifiSsidMngrStngsValues['6GHZ_GUEST'] && !this.sso.acceptGSModel(this.addDeviceObj.device.selectedModel);\n      } else if (key == 'UNIFIED_PRIMARY_SSID') {\n        return this.wifiSsidMngrStngsValues['5GHZ_PRIMARY'];\n      }\n      return false;\n    }\n    WifiDataParams(id) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\n      let sys = this.systemsListForm.value.systems[id].deviceId;\n      let wifiObj = this.wifiInfoFormData[sys] ? this.wifiInfoFormData[sys] : {};\n      let allowedWifissids = [\"X_CALIX_SXACC_GUEST_2DOT4GHZ_SSID\", \"X_CALIX_SXACC_PRIMARY_2DOT4GHZ_SSID\", \"X_CALIX_SXACC_PRIMARY_5GHZ_SSID\", \"X_CALIX_SXACC_GUEST_5GHZ_SSID\", 'X_CALIX_SXACC_PRIMARY_6GHZ_SSID', \"X_CALIX_SXACC_GUEST_6GHZ_SSID\", 'UNIFIED_PRIMARY_SSID'];\n      let allwifiObj = {};\n      for (let key in wifiObj) {\n        if (allowedWifissids.indexOf(key) === -1) {\n          continue;\n        }\n        //if (!this.checkWifiSSIDForBuildKeys(key)) continue;\n        let prevWifiValues = ((_b = (_a = this.deviceProvRecord[sys]) === null || _a === void 0 ? void 0 : _a.wifi) === null || _b === void 0 ? void 0 : _b[key]) ? (_d = (_c = this.deviceProvRecord[sys]) === null || _c === void 0 ? void 0 : _c.wifi) === null || _d === void 0 ? void 0 : _d[key] : {};\n        if (((_g = (_f = (_e = this.deviceProvRecord[sys]) === null || _e === void 0 ? void 0 : _e.wifi) === null || _f === void 0 ? void 0 : _f[key]) === null || _g === void 0 ? void 0 : _g.SSID) == undefined) {\n          prevWifiValues['SSID'] = \"\";\n        }\n        if (((_k = (_j = (_h = this.deviceProvRecord[sys]) === null || _h === void 0 ? void 0 : _h.wifi) === null || _j === void 0 ? void 0 : _j[key]) === null || _k === void 0 ? void 0 : _k.KeyPassphrase) == undefined) {\n          prevWifiValues['KeyPassphrase'] = \"\";\n        }\n        if (wifiObj[key].serviceEnabled == 'undefined') {\n          wifiObj[key].serviceEnabled = undefined;\n        } else if (wifiObj[key].serviceEnabled == 'true') {\n          wifiObj[key].serviceEnabled = true;\n        } else if (wifiObj[key].serviceEnabled == 'false') {\n          wifiObj[key].serviceEnabled = false;\n        }\n        if (wifiObj[key].name != undefined) {\n          wifiObj[key].name = wifiObj[key].name.trim();\n        }\n        if (wifiObj[key].passphrase != undefined) {\n          wifiObj[key].passphrase = wifiObj[key].passphrase.trim();\n        }\n        let wifiObject = {\n          SSID: (prevWifiValues === null || prevWifiValues === void 0 ? void 0 : prevWifiValues.SSID) != wifiObj[key].name ? wifiObj[key].name != undefined ? wifiObj[key].name : undefined : undefined,\n          Enable: (prevWifiValues === null || prevWifiValues === void 0 ? void 0 : prevWifiValues.Enable) != wifiObj[key].serviceEnabled ? wifiObj[key].serviceEnabled != undefined ? wifiObj[key].serviceEnabled : undefined : undefined,\n          SSIDAdvertisementEnabled: (prevWifiValues === null || prevWifiValues === void 0 ? void 0 : prevWifiValues.SSIDAdvertisementEnabled) != wifiObj[key].broadcastEnabled ? wifiObj[key].broadcastEnabled != undefined ? wifiObj[key].broadcastEnabled : undefined : undefined,\n          BeaconType: (prevWifiValues === null || prevWifiValues === void 0 ? void 0 : prevWifiValues.BeaconType) != wifiObj[key].securityType ? wifiObj[key].securityType != undefined && wifiObj[key].securityType !== \"\" ? wifiObj[key].securityType : undefined : undefined,\n          MUMIMOEnabled: (prevWifiValues === null || prevWifiValues === void 0 ? void 0 : prevWifiValues.MUMIMOEnabled) != wifiObj[key].mumimoEnabled ? wifiObj[key].mumimoEnabled != undefined ? wifiObj[key].mumimoEnabled : undefined : undefined,\n          EnableDfsChannels: (prevWifiValues === null || prevWifiValues === void 0 ? void 0 : prevWifiValues.EnableDfsChannels) != wifiObj[key].enableDfsChannels ? wifiObj[key].enableDfsChannels != undefined ? wifiObj[key].enableDfsChannels : undefined : undefined\n        };\n        if (wifiObj[key].securityType !== 'Basic') {\n          wifiObject['IEEE11iEncryptionModes'] = (prevWifiValues === null || prevWifiValues === void 0 ? void 0 : prevWifiValues.IEEE11iEncryptionModes) != wifiObj[key].encryption ? typeof wifiObj[key].encryption === 'string' && wifiObj[key].encryption !== \"\" ? wifiObj[key].encryption : undefined : undefined;\n          wifiObject['KeyPassphrase'] = (prevWifiValues === null || prevWifiValues === void 0 ? void 0 : prevWifiValues.KeyPassphrase) != wifiObj[key].passphrase ? wifiObj[key].passphrase != undefined ? wifiObj[key].passphrase : undefined : undefined;\n          wifiObject['WPAEncryptionModes'] = (prevWifiValues === null || prevWifiValues === void 0 ? void 0 : prevWifiValues.IEEE11iEncryptionModes) != wifiObj[key].encryption ? typeof wifiObj[key].encryption === 'string' && wifiObj[key].encryption !== \"\" ? wifiObj[key].encryption : undefined : undefined;\n        } else {\n          wifiObject['IEEE11iEncryptionModes'] = undefined;\n          wifiObject['KeyPassphrase'] = undefined;\n          wifiObject['WPAEncryptionModes'] = undefined;\n        }\n        if (!_.isEmpty(_.pickBy(wifiObject, function (value, key) {\n          return !(value === undefined || value === \"undefined\" || value === null);\n        }))) allwifiObj[key] = _.pickBy(wifiObject, function (value, key) {\n          return !(value === undefined || value === \"undefined\" || value === null);\n        });\n      }\n      if (((_l = this.unifiedData) === null || _l === void 0 ? void 0 : _l.isUnifiedPrimarySSID) && !this.unifiedData.toggeledUnifiedPrimarySSID || (allwifiObj === null || allwifiObj === void 0 ? void 0 : allwifiObj.UNIFIED_PRIMARY_SSID) && Object.keys(allwifiObj[\"UNIFIED_PRIMARY_SSID\"]).length) {\n        var unifiedPrimarySsid = wifiObj[\"UNIFIED_PRIMARY_SSID\"] ? Object.assign({}, wifiObj[\"UNIFIED_PRIMARY_SSID\"]) : Object.assign({}, (_m = this === null || this === void 0 ? void 0 : this.unifiedData) === null || _m === void 0 ? void 0 : _m.wifiSSID[\"UNIFIED_PRIMARY_SSID\"]);\n        unifiedPrimarySsid === null || unifiedPrimarySsid === void 0 ? true : delete unifiedPrimarySsid.enableDfsChannels;\n        unifiedPrimarySsid === null || unifiedPrimarySsid === void 0 ? true : delete unifiedPrimarySsid.mumimoEnabled;\n        delete allwifiObj[\"X_CALIX_SXACC_PRIMARY_2DOT4GHZ_SSID\"];\n        var fivePrimarySsid = Object.assign({}, allwifiObj[\"X_CALIX_SXACC_PRIMARY_5GHZ_SSID\"]);\n        var sixPrimarySsid = Object.assign({}, allwifiObj[\"X_CALIX_SXACC_PRIMARY_6GHZ_SSID\"]);\n        var fiveKeys = Object.keys(fivePrimarySsid);\n        var sixKeys = Object.keys(sixPrimarySsid);\n        if ((fiveKeys === null || fiveKeys === void 0 ? void 0 : fiveKeys.length) > 0) {\n          let fiveWifiObject = {\n            MUMIMOEnabled: fivePrimarySsid === null || fivePrimarySsid === void 0 ? void 0 : fivePrimarySsid.MUMIMOEnabled,\n            EnableDfsChannels: fivePrimarySsid === null || fivePrimarySsid === void 0 ? void 0 : fivePrimarySsid.EnableDfsChannels\n          };\n          allwifiObj[\"X_CALIX_SXACC_PRIMARY_5GHZ_SSID\"] = {};\n          allwifiObj[\"X_CALIX_SXACC_PRIMARY_5GHZ_SSID\"] = fiveWifiObject;\n        }\n        if ((sixKeys === null || sixKeys === void 0 ? void 0 : sixKeys.length) > 0) {\n          let sixWifiObject = {\n            MUMIMOEnabled: fivePrimarySsid === null || fivePrimarySsid === void 0 ? void 0 : fivePrimarySsid.MUMIMOEnabled\n          };\n          allwifiObj[\"X_CALIX_SXACC_PRIMARY_6GHZ_SSID\"] = {};\n          allwifiObj[\"X_CALIX_SXACC_PRIMARY_6GHZ_SSID\"] = sixWifiObject;\n        }\n        let unifiedWifiObject = {\n          SSID: unifiedPrimarySsid === null || unifiedPrimarySsid === void 0 ? void 0 : unifiedPrimarySsid.name,\n          Enable: unifiedPrimarySsid === null || unifiedPrimarySsid === void 0 ? void 0 : unifiedPrimarySsid.serviceEnabled,\n          SSIDAdvertisementEnabled: unifiedPrimarySsid === null || unifiedPrimarySsid === void 0 ? void 0 : unifiedPrimarySsid.broadcastEnabled,\n          BeaconType: unifiedPrimarySsid === null || unifiedPrimarySsid === void 0 ? void 0 : unifiedPrimarySsid.securityType\n        };\n        if ((unifiedPrimarySsid === null || unifiedPrimarySsid === void 0 ? void 0 : unifiedPrimarySsid.securityType) !== 'Basic') {\n          unifiedWifiObject['IEEE11iEncryptionModes'] = unifiedPrimarySsid === null || unifiedPrimarySsid === void 0 ? void 0 : unifiedPrimarySsid.encryption;\n          unifiedWifiObject['KeyPassphrase'] = unifiedPrimarySsid === null || unifiedPrimarySsid === void 0 ? void 0 : unifiedPrimarySsid.passphrase;\n          unifiedWifiObject['WPAEncryptionModes'] = unifiedPrimarySsid === null || unifiedPrimarySsid === void 0 ? void 0 : unifiedPrimarySsid.encryption;\n        } else {\n          unifiedWifiObject['IEEE11iEncryptionModes'] = undefined;\n          unifiedWifiObject['KeyPassphrase'] = undefined;\n          unifiedWifiObject['WPAEncryptionModes'] = undefined;\n        }\n        allwifiObj[\"UNIFIED_PRIMARY_SSID\"] = {};\n        //allwifiObj[\"UNIFIED_PRIMARY_SSID\"] = unifiedWifiObject;\n        allwifiObj[\"UNIFIED_PRIMARY_SSID\"] = _.pickBy(unifiedWifiObject, function (value, key) {\n          return !(value === undefined || value === \"undefined\" || value === null || value === \"\");\n        });\n      } else if (!((_o = this.unifiedData) === null || _o === void 0 ? void 0 : _o.isUnifiedPrimarySSID) && !((_p = this.unifiedData) === null || _p === void 0 ? void 0 : _p.toggeledUnifiedPrimarySSID)) {\n        delete allwifiObj[\"UNIFIED_PRIMARY_SSID\"];\n      }\n      return allwifiObj;\n    }\n    formatLanSettingsData(prov) {\n      const settingsKey = ['lanPortOne', 'lanPortTwo', 'lanPortThree', 'lanPortFour'];\n      const patchedObj = {};\n      patchedObj['isPowerSaving'] = !prov.enableRgOnBattery;\n      let portObj = {\n        adminState: 'Enable',\n        duplex: 'Auto',\n        DHCPLeaseLimit: 0,\n        powerSaving: true,\n        speed: 'Auto'\n      };\n      if (prov.ports) {\n        settingsKey.forEach((key, index) => {\n          const settingsObj = prov.ports['eth-' + (index + 1)];\n          if (settingsObj) {\n            portObj = {\n              adminState: settingsObj.Enable !== undefined ? settingsObj.Enable ? 'Enable' : 'Disable' : 'Enable',\n              duplex: settingsObj.DuplexMode !== undefined ? settingsObj.DuplexMode : 'Auto ',\n              DHCPLeaseLimit: settingsObj.DhcpLeaseLimit !== undefined ? settingsObj.DhcpLeaseLimit : 0,\n              powerSaving: settingsObj.OnBatteryEnable !== undefined ? !settingsObj.OnBatteryEnable : true,\n              speed: settingsObj.MaxBitRate !== undefined ? settingsObj.MaxBitRate : 'Auto'\n            };\n          }\n          patchedObj[key] = portObj;\n        });\n      }\n      return patchedObj;\n    }\n    displayWaringMessageModel(device, opmode, waringModel) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r;\n      this.isDeleteAndDisAss = false;\n      this.showDeleteBtn = true;\n      this.deleteAndDisassociateSystemMsg = '';\n      this.disassociateSystemMsg = '';\n      this.deleteSystemId = device;\n      this.deletesystemOpmode = opmode;\n      this.isModalError = false;\n      this.modalLoader = false;\n      let savedCount = this.systemsListForm.value.systems.reduce((accumulator, current) => accumulator + current.saved, 0);\n      if (savedCount == 1 && (((_d = (_c = (_b = (_a = this.subsSysServiceForm) === null || _a === void 0 ? void 0 : _a.edgeSuites) === null || _b === void 0 ? void 0 : _b.myCommunityIQ) === null || _c === void 0 ? void 0 : _c.eduroam) === null || _d === void 0 ? void 0 : _d.enable) || ((_h = (_g = (_f = (_e = this.AllFormData) === null || _e === void 0 ? void 0 : _e.edgeSuites) === null || _f === void 0 ? void 0 : _f.myCommunityIQ) === null || _g === void 0 ? void 0 : _g.eduroam) === null || _h === void 0 ? void 0 : _h.enable) || ((_m = (_l = (_k = (_j = this.subsSysServiceForm) === null || _j === void 0 ? void 0 : _j.edgeSuites) === null || _k === void 0 ? void 0 : _k.myCommunityIQ) === null || _l === void 0 ? void 0 : _l.passpoint) === null || _m === void 0 ? void 0 : _m.enable) || ((_r = (_q = (_p = (_o = this.AllFormData) === null || _o === void 0 ? void 0 : _o.edgeSuites) === null || _p === void 0 ? void 0 : _p.myCommunityIQ) === null || _q === void 0 ? void 0 : _q.passpoint) === null || _r === void 0 ? void 0 : _r.enable))) {\n        this.modalRef = this.dialogService.open(waringModel, {\n          size: 'lg',\n          centered: true,\n          windowClass: 'custom-modal'\n        });\n      } else {\n        this.modalRef = this.dialogService.open(this.deleteDeviceModel, {\n          size: 'lg',\n          centered: true,\n          windowClass: 'custom-modal'\n        });\n      }\n    }\n    showDeleteAndDissAssConfirmMsg() {\n      var _a;\n      this.deleteAndDisassociateSystemMsg = `\n      ${this.language['warning_message_subscriber_mng']}\n      ${((_a = this.orgData) === null || _a === void 0 ? void 0 : _a.factoryResetOnDelete) === true ? `<br/>${this.language['warning_message_system1']}` : ''}\n      <br/><br/>${this.language['sys_del']}\n    `;\n      this.showDeleteBtn = false;\n    }\n    showDissAssConfirmMsg() {\n      this.disassociateSystemMsg = `Warning:\n    ${this.language['system_Del_assoc']}\n  <br/>\n\n   ${this.language['Do you want to proceed with the dissociate device?']}`;\n      this.showDeleteBtn = false;\n    }\n    deleteAndDisassSystem() {\n      var _a, _b, _c, _d;\n      this.modalLoader = true;\n      let system = this.deleteSystemId.trim();\n      for (var i = 0; i < ((_a = this.deviceinform) === null || _a === void 0 ? void 0 : _a.length); i++) {\n        if (((_b = this.deviceinform[i]) === null || _b === void 0 ? void 0 : _b.deviceId.toUpperCase()) === system.toUpperCase() || ((_c = this.deviceinform[i]) === null || _c === void 0 ? void 0 : _c.registrationId) === system) {\n          this.registerID = (_d = this.deviceinform[i]) === null || _d === void 0 ? void 0 : _d.serialNumber;\n        }\n      }\n      if (this.deletesystemOpmode === 'ONT' || this.deletesystemOpmode === 'ONT/RG') {\n        this.deleteSystemSubs = this.systemService.DeleteONT(this.registerID ? this.registerID : system).subscribe(res => {\n          setTimeout(() => {\n            this.disassSystem(true);\n          }, 1500);\n          this.showwarning = false;\n          this.isModalError = false;\n          this.deltedevice = true;\n          this.modalLoader = false;\n          this.Out_Default_Data.emit({\n            system: system,\n            device: {},\n            provision: {}\n          });\n          this.closeAllModal();\n        }, err => {\n          this.pageErrorHandle(err);\n          this.modalLoader = false;\n        });\n      }\n      if (this.deletesystemOpmode !== 'ONT') {\n        this.deleteSystemSubs = this.service.deleteAndDisassociatedDevice(this.ORG_ID, system).subscribe(res => {\n          this.showwarning = false;\n          this.isModalError = false;\n          this.deltedevice = true;\n          this.modalLoader = false;\n          this.Out_Default_Data.emit({\n            system: system,\n            device: {},\n            provision: {}\n          });\n          this.closeAllModal();\n          // Rerender System Page\n          this.showSuccessMessage(this.language['The system has been deleted successfully']);\n          this.getAllSubsServicesData();\n        }, err => {\n          this.pageErrorHandle(err);\n          this.modalLoader = false;\n        });\n      }\n      this.closeAllModal();\n    }\n    disassSystem(value) {\n      this.modalLoader = true;\n      let system = this.deleteSystemId.trim();\n      let subId = this.subscriberData._id;\n      if (!subId && !system) {\n        return;\n      }\n      this.disassociateSystemSubs = this.systemService.disassociateDevice(subId, system).subscribe(res => {\n        this.success = true;\n        this.showwarning = false;\n        this.isModalError = false;\n        this.modalLoader = false;\n        this.Out_Default_Data.emit({\n          system: system,\n          device: {},\n          provision: {}\n        });\n        this.closeAllModal();\n        if (value) {\n          this.showSuccessMessage(this.language['The system has been deleted successfully']);\n        } else {\n          this.showSuccessMessage(this.language['System disassociated from subscriber successfully']);\n        }\n        // Rerender System Page\n        this.getAllSubsServicesData();\n      }, err => {\n        this.modalLoader = false;\n        this.pageErrorHandle(err, 'isModalError');\n      });\n    }\n    closeDeleteModal() {\n      this.closeAllModal();\n      this.deleteAndDisassociateSystemMsg = '';\n      this.disassociateSystemMsg = '';\n    }\n    closeAllModal() {\n      this.dialogService.dismissAll();\n    }\n    getDeleteOption(event) {\n      if (event.target.value === 'delete') {\n        this.isDeleteAndDisAss = true;\n      } else {\n        this.isDeleteAndDisAss = false;\n      }\n    }\n    getDeleteAndFactoryResetData() {\n      this.deleteFactoryResetSub = this.service.getDeleteAndFactoryreset(this.ORG_ID).subscribe(res => {\n        this.orgData = res ? res : [];\n      }, err => {\n        this.loading = false;\n        //this.pageErrorHandle(err);\n      });\n    }\n    //Get SUbscriber Device lists\n    getAllSubsServicesData() {\n      this.systemsListLoading = true;\n      this.allSubsServicesDataSubs = this.systemService.getDetailedSubscriberServices(this.subscriberData._id).subscribe(res => {\n        if (res && res.devices && res.devices.length) {\n          this.devices = res.devices;\n          let devices = [];\n          res.devices.forEach(el => {\n            devices.push({\n              deviceId: el,\n              showAdvanced: false,\n              saved: true\n            });\n          });\n          this.In_Systems_Data = devices;\n        } else {\n          this.In_Systems_Data = [];\n        }\n        setTimeout(() => {\n          this.systemDataAvail = true;\n          this.reloadSystemsPage();\n          this.systemsListLoading = false;\n        }, 100);\n      }, err => {\n        this.pageErrorHandle(err);\n        this.loading = false;\n        this.In_Systems_Data = [];\n        setTimeout(() => {\n          this.systemDataAvail = true;\n          this.reloadSystemsPage();\n          this.systemsListLoading = false;\n        }, 100);\n      });\n    }\n    reloadSystemsPage() {\n      this.loading = true;\n      this.systemsListForm = new FormGroup({\n        systems: new FormArray([])\n      });\n      this.systemList = this.systemsListForm.get('systems');\n      if (!this.In_Systems_Data.length) {\n        setTimeout(() => {\n          this.loading = false;\n        }, 1000);\n      }\n      this.renderSystemsForm();\n    }\n    showSuccessMessage(msg, type) {\n      this.closeAlert();\n      this.successInfo = msg;\n      this.success = true;\n      setTimeout(() => {\n        this.success = false;\n      }, 2500);\n    }\n    removeSpaces(str) {\n      str = str ? str : '';\n      return str.replace(/\\s/g, '');\n    }\n    clsAlphaNoOnly(e) {\n      var regex = new RegExp(\"^[a-zA-Z0-9:-]+$\");\n      var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);\n      if (regex.test(str)) {\n        return true;\n      }\n      e.preventDefault();\n      return false;\n    }\n  }\n  AddSystemComponent.ɵfac = function AddSystemComponent_Factory(t) {\n    return new (t || AddSystemComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.TranslateService), i0.ɵɵdirectiveInject(i3.FoundationDataService), i0.ɵɵdirectiveInject(i4.CommonFunctionsService), i0.ɵɵdirectiveInject(i5.CommonService), i0.ɵɵdirectiveInject(i6.ManagementService), i0.ɵɵdirectiveInject(i7.UriValidatorService), i0.ɵɵdirectiveInject(i8.FoundationManageService), i0.ɵɵdirectiveInject(i9.SsoAuthService), i0.ɵɵdirectiveInject(i10.HttpClient), i0.ɵɵdirectiveInject(i11.NgbModal), i0.ɵɵdirectiveInject(i12.AddSubscriberService));\n  };\n  AddSystemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddSystemComponent,\n    selectors: [[\"app-add-system\"]],\n    viewQuery: function AddSystemComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n        i0.ɵɵviewQuery(AdvancedSystemComponent, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.deleteDeviceModel = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.childAdvanced = _t);\n      }\n    },\n    inputs: {\n      linkageType: \"linkageType\",\n      sys_ServiceTiers: \"sys_ServiceTiers\",\n      AllFormData: \"AllFormData\",\n      formOptions: \"formOptions\",\n      servicesListData: \"servicesListData\",\n      formData: \"formData\",\n      subscriberData: \"subscriberData\",\n      In_Systems_Data: \"In_Systems_Data\",\n      DialPlanitem: \"DialPlanitem\",\n      DEFAULT_SYTEMS: \"DEFAULT_SYTEMS\",\n      disableSystem: \"disableSystem\",\n      continue: \"continue\",\n      subsSysServiceForm: \"subsSysServiceForm\"\n    },\n    outputs: {\n      Out_Data_Change: \"Out_Data_Change\",\n      Out_Data_Provision: \"Out_Data_Provision\",\n      Out_Default_Data: \"Out_Default_Data\",\n      disable_service: \"disable_service\",\n      delete_system: \"delete_system\",\n      unSavedData_emit: \"unSavedData_emit\"\n    },\n    decls: 10,\n    vars: 5,\n    consts: [[1, \"loader-wrapper\"], [\"class\", \"loader-wrapper-info\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-danger fade show\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-success fade show\", 4, \"ngIf\"], [\"id\", \"form-wrapper\", 3, \"formGroup\"], [\"class\", \"border-bottom pb-2\", \"formArrayName\", \"systems\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-md-12\"], [\"deleteDeviceModel\", \"\"], [\"systemDeleteWarning\", \"\"], [1, \"loader-wrapper-info\"], [1, \"loader\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"spinner-border\", \"text-primary\"], [1, \"sr-only\"], [1, \"w-100\", \"alert\", \"alert-danger\", \"fade\", \"show\"], [1, \"error-img\"], [\"src\", \"./assets/img/ic_error-36px.svg\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [1, \"d-inline-flex\", 3, \"innerHtml\"], [1, \"w-100\", \"alert\", \"alert-success\", \"fade\", \"show\"], [1, \"success-img\"], [\"src\", \"./assets/img/success-icon.svg\"], [\"formArrayName\", \"systems\", 1, \"border-bottom\", \"pb-2\"], [1, \"row\", \"my-3\", 3, \"formGroupName\"], [1, \"col-md-12\"], [1, \"row\"], [1, \"col-md-4\"], [1, \"ccl-form\"], [\"for\", \"deviceId\", \"id\", \"pendoCCOSystemFSANSNRegId\"], [1, \"error\"], [\"type\", \"deviceId\", \"formControlName\", \"deviceId\", \"id\", \"deviceId\", 1, \"form-control\", 3, \"ngClass\", \"placeholder\", \"readonly\", \"change\", \"keypress\"], [1, \"col-md-4\", \"pt-35\"], [1, \"d-inline-flex\"], [\"id\", \"\", 1, \"btn-default\", \"primary\", 3, \"disabled\", \"click\"], [1, \"d-inline-flex\", \"pl-2\"], [1, \"add-remove\", \"pt-0\"], [\"class\", \"pointer\", \"src\", \"assets/img/ic_minus_sign_circle.svg\", 3, \"click\", 4, \"ngIf\"], [1, \"sm-text\"], [4, \"ngIf\"], [\"class\", \"ccl-form my-3\", 4, \"ngIf\"], [3, \"id\", \"iId\", \"isPreProvistionedSystem\", \"systemId\", \"deviceModels\", \"deviceDataList\", \"sys_ServiceTiers\", \"systemInfoData\", \"ontDevice\", \"deviceData\", \"formOptions\", \"wifiObj\", \"tempWifiObj\", \"disableSystem\", \"editMode\", \"addDevObj\", \"Out_Data_Change\", \"Out_Data_Submit\", \"Out_System_Info\", \"Out_unsavedData\", \"Out_wifiNotchanged\", \"Out_WiFi_Info\", \"Out_Unified\", \"Out_LAN_Info\", 4, \"ngIf\"], [1, \"add\"], [\"class\", \"pointer mr-3\", \"src\", \"assets/img/Icon_Circle-Plus.svg\", 3, \"ngClass\", \"click\", 4, \"ngIf\"], [\"src\", \"assets/img/ic_minus_sign_circle.svg\", 1, \"pointer\", 3, \"click\"], [1, \"text-color\"], [1, \"ccl-form\", \"my-3\"], [1, \"btn-link\", \"primary\", 3, \"click\"], [3, \"id\", \"iId\", \"isPreProvistionedSystem\", \"systemId\", \"deviceModels\", \"deviceDataList\", \"sys_ServiceTiers\", \"systemInfoData\", \"ontDevice\", \"deviceData\", \"formOptions\", \"wifiObj\", \"tempWifiObj\", \"disableSystem\", \"editMode\", \"addDevObj\", \"Out_Data_Change\", \"Out_Data_Submit\", \"Out_System_Info\", \"Out_unsavedData\", \"Out_wifiNotchanged\", \"Out_WiFi_Info\", \"Out_Unified\", \"Out_LAN_Info\"], [\"src\", \"assets/img/Icon_Circle-Plus.svg\", 1, \"pointer\", \"mr-3\", 3, \"ngClass\", \"click\"], [1, \"modal-header\"], [\"id\", \"deletePopup\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [\"class\", \"py-3 alert alert-danger\", 4, \"ngIf\"], [\"class\", \"py-3 warning-msg\", 4, \"ngIf\"], [\"class\", \"d-flex\", 4, \"ngIf\"], [\"class\", \"pl-20\", 4, \"ngIf\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"py-3\", \"alert\", \"alert-danger\"], [\"type\", \"button\", \"id\", \"close-error-btn\", \"data-dismiss\", \"alert\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [1, \"py-3\", \"warning-msg\"], [1, \"w-100\"], [3, \"innerHtml\"], [1, \"btn-con-sec\"], [\"id\", \"deleteAndDisassociateSystemMsgBtn\", 1, \"btn\", \"warn-btn\", \"mr-2\", 3, \"click\"], [1, \"btn\", \"warn-btn\", 3, \"click\"], [\"id\", \"disassociateSystemMsgCnfrmBtn\", 1, \"btn\", \"warn-btn\", \"mr-2\", 3, \"click\"], [1, \"d-flex\"], [1, \"pl-20\"], [1, \"remove-device-form\", \"form-check\", \"p-0\", \"mb-2\"], [\"type\", \"radio\", \"name\", \"exampleRadios\", \"id\", \"exampleRadios1\", \"value\", \"disassociate\", \"checked\", \"\", 1, \"form-check-input\", \"mr-2\", 3, \"change\"], [\"for\", \"exampleRadios1\", 1, \"form-check-label\"], [1, \"form-check\", \"p-0\"], [\"type\", \"radio\", \"name\", \"exampleRadios\", \"id\", \"exampleRadios2\", \"value\", \"delete\", 1, \"form-check-input\", \"mr-2\", 3, \"change\"], [\"for\", \"exampleRadios2\", 1, \"form-check-label\"], [\"type\", \"button\", \"id\", \"removeDeviceConfirm\", \"class\", \"btn-default primary px-3 mr-3 mt-5\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"id\", \"removeDeviceCancel\", 1, \"btn-default\", \"transparant\", \"px-3\", \"mr-3\", \"mt-5\", 3, \"click\"], [\"type\", \"button\", \"id\", \"removeDeviceConfirm\", 1, \"btn-default\", \"primary\", \"px-3\", \"mr-3\", \"mt-5\", 3, \"click\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [1, \"warning-alert\", \"align-items-center\"], [1, \"warning-alert-icon\", \"w-auto\", \"mr-3\"], [\"src\", \"./assets/img/warning-icon.svg\"], [1, \"warning-alert-message\"], [1, \"modal-footer\", \"text-right\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn-default\", \"primary\", 3, \"click\"]],\n    template: function AddSystemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵtemplate(1, AddSystemComponent_div_1_Template, 6, 1, \"div\", 1);\n        i0.ɵɵtemplate(2, AddSystemComponent_div_2_Template, 6, 1, \"div\", 2);\n        i0.ɵɵtemplate(3, AddSystemComponent_div_3_Template, 6, 1, \"div\", 3);\n        i0.ɵɵelementStart(4, \"section\", 4);\n        i0.ɵɵtemplate(5, AddSystemComponent_div_5_Template, 31, 20, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, AddSystemComponent_ng_template_6_Template, 14, 8, \"ng-template\", 6, 7, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(8, AddSystemComponent_ng_template_8_Template, 14, 3, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading || ctx.saveSystemLoading || ctx.modelLoading || ctx.devGrpLoading || ctx.bandwidthLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.error || ctx.unSavedData && ctx.continue);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.success);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.systemsListForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.systemsListForm.get(\"systems\")[\"controls\"]);\n      }\n    },\n    directives: [i13.NgIf, i1.NgControlStatusGroup, i1.FormGroupDirective, i13.NgForOf, i1.FormArrayName, i1.FormGroupName, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i13.NgClass, i14.AdvancedSystemComponent],\n    styles: [\".btn-link[_ngcontent-%COMP%]{font-size:16px;font-weight:400;cursor:pointer}.not-allow[_ngcontent-%COMP%]{cursor:not-allowed!important}.add-remove[_ngcontent-%COMP%]{padding-top:37px;text-align:left}.add[_ngcontent-%COMP%]{text-align:left}input.inp-disabled[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.text-color[_ngcontent-%COMP%]{color:#b926f0}.pt-35[_ngcontent-%COMP%]{padding-top:35px}.pl-20[_ngcontent-%COMP%]{padding-left:20px}.warning-alert[_ngcontent-%COMP%]{display:flex}.warning-alert[_ngcontent-%COMP%]   .warning-alert-icon[_ngcontent-%COMP%]{width:10%}.warning-alert[_ngcontent-%COMP%]   .warning-alert-message[_ngcontent-%COMP%]{width:90%}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer!important}\"]\n  });\n  return AddSystemComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}