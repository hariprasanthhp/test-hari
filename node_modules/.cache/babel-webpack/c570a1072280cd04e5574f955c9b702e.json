{"ast":null,"code":"'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n  cmdHelper = require('../helper/CmdHelper'),\n  escapeHTML = require('../Utils').escapeHTML;\nvar entryFieldDescription = require('./EntryFieldDescription');\nvar domify = require('min-dom').domify;\nvar toggleSwitch = function (translate, options, defaultParameters) {\n  var resource = defaultParameters,\n    id = resource.id,\n    label = options.label || id,\n    canBeHidden = !!options.hidden && typeof options.hidden === 'function',\n    isOn = options.isOn,\n    descriptionOn = options.descriptionOn,\n    descriptionOff = options.descriptionOff,\n    labelOn = options.labelOn,\n    labelOff = options.labelOff;\n  resource.html = document.createDocumentFragment();\n  resource.html.appendChild(domify('<label for=\"' + escapeHTML(id) + '\" ' + (canBeHidden ? 'data-show=\"shouldShow\"' : '') + '>' + escapeHTML(label) + '</label>' + '<div class=\"bpp-field-wrapper\"' + (canBeHidden ? 'data-show=\"shouldShow\"' : '') + '>' + '<label class=\"bpp-toggle-switch__switcher\">' + '<input id=\"' + escapeHTML(id) + '\" ' + 'type=\"checkbox\" ' + 'name=\"' + escapeHTML(options.modelProperty) + '\" />' + '<span class=\"bpp-toggle-switch__slider\"></span>' + '</label>' + '<p class=\"bpp-toggle-switch__label\" data-show=\"isOn\">' + escapeHTML(labelOn) + '</p>' + '<p class=\"bpp-toggle-switch__label\" data-show=\"isOff\">' + escapeHTML(labelOff) + '</p>' + '</div>'));\n  if (descriptionOn) {\n    resource.html.appendChild(entryFieldDescription(translate, descriptionOn, {\n      show: 'isOn'\n    }));\n  }\n  if (descriptionOff) {\n    resource.html.appendChild(entryFieldDescription(translate, descriptionOff, {\n      show: 'isOff'\n    }));\n  }\n  resource.get = function (element) {\n    var bo = getBusinessObject(element),\n      res = {};\n    res[options.modelProperty] = bo.get(options.modelProperty);\n    return res;\n  };\n  resource.set = function (element, values) {\n    var res = {};\n    res[options.modelProperty] = !!values[options.modelProperty];\n    return cmdHelper.updateProperties(element, res);\n  };\n  if (typeof options.set === 'function') {\n    resource.set = options.set;\n  }\n  if (typeof options.get === 'function') {\n    resource.get = options.get;\n  }\n  if (canBeHidden) {\n    resource.shouldShow = function () {\n      return !options.hidden.apply(resource, arguments);\n    };\n  }\n  resource.isOn = function () {\n    if (canBeHidden && !resource.shouldShow()) {\n      return false;\n    }\n    return isOn.apply(resource, arguments);\n  };\n  resource.isOff = function () {\n    if (canBeHidden && !resource.shouldShow()) {\n      return false;\n    }\n    return !resource.isOn();\n  };\n  resource.cssClasses = ['bpp-toggle-switch'];\n  return resource;\n};\nmodule.exports = toggleSwitch;","map":null,"metadata":{},"sourceType":"script"}