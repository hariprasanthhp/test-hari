{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"src/app/marketing/marketing-explore-data/basic/shared/services/explore-data-common.service\";\nimport * as i3 from \"src/app/shared/services/sso-auth.service\";\nexport let MarketingInsightspplicationApiService = /*#__PURE__*/(() => {\n  class MarketingInsightspplicationApiService {\n    constructor(httpClient, marketingExploreCommonService, ssoAuthService) {\n      this.httpClient = httpClient;\n      this.marketingExploreCommonService = marketingExploreCommonService;\n      this.ssoAuthService = ssoAuthService;\n      this.activeTabObject = {\n        subscribers: true,\n        campaigns: false\n      };\n      this.campaignSearchResults = new Subject();\n      this.baseURL = environment.cmcBaseURL;\n      this.baseURL_summary = environment.API_BASE_URL;\n      // this.search = this.baseURL + 'subscriber/search?';\n      this.search = `${environment.SUPPORT_URL}/subscriber-search?`;\n      this.singleUser = this.baseURL + 'csc/subscribers/';\n      this.userDetails = this.baseURL + 'search/prioritySearch/id?';\n      this.subscriberSummary = this.baseURL_summary + 'csc/subscriber-summary/';\n      this.subscriberUsage = this.baseURL + 'subscriber/single-subscriber-usage';\n      this.serviceLimit = this.baseURL + 'subscriber/single-subscriber-insight';\n      this.usageByApplication = this.baseURL + 'subscriber/single-subscriber-usage-by-app-type';\n      this.topApplications = this.baseURL + 'subscriber/single-subscriber-top-apps';\n      this.campaignSearch = this.baseURL_summary + 'cmc-campaigns/campaign/search';\n      this.wifiCategory = this.baseURL + 'subscriber/single-subscriber-device-category-trend';\n      // this.deviceWifiScoreTrend = this.baseURL + 'subscriber/single-subscriber-device-category-trend';\n    }\n\n    Search(filterStr) {\n      return this.httpClient.get(`${this.search}pageNumber=1&pageSize=10&filter=${encodeURIComponent(filterStr)}`);\n    }\n    SearchResultSubscriber(filterStr, pageno) {\n      return this.httpClient.get(`${this.search}pageNumber=${pageno}&pageSize=10&filter=${encodeURIComponent(filterStr)}`);\n    }\n    SearchCampaign(filterStr, lang) {\n      return this.httpClient.get(`${this.campaignSearch}?name=${encodeURIComponent(filterStr)}&langId=${lang}`);\n    }\n    SingleUser(id) {\n      return this.httpClient.get(`${this.singleUser}${id}?orgId=${this.ssoAuthService.getOrgId()}&`);\n    }\n    UserDetails(id) {\n      return this.httpClient.get(`${this.userDetails}orgId=${this.ssoAuthService.getOrgId()}&filter=\"${id}\"`);\n    }\n    UsageByApplication(endpoint_id) {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.usageByApplication}?endpoint-id=${endpoint_id}&month=6&`));\n    }\n    TopApplications(endpoint_id) {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.topApplications}?endpoint-id=${endpoint_id}&month=6&`));\n    }\n    ServiceLimit(endpoint_id) {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.serviceLimit}?endpoint-id=${endpoint_id}&month=6&`));\n    }\n    WifiCategory(endpoint_id) {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.wifiCategory}?endpoint-id=${endpoint_id}&month=6&`));\n    }\n    subscribersSummaryGET(id) {\n      return this.httpClient.get(`${this.subscriberSummary}${id}?orgId=${this.ssoAuthService.getOrgId()}`);\n    }\n    getCustomerNameByCustomerID(id) {\n      return this.httpClient.get(this.baseURL + 'search/prioritySearch/id?orgId=' + this.ssoAuthService.getOrgId() + '&filter=\"' + id, {\n        responseType: 'text'\n      }).toPromise().then(res => {\n        console.log(res);\n        return res;\n      });\n    }\n    setResultsActiveTab(tabName) {\n      this.activeTabObject['subscribers'] = tabName == 'subscribers' ? true : false;\n      this.activeTabObject['campaigns'] = tabName == 'campaigns' ? true : false;\n    }\n    getResultsActiveTab() {\n      return this.activeTabObject;\n    }\n    setCampaignSearchResults(data) {\n      this.campaignSearchResults.next(data);\n    }\n  }\n  MarketingInsightspplicationApiService.ɵfac = function MarketingInsightspplicationApiService_Factory(t) {\n    return new (t || MarketingInsightspplicationApiService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.MarketingExploreCommonService), i0.ɵɵinject(i3.SsoAuthService));\n  };\n  MarketingInsightspplicationApiService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: MarketingInsightspplicationApiService,\n    factory: MarketingInsightspplicationApiService.ɵfac,\n    providedIn: 'root'\n  });\n  return MarketingInsightspplicationApiService;\n})();","map":null,"metadata":{},"sourceType":"module"}