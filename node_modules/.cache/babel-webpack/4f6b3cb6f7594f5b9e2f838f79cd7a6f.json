{"ast":null,"code":"'use strict';\n\nvar entryFactory = require('../../../factory/EntryFactory'),\n  cmdHelper = require('../../../helper/CmdHelper');\nvar ModelUtil = require('bpmn-js/lib/util/ModelUtil'),\n  is = ModelUtil.is,\n  getBusinessObject = ModelUtil.getBusinessObject;\nmodule.exports = function (group, element, bpmnFactory, translate) {\n  var getValue = function (businessObject) {\n    return function (element) {\n      var documentations = businessObject && businessObject.get('documentation'),\n        text = documentations && documentations.length > 0 ? documentations[0].text : '';\n      return {\n        documentation: text\n      };\n    };\n  };\n  var setValue = function (businessObject) {\n    return function (element, values) {\n      var newObjectList = [];\n      if (typeof values.documentation !== 'undefined' && values.documentation !== '') {\n        newObjectList.push(bpmnFactory.create('bpmn:Documentation', {\n          text: values.documentation\n        }));\n      }\n      return cmdHelper.setList(element, businessObject, 'documentation', newObjectList);\n    };\n  };\n\n  // Element Documentation\n  var elementDocuEntry = entryFactory.textBox(translate, {\n    id: 'documentation',\n    label: translate('Element Documentation'),\n    modelProperty: 'documentation'\n  });\n  elementDocuEntry.set = setValue(getBusinessObject(element));\n  elementDocuEntry.get = getValue(getBusinessObject(element));\n  group.entries.push(elementDocuEntry);\n  var processRef;\n\n  // Process Documentation when having a Collaboration Diagram\n  if (is(element, 'bpmn:Participant')) {\n    processRef = getBusinessObject(element).processRef;\n\n    // do not show for collapsed Pools/Participants\n    if (processRef) {\n      var processDocuEntry = entryFactory.textBox(translate, {\n        id: 'process-documentation',\n        label: translate('Process Documentation'),\n        modelProperty: 'documentation'\n      });\n      processDocuEntry.set = setValue(processRef);\n      processDocuEntry.get = getValue(processRef);\n      group.entries.push(processDocuEntry);\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"script"}