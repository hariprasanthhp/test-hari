{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./../shared/services/explore-data-common.service\";\nimport * as i3 from \"../shared/services/download-file-name.service\";\nimport * as i4 from \"../shared/services/explore-data-chart-options.service\";\nimport * as i5 from \"src/app/shared-utils/date-utils.service\";\nimport * as i6 from \"src/app-services/translate.service\";\nexport let MarketingExploreDataApplicationApiService = /*#__PURE__*/(() => {\n  class MarketingExploreDataApplicationApiService {\n    constructor(httpClient, marketingExploreCommonService, downloadFileNameService, exportDataChartOptionsService, dateUtilsService, translateService) {\n      this.httpClient = httpClient;\n      this.marketingExploreCommonService = marketingExploreCommonService;\n      this.downloadFileNameService = downloadFileNameService;\n      this.exportDataChartOptionsService = exportDataChartOptionsService;\n      this.dateUtilsService = dateUtilsService;\n      this.translateService = translateService;\n      this.baseURL = environment.cmcBaseURL;\n      this.language = this.translateService.defualtLanguage;\n      this.languageSubject = this.translateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n      });\n      // NORMAL VIEW\n      this.socialMapAppList = this.baseURL + 'insights/social-channel-list?';\n      this.socialHeatMap = this.baseURL + 'insights/application-heatmap?';\n      this.usageByApp = this.baseURL + 'insights/application-group-usage?';\n      this.topApp = this.baseURL + 'insights/top-applications?';\n      this.topGamingApp = this.baseURL + 'insights/top-gaming-applications?';\n      // DRILL DOWN\n      this.usageByAppDrillDown = this.baseURL + 'insights/app-info-by-group?';\n      this.topAppDrillDown = this.baseURL + 'insights/user-count-by-app?';\n      this.topGamingAppDrillDown = this.baseURL + 'insights/user-count-by-app?';\n      // DRILL DOWN EXPORT\n      this.usageByApplicationExport = this.baseURL + 'insights/app-info-by-group?';\n      this.topAppsDrillDownExport = this.baseURL + 'insights/user-count-by-app?';\n      this.topGamingAppsDrillDownExport = this.baseURL + 'insights/user-count-by-app?';\n    }\n    // NOEMAL API\n    UsageByApp() {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.usageByApp}limit=4&others=true&`));\n    }\n    TopApp() {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.topApp}limit=10&`));\n    }\n    TopGamingApp() {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.topGamingApp}limit=10&`));\n    }\n    SocialChannelAppList() {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssignerHome(`${this.socialMapAppList}timezone=${this.dateUtilsService.getOffsetInHoursAndMin()}&`));\n    }\n    SocialHeatMap(socialChannelName) {\n      let url = `${this.socialHeatMap}social-channel-name=${socialChannelName}&timezone=${this.dateUtilsService.getOffsetInHoursAndMin()}&interval=2&`;\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(url));\n    }\n    // DRILL DOWN API\n    TopAppDrillDown(clickData) {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.topAppDrillDown}app=${clickData.application}&page=${clickData.page}&size=${clickData.size}&`));\n    }\n    TopGamingAppDrillDown(clickData) {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.topGamingAppDrillDown}app=${clickData.application}&group=gaming&page=${clickData.page}&size=${clickData.size}&`));\n    }\n    UsageByAppDrillDown(clickData) {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.usageByAppDrillDown}group=${clickData.tech}&page=${clickData.page}&size=${clickData.size}&`));\n    }\n    // DRILL DOWN EXPORT\n    UsageByApplicationExport(clickData) {\n      let tech = clickData.tech.replace(' ', '%20');\n      let fileNameTech = clickData.tech.replace(' ', '-');\n      var name = clickData.tech;\n      var filenamechange = name.replaceAll(/,/g, \"\");\n      var filenamechange1 = filenamechange.toLowerCase().replaceAll(' ', '-');\n      let fileName = this.downloadFileNameService.generateDownloadNameForDrillDown(`${this.language.usage_by_application_type}-${filenamechange1}`);\n      let downloadURL = this.marketingExploreCommonService.queryParamsAssigner(`${this.usageByApplicationExport}group=${tech}&filename=usage-by-application-type-${fileNameTech}&`);\n      return {\n        downloadURL: downloadURL,\n        fileName: fileName\n      };\n    }\n    TopAppsDrillDownExport(clickData) {\n      let filename = clickData.application.replace(' (', '-');\n      let name = filename.replace(')', '-');\n      let filename1 = name.replaceAll(' ', '-');\n      let fileName = this.downloadFileNameService.generateDownloadNameForDrillDown(`${this.language.top_applications}-${filename1.toLowerCase()}-${this.language.subscribers}`);\n      let downloadURL = this.marketingExploreCommonService.queryParamsAssigner(`${this.topAppsDrillDownExport}app=${clickData.application}&file=true&filename=top-applications-${clickData.application.toLowerCase()}-${this.language.subscribers}&`);\n      return {\n        downloadURL: downloadURL,\n        fileName: fileName\n      };\n    }\n    TopGamingAppsDrillDownExport(clickData) {\n      let app = clickData.application.replace(' ', '%20');\n      let attributename = clickData.application.replace(' ', '');\n      let filename1 = attributename.replaceAll(' ', '-');\n      let fileName = this.downloadFileNameService.generateDownloadNameForDrillDown(`${this.language.top_gaming_applications}-${this.marketingExploreCommonService.gamingReplacer(filename1.toLowerCase())}-${this.language.subscribers}`);\n      let downloadURL = this.marketingExploreCommonService.queryParamsAssigner(`${this.topGamingAppsDrillDownExport}app=${app}&group=gaming&file=true&filename=top-gaming-applications-${this.marketingExploreCommonService.gamingReplacer(app)}-${this.language.subscribers}&`);\n      return {\n        downloadURL: downloadURL,\n        fileName: fileName\n      };\n    }\n  }\n  MarketingExploreDataApplicationApiService.ɵfac = function MarketingExploreDataApplicationApiService_Factory(t) {\n    return new (t || MarketingExploreDataApplicationApiService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.MarketingExploreCommonService), i0.ɵɵinject(i3.DownloadFileNameService), i0.ɵɵinject(i4.ExportDataChartOptionsService), i0.ɵɵinject(i5.DateUtilsService), i0.ɵɵinject(i6.TranslateService));\n  };\n  MarketingExploreDataApplicationApiService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: MarketingExploreDataApplicationApiService,\n    factory: MarketingExploreDataApplicationApiService.ɵfac,\n    providedIn: 'root'\n  });\n  return MarketingExploreDataApplicationApiService;\n})();","map":null,"metadata":{},"sourceType":"module"}