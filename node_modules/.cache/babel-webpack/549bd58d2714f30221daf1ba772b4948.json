{"ast":null,"code":"import { append as svgAppend, attr as svgAttr, create as svgCreate } from 'tiny-svg';\nexport default function TouchFix(canvas, eventBus) {\n  var self = this;\n  eventBus.on('canvas.init', function (e) {\n    self.addBBoxMarker(e.svg);\n  });\n}\nTouchFix.$inject = ['canvas', 'eventBus'];\n\n/**\n * Safari mobile (iOS 7) does not fire touchstart event in <SVG> element\n * if there is no shape between 0,0 and viewport elements origin.\n *\n * So touchstart event is only fired when the <g class=\"viewport\"> element was hit.\n * Putting an element over and below the 'viewport' fixes that behavior.\n */\nTouchFix.prototype.addBBoxMarker = function (svg) {\n  var markerStyle = {\n    fill: 'none',\n    class: 'outer-bound-marker'\n  };\n  var rect1 = svgCreate('rect');\n  svgAttr(rect1, {\n    x: -10000,\n    y: 10000,\n    width: 10,\n    height: 10\n  });\n  svgAttr(rect1, markerStyle);\n  svgAppend(svg, rect1);\n  var rect2 = svgCreate('rect');\n  svgAttr(rect2, {\n    x: 10000,\n    y: 10000,\n    width: 10,\n    height: 10\n  });\n  svgAttr(rect2, markerStyle);\n  svgAppend(svg, rect2);\n};","map":null,"metadata":{},"sourceType":"module"}