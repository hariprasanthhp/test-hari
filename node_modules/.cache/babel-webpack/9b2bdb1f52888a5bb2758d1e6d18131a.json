{"ast":null,"code":"import { FilesModel } from './../model/files.model';\nimport 'lodash';\nimport { environment } from '../../../../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app-services/translate.service\";\nimport * as i2 from \"src/app/shared/services/sso-auth.service\";\nimport * as i3 from \"@angular/platform-browser\";\nimport * as i4 from \"./../services/files.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@ng-select/ng-select\";\nimport * as i9 from \"../../../../shared/directives/trim-space.directive\";\nconst _c0 = [\"inputFile\"];\nconst _c1 = [\"labelImport\"];\nfunction ConfigurationFilesFormComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵelementStart(1, \"span\", 36);\n    i0.ɵɵelement(2, \"img\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function ConfigurationFilesFormComponent_div_1_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.hideError();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r0.errorMsg, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction ConfigurationFilesFormComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵelementStart(1, \"div\", 41);\n    i0.ɵɵelementStart(2, \"strong\", 41);\n    i0.ɵɵelement(3, \"div\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 41);\n    i0.ɵɵelementStart(5, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function ConfigurationFilesFormComponent_div_2_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.hideSuccess();\n    });\n    i0.ɵɵelement(6, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r1.successMsg, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction ConfigurationFilesFormComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵelementStart(1, \"span\", 36);\n    i0.ɵɵelement(2, \"img\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 41);\n    i0.ɵɵelementStart(4, \"strong\", 41);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\u00A0\\u00A0 \");\n    i0.ɵɵelement(7, \"div\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 46);\n    i0.ɵɵelementStart(9, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function ConfigurationFilesFormComponent_div_3_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.hideWarning();\n    });\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.language.warning, \"!\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r2.errorMsg, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.language.ok, \" \");\n  }\n}\nfunction ConfigurationFilesFormComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵelementStart(1, \"div\", 49);\n    i0.ɵɵelementStart(2, \"div\", 50);\n    i0.ɵɵelementStart(3, \"span\", 51);\n    i0.ɵɵtext(4, \"Loading...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ConfigurationFilesFormComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.language.Name_Is_Required, \" \");\n  }\n}\nfunction ConfigurationFilesFormComponent_button_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 53);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    const _r4 = i0.ɵɵreference(6);\n    i0.ɵɵproperty(\"disabled\", _r4.form.valid && ctx_r9.isFileValid ? false : true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r9.language.submit);\n  }\n}\nconst _c2 = function (a0) {\n  return [a0];\n};\nexport let ConfigurationFilesFormComponent = /*#__PURE__*/(() => {\n  class ConfigurationFilesFormComponent {\n    constructor(translateService, ssoAuthService, titleService, fileService, router) {\n      this.translateService = translateService;\n      this.ssoAuthService = ssoAuthService;\n      this.titleService = titleService;\n      this.fileService = fileService;\n      this.router = router;\n      this.configFile = new FilesModel();\n      this.showError = false;\n      this.showSuccess = false;\n      this.isFileValid = false;\n      this.fileType = [];\n      this.fileToUpload = null;\n      this.showWarning = false;\n      this.loading = false;\n      this.hasWriteAccess = false;\n      this.hasScopeAccess = false;\n      this.createConfiguration = function () {\n        var reader, base64Content, match;\n        if (this.fileToUpload) {\n          reader = new FileReader();\n          // Start reading.\n          reader.readAsDataURL(this.fileToUpload);\n          reader.onload = () => {\n            match = /^data:.*;base64,(.*)$/.exec(reader.result);\n            if (match != null) {\n              base64Content = match[1];\n            } else {}\n            this.configFile.binaryContent = base64Content;\n          };\n          reader.onerror = function () {\n            this.showError = true;\n            this.errorMsg = `The file couldn't be loaded.`;\n            this.isFileValid = false;\n          };\n        }\n      };\n      this.orgId = this.ssoAuthService.getOrgId();\n      this.fileType = fileService.getFileType();\n      this.scopes = this.ssoAuthService.getScopes();\n    }\n    setTitle(url) {\n      if (!this.router.url.includes('cco-foundation') && !this.router.url.includes('cco/operations/configuration')) {\n        this.titleService.setTitle(`${this.language['Config_Files']} - ${this.language['Operations']} - ${this.language['NetOps']} - ${this.language['Support']} - ${this.language['Calix Cloud']}`);\n      } else if (this.router.url.includes('cco/operations/configuration')) {\n        this.titleService.setTitle(`${this.language['Config_Files']} - ${this.language['Configuration']} - ${this.language['Operations']} - ${this.language['Operations']} - ${this.language['Calix Cloud']}`);\n      }\n    }\n    ngOnInit() {\n      var _a, _b, _c;\n      this.language = this.translateService.defualtLanguage;\n      this.languageSubject = this.translateService.selectedLanguage.subscribe(data => {\n        // document.getElementById(\"customimage\").onchange= function(e: Event) {\n        //   let file = (<HTMLInputElement>e.target).files[0];\n        //   this.onFileChange(file);\n        // }\n        var _a;\n        this.language = data;\n        this.setTitle(this.router.url);\n        if (this.confilesize) {\n          this.errorMsg = this.language.invalidFileTypeErrorMsg(this.confilesize);\n        }\n        if ((_a = this.configFile) === null || _a === void 0 ? void 0 : _a.type) this.configFile.type = this.language['Configuration File'];\n      });\n      this.setTitle(this.router.url);\n      if (!this.router.url.includes('cco/operations/configuration')) {\n        if (environment.VALIDATE_SCOPE) {\n          this.scopes['cloud.rbac.csc.netops.operations.config_files'] = this.scopes['cloud.rbac.csc.netops.operations.config_files'] ? this.scopes['cloud.rbac.csc.netops.operations.config_files'] : [];\n          if (this.scopes['cloud.rbac.csc.netops.operations.config_files'].length) {\n            this.hasScopeAccess = true;\n          }\n          if (this.scopes && this.scopes['cloud.rbac.csc.netops.operations.config_files'] && this.scopes['cloud.rbac.csc.netops.operations.config_files'].indexOf('write') !== -1) {\n            this.hasWriteAccess = true;\n          }\n        } else {\n          this.hasWriteAccess = true;\n          this.hasScopeAccess = true;\n        }\n      } else {\n        if (environment.VALIDATE_SCOPE) {\n          if ((_b = (_a = this.scopes) === null || _a === void 0 ? void 0 : _a['cloud.rbac.coc.operations.configuration.configurationfiles']) === null || _b === void 0 ? void 0 : _b.length) {\n            this.hasScopeAccess = true;\n          }\n          if (this.scopes && ((_c = this.scopes['cloud.rbac.coc.operations.configuration.configurationfiles']) === null || _c === void 0 ? void 0 : _c.includes('write'))) {\n            this.hasWriteAccess = true;\n          }\n        } else {\n          this.hasWriteAccess = true;\n          this.hasScopeAccess = true;\n        }\n      }\n      if (!this.hasScopeAccess) {\n        this.ssoAuthService.setPageAccess(false);\n        return;\n      }\n    }\n    onFileSubmit() {\n      this.loading = true;\n      this.hideWarning();\n      this.hideError();\n      this.hideWarning();\n      if (this.configFile.binaryContent) {\n        this.fileService.uploadConfigFile(this.configFile, this.orgId).subscribe(res => {\n          this.showSuccess = true;\n          this.successMsg = \"successfully updated\";\n          this.configFile = new FilesModel();\n          this.loading = false;\n          this.gotoList();\n          // this.ssoAuthService.redirectByUrl([\n          //   '/support/netops-management/operations/configuration-files-list',\n          //   '/cco/operations/cco-system-operations/configuration-files', '',\n          //   '/cco/operations/cco-subscriber-operations/operations/configuration-files-list'\n          // ])\n        }, err => {\n          this.loading = false;\n          if (err.status == 409) {\n            this.showWarning = true;\n            this.errorMsg = `The configuration \"${this.configFile.name}\" already exists. Please enter another name`;\n          } else {\n            this.errorMsg = err.error.error;\n            this.showError = true;\n          }\n        });\n      } else {\n        this.errorMsg = \"Invalid File Name!\";\n        this.showError = true;\n        this.loading = false;\n      }\n    }\n    onFileChange(files) {\n      if (files.length != 0) {\n        this.labelImport.nativeElement.innerText = Array.from(files).map(f => f.name);\n        this.fileToUpload = files.item(0);\n        var name = this.fileToUpload.name;\n        var index = name.lastIndexOf('.');\n        if (index != -1) {\n          this.configFile.name = name.slice(0, index);\n        }\n        var size = this.fileToUpload.size;\n        if (size > 2 * 1024 * 1024) {\n          this.showError = true;\n          this.confilesize = size / 1024 / 1024;\n          //this.errorMsg = `Invalid File Type: too large size: ${size / 1024 / 1024} MB exceeds more than 2MB limitation`;\n          this.errorMsg = this.language.invalidFileTypeErrorMsg(this.confilesize);\n          this.isFileValid = false;\n          return;\n        }\n        this.confilesize = 0;\n        this.configFile.version = \"\";\n        // this.configFile.orgId = this.orgId;\n        var reader = new FileReader();\n        reader.onload = () => {\n          var lines = reader.result.toString().split(/[\\r\\n]+/g);\n          if (_.isArray(lines) && lines.length > 0) {\n            // SXACC-5083, Remove Validation for 3rd-party Configuraion file\n            var bType = true,\n              bVersion = false;\n            if (this.isGoldenFile(lines)) {\n              bVersion = this.readVersionOfGoldenFile(lines);\n            } else if (this.readVersionOfSipFile(lines)) {\n              bVersion = true;\n            } else if (this.isTSeriesFile(lines)) {\n              bVersion = this.readVersionOfTSeriesFile(lines);\n            } else if (this.isTSeriesSipFile(lines)) {\n              bVersion = this.readVersionOfTSeriesSipFile(lines);\n            } else {\n              bType = false;\n              this.configFile.type = this.language['Configuration File'];\n            }\n            this.isFileValid = true;\n            // This is Calix Configuration File, but its version couldn't be read successfully\n            if (bType && !bVersion) {\n              this.showError = true;\n              this.errorMsg = `Invalid configuration File: Cannot get Configuration file version`;\n              this.isFileValid = false;\n            }\n          }\n        };\n        reader.onerror = () => {\n          this.showError = true;\n          this.errorMsg = `The file couldn't be loaded.`;\n          this.isFileValid = false;\n        };\n        reader.readAsText(this.fileToUpload, 'UTF-8');\n        this.createConfiguration();\n      }\n    }\n    isGoldenFile(lines) {\n      var firstLine = lines[0],\n        pattern = /<!--CalixVersion=\"(.+?)\".+/,\n        result = false,\n        match;\n      if (firstLine.indexOf(\"<\") !== 0 || !pattern.test(firstLine)) {\n        // SXACC-5083, Apply this pattern firstly due to SR Configuration File also satisfies the next pattern\n        return result;\n      }\n      pattern = /<DslCpeConfig\\s(.+?)\">/;\n      result = _.find(lines, function (line) {\n        match = pattern.exec(line);\n        return !!match;\n      });\n      if (!result) {\n        var type_pattern = / type=\"(.+?)\"/;\n        match = type_pattern.exec(firstLine);\n        if (_.isArray(match) && match.length === 2 && match[1].toLowerCase() === 'golden') {\n          return true;\n        }\n      }\n      return result;\n    }\n    readVersionOfGoldenFile(lines) {\n      var pattern,\n        match,\n        result = false,\n        firstLine = lines[0];\n      pattern = /<!--CalixVersion=\"(.+?)\".+type=\"(.+?)\".+/;\n      match = pattern.exec(firstLine);\n      if (_.isArray(match)) {\n        if (match.length === 3) {\n          var type = match[2].toLowerCase();\n          if (type === 'golden') {\n            this.configFile.type = 'Configuration File';\n            this.configFile.version = match[1];\n            result = true;\n          }\n        }\n      } else {\n        pattern = /<!--CalixVersion=\"(.+?)\".+/;\n        match = pattern.exec(firstLine);\n        if (_.isArray(match)) {\n          result = true;\n          if (match.length === 2) {\n            this.configFile.type = 'Configuration File';\n            this.configFile.version = match[1];\n          } else {\n            this.configFile.type = 'Configuration File';\n          }\n        }\n      }\n      return result;\n    }\n    readVersionOfSipFile(lines) {\n      var pattern, match, find, version;\n      pattern = /;CalixVersion=\"(.+?)\"/;\n      find = _.find(lines, function (line) {\n        match = pattern.exec(line);\n        if (_.isArray(match) && match.length === 2) {\n          version = match[1];\n          return true;\n        } else {\n          return false;\n        }\n      });\n      if (!find) {\n        return false;\n      }\n      this.configFile.type = 'SIP Configuration File';\n      this.configFile.version = version;\n      return true;\n    }\n    readVersionOfTSeriesFile(lines) {\n      var pattern,\n        match,\n        find,\n        version,\n        result = false;\n      pattern = /<Version>(.+?)<.+>/;\n      find = _.find(lines, function (line) {\n        match = pattern.exec(line);\n        if (_.isArray(match) && match.length === 2) {\n          version = match[1];\n          return true;\n        } else {\n          return false;\n        }\n      });\n      if (!find) {\n        return false;\n      }\n      this.configFile.type = 'Configuration File';\n      this.configFile.version = version;\n      return true;\n    }\n    isTSeriesFile(lines) {\n      var firstLine = lines[0],\n        pattern = /<Project\\s(.+?)\">/,\n        result = false,\n        match;\n      if (firstLine.indexOf(\"<\") !== 0) {\n        return result;\n      }\n      result = _.find(lines, function (line) {\n        match = pattern.exec(line);\n        if (match) {\n          return true;\n        } else {\n          return false;\n        }\n      });\n      return result;\n    }\n    isTSeriesSipFile(lines) {\n      var firstLine = lines[0],\n        pattern = /VoIPProfileSigned/,\n        result = false,\n        match;\n      if (firstLine.indexOf(\"<\") !== 0) {\n        return result;\n      }\n      result = _.find(lines, function (line) {\n        match = pattern.exec(line);\n        if (match) {\n          return true;\n        } else {\n          return false;\n        }\n      });\n      return result;\n    }\n    readVersionOfTSeriesSipFile(lines) {\n      var pattern, match, find, version;\n      pattern = /<ConfigVersion>(.+?)<.+>/;\n      find = _.find(lines, function (line) {\n        match = pattern.exec(line);\n        if (_.isArray(match) && match.length === 2) {\n          version = match[1];\n          return true;\n        } else {\n          return false;\n        }\n      });\n      if (!find) {\n        return false;\n      }\n      this.configFile.type = 'T Series SIP Configuration File';\n      this.configFile.version = version;\n      return true;\n    }\n    hideError() {\n      this.showError = false;\n      this.errorMsg = '';\n    }\n    hideSuccess() {\n      this.showSuccess = false;\n      this.successMsg = '';\n    }\n    hideWarning() {\n      this.showWarning = false;\n      this.errorMsg = '';\n    }\n    gotoList() {\n      var _a;\n      if (((_a = window.location.href) === null || _a === void 0 ? void 0 : _a.indexOf('/cco/operations/configuration/configuration-files-form')) !== -1) {\n        this.router.navigate(['./cco/operations/configuration/configuration-files-list']);\n        return;\n      }\n      this.ssoAuthService.redirectByUrl(['/support/netops-management/operations/configuration-files-list', '/cco/operations/cco-system-operations/configuration-files', '', '/cco/operations/cco-subscriber-operations/operations/configuration-files-list']);\n    }\n    ngOnDestroy() {\n      this.languageSubject.unsubscribe();\n    }\n  }\n  ConfigurationFilesFormComponent.ɵfac = function ConfigurationFilesFormComponent_Factory(t) {\n    return new (t || ConfigurationFilesFormComponent)(i0.ɵɵdirectiveInject(i1.TranslateService), i0.ɵɵdirectiveInject(i2.SsoAuthService), i0.ɵɵdirectiveInject(i3.Title), i0.ɵɵdirectiveInject(i4.FileService), i0.ɵɵdirectiveInject(i5.Router));\n  };\n  ConfigurationFilesFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ConfigurationFilesFormComponent,\n    selectors: [[\"app-configuration-files-form\"]],\n    viewQuery: function ConfigurationFilesFormComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.InputFile = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.labelImport = _t.first);\n      }\n    },\n    decls: 50,\n    vars: 30,\n    consts: [[1, \"mt-3\"], [\"class\", \"w-100 alert alert alert-danger  fade show\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert alert-success  fade show\", 4, \"ngIf\"], [\"class\", \"py-3 warning-msg \", 4, \"ngIf\"], [\"class\", \"loader\", 4, \"ngIf\"], [\"id\", \"config-files-form\", \"novalidate\", \"\", 1, \"form-group\", \"ccl-form\", 3, \"ngSubmit\"], [\"myForm\", \"ngForm\"], [1, \"form-group\", \"row\", \"ccl-form\", \"required\"], [1, \"input-group\", \"mb-3\"], [1, \"col-sm-2\", \"col-form-label\"], [1, \"required-field\", \"error\"], [1, \"ccl-form\", \"col-sm-10\", \"position-relative\"], [1, \"browse-text\"], [\"type\", \"file\", \"name\", \"file\", \"id\", \"importFile\", \"required\", \"\", 1, \"form-control\", \"custom-file-input\", 3, \"change\"], [\"inputFile\", \"\"], [\"for\", \"importFile\", 1, \"custom-file-label\"], [\"labelImport\", \"\"], [1, \"form-group\", \"row\", \"ccl-form\"], [\"for\", \"fileType\", 1, \"col-sm-2\", \"col-form-label\"], [1, \"col-sm-10\"], [\"id\", \"fileType\", \"name\", \"fileType\", \"readonly\", \"\", \"disabled\", \"\", \"searchable\", \"false\", \"bindLabel\", \"name\", \"bindValue\", \"name\", \"required\", \"\", 3, \"items\", \"clearable\", \"ngModel\", \"ngModelChange\"], [1, \"form-group\", \"ccl-form\", \"row\"], [\"for\", \"inputVersion\", 1, \"col-sm-2\", \"col-form-label\"], [\"type\", \"text\", \"id\", \"Version\", \"name\", \"Version\", \"trimSpace\", \"\", 1, \"form-control\", 3, \"placeholder\", \"ngModel\", \"formValue\", \"ngModelChange\"], [\"for\", \"inputName\", 1, \"col-sm-2\", \"col-form-label\"], [1, \"error\"], [1, \"col-sm-10\", 3, \"ngClass\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"required\", \"\", \"aria-required\", \"true\", \"aria-describedby\", \"name-error\", \"aria-invalid\", \"true\", \"autocomplete\", \"new-password\", \"trimSpace\", \"\", 1, \"form-control\", 3, \"ngModel\", \"placeholder\", \"formValue\", \"ngModelChange\"], [\"name\", \"ngModel\"], [\"class\", \"errorMessage\", \"id\", \"name-error\", 4, \"ngIf\"], [\"for\", \"inputdes\", 1, \"col-sm-2\", \"col-form-label\"], [\"type\", \"text\", \"id\", \"description\", \"name\", \"description\", \"trimSpace\", \"\", 3, \"ngModel\", \"placeholder\", \"formValue\", \"ngModelChange\"], [1, \"mt-3\", \"mb-4\"], [\"type\", \"submit\", \"id\", \"submit-btn\", \"class\", \"btn-default primary px-3\", 3, \"disabled\", 4, \"ngIf\"], [\"type\", \"button\", \"id\", \"cancel-btn\", 1, \"btn-default\", \"btn-dft\", \"py-1\", \"ml-2\", \"mr-3\", 3, \"click\"], [1, \"w-100\", \"alert\", \"alert\", \"alert-danger\", \"fade\", \"show\"], [1, \"error-img\"], [\"src\", \"./assets/img/ic_error-36px.svg\"], [\"type\", \"button\", \"id\", \"hide-error-btn\", 1, \"close\", \"float-right\", 3, \"click\"], [1, \"d-inline-flex\", 3, \"innerHtml\"], [1, \"w-100\", \"alert\", \"alert\", \"alert-success\", \"fade\", \"show\"], [1, \"d-inline\"], [1, \"d-inline\", 3, \"innerHtml\"], [\"type\", \"button\", \"id\", \"hide-success-btn\", 1, \"close\", 3, \"click\"], [1, \"py-3\", \"warning-msg\"], [\"src\", \"./assets/img/warning-icon.svg\"], [1, \"btn-con-sec\", \"float-right\"], [\"id\", \"warning-Btn\", 1, \"btn\", \"warn-btn\", \"mr-2\", 3, \"click\"], [1, \"loader\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"spinner-border\", \"text-primary\"], [1, \"sr-only\"], [\"id\", \"name-error\", 1, \"errorMessage\"], [\"type\", \"submit\", \"id\", \"submit-btn\", 1, \"btn-default\", \"primary\", \"px-3\", 3, \"disabled\"]],\n    template: function ConfigurationFilesFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r16 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, ConfigurationFilesFormComponent_div_1_Template, 6, 1, \"div\", 1);\n        i0.ɵɵtemplate(2, ConfigurationFilesFormComponent_div_2_Template, 7, 1, \"div\", 2);\n        i0.ɵɵtemplate(3, ConfigurationFilesFormComponent_div_3_Template, 11, 3, \"div\", 3);\n        i0.ɵɵtemplate(4, ConfigurationFilesFormComponent_div_4_Template, 5, 0, \"div\", 4);\n        i0.ɵɵelementStart(5, \"form\", 5, 6);\n        i0.ɵɵlistener(\"ngSubmit\", function ConfigurationFilesFormComponent_Template_form_ngSubmit_5_listener() {\n          i0.ɵɵrestoreView(_r16);\n          const _r4 = i0.ɵɵreference(6);\n          return _r4.form.valid && ctx.onFileSubmit();\n        });\n        i0.ɵɵelementStart(7, \"div\", 7);\n        i0.ɵɵelementStart(8, \"div\", 8);\n        i0.ɵɵelementStart(9, \"label\", 9);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementStart(11, \"span\", 10);\n        i0.ɵɵtext(12, \"*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 11);\n        i0.ɵɵelementStart(14, \"span\", 12);\n        i0.ɵɵtext(15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"input\", 13, 14);\n        i0.ɵɵlistener(\"change\", function ConfigurationFilesFormComponent_Template_input_change_16_listener($event) {\n          return ctx.onFileChange($event.target.files);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"label\", 15, 16);\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 17);\n        i0.ɵɵelementStart(22, \"label\", 18);\n        i0.ɵɵtext(23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 19);\n        i0.ɵɵelementStart(25, \"ng-select\", 20);\n        i0.ɵɵlistener(\"ngModelChange\", function ConfigurationFilesFormComponent_Template_ng_select_ngModelChange_25_listener($event) {\n          return ctx.configFile.type = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 21);\n        i0.ɵɵelementStart(27, \"label\", 22);\n        i0.ɵɵtext(28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\", 19);\n        i0.ɵɵelementStart(30, \"input\", 23);\n        i0.ɵɵlistener(\"ngModelChange\", function ConfigurationFilesFormComponent_Template_input_ngModelChange_30_listener($event) {\n          return ctx.configFile.version = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 7);\n        i0.ɵɵelementStart(32, \"label\", 24);\n        i0.ɵɵtext(33);\n        i0.ɵɵelementStart(34, \"span\", 25);\n        i0.ɵɵtext(35, \"*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"div\", 26);\n        i0.ɵɵelementStart(37, \"input\", 27, 28);\n        i0.ɵɵlistener(\"ngModelChange\", function ConfigurationFilesFormComponent_Template_input_ngModelChange_37_listener($event) {\n          return ctx.configFile.name = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(39, ConfigurationFilesFormComponent_div_39_Template, 2, 1, \"div\", 29);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"div\", 21);\n        i0.ɵɵelementStart(41, \"label\", 30);\n        i0.ɵɵtext(42);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"div\", 19);\n        i0.ɵɵelementStart(44, \"input\", 31);\n        i0.ɵɵlistener(\"ngModelChange\", function ConfigurationFilesFormComponent_Template_input_ngModelChange_44_listener($event) {\n          return ctx.configFile.description = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"div\");\n        i0.ɵɵelementStart(46, \"div\", 32);\n        i0.ɵɵtemplate(47, ConfigurationFilesFormComponent_button_47_Template, 2, 2, \"button\", 33);\n        i0.ɵɵelementStart(48, \"button\", 34);\n        i0.ɵɵlistener(\"click\", function ConfigurationFilesFormComponent_Template_button_click_48_listener() {\n          return ctx.gotoList();\n        });\n        i0.ɵɵtext(49);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const _r4 = i0.ɵɵreference(6);\n        const _r7 = i0.ɵɵreference(38);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showError);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showSuccess);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showWarning);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\"\", ctx.language.File, \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.language.Browse);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.language.File);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.language.type);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"items\", ctx.fileType)(\"clearable\", false)(\"ngModel\", ctx.configFile.type);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.language.Version);\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.language.Version);\n        i0.ɵɵproperty(\"ngModel\", ctx.configFile.version)(\"formValue\", ctx.configFile);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", ctx.language.Name, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(28, _c2, (_r7.errors == null ? null : _r7.errors.required) && (_r4.submitted || _r7.touched) ? \"errorMessage\" : \"\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.language.Name);\n        i0.ɵɵproperty(\"ngModel\", ctx.configFile.name)(\"formValue\", ctx.configFile);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", _r7.invalid && (_r7.dirty || _r7.touched));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate2(\"\", ctx.language.description, \" \", ctx.language.optional, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.language.Decription);\n        i0.ɵɵproperty(\"ngModel\", ctx.configFile.description)(\"formValue\", ctx.configFile);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasWriteAccess);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.language.cancel);\n      }\n    },\n    directives: [i6.NgIf, i7.ɵNgNoValidate, i7.NgControlStatusGroup, i7.NgForm, i8.NgSelectComponent, i7.RequiredValidator, i7.NgControlStatus, i7.NgModel, i7.DefaultValueAccessor, i9.TrimSpaceDirective, i6.NgClass],\n    styles: [\".ng-input>input{cursor:not-allowed!important}.errorMsg[_ngcontent-%COMP%]{color:#c70000;margin-left:15px}.custom-file-label[_ngcontent-%COMP%]{position:absolute;top:0;right:0;left:0;z-index:1;height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-weight:400;line-height:1.5;color:#495057;background-color:#f8f8fa!important;border:1px solid #ced4da;border-radius:20px!important;margin:0 14px;font-size:14px}.custom-file-label[_ngcontent-%COMP%]:hover{border-color:#ccc}.custom-file-label[_ngcontent-%COMP%]:focus, .custom-file-label[_ngcontent-%COMP%]:active{border:1px solid #0278FF}.browse-text[_ngcontent-%COMP%]{position:absolute;top:1px;right:15px;bottom:0;z-index:2;display:block;height:33px;padding:.375rem .75rem;line-height:1.5;color:#495057;background-color:#e9ecef;border-left:inherit;border-radius:20px!important}.custom-file-label[_ngcontent-%COMP%]:after{display:none}.custom-file-input[_ngcontent-%COMP%]{cursor:pointer}\"]\n  });\n  return ConfigurationFilesFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}