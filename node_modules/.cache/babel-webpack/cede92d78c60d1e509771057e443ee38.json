{"ast":null,"code":"import { DataTableDirective } from 'angular-datatables';\nimport { of, combineLatest, Subject, forkJoin } from 'rxjs';\nimport { environment } from '../../../environments/environment';\n// import { AuthService } from '../../shared/services/auth.service';\nimport { catchError, map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../flow-config/services/common-functions.service\";\nimport * as i2 from \"../services/common.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../shared/services/custom-translate.service\";\nimport * as i5 from \"../services/users-detail.service\";\nimport * as i6 from \"src/app/shared/services/sso-auth.service\";\nimport * as i7 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i8 from \"@angular/platform-browser\";\nimport * as i9 from \"@angular/common/http\";\nimport * as i10 from \"../services/add-role.service\";\nimport * as i11 from \"@angular/common\";\nimport * as i12 from \"@ng-select/ng-select\";\nimport * as i13 from \"@angular/forms\";\nimport * as i14 from \"angular-datatables\";\nconst _c0 = [\"deleteModal\"];\nfunction FederatedUserDetialsComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵelementStart(1, \"div\", 30);\n    i0.ɵɵelementStart(2, \"div\", 31);\n    i0.ɵɵelementStart(3, \"span\", 32);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.language.Loading);\n  }\n}\nfunction FederatedUserDetialsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵelementStart(1, \"span\", 34);\n    i0.ɵɵelement(2, \"img\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function FederatedUserDetialsComponent_div_2_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.closeAlert();\n    });\n    i0.ɵɵelement(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 37);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r1.errorInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction FederatedUserDetialsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 38);\n    i0.ɵɵelementStart(1, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function FederatedUserDetialsComponent_div_3_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.closeAlert();\n    });\n    i0.ɵɵelement(2, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r2.successInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction FederatedUserDetialsComponent_form_14_em_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"em\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r15.language[\"This field is required\"]);\n  }\n}\nfunction FederatedUserDetialsComponent_form_14_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r16.language[\"Please enter the same value again\"], \".\");\n  }\n}\nconst _c1 = function (a0) {\n  return [a0];\n};\nfunction FederatedUserDetialsComponent_form_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\");\n    i0.ɵɵelementStart(1, \"div\", 40);\n    i0.ɵɵelementStart(2, \"div\", 41);\n    i0.ɵɵelementStart(3, \"div\", 42);\n    i0.ɵɵelementStart(4, \"label\", 43);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 44);\n    i0.ɵɵlistener(\"ngModelChange\", function FederatedUserDetialsComponent_form_14_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.editUserPassword = $event;\n    })(\"keyup\", function FederatedUserDetialsComponent_form_14_Template_input_keyup_6_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.changePassword();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, FederatedUserDetialsComponent_form_14_em_7_Template, 2, 1, \"em\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 46);\n    i0.ɵɵelementStart(9, \"div\", 47);\n    i0.ɵɵelementStart(10, \"label\", 48);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 49);\n    i0.ɵɵlistener(\"ngModelChange\", function FederatedUserDetialsComponent_form_14_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.editUserCPassword = $event;\n    })(\"keyup\", function FederatedUserDetialsComponent_form_14_Template_input_keyup_12_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.changeConfirmPassword();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, FederatedUserDetialsComponent_form_14_span_13_Template, 2, 1, \"span\", 50);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c1, ctx_r3.passwordError ? \"ccl-error\" : \"\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.language.password);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", ctx_r3.language[\"Enter new password\"]);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.editUserPassword);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.editUserPassword && ctx_r3.cpasswordError);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(12, _c1, ctx_r3.cpasswordError ? \"ccl-error\" : \"\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.language.confirmPassword);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", ctx_r3.language[\"Re-enter to confirm\"]);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.editUserCPassword);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.cpasswordError);\n  }\n}\nfunction FederatedUserDetialsComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 53);\n    i0.ɵɵelementStart(1, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function FederatedUserDetialsComponent_div_26_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.closeAlertRole();\n    });\n    i0.ɵɵtext(2, \"\\u00D7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r4.existingRoleErrorInfo, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction FederatedUserDetialsComponent_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 54);\n    i0.ɵɵelementStart(1, \"td\", 55);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 56);\n    i0.ɵɵelementStart(4, \"i\", 57);\n    i0.ɵɵlistener(\"click\", function FederatedUserDetialsComponent_tr_36_Template_i_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r26);\n      const item_r24 = restoredCtx.$implicit;\n      const ctx_r25 = i0.ɵɵnextContext();\n      return ctx_r25.deleteRole(item_r24);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r24 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"id\", item_r24._id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r24.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"title\", ctx_r5.language.delete);\n  }\n}\nfunction FederatedUserDetialsComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 58);\n    i0.ɵɵelementStart(1, \"div\", 59);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.language.permissions, \" \");\n  }\n}\nfunction FederatedUserDetialsComponent_div_38_div_1_div_1_div_3_div_8_div_1_div_8_div_1_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelementStart(2, \"div\", 65);\n    i0.ɵɵelementStart(3, \"div\", 71);\n    i0.ɵɵelementStart(4, \"div\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 67);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const thirdSubMenu_r39 = ctx.$implicit;\n    const ctx_r38 = i0.ɵɵnextContext(10);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r38.scopeDisplayName[thirdSubMenu_r39.scopeDisplayName] || ctx_r38.language[thirdSubMenu_r39.scopeDisplayName] || thirdSubMenu_r39.scopeDisplayName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", thirdSubMenu_r39.action == \"read,write\" ? ctx_r38.language[\"Read and Write\"] : thirdSubMenu_r39.action == \"read\" ? ctx_r38.language[\"Read\"] : \"\", \" \");\n  }\n}\nfunction FederatedUserDetialsComponent_div_38_div_1_div_1_div_3_div_8_div_1_div_8_div_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, FederatedUserDetialsComponent_div_38_div_1_div_1_div_3_div_8_div_1_div_8_div_1_div_8_div_1_Template, 8, 2, \"div\", 68);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const secondSubMenu_r36 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", secondSubMenu_r36.permissions3);\n  }\n}\nfunction FederatedUserDetialsComponent_div_38_div_1_div_1_div_3_div_8_div_1_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelementStart(2, \"div\", 65);\n    i0.ɵɵelementStart(3, \"div\", 70);\n    i0.ɵɵelementStart(4, \"div\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 67);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, FederatedUserDetialsComponent_div_38_div_1_div_1_div_3_div_8_div_1_div_8_div_1_div_8_Template, 2, 1, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const secondSubMenu_r36 = ctx.$implicit;\n    const ctx_r35 = i0.ɵɵnextContext(8);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r35.scopeDisplayName[secondSubMenu_r36.scopeDisplayName] || ctx_r35.language[secondSubMenu_r36.scopeDisplayName] || secondSubMenu_r36.scopeDisplayName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", secondSubMenu_r36.action == \"read,write\" ? ctx_r35.language[\"Read and Write\"] : secondSubMenu_r36.action == \"read\" ? ctx_r35.language[\"Read\"] : \"\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", secondSubMenu_r36.permissions3.length);\n  }\n}\nfunction FederatedUserDetialsComponent_div_38_div_1_div_1_div_3_div_8_div_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, FederatedUserDetialsComponent_div_38_div_1_div_1_div_3_div_8_div_1_div_8_div_1_Template, 9, 3, \"div\", 68);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const menu_r33 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", menu_r33.permissions2);\n  }\n}\nfunction FederatedUserDetialsComponent_div_38_div_1_div_1_div_3_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelementStart(2, \"div\", 65);\n    i0.ɵɵelementStart(3, \"div\", 69);\n    i0.ɵɵelementStart(4, \"div\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 67);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, FederatedUserDetialsComponent_div_38_div_1_div_1_div_3_div_8_div_1_div_8_Template, 2, 1, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const menu_r33 = ctx.$implicit;\n    const ctx_r32 = i0.ɵɵnextContext(6);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r32.scopeDisplayName[menu_r33.scopeDisplayName] || ctx_r32.language[menu_r33.scopeDisplayName] || menu_r33.scopeDisplayName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", menu_r33.action == \"read,write\" ? ctx_r32.language[\"Read and Write\"] : menu_r33.action == \"read\" ? ctx_r32.language[\"Read\"] : \"\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", menu_r33.permissions2.length);\n  }\n}\nfunction FederatedUserDetialsComponent_div_38_div_1_div_1_div_3_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, FederatedUserDetialsComponent_div_38_div_1_div_1_div_3_div_8_div_1_Template, 9, 3, \"div\", 68);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r30 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", item_r30.permissions);\n  }\n}\nfunction FederatedUserDetialsComponent_div_38_div_1_div_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵelementStart(1, \"div\", 64);\n    i0.ɵɵelementStart(2, \"div\", 65);\n    i0.ɵɵelementStart(3, \"div\", 66);\n    i0.ɵɵelementStart(4, \"div\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 67);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, FederatedUserDetialsComponent_div_38_div_1_div_1_div_3_div_8_Template, 2, 1, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r30 = ctx.$implicit;\n    const ctx_r29 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r29.scopeDisplayName[item_r30.scopeDisplayName] || ctx_r29.language[item_r30.scopeDisplayName] || item_r30.scopeDisplayName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r30.action == \"read,write\" ? ctx_r29.language[\"Read and Write\"] : item_r30.action == \"read\" ? ctx_r29.language[\"Read\"] : \"\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r30.permissions.length);\n  }\n}\nfunction FederatedUserDetialsComponent_div_38_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 60);\n    i0.ɵɵelementStart(1, \"div\", 61);\n    i0.ɵɵelementStart(2, \"form\", 62);\n    i0.ɵɵtemplate(3, FederatedUserDetialsComponent_div_38_div_1_div_1_div_3_Template, 9, 3, \"div\", 63);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r28 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r28.rolePermissions);\n  }\n}\nfunction FederatedUserDetialsComponent_div_38_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, FederatedUserDetialsComponent_div_38_div_1_div_1_Template, 4, 1, \"div\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r27 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r27.rolePermissions.length);\n  }\n}\nfunction FederatedUserDetialsComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, FederatedUserDetialsComponent_div_38_div_1_Template, 2, 1, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.permissionAvailableDeploy);\n  }\n}\nfunction FederatedUserDetialsComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 60);\n    i0.ɵɵelementStart(1, \"div\", 72);\n    i0.ɵɵelementStart(2, \"button\", 73);\n    i0.ɵɵlistener(\"click\", function FederatedUserDetialsComponent_div_39_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r43 = i0.ɵɵnextContext();\n      return ctx_r43.updateUserRoles();\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 74);\n    i0.ɵɵlistener(\"click\", function FederatedUserDetialsComponent_div_39_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r45 = i0.ɵɵnextContext();\n      return ctx_r45.cancelUpdate();\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r8.language.saveEnregistrer);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r8.language.Cancel);\n  }\n}\nfunction FederatedUserDetialsComponent_ng_template_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 75);\n    i0.ɵɵelementStart(1, \"h4\", 76);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 77);\n    i0.ɵɵlistener(\"click\", function FederatedUserDetialsComponent_ng_template_40_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r49);\n      const ctx_r48 = i0.ɵɵnextContext();\n      return ctx_r48.closeModal();\n    });\n    i0.ɵɵelement(4, \"span\", 78);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 79);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 80);\n    i0.ɵɵelementStart(8, \"button\", 81);\n    i0.ɵɵlistener(\"click\", function FederatedUserDetialsComponent_ng_template_40_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r49);\n      const ctx_r50 = i0.ɵɵnextContext();\n      return ctx_r50.confirmDeleteSecleted();\n    });\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 82);\n    i0.ɵɵlistener(\"click\", function FederatedUserDetialsComponent_ng_template_40_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r49);\n      const ctx_r51 = i0.ɵɵnextContext();\n      return ctx_r51.closeModal();\n    });\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r10.modalTitle);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r10.language[\"Are you sure you want to delete this role\"], \" ? (\", ctx_r10.modalInfo, \") \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r10.language.yes);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r10.language.no);\n  }\n}\nconst _c2 = function () {\n  return {\n    standalone: true\n  };\n};\nexport let FederatedUserDetialsComponent = /*#__PURE__*/(() => {\n  class FederatedUserDetialsComponent {\n    constructor(commonFunctionsService, commonOrgService, router, customTranslateService, apiService, sso, dialogService, titleService, http, addRoleService) {\n      this.commonFunctionsService = commonFunctionsService;\n      this.commonOrgService = commonOrgService;\n      this.router = router;\n      this.customTranslateService = customTranslateService;\n      this.apiService = apiService;\n      this.sso = sso;\n      this.dialogService = dialogService;\n      this.titleService = titleService;\n      this.http = http;\n      this.addRoleService = addRoleService;\n      this.pageAvailable = false;\n      this.createSubnets = [];\n      this.tableOptions = {\n        rowId: '_id',\n        pageLength: 10,\n        processing: true,\n        ordering: false,\n        searching: false,\n        paging: false,\n        info: false,\n        //dom: 't',\n        // order: [0, 'asc'],\n        // columnDefs: [\n        //   { targets: [1], orderable: false },\n        // ],\n        language: {\n          emptyTable: \"No role available for current user.\"\n        },\n        rowCallback: (row, data, index) => {\n          const self = this;\n          $('td', row).unbind('click');\n          $('td', row).bind('click', () => {\n            self.displaySelectedRolePerms(data['_id']);\n          });\n          return row;\n        },\n        drawCallback: settings => {\n          $('.user-details-row.odd').css('background-color', '#FFF');\n          $('.user-details-row.even').css('background-color', '#FFF');\n          this.highlightRowCallback();\n        }\n      };\n      this.roles = [];\n      this.rolesSelected = [];\n      this.rolesTableData = [];\n      this.rolesTableOptions = {};\n      this.dtTrigger = new Subject();\n      this.isRerender = false;\n      this.rolesList = []; // All roles\n      this.addedRolesList = []; // Added users list\n      this.countOfRolesAtStart = 0;\n      this.rolePermissions = [];\n      this.usersSubnets = [];\n      this.isLocalUser = false;\n      this.userTitle = '';\n      this.errorInfo = '';\n      this.successInfo = '';\n      this.MODULE = 'calixAdmin';\n      this.saveCancelShow = false;\n      this.isPasswordChanged = false;\n      this.isSubnetChanged = false;\n      this.isRoleChanged = false;\n      this.oldRolesList = [];\n      this.loading = true;\n      this.addedRolesName = [];\n      this.addedRolesNameAtStart = [];\n      this.scopeDisplayName = {\n        'WiFi': 'WiFi',\n        'XDSL': 'XDSL',\n        'Devices': 'Devices',\n        \"Subscriber Mgmt\": \"Subscriber Mgmt\"\n      }; /* CCL-37865 */\n      this.permissionAvailable = false;\n      this.permissionAvailableDeploy = true;\n      this.existingRoles = [];\n      let url = this.router.url;\n      this.ORG_ID = this.sso.getOrganizationID(url);\n      this.MODULE = this.sso.getRedirectModule(url);\n      this.titleService.setTitle(`Users detail - ${this.MODULE === 'systemAdministration' ? 'System Administration' : 'Administration'} - Calix Cloud`);\n      this.language = this.customTranslateService.defualtLanguage;\n      if (this.language) {\n        this.pageAvailable = true;\n      }\n      this.translateSubscribe = this.customTranslateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n        this.dataAvailable = false;\n        this.isRerender = true;\n        this.renderRolesTable('language');\n      });\n      this.commonOrgService.currentPageAdder('usersDetail');\n      this.user = JSON.parse(sessionStorage.getItem('calixAdminUserDetail') || \"{}\");\n      this.frTable = this.customTranslateService.fr;\n      this.isLocalUser = this.checkUserType(this.user);\n      this.getData();\n    }\n    ngOnInit() {\n      this.setUserInfo();\n      // this.landing = ['cmc', 'csc', 'fa+', 'shad'];\n      // this.landingSelected = 'cmc';\n      this.saveCancelShow = false;\n    }\n    ngOnDestroy() {\n      var _a;\n      (_a = this.userRolesUpdateSub) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n      if (this.dtTrigger) {\n        this.dtTrigger.unsubscribe();\n      }\n      if (this.parallelReqSubscribtion) {\n        this.parallelReqSubscribtion.unsubscribe();\n      }\n      if (this.parallelReqSubscribtionUpdate) {\n        this.parallelReqSubscribtionUpdate.unsubscribe();\n      }\n      if (this.translateSubscribe) {\n        this.translateSubscribe.unsubscribe();\n      }\n      if (this.passSubs) {\n        this.passSubs.unsubscribe();\n      }\n      if (localStorage.getItem('calix.federated_grantee_orgId')) {\n        localStorage.removeItem('calix.federated_grantee_orgId');\n      }\n    }\n    getData() {\n      //this.getOrgEntitlements();\n      const requestEndpoints = [`${environment.CALIX_ADMIN_BASE_URL}org/${this.ORG_ID}/roles`,\n      //`${environment.CALIX_ADMIN_BASE_URL}user/${this.user?._id}/roles`,\n      `${environment.API_BASE_URL}federated/${this.ORG_ID}/grantee/${localStorage.getItem('calix.federated_grantee_orgId')}/users/${this.user._id}/roles`];\n      const requests = [];\n      requestEndpoints.forEach(endpoint => {\n        const req = this.apiService.callRestApi(endpoint).pipe(map(resp => {\n          return resp;\n        }), catchError(error => {\n          return of(error);\n        }));\n        requests.push(req);\n      });\n      this.combineLatest = combineLatest(requests);\n      this.makeParallelRequest();\n    }\n    makeParallelRequest() {\n      this.parallelReqSubscribtion = this.combineLatest.subscribe(response => {\n        this.rolesList = response[0];\n        let userRoles = response[1] ? response[1] : [];\n        this.oldRolesList = userRoles;\n        this.addedRolesList = userRoles;\n        let existingRoles = [];\n        userRoles === null || userRoles === void 0 ? void 0 : userRoles.forEach(element => {\n          existingRoles.push(element._id);\n        });\n        this.existingRoles = existingRoles;\n        // this.oldRolesList = response[1] ? response[1] : [];\n        // this.addedRolesList = response[1] ? response[1] : [];\n        this.countOfRolesAtStart = this.addedRolesList ? this.addedRolesList.length : 0;\n        this.addedRolesName = this.addedRolesList ? this.getRoleNames(this.addedRolesList) : [];\n        this.addedRolesNameAtStart = this.addedRolesList ? this.getRoleNames(this.addedRolesList) : [];\n        if (response[0] != null && response[0].error != undefined) {\n          this.loading = false;\n          if (response[0].status != 404) {\n            this.pageErrorHandle(response[0]);\n            this.commonOrgService.pageScrollTop();\n            return;\n          }\n        } else if (response[1] != null && response[1].error != undefined) {\n          this.loading = false;\n          if (response[1].status != 404) {\n            this.pageErrorHandle(response[1]);\n            this.commonOrgService.pageScrollTop();\n            return;\n          }\n        }\n        setTimeout(() => {\n          this.renderRolesTable();\n          if (this.addedRolesList.length) {\n            this.permissionProcess(this.addedRolesList[0]);\n            this.highlightRow(this.addedRolesList[0]._id);\n          }\n          this.countOfRolesAtStart = this.addedRolesList ? this.addedRolesList.length : 0;\n          this.rolesAvail = true;\n          this.checkSelected();\n          setTimeout(() => {\n            this.loading = false;\n          }, 1000);\n        }, 100);\n      });\n    }\n    checkUserType(obj) {\n      //if (obj.success == 'local') {\n      if (obj && obj.idpType == 'local') {\n        return true;\n      }\n      return false;\n    }\n    changePassword() {\n      this.passwordError = false;\n      if (this.editUserPassword == '') {\n        this.passwordError = true;\n      } else {\n        this.passwordError = false;\n      }\n      if (this.editUserPassword == this.editUserCPassword) {\n        this.passwordError = false;\n        this.cpasswordError = false;\n        this.isPasswordChanged = true;\n      } else {\n        this.cpasswordError = true;\n      }\n      this.checkShowButtons();\n    }\n    changeConfirmPassword() {\n      if (this.editUserPassword == this.editUserCPassword) {\n        this.cpasswordError = false;\n        this.passwordError = false;\n        this.isPasswordChanged = true;\n      } else {\n        this.cpasswordError = true;\n      }\n      this.checkShowButtons();\n    }\n    addRole() {\n      this.existingRoleError = false;\n      let selRoles = this.selectedRoles;\n      let added = [];\n      let index;\n      let newRolesAdded = this.addedRolesList;\n      selRoles.forEach(sel => {\n        if (this.addedRolesList.filter(e => e._id === sel._id).length > 0) {\n          this.existingRoleErrorInfo = `${sel.username} - ${this.language['Role already added']}`;\n          this.existingRoleError = true;\n          return;\n        }\n        index = this.rolesList.findIndex(e => e._id === sel._id);\n        this.rolesList[index]['disabled'] = true;\n        this.rolesList = [...this.rolesList];\n        added.push(sel);\n      });\n      if (this.existingRoleError) {\n        return;\n      }\n      //this.addedRolesList = [...this.addedRolesList, ...added];\n      this.selectedRoles = [];\n      setTimeout(() => {\n        let newAdded = [...this.addedRolesList, ...added];\n        this.addedRolesList = newAdded;\n        this.addedRolesName = this.getRoleNames(newAdded);\n        let i = this.addedRolesList.length - 1;\n        this.permissionProcess(this.addedRolesList[i]);\n        this.highlightRow(this.addedRolesList[i]['_id']);\n        this.isRerender = true;\n        this.rerender();\n        this.checkRoleChanged();\n      }, 200);\n    }\n    deleteRole(item) {\n      this.deleteData = item;\n      this.modalTitle = this.language['Delete Role'];\n      this.modalInfo = `${item.name}`;\n      this.closeModal();\n      this.modalRef = this.dialogService.open(this.deleteModal);\n    }\n    confirmDeleteSecleted() {\n      let item = this.deleteData;\n      let index;\n      this.addedRolesList = this.addedRolesList.filter(element => {\n        return element._id !== item._id;\n      });\n      index = this.rolesList.findIndex(e => e._id === item._id);\n      this.rolesList[index]['disabled'] = false;\n      this.rolesList = [...this.rolesList];\n      this.closeModal();\n      this.deleteData = undefined;\n      this.isRerender = true;\n      this.rerender();\n      if (this.addedRolesList.length == 0) {\n        this.rolePermissions = [];\n      } else {\n        this.permissionProcess(this.addedRolesList[this.addedRolesList.length - 1]);\n        this.highlightRow(this.addedRolesList[this.addedRolesList.length - 1]._id);\n      }\n      this.addedRolesName = this.getRoleNames(this.addedRolesList);\n      this.checkRoleChanged();\n    }\n    renderRolesTable(type) {\n      this.setTableOptions();\n      if (type && type == 'language') {\n        setTimeout(() => {\n          if (this.isRerender) {\n            this.rerender();\n            this.isRerender = false;\n          } else {\n            this.dtTrigger.next();\n          }\n        }, 150);\n        this.dataAvailable = true;\n      } else {\n        setTimeout(() => {\n          if (this.isRerender) {\n            this.rerender();\n            this.isRerender = false;\n          } else {\n            this.dtTrigger.next();\n          }\n          this.dataAvailable = true;\n        }, 150);\n      }\n    }\n    setTableOptions() {\n      this.tableLanguageOptions();\n    }\n    changeDataForTable() {\n      let datas = [];\n      for (let obj of this.roles) {\n        if (this.rolesSelected.includes(obj.value)) {\n          datas.push(obj);\n        }\n      }\n      return datas;\n    }\n    rerender() {\n      this.dtElement.dtInstance.then(dtInstance => {\n        // Destroy the table first\n        dtInstance.destroy();\n        // Call the dtTrigger to rerender again\n        this.dtTrigger.next();\n      });\n    }\n    updateUsersDetails() {\n      const requests = [];\n      this.loading = true;\n      //Roles Update\n      if (this.addedRolesList.length) {\n        let params = [];\n        let roleIds;\n        this.addedRolesList.forEach(element => {\n          params.push(element._id);\n        });\n        roleIds = params.join(',');\n        let url = `${environment.API_BASE_URL}federated/${this.ORG_ID}/grantee/${localStorage.getItem('calix.federated_grantee_orgId')}/users/${this.user._id}/role/${roleIds}`;\n        const req = this.apiService.updateRolesListByGranteeUserId(url).pipe(map(resp => {\n          return resp;\n        }), catchError(error => {\n          return of(error);\n        }));\n        requests.push(req);\n      } else {\n        if (this.countOfRolesAtStart) {\n          let url = `${environment.API_BASE_URL}federated/${this.ORG_ID}/grantee/${localStorage.getItem('calix.federated_grantee_orgId')}/users/${this.user._id}/roles`;\n          const req = this.apiService.deleteRolesListByGranteeUserId(url).pipe(map(resp => {\n            return resp;\n          }), catchError(error => {\n            return of(error);\n          }));\n          requests.push(req);\n        }\n      }\n      this.combineLatestUpdate = combineLatest(requests);\n      this.makeParallelUpdateRequests();\n    }\n    makeParallelUpdateRequests() {\n      this.parallelReqSubscribtionUpdate = this.combineLatestUpdate.subscribe(response => {\n        this.loading = false;\n        if (response.length) {\n          for (let e of response) {\n            if (e != null && e.error != undefined) {\n              this.loading = false;\n              this.pageErrorHandle(e);\n              return;\n            }\n          }\n        }\n        this.successMessage();\n      });\n    }\n    updateUserRoles() {\n      var _a, _b, _c, _d;\n      //this.existingRoles\n      let newRoles = [];\n      let deletedRoles = [];\n      let latestRoles = [];\n      (_a = this.addedRolesList) === null || _a === void 0 ? void 0 : _a.forEach(element => {\n        if (this.existingRoles.indexOf(element._id) === -1) {\n          newRoles.push(element._id);\n        }\n        latestRoles.push(element._id);\n      });\n      (_b = this.existingRoles) === null || _b === void 0 ? void 0 : _b.forEach(role => {\n        if (latestRoles.indexOf(role) === -1) {\n          deletedRoles.push(role);\n        }\n      });\n      console.log('newRoles', newRoles);\n      console.log('deletedRoles', deletedRoles);\n      const requests = {};\n      newRoles === null || newRoles === void 0 ? void 0 : newRoles.forEach(role => {\n        requests[role] = this.http.post(`${environment.API_BASE_URL}federated/${this.ORG_ID}/grantee/${localStorage.getItem('calix.federated_grantee_orgId')}/users/${this.user._id}/role/${role}`, {}).pipe(catchError(err => {\n          err['api-error'] = true;\n          return of(err);\n        }));\n      });\n      deletedRoles === null || deletedRoles === void 0 ? void 0 : deletedRoles.forEach(role => {\n        requests[role] = this.http.delete(`${environment.API_BASE_URL}federated/${this.ORG_ID}/grantee/${localStorage.getItem('calix.federated_grantee_orgId')}/users/${this.user._id}/role/${role}`, {}).pipe(catchError(err => {\n          err['api-error'] = true;\n          return of(err);\n        }));\n      });\n      if ((_c = Object.keys(requests)) === null || _c === void 0 ? void 0 : _c.length) {\n        (_d = this.userRolesUpdateSub) === null || _d === void 0 ? void 0 : _d.unsubscribe();\n        this.userRolesUpdateSub = forkJoin(requests).subscribe(json => {\n          console.log(json);\n          let errors = [];\n          if (json) {\n            let keys = Object.keys(json);\n            keys === null || keys === void 0 ? void 0 : keys.forEach(key => {\n              var _a;\n              if ((_a = json[key]) === null || _a === void 0 ? void 0 : _a['api-error']) {\n                errors.push(this.commonOrgService.pageErrorHandle(json[key]));\n              }\n            });\n            if (errors === null || errors === void 0 ? void 0 : errors.length) {\n              this.error = true;\n              this.errorInfo = errors.join('<br/>');\n              console.log(errors);\n              return;\n            }\n          }\n          this.successMessage();\n        }, err => {\n          console.log(err);\n        });\n      }\n    }\n    cancelUpdate() {\n      this.gotoAccountMgmt();\n    }\n    gotoAccountMgmt() {\n      this.router.navigate([`${this.MODULE}/account-management`]);\n    }\n    permissionProcess(roleData) {\n      if (roleData != undefined) {\n        if (roleData.apptype == '118' || roleData.apptype == '119' || roleData.apptype == '102') {\n          this.rolePermissions = this.commonOrgService.permProcessForUserDetailV21(roleData);\n          this.displayName(roleData.apptype);\n          this.subParentName(roleData.apptype);\n        } else if (roleData.apptype == '200') {\n          this.rolePermissions = this.commonOrgService.permProcessForUserDetailDeployment(roleData);\n          this.subParentNameDeployment(roleData.apptype);\n        } else {\n          this.rolePermissions = this.commonOrgService.permProcessForUserDetail(roleData);\n          this.displayName(roleData.apptype);\n          this.subParentName(roleData.apptype);\n        }\n      } else {\n        this.rolePermissions = [];\n      }\n    }\n    displayName(type) {\n      let apiResponse;\n      let matchingobject = null;\n      this.permissionAvailable = false;\n      this.addRoleService.AllPemissionsData(type).subscribe(res => {\n        apiResponse = res;\n        this.rolePermissions.forEach((permissions, i) => {\n          apiResponse.forEach(element => {\n            if (permissions.scopeName === element.name) {\n              matchingobject = element;\n              permissions.scopeDisplayName = matchingobject.displayName;\n            }\n          });\n          if (this.rolePermissions.length - 1 == i) {\n            this.permissionAvailable = true;\n          }\n        });\n      });\n    }\n    subParentName(type) {\n      this.permissionAvailable = false;\n      let scopes = [];\n      this.addRoleService.AllPemissionsData(type).subscribe(res => {\n        scopes = res;\n        scopes.forEach(scope => {\n          this.rolePermissions.forEach((element, i) => {\n            const subPermission = element.permissions;\n            subPermission.forEach(ele => {\n              let subScopename = ele.scopeName;\n              if (subScopename === scope.name) {\n                const roleDetails = scope.displayName;\n                ele.scopeDisplayName = roleDetails;\n              }\n            });\n            if (this.rolePermissions.length - 1 == i) {\n              this.permissionAvailable = true;\n            }\n          });\n        });\n      });\n    }\n    subParentNameDeployment(type) {\n      this.permissionAvailable = false;\n      this.permissionAvailableDeploy = false;\n      this.rolePermissions.forEach((element, i) => {\n        let matchingElement = element;\n        const scope = element.scopeName.split('.');\n        let scopeBase = scope[0] + '.' + scope[1] + '.' + scope[2];\n        this.addRoleService.AllPemissionsData(type).subscribe(res => {\n          res.forEach(element => {\n            if (scopeBase == element.name) {\n              matchingElement.scopeDisplayName = element.displayName;\n            }\n            if (this.rolePermissions.length - 1 == i) {\n              this.permissionAvailableDeploy = true;\n              this.permissionAvailable = true;\n            }\n          });\n        });\n      });\n    }\n    setUserInfo() {\n      let userData = this.user;\n      if (userData.firstName != null && userData.firstName !== '') {\n        this.userTitle = userData.lastName != null ? `${userData.firstName} ${userData.lastName}` : `${userData.firstName}`;\n      } else if (userData === null || userData === void 0 ? void 0 : userData.userName) {\n        this.userTitle = `${userData.userName}`;\n      } else {\n        this.userTitle = `${userData._id}`;\n      }\n    }\n    closeAlertRole() {\n      this.existingRoleError = false;\n    }\n    closeAlert() {\n      this.error = false;\n      this.success = false;\n    }\n    checkRoleChanged() {\n      this.isRoleChanged = false;\n      if (this.addedRolesName.length !== this.addedRolesNameAtStart.length) {\n        this.isRoleChanged = true;\n        this.checkShowButtons();\n      } else if (this.addedRolesName.length === this.addedRolesNameAtStart.length && this.addedRolesNameAtStart.length) {\n        this.addedRolesName.forEach(el => {\n          if (!this.addedRolesNameAtStart.includes(el)) {\n            //check for newly added role\n            this.isRoleChanged = true;\n            this.checkShowButtons();\n            return;\n          }\n        });\n        this.checkShowButtons();\n      } else if (this.addedRolesName.length === this.addedRolesNameAtStart.length && !this.addedRolesNameAtStart.length) {\n        this.isRoleChanged = false;\n        this.checkShowButtons();\n      }\n    }\n    checkShowButtons() {\n      if (this.isPasswordChanged || this.isRoleChanged || this.isSubnetChanged) {\n        this.saveCancelShow = true;\n      } else {\n        this.saveCancelShow = false;\n      }\n    }\n    hideSearch() {\n      setTimeout(() => {\n        $('#table-div .dataTables_wrapper .dataTables_filter').css('display', 'none');\n        $('#table-div .dataTables_wrapper .dataTables_length').css('display', 'none');\n      }, 100);\n    }\n    displaySelectedRolePerms(roleId) {\n      if (roleId) {\n        let roleData = this.addedRolesList.filter(e => e._id === roleId);\n        if (roleData.length) {\n          this.selectedRoleId = roleData[0]._id;\n          this.permissionProcess(roleData[0]);\n          this.highlightRow(roleData[0]._id);\n        }\n      }\n    }\n    successMessage() {\n      this.closeAlert();\n      this.successInfo = this.language['User details saved successfully'];\n      this.success = true;\n      this.commonOrgService.pageScrollTop();\n      this.loading = false;\n      setTimeout(() => {\n        this.gotoAccountMgmt();\n      }, 1500);\n    }\n    highlightRow(id) {\n      this.selectedRoleId = id;\n      setTimeout(() => {\n        $('.user-details-row.odd').css('background-color', '#FFF');\n        $('.user-details-row.even').css('background-color', '#FFF');\n        //$('.user-details-row:hover').css('background-color', 'whitesmoke');\n        $('#' + id).css('background-color', 'whitesmoke');\n      }, 100);\n    }\n    highlightRowCallback() {\n      if (this.selectedRoleId) {\n        let id = this.selectedRoleId;\n        $('#' + id).css('background-color', 'whitesmoke');\n      }\n    }\n    checkSelected() {\n      // if (!this.rolesAvail) {\n      //   this.rolesAvailInterval = setInterval(() => {\n      //     if (this.rolesAvail) {\n      //       this.checkSelected();\n      //       clearInterval(this.rolesAvailInterval);\n      //     }\n      //   }, 500);\n      //   return;\n      // }\n      this.rolesList.forEach(role => {\n        let avail = [];\n        avail = this.addedRolesList.filter(added => role._id === added._id);\n        if (avail.length) {\n          role['disabled'] = true;\n        }\n      });\n      this.rolesList = [...this.rolesList];\n    }\n    tableLanguageOptions() {\n      if (this.language.fileLanguage == 'fr') {\n        this.tableOptions.language = this.frTable;\n        this.tableOptions.language.emptyTable = \"Aucune rôle disponible pour l'utilisateur actuel.\";\n      } else if (this.language.fileLanguage == 'es') {\n        this.tableOptions.language = this.customTranslateService.es;\n      } else if (this.language.fileLanguage == 'de_DE') {\n        this.tableOptions.language = this.customTranslateService.de_DE;\n      } else if (this.language.fileLanguage == 'en' && this.tableOptions.language) {\n        delete this.tableOptions.language;\n        this.tableOptions['language'] = {\n          emptyTable: \"No role available for current user.\"\n        };\n      }\n    }\n    closeModal() {\n      if (this.modalRef) {\n        this.modalRef.close();\n      }\n    }\n    pageErrorHandle(err) {\n      if (err.status == 401) {\n        this.errorInfo = this.language['Access Denied'];\n      } else {\n        this.errorInfo = this.commonOrgService.pageErrorHandle(err);\n      }\n      this.closeAlert();\n      this.error = true;\n      this.commonOrgService.pageScrollTop();\n    }\n    updateAddedRolesName(roles, role, del) {\n      if (del) {\n        this.addedRolesName = this.addedRolesName.filter(e => e !== role);\n      } else {\n        let roleNames = [];\n        roles.forEach(e => {\n          roleNames.push(e.name);\n        });\n        this.addedRolesName = [...this.addedRolesName, ...roleNames];\n      }\n    }\n    getRoleNames(roles) {\n      let roleNames = [];\n      roles.forEach(e => {\n        roleNames.push(e.name);\n      });\n      return roleNames;\n    }\n  }\n  FederatedUserDetialsComponent.ɵfac = function FederatedUserDetialsComponent_Factory(t) {\n    return new (t || FederatedUserDetialsComponent)(i0.ɵɵdirectiveInject(i1.CommonFunctionsService), i0.ɵɵdirectiveInject(i2.CommonService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.CustomTranslateService), i0.ɵɵdirectiveInject(i5.UsersDetailService), i0.ɵɵdirectiveInject(i6.SsoAuthService), i0.ɵɵdirectiveInject(i7.NgbModal), i0.ɵɵdirectiveInject(i8.Title), i0.ɵɵdirectiveInject(i9.HttpClient), i0.ɵɵdirectiveInject(i10.AddRoleService));\n  };\n  FederatedUserDetialsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FederatedUserDetialsComponent,\n    selectors: [[\"app-federated-user-detials\"]],\n    viewQuery: function FederatedUserDetialsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n        i0.ɵɵviewQuery(DataTableDirective, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.deleteModal = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dtElement = _t.first);\n      }\n    },\n    decls: 42,\n    vars: 25,\n    consts: [[1, \"container\"], [\"class\", \"loader\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-danger  fade show\", 4, \"ngIf\"], [\"class\", \"w-100 alert alert-success fade show\", 4, \"ngIf\"], [1, \"row\"], [1, \"col-md-8\"], [1, \"ccl-title\"], [1, \"col-md-4\", \"px-0\"], [1, \"text-right\"], [1, \"back-text\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-angle-left\", \"px-1\"], [1, \"container\", \"my-3\", \"pr-0\"], [4, \"ngIf\"], [1, \"row\", \"my-2\", \"pl-0\"], [1, \"ccl-title\", \"col-md-12\", \"pl-0\"], [1, \"row\", \"ccl-form\"], [1, \"col-md-4\", \"pl-0\"], [\"bindLabel\", \"name\", \"placeholder\", \"\", 1, \"w-100\", 3, \"items\", \"ngModel\", \"multiple\", \"ngModelOptions\", \"searchable\", \"disabled\", \"ngModelChange\"], [1, \"col-md-2\", \"pl-0\"], [\"_ngcontent-thh-c50\", \"\", 1, \"btn-default\", \"primary\", 3, \"disabled\", \"click\"], [1, \"row\", \"my-4\"], [\"class\", \"w-100 alert alert-warning fade show\", 4, \"ngIf\"], [1, \"col-md-12\", \"px-0\", 3, \"hidden\"], [\"width\", \"100%\", \"datatable\", \"\", 1, \"table\", \"row-border\", \"hover\", 3, \"dtOptions\", \"dtTrigger\"], [1, \"\"], [\"class\", \"user-details-row\", 3, \"id\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"row my-2\", 4, \"ngIf\"], [\"class\", \"row my-4 px-3\", 4, \"ngIf\"], [\"deleteModal\", \"\"], [1, \"loader\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"spinner-border\", \"text-primary\"], [1, \"sr-only\"], [1, \"w-100\", \"alert\", \"alert-danger\", \"fade\", \"show\"], [1, \"error-img\"], [\"src\", \"./assets/img/ic_error-36px.svg\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [1, \"d-inline-flex\", 3, \"innerHtml\"], [1, \"w-100\", \"alert\", \"alert-success\", \"fade\", \"show\"], [3, \"innerHtml\"], [1, \"row\", \"my-3\"], [1, \"col-md-6\", \"pl-0\"], [1, \"ccl-form\", \"required\", 3, \"ngClass\"], [\"for\", \"Password\", 1, \"ccl-title\"], [\"id\", \"editUserPassword\", \"name\", \"editUserPassword\", \"type\", \"password\", \"required\", \"\", \"maxlength\", \"100\", \"aria-required\", \"true\", \"aria-describedby\", \"editUserPassword-error\", \"autocomplete\", \"new-password\", 1, \"\", 3, \"ngModel\", \"placeholder\", \"ngModelChange\", \"keyup\"], [\"id\", \"editUserPassword-error\", \"class\", \"invalid\", 4, \"ngIf\"], [1, \"col-md-6\", \"pr-0\"], [1, \"ccl-form\", 3, \"ngClass\"], [\"for\", \"Confirm Password\", 1, \"ccl-title\"], [\"id\", \"confirmpassword\", \"name\", \"confirmpassword\", \"type\", \"password\", \"required\", \"\", \"maxlength\", \"100\", \"aria-required\", \"true\", \"aria-describedby\", \"confirmpassword-error\", \"autocomplete\", \"new-password\", 1, \"\", 3, \"ngModel\", \"placeholder\", \"ngModelChange\", \"keyup\"], [\"id\", \"confirmpassword-error\", \"class\", \"state-error error\", 4, \"ngIf\"], [\"id\", \"editUserPassword-error\", 1, \"invalid\"], [\"id\", \"confirmpassword-error\", 1, \"state-error\", \"error\"], [1, \"w-100\", \"alert\", \"alert-warning\", \"fade\", \"show\"], [1, \"user-details-row\", 3, \"id\"], [1, \"cursor-pointer\"], [1, \"actions\"], [1, \"fas\", \"fa-trash-alt\", \"p-1\", \"cursor-pointer\", \"primary\", 3, \"title\", \"click\"], [1, \"row\", \"my-2\"], [1, \"ccl-title\", \"col-md-12\"], [1, \"row\", \"my-4\", \"px-3\"], [1, \"col-md-12\", \"pr-0\"], [\"id\", \"permissionsForm\"], [\"class\", \"\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"row-bg-grey\"], [1, \"box-of-permission\", \"col-md-8\"], [1, \"custom-flex\"], [1, \"box-of-permission\", \"col-md-4\"], [4, \"ngFor\", \"ngForOf\"], [1, \"custom-flex\", \"ml-3\"], [1, \"custom-flex\", \"ml-5\"], [1, \"custom-flex\", \"ml-5r\"], [1, \"col-12\", \"text-right\", \"px-0\"], [1, \"btn-default\", \"primary\", \"mr-3\", 3, \"click\"], [1, \"btn-default\", \"btn-dft\", \"py-1\", 3, \"click\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn-default\", \"primary\", \"px-3\", 3, \"click\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn-default\", \"btn-dft\", \"py-1\", \"px-3\", 3, \"click\"]],\n    template: function FederatedUserDetialsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, FederatedUserDetialsComponent_div_1_Template, 5, 1, \"div\", 1);\n        i0.ɵɵtemplate(2, FederatedUserDetialsComponent_div_2_Template, 6, 1, \"div\", 2);\n        i0.ɵɵtemplate(3, FederatedUserDetialsComponent_div_3_Template, 4, 1, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"div\", 5);\n        i0.ɵɵelementStart(6, \"div\", 6);\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 7);\n        i0.ɵɵelementStart(9, \"div\", 8);\n        i0.ɵɵelementStart(10, \"a\", 9);\n        i0.ɵɵlistener(\"click\", function FederatedUserDetialsComponent_Template_a_click_10_listener() {\n          return ctx.gotoAccountMgmt();\n        });\n        i0.ɵɵelement(11, \"i\", 10);\n        i0.ɵɵtext(12, \" Back to Account Management\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 11);\n        i0.ɵɵtemplate(14, FederatedUserDetialsComponent_form_14_Template, 14, 14, \"form\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 11);\n        i0.ɵɵelementStart(16, \"div\", 13);\n        i0.ɵɵelementStart(17, \"div\", 14);\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 15);\n        i0.ɵɵelementStart(20, \"div\", 16);\n        i0.ɵɵelementStart(21, \"ng-select\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function FederatedUserDetialsComponent_Template_ng_select_ngModelChange_21_listener($event) {\n          return ctx.selectedRoles = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 18);\n        i0.ɵɵelementStart(23, \"button\", 19);\n        i0.ɵɵlistener(\"click\", function FederatedUserDetialsComponent_Template_button_click_23_listener() {\n          return ctx.addRole();\n        });\n        i0.ɵɵtext(24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 20);\n        i0.ɵɵtemplate(26, FederatedUserDetialsComponent_div_26_Template, 4, 1, \"div\", 21);\n        i0.ɵɵelementStart(27, \"div\", 22);\n        i0.ɵɵelementStart(28, \"table\", 23);\n        i0.ɵɵelementStart(29, \"thead\", 24);\n        i0.ɵɵelementStart(30, \"tr\");\n        i0.ɵɵelementStart(31, \"th\");\n        i0.ɵɵtext(32);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"th\");\n        i0.ɵɵtext(34);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"tbody\");\n        i0.ɵɵtemplate(36, FederatedUserDetialsComponent_tr_36_Template, 5, 3, \"tr\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(37, FederatedUserDetialsComponent_div_37_Template, 3, 1, \"div\", 26);\n        i0.ɵɵtemplate(38, FederatedUserDetialsComponent_div_38_Template, 2, 1, \"div\", 12);\n        i0.ɵɵtemplate(39, FederatedUserDetialsComponent_div_39_Template, 6, 2, \"div\", 27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(40, FederatedUserDetialsComponent_ng_template_40_Template, 12, 5, \"ng-template\", null, 28, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.success);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.userTitle);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLocalUser);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.language.addDeleteRoles, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"items\", ctx.rolesList)(\"ngModel\", ctx.selectedRoles)(\"multiple\", true)(\"ngModelOptions\", i0.ɵɵpureFunction0(24, _c2))(\"searchable\", true)(\"disabled\", !(ctx.rolesList == null ? null : ctx.rolesList.length));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", !(ctx.rolesList == null ? null : ctx.rolesList.length));\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.language.add);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.existingRoleError);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"hidden\", !ctx.dataAvailable);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"dtOptions\", ctx.tableOptions)(\"dtTrigger\", ctx.dtTrigger);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.language.roles);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.language.action);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.addedRolesList);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.rolePermissions.length);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.permissionAvailable);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.saveCancelShow);\n      }\n    },\n    directives: [i11.NgIf, i12.NgSelectComponent, i13.NgControlStatus, i13.NgModel, i14.DataTableDirective, i11.NgForOf, i13.ɵNgNoValidate, i13.NgControlStatusGroup, i13.NgForm, i11.NgClass, i13.DefaultValueAccessor, i13.RequiredValidator, i13.MaxLengthValidator],\n    styles: [\".box-of-permission[_ngcontent-%COMP%]{padding:10px;border:.5px solid #ccc;vertical-align:middle}.ml-5r[_ngcontent-%COMP%]{margin-left:5rem!important}.row-bg-grey[_ngcontent-%COMP%]{background-color:#d9dfe6}\"]\n  });\n  return FederatedUserDetialsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}