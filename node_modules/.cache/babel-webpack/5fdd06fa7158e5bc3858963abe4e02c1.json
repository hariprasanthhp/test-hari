{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./../shared/services/explore-data-common.service\";\nimport * as i3 from \"../shared/services/download-file-name.service\";\nimport * as i4 from \"src/app-services/translate.service\";\nexport let MarketingExploreDataAcquisitionApiService = /*#__PURE__*/(() => {\n  class MarketingExploreDataAcquisitionApiService {\n    constructor(httpClient, marketingExploreCommonService, downloadFileNameService, translateService) {\n      this.httpClient = httpClient;\n      this.marketingExploreCommonService = marketingExploreCommonService;\n      this.downloadFileNameService = downloadFileNameService;\n      this.translateService = translateService;\n      this.baseURL = environment.cmcBaseURL;\n      this.language = this.translateService.defualtLanguage;\n      this.languageSubject = this.translateService.selectedLanguage.subscribe(data => {\n        this.language = data;\n      });\n      // NORMAL VIEW\n      this.aquisitionRateInsights = this.baseURL + 'acquisition/acquisition-user-count-by-month?';\n      this.aquisitionRevenueInsights = this.baseURL + 'acquisition/acquisition-and-potential-revenue?';\n      this.newSubscribersServiceTierTech = this.baseURL + 'acquisition/new-service-tier-counts?';\n      // DRILL DOWN\n      this.aquisitionRateInsightsDrillDown = this.baseURL + 'acquisition/acquisition-user-report-overall?';\n      this.aquisitionRevenueInsightsDrillDown = this.baseURL + 'acquisition/acquisition-user-report-overall?';\n      this.newSubscribersServiceTierTechDrillDown = this.baseURL + 'acquisition/new-user-list?';\n      // AQUISITION REVENUE INSIGHTS TABLE ACCORDION CHARTS\n      this.aquisitionRevenueServiceLimit = this.baseURL + 'subscriber/single-subscriber-service-limit?';\n      this.aquisitionRevenueSubscriberUsage = this.baseURL + 'subscriber/single-subscriber-usage?';\n      this.aquisitionRevenueDeviceTrends = this.baseURL + 'subscriber/single-subscriber-device-trends?';\n      this.aquisitionRevenueUsageByApp = this.baseURL + 'subscriber/single-subscriber-usage-by-app-type?';\n      this.aquisitionRevenueTopApp = this.baseURL + 'subscriber/single-subscriber-top-apps?';\n      // DRILL DOWN EXPORT\n      this.aquisitionRateInsightsExport = this.baseURL + 'acquisition/acquisition-user-report-overall?';\n      this.aquisitionRevenueInsightsExport = this.baseURL + 'acquisition/acquisition-user-report-overall?';\n      this.newSubscriberServiceTierDrillDownExport = this.baseURL + 'acquisition/new-user-list?';\n    }\n    // NOEMAL API\n    AquisitionRateInsights() {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.aquisitionRateInsights}page=1&size=10&output=json&`));\n    }\n    AquisitionRevenueInsights() {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(this.aquisitionRevenueInsights));\n    }\n    NewSubscribersServiceTierTech() {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(this.newSubscribersServiceTierTech));\n    }\n    // DRILL DOWN API\n    AquisitionRateInsightsDrillDown(clickData) {\n      let startEndDate = this.marketingExploreCommonService.monthStartEndCategoriesCreator(clickData.tier);\n      let tech = clickData.tech.replace('+', '%2B');\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsWithoutPeriod(`${this.aquisitionRateInsightsDrillDown}tier=${tech}&page=${clickData.page}&size=${clickData.size}&start=${startEndDate.startDate}&end=${startEndDate.endDate}&`));\n    }\n    AquisitionRevenueInsightsDrillDown(clickData) {\n      let startEndDate = this.marketingExploreCommonService.monthStartEndCategoriesCreator(clickData.tier);\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsWithoutPeriod(`${this.aquisitionRevenueInsightsDrillDown}page=${clickData.page}&size=${clickData.size}&start=${startEndDate.startDate}&end=${startEndDate.endDate}&`));\n    }\n    NewSubscribersServiceTierTechDrillDown(clickData) {\n      let tier = clickData.tier.replace('+', '%2B');\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.newSubscribersServiceTierTechDrillDown}tier=${tier}&tech=${clickData.tech}&page=${clickData.page}&size=${clickData.size}&`));\n    }\n    // AQUISITION REVENUE INSIGHTS TABLE ACCORDION CHARTS\n    AquisitionRevenueServiceLimit(clickData) {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.aquisitionRevenueServiceLimit}endpoint-id=${clickData.endPointId}&`));\n    }\n    AquisitionRevenueSubscriberUsage(clickData) {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.aquisitionRevenueSubscriberUsage}endpoint-id=${clickData.endPointId}&`));\n    }\n    AquisitionRevenueDeviceTrends(clickData) {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.aquisitionRevenueDeviceTrends}endpoint-id=${clickData.endPointId}&`));\n    }\n    AquisitionRevenueUsageByApp(clickData) {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.aquisitionRevenueUsageByApp}endpoint-id=${clickData.endPointId}&`));\n    }\n    AquisitionRevenueTopApp(clickData) {\n      return this.httpClient.get(this.marketingExploreCommonService.queryParamsAssigner(`${this.aquisitionRevenueTopApp}endpoint-id=${clickData.endPointId}&`));\n    }\n    // DRILL DOWN EXPORT\n    AquisitionRateInsightsDrillDownExport(clickData) {\n      let startEndDate = this.marketingExploreCommonService.monthStartEndCategoriesCreator(clickData.tier);\n      let tier = clickData.tech.replace('+', '%2B');\n      // let fileNameTier = clickData.tech.replace('+', '');\n      // console.log(clickData.tech, 'clickData.tech')\n      let fileNameTier = this.downloadFileNameService.generateReplaceSpecialChar(clickData.tech);\n      // console.log(fileNameTier, 'fileNameTier')\n      let month = clickData.tier.toLowerCase();\n      let fileName = this.downloadFileNameService.generateDownloadNameForDrillDown(`${this.language.acquisition_rate_insights}-${month}-${fileNameTier}`);\n      // let fileName = this.downloadFileNameService.generateDownloadNameForDrillDown(`${this.language.acquisition_rate_insights}-${month}-${clickData.tech}`);\n      let downloadURL = this.marketingExploreCommonService.queryParamsWOPeriodAssigner(`${this.aquisitionRateInsightsExport}tier=${tier}&start=${startEndDate.startDate}&end=${startEndDate.endDate}&file=true&filename=acquisition-rate-insights-${month}-${fileNameTier}-&`);\n      return {\n        downloadURL: downloadURL,\n        fileName: fileName\n      };\n    }\n    AquisitionRevenueInsightsDrillDownExport(clickData) {\n      let startEndDate = this.marketingExploreCommonService.monthStartEndCategoriesCreator(clickData.tier);\n      let month = clickData.tier.toLowerCase();\n      let fileName = this.downloadFileNameService.generateDownloadNameForDrillDown(`${this.language.acquisition_revenue_insights}-${month}-${this.language.Revenue}`);\n      let downloadURL = this.marketingExploreCommonService.queryParamsWOPeriodAssigner(`${this.aquisitionRevenueInsightsExport}start=${startEndDate.startDate}&end=${startEndDate.endDate}&file=true&refresh&filename=acquisition-revenue-insights-${month}-revenue-&`);\n      return {\n        downloadURL: downloadURL,\n        fileName: fileName\n      };\n    }\n    NewSubscriberServiceTierDrillDownExport(clickData) {\n      let tier = clickData.tier.replace('+', '%2B');\n      // let fileNameTier = clickData.tier.replace('+', '');\n      let fileNameTier = clickData.tier.replace('<', 'lt');\n      let fileName = this.downloadFileNameService.generateDownloadNameForDrillDown(`${this.language.new_subscribers_by_service_tier_technology}-${fileNameTier}-${clickData.tech}`);\n      let downloadURL = this.marketingExploreCommonService.queryParamsAssigner(`${this.newSubscriberServiceTierDrillDownExport}tier=${tier}&tech=${clickData.tech}&file=true&filename=new-subscribers-by-service-tier-technology-${fileNameTier}-${clickData.tech}&`);\n      return {\n        downloadURL: downloadURL,\n        fileName: fileName\n      };\n    }\n  }\n  MarketingExploreDataAcquisitionApiService.ɵfac = function MarketingExploreDataAcquisitionApiService_Factory(t) {\n    return new (t || MarketingExploreDataAcquisitionApiService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.MarketingExploreCommonService), i0.ɵɵinject(i3.DownloadFileNameService), i0.ɵɵinject(i4.TranslateService));\n  };\n  MarketingExploreDataAcquisitionApiService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: MarketingExploreDataAcquisitionApiService,\n    factory: MarketingExploreDataAcquisitionApiService.ɵfac,\n    providedIn: 'root'\n  });\n  return MarketingExploreDataAcquisitionApiService;\n})();","map":null,"metadata":{},"sourceType":"module"}