{"ast":null,"code":"export default function Mouse(eventBus) {\n  var self = this;\n  this._lastMoveEvent = null;\n  function setLastMoveEvent(mousemoveEvent) {\n    self._lastMoveEvent = mousemoveEvent;\n  }\n  eventBus.on('canvas.init', function (context) {\n    var svg = self._svg = context.svg;\n    svg.addEventListener('mousemove', setLastMoveEvent);\n  });\n  eventBus.on('canvas.destroy', function () {\n    self._lastMouseEvent = null;\n    self._svg.removeEventListener('mousemove', setLastMoveEvent);\n  });\n}\nMouse.$inject = ['eventBus'];\nMouse.prototype.getLastMoveEvent = function () {\n  return this._lastMoveEvent || createMoveEvent(0, 0);\n};\n\n// helpers //////////\n\nexport function createMoveEvent(x, y) {\n  var event = document.createEvent('MouseEvent');\n  var screenX = x,\n    screenY = y,\n    clientX = x,\n    clientY = y;\n  if (event.initMouseEvent) {\n    event.initMouseEvent('mousemove', true, true, window, 0, screenX, screenY, clientX, clientY, false, false, false, false, 0, null);\n  }\n  return event;\n}","map":null,"metadata":{},"sourceType":"module"}