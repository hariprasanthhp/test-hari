!function(){"use strict";function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,o){if(!t)return;if("string"==typeof t)return e(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,o)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,r=void 0,"symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"))?r:String(r)),n)}var i,r}function i(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[9680],{24463:function(e,n,r){r.r(n),r.d(n,{OutageWorkflowModule:function(){return st}});var l,a=r(38583),s=r(39895),c=r(37716),u=((l=function(){function t(){o(this,t)}return i(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||l)},l.\u0275cmp=c.Xpm({type:l,selectors:[["app-outage-workflow"]],decls:1,vars:0,template:function(t,e){1&t&&c._UZ(0,"router-outlet")},directives:[s.lC],styles:[""]}),l),g=r(92340),f=function(){return(t=f||(f={})).DETAILS_LABEL="Details",t.NOTIFICATION_LABEL="Notification Trigger",t.RECEPIENTS_LABEL="Recepients",t.SUMMARY_LABEL="Summary",f;var t}(),d=r(2792),p=r(7450),b=r(39075),w=r(80139),h=r(49342),v=r(91841),m=r(48483),O=r(9128),k=r(20904),x=r(12664),_=r(27946),C=r(3679),P=r(40205),y=r(88002),M=r(5304),Z=r(38048),A=r(14541),T=r(21693),j=r(86640);function I(t,e){if(1&t&&(c.TgZ(0,"div",18),c._uU(1),c.qZA()),2&t){var o=c.oxw(2);c.xp6(1),c.hij(" ",o.language["This field is required."]," ")}}function q(t,e){if(1&t&&(c.TgZ(0,"div"),c._uU(1),c.qZA()),2&t){var o=c.oxw(2);c.xp6(1),c.hij(" ",o.language["Please enter a value between 1 and 10000"]," ")}}function S(t,e){if(1&t&&(c.TgZ(0,"div",15),c.YNc(1,I,2,1,"div",16),c.YNc(2,q,2,1,"div",17),c.qZA()),2&t){var o=c.oxw();c.xp6(1),c.Q6J("ngIf",null==o.formControls||null==o.formControls.outagePollInterval||null==o.formControls.outagePollInterval.errors?null:o.formControls.outagePollInterval.errors.isrequired),c.xp6(1),c.Q6J("ngIf",null==o.formControls||null==o.formControls.outagePollInterval||null==o.formControls.outagePollInterval.errors?null:o.formControls.outagePollInterval.errors.minMaxError)}}function F(t,e){}function N(t,e){if(1&t&&(c.TgZ(0,"div",15),c.TgZ(1,"p"),c._uU(2),c.qZA(),c.qZA()),2&t){var o=c.oxw(2);c.xp6(2),c.hij("",o.language["This field is required"],".")}}function E(t,e){if(1&t&&(c.TgZ(0,"div",15),c.TgZ(1,"p"),c._uU(2),c.qZA(),c.qZA()),2&t){var o=c.oxw(2);c.xp6(2),c.hij("",o.language["This field is required"],".")}}function U(t,e){if(1&t){var o=c.EpF();c.TgZ(0,"div",19),c.TgZ(1,"div",2),c.TgZ(2,"label",20),c._uU(3),c.qZA(),c.TgZ(4,"div",21),c.TgZ(5,"ng-select",22),c.NdJ("add",function(t){return c.CHM(o),c.oxw().validateRegion(t)})("remove",function(t){return c.CHM(o),c.oxw().loadLocationValue(t)}),c.qZA(),c.YNc(6,N,3,1,"div",11),c.qZA(),c.qZA(),c.TgZ(7,"div",2),c.TgZ(8,"label",20),c._uU(9),c.qZA(),c.TgZ(10,"div",21),c.TgZ(11,"ng-select",23),c.NdJ("add",function(t){return c.CHM(o),c.oxw().validateLocation(t)})("remove",function(t){return c.CHM(o),c.oxw().validateLocation(t)}),c.qZA(),c.YNc(12,E,3,1,"div",11),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw();c.xp6(3),c.Oqu(n.language["Region(s)"]),c.xp6(2),c.s9C("placeholder",n.language.region),c.Q6J("multiple",!0)("items",n.regionsDataArray)("clearable",!1)("searchable",!0),c.xp6(1),c.Q6J("ngIf",!1),c.xp6(3),c.hij(" ",n.language["Location(s)"],""),c.xp6(2),c.s9C("placeholder",n.language.Location),c.Q6J("multiple",!0)("items",n.locationDataArray)("clearable",!1)("searchable",!0),c.xp6(1),c.Q6J("ngIf",!1)}}var L=function(){var e=function(){function e(t,n,i,r,l,a,s,u){o(this,e),this.translateService=t,this.fb=n,this.dateUtils=i,this.http=r,this.sso=l,this.otgWrkflwSrvc=a,this.chartOptionService=s,this.issueService=u,this.isFormValid=new c.vpe,this.regionsDataArray=["All"],this.locationDataArray=["All"],this.daysMap={day1:{label:"Monday",value:"MON"},day2:{label:"Tuesday",value:"TUE"},day3:{label:"Wednesday",value:"WED"},day4:{label:"Thursday",value:"THU"},day5:{label:"Friday",value:"FRI"},day6:{label:"Saturday",value:"SAT"},day7:{label:"Sunday",value:"SUN"}},this.triggerForm=this.fb.group({outagePollInterval:["",[C.kI.required]],region:["All"],location:["All"],exclusions:this.fb.array([])}),this.exclusionsObj={},this.outagePollOptions=[{id:10,name:10},{id:15,name:15},{id:30,name:30}]}return i(e,[{key:"workflowObj",get:function(){return this._workflowObj},set:function(t){var e,o=this;console.log(t),null===(e=null==(t=this.otgWrkflwSrvc.updateRegLocToAll(t))?void 0:t.filter)||void 0===e||e.forEach(function(t){o.exclusionsObj[t.daysOfWeek]=t}),this._workflowObj=t}},{key:"ngOnInit",value:function(){var t,e,o,n=this;this.tabSub=this.otgWrkflwSrvc.outageTabChanged$.subscribe(function(t){n.submitted=!0}),this.getRegions(),this.generateExclusion(),this.triggerForm.patchValue({outagePollInterval:null===(t=this.workflowObj)||void 0===t?void 0:t.outagePollInterval,region:null===(e=this.workflowObj)||void 0===e?void 0:e.region,location:null===(o=this.workflowObj)||void 0===o?void 0:o.location}),this.formSub=this.triggerForm.valueChanges.subscribe(function(t){n.prepareNtfctnTriggerData(t),n.isFormValid.emit(n.triggerForm.valid)}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){n.language=t})}},{key:"formControls",get:function(){return this.triggerForm.controls}},{key:"getRegions",value:function(){var e=this;this.regionsSubject=this.issueService.getRegions().subscribe(function(o){var n;(null==o?void 0:o.length)&&((o=e.issueService.appendFqn(o)).sort(),e.regionsDataArray=[].concat(t(e.regionsDataArray),t(o)),(null===(n=e._workflowObj)||void 0===n?void 0:n.region)&&(e.triggerForm.get("region").setValue(e._workflowObj.region),e.loadLocationValue("")))},function(t){console.log(t)})}},{key:"loadLocationValue",value:function(e){var o=this,n=this.triggerForm.get("region").value;if(null==n?void 0:n.length){var i="";if(n.length){if(-1!==n.indexOf("All"))return this.locationDataArray=["All"],void this.triggerForm.get("location").setValue(["All"]);n.forEach(function(t){"All"!=t&&(i+="&region=".concat(t))}),this.locationsSubject=this.http.get("".concat(g.N.API_BASE_URL,"nfa/locations?tenant=0").concat(i)).pipe((0,y.U)(function(t){return(t=o.issueService.appendFqn(t)).sort(function(t,e){return(t.name||"").toString().localeCompare((e.name||"").toString(),"en",{numeric:!1})}),t}),(0,M.K)(this.handleError)).subscribe(function(e){var n;o.chartOptionService.setLocationsInfo(e),o.locationDataArray=["All"],o.locationDataArray=[].concat(t(o.locationDataArray),t(e)),(null===(n=o._workflowObj)||void 0===n?void 0:n.location)&&o.triggerForm.get("location").setValue(o._workflowObj.location);var i=o.triggerForm.get("location").value;if(i&&i.length){var r=o.chartOptionService.getLocationsObj(),l=Object.keys(r).length?Object.keys(r):[],a=[];i.forEach(function(t){-1!==l.indexOf(t)&&a.push(t)}),a.length||(a=["All"]),o.triggerForm.get("location").setValue(a)}},function(t){})}else this.triggerForm.get("region").setValue(["All"]),this.triggerForm.get("location").setValue(["All"]),this.locationDataArray=["All"]}else this.triggerForm.get("region").setValue(["All"]),this.triggerForm.get("location").setValue(["All"])}},{key:"handleError",value:function(t){return(0,P._)(t)}},{key:"createExclusion",value:function(t){var e,o;return this.fb.group({daysOfWeek:[this.exclusionsObj[t]?t:""],fromTime:[this.exclusionsObj[t]?this.getStartDate(null===(e=this.exclusionsObj[t])||void 0===e?void 0:e.fromTime):this.getStartDate()],toTime:[this.exclusionsObj[t]?this.getEndDate(null===(o=this.exclusionsObj[t])||void 0===o?void 0:o.toTime):this.getEndDate()]})}},{key:"generateExclusion",value:function(){var t=this,e=Object.keys(this.daysMap);null==e||e.forEach(function(e){var o;t.exclusions.push(t.createExclusion(null===(o=t.daysMap[e])||void 0===o?void 0:o.value))})}},{key:"exclusions",get:function(){return this.triggerForm.get("exclusions")}},{key:"getEndDate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"23:59";return new Date("".concat(this.dateUtils.getTodayDateStr()," ").concat(t))}},{key:"getStartDate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"00:00";return new Date("".concat(this.dateUtils.getTodayDateStr()," ").concat(t))}},{key:"prepareExclusionsData",value:function(t){var e=this,o=[];null==t||t.forEach(function(t,n){var i;(null==t?void 0:t.daysOfWeek)&&o.push({daysOfWeek:null===(i=e.daysMap["day".concat(n+1)])||void 0===i?void 0:i.value,fromTime:e.dateUtils.getTimeStr(null==t?void 0:t.fromTime),toTime:e.dateUtils.getTimeStr(null==t?void 0:t.toTime)})}),this._workflowObj.filter=o}},{key:"prepareNtfctnTriggerData",value:function(t){this._workflowObj.outageDuration=null==t?void 0:t.outageDuration,this._workflowObj.outagePollInterval=null==t?void 0:t.outagePollInterval,this._workflowObj.region=null==t?void 0:t.region,this._workflowObj.location=null==t?void 0:t.location}},{key:"validateRegion",value:function(t){var e=this.triggerForm.get("region").value;if("All"===t)e=["All"];else{var o=e.indexOf("All");o>-1&&e.splice(o,1)}this.triggerForm.get("region").setValue(e),this.loadLocationValue("")}},{key:"validateLocation",value:function(t){var e=this.triggerForm.get("location").value;if("All"!==t&&(null==e?void 0:e.length)){var o=e.indexOf("All");o>-1&&e.splice(o,1)}else e=["All"];this.triggerForm.get("location").setValue(e),this.workflowObj.location=e}},{key:"ngOnDestroy",value:function(){var t,e;null===(t=this.formSub)||void 0===t||t.unsubscribe(),null===(e=this.tabSub)||void 0===e||e.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(p.s),c.Y36(C.qu),c.Y36(m.s),c.Y36(v.eN),c.Y36(Z.t6),c.Y36(w.q),c.Y36(A.t),c.Y36(T.v))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-outge-wrkflw-notification-trigger"]],inputs:{workflowObj:"workflowObj"},outputs:{isFormValid:"isFormValid"},decls:27,vars:11,consts:[[1,"container","px-0",3,"formGroup"],[1,"row","mb-3"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-6"],[1,"heading-4"],[1,"error"],[1,"px-3"],[1,"info-text","pt-2"],[1,"my-3"],[1,"ccl-form","row"],[1,"col-sm-5","max-121"],["formControlName","outagePollInterval","bindValue","id","bindLabel","name",3,"multiple","items","clearable"],["class","errorMessage",4,"ngIf"],["for","wf_outagepollinterval",1,"col-form-label","text-lowercase"],[3,"ngTemplateOutlet"],["geographyTemplate",""],[1,"errorMessage"],["class","mt-1",4,"ngIf"],[4,"ngIf"],[1,"mt-1"],[1,"row"],["for","inputEmail3",1,"col-form-label"],[1,"w-100"],["formControlName","region","bindValue","id","bindLabel","name",3,"multiple","items","clearable","searchable","placeholder","add","remove"],["formControlName","location","bindValue","id","bindLabel","name",3,"multiple","items","placeholder","clearable","searchable","add","remove"]],template:function(t,e){if(1&t&&(c.TgZ(0,"section"),c.TgZ(1,"div",0),c.TgZ(2,"div",1),c.TgZ(3,"div",2),c.TgZ(4,"div",3),c._uU(5),c.TgZ(6,"span",4),c._uU(7,"*"),c.qZA(),c.qZA(),c.TgZ(8,"div",5),c.TgZ(9,"div",6),c._uU(10),c.qZA(),c.TgZ(11,"div",7),c.TgZ(12,"div",8),c.TgZ(13,"div",9),c._UZ(14,"ng-select",10),c.YNc(15,S,3,2,"div",11),c.qZA(),c.TgZ(16,"label",12),c._uU(17),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"div",2),c.TgZ(19,"div",3),c._uU(20),c.qZA(),c.TgZ(21,"div",5),c.TgZ(22,"div",6),c._uU(23),c.qZA(),c.YNc(24,F,0,0,"ng-template",13),c.qZA(),c.qZA(),c.qZA(),c.YNc(25,U,13,14,"ng-template",null,14,c.W1O),c.qZA(),c.qZA()),2&t){var o=c.MAs(26);c.xp6(1),c.Q6J("formGroup",e.triggerForm),c.xp6(4),c.Oqu(e.language["Frequency Threshold"]),c.xp6(5),c.hij(" ",e.language["Frequency of email notifications during the outage"]," "),c.xp6(4),c.Q6J("multiple",!1)("items",e.outagePollOptions)("clearable",!1),c.xp6(1),c.Q6J("ngIf",e.submitted&&(null==e.formControls||null==e.formControls.outagePollInterval?null:e.formControls.outagePollInterval.invalid)),c.xp6(2),c.Oqu(e.language["Minute(s)"]),c.xp6(3),c.Oqu(e.language.Geography),c.xp6(3),c.hij(" ",e.language.immediate_geography_msg," "),c.xp6(1),c.Q6J("ngTemplateOutlet",o)}},directives:[C.JL,C.sg,j.w9,C.JJ,C.u,a.O5,a.tP],styles:['.heading-4[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;border-bottom:1px solid #CCCCCC;padding-bottom:5px}.info-text[_ngcontent-%COMP%]{font-size:16px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:0em;text-align:left}.info-text[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:600!important}.raise-note[_ngcontent-%COMP%]{padding:10px 10px 0 15px}.sectitle[_ngcontent-%COMP%]{font-size:18px;font-weight:400;color:#1a1f22}.max-w165[_ngcontent-%COMP%]{max-width:165px}.label-highlight[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#1a1f22;line-height:20px}  .p-calendar{width:100%}  .p-datepicker-header{display:none!important}.icon-p-cal[_ngcontent-%COMP%]{position:absolute;z-index:1;right:15px;top:4px}.day-selection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:28px;height:28px;display:inline-block;font-weight:400;font-size:14px;line-height:28px;color:#4c4c4c;background:#F8F8FA;border-radius:26px;text-align:center;margin-bottom:0;margin-right:10px}.day-selection[_ngcontent-%COMP%]   .day-selected[_ngcontent-%COMP%]{background:#0279FF;color:#fff}.week-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.week-container[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{width:35px;height:35px;color:#4c4c4c;background-color:#f8f8fa;text-align:center;line-height:35px;border-radius:50%;margin-bottom:2%}.week-container[_ngcontent-%COMP%]   .select-day[_ngcontent-%COMP%]{width:35px;height:35px;color:#fff;background-color:#0279ff;text-align:center;line-height:35px;border-radius:50%;margin-bottom:2%}.week-container[_ngcontent-%COMP%]   .week-circle[_ngcontent-%COMP%]{padding:4px}.start-item[_ngcontent-%COMP%]{width:100%;height:"36px"}.exclusions-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.exclusions-item[_ngcontent-%COMP%]{flex-grow:1;margin-bottom:3%}.exclusions-item[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.exclusions-item[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{width:80px!important}.exclusions-item[_ngcontent-%COMP%]   .p-calendar[_ngcontent-%COMP%]{width:80%!important}.exclusions-item[_ngcontent-%COMP%] + .exclusions-item[_ngcontent-%COMP%]{text-align:center}.diable-div[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.cursornallow[_ngcontent-%COMP%]{cursor:not-allowed}.p-button-icon[_ngcontent-%COMP%]{cursor:pointer}.w-100-imp[_ngcontent-%COMP%]{width:100px!important}input[type=checkbox][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]{cursor:pointer}.max-105[_ngcontent-%COMP%]{max-width:105px}.max-121[_ngcontent-%COMP%]{max-width:121px;min-width:12px}']}),e}(),J=r(67236),Y=r(19642);function Q(t,e){if(1&t){var o=c.EpF();c.TgZ(0,"div",22),c.TgZ(1,"span",23),c._UZ(2,"img",24),c.qZA(),c.TgZ(3,"button",25),c.NdJ("click",function(){return c.CHM(o),c.oxw().closeAlert()}),c._UZ(4,"span"),c.qZA(),c._UZ(5,"div",26),c.qZA()}if(2&t){var n=c.oxw();c.xp6(5),c.Q6J("innerHtml",n.errorInfo,c.oJD)}}function D(t,e){if(1&t){var o=c.EpF();c.TgZ(0,"div",27),c.TgZ(1,"span",28),c._UZ(2,"img",29),c.qZA(),c.TgZ(3,"button",25),c.NdJ("click",function(){return c.CHM(o),c.oxw().success=!1}),c._UZ(4,"span"),c.qZA(),c._UZ(5,"div",26),c.qZA()}if(2&t){var n=c.oxw();c.xp6(5),c.Q6J("innerHtml",n.language[n.successInfo]||n.successInfo,c.oJD)}}var R=function(t,e,o){return{"step-current":t,"":e,"step-done":o}};function B(t,e){if(1&t){var o=c.EpF();c.TgZ(0,"li"),c.TgZ(1,"button",30),c.NdJ("click",function(){var t=c.CHM(o).index;return c.oxw().onTabChange(t)}),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=e.$implicit,i=e.index,r=c.oxw();c.xp6(1),c.s9C("title",r.language[n]),c.Q6J("ngClass",c.kEZ(3,R,r.activeTab===n,2===r.tabs.length,r.levelsPassed>i&&r.activeTab!==n)),c.xp6(2),c.Oqu(r.language[n]||n)}}var W=function(t){return{primary:t}};function V(t,e){if(1&t){var o=c.EpF();c.TgZ(0,"button",31),c.NdJ("click",function(){c.CHM(o);var t=c.oxw();return t.onTabChange(t.selectedTabIndex-1)}),c._UZ(1,"img",32),c._uU(2),c.qZA()}if(2&t){var n=c.oxw();c.Q6J("ngClass",c.VKq(2,W,0!==n.selectedTabIndex)),c.xp6(2),c.hij(" ",n.language["Go back"]," ")}}function H(t,e){if(1&t){var o=c.EpF();c.TgZ(0,"button",33),c.NdJ("click",function(){c.CHM(o);var t=c.oxw();return t.onTabChange(t.selectedTabIndex+1)}),c._uU(1),c._UZ(2,"img",34),c.qZA()}if(2&t){var n=c.oxw();c.Q6J("disabled",n.disableNextBtn),c.xp6(1),c.hij(" ",n.language.save_and_continue," ")}}function z(t,e){if(1&t){var o=c.EpF();c.TgZ(0,"button",35),c.NdJ("click",function(){return c.CHM(o),c.oxw().deploy("PAUSE")}),c._uU(1),c.qZA()}if(2&t){var n=c.oxw();c.Q6J("disabled",n.disableFinishBtn),c.xp6(1),c.hij(" ",n.language.save_and_pause," ")}}function $(t,e){if(1&t){var o=c.EpF();c.TgZ(0,"button",36),c.NdJ("click",function(){return c.CHM(o),c.oxw().deploy("RUN")}),c._uU(1),c.qZA()}if(2&t){var n=c.oxw();c.Q6J("disabled",n.disableFinishBtn),c.xp6(1),c.hij(" ",n.language.save_and_activate," ")}}function X(t,e){if(1&t&&(c.TgZ(0,"div",37),c.TgZ(1,"div",38),c.TgZ(2,"div",39),c.TgZ(3,"span",40),c._uU(4),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t){var o=c.oxw();c.xp6(4),c.Oqu(o.language.Loading)}}function G(t,e){if(1&t){var o=c.EpF();c.TgZ(0,"app-details",41),c.NdJ("isFormValid",function(t){return c.CHM(o),c.oxw().validateForm(t)}),c.qZA()}if(2&t){var n=c.oxw();c.Q6J("workflowObj",n.workflowObj)}}function K(t,e){if(1&t){var o=c.EpF();c.TgZ(0,"app-outge-wrkflw-notification-trigger",41),c.NdJ("isFormValid",function(t){return c.CHM(o),c.oxw().validateForm(t)}),c.qZA()}if(2&t){var n=c.oxw();c.Q6J("workflowObj",n.workflowObj)}}function tt(t,e){if(1&t){var o=c.EpF();c.TgZ(0,"app-recepients",42),c.NdJ("isFormValid",function(t){return c.CHM(o),c.oxw().validateForm(t)}),c.qZA()}if(2&t){var n=c.oxw();c.Q6J("dynamicFields",n.recepientFormFields)("dynamicFieldsObj",n.recepientFormFieldsObj)("workflowObj",n.workflowObj)}}function et(t,e){if(1&t&&c._UZ(0,"app-outge-wrkflw-summary",43),2&t){var o=c.oxw();c.Q6J("workflowObj",o.workflowObj)}}var ot=function(){var t=function(){function t(e,n,i,r,l,a,s,c,u,g,d){o(this,t),this.translateService=e,this.titleService=n,this.otgWrkflwSrvc=i,this.route=r,this.commonOrgService=l,this.http=a,this.router=s,this.dateUtils=c,this.commonWorkflowService=u,this.commonService=g,this.modalService=d,this.recepientFormFields=[{key:"emails",required:!0},{key:"notes",required:!1},{key:"sms",required:!0},{key:"webhooks",required:!0}],this.recepientFormFieldsObj={emailRecipients:"emails",emailNotes:"notes",sms:"sms",webhooks:"webhooks"},this.loader=!1,this.disableFinishBtn=!1,this.outageWorkflow=f,this.activeTab=null==f?void 0:f.DETAILS_LABEL,this.selectedTabIndex=0,this.isTabChange=!0,this.disableNextBtn=!1,this.error=!1,this.errorInfo="",this.success=!1,this.successInfo="",this.tabs=[null==f?void 0:f.DETAILS_LABEL,null==f?void 0:f.NOTIFICATION_LABEL,null==f?void 0:f.RECEPIENTS_LABEL,null==f?void 0:f.SUMMARY_LABEL],this.workflowObj={uuid:"",name:"",tenantId:0,emails:[],notes:"",region:["All"],location:["All"],filter:[],schedule:{immediate:!0,type:null,recurrencePattern:null},notifyOnClear:!0,outageThreshold:1,outageDuration:1,description:"",status:"DRAFT",format:"HTML",timezone:"",outagePollInterval:15,sms:[],webhooks:[],forms:{0:{valid:!1},1:{valid:!1},2:{valid:!1}},isConsentMsgSmsPopupAccepted:!1,isLoadConsentMsgSmsPopupApplicable:!0},this.levelsPassed=0}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){t.language=e,t.titleService.setTitle("".concat(t.language["Internet Outage Notifications"]," - ").concat(t.language["Email Notifications"]," - ").concat(t.language.Network_Operations," - ").concat(t.language.Operations," - ").concat(t.language.Operations," - ").concat(t.language["Calix Cloud"]))}),this.titleService.setTitle("".concat(this.language["Internet Outage Notifications"]," - ").concat(this.language["Email Notifications"]," - ").concat(this.language.Network_Operations," - ").concat(this.language.Operations," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"]));var e=this.route.snapshot.paramMap.get("id");e&&this.getRecordById(e)}},{key:"openModal",value:function(){var t=this,e=this.modalService.open(d.J);e.componentInstance.workflowObj=this.workflowObj,e.result.then(function(e){e&&(console.log(e),t.onTabChange(t.selectedTabIndex+1))}).catch(function(t){})}},{key:"onTabChange",value:function(t){var e,o,n,i,r,l,a,s;if(t>this.selectedTabIndex){var c=!0;this.commonWorkflowService.setTabChange();for(var u=0;u<t;u++)if(!(null===(n=null===(o=null===(e=this.workflowObj)||void 0===e?void 0:e.forms)||void 0===o?void 0:o[u])||void 0===n?void 0:n.valid)){c=!1;break}if(!c)return;if(2==this.selectedTabIndex&&(null===(i=this.workflowObj)||void 0===i?void 0:i.isLoadConsentMsgSmsPopupApplicable)&&!(null===(r=this.workflowObj)||void 0===r?void 0:r.isConsentMsgSmsPopupAccepted)&&(null===(a=null===(l=this.workflowObj)||void 0===l?void 0:l.sms)||void 0===a?void 0:a.length))return void this.openModal();if(0!=this.selectedTabIndex||(null===(s=this.workflowObj)||void 0===s?void 0:s.uuid))this.update(t);else{var g={name:this.workflowObj.name,description:this.workflowObj.description,timezone:this.dateUtils.getTImeZoneWithOffset()};this.create(g,t)}}else this.updateTab(t)}},{key:"closeAlert",value:function(){this.error=!1,this.errorInfo=""}},{key:"validateForm",value:function(t){var e,o;(null===(o=null===(e=this.workflowObj)||void 0===e?void 0:e.forms)||void 0===o?void 0:o[this.selectedTabIndex])&&(this.workflowObj.forms[this.selectedTabIndex].valid=t)}},{key:"getRecordById",value:function(t){var e=this;this.loader=!0,this.http.get("".concat(g.N.API_BASE_URL,"analytics-engine/outageworkflow?outageWorkflowId=").concat(t)).subscribe(function(t){var o,n;t&&Object.keys(t).length&&(t=e.otgWrkflwSrvc.updateRegLocToAll(t),e.setFormStatus(t),(null==t?void 0:t.outagePollInterval)||(t.outagePollInterval=15),e.workflowObj=Object.assign(Object.assign({},e.workflowObj),t),(null===(n=null===(o=e.workflowObj)||void 0===o?void 0:o.sms)||void 0===n?void 0:n.length)&&(e.workflowObj.isConsentMsgSmsPopupAccepted=!0,e.workflowObj.isLoadConsentMsgSmsPopupApplicable=!1)),e.loader=!1},function(t){console.log(t),e.pageErrorHandle(t)})}},{key:"pageErrorHandle",value:function(t){this.errorInfo=401==t.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(t),this.error=!0,this.loader=!1}},{key:"create",value:function(t,e){var o=this;this.http.post("".concat(g.N.API_BASE_URL,"analytics-engine/outageworkflow"),t,{responseType:"text"}).subscribe(function(t){console.log(t),o.setSuccessInfo("Successfully Saved"),o.workflowObj.uuid=t,o.updateTab(e)},function(t){console.log(t),o.pageErrorHandle(t)})}},{key:"update",value:function(t){var e=this,o="".concat(g.N.API_BASE_URL,"analytics-engine/outageworkflow/").concat(this.workflowObj.uuid),n={description:this.workflowObj.description,timezone:this.dateUtils.getTImeZoneWithOffset()};1==this.selectedTabIndex?n=Object.assign(Object.assign({},n),{region:this.workflowObj.region,location:this.workflowObj.location,outagePollInterval:this.workflowObj.outagePollInterval}):2==this.selectedTabIndex&&(n=Object.assign(Object.assign({},n),{region:this.workflowObj.region,location:this.workflowObj.location,outagePollInterval:this.workflowObj.outagePollInterval,emails:this.workflowObj.emails,notes:this.workflowObj.notes,webhooks:this.workflowObj.webhooks,sms:this.workflowObj.sms})),n.status=this.workflowObj.status,this.selectedTabIndex>0&&(n=this.otgWrkflwSrvc.updateRegLoc(n)),this.http.put(o,n,{responseType:"text"}).subscribe(function(o){console.log(o),e.setSuccessInfo("Successfully Saved"),e.updateTab(t)},function(t){console.log(t),e.pageErrorHandle(t)})}},{key:"deploy",value:function(t){var e=this,o="".concat(g.N.API_BASE_URL,"analytics-engine/outagedeployWorkflow?workflowId=").concat(this.workflowObj.uuid,"&status=").concat(t),n={description:this.workflowObj.description,region:this.workflowObj.region,location:this.workflowObj.location,outagePollInterval:this.workflowObj.outagePollInterval,emails:this.workflowObj.emails,notes:this.workflowObj.notes,status:t,webhooks:this.workflowObj.webhooks,sms:this.workflowObj.sms};n=this.otgWrkflwSrvc.updateRegLoc(n),this.http.put(o,n,{responseType:"text"}).subscribe(function(o){console.log(o);var n="Internet Outage Notification Schedule successfully deployed";"PAUSE"===t?(n="Internet Outage Notification Schedule successfully paused",e.commonService.trackPendoEvents("Operations_Cloud","Email notification modified")):e.commonService.trackPendoEvents("Operations_Cloud","Email notification saved"),e.setSuccessInfo(n),setTimeout(function(){e.selectedTabIndex>2&&e.router.navigate(["./cco/operations/alarms/health-alarm-notifications"])},2e3)},function(t){console.log(t),e.pageErrorHandle(t)})}},{key:"updateTab",value:function(t){this.activeTab=this.tabs[t],this.disableNextBtn=!1,this.selectedTabIndex=t,this.isTabChange=!this.isTabChange,this.levelsPassed<t&&(this.levelsPassed=t)}},{key:"setSuccessInfo",value:function(t){var e=this;this.success=!0,this.successInfo=t,setTimeout(function(){e.success=!1},2e3)}},{key:"setFormStatus",value:function(t){var e,o,n;(null==t?void 0:t.name)&&(this.workflowObj.forms[0].valid=!0,this.levelsPassed=1),(null==t?void 0:t.name)&&(null==t?void 0:t.outagePollInterval)&&(this.workflowObj.forms[1].valid=!0,this.levelsPassed=2),((null==t?void 0:t.name)&&(null==t?void 0:t.outagePollInterval)&&(null===(e=null==t?void 0:t.emails)||void 0===e?void 0:e.length)||(null===(o=null==t?void 0:t.sms)||void 0===o?void 0:o.length)||(null===(n=null==t?void 0:t.webhooks)||void 0===n?void 0:n.length))&&(this.workflowObj.forms[2].valid=!0,this.levelsPassed=3),("PAUSE"===(null==t?void 0:t.status)||"RUN"===(null==t?void 0:t.status))&&(this.levelsPassed=4)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(p.s),c.Y36(b.Dx),c.Y36(w.q),c.Y36(s.gz),c.Y36(h.v),c.Y36(v.eN),c.Y36(s.F0),c.Y36(m.s),c.Y36(O.Z),c.Y36(k.i),c.Y36(x.FF))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-outge-wrkflw-main"]],decls:26,vars:13,consts:[["class","w-100 alert alert-danger fade show my-3",4,"ngIf"],["class","w-100 alert alert-success fade show my-3",4,"ngIf"],["id","outage-workflow",1,"outage-workflow"],[1,"row","mb-2"],[1,"col-md-12","border-bottom","pb-1","pl-0","pr-5","position-relative","min-h-58px"],[1,"ccl-admin-title"],[1,"close-icon"],["routerLink","/cco/operations/alarms/health-alarm-notifications","routerLinkActive","active",1,"close","cursor-pointer"],[1,"row"],[1,"col-md-12","px-0"],[1,"stepper-main","mt-3"],[1,"stepper-ui","mb-4"],[4,"ngFor","ngForOf"],[1,"pos-action-btn"],["type","button","class","btn-arrow btn-arr-prev btn-grey mr-2 float-left",3,"ngClass","click",4,"ngIf"],["type","button","class","btn-default primary",3,"disabled","click",4,"ngIf"],["type","button","class","btn-default primary px-3 mr-2",3,"disabled","click",4,"ngIf"],["type","button","class","btn-default primary px-3",3,"disabled","click",4,"ngIf"],["class","loader",4,"ngIf"],[3,"workflowObj","isFormValid",4,"ngIf"],[3,"dynamicFields","dynamicFieldsObj","workflowObj","isFormValid",4,"ngIf"],[3,"workflowObj",4,"ngIf"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert-success","fade","show","my-3"],[1,"success-img"],["src","./assets/img/success-icon.svg"],[3,"title","ngClass","click"],["type","button",1,"btn-arrow","btn-arr-prev","btn-grey","mr-2","float-left",3,"ngClass","click"],["src","assets/img/ic_chevronleft_grey.svg"],["type","button",1,"btn-default","primary",3,"disabled","click"],["src","assets/img/ic_chevron-r-w.svg",1,"ml-1"],["type","button",1,"btn-default","primary","px-3","mr-2",3,"disabled","click"],["type","button",1,"btn-default","primary","px-3",3,"disabled","click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[3,"workflowObj","isFormValid"],[3,"dynamicFields","dynamicFieldsObj","workflowObj","isFormValid"],[3,"workflowObj"]],template:function(t,e){1&t&&(c.YNc(0,Q,6,1,"div",0),c.YNc(1,D,6,1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c._uU(6),c.qZA(),c.TgZ(7,"div",6),c.TgZ(8,"button",7),c._UZ(9,"span"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(10,"div",8),c.TgZ(11,"div",9),c.TgZ(12,"section",10),c.TgZ(13,"ul",11),c.YNc(14,B,4,7,"li",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,V,3,4,"button",14),c.YNc(17,H,3,2,"button",15),c.YNc(18,z,2,2,"button",16),c.YNc(19,$,2,2,"button",17),c.qZA(),c.qZA(),c.YNc(20,X,5,1,"div",18),c.TgZ(21,"div"),c.YNc(22,G,1,1,"app-details",19),c.YNc(23,K,1,1,"app-outge-wrkflw-notification-trigger",19),c.YNc(24,tt,1,3,"app-recepients",20),c.YNc(25,et,1,1,"app-outge-wrkflw-summary",21),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.Q6J("ngIf",e.error),c.xp6(1),c.Q6J("ngIf",e.success),c.xp6(5),c.hij(" ",(null==e.workflowObj?null:e.workflowObj.name)||e.language["New Outage Notification"]," "),c.xp6(8),c.Q6J("ngForOf",e.tabs),c.xp6(2),c.Q6J("ngIf",e.selectedTabIndex>0),c.xp6(1),c.Q6J("ngIf",e.selectedTabIndex+1!==(null==e.tabs?null:e.tabs.length)),c.xp6(1),c.Q6J("ngIf",e.selectedTabIndex+1===(null==e.tabs?null:e.tabs.length)),c.xp6(1),c.Q6J("ngIf",e.selectedTabIndex+1===(null==e.tabs?null:e.tabs.length)),c.xp6(1),c.Q6J("ngIf",e.loader),c.xp6(2),c.Q6J("ngIf",e.activeTab===(null==e.outageWorkflow?null:e.outageWorkflow.DETAILS_LABEL)),c.xp6(1),c.Q6J("ngIf",e.activeTab===(null==e.outageWorkflow?null:e.outageWorkflow.NOTIFICATION_LABEL)),c.xp6(1),c.Q6J("ngIf",e.activeTab===(null==e.outageWorkflow?null:e.outageWorkflow.RECEPIENTS_LABEL)),c.xp6(1),c.Q6J("ngIf",e.activeTab===(null==e.outageWorkflow?null:e.outageWorkflow.SUMMARY_LABEL)))},directives:[a.O5,s.rH,s.Od,a.sg,a.mk,_.M,L,J.F,Y.O],styles:['#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .stepper-main[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;position:relative}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]{width:100%;display:flex;flex:0 0 100%;position:relative}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--1[_ngcontent-%COMP%], #outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--2[_ngcontent-%COMP%], #outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--3[_ngcontent-%COMP%], #outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--4[_ngcontent-%COMP%], #outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--5[_ngcontent-%COMP%]{width:calc(100% / 5);padding:5px 25px;background:#ebeaef!important;color:gray;text-align:center;cursor:pointer!important;border-radius:20px}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:first-child{border-top-left-radius:20px;border-bottom-left-radius:20px}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--1[_ngcontent-%COMP%]{z-index:55!important}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--2[_ngcontent-%COMP%]{z-index:44!important;transform:translate(-20px)}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--3[_ngcontent-%COMP%]{z-index:33!important;transform:translate(-40px)}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--4[_ngcontent-%COMP%]{z-index:22!important;transform:translate(-60px)!important}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--5[_ngcontent-%COMP%]{z-index:11!important;transform:translate(-80px)!important}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step-active[_ngcontent-%COMP%]{background:#0279ff!important;color:#fff!important;z-index:99!important;border-radius:20px!important}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step-success[_ngcontent-%COMP%]{background:#82bf00!important;color:#fff!important;z-index:101!important;border-radius:20px!important}.outage-workflow[_ngcontent-%COMP%]{position:relative}.close-box[_ngcontent-%COMP%]{font-size:24px;font-weight:300;color:gray}.btn-arrow.btn-grey[_ngcontent-%COMP%]{border:1px solid #CCCCCC!important;background-color:#f8f8fa!important;color:#4c4c4c!important}.stepper-main[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;flex-direction:column;position:relative}.stepper-ui[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0 0 10px;padding:0;overflow:hidden;width:100%}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 10px 0 30px;color:#1a1f22;position:relative;height:32px;border-top:1px solid #0279ff;border-bottom:1px solid #0279ff;border-right:0px!important;border-left:0px!important;outline:none!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:2}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{content:"";width:30px;height:100%;background:transparent;position:absolute;top:0;right:-10px;transform:rotate(48deg);z-index:1;border:1px ridge transparent;border-top-color:#0279ff;border-right-color:#0279ff;border-top-right-radius:5px}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]{color:#fff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:after{background-color:#0279ff!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]{background-color:#82bf00!important;border-color:#82bf00}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:after{background-color:#82bf00!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:disabled{background-color:#82bf00!important;border-color:#82bf00!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:after{border-top-color:#fff!important;border-right-color:#fff!important;border-style:solid}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:after{border-top-color:#0279ff!important;border-right-color:#0279ff!important;border-style:solid}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   button[_ngcontent-%COMP%]{border-top-left-radius:30px;border-bottom-left-radius:30px}button[_ngcontent-%COMP%]:disabled{background:transparent!important;border-color:#0279ff!important;cursor:not-allowed;color:#4c4c4c}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f5faff;color:#0279ff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{background-color:#f5faff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:-1px;width:20px;height:32px;background-color:transparent;border-top:1px solid #0279ff;border-bottom:1px solid #0279ff;z-index:9}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#1a1f22}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled:after{background-color:#fff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%]{opacity:.8;color:#fff!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:before, .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:before{display:none}.btn-arr-nxt[_ngcontent-%COMP%]:disabled{background:#0279ff!important;border:1px solid #0279ff!important;cursor:not-allowed;opacity:.5;color:#81bcff}.pos-action-btn[_ngcontent-%COMP%]{position:absolute;right:0px;top:0px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:0;top:24px}.min-h-58px[_ngcontent-%COMP%]{min-height:58px}']}),t}(),nt=[{path:"",component:u,children:[{path:"add",component:ot},{path:"edit/:id",component:ot},{path:"",redirectTo:"add",pathMatch:"full"}]}],it=function(){var t=i(function t(){o(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[s.Bz.forChild(nt)],s.Bz]}),t}(),rt=r(18638),lt=r(44466),at=r(89043),st=function(){var t=i(function t(){o(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[a.ez,it,C.u5,C.UX,j.A0,rt._8,lt.m,at.R]]}),t}()},1570:function(t,e,n){n.d(e,{f:function(){return O}});var r=n(92340),l=n(37716),a=n(7450),s=n(38583);function c(t,e){1&t&&(l.TgZ(0,"span"),l._uU(1,"-"),l.qZA())}function u(t,e){1&t&&l._UZ(0,"br")}function g(t,e){if(1&t&&(l.TgZ(0,"span"),l._uU(1),l.YNc(2,u,1,0,"br",1),l.qZA()),2&t){var o=e.$implicit,n=e.last;l.xp6(1),l.hij(" ",o,""),l.xp6(1),l.Q6J("ngIf",!n)}}function f(t,e){1&t&&(l.TgZ(0,"span"),l._uU(1,"-"),l.qZA())}function d(t,e){1&t&&l._UZ(0,"br")}function p(t,e){if(1&t&&(l.TgZ(0,"span"),l._uU(1),l.YNc(2,d,1,0,"br",1),l.qZA()),2&t){var o=e.$implicit,n=e.last;l.xp6(1),l.hij(" ",o,""),l.xp6(1),l.Q6J("ngIf",!n)}}function b(t,e){if(1&t&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l.YNc(4,f,2,0,"span",1),l.YNc(5,p,3,2,"span",2),l.qZA(),l.qZA()),2&t){var o=l.oxw();l.xp6(2),l.hij("SMS (",null!=o.workflowObj&&null!=o.workflowObj.sms&&o.workflowObj.sms.length?null==o.workflowObj||null==o.workflowObj.sms?null:o.workflowObj.sms.length:0,")"),l.xp6(2),l.Q6J("ngIf",!(null!=o.workflowObj&&null!=o.workflowObj.sms&&o.workflowObj.sms.length)),l.xp6(1),l.Q6J("ngForOf",null==o.workflowObj?null:o.workflowObj.sms)}}function w(t,e){1&t&&(l.TgZ(0,"span"),l._uU(1,"-"),l.qZA())}function h(t,e){1&t&&l._UZ(0,"br")}function v(t,e){if(1&t&&(l.TgZ(0,"span",3),l._uU(1),l.YNc(2,h,1,0,"br",1),l.qZA()),2&t){var o=e.$implicit,n=e.last;l.xp6(1),l.hij(" ",o,""),l.xp6(1),l.Q6J("ngIf",!n)}}var m,O=((m=function(){function t(e){o(this,t),this.translateService=e}return i(t,[{key:"workflowObj",get:function(){return this._workflowObj},set:function(t){console.log(t),this._workflowObj=t}},{key:"ngOnInit",value:function(){var t,e=this;-1!==(null===(t=r.N.API_BASE_URL)||void 0===t?void 0:t.indexOf("dev.api.calix.ai"))&&(this.showSms=!0),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t})}}]),t}()).\u0275fac=function(t){return new(t||m)(l.Y36(a.s))},m.\u0275cmp=l.Xpm({type:m,selectors:[["app-summary-recepients"]],inputs:{workflowObj:"workflowObj"},decls:21,vars:10,consts:[[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-break"],["class","text-break",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(l.TgZ(0,"table",0),l.TgZ(1,"tbody"),l.TgZ(2,"tr"),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l.YNc(6,c,2,0,"span",1),l.YNc(7,g,3,2,"span",2),l.qZA(),l.qZA(),l.TgZ(8,"tr"),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td",3),l._uU(12),l.qZA(),l.qZA(),l.YNc(13,b,6,3,"tr",1),l.TgZ(14,"tr"),l.TgZ(15,"td"),l.TgZ(16,"span"),l._uU(17),l.qZA(),l.qZA(),l.TgZ(18,"td"),l.YNc(19,w,2,0,"span",1),l.YNc(20,v,3,2,"span",4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(4),l.AsE("",e.language.Email," (",null!=e.workflowObj&&null!=e.workflowObj.emailRecipients&&e.workflowObj.emailRecipients.length?null==e.workflowObj||null==e.workflowObj.emailRecipients?null:e.workflowObj.emailRecipients.length:0,")"),l.xp6(2),l.Q6J("ngIf",!(null!=e.workflowObj&&null!=e.workflowObj.emailRecipients&&e.workflowObj.emailRecipients.length)),l.xp6(1),l.Q6J("ngForOf",null==e.workflowObj?null:e.workflowObj.emailRecipients),l.xp6(3),l.Oqu(e.language.Notes),l.xp6(2),l.hij(" ",null!=e.workflowObj&&e.workflowObj.emailNotes?null==e.workflowObj?null:e.workflowObj.emailNotes:"-"," "),l.xp6(1),l.Q6J("ngIf",e.showSms),l.xp6(4),l.hij("Webhook (",null!=e.workflowObj&&null!=e.workflowObj.webhooks&&e.workflowObj.webhooks.length?null==e.workflowObj||null==e.workflowObj.webhooks?null:e.workflowObj.webhooks.length:0,")"),l.xp6(2),l.Q6J("ngIf",!(null!=e.workflowObj&&null!=e.workflowObj.webhooks&&e.workflowObj.webhooks.length)),l.xp6(1),l.Q6J("ngForOf",null==e.workflowObj?null:e.workflowObj.webhooks))},directives:[s.O5,s.sg],styles:[""]}),m)}}])}();