!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"))?a:String(a)),n)}var r,a}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[8617],{82572:function(t,n,r){r.d(n,{t:function(){return B}});var a=r(37716),o=r(3679),s=r(79765),l=r(46782),u=r(88002);function c(e){var t=e.charCode;return 13===e.keyCode||(t<48||t>57?(e.preventDefault(),!1):void 0)}var g,d=r(92340),h=r(7450),f=r(39895),p=r(91841),m=r(38048),v=r(39075),b=r(38583),w=r(27492),Z=((g=function(){function t(){e(this,t),this.customDigitCheck=[]}return i(t,[{key:"validate",value:function(e){return(0,w.eS)(this.customDigitCheck[0],this.customDigitCheck[1])(e)}}]),t}()).\u0275fac=function(e){return new(e||g)},g.\u0275dir=a.lG2({type:g,selectors:[["","customDigitCheck",""]],inputs:{customDigitCheck:"customDigitCheck"},features:[a._Bn([{provide:o.Cf,useExisting:g,multi:!0}])]}),g),x=r(26329),_=r(77351),T=r(74062),A=r(28931),q=r(99178),O=r(74375),S=function(){var t=function(){function t(){e(this,t)}return i(t,[{key:"validate",value:function(e){if(o.kI.required(e))return null;var t=e.value;return t?t.startsWith(this.customStartsWith)?null:{customStartsWith:!0}:void 0}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.lG2({type:t,selectors:[["","customStartsWith","","formControlName",""],["","customStartsWith","","formControl",""],["","customStartsWith","","ngModel",""]],inputs:{customStartsWith:"customStartsWith"},features:[a._Bn([{provide:o.Cf,useExisting:t,multi:!0}])]}),t}(),y=function(){var t=function(){function t(){e(this,t)}return i(t,[{key:"validate",value:function(e){if(o.kI.required(e))return null;var t=e.value;return t?t.endsWith(this.customEndsWith)?{customEndsWith:!0}:null:void 0}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.lG2({type:t,selectors:[["","customEndsWith","","formControlName",""],["","customEndsWith","","formControl",""],["","customEndsWith","","ngModel",""]],inputs:{customEndsWith:"customEndsWith"},features:[a._Bn([{provide:o.Cf,useExisting:t,multi:!0}])]}),t}(),C=["nameRef"];function I(e,t){if(1&e){var i=a.EpF();a.TgZ(0,"div",34),a.TgZ(1,"span",35),a._UZ(2,"img",36),a.qZA(),a.TgZ(3,"button",37),a.NdJ("click",function(){return a.CHM(i),a.oxw().closeAlert()}),a._UZ(4,"span"),a.qZA(),a._UZ(5,"div",38),a.qZA()}if(2&e){var n=a.oxw();a.xp6(5),a.Q6J("innerHtml",n.errorInfo,a.oJD)}}function P(e,t){if(1&e&&(a.TgZ(0,"span",39),a._uU(1),a.qZA()),2&e){var i=a.oxw();a.xp6(1),a.hij(" ",i.language.Enter_A_Value,"")}}function M(e,t){if(1&e&&(a.TgZ(0,"span",40),a._uU(1),a.qZA()),2&e){var i=a.oxw();a.xp6(1),a.hij(" ",i.language.Name_required_validation1,"")}}function k(e,t){if(1&e&&(a.TgZ(0,"span",40),a._uU(1),a.qZA()),2&e){var i=a.oxw();a.xp6(1),a.hij(" ",i.language.Name_required_validation2,"")}}function N(e,t){if(1&e&&(a.TgZ(0,"div",41),a._uU(1),a.qZA()),2&e){var i=a.oxw();a.xp6(1),a.hij(" ",i.language.Enter_A_Value," ")}}function D(e,t){if(1&e&&(a.TgZ(0,"div",41),a._uU(1),a.qZA()),2&e){var i=a.oxw();a.xp6(1),a.hij(" ",i.language.ShortTimer_Value_Hint_Min," ")}}function E(e,t){if(1&e&&(a.TgZ(0,"div",41),a._uU(1),a.qZA()),2&e){var i=a.oxw();a.xp6(1),a.hij(" ",i.language.ShortTimer_Value_Hint_Max," ")}}function U(e,t){if(1&e&&(a.TgZ(0,"div",42),a._uU(1),a.qZA()),2&e){var i=a.oxw();a.xp6(1),a.hij(" ",i.language.Enter_A_Value," ")}}function J(e,t){if(1&e&&(a.TgZ(0,"div",42),a._uU(1),a.qZA()),2&e){var i=a.oxw();a.xp6(1),a.hij(" ",i.language.Digit_Validation_Dial_New," ")}}function V(e,t){if(1&e&&(a.TgZ(0,"div",42),a._uU(1),a.qZA()),2&e){var i=a.oxw();a.xp6(1),a.hij(" ",i.language.longDigitTimer_Value_Hint_Min," ")}}function j(e,t){if(1&e&&(a.TgZ(0,"div",42),a._uU(1),a.qZA()),2&e){var i=a.oxw();a.xp6(1),a.hij(" ",i.language.longDigitTimer_Value_Hint_Max," ")}}function R(e,t){if(1&e&&(a.TgZ(0,"div",43),a._uU(1),a.qZA()),2&e){var i=a.oxw();a.xp6(1),a.hij(" ",i.language.Enter_A_Value," ")}}function Q(e,t){if(1&e&&(a.TgZ(0,"div",43),a._uU(1),a.qZA()),2&e){var i=a.oxw();a.xp6(1),a.hij(" ",i.language.Rules_Validation," ")}}function F(e,t){if(1&e&&(a.TgZ(0,"div",42),a._uU(1),a.qZA()),2&e){var i=a.oxw();a.xp6(1),a.hij(" ",i.language.Rules_Validation2," ")}}function Y(e,t){if(1&e&&(a.TgZ(0,"div",42),a._uU(1),a.qZA()),2&e){var i=a.oxw();a.xp6(1),a.hij(" ",i.language["Invalid Rule"]," ")}}function L(e,t){if(1&e&&(a.TgZ(0,"button",44),a._uU(1),a.qZA()),2&e){var i=a.oxw();a.xp6(1),a.hij(" ",i.language.submit," ")}}var W=function(){return["digitShortTimer","digitlongTimer"]},H=function(e){return[e]},B=function(){var t=function(){function t(i,n,r,o,l,u,g){e(this,t),this.translateService=i,this.formBuilder=n,this.router=r,this.activatedRoute=o,this.http=l,this.sso=u,this.titleService=g,this.onClose=new a.vpe,this.numberOnly=c,this.unSubscribeParam$=new s.xQ,this.valueLessShort=!1,this.hasWriteAccess=!1,this.hasScopeAccess=!1,this.btnDisabled=!1,this.error=!1,this.errorInfo="",this.successInfo="",this.nameDisbable=!1,this.rulesPattern="^\\^[^\\|\\^]*(\\|\\^[^\\|\\^]*)*\\|?$",this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.isEmptySpace=!1,this.regexObj={name:/^[a-zA-Z0-9_\s-]+$/,rules:{startsWith:"^",endsWith:"^",match:"^\\^[^\\|\\^]*(\\|\\^[^\\|\\^]*)*\\|?$"}},this.errors={name:"",descriptioin:"",shortTimer:"",longTimer:"",rules:""},this.createDialPlanFormGroup(),this.dialPlanObj={name:null,description:null,shortTimer:null,longTimer:null,rules:null}}return i(t,[{key:"ngOnChanges",value:function(e){this.id=this.Id,this.editModalInput?(this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.dialPlanObj={name:null,description:null,shortTimer:null,longTimer:null,rules:null},this.dialPlanObj=this.editModalInput,this.dialPlanFormGroup.patchValue(this.dialPlanObj),this.nameDisbable=!0,this.id=this.editModalInput._id,this.viewDialPlan()):this.nameDisbable=!1}},{key:"setTitle",value:function(e){this.router.url.includes("cco-foundation")?this.titleService.setTitle("".concat(this.language["Dial Plans"],"  - ").concat(this.language["Workflow Prerequisites"]," - ").concat(this.language.configuration," - ").concat(this.language.Deployment," - ").concat(this.language["Calix Cloud"])):this.router.url.includes("/cco/services/service-profiles/dial-plan")?this.titleService.setTitle("".concat(this.language["RG Dial Plans"]," - ").concat(this.language["Services Profiles"]," - ").concat(this.language.Services," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"])):this.router.url.includes("/support/netops-management")&&this.titleService.setTitle("".concat(this.language["Dial Plans"]," - ").concat(this.language.Configurations," - ").concat(this.language.NetOps," - ").concat(this.language.Service," - ").concat(this.language["Calix Cloud"]))}},{key:"ngOnInit",value:function(){var e,t,i=this;this.id=this.Id,this.editModalInput?(this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.dialPlanObj={name:null,description:null,shortTimer:null,longTimer:null,rules:null},this.dialPlanObj=this.editModalInput,this.dialPlanFormGroup.patchValue(this.dialPlanObj),this.nameDisbable=!0,this.id=this.editModalInput._id,this.viewDialPlan()):this.nameDisbable=!1,this.id=this.activatedRoute.snapshot.paramMap.get("id"),this.id&&this.viewDialPlan(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){i.language=e,i.errors.name=i.language.Enter_A_Value,i.errors.shortTimer=i.language["Please enter a value less than or equal to 16"],i.errors.longTimer=i.language.Enter_A_Value,i.errors.longTimer=i.language.Name_Validation2_dial_new,i.errors.rules=i.language.Rules_Validation,i.errors.rules=i.language.Rules_Validation2,i.errors.rules=i.language["Invalid Rule"],i.errors.name=i.language.Enter_A_Value,i.errors.shortTimer=i.language.Enter_A_Value,i.errors.longTimer=i.language.Enter_A_Value,i.errors.name=i.language["Please enter value between 4 and 20 characters long"],i.errors.name=i.language.Name_Validation_dial_new,i.errors.shortTimer=i.language["Please enter a value greater than or equal to 1"],i.errors.shortTimer=i.language["Please enter a value less than or equal to 16"],i.errors.shortTimer=i.language.Number_Validation_Dial_New,i.errors.longTimer=i.language.Digit_Validation_Dial_New,i.errors.longTimer=i.language.Value_Hint,i.setTitle(i.router.url)}),this.setTitle(this.router.url),this.routerState$=this.activatedRoute.paramMap.pipe((0,l.R)(this.unSubscribeParam$),(0,u.U)(function(){return window.history.state})),this.routerState$.subscribe(function(e){e&&null!=e.dialPlanObj&&(i.dialPlanObj=e.dialPlanObj,i.dialPlanFormGroup.patchValue(i.dialPlanObj),i.nameDisbable=!0)});var n=this.sso.getScopes();this.router.url.includes("cco-foundation")||this.router.url.includes("cco/services/service-profiles/dial-plan")?this.router.url.includes("cco/services/service-profiles/dial-plan")?d.N.VALIDATE_SCOPE?((null===(e=n["cloud.rbac.coc.services.serviceprofiles.rgdialplans"])||void 0===e?void 0:e.length)&&(this.hasScopeAccess=!0),n&&(null===(t=n["cloud.rbac.coc.services.serviceprofiles.rgdialplans"])||void 0===t?void 0:t.includes("write"))&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):d.N.VALIDATE_SCOPE?(n["cloud.rbac.foundation.configurations"]=n["cloud.rbac.foundation.configurations"]?n["cloud.rbac.foundation.configurations"]:[],n&&n["cloud.rbac.foundation.configurations"].includes("write")&&(this.hasWriteAccess=!0,this.hasScopeAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):d.N.VALIDATE_SCOPE?(n["cloud.rbac.csc.netops.config.dial_plan"]=n["cloud.rbac.csc.netops.config.dial_plan"]?n["cloud.rbac.csc.netops.config.dial_plan"]:[],n&&n["cloud.rbac.csc.netops.config.dial_plan"]&&-1!==n["cloud.rbac.csc.netops.config.dial_plan"].indexOf("write")&&(this.hasWriteAccess=!0,this.hasScopeAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0),this.hasScopeAccess||this.sso.setPageAccess(!1)}},{key:"ngAfterViewInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe(),this.unSubscribeParam$&&this.unSubscribeParam$.next(),this.unSubscribeParam$&&this.unSubscribeParam$.complete()}},{key:"createDialPlanFormGroup",value:function(){this.dialPlanFormGroup=this.formBuilder.group({name:[null,[o.kI.required,o.kI.maxLength(20),o.kI.minLength(4),o.kI.pattern("/^[a-zA-Z0-9_s-]+$/")]],description:null,shortTimer:[null,[o.kI.required,o.kI.maxLength(2),o.kI.max(16),o.kI.min(1)]],longTimer:[null,[o.kI.required,o.kI.maxLength(2),o.kI.max(20),o.kI.min(4)]],rules:[null,o.kI.required]})}},{key:"validateTimer",value:function(){var e=this;this.dialPlanFormGroup.get("longTimer").valueChanges.subscribe(function(t){t&&Number(t)<e.shortTimer.value&&e.longTimer.setErrors({exceedsError:!0})})}},{key:"validateRules",value:function(){var e=this;this.dialPlanFormGroup.get("rules").valueChanges.subscribe(function(t){t&&!t.startsWith("^",0)?e.rules.setErrors({invalidStartRule:!0}):t&&t.endsWith("^")&&e.rules.setErrors({invalidEndRule:!0})})}},{key:"goBack",value:function(e){this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.onClose.emit("close")}},{key:"onSubmit",value:function(){}},{key:"verifyName",value:function(){if(this.error=!1,this.errors.name="",this.valueLessShort=!1,!this.input.name)return this.errors.name=this.language.Enter_A_Value,void(this.error=!0);var e=this.input.name.length;return e<4||e>20?(this.errors.name=this.language.Number_hint,void(this.error=!0)):this.regexObj.name.test(this.input.name)?void 0:(this.errors.name=this.language.Name_Validation_dial_new,void(this.error=!0))}},{key:"verifyShorTimer",value:function(){return this.error=!1,this.errors.shortTimer="",this.valueLessShort=!1,this.input.shortTimer?this.input.shortTimer.length<1?(this.errors.shortTimer=this.language["Please enter a value greater than or equal to 1"],void(this.error=!0)):this.input.shortTimer.length>16?(this.errors.shortTimer=this.language.Value_Hint_Max,void(this.error=!0)):void 0:(this.errors.shortTimer=this.language.Enter_A_Value,void(this.error=!0))}},{key:"verifyLongimer",value:function(){return this.error=!1,this.errors.longTimer="",this.valueLessShort=!1,this.input.longTimer?this.input.longTimer<=this.input.shortTimer?(this.errors.longTimer=this.language.Digit_Validation_Dial_New,this.error=!0,void(this.input.longTimer<4&&(this.valueLessShort=!0))):this.input.longTimer>20?(this.errors.longTimer=this.language.Name_Validation2_dial_new,void(this.error=!0)):void 0:(this.errors.longTimer=this.language.Enter_A_Value,void(this.error=!0))}},{key:"verifyRules",value:function(){return this.error=!1,this.errors.shortTimer="",this.valueLessShort=!1,this.input.rules.startsWith("^")?this.input.rules.endsWith("^")?(this.errors.rules=this.language.Rules_Validation2,void(this.error=!0)):this.input.rules.match("^\\^[^\\|\\^]*(\\|\\^[^\\|\\^]*)*\\|?$")?void 0:(this.errors.rules=this.language["Invalid Rule"],void(this.error=!0)):(this.errors.rules=this.language.Rules_Validation,void(this.error=!0))}},{key:"nameSpaceNotAlloed",value:function(e){var t;this.isEmptySpace=0==(null===(t=e.target.value)||void 0===t?void 0:t.trim().length)}},{key:"doSubmit",value:function(){var e=this;if(this.error=!1,this.errors={name:"",descriptioin:"",shortTimer:"",longTimer:"",rules:""},this.valueLessShort=!1,!this.input.name)return this.errors.name=this.language.Enter_A_Value,void(this.error=!0);if(this.input.shortTimer||(this.errors.shortTimer=this.language.Enter_A_Value,this.error=!0),this.input.longTimer||(this.errors.longTimer=this.language.Enter_A_Value,this.error=!0),!this.input.rules.startsWith("^"))return this.errors.rules=this.language.Rules_Validation,void(this.error=!0);var t=this.input.name.length;if(this.input.name&&t<4||t>20)return this.errors.name=this.language["Please enter value between 4 and 20 characters long"],void(this.error=!0);if(this.input.name&&!this.regexObj.name.test(this.input.name))return this.errors.name=this.language.Name_Validation_dial_new,void(this.error=!0);if(this.input.shortTimer&&this.input.shortTimer<1)return this.errors.shortTimer=this.language["Please enter a value greater than or equal to 1"],void(this.error=!0);if(this.input.shortTimer&&this.input.shortTimer>16)return this.errors.shortTimer=this.language.Number_Validation_Dial_New,void(this.error=!0);if(this.input.longTimer<=this.input.shortTimer)return this.errors.longTimer=this.language.Digit_Validation_Dial_New,this.error=!0,void(this.input.longTimer<4&&(this.valueLessShort=!0));if(this.input.longTimer&&this.input.longTimer<4)return this.errors.longTimer=this.language.Value_Hint,void(this.error=!0);if(this.input.longTimer&&this.input.longTimer<this.input.shortTimer)return this.errors.longTimer=this.language.Digit_Validation_Dial_New,void(this.error=!0);if(this.input.longTimer&&this.input.longTimer>20)return this.errors.longTimer=this.language.Name_Validation2_dial_new,void(this.error=!0);if(this.input.rules.endsWith("^"))return this.errors.rules=this.language.Rules_Validation2,void(this.error=!0);if(!this.input.rules.match("^\\^[^\\|\\^]*(\\|\\^[^\\|\\^]*)*\\|?$"))return this.errors.rules=this.language["Invalid Rule"],void(this.error=!0);if(this.input.rules=this.input.rules.toString().includes("|")?this.input.rules.toString().split("|"):this.input.rules.toString().split(),this.btnDisabled=!1,this.id=this.Id,this.id){delete this.input._id;var i="".concat(d.N.SUPPORT_URL,"/netops-dp/dial-plan/").concat(this.id,"?").concat(this.sso.getOrg(this.orgId),"_id=").concat(this.id);this.http.put(i,this.input).subscribe(function(t){e.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},e.onClose.emit("submit")},function(t){e.input.rules&&(e.input.rules=e.input.rules.length>1?e.input.rules.join("|"):e.input.rules.toString("")),e.input=e.input,e.pageErrorHandle(t)})}else{var n="".concat(d.N.SUPPORT_URL,"/netops-dp/dial-plan?").concat(this.sso.getOrg(this.orgId));this.http.post(n,this.input).subscribe(function(t){e.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},e.onClose.emit("submit")},function(t){e.input.rules&&(e.input.rules=e.input.rules.length>1?e.input.rules.join("|"):e.input.rules.toString("")),e.input=e.input,e.pageErrorHandle(t)})}}},{key:"constructDialPad",value:function(){var e=this.dialPlanFormGroup.getRawValue();return this.dialPlanObj.name=e.name.toString().trim(),this.dialPlanObj.description=null!==e.description?e.description.toString().trim():null,this.dialPlanObj.shortTimer=Number(e.shortTimer),this.dialPlanObj.longTimer=Number(e.longTimer),this.dialPlanObj.rules=e.rules.toString().includes("|")?e.rules.toString().split("|"):e.rules.toString().split(),this.dialPlanObj}},{key:"name",get:function(){return this.dialPlanFormGroup.get("name")}},{key:"description",get:function(){return this.dialPlanFormGroup.get("description")}},{key:"shortTimer",get:function(){return this.dialPlanFormGroup.get("shortTimer")}},{key:"longTimer",get:function(){return this.dialPlanFormGroup.get("longTimer")}},{key:"rules",get:function(){return this.dialPlanFormGroup.get("rules")}},{key:"viewDialPlan",value:function(){var e=this,t="".concat(d.N.SUPPORT_URL,"/netops-dp/dial-plan/").concat(this.id,"?").concat(this.sso.getOrg(this.orgId),"_id=").concat(this.id);this.http.get(t).subscribe(function(t){t.rules&&(t.rules=t.rules.length>1?t.rules.join("|"):t.rules.toString("")),e.input=t,delete e.input.orgId},function(t){e.pageErrorHandle(t)})}},{key:"closeAlert",value:function(){this.error=!1,this.success=!1}},{key:"showError",value:function(e){this.closeAlert(),this.errorInfo=e,this.error=!0}},{key:"pageErrorHandle",value:function(e){this.btnDisabled=!1,this.errorInfo=401==e.status?this.language["Access Denied"]:this.sso.pageErrorHandle(e),this.closeAlert(),this.error=!0,$("html, body").animate({scrollTop:0},"slow")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Y36(h.s),a.Y36(o.qu),a.Y36(f.F0),a.Y36(f.gz),a.Y36(p.eN),a.Y36(m.t6),a.Y36(v.Dx))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-dial-plan-new"]],viewQuery:function(e,t){var i;(1&e&&a.Gf(C,5),2&e)&&(a.iGM(i=a.CRH())&&(t.nameRef=i.first))},inputs:{editModalInput:"editModalInput",Id:"Id"},outputs:{onClose:"onClose"},features:[a.TTD],decls:63,vars:53,consts:[["class","w-100 alert alert-danger fade show margin-top-20",4,"ngIf"],["id","dial-plan-form","novalidate","",1,"form-group","ccl-form",3,"customDigitCheck","ngSubmit"],["myForm","ngForm"],[1,"form-group","row","ccl-form","required"],["for","name",1,"col-md-12","col-form-label"],[1,"error"],[1,"col-md-12",3,"ngClass"],["type","text","id","name","name","name","customMin","4","customMax","20","required","","aria-required","true","aria-describedby","name-error","aria-invalid","true","autocomplete","new-password","pattern","^[a-zA-Z0-9_\\s]+$","trimSpace","",1,"form-control",3,"placeholder","ngModel","disabled","formValue","ngModelChange"],["name","ngModel"],["class","pl-3","id","name-error",4,"ngIf"],["class","","id","name-error",4,"ngIf"],[1,"form-group","row","ccl-form"],["for","description",1,"col-md-12","col-form-label"],[1,"col-md-12"],["type","text","name","description","maxlength","100","id","dail-description","trimSpace","",1,"form-control",3,"placeholder","ngModel","formValue","ngModelChange"],["for","digitShortTimer",1,"col-md-12","col-form-label"],["id","digitShortTimer","type","number","required","","customNumMin","1","min","1","customNumMax","16","customNeg","","name","digitShortTimer","data-toggle","tooltip","data-placement","bottom","aria-required","true","aria-describedby","digitShortTimer-error","aria-invalid","true","autocomplete","new-password",1,"form-control",3,"ngModel","title","ngModelChange"],["digitShortTimer","ngModel"],["class","errorMessage","id","digitShortTimer-error",4,"ngIf"],["for","digitlongTimer",1,"col-md-12","col-form-label"],["id","digitlongTimer","type","number","required","","customNumMin","4","min","1","customNumMax","20","customNeg","","name","digitlongTimer","data-toggle","tooltip","data-placement","bottom","aria-required","true","aria-describedby","digitlongTimer-error","aria-invalid","true","autocomplete","new-password",1,"form-control",3,"ngModel","title","ngModelChange"],["digitlongTimer","ngModel"],["class","errorMessage","id","digitlongTimer-error",4,"ngIf"],["for","Rules",1,"col-md-12","col-form-label"],[1,"col-md-12","rules-textarea",3,"ngClass"],["id","Rules","type","number","required","","customNeg","","name","Rules","data-toggle","tooltip","customStartsWith","^","customEndsWith","^","data-placement","bottom","aria-required","true","aria-describedby","Rules-error","aria-invalid","true","autocomplete","new-password","trimSpace","",1,"form-control",3,"ngModel","placeholder","title","pattern","formValue","ngModelChange"],["Rules","ngModel"],["class","errorMessage","id","Rules-error",4,"ngIf"],[1,"row","mt-3"],[1,"col-12"],["role","toolbar","aria-label","Toolbar with button groups",1,"btn-toolbar"],["role","group","aria-label","First group",1,"btn-group","mr-2"],["type","submit","class","btn btn-primary btn-sm br-26 px-3","id","submit-btn",4,"ngIf"],["type","button","id","cancel-btn",1,"btn-default","btn-dft",3,"click"],[1,"w-100","alert","alert-danger","fade","show","margin-top-20"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button","id","err-mss",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],["id","name-error",1,"pl-3"],["id","name-error",1,""],["id","digitShortTimer-error",1,"errorMessage"],["id","digitlongTimer-error",1,"errorMessage"],["id","Rules-error",1,"errorMessage"],["type","submit","id","submit-btn",1,"btn","btn-primary","btn-sm","br-26","px-3"]],template:function(e,t){if(1&e){var i=a.EpF();a.YNc(0,I,6,1,"div",0),a.TgZ(1,"form",1,2),a.NdJ("ngSubmit",function(){return a.CHM(i),a.MAs(2).form.valid&&t.doSubmit()}),a.TgZ(3,"div",3),a.TgZ(4,"label",4),a._uU(5),a.TgZ(6,"span",5),a._uU(7,"*"),a.qZA(),a.qZA(),a.TgZ(8,"div",6),a.TgZ(9,"input",7,8),a.NdJ("ngModelChange",function(e){return t.input.name=e})("ngModelChange",function(e){return t.nameSpaceNotAlloed(e)}),a.qZA(),a.YNc(11,P,2,1,"span",9),a.YNc(12,M,2,1,"span",10),a.YNc(13,k,2,1,"span",10),a.qZA(),a.qZA(),a.TgZ(14,"div",11),a.TgZ(15,"label",12),a._uU(16),a.qZA(),a.TgZ(17,"div",13),a.TgZ(18,"input",14),a.NdJ("ngModelChange",function(e){return t.input.description=e}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(19,"div",3),a.TgZ(20,"label",15),a._uU(21),a.TgZ(22,"span",5),a._uU(23,"*"),a.qZA(),a.qZA(),a.TgZ(24,"div",6),a.TgZ(25,"input",16,17),a.NdJ("ngModelChange",function(e){return t.input.shortTimer=e}),a.qZA(),a.YNc(27,N,2,1,"div",18),a.YNc(28,D,2,1,"div",18),a.YNc(29,E,2,1,"div",18),a.qZA(),a.qZA(),a.TgZ(30,"div",3),a.TgZ(31,"label",19),a._uU(32),a.TgZ(33,"span",5),a._uU(34,"*"),a.qZA(),a.qZA(),a.TgZ(35,"div",6),a.TgZ(36,"input",20,21),a.NdJ("ngModelChange",function(e){return t.input.longTimer=e}),a.qZA(),a.YNc(38,U,2,1,"div",22),a.YNc(39,J,2,1,"div",22),a.YNc(40,V,2,1,"div",22),a.YNc(41,j,2,1,"div",22),a.qZA(),a.qZA(),a.TgZ(42,"div",3),a.TgZ(43,"label",23),a._uU(44),a.TgZ(45,"span",5),a._uU(46,"*"),a.qZA(),a.qZA(),a.TgZ(47,"div",24),a.TgZ(48,"textarea",25,26),a.NdJ("ngModelChange",function(e){return t.input.rules=e}),a._uU(50,"        "),a.qZA(),a.YNc(51,R,2,1,"div",27),a.YNc(52,Q,2,1,"div",27),a.YNc(53,F,2,1,"div",22),a.YNc(54,Y,2,1,"div",22),a.qZA(),a.qZA(),a.TgZ(55,"div",28),a.TgZ(56,"div",29),a.TgZ(57,"div",30),a.TgZ(58,"div",31),a.YNc(59,L,2,1,"button",32),a.qZA(),a.TgZ(60,"div",31),a.TgZ(61,"button",33),a.NdJ("click",function(){return t.goBack(null)}),a._uU(62),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){var n=a.MAs(2),r=a.MAs(10),o=a.MAs(26),s=a.MAs(37),l=a.MAs(49);a.Q6J("ngIf",t.error&&t.errorInfo),a.xp6(1),a.Q6J("customDigitCheck",a.DdM(44,W)),a.xp6(4),a.hij("",t.language.Name," "),a.xp6(3),a.Q6J("ngClass",a.VKq(45,H,(null!=r.errors&&r.errors.required||null!=r.errors&&r.errors.pattern||null!=r.errors&&r.errors.customMin||null!=r.errors&&r.errors.customMax||t.isEmptySpace)&&(n.submitted||r.touched)?"errorMessage":"")),a.xp6(1),a.s9C("placeholder",t.language.Name),a.Q6J("ngModel",t.input.name)("disabled",t.nameDisbable)("formValue",t.input),a.xp6(2),a.Q6J("ngIf",(r.touched||n.submitted)&&(null==r.errors?null:r.errors.required)||t.isEmptySpace),a.xp6(1),a.Q6J("ngIf",(r.touched||n.submitted)&&(null==r.errors?null:r.errors.pattern)),a.xp6(1),a.Q6J("ngIf",(r.touched||n.submitted)&&((null==r.errors?null:r.errors.customMin)||(null==r.errors?null:r.errors.customMax))),a.xp6(3),a.AsE("",t.language.description," (",t.language.Optional,")"),a.xp6(2),a.s9C("placeholder",t.language.description),a.Q6J("ngModel",t.input.description)("formValue",t.input),a.xp6(3),a.hij("",t.language.Digit_shortimer,"(s) "),a.xp6(3),a.Q6J("ngClass",a.VKq(47,H,(null!=o.errors&&o.errors.required||null!=o.errors&&o.errors.customNumMin||null!=o.errors&&o.errors.customNeg)&&(n.submitted||o.touched)?"errorMessage":"")),a.xp6(1),a.s9C("title",t.language.Digit_shortimer),a.Q6J("ngModel",t.input.shortTimer),a.xp6(2),a.Q6J("ngIf",(null==o.errors?null:o.errors.required)&&(n.submitted||o.touched)),a.xp6(1),a.Q6J("ngIf",((null==o.errors?null:o.errors.customNumMin)||(null==o.errors?null:o.errors.customNeg))&&(n.submitted||o.touched)),a.xp6(1),a.Q6J("ngIf",((null==o.errors?null:o.errors.customNumMax)||(null==o.errors?null:o.errors.customNeg))&&(n.submitted||o.touched)),a.xp6(3),a.hij("",t.language.Digit_longimer,"(s) "),a.xp6(3),a.Q6J("ngClass",a.VKq(49,H,(null!=s.errors&&s.errors.required||null!=s.errors&&s.errors.longDigitTimer||null!=s.errors&&s.errors.customNumMin||null!=s.errors&&s.errors.customNeg)&&(n.submitted||s.touched)?"errorMessage":"")),a.xp6(1),a.s9C("title",t.language.Digit_longimer),a.Q6J("ngModel",t.input.longTimer),a.xp6(2),a.Q6J("ngIf",(null==s.errors?null:s.errors.required)&&(n.submitted||s.touched)),a.xp6(1),a.Q6J("ngIf",(null==s.errors?null:s.errors.longDigitTimer)&&(n.submitted||s.touched)),a.xp6(1),a.Q6J("ngIf",((null==s.errors?null:s.errors.customNumMin)||(null==s.errors?null:s.errors.customNeg))&&(n.submitted||s.touched)),a.xp6(1),a.Q6J("ngIf",((null==s.errors?null:s.errors.customNumMax)||(null==s.errors?null:s.errors.customNeg))&&(n.submitted||s.touched)),a.xp6(3),a.hij("",t.language.Rules," "),a.xp6(3),a.Q6J("ngClass",a.VKq(51,H,(null!=l.errors&&l.errors.required||null!=l.errors&&l.errors.pattern)&&(n.submitted||l.touched)?"errorMessage":"")),a.xp6(1),a.MGl("placeholder","",t.language.RegEx_Pattern_eg,"::^911n|^411|^[2-9][0-9]{6}"),a.MGl("title","",t.language.RegEx_Pattern_eg,"::^911n|^411|^[2-9][0-9]{6}"),a.Q6J("ngModel",t.input.rules)("pattern",t.rulesPattern)("formValue",t.input),a.xp6(3),a.Q6J("ngIf",(null==l.errors?null:l.errors.required)&&(n.submitted||l.touched)),a.xp6(1),a.Q6J("ngIf",(null==l.errors?null:l.errors.customStartsWith)&&(n.submitted||l.touched)),a.xp6(1),a.Q6J("ngIf",(null==l.errors?null:l.errors.customEndsWith)&&(n.submitted||l.touched)),a.xp6(1),a.Q6J("ngIf",(null==l.errors?null:l.errors.pattern)&&(n.submitted||l.touched)),a.xp6(5),a.Q6J("ngIf",t.hasWriteAccess),a.xp6(3),a.hij(" ",t.language.cancel," ")}},directives:[b.O5,o._Y,o.JL,o.F,Z,b.mk,o.Fj,x.a,_.Z,o.Q7,o.c5,T.f,o.JJ,o.On,o.nD,o.qQ,o.wV,A.D,q.a,O.v,S,y],styles:[".btn-orange[_ngcontent-%COMP%]{background-color:#1d9e74;border-color:#1d9e74;color:#fff}.br-26[_ngcontent-%COMP%]{border-radius:26px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border-radius:20px;background:#F8F8FA}.form-control.is-valid[_ngcontent-%COMP%], .form-control.is-invalid[_ngcontent-%COMP%]{background-image:none;padding-right:inherit}.form-control[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.rules-textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:60px!important;height:auto}"]}),t}()},19718:function(t,n,r){r.d(n,{U:function(){return L}});var a,o=r(91841),s=r(79765),l=r(35758),u=r(92340),c=r(46782),g=r(88002),d=r(91704),h=r(23771),f=r(37716),p=r(7450),m=r(39075),v=r(94761),b=r(38048),w=r(39895),Z=r(12664),x=((a=function(){function t(i){e(this,t),this.http=i}return i(t,[{key:"delete",value:function(e){return this.http.delete(e)}}]),t}()).\u0275fac=function(e){return new(e||a)(f.LFG(o.eN))},a.\u0275prov=f.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a),_=r(38583),T=r(82572),A=["dialPlanDeleteModalRef"],q=["closeBtn"],O=["openDialogBtn"];function S(e,t){if(1&e&&(f.TgZ(0,"div",9),f._uU(1),f.qZA()),2&e){var i=f.oxw();f.xp6(1),f.hij(" ",i.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function y(e,t){if(1&e){var i=f.EpF();f.TgZ(0,"div",10),f.TgZ(1,"span",11),f._UZ(2,"img",12),f.qZA(),f.TgZ(3,"button",13),f.NdJ("click",function(){return f.CHM(i),f.oxw().closeAlert()}),f._UZ(4,"span"),f.qZA(),f.TgZ(5,"div",14),f.TgZ(6,"strong"),f._uU(7),f.ALo(8,"titlecase"),f.qZA(),f.qZA(),f.qZA()}if(2&e){var n=f.oxw();f.xp6(7),f.Oqu(f.lcZ(8,1,n.successMsg))}}function C(e,t){if(1&e){var i=f.EpF();f.TgZ(0,"div",15),f.TgZ(1,"div",16),f.TgZ(2,"span",17),f._UZ(3,"img",18),f.qZA(),f.TgZ(4,"span",19),f.TgZ(5,"span",20),f._uU(6),f.qZA(),f._UZ(7,"span",21),f.qZA(),f.TgZ(8,"button",22),f.NdJ("click",function(){return f.CHM(i),f.oxw().closeAlert()}),f._uU(9),f._UZ(10,"span"),f.qZA(),f.qZA(),f.qZA()}if(2&e){var n=f.oxw();f.xp6(6),f.hij("",n.language.Warning,"!"),f.xp6(1),f.Q6J("innerHtml",n.errorMsg,f.oJD),f.xp6(2),f.hij(" ",n.language.OK,"")}}function I(e,t){if(1&e&&(f.TgZ(0,"div",23),f.TgZ(1,"div",24),f._uU(2),f.qZA(),f.qZA()),2&e){var i=f.oxw();f.xp6(2),f.hij("",i.language["Dial Plan"]," ")}}function P(e,t){if(1&e){var i=f.EpF();f.TgZ(0,"button",37,38),f.NdJ("click",function(){return f.CHM(i),f.oxw(2).openDialog()}),f._uU(2),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language.New_Dial_Plan)}}function M(e,t){if(1&e){var i=f.EpF();f.TgZ(0,"app-dial-plan-new",39),f.NdJ("onClose",function(e){return f.CHM(i),f.oxw(2).onModalClose(e)}),f.qZA()}if(2&e){var n=f.oxw(2);f.Q6J("editModalInput",n.editDialPlanObj)("Id",n.editDialPlanObj?n.editDialPlanObj._id:"")}}function k(e,t){if(1&e){var i=f.EpF();f.TgZ(0,"div",25),f.YNc(1,P,3,1,"button",26),f.TgZ(2,"div",27),f.TgZ(3,"div",28),f.TgZ(4,"div",29),f.TgZ(5,"div",30),f.TgZ(6,"div",31),f._uU(7),f.qZA(),f.TgZ(8,"img",32),f.NdJ("click",function(){return f.CHM(i),f.oxw().closeModal()}),f.qZA(),f.qZA(),f.TgZ(9,"div",33),f.TgZ(10,"a"),f._UZ(11,"i",34,35),f.qZA(),f.YNc(13,M,1,2,"app-dial-plan-new",36),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&e){var n=f.oxw();f.xp6(1),f.Q6J("ngIf",n.hasWriteAccess&&n.allowDialPlan),f.xp6(6),f.Oqu(n.language["Dial Plan"]),f.xp6(6),f.Q6J("ngIf",n.showDialog)}}function N(e,t){if(1&e){var i=f.EpF();f.TgZ(0,"div",40),f.TgZ(1,"span",17),f._UZ(2,"img",41),f.qZA(),f.TgZ(3,"span"),f._uU(4),f.qZA(),f.TgZ(5,"div",42),f.TgZ(6,"button",43),f.NdJ("click",function(){return f.CHM(i),f.oxw().doDeleteDialPlan()}),f._uU(7),f.qZA(),f.TgZ(8,"button",44),f.NdJ("click",function(){return f.CHM(i),f.oxw().cancelDelete()}),f._uU(9),f.qZA(),f.qZA(),f.qZA()}if(2&e){var n=f.oxw();f.xp6(4),f.hij(" ",n.language.Dial_Plan_Confirmation1,""),f.xp6(3),f.hij(" ",n.language.Confirm," "),f.xp6(2),f.hij(" ",n.language.Cancel," ")}}function D(e,t){if(1&e){var i=f.EpF();f.TgZ(0,"a",60),f.NdJ("click",function(e){f.CHM(i);var t=f.oxw(2).$implicit;return f.oxw(4).deleteDialPlan(t),e.stopPropagation()}),f._UZ(1,"i",61),f.qZA()}if(2&e){var n=f.oxw(6);f.s9C("title",n.language.Delete)}}function E(e,t){if(1&e&&(f.TgZ(0,"td",53),f.YNc(1,D,2,1,"a",59),f.qZA()),2&e){var i=f.oxw().$implicit;f.xp6(1),f.Q6J("ngIf","system-default"!==(null==i?null:i.name))}}function U(e,t){if(1&e){var i=f.EpF();f.TgZ(0,"tr",56),f.NdJ("click",function(e){var t=f.CHM(i).$implicit;return f.oxw(4).goToEdit(t),e.stopPropagation()}),f.TgZ(1,"td",50),f.TgZ(2,"div"),f._uU(3),f.qZA(),f.qZA(),f.TgZ(4,"td",50),f.TgZ(5,"div"),f._uU(6),f.qZA(),f.qZA(),f.TgZ(7,"td",51),f._uU(8),f.qZA(),f.TgZ(9,"td",51),f._uU(10),f.qZA(),f.TgZ(11,"td",52),f.TgZ(12,"div",57),f._uU(13),f.qZA(),f.qZA(),f.YNc(14,E,2,1,"td",58),f.qZA()}if(2&e){var n=t.$implicit,r=f.oxw(4);f.s9C("id",null==n?null:n._id),f.xp6(3),f.Oqu(null==n?null:n.name),f.xp6(3),f.Oqu(null==n?null:n.description),f.xp6(2),f.Oqu(null==n?null:n.shortTimer),f.xp6(2),f.Oqu(null==n?null:n.longTimer),f.xp6(3),f.Oqu(null==n||null==n.rules?null:n.rules.join("|")),f.xp6(1),f.Q6J("ngIf",r.hasWriteAccess)}}function J(e,t){if(1&e&&(f.TgZ(0,"tbody"),f.YNc(1,U,15,7,"tr",55),f.qZA()),2&e){var i=f.oxw(3);f.xp6(1),f.Q6J("ngForOf",i.dialPadList)}}function V(e,t){if(1&e&&(f.TgZ(0,"tbody"),f.TgZ(1,"tr"),f.TgZ(2,"td",62),f._uU(3),f.qZA(),f.qZA(),f.qZA()),2&e){var i=f.oxw(3);f.xp6(3),f.Oqu(i.language.NO_Dial_Plan_Found)}}function j(e,t){if(1&e&&(f.TgZ(0,"div",63),f.TgZ(1,"div",64),f.TgZ(2,"div",65),f.TgZ(3,"span",66),f._uU(4),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){var i=f.oxw(3);f.xp6(4),f.Oqu(i.language.Loading)}}function R(e,t){if(1&e&&(f.ynx(0),f.TgZ(1,"div",48),f.TgZ(2,"table",49),f.TgZ(3,"thead"),f.TgZ(4,"tr"),f.TgZ(5,"th",50),f._uU(6),f.qZA(),f.TgZ(7,"th",50),f._uU(8),f.qZA(),f.TgZ(9,"th",51),f._uU(10),f.qZA(),f.TgZ(11,"th",51),f._uU(12),f.qZA(),f.TgZ(13,"th",52),f._uU(14),f.qZA(),f._UZ(15,"th",53),f.qZA(),f.qZA(),f.YNc(16,J,2,1,"tbody",47),f.YNc(17,V,4,1,"tbody",47),f.qZA(),f.YNc(18,j,5,1,"div",54),f.qZA(),f.BQk()),2&e){var i=f.oxw(2);f.xp6(2),f.Q6J("dtOptions",i.dtOptions),f.xp6(4),f.Oqu(i.language.Name),f.xp6(2),f.Oqu(i.language.description),f.xp6(2),f.Oqu(i.language.Digit_shortimer),f.xp6(2),f.Oqu(i.language.Digit_longimer),f.xp6(2),f.Oqu(i.language.Rules),f.xp6(2),f.Q6J("ngIf",(null==i.dialPadList?null:i.dialPadList.length)>0),f.xp6(1),f.Q6J("ngIf",0===(null==i.dialPadList?null:i.dialPadList.length)),f.xp6(1),f.Q6J("ngIf",i.loader)}}function Q(e,t){if(1&e&&(f.TgZ(0,"div",45,46),f.YNc(2,R,19,9,"ng-container",47),f.qZA()),2&e){var i=f.oxw();f.xp6(2),f.Q6J("ngIf",i.language)}}function F(e,t){if(1&e){var i=f.EpF();f.TgZ(0,"div",67),f.TgZ(1,"h4",68),f._uU(2),f.qZA(),f.TgZ(3,"button",69),f.NdJ("click",function(){return f.CHM(i).$implicit.dismiss(!1)}),f._UZ(4,"span",70),f.qZA(),f.qZA(),f.TgZ(5,"div",33),f._uU(6),f.TgZ(7,"strong",71),f._uU(8),f.qZA(),f._uU(9," ? "),f.qZA(),f.TgZ(10,"div",72),f.TgZ(11,"button",73),f.NdJ("click",function(){return f.CHM(i).$implicit.dismiss(!1)}),f._uU(12),f.qZA(),f.TgZ(13,"button",74),f.NdJ("click",function(){return f.CHM(i).$implicit.close(!0)}),f._uU(14),f.qZA(),f.qZA()}if(2&e){var n=f.oxw();f.xp6(2),f.hij("",n.language.Delete_DialPlan,"!"),f.xp6(4),f.hij(" ",n.language.Dial_Plan_Confirmation2," "),f.xp6(2),f.Oqu(null==n.dialPlanObj?null:n.dialPlanObj.name),f.xp6(4),f.Oqu(n.language.Close),f.xp6(2),f.Oqu(n.language.Delete)}}var Y=function(){return["/support/netops-management/configuration/dial-plan","/cco/operations/cco-system-operations/sub-profile","/cco/operations/cco-subscriber-operations/configurations/dial-plan","/cco-foundation/foundation-operations/foundation-system-operation/sub-profile","/cco-foundation/foundation-configuration/configuration-prerequisites/dial-plan","/cco/services/service-profiles/dial-plan"]},L=function(){var t=function(){function t(i,n,r,a,o,l,c,g){e(this,t),this.translateService=i,this.titleService=n,this.httpService=r,this.authService=a,this.router=o,this.activatedRoute=l,this.modalService=c,this.httpDialPlan=g,this.dtOptions={},this.loader=!1,this.showDialog=!0,this.unSubscribeParam$=new s.xQ,this.dialPadUrl="".concat(u.N.SUPPORT_URL,"/netops-dp/dial-plan"),this.dialPadCountUrl="".concat(u.N.SUPPORT_URL,"/netops-dp/dial-plan/count"),this.dialPlanName="",this.hasWriteAccess=!1,this.allowDialPlan=!0,this.hasScopeAccess=!1,this.editMode=!1,this.loader=!0}return i(t,[{key:"setTitle",value:function(e){this.router.url.includes("cco-foundation")?this.titleService.setTitle("".concat(this.language["Dial Plans"],"  - ").concat(this.language["Workflow Prerequisites"]," - ").concat(this.language.configuration," - ").concat(this.language.Deployment," - ").concat(this.language["Calix Cloud"])):this.router.url.includes("/cco/services/service-profiles/dial-plan")?this.titleService.setTitle("".concat(this.language["RG Dial Plans"]," - ").concat(this.language["Services Profiles"]," - ").concat(this.language.Services," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"])):this.router.url.includes("/support/netops-management")&&this.titleService.setTitle("".concat(this.language["Dial Plans"]," - ").concat(this.language.Configurations," - ").concat(this.language.NetOps," - ").concat(this.language.Service," - ").concat(this.language["Calix Cloud"]))}},{key:"ngOnInit",value:function(){var e,t,i=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){i.language=e,i.setTitle(i.router.url)}),this.setTitle(this.router.url);var n=this.authService.getEntitlements();this.router.url.includes("cco/services")&&n[210]&&!n[102]&&(this.allowDialPlan=!1);var r=this.authService.getScopes();this.router.url.includes("cco-foundation")||this.router.url.includes("cco/services/service-profiles/dial-plan")?this.router.url.includes("cco/services/service-profiles/dial-plan")?u.N.VALIDATE_SCOPE?((null===(e=r["cloud.rbac.coc.services.serviceprofiles.rgdialplans"])||void 0===e?void 0:e.length)&&(this.hasScopeAccess=!0),r&&(null===(t=r["cloud.rbac.coc.services.serviceprofiles.rgdialplans"])||void 0===t?void 0:t.includes("write"))&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):u.N.VALIDATE_SCOPE?(r["cloud.rbac.foundation.configurations"]=r["cloud.rbac.foundation.configurations"]?r["cloud.rbac.foundation.configurations"]:[],r["cloud.rbac.foundation.configurations"].length&&(this.hasScopeAccess=!0),r&&r["cloud.rbac.foundation.configurations"].includes("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):u.N.VALIDATE_SCOPE?(r["cloud.rbac.csc.netops.config.dial_plan"]=r["cloud.rbac.csc.netops.config.dial_plan"]?r["cloud.rbac.csc.netops.config.dial_plan"]:[],r["cloud.rbac.csc.netops.config.dial_plan"].length&&(this.hasScopeAccess=!0),r&&r["cloud.rbac.csc.netops.config.dial_plan"]&&-1!==r["cloud.rbac.csc.netops.config.dial_plan"].indexOf("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0),this.hasScopeAccess?(this.validateScopeStage="".concat(u.N.API_BASE).indexOf("/dev.api.calix.ai")>-1,this.dialPlanObj||this.loadDialPadList()):this.authService.setPageAccess(!1)}},{key:"ngAfterViewInit",value:function(){var e=this;this.routerState$=this.activatedRoute.paramMap.pipe((0,c.R)(this.unSubscribeParam$),(0,g.U)(function(){return window.history.state})),this.routerState$.subscribe(function(t){t&&null!=t.dialPlanObj&&(e.dialPlanObj=t.dialPlanObj,e.triggerSaveOrEdit())})}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe(),this.unSubscribeParam$.next(),this.unSubscribeParam$.complete()}},{key:"triggerSaveOrEdit",value:function(){var e=this;this.dialPlanObj&&!this.dialPlanObj.hasOwnProperty("_id")?this.httpService.post(this.dialPadUrl,this.dialPlanObj,this.constructParam(null)).subscribe(function(t){t&&(e.loadDialPadList(),e.reDrawTable())},function(t){e.showErrorAlert(e.httpService.handleError(t))}):this.dialPlanObj&&this.dialPlanObj.hasOwnProperty("_id")&&this.httpService.put(this.dialPadUrl+"/".concat(this.dialPlanObj._id),this.dialPlanObj,this.constructParam(null)).subscribe(function(){e.loadDialPadList(),e.reDrawTable()},function(t){e.showErrorAlert(e.httpService.handleError(t))})}},{key:"showSuccessAlert",value:function(e){var t=this;d(".alert.alert-success").show(),this.successMsg=e,setTimeout(function(){t.closeAlert()},2e3)}},{key:"showErrorAlert",value:function(e){var t=this;d(".alert.alert-error").show(),this.errorMsg=e,setTimeout(function(){t.closeAlert()},2e3)}},{key:"showDeleteAlert",value:function(e){d(".alert.alert-error").show(),d(".alert.alert-error").addClass("alert-danger"),this.errorMsg=e}},{key:"closeAlert",value:function(){d(".alert").hide()}},{key:"loadDialPadList",value:function(){var e=this;this.dtOptions={paging:!1,dom:"t",searching:!1,lengthChange:!1,destroy:!0,ordering:!1,serverSide:!0,processing:!1,columns:[{data:"name"},{data:"description"},{data:"shortTimer"},{data:"longTimer"},{data:"rules"},{data:null}],ajax:function(t,i){var n=e.httpService.get(e.dialPadUrl,e.constructParam(t)),r=e.httpService.get(e.dialPadCountUrl,e.constructParam(null));(0,l.D)([n,r]).subscribe(function(t){e.dialPadList=t[0],e.dialPadCount=t[1].count,e.loader=!1,i({recordsTotal:e.dialPadCount,recordsFiltered:e.dialPadCount,data:[]})},function(t){e.loader=!1,e.showErrorAlert(e.httpService.handleError(t))})}}}},{key:"constructParam",value:function(e){return this.httpParams=new o.LE,this.authService.getOrg(this.orgId)&&this.httpParams.set("orgId",this.orgId),null!==e&&(this.httpParams=this.httpParams.set("limit","0"),this.httpParams=this.httpParams.set("skip","0")),this.httpParams}},{key:"goToEdit",value:function(e){"system-default"!==(null==e?void 0:e.name)&&(this.editDialPlanObj=e,this.editMode=!0,this.openDialogBtn.nativeElement.click(),this.showDialog=!0)}},{key:"deleteDialPlan",value:function(e){this.dialPlanObj=e,this.dialPlanName=null==e?void 0:e.name,d("html, body").animate({scrollTop:0},"slow")}},{key:"reDrawTable",value:function(){this.dtElement.dtInstance.then(function(e){e.draw()})}},{key:"cancelDelete",value:function(){this.dialPlanName=""}},{key:"confirmDeleteDialPlan",value:function(e){this.dialPlanName=e}},{key:"doDeleteDialPlan",value:function(){var e=this;this.httpDialPlan.delete(this.dialPadUrl+"/".concat(this.dialPlanObj._id)).subscribe(function(t){e.dialPlanName="",e.dialPlanObj=null,e.showSuccessAlert(e.language["Dial Plan Deleted successfully"]),e.reDrawTable()},function(t){e.showDeleteAlert(e.httpService.handleError(t.error)),e.dialPlanName="",e.dialPlanObj=null})}},{key:"newDialPlan",value:function(){}},{key:"onModalClose",value:function(e){"submit"==e&&(this.reDrawTable(),this.showDialog=!1,this.editMode=!1),this.closeBtn.nativeElement.click(),this.showDialog=!1,this.editMode=!1}},{key:"closeModal",value:function(){this.modalRef&&(this.modalRef.close(),this.editMode=!1,this.showDialog=!1),this.editMode=!1,this.showDialog=!1,this.editDialPlanObj=void 0}},{key:"openDialog",value:function(){this.showDialog=!0,this.editMode||(this.editDialPlanObj=void 0)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Y36(p.s),f.Y36(m.Dx),f.Y36(v.s),f.Y36(b.t6),f.Y36(w.F0),f.Y36(w.gz),f.Y36(Z.FF),f.Y36(x))},t.\u0275cmp=f.Xpm({type:t,selectors:[["app-dial-plan"]],viewQuery:function(e,t){var i;(1&e&&(f.Gf(A,5),f.Gf(h.G,5),f.Gf(q,5),f.Gf(O,5)),2&e)&&(f.iGM(i=f.CRH())&&(t.deleteModalRef=i.first),f.iGM(i=f.CRH())&&(t.dtElement=i.first),f.iGM(i=f.CRH())&&(t.closeBtn=i.first),f.iGM(i=f.CRH())&&(t.openDialogBtn=i.first))},decls:11,vars:8,consts:[[1,"position-relative"],["role","alert","class","alert alert-warning",4,"ngIf"],["class","alert alert-success alert-dismissible",4,"ngIf"],["class","alert alert-error alert-dismissible py-0",4,"ngIf"],["class","row no-gutters",4,"ngIf"],["class","d-flex flex-row justify-content-start align-items-center my-3",4,"ngIf"],["class"," warning-msg",4,"ngIf"],["id","dial-plan","class","tab-pane",4,"ngIf"],["dialPlanDeleteModalRef",""],["role","alert",1,"alert","alert-warning"],[1,"alert","alert-success","alert-dismissible"],[1,"success-img"],["src","../../../../../assets/img/success-icon.svg"],["type","button","id","success-msg",1,"close",3,"click"],[1,"d-inline-flex"],[1,"alert","alert-error","alert-dismissible","py-0"],[1,"warning-msg","pt-2","pb-1","m-0"],[1,"error-img"],["src","./assets/img/ic_warning-36px.svg"],[1,"msg-details"],[2,"font-weight","bold"],[3,"innerHtml"],["type","button","id","err-msg",1,"btn-default","px-3","ok-btn","float-right",3,"click"],[1,"row","no-gutters"],[1,"d-block","my-3","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],[1,"d-flex","flex-row","justify-content-start","align-items-center","my-3"],["id","New_Dial_Plan","type","button","class","btn-default primary px-3","data-toggle","modal","data-target",".bd-example-modal-lg",3,"click",4,"ngIf"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true","data-backdrop","static","data-keyboard","false",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","dial-plan-info"],["src","assets/img/close-icon.svg","data-dismiss","modal","alt","",1,"pointer",3,"click"],[1,"modal-body"],["hidden","","data-dismiss","modal",1,"fa","fa-close"],["closeBtn",""],[3,"editModalInput","Id","onClose",4,"ngIf"],["id","New_Dial_Plan","type","button","data-toggle","modal","data-target",".bd-example-modal-lg",1,"btn-default","primary","px-3",3,"click"],["openDialogBtn",""],[3,"editModalInput","Id","onClose"],[1,"warning-msg"],["src","./assets/img/warning-icon.svg"],[1,"btn-con-sec","float-right"],["id","deletePFBtn",1,"btn-default","btn-primary","mr-2",3,"click"],["id","cancel-btn",1,"btn-default","btn-dft","py-1",3,"click"],["id","dial-plan",1,"tab-pane"],["scrollTopId",""],[4,"ngIf"],[1,"pb-2"],["width","100%","id","dail-plan-table","datatable","",1,"row-border","hover","table-alter","dail-plan-table",3,"dtOptions"],[2,"width","20%"],[2,"width","10%"],[2,"width","35%"],[2,"width","5%"],["class","loader","style","height: 100%;",4,"ngIf"],["style","cursor: pointer;",3,"id","click",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"id","click"],[1,"text-break","overflow-max-h"],["style","width: 5%",4,"ngIf"],["href","javascript:void(0)",3,"title","click",4,"ngIf"],["href","javascript:void(0)",3,"title","click"],["aria-hidden","true",1,"fa","fa-trash-o"],["colspan","5",1,"no-data-available"],[1,"loader",2,"height","100%"],[1,"d-flex","justify-content-center","align-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"modal-header",2,"color","#cc5814"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true","id","delete-dail"],[2,"font-size","18px"],[1,"modal-footer"],["type","button","id","close",1,"btn","btn-secondary",3,"click"],["type","button","ngbAutofocus","","id","delete",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(f.TgZ(0,"div",0),f.YNc(1,S,2,1,"div",1),f.YNc(2,y,9,3,"div",2),f.YNc(3,C,11,3,"div",3),f.YNc(4,I,3,1,"div",4),f.YNc(5,k,14,3,"div",5),f.YNc(6,N,10,3,"div",6),f.YNc(7,Q,3,1,"div",7),f.qZA(),f.YNc(8,F,15,5,"ng-template",null,8,f.W1O),f._UZ(10,"router-outlet")),2&e&&(f.xp6(1),f.Q6J("ngIf",!t.hasScopeAccess),f.xp6(1),f.Q6J("ngIf",t.hasScopeAccess),f.xp6(1),f.Q6J("ngIf",t.hasScopeAccess),f.xp6(1),f.Q6J("ngIf",t.hasScopeAccess),f.xp6(1),f.Q6J("ngIf",!t.loader&&t.hasScopeAccess),f.xp6(1),f.Q6J("ngIf",t.dialPlanName&&t.hasScopeAccess),f.xp6(1),f.Q6J("ngIf",f.DdM(7,Y).indexOf(null==t.router?null:t.router.url)>-1&&t.hasScopeAccess))},directives:[_.O5,w.lC,T.t,h.G,_.sg],pipes:[_.rS],styles:[".overflow-ellipsis[_ngcontent-%COMP%]{max-width:120px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]     table.dataTable td.dataTables_empty{display:none}.no-data-available[_ngcontent-%COMP%]{text-align:center}.alert.alert-success[_ngcontent-%COMP%]{display:none}.alert.alert-error[_ngcontent-%COMP%]{display:none}.dail-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:15px;font-weight:400;color:#4c4c4c;padding:0 10px 0 0;border-top:0!important;border-bottom:1px solid transparent;line-height:38px;word-break:break-all}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:26px;max-width:35%!important}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:40px 32px!important}.alert[_ngcontent-%COMP%]   .ok-btn[_ngcontent-%COMP%]{padding:5px;min-width:auto}.alert-danger[_ngcontent-%COMP%]   .ok-btn[_ngcontent-%COMP%]{background:#721c24}.alert-success[_ngcontent-%COMP%]   .ok-btn[_ngcontent-%COMP%]{background:#155724}.dial-plan-info[_ngcontent-%COMP%]{font-size:42px;font-style:normal;font-weight:300;line-height:53px;letter-spacing:0em;text-align:left;margin-top:-20px!important}.overflow-max-h[_ngcontent-%COMP%]{max-height:290px;overflow:auto}"]}),t}()},13909:function(t,n,r){r.d(n,{v:function(){return ie}});var a=r(47986),o=r(91841),s=r(75333),l=r(23771),u=r(92340),c=r(37716),g=r(7450),d=r(38048),h=r(68745),f=r(12664),p=r(49342),m=r(39895),v=r(39075),b=r(38583),w=r(3679),Z=["deleteSoftareImageModal"];function x(e,t){if(1&e&&(c.TgZ(0,"div",7),c._uU(1),c.qZA()),2&e){var i=c.oxw();c.xp6(1),c.hij(" ",i.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function _(e,t){if(1&e&&(c.TgZ(0,"div",8),c.TgZ(1,"div",9),c._uU(2),c.qZA(),c.qZA()),2&e){var i=c.oxw();c.xp6(2),c.hij("",i.language.Software_Images," ")}}function T(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"button",15),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).gotoAdd()}),c._uU(1),c.qZA()}if(2&e){var n=c.oxw(2);c.xp6(1),c.hij(" ",n.language.Add_SW_Image," ")}}function A(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"button",16),c.NdJ("click",function(){c.CHM(i);var e=c.oxw(2),t=c.MAs(8);return e.openOutdatedImageAlert(t)}),c._uU(1),c.qZA()}if(2&e){var n=c.oxw(2);c.xp6(1),c.hij(" ",n.language["Outdated Image Alert"]," ")}}function q(e,t){if(1&e&&(c.TgZ(0,"div",10),c.TgZ(1,"div",11),c.TgZ(2,"div",12),c.YNc(3,T,2,1,"button",13),c.YNc(4,A,2,1,"button",14),c.qZA(),c.qZA(),c.qZA()),2&e){var i=c.oxw();c.xp6(3),c.Q6J("ngIf",i.hasWriteAccess),c.xp6(1),c.Q6J("ngIf",i.showOutageAlert)}}function O(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",27),c.TgZ(1,"span",28),c._UZ(2,"img",29),c.qZA(),c.TgZ(3,"button",30),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).hideError()}),c._UZ(4,"span"),c.qZA(),c._UZ(5,"div",31),c.qZA()}if(2&e){var n=c.oxw(2);c.xp6(5),c.Q6J("innerHtml",n.errorMsg,c.oJD)}}function S(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",32),c.TgZ(1,"span",33),c._UZ(2,"img",34),c.qZA(),c.TgZ(3,"button",35),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).hideSuccess()}),c._UZ(4,"span"),c.qZA(),c._UZ(5,"div",31),c.qZA()}if(2&e){var n=c.oxw(2);c.xp6(5),c.Q6J("innerHtml",n.language[n.successMsg]||n.successMsg,c.oJD)}}function y(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",36),c.TgZ(1,"div",37),c.TgZ(2,"span",38),c._UZ(3,"img",39),c.qZA(),c.TgZ(4,"span",40),c._uU(5),c.qZA(),c.qZA(),c.TgZ(6,"div",41),c.TgZ(7,"button",42),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).deleteSoftwareFile()}),c._uU(8),c.qZA(),c.TgZ(9,"button",43),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).closeModal()}),c._uU(10),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw(2);c.xp6(5),c.AsE("",n.language["Are you sure you want to delete"]," ",n.modalInfo,""),c.xp6(3),c.hij(" ",n.language.Confirm," "),c.xp6(2),c.hij(" ",n.language.Cancel," ")}}function C(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",44),c.TgZ(1,"span",28),c._UZ(2,"img",45),c.qZA(),c.TgZ(3,"span"),c._uU(4),c.qZA(),c._uU(5),c.TgZ(6,"div",41),c.TgZ(7,"button",46),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).swOfficialConfirmation()}),c._uU(8),c.qZA(),c.TgZ(9,"button",47),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).closeswOfficialConfirmation()}),c._uU(10),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw(2);c.xp6(4),c.hij(" ",n.language.Confirmation,", "),c.xp6(1),c.hij(" ",n.swConfrmMsg," "),c.xp6(3),c.hij(" ",n.language.Confirm," "),c.xp6(2),c.hij(" ",n.language.Cancel," ")}}function I(e,t){if(1&e&&(c.TgZ(0,"div",48),c.TgZ(1,"div",49),c.TgZ(2,"div",50),c.TgZ(3,"span",51),c._uU(4),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var i=c.oxw(2);c.xp6(4),c.Oqu(i.language.Loading)}}function P(e,t){if(1&e&&(c.TgZ(0,"th",57),c._uU(1),c.qZA()),2&e){var i=c.oxw(3);c.xp6(1),c.Oqu(i.language["Official Status"])}}function M(e,t){if(1&e&&(c.TgZ(0,"th"),c._uU(1),c.qZA()),2&e){var i=c.oxw(3);c.xp6(1),c.Oqu(i.language.Supported)}}function k(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",64),c.TgZ(1,"label",65),c.TgZ(2,"input",66),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw(2).$implicit.isOfficialImage=e})("change",function(){c.CHM(i);var e=c.oxw(2).$implicit;return c.oxw(3).onSoftwareChange(e)}),c.qZA(),c.TgZ(3,"span"),c._UZ(4,"small"),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw(2).$implicit,r=c.oxw(3);c.xp6(1),c.Q6J("for",n.name),c.xp6(1),c.Q6J("checked",n.isOfficialImage)("ngModel",n.isOfficialImage)("id",n.name)("disabled",r.softwareImageOfficial)}}function N(e,t){if(1&e&&(c.TgZ(0,"td"),c.YNc(1,k,5,5,"div",63),c.qZA()),2&e){var i=c.oxw().$implicit,n=c.oxw(3);c.xp6(1),c.Q6J("ngIf",!n.router.url.includes("cco-foundation")||i.isOfficialImageEligible)}}function D(e,t){if(1&e&&(c.TgZ(0,"div"),c._uU(1),c.qZA()),2&e){var i=t.$implicit;c.xp6(1),c.hij(" ",i," ")}}function E(e,t){if(1&e&&(c.TgZ(0,"td"),c.YNc(1,D,2,1,"div",67),c.qZA()),2&e){var i=c.oxw().$implicit;c.xp6(1),c.Q6J("ngForOf",i.models)}}function U(e,t){if(1&e&&(c.TgZ(0,"div"),c._uU(1),c.qZA()),2&e){var i=t.$implicit;c.xp6(1),c.hij(" ",i," ")}}function J(e,t){if(1&e&&(c.TgZ(0,"td"),c.YNc(1,U,2,1,"div",67),c.qZA()),2&e){var i=c.oxw().$implicit;c.xp6(1),c.Q6J("ngForOf",i.models)}}function V(e,t){if(1&e&&(c.TgZ(0,"td",68),c.TgZ(1,"span",69),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.qZA(),c.qZA()),2&e){var i=c.oxw().$implicit;c.xp6(1),c.Q6J("ngClass",null!=i&&i.supported?"icon-checked":"icon-close"),c.xp6(2),c.Oqu(null==i?null:i.supported)}}function j(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"td",37),c.TgZ(1,"span",70),c.NdJ("click",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw(3).deleteSoftwareFileConfirm(e)}),c.qZA(),c.qZA()}if(2&e){var n=c.oxw(4);c.xp6(1),c.s9C("title",n.language.delete)}}function R(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"td",37),c.TgZ(1,"span",70),c.NdJ("click",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw(3).deleteSoftwareFileConfirm(e)}),c.qZA(),c.qZA()}if(2&e){var n=c.oxw(4);c.xp6(1),c.s9C("title",n.language.delete)}}function Q(e,t){1&e&&c._UZ(0,"td")}function F(e,t){if(1&e&&(c.TgZ(0,"tr",58),c.YNc(1,N,2,1,"td",55),c.TgZ(2,"td"),c.TgZ(3,"div",59),c._uU(4),c.qZA(),c.qZA(),c.YNc(5,E,2,1,"td",55),c.YNc(6,J,2,1,"td",55),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.TgZ(11,"td",54),c._uU(12),c.ALo(13,"number"),c.qZA(),c.YNc(14,V,4,2,"td",60),c.YNc(15,j,2,1,"td",61),c.YNc(16,R,2,1,"td",61),c.YNc(17,Q,1,0,"ng-template",null,62,c.W1O),c.qZA()),2&e){var i=t.$implicit,n=c.MAs(18),r=c.oxw(3);c.s9C("id",i._id),c.xp6(1),c.Q6J("ngIf",r.isFoundation&&r.hasWriteAccess),c.xp6(3),c.Oqu(i.name),c.xp6(1),c.Q6J("ngIf",null==i?null:i.officialImageModels),c.xp6(1),c.Q6J("ngIf",!(null!=i&&i.officialImageModels)),c.xp6(2),c.Oqu("Calix Uploaded Release Image"==(null==i?null:i.description)?r.language["Calix Uploaded Release Image"]:i.description),c.xp6(2),c.Oqu(i.version),c.xp6(2),c.AsE("",c.xi3(13,14,i.size/1024/1024,"1.2-2")," ",0==i.size?"":"MB"," "),c.xp6(2),c.Q6J("ngIf",r.isFoundation),c.xp6(1),c.Q6J("ngIf",r.hasWriteAccess&&!r.isFoundation&&0!=i.orgId)("ngIfElse",n),c.xp6(1),c.Q6J("ngIf",r.hasWriteAccess&&r.isFoundation&&0!=i.orgId)("ngIfElse",n)}}function Y(e,t){if(1&e&&(c.TgZ(0,"tbody"),c.TgZ(1,"tr"),c.TgZ(2,"td",71),c._uU(3),c.qZA(),c.qZA(),c.qZA()),2&e){var i=c.oxw(3);c.xp6(3),c.hij(" ",i.language["No data available in table"]," ")}}function L(e,t){if(1&e&&(c.TgZ(0,"table",52),c.TgZ(1,"thead"),c.TgZ(2,"tr"),c.YNc(3,P,2,1,"th",53),c.TgZ(4,"th"),c._uU(5),c.qZA(),c.TgZ(6,"th"),c._uU(7),c.qZA(),c.TgZ(8,"th"),c._uU(9),c.qZA(),c.TgZ(10,"th"),c._uU(11),c.qZA(),c.TgZ(12,"th",54),c._uU(13),c.qZA(),c.YNc(14,M,2,1,"th",55),c._UZ(15,"th"),c._UZ(16,"th"),c.qZA(),c.qZA(),c.TgZ(17,"tbody"),c.YNc(18,F,19,17,"tr",56),c.qZA(),c.YNc(19,Y,4,1,"tbody",55),c.qZA()),2&e){var i=c.oxw(2);c.Q6J("dtOptions",i.tableOptions),c.xp6(3),c.Q6J("ngIf",i.isFoundation&&i.hasWriteAccess),c.xp6(2),c.Oqu(i.language.Name),c.xp6(2),c.Oqu(i.language.model),c.xp6(2),c.Oqu(i.language.description),c.xp6(2),c.Oqu(i.language.Version),c.xp6(2),c.Oqu(i.language.Size),c.xp6(1),c.Q6J("ngIf",i.isFoundation),c.xp6(4),c.Q6J("ngForOf",i.softwareImageObj),c.xp6(1),c.Q6J("ngIf",0==(null==i.softwareImageObj?null:i.softwareImageObj.length))}}function W(e,t){if(1&e&&(c.TgZ(0,"div",17),c.TgZ(1,"div",18),c.YNc(2,O,6,1,"div",19),c.YNc(3,S,6,1,"div",20),c.YNc(4,y,11,4,"div",21),c.YNc(5,C,11,4,"div",22),c.TgZ(6,"div",23),c.YNc(7,I,5,1,"div",24),c.TgZ(8,"div",25),c.YNc(9,L,20,10,"table",26),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var i=c.oxw();c.xp6(2),c.Q6J("ngIf",i.showError),c.xp6(1),c.Q6J("ngIf",i.showSuccess),c.xp6(1),c.Q6J("ngIf",null==i.deleteData?null:i.deleteData._id),c.xp6(1),c.Q6J("ngIf",i.softwareImageOfficial),c.xp6(2),c.Q6J("ngIf",i.loading),c.xp6(2),c.Q6J("ngIf",i.datatableVisible)}}function H(e,t){if(1&e&&(c.TgZ(0,"li"),c._uU(1),c.qZA()),2&e){var i=t.$implicit;c.xp6(1),c.hij("",i.name," ")}}function B(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",72),c.TgZ(1,"div",73),c.TgZ(2,"button",74),c.NdJ("click",function(){return c.CHM(i).$implicit.dismiss("Cross click")}),c._UZ(3,"span"),c.qZA(),c.TgZ(4,"div",75),c.TgZ(5,"div",76),c._UZ(6,"img",77),c.qZA(),c.TgZ(7,"div",78),c.TgZ(8,"h3"),c._uU(9),c.qZA(),c.TgZ(10,"p"),c._uU(11),c.qZA(),c.TgZ(12,"ul"),c.YNc(13,H,2,1,"li",67),c.qZA(),c.TgZ(14,"div",23),c.TgZ(15,"button",79),c._uU(16),c.qZA(),c.TgZ(17,"button",80),c.NdJ("click",function(){return c.CHM(i).$implicit.dismiss("Cross click")}),c._uU(18),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(9),c.Oqu(n.language["Delete Software Image(s)"]),c.xp6(2),c.hij(" ",n.language["Are you sure you want to delete the following software image(s):"]," "),c.xp6(2),c.Q6J("ngForOf",n.deleteZipcodeZipPlusfour),c.xp6(3),c.hij(" ",n.language["Delete Software Image(s)"]," "),c.xp6(2),c.hij(" ",n.language.Cancel," ")}}function G(e,t){if(1&e&&(c.TgZ(0,"div",95),c.TgZ(1,"div",96),c.TgZ(2,"div",50),c.TgZ(3,"span",51),c._uU(4),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var i=c.oxw(2);c.xp6(4),c.Oqu(i.language.Loading)}}function z(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",97),c.TgZ(1,"span",28),c._UZ(2,"img",45),c.qZA(),c._UZ(3,"span",98),c.TgZ(4,"button",99),c.NdJ("click",function(){c.CHM(i);var e=c.oxw(2);return e.warning=!e.warning}),c._UZ(5,"span"),c.qZA(),c.qZA()}if(2&e){var n=c.oxw(2);c.xp6(3),c.Q6J("innerHtml",n.warningInfo,c.oJD)}}function K(e,t){if(1&e&&(c.TgZ(0,"p",100),c._uU(1),c.qZA()),2&e){var i=c.oxw(2);c.xp6(1),c.hij(" ",i.language["Please enter a value"],"")}}function X(e,t){if(1&e&&(c.TgZ(0,"p",100),c._uU(1),c.qZA()),2&e){var i=c.oxw(2);c.xp6(1),c.hij(" ",i.language["Please enter a value"],"")}}function ee(e,t){if(1&e){var i=c.EpF();c.YNc(0,G,5,1,"div",81),c.TgZ(1,"div",82),c.TgZ(2,"h4",83),c._uU(3),c.qZA(),c.TgZ(4,"button",84),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeOutageModal()}),c._UZ(5,"span",85),c.qZA(),c.qZA(),c.YNc(6,z,6,1,"div",86),c.TgZ(7,"div",87),c.TgZ(8,"p"),c._uU(9),c.qZA(),c.TgZ(10,"div",88),c.TgZ(11,"label",89),c._uU(12),c.qZA(),c.TgZ(13,"input",90),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw().releaseValue=e}),c.qZA(),c.TgZ(14,"label",91),c._uU(15),c.qZA(),c.YNc(16,K,2,1,"p",92),c.qZA(),c.TgZ(17,"div"),c.TgZ(18,"label",89),c._uU(19),c.qZA(),c.TgZ(20,"input",90),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw().releaseValue1=e}),c.qZA(),c.TgZ(21,"label",91),c._uU(22),c.qZA(),c.YNc(23,X,2,1,"p",92),c.qZA(),c.qZA(),c.TgZ(24,"div",37),c.TgZ(25,"button",93),c.NdJ("click",function(){return c.CHM(i),c.oxw().saveAlert()}),c._uU(26),c.qZA(),c.TgZ(27,"button",94),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeOutageModal()}),c._uU(28),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.Q6J("ngIf",n.softwareLoading),c.xp6(3),c.Oqu(n.language["Outdated Image Alert"]),c.xp6(3),c.Q6J("ngIf",n.warning),c.xp6(3),c.Oqu(n.language.recommended_to_set_the_image),c.xp6(3),c.Oqu(n.language["Receive GigaSpire Alert After"]),c.xp6(1),c.Q6J("ngModel",n.releaseValue),c.xp6(2),c.Oqu(n.language.Releases),c.xp6(1),c.Q6J("ngIf",n.emptyReleaseValue),c.xp6(3),c.Oqu(n.language["Receive GigaCenter Alert After"]),c.xp6(1),c.Q6J("ngModel",n.releaseValue1),c.xp6(2),c.Oqu(n.language.Releases),c.xp6(1),c.Q6J("ngIf",n.emptyReleaseValue1),c.xp6(2),c.Q6J("disabled",!n.hasWriteAccess),c.xp6(1),c.Oqu(n.language["Save Alert Settings"]),c.xp6(2),c.Oqu(n.language.Cancel)}}var te,ie=((te=function(){function t(i,n,r,a,o,s,l,u,c){e(this,t),this.translateService=i,this.ssoAuthService=n,this.http=r,this.fileService=a,this.dialogService=o,this.commonOrgService=s,this.router=l,this.titleService=u,this.modalService=c,this.tableOptions={},this.datatableVisible=!1,this.showError=!1,this.showSuccess=!1,this.softwareImageObj=[],this.loading=!1,this.hasWriteAccess=!1,this.hasScopeAccess=!1,this.listIds=[],this.allChecked=!1,this.deleteSelectionButtonShow=!1,this.newArray=[],this.releaseValue=2,this.emptyReleaseValue=!1,this.releaseValue1=2,this.emptyReleaseValue1=!1,this.warning=!1,this.errorVersionPost=!1,this.showOutageAlert=!0;var g=this.router.url;this.isFoundation=g.indexOf("/cco-foundation")>-1||g.indexOf("/cco/operations/configuration")>-1,this.orgId=n.getOrgId(),this.getSwImagesListCout(),this.scopes=this.ssoAuthService.getScopes()}return i(t,[{key:"setTitle",value:function(e){this.router.url.includes("cco-foundation")||this.router.url.includes("/cco/operations/configuration")?this.router.url.includes("/cco/operations/configuration")?this.titleService.setTitle("".concat(this.language["Software Images"]," - ").concat(this.language.Configuration," - ").concat(this.language.Operations," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"])):this.titleService.setTitle("".concat(this.language["Software Images"]," - ").concat(this.language["Workflow Prerequisites"]," - ").concat(this.language.configuration,"  - ").concat(this.language.Deployment,"  - ").concat(this.language["Calix Cloud"])):this.titleService.setTitle("".concat(this.language["Software Images"]," - ").concat(this.language.Operations,"  - ").concat(this.language.NetOps,"  - ").concat(this.language.Service,"  - ").concat(this.language["Calix Cloud"]))}},{key:"ngOnInit",value:function(){var e,t,i=this;if(this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){i.language=e,i.redraw(),i.setTitle(i.router.url)}),this.setTitle(this.router.url),(this.router.url.includes("cco/operations/configuration/software")||this.router.url.includes("/cco-foundation/foundation-configuration/configuration-prerequisites/software-images-list"))&&(this.showOutageAlert=!1),this.router.url.includes("cco-foundation")||this.router.url.includes("cco/operations/configuration/software"))if(this.router.url.includes("cco/operations/configuration/software"))u.N.VALIDATE_SCOPE?((null===(e=this.scopes["cloud.rbac.coc.operations.configuration.softwareimages"])||void 0===e?void 0:e.length)&&(this.hasScopeAccess=!0),this.scopes&&(null===(t=this.scopes["cloud.rbac.coc.operations.configuration.softwareimages"])||void 0===t?void 0:t.includes("write"))&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0);else if(u.N.VALIDATE_SCOPE){var n=this.scopes;n["cloud.rbac.foundation.configurations"]=n["cloud.rbac.foundation.configurations"]?n["cloud.rbac.foundation.configurations"]:[],this.scopes["cloud.rbac.foundation.configurations"].length&&(this.hasScopeAccess=!0),n&&n["cloud.rbac.foundation.configurations"].includes("write")&&(this.hasWriteAccess=!0)}else this.hasWriteAccess=!0,this.hasScopeAccess=!0;else u.N.VALIDATE_SCOPE?(this.scopes["cloud.rbac.csc.netops.operations.sw_images"]=this.scopes["cloud.rbac.csc.netops.operations.sw_images"]?this.scopes["cloud.rbac.csc.netops.operations.sw_images"]:[],this.scopes["cloud.rbac.csc.netops.operations.sw_images"].length&&(this.hasScopeAccess=!0),this.scopes&&this.scopes["cloud.rbac.csc.netops.operations.sw_images"]&&-1!==this.scopes["cloud.rbac.csc.netops.operations.sw_images"].indexOf("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0);this.hasScopeAccess?this.fetchSoftwareImageList():this.ssoAuthService.setPageAccess(!1)}},{key:"pageErrorHandle",value:function(e){this.errorMsg=401==e.status?this.language["Access Denied"]:this.ssoAuthService.pageErrorHandle(e),503===e.status&&(this.errorMsg="Service Temporarily Unavailable"),this.showError=!0}},{key:"getSwImagesListCout",value:function(){var e=this;this.fileService.getSwFilesCount(this.orgId).subscribe(function(t){e.count=t.count,e.datatableVisible=!0},function(t){e.loading=!1,e.pageErrorHandle(t)})}},{key:"fetchSoftwareImageList",value:function(){var e=this;this.loading=!0;var t=this;this.tableOptions={pagingType:"full_numbers",pageLength:20,serverSide:!0,processing:!1,ordering:!0,columnDefs:[{targets:[0],orderable:!1},{targets:[-2],orderable:!1},{targets:[-1],orderable:!1}],dom:"tip",responsive:!0,order:[],columns:[{name:"name",orderable:!0},{name:"model",orderable:!0},{name:"description",orderable:!0},{name:"version",orderable:!0},{name:"size",orderable:!0}],ajax:function(i,n){var r,l={};if(i.order[0]){var u=i.order[0].dir,c=null===(r=i.columns[i.order[0].column])||void 0===r?void 0:r.name;c&&(l[c]="asc"==u?1:-1)}else l.name=1;var g={orgId:e.orgId,skip:i.start,limit:i.length,type:a.r.SW_FW_Image,orderby:l},d=(new o.LE).set("skip",i.start).set("limit",i.length).set("type",a.r.SW_FW_Image).set("orderby",JSON.stringify(g.orderby));e.ssoAuthService.getOrg(e.orgId)&&d.set("orgId",e.orgId),t.http.get(s.YE,{params:d}).subscribe(function(i){sessionStorage.setItem("swi",JSON.stringify(i)),t.softwareImageObj=i,t.zipCodeDetailLists=i,e.loading=!1,n({recordsTotal:e.count,recordsFiltered:e.count,data:[]})})},drawCallback:function(t){e.changeTableStatusLanguage(t);var i=t._iRecordsDisplay,n=t._iDisplayLength;e.Table=$("#software-images-table").DataTable(),e.info=e.Table.page.info(),e.newArray=e.Table.context[0].aiDisplay,e.table(t),i<=n&&$(t.nTableWrapper).find("#users-table_last").addClass("disabled")}},this.isFoundation?(this.tableOptions.columns.push({name:"supported",orderable:!0}),this.tableOptions.order[0]=[0,"asc"],this.hasWriteAccess&&(this.tableOptions.columns.unshift({name:"official status",orderable:!1}),this.tableOptions.order[0]=[1,"asc"])):this.tableOptions.order[0]=[0,"asc"]}},{key:"changeTableStatusLanguage",value:function(e){var t=new Intl.NumberFormat;this.tableCounts={searchText:e.oPreviousSearch.sSearch.replace(/\s+/g,""),total:e._iRecordsTotal,displayCount:e._iDisplayLength,displayed:e._iRecordsDisplay,start:e._iDisplayStart};var i="fr"==sessionStorage.getItem("defaultLanguage"),n="es"==sessionStorage.getItem("defaultLanguage"),r="de_DE"==sessionStorage.getItem("defaultLanguage"),a=e.oPreviousSearch.sSearch.replace(/\s+/g,"")?i?"(filtr\xe9es \xe0 partir des ".concat(t.format(e._iRecordsTotal)," entr\xe9es totales)"):n?"(filtrado de un total de ".concat(t.format(e._iRecordsTotal)," entradas)"):r?"(gefiltert aus ".concat(t.format(e._iRecordsTotal)," Eintr\xe4gen)"):"(filtered from ".concat(t.format(e._iRecordsTotal)," total entries)"):"",o=0==e._iRecordsDisplay?-1:e._iDisplayStart,s=e._iDisplayStart+e._iDisplayLength>e._iRecordsDisplay?e._iRecordsDisplay:e._iDisplayStart+e._iDisplayLength;$('div [role="status"]').text(i?"Affichage de ".concat(t.format(o+1)," \xe0 ").concat(t.format(s)," des ").concat(t.format(e._iRecordsDisplay)," entr\xe9es ").concat(a):n?"Se muestran del ".concat(t.format(o+1)," al ").concat(t.format(s)," de ").concat(t.format(e._iRecordsDisplay)," resultados ").concat(a):r?"Angezeigt ".concat(t.format(o+1)," bis ").concat(t.format(s)," von ").concat(t.format(e._iRecordsDisplay)," ergebnissen ").concat(a):"Showing ".concat(t.format(o+1)," to ").concat(t.format(s)," of ").concat(t.format(e._iRecordsDisplay)," entries ").concat(a)),$(".first").text(i?"Le d\xe9but":n?"Primero":r?"Erste Seite":"First"),$(".previous").text(i?"Pr\xe9c\xe9dent":n?"Anterior":r?"Letzte":"Previous"),$(".next").text(i?"Suivant":n?"Siguiente":r?"Weiter":"Next"),$(".last").text(i?"Derni\xe8re":n?"\xdaltimo":r?"Zur\xfcck":"Last")}},{key:"deleteSoftwareFileConfirm",value:function(e){this.loading=!1,this.errorMsg=null,this.showError=!1,this.deleteData=e,this.modalTitle="Delete Software Image",this.modalInfo="the software image ".concat(e.name,"?"),$("html, body").animate({scrollTop:0},"slow")}},{key:"deleteSoftwareFile",value:function(){var e=this;this.loading=!0,this.fileService.deleteSwFileById(this.deleteData._id).subscribe(function(t){e.loading=!1,e.showSuccess=!0,e.successMsg="Successfully Deleted!",e.getSwImagesListCout(),e.deleteData=new a.k,e.redraw()},function(t){e.loading=!1,e.deleteData=new a.k,e.errorMsg=t.error.error,e.showError=!0})}},{key:"redraw",value:function(){var e;null===(e=this.dtElement)||void 0===e||e.dtInstance.then(function(e){e.draw()})}},{key:"closeModal",value:function(){this.deleteData=new a.k,this.modalRef&&this.modalRef.close()}},{key:"hideError",value:function(){this.showError=!1,this.errorMsg=""}},{key:"hideSuccess",value:function(){this.showSuccess=!1,this.successMsg=""}},{key:"onSoftwareChange",value:function(e){var t=this;$("html, body").animate({scrollTop:0},"slow"),JSON.parse(sessionStorage.getItem("swi")).forEach(function(i){if(i._id==e._id)if(i.isOfficialImage)t.swConfrmMsg=t.language.Make_SW_UnOfficial;else{var n=[];JSON.parse(sessionStorage.getItem("swi")).forEach(function(t){t.isOfficialImage&&e.models.filter(function(e){return-1!==t.models.indexOf(e)?n.push(t.name):""})});var r=n.filter(function(e,t,i){return i.indexOf(e)===t});t.uniqueimagename=n.filter(function(e,t,i){return i.indexOf(e)===t}),t.uniqueimageoldname=null==e?void 0:e.name,t.swConfrmMsg=0==r.length?t.language.Make_SW_Official:t.language.SoftwareImagesWarrningMsg(t.uniqueimagename,t.uniqueimageoldname)}}),this.softwareImageOfficial=!0,this.officialImageId=e}},{key:"swOfficialConfirmation",value:function(){var e=this;this.softwareImageOfficial=!1,this.officialImageId.isOfficialImage?this.officalSubs=this.fileService.makeOfficialImage({imageId:this.officialImageId._id}).subscribe(function(t){e.officialImageId=new a.k,e.getSwImagesListCout(),e.redraw()},function(t){e.loading=!1,e.errorMsg=t.error.error,e.showError=!0}):this.unOfficalSubs=this.fileService.makeUnOfficialImge(this.orgId,this.officialImageId._id).subscribe(function(t){e.officialImageId=new a.k,e.getSwImagesListCout(),e.redraw()},function(t){e.loading=!1,e.errorMsg=t.error.error,e.showError=!0})}},{key:"closeswOfficialConfirmation",value:function(){this.softwareImageOfficial=!1,this.getSwImagesListCout(),this.redraw()}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe(),this.officalSubs&&this.officalSubs.unsubscribe(),this.unOfficalSubs&&this.unOfficalSubs.unsubscribe()}},{key:"opendeleteSIModal",value:function(e){this.dialogService.open(e,{centered:!0,windowClass:"alert-delete-warning-modal"})}},{key:"selectAll",value:function(e){var t=this;this.listIds=[],this.allChecked=e,this.deleteSelectionButtonShow=e,this.newArray.slice(this.info.start,this.info.end);for(var i=0;i<this.zipCodeDetailLists.length;i++)this.zipCodeDetailLists[i].checked=e;e?this.zipCodeDetailLists.map(function(e){e.checked&&t.listIds.push(e._id)}):this.listIds=[]}},{key:"table",value:function(e){this.allChecked=!1,this.listIds=[];for(var t=0;t<this.zipCodeDetailLists.length;t++)this.zipCodeDetailLists[t].checked=!1;this.deleteSelectionButtonShow=!1,this.deleteZipcodeZipPlusfour=[]}},{key:"selectedOne",value:function(e,t){var i=this;this.listIds=[];var n=this.info.end-this.info.start;this.zipCodeDetailLists[t].checked=e,this.zipCodeDetailLists.filter(function(e){1==e.checked&&i.listIds.push(e._id)}),this.allChecked=this.listIds.length==n,this.deleteSelectionButtonShow=this.listIds.length>0}},{key:"deleteEntryListZipcode",value:function(e){var t=this.listIds;this.dialogService.open(e,{centered:!0,windowClass:"alert-delete-warning-modal"}),this.deleteZipcodeZipPlusfour=this.zipCodeDetailLists.filter(function(e){return-1!==t.indexOf(e._id)})}},{key:"deleteEntryZipcodes",value:function(){this.deleteZipcodeZipPlusfour.map(function(e){return e.id}).join()}},{key:"gotoAdd",value:function(){var e;-1===(null===(e=window.location.href)||void 0===e?void 0:e.indexOf("/cco/operations/configuration/software/software-images-list"))?this.ssoAuthService.redirectByUrl(["/support/netops-management/software-images-form","/cco/software-image/software-images-form","/cco-foundation/foundation-configuration/software-images-list/software-images-form","/cco/operations/configuration/software/software-images-form"]):this.router.navigate(["/cco/operations/configuration/software/software-images-form"])}},{key:"openOutdatedImageAlert",value:function(e){var t=this;this.errorVersionPost=!1,this.modalService.open(e,{size:"lg",centered:!0,windowClass:"clx-default-modal",backdrop:"static",keyboard:!1}),this.emptyReleaseValue=!1,this.emptyReleaseValue1=!1,this.softwareLoading=!0,this.fileService.getSoftwareImageversion().subscribe(function(e){t.softwareVersion=e,t.releaseValue=t.softwareVersion.GSThreshold,t.releaseValue1=t.softwareVersion.GCThreshold,t.softwareLoading=!1},function(e){e.error.error&&(t.errorVersionPost=!0,t.releaseValue=2,t.releaseValue1=2),t.softwareLoading=!1})}},{key:"closeOutageModal",value:function(){this.warning=!1,this.dialogService.dismissAll()}},{key:"saveAlert",value:function(){""==this.releaseValue?(this.warning=!1,this.emptyReleaseValue=!0):""!=this.releaseValue&&(this.emptyReleaseValue=!1),""==this.releaseValue1?(this.warning=!1,this.emptyReleaseValue1=!0):""!=this.releaseValue1&&(this.emptyReleaseValue1=!1);var e=parseFloat(this.releaseValue),t=parseFloat(this.releaseValue1);if("number"==typeof e&&!Number.isNaN(e)&&!Number.isInteger(e))return this.warningInfo=this.language["Software Alert should not be in Decimal"],this.warning=!0;if("number"==typeof t&&!Number.isNaN(t)&&!Number.isInteger(t))return this.warningInfo=this.language["Software Alert should not be in Decimal"],this.warning=!0;if((""!=this.releaseValue&&Number.isNaN(e)||""!=this.releaseValue&&this.releaseValue<1||""!=this.releaseValue&&this.releaseValue>10)&&(this.warning=!0,this.warningInfo=this.language["Please enter alert value between 1 to 10"],this.emptyReleaseValue=!1),(""!=this.releaseValue1&&Number.isNaN(t)||""!=this.releaseValue1&&this.releaseValue1<1||""!=this.releaseValue1&&this.releaseValue1>10)&&(this.warning=!0,this.warningInfo=this.language["Please enter alert value between 1 to 10"],this.emptyReleaseValue1=!1),this.releaseValue>=1&&this.releaseValue<=10&&this.releaseValue1>=1&&this.releaseValue1<=10){var i={GSThreshold:"".concat(this.releaseValue),GCThreshold:"".concat(this.releaseValue1)};this.errorVersionPost?this.fileService.postSoftwareImageversion(i).subscribe(function(e){}):this.errorVersionPost||this.fileService.putSoftwareImageversion(i).subscribe(function(e){}),this.closeOutageModal()}}}]),t}()).\u0275fac=function(e){return new(e||te)(c.Y36(g.s),c.Y36(d.t6),c.Y36(o.eN),c.Y36(h.I),c.Y36(f.FF),c.Y36(p.v),c.Y36(m.F0),c.Y36(v.Dx),c.Y36(f.FF))},te.\u0275cmp=c.Xpm({type:te,selectors:[["app-software-images-list"]],viewQuery:function(e,t){var i;1&e&&(c.Gf(l.G,5),c.Gf(Z,7)),2&e&&(c.iGM(i=c.CRH())&&(t.dtElement=i.first),c.iGM(i=c.CRH())&&(t.deleteSoftareImageModal=i.first))},decls:9,vars:4,consts:[[1,"w-100","position-relative"],["role","alert","class","alert alert-warning",4,"ngIf"],["class","row no-gutters",4,"ngIf"],["class","row my-3",4,"ngIf"],["id","software-images-list","class","tab-pane",4,"ngIf"],["deleteSoftwareImages",""],["outdatedImageAlert",""],["role","alert",1,"alert","alert-warning"],[1,"row","no-gutters"],[1,"d-block","my-3","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],[1,"row","my-3"],[1,"col-md-6"],[1,"d-flex"],["id","add-software-images-btn","type","button","class","btn-default primary px-3",3,"click",4,"ngIf"],["id","","type","button","class","btn-default btn-dft px-3 ml-3",3,"click",4,"ngIf"],["id","add-software-images-btn","type","button",1,"btn-default","primary","px-3",3,"click"],["id","","type","button",1,"btn-default","btn-dft","px-3","ml-3",3,"click"],["id","software-images-list",1,"tab-pane"],[1,"pb-2"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],["class","w-100 alert alert alert-success fade show",4,"ngIf"],["class","py-3 warning-msg warning-msg-dis",4,"ngIf"],["class","py-3 warning-msg",4,"ngIf"],[1,"w-100"],["class","loader pt-5 align-items-start",4,"ngIf"],[1,"overflow-auto"],["id","software-images-table","datatable","","class"," row-border hover table-alter software-images-table",3,"dtOptions",4,"ngIf"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button","id","hide-error-btn",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert","alert-success","fade","show"],[1,"success-img"],["src","./assets/img/success-icon.svg"],["type","button","id","hide-success-btn",1,"close",3,"click"],[1,"py-3","warning-msg","warning-msg-dis"],[1,""],[1,"error-img","float-left"],["src","./assets/img/warning-icon.svg"],[1,"span-info-text"],[1,"btn-con-sec","float-right"],["id","deletePFBtn",1,"btn-default","btn-primary","px-3","mr-2",3,"click"],[1,"btn-default","btn-dft","py-1",3,"click"],[1,"py-3","warning-msg"],["src","./assets/img/ic_warning-36px.svg"],["type","button","ngbAutofocus","","id","confirm-btn",1,"btn-default","btn-primary","px-3","mr-2",3,"click"],["type","button","id","cancel-btn",1,"btn-default","btn-dft","py-1",3,"click"],[1,"loader","pt-5","align-items-start"],[1,"d-flex","align-items-start","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["id","software-images-table","datatable","",1,"row-border","hover","table-alter","software-images-table",3,"dtOptions"],["class","w-70px disable-th-alt",4,"ngIf"],[1,"col-size"],[4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"w-70px","disable-th-alt"],[3,"id"],[1,"long-text-break"],["class","text-center",4,"ngIf"],["class","",4,"ngIf","ngIfElse"],["elseBlock",""],["class","checkbox switcher w-70px",4,"ngIf"],[1,"checkbox","switcher","w-70px"],[3,"for"],["type","checkbox",1,"pointer",3,"checked","ngModel","id","disabled","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"mr-4",3,"ngClass"],[1,"fa","fa-trash-o","del-action-icon",3,"title","click"],["colspan","10",1,"no-data-available"],[1,"modal-body"],[1,"w-100","alert-box"],["aria-label","Close",1,"close",3,"click"],[1,"box-content"],[1,"icon"],["src","../../../../assets/img/ic_warning-36px.svg","alt","icon here"],[1,"content"],["type","button","id","removeDeleteSImageBtn",1,"btn-default","primary","mr-3"],["type","button","id","canceltDeleteSImageBtn","aria-label","Close",1,"btn-default","btn-dft",3,"click"],["class","loader",4,"ngIf"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","warning-msg position-relative",4,"ngIf"],[1,"modal-body","ccl-form","mb-4"],[1,"mb-3"],["for","",1,"col-5"],["type","text",1,"w-20","mx-2",3,"ngModel","ngModelChange"],["for",""],["class","m-0 error",4,"ngIf"],["type","button",1,"btn-default","primary","px-3","mr-3",3,"disabled","click"],["type","button",1,"btn-default","btn-dft","px-3",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"warning-msg","position-relative"],[3,"innerHtml"],[1,"close",3,"click"],[1,"m-0","error"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.YNc(1,x,2,1,"div",1),c.YNc(2,_,3,1,"div",2),c.YNc(3,q,5,2,"div",3),c.YNc(4,W,10,6,"div",4),c.qZA(),c.YNc(5,B,19,5,"ng-template",null,5,c.W1O),c.YNc(7,ee,29,15,"ng-template",null,6,c.W1O)),2&e&&(c.xp6(1),c.Q6J("ngIf",!t.hasScopeAccess),c.xp6(1),c.Q6J("ngIf",t.hasScopeAccess),c.xp6(1),c.Q6J("ngIf",t.hasScopeAccess),c.xp6(1),c.Q6J("ngIf",t.hasScopeAccess))},directives:[b.O5,l.G,b.sg,w.Wl,w.JJ,w.On,b.mk,w.Fj],pipes:[b.JJ],styles:[".sw-image[_ngcontent-%COMP%]{margin:10px 0}[_nghost-%COMP%]     .dataTables_empty{display:none}.no-data-available[_ngcontent-%COMP%]{text-align:center}.fa.fa-trash-o[_ngcontent-%COMP%]{font-size:14px}.no-break[_ngcontent-%COMP%]{white-space:nowrap;min-width:150px;display:flex;justify-content:flex-start}.software-images-table-info[_ngcontent-%COMP%]{overflow-x:scroll}.software-images-table[_ngcontent-%COMP%]{width:100%!important;overflow-x:auto!important}.del-action-icon[_ngcontent-%COMP%]{color:#0279ff;cursor:pointer}.del-action-icon[_ngcontent-%COMP%]:hover{color:#0054b2}.w-70px[_ngcontent-%COMP%]{width:70px!important}.warning-msg-dis[_ngcontent-%COMP%]{display:flow-root}.span-info-text[_ngcontent-%COMP%]{width:80%;float:left}.min-130px[_ngcontent-%COMP%]{min-width:130px}.icon-close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .icon-checked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20px;font-size:0}.icon-checked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{content:url(success-icon.4b28f44149a093cf0dfa.svg)}.icon-close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{content:url(ic_error_grey.48fa69db1aebd3a5abca.svg)}.th-after-none[_ngcontent-%COMP%]:after{display:none!important}  .alert-delete-warning-modal .modal-content{background:#fff9f5}  .alert-delete-warning-modal .modal-dialog{max-width:45.73%!important}.alert-box[_ngcontent-%COMP%]{position:relative;padding:30px 0 15px}.alert-box[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%]{right:0;top:0}.alert-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:24px;margin-bottom:35px}.alert-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-right:30px;padding-left:80px}.alert-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{min-width:75px;float:left;text-align:center}.alert-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px}.alert-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .alert-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#4c4c4c;margin-bottom:0;font-size:16px;line-height:20px}.alert-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;line-height:30px;color:#1a1f22}.disable-th-alt[_ngcontent-%COMP%]{pointer-events:none!important}.disable-th-alt[_ngcontent-%COMP%]:after{display:none!important}.overflow-auto[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(7){text-align:center}.long-text-break[_ngcontent-%COMP%]{word-break:break-all;min-width:250px;max-width:320px;padding-right:15px}.col-size[_ngcontent-%COMP%]{max-width:70px;min-width:70px}.w-20[_ngcontent-%COMP%]{width:20%!important}.close[_ngcontent-%COMP%]{top:15px!important;right:15px!important}"]}),te)},99178:function(t,n,r){r.d(n,{a:function(){return l}});var a,o=r(3679),s=r(37716),l=((a=function(){function t(){e(this,t)}return i(t,[{key:"validate",value:function(e){if(o.kI.required(e))return null;var t=e.value;return!isNaN(this.customNumMax)&&!isNaN(t)&&t>0&&+t>this.customNumMax?{customNumMax:!0}:null}}]),t}()).\u0275fac=function(e){return new(e||a)},a.\u0275dir=s.lG2({type:a,selectors:[["","customNumMax","","formControlName",""],["","customNumMax","","formControl",""],["","customNumMax","","ngModel",""]],inputs:{customNumMax:"customNumMax"},features:[s._Bn([{provide:o.Cf,useExisting:a,multi:!0}])]}),a)},28931:function(t,n,r){r.d(n,{D:function(){return l}});var a,o=r(3679),s=r(37716),l=((a=function(){function t(){e(this,t)}return i(t,[{key:"validate",value:function(e){if(o.kI.required(e))return null;var t=e.value;return!isNaN(this.customNumMin)&&!isNaN(+t)&&+t>=0&&+t<+this.customNumMin?{customNumMin:!0}:null}}]),t}()).\u0275fac=function(e){return new(e||a)},a.\u0275dir=s.lG2({type:a,selectors:[["","customNumMin","","formControlName",""],["","customNumMin","","formControl",""],["","customNumMin","","ngModel",""]],inputs:{customNumMin:"customNumMin"},features:[s._Bn([{provide:o.Cf,useExisting:a,multi:!0}])]}),a)},27492:function(e,t,i){i.d(t,{sH:function(){return r},ZS:function(){return a},zm:function(){return o},yK:function(){return s},ov:function(){return l},w_:function(){return u},b8:function(){return c},eS:function(){return g}});var n=i(9579);function r(e,t,i){return function(n){var r=n.controls[e],a=n.controls[t];if(!r||!a||a.errors&&!a.errors.mustMatch||i&&(!r.value||!a.value))return null;a.setErrors(r.value>a.value?{mustMatch:!0}:null)}}function a(e,t){return function(i){var r=i.controls[e],a=i.controls[t];if(!r||!a||a.errors&&!a.errors.ipBeforeValidate||r.errors&&!r.errors.ipBeforeValidate)return null;var o=null,s=null;r.value&&a.value&&(o=(0,n.l5)(r.value),s=(0,n.l5)(a.value)),o<=s?(r.setErrors(null),a.setErrors(null)):(r.setErrors({ipBeforeValidate:!0}),a.setErrors({ipBeforeValidate:!0}))}}function o(e,t){return function(i){var r=i.controls[e],a=i.controls[t];if(!r||!a||r.errors&&!r.errors.IpNetworkBroadcast||a.errors&&!a.errors.IpNetworkBroadcast)return null;var o=null,s=null,l=null,u=null;r.value&&a.value&&(u=((l=((o=(0,n.l5)(r.value))>>>0&(s=(0,n.l5)(a.value))>>>0)>>>0)|~s)>>>0),o<=l||o>=u?(r.setErrors({IpNetworkBroadcast:!0}),a.setErrors({IpNetworkBroadcast:!0})):(r.setErrors(null),a.setErrors(null))}}function s(e,t,i){return function(r){var a=r.controls[t],o=r.controls[i],s=r.controls[e];if(!a||!o||!s||s.errors&&!s.errors.ipIsOutside||o.errors&&!o.errors.ipIsOutside||a.errors&&!a.errors.ipIsOutside)return null;var l=null,u=null,c=null;a.value&&o.value&&s.value&&(l=(0,n.l5)(a.value),u=(0,n.l5)(o.value),c=(0,n.l5)(s.value)),c<l||c>u?(a.setErrors(null),o.setErrors(null),s.setErrors(null)):(a.setErrors({ipIsOutside:!0}),o.setErrors({ipIsOutside:!0}),s.setErrors({ipIsOutside:!0}))}}function l(e,t,i,r){return function(a){var o=a.controls[t],s=a.controls[i],l=a.controls[e],u=a.controls[r];if(!o||!s||!l||!u||l.errors&&!l.errors.sameIpNetwork||o.errors&&!o.errors.sameIpNetwork||s.errors&&!s.errors.sameIpNetwork||u.errors&&!u.errors.sameIpNetwork)return null;var c=null,g=null,d=null,h=null,f=null;o.value&&s.value&&l.value&&u.value&&(c=(0,n.l5)(o.value),g=(0,n.l5)(s.value),d=(0,n.l5)(l.value),f=(h=(0,n.l5)(u.value))&d),f!=(h&c)||f!=(h&g)?(l.setErrors({sameIpNetwork:!0}),s.setErrors({sameIpNetwork:!0}),o.setErrors({sameIpNetwork:!0}),u.setErrors({sameIpNetwork:!0})):(l.setErrors(null),s.setErrors(null),o.setErrors(null),u.setErrors(null))}}function u(e,t,i){return function(r){var a=r.controls[e],o=r.controls[i],s=r.controls[t];if(!a||!o||!s||a.errors&&!a.errors.maxNetworkBroadcast||o.errors&&!o.errors.maxNetworkBroadcast||s.errors&&!s.errors.maxNetworkBroadcast)return null;var l=null,u=null,c=null,g=null,d=null;s.value&&(l=(0,n.l5)(a.value),u=(0,n.l5)(o.value),c=(0,n.l5)(s.value),d=((g=(l>>>0&u>>>0)>>>0)|~u)>>>0),c<=g||c>=d?(a.setErrors({maxNetworkBroadcast:!0}),o.setErrors({maxNetworkBroadcast:!0}),s.setErrors({maxNetworkBroadcast:!0})):(a.setErrors(null),o.setErrors(null),s.setErrors(null))}}function c(e,t,i){return function(r){var a=r.controls[e],o=r.controls[t],s=r.controls[i];if(!a||!o||!s||a.errors&&!a.errors.minNetworkBroadcast||o.errors&&!o.errors.minNetworkBroadcast||s.errors&&!s.errors.minNetworkBroadcast)return null;var l=null,u=null,c=null,g=null,d=null;a.value&&o.value&&s.value&&(l=(0,n.l5)(a.value),u=(0,n.l5)(o.value),c=(0,n.l5)(s.value),d=((g=(l>>>0&u>>>0)>>>0)|~u)>>>0),c<=g||c>=d?(a.setErrors({minNetworkBroadcast:!0}),o.setErrors({minNetworkBroadcast:!0}),s.setErrors({minNetworkBroadcast:!0})):(a.setErrors(null),o.setErrors(null),s.setErrors(null))}}function g(e,t){return function(i){var n=i.controls[e],r=i.controls[t];if(!n||!r||r.errors&&!r.errors.longDigitTimer)return null;n.value&&r.value&&r.setErrors(n.value>r.value||n.value==r.value?{longDigitTimer:!0}:null)}}}}])}();