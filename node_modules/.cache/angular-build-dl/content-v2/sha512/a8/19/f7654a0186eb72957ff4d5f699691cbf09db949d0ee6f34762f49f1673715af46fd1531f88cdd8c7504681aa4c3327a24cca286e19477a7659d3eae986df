"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[5198],{85198:function(e,r,t){t.r(r),t.d(r,{SubscriberTemplatesModule:function(){return R}});var s=t(38583),i=t(39895),o=t(37716);let n=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-subscriber-templates"]],decls:1,vars:0,template:function(e,r){1&e&&o._UZ(0,"router-outlet")},directives:[i.lC],styles:[""]}),e})();var a=t(3679),l=t(52941),c=t(7450),u=t(49342),d=t(30900);function p(e,r){if(1&e&&(o.TgZ(0,"div",25),o.TgZ(1,"div",26),o.TgZ(2,"div",27),o.TgZ(3,"span",28),o._uU(4),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(4),o.Oqu(e.language.Loading)}}function b(e,r){if(1&e){const e=o.EpF();o.TgZ(0,"div",29),o.TgZ(1,"span",30),o._UZ(2,"img",31),o.qZA(),o.TgZ(3,"button",32),o.NdJ("click",function(){return o.CHM(e),o.oxw().error=!1}),o._UZ(4,"span"),o.qZA(),o._UZ(5,"div",33),o.qZA()}if(2&e){const e=o.oxw();o.xp6(5),o.Q6J("innerHtml",e.errorInfo,o.oJD)}}function g(e,r){if(1&e){const e=o.EpF();o.TgZ(0,"div",34),o.TgZ(1,"span",35),o._UZ(2,"img",36),o.qZA(),o.TgZ(3,"button",32),o.NdJ("click",function(){return o.CHM(e),o.oxw().success=!1}),o._UZ(4,"span"),o.qZA(),o._UZ(5,"div",33),o.qZA()}if(2&e){const e=o.oxw();o.xp6(5),o.Q6J("innerHtml",e.successInfo,o.oJD)}}function m(e,r){1&e&&(o.TgZ(0,"span"),o._uU(1," Please enter a name "),o.qZA())}function h(e,r){if(1&e&&(o.TgZ(0,"div",37),o.YNc(1,m,2,0,"span",38),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",null==e.SubscriberForm.controls.Name.errors?null:e.SubscriberForm.controls.Name.errors.required)}}function f(e,r){1&e&&(o.TgZ(0,"span"),o._uU(1," This value is invalid "),o.qZA())}function Z(e,r){if(1&e&&(o.TgZ(0,"div",37),o.YNc(1,f,2,0,"span",38),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",null==e.SubscriberForm.controls.Servicetype.errors?null:e.SubscriberForm.controls.Servicetype.errors.required)}}function v(e,r){1&e&&(o.TgZ(0,"span"),o._uU(1," This value is invalid "),o.qZA())}function T(e,r){if(1&e&&(o.TgZ(0,"div",37),o.YNc(1,v,2,0,"span",38),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",null==e.SubscriberForm.controls.CeVlan.errors?null:e.SubscriberForm.controls.CeVlan.errors.required)}}function S(e,r){1&e&&(o.TgZ(0,"span"),o._uU(1," This value is invalid "),o.qZA())}function A(e,r){1&e&&(o.TgZ(0,"span"),o._uU(1,' Invalid Vlans, multiple Vlans Should be seperated by ",", No space '),o.qZA())}function q(e,r){if(1&e&&(o.TgZ(0,"div",37),o.YNc(1,S,2,0,"span",38),o.YNc(2,A,2,0,"span",38),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",null==e.SubscriberForm.controls.Vlans.errors?null:e.SubscriberForm.controls.Vlans.errors.required),o.xp6(1),o.Q6J("ngIf",null==e.SubscriberForm.controls.Vlans.errors?null:e.SubscriberForm.controls.Vlans.errors.pattern)}}function x(e,r){1&e&&(o.TgZ(0,"span"),o._uU(1," This value is invalid "),o.qZA())}function y(e,r){if(1&e&&(o.TgZ(0,"div",37),o.YNc(1,x,2,0,"span",38),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",null==e.SubscriberForm.controls.VlanMode.errors?null:e.SubscriberForm.controls.VlanMode.errors.required)}}function w(e,r){1&e&&(o.TgZ(0,"span"),o._uU(1," This value is invalid "),o.qZA())}function V(e,r){if(1&e&&(o.TgZ(0,"div",37),o.YNc(1,w,2,0,"span",38),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",null==e.SubscriberForm.controls.SubscribersPerVlan.errors?null:e.SubscriberForm.controls.SubscribersPerVlan.errors.required)}}function _(e,r){1&e&&(o.TgZ(0,"span"),o._uU(1," This value is invalid "),o.qZA())}function F(e,r){if(1&e&&(o.TgZ(0,"div",37),o.YNc(1,_,2,0,"span",38),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",null==e.SubscriberForm.controls.priH248GwController.errors?null:e.SubscriberForm.controls.priH248GwController.errors.required)}}function I(e,r){if(1&e&&(o.TgZ(0,"div",7),o.TgZ(1,"label",8),o._uU(2),o.qZA(),o._UZ(3,"input",39),o.YNc(4,F,2,1,"div",10),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Oqu(e.language["Primary H248 GW Controller (voice)"]),o.xp6(2),o.Q6J("ngIf",e.submitted&&e.SubscriberForm.controls.priH248GwController.errors||e.SubscriberForm.controls.priH248GwController.touched)}}function C(e,r){1&e&&(o.TgZ(0,"span"),o._uU(1," This value is invalid "),o.qZA())}function U(e,r){if(1&e&&(o.TgZ(0,"div",37),o.YNc(1,C,2,0,"span",38),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",null==e.SubscriberForm.controls.secH248GwController.errors?null:e.SubscriberForm.controls.secH248GwController.errors.required)}}function N(e,r){if(1&e&&(o.TgZ(0,"div",7),o.TgZ(1,"label",8),o._uU(2),o.qZA(),o._UZ(3,"input",40),o.YNc(4,U,2,1,"div",10),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Oqu(e.language["Secondary H248 GW Controller (voice)"]),o.xp6(2),o.Q6J("ngIf",e.submitted&&e.SubscriberForm.controls.secH248GwController.errors||e.SubscriberForm.controls.secH248GwController.touched)}}function O(e,r){1&e&&(o.TgZ(0,"span"),o._uU(1," This value is invalid "),o.qZA())}function J(e,r){if(1&e&&(o.TgZ(0,"div",37),o.YNc(1,O,2,0,"span",38),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",null==e.SubscriberForm.controls.sipProxyServerAddress.errors?null:e.SubscriberForm.controls.sipProxyServerAddress.errors.required)}}function H(e,r){if(1&e&&(o.TgZ(0,"div",7),o.TgZ(1,"label",8),o._uU(2),o.qZA(),o._UZ(3,"input",41),o.YNc(4,J,2,1,"div",10),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij("",e.language["SIP Proxy Server Address"]," "),o.xp6(2),o.Q6J("ngIf",e.submitted&&e.SubscriberForm.controls.sipProxyServerAddress.errors||e.SubscriberForm.controls.sipProxyServerAddress.touched)}}function P(e,r){1&e&&(o.TgZ(0,"span"),o._uU(1," This value is invalid "),o.qZA())}function G(e,r){if(1&e&&(o.TgZ(0,"div",37),o.YNc(1,P,2,0,"span",38),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",null==e.SubscriberForm.controls.multicastProfile.errors?null:e.SubscriberForm.controls.multicastProfile.errors.required)}}function k(e,r){if(1&e&&(o.TgZ(0,"div",7),o.TgZ(1,"label",8),o._uU(2),o.qZA(),o._UZ(3,"input",42),o.YNc(4,G,2,1,"div",10),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij("",e.language["Multicast Profile"]," "),o.xp6(2),o.Q6J("ngIf",e.submitted&&e.SubscriberForm.controls.multicastProfile.errors||e.SubscriberForm.controls.multicastProfile.touched)}}let Y=(()=>{class e{constructor(e,r,t,s,i,o,n){this.fb=e,this.route=r,this.subscriberService=t,this.router=s,this.translateService=i,this.commonOrgService=o,this.customTranslateService=n,this.error=!1,this.voicetype=!1,this.videotype=!1,this.errorInfo="",this.submitted=!1,this.loading=!1,this.success=!1,this.SubscriberForm=this.fb.group({Name:["",a.kI.required],Servicetype:["DATA",a.kI.required],CeVlan:["",a.kI.required],Vlans:["",[a.kI.required,a.kI.pattern("^[0-9a-zA-Z,]*$")]],VlanMode:["",a.kI.required],SubscribersPerVlan:["",a.kI.required],priH248GwController:[""],secH248GwController:[""],sipProxyServerAddress:[""],multicastProfile:[""]}),this.edit=!1}ngOnInit(){this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e}),this.edit=!1,this.name=this.route.snapshot.paramMap.get("id"),this.name&&(this.edit=!0,this.getsubscriber())}getsubscriber(){this.loading=!0,this.subscriberService.getsubscriberDetail(this.name).subscribe(e=>{this.setoption(e),this.loading=!1},e=>{this.error=!0,this.errorInfo=e.error.message,this.loading=!1})}setoption(e){"VOICE"==e.serviceType&&(this.voicetype=!0,this.SubscriberForm.controls.priH248GwController.setValidators([a.kI.required]),this.SubscriberForm.controls.priH248GwController.updateValueAndValidity(),this.SubscriberForm.controls.secH248GwController.setValidators([a.kI.required]),this.SubscriberForm.controls.secH248GwController.updateValueAndValidity(),this.SubscriberForm.controls.sipProxyServerAddress.setValidators([a.kI.required]),this.SubscriberForm.controls.sipProxyServerAddress.updateValueAndValidity()),"VIDEO"==e.serviceType&&(this.SubscriberForm.controls.multicastProfile.setValidators([a.kI.required]),this.SubscriberForm.controls.multicastProfile.updateValueAndValidity(),this.videotype=!0),this.SubscriberForm.patchValue({Name:e.name,Servicetype:e.serviceType,CeVlan:e.ceVlan,Vlans:e.vlans,VlanMode:e.vlanMode,SubscribersPerVlan:e.subscribersPerVlan,priH248GwController:e.priH248GwController,secH248GwController:e.secH248GwController,sipProxyServerAddress:e.sipProxyServerAddress,multicastProfile:e.multicastProfile})}goToList(){this.router.navigate(["/cco/operations/cco-subscriber-operations/templates/subscriber-templates/list"])}servicetypechanged(e){this.submitted=!1,"VIDEO"==this.SubscriberForm.value.Servicetype?(this.SubscriberForm.controls.multicastProfile.setValidators([a.kI.required]),this.SubscriberForm.controls.multicastProfile.updateValueAndValidity(),this.videotype=!0):(this.SubscriberForm.controls.multicastProfile.clearValidators(),this.SubscriberForm.controls.multicastProfile.updateValueAndValidity(),this.videotype=!1),"VOICE"==this.SubscriberForm.value.Servicetype?(this.voicetype=!0,this.SubscriberForm.controls.priH248GwController.setValidators([a.kI.required]),this.SubscriberForm.controls.priH248GwController.updateValueAndValidity(),this.SubscriberForm.controls.secH248GwController.setValidators([a.kI.required]),this.SubscriberForm.controls.secH248GwController.updateValueAndValidity(),this.SubscriberForm.controls.sipProxyServerAddress.setValidators([a.kI.required]),this.SubscriberForm.controls.sipProxyServerAddress.updateValueAndValidity()):(this.voicetype=!1,this.SubscriberForm.controls.priH248GwController.clearValidators(),this.SubscriberForm.controls.priH248GwController.updateValueAndValidity(),this.SubscriberForm.controls.secH248GwController.clearValidators(),this.SubscriberForm.controls.secH248GwController.updateValueAndValidity(),this.SubscriberForm.controls.sipProxyServerAddress.clearValidators(),this.SubscriberForm.controls.sipProxyServerAddress.updateValueAndValidity())}onSubmit(){if(this.submitted=!0,this.SubscriberForm.invalid)return;let e=this.SubscriberForm.value.Vlans;e=e.toString().split(",");let r={name:this.SubscriberForm.value.Name,serviceType:this.SubscriberForm.value.Servicetype,ceVlan:this.SubscriberForm.value.CeVlan,vlanMode:this.SubscriberForm.value.VlanMode,ipAddressingType:"v4",vlans:e,subscribersPerVlan:this.SubscriberForm.value.SubscribersPerVlan};"VOICE"==this.SubscriberForm.value.Servicetype&&(r=Object.assign(r,{priH248GwController:this.SubscriberForm.value.priH248GwController,secH248GwController:this.SubscriberForm.value.secH248GwController,sipProxyServerAddress:this.SubscriberForm.value.sipProxyServerAddress})),"VIDEO"==this.SubscriberForm.value.Servicetype&&(r=Object.assign(r,{multicastProfile:this.SubscriberForm.value.multicastProfile})),console.log(r),this.edit?(this.loading=!0,this.subscriberService.putdata(r).subscribe(e=>{this.loading=!1,this.success=!0,this.successInfo=e,$("html, body").animate({scrollTop:0},"slow"),setTimeout(()=>{this.router.navigate(["/cco/operations/cco-subscriber-operations/templates/subscriber-templates/list"])},500)},e=>{this.loading=!1,console.log(e),this.error=!0,this.errorInfo=e.error.message,$("html, body").animate({scrollTop:0},"slow")})):(this.loading=!0,this.subscriberService.postdata(r).subscribe(e=>{e.message?(this.loading=!1,this.error=!0,this.errorInfo=e.message,$("html, body").animate({scrollTop:0},"slow")):(this.loading=!1,this.success=!0,this.successInfo=e,$("html, body").animate({scrollTop:0},"slow"),setTimeout(()=>{this.router.navigate(["/cco/operations/cco-subscriber-operations/templates/subscriber-templates/list"])},500))},e=>{this.loading=!1,this.error=!0,this.errorInfo=e.error.message,$("html, body").animate({scrollTop:0},"slow")}))}pageErrorHandle(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e)}}return e.\u0275fac=function(r){return new(r||e)(o.Y36(a.qu),o.Y36(i.gz),o.Y36(l.G),o.Y36(i.F0),o.Y36(c.s),o.Y36(u.v),o.Y36(d.d))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-add"]],decls:59,vars:24,consts:[[1,"container"],["class","loader load",4,"ngIf"],[1,"row"],["class","w-100 alert alert-danger fade show my-3",4,"ngIf"],["class","w-100 alert alert-success fade show my-3",4,"ngIf"],[1,"col-lg-6","col-md-6","col-sm-12","pr-5"],[1,"ccl-form","mt-4","needs-validation",3,"formGroup","ngSubmit"],[1,"form-group","inline-input"],[1,"col-form-label"],["id","name","type","text","name","name","formControlName","Name",1,"form-control"],["class","errorMessage",4,"ngIf"],["formControlName","Servicetype",1,"ccl-form","form-control","form-control-sm",3,"change"],["value","DATA"],["value","VOICE"],["value","VIDEO"],["id","ceVlan","type","number","name","Name","formControlName","CeVlan",1,"form-control"],["id","vlans","type","text","name","name","formControlName","Vlans",1,"form-control"],["placeholder","Vlan Mode","formControlName","VlanMode",1,"ccl-form","form-control","form-control-sm"],["value","ONE2ONE"],["value","N2ONE"],["id","subscriberpervlan","type","text","formControlName","SubscribersPerVlan",1,"form-control",2,"position","relative"],["class","form-group inline-input",4,"ngIf"],[1,"col-lg-12"],["type","submit",1,"btn-default","primary","px-3","my-3"],["type","submit",1,"my-2","mr-3","btn-default","btn-dft",3,"click"],[1,"loader","load"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert-success","fade","show","my-3"],[1,"success-img"],["src","./assets/img/success-icon.svg"],[1,"errorMessage"],[4,"ngIf"],["id","primarycontroller","type","text","formControlName","priH248GwController",1,"form-control",2,"position","relative"],["id","seccontroller","type","text","formControlName","secH248GwController",1,"form-control",2,"position","relative"],["id","sipaddress","type","text","formControlName","sipProxyServerAddress",1,"form-control",2,"position","relative"],["id","multicastprofile","type","text","name","s_name","formControlName","multicastProfile",1,"form-control",2,"position","relative"]],template:function(e,r){1&e&&(o.TgZ(0,"section"),o.TgZ(1,"div",0),o.YNc(2,p,5,1,"div",1),o.TgZ(3,"div",2),o.YNc(4,b,6,1,"div",3),o.YNc(5,g,6,1,"div",4),o.qZA(),o.TgZ(6,"div",2),o.TgZ(7,"div",5),o.TgZ(8,"form",6),o.NdJ("ngSubmit",function(){return r.onSubmit()}),o.TgZ(9,"div",7),o.TgZ(10,"label",8),o._uU(11),o.qZA(),o._UZ(12,"input",9),o.YNc(13,h,2,1,"div",10),o.qZA(),o.TgZ(14,"div",7),o.TgZ(15,"label",8),o._uU(16),o.qZA(),o.TgZ(17,"select",11),o.NdJ("change",function(e){return r.servicetypechanged(e.target.value)}),o.TgZ(18,"option",12),o._uU(19),o.qZA(),o.TgZ(20,"option",13),o._uU(21),o.qZA(),o.TgZ(22,"option",14),o._uU(23),o.qZA(),o.qZA(),o.YNc(24,Z,2,1,"div",10),o.qZA(),o.TgZ(25,"div",7),o.TgZ(26,"label",8),o._uU(27),o.qZA(),o._UZ(28,"input",15),o.YNc(29,T,2,1,"div",10),o.qZA(),o.TgZ(30,"div",7),o.TgZ(31,"label",8),o._uU(32),o.qZA(),o._UZ(33,"input",16),o.YNc(34,q,3,2,"div",10),o.qZA(),o.TgZ(35,"div",7),o.TgZ(36,"label",8),o._uU(37),o.qZA(),o.TgZ(38,"select",17),o.TgZ(39,"option",18),o._uU(40,"1:1"),o.qZA(),o.TgZ(41,"option",19),o._uU(42,"N:1"),o.qZA(),o.qZA(),o.YNc(43,y,2,1,"div",10),o.qZA(),o.TgZ(44,"div",7),o.TgZ(45,"label",8),o._uU(46),o.qZA(),o._UZ(47,"input",20),o.YNc(48,V,2,1,"div",10),o.qZA(),o.YNc(49,I,5,2,"div",21),o.YNc(50,N,5,2,"div",21),o.YNc(51,H,5,2,"div",21),o.YNc(52,k,5,2,"div",21),o.TgZ(53,"div",7),o.TgZ(54,"span",22),o.TgZ(55,"button",23),o._uU(56),o.qZA(),o.qZA(),o.TgZ(57,"button",24),o.NdJ("click",function(){return r.goToList()}),o._uU(58,"Cancel"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",r.loading),o.xp6(2),o.Q6J("ngIf",r.error),o.xp6(1),o.Q6J("ngIf",r.success),o.xp6(3),o.Q6J("formGroup",r.SubscriberForm),o.xp6(3),o.Oqu(r.language.Name),o.xp6(2),o.Q6J("ngIf",r.submitted&&r.SubscriberForm.controls.Name.errors||r.SubscriberForm.controls.Name.touched),o.xp6(3),o.hij(" ",r.language.Service_Type," "),o.xp6(3),o.Oqu(r.language.Data),o.xp6(2),o.Oqu(r.language.Voice),o.xp6(2),o.Oqu(r.language.Videos),o.xp6(1),o.Q6J("ngIf",r.submitted&&r.SubscriberForm.controls.Servicetype.errors||r.SubscriberForm.controls.Servicetype.touched),o.xp6(3),o.Oqu(r.language["Ce-Vlan"]),o.xp6(2),o.Q6J("ngIf",r.submitted&&r.SubscriberForm.controls.CeVlan.errors||r.SubscriberForm.controls.CeVlan.touched),o.xp6(3),o.Oqu(r.language.Vlans),o.xp6(2),o.Q6J("ngIf",r.submitted&&r.SubscriberForm.controls.Vlans.errors||r.SubscriberForm.controls.Vlans.touched),o.xp6(3),o.Oqu(r.language["Vlan Mode"]),o.xp6(6),o.Q6J("ngIf",r.submitted&&r.SubscriberForm.controls.VlanMode.errors||r.SubscriberForm.controls.VlanMode.touched),o.xp6(3),o.Oqu(r.language["Subscribers Per Vlan"]),o.xp6(2),o.Q6J("ngIf",r.submitted&&r.SubscriberForm.controls.SubscribersPerVlan.errors||r.SubscriberForm.controls.SubscribersPerVlan.touched),o.xp6(1),o.Q6J("ngIf",r.voicetype),o.xp6(1),o.Q6J("ngIf",r.voicetype),o.xp6(1),o.Q6J("ngIf",r.voicetype),o.xp6(1),o.Q6J("ngIf",r.videotype),o.xp6(4),o.Oqu(1==r.edit?r.language.Update:r.language.save))},directives:[s.O5,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.EJ,a.YN,a.Kr,a.wV],styles:[".form-control-sm[_ngcontent-%COMP%]{min-height:38px!important;max-height:42px!important;padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:1.2rem!important;background-color:#f8f8fa!important;border:none!important}select[_ngcontent-%COMP%]{border-radius:20px;background:url(http://cdn1.iconfinder.com/data/icons/cc_mono_icon_set/blacks/16x16/br_down.png) no-repeat right #f8f8fa10;-webkit-appearance:none;background-position:right 17px center}"]}),e})();var Q=t(23771),E=t(79765);function M(e,r){if(1&e&&(o.TgZ(0,"div",12),o.TgZ(1,"div",13),o.TgZ(2,"div",14),o.TgZ(3,"span",15),o._uU(4),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(4),o.Oqu(e.language.Loading)}}function D(e,r){if(1&e){const e=o.EpF();o.TgZ(0,"div",16),o.TgZ(1,"span",17),o._UZ(2,"img",18),o.qZA(),o.TgZ(3,"span",19),o._uU(4),o.TgZ(5,"b"),o._uU(6),o.qZA(),o._uU(7," ? "),o.qZA(),o.TgZ(8,"div",20),o.TgZ(9,"button",21),o.NdJ("click",function(){return o.CHM(e),o.oxw().Deletesubscriber()}),o._uU(10," Confirm "),o.qZA(),o.TgZ(11,"button",22),o.NdJ("click",function(){return o.CHM(e),o.oxw().closeModal()}),o._uU(12,"Cancel"),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(4),o.hij(" ",e.language["Are you sure you want to delete"]," "),o.xp6(2),o.Oqu(e.modalInfo),o.xp6(3),o.Q6J("disabled",e.btnDisabled)}}function L(e,r){if(1&e){const e=o.EpF();o.TgZ(0,"div",23),o.TgZ(1,"span",17),o._UZ(2,"img",24),o.qZA(),o.TgZ(3,"button",25),o.NdJ("click",function(){return o.CHM(e),o.oxw().error=!1}),o._UZ(4,"span"),o.qZA(),o._UZ(5,"div",26),o.qZA()}if(2&e){const e=o.oxw();o.xp6(5),o.Q6J("innerHtml",e.errorInfo,o.oJD)}}function j(e,r){if(1&e){const e=o.EpF();o.TgZ(0,"div",27),o.TgZ(1,"span",28),o._UZ(2,"img",29),o.qZA(),o.TgZ(3,"button",25),o.NdJ("click",function(){return o.CHM(e),o.oxw().success=!1}),o._UZ(4,"span"),o.qZA(),o._UZ(5,"div",30),o.qZA()}if(2&e){const e=o.oxw();o.xp6(5),o.Q6J("innerHtml",e.successInfo,o.oJD)}}function z(e,r){if(1&e){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td"),o.TgZ(14,"span",31),o.TgZ(15,"a",32),o.NdJ("click",function(){const r=o.CHM(e).$implicit;return o.oxw().editsubscriber(r.name)}),o._UZ(16,"i",33),o.qZA(),o.qZA(),o.TgZ(17,"span",31),o.TgZ(18,"a",32),o.NdJ("click",function(){const r=o.CHM(e).$implicit;return o.oxw().deleteDeviceGrp(r)}),o._UZ(19,"i",34),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=r.$implicit;o.xp6(2),o.hij("",e.name?e.name:"--"," "),o.xp6(2),o.Oqu(e.serviceType?e.serviceType:""),o.xp6(2),o.Oqu(e.ceVlan?e.ceVlan:""),o.xp6(2),o.Oqu(e.vlans?e.vlans:""),o.xp6(2),o.Oqu(e.vlanMode?"N2ONE"==e.vlanMode?"N:1":"1:1":""),o.xp6(2),o.Oqu(e.subscribersPerVlan?e.subscribersPerVlan:"")}}const K=[{path:"",component:n,children:[{path:"list",component:(()=>{class e{constructor(e,r,t,s,i){this.translateService=e,this.customTranslateService=r,this.subscriberService=t,this.commonOrgService=s,this.router=i,this.subscriberList=[],this.loading=!1,this.renderedOnce=!1,this.dtOptions={},this.dtTrigger=new E.xQ,this.success=!1}ngOnInit(){this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,setTimeout(()=>{this.renderedOnce&&this.renderTable(!0)},500)}),this.renderedOnce=!1,this.dtOptions={pagingType:"full_numbers",pageLength:10,lengthChange:!0,processing:!1,dom:"tipr",columnDefs:[{targets:[0],orderable:!0}],order:[0,"asc"]},this.tableLanguageOptions(),this.Getsubscriber()}Getsubscriber(){this.loading=!0,this.subscriberService.getsubscriber().subscribe(e=>{this.subscriberList="Service template not found"==e?[]:e,this.renderTable(!1),this.loading=!1},e=>{this.error=!0,this.pageErrorHandle(e),this.loading=!1,this.renderTable(!1),this.dataAvailable=!0})}editsubscriber(e){this.router.navigate([`/cco/operations/cco-subscriber-operations/templates/subscriber-templates/edit/${e}`])}deleteDeviceGrp(e){this.deletedata=e,this.modalInfo=this.deletedata.name,$("html, body").animate({scrollTop:0},"slow")}Deletesubscriber(){this.btnDisabled=!0,this.loading=!0,this.subscriberService.delsubscriber(this.deletedata.name).subscribe(e=>{this.loading=!1,this.success=!0,this.successInfo=this.language["Deleted Successfully"],$("html, body").animate({scrollTop:0},"slow"),setTimeout(()=>{this.Getsubscriber()},500),this.btnDisabled=!1,this.deletedata=""},e=>{this.loading=!1,this.error=!0,this.pageErrorHandle(e),this.btnDisabled=!1,this.deletedata=""},()=>{this.btnDisabled=!1,this.deletedata="",this.loading=!1})}closeModal(){this.deletedata=""}renderTable(e){this.tableLanguageOptions(),this.renderedOnce?(this.dataAvailable=!0,this.rerender()):(this.rerender(),this.renderedOnce=!0,this.dataAvailable=!0,this.loading=!1)}ngAfterViewInit(){this.dtTrigger.next()}pageErrorHandle(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e)}closeAlert(){this.error=!1}rerender(){var e;null===(e=this.dtElement)||void 0===e||e.dtInstance.then(e=>{e.destroy(),this.dtTrigger.next()})}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.dtOptions.language=this.frTable:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}}return e.\u0275fac=function(r){return new(r||e)(o.Y36(c.s),o.Y36(d.d),o.Y36(l.G),o.Y36(u.v),o.Y36(i.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-subscribers"]],viewQuery:function(e,r){if(1&e&&o.Gf(Q.G,5),2&e){let e;o.iGM(e=o.CRH())&&(r.dtElement=e.first)}},decls:31,vars:16,consts:[[1,"container"],["class","loader load",4,"ngIf"],["class","py-3 warning-msg",4,"ngIf"],[1,"row"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],["class","w-100 alert alert-success fade show my-3",4,"ngIf"],[1,"row","d-flex","justify-content-end"],["routerLink","/cco/operations/cco-subscriber-operations/templates/subscriber-templates/add"],["type","button","id","add",1,"btn-default","primary","px-3","my-3"],[1,"col-md-12",3,"hidden"],["id","subscriber-template","width","100%","datatable","",1,"row-border","hover","table-alter",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"loader","load"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"py-3","warning-msg"],[1,"error-img"],["src","./assets/img/warning-icon.svg"],[2,"width","500px","word-wrap","break-word","display","inline-block"],[1,"btn-con-sec","float-right"],["id","deletePFBtn",1,"btn","warn-btn","mr-2",3,"disabled","click"],[1,"btn","warn-btn",3,"click"],[1,"w-100","alert","alert-danger","fade","show","my-3"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert-success","fade","show","my-3"],[1,"success-img"],["src","./assets/img/success-icon.svg"],[3,"innerHtml"],["title","Delete",1,"del"],["href","javascript:void(0)",2,"cursor","pointer",3,"click"],["aria-hidden","true",1,"fas","fa-pencil-alt","mx-2"],["aria-hidden","true",1,"fa","fa-trash-o"]],template:function(e,r){1&e&&(o.TgZ(0,"section"),o.TgZ(1,"div",0),o.YNc(2,M,5,1,"div",1),o.YNc(3,D,13,3,"div",2),o.TgZ(4,"div",3),o.YNc(5,L,6,1,"div",4),o.YNc(6,j,6,1,"div",5),o.qZA(),o.TgZ(7,"div",6),o.TgZ(8,"a",7),o.TgZ(9,"button",8),o._uU(10),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"div",9),o.TgZ(12,"table",10),o.TgZ(13,"thead"),o.TgZ(14,"tr"),o.TgZ(15,"th"),o._uU(16),o.qZA(),o.TgZ(17,"th"),o._uU(18),o.qZA(),o.TgZ(19,"th"),o._uU(20),o.qZA(),o.TgZ(21,"th"),o._uU(22),o.qZA(),o.TgZ(23,"th"),o._uU(24),o.qZA(),o.TgZ(25,"th"),o._uU(26),o.qZA(),o.TgZ(27,"th"),o._uU(28),o.qZA(),o.qZA(),o.qZA(),o.TgZ(29,"tbody"),o.YNc(30,z,20,6,"tr",11),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",r.loading),o.xp6(1),o.Q6J("ngIf",r.deletedata),o.xp6(2),o.Q6J("ngIf",r.error),o.xp6(1),o.Q6J("ngIf",r.success),o.xp6(4),o.hij("",r.language["Add Template"]," "),o.xp6(1),o.Q6J("hidden",!r.dataAvailable),o.xp6(1),o.Q6J("dtOptions",r.dtOptions)("dtTrigger",r.dtTrigger),o.xp6(4),o.hij("",r.language.Name," "),o.xp6(2),o.Oqu(r.language.Service_Type),o.xp6(2),o.Oqu(r.language["Ce-Vlan"]),o.xp6(2),o.Oqu(r.language.Vlans),o.xp6(2),o.Oqu(r.language["Vlan Mode"]),o.xp6(2),o.Oqu(r.language["Subscribers Per Vlan"]),o.xp6(2),o.Oqu(r.language.action),o.xp6(2),o.Q6J("ngForOf",r.subscriberList))},directives:[s.O5,i.yS,Q.G,s.sg],styles:[".form-control-sm[_ngcontent-%COMP%]{min-height:38px!important;max-height:42px!important;padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:1.2rem!important;background-color:#f8f8fa!important;border:none!important}select[_ngcontent-%COMP%]{border-radius:20px;background:url(http://cdn1.iconfinder.com/data/icons/cc_mono_icon_set/blacks/16x16/br_down.png) no-repeat right #f8f8fa10;-webkit-appearance:none;background-position:right 17px center}"]}),e})()},{path:"add",component:Y},{path:"edit/:id",component:Y},{path:"",redirectTo:"list",pathMatch:"full"}]}];let B=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[i.Bz.forChild(K)],i.Bz]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,B,a.UX,Q.T]]}),e})()},52941:function(e,r,t){t.d(r,{G:function(){return c}});var s=t(40205),i=t(88002),o=t(5304),n=t(92340),a=t(37716),l=t(91841);let c=(()=>{class e{constructor(e){this.http=e,this.bandwidhtbaseUrl=`${n.N.COC_SERVICES_ACTIVATION_URL}/bandwidthTiers`,this.baseUrl=`${n.N.COC_SERVICES_ACTIVATION_URL}/serviceTemplates`}getbandwidth(){return this.http.get(this.bandwidhtbaseUrl).pipe((0,i.U)(e=>("object"==typeof e&&e.sort((e,r)=>(e.name||"").toString().localeCompare((r.name||"").toString(),"en",{numeric:!1})),e)),(0,o.K)(this.handleError))}getsubscriber(){return this.http.get(this.baseUrl).pipe((0,i.U)(e=>("object"==typeof e&&e.sort((e,r)=>(e.name||"").toString().localeCompare((r.name||"").toString(),"en",{numeric:!1})),e)),(0,o.K)(this.handleError))}getsubscriberDetail(e){return this.http.get(`${this.baseUrl}?name=${e}`).pipe((0,o.K)(this.handleError))}delsubscriber(e){return this.http.delete(this.baseUrl+`/${e}`).pipe((0,o.K)(this.handleError))}postdata(e){return this.http.post(this.baseUrl,e).pipe((0,o.K)(this.handleError))}putdata(e){return this.http.put(this.baseUrl,e).pipe((0,o.K)(this.handleError))}handleError(e){return(0,s._)(e)}}return e.\u0275fac=function(r){return new(r||e)(a.LFG(l.eN))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);