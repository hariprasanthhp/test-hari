!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?a:String(a)),n)}var o,a}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[2964],{32964:function(t,n,o){o.d(n,{g:function(){return ie}});var a=o(79765),s=o(23771),r=o(92340),c=o(91704),d=o(1282),l=o(37716),u=o(7450),g=o(91841),h=o(99104),p=o(39895),m=o(94802),v=o(89097),f=o(48483),b=o(43721),_=o(96410),T=o(90048),y=o(39075),Z=o(20904),x=o(3679),D=o(86640),w=o(38583),C=o(18638),O=o(17507);function M(e,t){if(1&e&&l._uU(0),2&e){var i=t.item,n=l.oxw();l.hij(" ",n.language[i.name]," ")}}function S(e,t){if(1&e&&l._uU(0),2&e){var i=t.item,n=l.oxw();l.hij(" ",n.language[i.name]," ")}}function A(e,t){if(1&e&&(l.TgZ(0,"div",29),l._uU(1),l.qZA()),2&e){var i=l.oxw();l.xp6(1),l.hij(" ",i.language.Select_Type_Reports," ")}}function q(e,t){if(1&e&&(l.TgZ(0,"div",35),l._uU(1),l.qZA()),2&e){var i=l.oxw(2);l.xp6(1),l.hij(" ",i.language.Time_Period_Report_Error," ")}}var P=function(){return{standalone:!0}};function N(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",13),l.TgZ(1,"label",30),l._uU(2),l.TgZ(3,"span",15),l._uU(4,"*"),l.qZA(),l.qZA(),l.TgZ(5,"div",31),l.TgZ(6,"ng-select",32,33),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw().devicetime=e})("change",function(){return l.CHM(i),l.oxw().onChangeTimePeriod()}),l.qZA(),l.YNc(8,q,2,1,"div",34),l.qZA(),l.qZA()}if(2&e){var n=l.MAs(7),o=l.oxw();l.xp6(2),l.Oqu(o.language.Time_Period),l.xp6(4),l.Q6J("ngModel",o.devicetime)("ngModelOptions",l.DdM(7,P))("items",o.timeperiods)("clearable",!1)("searchable",!1),l.xp6(2),l.Q6J("ngIf",n.invalid&&(n.touched||o.submit))}}function k(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",13),l.TgZ(1,"label",36),l._uU(2),l.TgZ(3,"span",15),l._uU(4,"*"),l.qZA(),l.qZA(),l.TgZ(5,"div",37),l.TgZ(6,"ng-select",38),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw().deviceGroup=e})("change",function(){return l.CHM(i),l.oxw().onChangeDeviceGroup()}),l.qZA(),l.TgZ(7,"p",39),l._uU(8),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(2),l.Oqu(n.language.Device_Group),l.xp6(4),l.Q6J("ngModel",n.deviceGroup)("ngModelOptions",l.DdM(5,P))("items",n.deviceGroups),l.xp6(2),l.Oqu(n.language["Please select a system group"])}}function U(e,t){if(1&e&&(l.TgZ(0,"div",29),l._uU(1),l.qZA()),2&e){var i=l.oxw(2);l.xp6(1),l.hij(" ",i.language["Select a start date that occurs before the end date"]," ")}}function I(e,t){if(1&e&&(l.TgZ(0,"div",29),l._uU(1),l.qZA()),2&e){var i=l.oxw(2);l.xp6(1),l.hij(" ",i.language["Select an end date that occurs after the start date"]," ")}}var R=function(){return{height:"36px"}};function E(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",40),l._UZ(1,"div",41),l.TgZ(2,"div",42),l.TgZ(3,"div",43),l.TgZ(4,"div",44),l.TgZ(5,"div",45),l.TgZ(6,"label"),l._uU(7),l.TgZ(8,"p-calendar",46),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw().customStartDate=e})("onSelect",function(){return l.CHM(i),l.oxw().onchangeStartDate()}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"div",47),l._uU(10),l.qZA(),l.YNc(11,U,2,1,"div",21),l.qZA(),l.TgZ(12,"div",48),l.TgZ(13,"div",49),l.TgZ(14,"label"),l._uU(15),l.TgZ(16,"p-calendar",46),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw().customEndDate=e})("onSelect",function(){return l.CHM(i),l.oxw().onchangeEndDate()}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(17,"div",50),l._uU(18),l.qZA(),l.YNc(19,I,2,1,"div",21),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(7),l.hij("",n.language.Start," "),l.xp6(1),l.Akn(l.DdM(24,R)),l.Q6J("inputStyle",l.DdM(25,R))("autoZIndex",!0)("ngModel",n.customStartDate)("showIcon",!0)("ngModelOptions",l.DdM(26,P))("maxDate",n.maxForStartDate)("minDate",n.minDateForCse),l.xp6(2),l.hij(" ",n.language.Time_Period_Report_Validation2," "),l.xp6(1),l.Q6J("ngIf",n.startErrorMessage),l.xp6(4),l.hij("",n.language.End," "),l.xp6(1),l.Akn(l.DdM(27,R)),l.Q6J("inputStyle",l.DdM(28,R))("autoZIndex",!0)("ngModel",n.customEndDate)("showIcon",!0)("ngModelOptions",l.DdM(29,P))("maxDate",n.maxDate)("minDate",n.customStartDate),l.xp6(2),l.hij(" ",n.language.Time_Period_Report_Validation3," "),l.xp6(1),l.Q6J("ngIf",n.endErrorMessage)}}function L(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",51),l.TgZ(1,"label",52,53),l._uU(3),l.qZA(),l.TgZ(4,"div",54),l.TgZ(5,"div",55),l.TgZ(6,"label",56),l.TgZ(7,"input",57),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw().isTimePeriod=e})("change",function(){return l.CHM(i),l.oxw().toggleSwitch()}),l.qZA(),l.TgZ(8,"span"),l._UZ(9,"small",58),l._UZ(10,"small",59),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(3),l.Oqu(n.language.Not_In_Time_Period),l.xp6(4),l.Q6J("ngModelOptions",l.DdM(3,P))("ngModel",n.isTimePeriod)}}function G(e,t){1&e&&(l.TgZ(0,"section"),l._UZ(1,"app-unassociated-devices"),l.qZA())}function J(e,t){1&e&&l._UZ(0,"div",66)}function F(e,t){if(1&e&&(l.TgZ(0,"div",67),l._uU(1),l.qZA()),2&e){var i=l.oxw(2);l.xp6(1),l.HOy(" ",i.language["Total CPE Count"]," : ",i.cpeCount,", ",i.language.Total_Firmware_Count," : ",i.firmwareCount," ")}}function H(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",68),l.TgZ(1,"i",69),l.NdJ("click",function(){return l.CHM(i),l.oxw(2).downloadSftwreReport()}),l.qZA(),l.TgZ(2,"h4",70),l.NdJ("click",function(){return l.CHM(i),l.oxw(2).downloadSftwreReport()}),l._uU(3),l.qZA(),l.qZA()}if(2&e){var n=l.oxw(2);l.xp6(3),l.Oqu(n.language.export)}}function Y(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"section",71),l.TgZ(2,"div",43),l.TgZ(3,"div",72),l.TgZ(4,"div",73),l.TgZ(5,"div",74),l.TgZ(6,"div"),l.TgZ(7,"label",75),l._uU(8),l.qZA(),l.TgZ(9,"div",63),l.TgZ(10,"ng-select",76),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw(2).manufacturer=e}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"div",74),l.TgZ(12,"div"),l.TgZ(13,"label",77),l._uU(14),l.qZA(),l.TgZ(15,"div",78),l.TgZ(16,"ng-select",79),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw(2).modelName=e}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(17,"div",74),l.TgZ(18,"div"),l.TgZ(19,"label",80),l._uU(20),l.qZA(),l.TgZ(21,"div",78),l.TgZ(22,"ng-select",81),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw(2).opmode=e}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(23,"div",74),l.TgZ(24,"div",82),l.TgZ(25,"label",83),l._uU(26),l.qZA(),l.TgZ(27,"div",63),l.TgZ(28,"input",84),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw(2).serialNumber=e})("blur",function(){l.CHM(i);var e=l.oxw(2);return e.removeUnwantedSpace("serialNumber",e.serialNumber)}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(29,"div",74),l.TgZ(30,"div",82),l.TgZ(31,"label",83),l._uU(32),l.qZA(),l.TgZ(33,"div",63),l.TgZ(34,"input",85),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw(2).subscriber=e})("blur",function(){l.CHM(i);var e=l.oxw(2);return e.removeUnwantedSpace("subscriber",e.subscriber)}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(35,"div",86),l.TgZ(36,"div",87),l.TgZ(37,"button",88),l.NdJ("click",function(){return l.CHM(i),l.oxw(2).doFilter()}),l._uU(38),l.qZA(),l.qZA(),l.TgZ(39,"div",87),l.TgZ(40,"button",89),l.NdJ("click",function(){return l.CHM(i),l.oxw(2).clearFilters()}),l._uU(41),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.oxw(2);l.xp6(8),l.Oqu(n.language.manufacturer),l.xp6(2),l.Q6J("ngModel",n.manufacturer)("items",n.dropdwonOutData.manufacturer)("ngModelOptions",l.DdM(24,P))("clearable",!1)("searchable",!0),l.xp6(4),l.Oqu(n.language.Model_Name),l.xp6(2),l.Q6J("ngModel",n.modelName)("items",n.dropdwonOutData.model)("ngModelOptions",l.DdM(25,P))("clearable",!1)("searchable",!0),l.xp6(4),l.Oqu(n.language.Mode),l.xp6(2),l.Q6J("ngModel",n.opmode)("items",n.modes)("ngModelOptions",l.DdM(26,P))("clearable",!1)("searchable",!0),l.xp6(4),l.Oqu(n.language.Serial_Number),l.xp6(2),l.Q6J("ngModel",n.serialNumber),l.xp6(4),l.Oqu(n.language.Subscriber),l.xp6(2),l.Q6J("ngModel",n.subscriber),l.xp6(4),l.hij(" ",n.language.run," "),l.xp6(3),l.hij(" ",n.language.Clear_Filters," ")}}function Q(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"a",104),l.NdJ("click",function(){l.CHM(i);var e=l.oxw().$implicit;return l.oxw(3).navigateToTroubleShootPage(e)}),l._uU(1),l.qZA()}if(2&e){var n=l.oxw().$implicit;l.xp6(1),l.Oqu(n.subscriberName)}}function V(e,t){if(1&e&&l._uU(0),2&e){var i=l.oxw().$implicit;l.Oqu(i.subscriberName)}}function j(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"a",104),l.NdJ("click",function(){l.CHM(i);var e=l.oxw().$implicit;return l.oxw(3).clickSerialNumber(e)}),l._uU(1),l.qZA()}if(2&e){var n=l.oxw().$implicit;l.xp6(1),l.Oqu(n.serialnumber)}}function W(e,t){if(1&e&&l._uU(0),2&e){var i=l.oxw().$implicit;l.Oqu(i.serialnumber)}}function z(e,t){if(1&e&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l.YNc(4,Q,2,1,"a",101),l.YNc(5,V,1,1,"ng-template",null,102,l.W1O),l.qZA(),l.TgZ(7,"td"),l.YNc(8,j,2,1,"a",101),l.YNc(9,W,1,1,"ng-template",null,103,l.W1O),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.TgZ(13,"td"),l._uU(14),l.qZA(),l.TgZ(15,"td"),l._uU(16),l.qZA(),l.TgZ(17,"td"),l._uU(18),l.qZA(),l.TgZ(19,"td"),l._uU(20),l.qZA(),l.TgZ(21,"td"),l._uU(22),l.qZA(),l.TgZ(23,"td"),l._uU(24),l.qZA(),l.TgZ(25,"td"),l._uU(26),l.qZA(),l.TgZ(27,"td"),l._uU(28),l.ALo(29,"date"),l.qZA(),l.TgZ(30,"td"),l._uU(31),l.ALo(32,"date"),l.qZA(),l.qZA()),2&e){var i=t.$implicit,n=l.MAs(6),o=l.MAs(10),a=l.oxw(3);l.xp6(2),l.Oqu(i.subscriberId),l.xp6(2),l.Q6J("ngIf","DME"!==a.sso.getCscType())("ngIfElse",n),l.xp6(4),l.Q6J("ngIf",a.routerTabRead)("ngIfElse",o),l.xp6(4),l.Oqu(i.opmode),l.xp6(2),l.Oqu(i.manufacturer),l.xp6(2),l.Oqu(i.modelname),l.xp6(2),l.Oqu(i.registrationid),l.xp6(2),l.Oqu(i.softwareversion),l.xp6(2),l.Oqu(i.hardwareversion),l.xp6(2),l.Oqu(i.ipaddress),l.xp6(2),l.Oqu(i.macaddress),l.xp6(2),l.hij(" ",l.xi3(29,15,i.lastdiscovertimestamp,"MM/dd/yyyy, HH:mm:ss")," "),l.xp6(3),l.Oqu(l.xi3(32,18,i.lastinformtime,"MM/dd/yyyy, HH:mm:ss"))}}function B(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",90),l.TgZ(1,"div",91),l.TgZ(2,"a",92),l.NdJ("click",function(){return l.CHM(i),l.oxw(2).export()}),l._uU(3),l.qZA(),l.qZA(),l.TgZ(4,"div",93),l.TgZ(5,"table",94),l.TgZ(6,"thead",95),l.TgZ(7,"tr"),l.TgZ(8,"th",96),l._uU(9),l.qZA(),l.TgZ(10,"th",96),l._uU(11),l.qZA(),l.TgZ(12,"th",96),l._uU(13),l.qZA(),l.TgZ(14,"th",96),l._uU(15),l.qZA(),l.TgZ(16,"th",96),l._uU(17),l.qZA(),l.TgZ(18,"th",96),l._uU(19),l.qZA(),l.TgZ(20,"th",96),l._uU(21),l.qZA(),l.TgZ(22,"th",96),l._uU(23),l.qZA(),l.TgZ(24,"th",96),l._uU(25),l.qZA(),l.TgZ(26,"th",96),l._uU(27),l.qZA(),l.TgZ(28,"th",97),l._uU(29),l.qZA(),l.TgZ(30,"th",98),l._uU(31),l.qZA(),l.TgZ(32,"th",99),l._uU(33),l.qZA(),l.qZA(),l.qZA(),l.TgZ(34,"tbody"),l.YNc(35,z,33,21,"tr",100),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.oxw(2);l.xp6(3),l.hij(" ",n.language.export," "),l.xp6(2),l.Q6J("dtOptions",n.dtOptions),l.xp6(4),l.Oqu(n.language.Subscriber_Location_ID),l.xp6(2),l.Oqu(n.language.Subscriber_Name),l.xp6(2),l.hij("FSAN/",n.language.Serial_Number,""),l.xp6(2),l.Oqu(n.language.Mode),l.xp6(2),l.Oqu(n.language.manufacturer),l.xp6(2),l.Oqu(n.language.model),l.xp6(2),l.Oqu(n.language.Registration_ID),l.xp6(2),l.Oqu(n.language.Software_Version),l.xp6(2),l.Oqu(n.language.Hardware_Version),l.xp6(2),l.Oqu(n.language.IP_Address),l.xp6(2),l.Oqu(n.language.MAC_Address),l.xp6(2),l.Oqu(n.language.Last_Discovered_Time),l.xp6(2),l.Oqu(n.language.Last_Inform_Time),l.xp6(2),l.Q6J("ngForOf",n.inventoryTableData)}}function X(e,t){if(1&e&&(l.TgZ(0,"div",105),l.TgZ(1,"div",106),l.TgZ(2,"div",107),l.TgZ(3,"span",108),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var i=l.oxw(2);l.xp6(4),l.Oqu(i.language.Loading)}}function K(e,t){if(1&e&&(l.TgZ(0,"div"),l.YNc(1,J,1,0,"div",60),l.YNc(2,F,2,4,"div",61),l.YNc(3,H,4,1,"div",62),l.TgZ(4,"div",63),l.YNc(5,Y,42,27,"div",27),l.YNc(6,B,36,16,"div",64),l.qZA(),l.YNc(7,X,5,1,"div",65),l.qZA()),2&e){var i=l.oxw();l.xp6(1),l.Q6J("ngIf",i.softwareversion),l.xp6(1),l.Q6J("ngIf",i.softwareversion),l.xp6(1),l.Q6J("ngIf",i.softwareversion),l.xp6(2),l.Q6J("ngIf",i.showFilters),l.xp6(1),l.Q6J("ngIf",i.CountRecieved),l.xp6(1),l.Q6J("ngIf",i.loading)}}function ee(e,t){if(1&e&&(l.TgZ(0,"div",109),l.TgZ(1,"h4",110),l._uU(2),l.qZA(),l.qZA()),2&e){var i=l.oxw();l.xp6(2),l.Oqu(i.language.No_Result_Found)}}o(86295)(d);var te,ie=((te=function(){function t(i,n,o,s,r,c,d,l,u,g,h,p,m){e(this,t),this.translateService=i,this.http=n,this.cdr=o,this.reportService=s,this.router=r,this.service=c,this.sso=d,this.dateUtils=l,this.validatorService=u,this.deviceGroupService=g,this.downloadService=h,this.titleService=p,this.CommonFunctionsService=m,this.maxDate=new Date,this.maxForStartDate=new Date,this.minDateForCse=this.router.url.includes("support/router")?new Date((new Date).setDate((new Date).getDate()-90)):new Date("1970"),this.showNoResults=!1,this.showFilters=!1,this.devicetime="",this.isError=!1,this.deviceDate="",this.deviceGroup="",this.startErrorMessage=!1,this.endErrorMessage=!1,this.inventoryTableData=[],this.softwareVersionChart=[],this.manufacture="",this.modName="",this.mode="",this.CountRecieved=!1,this.noRecordsFound=!1,this.hideNotInTimePeriod=!1,this.softwareversion=!1,this.unassosSystem=!1,this.hasWriteAccess=!1,this.customStartDate=0,this.customEndDate=0,this.routerTabRead=!1,this.inventoryReports=[],this.isOnLoadBtn=!1,this.dtTrigger=new a.xQ,this.tableOptions={pagingType:"full_numbers",pageLength:10,lengthChange:!1,processing:!0,dom:"tipr",order:[0,"asc"]},this.timePeriod=["Last 30 days","Last 60 days","Last 90 days"],this.reportTypes=[{id:"",name:""},{id:"DiscoveredDevice",name:"Discovered System"},{id:"DevicesNotCheckedIn",name:"Systems Not Checked In"},{id:"DeviceCheckedIn",name:"Systems Checked In"},{id:"GroupedDevices",name:"Grouped Systems"},{id:"Software",name:"Software Versions"}],this.timeperiods=[{id:"",name:""},{id:1,name:"Day"},{id:7,name:"Past Week"},{id:30,name:"Past Month"},{id:"custom",name:"Customized Time Period"}],this.manufactures=[{id:"0",name:""},{id:"ZyXEL",name:"ZyXEL"},{id:"Calix",name:"Calix"},{id:"SmartRG",name:"SmartRG"}],this.modNames=[{id:"0",name:""},{id:"VMG4825-B10A",name:"VMG4825-B10A"},{id:"GS2026E",name:"GS2026E"},{id:"GS4220E",name:"GS4220E"}],this.modes=[{id:"",name:""},{id:"RG",name:"RG"},{id:"Modem",name:"Modem"},{id:"Managed ONT",name:"Managed ONT"},{id:"WAP-IGMP",name:"WAP-IGMP"},{id:"WAP",name:"WAP"}],this.deviceGroups=[{id:"anne_844G",name:"anne_844G"},{id:"lai_CXNK005C6752",name:"lai_CXNK005C6752"},{id:"CXNK005A85CF",name:"CXNK005A85CF"},{id:"Ray_Topo2_RG",name:"Ray_Topo2_RG"},{id:"Jason_GS2026E_Satellite",name:"Jason_GS2026E_Satellite"}],this.isTimePeriod=!1,this.initLoad=!1,this.hasScopeAccess=!1,this.alertMessage="",this.startTime=0,this.endTime=0,this.manufacturer="",this.modelName="",this.opmode="",this.serialNumber="",this.subscriber="",this.inversely_time_period=!1,this.submit=!1,this.bttnDissable=!1,this.params={},this.showCustomTimePeriod=!1,this.showCustomDeviceGroup=!1,this.hideCustomSelect=!1,this.hideCalender=!1,this.hideTimePeriod=!1,this.totalRecords=0,this.dtOptions={},this.cpeCount=0,this.firmwareCount=0,this.softwareVersionsData=[]}return i(t,[{key:"ngAfterViewInit",value:function(){this.timeperiods=[{id:"",name:""},{id:1,name:this.language.Day},{id:7,name:this.language.past_week},{id:30,name:this.language.past_month},{id:"custom",name:this.language["Customized Time Period"]}]}},{key:"setTitle",value:function(e){this.router.url.includes("cco/operations/cco-reports")||this.router.url.includes("cco-foundation")?this.router.url.includes("cco-foundation")?this.titleService.setTitle("".concat(this.language.Reports," - ").concat(this.language.Deployment," - ").concat(this.language["Calix Cloud"])):this.titleService.setTitle("".concat(this.language.Inventory_Report," - ").concat(this.language.Reports," - ").concat(this.language.Operations," - ").concat(this.language.Operations,"  - ").concat(this.language["Calix Cloud"])):this.titleService.setTitle("".concat(this.language.Inventory_Report," - ").concat(this.language.Reports," - ").concat(this.language.NetOps," - ").concat(this.language.Service," - ").concat(this.language["Calix Cloud"]))}},{key:"ngOnInit",value:function(){var e=this;this.appendDeviceGroup(),this.orgId=this.sso.getOrgId(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t,e.setTitle(e.router.url),e.dtElement&&e.redraw(),e.reportTypes=e.router.url.includes("cco-foundation")?[{id:"",name:""},{id:"DiscoveredDevice",name:"Systems Discovered"},{id:"DevicesNotCheckedIn",name:"Systems Not Checked In"},{id:"DeviceCheckedIn",name:"Systems Checked In"},{id:"Unassosiated",name:"Systems Unassociated"},{id:"GroupedDevices",name:"Systems Groups"},{id:"Software",name:"Software Versions"}]:[{id:"",name:""},{id:"DiscoveredDevice",name:"Discovered System"},{id:"DevicesNotCheckedIn",name:"Systems Not Checked In"},{id:"DeviceCheckedIn",name:"Systems Checked In"},{id:"GroupedDevices",name:"Grouped Systems"},{id:"Software",name:"Software Versions"}],e.timeperiods=[{id:"",name:""},{id:1,name:e.language.Day},{id:7,name:e.language.past_week},{id:30,name:e.language.past_month},{id:"custom",name:e.language["Customized Time Period"]}]}),this.setTitle(this.router.url);var t=this.sso.getScopes();if(this.router.url.includes("/cco/operations/cco-reports/"))r.N.VALIDATE_SCOPE?(t["cloud.rbac.coc.operations.report.invreports"]=t["cloud.rbac.coc.operations.report.invreports"]?t["cloud.rbac.coc.operations.report.invreports"]:[],t["cloud.rbac.coc.operations.report.invreports"].length&&(this.hasScopeAccess=!0,this.routerTabRead=!0),t&&t["cloud.rbac.coc.operations.report.invreports"]&&-1!==t["cloud.rbac.coc.operations.report.invreports"].indexOf("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0);else if(r.N.VALIDATE_SCOPE){var i={},n=Object.keys(t);if(n)for(var o=0;o<n.length;o++)-1===n[o].indexOf("cloud.rbac.csc.cpe")||(this.routerTabRead=!0);t["cloud.rbac.csc.netops.reports.inv_report"]=t["cloud.rbac.csc.netops.reports.inv_report"]?t["cloud.rbac.csc.netops.reports.inv_report"]:[],t["cloud.rbac.csc.netops.reports.unassociated_devices"]=t["cloud.rbac.csc.netops.reports.unassociated_devices"]?t["cloud.rbac.csc.netops.reports.unassociated_devices"]:[],t["cloud.rbac.csc.netops.reports.call_outcome"]=t["cloud.rbac.csc.netops.reports.call_outcome"]?t["cloud.rbac.csc.netops.reports.call_outcome"]:[],t["cloud.rbac.csc.netops.reports.auditreports"]=t["cloud.rbac.csc.netops.reports.auditreports"]?t["cloud.rbac.csc.netops.reports.auditreports"]:[],t["cloud.rbac.csc.netops.reports.call_avoidance"]=t["cloud.rbac.csc.netops.reports.call_avoidance"]?t["cloud.rbac.csc.netops.reports.call_avoidance"]:[],t&&t["cloud.rbac.csc.netops.reports.inv_report"]&&-1!==t["cloud.rbac.csc.netops.reports.inv_report"].indexOf("read")&&(i.showInventoryReport=!0),t&&t["cloud.rbac.csc.netops.reports.unassociated_devices"]&&-1!==t["cloud.rbac.csc.netops.reports.unassociated_devices"].indexOf("read")&&(i.showUnassociatedDevices=!0),t&&t["cloud.rbac.csc.netops.reports.call_avoidance"]&&-1!==t["cloud.rbac.csc.netops.reports.call_avoidance"].indexOf("read")&&(i.showCallAvoidance=!0),t&&t["cloud.rbac.csc.netops.reports.call_outcome"]&&-1!==t["cloud.rbac.csc.netops.reports.call_outcome"].indexOf("read")&&(i.showCallOutcome=!0),t&&t["cloud.rbac.csc.netops.reports.auditreports"]&&-1!==t["cloud.rbac.csc.netops.reports.auditreports"].indexOf("read")&&(i.showAuditReport=!0),i.showInventoryReport||(i.showCallOutcome&&"DME"!==this.sso.getCscType()?this.router.navigate(["./support/netops-management/reports/call-outcome-report"]):i.showAuditReport&&"DME"!==this.sso.getCscType()?this.router.navigate(["./support/netops-management/reports/audit-report"]):i.showUnassociatedDevices?this.router.navigate(["./support/netops-management/reports/unassociated-devices"]):i.showCallAvoidance&&"DME"!==this.sso.getCscType()&&this.router.navigate(["./support/netops-management/reports/call-avoidance-report"])),t["cloud.rbac.csc.netops.reports.inv_report"]=t["cloud.rbac.csc.netops.reports.inv_report"]?t["cloud.rbac.csc.netops.reports.inv_report"]:[],t&&t["cloud.rbac.csc.netops.reports.inv_report"]&&-1!==t["cloud.rbac.csc.netops.reports.inv_report"].indexOf("write")&&(this.hasWriteAccess=!0,this.hasScopeAccess=!0)}else this.hasWriteAccess=!0,this.hasScopeAccess=!0,this.routerTabRead=!0;this.router.url.includes("cco-foundation")||this.hasScopeAccess?(this.reportTypes=this.router.url.includes("cco-foundation")?[{id:"",name:""},{id:"DiscoveredDevice",name:"Systems Discovered"},{id:"DevicesNotCheckedIn",name:"Systems Not Checked In"},{id:"DeviceCheckedIn",name:"Systems Checked In"},{id:"Unassosiated",name:"Systems Unassociated"},{id:"GroupedDevices",name:"Systems Groups"},{id:"Software",name:"Software Versions"}]:[{id:"",name:""},{id:"DiscoveredDevice",name:"Discovered System"},{id:"DevicesNotCheckedIn",name:"Systems Not Checked In"},{id:"DeviceCheckedIn",name:"Systems Checked In"},{id:"GroupedDevices",name:"Grouped Systems"},{id:"Software",name:"Software Versions"}],this.timeperiods=[{id:"",name:""},{id:1,name:this.language.Day},{id:7,name:this.language.past_week},{id:30,name:this.language.past_month},{id:"custom",name:this.language["Customized Time Period"]}]):this.sso.setPageAccess(!1)}},{key:"appendDeviceGroup",value:function(){var e=this;this.deviceGroupService.getDeviceGoupCount(this.sso.getOrgId()).subscribe(function(t){e.deviceGroupService.getDeviceGoupList(e.sso.getOrgId(),t.count).subscribe(function(t){e.deviceGroups=t,e.deviceGroups.unshift({id:"0",name:""})},function(t){e.pageErrorHandle(t),e.error=t.error,c(".error").show(),e.loading=!1})},function(t){e.pageErrorHandle(t),e.error=t.error,c(".error").show(),e.loading=!1})}},{key:"doFilter",value:function(){this.submit=!0,this.bttnDissable=!0;var e=this.reportType;this.reportType&&"Unassosiated"!=this.reportType?(this.showCustomTimePeriod?(this.startTime=this.dateUtils.getUtcTimeByDate(this.customStartDate,"00","00","00"),this.endTime=this.dateUtils.getUtcTimeByDate(this.customEndDate,"23","59","59"),this.customStartDate?c("#stDateValidation").hide():c("#stDateValidation").show(),this.customEndDate?c("#enDateValidation").hide():c("#enDateValidation").show(),this.compareStartDate(),this.compareEndDate()):"GroupedDevices"!==this.reportType?(this.startTime=this.dateUtils.getUtcTimeByBeforeDays(this.devicetime),this.endTime=this.dateUtils.getCurrentUtcTime()):this.deviceGroup?c("#deviceValidation").hide():c("#deviceValidation").show(),this.reportType&&(0==this.showCustomDeviceGroup&&0==this.hideCustomSelect?this.devicetime&&(this.showCustomTimePeriod?this.customStartDate&&this.customEndDate&&Date.parse(this.customEndDate)>=Date.parse(this.customStartDate)&&("Software"!=e?(this.bttnDissable=!0,this.getInventoryReport(e),this.getDropDownDatas()):"Software"==e&&(this.bttnDissable=!1,this.getInventorySoftwareReport())):"Software"!=e?(this.getInventoryReport(e),this.getDropDownDatas()):"Software"==e&&(this.bttnDissable=!1,this.getInventorySoftwareReport())):(1==this.showCustomDeviceGroup&&this.deviceGroup||1==this.hideCustomSelect&&0==this.showCustomDeviceGroup)&&("Software"!=e?(this.getInventoryReport(e),this.getDropDownDatas()):"Software"==e&&(this.bttnDissable=!1,this.getInventorySoftwareReport())))):this.reportType&&(this.unassosSystem=!0),this.maxDate=new Date}},{key:"onchangeStartDate",value:function(){this.maxForStartDate=this.customEndDate,this.customStartDate?(c("#stDateValidation").hide(),this.devicetime&&this.reportType&&this.customEndDate&&this.customStartDate&&(this.bttnDissable=!1)):(c("#stDateValidation").show(),this.bttnDissable=!0)}},{key:"changeDate",value:function(){this.customEndDate?(c("#enDateValidation").hide(),this.devicetime&&this.reportType&&this.customEndDate&&this.customStartDate&&(this.bttnDissable=!1)):(c("#enDateValidation").show(),this.bttnDissable=!0)}},{key:"onChangeDeviceGroup",value:function(){this.deviceGroup?(c("#deviceValidation").hide(),this.deviceGroup&&this.reportType&&(this.bttnDissable=!1)):(c("#deviceValidation").show(),this.bttnDissable=!0)}},{key:"clearValidation",value:function(){this.devicetime&&this.reportType&&this.customEndDate&&this.customStartDate&&(this.bttnDissable=!1),this.CountRecieved=!1,c(".alert").hide()}},{key:"onchangeEndDate",value:function(){this.maxForStartDate=this.customEndDate,this.customEndDate?(c("#enDateValidation").hide(),this.devicetime&&this.reportType&&this.customEndDate&&this.customStartDate&&(this.bttnDissable=!1)):(c("#enDateValidation").show(),this.bttnDissable=!0)}},{key:"getDropDownDatas",value:function(){var e=this,t={orgId:this.sso.getOrgId()};"Software"!=this.reportType&&(this.loading=!0,this.reportService.getDropDownData(JSON.stringify(t)).subscribe(function(t){var i=[{id:"",name:" "}],n=[{id:"",name:" "}],o=[{id:"",name:" "}];t&&t.forEach(function(e){""!=e.manufacturer&&i.push({id:e.manufacturer,name:e.manufacturer}),""!=e.modelName&&n.push({id:e.modelName,name:e.modelName}),""!=e.opMode&&o.push({id:e.opMode,name:e.opMode})}),i=e.getUniqueData(i),n=e.getUniqueData(n),o=e.getUniqueData(o),e.dropdwonOutData={manufacturer:i,model:n,mode:o}},function(t){e.loading=!0,e.pageErrorHandle(t)}))}},{key:"getUniqueData",value:function(e){for(var t=[],i=0;i<e.length;i++){for(var n=!1,o=0;o<t.length;o++)if(e[i].name===t[o].name){n=!0;break}n||t.push(e[i])}return t}},{key:"onChangeTimePeriod",value:function(){this.bttnDissable=!this.devicetime||!this.reportType,this.showFilters=!1,"custom"==this.devicetime?(this.showCustomTimePeriod=!0,this.bttnDissable=!0):(this.showCustomTimePeriod=!1,this.customStartDate="",this.customEndDate="",c(".alert").hide()),this.CountRecieved=!1,this.inventoryTableData.length=0,this.getUnset()}},{key:"onChangeReportType",value:function(){this.showFilters=!1,this.softwareversion=!1,this.unassosSystem=!1,this.showNoResults=!1,this.deviceGroup="","GroupedDevices"==this.reportType?(this.showCustomDeviceGroup=!0,this.showCustomTimePeriod=!1,this.hideCustomSelect=!0,this.customStartDate="",this.customEndDate="",this.devicetime="",this.hideNotInTimePeriod=!0,this.hideTimePeriod=!1,this.bttnDissable=!this.reportType):"Software"==this.reportType||"Unassosiated"==this.reportType?(this.hideCustomSelect=!0,this.showCustomTimePeriod=!1,this.showCustomDeviceGroup=!1,this.customStartDate="",this.customEndDate="",this.devicetime="",this.bttnDissable=!this.reportType):(this.showCustomDeviceGroup=!1,this.hideCustomSelect=!1,this.hideCalender=!0,this.hideNotInTimePeriod=!1,this.deviceGroup="",this.reportType?this.devicetime&&(this.bttnDissable=!1):this.bttnDissable=!0),("Discovered"==this.reportType||"DevicesNotCheckedIn"==this.reportType||"DeviceChecked"==this.reportType)&&"custom"==this.devicetime&&(this.showCustomTimePeriod=!0),"custom"==this.devicetime&&(!this.customEndDate||!this.customStartDate)&&(this.bttnDissable=!0),this.CountRecieved=!1,c(".alert").hide(),this.inventoryTableData.length=0,this.getUnset()}},{key:"OnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe()}},{key:"getInventoryReport",value:function(e){var t=this;this.loading=!0;var i={reportType:e,manufacturer:this.manufacturer,modelName:this.modelName,opmode:this.opmode,serialNumber:this.serialNumber?this.serialNumber.trim():"",subscriber:this.subscriber?this.subscriber.trim():"",startTime:"GroupedDevices"!==this.reportType?this.startTime:"",endTime:"GroupedDevices"!==this.reportType?this.endTime:"",inversely_time_period:"GroupedDevices"!==this.reportType&&this.isTimePeriod?this.isTimePeriod:"false",group_name:"GroupedDevices"===this.reportType?this.deviceGroup:"",timeZ:""};"Software"==this.reportType&&(i.inversely_time_period="false"),this.params=i,this.reportService.getInventoryCount(i).subscribe(function(e){t.showFilters=!0,t.loading=!1,null!=e.totalNum&&e.totalNum&&0!=e.totalNum?(t.inventoryCount=e.totalNum,t.CountRecieved=!0,t.initLoad?t.redraw():t.getInventoryList()):(t.showNoResults=!0,t.inventoryCount=0,t.CountRecieved=!1,t.noRecordsFound=!0)},function(e){t.pageErrorHandle(e),t.error=e.error,c(".error").show(),t.loading=!1})}},{key:"redraw",value:function(){this.dtElement.dtInstance.then(function(e){e.draw()})}},{key:"getInventoryList",value:function(){var e=this,t=this;this.dtOptions={pagingType:"full_numbers",pageLength:15,serverSide:!0,processing:!1,searching:!1,lengthChange:!1,ordering:!1,dom:"tipr",ajax:function(i,n){var o,a,s=e.reportType;e.manufacturer&&(o="&manufacturer=".concat(e.manufacturer)),e.modelName&&(o="".concat(o||"","&modelName=").concat(e.modelName)),e.opmode&&(o="".concat(o||"","&opmode=").concat(e.opmode)),e.serialNumber&&(o="".concat(o||"","&serialNumber=").concat(e.serialNumber?e.serialNumber.trim():"")),e.subscriber&&(o="".concat(o||"","&subscriber=").concat(e.subscriber?e.subscriber.trim():"")),a="Software"==e.reportType?"&inversely_time_period=false":"&inversely_time_period=".concat(e.isTimePeriod?e.isTimePeriod:"false"),e.isRunActive=o;var c="".concat(r.N.SUPPORT_URL,"/netops-report/inventory-report?").concat(e.sso.getOrg(e.orgId),"reportType=").concat(s,"&startTime=").concat(e.startTime,"&endTime=").concat(e.endTime).concat(a||"").concat(o||"");if("GroupedDevices"===e.reportType){var d="";for(var l in delete e.params.inversely_time_period,e.params)e.params[l]&&(""!=d&&(d+="&"),d+=l+"="+encodeURIComponent(e.params[l]));c="".concat(r.N.SUPPORT_URL,"/netops-report/inventory-report?").concat(d)}var u=null;u=0==i.start?0:i.start/i.length,u+=1,t.http.get(c+"&pageNumber="+u+"&pageSize="+i.length).subscribe(function(t){e.showFilters=!0,e.inventoryTableData=t,e.initLoad=!0,e.loading=!1,n({recordsTotal:e.inventoryCount?e.inventoryCount:0,recordsFiltered:e.inventoryCount?e.inventoryCount:0,data:[]})})},drawCallback:function(t){e.changeTableStatusLanguage(t),t._iRecordsDisplay<=t._iDisplayLength&&$(t.nTableWrapper).find("#users-table_last").addClass("disabled")}}}},{key:"callCount",value:function(e){var t=this;this.http.get("".concat(r.N.SUPPORT_URL,"/netops-report/inventory-report/count?").concat(this.sso.getOrg(this.orgId),"reportType=").concat(this.reportType,"&startTime=").concat(this.startTime,"&endTime=").concat(this.endTime,"&inversely_time_period=").concat(this.inversely_time_period)).subscribe(function(e){t.filterCount=e})}},{key:"hideNoDataRow",value:function(){setTimeout(function(){$(".odd").css("display","none")},100)}},{key:"ngOnDestroy",value:function(){this.dtTrigger.unsubscribe()}},{key:"toggleSwitch",value:function(){this.showFilters=!1,this.CountRecieved=!1,this.inventoryTableData.length=0,this.noRecordsFound=!1,this.bttnDissable=!1,this.getUnset()}},{key:"getUnset",value:function(){this.manufacturer=void 0,this.modelName=void 0,this.opmode=void 0,this.serialNumber=void 0,this.subscriber=void 0,this.isRunActive=void 0}},{key:"clickSerialNumber",value:function(e){this.searchByCharacters(e,"serno")}},{key:"navigateToTroubleShootPage",value:function(e){this.searchByCharacters(e,"name")}},{key:"getInventorySoftwareReport",value:function(){var e=this;this.softwareversion=!0,this.loading=!0,this.reportService.getInventorySoftwareReport(this.orgId).subscribe(function(t){e.loading=!1,t.forEach(function(t){e.softwareVersionsData.push({Id:"".concat(t.id?t.id:""),"Org Id":"".concat(t.orgid?t.orgid:""),"Model Name":"".concat(t.modelname?t.modelname:""),Manufacturer:"".concat(t.manufacturer?t.manufacturer:""),"Software Version":"".concat(t.softwareversion?t.softwareversion:""),"CPE Count":"".concat(t.cpecount?t.cpecount:"")})}),e.showFilters=!1,e.inventoryCount=1;var i=e.softwareReportOption(t||[]);d.chart("container",i),e.showNoResults=!0},function(t){e.pageErrorHandle(t),e.error=t.error,c(".error").show(),e.loading=!1})}},{key:"softwareReportOption",value:function(e){var t,i=[],n=[],o=[],a=0,s=[];e.forEach(function(e){null==e.modelname&&(e.modelname="Others"),null==e.softwareversion&&(e.softwareversion="other");var t=e.modelname;a+=e.cpecount,-1==i.indexOf(t)&&i.push(t),s.push(e.softwareversion)}),this.cpeCount=a,t=s.filter(function(e,t,i){return i.indexOf(e)===t}),this.firmwareCount=t.length;for(var r=0;r<i.length;r++)o[r]=0;e.forEach(function(e){var t=!0;if(n.length&&n.forEach(function(n){n.name.hasOwnProperty(e.softwareversion)&&(n.data[i.indexOf(e.modelname)]=e.cpecount,t=!1)}),t){var a={};o=new Array(i.length).fill(0),a.name=e.softwareversion,a.data=o,a.data[i.indexOf(e.modelname)]=e.cpecount,n.push(a)}});var c=400;if(i&&i.length>0){var l=30*i.length;c=l<c?c:l}return{title:{text:""},chart:{type:"bar",height:c},xAxis:{categories:i||[],labels:{},title:{text:"Models"}},yAxis:{min:0,allowDecimals:!1,lineColor:"#ddd",title:{text:"Firmware Image Count (%) / Model"},opposite:!0,stackLabels:{enabled:!0,style:{fontWeight:"bold"}}},series:n,plotOptions:{series:{stacking:"normal",animation:{duration:500}}},credits:{enabled:!1},lang:{noData:this.language["No Data Available"]},tooltip:{formatter:function(){return this.point.category?this.point.category+"<br>"+this.series.name+" : "+this.point.y+" ("+d.numberFormat(this.point.percentage,2)+"%)":"See Export for details."}},legend:{enabled:!1},colors:["rgba(122,108,176,0.75)","rgba(238,174,0,0.75)","rgba(102,153,204,0.75)","rgba(102,153,0,0.75)","rgba(232,123,0,0.75)","rgba(68,54,125,0.75)","rgba(0,132,126,0.75)","rgba(23,190,207,0.75)","rgba(153,0,0,0.75)"],exporting:{enabled:!1}}}},{key:"downloadSftwreReport",value:function(){this.validatorService.exportAsExcelFile(this.softwareVersionsData,"export")}},{key:"export",value:function(){var e,t,i=this,n=this.reportType;this.manufacturer&&(e="&manufacturer=".concat(this.manufacturer)),this.modelName&&(e="".concat(e||"","&modelName=").concat(this.modelName)),this.opmode&&(e="".concat(e||"","&opmode=").concat(this.opmode)),this.serialNumber&&(e="".concat(e||"","&serialNumber=").concat(this.serialNumber)),this.subscriber&&(e="".concat(e||"","&subscriber=").concat(this.subscriber)),t="Software"==this.reportType?"&inversely_time_period=false":"&inversely_time_period=".concat(this.isTimePeriod?this.isTimePeriod:"false"),this.isRunActive=e;var o="".concat(r.N.SUPPORT_URL,"/netops-report/inventory-report/download?").concat(this.sso.getOrg(this.orgId),"reportType=").concat(n,"&startTime=").concat(this.startTime,"&endTime=").concat(this.endTime).concat(t||"").concat(e||"");if("GroupedDevices"===this.reportType){var a="";for(var s in delete this.params.inversely_time_period,this.params)this.params[s]&&(""!=a&&(a+="&"),a+=s+"="+encodeURIComponent(this.params[s]));o="".concat(r.N.SUPPORT_URL,"/netops-report/inventory-report/download?").concat(a)}o+="&timeZ=".concat(Intl.DateTimeFormat().resolvedOptions().timeZone),o+="&file=true",this.http.get(o).subscribe(function(e){i.downloadService.saveToDisk(e)},function(e){i.pageErrorHandle(e),i.error=e.error,c(".error").show(),i.loading=!1})}},{key:"closeAlert",value:function(){c(".time").hide("slow"),c(".error").hide("slow")}},{key:"pageErrorHandle",value:function(e){this.alertMessage=401===e.status?"Unauthorized User":500===e.status?"Internal Server Error":504===e.status||502==e.status?"Gateway Time-Out":this.sso.pageErrorHandle(e)}},{key:"compareStartDate",value:function(){this.customEndDate>0&&this.customStartDate>0&&(Date.parse(this.customEndDate)>Date.parse(this.customStartDate)?(this.startErrorMessage=!1,this.endErrorMessage=!1,this.bttnDissable=!1):Date.parse(this.customEndDate)<Date.parse(this.customStartDate)?(this.endErrorMessage=!1,this.startErrorMessage=!0,this.bttnDissable=!0):Date.parse(this.customEndDate)==Date.parse(this.customStartDate)?(this.startErrorMessage=!1,this.endErrorMessage=!1,this.bttnDissable=!1):(this.bttnDissable=!1,this.startErrorMessage=!1,this.endErrorMessage=!1))}},{key:"compareEndDate",value:function(){this.maxDate=this.customEndDate,this.customEndDate>0&&this.customStartDate>0&&(Date.parse(this.customEndDate)>Date.parse(this.customStartDate)?(this.startErrorMessage=!1,this.endErrorMessage=!1,this.bttnDissable=!1):Date.parse(this.customEndDate)<Date.parse(this.customStartDate)?(this.endErrorMessage=!0,this.startErrorMessage=!1,this.bttnDissable=!0):Date.parse(this.customEndDate)==Date.parse(this.customStartDate)?(this.startErrorMessage=!1,this.endErrorMessage=!1,this.bttnDissable=!1):(this.bttnDissable=!1,this.startErrorMessage=!1,this.endErrorMessage=!1))}},{key:"searchByCharacters",value:function(e,t){var i=this,n=e.serialnumber;n.length<2||(this.searchResult=[],this.service.performSearch(this.orgId,n,1,500).subscribe(function(o){var a,s,r;if(o){i.searchResult=o.records,i.stateinfo={serialNumber:e.serialnumber,isRouter:!0};var c=((null===(a=i.searchResult[0])||void 0===a?void 0:a.devices)||[]).filter(function(e){return"RG"==e.opMode}).map(function(e){return e.serialNumber});if(c.length>1){var d=c.includes(n)?n:((null===(s=i.searchResult[0])||void 0===s?void 0:s.devices)||[]).filter(function(e){return e.serialNumber==n}).map(function(e){return e.wapGatewaySn}).join();i.searchResult[0].devices=((null===(r=i.searchResult[0])||void 0===r?void 0:r.devices)||[]).filter(function(e){return e.serialNumber==d||e.wapGatewaySn==d})}if(i.router.url.includes("cco-foundation")||i.router.url.includes("cco")){if(i.router.url.includes("cco-foundation"))i.service.setSubscriberInfo(void 0),i.service.setSubscriberTabInfoData(void 0),i.router.navigate([]).then(function(e){window.open("/cco-foundation/foundation-systems/foundation-manage/system-details?sn=".concat(n,"&subscriber=").concat(o.records[0].subscriberId),"_blank")});else if(i.router.url.includes("/cco/")){localStorage.setItem("calix.Device_Details",JSON.stringify(o.records[0])),i.service.setSubscriberInfo(void 0),i.service.setSubscriberTabInfoData(void 0);var l=o.records[0].subscriberId?o.records[0].subscriberId:"";window.open("/cco/system/cco-subscriber-system/system-details?sn=".concat(n.trim(),"&subscriber=").concat(l),"_blank")}}else sessionStorage.setItem("calix.deviceData",JSON.stringify(i.searchResult[0].devices)),sessionStorage.setItem("calix.subscriberId",i.searchResult[0].subscriberId),"name"==t&&i.searchResult.length?(i.router.navigate([]).then(function(e){window.open("/support/overview/issues","_blank")}),sessionStorage.setItem("calix.serialNo",e.serialnumber)):(i.router.navigate([]).then(function(e){window.open("/support/router","_blank")}),i.service.setSubscriberInfo(void 0),i.service.setSubscriberTabInfoData(void 0),sessionStorage.setItem("calix.serialNo",e.serialnumber))}},function(e){}))}},{key:"changeTableStatusLanguage",value:function(e){var t=new Intl.NumberFormat;this.tableCounts={searchText:e.oPreviousSearch.sSearch.replace(/\s+/g,""),total:e._iRecordsTotal,displayCount:e._iDisplayLength,displayed:e._iRecordsDisplay,start:e._iDisplayStart};var i="fr"==sessionStorage.getItem("defaultLanguage"),n="es"==sessionStorage.getItem("defaultLanguage"),o="de_DE"==sessionStorage.getItem("defaultLanguage"),a=e.oPreviousSearch.sSearch.replace(/\s+/g,"")?i?"(filtr\xe9es \xe0 partir des ".concat(t.format(e._iRecordsTotal)," entr\xe9es totales)"):n?"(filtrado de un total de ".concat(t.format(e._iRecordsTotal)," entradas)"):o?"(gefiltert aus ".concat(t.format(e._iRecordsTotal)," Eintr\xe4gen)"):"(filtered from ".concat(t.format(e._iRecordsTotal)," total entries)"):"",s=0==e._iRecordsDisplay?-1:e._iDisplayStart,r=e._iDisplayStart+e._iDisplayLength>e._iRecordsDisplay?e._iRecordsDisplay:e._iDisplayStart+e._iDisplayLength;$('div [role="status"]').text(i?"Affichage de ".concat(t.format(s+1)," \xe0 ").concat(t.format(r)," des ").concat(t.format(e._iRecordsDisplay)," entr\xe9es ").concat(a):n?"Se muestran del ".concat(t.format(s+1)," al ").concat(t.format(r)," de ").concat(t.format(e._iRecordsDisplay)," resultados ").concat(a):o?"Angezeigt ".concat(t.format(s+1)," bis ").concat(t.format(r)," von ").concat(t.format(e._iRecordsDisplay)," ergebnissen ").concat(a):"Showing ".concat(t.format(s+1)," to ").concat(t.format(r)," of ").concat(t.format(e._iRecordsDisplay)," entries ").concat(a)),$(".first").text(i?"Le d\xe9but":n?"Primero":o?"Erste Seite":"First"),$(".previous").text(i?"Pr\xe9c\xe9dent":n?"Anterior":o?"Zur\xfcck":"Previous"),$(".next").text(i?"Suivant":n?"Siguiente":o?"Weiter":"Next"),$(".last").text(i?"Derni\xe8re":n?"\xdaltimo":o?"Letzte":"Last")}},{key:"removeUnwantedSpace",value:function(e,t){this[e]=this.CommonFunctionsService.trimSpaceFromNonObjectInputs(t)}},{key:"clearFilters",value:function(){this.manufacturer="",this.modelName="",this.opmode="",this.serialNumber="",this.subscriber="",this.doFilter()}}]),t}()).\u0275fac=function(e){return new(e||te)(l.Y36(u.s),l.Y36(g.eN),l.Y36(l.sBO),l.Y36(h.F),l.Y36(p.F0),l.Y36(m.Q),l.Y36(v.t6),l.Y36(f.s),l.Y36(b.o),l.Y36(_.y),l.Y36(T.K),l.Y36(y.Dx),l.Y36(Z.i))},te.\u0275cmp=l.Xpm({type:te,selectors:[["app-inventory-report"]],viewQuery:function(e,t){var i;1&e&&l.Gf(s.G,5),2&e&&l.iGM(i=l.CRH())&&(t.dtElement=i.first)},decls:43,vars:21,consts:[["id","inventory-report",1,"tab-pane"],[1,"row","p-0","d-none"],[1,"col-md-12","mb-4","f-size-18"],[1,"w-100","alert","alert-danger","time","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex"],[1,"w-100","alert","alert-danger","error","fade","show"],[1,"d-inline-flex",3,"innerHtml"],[1,"row","no-gutters","my-3"],[1,"d-block","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],["id","netops_report_section",1,"mt-3"],[1,"row","my-3"],["for","deviceReport",1,"col-12","col-lg-2"],[1,"error"],[1,"col-12","col-lg-5","state-success"],["id","deviceReport","name","rttype","bindLabel","name","bindValue","id","required","",3,"ngModel","items","clearable","searchable","ngModelOptions","ngModelChange","change"],["rttype","ngModel"],["ng-label-tmp",""],["ng-option-tmp",""],["class","errorMessage",4,"ngIf"],["class","row my-3",4,"ngIf"],["class","row my-3 d-flex",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"d-flex","justify-content-start"],["type","button","id","netops_report_load_bttn",1,"btn-default","primary","px-3","mb-3",3,"disabled","click"],[4,"ngIf"],["class","table-responsive tableWidth margin-top-5",4,"ngIf"],[1,"errorMessage"],["for","devicetime",1,"col-12","col-md-12","col-sm-12","col-xl-2","col-lg-2"],[1,"col-md-12","col-sm-12","col-xl-5","col-lg-5","state-success"],["name","dvtime","id","timePeriod","bindLabel","name","bindValue","id","required","",3,"ngModel","ngModelOptions","items","clearable","searchable","ngModelChange","change"],["dvtime","ngModel"],["id","deviceTimeErr","class","errorMessage",4,"ngIf"],["id","deviceTimeErr",1,"errorMessage"],["for","deviceGroup",1,"col-md-3","col-sm-3","col-xl-2","col-lg-2"],[1,"col-md-9","col-sm-9","col-xl-5","col-lg-5","state-success"],["id","deviceGroup","bindLabel","name","bindValue","name",3,"ngModel","ngModelOptions","items","ngModelChange","change"],["id","deviceValidation",1,"hValidationMessage","m-0"],[1,"row","my-3","d-flex"],[1,"col-lg-2"],[1,"col-lg-5","float-right"],[1,"row"],[1,"col-sm-12","col-lg-6","col-xl-6","col-md-6"],[1,"ccl-form","w-100"],["id","start_date","appendTo","body","dateFormat","mm-dd-yy",3,"inputStyle","autoZIndex","ngModel","showIcon","ngModelOptions","maxDate","minDate","ngModelChange","onSelect"],["id","stDateValidation",1,"hValidationMessage"],[1,"col-md-6"],[1,"ccl-form"],["id","enDateValidation",1,"hValidationMessage"],[1,"row","mt-3"],[1,"col-md-2","control-label","text-left"],["nottimePeriod",""],[1,"col-md-4"],[1,"checkbox","switcher"],["for","test"],["type","checkbox","id","test","checked","","data-toggle","toggle",3,"ngModelOptions","ngModel","ngModelChange","change"],[1,"on"],[1,"off"],["id","container","class","h-auto",4,"ngIf"],["id","chartDetails",4,"ngIf"],["id","exportTableDiv","class","col-sm-12",4,"ngIf"],[1,""],["class","inventory-details-table",4,"ngIf"],["class","loader",4,"ngIf"],["id","container",1,"h-auto"],["id","chartDetails"],["id","exportTableDiv",1,"col-sm-12"],["aria-hidden","true",1,"fa","fa-2x","fa-download","pull-right","export-software-versions","pointer",3,"click"],[1,"pull-right","d-inline-flex","pointer",3,"click"],["id","netops_report_search_section",1,"filter-section","filter-elemnts","pt-2"],[1,"richadtest"],[1,"col-12","row","p-0"],[1,"inside"],["for","Mfg",1,"f-w-600"],["id","Mfg","bindLabel","name","bindValue","id",1,"selectboxwidth",3,"ngModel","items","ngModelOptions","clearable","searchable","ngModelChange"],["for","modelname",1,"f-w-600"],[1,"state-success"],["id","modName","bindLabel","name","bindValue","id",1,"selectboxwidth",3,"ngModel","items","ngModelOptions","clearable","searchable","ngModelChange"],["for","mode",1,"f-w-600"],["id","mod","bindLabel","name","bindValue","id",1,"selectboxwidth",3,"ngModel","items","ngModelOptions","clearable","searchable","ngModelChange"],[1,"form-group","ccl-form"],["for","inputEmail3",1,"f-w-600"],["type","text","id","serialNumber","oninput","this.value = this.value.replace(/[^0-9A-Za-z]/g, '').replace(/(\\..?)\\../g, '$1')","name","serialNumber","trimSpace","",1,"inputboxwidth",3,"ngModel","ngModelChange","blur"],["type","text","id","subscriber","name","subscriber","trimSpace","",1,"inputboxwidth",3,"ngModel","ngModelChange","blur"],[1,"col-12","p-0","d-flex","align-items-center"],[1,"mr-3","align-self-center"],["type","button","id","netops_report_filter_bttn",1,"btn-default","primary",3,"click"],["type","button","id","netops_report_filter_bttn",1,"btn-link","text-decoration-none",3,"click"],[1,"inventory-details-table"],[1,"d-flex","justify-content-end","mb-3"],["id","exportanchor",1,"btn-dft","btn-default","text-decoration-none","py-1","cursor-pointer",3,"click"],[1,"table-responsive","tableWidth"],["id","inventory-rep","datatable","",1,"table","row-border","hover","table-alter",3,"dtOptions"],[1,"f-w-600"],["scope","col"],["scope","col","id","invMac"],["scope","col","id","invLDT"],["scope","col","id","invLCT"],[4,"ngFor","ngForOf"],["class","primary link-pointer",3,"click",4,"ngIf","ngIfElse"],["subscriberNameLink",""],["serialNumberLink",""],[1,"primary","link-pointer",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"table-responsive","tableWidth","margin-top-5"],[1,"text-center"]],template:function(e,t){if(1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h4",2),l._uU(3),l.qZA(),l.qZA(),l.TgZ(4,"div",3),l.TgZ(5,"span",4),l._UZ(6,"img",5),l.qZA(),l.TgZ(7,"button",6),l.NdJ("click",function(){return t.closeAlert()}),l._UZ(8,"span"),l.qZA(),l.TgZ(9,"div",7),l._uU(10),l.qZA(),l.qZA(),l.TgZ(11,"div",8),l.TgZ(12,"span",4),l._UZ(13,"img",5),l.qZA(),l.TgZ(14,"button",6),l.NdJ("click",function(){return t.closeAlert()}),l._UZ(15,"span"),l.qZA(),l._UZ(16,"div",9),l.qZA(),l.TgZ(17,"div",10),l.TgZ(18,"div",11),l._uU(19),l.qZA(),l.qZA(),l.TgZ(20,"section",12),l.TgZ(21,"form"),l.TgZ(22,"div",13),l.TgZ(23,"label",14),l._uU(24),l.TgZ(25,"span",15),l._uU(26,"*"),l.qZA(),l.qZA(),l.TgZ(27,"div",16),l.TgZ(28,"ng-select",17,18),l.NdJ("ngModelChange",function(e){return t.reportType=e})("change",function(){return t.onChangeReportType()}),l.YNc(30,M,1,1,"ng-template",19),l.YNc(31,S,1,1,"ng-template",20),l.qZA(),l.YNc(32,A,2,1,"div",21),l.qZA(),l.qZA(),l.YNc(33,N,9,8,"div",22),l.YNc(34,k,9,6,"div",22),l.YNc(35,E,20,30,"div",23),l.YNc(36,L,11,4,"div",24),l.qZA(),l.qZA(),l.TgZ(37,"div",25),l.TgZ(38,"button",26),l.NdJ("click",function(){return t.doFilter()}),l._uU(39),l.qZA(),l.qZA(),l.YNc(40,G,2,0,"section",27),l.YNc(41,K,8,6,"div",27),l.YNc(42,ee,3,1,"div",28),l.qZA()),2&e){var i=l.MAs(29);l.xp6(3),l.Oqu(t.language.Inventory_Reports),l.xp6(7),l.Oqu(t.language.Time_alert),l.xp6(6),l.Q6J("innerHtml",t.alertMessage,l.oJD),l.xp6(3),l.Oqu(t.language["Inventory Report"]),l.xp6(5),l.Oqu(t.language.Report_Type),l.xp6(4),l.Q6J("ngModel",t.reportType)("items",t.reportTypes)("clearable",!1)("searchable",!1)("ngModelOptions",l.DdM(20,P)),l.xp6(4),l.Q6J("ngIf",(null==i?null:i.invalid)&&((null==i?null:i.touched)||t.submit)),l.xp6(1),l.Q6J("ngIf",!t.showCustomDeviceGroup&&!t.hideCustomSelect),l.xp6(1),l.Q6J("ngIf",t.showCustomDeviceGroup),l.xp6(1),l.Q6J("ngIf",t.showCustomTimePeriod),l.xp6(1),l.Q6J("ngIf",!t.showCustomDeviceGroup&&!t.hideCustomSelect),l.xp6(2),l.Q6J("disabled",t.bttnDissable),l.xp6(1),l.hij(" ",t.language.Load_Report," "),l.xp6(1),l.Q6J("ngIf",t.unassosSystem),l.xp6(1),l.Q6J("ngIf",!t.unassosSystem),l.xp6(1),l.Q6J("ngIf",!t.inventoryCount&&t.showNoResults&&!t.unassosSystem)}},directives:[x._Y,x.JL,x.F,D.w9,x.Q7,x.JJ,x.On,D.bb,D.Z2,w.O5,C.f,x.Wl,O.k,x.Fj,s.G,w.sg],pipes:[w.uU],styles:["div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0;cursor:pointer}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{vertical-align:middle}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:relative;display:inline-block;width:45px;height:25px;background:#ffffff;border:1px solid #0279ff;border-radius:50px;transition:all .3s ease-in-out;padding:5px}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{position:absolute;display:block;width:20px;height:19px;background:#0279ff;border-radius:50%;transition:all .3s ease-in-out;left:2px;top:2px}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{background:#269bff;border-color:#269bff}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{left:50%;background:#ffffff}form[_ngcontent-%COMP%]{width:100%}.btn-right[_ngcontent-%COMP%]{width:100%;padding-right:15px}.multi-btndropdown-sec[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;flex:0 0 100%}.multi-btndropdown-sec[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:18%}[_nghost-%COMP%]     table.dataTable td.dataTables_empty{display:none}.ng-option[_ngcontent-%COMP%]:first-child{padding:15%}.l1[_ngcontent-%COMP%]{margin-left:-10px;font-size:15px}th[_ngcontent-%COMP%]{font-weight:bold}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;pointer-events:all!important}.highcharts-figure[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:310px;max-width:800px;margin:1em auto}#container[_ngcontent-%COMP%]{height:400px}.alert[_ngcontent-%COMP%]{display:none;margin:2%}.highcharts-data-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:Verdana,sans-serif;border-collapse:collapse;border:1px solid #EBEBEB;margin:10px auto;text-align:center;width:100%;max-width:500px}.highcharts-data-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{padding:1em 0;font-size:1.2em;color:#555}.highcharts-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;padding:.5em}.highcharts-data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{padding:.5em}.highcharts-data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f8f8f8}.highcharts-data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f1f7ff}.pointer[_ngcontent-%COMP%]{cursor:pointer}.ValidationMessage[_ngcontent-%COMP%]{color:#c70000;line-height:20px;padding-left:0px 18px;display:flex}.hValidationMessage[_ngcontent-%COMP%]{display:none;color:#c70000;line-height:20px;display:-ms-flexbox}.richadtest[_ngcontent-%COMP%]{width:100%;display:flex;padding:0 4px 0 8px;flex-wrap:wrap}.richadtest[_ngcontent-%COMP%]   .inside[_ngcontent-%COMP%]{width:calc(100% / 5);padding:0 10px}.inventory-details-table[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;margin-bottom:15px;overflow:auto}.inventory-details-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%!important;margin-bottom:15px}.inventory-details-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}.inventory-details-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff;z-index:1;padding:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .inventory-details-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{padding-top:20px;width:25%}.inventory-details-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px}#chartDetails[_ngcontent-%COMP%]{text-align:center}.ng-dropdown-panel-items[_ngcontent-%COMP%]   #a7d555aa09e4-0[_ngcontent-%COMP%]{padding:15px 0!important}.link-pointer[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none}.btn-link[_ngcontent-%COMP%]{background:transparent;border:none}.btn-link[_ngcontent-%COMP%]:hover{background-color:transparent}"]}),te)},99104:function(t,n,o){o.d(n,{F:function(){return u}});var a,s=o(91841),r=o(92340),c=o(49457),d=o(37716),l=o(89097),u=((a=function(){function t(i,n){var o=this;e(this,t),this.http=i,this.sso=n,this.deleteReport=function(e){var t="";for(var i in e)e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));return o.http.delete("".concat(r.N.SUPPORT_URL,"/call/avoidance/subscriber_report?").concat(t))}}return i(t,[{key:"getInventoryReport",value:function(e){console.log(e);var t="";for(var i in e)e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));return this.http.get("".concat(r.N.SUPPORT_URL,"/netops-report/inventory-report?").concat(t))}},{key:"getInventoryCount",value:function(e){console.log("ppp"+JSON.stringify(e));var t="";for(var i in e)e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));return this.http.get("".concat(r.N.SUPPORT_URL,"/netops-report/inventory-report/count?").concat(t))}},{key:"getDropDownData",value:function(e){return this.http.get("".concat(r.N.SUPPORT_URL,"/netops-device/device-type?matcher=").concat(e))}},{key:"getChartData",value:function(e){var t="";for(var i in e)return e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i])),this.http.get("".concat(r.N.SUPPORT_URL,"/netops-report/inventory-report?").concat(t))}},{key:"getInventorySoftwareReport",value:function(e){var t=this.sso.getOrg(e);return this.http.get("".concat(r.N.SUPPORT_URL,"/netops-report/softwareVersion?").concat(t))}},{key:"getCallAvoidanceReport",value:function(e){console.log(e);var t="";for(var i in e)e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));return this.http.get("".concat(r.N.SUPPORT_URL,"/call/avoidance/subscriber_report?").concat(t))}},{key:"addReportQuery",value:function(e){return console.log("response called"),"_id"in e?this.http.put("".concat(r.N.SUPPORT_URL,"/call/avoidance/subscriber_report"),e):this.http.post("".concat(r.N.SUPPORT_URL,"/call/avoidance/subscriber_report"),e)}},{key:"getSummary",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(r.N.SUPPORT_URL,"/call/avoidance/task_execlog_summary?").concat(i,"jobId=").concat(t))}},{key:"getSummaryDetails",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(r.N.SUPPORT_URL,"/call/avoidance/task_execlog_detail?").concat(i,"_id=").concat(t))}},{key:"exportFromUrl",value:function(e,t){var i={headers:(new s.WM).set("content-type","application/json").set("Accept-Encoding","gzip, deflate, br").set("Connection","keep-alive").set("Accept","*/*"),responseType:"arraybuffer"};this.http.get(e,i).subscribe(function(e){console.log("data=>",e);var i=new Blob([e],{type:"application/octet-stream"});c.saveAs(i,t)})}}]),t}()).\u0275fac=function(e){return new(e||a)(d.LFG(s.eN),d.LFG(l.t6))},a.\u0275prov=d.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a)},17507:function(t,n,o){o.d(n,{k:function(){return S}});var a,s=o(23771),r=o(79765),c=o(92340),d=o(37716),l=o(7450),u=o(91841),g=o(89097),h=((a=function(){function t(i,n){e(this,t),this.http=i,this.sso=n}return i(t,[{key:"getUnassociatedDeviceData",value:function(e){console.log(e);var t="";for(var i in e)e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));return this.http.get("".concat(c.N.SUPPORT_URL,"/netops-report/devices-unlinked?").concat(t))}},{key:"getUnassociatedDeviceDownload",value:function(e){console.log("params download",e);var t="";for(var i in e)console.log("key=",i),e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));return this.http.get("".concat(c.N.SUPPORT_URL,"/netops-report/devices-unlinked/download?").concat(t))}},{key:"getUnassociatedDeviceDataCount",value:function(e){var t=this.sso.getOrg(e);return this.http.get("".concat(c.N.SUPPORT_URL,"/netops-report/devices-unlinked/count?").concat(t))}}]),t}()).\u0275fac=function(e){return new(e||a)(d.LFG(u.eN),d.LFG(g.t6))},a.\u0275prov=d.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a),p=o(39895),m=o(48483),v=o(94802),f=o(90048),b=o(49342),_=o(39075),T=o(43721),y=o(38583),Z=o(3679);function x(e,t){if(1&e&&(d.TgZ(0,"div",20),d.TgZ(1,"div",21),d.TgZ(2,"div",22),d.TgZ(3,"span",23),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw();d.xp6(4),d.Oqu(i.language.Loading)}}function D(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",24),d.TgZ(1,"span",25),d._UZ(2,"img",26),d.qZA(),d.TgZ(3,"button",27),d.NdJ("click",function(){return d.CHM(i),d.oxw().closeAlert()}),d._UZ(4,"span"),d.qZA(),d._UZ(5,"div",28),d.qZA()}if(2&e){var n=d.oxw();d.xp6(5),d.Q6J("innerHtml",n.errorInfo,d.oJD)}}function w(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"button",29),d.NdJ("click",function(e){return d.CHM(i),d.oxw().closeicon(e.target.value)}),d._UZ(1,"span",30),d.qZA()}}function C(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",31),d.TgZ(1,"span",32),d.NdJ("click",function(){return d.CHM(i),d.oxw().downloadUnassociatedSysReport()}),d.TgZ(2,"a",33),d._uU(3),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw();d.xp6(3),d.Oqu(n.language.export)}}function O(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d.TgZ(2,"span",34),d.NdJ("click",function(){var e=d.CHM(i).$implicit;return d.oxw().snRedirection(e)}),d._uU(3),d.qZA(),d.qZA(),d.TgZ(4,"td"),d._uU(5),d.qZA(),d.TgZ(6,"td"),d._uU(7),d.qZA(),d.TgZ(8,"td"),d._uU(9),d.qZA(),d.TgZ(10,"td"),d._uU(11),d.qZA(),d.TgZ(12,"td"),d._uU(13),d.qZA(),d.TgZ(14,"td"),d.TgZ(15,"span",35),d._uU(16),d.qZA(),d._uU(17),d.ALo(18,"date"),d.qZA(),d.TgZ(19,"td"),d.TgZ(20,"span",35),d._uU(21),d.qZA(),d._uU(22),d.ALo(23,"date"),d.qZA(),d.qZA()}if(2&e){var n=t.$implicit;d.xp6(3),d.Oqu(n.serialNumber),d.xp6(2),d.Oqu(n.ipAddress),d.xp6(2),d.Oqu(n.macAddress),d.xp6(2),d.Oqu(n.modelName),d.xp6(2),d.Oqu(n.softwareVersion),d.xp6(2),d.Oqu(n.prevSubscriber),d.xp6(3),d.Oqu(n.createTime),d.xp6(1),d.Oqu(n.createTime?d.xi3(18,10,n.createTime,"MM/dd/yyyy, hh:mm:ss a"):"N/A"),d.xp6(4),d.Oqu(n.lastInformTime),d.xp6(1),d.Oqu(n.lastInformTime?d.xi3(23,13,n.lastInformTime,"MM/dd/yyyy, hh:mm:ss a"):"N/A")}}function M(e,t){if(1&e&&(d.TgZ(0,"tbody"),d.TgZ(1,"tr"),d.TgZ(2,"td",36),d._uU(3),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw();d.xp6(3),d.hij("",i.language["No data available in table"]," ")}}var S=function(){var t=function(){function t(i,n,o,a,s,c,d,l,u,g){e(this,t),this.translateService=i,this.unassociateddevice=n,this.router=o,this.sso=a,this.dateUtils=s,this.service=c,this.downloadService=d,this.commonOrgService=l,this.titleService=u,this.validatorService=g,this.dtTrigger=new r.xQ,this.showcloseicon=!1,this.errorInfo="",this.showNoResults=!1,this.unassociatedDeviceData=[],this.tableHide=!0,this.tableOptions={pagingType:"full_numbers",pageLength:15,serverSide:!1,processing:!1,searching:!0,ordering:!0,dom:"tipr",order:[],columnDefs:[{searchable:!1,targets:[1,3,4,5,6,7]}]},this.hasScopeAccess=!1,this.hideExport=!0,this.startTime=0,this.endTime=0,this.manufacturer="",this.modelName="",this.opmode="",this.serialNumber="",this.subscriber="",this.inversely_time_period=!1,this.unassociatedDownloadData=[],this.frTable=this.translateService.fr,this.esTable=this.translateService.es,this.germanTable=this.translateService.de_DE}return i(t,[{key:"setTitle",value:function(e){this.router.url.includes("cco/operations/cco-reports")||this.router.url.includes("cco-foundation")?this.router.url.includes("cco-foundation")?this.titleService.setTitle("".concat(this.language.Reports," - ").concat(this.language.Deployment," - ").concat(this.language["Calix Cloud"])):this.titleService.setTitle("".concat(this.language["Unassociated Systems"]," - ").concat(this.language.Reports," - ").concat(this.language.Operations," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"])):this.titleService.setTitle("".concat(this.language["Unassociated Systems"]," - ").concat(this.language.Reports," - ").concat(this.language.NetOps," - ").concat(this.language.Service,"- ").concat(this.language["Calix Cloud"]))}},{key:"ngOnInit",value:function(){var e=this;if(this.hideExport=!!this.router.url.includes("support/netops-management/reports/unassociated-devices"),this.orgId=this.sso.getOrgId(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t,e.tableLanguageOptions(),e.rerender(),e.setTitle(e.router.url)}),this.setTitle(this.router.url),this.router.url.includes("cco/operations/cco-reports/unassociated-devices")){var t=this.sso.getScopes();if(c.N.VALIDATE_SCOPE){var i=Object.keys(t);if(i)for(var n=0;n<i.length;n++)if(-1!==i[n].indexOf("cloud.rbac.coc.operations.report.unassociatedsystems")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;if(!this.hasScopeAccess)return void this.sso.setPageAccess(!1)}this.getDeviceCount()}},{key:"fetchConfigurationList",value:function(){this.tableOptions={pagingType:"full_numbers",pageLength:15,serverSide:!1,processing:!1,searching:!0,ordering:!0,dom:"tipr"}}},{key:"getDeviceCount",value:function(){var e=this;this.loading=!0,this.unassociateddevice.getUnassociatedDeviceDataCount(this.orgId).subscribe(function(t){e.loading=!1,e.unassociatedDeviceDataCount=t.count,(0===e.unassociatedDeviceDataCount||null!=e.unassociatedDeviceDataCount)&&(e.showNoResults=!0,e.tableHide=!0),e.tableHide=!1,e.getDevices(),e.getDateAndTimeConverted(),e.getTable()},function(t){e.showNoResults=!0,e.unassociatedDeviceDataCount=0,e.loading=!1,e.pageErrorHandle(t),$("body").scrollTop(0)})}},{key:"getDevices",value:function(){var e=this;this.loading=!0,this.unassociateddevice.getUnassociatedDeviceData({limit:this.unassociatedDeviceDataCount,skip:0,manufacturer:this.manufacturer,modelName:this.modelName,opmode:this.opmode,serialNumber:this.serialNumber,subscriber:this.subscriber,startTime:this.startTime,endTime:this.endTime,inversely_time_period:"false",group_name:"",timeZ:""}).subscribe(function(t){e.unassociatedDeviceData=t,e.loading=!1,e.tableHide=!1,e.dtTrigger.next()},function(t){e.showNoResults=!0,e.loading=!1,e.pageErrorHandle(t),$("body").scrollTop(0)}),this.tableLanguageOptions()}},{key:"closeicon",value:function(e){this.searchtext="",this.showcloseicon=!1,this.search(this.searchtext)}},{key:"search",value:function(e){this.searchtext=e,this.showcloseicon=!!e.length,this.datatableElement.dtInstance.then(function(t){t.search(e).draw()}),this.loading=!1}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe()}},{key:"getDateAndTimeConverted",value:function(){this.dateUtils.getCurrentUtcTime()}},{key:"getTable",value:function(){this.tableHide=!0}},{key:"snRedirection",value:function(e){var t=this,i=e.serialNumber,n=[];n.push(e),localStorage.setItem("calix.Device_Details",JSON.stringify({devices:n})),!(i.length<2)&&this.service.performSearch(this.orgId,i,1,500).subscribe(function(e){if(e)if(t.router.url.includes("/cco/")){t.service.setSubscriberInfo(void 0),t.service.setSubscriberTabInfoData(void 0);var n=t.router.createUrlTree(["/cco/system/cco-subscriber-system/system-details"],{queryParams:{sn:i,subscriber:e.records[0].subscriberId,redirect:"/cco/operations/cco-reports/unassociated-devices"}});window.open(n.toString(),"_blank")}else if(t.router.url.includes("cco-foundation")){t.service.setSubscriberInfo(void 0),t.service.setSubscriberTabInfoData(void 0);var o=t.router.createUrlTree(["/cco-foundation/foundation-systems/foundation-manage/system-details"],{queryParams:{sn:i,subscriber:e.records[0].subscriberId,redirect:"/cco/operations/cco-reports/unassociated-devices"}});window.open(o.toString(),"_blank")}else{sessionStorage.removeItem("calix.subscriberId"),sessionStorage.setItem("calix.deviceData",JSON.stringify(e.records[0].devices)),sessionStorage.setItem("calix.serialNo",i),t.service.setSubscriberInfo(void 0),t.service.setSubscriberTabInfoData(void 0);var a=t.router.createUrlTree(["./support/router"]);window.open(a.toString(),"_blank")}},function(e){})}},{key:"tableLanguageOptions",value:function(){"fr"==this.language.fileLanguage?this.tableOptions.language=this.frTable:"es"==this.language.fileLanguage?this.tableOptions.language=this.esTable:"de_DE"==this.language.fileLanguage?this.tableOptions.language=this.germanTable:"en"==this.language.fileLanguage&&this.tableOptions.language&&delete this.tableOptions.language}},{key:"rerender",value:function(){var e=this;this.datatableElement.dtInstance.then(function(t){t.destroy(),e.dtTrigger.next()})}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.sso.pageErrorHandle(e),this.closeAlert(),this.error=!0}},{key:"downloadUnassociatedSysReport",value:function(){var e=this;this.loading=!0;var t={file:"true",timeZ:this.dateUtils.getLocalTimeZoneName(),regex:this.searchtext};this.unassociateddevice.getUnassociatedDeviceDownload(t).subscribe(function(t){e.unassociatedDownloadData=t,e.downloadService.saveToDisk(e.unassociatedDownloadData),e.loading=!1},function(t){e.loading=!1,e.unassociatedDownloadData=[],e.downloadService.saveToDisk(e.unassociatedDownloadData),e.pageErrorHandle(t),$("body").scrollTop(0)})}},{key:"closeAlert",value:function(){this.error=!1}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(l.s),d.Y36(h),d.Y36(p.F0),d.Y36(g.t6),d.Y36(m.s),d.Y36(v.Q),d.Y36(f.K),d.Y36(b.v),d.Y36(_.Dx),d.Y36(T.o))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-unassociated-devices"]],viewQuery:function(e,t){var i;(1&e&&d.Gf(s.G,5),2&e)&&(d.iGM(i=d.CRH())&&(t.datatableElement=i.first))},decls:41,vars:23,consts:[[1,"w-100","position-relative"],["class","loader pt-5 align-items-start",4,"ngIf"],[1,"row","no-gutters","my-3"],[1,"d-block","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],[1,"col-12","px-0","mb-2"],[1,"row","my-2"],[1,"col-sm-6"],["id","netops_unassdev_search",1,"col-sm-6"],[1,"d-flex","align-items-center"],[1,"form-group","ccl-form","form-inline","d-inline-flex","position-relative","mb-3"],["for","search",1,"mr-1"],["id","","oninput","this.value = this.value.replace(/[^0-9A-Za-z:]/g, '').replace(/(\\..?)\\../g, '$1')",1,"ccl-from","ccl-search-input",3,"ngModel","placeholder","keyup","search","ngModelChange"],["type","button","class","close position-absolute mr-2",3,"click",4,"ngIf"],["class","form-group ml-3",4,"ngIf"],["id","netops_unassdev_table_div",1,"overflow-auto",3,"hidden"],["datatable","",1,"hover","table-alter",3,"dtOptions","dtTrigger"],[3,"ngClass"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"loader","pt-5","align-items-start"],[1,"d-flex","align-items-start","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button","id","hide-error-btn",1,"close",3,"click"],[1,"d-inline-flex","w-auto",3,"innerHtml"],["type","button",1,"close","position-absolute","mr-2",3,"click"],[1,"sh-clear-icon"],[1,"form-group","ml-3"],["id","exportanchor",1,"export-btn",3,"click"],["href","javascript:void(0)",1,"btn-dft","btn-default","text-decoration-none"],[1,"ud-sno",3,"click"],[1,"d-none"],["colspan","8",1,"no-data-available"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.YNc(1,x,5,1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d._uU(4),d.qZA(),d.qZA(),d.YNc(5,D,6,1,"div",4),d.TgZ(6,"div",5),d.TgZ(7,"div",6),d._UZ(8,"div",7),d.TgZ(9,"div",8),d.TgZ(10,"div",9),d.TgZ(11,"div",10),d.TgZ(12,"label",11),d._uU(13),d.qZA(),d.TgZ(14,"input",12),d.NdJ("keyup",function(e){return t.search(e.target.value)})("search",function(e){return t.search(e.target.value)})("ngModelChange",function(e){return t.searchtext=e}),d.qZA(),d.YNc(15,w,2,0,"button",13),d.qZA(),d.YNc(16,C,4,1,"div",14),d.qZA(),d.qZA(),d.qZA(),d.TgZ(17,"div",15),d.TgZ(18,"table",16),d.TgZ(19,"thead"),d.TgZ(20,"tr"),d.TgZ(21,"th"),d._uU(22),d.qZA(),d.TgZ(23,"th"),d._uU(24),d.qZA(),d.TgZ(25,"th"),d._uU(26),d.qZA(),d.TgZ(27,"th"),d._uU(28),d.qZA(),d.TgZ(29,"th"),d._uU(30),d.qZA(),d.TgZ(31,"th"),d._uU(32),d.qZA(),d.TgZ(33,"th"),d._uU(34),d.qZA(),d.TgZ(35,"th"),d._uU(36),d.qZA(),d.qZA(),d.qZA(),d.TgZ(37,"tbody",17),d.YNc(38,O,24,16,"tr",18),d.qZA(),d.YNc(39,M,4,1,"tbody",19),d._UZ(40,"tbody"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(1),d.Q6J("ngIf",t.loading),d.xp6(3),d.hij("",t.language["Unassociated Systems"]," "),d.xp6(1),d.Q6J("ngIf",t.error),d.xp6(8),d.Oqu(t.language.Filter),d.xp6(1),d.hYB("placeholder","",t.language.FSAN_Serial_Number,"/",t.language.macAddress,""),d.Q6J("ngModel",t.searchtext),d.xp6(1),d.Q6J("ngIf",t.showcloseicon),d.xp6(1),d.Q6J("ngIf",!t.hideExport),d.xp6(1),d.Q6J("hidden",t.tableHide),d.xp6(1),d.Q6J("dtOptions",t.tableOptions)("dtTrigger",t.dtTrigger),d.xp6(4),d.hij("FSAN/",t.language.Serial_Number,""),d.xp6(2),d.Oqu(t.language.IP_Address),d.xp6(2),d.Oqu(t.language.MAC_Address),d.xp6(2),d.Oqu(t.language.Model),d.xp6(2),d.Oqu(t.language.Software_Version),d.xp6(2),d.Oqu(t.language.Previous_Subscriber),d.xp6(2),d.Oqu(t.language.Discovery_Time),d.xp6(2),d.Oqu(t.language.Last_Inform_Time),d.xp6(1),d.Q6J("ngClass",0===t.unassociatedDeviceDataCount?"dataTables_empty":"tableHide"),d.xp6(1),d.Q6J("ngForOf",t.unassociatedDeviceData),d.xp6(1),d.Q6J("ngIf",null!=t.unassociatedDeviceDataCount&&0===t.unassociatedDeviceDataCount&&t.showNoResults))},directives:[y.O5,Z.Fj,Z.JJ,Z.On,s.G,y.mk,y.sg],pipes:[y.uU],styles:[".d-inline-flex[_ngcontent-%COMP%]{width:100%;display:inline-flex;justify-content:flex-end;align-items:center}.ud-sno[_ngcontent-%COMP%]{color:#0279ff}.ud-sno[_ngcontent-%COMP%]:hover{color:#0279ff;text-decoration:underline;cursor:pointer}  .dataTables_filter{display:none}.hide-close-search[_ngcontent-%COMP%]{display:none}.show-close-search[_ngcontent-%COMP%]{color:gray;display:block;position:absolute;right:15px;font-size:22px;top:2px}.dataTables_empty[_ngcontent-%COMP%]{display:none}.ccl-search-input[_ngcontent-%COMP%]{max-width:270px;width:100%}.sh-clear-icon[_ngcontent-%COMP%]{width:11.7px;height:11.7px;background-size:11.7px}"]}),t}()}}])}();