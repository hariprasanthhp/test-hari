!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,o){if(!e)return;if("string"==typeof e)return t(e,o);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,o)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,a=new Array(t);o<t;o++)a[o]=e[o];return a}function o(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(n=a.key,i=void 0,"symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n,"string"))?i:String(i)),a)}var n,i}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[6855],{96855:function(t,a,n){n.d(a,{a:function(){return d}});var i=n(79765),r=n(25917),s=n(1282),l=n(37716),c=n(48483),u=n(7450),g=n(39895),h=n(21693);n(65424)(s);var p,d=((p=function(){function t(e,o,a,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.dateUtils=e,this.translateService=o,this.router=a,this.issueService=n,this.filterDays="7",this.filterDays$=new i.xQ,this.systemStatusData$=new i.xQ,this.commonHighChartOptions={exporting:{enabled:!1},credits:{enabled:!1},title:{text:""},responsive:{rules:[{condition:{},chartOptions:{chart:{color:"#4c4c4c"},subtitle:{text:null},navigator:{enabled:!1}}}]}},this.lineChartColors=["#b3d974","#fd9e4c","#fc6784"],this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){r.language=e})}var a,n,l;return a=t,(n=[{key:"getNetworkAvailabilityOptions",value:function(e,t,o){var a=this,n=[],i=[],r=[];return e.length&&(e=this.sortByTimestamp(e,"time")).forEach(function(e){n.push(a.dateUtils.getChartFormatDate(e.time,"M/d/yy",!0)),i.push(e.outage),r.push(e.degrade)}),Object.assign(Object.assign({},this.commonHighChartOptions),{credits:{enabled:!1},chart:{type:"line",style:{fontFamily:"Source Sans Pro,Regular",fontSize:"12px",color:"#4c4c4c"},plotBorderWidth:1},colors:["#0027FF","#5ACFEA"],title:{text:null},xAxis:[{min:0,gridLineWidth:1,categories:n,tickInterval:5}],yAxis:[{min:0,allowDecimals:!0,title:{text:t&&this.language?this.language[t]:t||"",style:{color:"#727272"}},style:{fontFamily:"Source Sans Pro,Regular",fontSize:"13px",color:"#4c4c4c"}}],legend:{symbol:"square",enabled:!!o},tooltip:{shared:!0,crosshairs:!0},series:[{name:"".concat(this.language["Service Outage"]),data:i},{name:"".concat(this.language["Service Degradation"]),data:r}],plotOptions:{series:{cursor:"pointer",marker:{enabled:!1},pointPlacement:"on",point:{events:{}}},states:{inactive:{enabled:!1}}},responsive:{rules:[{condition:{}}]}})}},{key:"getCommonSubscribersChartOptions",value:function(t,o,a){var n,i=Object.assign(Object.assign({},this.commonHighChartOptions),{credits:{enabled:!1},chart:{type:"line",style:{fontFamily:"Source Sans Pro,Regular",fontSize:"12px",color:"#4c4c4c"},plotBorderWidth:1},colors:["#0027FF","#5ACFEA","#b926f0","#FF8238","#029A7C","#F7C343","#FF489D"],title:{text:null},xAxis:[{min:0,gridLineWidth:1,categories:t.categories,labels:{rotation:-25},tickmarkPlacement:"on",tickInterval:(n=t.categories?t.categories.length:0,Math.floor(n/(t.series?t.series.length:0)),n<=6?1:n>6&&n<13?2:Math.floor(n/6)?Math.floor(n/6):1)}],yAxis:[{min:0,softMax:1,allowDecimals:!1,title:{text:o&&this.language?this.language[o]:o||"",style:{color:"#727272"}},style:{fontFamily:"Source Sans Pro,Regular",fontSize:"13px",color:"#4c4c4c"}}],lang:{noData:this.language["No Data Available"]},legend:{symbol:"square",enabled:!!a},tooltip:{shared:!0,crosshairs:!0},series:e(t.series),plotOptions:{series:{cursor:"pointer",groupPadding:.1,marker:{enabled:!1},pointPlacement:"on",point:{events:{}}},states:{inactive:{enabled:!1}}},responsive:{rules:[{condition:{}}]}});return(0,r.of)(i)}},{key:"getCommonSubscribersChart30recordsOptions",value:function(t,o,a){var n,i=Object.assign(Object.assign({},this.commonHighChartOptions),{credits:{enabled:!1},chart:{type:"line",style:{fontFamily:"Source Sans Pro,Regular",fontSize:"12px",color:"#4c4c4c"},plotBorderWidth:1},colors:["#0027FF","#5ACFEA","#b926f0","#FF8238","#029A7C","#F7C343","#FF489D"],title:{text:null},xAxis:[{min:0,gridLineWidth:1,categories:t.categories,labels:{rotation:-25},tickmarkPlacement:"on",showLastLabel:!0,tickPositions:[0,5,10,15,20,25,29],tickInterval:(n=t.categories?t.categories.length:0,Math.floor(n/(t.series?t.series.length:0)),n<=6?1:n>6&&n<13?2:Math.floor(n/6)?Math.floor(n/6):1)}],yAxis:[{min:0,softMax:1,allowDecimals:!1,title:{text:o&&this.language?this.language[o]:o||"",style:{color:"#727272"}},style:{fontFamily:"Source Sans Pro,Regular",fontSize:"13px",color:"#4c4c4c"}}],lang:{noData:this.language["No Data Available"]},legend:{symbol:"square",enabled:!!a},tooltip:{shared:!0,crosshairs:!0},series:e(t.series),plotOptions:{series:{cursor:"pointer",groupPadding:.1,marker:{enabled:!1},pointPlacement:"on",point:{events:{}}},states:{inactive:{enabled:!1}}},responsive:{rules:[{condition:{}}]}});return(0,r.of)(i)}},{key:"getColumnChartOption",value:function(t,o,a){var n=Object.assign(Object.assign({},this.commonHighChartOptions),{credits:{enabled:!1},chart:{type:"column",inverted:!0,style:{fontFamily:"Source Sans Pro,Regular",fontSize:"12px",color:"#4c4c4c"}},colors:["#0027FF","#5ACFEA","#fd9e4c","#CBC75F"],title:{text:this.language&&this.language["Firmware Image Count (%) / Model"]?this.language["Firmware Image Count (%) / Model"]:"Firmware Image Count (%) / Model",style:{fontFamily:"Source Sans Pro,Regular",fontSize:"12px",color:"#4c4c4c"}},xAxis:{categories:e(t.categories),title:{text:"Model"}},yAxis:{opposite:!0,min:0,title:{text:null},stackLabels:{enabled:!0,style:{fontWeight:"bold"}}},legend:{enabled:!1},tooltip:{headerFormat:"<b>{point.x}</b><br/>",pointFormat:"{series.name}: {point.y}<br/>Total: {point.stackTotal}"},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[{data:e(t.series)}]});return(0,r.of)(n)}},{key:"sortByTimestamp",value:function(e,t){return null==e||e.sort(function(e,o){return e[t]=e[t]?parseInt(e[t]):0,o[t]=o[t]?parseInt(o[t]):0,e[t]-o[t]}),e}},{key:"getOptions",value:function(e,t,o){var a=this,n=[],i=[],r=[];if(e&&e["loss-of-pon"]&&e["loss-of-pon"].length&&e["loss-of-pon"].forEach(function(e){n.push(a.dateUtils.getChartFormatDate(e.epochtime,"M/d/yy",!0)),i.push(e.count)}),e&&e["ont-us-sdber"])for(var s=e["ont-us-sdber"].length,l=0;l<s;l++)r.push(e["ont-us-sdber"][l].count);return Object.assign(Object.assign({},this.commonHighChartOptions),{credits:{enabled:!1},chart:{type:"line",style:{fontFamily:"Source Sans Pro,Regular",fontSize:"12px",color:"#4c4c4c"},plotBorderWidth:1},colors:["#0027FF","#5ACFEA"],title:{text:null},xAxis:[{min:0,gridLineWidth:1,categories:n}],yAxis:[{min:0,allowDecimals:!1,title:{text:t?this.language[t]||t:"",style:{color:"#727272"}},style:{fontFamily:"Source Sans Pro,Regular",fontSize:"13px",color:"#4c4c4c"}}],legend:{symbolRadius:100},tooltip:{shared:!0,crosshairs:!0},series:[{name:"".concat(this.language["Service Outage"]),data:i},{name:"".concat(this.language["Service Degradation"]),data:r}],plotOptions:{series:{cursor:"pointer",marker:{enabled:1==n.length,symbol:"circle",radius:2,states:{hover:{enabled:!0}}},pointPlacement:"on",point:{events:{}}},states:{inactive:{enabled:!1}}},responsive:{rules:[{condition:{}}]}})}},{key:"getBarOptions",value:function(e,t,o){var a=this,n=[],i=[];e&&e["loss-of-pon"]&&e["loss-of-pon"].length&&e["loss-of-pon"].forEach(function(e){n.push(a.dateUtils.getChartFormatDate(e.epochtime,"M/d/yy",!0)),i.push(e.count?e.count:0)});var r=this,l=Object.assign(Object.assign({},this.commonHighChartOptions),{credits:{enabled:!1},chart:{type:"column",style:{fontFamily:"Source Sans Pro,Regular",fontSize:"12px",color:"#4c4c4c"}},colors:["#0027FF","#5ACFEA"],title:{text:null},xAxis:{categories:n},yAxis:[{min:0,softMax:1,allowDecimals:!1,title:{text:t?this.language[t]||t:"",style:{color:"#727272"}},style:{fontFamily:"Source Sans Pro,Regular",fontSize:"13px",color:"#4c4c4c"}}],legend:{symbolRadius:100},lang:{noData:(null==i?void 0:i.length)?" ":this.language["No Data Available"]},series:[{name:"".concat(this.language["Loss of PON Alarms"]||"Loss of PON Alarms"),data:i}],plotOptions:{column:{pointPadding:.2,borderWidth:0},series:{minPointLength:3,cursor:"pointer",point:{events:{click:function(){r.navigateByUrl(e,this.category,"serviceDisruption")}}}}},tooltip:{formatter:function(){return'<span style="font-size:10px">'.concat(this.point.category,'</span><table><tr><td style="color:').concat(this.series.color,';padding:0">').concat(this.series.name,': </td><td style="padding:0"> &nbsp ').concat(s.numberFormat(this.point.y,0,"",""),"</td></tr></table>")},useHTML:!0}});return 30===(null==n?void 0:n.length)&&(l.xAxis.labels={step:1,rotation:-60}),l}},{key:"navigateByUrl",value:function(e,t,o){var a="",n={};if("serviceDisruption"==o){a="cco/alerts/system/history-reports";var i,r,s={date:[new Date(t),new Date(t)]},l=this.issueService.getDateParam(s,!1),c=null==l?void 0:l.split(",");c&&c.length>0&&(i=new Date(Number(c[0])),r=new Date(Number(c[1]))),n={date:[i,r],eventName:["loss-of-pon"]}}this.router.navigate([a],{state:{filters:n}})}},{key:"getSubscriberOptions",value:function(e,t,o){var a=this,n=[],i=[],r=[];if(e&&e.subscriber&&e.subscriber.length&&e.subscriber.forEach(function(e){n.push(a.dateUtils.getChartFormatDate(e.epochtime,"M/d/yy",!0)),i.push(e.count)}),e&&e.serviceDegrade){var s=e.serviceDegrade.length;if(!n.length)for(var l=0;l<s;l++)n.push(this.dateUtils.getChartFormatDate(e.serviceDegrade[l].epochtime,"M/d/yy",!0));for(var c=0;c<s;c++)r.push(e.serviceDegrade[c].count)}return Object.assign(Object.assign({},this.commonHighChartOptions),{credits:{enabled:!1},chart:{type:"line",style:{fontFamily:"Source Sans Pro,Regular",fontSize:"12px",color:"#4c4c4c"},plotBorderWidth:1},colors:["#0027FF","#5ACFEA"],title:{text:null},xAxis:[{min:0,gridLineWidth:1,categories:n}],yAxis:[{min:0,allowDecimals:!1,title:{text:t?this.language[t]||t:"",style:{color:"#727272"}},style:{fontFamily:"Source Sans Pro,Regular",fontSize:"13px",color:"#4c4c4c"}}],legend:{symbolRadius:100},tooltip:{shared:!0,crosshairs:!0,useHTML:!0},series:[{name:"".concat(this.language["Number of Subscribers Impacted"]),data:i},{name:"".concat(this.language["Service Degradation"]),data:r}],plotOptions:{series:{cursor:"pointer",marker:{enabled:1==n.length,symbol:"circle",radius:2,states:{hover:{enabled:!0}}},pointPlacement:"on",point:{events:{}}},states:{inactive:{enabled:!1}}},responsive:{rules:[{condition:{}}]}})}},{key:"getSubscriberBarOptions",value:function(e,t,o){var a=this,n=[],i=[];e&&e.subscriber&&e.subscriber.length&&e.subscriber.forEach(function(e){n.push(a.dateUtils.getChartFormatDate(e.epochtime,"M/d/yy",!0)),i.push(e.count?e.count:0)});var r=Object.assign(Object.assign({},this.commonHighChartOptions),{credits:{enabled:!1},chart:{type:"column",style:{fontFamily:"Source Sans Pro,Regular",fontSize:"12px",color:"#4c4c4c"}},colors:["#0027FF","#5ACFEA"],title:{text:null},xAxis:{categories:n},yAxis:[{min:0,softMax:1,allowDecimals:!1,title:{text:t?this.language[t]||t:"",style:{color:"#727272"}},style:{fontFamily:"Source Sans Pro,Regular",fontSize:"13px",color:"#4c4c4c"}}],legend:{symbolRadius:100},lang:{noData:(null==i?void 0:i.length)?"":this.language["No Data Available"]},series:[{name:"".concat(this.language["Subscribers affected by ONT or PON Alarms"]||"Subscribers affected by ONT or PON Alarms"),data:i}],plotOptions:{column:{pointPadding:.2,borderWidth:0},series:{minPointLength:3,cursor:"pointer",point:{events:{}}}},tooltip:{formatter:function(){return'<span style="font-size:10px">'.concat(this.point.category,'</span><table><tr><td style="color:').concat(this.series.color,';padding:0">').concat(this.series.name,': </td><td style="padding:0"> &nbsp ').concat(s.numberFormat(this.point.y,0,"",""),"</td></tr></table>")},useHTML:!0}});return 30===(null==n?void 0:n.length)&&(r.xAxis.labels={step:1,rotation:-60}),r}},{key:"setFilterDays",value:function(e){this.filterDays=e,this.filterDays$.next(e)}},{key:"setSystemStatusData",value:function(e){this.systemStatusData$.next(e)}},{key:"loadSystemStatusData",value:function(){}},{key:"setpercentage",value:function(e,t,o){return((e-t)/t*100).toFixed(o||2)}},{key:"checkPositvNegativ",value:function(e){return"0"==e?"+":"-"==e.charAt(0)?"-":"+"}}])&&o(a.prototype,n),l&&o(a,l),Object.defineProperty(a,"prototype",{writable:!1}),t}()).\u0275fac=function(e){return new(e||p)(l.LFG(c.s),l.LFG(u.s),l.LFG(g.F0),l.LFG(h.v))},p.\u0275prov=l.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p)}}])}();