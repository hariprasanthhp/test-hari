"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[6916],{46916:function(e,i,t){t.d(i,{A:function(){return ye}});var o=t(97162),r=t(3679),n=t(23771),a=t(79765),s=t(20945),l=t(37716),d=t(7450),c=t(39895),u=t(39075),g=t(89097),m=t(12664),p=t(49342),h=t(86451),f=t(43721),v=t(38583),b=t(86640),Z=t(74062),y=t(96718);const x=["deleteModal"],C=["microSiteModal"],_=["verifyBSPModal"],M=["bspResetErrorModal"],T=["bspInfoWarnModal"],w=["verifyMicrositeModel"];function q(e,i){if(1&e&&(l.TgZ(0,"div",9),l.TgZ(1,"div",10),l.TgZ(2,"div",11),l.TgZ(3,"span",12),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(4),l.Oqu(e.language.Loading)}}function A(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"div",13),l.TgZ(1,"span",14),l._UZ(2,"img",15),l.qZA(),l.TgZ(3,"button",16),l.NdJ("click",function(){return l.CHM(e),l.oxw().closeAlert()}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",17),l.qZA()}if(2&e){const e=l.oxw();l.xp6(5),l.Q6J("innerHtml",e.language[e.errorInfo]||e.errorInfo,l.oJD)}}function S(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"div",18),l.TgZ(1,"span",19),l._UZ(2,"img",20),l.qZA(),l.TgZ(3,"button",16),l.NdJ("click",function(){return l.CHM(e),l.oxw().closeAlert()}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",17),l.qZA()}if(2&e){const e=l.oxw();l.xp6(5),l.Q6J("innerHtml",e.language[e.successInfo]||e.successInfo,l.oJD)}}function P(e,i){1&e&&l._UZ(0,"div")}function N(e,i){if(1&e&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&e){const e=l.oxw(3);l.xp6(1),l.Oqu(e.language.Bsp_Single_Word_Validation)}}function O(e,i){if(1&e&&(l.TgZ(0,"div",69),l.YNc(1,N,2,1,"span",4),l.qZA()),2&e){const e=l.oxw(2);l.xp6(1),l.Q6J("ngIf",e.bspForm.get("shortName").errors.pattern)}}function F(e,i){if(1&e&&(l.TgZ(0,"div",69),l.TgZ(1,"span"),l._uU(2),l.qZA(),l.qZA()),2&e){const e=l.oxw(2);l.xp6(2),l.hij(" ",e.language["The Service Provider's short name must be 4 to 63 characters and a single word."]," ")}}function I(e,i){if(1&e&&(l.TgZ(0,"div",69),l.TgZ(1,"span"),l._uU(2),l.qZA(),l.qZA()),2&e){const e=l.oxw(2);l.xp6(2),l.hij(" ",e.language["This field can only contain digits, lowercase letters, or hyphens(-), and should NOT start or end with a hyphen (-) and a single word."]," ")}}function k(e,i){if(1&e&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&e){const e=l.oxw(3);l.xp6(1),l.Oqu(e.language["This field is required"])}}function B(e,i){if(1&e&&(l.TgZ(0,"div",69),l.YNc(1,k,2,1,"span",4),l.qZA()),2&e){const e=l.oxw(2);l.xp6(1),l.Q6J("ngIf",e.bspForm.get("shortName").errors.required)}}function E(e,i){if(1&e&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&e){const e=l.oxw(3);l.xp6(1),l.Oqu(e.language["This field is required"])}}function D(e,i){if(1&e&&(l.TgZ(0,"div",69),l.YNc(1,E,2,1,"span",4),l.qZA()),2&e){const e=l.oxw(2);l.xp6(1),l.Q6J("ngIf",null==e.bspForm.get("timezone").errors?null:e.bspForm.get("timezone").errors.required)}}function U(e,i){if(1&e&&(l.TgZ(0,"div"),l.TgZ(1,"p",26),l._uU(2),l.qZA(),l.qZA()),2&e){const e=l.oxw(2);l.xp6(2),l.Oqu(e.language["Please enter a valid URL."])}}function J(e,i){if(1&e&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&e){const e=l.oxw(3);l.xp6(1),l.Oqu(e.language["This field is required"])}}function L(e,i){if(1&e&&(l.TgZ(0,"div",69),l.YNc(1,J,2,1,"span",4),l.qZA()),2&e){const e=l.oxw(2);l.xp6(1),l.Q6J("ngIf",e.bspForm.get("defaultTerms").errors.required)}}function Q(e,i){if(1&e&&(l.TgZ(0,"div",69),l.TgZ(1,"span"),l._uU(2),l.qZA(),l.qZA()),2&e){const e=l.oxw(2);l.xp6(2),l.Oqu(e.language["The Service Provider's Friendly Name shall not exceed 32 characters."])}}function Y(e,i){if(1&e&&(l.TgZ(0,"div",74),l._UZ(1,"span",75),l.TgZ(2,"span",76),l._uU(3),l.qZA(),l.qZA()),2&e){const e=l.oxw(3);l.xp6(3),l.Oqu(e.language[e.status])}}function G(e,i){if(1&e&&(l.TgZ(0,"div",77),l._UZ(1,"span",75),l.TgZ(2,"span",76),l._uU(3),l.qZA(),l.qZA()),2&e){const e=l.oxw(3);l.xp6(3),l.Oqu(e.language[e.status])}}function H(e,i){if(1&e&&(l.TgZ(0,"div",78),l._UZ(1,"span",75),l.TgZ(2,"span",76),l._uU(3),l.qZA(),l.qZA()),2&e){const e=l.oxw(3);l.xp6(3),l.Oqu(e.language[e.status])}}function j(e,i){if(1&e&&(l.TgZ(0,"div",24),l.TgZ(1,"label",33),l._uU(2),l.qZA(),l.TgZ(3,"div",27),l.TgZ(4,"div",70),l.YNc(5,Y,4,1,"div",71),l.YNc(6,G,4,1,"div",72),l.YNc(7,H,4,1,"div",73),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw(2);l.xp6(2),l.Oqu(e.language.Bsp_Microsite_Status),l.xp6(3),l.Q6J("ngIf","READY"===e.status),l.xp6(1),l.Q6J("ngIf","CREATING"===e.status),l.xp6(1),l.Q6J("ngIf","ERROR"===e.status)}}function R(e,i){if(1&e&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&e){const e=l.oxw(3);l.xp6(1),l.Oqu(e.language["This field is required"])}}function z(e,i){if(1&e&&(l.TgZ(0,"div",69),l.YNc(1,R,2,1,"span",4),l.qZA()),2&e){const e=l.oxw(2);l.xp6(1),l.Q6J("ngIf",e.bspForm.get("wifiNetworkName").errors.required)}}function V(e,i){if(1&e&&(l.TgZ(0,"div",69),l.TgZ(1,"span"),l._uU(2),l.qZA(),l.qZA()),2&e){const e=l.oxw(2);l.xp6(2),l.hij(" ",e.language["The Wi-Fi Network name must be 3 to 32 characters."]," ")}}function W(e,i){if(1&e&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&e){const e=l.oxw(3);l.xp6(1),l.Oqu(e.language["This field is required"])}}function K(e,i){if(1&e&&(l.TgZ(0,"div",69),l.YNc(1,W,2,1,"span",4),l.qZA()),2&e){const e=l.oxw(2);l.xp6(1),l.Q6J("ngIf",e.bspForm.get("defaultPrimaryColor").errors.required)}}function X(e,i){if(1&e&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&e){const e=l.oxw(3);l.xp6(1),l.Oqu(e.language["This field is required"])}}function ee(e,i){if(1&e&&(l.TgZ(0,"div",69),l.YNc(1,X,2,1,"span",4),l.qZA()),2&e){const e=l.oxw(2);l.xp6(1),l.Q6J("ngIf",e.bspForm.get("defaultSecondaryColor").errors.required)}}function ie(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"button",79),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).verifyBSPInfoModal()}),l._uU(1),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(1),l.hij(" ",e.language["Save BSP Information"]," ")}}function te(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"button",79),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).EditBspProvider()}),l._uU(1),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(1),l.hij(" ",e.language["Save BSP Information"],"")}}function oe(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"div",80),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).BSPPreview()}),l.TgZ(1,"span",81),l._uU(2),l._UZ(3,"img",82),l.qZA(),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(2),l.hij("",e.language.Preview," ")}}function re(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"a",83),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).BSPInfoWarnModal()}),l._uU(1),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(1),l.Oqu(e.language.reset)}}function ne(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"a",83),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).BSPresetErrorModal()}),l._uU(1),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(1),l.Oqu(e.language.reset)}}const ae=function(e,i){return{"ccl-error":e,"inp-disabled":i}},se=function(e){return{"ccl-error":e}},le=function(e,i,t){return{"ccl-error":e,"text-dark":i,"text-white":t}};function de(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"form",21),l.TgZ(2,"div",22),l.TgZ(3,"div",23),l.TgZ(4,"div",24),l.TgZ(5,"label",25),l._uU(6),l.TgZ(7,"span",26),l._uU(8,"*"),l.qZA(),l.qZA(),l.TgZ(9,"div",27),l.TgZ(10,"input",28,29),l.NdJ("keyup",function(){l.CHM(e);const i=l.MAs(11),t=l.oxw();return t.checkMaxMin(i.value,"bsp"),t.clsAlphaNoOnly(i.value,"bsp")}),l.qZA(),l.YNc(12,O,2,1,"div",30),l.YNc(13,F,3,1,"div",30),l.YNc(14,I,3,1,"div",30),l.YNc(15,B,2,1,"div",30),l.qZA(),l.qZA(),l.TgZ(16,"div",31),l.TgZ(17,"label",25),l._uU(18),l.TgZ(19,"span",26),l._uU(20,"*"),l.qZA(),l.qZA(),l.TgZ(21,"div",27),l._UZ(22,"ng-select",32),l.YNc(23,D,2,1,"div",30),l.qZA(),l.qZA(),l.TgZ(24,"div",24),l.TgZ(25,"label",33),l._uU(26),l.TgZ(27,"span",26),l._uU(28,"*"),l.qZA(),l.qZA(),l.TgZ(29,"div",27),l.TgZ(30,"input",34,35),l.NdJ("keyup",function(){l.CHM(e);const i=l.MAs(31);return l.oxw().urlValidation(i.value)}),l.qZA(),l.YNc(32,U,3,1,"div",4),l.YNc(33,L,2,1,"div",30),l.qZA(),l.qZA(),l.TgZ(34,"div",24),l.TgZ(35,"label",36),l._uU(36),l.qZA(),l.TgZ(37,"div",27),l.TgZ(38,"input",37,38),l.NdJ("keyup",function(){l.CHM(e);const i=l.MAs(39);return l.oxw().checkMaxMin(i.value,"friendlyName")}),l.qZA(),l.YNc(40,Q,3,1,"div",30),l.qZA(),l.qZA(),l.YNc(41,j,8,4,"div",39),l.TgZ(42,"div",40),l._uU(43),l.qZA(),l.TgZ(44,"div",24),l.TgZ(45,"label",25),l._uU(46),l.TgZ(47,"span",26),l._uU(48,"*"),l.qZA(),l.qZA(),l.TgZ(49,"div",27),l.TgZ(50,"input",41,42),l.NdJ("keyup",function(){l.CHM(e);const i=l.MAs(51);return l.oxw().checkMaxMin(i.value,"wifi")}),l.qZA(),l.YNc(52,z,2,1,"div",30),l.YNc(53,V,3,1,"div",30),l.qZA(),l.qZA(),l.qZA(),l.TgZ(54,"div",23),l.TgZ(55,"div",43),l.TgZ(56,"div",22),l.TgZ(57,"div",23),l.TgZ(58,"div",27),l._uU(59),l._UZ(60,"span",26),l.TgZ(61,"div",44),l.TgZ(62,"div",45),l.TgZ(63,"div",46),l._UZ(64,"img",47),l.TgZ(65,"label",48),l.TgZ(66,"p",49),l._uU(67),l.qZA(),l.qZA(),l.TgZ(68,"input",50,51),l.NdJ("change",function(){l.CHM(e);const i=l.MAs(69);return l.oxw().readURL(i)}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(70,"div",23),l.TgZ(71,"div",52),l._uU(72),l.TgZ(73,"ul"),l.TgZ(74,"li"),l._uU(75),l.qZA(),l.TgZ(76,"li"),l._uU(77),l.qZA(),l.TgZ(78,"li"),l._uU(79),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(80,"div",53),l.TgZ(81,"div",54),l.TgZ(82,"div",55),l._uU(83),l.TgZ(84,"div",56),l.TgZ(85,"div",57),l.TgZ(86,"input",58),l.NdJ("colorPickerChange",function(i){return l.CHM(e),l.oxw().bspForm.value.defaultPrimaryColor=i})("ngModelChange",function(i){return l.CHM(e),l.oxw().bspForm.value.defaultPrimaryColor=i}),l.qZA(),l.YNc(87,K,2,1,"div",30),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(88,"div",54),l.TgZ(89,"div",27),l._uU(90),l.TgZ(91,"div",56),l.TgZ(92,"div",57),l.TgZ(93,"input",59),l.NdJ("ngModelChange",function(i){return l.CHM(e),l.oxw().bspForm.value.defaultSecondaryColor=i})("colorPickerChange",function(i){return l.CHM(e),l.oxw().bspForm.value.defaultSecondaryColor=i}),l.qZA(),l.YNc(94,ee,2,1,"div",30),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(95,"div",60),l._UZ(96,"div",61),l.qZA(),l.qZA(),l.qZA(),l.TgZ(97,"div",62),l.YNc(98,ie,2,1,"button",63),l.YNc(99,te,2,1,"button",63),l.TgZ(100,"div",64),l.YNc(101,oe,4,1,"div",65),l.qZA(),l.TgZ(102,"div",66),l.YNc(103,re,2,1,"a",67),l.YNc(104,ne,2,1,"a",68),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(1),l.Q6J("formGroup",e.bspForm),l.xp6(5),l.hij("",e.language.Bsp_Serve_provid," "),l.xp6(4),l.s9C("placeholder",e.language.Bsp_Single_Word_Validation),l.s9C("title",e.BspData?e.language.Reset_BSP_Information_tooltip:""),l.Q6J("readonly",e.bspId)("ngClass",l.WLB(63,ae,e.bspFormSubmitted&&e.bspForm.get("shortName").errors,e.bspId)),l.xp6(2),l.Q6J("ngIf",e.bspForm.get("shortName").errors),l.xp6(1),l.Q6J("ngIf",e.minimumErr.bsp),l.xp6(1),l.Q6J("ngIf",e.communityError.bsp),l.xp6(1),l.Q6J("ngIf",(e.bspFormSubmitted||e.bspForm.get("shortName").touched)&&e.bspForm.get("shortName").errors),l.xp6(3),l.hij("",e.language.Bsp_Time," "),l.xp6(4),l.Q6J("items",e.timeZoneList)("ngClass",l.VKq(66,se,e.bspFormSubmitted&&e.bspForm.get("timezone").errors)),l.xp6(1),l.Q6J("ngIf",e.bspFormSubmitted&&(null==e.bspForm.get("timezone").errors?null:e.bspForm.get("timezone").errors.required)),l.xp6(3),l.Oqu(e.language["Bsp_T&C_URL"]),l.xp6(4),l.Q6J("ngClass",l.VKq(68,se,e.bspFormSubmitted&&e.bspForm.get("defaultTerms").errors))("formValue",e.bspForm),l.xp6(2),l.Q6J("ngIf",e.UrLError),l.xp6(1),l.Q6J("ngIf",e.bspFormSubmitted&&e.bspForm.get("defaultTerms").errors),l.xp6(2),l.s9C("title",e.language["Enter your preferred name for e-mail communications in SmartTown Wi-Fi (by default we use your ORG name)"]),l.xp6(1),l.Oqu(e.language["Service Provider\u2019s Friendly Name"]),l.xp6(2),l.s9C("placeholder",e.language["Service Provider\u2019s Friendly Name"]),l.Q6J("ngClass",l.VKq(70,se,e.bspFormSubmitted&&e.bspForm.get("friendlyName").errors))("formValue",e.bspForm),l.xp6(2),l.Q6J("ngIf",e.minimumErr.friendlyName),l.xp6(1),l.Q6J("ngIf",e.BspData),l.xp6(2),l.hij(" ",e.language.Bsp_Passpoint," "),l.xp6(3),l.hij("",e.language.Bsp_Wifi," "),l.xp6(4),l.s9C("placeholder",e.language.Bsp_Wifi),l.s9C("title",e.BspData?e.language.Reset_BSP_Information_tooltip:""),l.Q6J("readonly",e.bspId)("ngClass",l.WLB(72,ae,e.bspFormSubmitted&&e.bspForm.get("wifiNetworkName").errors,e.bspId)),l.xp6(2),l.Q6J("ngIf",e.bspFormSubmitted&&e.bspForm.get("wifiNetworkName").errors),l.xp6(1),l.Q6J("ngIf",e.minimumErr.wifi),l.xp6(6),l.hij(" ",e.language.Bsp_Default_community_Logo," "),l.xp6(5),l.s9C("src",e.defaultLogo?e.defaultLogo:"./assets/img/empty_gary.svg",l.LSH),l.xp6(3),l.Oqu(e.defaultLogo?e.language.Replace_Image:e.language["Upload Image"]),l.xp6(1),l.Q6J("ngClass",l.VKq(75,se,e.bspFormSubmitted&&!e.defaultLogo)),l.xp6(4),l.hij(" ",e.language.Logo_Guidelines," "),l.xp6(3),l.hij(" ",e.language["Max File Size: 400kb"],""),l.xp6(2),l.hij(" ",e.language["Format: .png, .jpeg"]," "),l.xp6(2),l.hij("",e.language["Transparent background recommended"]," "),l.xp6(4),l.hij(" ",e.language.Bsp_Default_Micro_Primary," "),l.xp6(3),l.Udp("background",e.bspForm.value.defaultPrimaryColor),l.Q6J("colorPicker",e.bspForm.value.defaultPrimaryColor)("ngModel",e.bspForm.value.defaultPrimaryColor)("cpOutputFormat","hex")("ngClass",l.kEZ(77,le,e.bspFormSubmitted&&e.bspForm.get("defaultPrimaryColor").errors,e.getColorByBgColor(e.bspForm.value.defaultPrimaryColor),!e.getColorByBgColor(e.bspForm.value.defaultPrimaryColor))),l.xp6(1),l.Q6J("ngIf",e.bspFormSubmitted&&e.bspForm.get("defaultPrimaryColor").errors),l.xp6(3),l.hij(" ",e.language.Bsp_Default_Micro_Secondary," "),l.xp6(3),l.Udp("background",e.bspForm.value.defaultSecondaryColor),l.Q6J("ngModel",e.bspForm.value.defaultSecondaryColor)("colorPicker",e.bspForm.value.defaultSecondaryColor)("cpOutputFormat","hex")("ngClass",l.kEZ(81,le,e.bspFormSubmitted&&e.bspForm.get("defaultSecondaryColor").errors,e.getColorByBgColor(e.bspForm.value.defaultSecondaryColor),!e.getColorByBgColor(e.bspForm.value.defaultSecondaryColor))),l.xp6(1),l.Q6J("ngIf",e.bspFormSubmitted&&e.bspForm.get("defaultSecondaryColor").errors),l.xp6(4),l.Q6J("ngIf",!e.bspId),l.xp6(1),l.Q6J("ngIf",e.bspId),l.xp6(2),l.Q6J("ngIf",e.BspData),l.xp6(2),l.Q6J("ngIf",e.BspData&&0===(null==e.tableData?null:e.tableData.length)),l.xp6(1),l.Q6J("ngIf",e.BspData&&0!==(null==e.tableData?null:e.tableData.length))}}function ce(e,i){if(1&e&&(l.TgZ(0,"div",9),l.TgZ(1,"div",10),l.TgZ(2,"div",11),l.TgZ(3,"span",12),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw(2);l.xp6(4),l.Oqu(e.language.Loading)}}function ue(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"div",97),l.TgZ(1,"span",14),l._UZ(2,"img",15),l.qZA(),l._UZ(3,"div",98),l.TgZ(4,"button",16),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).closeAlert()}),l._UZ(5,"span"),l.qZA(),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(3),l.Q6J("innerHtml",e.errorInfoMicrosite,l.oJD)}}function ge(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"button",99),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).AddBspProvider()}),l._uU(1),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(1),l.Oqu(e.language.Save)}}function me(e,i){if(1&e){const e=l.EpF();l.YNc(0,ce,5,1,"div",1),l.YNc(1,ue,6,1,"div",84),l.TgZ(2,"div",85),l.TgZ(3,"button",86),l.NdJ("click",function(){return l.CHM(e).$implicit.dismiss("Cross click")}),l._UZ(4,"span"),l.qZA(),l.qZA(),l.TgZ(5,"div",87),l.TgZ(6,"div",88),l.TgZ(7,"div",89),l._UZ(8,"img",90),l.qZA(),l.TgZ(9,"div",91),l.TgZ(10,"h1",92),l._uU(11),l.qZA(),l.TgZ(12,"ul",93),l.TgZ(13,"li"),l._uU(14),l.qZA(),l.TgZ(15,"li"),l._uU(16),l.qZA(),l.qZA(),l.TgZ(17,"p"),l._uU(18),l.qZA(),l.TgZ(19,"div",94),l.YNc(20,ge,2,1,"button",95),l.TgZ(21,"button",96),l.NdJ("click",function(){return l.CHM(e).$implicit.close("Close click")}),l._uU(22),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.Q6J("ngIf",e.bsploader),l.xp6(1),l.Q6J("ngIf",e.iserror),l.xp6(10),l.Oqu(e.language["Verify the following BSP Information"]),l.xp6(3),l.Oqu(e.language.Service_Providers_Short_Name),l.xp6(2),l.hij("",e.language.Bsp_Wifi," "),l.xp6(2),l.Oqu(e.language.BSP_Information_Verify_Msg),l.xp6(2),l.Q6J("ngIf",!e.bspId),l.xp6(2),l.Oqu(e.language.cancel)}}function pe(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"div",85),l.TgZ(1,"button",86),l.NdJ("click",function(){return l.CHM(e).$implicit.dismiss("Cross click")}),l._UZ(2,"span"),l.qZA(),l.qZA(),l.TgZ(3,"div",87),l.TgZ(4,"div",88),l.TgZ(5,"div",89),l._UZ(6,"img",100),l.qZA(),l.TgZ(7,"div",91),l.TgZ(8,"h1",92),l._uU(9),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.TgZ(12,"div",94),l.TgZ(13,"button",101),l.NdJ("click",function(){return l.CHM(e).$implicit.close("Save click")}),l._uU(14),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(9),l.Oqu(e.language.Cannot_Reset_BSP_Information),l.xp6(2),l.Oqu(e.language.Reset_BSP_Information_Msg),l.xp6(3),l.Oqu(e.language.Okay)}}function he(e,i){if(1&e&&(l.TgZ(0,"div",9),l.TgZ(1,"div",10),l.TgZ(2,"div",11),l.TgZ(3,"span",12),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw(2);l.xp6(4),l.Oqu(e.language.Loading)}}function fe(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"div",97),l.TgZ(1,"span",14),l._UZ(2,"img",15),l.qZA(),l._UZ(3,"div",98),l.TgZ(4,"button",16),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).closeAlert()}),l._UZ(5,"span"),l.qZA(),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(3),l.Q6J("innerHtml",e.errorInfoMicrosite,l.oJD)}}function ve(e,i){if(1&e){const e=l.EpF();l.YNc(0,he,5,1,"div",1),l.YNc(1,fe,6,1,"div",84),l.TgZ(2,"div",85),l.TgZ(3,"button",86),l.NdJ("click",function(){return l.CHM(e).$implicit.dismiss("Cross click")}),l._UZ(4,"span"),l.qZA(),l.qZA(),l.TgZ(5,"div",87),l.TgZ(6,"div",88),l.TgZ(7,"div",89),l._UZ(8,"img",102),l.qZA(),l.TgZ(9,"div",91),l.TgZ(10,"h1",92),l._uU(11),l.qZA(),l.TgZ(12,"p"),l._uU(13),l.qZA(),l.TgZ(14,"div",94),l.TgZ(15,"button",103),l.NdJ("click",function(){return l.CHM(e),l.oxw().DeleteBSP()}),l._uU(16),l.qZA(),l.TgZ(17,"button",104),l.NdJ("click",function(){return l.CHM(e).$implicit.close("Close click")}),l._uU(18),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.Q6J("ngIf",e.bsploader),l.xp6(1),l.Q6J("ngIf",e.iserror),l.xp6(10),l.Oqu(e.language.sure_reset_BSP_Information),l.xp6(2),l.Oqu(e.language["This action cannot be undone"]),l.xp6(3),l.Oqu(e.language.Yes_reset_Btn),l.xp6(2),l.Oqu(e.language.No_cancel_Btn)}}function be(e,i){if(1&e&&(l.TgZ(0,"li"),l._uU(1),l.qZA()),2&e){const e=i.$implicit;l.xp6(1),l.Oqu(null==e?null:e.name)}}function Ze(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"div",85),l.TgZ(1,"button",86),l.NdJ("click",function(){return l.CHM(e).$implicit.dismiss("Cross click")}),l._UZ(2,"span"),l.qZA(),l.qZA(),l.TgZ(3,"div",87),l.TgZ(4,"div",88),l.TgZ(5,"div",14),l._UZ(6,"img",15),l.qZA(),l.TgZ(7,"div",91),l.TgZ(8,"h1",92),l._uU(9),l.qZA(),l.TgZ(10,"p",105),l._uU(11),l.qZA(),l.TgZ(12,"ul",93),l.YNc(13,be,2,1,"li",106),l.qZA(),l.TgZ(14,"p"),l._uU(15),l.qZA(),l.TgZ(16,"div",94),l.TgZ(17,"button",107),l.NdJ("click",function(){return l.CHM(e).$implicit.close("Save click")}),l._uU(18),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(9),l.AsE("",e.language.Cannot_Delete," ",e.micrositeName,""),l.xp6(2),l.Oqu(e.language.VerifyMicrositeTitle),l.xp6(2),l.Q6J("ngForOf",e.workFlowData),l.xp6(2),l.hij("",e.language.To_delete_this_microsite_msg,"."),l.xp6(3),l.Oqu(e.language.Okay)}}let ye=(()=>{class e{constructor(e,i,t,r,n,l,d,c,u){this.translateService=e,this.router=i,this.titleService=t,this.sso=r,this.formBuilder=n,this.dialogService=l,this.commonOrgService=d,this.communityService=c,this.validatorService=u,this.timeZoneList=o.c,this.timeZoneValueList=o.E,this.bspFormSubmitted=!1,this.submitted=!1,this.addMicroSiteFormSubmitted=!1,this.minimumErr={community:!1,bsp:!1,wifi:!1,description:!1,friendlyName:!1},this.communityError={community:!1,bsp:!1},this.dtOptions={pagingType:"full_numbers",dom:"tipr",lengthChange:!1,pageLength:10,destroy:!0,processing:!1,columnDefs:[{orderable:!1,targets:[5]},{targets:[0],orderable:!0}],order:[0,"asc"],drawCallback:e=>{this._iDisplayStart=e._iDisplayStart,e.aoData.length<=e._iDisplayLength&&$(e.nTableWrapper).find(`#${e.sTableId}_last`).addClass("disabled")}},this.dtTrigger=new a.xQ,this.tableData=[],this.buttonText="Bsp_Add_Microsite",this.refreshBack=!1,this.frTable=this.translateService.fr,this.esTable=this.translateService.es,this.de_DETable=this.translateService.de_DE,this.ORG_ID=this.sso.getOrgId(),this.MODULE=this.sso.getRedirectModule(this.router.url),this.commonOrgService.currentPageAdder("SmartTown Wi-Fi"),(0,s.F)(3e4).subscribe(e=>{setTimeout(()=>{!this.ShowMicrosite&&this.saveBSP&&this.GetBspProvider()},0)})}ngOnInit(){this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.tableDataAvailable=!1,this.tableLanguageOptions(),this.titleService.setTitle(`${this.language.Bsp_Info} - ${this.language.myCommunityIQ} - ${"systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`),setTimeout(()=>{this.tableDataAvailable=!0},100)}),this.titleService.setTitle(`${this.language.Bsp_Info} - ${this.language.myCommunityIQ} - ${"systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`),this.GetBspProvider(),this.GetMicrosites(),this.getPredefinedCommunities(),this.bspForm=this.formBuilder.group({shortName:["",[r.kI.required,r.kI.pattern(/^\S*$/)]],timezone:[null,[r.kI.required]],wifiNetworkName:["",r.kI.required],defaultLogo:[""],defaultPrimaryColor:["#0279FF",r.kI.required],defaultSecondaryColor:["#CCCCCC",r.kI.required],defaultTerms:["",[r.kI.required,r.kI.pattern(/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/)]],friendlyName:[""]}),this.addMicroSite=this.formBuilder.group({isPredefinedCommunity:[!0],communityType:["Permanent"],brandingType:["Default"],communityName:[null,[r.kI.required]],communityDesc:[""],logo:[""],primaryColor:["#0279FF",r.kI.required],secondaryColor:["#CCCCCC",r.kI.required]})}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.dtOptions.language=this.frTable:"es"==this.language.fileLanguage?this.dtOptions.language=this.esTable:"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.de_DETable:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}urlValidation(e){if(e){let i=this.validatorService.urlValidation(e);this.UrLError=i.error}else this.UrLError=!!(e="")}clsAlphaNoOnly(e,i){if("community"===i){var t=new RegExp("^[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$");let i=e.substring(0,2);this.communityError.community=!t.test(e)||"c-"===i}else t=new RegExp("^[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$"),this.communityError.bsp=!t.test(e)}checkMaxMin(e,i){"community"===i?e.length>0&&(this.minimumErr.community=!(e.length>=4&&e.length<=31)):"bsp"===i?e.length>0&&(this.minimumErr.bsp=!(e.length>=4&&e.length<=31)):"description"===i?e.length>0&&(this.minimumErr.description=!(e.length<=32)):"friendlyName"===i?this.minimumErr.friendlyName=e.length>0&&!(e.length>=3&&e.length<=32):e.length>0&&(this.minimumErr.wifi=!(e.length>=3&&e.length<=32))}checkSpace(e){0==e.value.toString().replace(/\ /g,"").length&&32==e.which&&e.preventDefault()}rerender(){this.tableDataAvailable=!1;let e=this;this.dtElements.forEach((i,t)=>{var o;i.dtInstance&&(null===(o=i.dtInstance)||void 0===o||o.then(i=>{i.clear(),i.destroy(),1==t&&e.reload()}))})}reload(){setTimeout(()=>{this.dtTrigger.next(),this.tableDataAvailable=!0},50)}patchCommunityDescription(e){this.communityDesc=e.description}convertIntoFileBase(e){let i;if(this.Micrositelogo="",$("#logo-customimage-view").attr("src"," "),(null==e?void 0:e.files)&&(null==e?void 0:e.files[0])){let t=new FileReader;t.onload=e=>{$("#logo-customimage-view").attr("src",e.target.result),this.logo=e.target.result,i=e.target.result},t.readAsDataURL(null==e?void 0:e.files[0])}}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe()}AddBspProvider(){var e;this.bspFormSubmitted=!0,this.error=!1,this.iserror=!1;let i,t=new FormData;if(i=null===(e=$("input[name='logo']").get(0))||void 0===e?void 0:e.files,null==i?void 0:i.length){var o=i[0].name.split(".").pop(),r=i[0].size/1024,n=["jpeg","JPEG","PNG","png","jpg","JPG"];if(-1==n.indexOf(o)){var a=n.join(", ");return void this.addError(this.language.Image_extension_will_be+a+this.language.file_format)}if(r>400)return void this.addError(this.language.LogoImage_uploaderror+" 400 KB");$.each(i,function(e,i){t.append("defaultLogo",i),t.append("updateLogo","true")})}else t.append("defaultLogo",""),t.append("updateLogo","false");!this.bspForm.value.timezone||!this.bspForm.value.shortName||!this.bspForm.value.wifiNetworkName||!this.bspForm.value.defaultPrimaryColor||!this.bspForm.value.defaultSecondaryColor||!this.bspForm.value.defaultTerms||(this.bspForm.value.defaultTerms&&this.urlValidation(this.bspForm.value.defaultTerms),(!this.bspForm.value.defaultTerms||!this.UrLError)&&(this.bspForm.value.shortName&&(this.checkMaxMin(this.bspForm.value.shortName,"bsp"),this.checkMaxMin(this.bspForm.value.wifiNetworkName,"wifi"),this.clsAlphaNoOnly(this.bspForm.value.shortName,"bsp")),(!this.bspForm.value.friendlyName||(this.checkMaxMin(this.bspForm.value.friendlyName,"friendlyName"),!this.minimumErr.friendlyName))&&(this.minimumErr.bsp||this.minimumErr.wifi||this.communityError.bsp||(this.bsploader=!0,t.append("orgId ",this.ORG_ID),t.append("shortName",this.bspForm.value.shortName),t.append("name",localStorage.getItem("calix.org_name")),t.append("timezone",this.bspForm.value.timezone),t.append("wifiNetworkName",this.bspForm.value.wifiNetworkName),t.append("defaultPrimaryColor",this.bspForm.value.defaultPrimaryColor),t.append("defaultSecondaryColor",this.bspForm.value.defaultSecondaryColor),t.append("defaultTerms",this.bspForm.value.defaultTerms),this.bspForm.value.friendlyName&&t.append("friendlyName",this.bspForm.value.friendlyName),this.addBspsub=this.communityService.AddBspInfo(t).subscribe(e=>{this.saveBSP=!0,this.GetBspProvider(),this.closeAllModal()},e=>{this.pageErrorHandle(e,!0),this.bsploader=!1})))))}GetBspProvider(){this.loader=!this.refreshBack,this.addBspsub=this.communityService.GetBspproviderInfo().subscribe(e=>{var i,t,o,r;this.BspData=e||{},this.bspId=null==e?void 0:e.id,this.BspData&&(this.refreshBack=!0,this.loader=!1),this.status=null==e?void 0:e.status,this.ShowMicrosite="READY"===this.status,this.bspForm.patchValue(this.BspData),this.bspForm.patchValue({friendlyName:"undefined"!==(null===(i=this.BspData)||void 0===i?void 0:i.friendlyName)&&"null"!==(null===(t=this.BspData)||void 0===t?void 0:t.friendlyName)?null===(o=this.BspData)||void 0===o?void 0:o.friendlyName:""}),this.defaultLogo=null===(r=this.BspData)||void 0===r?void 0:r.defaultLogo,this.bsploader=!1,this.loader=!1},e=>{this.loader=!1,this.bspId="",this.BspData="",this.status="",this.tableData=[],this.ShowMicrosite=!1,this.bspFormSubmitted=!1,this.defaultLogo="",this.bspForm.reset({shortName:null,timezone:"",wifiNetworkName:"",defaultLogo:"",defaultPrimaryColor:"#0279FF",defaultSecondaryColor:"#CCCCCC",defaultTerms:""}),this.bsploader=!1})}GetMicrosites(){this.micrositeloader=!0,this.addBspsub=this.communityService.GetMicrosite().subscribe(e=>{this.tableDataAvailable=!1,this.tableData=e||[],this.tableData||setTimeout(()=>{this.showNoDataAvailable()},300),this.dtOptions={pagingType:"full_numbers",dom:"tipr",lengthChange:!1,pageLength:10,destroy:!0,processing:!0,displayStart:this._iDisplayStart?this._iDisplayStart:0,columnDefs:[{orderable:!1,targets:[5]},{targets:[0],orderable:!0}],order:[0,"asc"],drawCallback:e=>{this._iDisplayStart=e._iDisplayStart,e.aoData.length<=e._iDisplayLength&&$(e.nTableWrapper).find(`#${e.sTableId}_last`).addClass("disabled")}},this.micrositeloader=!1,this.closeAllModal(),this.loadArloTables()},e=>{this.micrositeloader=!1,this.loadArloTables(),404==e.status&&setTimeout(()=>{this.showNoDataAvailable()},300),this.pageErrorHandle(e,!0)})}BSPPreview(){var e;localStorage.setItem("calix.micrositeDetails",JSON.stringify(this.BspData)),null===(e=this.router.navigate([]))||void 0===e||e.then(e=>{window.open("/microsite_preview","_blank")})}AddMicrositePreview(){var e,i,t;const o={communityDesc:this.addMicroSite.value.communityDesc&&!this.addMicroSite.value.isPredefinedCommunity?this.addMicroSite.value.communityDesc:this.communityDesc&&this.addMicroSite.value.isPredefinedCommunity?this.communityDesc:this.addMicroSite.value.communityDesc,logo:this.logo?this.logo:"Custom"!==this.addMicroSite.value.brandingType?this.defaultLogo:"",primaryColor:"Custom"===this.addMicroSite.value.brandingType?this.addMicroSite.value.primaryColor:null===(e=this.BspData)||void 0===e?void 0:e.defaultPrimaryColor,secondaryColor:"Custom"===this.addMicroSite.value.brandingType?this.addMicroSite.value.secondaryColor:null===(i=this.BspData)||void 0===i?void 0:i.defaultSecondaryColor};localStorage.setItem("calix.micrositeDetails",JSON.stringify(o)),null===(t=this.router.navigate([]))||void 0===t||t.then(e=>{window.open("/microsite_preview","_blank")})}EditMicroPreview(){var e,i,t;const o={communityDesc:this.communityDesc?this.communityDesc:this.addMicroSite.value.communityDesc,logo:this.logo?this.logo:"Custom"===this.addMicroSite.value.brandingType?this.Micrositelogo:this.defaultLogo,primaryColor:"Custom"===this.addMicroSite.value.brandingType?this.addMicroSite.value.primaryColor:null===(e=this.BspData)||void 0===e?void 0:e.defaultPrimaryColor,secondaryColor:"Custom"===this.addMicroSite.value.brandingType?this.addMicroSite.value.secondaryColor:null===(i=this.BspData)||void 0===i?void 0:i.defaultSecondaryColor};localStorage.setItem("calix.micrositeDetails",JSON.stringify(o)),null===(t=this.router.navigate([]))||void 0===t||t.then(e=>{window.open("/microsite_preview","_blank")})}EditMicrositePreview(e){this.editLoader=!0,this.addBspsub=this.communityService.GetMicrositeForEdit(null==e?void 0:e.id).subscribe(e=>{var i;this.MicrositeData=e||{},this.editLoader=!1,localStorage.setItem("calix.micrositeDetails",JSON.stringify(this.MicrositeData)),null===(i=this.router.navigate([]))||void 0===i||i.then(e=>{window.open("/microsite_preview","_blank")})},e=>{this.pageErrorHandle(e,!1),this.editLoader=!1})}loadArloTables(){this.tableLanguageOptions(),setTimeout(()=>{this.tableDataAvailable=!0},0)}getPredefinedCommunities(){this.loading=!0,this.addBspsub=this.communityService.GetpredefinedCommunities().subscribe(e=>{var i;this.communityArr=e||[],0===(null===(i=this.communityArr)||void 0===i?void 0:i.length)?(this.disableCommunity=!0,this.addMicroSite.patchValue({isPredefinedCommunity:!1})):this.disableCommunity=!1,this.loading=!1},e=>{this.loader=!1})}EditBspProvider(){var e;this.bspFormSubmitted=!0,this.error=!1,this.iserror=!1;let i,t=new FormData;if(i=null===(e=$("input[name='logo']").get(0))||void 0===e?void 0:e.files,null==i?void 0:i.length){var o=i[0].name.split(".").pop(),r=i[0].size/1024,n=["jpeg","JPEG","PNG","png","jpg","JPG"];if(-1==n.indexOf(o)){var a=n.join(", ");return void this.addError(this.language.Image_extension_will_be+a+this.language.file_format)}if(r>400)return void this.addError(this.language.LogoImage_uploaderror+" 400 KB");$.each(i,function(e,i){t.append("defaultLogo",i),t.append("updateLogo","true")})}else t.append("defaultLogo",""),t.append("updateLogo","false");this.bspForm.value.defaultTerms&&this.urlValidation(this.bspForm.value.defaultTerms),(!this.bspForm.value.defaultTerms||!this.UrLError)&&(this.bspForm.value.friendlyName&&(this.checkMaxMin(this.bspForm.value.friendlyName,"friendlyName"),this.minimumErr.friendlyName)||(this.bsploader=!0,t.append("timezone",this.bspForm.value.timezone),t.append("defaultPrimaryColor",this.bspForm.value.defaultPrimaryColor),t.append("defaultSecondaryColor",this.bspForm.value.defaultSecondaryColor),t.append("defaultTerms",this.bspForm.value.defaultTerms),this.bspForm.value.friendlyName&&t.append("friendlyName",this.bspForm.value.friendlyName),this.addBspsub=this.communityService.EditBspInfo(t).subscribe(e=>{this.GetBspProvider(),this.closeAllModal()},e=>{this.pageErrorHandle(e,!0),this.bsploader=!1})))}showNoDataAvailable(){setTimeout(()=>{let e=document.querySelector(".dataTables_empty");e&&(e.style.display="table-cell",e.classList.add("text-center"))},100)}addError(e,i){i?(this.errorInfoMicrosite=e,this.iserror=!0,this.error=!1):(this.errorInfo=e,this.error=!0,this.iserror=!1),this.micrositeloader=!1,$("html, body").animate({scrollTop:0},"slow")}getColorByBgColor(e){return!e||parseInt(e.replace("#",""),16)>8388607.5}onSubmit(){var e,i;this.addMicroSiteFormSubmitted=!0;let t=new FormData;if(this.EditmicrositeId){if(!this.addMicroSite.value.isPredefinedCommunity&&!this.addMicroSite.value.communityDesc||this.minimumErr.description)return;if("Custom"===this.addMicroSite.value.brandingType){let i;if(this.micrositeloader=!0,i=null===(e=$("input[name='white_logo']").get(0))||void 0===e?void 0:e.files,null==i?void 0:i.length){var o=i[0].name.split(".").pop(),r=i[0].size/1024;if(-1==(a=["jpeg","JPEG","PNG","png","jpg","JPG"]).indexOf(o)){var n=a.join(", ");return void this.addError(this.language.Image_extension_will_be+n+this.language.file_format,!0)}if(r>400)return void this.addError(this.language.LogoImage_uploaderror+" 400 KB",!0);$.each(i,function(e,i){t.append("logo",i),t.append("updateLogo","true")})}else t.append("logo",""),t.append("updateLogo","false");t.append("primaryColor",this.addMicroSite.value.primaryColor),t.append("secondaryColor",this.addMicroSite.value.secondaryColor),t.append("brandingType",this.addMicroSite.value.brandingType),t.append("communityDesc",this.addMicroSite.value.communityDesc)}else t.append("logo",""),t.append("updateLogo","false"),t.append("primaryColor",""),t.append("secondaryColor",""),t.append("communityDesc",this.addMicroSite.value.communityDesc),t.append("brandingType",this.addMicroSite.value.brandingType)}else{if(!this.addMicroSite.value.brandingType||!this.addMicroSite.value.communityName||!this.addMicroSite.value.isPredefinedCommunity&&!this.addMicroSite.value.communityDesc)return;if(this.micrositeloader=!0,"Custom"===this.addMicroSite.value.brandingType){let e;if(e=null===(i=$("input[name='white_logo']").get(0))||void 0===i?void 0:i.files,null==e?void 0:e.length){var a;if(o=e[0].name.split(".").pop(),r=e[0].size/1024,-1==(a=["jpeg","JPEG","PNG","png","jpg","JPG"]).indexOf(o))return n=a.join(", "),void this.addError(this.language.Image_extension_will_be+n+this.language.file_format,!0);if(r>400)return void this.addError(this.language.LogoImage_uploaderror+" 400 KB",!0);$.each(e,function(e,i){t.append("logo",i),t.append("updateLogo","true")})}else t.append("logo",""),t.append("updateLogo","false");t.append("primaryColor",this.addMicroSite.value.primaryColor),t.append("secondaryColor",this.addMicroSite.value.secondaryColor)}else t.append("logo",""),t.append("updateLogo","false"),t.append("primaryColor",""),t.append("secondaryColor","");if(this.addMicroSite.value.isPredefinedCommunity)t.append("communityDesc","");else if(t.append("communityDesc",this.addMicroSite.value.communityDesc),this.clsAlphaNoOnly(this.addMicroSite.value.communityName),this.checkMaxMin(this.addMicroSite.value.communityName,"community"),this.communityError.community||this.minimumErr.community||this.minimumErr.description)return void(this.micrositeloader=!1);t.append("isPredefinedCommunity",this.addMicroSite.value.isPredefinedCommunity),t.append("brandingType",this.addMicroSite.value.brandingType),t.append("communityName",this.addMicroSite.value.communityName.toLowerCase()),t.append("communityType",this.addMicroSite.value.communityType)}this.addBspsub=this.EditmicrositeId?this.communityService.EditMicrosite(t,this.EditmicrositeId).subscribe(e=>{this.closeAllModal(),this.GetMicrosites(),this.getPredefinedCommunities()},e=>{this.pageErrorHandle(e,!0),this.micrositeloader=!1}):this.communityService.AddMicrosite(t).subscribe(e=>{this.closeAllModal(),this.GetMicrosites(),this.getPredefinedCommunities()},e=>{this.pageErrorHandle(e,!0),this.micrositeloader=!1})}closeAllModal(){this.error=!1,this.iserror=!1,this.dialogService.dismissAll()}editMicroSite(e,i){this.error=!1,this.logo="",this.iserror=!1,this.EditmicrositeId=e.id,this.disblemicrosite=!0,this.disableCommunity=!0,this.minimumErr.description=!1,this.minimumErr.community=!1,this.editLoader=!0,this.addBspsub=this.communityService.GetMicrositeForEdit(this.EditmicrositeId).subscribe(e=>{this.addMicroSite.patchValue(e),this.Micrositelogo=null==e?void 0:e.logo,this.editLoader=!1,this.dialogService.open(this.microSiteModal)},e=>{this.pageErrorHandle(e,!1),this.editLoader=!1}),this.editIndex=i}checkColor(){"Default"===this.addMicroSite.value.brandingType&&this.addMicroSite.patchValue({primaryColor:"#0279FF",secondaryColor:"#CCCCCC"})}addMicroSiteValue(){var e;this.disblemicrosite=!1,this.error=!1,this.iserror=!1,this.logo="",this.addMicroSiteFormSubmitted=!1,this.EditmicrositeId="",this.minimumErr.community=!1,this.minimumErr.description=!1,this.communityDesc="",this.communityError.community=!1,this.Micrositelogo="",0===(null===(e=this.communityArr)||void 0===e?void 0:e.length)?(this.disableCommunity=!0,this.addMicroSite.patchValue({isPredefinedCommunity:!1})):this.disableCommunity=!1,this.addMicroSite.reset({shortName:null,communityType:"Permanent",isPredefinedCommunity:!this.disableCommunity,brandingType:"Default",communityName:null,communityDesc:"",logo:null,primaryColor:"#0279FF",secondaryColor:"#CCCCCC"}),this.dialogService.open(this.microSiteModal)}deleteMicrosite(e,i,t){this.micrositeId=e.id,this.dialogService.open(t,{size:"md"})}DeleteMicrosite(){let e=this.micrositeId;this.micrositeloader=!0,this.addBspsub=this.communityService.DeleteMicrosite(e).subscribe(e=>{this.GetMicrosites(),this.getPredefinedCommunities()},e=>{this.pageErrorHandle(e,!1),this.micrositeloader=!1})}WarToDelMicrosite(e){this.micrositeId=e.id,this.micrositeName=null==e?void 0:e.communityName;let i=this.micrositeId;this.micrositeloader=!0,this.addBspsub=this.communityService.WarToDelMicrosite(this.ORG_ID,JSON.stringify({orgId:this.ORG_ID,"actions.passpointConfig.communities.micrositeId":i})).subscribe(e=>{this.workFlowData=e||[],this.micrositeloader=!1,0!==(null==e?void 0:e.length)?this.dialogService.open(this.verifyMicrositeModel,{windowClass:"custom-alert-warn"}):this.dialogService.open(this.deleteModal)},e=>{this.pageErrorHandle(e,!1),this.dialogService.open(this.deleteModal),this.micrositeloader=!1})}DeleteBSP(){this.bsploader=!0,this.addBspsub=this.communityService.DeleteBspInfo().subscribe(e=>{this.GetBspProvider(),this.closeAllModal()},e=>{this.pageErrorHandle(e,!0),this.bsploader=!1,this.micrositeloader=!1})}pageErrorHandle(e,i){i?(this.iserror=!0,this.errorInfoMicrosite=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e)):(this.error=!0,this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e))}readURL(e){let i;if(this.defaultLogo="",$("#logo-image-view").attr("src"," "),(null==e?void 0:e.files)&&(null==e?void 0:e.files[0])){let t=new FileReader;t.onload=e=>{$("#logo-image-view").attr("src",e.target.result),i=e.target.result},t.readAsDataURL(null==e?void 0:e.files[0]),this.defaultLogo=null==e?void 0:e.files[0].name}}closeAlert(){this.error=!1,this.iserror=!1,this.success=!1}removeCommunity(){this.addMicroSite.patchValue({communityName:null,description:null})}verifyBSPInfoModal(){var e;this.bspFormSubmitted=!0,this.error=!1,this.iserror=!1;let i=null===(e=$("input[name='logo']").get(0))||void 0===e?void 0:e.files;if(null==i?void 0:i.length){var t=i[0].name.split(".").pop(),o=i[0].size/1024,r=["jpeg","JPEG","PNG","png","jpg","JPG"];if(-1==r.indexOf(t)){var n=r.join(", ");return void this.addError(this.language.Image_extension_will_be+n+this.language.file_format)}if(o>400)return void this.addError(this.language.LogoImage_uploaderror+" 400 KB")}!this.bspForm.value.timezone||!this.bspForm.value.shortName||!this.bspForm.value.wifiNetworkName||!this.bspForm.value.defaultPrimaryColor||!this.bspForm.value.defaultSecondaryColor||!this.bspForm.value.defaultTerms||(this.bspForm.value.defaultTerms&&this.urlValidation(this.bspForm.value.defaultTerms),(!this.bspForm.value.defaultTerms||!this.UrLError)&&(this.bspForm.value.shortName&&(this.checkMaxMin(this.bspForm.value.shortName,"bsp"),this.checkMaxMin(this.bspForm.value.wifiNetworkName,"wifi"),this.clsAlphaNoOnly(this.bspForm.value.shortName,"bsp")),(!this.bspForm.value.friendlyName||(this.checkMaxMin(this.bspForm.value.friendlyName,"friendlyName"),!this.minimumErr.friendlyName))&&(this.minimumErr.bsp||this.minimumErr.wifi||this.communityError.bsp||this.dialogService.open(this.verifyBSPModal,{windowClass:"custom-alert-info"}))))}BSPresetErrorModal(){this.dialogService.open(this.bspResetErrorModal,{windowClass:"custom-alert-error"})}BSPInfoWarnModal(){this.iserror=!1,this.dialogService.open(this.bspInfoWarnModal,{windowClass:"custom-alert-warn"})}}return e.\u0275fac=function(i){return new(i||e)(l.Y36(d.s),l.Y36(c.F0),l.Y36(u.Dx),l.Y36(g.t6),l.Y36(r.qu),l.Y36(m.FF),l.Y36(p.v),l.Y36(h.l),l.Y36(f.o))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-bsp-information"]],viewQuery:function(e,i){if(1&e&&(l.Gf(x,7),l.Gf(C,7),l.Gf(_,7),l.Gf(M,7),l.Gf(T,7),l.Gf(w,7),l.Gf(n.G,5)),2&e){let e;l.iGM(e=l.CRH())&&(i.deleteModal=e.first),l.iGM(e=l.CRH())&&(i.microSiteModal=e.first),l.iGM(e=l.CRH())&&(i.verifyBSPModal=e.first),l.iGM(e=l.CRH())&&(i.bspResetErrorModal=e.first),l.iGM(e=l.CRH())&&(i.bspInfoWarnModal=e.first),l.iGM(e=l.CRH())&&(i.verifyMicrositeModel=e.first),l.iGM(e=l.CRH())&&(i.dtElements=e)}},decls:14,vars:5,consts:[[1,"container","position-relative"],["class","loader",4,"ngIf"],["class","w-100 alert alert-danger fade show",4,"ngIf"],["class","w-100 alert alert-success fade show",4,"ngIf"],[4,"ngIf"],["verifyBSPModal",""],["bspResetErrorModal",""],["bspInfoWarnModal",""],["verifyMicrositeModel",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert-success","fade","show"],[1,"success-img"],["src","./assets/img/success-icon.svg"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group","ccl-form"],["for","staticEmail",1,"col-form-label"],[1,"error"],[1,""],["type","text","formControlName","shortName","required","",1,"form-control",3,"placeholder","readonly","ngClass","title","keyup"],["inputPassword2",""],["class","ccl-error",4,"ngIf"],[1,"form-group"],["bindLabel","displayName","bindValue","value","formControlName","timezone","placeholder","",3,"items","ngClass"],["for","defaultTerms",1,"col-form-label"],["type","text","formControlName","defaultTerms","id","defaultTerms","required","","placeholder","https://","trimSpace","",1,"form-control",3,"ngClass","formValue","keyup"],["url",""],["for","FriendlyName","data-toggle","tooltip","data-placement","top",1,"col-form-label","pointer",3,"title"],["type","text","formControlName","friendlyName","trimSpace","",1,"form-control",3,"placeholder","ngClass","formValue","keyup"],["FriendlyName",""],["class","form-group ccl-form",4,"ngIf"],[1,"passpoint-config-title"],["type","text","formControlName","wifiNetworkName","required","",1,"form-control",3,"readonly","placeholder","ngClass","title","keyup"],["inputPassword3",""],[1,"pb-4","relative-position"],[1,"form-input-field"],[1,"input-field"],["id","logo-image-view-div",1,"logo-image-view"],["id","logo-image-view",1,"default-microsite-image",3,"src"],["for","logo",1,"primary","m-0","pointer"],[1,"btn-default","btn-dft"],["type","file","name","logo","required","","id","logo",1,"type-file",3,"ngClass","change"],["logo",""],[1,"logo-guidelines"],[1,"row","mt-2"],[1,"col-md-5"],[1,"mb-3"],[1,"form-input-field","ccl-form","mt-3"],[1,"input-field","color-input","w-75"],["formControlName","defaultPrimaryColor","id","defaultPrimaryColor",1,"form-control",2,"color","#faf9f5",3,"colorPicker","ngModel","cpOutputFormat","ngClass","colorPickerChange","ngModelChange"],["formControlName","defaultSecondaryColor","id","defaultSecondaryColor",1,"form-control","ng-untouched","ng-pristine","ng-valid",2,"color","#faf9f5",3,"ngModel","colorPicker","cpOutputFormat","ngClass","ngModelChange","colorPickerChange"],[1,"col-md-12"],[1,"microsite-configuration-container"],[1,"col-md-12","save-bsp"],["class","btn-default primary px-3 mr-2","id","bsp-save",3,"click",4,"ngIf"],[1,"d-inline-flex","ml-1"],["class","text-decoration-none  cursor-pointer btn-default btn-dft",3,"click",4,"ngIf"],[1,"d-inline-flex","ml-3"],["class","text-decoration-none primary cursor-pointer ",3,"click",4,"ngIf"],["class","text-decoration-none primary cursor-pointer",3,"click",4,"ngIf"],[1,"ccl-error"],[1,"d-inline-flex"],["class","active-but",4,"ngIf"],["class","draft-but",4,"ngIf"],["class","error-but",4,"ngIf"],[1,"active-but"],[1,"dot"],[1,"pl-1"],[1,"draft-but"],[1,"error-but"],["id","bsp-save",1,"btn-default","primary","px-3","mr-2",3,"click"],[1,"text-decoration-none","cursor-pointer","btn-default","btn-dft",3,"click"],[1,"f-size-16px"],["src","./assets/images/gray-preview-icon.svg"],[1,"text-decoration-none","primary","cursor-pointer",3,"click"],["class","w-100 alert alert-danger fade show d-flex align-items-center",4,"ngIf"],[1,"modal-header","my-2"],["type","button","aria-label","Close",1,"close","custom-close-btn",3,"click"],[1,"modal-body"],[1,"d-flex"],[1,"alert-type-icon"],["src","../../../assets/img/ic_info_outline.svg"],[1,"custom-alert-content"],[1,"cco-secondary-title"],[1,"list-disc-type"],[1,"w-100","my-3"],["type","button","class","btn-default btn-primary mr-2","id","BSPInfoSaveBtn",3,"click",4,"ngIf"],["type","button","id","BSPInfoCancelBtn",1,"btn-default","btn-dft",3,"click"],[1,"w-100","alert","alert-danger","fade","show","d-flex","align-items-center"],[1,"d-inline-flex","w-80",3,"innerHtml"],["type","button","id","BSPInfoSaveBtn",1,"btn-default","btn-primary","mr-2",3,"click"],["src","../../../assets/img/ic_error-outline.svg"],["type","button","id","BSPErrorOkayBtn",1,"btn-default","btn-primary","mr-2",3,"click"],["src","../../../assets/img/warning-icon-36px.svg"],["type","button","id","BSPWarnOkayBtn",1,"btn-default","btn-primary","mr-2",3,"click"],["type","button","id","BSPWarnCancelBtn",1,"btn-default","btn-dft","mr-2",3,"click"],[1,"mb-0"],[4,"ngFor","ngForOf"],["type","button","id","microErrorOkayBtn",1,"btn-default","btn-primary","mr-2",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.YNc(1,q,5,1,"div",1),l.YNc(2,A,6,1,"div",2),l.YNc(3,S,6,1,"div",3),l.YNc(4,P,1,0,"div",4),l.YNc(5,de,105,85,"div",4),l.qZA(),l.YNc(6,me,23,8,"ng-template",null,5,l.W1O),l.YNc(8,pe,15,3,"ng-template",null,6,l.W1O),l.YNc(10,ve,19,6,"ng-template",null,7,l.W1O),l.YNc(12,Ze,19,6,"ng-template",null,8,l.W1O)),2&e&&(l.xp6(1),l.Q6J("ngIf",i.loader||i.micrositeloader||i.loading||i.editLoader||i.bsploader),l.xp6(1),l.Q6J("ngIf",i.error),l.xp6(1),l.Q6J("ngIf",i.success),l.xp6(1),l.Q6J("ngIf",i.loader&&!i.refreshBack),l.xp6(1),l.Q6J("ngIf",!i.loader))},directives:[v.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.Q7,v.mk,b.w9,Z.f,y.Kk,v.sg],styles:[".microsite-configuration-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.microsite-configuration-item[_ngcontent-%COMP%]{flex:0 18%;margin-bottom:1%}.microsite-configuration-item[_ngcontent-%COMP%] + .microsite-configuration-item[_ngcontent-%COMP%]{margin-left:28px}.ccl-form-2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:6px!important}.microsites-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.microsites-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc}.microsites-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px 5px;text-align:left;border:0px}.microsites-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 5px;text-align:left;border:0px;word-break:break-all}.microsites-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f8f8fa}.modal-info-title[_ngcontent-%COMP%]{font-family:Source Sans Pro;font-style:normal;font-weight:300;font-size:42px;display:flex;align-items:center;color:#1a1f22}[_ngcontent-%COMP%]::-moz-placeholder{font-weight:400;font-size:16px;line-height:20px}[_ngcontent-%COMP%]::placeholder{font-weight:400;font-size:16px;line-height:20px}.add-microsite-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.add-microsite-item[_ngcontent-%COMP%]{flex:1 25%;margin-bottom:2%}.add-microsite-item[_ngcontent-%COMP%] + .add-microsite-item[_ngcontent-%COMP%]{margin-left:28px}.text-area-style[_ngcontent-%COMP%]{width:100%;border:1px solid #ddd;border-radius:17px 17px 2px;background:#f8f8fa;padding:10px 15px}.relative-position[_ngcontent-%COMP%]{position:relative!important}.grayScal[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background-color:#d3d3d3;opacity:.4}.type-file[_ngcontent-%COMP%]{display:none}.bsp-short-name[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:20px;display:flex;align-items:center;color:gray}.white-logo-image-box[_ngcontent-%COMP%]{background-color:#dedede;padding:10px}.branding-input[_ngcontent-%COMP%]{padding-top:calc(.375rem + 1px)}.logo-image-view[_ngcontent-%COMP%]{display:inline-block;margin-top:8px}.logo-image-view[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:-moz-max-content;width:max-content}.logo-customimage-view[_ngcontent-%COMP%]{display:inline-block}.logo-customimage-view[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:-moz-max-content;width:max-content}.color-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #D9D9D9}.Action-column[_ngcontent-%COMP%]{width:80px;max-width:80px}.w-70[_ngcontent-%COMP%]{width:70%}.w-28[_ngcontent-%COMP%]{width:28%}.passpoint-config-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px;line-height:20px;display:flex;align-items:center;color:#1a1f22;margin-top:24px;margin-bottom:8px}.save-bsp[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:32px}.default-microsite-image[_ngcontent-%COMP%]{background-color:#ebeaef;margin-bottom:10px;padding:10px;max-width:200px;max-height:150px;display:block;min-width:200px;min-height:150px}.microsites-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), .microsites-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){max-width:200px}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:7px;list-style:disc}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;margin:0 5px;color:#4c4c4c}  .custom-alert-info .modal-dialog,   .custom-alert-warn .modal-dialog{max-width:47.47%!important}  .custom-alert-error .modal-dialog{max-width:42.68%!important}  .custom-alert-info .modal-content{background-color:#f5faff!important;padding:26px 36px!important}  .custom-alert-error .modal-content{background-color:#fff5f5!important;padding:26px 36px!important}  .custom-alert-warn .modal-content{background-color:#fff9f5!important;padding:26px 36px!important}.alert-type-icon[_ngcontent-%COMP%]{padding-right:26px}.alert-type-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px}.custom-alert-content[_ngcontent-%COMP%]{width:calc(100% - 74px);color:#4c4c4c}.custom-close-btn[_ngcontent-%COMP%]{position:relative;right:0;top:0}.list-disc-type[_ngcontent-%COMP%]{list-style-type:disc;color:#4c4c4c;padding-left:30px;max-height:200px;overflow-x:auto}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 5px 15px #80808040;-webkit-box-shadow:0px 5px 15px rgba(128,128,128,.25);border-color:#0000000d!important}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button.dropdown-item[_ngcontent-%COMP%]{width:100%!important;border-radius:0!important;text-align:left;line-height:24px;height:34px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#edf5ff!important}.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{padding:0;height:auto!important;outline:none!important;border:none!important;box-shadow:none!important}.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:hover{background:transparent!important;color:#0279ff!important}.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:before{display:none!important;border:0!important}.add-logo-img[_ngcontent-%COMP%]{max-width:240px;background-color:#ebeaef;margin-bottom:10px;padding:10px;max-height:150px}ul.list-disc-type[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:normal}input.inp-disabled[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}"]}),e})()}}]);