"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[4246],{19467:function(t,e,i){i.d(e,{A:function(){return G}});var n=i(23771),o=i(79765),a=i(92340),s=i(49457),l=i(37716),r=i(7450),g=i(12664),u=i(63807),c=i(38048),d=i(49342),p=i(39895),h=i(90048),m=i(91841),f=i(43721),Z=i(39075),b=i(38583);function v(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",37),l.NdJ("click",function(){return l.CHM(t),l.oxw().startMigration()}),l._uU(1),l.qZA()}if(2&t){const t=l.oxw();l.Q6J("disabled","Mapping..."==(null==t.GetmigrationStatus?null:t.GetmigrationStatus.migrationStatus)||"Migrating..."==(null==t.GetmigrationStatus?null:t.GetmigrationStatus.migrationStatus)),l.xp6(1),l.hij(" ",t.language["Start Migration"]," ")}}function x(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",38),l.NdJ("click",function(){l.CHM(t);const e=l.oxw(),i=l.MAs(155);return e.openDeleteJobReportPopup(i)}),l._uU(1),l.qZA()}if(2&t){const t=l.oxw();l.xp6(1),l.hij(" ",t.language["Delete job report"]," ")}}function C(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",38),l.NdJ("click",function(){l.CHM(t);const e=l.oxw(),i=l.MAs(157);return e.openAbortMigrationPopup(i)}),l._uU(1),l.qZA()}if(2&t){const t=l.oxw();l.xp6(1),l.hij(" ",t.language.Abort," ")}}function A(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",38),l.NdJ("click",function(){l.CHM(t);const e=l.oxw(),i=l.MAs(153);return e.openUndoMigrationPopup(i)}),l._uU(1),l.qZA()}if(2&t){const t=l.oxw();l.xp6(1),l.hij(" ",t.language["Undo migration"]," ")}}function T(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",39),l.TgZ(1,"span",40),l._UZ(2,"img",41),l.qZA(),l._UZ(3,"div",42),l.TgZ(4,"button",43),l.NdJ("click",function(){return l.CHM(t),l.oxw().closeAlert()}),l._UZ(5,"span"),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.xp6(3),l.Q6J("innerHtml",t.errorInfo,l.oJD)}}function S(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",44),l.TgZ(1,"span",45),l._UZ(2,"img",46),l.qZA(),l.TgZ(3,"button",43),l.NdJ("click",function(){return l.CHM(t),l.oxw().success=!1}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",47),l.qZA()}if(2&t){const t=l.oxw();l.xp6(5),l.Q6J("innerHtml",t.language[t.successInfo]||t.successInfo,l.oJD)}}function _(t,e){if(1&t&&(l.TgZ(0,"div",48),l.TgZ(1,"div",49),l.TgZ(2,"div",50),l.TgZ(3,"span",51),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(4),l.Oqu(t.language.Loading)}}function q(t,e){if(1&t&&(l.TgZ(0,"span",56),l._UZ(1,"img",57),l.TgZ(2,"div",58),l._uU(3),l.qZA(),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(3),l.Oqu(null==t?null:t.failureMessage)}}function O(t,e){if(1&t&&(l.TgZ(0,"span",56),l._UZ(1,"img",57),l.TgZ(2,"div",58),l._uU(3),l.qZA(),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(3),l.Oqu(null==t?null:t.failureMessage)}}function M(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l.TgZ(2,"span",52),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw().getSubscriber(null==e?null:e.fsan)}),l._uU(3),l.qZA(),l.qZA(),l.TgZ(4,"td"),l.TgZ(5,"a",53),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw().getSubscriber(null==e?null:e.fsan)}),l._uU(6),l.qZA(),l.qZA(),l.TgZ(7,"td"),l.TgZ(8,"span",54),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw().getSubscriber(null==e?null:e.fsan)}),l._uU(9),l.qZA(),l.qZA(),l.TgZ(10,"td"),l._uU(11),l.qZA(),l.TgZ(12,"td"),l._uU(13),l.qZA(),l.TgZ(14,"td"),l._uU(15),l.qZA(),l.TgZ(16,"td"),l.TgZ(17,"span",26),l._uU(18),l.qZA(),l.YNc(19,q,4,1,"span",55),l.qZA(),l.TgZ(20,"td"),l.TgZ(21,"span",26),l._uU(22),l.qZA(),l.YNc(23,O,4,1,"span",55),l.qZA(),l.TgZ(24,"td"),l.TgZ(25,"span",54),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw().GotoServiceProfile(null==e?null:e.matchingServiceDefinition)}),l._uU(26),l.qZA(),l.qZA(),l.TgZ(27,"td"),l._uU(28),l.qZA(),l.TgZ(29,"td"),l._uU(30),l.qZA(),l.TgZ(31,"td"),l._uU(32),l.qZA(),l.TgZ(33,"td"),l._uU(34),l.qZA(),l.TgZ(35,"td"),l._uU(36),l.qZA(),l.TgZ(37,"td"),l._uU(38),l.qZA(),l.TgZ(39,"td"),l._uU(40),l.qZA(),l.TgZ(41,"td"),l._uU(42),l.qZA(),l.TgZ(43,"td"),l._uU(44),l.qZA(),l.TgZ(45,"td"),l._uU(46),l.qZA(),l.TgZ(47,"td"),l._uU(48),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit;l.xp6(3),l.hij(" ",null==t?null:t.fsan,""),l.xp6(2),l.Q6J("ngClass",null!=t&&t.ont_regId?"primary cursor-pointer":""),l.xp6(1),l.hij(" ",null==t?null:t.regId,""),l.xp6(2),l.Q6J("ngClass",null!=t&&t.subscriberLocationId?"primary cursor-pointer":""),l.xp6(1),l.hij(" ",null==t?null:t.subscriberLocationId,""),l.xp6(2),l.Oqu(null==t?null:t.interface),l.xp6(2),l.Oqu("DATA"===(null==t||null==t.serviceConfig?null:t.serviceConfig.serviceType)?"Data":"VIDEO"===(null==t||null==t.serviceConfig?null:t.serviceConfig.serviceType)?"Video":"VOICE"===(null==t||null==t.serviceConfig?null:t.serviceConfig.serviceType)?"Voice":""),l.xp6(2),l.Oqu(null==t?null:t.migrationProfile),l.xp6(2),l.Q6J("ngClass","Mapping Failed"==(null==t?null:t.mappingStatus)?"red-text":""),l.xp6(1),l.hij(" ",null!=t&&t.mappingStatus?null==t?null:t.mappingStatus:"",""),l.xp6(1),l.Q6J("ngIf","Mapping Failed"==(null==t?null:t.mappingStatus)),l.xp6(2),l.Q6J("ngClass","Provisioning failed"==(null==t?null:t.provisioningStatus)||"Migration failed"==(null==t?null:t.provisioningStatus)?"red-text":""),l.xp6(1),l.hij(" ",null==t?null:t.provisioningStatus,""),l.xp6(1),l.Q6J("ngIf","Provisioning failed"==(null==t?null:t.provisioningStatus)||"Migration failed"==(null==t?null:t.provisioningStatus)),l.xp6(2),l.Q6J("ngClass",null!=t&&t.matchingServiceDefinition?"primary cursor-pointer":""),l.xp6(1),l.hij(" ",null==t?null:t.matchingServiceDefinition," "),l.xp6(2),l.hij(" ",null==t||null==t.serviceConfig?null:t.serviceConfig.staticIp,""),l.xp6(2),l.hij(" ",null==t||null==t.serviceConfig?null:t.serviceConfig.netmask," "),l.xp6(2),l.hij(" ",null==t||null==t.serviceConfig?null:t.serviceConfig.gateway,""),l.xp6(2),l.hij(" ",null!=t&&null!=t.serviceConfig&&t.serviceConfig.pppoeUsername?null==t||null==t.serviceConfig?null:t.serviceConfig.pppoeUsername:null==t||null==t.serviceConfig||null==t.serviceConfig.pppoe?null:t.serviceConfig.pppoe.Username," "),l.xp6(2),l.hij(" ",null==t||null==t.serviceConfig?null:t.serviceConfig.sipProfile," "),l.xp6(2),l.hij(" ",null==t||null==t.serviceConfig?null:t.serviceConfig.user," "),l.xp6(2),l.hij(" ",null==t||null==t.serviceConfig?null:t.serviceConfig.uri," "),l.xp6(2),l.hij(" ",null==t||null==t.serviceConfig?null:t.serviceConfig.h248Profile,""),l.xp6(2),l.hij(" ",null==t||null==t.serviceConfig?null:t.serviceConfig.terminationId," "),l.xp6(2),l.hij(" ",null==t||null==t.serviceConfig?null:t.serviceConfig.mgcp,""),l.xp6(2),l.hij(" ",null==t||null==t.serviceConfig?null:t.serviceConfig.x000631TdmGw," ")}}function w(t,e){if(1&t&&(l.TgZ(0,"tbody"),l.TgZ(1,"tr"),l.TgZ(2,"td",59),l._uU(3),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(3),l.hij("",t.language["No matching records found"]," ")}}function y(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",60),l.TgZ(1,"div",61),l.TgZ(2,"h5",62),l._uU(3),l.qZA(),l.TgZ(4,"button",63),l.NdJ("click",function(){return l.CHM(t),l.oxw().close()}),l._UZ(5,"span",64),l.qZA(),l.qZA(),l.TgZ(6,"div",65),l._UZ(7,"p",66),l.TgZ(8,"p",67),l._uU(9),l.qZA(),l.TgZ(10,"div",68),l.TgZ(11,"button",69),l.NdJ("click",function(){return l.CHM(t),l.oxw().undoMigration()}),l._uU(12),l.qZA(),l.TgZ(13,"button",70),l.NdJ("click",function(){return l.CHM(t),l.oxw().close()}),l._uU(14),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.xp6(3),l.Oqu(t.language["Undo migration"]),l.xp6(4),l.Q6J("innerHTML",t.language.undotMigrationmsg(t.migrationName),l.oJD),l.xp6(2),l.Oqu(t.language["Do you wish to continue?"]),l.xp6(3),l.hij(" ",t.language["Undo migration"]," "),l.xp6(2),l.hij(" ",t.language.Cancel," ")}}function U(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",60),l.TgZ(1,"div",61),l.TgZ(2,"h5",62),l._uU(3),l.qZA(),l.TgZ(4,"button",63),l.NdJ("click",function(){return l.CHM(t),l.oxw().close()}),l._UZ(5,"span",64),l.qZA(),l.qZA(),l.TgZ(6,"div",65),l._UZ(7,"p",66),l.TgZ(8,"p",67),l._uU(9),l.qZA(),l.TgZ(10,"div",68),l.TgZ(11,"button",69),l.NdJ("click",function(){return l.CHM(t),l.oxw().DeleteMigration()}),l._uU(12),l.qZA(),l.TgZ(13,"button",70),l.NdJ("click",function(){return l.CHM(t),l.oxw().close()}),l._uU(14),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.xp6(3),l.Oqu(t.language["Delete job report"]),l.xp6(4),l.Q6J("innerHTML",t.language.deleteMigrationmsg(t.migrationName),l.oJD),l.xp6(2),l.Oqu(t.language["Do you wish to continue?"]),l.xp6(3),l.hij(" ",t.language["Delete job report"]," "),l.xp6(2),l.hij(" ",t.language.Cancel," ")}}function P(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",60),l.TgZ(1,"div",61),l.TgZ(2,"h5",62),l._uU(3),l.qZA(),l.TgZ(4,"button",63),l.NdJ("click",function(){return l.CHM(t),l.oxw().close()}),l._UZ(5,"span",64),l.qZA(),l.qZA(),l.TgZ(6,"div",65),l._UZ(7,"p",66),l.TgZ(8,"p",67),l._uU(9),l.qZA(),l.TgZ(10,"div",71),l.TgZ(11,"button",69),l.NdJ("click",function(){return l.CHM(t),l.oxw().AbortMigration()}),l._uU(12),l.qZA(),l.TgZ(13,"button",70),l.NdJ("click",function(){return l.CHM(t),l.oxw().close()}),l._uU(14),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.xp6(3),l.Oqu(t.language["Abort Migration"]),l.xp6(4),l.Q6J("innerHTML",t.language.abortMigrationmsg(t.migrationName),l.oJD),l.xp6(2),l.Oqu(t.language["Do you wish to continue?"]),l.xp6(3),l.hij(" ",t.language["Abort Migration"]," "),l.xp6(2),l.hij(" ",t.language.Cancel," ")}}let G=(()=>{class t{constructor(t,e,i,n,a,s,l,r,g,u,c,d){this.translateService=t,this.modalService=e,this.dialogService=i,this.service=n,this.sso=a,this.commonOrgService=s,this.router=l,this.route=r,this.downloadService=g,this.http=u,this.validatorService=c,this.titleService=d,this.GetListData=[],this.dtOptions={pagingType:"full_numbers",dom:"tipr"},this.dtTrigger=new o.xQ,this.scope=[],this.tableCount=0,this.language=this.translateService.defualtLanguage,this.frTable=this.translateService.fr,this.esTable=this.translateService.es,this.de_DETable=this.translateService.de_DE}ngOnInit(){var t,e;let i=this.sso.getScopes();i["cloud.rbac.coc.operations.configuration.axosmigration"]&&(-1!==(null===(t=i["cloud.rbac.coc.operations.configuration.axosmigration"])||void 0===t?void 0:t.indexOf("read"))&&(this.scope.read=!0),-1!==(null===(e=i["cloud.rbac.coc.operations.configuration.axosmigration"])||void 0===e?void 0:e.indexOf("write"))&&(this.scope.write=!0)),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t,this.titleService.setTitle(`Jobs - Migrations - ${this.language.Configuration} - ${this.language.Operations} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`Jobs - Migrations - ${this.language.Configuration} - ${this.language.Operations} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`),this.dtOptions={pagingType:"full_numbers",pageLength:10,lengthChange:!0,processing:!1,dom:"tipr",columnDefs:[{targets:[3,5,6],orderable:!0}],order:[]},this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t,this.changeTableStatusLanguage({_iDisplayStart:this.tableCounts.start,_iDisplayLength:this.tableCounts.displayCount,_iRecordsDisplay:this.tableCounts.displayed,_iRecordsTotal:this.tableCounts.total,oPreviousSearch:{sSearch:this.tableCounts.searchText}}),this.tableLanguageOptions()}),this.route.queryParams.subscribe(t=>{t.migrationId&&(this.migrationId=t.migrationId,this.migrationName=t.migrationName)}),$("body").off("click",".languageContent ul li a"),$("body").on("click",".languageContent ul li a",()=>{this.changeTableStatusLanguage({_iDisplayStart:this.tableCounts.start,_iDisplayLength:this.tableCounts.displayCount,_iRecordsDisplay:this.tableCounts.displayed,_iRecordsTotal:this.tableCounts.total,oPreviousSearch:{sSearch:this.tableCounts.searchText}})}),this.tableRender(),this.getallMigSer(),this.tableLanguageOptions()}getallMigSer(t){this.loader=!0,t&&(this.dtTrigger.next(),this.tableRender()),this.service.GetAllsummary(this.migrationId).subscribe(e=>{this.GetmigrationStatus=e||{},t||(this.loader=!1)},t=>{this.loader=!1,this.pageErrorHandle(t)})}changeTableStatusLanguage(t){const e=new Intl.NumberFormat;this.tableCounts={searchText:t.oPreviousSearch.sSearch.replace(/\s+/g,""),total:t._iRecordsTotal,displayCount:t._iDisplayLength,displayed:t._iRecordsDisplay,start:t._iDisplayStart};const i="fr"==sessionStorage.getItem("defaultLanguage"),n="es"==sessionStorage.getItem("defaultLanguage"),o="de_DE"==sessionStorage.getItem("defaultLanguage"),a=t._iRecordsTotal>1e4&&(""==t.oPreviousSearch.sSearch||""!=t.oPreviousSearch.sSearch)?i?`(filtr\xe9es \xe0 partir des  ${e.format(t._iRecordsTotal)} entr\xe9es totales)<br/>`+(this.show?`<b style="font-size: 14px;">${this.language.searchError}</b>`:""):n?`(filtrado de un total de  ${e.format(t._iRecordsTotal)} entradas)<br/>`+(this.show?`<b style="font-size: 14px;">${this.language.searchError}</b>`:""):o?`(gefiltert aus  ${e.format(t._iRecordsTotal)} Eintr\xe4gen)<br/>`+(this.show?`<b style="font-size: 14px;">${this.language.searchError}</b>`:""):`(filtered from  ${e.format(t._iRecordsTotal)} total entries)<br/>`+(this.show?`<b style="font-size: 14px;">${this.language.searchError}</b>`:""):"",s=0==t._iRecordsDisplay?-1:t._iDisplayStart,l=t._iDisplayStart+t._iDisplayLength>t._iRecordsDisplay?t._iRecordsDisplay:t._iDisplayStart+t._iDisplayLength;$('div [role="status"]').html(i?`Affichage de ${e.format(s+1)} \xe0 ${e.format(l)} des ${this.firstValues?this.language.first:""} ${e.format(t._iRecordsDisplay)} entr\xe9es ${a}`:n?`Se muestran del ${e.format(s+1)} al ${e.format(l)} de ${this.firstValues?this.language.first:""} ${e.format(t._iRecordsDisplay)} resultados ${a}`:o?`Angezeigt ${e.format(s+1)} bis ${e.format(l)} von ${this.firstValues?this.language.first:""} ${e.format(t._iRecordsDisplay)} ergebnissen ${a}`:`Showing ${e.format(s+1)} to ${e.format(l)} of ${this.firstValues?this.language.first:""} ${e.format(t._iRecordsDisplay)} entries ${a}`),$(".first").text(i?"Le d\xe9but":n?"Primero":o?"Erste Seite":"First"),$(".previous").text(i?"Pr\xe9c\xe9dent":n?"Anterior":o?"Zur\xfcck":"Previous"),$(".next").text(i?"Suivant":n?"Siguiente":o?"Weiter":"Next"),$(".last").text(i?"Derni\xe8re":n?"\xdaltimo":o?"Letzte":"Last")}tableLanguageOptions(t){"fr"==this.language.fileLanguage?this.dtOptions.language=this.frTable:"es"==this.language.fileLanguage?this.dtOptions.language=this.esTable:"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.de_DETable:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}closeAlert(){this.error=!1,this.errorInfo=""}setSuccessInfo(t){this.success=!0,this.successInfo=t,setTimeout(()=>{this.success=!1},2e3)}getAllstatus(){this.loader=!0,this.service.GetAllservices(this.migrationId).subscribe(t=>{this.count=(null==t?void 0:t.totalNumberOfPages)?null==t?void 0:t.totalNumberOfPages:0},t=>{this.loader=!1,this.tableCount=0})}tableRender(){this.loader=!0;const t=this;let e,i=`${a.N.COC_SERVICE_MIGRATION_URL}/migration/${this.migrationId}/services`;this.dtOptions={pagingType:"full_numbers",pageLength:10,serverSide:!0,processing:!1,search:!1,destroy:!0,dom:"tipr",columnDefs:[{targets:[0,1,2,4,5,8,9,10,11,12,13,14,15,16,17,18,19],orderable:!1}],drawCallback:t=>{this.Settings=t,this.changeTableStatusLanguage(t),this._iDisplayStart=t._iDisplayStart},ajax:(n,o)=>{var a,s,l,r,g;this.Settings&&9990==n.start?(this.show=!0,this.changeTableStatusLanguage(this.Settings)):this.show=!1,e=Math.round(n.start/10),this.sortedColumnDetails=null===(a=null==n?void 0:n.order[0])||void 0===a?void 0:a.dir,g=7==(null===(s=null==n?void 0:n.order[0])||void 0===s?void 0:s.column)?{page:`${e}`,size:10,sort:`provisioningStatus,${this.sortedColumnDetails}`,id:`${this.migrationId}`}:6==(null===(l=null==n?void 0:n.order[0])||void 0===l?void 0:l.column)?{page:`${e}`,size:10,sort:`mappingStatus,${this.sortedColumnDetails}`,id:`${this.migrationId}`}:3==(null===(r=null==n?void 0:n.order[0])||void 0===r?void 0:r.column)?{page:`${e}`,size:10,sort:`interface,${this.sortedColumnDetails}`,id:`${this.migrationId}`}:{page:`${e}`,size:10},this.searchsub=t.http.get(i,{params:g}).subscribe(e=>{this.tableCount=(null==e?void 0:e.totalNumberRecords)?null==e?void 0:e.totalNumberRecords:0,this.GetListData=(null==e?void 0:e.result)?null==e?void 0:e.result:[],t.dataAvailable=!0,o({recordsTotal:t.tableCount,recordsFiltered:t.tableCount,data:[]}),t.loader=!1},e=>{t.loader=!1,404==e.status?o({recordsTotal:0,recordsFiltered:0,data:[]}):this.pageErrorHandle(e)})}}}ngAfterViewInit(){this.dtTrigger.next()}rerender(){var t,e;null===(e=null===(t=this.dtElement)||void 0===t?void 0:t.dtInstance)||void 0===e||e.then(t=>{var e;null==t||t.destroy(),null===(e=this.dtTrigger)||void 0===e||e.next()})}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe()}convertDate(t,e){var i=new Date(t+"+00:00"),n=this.getLocalTimeZone(i),o=i.getFullYear(),a=i.getMonth()+1,s=i.getDate(),l=i.getHours(),r=i.getMinutes(),g=i.getSeconds(),u=l>=12?"PM":"AM";let c=+(l=(l%=12)||12)<10?"0"+l:l,d=+r<10?"0"+r:r;return e?`${o}-${a}-${s}T${c}-${d}-${g}`:`${a}/${s}/${o} ${c}:${d} ${u} UTC/${n}`}GotoServiceProfile(t){this.router.navigate(["/cco/services/service-profiles/ONT-profile"],{queryParams:{searchkey:t,key:"migartor"}})}getLocalTimeZone(t){var e,i;return null===(i=null===(e=t.toString())||void 0===e?void 0:e.split(" ")[5])||void 0===i?void 0:i.replace(/(.{2})$/,":$1")}getSubscriber(t){this.loader=!0,this.ontInfoSubs=this.http.get(`${a.N.SUPPORT_URL}/subscriber-search?filter=${t}&pageNumber=1&pageSize=1`).subscribe(e=>{var i;this.deviceInfo=e.records[0],this.subscriber=null===(i=e.records[0])||void 0===i?void 0:i.subscriberId,this.gotoSubscriber(t),this.loader=!1},t=>{this.loader=!1})}gotoSubscriber(t){localStorage.setItem("calix.Device_Details",JSON.stringify(this.deviceInfo)),this.router.navigate(["/cco/system/cco-subscriber-system/system-details"],{queryParams:{sn:t,subscriber:this.subscriber,key:"migartor"}})}pageErrorHandle(t){this.error=!0,this.errorInfo=401==t.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(t)}openUndoMigrationPopup(t){this.dialogService.open(t,{size:"xl",centered:!0,windowClass:"undo-migration-modal"})}openDeleteJobReportPopup(t){this.dialogService.open(t,{size:"xl",centered:!0,windowClass:"delete-job-modal"})}openAbortMigrationPopup(t){this.dialogService.open(t,{size:"xl",centered:!0,windowClass:"abort-migration-modal"})}close(){this.dialogService.dismissAll()}DeleteMigration(){this.loader=!0,this.service.DeleteMigration(this.migrationId,this.sso.getOrgId(),"").subscribe(t=>{this.loader=!1,this.success=!0,this.successInfo=(null==t?void 0:t.message)?t.message:t,this.dialogService.dismissAll(),this.router.navigate(["/cco/operations/configuration/migrations/jobs"])},t=>{this.loader=!1,this.pageErrorHandle(t),this.dialogService.dismissAll()})}undoMigration(){this.loader=!0,this.service.undoMigration(this.migrationId,this.sso.getOrgId(),"").subscribe(t=>{this.success=!0,this.successInfo=(null==t?void 0:t.message)?t.message:t,this.dialogService.dismissAll(),this.getallMigSer(!0),this.loader=!1},t=>{this.loader=!1,this.pageErrorHandle(t),this.dialogService.dismissAll()})}AbortMigration(){this.loader=!0,this.service.AbortMigration(this.migrationId,this.sso.getOrgId(),"").subscribe(t=>{this.success=!0,this.successInfo=(null==t?void 0:t.message)?t.message:t,this.loader=!1,this.dialogService.dismissAll(),this.getallMigSer(!0)},t=>{this.loader=!1,this.pageErrorHandle(t),this.dialogService.dismissAll()})}startMigration(t,e){this.loader=!0,this.service.startMigration(this.migrationId,this.sso.getOrgId(),"").subscribe(t=>{this.success=!0,this.successInfo=(null==t?void 0:t.message)?t.message:t,this.loader=!1,this.getallMigSer(!0)},t=>{this.loader=!1,this.pageErrorHandle(t)})}ExportMigration(){this.loader=!0,this.http.get(`${a.N.COC_SERVICE_MIGRATION_URL}/export/${this.migrationId}`,{responseType:"text",observe:"response"}).subscribe(t=>{var e,i,n;let o=t.headers.get("Content-Disposition").split("=")[1],a=(null===(e=this.GetmigrationStatus)||void 0===e?void 0:e.completionDate)&&"-"!==(null===(i=this.GetmigrationStatus)||void 0===i?void 0:i.completionDate)?this.convertDate(null===(n=this.GetmigrationStatus)||void 0===n?void 0:n.completionDate,!0):"",l=`${o.split(".")[0]}_${a}.csv`;this.loader=!1;const r=new Blob([t.body],{type:"text/csv"});(0,s.saveAs)(r,l)},t=>{console.log(t.headers.get("Content-Disposition")),this.loader=!1,this.pageErrorHandle(t)})}Cancel(){this.router.navigate(["/cco/operations/configuration/migrations/jobs"])}setStatusClass(t){let e="";return t&&("ready to migrate"==(null==t?void 0:t.toLowerCase())&&(e="scheduled-but"),("aborted"==(null==t?void 0:t.toLowerCase())||"deleted"==(null==t?void 0:t.toLowerCase()))&&(e="complete-but"),"complete"==(null==t?void 0:t.toLowerCase())&&(e="running-but"),"failed"==(null==t?void 0:t.toLowerCase())&&(e="error-but"),("mapping"==(null==t?void 0:t.toLowerCase())||"migrating"==t.toLowerCase()||"mapping..."==t.toLowerCase()||"migrating..."==t.toLowerCase()||"deleting..."==t.toLowerCase())&&(e="draft-but")),e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(r.s),l.Y36(g.FF),l.Y36(g.FF),l.Y36(u.H),l.Y36(c.t6),l.Y36(d.v),l.Y36(p.F0),l.Y36(p.gz),l.Y36(h.K),l.Y36(m.eN),l.Y36(f.o),l.Y36(Z.Dx))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-migration-mapping"]],viewQuery:function(t,e){if(1&t&&l.Gf(n.G,5),2&t){let t;l.iGM(t=l.CRH())&&(e.dtElement=t.first)}},decls:158,vars:58,consts:[[1,"container"],[1,"row"],[1,"col-md-12","p-0"],[1,"migration-title"],[1,"title-ellipse"],[3,"title"],[1,"mx-2",3,"ngClass"],[1,"dot"],[1,"float-right","pointer","mr-2"],["src","../../../../../../assets/img/ic_close-44px.svg","alt","",3,"click"],[1,"col-md-4","pl-0"],[1,"mr-2","cursor-pointer"],["src","../../../../../../assets/img/ic_refresh.svg","alt","",3,"click"],[1,"col-md-8","pr-0","text-right",3,"hidden"],["type","button","class","btn-default primary px-3 mr-2",3,"disabled","click",4,"ngIf"],["type","button","id","#",1,"btn-default","btn-dft","mr-2",3,"disabled","click"],["type","button","id","#","class","btn-default btn-dft mx-2","data-toggle","modal","data-target",".bd-example-modal-lg",3,"click",4,"ngIf"],["class","w-100 alert alert-danger fade show my-3 d-flex align-items-start justify-content-around",4,"ngIf"],["class","w-100 alert alert-success fade show my-3",4,"ngIf"],["class","loader",4,"ngIf"],[1,"migration-collapse"],["data-toggle","collapse","data-target","#collapseExample","aria-expanded","true","aria-controls","collapseExample",1,"pointer"],["src","../../../../../assets/img/ic_chevrondown_blue.svg",1,"mx-1"],["id","collapseExample",1,"migration-collapse","collapse","show","border-0"],[1,"card","card-body","pb-0"],[1,"migration-table"],[3,"ngClass"],[1,"col-md-4"],[1,"col-md-12","pl-0"],[1,"migration-mapping-table"],["datatable","",1,"table","table-hover",3,"dtOptions","dtTrigger"],[1,"sorting_disabled"],[4,"ngFor","ngForOf"],[4,"ngIf"],["UndoMigrationmodal",""],["DeleteJobReportmodal",""],["AbortMigrationModal",""],["type","button",1,"btn-default","primary","px-3","mr-2",3,"disabled","click"],["type","button","id","#","data-toggle","modal","data-target",".bd-example-modal-lg",1,"btn-default","btn-dft","mx-2",3,"click"],[1,"w-100","alert","alert-danger","fade","show","my-3","d-flex","align-items-start","justify-content-around"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg",1,""],[1,"text-break","w-95","pr-2",3,"innerHtml"],["type","button",1,"close",3,"click"],[1,"w-100","alert","alert-success","fade","show","my-3"],[1,"success-img"],["src","./assets/img/success-icon.svg"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"primary","cursor-pointer",3,"click"],[1,"cursor-pointer","text-decoration-none",3,"ngClass","click"],[3,"ngClass","click"],["class","showhim",4,"ngIf"],[1,"showhim"],["src","../../../../../../assets/img/info-icon.svg","alt","",1,"ml-1"],[1,"showme"],["colspan","8",1,"no-data-available"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"innerHTML"],[1,"mt-0"],[1,""],["type","button",1,"btn-default","primary","px-3","mr-2",3,"click"],["type","button","id","#",1,"btn-default","btn-dft","mr-2",3,"click"],[1,"mt-3"]],template:function(t,e){1&t&&(l.TgZ(0,"section"),l.TgZ(1,"div",0),l.TgZ(2,"div",1),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l.TgZ(5,"div",4),l.TgZ(6,"span",5),l._uU(7),l.qZA(),l.qZA(),l.TgZ(8,"div",6),l._UZ(9,"span",7),l._uU(10),l.qZA(),l.TgZ(11,"span",8),l.TgZ(12,"img",9),l.NdJ("click",function(){return e.Cancel()}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(13,"div",1),l.TgZ(14,"div",10),l.TgZ(15,"span",11),l.TgZ(16,"img",12),l.NdJ("click",function(){return e.getallMigSer(!0)}),l.qZA(),l.qZA(),l._uU(17),l.qZA(),l.TgZ(18,"div",13),l.YNc(19,v,2,2,"button",14),l.TgZ(20,"button",15),l.NdJ("click",function(){return e.ExportMigration()}),l._uU(21),l.qZA(),l.YNc(22,x,2,1,"button",16),l.YNc(23,C,2,1,"button",16),l.YNc(24,A,2,1,"button",16),l.qZA(),l.qZA(),l.YNc(25,T,6,1,"div",17),l.YNc(26,S,6,1,"div",18),l.YNc(27,_,5,1,"div",19),l.TgZ(28,"section"),l.TgZ(29,"div",1),l.TgZ(30,"div",2),l.TgZ(31,"div",20),l.TgZ(32,"span",21),l._uU(33),l._UZ(34,"img",22),l.qZA(),l.qZA(),l.TgZ(35,"div",23),l.TgZ(36,"div",24),l.TgZ(37,"div",1),l.TgZ(38,"div",10),l.TgZ(39,"div",25),l.TgZ(40,"table"),l.TgZ(41,"thead"),l.TgZ(42,"tr"),l._UZ(43,"th"),l.qZA(),l.qZA(),l.TgZ(44,"tbody"),l.TgZ(45,"tr"),l.TgZ(46,"td"),l._uU(47),l.qZA(),l.TgZ(48,"td"),l.TgZ(49,"span",26),l._uU(50),l.qZA(),l.qZA(),l.qZA(),l.TgZ(51,"tr"),l.TgZ(52,"td"),l._uU(53),l.qZA(),l.TgZ(54,"td"),l._uU(55),l.qZA(),l.qZA(),l.TgZ(56,"tr"),l.TgZ(57,"td"),l._uU(58),l.qZA(),l.TgZ(59,"td"),l._uU(60),l.qZA(),l.qZA(),l.TgZ(61,"tr"),l.TgZ(62,"td"),l._uU(63),l.qZA(),l.TgZ(64,"td"),l.TgZ(65,"span",26),l._uU(66),l.qZA(),l.qZA(),l.qZA(),l.TgZ(67,"tr"),l.TgZ(68,"td"),l._uU(69),l.qZA(),l.TgZ(70,"td"),l.TgZ(71,"span",26),l._uU(72),l.qZA(),l.qZA(),l.qZA(),l.TgZ(73,"tr"),l.TgZ(74,"td"),l._uU(75),l.qZA(),l.TgZ(76,"td"),l._uU(77),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(78,"div",27),l.TgZ(79,"div",25),l.TgZ(80,"table"),l.TgZ(81,"thead"),l.TgZ(82,"tr"),l._UZ(83,"th"),l._UZ(84,"th"),l.qZA(),l.qZA(),l.TgZ(85,"tbody"),l.TgZ(86,"tr"),l.TgZ(87,"td"),l._uU(88),l.qZA(),l.TgZ(89,"td"),l._uU(90),l.qZA(),l.qZA(),l.TgZ(91,"tr"),l.TgZ(92,"td"),l._uU(93),l.qZA(),l.TgZ(94,"td"),l._uU(95),l.qZA(),l.qZA(),l.TgZ(96,"tr"),l.TgZ(97,"td"),l._uU(98),l.qZA(),l.TgZ(99,"td"),l._uU(100),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(101,"section"),l.TgZ(102,"div",1),l.TgZ(103,"div",28),l.TgZ(104,"div",29),l.TgZ(105,"table",30),l.TgZ(106,"thead"),l.TgZ(107,"tr"),l.TgZ(108,"th",31),l._uU(109),l.qZA(),l.TgZ(110,"th",31),l._uU(111,"Reg ID"),l.qZA(),l.TgZ(112,"th",31),l._uU(113),l.qZA(),l.TgZ(114,"th",31),l._uU(115),l.qZA(),l.TgZ(116,"th"),l._uU(117),l.qZA(),l.TgZ(118,"th"),l._uU(119),l.qZA(),l.TgZ(120,"th"),l._uU(121),l.qZA(),l.TgZ(122,"th"),l._uU(123),l.qZA(),l.TgZ(124,"th"),l._uU(125),l.qZA(),l.TgZ(126,"th"),l._uU(127),l.qZA(),l.TgZ(128,"th"),l._uU(129),l.qZA(),l.TgZ(130,"th"),l._uU(131),l.qZA(),l.TgZ(132,"th"),l._uU(133),l.qZA(),l.TgZ(134,"th"),l._uU(135),l.qZA(),l.TgZ(136,"th"),l._uU(137),l.qZA(),l.TgZ(138,"th"),l._uU(139),l.qZA(),l.TgZ(140,"th"),l._uU(141),l.qZA(),l.TgZ(142,"th"),l._uU(143),l.qZA(),l.TgZ(144,"th"),l._uU(145,"Voice (MGCP)"),l.qZA(),l.TgZ(146,"th"),l._uU(147,"Voice (TDM Gateway)"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(148,"tbody"),l.YNc(149,M,49,27,"tr",32),l.qZA(),l.YNc(150,w,4,1,"tbody",33),l._UZ(151,"tbody"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(152,y,15,5,"ng-template",null,34,l.W1O),l.YNc(154,U,15,5,"ng-template",null,35,l.W1O),l.YNc(156,P,15,5,"ng-template",null,36,l.W1O)),2&t&&(l.xp6(6),l.s9C("title",e.migrationName),l.xp6(1),l.Oqu(e.migrationName),l.xp6(1),l.Q6J("ngClass",e.setStatusClass(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)),l.xp6(2),l.hij(" ","Deleted"===(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)?"Undo Complete":null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus," "),l.xp6(7),l.hij(" ",e.language["Last updated a few seconds ago"]," "),l.xp6(1),l.Q6J("hidden",!e.scope.write),l.xp6(1),l.Q6J("ngIf","Ready To Migrate"==(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)||"Mapping..."==(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)||"Migrating..."==(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)),l.xp6(1),l.Q6J("disabled","Mapping..."==(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)||"Migrating..."==(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)),l.xp6(1),l.hij(" ",e.language.Export," "),l.xp6(1),l.Q6J("ngIf","Complete"==(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)||"Aborted"==(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)||"Deleted"==(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)||"Failed"==(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)),l.xp6(1),l.Q6J("ngIf","Complete"!==(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)&&"Aborted"!==(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)),l.xp6(1),l.Q6J("ngIf","Complete"==(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)||"Aborted"==(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)),l.xp6(1),l.Q6J("ngIf",e.error),l.xp6(1),l.Q6J("ngIf",e.success),l.xp6(1),l.Q6J("ngIf",e.loader),l.xp6(6),l.hij("",e.language.Details," "),l.xp6(14),l.hij(" ",e.language["Migration Status"]," "),l.xp6(2),l.Q6J("ngClass","Complete"==(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)?"green-text":""),l.xp6(1),l.hij(" ","Deleted"===(null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus)?"Undo Complete":null==e.GetmigrationStatus?null:e.GetmigrationStatus.migrationStatus," "),l.xp6(3),l.hij(" ",e.language.Progress," "),l.xp6(2),l.hij(" ",null!=e.GetmigrationStatus&&e.GetmigrationStatus.progress?null==e.GetmigrationStatus?null:e.GetmigrationStatus.progress:"-"," "),l.xp6(3),l.hij(" ",e.language.Completed," "),l.xp6(2),l.hij(" ",null!=e.GetmigrationStatus&&e.GetmigrationStatus.completed?null==e.GetmigrationStatus?null:e.GetmigrationStatus.completed:"-"," "),l.xp6(3),l.hij(" ",e.language["Mapping failed"]," "),l.xp6(2),l.Q6J("ngClass",(null==e.GetmigrationStatus?null:e.GetmigrationStatus.mappingFailed)>0?"red-text":""),l.xp6(1),l.hij(" ",null!=e.GetmigrationStatus&&e.GetmigrationStatus.mappingFailed?null==e.GetmigrationStatus?null:e.GetmigrationStatus.mappingFailed:"-"," "),l.xp6(3),l.hij(" ",e.language["Provisioning failed"]," "),l.xp6(2),l.Q6J("ngClass",(null==e.GetmigrationStatus?null:e.GetmigrationStatus.provisioningFailed)>0?"red-text":""),l.xp6(1),l.hij(" ",null!=e.GetmigrationStatus&&e.GetmigrationStatus.provisioningFailed?null==e.GetmigrationStatus?null:e.GetmigrationStatus.provisioningFailed:"-"," "),l.xp6(3),l.hij(" ",e.language.Aborted," "),l.xp6(2),l.hij(" ",null!=e.GetmigrationStatus&&e.GetmigrationStatus.aborted?null==e.GetmigrationStatus?null:e.GetmigrationStatus.aborted:"-"," "),l.xp6(11),l.hij(" ",e.language["Upload Date"]," "),l.xp6(2),l.hij(" ",null!=e.GetmigrationStatus&&e.GetmigrationStatus.uploadDate?e.convertDate(null==e.GetmigrationStatus?null:e.GetmigrationStatus.uploadDate):"-"," "),l.xp6(3),l.hij(" ",e.language.START_DATE," "),l.xp6(2),l.hij(" ",null!=e.GetmigrationStatus&&e.GetmigrationStatus.startDate?e.convertDate(null==e.GetmigrationStatus?null:e.GetmigrationStatus.startDate):"-"," "),l.xp6(3),l.hij(" ",e.language["Completion Date"]," "),l.xp6(2),l.hij(" ",null!=e.GetmigrationStatus&&e.GetmigrationStatus.completionDate&&"-"!==(null==e.GetmigrationStatus?null:e.GetmigrationStatus.completionDate)?e.convertDate(null==e.GetmigrationStatus?null:e.GetmigrationStatus.completionDate):"-"," "),l.xp6(5),l.Q6J("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),l.xp6(4),l.Oqu(e.language.FSAN),l.xp6(4),l.Oqu(e.language.Subscriber_Location_ID),l.xp6(2),l.Oqu(e.language.Interface),l.xp6(2),l.Oqu(e.language["Service Type"]),l.xp6(2),l.Oqu(e.language["Migration Profile"]),l.xp6(2),l.Oqu(e.language["Mapping Status"]),l.xp6(2),l.Oqu(e.language["Provisioning Status"]),l.xp6(2),l.Oqu(e.language["Matching Service Definition Template"]),l.xp6(2),l.Oqu(e.language["Static IP"]),l.xp6(2),l.Oqu(e.language.Netmask),l.xp6(2),l.Oqu(e.language.Gateway),l.xp6(2),l.Oqu(e.language["PPPoE User"]),l.xp6(2),l.Oqu(e.language["Voice (SIP)"]),l.xp6(2),l.Oqu(e.language["SIP User"]),l.xp6(2),l.Oqu(e.language["SIP URI"]),l.xp6(2),l.Oqu(e.language["Voice (H248)"]),l.xp6(2),l.Oqu(e.language["H248 Termination ID"]),l.xp6(6),l.Q6J("ngForOf",e.GetListData),l.xp6(1),l.Q6J("ngIf",0===(null==e.GetListData?null:e.GetListData.length)))},directives:[b.mk,b.O5,n.G,b.sg],styles:['.migration-title[_ngcontent-%COMP%]{font-weight:300;font-size:42px;line-height:53px;border-bottom:2px solid #CCCCCC;padding-bottom:8px;margin-bottom:30px}.migration-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline}.migration-collapse[_ngcontent-%COMP%]{font-weight:400;font-size:24px;line-height:30px;padding-bottom:6px;border-bottom:1px solid #CCCCCC}.migration-collapse[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{font-weight:400;font-size:15px;line-height:24px}.migration-collapse[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:0;border-radius:0}.migration-table[_ngcontent-%COMP%]{width:100%}.migration-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.migration-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #EBEAEF}.migration-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:49%;padding-left:16px}.migration-mapping-table[_ngcontent-%COMP%]{padding-top:40px;overflow-x:auto}.migration-mapping-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.migration-mapping-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #CCCCCC}.migration-mapping-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-size:16px;line-height:20px;color:#1a1f22;padding-bottom:7px;min-width:170px}.migration-mapping-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1):after{display:none!important}.migration-mapping-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px 0;font-weight:400;font-size:15px;line-height:24px;position:relative}.migration-mapping-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f8f8fa}  .add-user-modal .modal-content{background:#fff}  .add-user-modal .modal-dialog{max-width:45.73%!important}  .abort-migration-modal .modal-content,   .undo-migration-modal .modal-content,   .delete-job-modal .modal-content{background:#fff}  .abort-migration-modal .modal-dialog,   .undo-migration-modal .modal-dialog,   .delete-job-modal .modal-dialog{max-width:35.73%!important}.modal-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:300;font-size:42px;line-height:53px;margin-bottom:16px!important}.showme[_ngcontent-%COMP%]{display:none;position:relative}.showhim[_ngcontent-%COMP%]:hover   .showme[_ngcontent-%COMP%]{display:block;position:absolute;min-width:400px;background-color:#fff;top:-20px;bottom:auto;padding:15px 25px 10px;z-index:1000;box-shadow:0 5px 15px #80808040;border-radius:0;right:100%;margin-right:15px;min-height:65px}.showhim[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.showme[_ngcontent-%COMP%]:before{position:absolute;z-index:-1;content:"";right:0;top:30px;bottom:auto;border-top:12px solid #ffffff;border-left:12px solid transparent;border-right:12px solid transparent;transform:rotate(270deg);margin-right:-17px}.migration-collapse[_ngcontent-%COMP%]   [aria-expanded=true][_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotate(180deg);-webkit-transform:rotate(180deg);margin-left:7px}.w-10[_ngcontent-%COMP%]{width:10%}.w-20[_ngcontent-%COMP%]{width:20%}.green-text[_ngcontent-%COMP%]{color:#507500}.red-text[_ngcontent-%COMP%]{color:#c70000}.migration-title[_ngcontent-%COMP%]   div.title-ellipse[_ngcontent-%COMP%]{display:inline-flex;max-width:65%}.migration-title[_ngcontent-%COMP%]   div.title-ellipse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:block}[_nghost-%COMP%]     .dataTables_empty{display:none}.no-data-available[_ngcontent-%COMP%]{text-align:center}']}),t})()},14246:function(t,e,i){i.r(e),i.d(e,{OperationsModule:function(){return _}});var n=i(38583),o=i(3679),a=i(39895),s=i(82395),l=i(18282),r=i(92340),g=i(37716),u=i(7450),c=i(38048);function d(t,e){if(1&t&&(g.TgZ(0,"div",4),g._uU(1),g.qZA()),2&t){const t=g.oxw();g.xp6(1),g.hij(" ",t.language["Access denied due to RBAC. Please consult your Organization Administrator for access."],"\n")}}function p(t,e){if(1&t&&(g.TgZ(0,"span",5),g._uU(1),g.qZA()),2&t){const t=g.oxw();g.xp6(1),g.hij(" ",t.language.Operations,"\n")}}const h=function(t){return{active:t}};function m(t,e){if(1&t&&(g.TgZ(0,"li",9),g.TgZ(1,"a",10),g._uU(2),g.qZA(),g.qZA()),2&t){const t=g.oxw(2);g.xp6(1),g.Q6J("routerLink",null==t.menuConfig||null==t.menuConfig.systemonboarding||null==t.menuConfig.systemonboarding.urls?null:t.menuConfig.systemonboarding.urls[0])("ngClass",g.VKq(3,h,t.activeMenus["system-onboarding"])),g.xp6(1),g.Oqu(t.language["System Onboarding"])}}function f(t,e){if(1&t&&(g.TgZ(0,"li",9),g.TgZ(1,"a",11),g._uU(2),g.qZA(),g.qZA()),2&t){const t=g.oxw(2);g.xp6(1),g.Q6J("routerLink",null==t.menuConfig||null==t.menuConfig.alarms||null==t.menuConfig.alarms.urls?null:t.menuConfig.alarms.urls[0])("ngClass",g.VKq(3,h,t.activeMenus.alarms)),g.xp6(1),g.Oqu(t.language.Alarms)}}function Z(t,e){if(1&t&&(g.TgZ(0,"li",9),g.TgZ(1,"a",12),g._uU(2),g.qZA(),g.qZA()),2&t){const t=g.oxw(2);g.xp6(1),g.Q6J("routerLink",null==t.menuConfig||null==t.menuConfig.health||null==t.menuConfig.health.urls?null:t.menuConfig.health.urls[0])("ngClass",g.VKq(3,h,t.activeMenus.health)),g.xp6(1),g.Oqu(t.language.Health)}}function b(t,e){if(1&t&&(g.TgZ(0,"li",9),g.TgZ(1,"a",13),g._uU(2),g.qZA(),g.qZA()),2&t){const t=g.oxw(2);g.xp6(1),g.Q6J("routerLink",null==t.menuConfig||null==t.menuConfig.configuration||null==t.menuConfig.configuration.urls?null:t.menuConfig.configuration.urls[0])("ngClass",g.VKq(3,h,t.activeMenus.configuration)),g.xp6(1),g.Oqu(t.language.Configuration)}}function v(t,e){if(1&t&&(g.TgZ(0,"li",9),g.TgZ(1,"a",14),g._uU(2),g.qZA(),g.qZA()),2&t){const t=g.oxw(2);g.xp6(1),g.Q6J("routerLink",null==t.menuConfig||null==t.menuConfig.report||null==t.menuConfig.report.urls?null:t.menuConfig.report.urls[0])("ngClass",g.VKq(3,h,t.activeMenus["cco-reports"])),g.xp6(1),g.Oqu(t.language.Reports)}}function x(t,e){if(1&t&&(g.TgZ(0,"div",6),g.TgZ(1,"ul",7),g.YNc(2,m,3,5,"li",8),g.YNc(3,f,3,5,"li",8),g.YNc(4,Z,3,5,"li",8),g.YNc(5,b,3,5,"li",8),g.YNc(6,v,3,5,"li",8),g.qZA(),g.qZA()),2&t){const t=g.oxw();g.xp6(2),g.Q6J("ngIf",t.menus["system-onboarding"]),g.xp6(1),g.Q6J("ngIf",t.menus.alarms),g.xp6(1),g.Q6J("ngIf",t.menus.health),g.xp6(1),g.Q6J("ngIf",t.menus.configuration),g.xp6(1),g.Q6J("ngIf",t.menus["cco-reports"])}}let C=(()=>{class t{constructor(t,e,i){this.translateService=t,this.sso=e,this.router=i,this.menus={"system-onboarding":!1,alarms:!1,health:!1,configuration:!1,"cco-reports":!1},this.menuConfig={systemonboarding:{urls:[],scopes:["axoscallhome.systems","axoscallhome.callhome","cmsexacallhome","regionsettings"]},alarms:{urls:[],scopes:["transformalarmrules","alarmsandhealthnotifications","alarmsettings"]},health:{urls:[],scopes:["monitoringthresholds"]},configuration:{urls:[],scopes:["workflows","systemgroups","softwareimages","performancetesting","configurationfiles","axosmigration"]},report:{urls:[],scopes:["mappedeplists","epcountbymapper","ontdevices","unmappedips","invreports","calloutcomereports","auditreports","auditreports","unassociatedsystems"]}},this.operationsUrl="/cco/operations",this.hasPageAccess=!0,this.isSubscriberOperationsActive=!1,this.activeMenus={"system-onboarding":!1,alarms:!1,health:!1,configuration:!1,"cco-reports":!1}}ngOnInit(){var t,e;this.setActiveMenu(),-1!==this.router.url.indexOf("/cco/operations/cco-subscriber-operations/")&&(this.isSubscriberOperationsActive=!0),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t}),this.pageAcceesObs=this.sso.hasPageAccess$.subscribe(t=>{this.hasPageAccess=!!t.access});let i=this.sso.getScopes(),n=this.sso.getCCOUrlInfo(),o=this.sso.getEntitlements();if(o[210]&&!o[102]?this.operationsUrl="/cco/operations":this.setOperationsUrl(),r.N.VALIDATE_SCOPE){let t=Object.keys(i);if(t)for(let e=0;e<t.length;e++)-1===t[e].indexOf("cloud.rbac.coc.operations.systemonboarding")?-1===t[e].indexOf("cloud.rbac.coc.operations.alarms")?-1===t[e].indexOf("cloud.rbac.coc.operations.health")?-1===t[e].indexOf("cloud.rbac.coc.operations.configuration")?-1===t[e].indexOf("cloud.rbac.coc.operations.report")||(this.menus["cco-reports"]=!0):this.menus.configuration=!0:this.menus.health=!0:this.menus.alarms=!0:this.menus["system-onboarding"]=!0}else this.menus={"system-onboarding":!0,alarms:!0,health:!0,configuration:!0,"cco-reports":!0};for(let a in this.menuConfig)null===(e=null===(t=this.menuConfig[a])||void 0===t?void 0:t.scopes)||void 0===e||e.forEach(t=>{var e,o,s,l;i[`cloud.rbac.coc.operations.${a}.${t}`]&&(null===(o=null===(e=this.menuConfig[a])||void 0===e?void 0:e.urls)||void 0===o||o.push(null===(l=null===(s=n.operations)||void 0===s?void 0:s[`cloud.rbac.coc.operations.${a}.${t}`])||void 0===l?void 0:l.path))})}ngOnDestroy(){this.pageAcceesObs&&this.pageAcceesObs.unsubscribe(),this.languageSubject&&this.languageSubject.unsubscribe()}setOperationsUrl(){let t=this.sso.getScopes(),e={subcriber_operations:{scope:"cloud.rbac.coc.operations.subscriber.operations",path:"/cco/operations/cco-subscriber-operations/operations/devices-groups"},subcriber_configurations:{scope:"cloud.rbac.coc.operations.subscriber.configurations",path:"/cco/operations/cco-subscriber-operations/configurations/dial-plan"}},i=Object.keys(e);for(let n=0;n<i.length;n++)if(t[e[i[n]].scope]){this.operationsUrl=e[i[n]].path;break}}setActiveMenu(){for(let t in this.activeMenus)this.activeMenus[t]=this.sso.isMenuActive(t)}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(u.s),g.Y36(c.t6),g.Y36(a.F0))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-operations"]],decls:5,vars:4,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","cco-title",4,"ngIf"],["class","ccl-tabs my-3",4,"ngIf"],[1,"col-sm-12","col-md-12","col-lg-12","p-0",3,"hidden"],["role","alert",1,"alert","alert-warning"],[1,"cco-title"],[1,"ccl-tabs","my-3"],["id","tabs",1,"nav","nav-tabs"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["data-toggle","tab","id","CCO-Operations-SystemOnboarding",1,"nav-link","small",3,"routerLink","ngClass"],["data-toggle","tab","id","CCO-Operations-Alarms",1,"nav-link","small",3,"routerLink","ngClass"],["data-toggle","tab","id","CCO-Operations-Health",1,"nav-link","small",3,"routerLink","ngClass"],["data-toggle","tab","id","CCO-Operations-Configuration",1,"nav-link","small",3,"routerLink","ngClass"],["id","CCO-Operations-Reports","data-toggle","tab",1,"nav-link",3,"routerLink","ngClass"]],template:function(t,e){1&t&&(g.YNc(0,d,2,1,"div",0),g.YNc(1,p,2,1,"span",1),g.YNc(2,x,7,5,"div",2),g.TgZ(3,"div",3),g._UZ(4,"router-outlet"),g.qZA()),2&t&&(g.Q6J("ngIf",!e.hasPageAccess),g.xp6(1),g.Q6J("ngIf",e.hasPageAccess),g.xp6(1),g.Q6J("ngIf",e.hasPageAccess),g.xp6(1),g.Q6J("hidden",!e.hasPageAccess))},directives:[n.O5,a.lC,a.yS,n.mk],styles:[""]}),t})();const A=[{path:"configuration/migrations/migration-mapping",component:i(19467).A},{path:"",component:C,children:[{path:"system-onboarding",loadChildren:()=>Promise.all([i.e(3826),i.e(1160)]).then(i.bind(i,51160)).then(t=>t.SystemOnboardingModule)},{path:"alarms",loadChildren:()=>Promise.all([i.e(1060),i.e(8851)]).then(i.bind(i,58851)).then(t=>t.AlarmsModule)},{path:"health",loadChildren:()=>Promise.all([i.e(8592),i.e(7083)]).then(i.bind(i,17083)).then(t=>t.HealthModule)},{path:"configuration",loadChildren:()=>Promise.all([i.e(1797),i.e(3505),i.e(9227)]).then(i.bind(i,39227)).then(t=>t.ConfigurationModule)},{path:"cco-reports",loadChildren:()=>Promise.all([i.e(3363),i.e(2437),i.e(8897)]).then(i.bind(i,58897)).then(t=>t.CcoReportsModule)},{path:"cco-network-operations",loadChildren:()=>Promise.all([i.e(5835),i.e(5634),i.e(9642),i.e(4634),i.e(1060),i.e(8252)]).then(i.bind(i,98252)).then(t=>t.CcoNetworkOperationsModule)},{path:"cco-subscriber-operations",loadChildren:()=>i.e(5877).then(i.bind(i,95877)).then(t=>t.CcoSubscriberOperationsModule)},{path:"",redirectTo:"cco-network-operations",pathMatch:"full"}]},{path:"software-images-form",component:l.P,data:{title:"Calix Cloud - Flow Configuration"}},{path:"device-groups-add",component:s.P},{path:"device-groups/:id",component:s.P,data:{title:"Calix Cloud - Flow Configuration"}},{path:"device-groups-workflow",component:s.P,data:{title:"Calix Cloud - Flow Configuration"}}];let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[a.Bz.forChild(A)],a.Bz]}),t})();var S=i(86640);let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[n.ez,S.A0,T,o.u5,o.UX]]}),t})()}}]);