!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?a:String(a)),i)}var o,a}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[4938],{34938:function(t,i,o){o.r(i),o.d(i,{ConfigurationModule:function(){return oe}});var a=o(38583),r=o(39895),s=o(79765),c=o(37716),l=o(7450),u=o(38048);function g(e,t){if(1&e&&(c.TgZ(0,"div",6),c._uU(1),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.hij(" ",n.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function d(e,t){if(1&e&&(c.TgZ(0,"li",10),c.TgZ(1,"a",11),c._uU(2),c.qZA(),c.qZA()),2&e){var n=c.oxw(2);c.xp6(2),c.Oqu(n.language["ONT configurations"])}}var m=function(e){return[e]};function f(e,t){if(1&e&&(c.TgZ(0,"li",10),c.TgZ(1,"a",12),c._uU(2),c.qZA(),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.Q6J("ngClass",c.VKq(2,m,n.router.url.includes("external-file-server-list")||n.router.url.includes("external-file-server-form")?"active":"")),c.xp6(1),c.Oqu(n.language.External_File_server)}}function p(e,t){if(1&e&&(c.TgZ(0,"li",10),c.TgZ(1,"a",13),c._uU(2),c.qZA(),c.qZA()),2&e){var n=c.oxw(2);c.xp6(2),c.hij(" ",n.language["Secure Onboarding"]," ")}}function h(e,t){if(1&e&&(c.TgZ(0,"li",10),c.TgZ(1,"a",14),c._uU(2),c.qZA(),c.qZA()),2&e){var n=c.oxw(2);c.xp6(2),c.hij(" ",n.language["Stale System Purge"],"")}}function v(e,t){if(1&e&&(c.TgZ(0,"li",10),c.TgZ(1,"a",15),c._uU(2),c.qZA(),c.qZA()),2&e){var n=c.oxw(2);c.xp6(2),c.Oqu(n.language["Subnet Configuration"])}}function b(e,t){if(1&e&&(c.TgZ(0,"li",10),c.TgZ(1,"a",16),c._uU(2),c.qZA(),c.qZA()),2&e){var n=c.oxw(2);c.xp6(2),c.Oqu(n.language["Speed Test"])}}function A(e,t){if(1&e&&(c.TgZ(0,"div",7),c.TgZ(1,"ul",8),c.YNc(2,d,3,1,"li",9),c.YNc(3,f,3,4,"li",9),c.YNc(4,p,3,1,"li",9),c.YNc(5,h,3,1,"li",9),c.YNc(6,v,3,1,"li",9),c.YNc(7,b,3,1,"li",9),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.Q6J("ngClass",n.isToggleSidebar?"d-none":"d-block"),c.xp6(2),c.Q6J("ngIf",n.menus.ontconfigurations),c.xp6(1),c.Q6J("ngIf",n.menus.externalfileserver),c.xp6(1),c.Q6J("ngIf",n.menus.secureonboarding),c.xp6(1),c.Q6J("ngIf",n.menus.stalesystempurge),c.xp6(1),c.Q6J("ngIf",n.menus.subnetconfiguration),c.xp6(1),c.Q6J("ngIf",n.menus.speedtest&&n.sso.getEntitlementsArr().indexOf("118")>-1)}}var Z,T=((Z=function(){function t(n,i,o){e(this,t),this.translateService=n,this.router=i,this.sso=o,this.isToggleSidebar=!1,this.menus={ontconfigurations:!1,externalfileserver:!1,secureonboarding:!1,stalesystempurge:!1,subnetconfiguration:!1,speedtest:!1},this.hasPageAccess=!0,this.toggled=new s.xQ,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}return n(t,[{key:"ngOnInit",value:function(){var e,t,n=this,i=this.sso.getScopes();i["cloud.rbac.coc.services.configuration"]?null===(e=Object.keys(this.menus))||void 0===e||e.forEach(function(e){n.menus[e]=!0}):null===(t=Object.keys(this.menus))||void 0===t||t.forEach(function(e){n.menus[e]=i["cloud.rbac.coc.services.configuration.".concat(e)]}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){n.language=e}),this.pageAcceesObs=this.sso.hasPageAccess$.subscribe(function(e){n.hasPageAccess=!!e.access})}},{key:"ngOnDestroy",value:function(){this.pageAcceesObs&&this.pageAcceesObs.unsubscribe(),this.languageSubject.unsubscribe()}},{key:"toggleSideBar",value:function(){this.isToggleSidebar=!this.isToggleSidebar,this.sso.triggerToggle()}}]),t}()).\u0275fac=function(e){return new(e||Z)(c.Y36(l.s),c.Y36(r.F0),c.Y36(u.t6))},Z.\u0275cmp=c.Xpm({type:Z,selectors:[["app-configuration"]],decls:7,vars:5,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],[3,"hidden"],[1,"container","mp-0"],[1,"row","mm-0"],["class","col-12 col-md-2 pl-0 mpr-0",3,"ngClass",4,"ngIf"],[1,"col-12","col-md-10","padl","mp-0","mmt-3","pr-0","position-relative",3,"ngClass","hidden"],["role","alert",1,"alert","alert-warning"],[1,"col-12","col-md-2","pl-0","mpr-0",3,"ngClass"],["id","netops-list-menu",1,"nav","flex-column","left-menu","tab-view-style","mbr-none"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLink","/cco/services/configuration/ONT-configurations","routerLinkActive","active",1,"list-group-item","list-group-item-action","text-capitalize"],["routerLink","/cco/services/configuration/external-file-server-list","routerLinkActive","active",1,"list-group-item","list-group-item-action",3,"ngClass"],["routerLink","/cco/services/configuration/secure-onboarding","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["routerLink","/cco/services/configuration/stale-system-purge","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["routerLink","/cco/services/configuration/subnet-configuration","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["routerLink","/cco/services/configuration/speed-test","routerLinkActive","active",1,"list-group-item","list-group-item-action"]],template:function(e,t){1&e&&(c.YNc(0,g,2,1,"div",0),c.TgZ(1,"section",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.YNc(4,A,8,7,"div",4),c.TgZ(5,"div",5),c._UZ(6,"router-outlet"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.Q6J("ngIf",!t.hasPageAccess),c.xp6(1),c.Q6J("hidden",!t.hasPageAccess),c.xp6(3),c.Q6J("ngIf",t.hasPageAccess),c.xp6(1),c.Q6J("ngClass",t.isToggleSidebar?"col-12 col-md-12 px-0":"")("hidden",!t.hasPageAccess))},directives:[a.O5,a.mk,r.lC,r.yS,r.Od],styles:[""]}),Z),x=o(3679),w=o(92340),S=o(613),q=o(49342),k=o(89044),y=o(12664),C=o(39075),O=o(86640),I=["infoModal"];function N(e,t){if(1&e&&(c.TgZ(0,"div",12),c.TgZ(1,"div",13),c.TgZ(2,"div",14),c.TgZ(3,"span",15),c._uU(4),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(4),c.Oqu(n.language.Loading)}}function _(e,t){if(1&e&&(c.TgZ(0,"div",24),c._uU(1),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.hij(" ",n.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function M(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",25),c.TgZ(1,"span",26),c._UZ(2,"img",27),c.qZA(),c._UZ(3,"span",28),c.TgZ(4,"button",29),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).isError=!1}),c._uU(5),c.qZA(),c.qZA()}if(2&e){var i=c.oxw(2);c.xp6(3),c.Q6J("innerHtml",i.warningMessage,c.oJD),c.xp6(2),c.hij(" ",i.language.OK," ")}}function E(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",30),c.TgZ(1,"span",31),c._UZ(2,"img",32),c.qZA(),c.TgZ(3,"button",33),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).success=!1}),c._UZ(4,"span"),c.qZA(),c._UZ(5,"span",34),c.qZA()}if(2&e){var i=c.oxw(2);c.xp6(5),c.Q6J("innerHtml",i.successInfo,c.oJD)}}function J(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",35),c.TgZ(1,"span",36),c._UZ(2,"img",37),c.qZA(),c.TgZ(3,"span"),c._uU(4),c.qZA(),c.TgZ(5,"div",38),c.TgZ(6,"button",39),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).RemoveWarning()}),c._uU(7),c.qZA(),c.TgZ(8,"button",40),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).camcelEnable()}),c._uU(9),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=c.oxw(2);c.xp6(4),c.AsE("",i.language.Warning,": ",i.language["This action could be service affecting. Please consult with Calix before making this change"],"."),c.xp6(3),c.hij(" ",i.language.Ok," "),c.xp6(2),c.hij(" ",i.language.Cancel," ")}}function U(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",67),c.TgZ(1,"input",68),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw(3).provisionOntService=e}),c.qZA(),c.TgZ(2,"label",69),c.TgZ(3,"span"),c._uU(4),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=c.oxw(3);c.xp6(1),c.Q6J("ngModel",i.provisionOntService),c.xp6(3),c.Oqu(i.language["Provision ONT Services"])}}function F(e,t){if(1&e&&(c.TgZ(0,"label"),c._uU(1),c.qZA()),2&e){var n=c.oxw(4);c.xp6(1),c.hij(" ",n.language["This field is required"]," ")}}function D(e,t){if(1&e&&(c.TgZ(0,"div",70),c.YNc(1,F,2,1,"label",61),c.qZA()),2&e){var n=c.oxw(3);c.xp6(1),c.Q6J("ngIf",n.modalForm.ontIdType.errors.required)}}function Q(e,t){if(1&e&&(c.TgZ(0,"label"),c._uU(1),c.qZA()),2&e){var n=c.oxw(4);c.xp6(1),c.hij(" ",n.language["This field is required"]," ")}}function Y(e,t){if(1&e&&(c.TgZ(0,"div",70),c.YNc(1,Q,2,1,"label",61),c.qZA()),2&e){var n=c.oxw(3);c.xp6(1),c.Q6J("ngIf",n.modalForm.ontNameFormat.errors.required)}}function j(e,t){if(1&e&&(c.TgZ(0,"div"),c.TgZ(1,"small",46),c._uU(2),c.qZA(),c.qZA()),2&e){var n=c.oxw(4);c.xp6(2),c.Oqu(n.language.ONT_soak_timeout_validate_msg)}}function V(e,t){if(1&e&&(c.TgZ(0,"div"),c.YNc(1,j,3,1,"div",61),c.qZA()),2&e){var n=c.oxw(3);c.xp6(1),c.Q6J("ngIf",n.signupForm.value.ontSoakTimeout)}}function L(e,t){if(1&e&&(c.TgZ(0,"label"),c._uU(1),c.qZA()),2&e){var n=c.oxw(4);c.xp6(1),c.hij(" ",n.language["This field is required"]," ")}}function P(e,t){if(1&e&&(c.TgZ(0,"div",70),c.YNc(1,L,2,1,"label",61),c.qZA()),2&e){var n=c.oxw(3);c.xp6(1),c.Q6J("ngIf",n.modalForm.ontSoakTimeout.errors.required)}}function R(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"button",71),c._uU(2),c.qZA(),c.TgZ(3,"button",72),c.NdJ("click",function(){c.CHM(n);var e=c.oxw(3);return e.timeValidate.ontSoakTimeout=!0,e.getAdmins()}),c._uU(4),c.qZA(),c.qZA()}if(2&e){var i=c.oxw(3);c.xp6(2),c.hij(" ",i.language.submit," "),c.xp6(1),c.Q6J("routerLink",i.cancelLink),c.xp6(1),c.hij(" ",i.language.Cancel," ")}}function H(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",41),c.TgZ(1,"div",42),c.TgZ(2,"form",43),c.NdJ("ngSubmit",function(){return c.CHM(n),c.oxw(2).onSubmit()}),c.YNc(3,U,5,2,"div",44),c.TgZ(4,"div",45),c.TgZ(5,"label"),c._uU(6),c.TgZ(7,"span",46),c._uU(8,"*"),c.qZA(),c.qZA(),c.TgZ(9,"div",47),c.TgZ(10,"div",48),c.TgZ(11,"ng-select",49),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw(2).ontIdTypeTxt=e}),c.TgZ(12,"ng-option",50),c._uU(13,"SERIAL_NO"),c.qZA(),c.TgZ(14,"ng-option",51),c._uU(15,"REG_ID "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(16,D,2,1,"div",52),c.qZA(),c.TgZ(17,"div",53),c.TgZ(18,"label"),c._uU(19),c.TgZ(20,"span",46),c._uU(21,"*"),c.qZA(),c.qZA(),c.TgZ(22,"div",47),c.TgZ(23,"div",48),c.TgZ(24,"ng-select",54),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw(2).ontNameFormat=e}),c.TgZ(25,"ng-option",55),c._uU(26,"%Fsan"),c.qZA(),c.TgZ(27,"ng-option",56),c._uU(28,"%RegId "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(29,Y,2,1,"div",52),c.qZA(),c.TgZ(30,"div",57),c.TgZ(31,"label"),c._uU(32),c.TgZ(33,"span",46),c._uU(34,"*"),c.qZA(),c.qZA(),c.TgZ(35,"div",58),c.TgZ(36,"input",59),c.NdJ("keyup",function(){return c.CHM(n),c.oxw(2).TimeValidate("ontSoakTimeout")})("ngModelChange",function(e){return c.CHM(n),c.oxw(2).ontSoakTimeouttxt=e}),c.qZA(),c.TgZ(37,"span",60),c._uU(38),c.qZA(),c.qZA(),c.YNc(39,V,2,1,"div",61),c.YNc(40,P,2,1,"div",52),c.qZA(),c.TgZ(41,"div",62),c.TgZ(42,"label",63),c.TgZ(43,"span",64),c.TgZ(44,"input",65),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw(2).showAsmInformation=e}),c.qZA(),c.TgZ(45,"span",9),c._UZ(46,"small"),c.qZA(),c.qZA(),c.TgZ(47,"span",66),c._uU(48,"Show ASM service information if provisioned with SMx"),c.qZA(),c.qZA(),c.qZA(),c.YNc(49,R,5,3,"div",61),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=c.oxw(2);c.xp6(2),c.Q6J("formGroup",i.signupForm),c.xp6(1),c.Q6J("ngIf",i.scope.write&&i.allowAddSystems),c.xp6(3),c.hij("",i.language["ONT Linkage Type"]," "),c.xp6(5),c.s9C("placeholder",i.language["ONT Linkage Type"]),c.Q6J("searchable",!1)("ngModel",i.ontIdTypeTxt)("readonly",!i.scope.write),c.xp6(5),c.Q6J("ngIf",i.submitted&&i.modalForm.ontIdType.errors),c.xp6(3),c.hij("",i.language["ONT Name Format"]," "),c.xp6(5),c.s9C("placeholder",i.language["ONT Name Format"]),c.Q6J("searchable",!1)("ngModel",i.ontNameFormat)("readonly",!i.scope.write),c.xp6(5),c.Q6J("ngIf",i.submitted&&i.modalForm.ontNameFormat.errors),c.xp6(3),c.hij("",i.language["ONT Soak Timeout"]," "),c.xp6(4),c.s9C("placeholder",i.language["ONT Soak Timeout"]),c.Q6J("ngModel",i.ontSoakTimeouttxt)("readonly",!i.scope.write),c.xp6(2),c.Oqu(i.language["Minute(s)"]),c.xp6(1),c.Q6J("ngIf",!i.timeValidate.ontSoakTimeout),c.xp6(1),c.Q6J("ngIf",i.submitted&&i.modalForm.ontSoakTimeout.errors),c.xp6(4),c.Q6J("ngModel",i.showAsmInformation),c.xp6(5),c.Q6J("ngIf",i.scope.write&&i.allowAddSystems)}}function B(e,t){if(1&e&&(c.TgZ(0,"div",16),c.TgZ(1,"div",17),c._uU(2),c.qZA(),c.TgZ(3,"div",18),c.YNc(4,_,2,1,"div",19),c.YNc(5,M,6,2,"div",20),c.YNc(6,E,6,1,"div",21),c.YNc(7,J,10,4,"div",22),c.YNc(8,H,50,23,"div",23),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.hij(" ",n.language["ONT Default Setup"]," "),c.xp6(2),c.Q6J("ngIf",!n.hasScopeAccess),c.xp6(1),c.Q6J("ngIf",n.isError),c.xp6(1),c.Q6J("ngIf",n.success),c.xp6(1),c.Q6J("ngIf",n.WarningMsg),c.xp6(1),c.Q6J("ngIf",n.hasScopeAccess)}}function G(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",73),c.TgZ(1,"h4",74),c._uU(2),c.qZA(),c.TgZ(3,"button",75),c.NdJ("click",function(){c.CHM(n);var e=c.oxw();return e.closeModal(),e.getData()}),c._UZ(4,"span",76),c.qZA(),c.qZA(),c.TgZ(5,"div",77),c.TgZ(6,"p",78),c._uU(7),c.qZA(),c.TgZ(8,"p"),c._uU(9),c.qZA(),c.qZA(),c.TgZ(10,"div",79),c.TgZ(11,"button",80),c.NdJ("click",function(){c.CHM(n);var e=c.oxw();return e.save(),e.closeModal()}),c._uU(12),c.qZA(),c.TgZ(13,"button",81),c.NdJ("click",function(){c.CHM(n);var e=c.oxw();return e.closeModal(),e.getData()}),c._uU(14),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(2),c.Oqu(i.infoTitle),c.xp6(5),c.Oqu(i.infoBody),c.xp6(2),c.Oqu(i.language.ontMappingNote),c.xp6(3),c.Oqu(i.language.Okay),c.xp6(2),c.hij(" ",i.language.Cancel," ")}}var W=function(){var t=function(){function t(n,i,o,a,r,s,c,l){e(this,t),this.ccoOrgAdminService=n,this.commonOrgService=i,this.translateService=o,this.router=a,this.sso=r,this.service=s,this.dialogService=c,this.titleService=l,this.loading=!1,this.success=!1,this.adminsData=[],this.dtOptions={},this.tableAvailable=!1,this.disableServiceType=!1,this.serviceTypes=[{name:"DATA",value:"DATA"},{name:"VIDEO",value:"VIDEO"},{name:"VOICE",value:"VOICE"}],this.ontSoakTimeout="172800",this.ontSoakTimeouttxt="172800",this.provisionOntService=!1,this.showAsmInformation=!1,this.allowEdit=!1,this.scope=[],this.rgManagement="NATIVE",this.timeValidate={ontSoakTimeout:!0},this.allowAddSystems=!0,this.hasScopeAccess=!1,this.enableSubscriberAssocition=!1;var u=this.router.url;this.sso.getRedirectModule(u),this.ORG_ID=this.sso.getOrganizationID(u)}return n(t,[{key:"ngOnInit",value:function(){var e,t=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){t.language=e,t.titleService.setTitle("".concat(t.language["ONT configurations"]," - ").concat(t.language.Configuration," - ").concat(t.language.Services," - ").concat(t.language.Operations,"  - ").concat(t.language["Calix Cloud"]))}),this.titleService.setTitle("".concat(this.language["ONT configurations"]," - ").concat(this.language.Configuration," - ").concat(this.language.Services," - ").concat(this.language.Operations,"  - ").concat(this.language["Calix Cloud"]));var n=this.sso.getEntitlements();n[210]&&!n[102]&&(this.allowAddSystems=!1);var i=this.sso.getScopes();w.N.VALIDATE_SCOPE?i&&(null===(e=i["cloud.rbac.coc.services.configuration.ontconfigurations"])||void 0===e?void 0:e.length)&&(this.hasScopeAccess=!0,-1!==i["cloud.rbac.coc.services.configuration.ontconfigurations"].indexOf("read")&&(this.scope.read=!0),-1!==i["cloud.rbac.coc.services.configuration.ontconfigurations"].indexOf("write")&&(this.scope.write=!0)):(this.scope={read:!0,write:!0},this.hasScopeAccess=!0),this.hasScopeAccess?(this.getAdmins(),this.getData(),this.signupForm=new x.cw({provisionOntService:new x.NI(!1),ontIdType:new x.NI(null,x.kI.required),ontNameFormat:new x.NI("%Fsan",x.kI.required),ontSoakTimeout:new x.NI("172800",x.kI.required),rgManagement:new x.NI("NATIVE",x.kI.required),showAsmInformation:new x.NI(!1)})):this.sso.setPageAccess(!1)}},{key:"modalForm",get:function(){return this.signupForm.controls}},{key:"onSubmit",value:function(){var e=this;if(this.submitted=!0,this.signupForm.valid)if(0!==this.adminsData.length){var t;if(this.obj={ontIdType:this.ontIdTypeTxt,ontNameFormat:this.ontNameFormat,ontSoakTimeout:this.ontSoakTimeouttxt,rgManagement:"NATIVE",provisionOntService:this.provisionOntService,showAsmInformation:this.showAsmInformation},null!=this.ontSoakTimeouttxt&&null!=this.ontSoakTimeouttxt&&(this.TimeValidate("ontSoakTimeout"),t=!this.timeValidate.ontSoakTimeout),t)return;this.loading=!0,this.ccoOrgAdminService.updateAdminData(this.obj).subscribe(function(t){e.loading=!1,e.success=!0,e.successInfo=e.language["Updated Succesfully"],e.isError&&(e.isError=!1,e.warningMessage="")},function(t){e.loading=!1,e.pageErrorHandle(t)})}else{var n;if(null!=this.signupForm.value.ontSoakTimeout&&null!=this.signupForm.value.ontSoakTimeout&&(this.TimeValidate("ontSoakTimeout"),n=!this.timeValidate.ontSoakTimeout),n)return;this.ccoOrgAdminService.createAdmin(this.signupForm.value).subscribe(function(t){e.loading=!1,"Entered values for attribute org_id and service_type already present in table org_admin_data"!=t?(e.successInfo=e.language["Successfully Created!"],e.success=!0,e.getAdmins(),e.isError&&(e.isError=!1,e.warningMessage="")):e.warningMessage="Entered values are already present"},function(t){e.loading=!1,e.pageErrorHandle(t)})}else this.loading=!1}},{key:"TimeValidate",value:function(e){var t=this.signupForm.value[e];this.timeValidate[e]=t>2880&&t<=172800}},{key:"getAdmins",value:function(){var e=this;this.loading=!0,this.ccoOrgAdminService.fetchAmdins("All").subscribe(function(t){if(e.loading=!1,"Org Admin Data not found"==t)return e.adminsData=[],void(e.ontSoakTimeouttxt="172800");t&&(e.ontIdTypeTxt=t.ontIdType,e.ontNameFormat=t.ontNameFormat,e.ontSoakTimeouttxt=t.ontSoakTimeout?t.ontSoakTimeout:"172800",e.rgManagement="NATIVE"),e.signupForm.patchValue(t),e.signupForm.patchValue({rgManagement:t.rgManagement?t.rgManagement:"NATIVE"}),e.adminsData=t instanceof Array?t:[t],e.loading=!1},function(t){e.pageErrorHandle(t)})}},{key:"pageErrorHandle",value:function(e){this.warningMessage=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.isError=!0,this.loading=!1}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe(),this.listSubs&&this.listSubs.unsubscribe()}},{key:"EnableOrg",value:function(){this.WarningMsg=!0,this.orgEnable=!this.orgEnable}},{key:"RemoveWarning",value:function(){this.WarningMsg=!1}},{key:"camcelEnable",value:function(){this.orgEnable=!this.orgEnable,this.WarningMsg=!1}},{key:"changeOnttoSubscriber",value:function(e){this.closeModal(),this.enableSubscriberAssocition=e,this.save()}},{key:"getData",value:function(){var e=this;this.listSubs=this.service.getOrg(this.ORG_ID).subscribe(function(t){var n;t?(e.orgData=t,e.enableSubscriberAssocition=!(!e.orgData||null==(null===(n=e.orgData)||void 0===n?void 0:n.enableSubscriberAssoc))&&e.orgData.enableSubscriberAssoc):e.enableSubscriberAssocition=!1},function(t){e.pageErrorHandle(t)})}},{key:"confirmEnableSUbscriberChange",value:function(e){this.enableSubscriberAssoc=e,this.enableSubscriberAssocition=e,this.infoTitle=this.language["Confirm change :"],this.infoBody=this.language.enableDisableOntMapping,this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1,centered:!0})}},{key:"save",value:function(){var e=this;this.loading=!0,this.commonOrgService.closeAlert(),this.updateSubs=this.service.updateOrgPatch(this.ORG_ID,{enableSubscriberAssoc:this.enableSubscriberAssoc}).subscribe(function(t){e.orgData=t,e.loading=!1,e.getData()},function(t){e.pageErrorHandle(t)})}},{key:"closeModal",value:function(){this.modalRef&&this.modalRef.close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(S.g),c.Y36(q.v),c.Y36(l.s),c.Y36(r.F0),c.Y36(u.t6),c.Y36(k.U),c.Y36(y.FF),c.Y36(C.Dx))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-service-provisioning"]],viewQuery:function(e,t){var n;(1&e&&c.Gf(I,7),2&e)&&(c.iGM(n=c.CRH())&&(t.infoModal=n.first))},decls:17,vars:8,consts:[[1,"row","position-relative"],["class","loader",4,"ngIf"],[1,"col-7"],[1,"w-100","cco-secondary-title","pb-2","border-bottom","my-3"],[1,"pl-16px","mb-4"],[1,"mb-1"],[1,"toggle-swtbtn","checkbox","switcher"],[3,"ngClass"],["type","checkbox","name","ontToSubscrStatus","id","ontToSubscrStatus",3,"checked","disabled","change"],[1,"mr-1"],["class","w-100 mb-3",4,"ngIf"],["infoModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","mb-3"],[1,"cco-secondary-title","pb-2","border-bottom","mb-3"],[1,"pl-16px"],["role","alert","class","alert alert-warning",4,"ngIf"],["class","w-100 alert alert alert-danger alert-custom-pos fade show",4,"ngIf"],["class","w-100 alert alert-success fade show my-3",4,"ngIf"],["class","warning-msg",4,"ngIf"],["class","row",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"w-100","alert","alert","alert-danger","alert-custom-pos","fade","show"],[1,"error-img","error-image-wh"],["src","./assets/img/ic_error-36px.svg"],[1,"d-inline-flex","warn-msg-wh",3,"innerHtml"],["type","button",1,"btn-default","primary","ok","float-right",3,"click"],[1,"w-100","alert","alert-success","fade","show","my-3"],[1,"success-img"],["src","./assets/img/success-icon.svg"],["type","button",1,"close",3,"click"],[3,"innerHtml"],[1,"warning-msg"],[1,"error-img"],["src","./assets/img/warning-icon.svg"],[1,"btn-con-sec","float-right"],["id","deletePFBtn",1,"btn","warn-btn","mr-2",3,"click"],["id","cancel-btn",1,"btn","warn-btn",3,"click"],[1,"row"],[1,"col-md-8"],["novalidate","","id","ccoOrgAdminForm",3,"formGroup","ngSubmit"],["class","form-check my-2",4,"ngIf"],[1,"ccl-form","ccl-form","mb-2"],[1,"required-field"],[1,"w-100"],["id","current-issues-interval",1,"custom-selectbox"],["formControlName","ontIdType","id","ccoOrgAdminONTType",3,"searchable","placeholder","ngModel","readonly","ngModelChange"],["value","SERIAL_NO"],["value","REG_ID"],["class","errorMessage",4,"ngIf"],[1,"ccl-form","mb-2"],["formControlName","ontNameFormat","id","ccoOrgAdminONTFormate",3,"searchable","placeholder","ngModel","readonly","ngModelChange"],["value","%Fsan"],["value","%RegId"],[1,"ccl-form","mb-2","ont-soak"],[1,"d-flex","align-items-center"],["type","text","aria-describedby","emailHelp","formControlName","ontSoakTimeout","id","ccoOrgAdminDailPlan","oninput","this.value = this.value.replace(/[^0-9]/g, '').replace(/(\\..?)\\../g, '$1');","required","",1,"form-control","col-12",3,"placeholder","ngModel","readonly","keyup","ngModelChange"],[1,"ml-2"],[4,"ngIf"],[1,"toggle-swtbtn","checkbox","switcher","my-2","d-flex"],[1,"d-flex"],[1,""],["type","checkbox","name","","formControlName","showAsmInformation","id","defaultCheck12",3,"ngModel","ngModelChange"],["for","defaultCheck12",1,"pointer"],[1,"form-check","my-2"],["type","checkbox","formControlName","provisionOntService","id","defaultCheck2",1,"form-check-input",3,"ngModel","ngModelChange"],["for","defaultCheck2",1,"form-check-label","cursor-pointer"],[1,"errorMessage"],["type","submit","id","ccoOrgAdminSubmitBtn",1,"btn-default","btn-primary","mt-3","mr-3"],["type","button","id","ccoOrgAdminCancelBtn",1,"btn-default","btn-dft","mt-3",3,"routerLink","click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mb-0"],[1,"modal-footer","mt-3"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"],["type","button","id","infoModalCancel",1,"btn-default","btn-dft",3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.YNc(1,N,5,1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c._uU(4),c.qZA(),c.TgZ(5,"div",4),c.TgZ(6,"p",5),c._uU(7),c.qZA(),c.TgZ(8,"div",6),c.TgZ(9,"label",7),c.TgZ(10,"input",8),c.NdJ("change",function(e){return t.confirmEnableSUbscriberChange(e.target.checked)}),c.qZA(),c.TgZ(11,"span",9),c._UZ(12,"small"),c.qZA(),c._uU(13),c.qZA(),c.qZA(),c.qZA(),c.YNc(14,B,9,6,"div",10),c.qZA(),c.qZA(),c.YNc(15,G,15,5,"ng-template",null,11,c.W1O)),2&e&&(c.xp6(1),c.Q6J("ngIf",t.loading),c.xp6(3),c.hij(" ",t.language["ONT to Subscriber Assignment"]," "),c.xp6(3),c.hij("",t.language["Assign ONTs to Subscribers via subscriber endpoint mapping"]," "),c.xp6(2),c.Q6J("ngClass",t.orgData?"":"switch-disabled"),c.xp6(1),c.Q6J("checked",t.enableSubscriberAssocition)("disabled",!t.orgData||!t.scope.write),c.xp6(3),c.hij(" ",t.enableSubscriberAssocition?t.language.Enabled:t.language.Disabled," "),c.xp6(1),c.Q6J("ngIf",t.hasScopeAccess))},directives:[a.O5,a.mk,x._Y,x.JL,x.sg,O.w9,x.JJ,x.u,O.xv,x.Fj,x.Q7,x.Wl,r.rH],styles:[".border-bottom[_ngcontent-%COMP%]{border-color:#ccc!important}.pl-16px[_ngcontent-%COMP%]{padding-left:16px}.checkbox-switcher[_ngcontent-%COMP%]{cursor:pointer}.ont-soak[_ngcontent-%COMP%]{position:relative;padding-right:70px}.error-image-wh[_ngcontent-%COMP%]{width:50px;float:left;height:100%}.warn-msg-wh[_ngcontent-%COMP%]{width:85%;height:100%}.alert-custom-pos[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:52px;width:100%}.switch-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important}.switch-disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:50%}"]}),t}(),z=o(35781),K=o(16624),X=o(14306),$=o(5399),ee=o(84388),te=o(61012),ne=[{path:"",component:T,children:[{path:"ONT-configurations",component:W},{path:"stale-system-purge",component:$.m,data:{title:"Calix Cloud - Flow Configuration"}},{path:"secure-onboarding",component:X.i,data:{title:"Calix Cloud - Flow Configuration"}},{path:"subnet-configuration",component:ee.B,data:{title:"Calix Cloud - Flow Configuration"}},{path:"external-file-server-list",component:K.X,data:{title:"Calix Cloud - Flow Configuration"}},{path:"external-file-server-form",component:z.A,data:{title:"Calix Cloud - Flow Configuration"}},{path:"speed-test",component:te.U,data:{title:"Calix Cloud - Flow Configuration"}}]}],ie=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[r.Bz.forChild(ne)],r.Bz]}),t}(),oe=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[a.ez,ie]]}),t}()},613:function(t,i,o){o.d(i,{g:function(){return g}});var a,r=o(40205),s=o(5304),c=o(92340),l=o(37716),u=o(91841),g=((a=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"createAdmin",value:function(e){return this.http.post("".concat(c.N.COC_SERVICES_ACTIVATION_URL,"/orgAdminData"),e).pipe((0,s.K)(this.handleError))}},{key:"updateAdminData",value:function(e){return this.http.put("".concat(c.N.COC_SERVICES_ACTIVATION_URL,"/orgAdminData"),e).pipe((0,s.K)(this.handleError))}},{key:"fetchAmdins",value:function(e){return"All"==e||""==e||"undefined"==e?this.http.get("".concat(c.N.COC_SERVICES_ACTIVATION_URL,"/orgAdminData")).pipe((0,s.K)(this.handleError)):this.http.get("".concat(c.N.COC_SERVICES_ACTIVATION_URL,"/orgAdminData?serviceType=").concat(e)).pipe((0,s.K)(this.handleError))}},{key:"deleteAdminData",value:function(e){return this.http.delete("".concat(c.N.COC_SERVICES_ACTIVATION_URL,"/orgAdminData?serviceType=").concat(e)).pipe((0,s.K)(this.handleError))}},{key:"handleError",value:function(e){return(0,r._)(e)}}]),t}()).\u0275fac=function(e){return new(e||a)(l.LFG(u.eN))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a)}}])}();