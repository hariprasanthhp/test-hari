"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[628],{60628:function(t,e,i){i.r(e),i.d(e,{RealtimeModule:function(){return Dt}});var n=i(38583),a=i(86640),o=i(39895),s=i(37716),r=i(1282),c=i(92340),p=i(79765),l=i(26877),d=i(7450),h=i(89097),g=i(85385),u=i(51071),f=i(91841),m=i(12664),w=i(39075),T=i(20904),b=i(20408),x=i(48483),Z=i(3679),v=i(11748),A=i(16628),C=i(98127),D=i(74062),P=i(18638);const k=["realtimeFavCreatePop"],_=["recordCreatePop"],O=["recordingModal"],M=["faviouteModal"];function y(t,e){if(1&t&&(s.TgZ(0,"div",6),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function N(t,e){if(1&t&&(s.TgZ(0,"ng-option",29),s._uU(1),s.qZA()),2&t){const t=e.$implicit,i=s.oxw(2);s.Q6J("value",t.id),s.xp6(1),s.Oqu(i.language[t.name]||t.name)}}function q(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"section"),s.TgZ(1,"div",7),s.TgZ(2,"div",8),s.TgZ(3,"div",9),s.TgZ(4,"div",10),s.TgZ(5,"div",11),s.TgZ(6,"div",12),s.TgZ(7,"div",13),s.TgZ(8,"label",14),s._uU(9),s.qZA(),s.TgZ(10,"div",15),s.TgZ(11,"ng-select",16),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().selectedOption=e}),s.YNc(12,N,2,2,"ng-option",17),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(13,"div",12),s.TgZ(14,"div",18),s.TgZ(15,"label",14),s._uU(16),s.qZA(),s.TgZ(17,"div",19),s.TgZ(18,"input",20,21),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().sensitiveChecked=e}),s.qZA(),s.TgZ(20,"label",22),s._uU(21),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(22,"div",23),s.TgZ(23,"div",24),s.TgZ(24,"button",25),s.NdJ("click",function(){s.CHM(t);const e=s.MAs(19),i=s.oxw(),n=s.MAs(8);return i.applyFilterOrModal(e.checked,n)}),s._uU(25),s.qZA(),s.qZA(),s.TgZ(26,"div",26),s.TgZ(27,"button",27),s.NdJ("click",function(){return s.CHM(t),s.oxw().clearFilter()}),s._uU(28),s.qZA(),s.TgZ(29,"app-filter-presets",28),s.NdJ("onSelectFilterPreset",function(e){return s.CHM(t),s.oxw().onSelectFilterPreset(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(9),s.hij(" ",t.language.TTimeFrame," "),s.xp6(2),s.s9C("placeholder",t.language.TMinuteWindow),s.Q6J("searchable",!1)("ngModel",t.selectedOption),s.xp6(1),s.Q6J("ngForOf",t.ddoptions),s.xp6(4),s.hij("",t.language.Privacy," "),s.xp6(2),s.Q6J("ngModel",t.sensitiveChecked),s.xp6(3),s.Oqu(t.language["Show sensitive information"]),s.xp6(4),s.hij(" ",t.language.apply," "),s.xp6(3),s.hij(" ",t.language.Clear_Filters," "),s.xp6(1),s.Q6J("selectedTimeFrame",t.selectedOption)("enableSave",!0)}}function S(t,e){if(1&t&&(s.TgZ(0,"div",32),s.TgZ(1,"div",33),s.TgZ(2,"div",34),s.TgZ(3,"span",35),s._uU(4),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw(2);s.xp6(4),s.Oqu(t.language.Loading)}}function U(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",57),s.NdJ("click",function(){return s.CHM(t),s.oxw(3).createRecordingModal()}),s.TgZ(1,"div",41),s._UZ(2,"img",58),s.qZA(),s.qZA()}if(2&t){const t=s.oxw(3);s.xp6(1),s.s9C("title",t.language.Record)}}function E(t,e){if(1&t&&(s.TgZ(0,"label",59),s.TgZ(1,"span"),s._UZ(2,"img",60),s.qZA(),s._uU(3),s.qZA()),2&t){const t=s.oxw(3);s.xp6(3),s.Oqu(t.language["Record In-Progress"])}}function I(t,e){if(1&t&&s._UZ(0,"app-stream-chart",64),2&t){const t=s.oxw(4);s.Q6J("chartName",t.rate)("yAxixTitle",t.rateUnit)("data",t.data.maxRate)("time",t.data.sendTime)("windowLen",t.windowLen)("history",t.cacheRateData)("selectedFilter",t.selectedTime)}}function R(t,e){if(1&t&&(s.TgZ(0,"div",61),s.TgZ(1,"div",62),s.YNc(2,I,1,7,"app-stream-chart",63),s.qZA(),s.qZA()),2&t){const t=s.oxw(3);s.xp6(2),s.Q6J("ngIf",t.data.maxRate&&t.showRealTime)}}function L(t,e){if(1&t&&s._UZ(0,"app-stream-chart",64),2&t){const t=s.oxw(4);s.Q6J("chartName",t.packet)("yAxixTitle",t.packetUnit)("data",t.data.packet)("time",t.data.sendTime)("windowLen",t.windowLen)("history",t.cachePacketData)("selectedFilter",t.selectedTime)}}function F(t,e){if(1&t&&(s.TgZ(0,"div",65),s.TgZ(1,"div",66),s.YNc(2,L,1,7,"app-stream-chart",63),s.qZA(),s.qZA()),2&t){const t=s.oxw(3);s.xp6(2),s.Q6J("ngIf",t.data.packet&&t.showRealTime)}}function j(t,e){if(1&t&&s._UZ(0,"app-bar-chart",91),2&t){const t=s.oxw(4);s.Q6J("chartOptions",t.topEndPointUpChartoptions)("type","up")("updateFlag",t.updateFlag)}}function J(t,e){if(1&t&&s._UZ(0,"app-bar-chart",92),2&t){const t=s.oxw(4);s.Q6J("chartOptions",t.topEndPointDownChartoptions)("type","down")("updateFlag",t.updateFlag)}}function Q(t,e){if(1&t&&s._UZ(0,"app-bar-chart",93),2&t){const t=s.oxw(4);s.Q6J("chartOptions",t.topAppsUpChartoptions)("type","up")("updateFlag",t.updateFlag)}}function $(t,e){if(1&t&&s._UZ(0,"app-bar-chart",94),2&t){const t=s.oxw(4);s.Q6J("chartOptions",t.topAppsDownChartoptions)("type","down")("updateFlag",t.updateFlag)}}function H(t,e){if(1&t&&s._UZ(0,"app-bar-chart",93),2&t){const t=s.oxw(4);s.Q6J("chartOptions",t.topLocationsUpChartoptions)("type","up")("updateFlag",t.updateFlag)}}function Y(t,e){if(1&t&&s._UZ(0,"app-bar-chart",94),2&t){const t=s.oxw(4);s.Q6J("chartOptions",t.topLocationsDownChartoptions)("type","down")("updateFlag",t.updateFlag)}}function W(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",67),s.TgZ(1,"div",68),s.TgZ(2,"div",69),s.TgZ(3,"div",70),s.TgZ(4,"div",71),s.TgZ(5,"p",72),s._uU(6),s.qZA(),s.qZA(),s.TgZ(7,"span",73),s._uU(8),s.qZA(),s._uU(9,"\xa0\xa0 "),s.qZA(),s.TgZ(10,"span",74),s.NdJ("click",function(){return s.CHM(t),s.oxw(3).fullscreen("TEP")}),s.qZA(),s.qZA(),s.TgZ(11,"h5",75),s._uU(12),s.qZA(),s.TgZ(13,"div",76),s.TgZ(14,"div",77),s.TgZ(15,"div",78),s.TgZ(16,"span",18),s._uU(17),s.TgZ(18,"b"),s._uU(19),s.qZA(),s._uU(20),s.qZA(),s.qZA(),s.YNc(21,j,1,3,"app-bar-chart",79),s.qZA(),s.TgZ(22,"div",80),s.TgZ(23,"div",78),s.TgZ(24,"span",18),s._uU(25),s.TgZ(26,"b"),s._uU(27),s.qZA(),s._uU(28),s.qZA(),s.qZA(),s.YNc(29,J,1,3,"app-bar-chart",81),s.qZA(),s.qZA(),s.qZA(),s.TgZ(30,"div",82),s.TgZ(31,"div",83),s.TgZ(32,"div",71),s.TgZ(33,"p",72),s._uU(34),s.qZA(),s.qZA(),s.TgZ(35,"span",73),s._uU(36),s.qZA(),s._uU(37,"\xa0\xa0 "),s.TgZ(38,"span",84),s.NdJ("click",function(){return s.CHM(t),s.oxw(3).fullscreen("TAPP")}),s.qZA(),s.qZA(),s.TgZ(39,"h5",75),s._uU(40),s.qZA(),s.TgZ(41,"div",76),s.TgZ(42,"div",85),s.TgZ(43,"div",78),s.TgZ(44,"span",18),s._uU(45),s.TgZ(46,"b"),s._uU(47),s.qZA(),s._uU(48),s.qZA(),s.qZA(),s.YNc(49,Q,1,3,"app-bar-chart",86),s.qZA(),s.TgZ(50,"div",87),s.TgZ(51,"div",78),s.TgZ(52,"span",18),s._uU(53),s.TgZ(54,"b"),s._uU(55),s.qZA(),s._uU(56),s.qZA(),s.qZA(),s.YNc(57,$,1,3,"app-bar-chart",88),s.qZA(),s.qZA(),s.qZA(),s.TgZ(58,"div",89),s.TgZ(59,"div",83),s.TgZ(60,"div",71),s.TgZ(61,"p",72),s._uU(62),s.qZA(),s.qZA(),s.TgZ(63,"span",73),s._uU(64),s.qZA(),s._uU(65,"\xa0\xa0 "),s.TgZ(66,"span",90),s.NdJ("click",function(){return s.CHM(t),s.oxw(3).fullscreen("TLOC")}),s.qZA(),s.qZA(),s.TgZ(67,"h5",75),s._uU(68),s.qZA(),s.TgZ(69,"div",76),s.TgZ(70,"div",85),s.TgZ(71,"div",78),s.TgZ(72,"span",18),s._uU(73),s.TgZ(74,"b"),s._uU(75),s.qZA(),s._uU(76),s.qZA(),s.qZA(),s.YNc(77,H,1,3,"app-bar-chart",86),s.qZA(),s.TgZ(78,"div",87),s.TgZ(79,"div",78),s.TgZ(80,"span",18),s._uU(81),s.TgZ(82,"b"),s._uU(83),s.qZA(),s._uU(84),s.qZA(),s.qZA(),s.YNc(85,Y,1,3,"app-bar-chart",88),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw(3);s.xp6(6),s.Oqu(t.language.top5Endpoints),s.xp6(2),s.hij("",t.language.interval,": 15 sec"),s.xp6(2),s.s9C("title",t.language.lossofpon_fullscreen_tip),s.xp6(2),s.hij(" ",t.language["Traffic_ Network_Top 5 Endpoints"],""),s.xp6(5),s.hij("",t.language.upRate," ("),s.xp6(2),s.hij("",t.tEPrcntData.upPercentage,"% "),s.xp6(1),s.hij(" ",t.language.ofTotal,")"),s.xp6(1),s.Q6J("ngIf",t.topEndPointUpChartoptions&&t.showRealTime),s.xp6(4),s.hij("",t.language.downRate," ("),s.xp6(2),s.hij("",t.tEPrcntData.downPercentage,"%"),s.xp6(1),s.hij(" ",t.language.ofTotal,")"),s.xp6(1),s.Q6J("ngIf",t.topEndPointDownChartoptions&&t.showRealTime),s.xp6(5),s.Oqu(t.language.top5Applications),s.xp6(2),s.hij("",t.language.interval,": 15 sec"),s.xp6(2),s.s9C("title",t.language.lossofpon_fullscreen_tip),s.xp6(2),s.hij(" ",t.language["Traffic_ Network_Top 5 Applications"],""),s.xp6(5),s.hij("",t.language.upRate," ("),s.xp6(2),s.hij("",t.tAPrcntData.upPercentage,"% "),s.xp6(1),s.hij("",t.language.ofTotal,")"),s.xp6(1),s.Q6J("ngIf",t.topAppsUpChartoptions&&t.showRealTime),s.xp6(4),s.hij("",t.language.downRate," ("),s.xp6(2),s.hij("",t.tAPrcntData.downPercentage,"%"),s.xp6(1),s.hij(" ",t.language.ofTotal,")"),s.xp6(1),s.Q6J("ngIf",t.topAppsDownChartoptions&&t.showRealTime),s.xp6(5),s.Oqu(t.language.top5Locations),s.xp6(2),s.hij("",t.language.interval,": 15 sec"),s.xp6(2),s.s9C("title",t.language.lossofpon_fullscreen_tip),s.xp6(2),s.hij(" ",t.language["Traffic_ Network_Top 5 Locations"],""),s.xp6(5),s.hij("",t.language.upRate," ("),s.xp6(2),s.hij("",t.tLPrcntData.upPercentage,"% "),s.xp6(1),s.hij("",t.language.ofTotal,")"),s.xp6(1),s.Q6J("ngIf",t.topLocationsUpChartoptions&&!0),s.xp6(4),s.hij("",t.language.downRate," ("),s.xp6(2),s.hij("",t.tLPrcntData.downPercentage,"%"),s.xp6(1),s.hij(" ",t.language.ofTotal,")"),s.xp6(1),s.Q6J("ngIf",t.topLocationsDownChartoptions&&t.showRealTime)}}function G(t,e){if(1&t&&s._UZ(0,"app-bar-chart",103),2&t){const t=s.oxw(4);s.Q6J("chartOptions",t.topEndPointUpChartoptions)("type","up")("updateFlag",t.updateFlag)}}function z(t,e){if(1&t&&s._UZ(0,"app-bar-chart",104),2&t){const t=s.oxw(4);s.Q6J("chartOptions",t.topEndPointDownChartoptions)("type","down")("updateFlag",t.updateFlag)}}const V=function(){return{standalone:!0}};function B(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",95),s.TgZ(1,"div",83),s.TgZ(2,"div",71),s.TgZ(3,"ng-select",96),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw(3).selectedTopLength=e})("change",function(){return s.CHM(t),s.oxw(3).changeTopLength()}),s.qZA(),s.qZA(),s.TgZ(4,"span",73),s._uU(5),s.qZA(),s.TgZ(6,"span",97),s.NdJ("click",function(){return s.CHM(t),s.oxw(3).closeFullscreen()}),s._uU(7,"\xa0 "),s._UZ(8,"i",98),s.qZA(),s.qZA(),s.TgZ(9,"div",99),s._uU(10),s.qZA(),s.TgZ(11,"div",100),s.TgZ(12,"div",80),s.TgZ(13,"div",78),s.TgZ(14,"span",18),s._uU(15),s.TgZ(16,"b"),s._uU(17),s.qZA(),s._uU(18),s.qZA(),s.qZA(),s.YNc(19,G,1,3,"app-bar-chart",101),s.qZA(),s.TgZ(20,"div",80),s.TgZ(21,"div",78),s.TgZ(22,"span",18),s._uU(23),s.TgZ(24,"b"),s._uU(25),s.qZA(),s._uU(26),s.qZA(),s.qZA(),s.YNc(27,z,1,3,"app-bar-chart",102),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw(3);s.xp6(3),s.Q6J("items",t.topLengths)("multiple",!1)("ngModel",t.selectedTopLength)("ngModelOptions",s.DdM(17,V))("clearable",!1)("searchable",!1),s.xp6(2),s.hij("",t.language.interval,": 15 sec"),s.xp6(1),s.s9C("title",t.language.lossofpon_fullscreen_close_tip),s.xp6(4),s.hij(" ",t.language["Traffic_ Network_Top 5 Endpoints"],""),s.xp6(5),s.hij("",t.language.upRate," ("),s.xp6(2),s.hij("",t.tEPrcntData.upPercentage,"%"),s.xp6(1),s.hij(" ",t.language.ofTotal,")"),s.xp6(1),s.Q6J("ngIf",t.topEndPointUpChartoptions&&!0),s.xp6(4),s.hij("",t.language.downRate," ("),s.xp6(2),s.hij("",t.tEPrcntData.downPercentage,"%"),s.xp6(1),s.hij(" ",t.language.ofTotal,")"),s.xp6(1),s.Q6J("ngIf",t.topEndPointDownChartoptions&&!0)}}function X(t,e){if(1&t&&s._UZ(0,"app-bar-chart",109),2&t){const t=s.oxw(4);s.Q6J("chartOptions",t.topAppsUpChartoptions)("type","up")("updateFlag",t.updateFlag)}}function K(t,e){if(1&t&&s._UZ(0,"app-bar-chart",110),2&t){const t=s.oxw(4);s.Q6J("chartOptions",t.topAppsDownChartoptions)("type","down")("updateFlag",t.updateFlag)}}function tt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",95),s.TgZ(1,"div",83),s.TgZ(2,"div",71),s.TgZ(3,"ng-select",96),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw(3).selectedTopLength=e})("change",function(){return s.CHM(t),s.oxw(3).changeTopLength()}),s.qZA(),s.qZA(),s.TgZ(4,"span",73),s._uU(5),s.qZA(),s.TgZ(6,"span",105),s.NdJ("click",function(){return s.CHM(t),s.oxw(3).closeFullscreen()}),s._UZ(7,"i",98),s.qZA(),s.qZA(),s.TgZ(8,"div",99),s._uU(9),s.qZA(),s.TgZ(10,"div",100),s.TgZ(11,"div",106),s.TgZ(12,"div",78),s.TgZ(13,"span",18),s._uU(14),s.TgZ(15,"b"),s._uU(16),s.qZA(),s._uU(17),s.qZA(),s.qZA(),s.YNc(18,X,1,3,"app-bar-chart",107),s.qZA(),s.TgZ(19,"div",80),s.TgZ(20,"div",78),s.TgZ(21,"span",18),s._uU(22),s.TgZ(23,"b"),s._uU(24),s.qZA(),s._uU(25),s.qZA(),s.qZA(),s.YNc(26,K,1,3,"app-bar-chart",108),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw(3);s.xp6(3),s.Q6J("items",t.topLengths)("multiple",!1)("ngModel",t.selectedTopLength)("ngModelOptions",s.DdM(17,V))("clearable",!1)("searchable",!1),s.xp6(2),s.hij("",t.language.interval,": 15 sec"),s.xp6(1),s.s9C("title",t.language.lossofpon_fullscreen_close_tip),s.xp6(3),s.hij(" ",t.language["Traffic_ Network_Top 5 Applications"],""),s.xp6(5),s.hij("",t.language.upRate," ("),s.xp6(2),s.hij("",t.tAPrcntData.upPercentage,"%"),s.xp6(1),s.hij(" ",t.language.ofTotal,")"),s.xp6(1),s.Q6J("ngIf",t.topAppsUpChartoptions&&!0),s.xp6(4),s.hij("",t.language.downRate," ("),s.xp6(2),s.hij("",t.tAPrcntData.downPercentage,"%"),s.xp6(1),s.hij(" ",t.language.ofTotal,")"),s.xp6(1),s.Q6J("ngIf",t.topAppsDownChartoptions&&!0)}}function et(t,e){if(1&t&&s._UZ(0,"app-bar-chart",114),2&t){const t=s.oxw(4);s.Q6J("chartOptions",t.topLocationsUpChartoptions)("type","up")("updateFlag",t.updateFlag)}}function it(t,e){if(1&t&&s._UZ(0,"app-bar-chart",114),2&t){const t=s.oxw(4);s.Q6J("chartOptions",t.topLocationsDownChartoptions)("type","down")("updateFlag",t.updateFlag)}}function nt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",95),s.TgZ(1,"div",83),s.TgZ(2,"div",71),s.TgZ(3,"ng-select",96),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw(3).selectedTopLength=e})("change",function(){return s.CHM(t),s.oxw(3).changeTopLength()}),s.qZA(),s.qZA(),s.TgZ(4,"span",73),s._uU(5),s.qZA(),s.TgZ(6,"span",111),s.NdJ("click",function(){return s.CHM(t),s.oxw(3).closeFullscreen()}),s._UZ(7,"i",98),s.qZA(),s.qZA(),s.TgZ(8,"div",99),s._uU(9),s.qZA(),s.TgZ(10,"div",112),s.TgZ(11,"div",80),s.TgZ(12,"div",78),s.TgZ(13,"span",18),s._uU(14),s.TgZ(15,"b"),s._uU(16),s.qZA(),s._uU(17),s.qZA(),s.qZA(),s.YNc(18,et,1,3,"app-bar-chart",113),s.qZA(),s.TgZ(19,"div",80),s.TgZ(20,"div",78),s.TgZ(21,"span",18),s._uU(22),s.TgZ(23,"b"),s._uU(24),s.qZA(),s._uU(25),s.qZA(),s.qZA(),s.YNc(26,it,1,3,"app-bar-chart",113),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw(3);s.xp6(3),s.Q6J("items",t.topLengths)("multiple",!1)("ngModel",t.selectedTopLength)("ngModelOptions",s.DdM(17,V))("clearable",!1)("searchable",!1),s.xp6(2),s.hij("",t.language.interval,": 15 sec"),s.xp6(1),s.s9C("title",t.language.lossofpon_fullscreen_close_tip),s.xp6(3),s.hij(" ",t.language["Traffic_ Network_Top 5 Locations"],""),s.xp6(5),s.hij("",t.language.upRate," ("),s.xp6(2),s.hij("",t.tLPrcntData.upPercentage,"%"),s.xp6(1),s.hij(" ",t.language.ofTotal,")"),s.xp6(1),s.Q6J("ngIf",t.topLocationsUpChartoptions&&!0),s.xp6(4),s.hij("",t.language.downRate," ("),s.xp6(2),s.hij("",t.tLPrcntData.downPercentage,"%"),s.xp6(1),s.hij(" ",t.language.ofTotal,")"),s.xp6(1),s.Q6J("ngIf",t.topLocationsDownChartoptions&&!0)}}function at(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",36),s.TgZ(1,"div",9),s.TgZ(2,"div",37),s.TgZ(3,"div",38),s.YNc(4,U,3,1,"div",39),s.TgZ(5,"div",40),s.NdJ("click",function(){return s.CHM(t),s.oxw(2).goToRecordingList()}),s.TgZ(6,"div",41),s._UZ(7,"img",42),s.qZA(),s.qZA(),s.YNc(8,E,4,1,"label",43),s.qZA(),s.qZA(),s.TgZ(9,"div",44),s._uU(10),s.qZA(),s.qZA(),s.TgZ(11,"div",45),s.TgZ(12,"div",46),s._uU(13),s.qZA(),s.TgZ(14,"div",47),s._uU(15),s.qZA(),s.TgZ(16,"div",48),s._uU(17),s.qZA(),s.qZA(),s.TgZ(18,"div",49),s.TgZ(19,"div",50),s.YNc(20,R,3,1,"div",51),s.YNc(21,F,3,1,"div",52),s.qZA(),s.YNc(22,W,86,36,"div",53),s.qZA(),s.TgZ(23,"div",54),s.TgZ(24,"div",9),s.TgZ(25,"div",55),s.YNc(26,B,28,18,"div",56),s.YNc(27,tt,27,18,"div",56),s.YNc(28,nt,27,18,"div",56),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw(2);s.xp6(4),s.Q6J("ngIf",t.hasWriteAccess),s.xp6(2),s.s9C("title",t.language.History),s.xp6(2),s.Q6J("ngIf",t.recordingStatus),s.xp6(2),s.AsE(" ",t.wsDelay," ",t.language["minute delay"]," "),s.xp6(3),s.AsE(" ",t.language.discoveredCount,": ",t.discoveredCount," "),s.xp6(2),s.AsE(" ",t.language.mappedCount,": ",t.mappedCount," "),s.xp6(2),s.AsE(" ",t.language["Mapped Percentage"],": ",t.mappedPercentage,"% "),s.xp6(2),s.Q6J("hidden",t.fsView),s.xp6(1),s.Q6J("ngIf",t.data.maxRate.length||t.showRealTime),s.xp6(1),s.Q6J("ngIf",t.data.packet.length||t.showRealTime),s.xp6(1),s.Q6J("ngIf",!t.fsView),s.xp6(1),s.Q6J("hidden",!t.fsView),s.xp6(3),s.Q6J("ngIf","TEP"==t.fsChartDetails.topChart),s.xp6(1),s.Q6J("ngIf","TAPP"==t.fsChartDetails.topChart),s.xp6(1),s.Q6J("ngIf","TLOC"==t.fsChartDetails.topChart)}}function ot(t,e){if(1&t&&(s.TgZ(0,"section"),s.YNc(1,S,5,1,"div",30),s.YNc(2,at,29,19,"div",31),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",t.loading),s.xp6(1),s.Q6J("ngIf",!t.loading)}}function st(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",115),s.TgZ(1,"h5",116),s._uU(2),s.qZA(),s.TgZ(3,"button",117),s.NdJ("click",function(){return s.CHM(t),s.oxw().close()}),s._UZ(4,"span",118),s.qZA(),s.qZA(),s.TgZ(5,"div",119),s.TgZ(6,"form"),s.TgZ(7,"div",120),s.TgZ(8,"label",121),s._uU(9),s.qZA(),s._UZ(10,"input",122),s.qZA(),s.qZA(),s.TgZ(11,"div",123),s.TgZ(12,"button",124),s.NdJ("click",function(){return s.CHM(t),s.oxw().createFavioute()}),s._uU(13),s.qZA(),s.TgZ(14,"button",125),s.NdJ("click",function(){return s.CHM(t),s.oxw().close()}),s._uU(15),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(2),s.Oqu(t.language.CreateTrafficFavorite),s.xp6(7),s.Oqu(t.language.Name),s.xp6(1),s.s9C("placeholder",t.language.Name),s.xp6(3),s.hij(" ",t.language.Confirm," "),s.xp6(2),s.hij(" ",t.language.Cancel," ")}}function rt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",147),s.TgZ(1,"span",148),s._UZ(2,"img",149),s.qZA(),s.TgZ(3,"button",150),s.NdJ("click",function(){return s.CHM(t),s.oxw(2).closeAlert()}),s._UZ(4,"span"),s.qZA(),s._UZ(5,"div",151),s.qZA()}if(2&t){const t=s.oxw(2);s.xp6(5),s.Q6J("innerHtml",t.language[t.errorInfo]||t.errorInfo,s.oJD)}}function ct(t,e){if(1&t&&(s.TgZ(0,"div"),s.TgZ(1,"span",152),s._uU(2),s.qZA(),s.qZA()),2&t){const t=s.oxw(2);s.xp6(2),s.hij(" ",t.language["Please enter the name"]," ")}}function pt(t,e){if(1&t&&(s.TgZ(0,"label",153),s.TgZ(1,"span"),s._UZ(2,"img",60),s.qZA(),s._uU(3),s.qZA()),2&t){const t=s.oxw(2);s.xp6(3),s.Oqu(t.language["Record In-Progress"])}}function lt(t,e){if(1&t&&s._uU(0),2&t){const t=e.item,i=s.oxw(2);s.hij(" ",i.language[t.name]||t.name," ")}}function dt(t,e){if(1&t&&s._uU(0),2&t){const t=e.item,i=s.oxw(2);s.hij(" ",i.language[t.name]||t.name," ")}}const ht=function(){return{width:"100%",height:"38px"}},gt=function(){return{height:"36px"}};function ut(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",115),s.TgZ(1,"h5",116),s._uU(2),s.qZA(),s.TgZ(3,"button",117),s.NdJ("click",function(){return s.CHM(t),s.oxw().close()}),s._UZ(4,"span",118),s.qZA(),s.qZA(),s.TgZ(5,"div",126),s.YNc(6,rt,6,1,"div",127),s.qZA(),s.TgZ(7,"div",119),s.TgZ(8,"div",128),s.TgZ(9,"label",129),s._uU(10),s.TgZ(11,"span",130),s._uU(12,"*"),s.qZA(),s.qZA(),s.TgZ(13,"input",131),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().recordingName=e})("change",function(){return s.CHM(t),s.oxw().changeName()})("blur",function(){s.CHM(t);const e=s.oxw();return e.removeUnwantedSpace("recordingName",e.recordingName)}),s.qZA(),s.YNc(14,ct,3,1,"div",1),s.qZA(),s.TgZ(15,"div",128),s.TgZ(16,"label",132),s._uU(17),s.qZA(),s.TgZ(18,"textarea",133),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().description=e})("blur",function(){s.CHM(t);const e=s.oxw();return e.removeUnwantedSpace("description",e.description)}),s.qZA(),s.qZA(),s.TgZ(19,"div",18),s.TgZ(20,"span",70),s._uU(21),s.TgZ(22,"span",130),s._uU(23,"*"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(24,"div",134),s.TgZ(25,"label",135),s._uU(26),s.qZA(),s.TgZ(27,"input",136),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().isNow=e})("change",function(){return s.CHM(t),s.oxw().changeNowAndLater()}),s.qZA(),s.qZA(),s.TgZ(28,"div",134),s.TgZ(29,"label",137),s._uU(30),s.qZA(),s.TgZ(31,"input",138),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().isNow=e})("change",function(){return s.CHM(t),s.oxw().changeNowAndLater()}),s.qZA(),s.TgZ(32,"p-calendar",139),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().date=e}),s.qZA(),s.YNc(33,pt,4,1,"label",140),s.qZA(),s.TgZ(34,"div",141),s.TgZ(35,"label",142),s._uU(36),s.TgZ(37,"span",130),s._uU(38,"*"),s.qZA(),s.qZA(),s.TgZ(39,"ng-select",143),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().selectedDuration=e}),s.YNc(40,lt,1,1,"ng-template",144),s.YNc(41,dt,1,1,"ng-template",145),s.qZA(),s.qZA(),s.TgZ(42,"div",123),s.TgZ(43,"button",146),s.NdJ("click",function(){return s.CHM(t),s.oxw().createRecording()}),s._uU(44),s.qZA(),s.TgZ(45,"button",125),s.NdJ("click",function(){return s.CHM(t),s.oxw().close()}),s._uU(46),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(2),s.Oqu(t.language.CreateTrafficRecording),s.xp6(4),s.Q6J("ngIf",t.error),s.xp6(4),s.hij("",t.language.Name," "),s.xp6(3),s.s9C("placeholder",t.language.Name),s.Q6J("ngModel",t.recordingName),s.xp6(1),s.Q6J("ngIf",!t.isvalid),s.xp6(3),s.hij(" ",t.language.Description," "),s.xp6(1),s.MGl("placeholder","",t.language.Description,".."),s.Q6J("ngModel",t.description),s.xp6(3),s.hij(" ",t.language["Start Time"]," "),s.xp6(5),s.Oqu(t.language.Now),s.xp6(1),s.Q6J("value",!0)("ngModel",t.isNow)("checked",t.isNow)("disabled",t.recordingStatus),s.xp6(3),s.Oqu(t.language.Later),s.xp6(1),s.Q6J("value",!1)("ngModel",t.isNow),s.xp6(1),s.Akn(s.DdM(40,ht)),s.s9C("placeholder",t.language.Date),s.Q6J("inputStyle",s.DdM(41,gt))("autoZIndex",!0)("ngModel",t.date)("showIcon",!0)("showTime",!0)("hourFormat",24)("ngModelOptions",s.DdM(42,V))("disabled",t.showDate)("minDate",t.minDate),s.xp6(1),s.Q6J("ngIf",t.recordingStatus),s.xp6(3),s.hij("",t.language["Record Length"]," "),s.xp6(3),s.Q6J("items",t.items)("ngModel",t.selectedDuration)("ngModelOptions",s.DdM(43,V))("clearable",!1)("searchable",!1),s.xp6(4),s.Q6J("disabled",t.btnDisabled),s.xp6(1),s.hij(" ",t.language.Confirm," "),s.xp6(2),s.hij(" ",t.language.Cancel," ")}}function ft(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",154),s.TgZ(1,"button",155),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().sensitiveModalCancel(e)}),s._UZ(2,"span",118),s.qZA(),s.TgZ(3,"div",156),s.TgZ(4,"div",157),s.TgZ(5,"div",158),s._UZ(6,"span"),s.qZA(),s.TgZ(7,"div",159),s.TgZ(8,"div",160),s._uU(9),s.qZA(),s.TgZ(10,"div",161),s.TgZ(11,"div",162),s._UZ(12,"input",163,164),s.qZA(),s.TgZ(14,"div",165),s.TgZ(15,"label",166),s._uU(16),s.qZA(),s.qZA(),s.qZA(),s.TgZ(17,"div",167),s.TgZ(18,"button",168),s.NdJ("click",function(){return s.CHM(t),s.oxw().confirmShow()}),s._uU(19),s.qZA(),s.TgZ(20,"button",169),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().sensitiveModalCancel(e)}),s._uU(21),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.MAs(13),e=s.oxw();s.xp6(9),s.hij(" ",e.language["Identifiable information msg"]," "),s.xp6(7),s.hij("",e.language["Access confirm msg"]," "),s.xp6(2),s.Q6J("disabled",!t.checked),s.xp6(1),s.hij(" ",e.language.Confirm," "),s.xp6(2),s.hij(" ",e.language.Cancel," ")}}let mt="TEP",wt="TAPP",Tt="TLOC";const bt=[{path:"",component:(()=>{class t{constructor(t,e,i,n,a,o,c,l,d,h,g){this.router=t,this.customTranslateService=e,this.sso=i,this.optnsMngr=n,this.websocketservice=a,this.http=o,this.dialogService=c,this.titleService=l,this.CommonFunctionsService=d,this.callOutComeService=h,this.dateUtils=g,this.pageAvailable=!1,this.topEndPointUpXaxisArray=[],this.topEndPointUpXaxisIdArray=[],this.topEndPointUpXaxisSelection=!1,this.topEndPointDownXaxisArray=[],this.topEndPointDownXaxisIdArray=[],this.topEndPointDownXaxisSelection=!1,this.topAppsUpXaxisArray=[],this.topAppsUpXaxisIdArray=[],this.topAppsUpXaxisSelection=!1,this.topAppsDownXaxisArray=[],this.topAppsDownXaxisIdArray=[],this.topAppsDownXaxisSelection=!1,this.topLocationsUpXaxisArray=[],this.topLocationsUpXaxisIdArray=[],this.topLocationsUpXaxisSelection=!1,this.topLocationsDownXaxisArray=[],this.topLocationsDownXaxisIdArray=[],this.topLocationsDownXaxisSelection=!1,this.selectedTopLength=5,this.topLengths=[],this.updateFlag=!0,this.fsView=!1,this.fsChartDetails={},this.showChart=!1,this.Highcharts=r,this.loading=!0,this.recordingComponent=s.wA2,this.favoriteComponent=s.wA2,this.startDate=new Date,this.rate="",this.packet="",this.createFavorite=!0,this.createRecord=!0,this.windowLen=5,this.ddoptions=[{id:1,name:"5 Minutes window"},{id:2,name:"10 Minutes window"},{id:3,name:"15 Minutes window"},{id:4,name:"20 Minutes window"},{id:5,name:"25 Minutes window"},{id:6,name:"30 Minutes window"}],this.selectedOption=1,this.selectedTime=1,this.sensitiveChecked=!1,this.status="ONLINE",this.isConnected=!0,this.hasLocationAccess=!1,this.hasApplicationAccess=!1,this.hasNetworkAccess=!1,this.discoveredCount=0,this.mappedCount=0,this.mappedPercentage=0,this.mappedPercentage$=new p.xQ,this.hasWriteAccess=!1,this.isCcoTraffic=!1,this.fsName="",this.data={maxRate:[],packet:[]},this.showRealTime=!1,this.tAPrcntData={downPercentage:"0",upPercentage:"0"},this.tLPrcntData={downPercentage:"0",upPercentage:"0"},this.tEPrcntData={downPercentage:"0",upPercentage:"0"},this.tAData={upData:[],downData:[]},this.tLData={upData:[],downData:[]},this.tEPData={upData:[],downData:[]},this.showBars=!1,this.showTEPBars=!1,this.cachePacketData={},this.cacheRateData={},this.rateUnit="bps",this.packetUnit="pps",this.tepUpDataObj={},this.tepDownDataObj={},this.tapUpDataObj={},this.tapDownDataObj={},this.tlocUpDataObj={},this.tlocDownDataObj={},this.date=new Date,this.items=[{name:"0.5 Hour",value:"1"},{name:"1 Hour",value:"2"},{name:"1.5 Hour",value:"3"},{name:"2 Hour",value:"4"}],this.selectedDuration="1",this.isNow=!0,this.recordingName="",this.description="",this.isvalid=!0,this.minDate=new Date,this.btnDisabled=!1,this.errorInfo="",this.error=!1,this.showDate=!0,this.recordingStatus=!1,this.connectionError=!1,this.connectionErrorInfo="",this.timeDiff=0,this.websocketservice.previousURL.includes("/cco/traffic/locations/reports")||this.websocketservice.previousURL.includes("/cco/traffic/applications/reports")?this.router.navigate(["/cco/traffic/network/reports"]):(this.websocketservice.previousURL="",window.location.pathname.indexOf("/cco/traffic/")>-1&&(this.isCcoTraffic=!0),this.websocketservice.rtData$.next({}),this.websocketservice.ratePacketStreamData$.next({}),this.websocketservice.setMonitorType("NET"),this.loading=!0,this.ORG_ID=this.sso.getOrganizationID(this.router.url))}setTitle(t){this.titleService.setTitle(this.isCcoTraffic?`${this.language["Real Time"]} - ${this.language.Network} - ${this.language.Traffic} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`:`${this.language["Real Time"]} - ${this.language.Network} - ${this.language.Traffic} - ${this.language.flowconfiguration} - ${this.language.administration} - ${this.language["Calix Cloud"]}`)}ngOnInit(){var t;this.sensitiveChecked="true"==sessionStorage.getItem("showSensitiveInfo");let e=this;document.addEventListener("visibilitychange",function(){if(!document.hidden&&e.websocketservice.getCurrentMonitorInfo("NET")){let t=e.websocketservice.getCurrentMonitorInfo("NET");if(t&&t.monitorId&&t.monitorId===e.orgid_tenantid){let i={orgId:t.orgId,monitorType:"NET",networkId:t.networkId,monitorId:t.monitorId,graphType:"TRF",replay:"true",startTime:t.startTime,endTime:(new Date).getTime()};return void e.send("NET",i)}e.websocketservice.listen("REPLAY")}}),this.webSocketConnectionError(),this.getRecordingStatus(),this.checkLastSubscriptiontime(),this.language=this.customTranslateService.defualtLanguage,this.rate=this.language.RATE,this.packet=this.language.PACKET,this.language&&(this.pageAvailable=!0),this.customTranslateService.selectedLanguage.subscribe(t=>{this.rate=t.RATE,this.packet=t.PACKET,this.language=t,this.ddoptions=[{id:1,name:"5 Minutes window"},{id:2,name:"10 Minutes window"},{id:3,name:"15 Minutes window"},{id:4,name:"20 Minutes window"},{id:5,name:"25 Minutes window"},{id:6,name:"30 Minutes window"}],this.fsView&&this.createTopLengthItems(),this.topAppsUpChartoptions=null,this.topAppsDownChartoptions=null,this.topEndPointUpChartoptions=null,this.topEndPointDownChartoptions=null,this.topLocationsUpChartoptions=null,this.topLocationsDownChartoptions=null,setTimeout(()=>{let t=this.optnsMngr.getNetworkRealTimeGraphData(mt);this.makeTEPEvents(t);let e=this.optnsMngr.getNetworkRealTimeGraphData(wt);this.makeTAPPEvents(e);let i=this.optnsMngr.getNetworkRealTimeGraphData(Tt);this.makeTLOCEvents(i)},300),this.setTitle(this.router.url)}),this.setTitle(this.router.url);let i=this.sso.getScopes();if(c.N.VALIDATE_SCOPE&&this.isCcoTraffic){i&&-1!==i["cloud.rbac.coc.traffic.network.realtime"].indexOf("write")&&(this.hasWriteAccess=!0);let t=Object.keys(i);if(t)for(let e=0;e<t.length;e++)-1!==t[e].indexOf("cloud.rbac.coc.traffic.network.realtime")&&(this.hasNetworkAccess=!0),-1!==t[e].indexOf("cloud.rbac.coc.traffic.location.realtime")&&(this.hasLocationAccess=!0),-1!==t[e].indexOf("cloud.rbac.coc.traffic.applications.realtime")&&(this.hasApplicationAccess=!0)}else this.hasNetworkAccess=!0,this.hasLocationAccess=!0,this.hasApplicationAccess=!0;if(!this.hasNetworkAccess)return this.sso.setPageAccess(!1),void this.router.navigate(["/cco/traffic/network/reports"]);if(this.sso.setPageAccess(!0),this.delaySub=this.websocketservice.delay$.subscribe(t=>{t&&(this.wsDelay=Math.abs(this.sso.getRealtimeDelay())/6e4,this.wsDelay=Number.isInteger(this.wsDelay)?this.wsDelay:this.wsDelay.toFixed(1))}),this.getCount(),this.getMappedPercentage(),this.getRtData(),this.optnsMngr.removeTopNTrafficFromLS(),this.topLengths=[{name:"Top 5",value:5}],this.orgId=this.sso.getOrganizationID(this.router.url),this.orgid_tenantid=this.orgId+"_0",this.websocketservice.getCurrentMonitorInfo("NET")){let t=this.websocketservice.getCurrentMonitorInfo("NET");if(t&&t.monitorId&&t.monitorId===this.orgid_tenantid){this.websocketservice.getWindowLen()&&(this.selectedOption=this.websocketservice.getWindowLen(),this.selectedTime=this.websocketservice.getWindowLen());let e={orgId:t.orgId,monitorType:"NET",networkId:t.networkId,monitorId:t.monitorId,graphType:"TRF",replay:"true",startTime:t.startTime,endTime:(new Date).getTime()};return void this.send("NET",e)}}this.connectSubs=this.websocketservice.connectWS$.subscribe(t=>{t&&!this.websocketservice.WebSocketServer.hasDisconnectedOnce&&(console.log("trying to send the message after successfull connection "),this.websocketservice.listen("NET"),this.websocketservice.listen("REPLAY"),this.websocketservice.listen("error_traffic_NET"),this.send("NET",{orgId:this.orgId,monitorType:"NET",networkId:this.orgid_tenantid,monitorId:this.orgid_tenantid,graphType:"TRF,TAPP,TLOC,TEP"}))}),this.websocketservice.setWindowLen(this.selectedOption),this.reConnectWebSocket(),setTimeout(()=>{this.loading=!1},15e3),this.orgidfromlocal=null!==(t=localStorage.getItem("calix.org_id"))&&void 0!==t?t:" ",this.loginData=localStorage.getItem("calix.login_data")?JSON.parse(localStorage.getItem("calix.login_data")):"",this.secureAccessRole=sessionStorage.getItem("Orgacceforssid")?"Calix":"BSP"}getCount(){this.http.get(`${c.N.faAdminCorrelatorURL}flowendpoint/count?discovered=true&org-id=${this.ORG_ID}`).subscribe(t=>{this.mappedCount=t,this.discoveredCount=this.discoveredCount+t,this.mappedPercentage$.next()},t=>{}),this.http.get(`${c.N.faAdminCorrelatorURL}flowendpoint/unmapped/count?org-id=${this.ORG_ID}&source=true`).subscribe(t=>{setTimeout(()=>{this.discoveredCount=this.discoveredCount+t,this.mappedPercentage$.next()},500)},t=>{})}getMappedPercentage(){this.mappedSubscription=this.mappedPercentage$.subscribe(t=>{this.mappedPercentage=this.mappedCount/this.discoveredCount*100,this.mappedPercentage=this.mappedPercentage?this.mappedPercentage.toFixed(2):0})}send(t,e){this.websocketservice.emit(t,e)}applyFilterOrModal(t,e){t&&"true"!=sessionStorage.getItem("showSensitiveInfo")?this.modalOpener(e):(sessionStorage.setItem("showSensitiveInfo",t?"true":"false"),this.endpointSensitiveData&&this.makeTEPEvents(this.endpointSensitiveData),this.applyFilter())}onSelectFilterPreset(t){this.selectedOption=t.settingJsonTyped.timeFrame}applyFilter(){if(this.selectedTime=this.selectedOption,this.websocketservice.getCurrentMonitorInfo("NET")){let t=this.websocketservice.getCurrentMonitorInfo("NET");if(t&&t.monitorId){let e={orgId:t.orgId,monitorType:"NET",networkId:t.networkId,monitorId:t.monitorId,graphType:"TRF",replay:"true",startTime:t.startTime,endTime:(new Date).getTime()};this.send("NET",e)}}this.websocketservice.listen("REPLAY")}clearFilter(){this.selectedOption=1,this.selectedTime=1}ngAfterViewInit(){this.favoriteComponent=this.realtimeFavCreatePop,this.recordingComponent=this.recordCreatePop}fullscreen(t){this.fsChartDetails={topChart:t},this.fsView=!0,this.fsName=t,this.modifyCurrentOptionsToFS(t),this.createTopLengthItems()}closeFullscreen(){if(this.selectedTopLength=5,this.fsView=!1,"TEP"===this.fsName){let t=this.optnsMngr.getNetworkRealTimeGraphData(mt);this.makeTEPEvents(t)}else if("TAPP"===this.fsName){let t=this.optnsMngr.getNetworkRealTimeGraphData(wt);this.makeTAPPEvents(t)}else if("TLOC"===this.fsName){let t=this.optnsMngr.getNetworkRealTimeGraphData(Tt);this.makeTLOCEvents(t)}this.fsName="",this.fsChartDetails={}}modifyCurrentOptionsToFS(t){switch(t){case"TEP":this.fsChartDetails={topChart:"TEP",title:"Endpoints"};let t=this.optnsMngr.getNetworkRealTimeGraphData(mt);this.makeTEPEvents(t);break;case"TAPP":this.fsChartDetails={topChart:"TAPP",title:"Applications"};let e=this.optnsMngr.getNetworkRealTimeGraphData(wt);this.makeTAPPEvents(e);break;case"TLOC":this.fsChartDetails={topChart:"TLOC",title:"Locations"};let i=this.optnsMngr.getNetworkRealTimeGraphData(Tt);this.makeTLOCEvents(i)}}getFSPointWidth(t){let e=14;switch(t){case 5:e=60;break;case 10:e=30;break;case 20:e=15;break;case 30:e=10}return e}createTopLengthItems(){this.language&&this.fsChartDetails.title&&(this.topLengths=[{name:this.language["Top 5 "+this.fsChartDetails.title],value:5},{name:this.language["Top 10 "+this.fsChartDetails.title],value:10},{name:this.language["Top 20 "+this.fsChartDetails.title],value:20},{name:this.language["Top 30 "+this.fsChartDetails.title],value:30}])}ngOnDestroy(){this.rtSubscription&&this.rtSubscription.unsubscribe(),this.ratePacketStreamSubscription&&this.ratePacketStreamSubscription.unsubscribe(),this.cacheDataSubscription&&this.cacheDataSubscription.unsubscribe(),this.epSearchSbcrptn&&this.epSearchSbcrptn.unsubscribe(),this.tASource&&this.tASource.close(),this.tESource&&this.tESource.close(),this.tLsource&&this.tLsource.close(),this.mappedSubscription&&this.mappedSubscription.unsubscribe(),this.websocketservice.clearReplayData(),this.interval&&(clearInterval(this.interval),this.interval=null),this.websocketservice.rtData$.next({}),this.reConnectSubscription&&this.reConnectSubscription.unsubscribe(),this.connectionErSubscription&&this.connectionErSubscription.unsubscribe(),this.wsNoResponseSubscription&&this.wsNoResponseSubscription.unsubscribe(),this.statusSubs&&this.statusSubs.unsubscribe(),this.recordSubs&&this.recordSubs.unsubscribe(),this.recordErrorSubscription&&this.recordErrorSubscription.unsubscribe(),this.recordWsSubscription&&this.recordWsSubscription.unsubscribe(),this.connectSubs&&this.connectSubs.unsubscribe(),this.delaySub&&this.delaySub.unsubscribe()}checkAllOptions(){this.checkAllOptionsInterval=setInterval(()=>{this.topEndPointUpChartoptions&&this.topEndPointDownChartoptions&&this.topAppsUpChartoptions&&this.topAppsDownChartoptions&&this.topLocationsUpChartoptions&&this.topLocationsDownChartoptions&&(this.loading=!1,this.showChart=!0,clearInterval(this.checkAllOptionsInterval))},500)}getRtData(){this.rtSubscription&&this.rtSubscription.unsubscribe(),this.ratePacketStreamSubscription&&this.ratePacketStreamSubscription.unsubscribe(),this.cacheDataSubscription&&this.cacheDataSubscription.unsubscribe(),this.cacheDataSubscription=this.websocketservice.cacheData$.subscribe(t=>{this.loading=!1,console.log("cache data subscription",t),this.cachePacketData=t.packet,this.cacheRateData=t.rate}),this.ratePacketStreamSubscription=this.websocketservice.ratePacketStreamData$.subscribe(t=>{console.log("subscription data",t),this.showRealTime=!0,"NET"==t.monitorType&&(this.lastSubscriptionTime=(new Date).getTime(),this.loading=!1,this.connectionError=!1,"TRF"===t.graphType?(this.data=t,this.showRealTime=!0):this.showBars=!1)}),this.rtSubscription=this.websocketservice.rtData$.subscribe(t=>{if("NET"==t.monitorType&&(this.lastRtSubscriptionTime=(new Date).getTime(),this.loading=!1,"TAPP"===t.graphType&&(this.topAppsUpChartoptions=null,this.optnsMngr.setNetworkRealTimeGraphData(wt,t),this.makeTAPPEvents(t)),"TEP"===t.graphType&&(this.topEndPointUpChartoptions=null,this.optnsMngr.setNetworkRealTimeGraphData(mt,t),this.makeTEPEvents(t)),"TLOC"===t.graphType)){this.topLocationsUpChartoptions=null;let e=t.upData.findIndex(t=>"Unknown"===t.name&&"00000000-0000-0000-0000-000000000000"===t.id);e>-1&&t.upData.splice(e,1);let i=t.downData.findIndex(t=>"Unknown"===t.name&&"00000000-0000-0000-0000-000000000000"===t.id);i>-1&&t.downData.splice(i,1),this.optnsMngr.setNetworkRealTimeGraphData(Tt,t),this.makeTLOCEvents(t)}})}confirmShow(){var t;const e={accessType:this.secureAccessRole,accountId:"",accountName:"",action:"pii",actionTimestamp:this.dateUtils.currentDateToUTC(),deviceId:"",deviceType:"",objectType:"Traffic/Top Endpoints",orgId:this.orgidfromlocal,originator:null===(t=this.loginData)||void 0===t?void 0:t.username,description:"Show PII subscriber data"};this.callOutComeService.Savepasspharseauditlog(e).subscribe(t=>{t&&(this.loading=!1)},t=>{this.error=!0,this.errorInfo=t.errorMessage}),sessionStorage.setItem("showSensitiveInfo","true"),this.endpointSensitiveData&&this.makeTEPEvents(this.endpointSensitiveData),this.applyFilter(),setTimeout(()=>this.dialogService.dismissAll(),200)}makeTEPEvents(t){var e,i;this.endpointSensitiveData=JSON.parse(JSON.stringify(t)),"true"!=sessionStorage.getItem("showSensitiveInfo")&&(null===(e=t.upData)||void 0===e||e.forEach(t=>t.name=(0,l.C)(t.name)),null===(i=t.downData)||void 0===i||i.forEach(t=>t.name=(0,l.C)(t.name))),this.tEPrcntData={downPercentage:t.downPercentage?t.downPercentage:0,upPercentage:t.upPercentage?t.upPercentage:0};let n=this.fsView&&"TEP"===this.fsName?this.selectedTopLength:5,a=t.upData.length,o=t.downData.length;a>=n&&(a=n),o>=n&&(o=n),this.tEPrcntData.upPercentage=this.websocketservice.calculatePercentage(t.upTotal,t.upData,n),this.tEPrcntData.downPercentage=this.websocketservice.calculatePercentage(t.downTotal,t.downData,n),this.settepUpDataObj(t.upData),this.settepDownDataObj(t.downData),this.tEPData.upData=t.upData,this.tEPData.downData=t.downData;let s=this.optnsMngr.makeOptionsForRTBC(t,"bar","upData",n,this.fsView),r=this.optnsMngr.makeOptionsForRTBC(t,"bar","downData",n,this.fsView);s.chart.height=this.fsView&&"TEP"===this.fsName?560:160,s.plotOptions.series.pointWidth=this.fsView&&"TEP"===this.fsName?this.getFSPointWidth(a):14,r.chart.height=this.fsView&&"TEP"===this.fsName?560:160,r.plotOptions.series.pointWidth=this.fsView&&"TEP"===this.fsName?this.getFSPointWidth(o):14;let p=this,d="/cco/traffic/endpoints/realtime";this.isCcoTraffic||(d=this.router.url.indexOf(`/${c.N.SYS_ADMIN_ROUTE}/`)>-1?"/systemAdministration/flowAnalyze/traffic/endpoint/realtime":"/organization-admin/flowAnalyze/traffic/endpoint/realtime"),s.xAxis.labels={useHTML:!0,style:{color:"#007bff",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden",fontSize:"13px",fontWeight:500},formatter:function(){return`<span  class="text-primary axis_label" title="${this.value[0]}" style="cursor:pointer">${this.value[0]}</span>`},events:{click:function(t){window.sessionStorage.setItem("endpointName",this.axis.categories[this.pos][0]),p.navigationByUrl(this.category="",this.axis.categories[this.pos][1],"Endpoints")},contextmenu:function(t){t.preventDefault(),window.sessionStorage.setItem("endpointName",this.axis.categories[this.pos][0]);let e=window.location.origin+d+"?id="+this.axis.categories[this.pos][1];window.open(e,"_blank")}}},s.plotOptions.series.point.events={click:function(t){window.sessionStorage.setItem("endpointName",this.category[0]),p.navigationByUrl(this.category[0],this.category[1],"Endpoints")}},r.xAxis.labels={useHTML:!0,style:{color:"#007bff",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden",fontSize:"13px",fontWeight:500},formatter:function(){return`<span  class="text-primary axis_label" title="${this.value[0]}" style="cursor:pointer">${this.value[0]}</span>`},events:{click:function(t){window.sessionStorage.setItem("endpointName",this.axis.categories[this.pos][0]),p.navigationByUrl(this.category="",this.axis.categories[this.pos][1],"Endpoints")},contextmenu:function(t){t.preventDefault(),window.sessionStorage.setItem("endpointName",this.axis.categories[this.pos][0]);let e=window.location.origin+d+"?id="+this.axis.categories[this.pos][1];window.open(e,"_blank")}}},r.plotOptions.series.point.events={click:function(t){window.sessionStorage.setItem("endpointName",this.category[0]),p.navigationByUrl(this.category[0],this.category[1],"Endpoints")}},r.plotOptions.series.color="#5ACFEA",s=Object.assign({},s),r=Object.assign({},r),this.topEndPointUpChartoptions=s,this.topEndPointDownChartoptions=r}makeTLOCEvents(t){this.tLPrcntData={downPercentage:t.downPercentage?t.downPercentage:0,upPercentage:t.upPercentage?t.upPercentage:0};let e=this.fsView&&"TLOC"===this.fsName?this.selectedTopLength:5,i=t.upData.length,n=t.downData.length;i>=e&&(i=e),n>=e&&(n=e),this.tLPrcntData.upPercentage=this.websocketservice.calculatePercentage(t.upTotal,t.upData,e),this.tLPrcntData.downPercentage=this.websocketservice.calculatePercentage(t.downTotal,t.downData,e),this.settlocUpDataObj(t.upData),this.settlocDownDataObj(t.downData),this.tLData.upData=t.upData,this.tLData.downData=t.downData;let a=this.optnsMngr.makeOptionsForRTBC(t,"bar","upData",e,this.fsView),o=this.optnsMngr.makeOptionsForRTBC(t,"bar","downData",e,this.fsView);a.chart.height=this.fsView&&"TLOC"===this.fsName?560:160,delete a.chart.width,a.plotOptions.series.pointWidth=this.fsView&&"TLOC"===this.fsName?this.getFSPointWidth(i):14,o.chart.height=this.fsView&&"TLOC"===this.fsName?560:160,delete o.chart.width,o.plotOptions.series.pointWidth=this.fsView&&"TLOC"===this.fsName?this.getFSPointWidth(n):14;let s=this,r="/cco/traffic/locations/realtime";this.isCcoTraffic||(r=this.router.url.indexOf(`/${c.N.SYS_ADMIN_ROUTE}/`)>-1?"/systemAdministration/flowAnalyze/traffic/location/realtime":"/organization-admin/flowAnalyze/traffic/location/realtime"),a.xAxis.labels={useHTML:!0,style:{color:"#007bff",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden",fontSize:"13px",fontWeight:500},formatter:function(){return`<span  class="text-primary axis_label" title="${this.value[0]}" style="cursor:pointer">${this.value[0]}</span>`},events:{click:function(t){s.hasLocationAccess&&s.router.navigate([r],{queryParams:{id:this.axis.categories[this.pos][1]}})},contextmenu:function(t){if(s.hasLocationAccess){t.preventDefault();let e=window.location.origin+r+"?id="+this.axis.categories[this.pos][1];window.open(e,"_blank")}}}},a.plotOptions.series.point.events={click:function(t){s.hasLocationAccess&&s.router.navigate([r],{queryParams:{id:this.category[1]}})}},o.xAxis.labels={useHTML:!0,style:{color:"#007bff",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden",fontSize:"13px",fontWeight:500},formatter:function(){return`<span  class="text-primary axis_label" title="${this.value[0]}" style="cursor:pointer">${this.value[0]}</span>`},events:{click:function(t){s.hasLocationAccess&&s.router.navigate([r],{queryParams:{id:this.axis.categories[this.pos][1]}})},contextmenu:function(t){if(s.hasLocationAccess){t.preventDefault();let e=window.location.origin+r+"?id="+this.axis.categories[this.pos][1];window.open(e,"_blank")}}}},o.plotOptions.series.point.events={click:function(t){s.hasLocationAccess&&s.router.navigate([r],{queryParams:{id:this.category[1]}})}},o.plotOptions.series.color="#5ACFEA",this.topLocationsUpChartoptions=Object.assign({},a),this.topLocationsDownChartoptions=Object.assign({},o)}makeTAPPEvents(t){this.tAPrcntData={downPercentage:t.downPercentage?t.downPercentage:0,upPercentage:t.upPercentage?t.upPercentage:0};let e=this.fsView&&"TAPP"===this.fsName?this.selectedTopLength:5,i=t.upData.length,n=t.downData.length;i>=e&&(i=e),n>=e&&(n=e),this.tAPrcntData.upPercentage=this.websocketservice.calculatePercentage(t.upTotal,t.upData,e),this.tAPrcntData.downPercentage=this.websocketservice.calculatePercentage(t.downTotal,t.downData,e),this.settapUpDataObj(t.upData),this.settapDownDataObj(t.downData),this.tAData.upData=t.upData,this.tAData.downData=t.downData;let a=this.optnsMngr.makeOptionsForRTBC(t,"bar","upData",e,this.fsView),o=this.optnsMngr.makeOptionsForRTBC(t,"bar","downData",e,this.fsView);a.chart.height=this.fsView&&"TAPP"===this.fsName?560:160,delete a.chart.width,a.plotOptions.series.pointWidth=this.fsView&&"TAPP"===this.fsName?this.getFSPointWidth(i):14,o.chart.height=this.fsView&&"TAPP"===this.fsName?560:160,delete o.chart.width,o.plotOptions.series.pointWidth=this.fsView&&"TAPP"===this.fsName?this.getFSPointWidth(n):14;let s=this,r="/cco/traffic/applications/realtime";this.isCcoTraffic||(r=this.router.url.indexOf(`/${c.N.SYS_ADMIN_ROUTE}/`)>-1?"/systemAdministration/flowAnalyze/traffic/application/realtime":"/organization-admin/flowAnalyze/traffic/application/realtime"),a.xAxis.labels={useHTML:!0,style:{color:"#007bff",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden",fontSize:"13px",fontWeight:500},formatter:function(){return`<span  class="text-primary axis_label" title="${this.value[0]}" style="cursor:pointer">${this.value[0]}</span>`},events:{click:function(t){s.hasApplicationAccess&&s.router.navigate([r],{queryParams:{id:this.axis.categories[this.pos][1]}})},contextmenu:function(t){if(s.hasApplicationAccess){t.preventDefault();let e=window.location.origin+r+"?id="+this.axis.categories[this.pos][1];window.open(e,"_blank")}}}},a.plotOptions.series.point.events={click:function(t){s.hasApplicationAccess&&s.router.navigate([r],{queryParams:{id:this.category[1]}})}},o.xAxis.labels={useHTML:!0,style:{color:"#007bff",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden",fontSize:"13px",fontWeight:500},formatter:function(){return`<span  class="text-primary axis_label" title="${this.value[0]}" style="cursor:pointer">${this.value[0]}</span>`},events:{click:function(t){s.hasApplicationAccess&&s.router.navigate([r],{queryParams:{id:this.axis.categories[this.pos][1]}})},contextmenu:function(t){if(s.hasApplicationAccess){t.preventDefault();let e=window.location.origin+r+"?id="+this.axis.categories[this.pos][1];window.open(e,"_blank")}}}},o.plotOptions.series.point.events={click:function(t){s.hasApplicationAccess&&s.router.navigate([r],{queryParams:{id:this.category[1]}})}},o.plotOptions.series.color="#5ACFEA",this.topAppsUpChartoptions=Object.assign({},a),this.topAppsDownChartoptions=Object.assign({},o)}changeTopLength(){if("TEP"===this.fsName){let t=this.optnsMngr.getNetworkRealTimeGraphData(mt);this.makeTEPEvents(t)}else if("TAPP"===this.fsName){let t=this.optnsMngr.getNetworkRealTimeGraphData(wt);this.makeTAPPEvents(t)}else if("TLOC"===this.fsName){let t=this.optnsMngr.getNetworkRealTimeGraphData(Tt);this.makeTLOCEvents(t)}}settepUpDataObj(t){let e={};t.forEach(t=>{e[t.name]=t.id}),this.tepUpDataObj=e}gettepUpDataObj(){return this.tepUpDataObj}settepDownDataObj(t){let e={};t.forEach(t=>{e[t.name]=t.id}),this.tepDownDataObj=e}gettepDownDataObj(){return this.tepDownDataObj}settapUpDataObj(t){let e={};t.forEach(t=>{e[t.name]=t.id}),this.tapUpDataObj=e}gettapUpDataObj(){return this.tapUpDataObj}settapDownDataObj(t){let e={};t.forEach(t=>{e[t.name]=t.id}),this.tapDownDataObj=e}gettapDownDataObj(){return this.tapDownDataObj}settlocDownDataObj(t){let e={};t.forEach(t=>{e[t.name]=t.id}),this.tlocDownDataObj=e}gettlocDownDataObj(){return this.tlocDownDataObj}settlocUpDataObj(t){let e={};t.forEach(t=>{e[t.name]=t.id}),this.tlocUpDataObj=e}gettlocUpDataObj(){return this.tlocUpDataObj}check(t){}navigationByUrl(t,e,i){if(e){this.sso.setEPRredirectFrom(window.location.pathname);let t="/cco/traffic/endpoints/realtime";this.isCcoTraffic||(t=this.router.url.indexOf(`/${c.N.SYS_ADMIN_ROUTE}/`)>-1?"/systemAdministration/flowAnalyze/traffic/endpoint/realtime":"/organization-admin/flowAnalyze/traffic/endpoint/realtime"),this.router.navigate([t],{queryParams:{id:e}})}}watchEPSearch(){this.epSearchSbcrptn=this.websocketservice.endPointSearch$.subscribe(t=>{this.searchEndPoint(t)})}searchEndPoint(t){this.tepUpDataObj[t]?(this.websocketservice.setEndPointSearchError(!1),this.websocketservice.setEndpointValue(this.tepUpDataObj[t])):this.tepDownDataObj[t]?(this.websocketservice.setEndPointSearchError(!1),this.websocketservice.setEndpointValue(this.tepDownDataObj[t])):this.websocketservice.setEndPointSearchError(!0)}onclickCopy(t){let e=document.createElement("input");e.style.position="fixed",e.value=t,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}goToRecordingList(){let t="/cco/traffic/network/realtime";this.isCcoTraffic||(t=this.router.url.indexOf(`/${c.N.SYS_ADMIN_ROUTE}/`)>-1?"/systemAdministration/flowAnalyze/traffic/network/realtime":"/organization-admin/flowAnalyze/traffic/network/realtime"),localStorage.setItem("cco_record_list_history",t);let e=this.isCcoTraffic?"/cco/record/list":this.router.url.indexOf(`/${c.N.SYS_ADMIN_ROUTE}/`)>-1?"/systemAdministration/flowAnalyze/recording/list":"/organization-admin/flowAnalyze/recording/list";this.router.navigate([e])}close(){this.btnDisabled=!1,this.modalRef&&this.modalRef.close()}sensitiveModalCancel(t){t.close(""),this.sensitiveChecked=!1}createRecordingModal(){let t=new n.uU("en-US");this.error=!1,this.errorInfo="";let e=new Date;if(this.date=new Date(e.getTime()+6e4),this.isNow=!this.recordingStatus,!this.isNow){if(this.lastRecordLength&&this.lastRecordStartTime){let t=(new Date).getTime();this.timeDiff=this.lastRecordLength-(t-this.lastRecordStartTime)}this.date=new Date(e.getTime()+(this.timeDiff>0?this.timeDiff:36e5)),this.minDate=new Date(e.getTime()+(this.timeDiff>0?this.timeDiff:36e5))}this.recordingName="Network_"+t.transform(new Date,"yyyy-MM-dd")+"_"+(new Date).toTimeString().substr(0,8),this.selectedDuration="1",this.description="",this.modalRef=this.dialogService.open(this.recordingModal,{size:"lg",centered:!0,windowClass:"custom-modal",backdrop:"static",keyboard:!1})}createFaviouteModal(){this.modalRef=this.dialogService.open(this.faviouteModal,{size:"lg",centered:!0,windowClass:"custom-modal",backdrop:"static",keyboard:!1})}changeName(){}createRecording(){this.recordErrorSubscription&&this.recordErrorSubscription.unsubscribe(),this.recordWsSubscription&&this.recordWsSubscription.unsubscribe();let t=localStorage.getItem("calix.userId"),e=(new Date).getTime(),i=30*parseInt(this.selectedDuration)*60*1e3;if(!this.isNow&&(e=new Date(this.date).getTime(),e<=(new Date).getTime()))return this.error=!0,void(this.errorInfo="Recording time should not be lesser than current time");if(this.error=!1,this.errorInfo="",""===this.recordingName)return void(this.isvalid=!1);if(this.isvalid=!0,this.recordingName.length>72)return this.error=!0,void(this.errorInfo="Name should not have more than 72 characters");if(this.description.length>255)return this.error=!0,void(this.errorInfo="Description should not have more than 255 characters ");let n={orgId:this.orgId,tenentid:"0",monitorType:"NET",graphType:"TRF,TAPP,TLOC,TEP",startTime:e,name:this.recordingName,description:this.description,length:i,status:"New",userId:t,recordingType:"traffic",trigger:"Manual",monitorId:this.orgid_tenantid};this.btnDisabled=!0,this.send("RECORDING",n),this.websocketservice.listenRecord("RECORDING"),this.websocketservice.listenRecord("error"),this.recordWsSubscription=this.websocketservice.recordResponseData$.subscribe(t=>{this.btnDisabled=!1,t.includes("Successfully")&&this.close()}),this.recordErrorSubscription=this.websocketservice.recordErrorResponseData$.subscribe(t=>{this.btnDisabled=!1,this.error=!0,this.errorInfo=t.errorMessage}),setTimeout(()=>{this.getRecordingStatus()},1e3)}closeAlert(){this.error=!1,this.connectionError=!1}createFavioute(){}changeNowAndLater(){this.showDate=!this.showDate}checkLastSubscriptiontime(){this.interval=setInterval(()=>{let t=(new Date).getTime()-this.lastSubscriptionTime,e=(new Date).getTime()-this.lastRtSubscriptionTime;if(t>=45e3&&(this.data.maxRate=[0,0],this.data.packet=[0,0]),e>=45e3){let t=this.optnsMngr.getNetworkRealTimeGraphData(mt);t.upData=[],t.downData=[],this.makeTEPEvents(t),this.optnsMngr.setNetworkRealTimeGraphData(mt,t);let e=this.optnsMngr.getNetworkRealTimeGraphData(Tt);e.upData=[],e.downData=[],this.makeTLOCEvents(e),this.optnsMngr.setNetworkRealTimeGraphData(Tt,e);let i=this.optnsMngr.getNetworkRealTimeGraphData(wt);i.upData=[],i.downData=[],this.makeTAPPEvents(i),this.optnsMngr.setNetworkRealTimeGraphData(wt,i)}},15e3)}getRecordingStatus(){let t={monitorType:"NET",monitorId:this.ORG_ID+"_0"},e=localStorage.getItem("calix.userId");this.statusSubs=this.http.post(`${c.N.API_BASE_URL}record/job/status/Recording?orgId=${this.ORG_ID}&tenentid=0&userId=${e}`,t).subscribe(t=>{t&&t.forEach(t=>{"NET"===t.monitorType&&"Recording"===t.status?(this.getRecordDetails(t.id),this.recordingStatus=!0,this.isNow=!1,this.showDate=!1):(this.recordingStatus=!1,this.isNow=!0,this.showDate=!0)})},t=>{})}webSocketConnectionError(){this.connectionErSubscription&&this.connectionErSubscription.unsubscribe(),this.connectionErSubscription=this.websocketservice.wsConnectionError$.subscribe(t=>{t&&!0===t&&(this.loading=!1,this.connectionError=!0,this.connectionErrorInfo="Web Socket connection failed",this.close())}),this.wsNoResponseSubscription=this.websocketservice.wsNoResponse$.subscribe(t=>{t&&!0===t.isError&&"error_traffic_NET"===t.type&&(this.loading=!1,this.connectionError=!0,this.connectionErrorInfo="No Data Available")})}getRecordDetails(t){this.recordSubs=this.http.get(`${c.N.API_BASE_URL}record/job/list/${t}?orgId=${this.ORG_ID}&tenentid=0`).subscribe(t=>{t&&(this.lastRecordLength=t.length,this.lastRecordStartTime=t.startTime)},t=>{this.timeDiff=36e5})}reConnectWebSocket(){this.reConnectSubscription&&this.reConnectSubscription.unsubscribe(),this.reConnectSubscription=this.websocketservice.connectWS$.subscribe(t=>{if(t&&this.websocketservice.WebSocketServer.hasDisconnectedOnce){let t=this.websocketservice.getCurrentMonitorInfo("NET");if(this.websocketservice.listen("NET"),this.websocketservice.listen("REPLAY"),t&&t.monitorId){this.send("NET",{orgId:this.orgId,monitorType:"NET",networkId:this.orgid_tenantid,monitorId:this.orgid_tenantid,graphType:"TRF,TAPP,TLOC,TEP",startTime:t.startTime});let e={orgId:t.orgId,monitorType:"NET",networkId:t.networkId,monitorId:this.orgid_tenantid,graphType:"TRF",replay:"true",startTime:t.startTime,endTime:(new Date).getTime()};return this.send("NET",e),void this.websocketservice.setWindowLen(this.selectedOption)}this.getRtData()}})}removeUnwantedSpace(t,e){this[t]=this.CommonFunctionsService.trimSpaceFromNonObjectInputs(e)}modalOpener(t){this.dialogService.open(t,{centered:!0,windowClass:"custom-warning-modal clx-custom-modal"})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(o.F0),s.Y36(d.s),s.Y36(h.t6),s.Y36(g.p),s.Y36(u.i),s.Y36(f.eN),s.Y36(m.FF),s.Y36(w.Dx),s.Y36(T.i),s.Y36(b.K),s.Y36(x.s))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-realtime"]],viewQuery:function(t,e){if(1&t&&(s.Gf(k,7),s.Gf(_,7),s.Gf(O,7),s.Gf(M,7)),2&t){let t;s.iGM(t=s.CRH())&&(e.realtimeFavCreatePop=t.first),s.iGM(t=s.CRH())&&(e.recordCreatePop=t.first),s.iGM(t=s.CRH())&&(e.recordingModal=t.first),s.iGM(t=s.CRH())&&(e.faviouteModal=t.first)}},decls:9,vars:3,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],[4,"ngIf"],["class","col-md-12 custom-modal"],["faviouteModal",""],["recordingModal",""],["warningModalConfirmation",""],["role","alert",1,"alert","alert-warning"],[1,"container","pr-0"],[1,"filter-elemnts"],[1,"row"],[1,"col-md-12","col-lg-7"],[1,"current-issue-menu-container"],[1,"current-issue-menu-item","mw-190"],[1,"form-group","ccl-form","required","pr-2"],[1,"col-form-label"],[1,"col-sm-12","p-0"],[3,"searchable","placeholder","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,""],[1,"col-sm-12","p-0","pt-2","form-group","form-check"],["id","showSensitive","type","checkbox",1,"mr-1",3,"ngModel","ngModelChange"],["showSensitive",""],["for","showSensitive"],[1,"col-md-12","col-lg-5","text-right","btns-con","smy-2","mt-40"],[1,"d-inline-flex","mr-3"],["type","button",1,"btn-default","primary","px-3",3,"click"],[1,"d-inline-flex"],["type","button","id","#",1,"btn-default","btn-dft",3,"click"],["trafficType","Network",3,"selectedTimeFrame","enableSave","onSelectFilterPreset"],[3,"value"],["class","loader",4,"ngIf"],["class","container px-0",4,"ngIf"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"container","px-0"],[1,"col-md-9","text-left"],[1,"pl-3"],["class","d-inline-flex mx-2 primary pointer","data-toggle","modal","id","create-record","data-target","#exampleModalCenter-video",3,"click",4,"ngIf"],["id","record-list","placement","bottom",1,"d-inline-flex","primary","pointer",3,"click"],["data-toggle","tooltip","data-placement","top",1,"icon-round",3,"title"],["src","../../../../../assets/img/ic_history_white.svg"],["id","record-status","class","indcit",4,"ngIf"],[1,"col-md-3","text-right"],[1,"d-flex","justify-content-between","my-2"],[1,"col-4"],[1,"col-4","text-center"],[1,"col-4","text-right"],[1,"d-flex","justify-content-between","md-block"],[1,"col-12","col-md-12","pr-0","col-lg-6",3,"hidden"],["id","traffic-network-realtime-rate","class","card m-10",4,"ngIf"],["id","traffic-network-realtime-packet","class","card m-10",4,"ngIf"],["class","col-12 col-md-12 pr-0 col-lg-6",4,"ngIf"],[1,"bg-light","h-auto",3,"hidden"],[1,"col-md-12","col-12"],["class","card h-auto",4,"ngIf"],["data-toggle","modal","id","create-record","data-target","#exampleModalCenter-video",1,"d-inline-flex","mx-2","primary","pointer",3,"click"],["src","../../../../../assets/img/ic_record_white.svg"],["id","record-status",1,"indcit"],["src","../../../../../assets/img/ic_point.svg"],["id","traffic-network-realtime-rate",1,"card","m-10"],["id","ngx-stream-path-chart-rate",1,""],[3,"chartName","yAxixTitle","data","time","windowLen","history","selectedFilter",4,"ngIf"],[3,"chartName","yAxixTitle","data","time","windowLen","history","selectedFilter"],["id","traffic-network-realtime-packet",1,"card","m-10"],["id","ngx-stream-path-chart-packet",1,""],[1,"col-12","col-md-12","pr-0","col-lg-6"],["id","traffic-network-realtime-tep",1,"card","m-10","h-auto"],[1,"board_head","d-flex","justify-content-between"],[1,"mr-2"],[1,"orange-text-wrapper","d-inline-block"],[1,"orange-text"],[1,"ml20"],["data-toggle","tooltip","id","open-fullscreen-top-endpoints",1,"top5-fullscreen","pointer","btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],[1,"traffic-heading-subtitle"],[1,"card-body","row","board_body","no-gutters","h-210"],["id","top-endpoints-up-chart-div",1,"col-md-6","col-12"],[1,"chart-info"],["id","top-endpoints-up-chart",3,"chartOptions","type","updateFlag",4,"ngIf"],[1,"col-md-6","col-12"],["id","top-endpoints-down-chart",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","traffic-network-realtime-tapp",1,"card","mt-2","m-10","h-auto"],[1,"board_head"],["data-toggle","tooltip","id","open-fullscreen-top-apps",1,"top5-fullscreen","pointer","btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],["id","top-apps-up-chart-div",1,"col-md-6","col-12"],["id","top-apps-up-chart",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-apps-down-chart-div",1,"col-md-6","col-12"],["id","top-apps-down-chart",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","traffic-network-realtime-location",1,"card","mt-2","m-10","h-auto"],["data-toggle","tooltip","id","open-fullscreen-top-loc",1,"top5-fullscreen","pointer","btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],["id","top-endpoints-up-chart",3,"chartOptions","type","updateFlag"],["id","top-endpoints-down-chart",3,"chartOptions","type","updateFlag"],["id","top-apps-up-chart",3,"chartOptions","type","updateFlag"],["id","top-apps-down-chart",3,"chartOptions","type","updateFlag"],[1,"card","h-auto"],["id","usage_criteria","bindLabel","name","bindValue","value","placeholder","",1,"realtime-custom-select",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],["data-toggle","tooltip","id","close-fullscreen-top-endpoints",1,"top5-fullscreen","pointer","expand-icon",3,"title","click"],[1,"fa","fa-expand"],[1,"chart-sub-title"],[1,"card-body","row","board_body","no-gutters"],["id","top-endpoints-up-chart-fullscreen",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-endpoints-down-chart-fullscreen",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-endpoints-up-chart-fullscreen",3,"chartOptions","type","updateFlag"],["id","top-endpoints-down-chart-fullscreen",3,"chartOptions","type","updateFlag"],["data-toggle","tooltip","id","close-fullscreen-top-apps",1,"top5-fullscreen","pointer","expand-icon",3,"title","click"],[1,"col-md-6","col-6"],["id","top-apps-up-chart-fullscreen",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-apps-down-chart-fullscreen",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-apps-up-chart-fullscreen",3,"chartOptions","type","updateFlag"],["id","top-apps-down-chart-fullscreen",3,"chartOptions","type","updateFlag"],["data-toggle","tooltip",1,"top5-fullscreen","pointer","expand-icon",3,"title","click"],[1,"card-body","row","board_body"],[3,"chartOptions","type","updateFlag",4,"ngIf"],[3,"chartOptions","type","updateFlag"],[1,"modal-header","d-block"],["id","showInfoModal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","add-device-model"],[1,"form-group","ccl-form","text-left"],["for","exampleFormControlInput1"],["type","name","id","exampleFormControlInput1",1,"form-control",3,"placeholder"],[1,"col-md-12","pl-0","text-left","mt-3"],["type","submit",1,"btn-default","primary","px-3",3,"click"],["type","button",1,"btn-default","transparant","px-3","m-2",3,"click"],[1,"row","record-pop"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"form-group","ccl-form"],["for","name"],[1,"error"],["type","text","id","recording_Name","autocomplete","off","trimSpace","",1,"form-control",3,"ngModel","placeholder","ngModelChange","change","blur"],["for","description"],["id","description","rows","3","trimSpace","",1,"form-control",3,"ngModel","placeholder","ngModelChange","blur"],[1,"form-check","form-check-inline"],["for","inlineRadio1",1,"form-check-label","mr-2"],["type","radio","name","inlineRadioOptions","id","inlineRadio1",1,"form-check-input",3,"value","ngModel","checked","disabled","ngModelChange","change"],["for","inlineRadio2",1,"form-check-label","mr-2"],["type","radio","name","inlineRadioOptions","id","inlineRadio2",1,"form-check-input",3,"value","ngModel","ngModelChange","change"],["id","start_date","appendTo","body","dateFormat","mm-dd-yy",1,"ccl-form",3,"inputStyle","autoZIndex","placeholder","ngModel","showIcon","showTime","hourFormat","ngModelOptions","disabled","minDate","ngModelChange"],["class","indcit mb-2",4,"ngIf"],[1,"form-check","pl-0","mt-2"],["for","inlineRadio23",1,"form-check-label","mr-2"],["bindLabel","name","bindValue","value",3,"items","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["ng-label-tmp",""],["ng-option-tmp",""],["type","submit",1,"btn-default","primary","px-3",3,"disabled","click"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"errorMessage"],[1,"indcit","mb-2"],[1,"modal-body"],["type","button","data-dismiss","modal","aria-label","Close",1,"clx-modal-dismiss",3,"click"],[1,"modal-body-content"],[1,"clx-warning-wrapper"],[1,"clx-warning-icon"],[1,"clx-warning-content"],[1,"text-break","cco-secondary-title","mb-3"],[1,"d-flex","w-100"],[1,"radio-check","mr-2","pt-1"],["type","checkbox","id","checkSensitiveModal"],["checkSensitive",""],[1,"text-break"],["for","checkSensitiveModal"],[1,"mt-3"],["type","button",1,"btn-default","btn-primary","mr-3",3,"disabled","click"],["type","button","aria-label","Close",1,"btn-default","btn-dft",3,"click"]],template:function(t,e){1&t&&(s.YNc(0,y,2,1,"div",0),s.YNc(1,q,30,12,"section",1),s.YNc(2,ot,3,2,"section",1),s.YNc(3,st,16,5,"ng-template",2,3,s.W1O),s.YNc(5,ut,47,44,"ng-template",2,4,s.W1O),s.YNc(7,ft,22,5,"ng-template",null,5,s.W1O)),2&t&&(s.Q6J("ngIf",!e.hasNetworkAccess),s.xp6(1),s.Q6J("ngIf",e.hasNetworkAccess),s.xp6(1),s.Q6J("ngIf",e.hasNetworkAccess))},directives:[n.O5,a.w9,Z.JJ,Z.On,n.sg,Z.Wl,v._,a.xv,A.Q,C.u,Z._Y,Z.JL,Z.F,Z.Fj,D.f,Z._,P.f,a.bb,a.Z2],styles:[".undo-icon[_ngcontent-%COMP%]{background-color:#f8f8fa;padding:3px;color:#9e9e9e;border-radius:15px;margin:2px;font-size:17px;cursor:pointer;width:30px;height:30px;text-align:center}.current-issue-menu-container[_ngcontent-%COMP%]{display:flex;justify-self:start}.current-issue-menu-item[_ngcontent-%COMP%]{flex-grow:0}.current-issue-menu-item[_ngcontent-%COMP%] + .current-issue-menu-item[_ngcontent-%COMP%]{margin-left:1%}.btn-secondary[_ngcontent-%COMP%]{color:#5f6165!important;background-color:#f7f8fa!important;border-color:#888!important}.test-container[_ngcontent-%COMP%]{display:flex;width:100%}.item[_ngcontent-%COMP%]{flex-grow:1;border-left:3px solid #cdcdcd;padding-left:20px;width:calc(100% / 3)}.item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:2%}.sub-menu-list-icon[_ngcontent-%COMP%]{background-color:#dee5ef;padding:2px 10px;border-radius:15px;font-size:10px;margin:10px}.network-trends-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.network-trends-item[_ngcontent-%COMP%]{flex-grow:1;width:calc(100% / 2)}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.network-trends-item[_ngcontent-%COMP%] + .network-trends-item[_ngcontent-%COMP%]{margin-left:5%}.board_head[_ngcontent-%COMP%]{padding:5px 10px 0;height:30px}.orange-text[_ngcontent-%COMP%]{color:#ff7f00}.ml20[_ngcontent-%COMP%]{margin-left:20px}.mt20[_ngcontent-%COMP%]{margin-top:20px}.top5-fullscreen[_ngcontent-%COMP%]{float:right}.board_body[_ngcontent-%COMP%]{padding:0!important}.chart-info[_ngcontent-%COMP%]{padding:0 10px!important}.ng-select.realtime-custom-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{color:#ff7f00!important;border:none!important;border-radius:0!important}.topEndPointUpChartXaxis[_ngcontent-%COMP%]:hover{cursor:pointer!important}.with-info[_ngcontent-%COMP%]{display:flex;align-items:center;padding-right:20px}.with-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:0}.with-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .with-select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}.with-select[_ngcontent-%COMP%]{display:flex;align-items:center}.deafult-select[_ngcontent-%COMP%]{border-radius:20px}.m-10[_ngcontent-%COMP%]{margin-bottom:10px}.highcharts-axis-line[_ngcontent-%COMP%]{display:none!important}@media only screen and (max-width: 500px){.discover-content[_ngcontent-%COMP%]{margin-left:0!important}}@media only screen and (min-width: 501px){.discover-content[_ngcontent-%COMP%]{margin-left:1.5rem!important}}.traffic-left-chart[_ngcontent-%COMP%]{width:45%}.traffic-right-chart[_ngcontent-%COMP%]{width:54%}@media screen and (max-width: 767px){.md-block[_ngcontent-%COMP%]{display:block!important}.board_body[_ngcontent-%COMP%]{height:-moz-fit-content!important;height:fit-content!important}}.expand-icon[_ngcontent-%COMP%]{background-color:#ebeaef;color:#ebeaef;width:25px;height:25px;border-radius:20px;font-size:1px;text-align:center;line-height:24px;font-weight:normal;justify-content:center;background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg);background-position:50%;background-repeat:no-repeat}@media screen and (min-width: 768px) and (max-width: 1140px){.md-block[_ngcontent-%COMP%]{display:block!important}.btns-con[_ngcontent-%COMP%]{text-align:left!important;margin-top:0!important;margin-bottom:20px!important}}.btn-expand[_ngcontent-%COMP%]{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.btn-expand[_ngcontent-%COMP%]:hover{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.btn-expand[_ngcontent-%COMP%]:focus{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:20px;max-width:500px!important}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:16px!important}  .p-datepicker{z-index:9999!important}.icon-round[_ngcontent-%COMP%]{width:32px;height:32px;background:#0279FF;border-radius:100%;text-align:center;line-height:26px}label.indcit[_ngcontent-%COMP%]{color:#e61a1a;margin:0 0 0 8px;position:relative;top:4px}label.indcit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px}label.indcit[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:-2px;margin-right:4px}.chart-sub-title[_ngcontent-%COMP%]{margin:15px 10px 0}.mw-190[_ngcontent-%COMP%]{min-width:190px}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.h-210[_ngcontent-%COMP%]{height:210px}#usage_criteria[_ngcontent-%COMP%]{min-width:200px}.form-check-inline[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer!important}"]}),t})()}];let xt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.Bz.forChild(bt)],o.Bz]}),t})();var Zt=i(25317),vt=i(48292),At=i(44466),Ct=i(47968);let Dt=(()=>{class t{constructor(t){this.streamService=t,this.streamService.getData()}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Ct.G))},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.ez,Z.u5,a.A0,xt,Zt.l,vt.m,P._8,At.m]]}),t})()}}]);