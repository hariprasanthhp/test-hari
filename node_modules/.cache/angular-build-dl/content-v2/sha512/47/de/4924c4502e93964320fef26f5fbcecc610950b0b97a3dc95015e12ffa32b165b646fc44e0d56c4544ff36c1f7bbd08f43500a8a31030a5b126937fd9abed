!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw r}}}}function a(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(i=n.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),n)}var i,o}function r(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[2146],{62146:function(a,n,o){o.r(n),o.d(n,{NetworkReportsModule:function(){return Ja}});var s=o(38583),l=o(39895),c=o(92340),p=o(16738),h=o(88002),g=o(5304),d=o(25917),u=o(9112),f=o(37716),m=o(30900),v=o(38048),b=o(82707),w=o(12664),y=o(49342),x=o(86922),T=o(51071),A=o(39075),S=o(94196),Z=o(91841),C=o(20904),D=o(20408),k=o(48483),M=o(86640),O=o(3679),_=o(11748),I=o(18638),U=o(74062),q=o(94555),N=o(11067),H=o(38432),J=o.n(H),R=o(35560);function E(e,t){if(1&e&&(f.TgZ(0,"div",2),f._uU(1),f.qZA()),2&e){var a=f.oxw();f.xp6(1),f.hij(" ",a.language["Access denied due to RBAC. Please consult your Organization Administrator for access."],"\n")}}function Y(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",11),f.TgZ(1,"span",12),f._UZ(2,"img",13),f.qZA(),f.TgZ(3,"button",14),f.NdJ("click",function(){return f.CHM(a),f.oxw(2).closeAlert()}),f._UZ(4,"span"),f.qZA(),f._UZ(5,"div",15),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(5),f.Q6J("innerHtml",n.errorInfo,f.oJD)}}function P(e,t){if(1&e&&(f.TgZ(0,"div",16),f.TgZ(1,"div",17),f.TgZ(2,"div",18),f.TgZ(3,"span",19),f._uU(4),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){var a=f.oxw(2);f.xp6(4),f.Oqu(a.language.Loading)}}function F(e,t){if(1&e&&(f.TgZ(0,"div",3),f.YNc(1,Y,6,1,"div",4),f.TgZ(2,"div",5),f.TgZ(3,"div",6),f.YNc(4,P,5,1,"div",7),f.TgZ(5,"div",8),f.TgZ(6,"div",9),f._UZ(7,"div",10),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){var a=f.oxw();f.xp6(1),f.Q6J("ngIf",a.error),f.xp6(3),f.Q6J("ngIf",a.loading),f.xp6(1),f.Q6J("ngClass",a.loading?"d-none":"d-block")}}var L=o(65424),Q=o(53363);L(N),Q(N),o(86295)(N),J()(N);var B=function(){var e=function(){function e(t,a,n,o,r){var s=this;i(this,e),this.customTranslateService=t,this.commonOrgService=a,this.service=n,this.options=o,this.sso=r,this.pageAvailable=!1,this.loading=!1,this.Highcharts=N,this.upUsage="",this.downUsage="",this.errorInfo="",this.renderOnce=!1,this.hasScopeAccess=!1,this.showTimeRange=!0,this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0,this.upUsage=this.language.upUsageTitle,this.downUsage=this.language.downUsageTitle),this.languageSubs=this.customTranslateService.selectedLanguage.subscribe(function(e){s.language=e,s.upUsage=e.upUsageTitle,s.downUsage=e.downUsageTitle,s.renderOnce&&s.renderChart()})}return r(e,[{key:"ngOnInit",value:function(){var e=this.sso.getScopes();if(c.N.VALIDATE_SCOPE&&window.location.pathname.indexOf("/cco/traffic/")>-1){var t=Object.keys(e);if(t)for(var a=0;a<t.length;a++)if(-1!==t[a].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.closeAlert()}},{key:"ngOnDestroy",value:function(){this.subscribe&&this.subscribe.unsubscribe(),this.languageSubs&&this.languageSubs.unsubscribe()}},{key:"loadChartData",value:function(e){var t=this;this.options.btnDisabled=!0,this.error=!1,this.filters=e,this.loading=!0,this.trafficChartOptions=null,this.trafficRateOtions=null,this.subscribe=this.service.getTraffic(e).subscribe(function(a){t.data=a,t.options.btnDisabled=!1,t.trafficChartOptions="usage"==e.criteriaSelected?t.options.makeOptionsForNWTraffic(a,e):t.options.makeOptionsForLineChart(a,e),document.getElementById("container")&&t.Highcharts.chart("container",t.trafficChartOptions),t.loading=!1,t.options.btnDisabled=!1,t.renderOnce=!0},function(a){t.options.btnDisabled=!1,t.loading=!1,t.trafficChartOptions="usage"==e.criteriaSelected?t.options.makeOptionsForNWTraffic([],e):t.options.makeOptionsForLineChart([],e),document.getElementById("container")&&t.Highcharts.chart("container",t.trafficChartOptions),t.pageErrorHandle(a),t.options.btnDisabled=!1,t.renderOnce=!0})}},{key:"renderChart",value:function(){this.trafficChartOptions=null,this.trafficChartOptions="usage"==this.filters.criteriaSelected?this.options.makeOptionsForNWTraffic(this.data,this.filters):this.options.makeOptionsForLineChart(this.data,this.filters),document.getElementById("container")&&this.Highcharts.chart("container",this.trafficChartOptions)}},{key:"pageErrorHandle",value:function(e){401==e.status?this.errorInfo=this.language["Access Denied"]:(this.errorInfo=this.commonOrgService.pageErrorHandle(e),this.errorInfo.includes("endTime must be greater than startTime")&&(this.errorInfo="Start time should be earlier than end time")),this.showError(this.errorInfo),this.loading=!1}},{key:"closeAlert",value:function(){this.error=!1}},{key:"showError",value:function(e){this.closeAlert(),this.errorInfo=e,this.error=!0,$("html, body").animate({scrollTop:0},"slow")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Y36(m.d),f.Y36(y.v),f.Y36(R.w),f.Y36(x.h),f.Y36(v.t6))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-traffic"]],decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","col-md-12 mt-4 px-0",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12","mt-4","px-0"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"",2,"height","auto"],["id","fa-chart-wrapper",1,"fa-chart-wrapper","chart-min-h"],["class","loader",4,"ngIf"],[1,"chart-sec",3,"ngClass"],[1,"fa-chart-container","mt-5"],["id","container",1,"cco-traffic-reports-container"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){1&e&&(f.YNc(0,E,2,1,"div",0),f.YNc(1,F,8,3,"div",1)),2&e&&(f.Q6J("ngIf",!t.hasScopeAccess),f.xp6(1),f.Q6J("ngIf",t.pageAvailable&&t.hasScopeAccess))},directives:[s.O5,s.mk],styles:[".export_menu[_ngcontent-%COMP%]   image[_ngcontent-%COMP%]{transform:translate(2px)}"]}),e}();function j(e,t){1&e&&(f.TgZ(0,"div",2),f._uU(1," Access denied due to RBAC. Please consult your Organization Administrator for access.\n"),f.qZA())}function z(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",18),f.TgZ(1,"span",19),f._UZ(2,"img",20),f.qZA(),f.TgZ(3,"button",21),f.NdJ("click",function(){return f.CHM(a),f.oxw(2).closeAlert()}),f._UZ(4,"span"),f.qZA(),f._UZ(5,"div",22),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(5),f.Q6J("innerHtml",n.errorInfo,f.oJD)}}function G(e,t){if(1&e&&(f.TgZ(0,"div",23),f.TgZ(1,"div",24),f.TgZ(2,"div",25),f.TgZ(3,"span",26),f._uU(4),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){var a=f.oxw(2);f.xp6(4),f.Oqu(a.language.Loading)}}var V=function(e){return{height:e}};function W(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",3),f.YNc(1,z,6,1,"div",4),f.TgZ(2,"div",5),f.TgZ(3,"div",6),f.TgZ(4,"div",7),f.TgZ(5,"div",8),f.TgZ(6,"button",9),f.TgZ(7,"p",10),f._uU(8),f.qZA(),f.qZA(),f.TgZ(9,"div",11),f.TgZ(10,"button",12),f.NdJ("click",function(){return f.CHM(a),f.oxw().changeChartType("bar")}),f.TgZ(11,"span"),f._uU(12),f.qZA(),f.qZA(),f.TgZ(13,"button",12),f.NdJ("click",function(){return f.CHM(a),f.oxw().changeChartType("pie")}),f.TgZ(14,"span"),f._uU(15),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(16,"div",13),f.YNc(17,G,5,1,"div",14),f.TgZ(18,"div",15),f.TgZ(19,"div",16),f._UZ(20,"div",17),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&e){var n=f.oxw();f.xp6(1),f.Q6J("ngIf",n.error),f.xp6(7),f.hij(" ",n.language.chartType," "),f.xp6(4),f.Oqu(n.language.bar),f.xp6(3),f.Oqu(n.language.pie),f.xp6(2),f.Q6J("ngIf",n.loading),f.xp6(1),f.Q6J("ngClass",n.loading?"d-none":"d-block"),f.xp6(2),f.Q6J("ngStyle",f.VKq(7,V,n.chartHeight))}}var K=o(65424),X=o(53363);K(N),X(N),o(86295)(N);var ee=function(){var e=function(){function e(t,a,n,o,r){var s=this;i(this,e),this.customTranslateService=t,this.commonOrgService=a,this.service=n,this.options=o,this.sso=r,this.pageAvailable=!1,this.loading=!1,this.Highcharts=N,this.upUsage="",this.downUsage="",this.errorInfo="",this.chartHeight="600px",this.height=500,this.renderOnce=!1,this.hasScopeAccess=!1,this.isUUID=!1,this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0,this.upUsage=this.language.upUsageTitle,this.downUsage=this.language.downUsageTitle),this.languageSubs=this.customTranslateService.selectedLanguage.subscribe(function(e){s.language=e,s.upUsage=e.upUsageTitle,s.downUsage=e.downUsageTitle,s.renderOnce&&s.renderChart()}),this.chartType="bar"}return r(e,[{key:"ngOnInit",value:function(){var e=this.sso.getScopes();if(c.N.VALIDATE_SCOPE&&window.location.pathname.indexOf("/cco/traffic/")>-1){var t=Object.keys(e);if(t)for(var a=0;a<t.length;a++)if(-1!==t[a].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.closeAlert()}},{key:"ngOnDestroy",value:function(){this.subscribe&&this.subscribe.unsubscribe(),this.languageSubs&&this.languageSubs.unsubscribe()}},{key:"loadChartData",value:function(e){var t=this;this.error=!1,this.options.btnDisabled=!0,e.groupBy="application",this.topAppsPieChartOptions=null,this.topAppsChartOptions=null,this.filters=e,this.loading=!0,this.height=500,this.chartHeight=this.height.toString()+"px",this.subscribe=this.service.TopApplication(e,"top-applications").subscribe(function(a){if(t.data=a,"bar"!==t.chartType)for(var n=20;n<t.data.length;n++)if(!t.data[n].name){t.isUUID=!0;break}for(var i=20;i<t.data.length;i++)t.height=t.height+(t.isUUID?100:200),i+=9;t.chartHeight=t.height.toString()+"px",setTimeout(function(){"bar"==t.chartType?(t.topAppsChartOptions=t.options.makeOptionsForApplications(a,t.chartType,e),document.getElementById("container")&&t.Highcharts.chart("container",t.topAppsChartOptions)):(t.topAppsPieChartOptions=t.options.makeOptionsForApplications(a,t.chartType,e),t.topAppsPieChartOptions.exporting.chartOptions={plotOptions:{pie:{size:"45%"}},chart:{height:t.height+(t.data.length>10?150:0)},legend:{navigation:{enabled:!1}}},document.getElementById("container")&&t.Highcharts.chart("container",t.topAppsPieChartOptions)),t.loading=!1,t.options.btnDisabled=!1,t.renderOnce=!0},1500)},function(a){"bar"==t.chartType?(t.topAppsChartOptions=t.options.makeOptionsForApplications([],t.chartType,e),document.getElementById("container")&&t.Highcharts.chart("container",t.topAppsChartOptions)):(t.topAppsPieChartOptions=t.options.makeOptionsForApplications([],t.chartType,e),document.getElementById("container")&&t.Highcharts.chart("container",t.topAppsPieChartOptions)),t.options.btnDisabled=!1,t.renderOnce=!0,t.pageErrorHandle(a)})}},{key:"renderChart",value:function(){this.topAppsChartOptions=null,"bar"==this.chartType?(this.topAppsChartOptions=this.options.makeOptionsForApplications(this.data,this.chartType,this.filters),document.getElementById("container")&&this.Highcharts.chart("container",this.topAppsChartOptions)):(this.topAppsPieChartOptions=this.options.makeOptionsForApplications(this.data,this.chartType,this.filters),this.topAppsPieChartOptions.exporting.chartOptions={plotOptions:{pie:{size:"45%"}},chart:{height:this.height+(this.data.length>10?150:0)},legend:{navigation:{enabled:!1}}},document.getElementById("container")&&this.Highcharts.chart("container",this.topAppsPieChartOptions))}},{key:"changeChartType",value:function(e){var t=this;if((this.topAppsChartOptions||this.topAppsPieChartOptions)&&(this.loading=!0),"pie"==e){this.height=500;for(var a=20;a<this.data.length;a++)this.height=this.height+(this.isUUID?100:200),a+=9;this.chartHeight=this.height.toString()+"px"}else{if(!this.topAppsChartOptions){this.height=500;for(var n=20;n<this.data.length;n++)this.height=this.height+200,n+=9}this.chartHeight=this.height.toString()+"px"}this.error=!1,this.chartType=e,(this.topAppsChartOptions||this.topAppsPieChartOptions)&&setTimeout(function(){t.topAppsChartOptions=null,t.topAppsPieChartOptions=null,"bar"==t.chartType?(t.topAppsChartOptions=t.options.makeOptionsForApplications(t.data,t.chartType,t.filters),document.getElementById("container")&&t.Highcharts.chart("container",t.topAppsChartOptions)):(t.topAppsPieChartOptions=t.options.makeOptionsForApplications(t.data,t.chartType,t.filters),t.topAppsPieChartOptions.exporting.chartOptions={plotOptions:{pie:{size:"45%"}},chart:{height:t.height+(t.data.length>10?150:0)},legend:{navigation:{enabled:!1}}},document.getElementById("container")&&t.Highcharts.chart("container",t.topAppsPieChartOptions)),t.loading=!1},2e3)}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.showError(this.errorInfo),this.loading=!1}},{key:"closeAlert",value:function(){this.error=!1}},{key:"showError",value:function(e){this.closeAlert(),this.errorInfo=e,this.error=!0,$("html, body").animate({scrollTop:0},"slow")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Y36(m.d),f.Y36(y.v),f.Y36(R.w),f.Y36(x.h),f.Y36(v.t6))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-top-applications"]],decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","col-md-12 mt-4",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12","mt-4"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"",2,"height","auto"],[1,"row","justify-content-end","mb-2"],[1,"col-md-3","px-0","text-right"],["ngbDropdown","",1,"cus-dd","dropdown-button","custom-dropdown","float-right"],["id","dropdownExchange","ngbDropdownToggle","",1,"float-right"],[1,"listdata","mb0"],["ngbDropdownMenu","","aria-labelledby","dropdownExchange","id","supportListId"],["ngbDropdownItem","",1,"greyaa",3,"click"],["id","fa-chart-wrapper",1,"fa-chart-wrapper","chart-min-h"],["class","loader",4,"ngIf"],[1,"chart-sec",3,"ngClass"],[1,"fa-chart-container","mt-5"],["id","container",3,"ngStyle"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){1&e&&(f.YNc(0,j,2,0,"div",0),f.YNc(1,W,21,9,"div",1)),2&e&&(f.Q6J("ngIf",!t.hasScopeAccess),f.xp6(1),f.Q6J("ngIf",t.pageAvailable&&t.hasScopeAccess))},directives:[s.O5,w.jt,w.iD,w.Vi,w.TH,s.mk,s.PC],styles:[".export_menu[_ngcontent-%COMP%]   image[_ngcontent-%COMP%]{transform:translate(2px)}.cus-dd.dropdown-button.show[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{width:140px;top:10px!important;left:0px!important;border-radius:15px;z-index:5!important;padding-top:5px;box-shadow:0 5px 15px #00000021;border:0;padding-bottom:5px}.cus-dd[_ngcontent-%COMP%]   .listdata[_ngcontent-%COMP%]{background:#f8f8fa;box-shadow:3px 3px 5px #ccc;width:-moz-fit-content;width:fit-content;padding:4px 25px;border-radius:10px}.dropdown-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important;display:block;border:0;background:transparent;position:relative}"]}),e}();function te(e,t){if(1&e&&(f.TgZ(0,"div",2),f._uU(1),f.qZA()),2&e){var a=f.oxw();f.xp6(1),f.hij(" ",a.language["Access denied due to RBAC. Please consult your Organization Administrator for access."],"\n")}}function ae(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",11),f.TgZ(1,"span",12),f._UZ(2,"img",13),f.qZA(),f.TgZ(3,"button",14),f.NdJ("click",function(){return f.CHM(a),f.oxw(2).closeAlert()}),f._UZ(4,"span"),f.qZA(),f._UZ(5,"div",15),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(5),f.Q6J("innerHtml",n.errorInfo,f.oJD)}}function ne(e,t){if(1&e&&(f.TgZ(0,"div",16),f.TgZ(1,"div",17),f.TgZ(2,"div",18),f.TgZ(3,"span",19),f._uU(4),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){var a=f.oxw(2);f.xp6(4),f.Oqu(a.language.Loading)}}var ie=function(e){return{height:e}};function oe(e,t){if(1&e&&(f.TgZ(0,"div",3),f.YNc(1,ae,6,1,"div",4),f.TgZ(2,"div",5),f.TgZ(3,"div",6),f.YNc(4,ne,5,1,"div",7),f.TgZ(5,"div",8),f.TgZ(6,"div",9),f._UZ(7,"div",10),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){var a=f.oxw();f.xp6(1),f.Q6J("ngIf",a.error),f.xp6(3),f.Q6J("ngIf",a.loading),f.xp6(1),f.Q6J("ngClass",a.loading?"d-none":"d-block"),f.xp6(2),f.Q6J("ngStyle",f.VKq(4,ie,a.chartHeight))}}var re=o(65424),se=o(53363);re(N),se(N),o(86295)(N);var le=function(){var e=function(){function e(t,a,n,o,r){var s=this;i(this,e),this.customTranslateService=t,this.commonOrgService=a,this.service=n,this.options=o,this.sso=r,this.pageAvailable=!1,this.loading=!1,this.Highcharts=N,this.updateFlag=!1,this.upUsage="",this.downUsage="",this.errorInfo="",this.chartHeight="600px",this.height=500,this.renderOnce=!1,this.hasScopeAccess=!1,this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0,this.upUsage=this.language.upUsageTitle,this.downUsage=this.language.downUsageTitle),this.languageSubs=this.customTranslateService.selectedLanguage.subscribe(function(e){s.language=e,s.upUsage=e.upUsageTitle,s.downUsage=e.downUsageTitle,s.renderOnce&&s.renderChart()})}return r(e,[{key:"ngOnInit",value:function(){var e=this.sso.getScopes();if(c.N.VALIDATE_SCOPE&&window.location.pathname.indexOf("/cco/traffic/")>-1){var t=Object.keys(e);if(t)for(var a=0;a<t.length;a++)if(-1!==t[a].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.closeAlert()}},{key:"ngOnDestroy",value:function(){this.subscribe&&this.subscribe.unsubscribe(),this.languageSubs&&this.languageSubs.unsubscribe()}},{key:"loadChartData",value:function(e){var t=this;this.error=!1,this.options.btnDisabled=!0,this.filters=e,e.groupBy="location",this.chartOptions=null,this.loading=!0,this.height=500,this.chartHeight=this.height.toString()+"px",this.subscribe=this.service.getTopLocations(e).subscribe(function(a){t.data=a;for(var n=20;n<t.data.length;n++)t.height=t.height+200,n+=10;t.chartHeight=t.height.toString()+"px",setTimeout(function(){t.chartOptions=t.options.makeOptionsForLocations(a,"bar",e),document.getElementById("top-locations-container")&&t.Highcharts.chart("top-locations-container",t.chartOptions),t.loading=!1,t.options.btnDisabled=!1,t.renderOnce=!0},1500)},function(a){t.chartOptions=t.options.makeOptionsForLocations([],"bar",e),document.getElementById("top-locations-container")&&t.Highcharts.chart("top-locations-container",t.chartOptions),t.pageErrorHandle(a),t.options.btnDisabled=!1,t.renderOnce=!0})}},{key:"renderChart",value:function(){this.chartOptions=null,this.chartOptions=this.options.makeOptionsForLocations(this.data,"bar",this.filters),document.getElementById("top-locations-container")&&this.Highcharts.chart("top-locations-container",this.chartOptions)}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.showError(this.errorInfo),this.loading=!1}},{key:"closeAlert",value:function(){this.error=!1}},{key:"showError",value:function(e){this.closeAlert(),this.errorInfo=e,this.error=!0,$("html, body").animate({scrollTop:0},"slow")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Y36(m.d),f.Y36(y.v),f.Y36(R.w),f.Y36(x.h),f.Y36(v.t6))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-top-locations"]],decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","col-md-12 mt-4",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12","mt-4"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"",2,"height","auto"],["id","fa-chart-wrapper",1,"fa-chart-wrapper","chart-min-h"],["class","loader",4,"ngIf"],[1,"chart-sec",3,"ngClass"],[1,"fa-chart-container","mt-5"],["id","top-locations-container",3,"ngStyle"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){1&e&&(f.YNc(0,te,2,1,"div",0),f.YNc(1,oe,8,6,"div",1)),2&e&&(f.Q6J("ngIf",!t.hasScopeAccess),f.xp6(1),f.Q6J("ngIf",t.pageAvailable&&t.hasScopeAccess))},directives:[s.O5,s.mk,s.PC],styles:[""]}),e}(),ce=o(26877);function pe(e,t){1&e&&(f.TgZ(0,"div",2),f._uU(1," Access denied due to RBAC. Please consult your Organization Administrator for access.\n"),f.qZA())}function he(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",11),f.TgZ(1,"span",12),f._UZ(2,"img",13),f.qZA(),f.TgZ(3,"button",14),f.NdJ("click",function(){return f.CHM(a),f.oxw(2).closeAlert()}),f._UZ(4,"span"),f.qZA(),f._UZ(5,"div",15),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(5),f.Q6J("innerHtml",n.errorInfo,f.oJD)}}function ge(e,t){if(1&e&&(f.TgZ(0,"div",16),f.TgZ(1,"div",17),f.TgZ(2,"div",18),f.TgZ(3,"span",19),f._uU(4),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){var a=f.oxw(2);f.xp6(4),f.Oqu(a.language.Loading)}}var de=function(e){return{height:e}};function ue(e,t){if(1&e&&(f.TgZ(0,"div",3),f.YNc(1,he,6,1,"div",4),f.TgZ(2,"div",5),f.TgZ(3,"div",6),f.YNc(4,ge,5,1,"div",7),f.TgZ(5,"div",8),f.TgZ(6,"div",9),f._UZ(7,"div",10),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){var a=f.oxw();f.xp6(1),f.Q6J("ngIf",a.error),f.xp6(3),f.Q6J("ngIf",a.loading),f.xp6(1),f.Q6J("ngClass",a.loading?"d-none":"d-block"),f.xp6(2),f.Q6J("ngStyle",f.VKq(4,de,a.chartHeight))}}var fe=o(65424),me=o(53363);fe(N),me(N),o(86295)(N);var ve=function(){var e=function(){function e(t,a,n,o,r){var s=this;i(this,e),this.customTranslateService=t,this.commonOrgService=a,this.networkService=n,this.chartOptionService=o,this.sso=r,this.pageAvailable=!1,this.loading=!1,this.Highcharts=N,this.upUsage="",this.downUsage="",this.errorInfo="",this.chartHeight="600px",this.height=500,this.renderOnce=!1,this.hasScopeAccess=!1,this.isUUID=!1,this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0,this.upUsage=this.language.upUsageTitle,this.downUsage=this.language.downUsageTitle),this.languageSubs=this.customTranslateService.selectedLanguage.subscribe(function(e){s.language=e,s.upUsage=e.upUsageTitle,s.downUsage=e.downUsageTitle,s.renderOnce&&s.renderChart()}),window.sessionStorage.getItem("traffic_TopSub_Endpoint_filters")&&window.sessionStorage.removeItem("traffic_TopSub_Endpoint_filters")}return r(e,[{key:"ngOnInit",value:function(){var e=this.sso.getScopes();if(c.N.VALIDATE_SCOPE&&window.location.pathname.indexOf("/cco/traffic/")>-1){var t=Object.keys(e);if(t)for(var a=0;a<t.length;a++)if(-1!==t[a].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.closeAlert()}},{key:"ngOnDestroy",value:function(){this.subscribe&&this.subscribe.unsubscribe(),this.languageSubs&&this.languageSubs.unsubscribe()}},{key:"loadChartData",value:function(e){var t=this;this.error=!1,this.chartOptionService.btnDisabled=!0,e.From="Network",this.filters=e,this.loading=!0,this.tobSubChartOptions=null,this.height=500,this.chartHeight=this.height.toString()+"px",this.subscribe=this.networkService.getTopSubdata(e,"network").subscribe(function(a){t.data=a,"true"!=sessionStorage.getItem("showSensitiveInfo")&&t.data&&t.data.forEach(function(e){return e.name=(0,ce.C)(e.name)});for(var n=0;n<t.data.length;n++)if(!t.data[n].name){t.isUUID=!0;break}for(var i=20;i<t.data.length;i++)t.height=t.height+200,i+=10;t.chartHeight=t.height.toString()+"px",setTimeout(function(){if(t.tobSubChartOptions=t.chartOptionService.topSub_ChartOptions(a,e),t.isUUID){for(var n=50,i=12;i<t.data.length;i++)n+=100,i+=5;t.tobSubChartOptions.exporting.chartOptions={chart:{height:t.height+n}}}document.getElementById("container")&&t.Highcharts.chart("container",t.tobSubChartOptions),t.loading=!1,t.chartOptionService.btnDisabled=!1,t.renderOnce=!0},1500)},function(a){t.tobSubChartOptions=t.chartOptionService.topSub_ChartOptions([],e),document.getElementById("container")&&t.Highcharts.chart("container",t.tobSubChartOptions),t.pageErrorHandle(a),t.chartOptionService.btnDisabled=!1,t.renderOnce=!0})}},{key:"renderChart",value:function(){this.tobSubChartOptions=null,this.tobSubChartOptions=this.chartOptionService.topSub_ChartOptions(this.data,this.filters),document.getElementById("container")&&this.Highcharts.chart("container",this.tobSubChartOptions)}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.showError(this.errorInfo),this.loading=!1}},{key:"closeAlert",value:function(){this.error=!1}},{key:"showError",value:function(e){this.closeAlert(),this.errorInfo=e,this.error=!0,$("html, body").animate({scrollTop:0},"slow")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Y36(m.d),f.Y36(y.v),f.Y36(R.w),f.Y36(x.h),f.Y36(v.t6))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-top-subscribers"]],decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","col-md-12 mt-4",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12","mt-4"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"",2,"height","auto"],["id","fa-chart-wrapper",1,"fa-chart-wrapper","chart-min-h"],["class","loader",4,"ngIf"],[1,"chart-sec",3,"ngClass"],[1,"fa-chart-container","mt-5"],["id","container",3,"ngStyle"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){1&e&&(f.YNc(0,pe,2,0,"div",0),f.YNc(1,ue,8,6,"div",1)),2&e&&(f.Q6J("ngIf",!t.hasScopeAccess),f.xp6(1),f.Q6J("ngIf",t.pageAvailable&&t.hasScopeAccess))},directives:[s.O5,s.mk,s.PC],styles:[""]}),e}(),be=o(23771),we=o(79765),ye=o(72163),xe=o(46481),Te=o.n(xe),Ae=o(404),Se=o(13149);function Ze(e,t){1&e&&(f.TgZ(0,"div",2),f._uU(1," Access denied due to RBAC. Please consult your Organization Administrator for access.\n"),f.qZA())}function Ce(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",12),f.TgZ(1,"span",13),f._UZ(2,"img",14),f.qZA(),f.TgZ(3,"button",15),f.NdJ("click",function(){return f.CHM(a),f.oxw(2).closeAlert()}),f._UZ(4,"span"),f.qZA(),f._UZ(5,"div",16),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(5),f.Q6J("innerHtml",n.errorInfo,f.oJD)}}function De(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",17),f.TgZ(1,"div",18),f.TgZ(2,"div",19),f.TgZ(3,"button",20),f.TgZ(4,"p",21),f._UZ(5,"i",22),f._uU(6),f.qZA(),f.qZA(),f.TgZ(7,"div",23),f.TgZ(8,"button",24),f.TgZ(9,"span",25),f.NdJ("click",function(){return f.CHM(a),f.oxw(2).downloadPdf()}),f._uU(10),f.qZA(),f.qZA(),f.TgZ(11,"button",24),f.TgZ(12,"span",25),f.NdJ("click",function(){return f.CHM(a),f.oxw(2).downloadCSV()}),f._uU(13),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(6),f.hij("",n.language.export," "),f.xp6(4),f.Oqu(n.language.exportPdf),f.xp6(3),f.Oqu(n.language.exportCsv)}}function ke(e,t){if(1&e&&(f.TgZ(0,"span"),f._uU(1),f.ALo(2,"date"),f.qZA()),2&e){var a=f.oxw(3);f.xp6(1),f.Oqu(f.xi3(2,1,a.startEndDates.start,"MM/dd/yyyy"))}}function Me(e,t){if(1&e&&(f.TgZ(0,"span"),f._uU(1),f.ALo(2,"date"),f.qZA()),2&e){var a=f.oxw(3);f.xp6(1),f.Oqu(f.xi3(2,1,a.startEndDates.end,"MM/dd/yyyy"))}}function Oe(e,t){if(1&e&&(f.TgZ(0,"div",26),f.TgZ(1,"p",27),f._uU(2),f.qZA(),f.TgZ(3,"p",28),f._uU(4),f.qZA(),f.TgZ(5,"p",29),f._uU(6),f.YNc(7,ke,3,4,"span",30),f._uU(8),f.YNc(9,Me,3,4,"span",30),f._uU(10),f.qZA(),f.qZA()),2&e){var a=f.oxw(2);f.xp6(2),f.hij(" ",a.language.powerUsersTitle," "),f.xp6(2),f.gL8(" ",a.language.direction,": ",a.filters.directionSelected?a.language[a.filters.directionSelected]:""," \xa0 ",a.language.bandwidth,": ",a.filters.peakRateFrom>=0?a.filters.peakRateFrom:""," Mbps ",a.language.to," ",a.filters.peakRateFrom>=0?a.filters.peakRateTo:""," Mbps"),f.xp6(2),f.hij(" ",a.language.timeWindow,": "),f.xp6(1),f.Q6J("ngIf",a.startEndDates&&(null==a.startEndDates?null:a.startEndDates.start)),f.xp6(1),f.hij(" ",a.language.to," "),f.xp6(1),f.Q6J("ngIf",a.startEndDates&&(null==a.startEndDates?null:a.startEndDates.end)),f.xp6(1),f.hij(" [",a.timezoneName,"] ")}}function _e(e,t){if(1&e&&(f.TgZ(0,"div",31),f.TgZ(1,"div",32),f.TgZ(2,"div",33),f.TgZ(3,"span",34),f._uU(4),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){var a=f.oxw(2);f.xp6(4),f.Oqu(a.language.Loading)}}function Ie(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",35),f.TgZ(1,"div",36),f.TgZ(2,"div",37),f.TgZ(3,"div",38),f._UZ(4,"div",39),f.TgZ(5,"div",40),f.TgZ(6,"div",41),f.TgZ(7,"input",42),f.NdJ("keyup",function(e){return f.CHM(a),f.oxw(2).search(e.target.value)})("search",function(e){return f.CHM(a),f.oxw(2).search(e.target.value)}),f.qZA(),f.TgZ(8,"button",43),f._UZ(9,"i",44),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(7),f.s9C("placeholder",n.language.searchAdmins)}}function Ue(e,t){if(1&e&&(f.TgZ(0,"tr",50),f.TgZ(1,"td"),f._uU(2),f.qZA(),f.TgZ(3,"td"),f._uU(4),f.qZA(),f.TgZ(5,"td"),f._uU(6),f.qZA(),f.qZA()),2&e){var a=t.$implicit,n=f.oxw(4);f.s9C("id",a._id),f.xp6(2),f.Oqu(a.name?a.name:""),f.xp6(2),f.Oqu(a.maxBps?n.convertBytes(a.maxBps):""),f.xp6(2),f.Oqu(a.hitCount?a.hitCount:"")}}function qe(e,t){if(1&e&&(f.TgZ(0,"tbody"),f.YNc(1,Ue,7,4,"tr",49),f.qZA()),2&e){var a=f.oxw(3);f.xp6(1),f.Q6J("ngForOf",a.tableData)}}function Ne(e,t){if(1&e&&(f.TgZ(0,"div",45),f.TgZ(1,"div",46),f.TgZ(2,"table",47),f.TgZ(3,"thead",48),f.TgZ(4,"tr"),f.TgZ(5,"th"),f._uU(6),f.qZA(),f.TgZ(7,"th"),f._uU(8),f.qZA(),f.TgZ(9,"th"),f._uU(10),f.qZA(),f.qZA(),f.qZA(),f.YNc(11,qe,2,1,"tbody",30),f.qZA(),f.qZA(),f.qZA()),2&e){var a=f.oxw(2);f.xp6(2),f.Q6J("hidden",!a.dataAvailable)("dtOptions",a.dtOptions)("dtTrigger",a.dtTrigger),f.xp6(4),f.Oqu(a.language.Subscriber),f.xp6(2),f.hij("",a.language.maxRate,"(Mbps)"),f.xp6(2),f.Oqu(a.language.hitCount),f.xp6(1),f.Q6J("ngIf",0!=(null==a.tableData?null:a.tableData.length))}}function He(e,t){if(1&e&&(f.TgZ(0,"div",3),f.YNc(1,Ce,6,1,"div",4),f.TgZ(2,"div",5),f.YNc(3,De,14,3,"div",6),f.YNc(4,Oe,11,12,"div",7),f.TgZ(5,"div",8),f.YNc(6,_e,5,1,"div",9),f.YNc(7,Ie,10,1,"div",10),f.YNc(8,Ne,12,7,"div",11),f.qZA(),f.qZA(),f.qZA()),2&e){var a=f.oxw();f.xp6(1),f.Q6J("ngIf",a.error),f.xp6(2),f.Q6J("ngIf",a.dataAvailable),f.xp6(1),f.Q6J("ngIf",a.runClicked),f.xp6(2),f.Q6J("ngIf",a.loading),f.xp6(1),f.Q6J("ngIf",0),f.xp6(1),f.Q6J("ngIf",a.pageAvailable)}}var Je=function(){var e=function(){function e(t,a,n,o,r,s,l){var c=this;i(this,e),this.customTranslateService=t,this.commonOrgService=a,this.sso=n,this.commonFunctionsService=o,this.exportExcel=r,this.service=s,this.options=l,this.pageAvailable=!1,this.loading=!1,this.errorInfo="",this.tableData=[],this.filterCount=0,this.dtOptions={},this.dtTrigger=new we.xQ,this.url="",this.emptyData={Subscriber:"","Max Rate(bps)":"","Hit Count":""},this.startEndDates={},this.hasScopeAccess=!1,this.timezoneName="Coordinated Universal Time",this.ORG_ID=this.sso.getOrgId(),this.language=this.customTranslateService.defualtLanguage,this.frTable=this.customTranslateService.fr,this.esTable=this.customTranslateService.es,this.language&&(this.pageAvailable=!0),this.languageSubs=this.customTranslateService.selectedLanguage.subscribe(function(e){c.language=e,setTimeout(function(){c.renderedOnce&&c.renderTable(!0)},500)})}return r(e,[{key:"ngOnInit",value:function(){var e=this.sso.getScopes();if(c.N.VALIDATE_SCOPE&&window.location.pathname.indexOf("/cco/traffic/")>-1){var t=Object.keys(e);if(t)for(var a=0;a<t.length;a++)if(-1!==t[a].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.renderedOnce=!1,this.dtOptions={pagingType:"full_numbers",pageLength:20,lengthChange:!1,processing:!1,dom:"tipr",order:[]},this.closeAlert(),this.tableLanguageOptions(),this.columnDefs=[{headerName:this.language.Subscriber,field:"name"},{headerName:this.language.maxRate+"(bps)",field:"maxBps"},{headerName:this.language.hitCount,field:"hitCount"}]}},{key:"ngOnDestroy",value:function(){this.subscribe&&this.subscribe.unsubscribe(),this.languageSubs&&this.languageSubs.unsubscribe()}},{key:"loadChartData",value:function(e){this.error=!1,this.filters=e,this.runClicked=!0,this.loading=!0,this.options.btnDisabled=!0,this.runClicked=!0;var t=e.periodSelected?parseInt(e.periodSelected):-1;this.startEndDates=this.service.getDatePrevMonth(t),this.getData(!1)}},{key:"getData",value:function(e){var t=this;this.timezoneName=/\((.*)\)/.exec((new Date).toString())[1],this.subscribe=this.service.getPowerUsers(this.filters).subscribe(function(a){t.tableData=a||[],t.exportData=t.tableData&&t.tableData.length?t.tableData.slice(0):[],t.renderTable(e),t.options.btnDisabled=!1},function(a){t.tableData=[],t.exportData=[],t.renderTable(e),t.pageErrorHandle(a),t.options.btnDisabled=!1})}},{key:"renderTable",value:function(e){var t=this;this.tableLanguageOptions(),e||this.renderedOnce?(this.rerender(),this.dataAvailable=!0,setTimeout(function(){t.loading=!1},1e3)):(this.dtTrigger.next(),this.renderedOnce=!0,this.dataAvailable=!0,setTimeout(function(){t.loading=!1},1e3))}},{key:"rerender",value:function(){var e=this;this.dtElement.dtInstance.then(function(t){t.destroy(),e.dtTrigger.next()})}},{key:"search",value:function(e){this.dtElement.dtInstance.then(function(t){t.search(e).draw()})}},{key:"tableLanguageOptions",value:function(){"fr"==this.language.fileLanguage?this.dtOptions.language=this.frTable:"es"==this.language.fileLanguage?this.dtOptions.language=this.esTable:"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.customTranslateService.de_DE:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}},{key:"downloadCSV",value:function(){this.doCSVDownload()}},{key:"doCSVDownload",value:function(){var e=new s.uU("en-US"),t=this.exportDataConvertor(this.exportData),a=new Date,n=new Date(a.getFullYear(),a.getMonth(),0),i="Power Users\r\nDirection : ".concat(this.filters.directionSelected,"\r\n").concat(this.language.Bandwidth,"   : ").concat(this.filters.peakRateFrom?this.filters.peakRateFrom:""," Mbps to ").concat(this.filters.peakRateTo?this.filters.peakRateTo:""," Mbps\r\n").concat(this.language.time_win,": ").concat(e.transform(this.startEndDates.start,"MM/dd/yyyy")," - ").concat(e.transform(n,"MM/dd/yyyy")," [").concat(this.timezoneName,"]\r\n");this.exportExcel.downLoadCSV("Power_Users",t.length?t:[Object.assign({},this.emptyData)],i)}},{key:"downloadPdf",value:function(){this.doPDFDownload()}},{key:"doPDFDownload",value:function(){var e=this,t=this.exportData,a=[],n=this.columnDefs.map(function(e){return e.headerName});t.forEach(function(t){var n=[];e.columnDefs.forEach(function(e){n.push(t[e.field]?t[e.field]:"")}),a.push(n)});var i=new ye.default,o=i.internal.pageSize.width||i.internal.pageSize.getWidth();i.text("Power Users",o/2-20,10),i.setFontSize(10),(document.getElementById("criteriaTextLine1")||document.getElementById("criteriaTextLine2"))&&(i.text(document.getElementById("criteriaTextLine1").innerText,o/2-40,20),i.text(document.getElementById("criteriaTextLine2").innerText,o/2-50,25)),Te()(i,{margin:{top:5,right:5,bottom:5,left:5},startY:30,showHead:"everyPage",pageBreak:"auto",theme:"striped",head:[n],body:a}),i.save("Power_Users.pdf")}},{key:"exportDataConvertor",value:function(e){var t=Array.isArray(e),a=[];return t&&e.forEach(function(e){a.push({Subscriber:e.name?e.name:"","Max Rate(bps)":e.maxBps?e.maxBps:"","Hit Count":e.hitCount?e.hitCount:""})}),a}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.showError(this.errorInfo),this.loading=!1}},{key:"closeAlert",value:function(){this.error=!1}},{key:"showError",value:function(e){this.closeAlert(),this.errorInfo=e,this.error=!0,$("html, body").animate({scrollTop:0},"slow")}},{key:"convertBytes",value:function(e){return(e/1e6).toFixed(2)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Y36(m.d),f.Y36(y.v),f.Y36(v.t6),f.Y36(Ae.i),f.Y36(Se.O),f.Y36(R.w),f.Y36(x.h))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-power-users"]],viewQuery:function(e,t){var a;(1&e&&f.Gf(be.G,5),2&e)&&(f.iGM(a=f.CRH())&&(t.dtElement=a.first))},decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","col-md-12 mt-4",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12","mt-4"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"h-auto"],["class","row justify-content-end ",4,"ngIf"],["class","text-margin-30",4,"ngIf"],["id","fa-chart-wrapper",1,"fa-chart-wrapper","chart-min-h"],["class","loader",4,"ngIf"],["class","row my-3",4,"ngIf"],["class","row my-3 min-height-65",4,"ngIf"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"row","justify-content-end"],[1,"col-md-3","px-0","text-right"],["placement","bottom-right","ngbDropdown","",1,"cus-dd","dropdown-button","float-right"],["id","dropdownExchange","ngbDropdownToggle","",1,"float-right"],[1,"listdata","bar-label","mb0"],[1,"fa","fa-bars","mr-2"],["ngbDropdownMenu","","aria-labelledby","dropdownExchange","id","supportListId"],["ngbDropdownItem","",1,"greyaa"],[3,"click"],[1,"text-margin-30"],[1,"chart-main-title"],["id","criteriaTextLine1",1,"hc-chart-subtitle"],["id","criteriaTextLine2",1,"hc-chart-subtitle"],[4,"ngIf"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"row","my-3"],[1,"col-md-6","offset-md-6"],[1,"text-right","flat-right"],[1,"row"],[1,"col-md-4"],[1,"col-md-8"],[1,"ccl-form"],["type","search","name","searchbox",1,"input-sm",3,"placeholder","keyup","search"],[1,"serach-but","btn-default","primary","btn-icon-md","inline"],["aria-hidden","true",1,"fa","fa-search"],[1,"row","my-3","min-height-65"],[1,"col"],["id","power-users-table","width","100%","datatable","",1,"row-border","hover","table-alter",3,"hidden","dtOptions","dtTrigger"],[1,""],["class","testing",3,"id",4,"ngFor","ngForOf"],[1,"testing",3,"id"]],template:function(e,t){1&e&&(f.YNc(0,Ze,2,0,"div",0),f.YNc(1,He,9,6,"div",1)),2&e&&(f.Q6J("ngIf",!t.hasScopeAccess),f.xp6(1),f.Q6J("ngIf",t.pageAvailable&&t.hasScopeAccess))},directives:[s.O5,w.jt,w.iD,w.Vi,w.TH,be.G,s.sg],pipes:[s.uU],styles:['.export_menu[_ngcontent-%COMP%]   image[_ngcontent-%COMP%]{transform:translate(2px)}.cus-dd.dropdown-button.show[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{width:auto;min-width:74.59px;top:-1px!important;left:-8px!important;border-radius:0!important;z-index:5!important;margin:0;padding:5px 0;box-shadow:#888 3px 3px 10px;border:1px solid #999999;background:white}.cus-dd.dropdown-button.show[_ngcontent-%COMP%]   .listdata[_ngcontent-%COMP%]{font-weight:bold;color:#000;background-color:#e6ebf5}.cus-dd.dropdown-button.show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px!important;line-height:15px;font-size:11px!important}.cus-dd.dropdown-button.show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background:#335cad}.cus-dd[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none!important}.cus-dd[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{width:auto!important}.cus-dd[_ngcontent-%COMP%]   .listdata[_ngcontent-%COMP%]{padding:0 8px 4px 4px;border-radius:0}.cus-dd[_ngcontent-%COMP%]   .listdata[_ngcontent-%COMP%]:hover{background-color:#e6e6e6}.bar-label[_ngcontent-%COMP%]{font-size:12px;font-family:"Lucida Grande","Lucida Sans Unicode",Arial,Helvetica,sans-serif;color:#333}.bar-label[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:18px;color:#666;margin-bottom:2px}.text-margin-30[_ngcontent-%COMP%]{text-align:center;margin-top:30px}.chart-main-title[_ngcontent-%COMP%]{font-family:"Source Sans Pro",sans-serif;font-size:18px;color:#333;line-height:1.1640625}.hc-chart-subtitle[_ngcontent-%COMP%], .hc-chart-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato;color:#000;font-size:12px;line-height:1.1640625}.min-height-65[_ngcontent-%COMP%]{min-height:65vh}']}),e}(),Re=o(84549),Ee=o(67009),Ye=o(6581),Pe=o(92330),Fe=o(74747),Le=o(83880),Qe=o(49457),Be=o(91704);function je(e,t){1&e&&(f.TgZ(0,"div",2),f._uU(1," Access denied due to RBAC. Please consult your Organization Administrator for access.\n"),f.qZA())}function ze(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",13),f.TgZ(1,"span",14),f._UZ(2,"img",15),f.qZA(),f.TgZ(3,"button",16),f.NdJ("click",function(){return f.CHM(a),f.oxw(2).closeAlert()}),f._UZ(4,"span"),f.qZA(),f._UZ(5,"div",17),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(5),f.Q6J("innerHtml",n.errorInfo,f.oJD)}}function Ge(e,t){if(1&e&&(f.TgZ(0,"div",18),f.TgZ(1,"div",19),f.TgZ(2,"div",20),f.TgZ(3,"span",21),f._uU(4),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){var a=f.oxw(2);f.xp6(4),f.Oqu(a.language.Loading)}}var Ve=function(){return{height:"450px"}};function We(e,t){if(1&e&&(f.TgZ(0,"div",3),f.YNc(1,ze,6,1,"div",4),f.TgZ(2,"div",5),f.TgZ(3,"div",6),f.YNc(4,Ge,5,1,"div",7),f.TgZ(5,"div",8),f.TgZ(6,"div",9),f.TgZ(7,"div",10),f._UZ(8,"div",11),f.qZA(),f.TgZ(9,"div",10),f._UZ(10,"div",12),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){var a=f.oxw();f.xp6(1),f.Q6J("ngIf",a.error),f.xp6(3),f.Q6J("ngIf",a.loading),f.xp6(1),f.Q6J("ngClass",a.loading?"d-none":"d-block"),f.xp6(3),f.Q6J("ngStyle",f.DdM(4,Ve))}}var Ke,$e=o(65424),Xe=o(53363);$e(N),Xe(N),o(86295)(N),(Ke=N).exportCharts=function(e,t){(t=Ke.merge(Ke.getOptions().exporting,t)).url=c.N.highchartExportURL,Ke.post(t.url,{filename:t.filename||"Network-Top-Application-Traffic",type:t.type,scale:1.9,svg:Ke.getSVG(e)})},Ke.getSVG=function(e){var t=[],a=0,n=0;return e.forEach(function(e){var i=e.chartWidth,o=e.chartHeight;e.setSize(i,o+(100*e.legend.pages.length|0)),e.options.legend.navigation.enabled=!1;var r=e.getSVG(),s=+r.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1],l=+r.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1];r=(r=r.replace("<svg",'<g transform="translate(0,'+a+')" ')).replace("</svg>","</g>"),a+=l,n=Math.max(n,s),t.push(r),e.options.legend.navigation.enabled=!0,e.setSize(i,o)}),'<svg height="'+a+'" width="'+n+'" version="1.1" xmlns="http://www.w3.org/2000/svg">'+t.join("")+"</svg>"};var et=function(){var e=function(){function e(t,a,n,o,r,s){var l=this;i(this,e),this.router=t,this.customTranslateService=a,this.service=n,this.commonOrgService=o,this.sso=r,this.options=s,this.errorInfo="",this.pageAvailable=!1,this.loading=!1,this.Highcharts=N,this.upUsage="",this.downUsage="",this.renderOnce=!1,this.hasScopeAccess=!1,this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0,this.upUsage=this.language.upUsageTitle,this.downUsage=this.language.downUsageTitle),this.customTranslateService.selectedLanguage.subscribe(function(e){l.language=e,l.upUsage=e.upUsageTitle,l.downUsage=e.downUsageTitle,l.renderOnce&&l.renderChart()})}return r(e,[{key:"ngOnInit",value:function(){var e=this.sso.getScopes();if(c.N.VALIDATE_SCOPE&&window.location.pathname.indexOf("/cco/traffic/")>-1){var t=Object.keys(e);if(t)for(var a=0;a<t.length;a++)if(-1!==t[a].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0}},{key:"loadChartData",value:function(e){var t,a,n=this;this.error=!1,e.groupBy="application",this.filters=e,this.loading=!0,this.options.btnDisabled=!0,this.subscribe=this.service.getAppTraffic(e).subscribe(function(i){n.data=i,"Average"==e.rateSelected?(t=n.makeAreaChartOptions(n.getData(i,"usRate"),"usRate","Up",e),a=n.makeAreaChartOptions(n.getData(i,"dsRate"),"dsRate","Down",e)):(e.rateSelected="Max",t=n.makeAreaChartOptions(n.getData(i,"peakUsRate"),"peakUsRate","Up",e),a=n.makeAreaChartOptions(n.getData(i,"peakDsRate"),"peakDsRate","Down",e)),document.getElementById("container-up")&&document.getElementById("container-up")&&(n.upChart=n.Highcharts.chart("container-up",t),n.downChart=n.Highcharts.chart("container-down",a)),n.loading=!1,n.options.btnDisabled=!1,n.renderOnce=!0},function(e){n.pageErrorHandle(e),n.options.btnDisabled=!1})}},{key:"renderChart",value:function(){var e,t;"Average"==this.filters.rateSelected?(e=this.makeAreaChartOptions(this.getData(this.data,"usRate"),"usRate","Up",this.filters),t=this.makeAreaChartOptions(this.getData(this.data,"dsRate"),"dsRate","Down",this.filters)):(this.filters.rateSelected="Max",e=this.makeAreaChartOptions(this.getData(this.data,"peakUsRate"),"peakUsRate","Up",this.filters),t=this.makeAreaChartOptions(this.getData(this.data,"peakDsRate"),"peakDsRate","Down",this.filters)),document.getElementById("container-up")&&document.getElementById("container-up")&&(this.upChart=this.Highcharts.chart("container-up",e),this.downChart=this.Highcharts.chart("container-down",t))}},{key:"makeAreaChartOptions",value:function(e,t,a,n){var i=this,o=this,r=new s.uU("en-US"),l=/\((.*)\)/.exec((new Date).toString())[1],h='<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">Rate: '.concat("Max"===n.rateSelected?this.language.Peak:this.language.Average,'</span><span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ').concat(this.language.time_win,": ").concat(r.transform(n.startDate,"MM/dd/yyyy")," to ").concat(r.transform(n.endDate,"MM/dd/yyyy")," [").concat(l,']</span><span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">').concat(this.language.limit,": ").concat(n.limit,'</span><span style="font-size:16px; color:#ffffff">...</span>'),g=[];e.length&&e.forEach(function(e){-1===e[t]&&(e[t]=0),e.name||(e.name=e.key),e.name&&-1===g.indexOf(e.name)&&g.push(e.name)});var d=[],u=[];Be.each(g,function(a,n){var o={};o.name=n,o.data=[],Be.each(e,function(e,a){a.name||(a.name=a.key),a.name===n&&(o.key=a.key,o.data.push(a[t]),u.push(i.options.getDateTime(a.startPeriodSec,!0,"MM/dd HH:mm")))}),d.push(o)});var f=d.length>0?""==this.language[a]?a:this.language[a]:"";0==d.length&&(d=[{name:a+" Rate",data:[]}]);var m,v=this.topApplicationTrafficColors(),b={credits:{enabled:!1},time:{useUTC:!1},chart:{type:"area",zoomType:"xy"},title:{text:"Down"===a?"":this.language["Network Top Application Traffic"]},subtitle:{text:"Down"===a?"":h},xAxis:{categories:u,labels:{formatter:function(){return this.value.length>23?this.value.substring(0,19)+"...":this.value},isFunction:!0},tickInterval:(m=Math.floor(u.length/g.length),m<=10?1:m>10&&m<20?2:Math.floor(m/8)?Math.floor(m/8):1)},yAxis:{labels:{formatter:function(){var e=this,t=e.axis.series[0].dataMax,a=t>1e12?[1e12,"Tbps"]:t>1e9?[1e9,"Gbps"]:t>1e6?[1e6,"Mbps"]:t>1e3?[1e3,"Kbps"]:[1,"bps"];return(e.value/a[0]).toFixed(1)+(e.isFirst?" "+a[1]:"")}},title:{text:f},stackLabels:{enabled:!1,style:{fontWeight:"bold"}},tickPixelInterval:55},tooltip:{formatter:function(){var e=o.topApplicationTrafficTooltip(this.y)[0];return"<p><strong>"+this.series.name+"</strong><br/><strong>"+this.x+"</strong><br/><span>"+n.rateSelected+" "+a+" Rate: <strong>"+(this.y/e).toFixed(2)+" "+o.topApplicationTrafficTooltip(this.y)[1]+"</strong><br/></span></p>"}},lang:{noData:this.language["No Data Available"]},plotOptions:{area:{stacking:"normal",lineColor:"#ffffff",lineWidth:1,marker:{lineWidth:1,lineColor:"#ffffff"}},series:{cursor:"pointer",point:{events:{click:function(){var e=[];e.push(d[this.series.index].key);var t=n.locationsSelected?n.locationsSelected:[],a={startDate:p(n.startDate).format("YYYY-MM-DD"),endDate:p(n.endDate).format("YYYY-MM-DD"),criteria:"rate",applicationsSelected:e,locationsSelected:t,typeSelected:"traffic",isApplicationGroup:"no"},i="/cco/traffic/applications/reports";window.location.pathname.indexOf("/cco/traffic/")>-1||(i=o.router.url.indexOf("/".concat(c.N.SYS_ADMIN_ROUTE,"/"))>-1?"/systemAdministration/flowAnalyze/traffic/application/reports":"/organization-admin/flowAnalyze/traffic/application/reports"),o.router.navigate([i],{queryParams:a})}}}}},series:d,legend:{align:"center",verticalAlign:"bottom",x:0,y:0,lineHeight:10},interactive:!0,datetimeSupported:!0,treemapSupported:!0,colors:v};return b.exporting="Down"!==a?{filename:"Network_Top_Application_Traffic",buttons:{contextButton:{menuItems:[{textKey:"downloadPDF",text:this.language.exportPDF,onclick:function(){o.exportTrafficChart()}},{textKey:"downloadCSV",text:this.language.exportCsv,onclick:function(){var t,a=[],i=[];t="Network Top Application Traffic\r\nRate: ".concat("Max"==n.rateSelected?"Peak":n.rateSelected,"\r\nTime Window: ").concat(r.transform(n.startDate,"MM/dd/yyyy")," - ").concat(r.transform(n.endDate,"MM/dd/yyyy")," [").concat(l,"]\r\nLimit: ").concat(n.limit,"\r\nUpstream Traffic\r\n");for(var s=0;s<e.length;s++)e[s].name&&a.push({"Date Time":o.options.getDateTime(e[s].startPeriodSec,!0,"MM/dd HH:mm"),Name:e[s].name?e[s].name:"Other","Usage(Byte)":e[s].usOctets&&-1!==e[s].usOctets?e[s].usOctets:0,"Max Up Rate(bps)":e[s].peakUsRate&&-1!==e[s].peakUsRate?e[s].peakUsRate:0,"Average Up Rate(bps)":e[s].usRate&&-1!==e[s].usRate?e[s].usRate:0});for(s=0;s<e.length;s++)e[s].name&&i.push({"Date Time":o.options.getDateTime(e[s].startPeriodSec,!0,"MM/dd HH:mm"),Name:e[s].name?e[s].name:"Other","Usage(Byte)":e[s].dsOctets&&-1!==e[s].dsOctets?e[s].dsOctets:0,"Max Down Rate(bps)":e[s].peakDsRate&&-1!==e[s].peakDsRate?e[s].peakDsRate:0,"Average Down Rate(bps)":e[s].dsRate&&-1!==e[s].dsRate?e[s].dsRate:0});o.downLoadCSV("Network_Top_Application_Traffic",a,i,t,"\r\nDownstream Traffic\r\n")}}],text:o.language.export,className:"export_menu"}}}:{enabled:!1},b}},{key:"topApplicationTrafficTooltip",value:function(e){return e>1e12?[1e12,"Tbps"]:e>1e9?[1e9,"Gbps"]:e>1e6?[1e6,"Mbps"]:e>1e3?[1e3,"Kbps"]:[1,"bps"]}},{key:"topApplicationTrafficColors",value:function(){return["#E87B00","#44367D","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"]}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.closeAlert(),this.error=!0,this.loading=!1,Be("html, body").animate({scrollTop:0},"slow")}},{key:"closeAlert",value:function(){this.error=!1}},{key:"showError",value:function(e){this.closeAlert(),this.errorInfo=e,this.error=!0}},{key:"exportTrafficChart",value:function(){N.exportCharts([this.upChart,this.downChart],{type:"application/pdf"})}},{key:"ngOnDestroy",value:function(){this.subscribe&&this.subscribe.unsubscribe()}},{key:"getSize",value:function(e){var t,a=0;for(t in e)e.hasOwnProperty(t)&&a++;return a}},{key:"downLoadCSV",value:function(e,a,n,i,o){var r,s=a,l=[],c=0,p=0,h=0,g=t(s);try{for(g.s();!(r=g.n()).done;){var d=r.value,u=this.getSize(d);u>c&&(c=u,p=h),h++}}catch(T){g.e(T)}finally{g.f()}for(var f in s[p])-1===l.indexOf(f)&&l.push(f);var m=[];for(var v in n[p])-1===m.indexOf(v)&&m.push(v);var b=e+".csv",w=this.ConvertToCSV(s,l),y=this.ConvertToCSV(n,m),x=new Blob([i+w+o+y],{type:"text/csv;charset=utf-8"});(0,Qe.saveAs)(x,b)}},{key:"ConvertToCSV",value:function(e,t){var a="object"!=typeof e?JSON.parse(e):e,n="",i="";for(var o in t)i+=t[o]+",";n+=(i=i.slice(0,-1))+"\r\n";for(var r=0;r<a.length;r++){var s="";for(var l in t){var c=t[l];s+='"'+(null!=a[r][c]?a[r][c]:"")+'",'}n+=s+"\r\n"}return n}},{key:"getData",value:function(e,t){return Array.isArray(e)&&e.length>0&&e.some(function(e){return e[t]>0})?e:[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Y36(l.F0),f.Y36(m.d),f.Y36(R.w),f.Y36(y.v),f.Y36(v.t6),f.Y36(x.h))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-top-application-traffic"]],decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","col-md-12 mt-4",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12","mt-4"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"",2,"height","auto"],["id","fa-chart-wrapper",1,"fa-chart-wrapper","chart-min-h"],["class","loader",4,"ngIf"],[1,"chart-sec",3,"ngClass"],[1,"fa-chart-container","mt-5"],[1,"fa-chart-container"],["id","container-up",3,"ngStyle"],["id","container-down"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){1&e&&(f.YNc(0,je,2,0,"div",0),f.YNc(1,We,11,5,"div",1)),2&e&&(f.Q6J("ngIf",!t.hasScopeAccess),f.xp6(1),f.Q6J("ngIf",t.pageAvailable&&t.hasScopeAccess))},directives:[s.O5,s.mk,s.PC],styles:[""]}),e}();function tt(e,t){1&e&&(f.TgZ(0,"div",2),f._uU(1," Access denied due to RBAC. Please consult your Organization Administrator for access.\n"),f.qZA())}function at(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",13),f.TgZ(1,"span",14),f._UZ(2,"img",15),f.qZA(),f.TgZ(3,"button",16),f.NdJ("click",function(){return f.CHM(a),f.oxw(2).closeAlert()}),f._UZ(4,"span"),f.qZA(),f._UZ(5,"div",17),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(5),f.Q6J("innerHtml",n.errorInfo,f.oJD)}}function nt(e,t){if(1&e&&(f.TgZ(0,"div",18),f.TgZ(1,"div",19),f.TgZ(2,"div",20),f.TgZ(3,"span",21),f._uU(4),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){var a=f.oxw(2);f.xp6(4),f.Oqu(a.language.Loading)}}var it=function(){return{height:"450px"}};function ot(e,t){if(1&e&&(f.TgZ(0,"div",3),f.YNc(1,at,6,1,"div",4),f.TgZ(2,"div",5),f.TgZ(3,"div",6),f.YNc(4,nt,5,1,"div",7),f.TgZ(5,"div",8),f.TgZ(6,"div",9),f.TgZ(7,"div",10),f._UZ(8,"div",11),f.qZA(),f.TgZ(9,"div",10),f._UZ(10,"div",12),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){var a=f.oxw();f.xp6(1),f.Q6J("ngIf",a.error),f.xp6(3),f.Q6J("ngIf",a.loading),f.xp6(1),f.Q6J("ngClass",a.loading?"d-none":"d-block"),f.xp6(3),f.Q6J("ngStyle",f.DdM(4,it))}}var rt=o(65424),st=o(53363);rt(N),st(N),o(86295)(N),function(e){e.exportCharts=function(t,a){(a=e.merge(e.getOptions().exporting,a)).url=c.N.highchartExportURL,e.post(a.url,{filename:a.filename||"Network-Top-Application-Traffic",type:a.type,scale:1.9,svg:e.getSVG(t)})},e.getSVG=function(e){var t=[],a=0,n=0;return e.forEach(function(e){var i=e.chartWidth,o=e.chartHeight;e.setSize(i,o+(100*e.legend.pages.length|0)),e.options.legend.navigation.enabled=!1;var r=e.getSVG(),s=+r.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1],l=+r.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1];r=(r=r.replace("<svg",'<g transform="translate(0,'+a+')" ')).replace("</svg>","</g>"),a+=l,n=Math.max(n,s),t.push(r),e.options.legend.navigation.enabled=!0,e.setSize(i,o)}),'<svg height="'+a+'" width="'+n+'" version="1.1" xmlns="http://www.w3.org/2000/svg">'+t.join("")+"</svg>"}}(N);var lt=function(){var e=function(){function e(t,a,n,o,r,s){var l=this;i(this,e),this.router=t,this.customTranslateService=a,this.service=n,this.commonOrgService=o,this.sso=r,this.options=s,this.errorInfo="",this.pageAvailable=!1,this.loading=!1,this.Highcharts=N,this.upUsage="",this.downUsage="",this.renderOnce=!1,this.hasScopeAccess=!1,this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0,this.upUsage=this.language.upUsageTitle,this.downUsage=this.language.downUsageTitle),this.customTranslateService.selectedLanguage.subscribe(function(e){l.language=e,l.upUsage=e.upUsageTitle,l.downUsage=e.downUsageTitle,l.renderOnce&&l.renderChart()})}return r(e,[{key:"ngOnInit",value:function(){var e=this.sso.getScopes();if(c.N.VALIDATE_SCOPE){var t=Object.keys(e);if(t)for(var a=0;a<t.length;a++)if(-1!==t[a].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0}},{key:"loadChartData",value:function(e){var t,a,n=this;this.error=!1,e.groupBy="application",this.filters=e,this.loading=!0,this.options.btnDisabled=!0,this.subscribe=this.service.getAppTraffic(e).subscribe(function(i){n.data=i,"Average"==e.rateSelected?(t=n.makeAreaChartOptions(i,"usRate","Up",e),a=n.makeAreaChartOptions(i,"dsRate","Down",e)):(e.rateSelected="Max",t=n.makeAreaChartOptions(i,"peakUsRate","Up",e),a=n.makeAreaChartOptions(i,"peakDsRate","Down",e)),document.getElementById("container-up")&&document.getElementById("container-up")&&(n.upChart=n.Highcharts.chart("container-up",t),n.downChart=n.Highcharts.chart("container-down",a)),n.loading=!1,n.options.btnDisabled=!1,n.renderOnce=!0},function(e){n.pageErrorHandle(e),n.options.btnDisabled=!1})}},{key:"renderChart",value:function(){var e,t;"Average"==this.filters.rateSelected?(e=this.makeAreaChartOptions(this.data,"usRate","Up",this.filters),t=this.makeAreaChartOptions(this.data,"dsRate","Down",this.filters)):(this.filters.rateSelected="Max",e=this.makeAreaChartOptions(this.data,"peakUsRate","Up",this.filters),t=this.makeAreaChartOptions(this.data,"peakDsRate","Down",this.filters)),document.getElementById("container-up")&&document.getElementById("container-up")&&(this.upChart=this.Highcharts.chart("container-up",e),this.downChart=this.Highcharts.chart("container-down",t))}},{key:"makeAreaChartOptions",value:function(e,t,a,n){var i=this,o=this,r=new s.uU("en-US"),l=/\((.*)\)/.exec((new Date).toString())[1],h='<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">Rate: '.concat("Max"===n.rateSelected?this.language.Peak:this.language.Average,'</span><span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ').concat(this.language.time_win,": ").concat(r.transform(n.startDate,"MM/dd/yyyy")," to ").concat(r.transform(n.endDate,"MM/dd/yyyy")," [").concat(l,']</span><span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">').concat(this.language.limit,": ").concat(n.limit,'</span><span style="font-size:16px; color:#ffffff">...</span>'),g=[];e.length&&e.forEach(function(e){-1===e[t]&&(e[t]=0),e.name||(e.name=e.key),e.name&&-1===g.indexOf(e.name)&&g.push(e.name)});var d=[],u=[];Be.each(g,function(a,n){var o={};o.name=n,o.data=[],Be.each(e,function(e,a){a.name||(a.name=a.key),a.name===n&&(o.key=a.key,o.data.push(a[t]),u.push(i.options.getDateTime(a.startPeriodSec,!0,"MM/dd HH:mm")))}),d.push(o)});var f=d.length>0?""==this.language[a]?a:this.language[a]:"";0==d.length&&(d=[{name:a+" Rate",data:[]}]);var m,v=this.topApplicationTrafficColors(),b={credits:{enabled:!1},time:{useUTC:!1},chart:{type:"area",zoomType:"xy"},title:{text:"Down"===a?"":this.language["Network Top Application Traffic"]},subtitle:{text:"Down"===a?"":h},xAxis:{categories:u,labels:{formatter:function(){return this.value.length>23?this.value.substring(0,19)+"...":this.value},isFunction:!0},tickInterval:(m=Math.floor(u.length/g.length),m<=10?1:m>10&&m<20?2:Math.floor(m/8)?Math.floor(m/8):1)},yAxis:{labels:{formatter:function(){var e=this,t=e.axis.series[0].dataMax,a=t>1e12?[1e12,"Tbps"]:t>1e9?[1e9,"Gbps"]:t>1e6?[1e6,"Mbps"]:t>1e3?[1e3,"Kbps"]:[1,"bps"];return(e.value/a[0]).toFixed(1)+(e.isFirst?" "+a[1]:"")}},title:{text:f},stackLabels:{enabled:!1,style:{fontWeight:"bold"}},tickPixelInterval:55},tooltip:{formatter:function(){var e=o.topApplicationTrafficTooltip(this.y)[0];return"<p><strong>"+this.series.name+"</strong><br/><strong>"+this.x+"</strong><br/><span>"+n.rateSelected+" "+a+" Rate: <strong>"+(this.y/e).toFixed(2)+" "+o.topApplicationTrafficTooltip(this.y)[1]+"</strong><br/></span></p>"}},lang:{noData:this.language["No Data Available"]},plotOptions:{area:{stacking:"normal",lineColor:"#ffffff",lineWidth:1,marker:{lineWidth:1,lineColor:"#ffffff"}},series:{cursor:"pointer",point:{events:{click:function(){var e=[];e.push(d[this.series.index].key);var t=n.locationsSelected?n.locationsSelected:[],a={startDate:p(n.startDate).format("YYYY-MM-DD"),endDate:p(n.endDate).format("YYYY-MM-DD"),criteria:"rate",applicationsSelected:e,locationsSelected:t,typeSelected:"traffic",isApplicationGroup:"no"},i="/cco/traffic/applications/reports";window.location.pathname.indexOf("/cco/traffic/")>-1||(i=this.router.url.indexOf("/".concat(c.N.SYS_ADMIN_ROUTE,"/"))>-1?"/systemAdministration/flowAnalyze/traffic/application/reports":"/organization-admin/flowAnalyze/traffic/application/reports"),o.router.navigate([i],{queryParams:a})}}}}},series:d,legend:{align:"center",verticalAlign:"bottom",x:0,y:0,lineHeight:10},interactive:!0,datetimeSupported:!0,treemapSupported:!0,colors:v};return b.exporting="Down"!==a?{filename:"Network_Top_Application_Traffic",buttons:{contextButton:{menuItems:[{textKey:"downloadPDF",text:"Export PDF",onclick:function(){o.exportTrafficChart()}},{textKey:"downloadCSV",text:this.language.exportCsv,onclick:function(){var t,a=[],i=[];t="Top Application Traffic\r\n Rate: ".concat("Max"==n.rateSelected?"Peak":n.rateSelected,"\r\nTime Window: ").concat(r.transform(n.startDate,"MM/dd/yyyy")," - ").concat(r.transform(n.endDate,"MM/dd/yyyy")," [").concat(l,"]\r\nLimit: ").concat(n.limit,"\r\nUpStream Traffic\r\n");for(var s=0;s<e.length;s++)e[s].name&&a.push({"Date Time":o.options.getDateTime(e[s].startPeriodSec,!0,"MM/dd HH:mm"),Name:e[s].name?e[s].name:"Other","Usage(Byte)":e[s].usOctets?e[s].usOctets:0,"Max Up Rate(bps)":e[s].peakUsRate?e[s].peakUsRate:0,"Average Up Rate(bps)":e[s].usRate?e[s].usRate:0});for(s=0;s<e.length;s++)e[s].name&&i.push({"Date Time":o.options.getDateTime(e[s].startPeriodSec,!0,"MM/dd HH:mm"),Name:e[s].name?e[s].name:"Other","Usage(Byte)":e[s].dsOctets?e[s].dsOctets:0,"Max Down Rate(bps)":e[s].peakDsRate?e[s].peakDsRate:0,"Average Down Rate(bps)":e[s].dsRate?e[s].dsRate:0});o.downLoadCSV("Network_Top_Application_Traffic",a,i,t,"\r\nDownStream Traffic\r\n")}}],text:o.language.export,className:"export_menu"}}}:{enabled:!1},b}},{key:"topApplicationTrafficTooltip",value:function(e){return e>1e12?[1e12,"Tbps"]:e>1e9?[1e9,"Gbps"]:e>1e6?[1e6,"Mbps"]:e>1e3?[1e3,"Kbps"]:[1,"bps"]}},{key:"topApplicationTrafficColors",value:function(){return["#E87B00","#44367D","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"]}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.closeAlert(),this.error=!0,this.loading=!1,Be("html, body").animate({scrollTop:0},"slow")}},{key:"closeAlert",value:function(){this.error=!1}},{key:"showError",value:function(e){this.closeAlert(),this.errorInfo=e,this.error=!0}},{key:"exportTrafficChart",value:function(){N.exportCharts([this.upChart,this.downChart],{type:"application/pdf"})}},{key:"ngOnDestroy",value:function(){this.subscribe&&this.subscribe.unsubscribe()}},{key:"getSize",value:function(e){var t,a=0;for(t in e)e.hasOwnProperty(t)&&a++;return a}},{key:"downLoadCSV",value:function(e,a,n,i,o){var r,s=a,l=[],c=0,p=0,h=0,g=t(s);try{for(g.s();!(r=g.n()).done;){var d=r.value,u=this.getSize(d);u>c&&(c=u,p=h),h++}}catch(y){g.e(y)}finally{g.f()}for(var f in s[p])-1===l.indexOf(f)&&l.push(f);var m=e+".csv",v=this.ConvertToCSV(s,l),b=this.ConvertToCSV(n,l),w=new Blob([i+v+o+b],{type:"text/csv;charset=utf-8"});(0,Qe.saveAs)(w,m)}},{key:"ConvertToCSV",value:function(e,t){var a="object"!=typeof e?JSON.parse(e):e,n="",i="";for(var o in t)i+=t[o]+",";n+=(i=i.slice(0,-1))+"\r\n";for(var r=0;r<a.length;r++){var s="";for(var l in t){var c=t[l];s+='"'+(null!=a[r][c]?a[r][c]:"")+'",'}n+=s+"\r\n"}return n}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Y36(l.F0),f.Y36(m.d),f.Y36(R.w),f.Y36(y.v),f.Y36(v.t6),f.Y36(x.h))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-application-traffic"]],decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","col-md-12 mt-4",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12","mt-4"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"",2,"height","auto"],["id","fa-chart-wrapper",1,"fa-chart-wrapper","chart-min-h"],["class","loader",4,"ngIf"],[1,"chart-sec",3,"ngClass"],[1,"fa-chart-container","mt-5"],[1,"fa-chart-container"],["id","container-up",3,"ngStyle"],["id","container-down"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){1&e&&(f.YNc(0,tt,2,0,"div",0),f.YNc(1,ot,11,5,"div",1)),2&e&&(f.Q6J("ngIf",!t.hasScopeAccess),f.xp6(1),f.Q6J("ngIf",t.pageAvailable&&t.hasScopeAccess))},directives:[s.O5,s.mk,s.PC],styles:[""]}),e}(),ct=["TrafficComponent"],pt=["TopApplicationsComponent"],ht=["TopLocationsComponent"],gt=["TopSubscribersComponent"],dt=["PowerUsersComponent"],ut=["TopApplicationTrafficComponent"],ft=["ApplicationTrafficComponent"],mt=["SubscriberDistributionComponent"],vt=["MonthlyUsageByserviceCategoryComponent"],bt=["MonthlyUsageByapplicationComponent"],wt=["MaxDailyRateComponent"],yt=["AverageSubscriberRateComponent"],xt=["ActiveSubscribersComponent"],Tt=["showInfoModal"],At=["scheduleReportModal"];function St(e,t){if(1&e&&(f.TgZ(0,"div",3),f.TgZ(1,"div",4),f.TgZ(2,"div",5),f.TgZ(3,"span",6),f._uU(4),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){var a=f.oxw();f.xp6(4),f.Oqu(a.language.Loading)}}function Zt(e,t){if(1&e&&f._uU(0),2&e){var a=t.item,n=f.oxw(2);f.hij(" ",n.language[a.name]||a.name," ")}}function Ct(e,t){if(1&e&&f._uU(0),2&e){var a=t.item,n=f.oxw(2);f.hij(" ",n.language[a.name]||a.name," ")}}function Dt(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",52),f.NdJ("click",function(){f.CHM(a),f.oxw();var e=f.MAs(4);f.oxw();var t=f.MAs(4);return f.oxw(2).clearSearch(e,t)}),f._UZ(1,"img",53),f.qZA()}}function kt(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",46),f.TgZ(1,"div",47),f._UZ(2,"img",48),f.qZA(),f.TgZ(3,"input",49,50),f.NdJ("input",function(e){return f.CHM(a),f.oxw(),f.MAs(4).filter(e.target.value)})("ngModelChange",function(e){return f.CHM(a),f.oxw(3).searchInputText=e}),f.qZA(),f.YNc(5,Dt,2,0,"div",51),f.qZA()}if(2&e){var n=f.MAs(4),i=f.oxw(3);f.xp6(3),f.s9C("placeholder",i.language.Search),f.Q6J("ngModel",i.searchInputText),f.xp6(2),f.Q6J("ngIf",n.value)}}function Mt(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",55),f.TgZ(1,"input",56),f.NdJ("click",function(e){return f.CHM(a),f.oxw(4).selectAllApplication(e)}),f.qZA(),f.TgZ(2,"label",57),f._uU(3),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(4);f.xp6(1),f.Q6J("indeterminate",(null==n.applicationsSelected?null:n.applicationsSelected.length)>0&&(null==n.applicationsSelected?null:n.applicationsSelected.length)<(null==n.applications?null:n.applications.length))("checked",(null==n.applicationsSelected?null:n.applicationsSelected.length)===(null==n.applications?null:n.applications.length)),f.xp6(2),f.AsE("",n.language.All," (",null==n.applications?null:n.applications.length,")")}}function Ot(e,t){if(1&e&&f.YNc(0,Mt,4,4,"div",54),2&e){var a=f.oxw(3);f.Q6J("ngIf","all"==a.searchInputText.toLowerCase()||""==a.searchInputText)}}function _t(e,t){if(1&e&&(f.TgZ(0,"div",58),f._UZ(1,"input",59),f.TgZ(2,"span",60),f._uU(3),f.qZA(),f.qZA()),2&e){var a=t.item,n=t.item$,i=t.index,o=f.oxw(3);f.xp6(1),f.MGl("id","item-",i,""),f.Q6J("indeterminate",o.getIndeterminateGroup(n))("ngModel",n.selected),f.xp6(1),f.s9C("title",a.groupName),f.xp6(1),f.Oqu(a.groupName)}}function It(e,t){if(1&e&&(f.TgZ(0,"div",61),f._UZ(1,"input",62),f.TgZ(2,"span",60),f._uU(3),f.qZA(),f.qZA()),2&e){var a=t.item,n=t.item$,i=t.index;f.xp6(1),f.MGl("id","item-",i,""),f.Q6J("ngModel",n.selected),f.xp6(1),f.s9C("title",a.label),f.xp6(1),f.Oqu(a.label)}}function Ut(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",67),f.TgZ(1,"span",68),f.NdJ("click",function(){return f.CHM(a),f.oxw(4).dropDownAppItemsClear(!1)})("click",function(){return f.CHM(a),f.oxw(4).applicationsSelected=[]}),f._uU(2,"x"),f.qZA(),f.TgZ(3,"span",69),f._uU(4),f.qZA(),f.qZA()}if(2&e){var n=f.oxw().items;f.xp6(4),f.Oqu(n[0].label)}}function qt(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",70),f.TgZ(1,"span",68),f.NdJ("click",function(){return f.CHM(a),f.oxw(4).dropDownAppItemsClear(!1)})("click",function(){return f.CHM(a),f.oxw(4).applicationsSelected=[]}),f._uU(2,"x"),f.qZA(),f.TgZ(3,"span",69),f._uU(4),f.qZA(),f.qZA()}if(2&e){var n=f.oxw().items;f.xp6(4),f.hij("",n.length," applications")}}function Nt(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",71),f.TgZ(1,"span",68),f.NdJ("click",function(){return f.CHM(a),f.oxw(4).dropDownAppItemsClear(!1)})("click",function(){return f.CHM(a),f.oxw(4).applicationsSelected=[]}),f._uU(2,"x"),f.qZA(),f.TgZ(3,"span",69),f._uU(4),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(4);f.xp6(4),f.Oqu(n.language.All)}}function Ht(e,t){if(1&e&&(f.TgZ(0,"div",63),f.YNc(1,Ut,5,1,"div",64),f.YNc(2,qt,5,1,"div",65),f.YNc(3,Nt,5,1,"div",66),f.qZA()),2&e){var a=t.items,n=f.oxw(3);f.xp6(1),f.Q6J("ngIf",1===a.length&&a.length!==(null==n.applications?null:n.applications.length)),f.xp6(1),f.Q6J("ngIf",a.length>1&&a.length!==(null==n.applications?null:n.applications.length)),f.xp6(1),f.Q6J("ngIf",a.length===(null==n.applications?null:n.applications.length))}}var Jt=function(){return{standalone:!0}};function Rt(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",39),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"ng-select",40,41),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).applicationsSelected=e})("change",function(){return f.CHM(a),f.oxw(2).changeApplication()})("open",function(){return f.CHM(a),f.oxw(2).searchInputText=""}),f.YNc(5,kt,6,3,"ng-template",42),f.YNc(6,Ot,1,1,"ng-template",43),f.YNc(7,_t,4,5,"ng-template",44),f.YNc(8,It,4,4,"ng-template",15),f.YNc(9,Ht,4,3,"ng-template",45),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language.application),f.xp6(1),f.s9C("placeholder",n.language["None Selected"]),f.Q6J("items",n.applications)("multiple",!0)("ngModel",n.applicationsSelected)("ngModelOptions",f.DdM(15,Jt))("clearable",!0)("searchable",!1)("closeOnSelect",!0)("clearSearchOnAdd",!1)("selectableGroup",!0)("selectableGroupAsModel",!1)("searchFn",n.websocketservice.customAppSearch)("closeOnSelect",!1)("clearOnBackspace",!1)}}function Et(e,t){if(1&e&&f._uU(0),2&e){var a=t.item,n=f.oxw(3);f.hij(" ",n.language[a.name]||a.name," ")}}function Yt(e,t){if(1&e&&f._uU(0),2&e){var a=t.item,n=f.oxw(3);f.hij(" ",n.language[a.name]||a.name," ")}}function Pt(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",10),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"ng-select",72),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).criteriaSelected=e})("change",function(){return f.CHM(a),f.oxw(2).changeCriteria()}),f.YNc(4,Et,1,1,"ng-template",14),f.YNc(5,Yt,1,1,"ng-template",15),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language.criteria),f.xp6(1),f.s9C("placeholder",n.language["None Selected"]),f.Q6J("items",n.criteria)("multiple",!1)("ngModel",n.criteriaSelected)("ngModelOptions",f.DdM(8,Jt))("clearable",!1)("searchable",!1)}}function Ft(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",10),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"ng-select",73),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).scopeSelected=e}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language.scope),f.xp6(1),f.s9C("placeholder",n.language["None Selected"]),f.Q6J("items",n.scope)("multiple",!1)("ngModel",n.scopeSelected)("ngModelOptions",f.DdM(8,Jt))("clearable",!1)("searchable",!1)}}function Lt(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",10),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"ng-select",74),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).monthSelected=e})("change",function(){return f.CHM(a),f.oxw(2).changeFilter()}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language.month_title),f.xp6(1),f.s9C("placeholder",n.language["None Selected"]),f.Q6J("items",n.month)("multiple",!1)("ngModel",n.monthSelected)("ngModelOptions",f.DdM(8,Jt))("clearable",!1)("searchable",!1)}}function Qt(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",75),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"input",76),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).monthCount=e})("change",function(){return f.CHM(a),f.oxw(2).changeFilter()}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language.month_title),f.xp6(1),f.Q6J("ngModel",n.monthCount)}}function Bt(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",10),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"ng-select",77),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).rateSelected=e})("change",function(){return f.CHM(a),f.oxw(2).changeFilter()}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language.rate),f.xp6(1),f.s9C("placeholder",n.language["None Selected"]),f.Q6J("items",n.rate)("multiple",!1)("ngModel",n.rateSelected)("ngModelOptions",f.DdM(8,Jt))("clearable",!1)("searchable",!1)}}var jt=function(){return{width:"100%",height:"36px"}},zt=function(){return{height:"36px"}};function Gt(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",78),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"p-calendar",79),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).startDate=e})("onSelect",function(){return f.CHM(a),f.oxw(2).changeDate()})("onInput",function(){return f.CHM(a),f.oxw(2).changeDate()}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language["From Date"]),f.xp6(1),f.Akn(f.DdM(11,jt)),f.s9C("placeholder",n.language["Select Date"]),f.Q6J("inputStyle",f.DdM(12,zt))("autoZIndex",!0)("ngModel",n.startDate)("showIcon",!0)("ngModelOptions",f.DdM(13,Jt))("maxDate",n.maxDate)("minDate",n.minDate)}}function Vt(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",78),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"p-calendar",80),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).endDate=e})("onSelect",function(){return f.CHM(a),f.oxw(2).changeDate()})("onInput",function(){return f.CHM(a),f.oxw(2).changeDate()}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language["To Date"]),f.xp6(1),f.Akn(f.DdM(11,jt)),f.s9C("placeholder",n.language["Select Date"]),f.Q6J("inputStyle",f.DdM(12,zt))("autoZIndex",!0)("ngModel",n.endDate)("showIcon",!0)("ngModelOptions",f.DdM(13,Jt))("maxDate",n.maxDate)("minDate",n.startDate)}}function Wt(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",81),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"input",82),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).startHour=e})("change",function(){return f.CHM(a),f.oxw(2).changeFilter()}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.hij("",n.language.start_hour,"(0-23)"),f.xp6(1),f.Q6J("ngModel",n.startHour)}}function Kt(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",81),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"input",83),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).endHour=e})("change",function(){return f.CHM(a),f.oxw(2).changeFilter()}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.hij("",n.language.end_hour,"(0-23)"),f.xp6(1),f.Q6J("ngModel",n.endHour)}}function $t(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",81),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"input",84),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).limit=e})("blur",function(){return f.CHM(a),f.oxw(2).changelimit()}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language.limit),f.xp6(1),f.s9C("placeholder",n.language.limit),f.Q6J("ngModel",n.limit)}}function Xt(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",85),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"ng-select",86),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).groupSelected=e})("change",function(){return f.CHM(a),f.oxw(2).changeFilter()}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language.group),f.xp6(1),f.s9C("placeholder",n.language["None Selected"]),f.Q6J("items",n.groups)("multiple",!1)("ngModel",n.groupSelected)("ngModelOptions",f.DdM(8,Jt))("clearable",!1)("searchable",!1)}}function ea(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",10),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"ng-select",87),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).directionSelected=e})("change",function(){return f.CHM(a),f.oxw(2).changeFilter()}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language.direction),f.xp6(1),f.s9C("placeholder",n.language["None Selected"]),f.Q6J("items",n.directions)("multiple",!1)("ngModel",n.directionSelected)("ngModelOptions",f.DdM(8,Jt))("clearable",!1)("searchable",!1)}}function ta(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",88),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"input",89),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).treshold=e})("change",function(){return f.CHM(a),f.oxw(2).changeFilter()})("blur",function(){f.CHM(a);var e=f.oxw(2);return e.removeUnwantedSpace("treshold",e.treshold)}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.AsE("",n.language.treshold," (","active-subcribers"==n.pageDetails.sub_route?"Bytes":"KB",")"),f.xp6(1),f.Q6J("ngModel",n.treshold)}}function aa(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",88),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"input",90),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).peakRateFrom=e})("change",function(){return f.CHM(a),f.oxw(2).changeFilter()})("blur",function(){f.CHM(a);var e=f.oxw(2);return e.removeUnwantedSpace("peakRateFrom",e.peakRateFrom)}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.hij("",n.language.peakRateFrom,"(Mbps)"),f.xp6(1),f.Q6J("ngModel",n.peakRateFrom)}}function na(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",88),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"input",91),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).peakRateTo=e})("change",function(){return f.CHM(a),f.oxw(2).changeFilter()})("blur",function(){f.CHM(a);var e=f.oxw(2);return e.removeUnwantedSpace("peakRateTo",e.peakRateTo)}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.hij("",n.language.peakRateTo,"(Mbps)"),f.xp6(1),f.Q6J("ngModel",n.peakRateTo)}}function ia(e,t){if(1&e&&f._uU(0),2&e){var a=t.item,n=f.oxw(3);f.hij(" ",n.language[a.name]||a.name," ")}}function oa(e,t){if(1&e&&f._uU(0),2&e){var a=t.item,n=f.oxw(3);f.hij(" ",n.language[a.name]||a.name," ")}}function ra(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",10),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"ng-select",92),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).periodSelected=e})("change",function(){return f.CHM(a),f.oxw(2).changeFilter()}),f.YNc(4,ia,1,1,"ng-template",14),f.YNc(5,oa,1,1,"ng-template",15),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language.period),f.xp6(1),f.s9C("placeholder",n.language["None Selected"]),f.Q6J("items",n.period)("multiple",!1)("ngModel",n.periodSelected)("ngModelOptions",f.DdM(8,Jt))("clearable",!1)("searchable",!1)}}function sa(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",10),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"ng-select",93),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).aggregateSelected=e})("change",function(){return f.CHM(a),f.oxw(2).changeFilter()}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language.aggre),f.xp6(1),f.s9C("placeholder",n.language["None Selected"]),f.Q6J("items",n.aggregate)("multiple",!1)("ngModel",n.aggregateSelected)("ngModelOptions",f.DdM(8,Jt))("clearable",!1)("searchable",!1)}}function la(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",10),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"ng-select",94),f.NdJ("change",function(){return f.CHM(a),f.oxw(2).changeFilter()})("ngModelChange",function(e){return f.CHM(a),f.oxw(2).eliminateUnknownSelected=e}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language.elim),f.xp6(1),f.s9C("placeholder",n.language["None Selected"]),f.Q6J("items",n.eliminateUnknown)("multiple",!1)("ngModel",n.eliminateUnknownSelected)("ngModelOptions",f.DdM(8,Jt))("clearable",!1)("searchable",!1)}}function ca(e,t){if(1&e&&f._uU(0),2&e){var a=t.item,n=f.oxw(3);f.hij(" ",n.language[a.name]||a.name," ")}}function pa(e,t){if(1&e&&f._uU(0),2&e){var a=t.item,n=f.oxw(3);f.hij(" ",n.language[a.name]||a.name," ")}}function ha(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",10),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"ng-select",95),f.NdJ("change",function(){return f.CHM(a),f.oxw(2).changeFilter()})("ngModelChange",function(e){return f.CHM(a),f.oxw(2).thresholdTypeSelected=e}),f.YNc(4,ca,1,1,"ng-template",14),f.YNc(5,pa,1,1,"ng-template",15),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language.thres),f.xp6(1),f.s9C("placeholder",n.language["None Selected"]),f.Q6J("items",n.thresholdType)("multiple",!1)("ngModel",n.thresholdTypeSelected)("ngModelOptions",f.DdM(8,Jt))("clearable",!1)("searchable",!1)}}function ga(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",10),f.TgZ(1,"label",11),f._uU(2),f.qZA(),f.TgZ(3,"ng-select",96),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw(2).metricSelected=e})("change",function(){return f.CHM(a),f.oxw(2).changeFilter()}),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.language.Metric),f.xp6(1),f.s9C("placeholder",n.language["None Selected"]),f.Q6J("items",n.metric)("multiple",!1)("ngModel",n.metricSelected)("ngModelOptions",f.DdM(8,Jt))("clearable",!1)("searchable",!1)}}function da(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",97),f.TgZ(1,"div",98),f.TgZ(2,"div",99),f._uU(3),f.TgZ(4,"ngx-slider",100),f.NdJ("valueChange",function(e){return f.CHM(a),f.oxw(2).startTime=e})("highValueChange",function(e){return f.CHM(a),f.oxw(2).endTime=e})("valueChange",function(){return f.CHM(a),f.oxw(2).changeTimeRange()}),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(3),f.AsE(" ",n.language["Time Range (Hours)"],": ",n.timeRange," "),f.xp6(1),f.Q6J("value",n.startTime)("highValue",n.endTime)("options",n.slideOptions)}}function ua(e,t){1&e&&f._UZ(0,"app-traffic",null,101)}function fa(e,t){1&e&&f._UZ(0,"app-top-applications",null,102)}function ma(e,t){1&e&&f._UZ(0,"app-top-locations",null,103)}function va(e,t){1&e&&f._UZ(0,"app-top-subscribers",null,104)}function ba(e,t){1&e&&f._UZ(0,"app-power-users",null,105)}function wa(e,t){1&e&&f._UZ(0,"app-subscriber-distribution",null,106)}function ya(e,t){1&e&&f._UZ(0,"app-monthly-usage-byservice-category",null,107)}function xa(e,t){1&e&&f._UZ(0,"app-monthly-usage-byapplication",null,108)}function Ta(e,t){1&e&&f._UZ(0,"app-max-daily-rate",null,109)}function Aa(e,t){1&e&&f._UZ(0,"app-average-subscriber-rate",null,110)}function Sa(e,t){1&e&&f._UZ(0,"app-active-subscribers",null,111)}function Za(e,t){1&e&&f._UZ(0,"app-top-application-traffic",null,112)}function Ca(e,t){1&e&&f._UZ(0,"app-application-traffic",null,113)}function Da(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",114),f.TgZ(1,"h5",115),f._uU(2),f.qZA(),f.TgZ(3,"div"),f._uU(4),f.qZA(),f.TgZ(5,"button",116),f.NdJ("click",function(){return f.CHM(a).$implicit.dismiss("Cross click")}),f._UZ(6,"span",117),f.qZA(),f.qZA(),f.TgZ(7,"div",118),f.TgZ(8,"button",119),f.NdJ("click",function(){return f.CHM(a).$implicit.close("Save click")}),f._uU(9),f.qZA(),f.qZA()}if(2&e){var n=f.oxw(2);f.xp6(2),f.Oqu(n.modalTitle),f.xp6(2),f.hij(" ",n.modalInfo," "),f.xp6(5),f.hij(" ",n.language.Ok," ")}}function ka(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",120),f.TgZ(1,"button",121),f.NdJ("click",function(){var e=f.CHM(a).$implicit;return f.oxw(2).sensitiveModalCancel(e)}),f._UZ(2,"span",117),f.qZA(),f.TgZ(3,"div",122),f.TgZ(4,"div",123),f.TgZ(5,"div",124),f._UZ(6,"span"),f.qZA(),f.TgZ(7,"div",125),f.TgZ(8,"div",126),f._uU(9),f.qZA(),f.TgZ(10,"div",127),f.TgZ(11,"div",128),f._UZ(12,"input",129,130),f.qZA(),f.TgZ(14,"div",131),f.TgZ(15,"label",132),f._uU(16),f.qZA(),f.qZA(),f.qZA(),f.TgZ(17,"div",133),f.TgZ(18,"button",134),f.NdJ("click",function(){return f.CHM(a),f.oxw(2).confirmShow()}),f._uU(19),f.qZA(),f.TgZ(20,"button",135),f.NdJ("click",function(){var e=f.CHM(a).$implicit;return f.oxw(2).sensitiveModalCancel(e)}),f._uU(21),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&e){var n=f.MAs(13),i=f.oxw(2);f.xp6(9),f.hij(" ",i.language["Identifiable information msg"]," "),f.xp6(7),f.hij(" ",i.language["Access confirm msg"]," "),f.xp6(2),f.Q6J("disabled",!n.checked),f.xp6(1),f.hij(" ",i.language.Confirm," "),f.xp6(2),f.hij(" ",i.language.Cancel," ")}}function Ma(e,t){if(1&e){var a=f.EpF();f.TgZ(0,"div",7),f.TgZ(1,"div",8),f.TgZ(2,"div",9),f.TgZ(3,"div",10),f.TgZ(4,"label",11),f._uU(5),f.TgZ(6,"span",12),f._uU(7,"*"),f.qZA(),f.qZA(),f.TgZ(8,"ng-select",13),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw().typeSelected=e})("change",function(){return f.CHM(a),f.oxw().changeType()}),f.YNc(9,Zt,1,1,"ng-template",14),f.YNc(10,Ct,1,1,"ng-template",15),f.qZA(),f.qZA(),f.YNc(11,Rt,10,16,"div",16),f.YNc(12,Pt,6,9,"div",17),f.YNc(13,Ft,4,9,"div",17),f.YNc(14,Lt,4,9,"div",17),f.YNc(15,Qt,4,2,"div",18),f.YNc(16,Bt,4,9,"div",17),f.YNc(17,Gt,4,14,"div",19),f.YNc(18,Vt,4,14,"div",19),f.YNc(19,Wt,4,2,"div",20),f.YNc(20,Kt,4,2,"div",20),f.YNc(21,$t,4,3,"div",20),f.YNc(22,Xt,4,9,"div",21),f.YNc(23,ea,4,9,"div",17),f.YNc(24,ta,4,3,"div",22),f.YNc(25,aa,4,2,"div",22),f.YNc(26,na,4,2,"div",22),f.YNc(27,ra,6,9,"div",17),f.YNc(28,sa,4,9,"div",17),f.YNc(29,la,4,9,"div",17),f.YNc(30,ha,6,9,"div",17),f.YNc(31,ga,4,9,"div",17),f.TgZ(32,"div",23),f.TgZ(33,"div",24),f.TgZ(34,"label",25),f._uU(35),f.qZA(),f.TgZ(36,"div",26),f.TgZ(37,"div"),f.TgZ(38,"input",27,28),f.NdJ("ngModelChange",function(e){return f.CHM(a),f.oxw().sensitiveChecked=e}),f.qZA(),f.TgZ(40,"label",29),f._uU(41),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(42,"div",30),f.TgZ(43,"button",31),f.NdJ("click",function(){f.CHM(a);var e=f.MAs(39),t=f.MAs(65);return f.oxw().loadChartDataOrModal(e.checked,t)}),f._uU(44),f.qZA(),f.TgZ(45,"button",32),f.NdJ("click",function(){return f.CHM(a),f.oxw().clearFilter()}),f._uU(46),f.qZA(),f.TgZ(47,"app-filter-presets",33),f.NdJ("onSelectFilterPreset",function(e){return f.CHM(a),f.oxw().onSelectFilterPreset(e)}),f.qZA(),f.qZA(),f.qZA(),f.YNc(48,da,5,5,"div",34),f.qZA(),f.YNc(49,ua,2,0,"app-traffic",35),f.YNc(50,fa,2,0,"app-top-applications",35),f.YNc(51,ma,2,0,"app-top-locations",35),f.YNc(52,va,2,0,"app-top-subscribers",35),f.YNc(53,ba,2,0,"app-power-users",35),f.YNc(54,wa,2,0,"app-subscriber-distribution",35),f.YNc(55,ya,2,0,"app-monthly-usage-byservice-category",35),f.YNc(56,xa,2,0,"app-monthly-usage-byapplication",35),f.YNc(57,Ta,2,0,"app-max-daily-rate",35),f.YNc(58,Aa,2,0,"app-average-subscriber-rate",35),f.YNc(59,Sa,2,0,"app-active-subscribers",35),f.YNc(60,Za,2,0,"app-top-application-traffic",35),f.YNc(61,Ca,2,0,"app-application-traffic",35),f.YNc(62,Da,10,3,"ng-template",36,37,f.W1O),f.YNc(64,ka,22,5,"ng-template",null,38,f.W1O),f.qZA()}if(2&e){var n=f.oxw();f.xp6(5),f.hij("",n.language.type," "),f.xp6(3),f.s9C("placeholder",n.language["None Selected"]),f.Q6J("items",n.types)("searchable",!1)("ngModel",n.typeSelected)("ngModelOptions",f.DdM(71,Jt)),f.xp6(3),f.Q6J("ngIf",n.pageDetails.showApplication&&"active-subcribers"==n.pageDetails.sub_route),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showCriteria),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showScope),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showMonth),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showMonthCount),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showRate),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showStartDate),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showEndDate),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showStartHour),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showEndHour),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showLimit),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showGroup),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showDirection),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showTreshold),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showPeakRateFrom),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showPeakRateTo),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showPeriod),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showAggregate),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showEliminateUnknown),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showThresholdType),f.xp6(1),f.Q6J("ngIf",n.pageDetails.showMetric),f.xp6(1),f.Q6J("hidden","active_subscribers"!=n.typeSelected&&"top_subscribers"!=n.typeSelected),f.xp6(3),f.hij(" ",n.language.Privacy," "),f.xp6(3),f.Q6J("ngModel",n.sensitiveChecked),f.xp6(3),f.hij(" ",n.language["Show sensitive information"],""),f.xp6(2),f.Q6J("disabled",1==n.service.btnDisabled),f.xp6(1),f.hij("",n.language.run," "),f.xp6(1),f.Q6J("disabled",1==n.service.btnDisabled),f.xp6(1),f.hij("",n.language.Clear_Filters," "),f.xp6(1),f.Q6J("reportType",n.typeSelected)("enableSave",!0)("reports",n.types)("selectedCriteria",n.criteriaSelected)("selectedStartDate",n.startDate)("selectedEndDate",n.endDate)("selectedLimit",n.limit)("selectedGroup",n.groupSelected)("selectedDirection",n.directionSelected)("selectedPeakRateFrom",n.peakRateFrom)("selectedPeakRateTo",n.peakRateTo)("selectedPeriod",n.periodSelected)("selectedApplicationIds",n.applicationsSelected)("selectedThreshold",n.treshold)("selectedEliminateUnknown",n.eliminateUnknownSelected)("selectedThresholdType",n.thresholdTypeSelected)("selectedStartHour",n.startHour)("selectedEndHour",n.endHour)("selectedRate",n.rateSelected)("selectedMonthYear",n.monthSelected)("showSensitiveInfo",n.showSensitiveInfo)("applications",n.applications),f.xp6(1),f.Q6J("ngIf","traffic"==n.typeSelected&&n.isRate&&n.isOneDate),f.xp6(1),f.Q6J("ngIf","traffic"==n.typeSelected),f.xp6(1),f.Q6J("ngIf","top_applications"==n.typeSelected),f.xp6(1),f.Q6J("ngIf","top_locations"==n.typeSelected),f.xp6(1),f.Q6J("ngIf","top_subscribers"==n.typeSelected),f.xp6(1),f.Q6J("ngIf","power_users"==n.typeSelected),f.xp6(1),f.Q6J("ngIf","subscriber_distribution"==n.typeSelected),f.xp6(1),f.Q6J("ngIf","monthly_usage_byservice_category"==n.typeSelected),f.xp6(1),f.Q6J("ngIf","monthly_usage_byapplication"==n.typeSelected),f.xp6(1),f.Q6J("ngIf","max_daily_rate"==n.typeSelected),f.xp6(1),f.Q6J("ngIf","average_subscriber_rate"==n.typeSelected),f.xp6(1),f.Q6J("ngIf","active_subscribers"==n.typeSelected),f.xp6(1),f.Q6J("ngIf","top_application_traffic"==n.typeSelected),f.xp6(1),f.Q6J("ngIf","application_traffic"==n.typeSelected)}}var Oa=[{path:"",component:function(){var t=function(){function t(e,a,n,o,r,s,l,p,h,g,d,u,f,m,v){var b=this;i(this,t),this.customTranslateService=e,this.sso=a,this.canlenderConfig=n,this.dialogService=o,this.commonOrgService=r,this.service=s,this.websocketservice=l,this.router=p,this.titleService=h,this.route=g,this.apiService=d,this.http=u,this.CommonFunctionsService=f,this.callOutComeService=m,this.dateUtils=v,this.pageAvailable=!1,this.locations=[],this.locationsSelected=[],this.applications=[],this.applicationsSelected=[],this.criteria=[],this.minDate=new Date,this.maxDate=new Date,this.startDate=new Date,this.endDate=new Date,this.groups=[],this.directions=[],this.Initialloading=!1,this.searchInputText="",this.peakRateFrom=4,this.peakRateTo=5,this.period=[{name:"Last month",value:"-1"},{name:"Last 3 months",value:"-3"},{name:"Last 6 months",value:"-6"},{name:"Last year",value:"-12"}],this.periodSelected="-1",this.scope=[{name:"Overall",value:"1"},{name:"Within Location",value:"2"},{name:"Out of Location",value:"3"}],this.scopeSelected="1",this.treshold="0",this.thresholdTypeSelected="AllEndpoints",this.eliminateUnknownSelected="no",this.aggregateSelected="false",this.endHour=23,this.startHour=0,this.monthSelected="2020-06-01",this.rateSelected="Average",this.monthCount=3,this.sensitiveChecked=!1,this.metricSelected="Rate",this.month=[],this.rate=[{name:"Average",value:"Average"},{name:"Peak",value:"Peak"}],this.aggregate=[{name:"No",value:"false"},{name:"Yes",value:"true"}],this.eliminateUnknown=[],this.thresholdType=[{name:"All Endpoints",value:"AllEndpoints"},{name:"Unresolvable Endpoints",value:"UnresolvableEndpoints"}],this.metric=[{name:"Rate",value:"Rate"},{name:"Packets",value:"Packets"}],this.startTime=0,this.endTime=25,this.isRate=!1,this.isOneDate=!1,this.timeRange="0 - 24",this.slideOptions={floor:1,ceil:25,translate:function(e,t){return"<b>".concat(e<=73&&e>=1?e-1:24,"</b>")}},this.types=[],this.typeSelected="traffic",this.hasScopeAccess=!1,this.hasClickRun=!1,this.appObj={},this.route.queryParams.subscribe(function(e){e.traffic&&(b.typeSelected=e.traffic)}),this.isDev="".concat(c.N.API_BASE).indexOf("/dev.api.calix.ai")>-1,this.websocketservice.previousURL=this.router.url,this.Initialloading=!0;var w=new Date;this.startDate=new Date(w.getTime()-5184e5),this.minDate=new Date(w.getTime()-23328e6),this.language=this.customTranslateService.defualtLanguage,this.setHideShowFilter(),this.customTranslateService.selectedLanguage.subscribe(function(e){b.language=e,b.changeClenderlang(),b.intializeValues(),b.setTitle(b.router.url)}),this.setMonthData(),this.service.btnDisabled=!1}return r(t,[{key:"setTitle",value:function(e){e.includes("cco/traffic/network/reports")?this.titleService.setTitle("".concat(this.language.Reports," - ").concat(this.language.Network," - ").concat(this.language.Traffic," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"])):e.includes("organization-admin/flowAnalyze/traffic/network/reports")?this.titleService.setTitle("".concat(this.language.Reports," - ").concat(this.language.Network," - ").concat(this.language.Traffic," - ").concat(this.language.flowconfiguration," - ").concat(this.language.administration," - ").concat(this.language["Calix Cloud"])):e.includes("systemAdministration/flowAnalyze/traffic/network/reports")&&this.titleService.setTitle("".concat(this.language.Reports," - ").concat(this.language.Network," - ").concat(this.language.Traffic," - ").concat(this.language.flowconfiguration," - ").concat(this.language["System Administration"]," - ").concat(this.language["Calix Cloud"]))}},{key:"ngOnInit",value:function(){var e,t=this;this.sensitiveChecked="true"==sessionStorage.getItem("showSensitiveInfo"),this.setTitle(this.router.url);var a=this.sso.getScopes();if(c.N.VALIDATE_SCOPE&&window.location.pathname.indexOf("/cco/traffic/")>-1){var n=Object.keys(a);if(n)for(var i=0;i<n.length;i++)if(-1!==n[i].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;if(!this.hasScopeAccess)return this.sso.setPageAccess(!1),void(this.websocketservice.previousURL="");if(this.sso.setPageAccess(!0),this.getApps(),setTimeout(function(){t.Initialloading=!1},500),this.criteriaSelected="usage",this.intializeValues(),this.limit=10,this.groupSelected="no",this.directionSelected="Down",window.sessionStorage.getItem("traffic_TopSub_Endpoint_filters")){var o=JSON.parse(window.sessionStorage.getItem("traffic_TopSub_Endpoint_filters"));this.typeSelected="top_subscribers",this.startDate=new Date(o.startDate),this.endDate=new Date(o.endDate),this.criteriaSelected=o.criteriaSelected,this.limit=o.limit,this.directionSelected=o.directionSelected,this.setHideShowFilter()}this.orgidfromlocal=null!==(e=localStorage.getItem("calix.org_id"))&&void 0!==e?e:" ",this.loginData=localStorage.getItem("calix.login_data")?JSON.parse(localStorage.getItem("calix.login_data")):"",this.secureAccessRole=sessionStorage.getItem("Orgacceforssid")?"Calix":"BSP"}},{key:"ngOnDestroy",value:function(){}},{key:"clearSearch",value:function(e,t){e.value="",t.filter(""),this.searchInputText=""}},{key:"dropDownAppItemsClear",value:function(e){this.applicationsSelected=[],e&&(this.service.btnDisabled=!1)}},{key:"selectAllApplication",value:function(t){t.target.checked?(this.applicationsSelected=e(new Set(this.applications.map(function(e){return e.value}))),this.applicationsSelectedNames=["All"]):(this.applicationsSelected=[],this.applicationsSelectedNames=[])}},{key:"intializeValues",value:function(){this.types=[{name:"Traffic",value:"traffic"},{name:"Top Applications",value:"top_applications"},{name:"Top Locations",value:"top_locations"},{name:"Top Subscribers",value:"top_subscribers"},{name:"Power Users",value:"power_users"},{name:"Active Subscribers",value:"active_subscribers"},{name:"Subscriber Distribution",value:"subscriber_distribution"},{name:"Monthly Usage By Application",value:"monthly_usage_byapplication"},{name:"Monthly Usage By Service Category",value:"monthly_usage_byservice_category"},{name:"Max Daily Rate",value:"max_daily_rate"},{name:"Average Subscriber Rate",value:"average_subscriber_rate"},{name:"Top Application Traffic",value:"top_application_traffic"}],this.rate=[{name:this.language.Average,value:"Average"},{name:this.language.Peak,value:"Peak"}],this.criteria=[{name:this.language.usage,value:"usage"},{name:this.language.rate,value:"rate"}],this.groups=[{name:this.language.Yes,value:"yes"},{name:this.language.No,value:"no"}],this.directions=[{name:this.language.Down,value:"Down"},{name:this.language.Up,value:"Up"},{name:this.language["Both(Down+Up)"],value:"both"}],"power_users"==this.typeSelected&&(this.directions=[{name:this.language.Down,value:"Down"},{name:this.language.Up,value:"Up"}]),"application_traffic"==this.typeSelected&&(this.types=[{name:"Application Traffic",value:"application_traffic"}]),this.eliminateUnknown=[{name:this.language.No,value:"no"},{name:this.language.Yes,value:"yes"}]}},{key:"dropDownItemsClear",value:function(e,t){t&&(this.service.btnDisabled=!1)}},{key:"changeDate",value:function(){var e=p(this.getISOEndOfDay(this.endDate)).diff(p(this.getISODate(this.startDate)),"hour");if(e>0)this.slideChangeDate(e);else{this.isOneDate=!1;var t=new Date(this.startDate);this.endDate=new Date(t.getTime()+864e5),this.endDate>this.maxDate&&(this.endDate=this.maxDate),e=p(this.getISOEndOfDay(this.endDate)).diff(p(this.getISODate(this.startDate)),"hour"),this.slideChangeDate(e)}}},{key:"slideChangeDate",value:function(e){if(e<=72){this.isOneDate=!0;var t=Object.assign({},this.slideOptions);t.ceil=24==e?25:48==e?49:72==e?73:25,this.startTime=1,this.endTime=24==e?25:48==e?49:72==e?73:25,this.timeRange=24==e?"0 - 24":48==e?"0 - 48":72==e?"0 - 72":"0 - 24",this.slideOptions=t}else this.isOneDate=!1}},{key:"changeFilter",value:function(){}},{key:"changeCriteria",value:function(){"rate"===this.criteriaSelected?(this.isRate=!0,this.directions=[{name:this.language.Down,value:"Down"},{name:this.language.Up,value:"Up"}],this.directionSelected="Down"):(this.isRate=!1,this.directions=[{name:this.language.Down,value:"Down"},{name:this.language.Up,value:"Up"},{name:this.language["Both(Down+Up)"],value:"both"}])}},{key:"confirmShow",value:function(){var e,t=this,a={accessType:this.secureAccessRole,accountId:"",accountName:"",action:"pii",actionTimestamp:this.dateUtils.currentDateToUTC(),deviceId:"",deviceType:"",objectType:"Traffic/Top Endpoints",orgId:this.orgidfromlocal,originator:null===(e=this.loginData)||void 0===e?void 0:e.username,description:"Show PII subscriber data"};this.callOutComeService.Savepasspharseauditlog(a).subscribe(function(e){e&&(t.loading=!1)},function(e){}),sessionStorage.setItem("showSensitiveInfo","true"),this.loadChartData(),setTimeout(function(){return t.dialogService.dismissAll()},200)}},{key:"sensitiveModalCancel",value:function(e){e.close(""),this.sensitiveChecked=!1}},{key:"loadChartDataOrModal",value:function(e,t){e&&"true"!=sessionStorage.getItem("showSensitiveInfo")?this.modalOpener(t):(sessionStorage.setItem("showSensitiveInfo",e?"true":"false"),this.loadChartData())}},{key:"loadChartData",value:function(){var e,t,a,n,i,o,r,s,l,c,p,h,g;if(!this.typeSelected)return this.modalTitle=this.language["Invalid input"],this.modalInfo=this.language.Select_Type_Reports,void this.openModalInfo();if(!this.validateStartEndDates())return this.modalTitle=this.language.Time_Period,void this.openModalInfo();if(!this.validatePeakRate())return this.modalTitle=this.language["Invalid input"],this.modalInfo="Please enter the valid input Rates",void this.openModalInfo();if(!this.validatePeakRateLimit())return this.modalTitle=this.language["Invalid input"],this.modalInfo="Rates must be below 8796093022207 Mbps",void this.openModalInfo();this.limit>500&&(this.limit=500);var d={};d.locationsSelected=this.locationsSelected&&this.locationsSelected.length>0&&this.locationsSelected.length===this.locations.length?["All"]:this.locationsSelected,d.locationsSelectedNames=this.locationsSelectedNames,d.applicationsSelected=this.applicationsSelected&&this.applicationsSelected.length>0&&this.applicationsSelected.length===this.applications.length?["All"]:this.applicationsSelected,d.applicationsSelectedNames=this.applicationsSelectedNames,d.criteriaSelected=this.criteriaSelected,d.startDate=this.startDate,d.endDate=this.endDate,d.limit=0==this.limit||this.limit?this.limit:10,d.groupSelected=this.groupSelected,d.directionSelected=this.directionSelected,d.rateSelected=this.rateSelected,d.monthCount=this.monthCount,d.threshold=this.treshold,d.metric=this.metricSelected,d.monthSelected=this.monthSelected,d.eliminateUnknownSelected=this.eliminateUnknownSelected,d.aggregateSelected=this.aggregateSelected,d.thresholdTypeSelected=this.thresholdTypeSelected,d.scopeSelected=this.scopeSelected,d.startHour=this.startHour,d.endHour=this.endHour,d.periodSelected=this.periodSelected,d.peakRateFrom=this.peakRateFrom,d.peakRateTo=this.peakRateTo,d.startTime=this.startTime,d.endTime=this.endTime,d.showTimeRange="traffic"==this.typeSelected,d.type="network",this.service.btnDisabled=!0,this.hasClickRun=!0,"traffic"==this.typeSelected?null===(e=this.TrafficComponent)||void 0===e||e.loadChartData(d):"top_applications"==this.typeSelected?null===(t=this.TopApplicationsComponent)||void 0===t||t.loadChartData(d):"top_locations"==this.typeSelected?null===(a=this.TopLocationsComponent)||void 0===a||a.loadChartData(d):"top_subscribers"==this.typeSelected?null===(n=this.TopSubscribersComponent)||void 0===n||n.loadChartData(d):"power_users"==this.typeSelected?null===(i=this.PowerUsersComponent)||void 0===i||i.loadChartData(d):"top_application_traffic"==this.typeSelected?null===(o=this.TopApplicationTrafficComponent)||void 0===o||o.loadChartData(d):"application_traffic"==this.typeSelected?null===(r=this.ApplicationTrafficComponent)||void 0===r||r.loadChartData(d):"subscriber_distribution"==this.typeSelected?null===(s=this.SubscriberDistributionComponent)||void 0===s||s.loadChartData(d):"monthly_usage_byservice_category"==this.typeSelected?null===(l=this.MonthlyUsageByserviceCategoryComponent)||void 0===l||l.loadChartData(d):"monthly_usage_byapplication"==this.typeSelected?null===(c=this.MonthlyUsageByapplicationComponent)||void 0===c||c.loadChartData(d):"max_daily_rate"==this.typeSelected?null===(p=this.MaxDailyRateComponent)||void 0===p||p.loadChartData(d):"average_subscriber_rate"==this.typeSelected?null===(h=this.AverageSubscriberRateComponent)||void 0===h||h.loadChartData(d):"active_subscribers"==this.typeSelected&&(null===(g=this.ActiveSubscribersComponent)||void 0===g||g.loadChartData(d))}},{key:"getIndeterminateGroup",value:function(e){return e.children&&e.children.some(function(e){return e.selected})&&!e.children.every(function(e){return e.selected})}},{key:"setMonthData",value:function(){this.month=[];var e=new Date;this.month.push({name:this.formatDate(e),value:this.formatDateFull(e)});for(var t=0;t<3;t++){var a=new Date(e.getFullYear()-(e.getMonth()>0?0:1),(e.getMonth()-1+12)%12,1);this.month.push({name:this.formatDate(a),value:this.formatDateFull(a)}),e=a}this.monthSelected=this.month[0].value}},{key:"formatDateFull",value:function(e){return e.getFullYear()+"-"+this.formatDateComponent(e.getMonth()+1)+"-"+this.formatDateComponent(e.getDate())}},{key:"formatDate",value:function(e){return e.getFullYear()+"-"+this.formatDateComponent(e.getMonth()+1)}},{key:"formatDateComponent",value:function(e){return(e<10?"0":"")+e}},{key:"changeClenderlang",value:function(){sessionStorage.getItem("defaultLanguage")&&"fr"==sessionStorage.getItem("defaultLanguage")?this.canlenderConfig.setTranslation({monthNames:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","D\xe9cembre"],dayNamesMin:["D","L","M","M","J","V","S"]}):sessionStorage.getItem("defaultLanguage")&&"en"==sessionStorage.getItem("defaultLanguage")&&this.canlenderConfig.setTranslation({monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],dayNamesMin:["S","M","T","W","T","F","S"]})}},{key:"validateStartEndDates",value:function(){return!(this.pageDetails.showStartDate&&this.pageDetails.showEndDate&&(this.startDate&&this.endDate?this.getISODate(this.startDate)>this.getISODate(this.endDate)&&(this.modalInfo=this.language["Time range not valid, end time should be later than start time."],1):(this.modalInfo="Please enter the valid input dates.",1)))}},{key:"validatePeakRate",value:function(){return!this.pageDetails.showPeakRateFrom||!this.pageDetails.showPeakRateTo||!(null===this.peakRateFrom||null===this.peakRateTo||parseInt(this.peakRateFrom)<0||parseInt(this.peakRateTo)<0||parseInt(this.peakRateFrom)>parseInt(this.peakRateTo))}},{key:"validatePeakRateLimit",value:function(){if(this.pageDetails.showPeakRateFrom&&this.pageDetails.showPeakRateTo){var e=1048576*parseInt(this.peakRateFrom),t=1048576*parseInt(this.peakRateTo);return!(e>922337203685477e4||t>922337203685477e4)}return!0}},{key:"openModalInfo",value:function(){this.modalRef=this.dialogService.open(this.showInfoModal,{size:"lg",centered:!0,windowClass:"custom-modal"})}},{key:"changelimit",value:function(){this.limit<3&&(this.limit=3),this.limit>500&&(this.limit=500)}},{key:"pageErrorHandle",value:function(e){var t;t=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(t),this.commonOrgService.pageScrollTop(),this.loading=!1}},{key:"getISODate",value:function(e){var t=new Date(e),a=t.getFullYear(),n="".concat(t.getMonth()+1),i="".concat(t.getDate());return n.length<2&&(n="0".concat(n)),i.length<2&&(i="0".concat(i)),new Date("".concat(a,"-").concat(n,"-").concat(i,"T00:00:00Z"))}},{key:"getISOEndOfDay",value:function(e){var t=new Date(e);t.setDate(new Date(t).getDate()+1);var a=t.getFullYear(),n="".concat(t.getMonth()+1),i="".concat(t.getDate());return n.length<2&&(n="0".concat(n)),i.length<2&&(i="0".concat(i)),"".concat(a,"-").concat(n,"-").concat(i,"T00:00:00Z")}},{key:"changeTimeRange",value:function(){var e=this;setTimeout(function(){e.timeRange=(e.startTime-1).toString()+" - "+(e.endTime-1).toString()},500)}},{key:"changeType",value:function(){this.hasClickRun=!1,this.service.btnDisabled&&(this.service.btnDisabled=!1),this.setHideShowFilter()}},{key:"setHideShowFilter",value:function(){var e=new Date;this.startDate=new Date(e.getTime()-5184e5),this.endDate=new Date,"traffic"==this.typeSelected?this.pageDetails={main_route:"network",sub_route:"traffic",showLocation:!1,showApplication:!1,showCriteria:!0,showStartDate:!0,showEndDate:!0,showLimit:!1}:"top_applications"==this.typeSelected?this.pageDetails={main_route:"network",sub_route:"top-applications",showCriteria:!0,showStartDate:!0,showEndDate:!0,showLimit:!0,showGroup:!0,showDirection:!0,showRate:!1}:"top_locations"==this.typeSelected?this.pageDetails={main_route:"network",sub_route:"top-locations",showCriteria:!0,showStartDate:!0,showEndDate:!0,showLimit:!0,showGroup:!1,showDirection:!0,showRate:!1}:"top_subscribers"==this.typeSelected?this.pageDetails={main_route:"network",sub_route:"top-subscribers",showCriteria:!0,showStartDate:!0,showEndDate:!0,showLimit:!0,showGroup:!1,showDirection:!0,showRate:!1}:"power_users"==this.typeSelected?this.pageDetails={main_route:"network",sub_route:"power-users",showLimit:!1,showGroup:!1,showDirection:!0,showRate:!1,showPeakRateFrom:!0,showPeakRateTo:!0,showPeriod:!0}:"top_application_traffic"==this.typeSelected?this.pageDetails={main_route:"network",sub_route:"top-applications-traffic",showCriteria:!1,showStartDate:!0,showEndDate:!0,showLimit:!0,showGroup:!1,showDirection:!1,showRate:!0}:"active_subscribers"==this.typeSelected?this.pageDetails={main_route:"locations",sub_route:"active-subcribers",showLocation:!0,showApplication:!0,showStartDate:!0,showEndDate:!0,showTreshold:!0,showEliminateUnknown:!0,showThresholdType:!0}:"subscriber_distribution"==this.typeSelected?this.pageDetails={main_route:"locations",sub_route:"subscriber-distribution",showLocation:!1,showMonth:!0,showDirection:!0,showTreshold:!0,showAggregate:!1,showEliminateUnknown:!0,showThresholdType:!0}:"monthly_usage_byapplication"==this.typeSelected?this.pageDetails={main_route:"locations",sub_route:"monthly-usage-by-application",showLocation:!1,showDirection:!0,showRate:!1,showTreshold:!1}:"monthly_usage_byservice_category"==this.typeSelected?this.pageDetails={main_route:"locations",sub_route:"monthly-usage-by-service",showLocation:!1,showLimit:!1,showGroup:!1,showDirection:!0}:"max_daily_rate"==this.typeSelected?(this.pageDetails={main_route:"locations",sub_route:"max-daily-rate",showLocation:!1,showApplication:!1,showStartDate:!0,showAggregate:!1,showEliminateUnknown:!0},this.startDate=new Date):"average_subscriber_rate"==this.typeSelected?this.pageDetails={main_route:"locations",sub_route:"average-subscriber-rate",showLocation:!1,showStartDate:!0,showEndDate:!0,showStartHour:!0,showEndHour:!0,showAggregate:!1,showEliminateUnknown:!0}:"application_traffic"==this.typeSelected&&(this.pageDetails={main_route:"network",sub_route:"applications-traffic",showCriteria:!1,showStartDate:!0,showEndDate:!0,showLimit:!0,showGroup:!1,showDirection:!1,showRate:!0}),"power_users"==this.typeSelected?(this.directions=[{name:this.language.Down,value:"Down"},{name:this.language.Up,value:"Up"}],this.directionSelected="Down"):this.changeCriteria()}},{key:"newTrafficWorkFlow",value:function(){this.modalRef&&this.modalRef.close()}},{key:"viewScheduleReport",value:function(){this.modalRef=this.dialogService.open(this.scheduleReportModal,{size:"lg",windowClass:"custom-lg-modal",backdrop:"static",keyboard:!1})}},{key:"getApps",value:function(){var e=this,t=["".concat(c.N.faAdminURL,"application?org-id=0"),"".concat(c.N.faAdminURL,"application?org-id=").concat(this.sso.getOrganizationID(this.router.url)),"".concat(c.N.faAdminURL,"application-group?org-id=0"),"".concat(c.N.faAdminURL,"application-group?org-id=").concat(this.sso.getOrganizationID(this.router.url))],a=[];t.forEach(function(t){var n=e.apiService.callRestApi(t).pipe((0,h.U)(function(e){return e}),(0,g.K)(function(e){return(0,d.of)(e)}));a.push(n)}),this.combineLatest=(0,u.aj)(a),this.makeParallelRequest()}},{key:"makeParallelRequest",value:function(){var t=this;this.parallelReqSubscribtion=this.combineLatest.subscribe(function(a){t.globalApps=a[0],t.curOrgApps=a[1];var n=[];(Array.isArray(a[2])||Array.isArray(a[3]))&&(n=[].concat(e(a[2]),e(a[3]))),t.applications=[],Array.isArray(t.combineApps())&&(t.applications=e(t.combineApps())),t.applications.forEach(function(e){n.forEach(function(t){e._id===t.applicationId&&(e.groupName=t.trafficTypeName)})}),t.applications.sort(function(e,t){return(e.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})}).sort(function(e,t){return(e.groupName||"").toString().localeCompare((t.groupName||"").toString(),"en",{numeric:!1})});var i=t.applications.filter(function(e){if(e.groupName)return e}),o=t.applications.filter(function(e){if(!e.groupName)return e}),r=[];(Array.isArray(i)||Array.isArray(o))&&(r=[].concat(e(o),e(i))),t.applications=e(r).filter(function(e,t,a){return t===a.findIndex(function(t){return t.value===e.value})})})}},{key:"combineApps",value:function(){var t=this,a=this.curOrgApps?this.curOrgApps:[],n=this.globalApps?this.globalApps:[];a&&Array.isArray(a)&&(a=a.map(function(e){if(e)return e.type="Local",e.type="Global",e.label=e.name,e.value=e._id,e.app=e.name,t.appObj[e._id]=e.name,e}));var i=a.length?a.slice(0):[];if(n&&n.length){var o="";a&&Array.isArray(a)&&(o=a.map(function(e){return e.name})),n=n.map(function(e){if(e){var n=o.indexOf(e.name);return-1==n?(e.type="Global",e.label=e.name,e.value=e._id,e.app=e.name,t.appObj[e._id]=e.name):(e=a[n],i.splice(n,1)),e}}),n=[].concat(e(n),e(i))}else a.length&&(n=a);return n}},{key:"changeApplication",value:function(){if(this.applicationsSelected.length>1&&this.applicationsSelected.includes("All"))if(0===this.applicationsSelected.indexOf("All")){var e=Object.assign([],this.applicationsSelected),t=e.indexOf("All");e.splice(t,1),this.applicationsSelected=e}else this.applicationsSelected.indexOf("All")>0&&(this.applicationsSelected=["All"]);this.getApplicationNames()}},{key:"getApplicationNames",value:function(){var e=this;this.applicationsSelectedNames=[],this.applicationsSelected&&this.applicationsSelected.length?this.applicationsSelected.length===this.applications.length?this.applicationsSelectedNames=["All"]:this.applicationsSelected.forEach(function(t){var a=e.applications.filter(function(e){return e.value===t});a.length&&e.applicationsSelectedNames.push(a[0].label)}):this.applicationsSelectedNames=["All"]}},{key:"clearFilter",value:function(){this.peakRateFrom=4,this.peakRateTo=5,this.periodSelected="-1",this.scopeSelected="1",this.treshold="0",this.thresholdTypeSelected="AllEndpoints",this.eliminateUnknownSelected="no",this.aggregateSelected="false",this.endHour=23,this.startHour=0,this.monthSelected=this.month[0].value,this.rateSelected="Average",this.monthCount=3,this.metricSelected="Rate",this.timeRange="0 - 24",this.criteriaSelected="usage",this.limit=10,this.groupSelected="no",this.directionSelected="Down",this.startTime=0,this.endTime=25,this.isRate=!1,this.isOneDate=!1;var e=new Date;this.startDate=new Date(e.getTime()-5184e5),this.maxDate=new Date,this.endDate=new Date,this.locationsSelected=this.locations.map(function(e){return e.value}),this.applicationsSelected=this.applications.map(function(e){return e.value}),this.locationsSelectedNames=["All"],this.applicationsSelectedNames=["All"],this.setHideShowFilter(),this.hasClickRun&&this.loadChartData()}},{key:"removeUnwantedSpace",value:function(e,t){this[e]=this.CommonFunctionsService.trimSpaceFromNonObjectInputs(t)}},{key:"modalOpener",value:function(e){this.dialogService.open(e,{centered:!0,windowClass:"custom-warning-modal clx-custom-modal"})}},{key:"showSensitiveInfo",get:function(){return"true"==sessionStorage.getItem("showSensitiveInfo")}},{key:"onSelectFilterPreset",value:function(e){var t,a=!1;e.settingJsonTyped.criteria&&(this.criteriaSelected=e.settingJsonTyped.criteria,this.changeCriteria()),(e.settingJsonTyped.fromDate||e.settingJsonTyped.toDate)&&(this.startDate=e.settingJsonTyped.fromDate,this.endDate=e.settingJsonTyped.toDate,this.changeDate()),e.settingJsonTyped.limit&&(this.limit=e.settingJsonTyped.limit,this.changelimit()),e.settingJsonTyped.application&&(this.applicationsSelected=null===(t=this.applications.filter(function(t){var a;return null===(a=e.settingJsonTyped.application)||void 0===a?void 0:a.includes(t.value)}))||void 0===t?void 0:t.map(function(e){return e.value}),this.changeApplication()),e.settingJsonTyped.group&&(this.groupSelected=e.settingJsonTyped.group,a=!0),e.settingJsonTyped.direction&&(this.directionSelected=e.settingJsonTyped.direction,a=!0),(e.settingJsonTyped.peakRateFrom||e.settingJsonTyped.peakRateTo)&&(this.peakRateFrom=e.settingJsonTyped.peakRateFrom,this.peakRateTo=e.settingJsonTyped.peakRateTo,a=!0),e.settingJsonTyped.period&&(this.periodSelected=e.settingJsonTyped.period,a=!0),e.settingJsonTyped.threshold&&(this.treshold=e.settingJsonTyped.threshold,a=!0),e.settingJsonTyped.eliminateUnknown&&(this.eliminateUnknownSelected=e.settingJsonTyped.eliminateUnknown,a=!0),e.settingJsonTyped.thresholdType&&(this.thresholdTypeSelected=e.settingJsonTyped.thresholdType,a=!0),e.settingJsonTyped.startHour&&(this.startHour=e.settingJsonTyped.startHour,a=!0),e.settingJsonTyped.endHour&&(this.endHour=e.settingJsonTyped.endHour,a=!0),e.settingJsonTyped.rate&&(this.rateSelected=e.settingJsonTyped.rate,a=!0),e.settingJsonTyped.monthYear&&(this.monthSelected=e.settingJsonTyped.monthYear,a=!0),a&&this.changeFilter()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Y36(m.d),f.Y36(v.t6),f.Y36(b.b4),f.Y36(w.FF),f.Y36(y.v),f.Y36(x.h),f.Y36(T.i),f.Y36(l.F0),f.Y36(A.Dx),f.Y36(l.gz),f.Y36(S.W),f.Y36(Z.eN),f.Y36(C.i),f.Y36(D.K),f.Y36(k.s))},t.\u0275cmp=f.Xpm({type:t,selectors:[["app-network-reports"]],viewQuery:function(e,t){var a;(1&e&&(f.Gf(ct,5),f.Gf(pt,5),f.Gf(ht,5),f.Gf(gt,5),f.Gf(dt,5),f.Gf(ut,5),f.Gf(ft,5),f.Gf(mt,5),f.Gf(vt,5),f.Gf(bt,5),f.Gf(wt,5),f.Gf(yt,5),f.Gf(xt,5),f.Gf(Tt,5),f.Gf(At,7)),2&e)&&(f.iGM(a=f.CRH())&&(t.TrafficComponent=a.first),f.iGM(a=f.CRH())&&(t.TopApplicationsComponent=a.first),f.iGM(a=f.CRH())&&(t.TopLocationsComponent=a.first),f.iGM(a=f.CRH())&&(t.TopSubscribersComponent=a.first),f.iGM(a=f.CRH())&&(t.PowerUsersComponent=a.first),f.iGM(a=f.CRH())&&(t.TopApplicationTrafficComponent=a.first),f.iGM(a=f.CRH())&&(t.ApplicationTrafficComponent=a.first),f.iGM(a=f.CRH())&&(t.SubscriberDistributionComponent=a.first),f.iGM(a=f.CRH())&&(t.MonthlyUsageByserviceCategoryComponent=a.first),f.iGM(a=f.CRH())&&(t.MonthlyUsageByapplicationComponent=a.first),f.iGM(a=f.CRH())&&(t.MaxDailyRateComponent=a.first),f.iGM(a=f.CRH())&&(t.AverageSubscriberRateComponent=a.first),f.iGM(a=f.CRH())&&(t.ActiveSubscribersComponent=a.first),f.iGM(a=f.CRH())&&(t.showInfoModal=a.first),f.iGM(a=f.CRH())&&(t.scheduleReportModal=a.first))},decls:3,vars:2,consts:[[1,"col-md-12","mt-4"],["class","loader",4,"ngIf"],["class","main-div",4,"ngIf"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"main-div"],[1,"filter-section","filter-elemnts","pt-2"],[1,"filter-wrapper","mb-3"],[1,"custom-selectbox","col-12","ele-wrap","col-sm-6","col-md-3","col-lg-3"],[1,"filter-label"],[1,"error"],["id","type","bindLabel","name","bindValue","value",3,"items","placeholder","searchable","ngModel","ngModelOptions","ngModelChange","change"],["ng-label-tmp",""],["ng-option-tmp",""],["class","custom-selectbox custom-multiselect-ui col-12 ele-wrap col-sm-6 col-md-3 col-lg-3",4,"ngIf"],["class","custom-selectbox col-12 ele-wrap col-sm-6 col-md-3 col-lg-3",4,"ngIf"],["class","ccl-form",4,"ngIf"],["class","cal-pick col-12 ele-wrap col-sm-6 col-md-3 col-lg-3",4,"ngIf"],["class","round-corner  col-12 ele-wrap col-sm-6 col-md-3 col-lg-3",4,"ngIf"],["class","custom-selectbox col-12 ele-wrap col-sm-6 col-md-3 col-lg-3 w-10",4,"ngIf"],["class","ccl-form col-12 ele-wrap col-sm-6 col-md-3 col-lg-3",4,"ngIf"],[1,"custom-selectbox",3,"hidden"],[1,"current-issue-menu-item"],[1,"col-form-label","label-subtile","pt-0"],[1,"col-sm-12","p-0","mb-4","form-check"],["id","showSensitive","type","checkbox",1,"mr-1",3,"ngModel","ngModelChange"],["showSensitive",""],["for","showSensitive",1,"pb-0","mb-0"],[1,"col-md-12"],["id","filter-submit-btn","type","button",1,"btn-default","primary",3,"disabled","click"],["type","button",1,"btn-default","btn-dft","ml-2",3,"disabled","click"],["trafficType","NetworkReport",3,"reportType","enableSave","reports","selectedCriteria","selectedStartDate","selectedEndDate","selectedLimit","selectedGroup","selectedDirection","selectedPeakRateFrom","selectedPeakRateTo","selectedPeriod","selectedApplicationIds","selectedThreshold","selectedEliminateUnknown","selectedThresholdType","selectedStartHour","selectedEndHour","selectedRate","selectedMonthYear","showSensitiveInfo","applications","onSelectFilterPreset"],["class","container",4,"ngIf"],[4,"ngIf"],["class","col-md-12"],["showInfoModal",""],["warningModalConfirmation",""],[1,"custom-selectbox","custom-multiselect-ui","col-12","ele-wrap","col-sm-6","col-md-3","col-lg-3"],["id","application","bindLabel","label","bindValue","value","groupBy","groupName",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","closeOnSelect","clearSearchOnAdd","selectableGroup","selectableGroupAsModel","searchFn","clearOnBackspace","ngModelChange","change","open"],["applicationSelect",""],["ng-footer-tmp",""],["ng-header-tmp",""],["ng-optgroup-tmp",""],["ng-multi-label-tmp",""],[1,"d-inline-flex","w-100","search-box-input","mb-2"],[1,"search-box-icon"],["src","../../../../../assets/img/ic_search_blue.svg",1,"search-icon"],["type","text",3,"placeholder","ngModel","input","ngModelChange"],["applicationSearch",""],["class","clear-box ml-auto",3,"click",4,"ngIf"],[1,"clear-box","ml-auto",3,"click"],["src","assets/img/close-icon.svg"],["class","d-flex w-100 select-all-holder",4,"ngIf"],[1,"d-flex","w-100","select-all-holder"],["id","item-all-applications","type","checkbox",1,"select-all-opt",3,"indeterminate","checked","click"],["for","item-all-applications",1,"cursor-pointer","m-0"],[1,"dropdown-item-gr"],["type","checkbox",1,"mr-1",3,"id","indeterminate","ngModel"],[3,"title"],[1,"dropdown-item-ch"],["type","checkbox",1,"mr-1",3,"id","ngModel"],[1,"d-inline-flex"],["class","ng-value 1",4,"ngIf"],["class","ng-value 2",4,"ngIf"],["class","ng-value 3",4,"ngIf"],[1,"ng-value","1"],[1,"ng-value-icon","left",3,"click"],[1,"ng-value-label"],[1,"ng-value","2"],[1,"ng-value","3"],["id","usage_criteria","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],["id","scope","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["id","month","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],[1,"ccl-form"],["id","monthCount","name","monthCount","type","number","min","1","max","12",1,"",3,"ngModel","ngModelChange","change"],["id","rate","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],[1,"cal-pick","col-12","ele-wrap","col-sm-6","col-md-3","col-lg-3"],["id","start_date","appendTo","body","dateFormat","mm-dd-yy",3,"inputStyle","autoZIndex","placeholder","ngModel","showIcon","ngModelOptions","maxDate","minDate","ngModelChange","onSelect","onInput"],["id","end_date","appendTo","body","dateFormat","mm-dd-yy",3,"inputStyle","autoZIndex","ngModel","placeholder","showIcon","ngModelOptions","maxDate","minDate","ngModelChange","onSelect","onInput"],[1,"round-corner","col-12","ele-wrap","col-sm-6","col-md-3","col-lg-3"],["id","startHour","name","startHour","type","number",1,"form-control",3,"ngModel","ngModelChange","change"],["id","endHour","name","endHour","type","number",1,"form-control",3,"ngModel","ngModelChange","change"],["id","limit","name","limit","type","number","min","3","max","500",1,"form-control",3,"placeholder","ngModel","ngModelChange","blur"],[1,"custom-selectbox","col-12","ele-wrap","col-sm-6","col-md-3","col-lg-3","w-10"],["id","group","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],["id","direction","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],[1,"ccl-form","col-12","ele-wrap","col-sm-6","col-md-3","col-lg-3"],["id","treshold","name","treshold","type","text","trimSpace","",1,"form-control",3,"ngModel","ngModelChange","change","blur"],["id","peakRateFrom","name","peakRateFrom","type","text","placeholder","Mbps","trimSpace","",1,"ccl-form",3,"ngModel","ngModelChange","change","blur"],["id","peakRateTo","name","peakRateTo","type","text","placeholder","Mbps","trimSpace","",1,"ccl-form",3,"ngModel","ngModelChange","change","blur"],["id","period","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],["id","aggregate","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],["id","eliminateUnknown","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","change","ngModelChange"],["id","thresholdType","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","change","ngModelChange"],["id","metric","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],[1,"container"],[1,"row","mt-2"],[1,"col-md-12","px-0"],[3,"value","highValue","options","valueChange","highValueChange"],["TrafficComponent",""],["TopApplicationsComponent",""],["TopLocationsComponent",""],["TopSubscribersComponent",""],["PowerUsersComponent",""],["SubscriberDistributionComponent",""],["MonthlyUsageByserviceCategoryComponent",""],["MonthlyUsageByapplicationComponent",""],["MaxDailyRateComponent",""],["AverageSubscriberRateComponent",""],["ActiveSubscribersComponent",""],["TopApplicationTrafficComponent",""],["ApplicationTrafficComponent",""],[1,"modal-header","d-block"],["id","showInfoModal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","add-device-model"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3","px-3",3,"click"],[1,"modal-body"],["type","button","data-dismiss","modal","aria-label","Close",1,"clx-modal-dismiss",3,"click"],[1,"modal-body-content"],[1,"clx-warning-wrapper"],[1,"clx-warning-icon"],[1,"clx-warning-content"],[1,"text-break","cco-secondary-title","mb-3"],[1,"d-flex","w-100"],[1,"radio-check","mr-2","pt-1"],["type","checkbox","id","checkSensitiveModal"],["checkSensitive",""],[1,"text-break"],["for","checkSensitiveModal"],[1,"mt-3"],["type","button",1,"btn-default","btn-primary","mr-3",3,"disabled","click"],["type","button","aria-label","Close",1,"btn-default","btn-dft",3,"click"]],template:function(e,t){1&e&&(f.TgZ(0,"div",0),f.YNc(1,St,5,1,"div",1),f.qZA(),f.YNc(2,Ma,66,72,"div",2)),2&e&&(f.xp6(1),f.Q6J("ngIf",t.Initialloading),f.xp6(1),f.Q6J("ngIf",!t.Initialloading))},directives:[s.O5,M.w9,O.JJ,O.On,M.bb,M.Z2,O.Wl,_._,M.x0,M.A3,M.mD,M.Yi,O.Fj,O.qQ,O.Fd,O.wV,I.f,U.f,q.w5,B,ee,le,ve,Je,Re.c,Ee.W,Ye.B,Pe.Z,Fe.s,Le.C,et,lt],styles:[".run-btn[_ngcontent-%COMP%]{background-color:#6c757d!important;color:#fff!important}.run-btn-active[_ngcontent-%COMP%]{background-color:#0173bc!important;color:#fff!important}label[_ngcontent-%COMP%]{font-weight:normal!important}.filter-wrapper[_ngcontent-%COMP%]{min-width:250px;width:100%;display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-start}.filter-wrapper[_ngcontent-%COMP%]   .ele-wrap[_ngcontent-%COMP%]{margin-bottom:20px}@media screen and (min-width: 1140px){.filter-wrapper[_ngcontent-%COMP%]   .ele-wrap[_ngcontent-%COMP%]:nth-child(4n+4){padding-right:0}}.custom-btn[_ngcontent-%COMP%]{background-color:#0173bc;border:1px solid #44367D;color:#fff;font-weight:bold;min-width:82px;height:2.4em;padding:0 15px;border-radius:20px;font-size:14px}.custom-btn[_ngcontent-%COMP%]:disabled{background-color:#6a6b6f;border:1px solid #44367D}.filter-section[_ngcontent-%COMP%]   .w-15[_ngcontent-%COMP%]{width:15%!important;min-width:18%!important;max-width:15%!important}.filter-elemnts[_ngcontent-%COMP%]{padding-left:15px!important}.filter-elemnts[_ngcontent-%COMP%]   .round-corner[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff!important}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:26px;max-width:75%!important}.schedule-modal-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:22px;letter-spacing:0em;text-align:left}.w-200px[_ngcontent-%COMP%]{width:200px}.label-subtile[_ngcontent-%COMP%]{position:relative;top:-5px}"]}),t}()}],_a=function(){var e=r(function e(){i(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[s.ez,l.Bz.forChild(Oa)],l.Bz]}),e}(),Ia=o(25317),Ua=o(23830),qa=o(43555),Na=o(44466),Ha=o(48292),Ja=function(){var e=r(function e(){i(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[s.ez,_a,M.A0,O.u5,I._8,Ia.l,Ua.o,w.IJ,be.T,q.kx,qa.LocationReportsModule,Ha.m,Na.m]]}),e}()}}])}();