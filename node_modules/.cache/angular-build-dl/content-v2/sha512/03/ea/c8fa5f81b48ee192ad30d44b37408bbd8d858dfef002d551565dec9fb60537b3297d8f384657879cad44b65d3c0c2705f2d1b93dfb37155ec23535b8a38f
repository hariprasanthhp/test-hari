!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(a=n.key,o=void 0,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(a,"string"))?o:String(o)),n)}var a,o}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[628],{60628:function(e,n,a){a.r(n),a.d(n,{RealtimeModule:function(){return Pt}});var o=a(38583),r=a(86640),s=a(39895),c=a(37716),p=a(1282),l=a(92340),d=a(79765),g=a(26877),u=a(7450),h=a(89097),f=a(85385),m=a(51071),w=a(91841),v=a(12664),b=a(39075),T=a(20904),x=a(20408),Z=a(48483),A=a(3679),k=a(11748),C=a(16628),D=a(98127),y=a(74062),P=a(18638),_=["realtimeFavCreatePop"],O=["recordCreatePop"],M=["recordingModal"],N=["faviouteModal"];function q(t,e){if(1&t&&(c.TgZ(0,"div",6),c._uU(1),c.qZA()),2&t){var i=c.oxw();c.xp6(1),c.hij(" ",i.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function S(t,e){if(1&t&&(c.TgZ(0,"ng-option",29),c._uU(1),c.qZA()),2&t){var i=e.$implicit,n=c.oxw(2);c.Q6J("value",i.id),c.xp6(1),c.Oqu(n.language[i.name]||i.name)}}function E(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"section"),c.TgZ(1,"div",7),c.TgZ(2,"div",8),c.TgZ(3,"div",9),c.TgZ(4,"div",10),c.TgZ(5,"div",11),c.TgZ(6,"div",12),c.TgZ(7,"div",13),c.TgZ(8,"label",14),c._uU(9),c.qZA(),c.TgZ(10,"div",15),c.TgZ(11,"ng-select",16),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw().selectedOption=t}),c.YNc(12,S,2,2,"ng-option",17),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(13,"div",12),c.TgZ(14,"div",18),c.TgZ(15,"label",14),c._uU(16),c.qZA(),c.TgZ(17,"div",19),c.TgZ(18,"input",20,21),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw().sensitiveChecked=t}),c.qZA(),c.TgZ(20,"label",22),c._uU(21),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(22,"div",23),c.TgZ(23,"div",24),c.TgZ(24,"button",25),c.NdJ("click",function(){c.CHM(i);var t=c.MAs(19),e=c.oxw(),n=c.MAs(8);return e.applyFilterOrModal(t.checked,n)}),c._uU(25),c.qZA(),c.qZA(),c.TgZ(26,"div",26),c.TgZ(27,"button",27),c.NdJ("click",function(){return c.CHM(i),c.oxw().clearFilter()}),c._uU(28),c.qZA(),c.TgZ(29,"app-filter-presets",28),c.NdJ("onSelectFilterPreset",function(t){return c.CHM(i),c.oxw().onSelectFilterPreset(t)}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw();c.xp6(9),c.hij(" ",n.language.TTimeFrame," "),c.xp6(2),c.s9C("placeholder",n.language.TMinuteWindow),c.Q6J("searchable",!1)("ngModel",n.selectedOption),c.xp6(1),c.Q6J("ngForOf",n.ddoptions),c.xp6(4),c.hij("",n.language.Privacy," "),c.xp6(2),c.Q6J("ngModel",n.sensitiveChecked),c.xp6(3),c.Oqu(n.language["Show sensitive information"]),c.xp6(4),c.hij(" ",n.language.apply," "),c.xp6(3),c.hij(" ",n.language.Clear_Filters," "),c.xp6(1),c.Q6J("selectedTimeFrame",n.selectedOption)("enableSave",!0)}}function U(t,e){if(1&t&&(c.TgZ(0,"div",32),c.TgZ(1,"div",33),c.TgZ(2,"div",34),c.TgZ(3,"span",35),c._uU(4),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t){var i=c.oxw(2);c.xp6(4),c.Oqu(i.language.Loading)}}function I(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",57),c.NdJ("click",function(){return c.CHM(i),c.oxw(3).createRecordingModal()}),c.TgZ(1,"div",41),c._UZ(2,"img",58),c.qZA(),c.qZA()}if(2&t){var n=c.oxw(3);c.xp6(1),c.s9C("title",n.language.Record)}}function R(t,e){if(1&t&&(c.TgZ(0,"label",59),c.TgZ(1,"span"),c._UZ(2,"img",60),c.qZA(),c._uU(3),c.qZA()),2&t){var i=c.oxw(3);c.xp6(3),c.Oqu(i.language["Record In-Progress"])}}function L(t,e){if(1&t&&c._UZ(0,"app-stream-chart",64),2&t){var i=c.oxw(4);c.Q6J("chartName",i.rate)("yAxixTitle",i.rateUnit)("data",i.data.maxRate)("time",i.data.sendTime)("windowLen",i.windowLen)("history",i.cacheRateData)("selectedFilter",i.selectedTime)}}function F(t,e){if(1&t&&(c.TgZ(0,"div",61),c.TgZ(1,"div",62),c.YNc(2,L,1,7,"app-stream-chart",63),c.qZA(),c.qZA()),2&t){var i=c.oxw(3);c.xp6(2),c.Q6J("ngIf",i.data.maxRate&&i.showRealTime)}}function j(t,e){if(1&t&&c._UZ(0,"app-stream-chart",64),2&t){var i=c.oxw(4);c.Q6J("chartName",i.packet)("yAxixTitle",i.packetUnit)("data",i.data.packet)("time",i.data.sendTime)("windowLen",i.windowLen)("history",i.cachePacketData)("selectedFilter",i.selectedTime)}}function J(t,e){if(1&t&&(c.TgZ(0,"div",65),c.TgZ(1,"div",66),c.YNc(2,j,1,7,"app-stream-chart",63),c.qZA(),c.qZA()),2&t){var i=c.oxw(3);c.xp6(2),c.Q6J("ngIf",i.data.packet&&i.showRealTime)}}function Q(t,e){if(1&t&&c._UZ(0,"app-bar-chart",91),2&t){var i=c.oxw(4);c.Q6J("chartOptions",i.topEndPointUpChartoptions)("type","up")("updateFlag",i.updateFlag)}}function H(t,e){if(1&t&&c._UZ(0,"app-bar-chart",92),2&t){var i=c.oxw(4);c.Q6J("chartOptions",i.topEndPointDownChartoptions)("type","down")("updateFlag",i.updateFlag)}}function Y(t,e){if(1&t&&c._UZ(0,"app-bar-chart",93),2&t){var i=c.oxw(4);c.Q6J("chartOptions",i.topAppsUpChartoptions)("type","up")("updateFlag",i.updateFlag)}}function W(t,e){if(1&t&&c._UZ(0,"app-bar-chart",94),2&t){var i=c.oxw(4);c.Q6J("chartOptions",i.topAppsDownChartoptions)("type","down")("updateFlag",i.updateFlag)}}function G(t,e){if(1&t&&c._UZ(0,"app-bar-chart",93),2&t){var i=c.oxw(4);c.Q6J("chartOptions",i.topLocationsUpChartoptions)("type","up")("updateFlag",i.updateFlag)}}function z(t,e){if(1&t&&c._UZ(0,"app-bar-chart",94),2&t){var i=c.oxw(4);c.Q6J("chartOptions",i.topLocationsDownChartoptions)("type","down")("updateFlag",i.updateFlag)}}function V(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",67),c.TgZ(1,"div",68),c.TgZ(2,"div",69),c.TgZ(3,"div",70),c.TgZ(4,"div",71),c.TgZ(5,"p",72),c._uU(6),c.qZA(),c.qZA(),c.TgZ(7,"span",73),c._uU(8),c.qZA(),c._uU(9,"\xa0\xa0 "),c.qZA(),c.TgZ(10,"span",74),c.NdJ("click",function(){return c.CHM(i),c.oxw(3).fullscreen("TEP")}),c.qZA(),c.qZA(),c.TgZ(11,"h5",75),c._uU(12),c.qZA(),c.TgZ(13,"div",76),c.TgZ(14,"div",77),c.TgZ(15,"div",78),c.TgZ(16,"span",18),c._uU(17),c.TgZ(18,"b"),c._uU(19),c.qZA(),c._uU(20),c.qZA(),c.qZA(),c.YNc(21,Q,1,3,"app-bar-chart",79),c.qZA(),c.TgZ(22,"div",80),c.TgZ(23,"div",78),c.TgZ(24,"span",18),c._uU(25),c.TgZ(26,"b"),c._uU(27),c.qZA(),c._uU(28),c.qZA(),c.qZA(),c.YNc(29,H,1,3,"app-bar-chart",81),c.qZA(),c.qZA(),c.qZA(),c.TgZ(30,"div",82),c.TgZ(31,"div",83),c.TgZ(32,"div",71),c.TgZ(33,"p",72),c._uU(34),c.qZA(),c.qZA(),c.TgZ(35,"span",73),c._uU(36),c.qZA(),c._uU(37,"\xa0\xa0 "),c.TgZ(38,"span",84),c.NdJ("click",function(){return c.CHM(i),c.oxw(3).fullscreen("TAPP")}),c.qZA(),c.qZA(),c.TgZ(39,"h5",75),c._uU(40),c.qZA(),c.TgZ(41,"div",76),c.TgZ(42,"div",85),c.TgZ(43,"div",78),c.TgZ(44,"span",18),c._uU(45),c.TgZ(46,"b"),c._uU(47),c.qZA(),c._uU(48),c.qZA(),c.qZA(),c.YNc(49,Y,1,3,"app-bar-chart",86),c.qZA(),c.TgZ(50,"div",87),c.TgZ(51,"div",78),c.TgZ(52,"span",18),c._uU(53),c.TgZ(54,"b"),c._uU(55),c.qZA(),c._uU(56),c.qZA(),c.qZA(),c.YNc(57,W,1,3,"app-bar-chart",88),c.qZA(),c.qZA(),c.qZA(),c.TgZ(58,"div",89),c.TgZ(59,"div",83),c.TgZ(60,"div",71),c.TgZ(61,"p",72),c._uU(62),c.qZA(),c.qZA(),c.TgZ(63,"span",73),c._uU(64),c.qZA(),c._uU(65,"\xa0\xa0 "),c.TgZ(66,"span",90),c.NdJ("click",function(){return c.CHM(i),c.oxw(3).fullscreen("TLOC")}),c.qZA(),c.qZA(),c.TgZ(67,"h5",75),c._uU(68),c.qZA(),c.TgZ(69,"div",76),c.TgZ(70,"div",85),c.TgZ(71,"div",78),c.TgZ(72,"span",18),c._uU(73),c.TgZ(74,"b"),c._uU(75),c.qZA(),c._uU(76),c.qZA(),c.qZA(),c.YNc(77,G,1,3,"app-bar-chart",86),c.qZA(),c.TgZ(78,"div",87),c.TgZ(79,"div",78),c.TgZ(80,"span",18),c._uU(81),c.TgZ(82,"b"),c._uU(83),c.qZA(),c._uU(84),c.qZA(),c.qZA(),c.YNc(85,z,1,3,"app-bar-chart",88),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw(3);c.xp6(6),c.Oqu(n.language.top5Endpoints),c.xp6(2),c.hij("",n.language.interval,": 15 sec"),c.xp6(2),c.s9C("title",n.language.lossofpon_fullscreen_tip),c.xp6(2),c.hij(" ",n.language["Traffic_ Network_Top 5 Endpoints"],""),c.xp6(5),c.hij("",n.language.upRate," ("),c.xp6(2),c.hij("",n.tEPrcntData.upPercentage,"% "),c.xp6(1),c.hij(" ",n.language.ofTotal,")"),c.xp6(1),c.Q6J("ngIf",n.topEndPointUpChartoptions&&n.showRealTime),c.xp6(4),c.hij("",n.language.downRate," ("),c.xp6(2),c.hij("",n.tEPrcntData.downPercentage,"%"),c.xp6(1),c.hij(" ",n.language.ofTotal,")"),c.xp6(1),c.Q6J("ngIf",n.topEndPointDownChartoptions&&n.showRealTime),c.xp6(5),c.Oqu(n.language.top5Applications),c.xp6(2),c.hij("",n.language.interval,": 15 sec"),c.xp6(2),c.s9C("title",n.language.lossofpon_fullscreen_tip),c.xp6(2),c.hij(" ",n.language["Traffic_ Network_Top 5 Applications"],""),c.xp6(5),c.hij("",n.language.upRate," ("),c.xp6(2),c.hij("",n.tAPrcntData.upPercentage,"% "),c.xp6(1),c.hij("",n.language.ofTotal,")"),c.xp6(1),c.Q6J("ngIf",n.topAppsUpChartoptions&&n.showRealTime),c.xp6(4),c.hij("",n.language.downRate," ("),c.xp6(2),c.hij("",n.tAPrcntData.downPercentage,"%"),c.xp6(1),c.hij(" ",n.language.ofTotal,")"),c.xp6(1),c.Q6J("ngIf",n.topAppsDownChartoptions&&n.showRealTime),c.xp6(5),c.Oqu(n.language.top5Locations),c.xp6(2),c.hij("",n.language.interval,": 15 sec"),c.xp6(2),c.s9C("title",n.language.lossofpon_fullscreen_tip),c.xp6(2),c.hij(" ",n.language["Traffic_ Network_Top 5 Locations"],""),c.xp6(5),c.hij("",n.language.upRate," ("),c.xp6(2),c.hij("",n.tLPrcntData.upPercentage,"% "),c.xp6(1),c.hij("",n.language.ofTotal,")"),c.xp6(1),c.Q6J("ngIf",n.topLocationsUpChartoptions&&!0),c.xp6(4),c.hij("",n.language.downRate," ("),c.xp6(2),c.hij("",n.tLPrcntData.downPercentage,"%"),c.xp6(1),c.hij(" ",n.language.ofTotal,")"),c.xp6(1),c.Q6J("ngIf",n.topLocationsDownChartoptions&&n.showRealTime)}}function B(t,e){if(1&t&&c._UZ(0,"app-bar-chart",103),2&t){var i=c.oxw(4);c.Q6J("chartOptions",i.topEndPointUpChartoptions)("type","up")("updateFlag",i.updateFlag)}}function $(t,e){if(1&t&&c._UZ(0,"app-bar-chart",104),2&t){var i=c.oxw(4);c.Q6J("chartOptions",i.topEndPointDownChartoptions)("type","down")("updateFlag",i.updateFlag)}}var X=function(){return{standalone:!0}};function K(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",95),c.TgZ(1,"div",83),c.TgZ(2,"div",71),c.TgZ(3,"ng-select",96),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw(3).selectedTopLength=t})("change",function(){return c.CHM(i),c.oxw(3).changeTopLength()}),c.qZA(),c.qZA(),c.TgZ(4,"span",73),c._uU(5),c.qZA(),c.TgZ(6,"span",97),c.NdJ("click",function(){return c.CHM(i),c.oxw(3).closeFullscreen()}),c._uU(7,"\xa0 "),c._UZ(8,"i",98),c.qZA(),c.qZA(),c.TgZ(9,"div",99),c._uU(10),c.qZA(),c.TgZ(11,"div",100),c.TgZ(12,"div",80),c.TgZ(13,"div",78),c.TgZ(14,"span",18),c._uU(15),c.TgZ(16,"b"),c._uU(17),c.qZA(),c._uU(18),c.qZA(),c.qZA(),c.YNc(19,B,1,3,"app-bar-chart",101),c.qZA(),c.TgZ(20,"div",80),c.TgZ(21,"div",78),c.TgZ(22,"span",18),c._uU(23),c.TgZ(24,"b"),c._uU(25),c.qZA(),c._uU(26),c.qZA(),c.qZA(),c.YNc(27,$,1,3,"app-bar-chart",102),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw(3);c.xp6(3),c.Q6J("items",n.topLengths)("multiple",!1)("ngModel",n.selectedTopLength)("ngModelOptions",c.DdM(17,X))("clearable",!1)("searchable",!1),c.xp6(2),c.hij("",n.language.interval,": 15 sec"),c.xp6(1),c.s9C("title",n.language.lossofpon_fullscreen_close_tip),c.xp6(4),c.hij(" ",n.language["Traffic_ Network_Top 5 Endpoints"],""),c.xp6(5),c.hij("",n.language.upRate," ("),c.xp6(2),c.hij("",n.tEPrcntData.upPercentage,"%"),c.xp6(1),c.hij(" ",n.language.ofTotal,")"),c.xp6(1),c.Q6J("ngIf",n.topEndPointUpChartoptions&&!0),c.xp6(4),c.hij("",n.language.downRate," ("),c.xp6(2),c.hij("",n.tEPrcntData.downPercentage,"%"),c.xp6(1),c.hij(" ",n.language.ofTotal,")"),c.xp6(1),c.Q6J("ngIf",n.topEndPointDownChartoptions&&!0)}}function tt(t,e){if(1&t&&c._UZ(0,"app-bar-chart",109),2&t){var i=c.oxw(4);c.Q6J("chartOptions",i.topAppsUpChartoptions)("type","up")("updateFlag",i.updateFlag)}}function et(t,e){if(1&t&&c._UZ(0,"app-bar-chart",110),2&t){var i=c.oxw(4);c.Q6J("chartOptions",i.topAppsDownChartoptions)("type","down")("updateFlag",i.updateFlag)}}function it(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",95),c.TgZ(1,"div",83),c.TgZ(2,"div",71),c.TgZ(3,"ng-select",96),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw(3).selectedTopLength=t})("change",function(){return c.CHM(i),c.oxw(3).changeTopLength()}),c.qZA(),c.qZA(),c.TgZ(4,"span",73),c._uU(5),c.qZA(),c.TgZ(6,"span",105),c.NdJ("click",function(){return c.CHM(i),c.oxw(3).closeFullscreen()}),c._UZ(7,"i",98),c.qZA(),c.qZA(),c.TgZ(8,"div",99),c._uU(9),c.qZA(),c.TgZ(10,"div",100),c.TgZ(11,"div",106),c.TgZ(12,"div",78),c.TgZ(13,"span",18),c._uU(14),c.TgZ(15,"b"),c._uU(16),c.qZA(),c._uU(17),c.qZA(),c.qZA(),c.YNc(18,tt,1,3,"app-bar-chart",107),c.qZA(),c.TgZ(19,"div",80),c.TgZ(20,"div",78),c.TgZ(21,"span",18),c._uU(22),c.TgZ(23,"b"),c._uU(24),c.qZA(),c._uU(25),c.qZA(),c.qZA(),c.YNc(26,et,1,3,"app-bar-chart",108),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw(3);c.xp6(3),c.Q6J("items",n.topLengths)("multiple",!1)("ngModel",n.selectedTopLength)("ngModelOptions",c.DdM(17,X))("clearable",!1)("searchable",!1),c.xp6(2),c.hij("",n.language.interval,": 15 sec"),c.xp6(1),c.s9C("title",n.language.lossofpon_fullscreen_close_tip),c.xp6(3),c.hij(" ",n.language["Traffic_ Network_Top 5 Applications"],""),c.xp6(5),c.hij("",n.language.upRate," ("),c.xp6(2),c.hij("",n.tAPrcntData.upPercentage,"%"),c.xp6(1),c.hij(" ",n.language.ofTotal,")"),c.xp6(1),c.Q6J("ngIf",n.topAppsUpChartoptions&&!0),c.xp6(4),c.hij("",n.language.downRate," ("),c.xp6(2),c.hij("",n.tAPrcntData.downPercentage,"%"),c.xp6(1),c.hij(" ",n.language.ofTotal,")"),c.xp6(1),c.Q6J("ngIf",n.topAppsDownChartoptions&&!0)}}function nt(t,e){if(1&t&&c._UZ(0,"app-bar-chart",114),2&t){var i=c.oxw(4);c.Q6J("chartOptions",i.topLocationsUpChartoptions)("type","up")("updateFlag",i.updateFlag)}}function at(t,e){if(1&t&&c._UZ(0,"app-bar-chart",114),2&t){var i=c.oxw(4);c.Q6J("chartOptions",i.topLocationsDownChartoptions)("type","down")("updateFlag",i.updateFlag)}}function ot(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",95),c.TgZ(1,"div",83),c.TgZ(2,"div",71),c.TgZ(3,"ng-select",96),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw(3).selectedTopLength=t})("change",function(){return c.CHM(i),c.oxw(3).changeTopLength()}),c.qZA(),c.qZA(),c.TgZ(4,"span",73),c._uU(5),c.qZA(),c.TgZ(6,"span",111),c.NdJ("click",function(){return c.CHM(i),c.oxw(3).closeFullscreen()}),c._UZ(7,"i",98),c.qZA(),c.qZA(),c.TgZ(8,"div",99),c._uU(9),c.qZA(),c.TgZ(10,"div",112),c.TgZ(11,"div",80),c.TgZ(12,"div",78),c.TgZ(13,"span",18),c._uU(14),c.TgZ(15,"b"),c._uU(16),c.qZA(),c._uU(17),c.qZA(),c.qZA(),c.YNc(18,nt,1,3,"app-bar-chart",113),c.qZA(),c.TgZ(19,"div",80),c.TgZ(20,"div",78),c.TgZ(21,"span",18),c._uU(22),c.TgZ(23,"b"),c._uU(24),c.qZA(),c._uU(25),c.qZA(),c.qZA(),c.YNc(26,at,1,3,"app-bar-chart",113),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw(3);c.xp6(3),c.Q6J("items",n.topLengths)("multiple",!1)("ngModel",n.selectedTopLength)("ngModelOptions",c.DdM(17,X))("clearable",!1)("searchable",!1),c.xp6(2),c.hij("",n.language.interval,": 15 sec"),c.xp6(1),c.s9C("title",n.language.lossofpon_fullscreen_close_tip),c.xp6(3),c.hij(" ",n.language["Traffic_ Network_Top 5 Locations"],""),c.xp6(5),c.hij("",n.language.upRate," ("),c.xp6(2),c.hij("",n.tLPrcntData.upPercentage,"%"),c.xp6(1),c.hij(" ",n.language.ofTotal,")"),c.xp6(1),c.Q6J("ngIf",n.topLocationsUpChartoptions&&!0),c.xp6(4),c.hij("",n.language.downRate," ("),c.xp6(2),c.hij("",n.tLPrcntData.downPercentage,"%"),c.xp6(1),c.hij(" ",n.language.ofTotal,")"),c.xp6(1),c.Q6J("ngIf",n.topLocationsDownChartoptions&&!0)}}function rt(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",36),c.TgZ(1,"div",9),c.TgZ(2,"div",37),c.TgZ(3,"div",38),c.YNc(4,I,3,1,"div",39),c.TgZ(5,"div",40),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).goToRecordingList()}),c.TgZ(6,"div",41),c._UZ(7,"img",42),c.qZA(),c.qZA(),c.YNc(8,R,4,1,"label",43),c.qZA(),c.qZA(),c.TgZ(9,"div",44),c._uU(10),c.qZA(),c.qZA(),c.TgZ(11,"div",45),c.TgZ(12,"div",46),c._uU(13),c.qZA(),c.TgZ(14,"div",47),c._uU(15),c.qZA(),c.TgZ(16,"div",48),c._uU(17),c.qZA(),c.qZA(),c.TgZ(18,"div",49),c.TgZ(19,"div",50),c.YNc(20,F,3,1,"div",51),c.YNc(21,J,3,1,"div",52),c.qZA(),c.YNc(22,V,86,36,"div",53),c.qZA(),c.TgZ(23,"div",54),c.TgZ(24,"div",9),c.TgZ(25,"div",55),c.YNc(26,K,28,18,"div",56),c.YNc(27,it,27,18,"div",56),c.YNc(28,ot,27,18,"div",56),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw(2);c.xp6(4),c.Q6J("ngIf",n.hasWriteAccess),c.xp6(2),c.s9C("title",n.language.History),c.xp6(2),c.Q6J("ngIf",n.recordingStatus),c.xp6(2),c.AsE(" ",n.wsDelay," ",n.language["minute delay"]," "),c.xp6(3),c.AsE(" ",n.language.discoveredCount,": ",n.discoveredCount," "),c.xp6(2),c.AsE(" ",n.language.mappedCount,": ",n.mappedCount," "),c.xp6(2),c.AsE(" ",n.language["Mapped Percentage"],": ",n.mappedPercentage,"% "),c.xp6(2),c.Q6J("hidden",n.fsView),c.xp6(1),c.Q6J("ngIf",n.data.maxRate.length||n.showRealTime),c.xp6(1),c.Q6J("ngIf",n.data.packet.length||n.showRealTime),c.xp6(1),c.Q6J("ngIf",!n.fsView),c.xp6(1),c.Q6J("hidden",!n.fsView),c.xp6(3),c.Q6J("ngIf","TEP"==n.fsChartDetails.topChart),c.xp6(1),c.Q6J("ngIf","TAPP"==n.fsChartDetails.topChart),c.xp6(1),c.Q6J("ngIf","TLOC"==n.fsChartDetails.topChart)}}function st(t,e){if(1&t&&(c.TgZ(0,"section"),c.YNc(1,U,5,1,"div",30),c.YNc(2,rt,29,19,"div",31),c.qZA()),2&t){var i=c.oxw();c.xp6(1),c.Q6J("ngIf",i.loading),c.xp6(1),c.Q6J("ngIf",!i.loading)}}function ct(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",115),c.TgZ(1,"h5",116),c._uU(2),c.qZA(),c.TgZ(3,"button",117),c.NdJ("click",function(){return c.CHM(i),c.oxw().close()}),c._UZ(4,"span",118),c.qZA(),c.qZA(),c.TgZ(5,"div",119),c.TgZ(6,"form"),c.TgZ(7,"div",120),c.TgZ(8,"label",121),c._uU(9),c.qZA(),c._UZ(10,"input",122),c.qZA(),c.qZA(),c.TgZ(11,"div",123),c.TgZ(12,"button",124),c.NdJ("click",function(){return c.CHM(i),c.oxw().createFavioute()}),c._uU(13),c.qZA(),c.TgZ(14,"button",125),c.NdJ("click",function(){return c.CHM(i),c.oxw().close()}),c._uU(15),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw();c.xp6(2),c.Oqu(n.language.CreateTrafficFavorite),c.xp6(7),c.Oqu(n.language.Name),c.xp6(1),c.s9C("placeholder",n.language.Name),c.xp6(3),c.hij(" ",n.language.Confirm," "),c.xp6(2),c.hij(" ",n.language.Cancel," ")}}function pt(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",147),c.TgZ(1,"span",148),c._UZ(2,"img",149),c.qZA(),c.TgZ(3,"button",150),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).closeAlert()}),c._UZ(4,"span"),c.qZA(),c._UZ(5,"div",151),c.qZA()}if(2&t){var n=c.oxw(2);c.xp6(5),c.Q6J("innerHtml",n.language[n.errorInfo]||n.errorInfo,c.oJD)}}function lt(t,e){if(1&t&&(c.TgZ(0,"div"),c.TgZ(1,"span",152),c._uU(2),c.qZA(),c.qZA()),2&t){var i=c.oxw(2);c.xp6(2),c.hij(" ",i.language["Please enter the name"]," ")}}function dt(t,e){if(1&t&&(c.TgZ(0,"label",153),c.TgZ(1,"span"),c._UZ(2,"img",60),c.qZA(),c._uU(3),c.qZA()),2&t){var i=c.oxw(2);c.xp6(3),c.Oqu(i.language["Record In-Progress"])}}function gt(t,e){if(1&t&&c._uU(0),2&t){var i=e.item,n=c.oxw(2);c.hij(" ",n.language[i.name]||i.name," ")}}function ut(t,e){if(1&t&&c._uU(0),2&t){var i=e.item,n=c.oxw(2);c.hij(" ",n.language[i.name]||i.name," ")}}var ht=function(){return{width:"100%",height:"38px"}},ft=function(){return{height:"36px"}};function mt(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",115),c.TgZ(1,"h5",116),c._uU(2),c.qZA(),c.TgZ(3,"button",117),c.NdJ("click",function(){return c.CHM(i),c.oxw().close()}),c._UZ(4,"span",118),c.qZA(),c.qZA(),c.TgZ(5,"div",126),c.YNc(6,pt,6,1,"div",127),c.qZA(),c.TgZ(7,"div",119),c.TgZ(8,"div",128),c.TgZ(9,"label",129),c._uU(10),c.TgZ(11,"span",130),c._uU(12,"*"),c.qZA(),c.qZA(),c.TgZ(13,"input",131),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw().recordingName=t})("change",function(){return c.CHM(i),c.oxw().changeName()})("blur",function(){c.CHM(i);var t=c.oxw();return t.removeUnwantedSpace("recordingName",t.recordingName)}),c.qZA(),c.YNc(14,lt,3,1,"div",1),c.qZA(),c.TgZ(15,"div",128),c.TgZ(16,"label",132),c._uU(17),c.qZA(),c.TgZ(18,"textarea",133),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw().description=t})("blur",function(){c.CHM(i);var t=c.oxw();return t.removeUnwantedSpace("description",t.description)}),c.qZA(),c.qZA(),c.TgZ(19,"div",18),c.TgZ(20,"span",70),c._uU(21),c.TgZ(22,"span",130),c._uU(23,"*"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"div",134),c.TgZ(25,"label",135),c._uU(26),c.qZA(),c.TgZ(27,"input",136),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw().isNow=t})("change",function(){return c.CHM(i),c.oxw().changeNowAndLater()}),c.qZA(),c.qZA(),c.TgZ(28,"div",134),c.TgZ(29,"label",137),c._uU(30),c.qZA(),c.TgZ(31,"input",138),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw().isNow=t})("change",function(){return c.CHM(i),c.oxw().changeNowAndLater()}),c.qZA(),c.TgZ(32,"p-calendar",139),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw().date=t}),c.qZA(),c.YNc(33,dt,4,1,"label",140),c.qZA(),c.TgZ(34,"div",141),c.TgZ(35,"label",142),c._uU(36),c.TgZ(37,"span",130),c._uU(38,"*"),c.qZA(),c.qZA(),c.TgZ(39,"ng-select",143),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw().selectedDuration=t}),c.YNc(40,gt,1,1,"ng-template",144),c.YNc(41,ut,1,1,"ng-template",145),c.qZA(),c.qZA(),c.TgZ(42,"div",123),c.TgZ(43,"button",146),c.NdJ("click",function(){return c.CHM(i),c.oxw().createRecording()}),c._uU(44),c.qZA(),c.TgZ(45,"button",125),c.NdJ("click",function(){return c.CHM(i),c.oxw().close()}),c._uU(46),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw();c.xp6(2),c.Oqu(n.language.CreateTrafficRecording),c.xp6(4),c.Q6J("ngIf",n.error),c.xp6(4),c.hij("",n.language.Name," "),c.xp6(3),c.s9C("placeholder",n.language.Name),c.Q6J("ngModel",n.recordingName),c.xp6(1),c.Q6J("ngIf",!n.isvalid),c.xp6(3),c.hij(" ",n.language.Description," "),c.xp6(1),c.MGl("placeholder","",n.language.Description,".."),c.Q6J("ngModel",n.description),c.xp6(3),c.hij(" ",n.language["Start Time"]," "),c.xp6(5),c.Oqu(n.language.Now),c.xp6(1),c.Q6J("value",!0)("ngModel",n.isNow)("checked",n.isNow)("disabled",n.recordingStatus),c.xp6(3),c.Oqu(n.language.Later),c.xp6(1),c.Q6J("value",!1)("ngModel",n.isNow),c.xp6(1),c.Akn(c.DdM(40,ht)),c.s9C("placeholder",n.language.Date),c.Q6J("inputStyle",c.DdM(41,ft))("autoZIndex",!0)("ngModel",n.date)("showIcon",!0)("showTime",!0)("hourFormat",24)("ngModelOptions",c.DdM(42,X))("disabled",n.showDate)("minDate",n.minDate),c.xp6(1),c.Q6J("ngIf",n.recordingStatus),c.xp6(3),c.hij("",n.language["Record Length"]," "),c.xp6(3),c.Q6J("items",n.items)("ngModel",n.selectedDuration)("ngModelOptions",c.DdM(43,X))("clearable",!1)("searchable",!1),c.xp6(4),c.Q6J("disabled",n.btnDisabled),c.xp6(1),c.hij(" ",n.language.Confirm," "),c.xp6(2),c.hij(" ",n.language.Cancel," ")}}function wt(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",154),c.TgZ(1,"button",155),c.NdJ("click",function(){var t=c.CHM(i).$implicit;return c.oxw().sensitiveModalCancel(t)}),c._UZ(2,"span",118),c.qZA(),c.TgZ(3,"div",156),c.TgZ(4,"div",157),c.TgZ(5,"div",158),c._UZ(6,"span"),c.qZA(),c.TgZ(7,"div",159),c.TgZ(8,"div",160),c._uU(9),c.qZA(),c.TgZ(10,"div",161),c.TgZ(11,"div",162),c._UZ(12,"input",163,164),c.qZA(),c.TgZ(14,"div",165),c.TgZ(15,"label",166),c._uU(16),c.qZA(),c.qZA(),c.qZA(),c.TgZ(17,"div",167),c.TgZ(18,"button",168),c.NdJ("click",function(){return c.CHM(i),c.oxw().confirmShow()}),c._uU(19),c.qZA(),c.TgZ(20,"button",169),c.NdJ("click",function(){var t=c.CHM(i).$implicit;return c.oxw().sensitiveModalCancel(t)}),c._uU(21),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.MAs(13),a=c.oxw();c.xp6(9),c.hij(" ",a.language["Identifiable information msg"]," "),c.xp6(7),c.hij("",a.language["Access confirm msg"]," "),c.xp6(2),c.Q6J("disabled",!n.checked),c.xp6(1),c.hij(" ",a.language.Confirm," "),c.xp6(2),c.hij(" ",a.language.Cancel," ")}}var vt,bt="TEP",Tt="TAPP",xt="TLOC",Zt=[{path:"",component:(vt=function(){function e(i,n,a,o,r,s,l,g,u,h,f){t(this,e),this.router=i,this.customTranslateService=n,this.sso=a,this.optnsMngr=o,this.websocketservice=r,this.http=s,this.dialogService=l,this.titleService=g,this.CommonFunctionsService=u,this.callOutComeService=h,this.dateUtils=f,this.pageAvailable=!1,this.topEndPointUpXaxisArray=[],this.topEndPointUpXaxisIdArray=[],this.topEndPointUpXaxisSelection=!1,this.topEndPointDownXaxisArray=[],this.topEndPointDownXaxisIdArray=[],this.topEndPointDownXaxisSelection=!1,this.topAppsUpXaxisArray=[],this.topAppsUpXaxisIdArray=[],this.topAppsUpXaxisSelection=!1,this.topAppsDownXaxisArray=[],this.topAppsDownXaxisIdArray=[],this.topAppsDownXaxisSelection=!1,this.topLocationsUpXaxisArray=[],this.topLocationsUpXaxisIdArray=[],this.topLocationsUpXaxisSelection=!1,this.topLocationsDownXaxisArray=[],this.topLocationsDownXaxisIdArray=[],this.topLocationsDownXaxisSelection=!1,this.selectedTopLength=5,this.topLengths=[],this.updateFlag=!0,this.fsView=!1,this.fsChartDetails={},this.showChart=!1,this.Highcharts=p,this.loading=!0,this.recordingComponent=c.wA2,this.favoriteComponent=c.wA2,this.startDate=new Date,this.rate="",this.packet="",this.createFavorite=!0,this.createRecord=!0,this.windowLen=5,this.ddoptions=[{id:1,name:"5 Minutes window"},{id:2,name:"10 Minutes window"},{id:3,name:"15 Minutes window"},{id:4,name:"20 Minutes window"},{id:5,name:"25 Minutes window"},{id:6,name:"30 Minutes window"}],this.selectedOption=1,this.selectedTime=1,this.sensitiveChecked=!1,this.status="ONLINE",this.isConnected=!0,this.hasLocationAccess=!1,this.hasApplicationAccess=!1,this.hasNetworkAccess=!1,this.discoveredCount=0,this.mappedCount=0,this.mappedPercentage=0,this.mappedPercentage$=new d.xQ,this.hasWriteAccess=!1,this.isCcoTraffic=!1,this.fsName="",this.data={maxRate:[],packet:[]},this.showRealTime=!1,this.tAPrcntData={downPercentage:"0",upPercentage:"0"},this.tLPrcntData={downPercentage:"0",upPercentage:"0"},this.tEPrcntData={downPercentage:"0",upPercentage:"0"},this.tAData={upData:[],downData:[]},this.tLData={upData:[],downData:[]},this.tEPData={upData:[],downData:[]},this.showBars=!1,this.showTEPBars=!1,this.cachePacketData={},this.cacheRateData={},this.rateUnit="bps",this.packetUnit="pps",this.tepUpDataObj={},this.tepDownDataObj={},this.tapUpDataObj={},this.tapDownDataObj={},this.tlocUpDataObj={},this.tlocDownDataObj={},this.date=new Date,this.items=[{name:"0.5 Hour",value:"1"},{name:"1 Hour",value:"2"},{name:"1.5 Hour",value:"3"},{name:"2 Hour",value:"4"}],this.selectedDuration="1",this.isNow=!0,this.recordingName="",this.description="",this.isvalid=!0,this.minDate=new Date,this.btnDisabled=!1,this.errorInfo="",this.error=!1,this.showDate=!0,this.recordingStatus=!1,this.connectionError=!1,this.connectionErrorInfo="",this.timeDiff=0,this.websocketservice.previousURL.includes("/cco/traffic/locations/reports")||this.websocketservice.previousURL.includes("/cco/traffic/applications/reports")?this.router.navigate(["/cco/traffic/network/reports"]):(this.websocketservice.previousURL="",window.location.pathname.indexOf("/cco/traffic/")>-1&&(this.isCcoTraffic=!0),this.websocketservice.rtData$.next({}),this.websocketservice.ratePacketStreamData$.next({}),this.websocketservice.setMonitorType("NET"),this.loading=!0,this.ORG_ID=this.sso.getOrganizationID(this.router.url))}return i(e,[{key:"setTitle",value:function(t){this.titleService.setTitle(this.isCcoTraffic?"".concat(this.language["Real Time"]," - ").concat(this.language.Network," - ").concat(this.language.Traffic," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"]):"".concat(this.language["Real Time"]," - ").concat(this.language.Network," - ").concat(this.language.Traffic," - ").concat(this.language.flowconfiguration," - ").concat(this.language.administration," - ").concat(this.language["Calix Cloud"]))}},{key:"ngOnInit",value:function(){var t,e=this;this.sensitiveChecked="true"==sessionStorage.getItem("showSensitiveInfo");var i=this;document.addEventListener("visibilitychange",function(){if(!document.hidden&&i.websocketservice.getCurrentMonitorInfo("NET")){var t=i.websocketservice.getCurrentMonitorInfo("NET");if(t&&t.monitorId&&t.monitorId===i.orgid_tenantid){var e={orgId:t.orgId,monitorType:"NET",networkId:t.networkId,monitorId:t.monitorId,graphType:"TRF",replay:"true",startTime:t.startTime,endTime:(new Date).getTime()};return void i.send("NET",e)}i.websocketservice.listen("REPLAY")}}),this.webSocketConnectionError(),this.getRecordingStatus(),this.checkLastSubscriptiontime(),this.language=this.customTranslateService.defualtLanguage,this.rate=this.language.RATE,this.packet=this.language.PACKET,this.language&&(this.pageAvailable=!0),this.customTranslateService.selectedLanguage.subscribe(function(t){e.rate=t.RATE,e.packet=t.PACKET,e.language=t,e.ddoptions=[{id:1,name:"5 Minutes window"},{id:2,name:"10 Minutes window"},{id:3,name:"15 Minutes window"},{id:4,name:"20 Minutes window"},{id:5,name:"25 Minutes window"},{id:6,name:"30 Minutes window"}],e.fsView&&e.createTopLengthItems(),e.topAppsUpChartoptions=null,e.topAppsDownChartoptions=null,e.topEndPointUpChartoptions=null,e.topEndPointDownChartoptions=null,e.topLocationsUpChartoptions=null,e.topLocationsDownChartoptions=null,setTimeout(function(){var t=e.optnsMngr.getNetworkRealTimeGraphData(bt);e.makeTEPEvents(t);var i=e.optnsMngr.getNetworkRealTimeGraphData(Tt);e.makeTAPPEvents(i);var n=e.optnsMngr.getNetworkRealTimeGraphData(xt);e.makeTLOCEvents(n)},300),e.setTitle(e.router.url)}),this.setTitle(this.router.url);var n=this.sso.getScopes();if(l.N.VALIDATE_SCOPE&&this.isCcoTraffic){n&&-1!==n["cloud.rbac.coc.traffic.network.realtime"].indexOf("write")&&(this.hasWriteAccess=!0);var a=Object.keys(n);if(a)for(var o=0;o<a.length;o++)-1!==a[o].indexOf("cloud.rbac.coc.traffic.network.realtime")&&(this.hasNetworkAccess=!0),-1!==a[o].indexOf("cloud.rbac.coc.traffic.location.realtime")&&(this.hasLocationAccess=!0),-1!==a[o].indexOf("cloud.rbac.coc.traffic.applications.realtime")&&(this.hasApplicationAccess=!0)}else this.hasNetworkAccess=!0,this.hasLocationAccess=!0,this.hasApplicationAccess=!0;if(!this.hasNetworkAccess)return this.sso.setPageAccess(!1),void this.router.navigate(["/cco/traffic/network/reports"]);if(this.sso.setPageAccess(!0),this.delaySub=this.websocketservice.delay$.subscribe(function(t){t&&(e.wsDelay=Math.abs(e.sso.getRealtimeDelay())/6e4,e.wsDelay=Number.isInteger(e.wsDelay)?e.wsDelay:e.wsDelay.toFixed(1))}),this.getCount(),this.getMappedPercentage(),this.getRtData(),this.optnsMngr.removeTopNTrafficFromLS(),this.topLengths=[{name:"Top 5",value:5}],this.orgId=this.sso.getOrganizationID(this.router.url),this.orgid_tenantid=this.orgId+"_0",this.websocketservice.getCurrentMonitorInfo("NET")){var r=this.websocketservice.getCurrentMonitorInfo("NET");if(r&&r.monitorId&&r.monitorId===this.orgid_tenantid){this.websocketservice.getWindowLen()&&(this.selectedOption=this.websocketservice.getWindowLen(),this.selectedTime=this.websocketservice.getWindowLen());var s={orgId:r.orgId,monitorType:"NET",networkId:r.networkId,monitorId:r.monitorId,graphType:"TRF",replay:"true",startTime:r.startTime,endTime:(new Date).getTime()};return void this.send("NET",s)}}this.connectSubs=this.websocketservice.connectWS$.subscribe(function(t){t&&!e.websocketservice.WebSocketServer.hasDisconnectedOnce&&(console.log("trying to send the message after successfull connection "),e.websocketservice.listen("NET"),e.websocketservice.listen("REPLAY"),e.websocketservice.listen("error_traffic_NET"),e.send("NET",{orgId:e.orgId,monitorType:"NET",networkId:e.orgid_tenantid,monitorId:e.orgid_tenantid,graphType:"TRF,TAPP,TLOC,TEP"}))}),this.websocketservice.setWindowLen(this.selectedOption),this.reConnectWebSocket(),setTimeout(function(){e.loading=!1},15e3),this.orgidfromlocal=null!==(t=localStorage.getItem("calix.org_id"))&&void 0!==t?t:" ",this.loginData=localStorage.getItem("calix.login_data")?JSON.parse(localStorage.getItem("calix.login_data")):"",this.secureAccessRole=sessionStorage.getItem("Orgacceforssid")?"Calix":"BSP"}},{key:"getCount",value:function(){var t=this;this.http.get("".concat(l.N.faAdminCorrelatorURL,"flowendpoint/count?discovered=true&org-id=").concat(this.ORG_ID)).subscribe(function(e){t.mappedCount=e,t.discoveredCount=t.discoveredCount+e,t.mappedPercentage$.next()},function(t){}),this.http.get("".concat(l.N.faAdminCorrelatorURL,"flowendpoint/unmapped/count?org-id=").concat(this.ORG_ID,"&source=true")).subscribe(function(e){setTimeout(function(){t.discoveredCount=t.discoveredCount+e,t.mappedPercentage$.next()},500)},function(t){})}},{key:"getMappedPercentage",value:function(){var t=this;this.mappedSubscription=this.mappedPercentage$.subscribe(function(e){t.mappedPercentage=t.mappedCount/t.discoveredCount*100,t.mappedPercentage=t.mappedPercentage?t.mappedPercentage.toFixed(2):0})}},{key:"send",value:function(t,e){this.websocketservice.emit(t,e)}},{key:"applyFilterOrModal",value:function(t,e){t&&"true"!=sessionStorage.getItem("showSensitiveInfo")?this.modalOpener(e):(sessionStorage.setItem("showSensitiveInfo",t?"true":"false"),this.endpointSensitiveData&&this.makeTEPEvents(this.endpointSensitiveData),this.applyFilter())}},{key:"onSelectFilterPreset",value:function(t){this.selectedOption=t.settingJsonTyped.timeFrame}},{key:"applyFilter",value:function(){if(this.selectedTime=this.selectedOption,this.websocketservice.getCurrentMonitorInfo("NET")){var t=this.websocketservice.getCurrentMonitorInfo("NET");if(t&&t.monitorId){var e={orgId:t.orgId,monitorType:"NET",networkId:t.networkId,monitorId:t.monitorId,graphType:"TRF",replay:"true",startTime:t.startTime,endTime:(new Date).getTime()};this.send("NET",e)}}this.websocketservice.listen("REPLAY")}},{key:"clearFilter",value:function(){this.selectedOption=1,this.selectedTime=1}},{key:"ngAfterViewInit",value:function(){this.favoriteComponent=this.realtimeFavCreatePop,this.recordingComponent=this.recordCreatePop}},{key:"fullscreen",value:function(t){this.fsChartDetails={topChart:t},this.fsView=!0,this.fsName=t,this.modifyCurrentOptionsToFS(t),this.createTopLengthItems()}},{key:"closeFullscreen",value:function(){if(this.selectedTopLength=5,this.fsView=!1,"TEP"===this.fsName){var t=this.optnsMngr.getNetworkRealTimeGraphData(bt);this.makeTEPEvents(t)}else if("TAPP"===this.fsName){var e=this.optnsMngr.getNetworkRealTimeGraphData(Tt);this.makeTAPPEvents(e)}else if("TLOC"===this.fsName){var i=this.optnsMngr.getNetworkRealTimeGraphData(xt);this.makeTLOCEvents(i)}this.fsName="",this.fsChartDetails={}}},{key:"modifyCurrentOptionsToFS",value:function(t){switch(t){case"TEP":this.fsChartDetails={topChart:"TEP",title:"Endpoints"};var e=this.optnsMngr.getNetworkRealTimeGraphData(bt);this.makeTEPEvents(e);break;case"TAPP":this.fsChartDetails={topChart:"TAPP",title:"Applications"};var i=this.optnsMngr.getNetworkRealTimeGraphData(Tt);this.makeTAPPEvents(i);break;case"TLOC":this.fsChartDetails={topChart:"TLOC",title:"Locations"};var n=this.optnsMngr.getNetworkRealTimeGraphData(xt);this.makeTLOCEvents(n)}}},{key:"getFSPointWidth",value:function(t){var e=14;switch(t){case 5:e=60;break;case 10:e=30;break;case 20:e=15;break;case 30:e=10}return e}},{key:"createTopLengthItems",value:function(){this.language&&this.fsChartDetails.title&&(this.topLengths=[{name:this.language["Top 5 "+this.fsChartDetails.title],value:5},{name:this.language["Top 10 "+this.fsChartDetails.title],value:10},{name:this.language["Top 20 "+this.fsChartDetails.title],value:20},{name:this.language["Top 30 "+this.fsChartDetails.title],value:30}])}},{key:"ngOnDestroy",value:function(){this.rtSubscription&&this.rtSubscription.unsubscribe(),this.ratePacketStreamSubscription&&this.ratePacketStreamSubscription.unsubscribe(),this.cacheDataSubscription&&this.cacheDataSubscription.unsubscribe(),this.epSearchSbcrptn&&this.epSearchSbcrptn.unsubscribe(),this.tASource&&this.tASource.close(),this.tESource&&this.tESource.close(),this.tLsource&&this.tLsource.close(),this.mappedSubscription&&this.mappedSubscription.unsubscribe(),this.websocketservice.clearReplayData(),this.interval&&(clearInterval(this.interval),this.interval=null),this.websocketservice.rtData$.next({}),this.reConnectSubscription&&this.reConnectSubscription.unsubscribe(),this.connectionErSubscription&&this.connectionErSubscription.unsubscribe(),this.wsNoResponseSubscription&&this.wsNoResponseSubscription.unsubscribe(),this.statusSubs&&this.statusSubs.unsubscribe(),this.recordSubs&&this.recordSubs.unsubscribe(),this.recordErrorSubscription&&this.recordErrorSubscription.unsubscribe(),this.recordWsSubscription&&this.recordWsSubscription.unsubscribe(),this.connectSubs&&this.connectSubs.unsubscribe(),this.delaySub&&this.delaySub.unsubscribe()}},{key:"checkAllOptions",value:function(){var t=this;this.checkAllOptionsInterval=setInterval(function(){t.topEndPointUpChartoptions&&t.topEndPointDownChartoptions&&t.topAppsUpChartoptions&&t.topAppsDownChartoptions&&t.topLocationsUpChartoptions&&t.topLocationsDownChartoptions&&(t.loading=!1,t.showChart=!0,clearInterval(t.checkAllOptionsInterval))},500)}},{key:"getRtData",value:function(){var t=this;this.rtSubscription&&this.rtSubscription.unsubscribe(),this.ratePacketStreamSubscription&&this.ratePacketStreamSubscription.unsubscribe(),this.cacheDataSubscription&&this.cacheDataSubscription.unsubscribe(),this.cacheDataSubscription=this.websocketservice.cacheData$.subscribe(function(e){t.loading=!1,console.log("cache data subscription",e),t.cachePacketData=e.packet,t.cacheRateData=e.rate}),this.ratePacketStreamSubscription=this.websocketservice.ratePacketStreamData$.subscribe(function(e){console.log("subscription data",e),t.showRealTime=!0,"NET"==e.monitorType&&(t.lastSubscriptionTime=(new Date).getTime(),t.loading=!1,t.connectionError=!1,"TRF"===e.graphType?(t.data=e,t.showRealTime=!0):t.showBars=!1)}),this.rtSubscription=this.websocketservice.rtData$.subscribe(function(e){if("NET"==e.monitorType&&(t.lastRtSubscriptionTime=(new Date).getTime(),t.loading=!1,"TAPP"===e.graphType&&(t.topAppsUpChartoptions=null,t.optnsMngr.setNetworkRealTimeGraphData(Tt,e),t.makeTAPPEvents(e)),"TEP"===e.graphType&&(t.topEndPointUpChartoptions=null,t.optnsMngr.setNetworkRealTimeGraphData(bt,e),t.makeTEPEvents(e)),"TLOC"===e.graphType)){t.topLocationsUpChartoptions=null;var i=e.upData.findIndex(function(t){return"Unknown"===t.name&&"00000000-0000-0000-0000-000000000000"===t.id});i>-1&&e.upData.splice(i,1);var n=e.downData.findIndex(function(t){return"Unknown"===t.name&&"00000000-0000-0000-0000-000000000000"===t.id});n>-1&&e.downData.splice(n,1),t.optnsMngr.setNetworkRealTimeGraphData(xt,e),t.makeTLOCEvents(e)}})}},{key:"confirmShow",value:function(){var t,e=this,i={accessType:this.secureAccessRole,accountId:"",accountName:"",action:"pii",actionTimestamp:this.dateUtils.currentDateToUTC(),deviceId:"",deviceType:"",objectType:"Traffic/Top Endpoints",orgId:this.orgidfromlocal,originator:null===(t=this.loginData)||void 0===t?void 0:t.username,description:"Show PII subscriber data"};this.callOutComeService.Savepasspharseauditlog(i).subscribe(function(t){t&&(e.loading=!1)},function(t){e.error=!0,e.errorInfo=t.errorMessage}),sessionStorage.setItem("showSensitiveInfo","true"),this.endpointSensitiveData&&this.makeTEPEvents(this.endpointSensitiveData),this.applyFilter(),setTimeout(function(){return e.dialogService.dismissAll()},200)}},{key:"makeTEPEvents",value:function(t){var e,i;this.endpointSensitiveData=JSON.parse(JSON.stringify(t)),"true"!=sessionStorage.getItem("showSensitiveInfo")&&(null===(e=t.upData)||void 0===e||e.forEach(function(t){return t.name=(0,g.C)(t.name)}),null===(i=t.downData)||void 0===i||i.forEach(function(t){return t.name=(0,g.C)(t.name)})),this.tEPrcntData={downPercentage:t.downPercentage?t.downPercentage:0,upPercentage:t.upPercentage?t.upPercentage:0};var n=this.fsView&&"TEP"===this.fsName?this.selectedTopLength:5,a=t.upData.length,o=t.downData.length;a>=n&&(a=n),o>=n&&(o=n),this.tEPrcntData.upPercentage=this.websocketservice.calculatePercentage(t.upTotal,t.upData,n),this.tEPrcntData.downPercentage=this.websocketservice.calculatePercentage(t.downTotal,t.downData,n),this.settepUpDataObj(t.upData),this.settepDownDataObj(t.downData),this.tEPData.upData=t.upData,this.tEPData.downData=t.downData;var r=this.optnsMngr.makeOptionsForRTBC(t,"bar","upData",n,this.fsView),s=this.optnsMngr.makeOptionsForRTBC(t,"bar","downData",n,this.fsView);r.chart.height=this.fsView&&"TEP"===this.fsName?560:160,r.plotOptions.series.pointWidth=this.fsView&&"TEP"===this.fsName?this.getFSPointWidth(a):14,s.chart.height=this.fsView&&"TEP"===this.fsName?560:160,s.plotOptions.series.pointWidth=this.fsView&&"TEP"===this.fsName?this.getFSPointWidth(o):14;var c=this,p="/cco/traffic/endpoints/realtime";this.isCcoTraffic||(p=this.router.url.indexOf("/".concat(l.N.SYS_ADMIN_ROUTE,"/"))>-1?"/systemAdministration/flowAnalyze/traffic/endpoint/realtime":"/organization-admin/flowAnalyze/traffic/endpoint/realtime"),r.xAxis.labels={useHTML:!0,style:{color:"#007bff",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden",fontSize:"13px",fontWeight:500},formatter:function(){return'<span  class="text-primary axis_label" title="'.concat(this.value[0],'" style="cursor:pointer">').concat(this.value[0],"</span>")},events:{click:function(t){window.sessionStorage.setItem("endpointName",this.axis.categories[this.pos][0]),c.navigationByUrl(this.category="",this.axis.categories[this.pos][1],"Endpoints")},contextmenu:function(t){t.preventDefault(),window.sessionStorage.setItem("endpointName",this.axis.categories[this.pos][0]);var e=window.location.origin+p+"?id="+this.axis.categories[this.pos][1];window.open(e,"_blank")}}},r.plotOptions.series.point.events={click:function(t){window.sessionStorage.setItem("endpointName",this.category[0]),c.navigationByUrl(this.category[0],this.category[1],"Endpoints")}},s.xAxis.labels={useHTML:!0,style:{color:"#007bff",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden",fontSize:"13px",fontWeight:500},formatter:function(){return'<span  class="text-primary axis_label" title="'.concat(this.value[0],'" style="cursor:pointer">').concat(this.value[0],"</span>")},events:{click:function(t){window.sessionStorage.setItem("endpointName",this.axis.categories[this.pos][0]),c.navigationByUrl(this.category="",this.axis.categories[this.pos][1],"Endpoints")},contextmenu:function(t){t.preventDefault(),window.sessionStorage.setItem("endpointName",this.axis.categories[this.pos][0]);var e=window.location.origin+p+"?id="+this.axis.categories[this.pos][1];window.open(e,"_blank")}}},s.plotOptions.series.point.events={click:function(t){window.sessionStorage.setItem("endpointName",this.category[0]),c.navigationByUrl(this.category[0],this.category[1],"Endpoints")}},s.plotOptions.series.color="#5ACFEA",r=Object.assign({},r),s=Object.assign({},s),this.topEndPointUpChartoptions=r,this.topEndPointDownChartoptions=s}},{key:"makeTLOCEvents",value:function(t){this.tLPrcntData={downPercentage:t.downPercentage?t.downPercentage:0,upPercentage:t.upPercentage?t.upPercentage:0};var e=this.fsView&&"TLOC"===this.fsName?this.selectedTopLength:5,i=t.upData.length,n=t.downData.length;i>=e&&(i=e),n>=e&&(n=e),this.tLPrcntData.upPercentage=this.websocketservice.calculatePercentage(t.upTotal,t.upData,e),this.tLPrcntData.downPercentage=this.websocketservice.calculatePercentage(t.downTotal,t.downData,e),this.settlocUpDataObj(t.upData),this.settlocDownDataObj(t.downData),this.tLData.upData=t.upData,this.tLData.downData=t.downData;var a=this.optnsMngr.makeOptionsForRTBC(t,"bar","upData",e,this.fsView),o=this.optnsMngr.makeOptionsForRTBC(t,"bar","downData",e,this.fsView);a.chart.height=this.fsView&&"TLOC"===this.fsName?560:160,delete a.chart.width,a.plotOptions.series.pointWidth=this.fsView&&"TLOC"===this.fsName?this.getFSPointWidth(i):14,o.chart.height=this.fsView&&"TLOC"===this.fsName?560:160,delete o.chart.width,o.plotOptions.series.pointWidth=this.fsView&&"TLOC"===this.fsName?this.getFSPointWidth(n):14;var r=this,s="/cco/traffic/locations/realtime";this.isCcoTraffic||(s=this.router.url.indexOf("/".concat(l.N.SYS_ADMIN_ROUTE,"/"))>-1?"/systemAdministration/flowAnalyze/traffic/location/realtime":"/organization-admin/flowAnalyze/traffic/location/realtime"),a.xAxis.labels={useHTML:!0,style:{color:"#007bff",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden",fontSize:"13px",fontWeight:500},formatter:function(){return'<span  class="text-primary axis_label" title="'.concat(this.value[0],'" style="cursor:pointer">').concat(this.value[0],"</span>")},events:{click:function(t){r.hasLocationAccess&&r.router.navigate([s],{queryParams:{id:this.axis.categories[this.pos][1]}})},contextmenu:function(t){if(r.hasLocationAccess){t.preventDefault();var e=window.location.origin+s+"?id="+this.axis.categories[this.pos][1];window.open(e,"_blank")}}}},a.plotOptions.series.point.events={click:function(t){r.hasLocationAccess&&r.router.navigate([s],{queryParams:{id:this.category[1]}})}},o.xAxis.labels={useHTML:!0,style:{color:"#007bff",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden",fontSize:"13px",fontWeight:500},formatter:function(){return'<span  class="text-primary axis_label" title="'.concat(this.value[0],'" style="cursor:pointer">').concat(this.value[0],"</span>")},events:{click:function(t){r.hasLocationAccess&&r.router.navigate([s],{queryParams:{id:this.axis.categories[this.pos][1]}})},contextmenu:function(t){if(r.hasLocationAccess){t.preventDefault();var e=window.location.origin+s+"?id="+this.axis.categories[this.pos][1];window.open(e,"_blank")}}}},o.plotOptions.series.point.events={click:function(t){r.hasLocationAccess&&r.router.navigate([s],{queryParams:{id:this.category[1]}})}},o.plotOptions.series.color="#5ACFEA",this.topLocationsUpChartoptions=Object.assign({},a),this.topLocationsDownChartoptions=Object.assign({},o)}},{key:"makeTAPPEvents",value:function(t){this.tAPrcntData={downPercentage:t.downPercentage?t.downPercentage:0,upPercentage:t.upPercentage?t.upPercentage:0};var e=this.fsView&&"TAPP"===this.fsName?this.selectedTopLength:5,i=t.upData.length,n=t.downData.length;i>=e&&(i=e),n>=e&&(n=e),this.tAPrcntData.upPercentage=this.websocketservice.calculatePercentage(t.upTotal,t.upData,e),this.tAPrcntData.downPercentage=this.websocketservice.calculatePercentage(t.downTotal,t.downData,e),this.settapUpDataObj(t.upData),this.settapDownDataObj(t.downData),this.tAData.upData=t.upData,this.tAData.downData=t.downData;var a=this.optnsMngr.makeOptionsForRTBC(t,"bar","upData",e,this.fsView),o=this.optnsMngr.makeOptionsForRTBC(t,"bar","downData",e,this.fsView);a.chart.height=this.fsView&&"TAPP"===this.fsName?560:160,delete a.chart.width,a.plotOptions.series.pointWidth=this.fsView&&"TAPP"===this.fsName?this.getFSPointWidth(i):14,o.chart.height=this.fsView&&"TAPP"===this.fsName?560:160,delete o.chart.width,o.plotOptions.series.pointWidth=this.fsView&&"TAPP"===this.fsName?this.getFSPointWidth(n):14;var r=this,s="/cco/traffic/applications/realtime";this.isCcoTraffic||(s=this.router.url.indexOf("/".concat(l.N.SYS_ADMIN_ROUTE,"/"))>-1?"/systemAdministration/flowAnalyze/traffic/application/realtime":"/organization-admin/flowAnalyze/traffic/application/realtime"),a.xAxis.labels={useHTML:!0,style:{color:"#007bff",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden",fontSize:"13px",fontWeight:500},formatter:function(){return'<span  class="text-primary axis_label" title="'.concat(this.value[0],'" style="cursor:pointer">').concat(this.value[0],"</span>")},events:{click:function(t){r.hasApplicationAccess&&r.router.navigate([s],{queryParams:{id:this.axis.categories[this.pos][1]}})},contextmenu:function(t){if(r.hasApplicationAccess){t.preventDefault();var e=window.location.origin+s+"?id="+this.axis.categories[this.pos][1];window.open(e,"_blank")}}}},a.plotOptions.series.point.events={click:function(t){r.hasApplicationAccess&&r.router.navigate([s],{queryParams:{id:this.category[1]}})}},o.xAxis.labels={useHTML:!0,style:{color:"#007bff",cursor:"pointer",textOverflow:"ellipsis",overflow:"hidden",fontSize:"13px",fontWeight:500},formatter:function(){return'<span  class="text-primary axis_label" title="'.concat(this.value[0],'" style="cursor:pointer">').concat(this.value[0],"</span>")},events:{click:function(t){r.hasApplicationAccess&&r.router.navigate([s],{queryParams:{id:this.axis.categories[this.pos][1]}})},contextmenu:function(t){if(r.hasApplicationAccess){t.preventDefault();var e=window.location.origin+s+"?id="+this.axis.categories[this.pos][1];window.open(e,"_blank")}}}},o.plotOptions.series.point.events={click:function(t){r.hasApplicationAccess&&r.router.navigate([s],{queryParams:{id:this.category[1]}})}},o.plotOptions.series.color="#5ACFEA",this.topAppsUpChartoptions=Object.assign({},a),this.topAppsDownChartoptions=Object.assign({},o)}},{key:"changeTopLength",value:function(){if("TEP"===this.fsName){var t=this.optnsMngr.getNetworkRealTimeGraphData(bt);this.makeTEPEvents(t)}else if("TAPP"===this.fsName){var e=this.optnsMngr.getNetworkRealTimeGraphData(Tt);this.makeTAPPEvents(e)}else if("TLOC"===this.fsName){var i=this.optnsMngr.getNetworkRealTimeGraphData(xt);this.makeTLOCEvents(i)}}},{key:"settepUpDataObj",value:function(t){var e={};t.forEach(function(t){e[t.name]=t.id}),this.tepUpDataObj=e}},{key:"gettepUpDataObj",value:function(){return this.tepUpDataObj}},{key:"settepDownDataObj",value:function(t){var e={};t.forEach(function(t){e[t.name]=t.id}),this.tepDownDataObj=e}},{key:"gettepDownDataObj",value:function(){return this.tepDownDataObj}},{key:"settapUpDataObj",value:function(t){var e={};t.forEach(function(t){e[t.name]=t.id}),this.tapUpDataObj=e}},{key:"gettapUpDataObj",value:function(){return this.tapUpDataObj}},{key:"settapDownDataObj",value:function(t){var e={};t.forEach(function(t){e[t.name]=t.id}),this.tapDownDataObj=e}},{key:"gettapDownDataObj",value:function(){return this.tapDownDataObj}},{key:"settlocDownDataObj",value:function(t){var e={};t.forEach(function(t){e[t.name]=t.id}),this.tlocDownDataObj=e}},{key:"gettlocDownDataObj",value:function(){return this.tlocDownDataObj}},{key:"settlocUpDataObj",value:function(t){var e={};t.forEach(function(t){e[t.name]=t.id}),this.tlocUpDataObj=e}},{key:"gettlocUpDataObj",value:function(){return this.tlocUpDataObj}},{key:"check",value:function(t){}},{key:"navigationByUrl",value:function(t,e,i){if(e){this.sso.setEPRredirectFrom(window.location.pathname);var n="/cco/traffic/endpoints/realtime";this.isCcoTraffic||(n=this.router.url.indexOf("/".concat(l.N.SYS_ADMIN_ROUTE,"/"))>-1?"/systemAdministration/flowAnalyze/traffic/endpoint/realtime":"/organization-admin/flowAnalyze/traffic/endpoint/realtime"),this.router.navigate([n],{queryParams:{id:e}})}}},{key:"watchEPSearch",value:function(){var t=this;this.epSearchSbcrptn=this.websocketservice.endPointSearch$.subscribe(function(e){t.searchEndPoint(e)})}},{key:"searchEndPoint",value:function(t){this.tepUpDataObj[t]?(this.websocketservice.setEndPointSearchError(!1),this.websocketservice.setEndpointValue(this.tepUpDataObj[t])):this.tepDownDataObj[t]?(this.websocketservice.setEndPointSearchError(!1),this.websocketservice.setEndpointValue(this.tepDownDataObj[t])):this.websocketservice.setEndPointSearchError(!0)}},{key:"onclickCopy",value:function(t){var e=document.createElement("input");e.style.position="fixed",e.value=t,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}},{key:"goToRecordingList",value:function(){var t="/cco/traffic/network/realtime";this.isCcoTraffic||(t=this.router.url.indexOf("/".concat(l.N.SYS_ADMIN_ROUTE,"/"))>-1?"/systemAdministration/flowAnalyze/traffic/network/realtime":"/organization-admin/flowAnalyze/traffic/network/realtime"),localStorage.setItem("cco_record_list_history",t);var e=this.isCcoTraffic?"/cco/record/list":this.router.url.indexOf("/".concat(l.N.SYS_ADMIN_ROUTE,"/"))>-1?"/systemAdministration/flowAnalyze/recording/list":"/organization-admin/flowAnalyze/recording/list";this.router.navigate([e])}},{key:"close",value:function(){this.btnDisabled=!1,this.modalRef&&this.modalRef.close()}},{key:"sensitiveModalCancel",value:function(t){t.close(""),this.sensitiveChecked=!1}},{key:"createRecordingModal",value:function(){var t=new o.uU("en-US");this.error=!1,this.errorInfo="";var e=new Date;if(this.date=new Date(e.getTime()+6e4),this.isNow=!this.recordingStatus,!this.isNow){if(this.lastRecordLength&&this.lastRecordStartTime){var i=(new Date).getTime();this.timeDiff=this.lastRecordLength-(i-this.lastRecordStartTime)}this.date=new Date(e.getTime()+(this.timeDiff>0?this.timeDiff:36e5)),this.minDate=new Date(e.getTime()+(this.timeDiff>0?this.timeDiff:36e5))}this.recordingName="Network_"+t.transform(new Date,"yyyy-MM-dd")+"_"+(new Date).toTimeString().substr(0,8),this.selectedDuration="1",this.description="",this.modalRef=this.dialogService.open(this.recordingModal,{size:"lg",centered:!0,windowClass:"custom-modal",backdrop:"static",keyboard:!1})}},{key:"createFaviouteModal",value:function(){this.modalRef=this.dialogService.open(this.faviouteModal,{size:"lg",centered:!0,windowClass:"custom-modal",backdrop:"static",keyboard:!1})}},{key:"changeName",value:function(){}},{key:"createRecording",value:function(){var t=this;this.recordErrorSubscription&&this.recordErrorSubscription.unsubscribe(),this.recordWsSubscription&&this.recordWsSubscription.unsubscribe();var e=localStorage.getItem("calix.userId"),i=(new Date).getTime(),n=30*parseInt(this.selectedDuration)*60*1e3;if(!this.isNow&&(i=new Date(this.date).getTime())<=(new Date).getTime())return this.error=!0,void(this.errorInfo="Recording time should not be lesser than current time");if(this.error=!1,this.errorInfo="",""!==this.recordingName){if(this.isvalid=!0,this.recordingName.length>72)return this.error=!0,void(this.errorInfo="Name should not have more than 72 characters");if(this.description.length>255)return this.error=!0,void(this.errorInfo="Description should not have more than 255 characters ");var a={orgId:this.orgId,tenentid:"0",monitorType:"NET",graphType:"TRF,TAPP,TLOC,TEP",startTime:i,name:this.recordingName,description:this.description,length:n,status:"New",userId:e,recordingType:"traffic",trigger:"Manual",monitorId:this.orgid_tenantid};this.btnDisabled=!0,this.send("RECORDING",a),this.websocketservice.listenRecord("RECORDING"),this.websocketservice.listenRecord("error"),this.recordWsSubscription=this.websocketservice.recordResponseData$.subscribe(function(e){t.btnDisabled=!1,e.includes("Successfully")&&t.close()}),this.recordErrorSubscription=this.websocketservice.recordErrorResponseData$.subscribe(function(e){t.btnDisabled=!1,t.error=!0,t.errorInfo=e.errorMessage}),setTimeout(function(){t.getRecordingStatus()},1e3)}else this.isvalid=!1}},{key:"closeAlert",value:function(){this.error=!1,this.connectionError=!1}},{key:"createFavioute",value:function(){}},{key:"changeNowAndLater",value:function(){this.showDate=!this.showDate}},{key:"checkLastSubscriptiontime",value:function(){var t=this;this.interval=setInterval(function(){var e=(new Date).getTime()-t.lastSubscriptionTime,i=(new Date).getTime()-t.lastRtSubscriptionTime;if(e>=45e3&&(t.data.maxRate=[0,0],t.data.packet=[0,0]),i>=45e3){var n=t.optnsMngr.getNetworkRealTimeGraphData(bt);n.upData=[],n.downData=[],t.makeTEPEvents(n),t.optnsMngr.setNetworkRealTimeGraphData(bt,n);var a=t.optnsMngr.getNetworkRealTimeGraphData(xt);a.upData=[],a.downData=[],t.makeTLOCEvents(a),t.optnsMngr.setNetworkRealTimeGraphData(xt,a);var o=t.optnsMngr.getNetworkRealTimeGraphData(Tt);o.upData=[],o.downData=[],t.makeTAPPEvents(o),t.optnsMngr.setNetworkRealTimeGraphData(Tt,o)}},15e3)}},{key:"getRecordingStatus",value:function(){var t=this,e={monitorType:"NET",monitorId:this.ORG_ID+"_0"},i=localStorage.getItem("calix.userId");this.statusSubs=this.http.post("".concat(l.N.API_BASE_URL,"record/job/status/Recording?orgId=").concat(this.ORG_ID,"&tenentid=0&userId=").concat(i),e).subscribe(function(e){e&&e.forEach(function(e){"NET"===e.monitorType&&"Recording"===e.status?(t.getRecordDetails(e.id),t.recordingStatus=!0,t.isNow=!1,t.showDate=!1):(t.recordingStatus=!1,t.isNow=!0,t.showDate=!0)})},function(t){})}},{key:"webSocketConnectionError",value:function(){var t=this;this.connectionErSubscription&&this.connectionErSubscription.unsubscribe(),this.connectionErSubscription=this.websocketservice.wsConnectionError$.subscribe(function(e){e&&!0===e&&(t.loading=!1,t.connectionError=!0,t.connectionErrorInfo="Web Socket connection failed",t.close())}),this.wsNoResponseSubscription=this.websocketservice.wsNoResponse$.subscribe(function(e){e&&!0===e.isError&&"error_traffic_NET"===e.type&&(t.loading=!1,t.connectionError=!0,t.connectionErrorInfo="No Data Available")})}},{key:"getRecordDetails",value:function(t){var e=this;this.recordSubs=this.http.get("".concat(l.N.API_BASE_URL,"record/job/list/").concat(t,"?orgId=").concat(this.ORG_ID,"&tenentid=0")).subscribe(function(t){t&&(e.lastRecordLength=t.length,e.lastRecordStartTime=t.startTime)},function(t){e.timeDiff=36e5})}},{key:"reConnectWebSocket",value:function(){var t=this;this.reConnectSubscription&&this.reConnectSubscription.unsubscribe(),this.reConnectSubscription=this.websocketservice.connectWS$.subscribe(function(e){if(e&&t.websocketservice.WebSocketServer.hasDisconnectedOnce){var i=t.websocketservice.getCurrentMonitorInfo("NET");if(t.websocketservice.listen("NET"),t.websocketservice.listen("REPLAY"),i&&i.monitorId){t.send("NET",{orgId:t.orgId,monitorType:"NET",networkId:t.orgid_tenantid,monitorId:t.orgid_tenantid,graphType:"TRF,TAPP,TLOC,TEP",startTime:i.startTime});var n={orgId:i.orgId,monitorType:"NET",networkId:i.networkId,monitorId:t.orgid_tenantid,graphType:"TRF",replay:"true",startTime:i.startTime,endTime:(new Date).getTime()};return t.send("NET",n),void t.websocketservice.setWindowLen(t.selectedOption)}t.getRtData()}})}},{key:"removeUnwantedSpace",value:function(t,e){this[t]=this.CommonFunctionsService.trimSpaceFromNonObjectInputs(e)}},{key:"modalOpener",value:function(t){this.dialogService.open(t,{centered:!0,windowClass:"custom-warning-modal clx-custom-modal"})}}]),e}(),vt.\u0275fac=function(t){return new(t||vt)(c.Y36(s.F0),c.Y36(u.s),c.Y36(h.t6),c.Y36(f.p),c.Y36(m.i),c.Y36(w.eN),c.Y36(v.FF),c.Y36(b.Dx),c.Y36(T.i),c.Y36(x.K),c.Y36(Z.s))},vt.\u0275cmp=c.Xpm({type:vt,selectors:[["app-realtime"]],viewQuery:function(t,e){var i;1&t&&(c.Gf(_,7),c.Gf(O,7),c.Gf(M,7),c.Gf(N,7)),2&t&&(c.iGM(i=c.CRH())&&(e.realtimeFavCreatePop=i.first),c.iGM(i=c.CRH())&&(e.recordCreatePop=i.first),c.iGM(i=c.CRH())&&(e.recordingModal=i.first),c.iGM(i=c.CRH())&&(e.faviouteModal=i.first))},decls:9,vars:3,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],[4,"ngIf"],["class","col-md-12 custom-modal"],["faviouteModal",""],["recordingModal",""],["warningModalConfirmation",""],["role","alert",1,"alert","alert-warning"],[1,"container","pr-0"],[1,"filter-elemnts"],[1,"row"],[1,"col-md-12","col-lg-7"],[1,"current-issue-menu-container"],[1,"current-issue-menu-item","mw-190"],[1,"form-group","ccl-form","required","pr-2"],[1,"col-form-label"],[1,"col-sm-12","p-0"],[3,"searchable","placeholder","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,""],[1,"col-sm-12","p-0","pt-2","form-group","form-check"],["id","showSensitive","type","checkbox",1,"mr-1",3,"ngModel","ngModelChange"],["showSensitive",""],["for","showSensitive"],[1,"col-md-12","col-lg-5","text-right","btns-con","smy-2","mt-40"],[1,"d-inline-flex","mr-3"],["type","button",1,"btn-default","primary","px-3",3,"click"],[1,"d-inline-flex"],["type","button","id","#",1,"btn-default","btn-dft",3,"click"],["trafficType","Network",3,"selectedTimeFrame","enableSave","onSelectFilterPreset"],[3,"value"],["class","loader",4,"ngIf"],["class","container px-0",4,"ngIf"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"container","px-0"],[1,"col-md-9","text-left"],[1,"pl-3"],["class","d-inline-flex mx-2 primary pointer","data-toggle","modal","id","create-record","data-target","#exampleModalCenter-video",3,"click",4,"ngIf"],["id","record-list","placement","bottom",1,"d-inline-flex","primary","pointer",3,"click"],["data-toggle","tooltip","data-placement","top",1,"icon-round",3,"title"],["src","../../../../../assets/img/ic_history_white.svg"],["id","record-status","class","indcit",4,"ngIf"],[1,"col-md-3","text-right"],[1,"d-flex","justify-content-between","my-2"],[1,"col-4"],[1,"col-4","text-center"],[1,"col-4","text-right"],[1,"d-flex","justify-content-between","md-block"],[1,"col-12","col-md-12","pr-0","col-lg-6",3,"hidden"],["id","traffic-network-realtime-rate","class","card m-10",4,"ngIf"],["id","traffic-network-realtime-packet","class","card m-10",4,"ngIf"],["class","col-12 col-md-12 pr-0 col-lg-6",4,"ngIf"],[1,"bg-light","h-auto",3,"hidden"],[1,"col-md-12","col-12"],["class","card h-auto",4,"ngIf"],["data-toggle","modal","id","create-record","data-target","#exampleModalCenter-video",1,"d-inline-flex","mx-2","primary","pointer",3,"click"],["src","../../../../../assets/img/ic_record_white.svg"],["id","record-status",1,"indcit"],["src","../../../../../assets/img/ic_point.svg"],["id","traffic-network-realtime-rate",1,"card","m-10"],["id","ngx-stream-path-chart-rate",1,""],[3,"chartName","yAxixTitle","data","time","windowLen","history","selectedFilter",4,"ngIf"],[3,"chartName","yAxixTitle","data","time","windowLen","history","selectedFilter"],["id","traffic-network-realtime-packet",1,"card","m-10"],["id","ngx-stream-path-chart-packet",1,""],[1,"col-12","col-md-12","pr-0","col-lg-6"],["id","traffic-network-realtime-tep",1,"card","m-10","h-auto"],[1,"board_head","d-flex","justify-content-between"],[1,"mr-2"],[1,"orange-text-wrapper","d-inline-block"],[1,"orange-text"],[1,"ml20"],["data-toggle","tooltip","id","open-fullscreen-top-endpoints",1,"top5-fullscreen","pointer","btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],[1,"traffic-heading-subtitle"],[1,"card-body","row","board_body","no-gutters","h-210"],["id","top-endpoints-up-chart-div",1,"col-md-6","col-12"],[1,"chart-info"],["id","top-endpoints-up-chart",3,"chartOptions","type","updateFlag",4,"ngIf"],[1,"col-md-6","col-12"],["id","top-endpoints-down-chart",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","traffic-network-realtime-tapp",1,"card","mt-2","m-10","h-auto"],[1,"board_head"],["data-toggle","tooltip","id","open-fullscreen-top-apps",1,"top5-fullscreen","pointer","btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],["id","top-apps-up-chart-div",1,"col-md-6","col-12"],["id","top-apps-up-chart",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-apps-down-chart-div",1,"col-md-6","col-12"],["id","top-apps-down-chart",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","traffic-network-realtime-location",1,"card","mt-2","m-10","h-auto"],["data-toggle","tooltip","id","open-fullscreen-top-loc",1,"top5-fullscreen","pointer","btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],["id","top-endpoints-up-chart",3,"chartOptions","type","updateFlag"],["id","top-endpoints-down-chart",3,"chartOptions","type","updateFlag"],["id","top-apps-up-chart",3,"chartOptions","type","updateFlag"],["id","top-apps-down-chart",3,"chartOptions","type","updateFlag"],[1,"card","h-auto"],["id","usage_criteria","bindLabel","name","bindValue","value","placeholder","",1,"realtime-custom-select",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],["data-toggle","tooltip","id","close-fullscreen-top-endpoints",1,"top5-fullscreen","pointer","expand-icon",3,"title","click"],[1,"fa","fa-expand"],[1,"chart-sub-title"],[1,"card-body","row","board_body","no-gutters"],["id","top-endpoints-up-chart-fullscreen",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-endpoints-down-chart-fullscreen",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-endpoints-up-chart-fullscreen",3,"chartOptions","type","updateFlag"],["id","top-endpoints-down-chart-fullscreen",3,"chartOptions","type","updateFlag"],["data-toggle","tooltip","id","close-fullscreen-top-apps",1,"top5-fullscreen","pointer","expand-icon",3,"title","click"],[1,"col-md-6","col-6"],["id","top-apps-up-chart-fullscreen",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-apps-down-chart-fullscreen",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-apps-up-chart-fullscreen",3,"chartOptions","type","updateFlag"],["id","top-apps-down-chart-fullscreen",3,"chartOptions","type","updateFlag"],["data-toggle","tooltip",1,"top5-fullscreen","pointer","expand-icon",3,"title","click"],[1,"card-body","row","board_body"],[3,"chartOptions","type","updateFlag",4,"ngIf"],[3,"chartOptions","type","updateFlag"],[1,"modal-header","d-block"],["id","showInfoModal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","add-device-model"],[1,"form-group","ccl-form","text-left"],["for","exampleFormControlInput1"],["type","name","id","exampleFormControlInput1",1,"form-control",3,"placeholder"],[1,"col-md-12","pl-0","text-left","mt-3"],["type","submit",1,"btn-default","primary","px-3",3,"click"],["type","button",1,"btn-default","transparant","px-3","m-2",3,"click"],[1,"row","record-pop"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"form-group","ccl-form"],["for","name"],[1,"error"],["type","text","id","recording_Name","autocomplete","off","trimSpace","",1,"form-control",3,"ngModel","placeholder","ngModelChange","change","blur"],["for","description"],["id","description","rows","3","trimSpace","",1,"form-control",3,"ngModel","placeholder","ngModelChange","blur"],[1,"form-check","form-check-inline"],["for","inlineRadio1",1,"form-check-label","mr-2"],["type","radio","name","inlineRadioOptions","id","inlineRadio1",1,"form-check-input",3,"value","ngModel","checked","disabled","ngModelChange","change"],["for","inlineRadio2",1,"form-check-label","mr-2"],["type","radio","name","inlineRadioOptions","id","inlineRadio2",1,"form-check-input",3,"value","ngModel","ngModelChange","change"],["id","start_date","appendTo","body","dateFormat","mm-dd-yy",1,"ccl-form",3,"inputStyle","autoZIndex","placeholder","ngModel","showIcon","showTime","hourFormat","ngModelOptions","disabled","minDate","ngModelChange"],["class","indcit mb-2",4,"ngIf"],[1,"form-check","pl-0","mt-2"],["for","inlineRadio23",1,"form-check-label","mr-2"],["bindLabel","name","bindValue","value",3,"items","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["ng-label-tmp",""],["ng-option-tmp",""],["type","submit",1,"btn-default","primary","px-3",3,"disabled","click"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"errorMessage"],[1,"indcit","mb-2"],[1,"modal-body"],["type","button","data-dismiss","modal","aria-label","Close",1,"clx-modal-dismiss",3,"click"],[1,"modal-body-content"],[1,"clx-warning-wrapper"],[1,"clx-warning-icon"],[1,"clx-warning-content"],[1,"text-break","cco-secondary-title","mb-3"],[1,"d-flex","w-100"],[1,"radio-check","mr-2","pt-1"],["type","checkbox","id","checkSensitiveModal"],["checkSensitive",""],[1,"text-break"],["for","checkSensitiveModal"],[1,"mt-3"],["type","button",1,"btn-default","btn-primary","mr-3",3,"disabled","click"],["type","button","aria-label","Close",1,"btn-default","btn-dft",3,"click"]],template:function(t,e){1&t&&(c.YNc(0,q,2,1,"div",0),c.YNc(1,E,30,12,"section",1),c.YNc(2,st,3,2,"section",1),c.YNc(3,ct,16,5,"ng-template",2,3,c.W1O),c.YNc(5,mt,47,44,"ng-template",2,4,c.W1O),c.YNc(7,wt,22,5,"ng-template",null,5,c.W1O)),2&t&&(c.Q6J("ngIf",!e.hasNetworkAccess),c.xp6(1),c.Q6J("ngIf",e.hasNetworkAccess),c.xp6(1),c.Q6J("ngIf",e.hasNetworkAccess))},directives:[o.O5,r.w9,A.JJ,A.On,o.sg,A.Wl,k._,r.xv,C.Q,D.u,A._Y,A.JL,A.F,A.Fj,y.f,A._,P.f,r.bb,r.Z2],styles:[".undo-icon[_ngcontent-%COMP%]{background-color:#f8f8fa;padding:3px;color:#9e9e9e;border-radius:15px;margin:2px;font-size:17px;cursor:pointer;width:30px;height:30px;text-align:center}.current-issue-menu-container[_ngcontent-%COMP%]{display:flex;justify-self:start}.current-issue-menu-item[_ngcontent-%COMP%]{flex-grow:0}.current-issue-menu-item[_ngcontent-%COMP%] + .current-issue-menu-item[_ngcontent-%COMP%]{margin-left:1%}.btn-secondary[_ngcontent-%COMP%]{color:#5f6165!important;background-color:#f7f8fa!important;border-color:#888!important}.test-container[_ngcontent-%COMP%]{display:flex;width:100%}.item[_ngcontent-%COMP%]{flex-grow:1;border-left:3px solid #cdcdcd;padding-left:20px;width:calc(100% / 3)}.item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:2%}.sub-menu-list-icon[_ngcontent-%COMP%]{background-color:#dee5ef;padding:2px 10px;border-radius:15px;font-size:10px;margin:10px}.network-trends-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.network-trends-item[_ngcontent-%COMP%]{flex-grow:1;width:calc(100% / 2)}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.network-trends-item[_ngcontent-%COMP%] + .network-trends-item[_ngcontent-%COMP%]{margin-left:5%}.board_head[_ngcontent-%COMP%]{padding:5px 10px 0;height:30px}.orange-text[_ngcontent-%COMP%]{color:#ff7f00}.ml20[_ngcontent-%COMP%]{margin-left:20px}.mt20[_ngcontent-%COMP%]{margin-top:20px}.top5-fullscreen[_ngcontent-%COMP%]{float:right}.board_body[_ngcontent-%COMP%]{padding:0!important}.chart-info[_ngcontent-%COMP%]{padding:0 10px!important}.ng-select.realtime-custom-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{color:#ff7f00!important;border:none!important;border-radius:0!important}.topEndPointUpChartXaxis[_ngcontent-%COMP%]:hover{cursor:pointer!important}.with-info[_ngcontent-%COMP%]{display:flex;align-items:center;padding-right:20px}.with-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:0}.with-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .with-select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}.with-select[_ngcontent-%COMP%]{display:flex;align-items:center}.deafult-select[_ngcontent-%COMP%]{border-radius:20px}.m-10[_ngcontent-%COMP%]{margin-bottom:10px}.highcharts-axis-line[_ngcontent-%COMP%]{display:none!important}@media only screen and (max-width: 500px){.discover-content[_ngcontent-%COMP%]{margin-left:0!important}}@media only screen and (min-width: 501px){.discover-content[_ngcontent-%COMP%]{margin-left:1.5rem!important}}.traffic-left-chart[_ngcontent-%COMP%]{width:45%}.traffic-right-chart[_ngcontent-%COMP%]{width:54%}@media screen and (max-width: 767px){.md-block[_ngcontent-%COMP%]{display:block!important}.board_body[_ngcontent-%COMP%]{height:-moz-fit-content!important;height:fit-content!important}}.expand-icon[_ngcontent-%COMP%]{background-color:#ebeaef;color:#ebeaef;width:25px;height:25px;border-radius:20px;font-size:1px;text-align:center;line-height:24px;font-weight:normal;justify-content:center;background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg);background-position:50%;background-repeat:no-repeat}@media screen and (min-width: 768px) and (max-width: 1140px){.md-block[_ngcontent-%COMP%]{display:block!important}.btns-con[_ngcontent-%COMP%]{text-align:left!important;margin-top:0!important;margin-bottom:20px!important}}.btn-expand[_ngcontent-%COMP%]{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.btn-expand[_ngcontent-%COMP%]:hover{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.btn-expand[_ngcontent-%COMP%]:focus{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:20px;max-width:500px!important}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:16px!important}  .p-datepicker{z-index:9999!important}.icon-round[_ngcontent-%COMP%]{width:32px;height:32px;background:#0279FF;border-radius:100%;text-align:center;line-height:26px}label.indcit[_ngcontent-%COMP%]{color:#e61a1a;margin:0 0 0 8px;position:relative;top:4px}label.indcit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px}label.indcit[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:-2px;margin-right:4px}.chart-sub-title[_ngcontent-%COMP%]{margin:15px 10px 0}.mw-190[_ngcontent-%COMP%]{min-width:190px}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.h-210[_ngcontent-%COMP%]{height:210px}#usage_criteria[_ngcontent-%COMP%]{min-width:200px}.form-check-inline[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer!important}"]}),vt)}],At=function(){var e=i(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.Bz.forChild(Zt)],s.Bz]}),e}(),kt=a(25317),Ct=a(48292),Dt=a(44466),yt=a(47968),Pt=function(){var e=i(function e(i){t(this,e),this.streamService=i,this.streamService.getData()});return e.\u0275fac=function(t){return new(t||e)(c.LFG(yt.G))},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[o.ez,A.u5,r.A0,At,kt.l,Ct.m,P._8,Dt.m]]}),e}()}}])}();