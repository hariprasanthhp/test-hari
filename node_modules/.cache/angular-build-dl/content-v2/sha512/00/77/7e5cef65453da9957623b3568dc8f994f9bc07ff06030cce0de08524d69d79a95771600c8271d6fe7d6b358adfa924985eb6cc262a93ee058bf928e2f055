!function(){"use strict";function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,o,s,l=[],r=!0,d=!1;try{if(o=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;r=!1}else for(;!(r=(n=o.call(i)).done)&&(l.push(n.value),l.length!==t);r=!0);}catch(e){d=!0,a=e}finally{try{if(!r&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(d)throw a}}return l}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"))?o:String(o)),n)}var a,o}function s(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[6242],{36242:function(i,n,o){o.r(n),o.d(n,{DevicesModule:function(){return Se}});var l=o(38583),r=o(39895),d=o(91704),c=o(23771),u=o(79765),g=o(35758),p=o(37716),h=o(404),v=o(7616),m=o(13149),f=o(93822),I=o(7450),b=o(89097),Z=o(12664),T=o(49342),D=o(39075),x=o(20904),A=["infoModal"],w=["deleteModal"],y=["multiDeleteModal"],O=["importModal"],_=function(){return["active"]};function q(e,t){if(1&e&&(p.TgZ(0,"li",3),p.TgZ(1,"a",4),p._uU(2),p.qZA(),p.qZA()),2&e){var i=t.$implicit;p.xp6(1),p.s9C("id",i.title),p.s9C("routerLink",i.link),p.Q6J("routerLinkActive",p.DdM(4,_)),p.xp6(1),p.Oqu(i.title)}}var M,S=o(91704),C=((M=function(){function i(e,t,n,o,s,l,r,d,c,g,p){var h=this;a(this,i),this.commonFunctionsService=e,this.api=t,this.exportExcel=n,this.dataTablecreatorService=o,this.translateService=s,this.router=l,this.sso=r,this.dialogService=d,this.commonOrgService=c,this.titleService=g,this.common=p,this.infoTitle="",this.infoBody="",this.pageAvailable=!1,this.formVisible=!1,this.buttonVisible=!0,this.dataAvailable=!1,this.showingDeviceIpv6=null,this.selectOptions=[{name:"No",value:!1},{name:"Yes",value:!0}],this.flowType=[{name:"netflow"},{name:"cflow"},{name:"sflow"}],this.importTableOptions={pagingType:"full_numbers",pageLength:10,order:[0,"asc"],scrollX:!0,dom:"tipr"},this.statusTableOptions={pagingType:"full_numbers",pageLength:10},this.tablePreview=!1,this.currentTableRowCount=0,this.tableOptions={pagingType:"full_numbers",pageLength:10,rowId:"_id",scrollX:!0,stateSave:!0,order:[1,"asc"],columnDefs:[{targets:[0],orderable:!1}],drawCallback:function(e){h.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(function(){h.resetDelete()},0),h.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength&&S(e.nTableWrapper).find("#".concat(e.sTableId,"_last")).addClass("disabled")}},this.deviceData=[],this.deviceIPError=!1,this.deviceIP6Error=!1,this.ignoreUpStream=!1,this.ignoreDownStream=!1,this.ignoreLocal=!1,this.samplingLimitError=!1,this.geoCoordinateError=!1,this.addressError=!1,this.validation=!1,this.empty={"Device IPv4":"","Device IPv6":"",Sampling:"","Receiving Port":"","Ignore Upstream":"","Ignore Downstream":"","Host Name":"","Ignore Local":"",Name:"","Rate Limit":"","Flow Type":""},this.loading=!0,this.dtOptions={},this.dtTrigger=new u.xQ,this.isRerender=!1,this.editIgnoreUpStream=!1,this.editIgnoreDownStream=!1,this.editIgnoreLocal=!1,this.storageData={},this.errorInfo="",this.successInfo="",this.importUpdateASCreate=[],this.sortData={column:1,type:"asc"},this.columnName={deviceIpV4:"Device IPv4",deviceIpV6:"Device IPv6",samplingRate:"Sampling",receivingPort:"Receiving Port",ignoreUpstream:"Ignore Upstream",ignoreDownstream:"Ignore Downstream",hostName:"Host Name",ignoreInternal:"Ignore Local",name:"Name",rateLimit:"Rate Limit"},this.invalidImportDevice=[],this.menus=[],this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.language=this.translateService.defualtLanguage,this.language&&(this.pageAvailable=!0),this.menus=[{title:this.language.Configuration,link:"devices-configuration",subMenuLink:"/".concat(this.MODULE,"/flowAnalyze/network/devices/devices-configuration")},{title:this.language.status,link:"devices-status",subMenuLink:"/".concat(this.MODULE,"/flowAnalyze/network/devices/devices-status")}],this.translateSubscribe=this.translateService.selectedLanguage.subscribe(function(e){h.language=e,h.menus[0].title=h.language.Configuration,h.menus[1].title=h.language.status,h.dataAvailable=!1,h.isRerender=!0,h.titleService.setTitle("".concat(h.language.devices," - ").concat(h.language.Network," - ").concat(h.language.flowconfiguration," - ").concat("systemAdministration"===h.MODULE?h.language["System Administration"]:h.language.administration," - ").concat(h.language["Calix Cloud"])),h.tableCreator("language")}),this.commonOrgService.closeAlert();var v=this.router.url;this.frTable=this.translateService.fr,this.ORG_ID=this.sso.getOrganizationID(v),this.MODULE=this.sso.getRedirectModule(v),this.titleService.setTitle("".concat(this.language.devices," - ").concat(this.language.Network," - ").concat(this.language.flowconfiguration," - ").concat("systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration," - ").concat(this.language["Calix Cloud"]))}return s(i,[{key:"ngOnInit",value:function(){this.apiLoader(),this.tableLanguageOptions();var e=JSON.parse(localStorage.getItem("calix.login_data"));this.storageData.clientIp=null==e?void 0:e.clientIp,this.storageData.UserId=null==e?void 0:e.UserId,this.closeAlert(),this.removeState()}},{key:"ngAfterViewInit",value:function(){this.loaded=!0}},{key:"ngOnDestroy",value:function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSubscribe&&this.translateSubscribe.unsubscribe(),this.subscription&&this.subscription.unsubscribe(),this.deviceListSubs&&this.deviceListSubs.unsubscribe(),this.deviceAddSubs&&this.deviceAddSubs.unsubscribe(),this.deviceUpdateSubs&&this.deviceUpdateSubs.unsubscribe(),this.deviceDeleteSubs&&this.deviceDeleteSubs.unsubscribe(),this.deviceExportSubs&&this.deviceExportSubs.unsubscribe(),this.deviceImportSubs&&this.deviceImportSubs.unsubscribe()}},{key:"apiLoader",value:function(){var e=this;this.deviceListSubs=this.api.DeviceList(this.ORG_ID).subscribe(function(i){e.deviceData=t(i),e.deviceData&&(e.deviceData=e.dataConvertor(e.deviceData),e.deviceData=t(e.deviceData),e.tableCreator(),e.isRerender?(e.rerender(),e.isRerender=!1):(e.dtTrigger.next(),e.loading=!1),setTimeout(function(){e.resetDelete()},100))},function(t){e.pageErrorHandle(t),e.deviceData=[],e.tableCreator(),e.isRerender?(e.rerender(),e.isRerender=!1):(e.dtTrigger.next(),e.loading=!1)})}},{key:"dataConvertor",value:function(e){return(0,d.isArray)(e)&&e.forEach(function(e){e.deviceIp=null==e.deviceIpV4||""==e.deviceIpV4?null==e.deviceIpV6||""==e.deviceIpV6?"":e.deviceIpV6:e.deviceIpV4,e.address=e.address?e.address:"",e.flowType=e.flowType?e.flowType:"",e.observationName=""}),e}},{key:"tableCreator",value:function(e){var t=this,i=this;this.tableOptions={pagingType:"full_numbers",pageLength:10,rowId:"_id",scrollX:!0,stateSave:!0,order:[i.sortData.column,i.sortData.type],columnDefs:[{targets:[0],orderable:!1}],drawCallback:function(e){i.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(function(){t.resetDelete()},0),t.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength?S(e.nTableWrapper).find("#device-table_last").addClass("disabled"):S(e.nTableWrapper).find("#device-table_last").removeClass("disabled")}},this.tableLanguageOptions(),e&&"language"==e?setTimeout(function(){t.dataAvailable=!0,t.rerender()},200):setTimeout(function(){t.dataAvailable=!0,t.loading=!1},500)}},{key:"tableLanguageOptions",value:function(){"fr"==this.language.fileLanguage?this.tableOptions.language=this.frTable:"es"==this.language.fileLanguage?this.tableOptions.language=this.translateService.es:"de_DE"==this.language.fileLanguage?this.tableOptions.language=this.translateService.de_DE:"en"==this.language.fileLanguage&&this.tableOptions.language&&delete this.tableOptions.language}},{key:"rerender",value:function(){var e=this;this.dtElement.dtInstance.then(function(t){t.destroy(),e.tableOptions.order=[e.sortData.column,e.sortData.type],setTimeout(function(){e.dtTrigger.next()},10)})}},{key:"search",value:function(e){this.dtElement.dtInstance.then(function(t){t.search(e).draw()})}},{key:"create",value:function(){this.buttonVisible=!1,this.formVisible=!0}},{key:"submit",value:function(){var e=this;if(this.validation=!1,this.deviceIPError=!1,this.deviceIP6Error=!1,this.ipv4=void 0,this.ipv6=void 0,this.name=this.name?this.name.trim():"",this.name.length&&this.name.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody="".concat(this.language["Invalid Device Name"]," - Name should not exceed 64 characters."),void this.openInfoModal(!1);if(this.deviceIPV4&&this.deviceIpValidatorIpv4(this.deviceIPV4),this.deviceIPV6&&this.deviceIpValidatorIpv6(this.deviceIPV6),this.deviceIPError||this.deviceIP6Error||!this.deviceIPV4&&!this.deviceIPV6)return this.infoTitle=this.language["Invalid request"],this.infoBody=this.language["Invalid IP address"],void this.openInfoModal(!1);if(this.samplingRateValidator(this.samplingLimit),this.samplingLimitError)return this.infoTitle=this.language["Invalid value"],this.infoBody=this.language["The sampling rate should be an integer value greater than 0 and less than 65536."],void this.openInfoModal(!1);var t={deviceIpV4:this.ipv4?this.ipv4:"",deviceIpV6:this.ipv6?this.ipv6:"",ignoreDownstream:this.ignoreDownStream,ignoreInternal:this.ignoreLocal,ignoreUpstream:this.ignoreUpStream,orgId:this.ORG_ID?this.ORG_ID:50,samplingRate:+this.samplingLimit,name:this.name?this.name.trim():"",rateLimit:0,receivingPort:2058,tenantId:0,address:this.address?this.address.trim():""};this.loading=!0,this.deviceAddSubs=this.api.DeviceAdd(t,this.ORG_ID).subscribe(function(t){e.isRerender=!0,e.cancel(),e.apiLoader()},function(t){e.pageErrorHandle(t)})}},{key:"cancel",value:function(){this.formVisible=!1,this.buttonVisible=!0,this.tablePreview=!1,this.reset()}},{key:"edit",value:function(e){var t;this.editData=e,this.editOnValue=e._id,this.editName=e.name?e.name:"",this.editHostName=e.hostName?e.hostName:"",this.editDeviceIPV4=e.deviceIpV4,this.editDeviceIPV6=e.deviceIpV6,this.editIgnoreUpStream=!!e.ignoreUpstream,this.editIgnoreDownStream=!!e.ignoreDownstream,this.editIgnoreLocal=!!e.ignoreInternal,this.editSamplingLimit=e.samplingRate,this.editGeoCoordinate=e.tenantId;var i=null!==(t=e.deviceIpV4)&&void 0!==t?t:e.deviceIpV6;if(-1!==this.deleteIds.indexOf(e._id)){this.deleteIds.splice(this.deleteIds.indexOf(e._id),1),this.deviceIps.splice(this.deviceIps.indexOf(i),1),this.deleteDevices=this.deleteDevices.filter(function(t){return t._id!==e._id});var n=S('input[name^="delete_device_id"]').length;this.deleteIds.length?this.deleteIds.length!=n?(S("#selectDeselectAll").prop("checked",!1),S("#selectDeselectAll-span").show()):S("#selectDeselectAll-span").hide():(S("#selectDeselectAll").prop("checked",!1),S("#selectDeselectAll-span").hide())}}},{key:"updateSave",value:function(){var e=this;if(this.deviceIPError=!1,this.deviceIP6Error=!1,this.ipv4="",this.ipv6="",this.editDeviceIPV6=this.editDeviceIPV6?this.editDeviceIPV6.trim():"",this.editDeviceIPV4=this.editDeviceIPV4?this.editDeviceIPV4.trim():"",this.editName=this.editName?this.editName.trim():"",this.editName.length&&this.editName.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody="".concat(this.language["Invalid Device Name"]," - Name should not exceed 64 characters."),void this.openInfoModal(!1);if(this.editDeviceIPV6&&this.deviceIpValidatorIpv6(this.editDeviceIPV6),this.editDeviceIPV4&&this.deviceIpValidatorIpv4(this.editDeviceIPV4),this.deviceIPError||this.deviceIP6Error||!this.editDeviceIPV4&&!this.editDeviceIPV6)return this.infoTitle=this.language["Invalid request"],this.infoBody=this.language["Invalid IP address"],this.closeModal(),void(this.modalRef=this.dialogService.open(this.infoModal));if(this.samplingRateValidator(this.editSamplingLimit),this.samplingLimitError)return this.infoTitle=this.language["Invalid value"],this.infoBody=this.language["The sampling rate should be an integer value greater than 0 and less than 65536."],void this.openInfoModal(!1);var t={_id:this.editData._id,deviceIpV4:this.ipv4?this.ipv4:"",deviceIpV6:this.ipv6?this.ipv6:"",ignoreDownstream:this.editIgnoreDownStream,ignoreInternal:this.editIgnoreLocal,ignoreUpstream:this.editIgnoreUpStream,orgId:this.ORG_ID?this.ORG_ID:50,samplingRate:+this.editSamplingLimit,name:this.editName?this.editName.trim():"",rateLimit:0,receivingPort:this.editData.receivingPort?this.editData.receivingPort:0,tenantId:0,flowType:this.editData.flowType?this.editData.flowType:""};this.loading=!0,this.deviceUpdateSubs=this.api.DeviceUpdate(this.editData._id,t,this.ORG_ID).subscribe(function(t){e.isRerender=!0,e.apiLoader(),e.cancel(),e.editOnValue=void 0},function(t){e.pageErrorHandle(t)})}},{key:"updateCancel",value:function(){this.editOnValue=void 0}},{key:"hideShow",value:function(e){this.showingDeviceIp=this.showingDeviceIp==e?void 0:e}},{key:"hideShowV6",value:function(e){this.showingDeviceIpv6=this.showingDeviceIpv6==e?void 0:e}},{key:"delete",value:function(e){e.deviceIpV4?e.deviceIpV4:e.deviceIpV6,this.deleteData=e,e.name=e.name?this.strSub(e.name):"",e.hostName=e.hostName?this.strSub(e.hostName):"",this.infoTitle=this.language["Delete device?"],this.closeModal(),this.modalRef=this.dialogService.open(this.deleteModal,{backdrop:"static",keyboard:!1})}},{key:"confirmDelete",value:function(){var e=this,t=this.deleteData._id;this.loading=!0,this.closeModal(),this.deviceDeleteSubs=this.api.DeviceDelete(t,this.ORG_ID).subscribe(function(t){e.deleteIds=[],e.deviceIps=[],e.deleteDevices=[],e.isRerender=!0,e.apiLoader()},function(t){e.pageErrorHandle(t)})}},{key:"cancelDelete",value:function(){this.deleteData=void 0,this.closeModal()}},{key:"getDeleteIds",value:function(e,t){var i;i=t.deviceIpV4?t.deviceIpV4:t.deviceIpV6;var n=this.deleteDevices;if(e.target.checked){if(-1===this.deleteIds.indexOf(t._id)){this.deleteIds.push(t._id),this.deviceIps.push(i),this.deleteDevices.push(t);var a=S('input[name^="delete_device_id"]').length;this.deleteIds.length==a?(S("#selectDeselectAll").prop("checked",!0),S("#selectDeselectAll-span").hide()):S("#selectDeselectAll-span").show()}}else{this.deleteIds.splice(this.deleteIds.indexOf(t._id),1),this.deviceIps.splice(this.deviceIps.indexOf(i),1),n=n.filter(function(e){return e._id!==t._id}),this.deleteDevices=n;var o=S('input[name^="delete_device_id"]').length;this.deleteIds.length?this.deleteIds.length!=o?(S("#selectDeselectAll").prop("checked",!1),S("#selectDeselectAll-span").show()):S("#selectDeselectAll-span").hide():(S("#selectDeselectAll").prop("checked",!1),S("#selectDeselectAll-span").hide())}}},{key:"selectDeselectAll",value:function(e){var t=0,i=S('input[name^="delete_device_id"]').length,n=this;n.deleteIds=[],n.deviceIps=[],n.deleteDevices=[],e?S('input[name^="delete_device_id"]').each(function(){if(t>=i)return!1;S(this).prop("checked",!0);var e,a=S(this).attr("class").split(" ")[0].substring("delete_device_id_".length),o=n.deviceData.filter(function(e){return e._id===a});e=o[0].deviceIpV4?o[0].deviceIpV4:o[0].deviceIpV6,n.deleteIds.push(a),n.deviceIps.push(e),n.deleteDevices.push(o[0]),t++}):S('input[name^="delete_device_id"]').each(function(){if(t>=i)return!1;S(this).prop("checked",!1),n.deleteIds=[],n.deviceIps=[],n.deleteDevices=[],t++})}},{key:"deleteAllSelected",value:function(){if(this.deviceIps){this.infoTitle=this.language[1===this.deviceIps.length?"Delete selected device?":"Delete selected devices?"];for(var e="",t=0;t<this.deviceIps.length;t++)this.deleteDevices[t].name=this.deleteDevices[t].name?this.strSub(this.deleteDevices[t].name):"",this.deleteDevices[t].hostName=this.deleteDevices[t].hostName?this.strSub(this.deleteDevices[t].hostName):"",e+="<tr><td>".concat(this.deleteDevices[t].name&&this.deleteDevices[t].name.length>20?this.deleteDevices[t].name.slice(0,20)+"...":this.deleteDevices[t].name,"</td><td>").concat(this.deviceIps[t],"</td><td>").concat(this.deleteDevices[t].hostName&&this.deleteDevices[t].hostName.length>20?this.deleteDevices[t].hostName.slice(0,20)+"...":this.deleteDevices[t].hostName,"</td></tr><br>");this.infoBody=e,this.closeModal(),this.modalRef=this.dialogService.open(this.multiDeleteModal,{backdrop:"static",keyboard:!1})}}},{key:"confirmDeleteSecleted",value:function(){var e=this;this.closeModal();var t=[];this.deleteIds.forEach(function(i){t.push(e.api.DeviceDelete(i,e.ORG_ID))}),(0,g.D)(t).subscribe(function(t){e.deleteIds=[],e.deviceIps=[],e.deleteDevices=[],e.isRerender=!0,e.cancel(),e.apiLoader()},function(t){e.pageErrorHandle(t)})}},{key:"showAllInnerCheckBox",value:function(e){S("#"+e.target.id).hide(),S("#selectDeselectAll").prop("checked",!0),this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.selectDeselectAll(!0)}},{key:"resetDelete",value:function(){this.selectDeselectAll(!1),S("#selectDeselectAll").prop("checked",!1),S("#selectDeselectAll-span").hide(),this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[]}},{key:"exportDataConvertor",value:function(e){var t=this;return Array.isArray(e)&&e.forEach(function(e){for(var i in e)"boolean"==typeof e[i]&&(e[i]=1==e[i]?"Yes":"No");delete(e=t.commonFunctionsService.columnNameFromKeys(e,t.columnName)).flowType,delete e.observationId,delete e.orgId,delete e.tenantId,delete e._id}),e}},{key:"export",value:function(){var e=this;this.deviceExportSubs=this.api.Export("devices",this.ORG_ID).subscribe(function(t){var i=e.commonFunctionsService.generateExportName("device_file_export",!0),n=e.exportDataConvertor(t);e.exportExcel.downLoadCSV(i,n.length?n:[e.empty])},function(t){e.pageErrorHandle(t)})}},{key:"fullImportUpload",value:function(){this.infoTitle=this.language.fullImport,this.infoBody=this.language.fullImportPrompt,this.closeModal(),this.modalRef=this.dialogService.open(this.importModal,{backdrop:"static",keyboard:!1})}},{key:"proceedImport",value:function(){this.closeModal(),S("#fullImportUpload").click()}},{key:"fullImport",value:function(e,t){sessionStorage.setItem("importType",e),this.dataTablecreatorService.generateJsonFromCsv(t,this.deviceData)}},{key:"tableDataRecreate",value:function(t){var i,n=this,a=[],o=[],s=[],l=Object.assign([],this.deviceData);l.forEach(function(e){e.deviceIpV4&&e.deviceIpV4.trim()?a.push(e.deviceIpV4):(e.deviceIpV4="",a.push("@@@$@@@")),e.deviceIpV6&&e.deviceIpV6.trim()?a.push(e.deviceIpV6):(e.deviceIpV6="",a.push("@@@$@@@"))});var r=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,d=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;t.forEach(function(t,i){var c=a.indexOf(t.deviceIpV4)>-1?a.indexOf(t.deviceIpV4):a.indexOf(t.deviceIpV6)>-1?a.indexOf(t.deviceIpV6):-1;(""!=t.deviceIpV4.trim()||""!=t.deviceIpV6.trim())&&c+1?(c=c%2!=0?(c-1)/2:c/2,""!=t.receivingPort&&t.receivingPort>0&&t.receivingPort!=l[c].receivingPort&&2058!=t.receivingPort&&(t.action="Invalid receiving port, it should be 2058"),t.flowType&&t.flowType.trim()&&!["netflow","cflow","sflow"].includes(t.flowType)&&(t.action="Invalid flow type, it should be [netflow, cflow, sflow]"),(o.includes(t.deviceIpV4)||o.includes(t.deviceIpV6))&&(t.action="Device Ip already exist in File .This will be ignored."),(""!=t.deviceIpV4.trim()&&!r.test(t.deviceIpV4)||""!=t.deviceIpV6.trim()&&!d.test(t.deviceIpV6))&&(t.action="Invalid Device IP"),t.hasOwnProperty("action")||Object.keys(t).forEach(function(e){!0===l[c][e]?l[c][e]="Yes":!1===l[c][e]&&(l[c][e]="No"),t[e]!=l[c][e]&&(t.action="Update",t._id=l[c]._id)}),t.hasOwnProperty("action")||s.push(i),n.previewTableHeader.forEach(function(e){t["old_".concat(e)]=l[c][e]}),l[c].deviceIpV4.trim()&&o.push(l[c].deviceIpV4),l[c].deviceIpV6.trim()&&o.push(l[c].deviceIpV6),a.splice(2*c,2),l.splice(c,1)):(t.flowType&&t.flowType.trim()&&!["netflow","cflow","sflow"].includes(t.flowType)&&(t.action="Invalid flow type, it should be [netflow, cflow, sflow]"),(""!=t.deviceIpV4.trim()&&!r.test(t.deviceIpV4)||""!=t.deviceIpV6.trim()&&!d.test(t.deviceIpV6))&&(t.action="Invalid Device IP"),t.hasOwnProperty("action")||(t.action="Create"),t.deviceIpV4.trim()&&o.push(t.deviceIpV4),t.deviceIpV6.trim()&&o.push(t.deviceIpV6),n.previewTableHeader.forEach(function(e){t["old_".concat(e)]=""}));for(var u=0,g=Object.entries(t);u<g.length;u++){var p=e(g[u],2),h=p[0],v=p[1];!0===v?t[h]="Yes":!1===v&&(t[h]="No")}}),i=Object.assign([],t);var c=Object.assign([],t);return(s=s.sort(function(e,t){return t-e})).forEach(function(e){c.splice(e,1)}),l.length&&"IncImport"!=sessionStorage.getItem("importType")&&l.forEach(function(t){t.action="Delete";for(var i=0,n=Object.entries(t);i<n.length;i++){var a=e(n[i],2),o=a[0],s=a[1];!0===s?t[o]="Yes":!1===s&&(t[o]="No")}c.push(t)}),this.recreateTable=i,c}},{key:"appendOldPrefix",value:function(e){return"old_".concat(e)}},{key:"previewHeader",value:function(){this.previewHeaderValue=[]}},{key:"importSubmit",value:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=sessionStorage.getItem("importType"),a={clientIP:this.storageData.clientIp,dry_run:i,full_import:"FullImport"==n,import_data:[],orgId:this.ORG_ID,userId:this.storageData.UserId},o=[],s=[];if(i?this.recreateTable.forEach(function(t){((null==t?void 0:t.deviceIpV4)||(null==t?void 0:t.deviceIpV6))&&o.push(e.importTemplate(t,"Create"))}):this.recreateTable.forEach(function(t){o.push(e.importTemplate(t))}),i){var l=o.length;this.deviceData.forEach(function(t){for(var i=!1,r=0;r<l;r++)(t.deviceIpV4&&t.deviceIpV4==o[r].deviceIpV4||t.deviceIpV6&&t.deviceIpV6==o[r].deviceIpV6)&&(i=!0,"FullImport"==n?(o[r].action="Create",e.importUpdateASCreate.push(t)):o[r].action="Update");if(!i&&a.full_import){var d=Object.assign({},t);s.push(e.importTemplate(d,"Delete"))}})}else if(0==(o=o.filter(function(e){if(["Create","Update"].includes(e.action))return e})).length)return void this.cancel();if(!o.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",void this.openInfoModal(!1);a.import_data=o,this.deviceImportSubs=this.api.Import("devices",a,this.ORG_ID).subscribe(function(n){i?(e.enableImportSubmit=!1,n=n.map(function(t){return t.action="ok"==t.validationResult.toLowerCase()?t.action:t.validationResult,"ok"==t.validationResult.toLowerCase()&&(e.enableImportSubmit=!0),t}),e.recreateTable=n,e.previewOrder([].concat(t(n),s)),e.buttonVisible=!1,e.tablePreview=!0):(sessionStorage.removeItem("importType"),e.cancel(),e.isRerender=!0,e.apiLoader())},function(t){400==t.status?(i?(e.infoTitle=e.language.objectNotFound,e.infoBody="",e.closeModal(),e.modalRef=e.dialogService.open(e.infoModal)):(sessionStorage.removeItem("importType"),e.pageErrorHandle(t)),e.loading=!1):e.pageErrorHandle(t)})}},{key:"importTemplate",value:function(e,t){return{action:t||e.action,deviceIpV4:e.deviceIpV4,deviceIpV6:e.deviceIpV6,orgId:this.ORG_ID,tenantId:0,ignoreDownstream:"Yes"===e.ignoreDownstream||!0===e.ignoreDownstream,ignoreInternal:"Yes"===e.ignoreInternal||!0===e.ignoreInternal,ignoreUpstream:"Yes"===e.ignoreUpstream||!0===e.ignoreUpstream,name:e.name,rateLimit:e.rateLimit,receivingPort:e.receivingPort,samplingRate:e.samplingRate}}},{key:"previewOrder",value:function(t){var i=this;if(!t||0==t.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",this.closeModal(),void(this.modalRef=this.dialogService.open(this.infoModal));var n=[],a=["ignoreDownstream","ignoreInternal","ignoreUpstream"],o=["validationResult"],s=["action","deviceIpV4","deviceIpV6"];t.forEach(function(t){var l={};Object.keys(t).forEach(function(e){o.includes(e)||(l[e]=a.includes(e)&&("true"===t[e]||!0===t[e]||t[e]&&"Y"==t[e].toString().toUpperCase)?"Yes":a.includes(e)&&("false"===t[e]||!1===t[e]||t[e]&&"N"==t[e].toString().toUpperCase)?"No":t[e],s.includes(e)||(l["Old "+e]=""))}),i.deviceData.forEach(function(i){if(t.deviceIpV4==i.deviceIpV4&&t.deviceIpV6==i.deviceIpV6){for(var n=0,o=Object.entries(l);n<o.length;n++){var s=e(o[n],2),r=s[0];if(s[1],r.includes("Old")){var d=r.replace("Old ","");l[r]=a.includes(d)&&(i[d]||"Y"==i[d].toString().toUpperCase)?"Yes":!a.includes(d)||i[d]&&"N"!=i[d].toString().toUpperCase?i[d]:"No"}}return"Create"==l.action&&(l.action="Update"),!1}}),n.push(l)}),this.previewTableBody=n}},{key:"cancelImport",value:function(){}},{key:"reset",value:function(){this.name=void 0,this.hostName=void 0,this.deviceIPV4=void 0,this.deviceIPV6=void 0,this.ignoreDownStream=!1,this.ignoreUpStream=!1,this.ignoreLocal=!1,this.geoCoordinate=void 0,this.address=void 0,this.samplingLimit=void 0}},{key:"resetEdit",value:function(){this.editName="",this.editHostName="",this.editDeviceIPV4="",this.editDeviceIPV6="",this.editIgnoreUpStream=!1,this.editIgnoreDownStream=!1,this.editIgnoreLocal=!1,this.editSamplingLimit=void 0,this.editGeoCoordinate=void 0}},{key:"samplingRateValidator",value:function(e){this.samplingLimitError=!1,this.samplingLimitError=!Number.isInteger(e)||!(e>0&&e<=65535)}},{key:"deviceIpValidatorIpv4",value:function(e){e&&""!=e.trim()?(e=e.trim(),this.commonFunctionsService.isValidIpV4Addr(e)?(this.ipv4=e,this.deviceIPError=!1):this.deviceIPError=!0):this.deviceIPError=!0}},{key:"deviceIpValidatorIpv6",value:function(e){e&&""!=e.trim()?(e=e.trim(),this.commonFunctionsService.isValidIpV6Addr(e)?(this.ipv6=e,this.deviceIP6Error=!1):this.deviceIP6Error=!0):this.deviceIPError=!0}},{key:"sortingTable",value:function(e,t){var i=this;setTimeout(function(){i.sortColumn=e,i.sortType=S(t.target).hasClass("sorting_asc")?"asc":"desc"},500)}},{key:"closeAlert",value:function(){this.error=!1,this.success=!1}},{key:"closeModal",value:function(){this.modalRef&&this.modalRef.close()}},{key:"strSub",value:function(e,t){return e.length<=20?e:"".concat(e.substr(0,t||20),"...")}},{key:"pageErrorHandle",value:function(e){var t,i,n,a,o,s,l,r,d;if(400==e.status){var c=(null==e?void 0:e.error)?this.commonOrgService.pageInvalidRqstErrorHandle(e):"";this.infoBody="object_already_exists"==c?"".concat(this.language["Conflict found with existing devices"]," ").concat((null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.info)?null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.info:""):"Bad Request"===c&&((null===(a=null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.message)||void 0===a?void 0:a.split(":").length)&&"object_already_exists"===(null===(s=null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message)||void 0===s?void 0:s.split(":")[0])||"invalid_request"===(null===(r=null===(l=null==e?void 0:e.error)||void 0===l?void 0:l.message)||void 0===r?void 0:r.split(":")[0]))?null===(d=null==e?void 0:e.error)||void 0===d?void 0:d.message.split(":")[1]:c,this.infoTitle=this.language["Invalid request"],this.loading=!1,this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)}else this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(this.errorInfo),this.commonOrgService.pageScrollTop(),this.loading=!1}},{key:"openInfoModal",value:function(e){e||(this.invalidImportDevice=[]),this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1})}},{key:"removeState",value:function(){localStorage.getItem("DataTables_device-table_/".concat(this.MODULE,"/flowAnalyze/network/devices"))&&localStorage.removeItem("DataTables_device-table_/".concat(this.MODULE,"/flowAnalyze/network/devices"))}},{key:"inputValidator",value:function(e){var t=null==e?void 0:e.keyCode;return t>64&&t<91||t>96&&t<123||8==t||32==t||t>=48&&t<=57}},{key:"removeUnwantedSpace",value:function(e,t){this[e]=this.common.trimSpaceFromNonObjectInputs(t)}}]),i}()).\u0275fac=function(e){return new(e||M)(p.Y36(h.i),p.Y36(v.v),p.Y36(m.O),p.Y36(f.L),p.Y36(I.s),p.Y36(r.F0),p.Y36(b.t6),p.Y36(Z.FF),p.Y36(T.v),p.Y36(D.Dx),p.Y36(x.i))},M.\u0275cmp=p.Xpm({type:M,selectors:[["app-devices"]],viewQuery:function(e,t){var i;1&e&&(p.Gf(A,7),p.Gf(w,7),p.Gf(y,5),p.Gf(O,7),p.Gf(c.G,5)),2&e&&(p.iGM(i=p.CRH())&&(t.infoModal=i.first),p.iGM(i=p.CRH())&&(t.deleteModal=i.first),p.iGM(i=p.CRH())&&(t.multiDeleteModal=i.first),p.iGM(i=p.CRH())&&(t.importModal=i.first),p.iGM(i=p.CRH())&&(t.dtElement=i.first))},decls:4,vars:1,consts:[[1,"container","px-0","position-relative"],["id","deviceTabs","role","tablist",1,"nav","nav-tabs","nav-tab-list"],["class","nav-item","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"nav-item"],["role","tab","aria-controls","device-configuration","aria-selected","true",1,"btn","btn-default",3,"id","routerLink","routerLinkActive"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"ul",1),p.YNc(2,q,3,5,"li",2),p.qZA(),p._UZ(3,"router-outlet"),p.qZA()),2&e&&(p.xp6(2),p.Q6J("ngForOf",t.menus))},directives:[l.sg,r.lC,r.yS,r.Od],styles:[".modal-scrll[_ngcontent-%COMP%]{overflow-y:auto;max-height:500px}.list-two[_ngcontent-%COMP%]{list-style-type:disc;margin-left:30px}.min-w-250[_ngcontent-%COMP%]{min-width:250px}.min-w-170[_ngcontent-%COMP%]{min-width:170px}.min-w-130[_ngcontent-%COMP%]{min-width:130px}.w-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.w-nowrap-150[_ngcontent-%COMP%]{white-space:nowrap;min-width:150px}.f-size13[_ngcontent-%COMP%]{font-size:13px}.w-200px[_ngcontent-%COMP%]{width:200px}.w-150px[_ngcontent-%COMP%]{width:150px}.w-100px[_ngcontent-%COMP%]{width:100px}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:3px 20px!important;border:1px solid #0279FF;color:#0279ff;font-size:14px;line-height:16.67px!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(.active):hover{background-color:#0279ff;color:#fff}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn.active[_ngcontent-%COMP%]{background-color:#0279ff;color:#fff}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-radius:0!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:first-child   .btn[_ngcontent-%COMP%]{border-top-left-radius:12px!important;border-bottom-left-radius:12px!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child   .btn[_ngcontent-%COMP%]{border-top-right-radius:12px!important;border-bottom-right-radius:12px!important}.line-height-normal[_ngcontent-%COMP%]{line-height:normal}"]}),M),V=o(5304),k=o(25917),P=o(89044),U=o(91841),N=["infoModal"];function E(e,t){1&e&&(p.TgZ(0,"div",7),p.TgZ(1,"div",8),p.TgZ(2,"div",9),p.TgZ(3,"span",10),p._uU(4,"Loading..."),p.qZA(),p.qZA(),p.qZA(),p.qZA())}function L(e,t){if(1&e&&(p.TgZ(0,"div",11),p.TgZ(1,"div",12),p.TgZ(2,"label",13),p._uU(3),p.qZA(),p.TgZ(4,"div",14),p._uU(5),p.qZA(),p.qZA(),p.TgZ(6,"div",12),p.TgZ(7,"label",13),p._uU(8),p.qZA(),p.TgZ(9,"div",14),p._uU(10),p.qZA(),p.qZA(),p.TgZ(11,"div",15),p.TgZ(12,"label",13),p._uU(13),p.qZA(),p.TgZ(14,"div",14),p._uU(15),p.qZA(),p.qZA(),p.qZA()),2&e){var i=p.oxw();p.xp6(3),p.Oqu(i.language.discoveredCount),p.xp6(2),p.Oqu(i.counts.discoveredCount),p.xp6(3),p.Oqu(i.language.mappedCount),p.xp6(2),p.Oqu(i.counts.mappedCount),p.xp6(3),p.Oqu(i.language.mappedPercent),p.xp6(2),p.hij("",i.mappedPercentage,"%")}}function R(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"tr",17),p.TgZ(1,"td"),p.TgZ(2,"a",18),p.NdJ("click",function(){var e=p.CHM(i).$implicit;return p.oxw(2).routeToDevicePlaceholder(e.device_ip)}),p._uU(3),p.qZA(),p.qZA(),p.TgZ(4,"td"),p._uU(5),p.qZA(),p.TgZ(6,"td"),p._uU(7),p.qZA(),p.TgZ(8,"td"),p._uU(9),p.qZA(),p.TgZ(10,"td"),p._uU(11),p.qZA(),p.qZA()}if(2&e){var n=t.$implicit,a=p.oxw(2);p.s9C("id",n._id),p.xp6(3),p.Oqu(n.device_ip||""),p.xp6(2),p.Oqu(n.flow_rate||"0"),p.xp6(2),p.Oqu(n.packet_rate||"0"),p.xp6(2),p.Oqu(n.virtual_packet_rate?a.formatPacket(n.virtual_packet_rate):"0 pps"),p.xp6(2),p.Oqu(n.virtual_bit_rate?a.formatBytes(n.virtual_bit_rate):"0 bps")}}function F(e,t){if(1&e&&(p.TgZ(0,"tbody"),p.YNc(1,R,12,6,"tr",16),p.qZA()),2&e){var i=p.oxw();p.xp6(1),p.Q6J("ngForOf",i.deviceStatusData)}}function J(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",19),p.TgZ(1,"h4",20),p._uU(2),p.qZA(),p.TgZ(3,"button",21),p.NdJ("click",function(){return p.CHM(i),p.oxw().closeModal()}),p._UZ(4,"span",22),p.qZA(),p.qZA(),p.TgZ(5,"div",23),p.TgZ(6,"div",24),p.TgZ(7,"p",25),p._uU(8),p.qZA(),p.qZA(),p.qZA(),p.TgZ(9,"div",26),p.TgZ(10,"button",27),p.NdJ("click",function(){return p.CHM(i),p.oxw().closeModal()}),p._uU(11),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.xp6(2),p.Oqu(n.infoTitle),p.xp6(6),p.Oqu(n.infoBody),p.xp6(3),p.hij(" ",n.language.Okay," ")}}var H=function(){var e=function(){function e(t,i,n,o,s,l,r,d,c){var g=this;a(this,e),this.translateService=t,this.commonOrgService=i,this.titleService=n,this.router=o,this.sso=s,this.endpointManagementService=l,this.http=r,this.networkDeviceApiService=d,this.dialogService=c,this.statusTableOptions={pageLength:10,pagingType:"full_numbers",stateSave:!1,order:[0,"asc"],columnDefs:[{targets:[1,2,3,4],orderable:!1}],lengthChange:!0,ordering:!0,searching:!0},this.dtTrigger=new u.xQ,this.counts={discoveredCount:null,mappedCount:null},this.show={count:!1,loading:!1},this.mappedPercentage=0,this.deviceStatusData=[],this.language=this.translateService.defualtLanguage;var p=this.router.url;this.commonOrgService.closeAlert(),this.MODULE=this.sso.getRedirectModule(p),this.ORG_ID=this.sso.getOrganizationID(p),this.translateSub=this.translateService.selectedLanguage.subscribe(function(e){g.language=e,g.titleService.setTitle("".concat(g.language.Bsp_Microsite_Status," - ").concat(g.language.devices," - ").concat(g.language.Network," - ").concat(g.language.flowconfiguration," - ").concat("systemAdministration"===g.MODULE?g.language["System Administration"]:g.language.administration," - ").concat(g.language["Calix Cloud"])),g.reloadCurrentRoute()}),this.titleService.setTitle("".concat(this.language.Bsp_Microsite_Status," - ").concat(this.language.devices," - ").concat(this.language.Network," - ").concat(this.language.flowconfiguration," - ").concat("systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration," - ").concat(this.language["Calix Cloud"])),this.commonOrgService.setKey("deviceIp",null)}return s(e,[{key:"ngOnInit",value:function(){this.getCounts(),this.getDeviceStatusList()}},{key:"ngOnDestroy",value:function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSub&&this.translateSub.unsubscribe(),this.countSub&&this.countSub.unsubscribe()}},{key:"getDeviceStatusList",value:function(){var e=this;this.show.loading=!0,this.getDeviceStatusListSub=this.networkDeviceApiService.DeviceStatusList(this.ORG_ID).subscribe(function(t){e.show.loading=!1,t&&t.metrics&&t.metrics.length&&(e.deviceStatusData=t.metrics),e.tableLanguageOptions(),e.dtTrigger.next()},function(t){e.show.loading=!1,e.rerender(),e.pageErrorHandle(t)})}},{key:"getCounts",value:function(){var e=this,t={};t.mappedCount=this.endpointManagementService.getMappedcount(this.ORG_ID).pipe((0,V.K)(function(e){return(0,k.of)(e)})),t.unmappedCount=this.endpointManagementService.getUnmappedcount(this.ORG_ID).pipe((0,V.K)(function(e){return(0,k.of)(e)})),this.countSub=(0,g.D)(t).subscribe(function(t){e.counts.discoveredCount=(null==t?void 0:t.mappedCount)+(null==t?void 0:t.unmappedCount),e.counts.mappedCount=null==t?void 0:t.mappedCount,e.getMappedPercentage(),e.show.count=!0})}},{key:"getMappedPercentage",value:function(){this.mappedPercentage=this.counts.mappedCount/this.counts.discoveredCount*100,this.mappedPercentage=this.mappedPercentage?this.mappedPercentage.toFixed(2):0}},{key:"routeToDevicePlaceholder",value:function(e){this.commonOrgService.setKey("deviceIp",e),this.router.navigate(["".concat(this.MODULE,"/devices-name-placeholder")],{state:{data:e}})}},{key:"setTableOptions",value:function(e){var t=this;this.tableLanguageOptions(),setTimeout(function(){t.show.loading=!1},200)}},{key:"rerender",value:function(){this.dtTrigger.next()}},{key:"tableLanguageOptions",value:function(){"fr"==this.language.fileLanguage?this.statusTableOptions.language=this.translateService.fr:"es"==this.language.fileLanguage?this.statusTableOptions.language=this.translateService.es:"de_DE"==this.language.fileLanguage?this.statusTableOptions.language=this.translateService.de_DE:"en"==this.language.fileLanguage&&this.statusTableOptions.language&&delete this.statusTableOptions.language}},{key:"openInfoModal",value:function(){this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)}},{key:"closeModal",value:function(){this.modalRef&&this.modalRef.close()}},{key:"pageErrorHandle",value:function(e,t){var i,n,a,o=this,s="";404!==(null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.code)&&(400==e.status||417==e.status?(this.infoBody=417==e.status&&(null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.message)?null===(a=null==e?void 0:e.error)||void 0===a?void 0:a.message:this.commonOrgService.pageInvalidRqstErrorHandle(e),this.infoTitle=t||"Error",this.openInfoModal(),this.show.loading=!1):(s=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(s),this.commonOrgService.pageScrollTop(),this.show.loading=!1,setTimeout(function(){o.commonOrgService.closeAlert()},3e3)))}},{key:"formatBytes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+e)return"0 Bits";var i=t<0?0:t,n=Math.floor(Math.log(e)/Math.log(1e3));return"".concat(parseFloat((e/Math.pow(1e3,n)).toFixed(i))," ").concat(["Bits","Kbps","Mbps","Gbps","Tbps","Pbps","Ebps","Zbps","Ybps"][n])}},{key:"formatPacket",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+e)return"0 pps";var i=t<0?0:t,n=Math.floor(Math.log(e)/Math.log(1e3));return"".concat(parseFloat((e/Math.pow(1e3,n)).toFixed(i))," ").concat(["pps","Kpps","Mpps","Gpps","Tbps","Ppps","Epps","Zpps","Ypsps"][n])}},{key:"reloadCurrentRoute",value:function(){var e=this,t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(function(){e.router.navigate([t])})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(I.s),p.Y36(T.v),p.Y36(D.Dx),p.Y36(r.F0),p.Y36(b.t6),p.Y36(P.U),p.Y36(U.eN),p.Y36(v.v),p.Y36(Z.FF))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-devices-status"]],viewQuery:function(e,t){var i;(1&e&&(p.Gf(N,7),p.Gf(c.G,5)),2&e)&&(p.iGM(i=p.CRH())&&(t.infoModal=i.first),p.iGM(i=p.CRH())&&(t.dtElement=i.first))},decls:20,vars:14,consts:[["class","loader",4,"ngIf"],["class","d-flex align-items-start w-100 my-3",4,"ngIf"],[1,"row"],[1,"col-12","col-lg-12"],["width","100%","id","statusDataTable","datatable","",1,"table","w-100",3,"dtTrigger","dtOptions"],[4,"ngIf"],["infoModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"d-flex","align-items-start","w-100","my-3"],[1,"border-left","line-height-normal","px-3","mr-3"],[1,"stats-label","mb-0"],[1,"stats-value"],[1,"border-left","line-height-normal","px-3"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[1,"primary","cursor-pointer","text-decoration-none","text-break",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","modal-scrll"],[1,"w-100"],[1,"f-size-16px"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"]],template:function(e,t){1&e&&(p.YNc(0,E,5,0,"div",0),p.YNc(1,L,16,6,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"table",4),p.TgZ(5,"thead"),p.TgZ(6,"tr"),p.TgZ(7,"th"),p._uU(8),p.qZA(),p.TgZ(9,"th"),p._uU(10),p.qZA(),p.TgZ(11,"th"),p._uU(12),p.qZA(),p.TgZ(13,"th"),p._uU(14),p.qZA(),p.TgZ(15,"th"),p._uU(16),p.qZA(),p.qZA(),p.qZA(),p.YNc(17,F,2,1,"tbody",5),p.qZA(),p.qZA(),p.qZA(),p.YNc(18,J,12,3,"ng-template",null,6,p.W1O)),2&e&&(p.Q6J("ngIf",null==t.show?null:t.show.loading),p.xp6(1),p.Q6J("ngIf",t.show.count),p.xp6(3),p.Q6J("dtTrigger",t.dtTrigger)("dtOptions",t.statusTableOptions),p.xp6(4),p.Oqu(t.language.deviceIP),p.xp6(2),p.AsE("",t.language.flowRate," (",t.language.perSecond,")"),p.xp6(2),p.AsE("",t.language.packetRate," (",t.language.perSecond,")"),p.xp6(2),p.AsE("",t.language.virtualPacketRate," (",t.language.perSecond,")"),p.xp6(2),p.AsE("",t.language.virtualBitRate," (",t.language.perSecond,")"),p.xp6(1),p.Q6J("ngIf",null==t.deviceStatusData?null:t.deviceStatusData.length))},directives:[l.O5,c.G,l.sg],styles:[""]}),e}(),Y=o(3679),G=o(86640),j=["infoModal"],Q=["deleteModal"],B=["multiDeleteModal"],$=["importModal"];function z(e,t){1&e&&(p.TgZ(0,"div",24),p.TgZ(1,"div",25),p.TgZ(2,"div",26),p.TgZ(3,"span",27),p._uU(4,"Loading..."),p.qZA(),p.qZA(),p.qZA(),p.qZA())}function W(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",28),p.TgZ(1,"div",29),p.TgZ(2,"div",30),p.TgZ(3,"div"),p.TgZ(4,"button",31),p.NdJ("click",function(){return p.CHM(i),p.oxw().create()}),p._uU(5),p.qZA(),p.qZA(),p.TgZ(6,"div"),p.TgZ(7,"button",32),p.NdJ("click",function(){return p.CHM(i),p.oxw().export()}),p._uU(8),p.qZA(),p.qZA(),p.TgZ(9,"div",33),p.TgZ(10,"button",34),p.NdJ("click",function(){return p.CHM(i),p.oxw().fullImportUpload()}),p._uU(11),p.qZA(),p.TgZ(12,"input",35,36),p.NdJ("click",function(){return p.CHM(i),p.MAs(13).value=null})("change",function(e){return p.CHM(i),p.oxw().fullImport("FullImport",e)}),p.qZA(),p.qZA(),p.TgZ(14,"div",33),p.TgZ(15,"label",37),p._uU(16),p.qZA(),p.TgZ(17,"input",38,39),p.NdJ("click",function(){return p.CHM(i),p.MAs(18).value=null})("change",function(e){return p.CHM(i),p.oxw().fullImport("IncImport",e)}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(19,"div",40),p.TgZ(20,"div",41),p._UZ(21,"input",42),p.TgZ(22,"button",43),p._UZ(23,"i",44),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.xp6(5),p.Oqu(n.language.create),p.xp6(3),p.Oqu(n.language.export),p.xp6(3),p.Oqu(n.language.fullImport),p.xp6(5),p.hij("",n.language.incrementalImport," ")}}var X=function(){return{standalone:!0}};function K(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"section"),p.TgZ(1,"div",4),p.TgZ(2,"div",45),p.TgZ(3,"form"),p.TgZ(4,"div",46),p.TgZ(5,"label",47),p._uU(6),p.qZA(),p.TgZ(7,"div",48),p.TgZ(8,"input",49),p.NdJ("ngModelChange",function(e){return p.CHM(i),p.oxw().name=e})("blur",function(){p.CHM(i);var e=p.oxw();return e.removeUnwantedSpace("name",e.name)}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(9,"div",46),p.TgZ(10,"label",50),p._uU(11),p.TgZ(12,"span"),p._UZ(13,"i",51),p.qZA(),p.qZA(),p.TgZ(14,"div",48),p.TgZ(15,"input",52),p.NdJ("ngModelChange",function(e){return p.CHM(i),p.oxw().deviceIPV4=e})("blur",function(){p.CHM(i);var e=p.oxw();return e.removeUnwantedSpace("deviceIPV4",e.deviceIPV4)}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(16,"div",46),p.TgZ(17,"label",53),p._uU(18),p.TgZ(19,"span"),p._UZ(20,"i",51),p.qZA(),p.qZA(),p.TgZ(21,"div",48),p.TgZ(22,"input",54),p.NdJ("ngModelChange",function(e){return p.CHM(i),p.oxw().deviceIPV6=e})("blur",function(){p.CHM(i);var e=p.oxw();return e.removeUnwantedSpace("deviceIPV6",e.deviceIPV6)}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(23,"div",46),p.TgZ(24,"label",55),p._uU(25),p.TgZ(26,"span"),p._UZ(27,"i",51),p.qZA(),p.qZA(),p.TgZ(28,"div",48),p.TgZ(29,"ng-select",56),p.NdJ("ngModelChange",function(e){return p.CHM(i),p.oxw().ignoreUpStream=e}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(30,"div",46),p.TgZ(31,"label",57),p._uU(32),p.TgZ(33,"span"),p._UZ(34,"i",51),p.qZA(),p.qZA(),p.TgZ(35,"div",48),p.TgZ(36,"ng-select",58),p.NdJ("ngModelChange",function(e){return p.CHM(i),p.oxw().ignoreDownStream=e}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(37,"div",46),p.TgZ(38,"label",59),p._uU(39),p.TgZ(40,"span"),p._UZ(41,"i",51),p.qZA(),p.qZA(),p.TgZ(42,"div",48),p.TgZ(43,"ng-select",60),p.NdJ("ngModelChange",function(e){return p.CHM(i),p.oxw().ignoreLocal=e}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(44,"div",46),p.TgZ(45,"label",61),p._uU(46),p.TgZ(47,"span",62),p._uU(48,"*"),p.qZA(),p.TgZ(49,"span"),p._UZ(50,"i",51),p.qZA(),p.qZA(),p.TgZ(51,"div",48),p.TgZ(52,"input",63),p.NdJ("ngModelChange",function(e){return p.CHM(i),p.oxw().samplingLimit=e})("keypress",function(e){return p.CHM(i),p.oxw().inputValidator(e)}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(53,"div",64),p.TgZ(54,"div",65),p.TgZ(55,"button",66),p.NdJ("click",function(){return p.CHM(i),p.oxw().submit()}),p._uU(56),p.qZA(),p.TgZ(57,"button",67),p.NdJ("click",function(){return p.CHM(i),p.oxw().cancel()}),p._uU(58),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.xp6(6),p.Oqu(n.language.name),p.xp6(2),p.Q6J("ngModel",n.name)("ngModelOptions",p.DdM(41,X)),p.xp6(3),p.hij("",n.language.deviceipv4," "),p.xp6(2),p.s9C("title",n.language.deviceiptooltip),p.xp6(2),p.Q6J("ngModel",n.deviceIPV4)("ngModelOptions",p.DdM(42,X)),p.xp6(3),p.hij("",n.language.deviceipv6," "),p.xp6(2),p.s9C("title",n.language.deviceiptooltip),p.xp6(2),p.Q6J("ngModel",n.deviceIPV6)("ngModelOptions",p.DdM(43,X)),p.xp6(3),p.hij("",n.language.ignoreUpstream," "),p.xp6(2),p.s9C("title",n.language.ignoreupstreamtooltip),p.xp6(2),p.Q6J("items",n.selectOptions)("multiple",!1)("ngModel",n.ignoreUpStream)("ngModelOptions",p.DdM(44,X))("clearable",!1)("searchable",!1),p.xp6(3),p.hij("",n.language.ignoreDownstream," "),p.xp6(2),p.s9C("title",n.language.ignoredownstreamtooltip),p.xp6(2),p.Q6J("items",n.selectOptions)("multiple",!1)("ngModel",n.ignoreDownStream)("ngModelOptions",p.DdM(45,X))("clearable",!1)("searchable",!1),p.xp6(3),p.hij("",n.language.ignoreLocal," "),p.xp6(2),p.s9C("title",n.language.ignoreinternal),p.xp6(2),p.Q6J("items",n.selectOptions)("multiple",!1)("ngModel",n.ignoreLocal)("ngModelOptions",p.DdM(46,X))("clearable",!1)("searchable",!1),p.xp6(3),p.hij("",n.language.sampling," "),p.xp6(4),p.s9C("title",n.language.samplingRateToolTip),p.xp6(2),p.Q6J("ngModel",n.samplingLimit)("ngModelOptions",p.DdM(47,X)),p.xp6(4),p.Oqu(n.language.submit),p.xp6(2),p.Oqu(n.language.Cancel)}}function ee(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.qZA(),p.TgZ(9,"td"),p._uU(10),p.qZA(),p.TgZ(11,"td"),p._uU(12),p.qZA(),p.TgZ(13,"td"),p._uU(14),p.qZA(),p.TgZ(15,"td"),p._uU(16),p.qZA(),p.TgZ(17,"td"),p._uU(18),p.qZA(),p.TgZ(19,"td"),p._uU(20),p.qZA(),p.TgZ(21,"td"),p._uU(22),p.qZA(),p.TgZ(23,"td"),p._uU(24),p.qZA(),p.TgZ(25,"td"),p._uU(26),p.qZA(),p.TgZ(27,"td"),p._uU(28),p.qZA(),p.TgZ(29,"td"),p._uU(30),p.qZA(),p.TgZ(31,"td"),p._uU(32),p.qZA(),p.TgZ(33,"td"),p._uU(34),p.qZA(),p.TgZ(35,"td"),p._uU(36),p.qZA(),p.qZA()),2&e){var i=t.$implicit;p.xp6(2),p.Oqu(i.action),p.xp6(2),p.Oqu(i.name),p.xp6(2),p.Oqu(i["Old name"]),p.xp6(2),p.Oqu(i.deviceIpV4),p.xp6(2),p.Oqu(i.deviceIpV6),p.xp6(2),p.Oqu(i.samplingRate),p.xp6(2),p.Oqu(i["Old samplingRate"]),p.xp6(2),p.Oqu(i["Old hostName"]),p.xp6(2),p.Oqu(i.receivingPort),p.xp6(2),p.Oqu(i["Old receivingPort"]),p.xp6(2),p.Oqu(i.flowType),p.xp6(2),p.Oqu(i["Old flowType"]),p.xp6(2),p.Oqu(i.ignoreUpstream),p.xp6(2),p.Oqu(i["Old ignoreUpstream"]),p.xp6(2),p.Oqu(i.ignoreDownstream),p.xp6(2),p.Oqu(i["Old ignoreDownstream"]),p.xp6(2),p.Oqu(i.ignoreInternal),p.xp6(2),p.Oqu(i["Old ignoreInternal"])}}function te(e,t){if(1&e&&(p.TgZ(0,"div",4),p.TgZ(1,"div",70),p.TgZ(2,"table",71),p.TgZ(3,"thead"),p.TgZ(4,"tr"),p.TgZ(5,"th"),p._uU(6),p.qZA(),p.TgZ(7,"th"),p._uU(8),p.qZA(),p.TgZ(9,"th"),p._uU(10),p.qZA(),p.TgZ(11,"th"),p._uU(12),p.qZA(),p.TgZ(13,"th"),p._uU(14),p.qZA(),p.TgZ(15,"th"),p._uU(16),p.qZA(),p.TgZ(17,"th"),p._uU(18),p.qZA(),p.TgZ(19,"th"),p._uU(20),p.qZA(),p.TgZ(21,"th"),p._uU(22),p.qZA(),p.TgZ(23,"th"),p._uU(24),p.qZA(),p.TgZ(25,"th"),p._uU(26),p.qZA(),p.TgZ(27,"th"),p._uU(28),p.qZA(),p.TgZ(29,"th"),p._uU(30),p.qZA(),p.TgZ(31,"th"),p._uU(32),p.qZA(),p.TgZ(33,"th"),p._uU(34),p.qZA(),p.TgZ(35,"th"),p._uU(36),p.qZA(),p.TgZ(37,"th"),p._uU(38),p.qZA(),p.TgZ(39,"th"),p._uU(40),p.qZA(),p.qZA(),p.qZA(),p.TgZ(41,"tbody"),p.YNc(42,ee,37,18,"tr",72),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var i=p.oxw(2);p.xp6(2),p.Q6J("dtOptions",i.importTableOptions),p.xp6(4),p.Oqu(i.language.action),p.xp6(2),p.Oqu(i.language.name),p.xp6(2),p.AsE("",i.language.old," ",i.language.name,""),p.xp6(2),p.Oqu(i.language.deviceipv4),p.xp6(2),p.Oqu(i.language.deviceipv6),p.xp6(2),p.Oqu(i.language.sampling),p.xp6(2),p.AsE("",i.language.old," ",i.language.sampling,""),p.xp6(2),p.Oqu(i.language.hostName),p.xp6(2),p.Oqu(i.language.listeningPort),p.xp6(2),p.AsE("",i.language.old," ",i.language.listeningPort,""),p.xp6(2),p.Oqu(i.language.flowType),p.xp6(2),p.AsE("",i.language.old," ",i.language.flowType,""),p.xp6(2),p.Oqu(i.language.ignoreUpstream),p.xp6(2),p.AsE("",i.language.old," ",i.language.ignoreUpstream,""),p.xp6(2),p.Oqu(i.language.ignoreDownstream),p.xp6(2),p.AsE("",i.language.old," ",i.language.ignoreDownstream,""),p.xp6(2),p.Oqu(i.language.ignoreLocal),p.xp6(2),p.AsE("",i.language.old," ",i.language.ignoreLocal,""),p.xp6(2),p.Q6J("ngForOf",i.previewTableBody)}}function ie(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"section"),p.YNc(1,te,43,27,"div",68),p.TgZ(2,"div",64),p.TgZ(3,"div",65),p.TgZ(4,"button",69),p.NdJ("click",function(){return p.CHM(i),p.oxw().importSubmit()}),p._uU(5),p.qZA(),p.TgZ(6,"button",67),p.NdJ("click",function(){return p.CHM(i),p.oxw().cancel()}),p._uU(7),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.xp6(1),p.Q6J("ngIf",n.tablePreview),p.xp6(3),p.Q6J("disabled",!n.enableImportSubmit),p.xp6(1),p.Oqu(n.language.submit),p.xp6(2),p.Oqu(n.language.Cancel)}}function ne(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",80),p.TgZ(1,"div",81),p.TgZ(2,"span",82),p.TgZ(3,"div",83),p.NdJ("click",function(){p.CHM(i);var e=p.oxw().$implicit;return p.oxw().edit(e)}),p._UZ(4,"i",84),p.qZA(),p.qZA(),p.TgZ(5,"span",82),p.TgZ(6,"input",85),p.NdJ("click",function(e){p.CHM(i);var t=p.oxw().$implicit;return p.oxw().getDeleteIds(e,t)}),p.qZA(),p.qZA(),p.TgZ(7,"span",82),p.TgZ(8,"div",83),p.NdJ("click",function(){p.CHM(i);var e=p.oxw().$implicit;return p.oxw().delete(e)}),p._UZ(9,"i",15),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){var n=p.oxw().$implicit,a=p.oxw();p.xp6(3),p.MGl("id","edit-btn",n._id,""),p.s9C("title",a.language.Edit),p.xp6(3),p.Gre("delete_device_id_",n._id,""),p.s9C("value",n._id),p.MGl("name","delete_device_id_",n._id,""),p.MGl("id","delete_deviceip_",n._id,""),p.s9C("title",a.language.Select),p.xp6(2),p.MGl("id","delete-btn",n._id,""),p.s9C("title",a.language.Delete)}}function ae(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",86),p.TgZ(1,"div",81),p.TgZ(2,"span",87),p.TgZ(3,"div",88),p.NdJ("click",function(){return p.CHM(i),p.oxw(2).updateSave()}),p._UZ(4,"i",89),p.qZA(),p.qZA(),p.TgZ(5,"span",87),p.TgZ(6,"div",90),p.NdJ("click",function(){return p.CHM(i),p.oxw(2).updateCancel()}),p._UZ(7,"i",91),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){var n=p.oxw().$implicit;p.xp6(3),p.MGl("id","save-btn",n._id,""),p.xp6(3),p.MGl("id","cancel-btn",n._id,"")}}function oe(e,t){if(1&e&&(p.TgZ(0,"div"),p._uU(1),p.qZA()),2&e){var i=p.oxw().$implicit;p.xp6(1),p.hij(" ",i.name," ")}}function se(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",41),p.TgZ(1,"input",92),p.NdJ("ngModelChange",function(e){return p.CHM(i),p.oxw(2).editName=e})("blur",function(){p.CHM(i);var e=p.oxw(2);return e.removeUnwantedSpace("editName",e.editName)}),p.qZA(),p.qZA()}if(2&e){var n=p.oxw().$implicit,a=p.oxw();p.xp6(1),p.s9C("value",n.name),p.Q6J("ngModel",a.editName)("ngModelOptions",p.DdM(3,X))}}function le(e,t){if(1&e&&(p.TgZ(0,"div"),p._uU(1),p.qZA()),2&e){var i=p.oxw().$implicit;p.xp6(1),p.hij(" ",i.deviceIpV4," \xa0 ")}}function re(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",41),p.TgZ(1,"input",92),p.NdJ("ngModelChange",function(e){return p.CHM(i),p.oxw(2).editDeviceIPV4=e})("blur",function(){p.CHM(i);var e=p.oxw(2);return e.removeUnwantedSpace("editDeviceIPV4",e.editDeviceIPV4)}),p.qZA(),p.qZA()}if(2&e){var n=p.oxw().$implicit,a=p.oxw();p.xp6(1),p.s9C("value",n.deviceIpV4),p.Q6J("ngModel",a.editDeviceIPV4)("ngModelOptions",p.DdM(3,X))}}function de(e,t){if(1&e&&(p.TgZ(0,"div"),p._uU(1),p.qZA()),2&e){var i=p.oxw().$implicit;p.xp6(1),p.hij(" ",i.deviceIpV6," \xa0 ")}}function ce(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",41),p.TgZ(1,"input",92),p.NdJ("ngModelChange",function(e){return p.CHM(i),p.oxw(2).editDeviceIPV6=e})("blur",function(){p.CHM(i);var e=p.oxw(2);return e.removeUnwantedSpace("editDeviceIPV6",e.editDeviceIPV6)}),p.qZA(),p.qZA()}if(2&e){var n=p.oxw().$implicit,a=p.oxw();p.xp6(1),p.s9C("value",n.deviceIpV6),p.Q6J("ngModel",a.editDeviceIPV6)("ngModelOptions",p.DdM(3,X))}}function ue(e,t){if(1&e&&(p.TgZ(0,"div"),p._uU(1),p.qZA()),2&e){var i=p.oxw().$implicit;p.xp6(1),p.hij(" ",i.samplingRate," ")}}function ge(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",41),p.TgZ(1,"input",93),p.NdJ("ngModelChange",function(e){return p.CHM(i),p.oxw(2).editSamplingLimit=e}),p.qZA(),p.qZA()}if(2&e){var n=p.oxw().$implicit,a=p.oxw();p.xp6(1),p.s9C("value",n.samplingRate),p.Q6J("ngModel",a.editSamplingLimit)("ngModelOptions",p.DdM(3,X))}}function pe(e,t){if(1&e&&(p.TgZ(0,"div"),p._uU(1),p.qZA()),2&e){var i=p.oxw().$implicit;p.xp6(1),p.hij(" ",i.ignoreUpstream?"Yes":"No"," ")}}function he(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"ng-select",94),p.NdJ("ngModelChange",function(e){return p.CHM(i),p.oxw(2).editIgnoreUpStream=e}),p.qZA(),p.qZA()}if(2&e){var n=p.oxw(2);p.xp6(1),p.Q6J("items",n.selectOptions)("multiple",!1)("ngModel",n.editIgnoreUpStream)("ngModelOptions",p.DdM(6,X))("clearable",!1)("searchable",!1)}}function ve(e,t){if(1&e&&(p.TgZ(0,"div"),p._uU(1),p.qZA()),2&e){var i=p.oxw().$implicit;p.xp6(1),p.hij(" ",i.ignoreDownstream?"Yes":"No"," ")}}function me(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"ng-select",94),p.NdJ("ngModelChange",function(e){return p.CHM(i),p.oxw(2).editIgnoreDownStream=e}),p.qZA(),p.qZA()}if(2&e){var n=p.oxw(2);p.xp6(1),p.Q6J("items",n.selectOptions)("multiple",!1)("ngModel",n.editIgnoreDownStream)("ngModelOptions",p.DdM(6,X))("clearable",!1)("searchable",!1)}}function fe(e,t){if(1&e&&(p.TgZ(0,"div"),p._uU(1),p.qZA()),2&e){var i=p.oxw().$implicit;p.xp6(1),p.hij(" ",i.ignoreInternal?"Yes":"No"," ")}}function Ie(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"ng-select",94),p.NdJ("ngModelChange",function(e){return p.CHM(i),p.oxw(2).editIgnoreLocal=e}),p.qZA(),p.qZA()}if(2&e){var n=p.oxw(2);p.xp6(1),p.Q6J("items",n.selectOptions)("multiple",!1)("ngModel",n.editIgnoreLocal)("ngModelOptions",p.DdM(6,X))("clearable",!1)("searchable",!1)}}function be(e,t){if(1&e&&(p.TgZ(0,"tr",73),p.TgZ(1,"td",74),p.YNc(2,ne,10,11,"div",75),p.YNc(3,ae,8,2,"div",76),p.qZA(),p.TgZ(4,"td",77),p.YNc(5,oe,2,1,"div",3),p.YNc(6,se,2,4,"div",78),p.qZA(),p.TgZ(7,"td",79),p.YNc(8,le,2,1,"div",3),p.YNc(9,re,2,4,"div",78),p.qZA(),p.TgZ(10,"td",79),p.YNc(11,de,2,1,"div",3),p.YNc(12,ce,2,4,"div",78),p.qZA(),p.TgZ(13,"td"),p.YNc(14,ue,2,1,"div",3),p.YNc(15,ge,2,4,"div",78),p.qZA(),p.TgZ(16,"td"),p._uU(17),p.qZA(),p.TgZ(18,"td"),p._uU(19),p.qZA(),p.TgZ(20,"td"),p._uU(21),p.qZA(),p.TgZ(22,"td"),p.YNc(23,pe,2,1,"div",3),p.YNc(24,he,2,7,"div",3),p.qZA(),p.TgZ(25,"td"),p.YNc(26,ve,2,1,"div",3),p.YNc(27,me,2,7,"div",3),p.qZA(),p.TgZ(28,"td"),p.YNc(29,fe,2,1,"div",3),p.YNc(30,Ie,2,7,"div",3),p.qZA(),p.qZA()),2&e){var i=t.$implicit,n=p.oxw();p.s9C("id",i._id),p.xp6(2),p.Q6J("ngIf",n.editOnValue!=i._id),p.xp6(1),p.Q6J("ngIf",n.editOnValue==i._id),p.xp6(2),p.Q6J("ngIf",n.editOnValue!=i._id),p.xp6(1),p.Q6J("ngIf",n.editOnValue==i._id),p.xp6(2),p.Q6J("ngIf",n.editOnValue!=i._id),p.xp6(1),p.Q6J("ngIf",n.editOnValue==i._id),p.xp6(2),p.Q6J("ngIf",n.editOnValue!=i._id),p.xp6(1),p.Q6J("ngIf",n.editOnValue==i._id),p.xp6(2),p.Q6J("ngIf",n.editOnValue!=i._id),p.xp6(1),p.Q6J("ngIf",n.editOnValue==i._id),p.xp6(2),p.AsE(" ",i.hostName?i.hostName.slice(0,25):"","",i.hostName&&i.hostName.length>25?"...":""," "),p.xp6(2),p.hij(" ",i.receivingPort||0==i.receivingPort?i.receivingPort:""," "),p.xp6(2),p.hij(" ",i.flowType?i.flowType:""," "),p.xp6(2),p.Q6J("ngIf",n.editOnValue!=i._id),p.xp6(1),p.Q6J("ngIf",n.editOnValue==i._id),p.xp6(2),p.Q6J("ngIf",n.editOnValue!=i._id),p.xp6(1),p.Q6J("ngIf",n.editOnValue==i._id),p.xp6(2),p.Q6J("ngIf",n.editOnValue!=i._id),p.xp6(1),p.Q6J("ngIf",n.editOnValue==i._id)}}function Ze(e,t){if(1&e&&(p.TgZ(0,"li",77),p._uU(1),p.qZA()),2&e){var i=t.$implicit;p.xp6(1),p.Oqu(i.name)}}function Te(e,t){if(1&e&&(p.TgZ(0,"ul",105),p.YNc(1,Ze,2,1,"li",106),p.qZA()),2&e){var i=p.oxw(2);p.xp6(1),p.Q6J("ngForOf",i.invalidImportDevice)}}function De(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",95),p.TgZ(1,"h4",96),p._uU(2),p.qZA(),p.TgZ(3,"button",97),p.NdJ("click",function(){return p.CHM(i),p.oxw().closeModal()}),p._UZ(4,"span",98),p.qZA(),p.qZA(),p.TgZ(5,"div",99),p.TgZ(6,"p",100),p._uU(7),p.qZA(),p.TgZ(8,"div",101),p.TgZ(9,"p",100),p._uU(10),p.qZA(),p.YNc(11,Te,2,1,"ul",102),p.qZA(),p.qZA(),p.TgZ(12,"div",103),p.TgZ(13,"button",104),p.NdJ("click",function(){return p.CHM(i),p.oxw().closeModal()}),p._uU(14),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.xp6(2),p.Oqu(n.infoTitle),p.xp6(5),p.hij("",n.invalidImportDevice.length?n.language.Note+" - "+n.language["No device imported"]:""," "),p.xp6(3),p.Oqu(n.infoBody),p.xp6(1),p.Q6J("ngIf",n.invalidImportDevice.length),p.xp6(3),p.Oqu(n.language.Okay)}}function xe(e,t){if(1&e){var i=p.EpF();p.ynx(0),p.TgZ(1,"div",95),p.TgZ(2,"h4",96),p._uU(3),p.qZA(),p.TgZ(4,"button",97),p.NdJ("click",function(){return p.CHM(i),p.oxw().cancelDelete()}),p._UZ(5,"span",98),p.qZA(),p.qZA(),p.TgZ(6,"div",99),p.TgZ(7,"table",101),p.TgZ(8,"tr"),p.TgZ(9,"td"),p._uU(10),p.qZA(),p.TgZ(11,"td"),p._uU(12),p.qZA(),p.TgZ(13,"td"),p._uU(14),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(15,"div",103),p.TgZ(16,"button",104),p.NdJ("click",function(){return p.CHM(i),p.oxw().confirmDelete()}),p._uU(17),p.qZA(),p.TgZ(18,"button",107),p.NdJ("click",function(){return p.CHM(i),p.oxw().cancelDelete()}),p._uU(19),p.qZA(),p.qZA(),p.BQk()}if(2&e){var n=p.oxw();p.xp6(3),p.Oqu(n.infoTitle),p.xp6(7),p.Oqu(n.deleteData.name?n.deleteData.name:""),p.xp6(2),p.hij("",n.deleteData.deviceIpV4?n.deleteData.deviceIpV4:n.deleteData.deviceIpV6?n.deleteData.deviceIpV6:""," "),p.xp6(2),p.Oqu(n.deleteData.hostName?n.deleteData.hostName:""),p.xp6(3),p.Oqu(n.language.Okay),p.xp6(2),p.Oqu(n.language.Cancel)}}function Ae(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td",108),p._uU(2),p.qZA(),p.TgZ(3,"td",108),p._uU(4),p.qZA(),p.TgZ(5,"td",108),p._uU(6),p.qZA(),p.qZA()),2&e){var i=t.$implicit,n=t.index,a=p.oxw(2);p.xp6(2),p.Oqu(a.deleteDevices[n].name?a.deleteDevices[n].name:""),p.xp6(2),p.Oqu(i||""),p.xp6(2),p.Oqu(a.deleteDevices[n].hostName?a.deleteDevices[n].hostName:"")}}function we(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",95),p.TgZ(1,"h4",96),p._uU(2),p.qZA(),p.TgZ(3,"button",97),p.NdJ("click",function(){return p.CHM(i),p.oxw().closeModal()}),p._UZ(4,"span",98),p.qZA(),p.qZA(),p.TgZ(5,"div",99),p.TgZ(6,"table",101),p.YNc(7,Ae,7,3,"tr",72),p.qZA(),p.qZA(),p.TgZ(8,"div",103),p.TgZ(9,"button",104),p.NdJ("click",function(){return p.CHM(i),p.oxw().confirmDeleteSecleted()}),p._uU(10),p.qZA(),p.TgZ(11,"button",107),p.NdJ("click",function(){return p.CHM(i),p.oxw().closeModal()}),p._uU(12),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.xp6(2),p.Oqu(n.infoTitle),p.xp6(5),p.Q6J("ngForOf",n.deviceIps),p.xp6(3),p.Oqu(n.language.Okay),p.xp6(2),p.Oqu(n.language.Cancel)}}function ye(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",95),p.TgZ(1,"h4",96),p._uU(2),p.qZA(),p.TgZ(3,"button",97),p.NdJ("click",function(){return p.CHM(i),p.oxw().closeModal()}),p._UZ(4,"span",98),p.qZA(),p.qZA(),p.TgZ(5,"div",99),p._UZ(6,"table",109),p.qZA(),p.TgZ(7,"div",103),p.TgZ(8,"button",104),p.NdJ("click",function(){return p.CHM(i),p.oxw().proceedImport()}),p._uU(9),p.qZA(),p.TgZ(10,"button",107),p.NdJ("click",function(){return p.CHM(i),p.oxw().closeModal()}),p._uU(11),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.xp6(2),p.Oqu(n.infoTitle),p.xp6(4),p.Q6J("innerHtml",n.infoBody,p.oJD),p.xp6(3),p.Oqu(n.language.Okay),p.xp6(2),p.Oqu(n.language.Cancel)}}var Oe=o(91704),_e=[{path:"",component:C,children:[{path:"devices-status",component:H,data:{title:"Calix Cloud - Flow Configuration"}},{path:"devices-configuration",component:function(){var i=function(){function i(e,t,n,o,s,l,r,d,c,g,p){var h=this;a(this,i),this.commonFunctionsService=e,this.api=t,this.exportExcel=n,this.dataTablecreatorService=o,this.translateService=s,this.router=l,this.sso=r,this.dialogService=d,this.commonOrgService=c,this.titleService=g,this.common=p,this.infoTitle="",this.infoBody="",this.formVisible=!1,this.buttonVisible=!0,this.dataAvailable=!1,this.showingDeviceIpv6=null,this.selectOptions=[{name:"No",value:!1},{name:"Yes",value:!0}],this.flowType=[{name:"netflow"},{name:"cflow"},{name:"sflow"}],this.importTableOptions={pagingType:"full_numbers",pageLength:10,order:[0,"asc"],scrollX:!0,dom:"tipr"},this.statusTableOptions={pagingType:"full_numbers",pageLength:10},this.tablePreview=!1,this.currentTableRowCount=0,this.tableOptions={pagingType:"full_numbers",pageLength:10,rowId:"_id",scrollX:!0,stateSave:!1,order:[1,"asc"],columnDefs:[{targets:[0],orderable:!1}],drawCallback:function(e){h.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(function(){h.resetDelete()},0),h.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength&&Oe(e.nTableWrapper).find("#".concat(e.sTableId,"_last")).addClass("disabled")}},this.deviceData=[],this.deviceIPError=!1,this.deviceIP6Error=!1,this.ignoreUpStream=!1,this.ignoreDownStream=!1,this.ignoreLocal=!1,this.samplingLimitError=!1,this.geoCoordinateError=!1,this.addressError=!1,this.validation=!1,this.empty={"Device IPv4":"","Device IPv6":"",Sampling:"","Receiving Port":"","Ignore Upstream":"","Ignore Downstream":"","Host Name":"","Ignore Local":"",Name:"","Rate Limit":"","Flow Type":""},this.loading=!0,this.dtOptions={},this.dtTrigger=new u.xQ,this.isRerender=!1,this.editIgnoreUpStream=!1,this.editIgnoreDownStream=!1,this.editIgnoreLocal=!1,this.storageData={},this.errorInfo="",this.successInfo="",this.importUpdateASCreate=[],this.sortData={column:1,type:"asc"},this.columnName={deviceIpV4:"Device IPv4",deviceIpV6:"Device IPv6",samplingRate:"Sampling",receivingPort:"Receiving Port",ignoreUpstream:"Ignore Upstream",ignoreDownstream:"Ignore Downstream",hostName:"Host Name",ignoreInternal:"Ignore Local",name:"Name",rateLimit:"Rate Limit"},this.invalidImportDevice=[],this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.language=this.translateService.defualtLanguage,this.exportColoumnNames={deviceIpV4:this.language.deviceipv4,deviceIpV6:this.language.deviceipv6,samplingRate:this.language.sampling,receivingPort:this.language.receivingport,ignoreUpstream:this.language.ignoreUpstream,ignoreDownstream:this.language.ignoreDownstream,hostName:this.language.Host_Name,ignoreInternal:"Ignore Local",name:this.language.Name,rateLimit:this.language.rateLimit},this.translateSubscribe=this.translateService.selectedLanguage.subscribe(function(e){h.language=e,h.reloadCurrentRoute(),h.exportColoumnNames={deviceIpV4:h.language.deviceipv4,deviceIpV6:h.language.deviceipv6,samplingRate:h.language.sampling,receivingPort:h.language.receivingport,ignoreUpstream:h.language.ignoreUpstream,ignoreDownstream:h.language.ignoreDownstream,hostName:h.language.Host_Name,ignoreInternal:"Ignore Local",name:h.language.Name,rateLimit:h.language.rateLimit},h.dataAvailable=!1,h.isRerender=!0,h.titleService.setTitle("".concat(h.language.Configuration," - ").concat(h.language.devices," - ").concat(h.language.Network," - ").concat(h.language.flowconfiguration," - ").concat("systemAdministration"===h.MODULE?h.language["System Administration"]:h.language.administration," - ").concat(h.language["Calix Cloud"])),h.tableCreator("language")}),this.commonOrgService.closeAlert();var v=this.router.url;this.frTable=this.translateService.fr,this.ORG_ID=this.sso.getOrganizationID(v),this.MODULE=this.sso.getRedirectModule(v),this.titleService.setTitle("".concat(this.language.Configuration," - ").concat(this.language.devices," - ").concat(this.language.Network," - ").concat(this.language.flowconfiguration," - ").concat("systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration," - ").concat(this.language["Calix Cloud"]))}return s(i,[{key:"ngOnInit",value:function(){var e=this;this.apiLoader(),this.tableLanguageOptions();var t=JSON.parse(localStorage.getItem("calix.login_data"));this.storageData.clientIp=null==t?void 0:t.clientIp,this.storageData.UserId=null==t?void 0:t.UserId,this.subscription=this.dataTablecreatorService.tableOptionsData.subscribe(function(t){e.invalidImportDevice=[];try{var i=!0;(t||[]).forEach(function(t){return e.commonFunctionsService.keysFromColumnName(t,e.exportColoumnNames),t.name.length&&t.name.length>64?(e.invalidImportDevice.push(t),e.infoTitle=e.language["Invalid Value"],e.infoBody="".concat(e.language["Invalid Device Name"]," - Name should not exceed 64 characters."),i=!1,void e.openInfoModal(!0)):t.samplingRate&&(e.samplingRateValidator(Number(t.samplingRate)),e.samplingLimitError)?(e.infoTitle=e.language["Invalid value"],e.infoBody=e.language["The sampling rate should be an integer value greater than 0 and less than 65536."],i=!1,void e.openInfoModal(!1)):void 0}),i&&(e.recreateTable=t,e.importSubmit(!0))}catch(i){}}),this.closeAlert(),this.removeState()}},{key:"ngAfterViewInit",value:function(){this.loaded=!0}},{key:"ngOnDestroy",value:function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSubscribe&&this.translateSubscribe.unsubscribe(),this.subscription&&this.subscription.unsubscribe(),this.deviceListSubs&&this.deviceListSubs.unsubscribe(),this.deviceAddSubs&&this.deviceAddSubs.unsubscribe(),this.deviceUpdateSubs&&this.deviceUpdateSubs.unsubscribe(),this.deviceDeleteSubs&&this.deviceDeleteSubs.unsubscribe(),this.deviceExportSubs&&this.deviceExportSubs.unsubscribe(),this.deviceImportSubs&&this.deviceImportSubs.unsubscribe()}},{key:"apiLoader",value:function(){var e=this;this.deviceListSubs=this.api.DeviceList(this.ORG_ID).subscribe(function(i){e.deviceData=t(i),e.deviceData&&(e.deviceData=e.dataConvertor(e.deviceData),e.deviceData=t(e.deviceData),e.tableCreator(),e.isRerender?(e.rerender(),e.isRerender=!1):(e.dtTrigger.next(),e.loading=!1),setTimeout(function(){e.resetDelete()},100))},function(t){e.pageErrorHandle(t),e.deviceData=[],e.tableCreator(),e.isRerender?(e.rerender(),e.isRerender=!1):(e.dtTrigger.next(),e.loading=!1)})}},{key:"dataConvertor",value:function(e){return(0,d.isArray)(e)&&e.forEach(function(e){e.deviceIp=null==e.deviceIpV4||""==e.deviceIpV4?null==e.deviceIpV6||""==e.deviceIpV6?"":e.deviceIpV6:e.deviceIpV4,e.address=e.address?e.address:"",e.flowType=e.flowType?e.flowType:"",e.observationName=""}),e}},{key:"tableCreator",value:function(e){var t=this,i=this;this.tableOptions={pagingType:"full_numbers",pageLength:10,rowId:"_id",scrollX:!0,stateSave:!1,order:[i.sortData.column,i.sortData.type],columnDefs:[{targets:[0],orderable:!1}],drawCallback:function(e){i.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(function(){t.resetDelete()},0),t.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength?Oe(e.nTableWrapper).find("#device-table_last").addClass("disabled"):Oe(e.nTableWrapper).find("#device-table_last").removeClass("disabled")}},this.tableLanguageOptions(),e&&"language"==e?setTimeout(function(){t.dataAvailable=!0,t.rerender()},200):setTimeout(function(){t.dataAvailable=!0,t.loading=!1},500)}},{key:"tableLanguageOptions",value:function(){"fr"==this.language.fileLanguage?(this.tableOptions.language=this.frTable,this.importTableOptions.language=this.frTable):"es"==this.language.fileLanguage?(this.tableOptions.language=this.translateService.es,this.importTableOptions.language=this.translateService.es):"de_DE"==this.language.fileLanguage?(this.tableOptions.language=this.translateService.de_DE,this.importTableOptions.language=this.translateService.de_DE):("en"==this.language.fileLanguage&&this.tableOptions.language||"en"==this.language.fileLanguage&&this.importTableOptions.language)&&(delete this.tableOptions.language,delete this.importTableOptions.language)}},{key:"rerender",value:function(){var e=this;this.dtElement.dtInstance.then(function(t){t.destroy(),e.tableOptions.order=[e.sortData.column,e.sortData.type],setTimeout(function(){e.dtTrigger.next()},10)})}},{key:"search",value:function(e){this.dtElement.dtInstance.then(function(t){t.search(e).draw()})}},{key:"create",value:function(){this.buttonVisible=!1,this.formVisible=!0}},{key:"submit",value:function(){var e=this;if(this.validation=!1,this.deviceIPError=!1,this.deviceIP6Error=!1,this.ipv4=void 0,this.ipv6=void 0,this.name=this.name?this.name.trim():"",this.name.length&&this.name.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody="".concat(this.language["Invalid Device Name"]," - Name should not exceed 64 characters."),void this.openInfoModal(!1);if(this.deviceIPV4&&this.deviceIpValidatorIpv4(this.deviceIPV4),this.deviceIPV6&&this.deviceIpValidatorIpv6(this.deviceIPV6),this.deviceIPError||this.deviceIP6Error||!this.deviceIPV4&&!this.deviceIPV6)return this.infoTitle=this.language["Invalid request"],this.infoBody=this.language["Invalid IP address"],void this.openInfoModal(!1);if(this.samplingRateValidator(this.samplingLimit),this.samplingLimitError)return this.infoTitle=this.language["Invalid value"],this.infoBody=this.language["The sampling rate should be an integer value greater than 0 and less than 65536."],void this.openInfoModal(!1);var t={deviceIpV4:this.ipv4?this.ipv4:"",deviceIpV6:this.ipv6?this.ipv6:"",ignoreDownstream:this.ignoreDownStream,ignoreInternal:this.ignoreLocal,ignoreUpstream:this.ignoreUpStream,orgId:this.ORG_ID?this.ORG_ID:50,samplingRate:+this.samplingLimit,name:this.name?this.name.trim():"",rateLimit:0,receivingPort:2058,tenantId:0,address:this.address?this.address.trim():""};this.loading=!0,this.deviceAddSubs=this.api.DeviceAdd(t,this.ORG_ID).subscribe(function(t){e.isRerender=!0,e.cancel(),e.apiLoader()},function(t){e.pageErrorHandle(t)})}},{key:"cancel",value:function(){this.formVisible=!1,this.buttonVisible=!0,this.tablePreview=!1,this.reset()}},{key:"edit",value:function(e){var t;this.editData=e,this.editOnValue=e._id,this.editName=e.name?e.name:"",this.editHostName=e.hostName?e.hostName:"",this.editDeviceIPV4=e.deviceIpV4,this.editDeviceIPV6=e.deviceIpV6,this.editIgnoreUpStream=!!e.ignoreUpstream,this.editIgnoreDownStream=!!e.ignoreDownstream,this.editIgnoreLocal=!!e.ignoreInternal,this.editSamplingLimit=e.samplingRate,this.editGeoCoordinate=e.tenantId;var i=null!==(t=e.deviceIpV4)&&void 0!==t?t:e.deviceIpV6;if(-1!==this.deleteIds.indexOf(e._id)){this.deleteIds.splice(this.deleteIds.indexOf(e._id),1),this.deviceIps.splice(this.deviceIps.indexOf(i),1),this.deleteDevices=this.deleteDevices.filter(function(t){return t._id!==e._id});var n=Oe('input[name^="delete_device_id"]').length;this.deleteIds.length?this.deleteIds.length!=n?(Oe("#selectDeselectAll").prop("checked",!1),Oe("#selectDeselectAll-span").show()):Oe("#selectDeselectAll-span").hide():(Oe("#selectDeselectAll").prop("checked",!1),Oe("#selectDeselectAll-span").hide())}}},{key:"updateSave",value:function(){var e=this;if(this.deviceIPError=!1,this.deviceIP6Error=!1,this.ipv4="",this.ipv6="",this.editDeviceIPV6=this.editDeviceIPV6?this.editDeviceIPV6.trim():"",this.editDeviceIPV4=this.editDeviceIPV4?this.editDeviceIPV4.trim():"",this.editName=this.editName?this.editName.trim():"",this.editName.length&&this.editName.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody="".concat(this.language["Invalid Device Name"]," - Name should not exceed 64 characters."),void this.openInfoModal(!1);if(this.editDeviceIPV6&&this.deviceIpValidatorIpv6(this.editDeviceIPV6),this.editDeviceIPV4&&this.deviceIpValidatorIpv4(this.editDeviceIPV4),this.deviceIPError||this.deviceIP6Error||!this.editDeviceIPV4&&!this.editDeviceIPV6)return this.infoTitle=this.language["Invalid request"],this.infoBody=this.language["Invalid IP address"],this.closeModal(),void(this.modalRef=this.dialogService.open(this.infoModal));if(this.samplingRateValidator(this.editSamplingLimit),this.samplingLimitError)return this.infoTitle=this.language["Invalid value"],this.infoBody=this.language["The sampling rate should be an integer value greater than 0 and less than 65536."],void this.openInfoModal(!1);var t={_id:this.editData._id,deviceIpV4:this.ipv4?this.ipv4:"",deviceIpV6:this.ipv6?this.ipv6:"",ignoreDownstream:this.editIgnoreDownStream,ignoreInternal:this.editIgnoreLocal,ignoreUpstream:this.editIgnoreUpStream,orgId:this.ORG_ID?this.ORG_ID:50,samplingRate:+this.editSamplingLimit,name:this.editName?this.editName.trim():"",rateLimit:0,receivingPort:this.editData.receivingPort?this.editData.receivingPort:0,tenantId:0,flowType:this.editData.flowType?this.editData.flowType:""};this.loading=!0,this.deviceUpdateSubs=this.api.DeviceUpdate(this.editData._id,t,this.ORG_ID).subscribe(function(t){e.isRerender=!0,e.apiLoader(),e.cancel(),e.editOnValue=void 0},function(t){e.pageErrorHandle(t)})}},{key:"updateCancel",value:function(){this.editOnValue=void 0}},{key:"hideShow",value:function(e){this.showingDeviceIp=this.showingDeviceIp==e?void 0:e}},{key:"hideShowV6",value:function(e){this.showingDeviceIpv6=this.showingDeviceIpv6==e?void 0:e}},{key:"delete",value:function(e){e.deviceIpV4?e.deviceIpV4:e.deviceIpV6,this.deleteData=e,e.name=e.name?this.strSub(e.name):"",e.hostName=e.hostName?this.strSub(e.hostName):"",this.infoTitle=this.language["Delete device?"],this.closeModal(),this.modalRef=this.dialogService.open(this.deleteModal,{backdrop:"static",keyboard:!1})}},{key:"confirmDelete",value:function(){var e=this,t=this.deleteData._id;this.loading=!0,this.closeModal(),this.deviceDeleteSubs=this.api.DeviceDelete(t,this.ORG_ID).subscribe(function(t){e.deleteIds=[],e.deviceIps=[],e.deleteDevices=[],e.isRerender=!0,e.apiLoader()},function(t){e.pageErrorHandle(t)})}},{key:"cancelDelete",value:function(){this.deleteData=void 0,this.closeModal()}},{key:"getDeleteIds",value:function(e,t){var i;i=t.deviceIpV4?t.deviceIpV4:t.deviceIpV6;var n=this.deleteDevices;if(e.target.checked){if(-1===this.deleteIds.indexOf(t._id)){this.deleteIds.push(t._id),this.deviceIps.push(i),this.deleteDevices.push(t);var a=Oe('input[name^="delete_device_id"]').length;this.deleteIds.length==a?(Oe("#selectDeselectAll").prop("checked",!0),Oe("#selectDeselectAll-span").hide()):Oe("#selectDeselectAll-span").show()}}else{this.deleteIds.splice(this.deleteIds.indexOf(t._id),1),this.deviceIps.splice(this.deviceIps.indexOf(i),1),n=n.filter(function(e){return e._id!==t._id}),this.deleteDevices=n;var o=Oe('input[name^="delete_device_id"]').length;this.deleteIds.length?this.deleteIds.length!=o?(Oe("#selectDeselectAll").prop("checked",!1),Oe("#selectDeselectAll-span").show()):Oe("#selectDeselectAll-span").hide():(Oe("#selectDeselectAll").prop("checked",!1),Oe("#selectDeselectAll-span").hide())}}},{key:"selectDeselectAll",value:function(e){var t=0,i=Oe('input[name^="delete_device_id"]').length,n=this;n.deleteIds=[],n.deviceIps=[],n.deleteDevices=[],e?Oe('input[name^="delete_device_id"]').each(function(){if(t>=i)return!1;Oe(this).prop("checked",!0);var e,a=Oe(this).attr("class").split(" ")[0].substring("delete_device_id_".length),o=n.deviceData.filter(function(e){return e._id===a});e=o[0].deviceIpV4?o[0].deviceIpV4:o[0].deviceIpV6,n.deleteIds.push(a),n.deviceIps.push(e),n.deleteDevices.push(o[0]),t++}):Oe('input[name^="delete_device_id"]').each(function(){if(t>=i)return!1;Oe(this).prop("checked",!1),n.deleteIds=[],n.deviceIps=[],n.deleteDevices=[],t++})}},{key:"deleteAllSelected",value:function(){if(this.deviceIps){this.infoTitle=this.language[1===this.deviceIps.length?"Delete selected device?":"Delete selected devices?"];for(var e="",t=0;t<this.deviceIps.length;t++)this.deleteDevices[t].name=this.deleteDevices[t].name?this.strSub(this.deleteDevices[t].name):"",this.deleteDevices[t].hostName=this.deleteDevices[t].hostName?this.strSub(this.deleteDevices[t].hostName):"",e+="<tr><td>".concat(this.deleteDevices[t].name&&this.deleteDevices[t].name.length>20?this.deleteDevices[t].name.slice(0,20)+"...":this.deleteDevices[t].name,"</td><td>").concat(this.deviceIps[t],"</td><td>").concat(this.deleteDevices[t].hostName&&this.deleteDevices[t].hostName.length>20?this.deleteDevices[t].hostName.slice(0,20)+"...":this.deleteDevices[t].hostName,"</td></tr><br>");this.infoBody=e,this.closeModal(),this.modalRef=this.dialogService.open(this.multiDeleteModal,{backdrop:"static",keyboard:!1})}}},{key:"confirmDeleteSecleted",value:function(){var e=this;this.closeModal();var t=[];this.deleteIds.forEach(function(i){t.push(e.api.DeviceDelete(i,e.ORG_ID))}),(0,g.D)(t).subscribe(function(t){e.deleteIds=[],e.deviceIps=[],e.deleteDevices=[],e.isRerender=!0,e.cancel(),e.apiLoader()},function(t){e.pageErrorHandle(t)})}},{key:"showAllInnerCheckBox",value:function(e){Oe("#"+e.target.id).hide(),Oe("#selectDeselectAll").prop("checked",!0),this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.selectDeselectAll(!0)}},{key:"resetDelete",value:function(){this.selectDeselectAll(!1),Oe("#selectDeselectAll").prop("checked",!1),Oe("#selectDeselectAll-span").hide(),this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[]}},{key:"exportDataConvertor",value:function(e){var t=this;return Array.isArray(e)&&e.forEach(function(e){for(var i in e)"boolean"==typeof e[i]&&(e[i]=1==e[i]?"Yes":"No");delete(e=t.commonFunctionsService.columnNameFromKeys(e,t.exportColoumnNames)).flowType,delete e.observationId,delete e.orgId,delete e.tenantId,delete e._id}),e}},{key:"export",value:function(){var e=this;this.deviceExportSubs=this.api.Export("devices",this.ORG_ID).subscribe(function(t){var i=e.commonFunctionsService.generateExportName("device_file_export",!0),n=e.exportDataConvertor(t);e.exportExcel.downLoadCSV(i,n.length?n:[e.empty])},function(t){e.pageErrorHandle(t)})}},{key:"fullImportUpload",value:function(){this.infoTitle=this.language.fullImport,this.infoBody=this.language.fullImportPrompt,this.closeModal(),this.modalRef=this.dialogService.open(this.importModal)}},{key:"proceedImport",value:function(){this.closeModal(),Oe("#fullImportUpload").click()}},{key:"fullImport",value:function(e,t){sessionStorage.setItem("importType",e),this.dataTablecreatorService.generateJsonFromCsv(t,this.deviceData)}},{key:"tableDataRecreate",value:function(t){var i,n=this,a=[],o=[],s=[],l=Object.assign([],this.deviceData);l.forEach(function(e){e.deviceIpV4&&e.deviceIpV4.trim()?a.push(e.deviceIpV4):(e.deviceIpV4="",a.push("@@@$@@@")),e.deviceIpV6&&e.deviceIpV6.trim()?a.push(e.deviceIpV6):(e.deviceIpV6="",a.push("@@@$@@@"))});var r=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,d=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;t.forEach(function(t,i){var c=a.indexOf(t.deviceIpV4)>-1?a.indexOf(t.deviceIpV4):a.indexOf(t.deviceIpV6)>-1?a.indexOf(t.deviceIpV6):-1;(""!=t.deviceIpV4.trim()||""!=t.deviceIpV6.trim())&&c+1?(c=c%2!=0?(c-1)/2:c/2,""!=t.receivingPort&&t.receivingPort>0&&t.receivingPort!=l[c].receivingPort&&2058!=t.receivingPort&&(t.action="Invalid receiving port, it should be 2058"),t.flowType&&t.flowType.trim()&&!["netflow","cflow","sflow"].includes(t.flowType)&&(t.action="Invalid flow type, it should be [netflow, cflow, sflow]"),(o.includes(t.deviceIpV4)||o.includes(t.deviceIpV6))&&(t.action="Device Ip already exist in File .This will be ignored."),(""!=t.deviceIpV4.trim()&&!r.test(t.deviceIpV4)||""!=t.deviceIpV6.trim()&&!d.test(t.deviceIpV6))&&(t.action="Invalid Device IP"),t.hasOwnProperty("action")||Object.keys(t).forEach(function(e){!0===l[c][e]?l[c][e]="Yes":!1===l[c][e]&&(l[c][e]="No"),t[e]!=l[c][e]&&(t.action="Update",t._id=l[c]._id)}),t.hasOwnProperty("action")||s.push(i),n.previewTableHeader.forEach(function(e){t["old_".concat(e)]=l[c][e]}),l[c].deviceIpV4.trim()&&o.push(l[c].deviceIpV4),l[c].deviceIpV6.trim()&&o.push(l[c].deviceIpV6),a.splice(2*c,2),l.splice(c,1)):(t.flowType&&t.flowType.trim()&&!["netflow","cflow","sflow"].includes(t.flowType)&&(t.action="Invalid flow type, it should be [netflow, cflow, sflow]"),(""!=t.deviceIpV4.trim()&&!r.test(t.deviceIpV4)||""!=t.deviceIpV6.trim()&&!d.test(t.deviceIpV6))&&(t.action="Invalid Device IP"),t.hasOwnProperty("action")||(t.action="Create"),t.deviceIpV4.trim()&&o.push(t.deviceIpV4),t.deviceIpV6.trim()&&o.push(t.deviceIpV6),n.previewTableHeader.forEach(function(e){t["old_".concat(e)]=""}));for(var u=0,g=Object.entries(t);u<g.length;u++){var p=e(g[u],2),h=p[0],v=p[1];!0===v?t[h]="Yes":!1===v&&(t[h]="No")}}),i=Object.assign([],t);var c=Object.assign([],t);return(s=s.sort(function(e,t){return t-e})).forEach(function(e){c.splice(e,1)}),l.length&&"IncImport"!=sessionStorage.getItem("importType")&&l.forEach(function(t){t.action="Delete";for(var i=0,n=Object.entries(t);i<n.length;i++){var a=e(n[i],2),o=a[0],s=a[1];!0===s?t[o]="Yes":!1===s&&(t[o]="No")}c.push(t)}),this.recreateTable=i,c}},{key:"appendOldPrefix",value:function(e){return"old_".concat(e)}},{key:"previewHeader",value:function(){this.previewHeaderValue=[]}},{key:"importSubmit",value:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=sessionStorage.getItem("importType"),a={clientIP:this.storageData.clientIp,dry_run:i,full_import:"FullImport"==n,import_data:[],orgId:this.ORG_ID,userId:this.storageData.UserId},o=[],s=[];if(i?("Create",this.recreateTable.forEach(function(t){((null==t?void 0:t.deviceIpV4)||(null==t?void 0:t.deviceIpV6))&&o.push(e.importTemplate(t,"Create"))})):this.recreateTable.forEach(function(t){o.push(e.importTemplate(t))}),i){var l=o.length;this.deviceData.forEach(function(t){for(var i=!1,r=0;r<l;r++)(t.deviceIpV4&&t.deviceIpV4==o[r].deviceIpV4||t.deviceIpV6&&t.deviceIpV6==o[r].deviceIpV6)&&(i=!0,"FullImport"==n?(o[r].action="Create",e.importUpdateASCreate.push(t)):o[r].action="Update");if(!i&&a.full_import){var d=Object.assign({},t);s.push(e.importTemplate(d,"Delete"))}})}else if(0==(o=o.filter(function(e){if(["Create","Update"].includes(e.action))return e})).length)return void this.cancel();if(!o.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",void this.openInfoModal(!1);a.import_data=o,this.deviceImportSubs=this.api.Import("devices",a,this.ORG_ID).subscribe(function(n){i?(e.enableImportSubmit=!1,n=n.map(function(t){return t.action="ok"==t.validationResult.toLowerCase()?t.action:t.validationResult,"ok"==t.validationResult.toLowerCase()&&(e.enableImportSubmit=!0),t}),e.recreateTable=n,e.previewOrder([].concat(t(n),s)),e.buttonVisible=!1,e.tablePreview=!0):(sessionStorage.removeItem("importType"),e.cancel(),e.isRerender=!0,e.apiLoader())},function(t){400==t.status?(i?(e.infoTitle=e.language.objectNotFound,e.infoBody="",e.closeModal(),e.modalRef=e.dialogService.open(e.infoModal)):(sessionStorage.removeItem("importType"),e.pageErrorHandle(t)),e.loading=!1):e.pageErrorHandle(t)})}},{key:"importTemplate",value:function(e,t){return{action:t||e.action,deviceIpV4:e.deviceIpV4,deviceIpV6:e.deviceIpV6,orgId:this.ORG_ID,tenantId:0,ignoreDownstream:"Yes"===e.ignoreDownstream||!0===e.ignoreDownstream,ignoreInternal:"Yes"===e.ignoreInternal||!0===e.ignoreInternal,ignoreUpstream:"Yes"===e.ignoreUpstream||!0===e.ignoreUpstream,name:e.name,rateLimit:e.rateLimit,receivingPort:e.receivingPort,samplingRate:e.samplingRate}}},{key:"previewOrder",value:function(t){var i=this;if(!t||0==t.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",this.closeModal(),void(this.modalRef=this.dialogService.open(this.infoModal));var n=[],a=["ignoreDownstream","ignoreInternal","ignoreUpstream"],o=["validationResult"],s=["action","deviceIpV4","deviceIpV6"];t.forEach(function(t){var l={};Object.keys(t).forEach(function(e){o.includes(e)||(l[e]=a.includes(e)&&("true"===t[e]||!0===t[e]||t[e]&&"Y"==t[e].toString().toUpperCase)?"Yes":a.includes(e)&&("false"===t[e]||!1===t[e]||t[e]&&"N"==t[e].toString().toUpperCase)?"No":t[e],s.includes(e)||(l["Old "+e]=""))}),i.deviceData.forEach(function(i){if(t.deviceIpV4==i.deviceIpV4&&t.deviceIpV6==i.deviceIpV6){for(var n=0,o=Object.entries(l);n<o.length;n++){var s=e(o[n],2),r=s[0];s[1];if(r.includes("Old")){var d=r.replace("Old ","");l[r]=a.includes(d)&&(i[d]||"Y"==i[d].toString().toUpperCase)?"Yes":!a.includes(d)||i[d]&&"N"!=i[d].toString().toUpperCase?i[d]:"No"}}return"Create"==l.action&&(l.action="Update"),!1}}),n.push(l)}),this.previewTableBody=n}},{key:"cancelImport",value:function(){}},{key:"reset",value:function(){this.name=void 0,this.hostName=void 0,this.deviceIPV4=void 0,this.deviceIPV6=void 0,this.ignoreDownStream=!1,this.ignoreUpStream=!1,this.ignoreLocal=!1,this.geoCoordinate=void 0,this.address=void 0,this.samplingLimit=void 0}},{key:"resetEdit",value:function(){this.editName="",this.editHostName="",this.editDeviceIPV4="",this.editDeviceIPV6="",this.editIgnoreUpStream=!1,this.editIgnoreDownStream=!1,this.editIgnoreLocal=!1,this.editSamplingLimit=void 0,this.editGeoCoordinate=void 0}},{key:"samplingRateValidator",value:function(e){this.samplingLimitError=!1,this.samplingLimitError=!Number.isInteger(e)||!(e>0&&e<=65535)}},{key:"deviceIpValidatorIpv4",value:function(e){e&&""!=e.trim()?(e=e.trim(),this.commonFunctionsService.isValidIpV4Addr(e)?(this.ipv4=e,this.deviceIPError=!1):this.deviceIPError=!0):this.deviceIPError=!0}},{key:"deviceIpValidatorIpv6",value:function(e){e&&""!=e.trim()?(e=e.trim(),this.commonFunctionsService.isValidIpV6Addr(e)?(this.ipv6=e,this.deviceIP6Error=!1):this.deviceIP6Error=!0):this.deviceIPError=!0}},{key:"sortingTable",value:function(e,t){var i=this;setTimeout(function(){i.sortColumn=e,i.sortType=Oe(t.target).hasClass("sorting_asc")?"asc":"desc"},500)}},{key:"closeAlert",value:function(){this.error=!1,this.success=!1}},{key:"closeModal",value:function(){this.modalRef&&this.modalRef.close()}},{key:"strSub",value:function(e,t){return e.length<=20?e:"".concat(e.substr(0,t||20),"...")}},{key:"pageErrorHandle",value:function(e){var t,i,n,a,o,s,l,r,d;if(400==e.status){var c=(null==e?void 0:e.error)?this.commonOrgService.pageInvalidRqstErrorHandle(e):"";this.infoBody="object_already_exists"==c?"".concat(this.language["Conflict found with existing devices"]," ").concat((null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.info)?null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.info:""):"Bad Request"===c&&((null===(a=null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.message)||void 0===a?void 0:a.split(":").length)&&"object_already_exists"===(null===(s=null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message)||void 0===s?void 0:s.split(":")[0])||"invalid_request"===(null===(r=null===(l=null==e?void 0:e.error)||void 0===l?void 0:l.message)||void 0===r?void 0:r.split(":")[0]))?null===(d=null==e?void 0:e.error)||void 0===d?void 0:d.message.split(":")[1]:c,this.infoTitle=this.language["Invalid request"],this.loading=!1,this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)}else this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(this.errorInfo),this.commonOrgService.pageScrollTop(),this.loading=!1}},{key:"openInfoModal",value:function(e){e||(this.invalidImportDevice=[]),this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1})}},{key:"removeState",value:function(){localStorage.getItem("DataTables_device-table_/".concat(this.MODULE,"/flowAnalyze/network/devices"))&&localStorage.removeItem("DataTables_device-table_/".concat(this.MODULE,"/flowAnalyze/network/devices"))}},{key:"inputValidator",value:function(e){var t=null==e?void 0:e.keyCode;return t>64&&t<91||t>96&&t<123||8==t||32==t||t>=48&&t<=57}},{key:"removeUnwantedSpace",value:function(e,t){this[e]=this.common.trimSpaceFromNonObjectInputs(t)}},{key:"reloadCurrentRoute",value:function(){var e=this,t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(function(){e.router.navigate([t])})}}]),i}();return i.\u0275fac=function(e){return new(e||i)(p.Y36(h.i),p.Y36(v.v),p.Y36(m.O),p.Y36(f.L),p.Y36(I.s),p.Y36(r.F0),p.Y36(b.t6),p.Y36(Z.FF),p.Y36(T.v),p.Y36(D.Dx),p.Y36(x.i))},i.\u0275cmp=p.Xpm({type:i,selectors:[["app-devices-configuration"]],viewQuery:function(e,t){var i;(1&e&&(p.Gf(j,7),p.Gf(Q,7),p.Gf(B,5),p.Gf($,7),p.Gf(c.G,5)),2&e)&&(p.iGM(i=p.CRH())&&(t.infoModal=i.first),p.iGM(i=p.CRH())&&(t.deleteModal=i.first),p.iGM(i=p.CRH())&&(t.multiDeleteModal=i.first),p.iGM(i=p.CRH())&&(t.importModal=i.first),p.iGM(i=p.CRH())&&(t.dtElement=i.first))},decls:51,vars:24,consts:[[1,"container","px-0","position-relative"],["class","loader",4,"ngIf"],["class","row py-4",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-md-12","ccl-admin-table",3,"hidden"],["id","device-table","width","100%","datatable","",1,"row-border","hover","table-alter",3,"dtTrigger","dtOptions"],[1,"w-nowrap-150"],[1,"d-flex","justify-content-end"],[1,"d-flex","align-items-center"],[1,"addOrg",3,"hidden"],["type","checkbox","value","","id","selectDeselectAll",1,"",3,"disabled","change"],["id","selectDeselectAll-span",1,"checkbox-ui",2,"display","none",3,"click"],[1,"text-center","justify-content-center",3,"hidden"],["id","delete-selected-btn",1,"btn-default","primary","px-2","mx-2",3,"disabled","title","click"],[1,"far","fa-trash-alt"],[1,"min-w-250"],[1,"min-w-170"],[1,"min-w-130"],[3,"id",4,"ngFor","ngForOf"],["infoModal",""],["deleteModal",""],["multiDeleteModal",""],["importModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"row","py-4"],[1,"col-md-9"],[1,"d-flex"],["id","create-btn",1,"btn-default","primary","mr-2","px-2",3,"click"],["id","export-btn",1,"btn-default","primary","mx-2","px-2",3,"click"],[1,"upload-btn-wrapper"],[1,"btn-default","primary","mx-2","px-2",3,"click"],["type","file","accept",".csv","id","fullImportUpload",2,"display","none",3,"click","change"],["fullImportValue",""],["for","inc-import",1,"btn-default","primary","mx-2","px-2","cursor-pointer"],["type","file","id","inc-import","accept",".csv",2,"display","none",3,"click","change"],["incrementalImportValue",""],[1,"col-sm-3","align-self-end","d-none"],[1,"ccl-form"],["type","search","name","searchbox","placeholder","",1,"input-sm"],[1,"serach-but","btn-default","primary","btn-icon-md","inline"],["aria-hidden","true",1,"fa","fa-search"],[1,"col-md-8","offset-md-2"],[1,"ccl-form","row","my-2"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","name","type","text","trimSpace","",1,"",3,"ngModel","ngModelOptions","ngModelChange","blur"],["for","deviceIPV4",1,"col-sm-4","col-form-label"],[1,"fas","fa-info-circle",3,"title"],["id","deviceIPV4","type","text","trimSpace","",1,"",3,"ngModel","ngModelOptions","ngModelChange","blur"],["for","deviceIPV6",1,"col-sm-4","col-form-label"],["id","deviceIPV6","type","text","trimSpace","",1,"",3,"ngModel","ngModelOptions","ngModelChange","blur"],["for","ignoreUpStream",1,"col-sm-4","col-form-label","text-nowrap"],["id","ignoreUpStream","bindLabel","name","bindValue","value","placeholder","",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["for","ignoreDownStream",1,"col-sm-4","col-form-label","text-nowrap"],["id","ignoreDownStream","bindLabel","name","bindValue","value","placeholder","",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["for","ignoreLocal",1,"col-sm-4","col-form-label"],["id","ignoreLocal","bindLabel","name","bindValue","value","placeholder","",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["for","samplingLimit",1,"col-sm-4","col-form-label"],[1,"error"],["id","samplingLimit","type","number","min","1","max","65535",1,"",3,"ngModel","ngModelOptions","ngModelChange","keypress"],[1,"row","my-4"],[1,"col-md-8","offset-md-4"],[1,"btn-default","primary","px-3","mx-3",3,"click"],[1,"btn-default","btn-dft","py-1","px-3",3,"click"],["class","row",4,"ngIf"],[1,"btn-default","primary","px-3","mx-3",3,"disabled","click"],[1,"col-md-12","my-3","ccl-admin-table"],["id","example","datatable","",1,"row-border","hover","table-alter",3,"dtOptions"],[4,"ngFor","ngForOf"],[3,"id"],[1,"w-nowrap"],["class","editable-td text-center f-size13",4,"ngIf"],["class","save-cancel-btn-group d-flex justify-content-center",4,"ngIf"],[1,"text-break"],["class","ccl-form",4,"ngIf"],[1,"textnowrap"],[1,"editable-td","text-center","f-size13"],[1,"ccl-fc-table-icon"],[1,"pr-2"],[1,"primary",3,"id","title","click"],[1,"fas","fa-pencil-alt"],["type","checkbox",3,"value","name","id","title","click"],[1,"save-cancel-btn-group","d-flex","justify-content-center"],[1,"pr-1"],[1,"primary","mx-3",3,"id","click"],[1,"fas","fa-check"],[1,"primary",3,"id","click"],[1,"fas","fa-times"],["type","text","trimSpace","",1,"edit-text","w-200px",3,"ngModel","ngModelOptions","value","ngModelChange","blur"],["type","number","min","0","max","65535",1,"edit-text","w-150px",3,"value","ngModel","ngModelOptions","ngModelChange"],["bindLabel","name","bindValue","value","placeholder","","appendTo","body",1,"select-custom-top","w-100px",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"f-size-16px"],[1,"w-100"],["class","list-two",4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"],[1,"list-two"],["class","text-break",4,"ngFor","ngForOf"],["type","button","data-dismiss","modal",1,"btn-default","btn-dft","py-1","px-3",3,"click"],["width","33%"],[3,"innerHtml"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.YNc(1,z,5,0,"div",1),p.YNc(2,W,24,4,"div",2),p.YNc(3,K,59,48,"section",3),p.YNc(4,ie,8,4,"section",3),p.TgZ(5,"div",4),p.TgZ(6,"div",5),p.TgZ(7,"table",6),p.TgZ(8,"thead"),p.TgZ(9,"tr"),p.TgZ(10,"th",7),p.TgZ(11,"div",8),p.TgZ(12,"div",9),p.TgZ(13,"div",10),p.TgZ(14,"input",11),p.NdJ("change",function(e){return t.selectDeselectAll(e.target.checked)}),p.qZA(),p.TgZ(15,"span",12),p.NdJ("click",function(e){return t.showAllInnerCheckBox(e)}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(16,"div"),p.TgZ(17,"div",13),p.TgZ(18,"button",14),p.NdJ("click",function(){return t.deleteAllSelected()}),p._UZ(19,"i",15),p._uU(20),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(21,"th",16),p._uU(22),p.qZA(),p.TgZ(23,"th",16),p._uU(24),p.qZA(),p.TgZ(25,"th",16),p._uU(26),p.qZA(),p.TgZ(27,"th",17),p._uU(28),p.qZA(),p.TgZ(29,"th",16),p._uU(30),p.qZA(),p.TgZ(31,"th",18),p._uU(32),p.qZA(),p.TgZ(33,"th",18),p._uU(34),p.qZA(),p.TgZ(35,"th",18),p._uU(36),p.qZA(),p.TgZ(37,"th",18),p._uU(38),p.qZA(),p.TgZ(39,"th",18),p._uU(40),p.qZA(),p.qZA(),p.qZA(),p.TgZ(41,"tbody"),p.YNc(42,be,31,21,"tr",19),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.YNc(43,De,15,5,"ng-template",null,20,p.W1O),p.YNc(45,xe,20,6,"ng-template",null,21,p.W1O),p.YNc(47,we,13,4,"ng-template",null,22,p.W1O),p.YNc(49,ye,12,4,"ng-template",null,23,p.W1O)),2&e&&(p.xp6(1),p.Q6J("ngIf",t.loading),p.xp6(1),p.Q6J("ngIf",t.buttonVisible),p.xp6(1),p.Q6J("ngIf",t.formVisible),p.xp6(1),p.Q6J("ngIf",t.tablePreview),p.xp6(2),p.Q6J("hidden",!t.dataAvailable),p.xp6(1),p.Q6J("dtTrigger",t.dtTrigger)("dtOptions",t.tableOptions),p.xp6(6),p.Q6J("hidden",t.editOnValue),p.xp6(1),p.Q6J("disabled",0==(null==t.deviceData?null:t.deviceData.length)||0==t.currentTableRowCount),p.xp6(3),p.Q6J("hidden",t.editOnValue),p.xp6(1),p.s9C("title",t.language["Delete selected"]),p.Q6J("disabled",!(null!=t.deviceData&&t.deviceData.length&&null!=t.deleteIds&&t.deleteIds.length)),p.xp6(2),p.hij(" ",t.language.selected," "),p.xp6(2),p.Oqu(t.language.name),p.xp6(2),p.Oqu(t.language.deviceipv4),p.xp6(2),p.Oqu(t.language.deviceipv6),p.xp6(2),p.Oqu(t.language.sampling),p.xp6(2),p.Oqu(t.language.hostName),p.xp6(2),p.Oqu(t.language.listeningPort),p.xp6(2),p.Oqu(t.language.flowType),p.xp6(2),p.Oqu(t.language.ignoreUpstream),p.xp6(2),p.Oqu(t.language.ignoreDownstream),p.xp6(2),p.Oqu(t.language.ignoreLocal),p.xp6(2),p.Q6J("ngForOf",t.deviceData))},directives:[l.O5,c.G,l.sg,Y._Y,Y.JL,Y.F,Y.Fj,Y.JJ,Y.On,G.w9,Y.qQ,Y.Fd,Y.wV],styles:[".modal-scrll[_ngcontent-%COMP%]{overflow-y:auto;max-height:500px}.list-two[_ngcontent-%COMP%]{list-style-type:disc;margin-left:30px}.min-w-250[_ngcontent-%COMP%]{min-width:250px}.min-w-170[_ngcontent-%COMP%]{min-width:170px}.min-w-130[_ngcontent-%COMP%]{min-width:130px}.w-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.w-nowrap-150[_ngcontent-%COMP%]{white-space:nowrap;min-width:150px}.f-size13[_ngcontent-%COMP%]{font-size:13px}.w-200px[_ngcontent-%COMP%]{width:200px}.w-150px[_ngcontent-%COMP%]{width:150px}.w-100px[_ngcontent-%COMP%]{width:100px}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:3px 20px!important;border:1px solid #0279FF;color:#0279ff;font-size:14px;line-height:16.67px!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(.active):hover{background-color:#0279ff;color:#fff}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn.active[_ngcontent-%COMP%]{background-color:#0279ff;color:#fff}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-radius:0!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:first-child   .btn[_ngcontent-%COMP%]{border-top-left-radius:12px!important;border-bottom-left-radius:12px!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child   .btn[_ngcontent-%COMP%]{border-top-right-radius:12px!important;border-bottom-right-radius:12px!important}.line-height-normal[_ngcontent-%COMP%]{line-height:normal}"]}),i}(),data:{title:"Calix Cloud - Flow Configuration"}},{path:"",redirectTo:"devices-configuration",pathMatch:"full",data:{title:"Calix Cloud - Flow Configuration"}}]}],qe=function(){var e=s(function e(){a(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[r.Bz.forChild(_e)],r.Bz]}),e}(),Me=o(23830),Se=function(){var e=s(function e(){a(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[l.ez,qe,c.T,G.A0,Me.o,Y.u5]]}),e}()}}])}();