!function(){"use strict";function n(n){return function(n){if(Array.isArray(n))return t(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,o){if(!n)return;if("string"==typeof n)return t(n,o);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return t(n,o)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var o=0,e=new Array(t);o<t;o++)e[o]=n[o];return e}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function e(n,t){for(var o=0;o<t.length;o++){var e=t[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,(i=e.key,a=void 0,"symbol"==typeof(a=function(n,t){if("object"!=typeof n||null===n)return n;var o=n[Symbol.toPrimitive];if(void 0!==o){var e=o.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(i,"string"))?a:String(a)),e)}var i,a}function i(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[5835],{75709:function(t,e,a){a.d(e,{V:function(){return u}});var r,l=a(92340),c=a(37716),s=a(91841),d=a(21693),u=((r=function(){function t(n,e){o(this,t),this.http=n,this.issueService=e,this.baseUrl="".concat(l.N.API_BASE_URL,"analytics-engine/")}return i(t,[{key:"getCategories",value:function(){var n=this;return new Promise(function(t,o){n.http.get("".concat(n.baseUrl,"alarmMasterCategory")).subscribe(function(n){var o=[{id:"All",name:"All"}];n&&n.length>0&&(o=[],n.forEach(function(n){!n||o.push({id:n,name:n})})),o.sort(function(n,t){return(n.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})}),t(o)},function(n){t([])})})}},{key:"getIndividualAlarmData",value:function(){var t=this;return new Promise(function(o,e){t.http.get("".concat(t.baseUrl,"alarmMasterDetailsWithCustomSeverity")).subscribe(function(t){var e=[];t&&t.length>0&&(t=n(t.filter(function(n){var t;return"ont-power-off"!=(null===(t=n.name)||void 0===t?void 0:t.toLowerCase())}))).forEach(function(n){n.alarm_name=n.name?n.name:"",n.alarm_category=n.category?n.category:"",n.severity=n.perceivedSeverity?n.perceivedSeverity:"",n.alarm_id=n.id?n.id:"",e.push(n)}),o(e)},function(n){o([])})})}},{key:"getGroupAlarmData",value:function(){var n=this;return new Promise(function(t,o){n.http.get("".concat(n.baseUrl,"alarmgroupscount")).subscribe(function(n){var o=[];n&&n.length>0&&(o=[],n.forEach(function(n){!n||o.push({group_name:n.name,no_of_alarms:n.count,group_id:n.uuid})})),t(o)},function(n){t([])})})}},{key:"getTransformAlarmData",value:function(){var n=this;return new Promise(function(t,o){n.http.get("".concat(n.baseUrl,"alarmRules")).subscribe(function(n){var o=[];n&&n.length>0&&n.forEach(function(n){n.alarm_name=n.name?n.name:"",n.alarmRuleId=n.alarmRuleId?n.alarmRuleId:"",o.push(n)}),t(o)},function(n){t([])})})}},{key:"regionsApiLoader",value:function(){var n=this;return new Promise(function(t,o){n.regionsSubject=n.issueService.getRegions().subscribe(function(n){var o={};n.forEach(function(n){o[n.name]=(o[n.name]||0)+1}),n.forEach(function(n,t){var e,i;n.check_region_name=n.name+" ("+(null===(e=n.fqn)||void 0===e?void 0:e.split("=")[1].split(",")[0])+")",o[n.name]>1&&(n.name=n.name+" ("+(null===(i=n.fqn)||void 0===i?void 0:i.split("=")[1].split(",")[0])+")")}),n.sort(),t(n)},function(n){t([])})})}},{key:"ngOnDestroy",value:function(){this.regionsSubject&&this.regionsSubject.unsubscribe()}}]),t}()).\u0275fac=function(n){return new(n||r)(c.LFG(s.eN),c.LFG(d.v))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},15835:function(t,e,a){a.d(e,{l:function(){return Q}});var r,l=a(64762),c=a(37716),s=a(3679),d=a(92340),u=a(16738),g=a(49342),m=a(7450),f=a(39895),h=a(91841),p=a(75709),b=a(38048),v=((r=function(){function n(){o(this,n),this.timeZone=[{name:"America/Chicago",id:"GMT-0600 (Central Standard Time)"},{name:"America/Denver",id:"GMT-0700 (Mountain Standard Time)"},{name:"America/Phoenix",id:"GMT-0700 (Mountain Standard Time)"},{name:"America/Los_Angeles",id:"GMT-0800 (Pacific Standard Time)"},{name:"Pacific/Honolulu",id:"GMT-0900 (Alaska Standard Time)"},{name:"America/Anchorage",id:"GMT-1000 (Hawaii-Aleutian Standard Time)"}]}return i(n,[{key:"getTimeZones",value:function(){return this.timeZone}}]),n}()).\u0275fac=function(n){return new(n||r)},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r),_=a(48483),w=a(39075),y=a(21693),x=a(38583),O=a(1570);function A(n,t){if(1&n){var o=c.EpF();c.TgZ(0,"div",5),c.TgZ(1,"div",20),c.TgZ(2,"div",21),c.TgZ(3,"div",22),c._uU(4),c.qZA(),c.TgZ(5,"div"),c.TgZ(6,"a",23),c.NdJ("click",function(){return c.CHM(o),c.oxw(2).goToListView()}),c._UZ(7,"img",24),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&n){var e=c.oxw(2);c.xp6(3),c.MGl("title"," ",e.workFlowSummaryData.notification.name,""),c.xp6(1),c.hij(" ",e.workFlowSummaryData.notification.name," ")}}function k(n,t){if(1&n&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td",26),c._uU(4),c.qZA(),c.qZA()),2&n){var o=t.$implicit;c.xp6(2),c.hij(" ",o.alarm_name," "),c.xp6(2),c.hij(" ",o.alarm_category," ")}}function F(n,t){if(1&n&&(c.ynx(0),c.YNc(1,k,5,2,"tr",25),c.BQk()),2&n){var o=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",null==o.alarmsForm||null==o.alarmsForm.monitoredIndividualAlarm?null:o.alarmsForm.monitoredIndividualAlarm.data)}}function C(n,t){1&n&&(c.ynx(0),c._UZ(1,"br"),c.BQk())}function P(n,t){if(1&n&&(c.ynx(0),c.YNc(1,C,2,0,"ng-container",0),c._uU(2),c.BQk()),2&n){var o=t.$implicit,e=t.index;c.xp6(1),c.Q6J("ngIf",0!=e),c.xp6(1),c.hij(" ",o.exclusions?o.exclusions:""," ")}}function M(n,t){if(1&n&&(c.ynx(0),c.YNc(1,P,3,2,"ng-container",25),c.BQk()),2&n){var o=c.oxw(3);c.xp6(1),c.Q6J("ngForOf",null==o.conditionForm?null:o.conditionForm.weekDays)}}function Z(n,t){1&n&&(c.ynx(0),c._uU(1,"-"),c.BQk())}function T(n,t){if(1&n&&(c.TgZ(0,"td"),c._uU(1),c.qZA()),2&n){var o=c.oxw(3);c.xp6(1),c.hij(" ",o.language.scheduleFormHalfPercentClearThresholdText(o.conditionForm.clearThreshold||0==o.conditionForm.clearThreshold?o.conditionForm.clearThreshold:"")," ")}}function D(n,t){1&n&&(c.TgZ(0,"td"),c._uU(1,"-"),c.qZA())}function q(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"tr"),c.TgZ(2,"td"),c._uU(3),c.qZA(),c.TgZ(4,"td"),c._uU(5),c.qZA(),c.qZA(),c.TgZ(6,"tr"),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.qZA(),c.TgZ(11,"tr"),c.TgZ(12,"td"),c._uU(13),c.qZA(),c.TgZ(14,"td"),c._uU(15),c.qZA(),c.qZA(),c.TgZ(16,"tr"),c.TgZ(17,"td"),c._uU(18),c.qZA(),c.TgZ(19,"td"),c.YNc(20,M,2,1,"ng-container",0),c.YNc(21,Z,2,0,"ng-container",0),c.qZA(),c.qZA(),c.TgZ(22,"tr"),c.TgZ(23,"td"),c._uU(24),c.qZA(),c.TgZ(25,"td",27),c._uU(26),c.qZA(),c.qZA(),c.TgZ(27,"tr"),c.TgZ(28,"td"),c._uU(29),c.qZA(),c.YNc(30,T,2,1,"td",0),c.YNc(31,D,2,0,"td",0),c.qZA(),c.BQk()),2&n){var o=c.oxw(2);c.xp6(3),c.AsE(" ",o.language.Alarm," ",o.language["Quantity Threshold"],""),c.xp6(2),c.AsE(" ",null!=o.conditionForm&&o.conditionForm.raiseThreshold?o.conditionForm.raiseThreshold:0," ",o.language["Alarm(s)"]," "),c.xp6(3),c.AsE(" ",o.language.Alarm," ",o.language["Duration Threshold"],""),c.xp6(2),c.AsE(" ",null!=o.conditionForm&&o.conditionForm.duration?o.conditionForm.duration:0," ",o.language["Minute(s)"]," "),c.xp6(3),c.AsE(" ",o.language.Alarm," ",o.language["Soak Time"],""),c.xp6(2),c.AsE(" ",null!=o.conditionForm&&o.conditionForm.soakTime?o.conditionForm.soakTime:0," ",o.language["Minute(s)"]," "),c.xp6(3),c.Oqu(o.language.Exclusions),c.xp6(2),c.Q6J("ngIf",o.conditionForm&&o.conditionForm.weekDays&&o.conditionForm.weekDays.length>0),c.xp6(1),c.Q6J("ngIf",!o.conditionForm.weekDays||o.conditionForm&&o.conditionForm.weekDays&&0==o.conditionForm.weekDays.length),c.xp6(3),c.Oqu(o.language.Exclusions_timezone),c.xp6(2),c.Oqu(o.conditionForm.weekDays&&o.conditionForm.weekDays.length>0&&o.conditionForm.exclusions_timezone?o.conditionForm.exclusions_timezone:"-"),c.xp6(3),c.Oqu(o.language["Cleared Alarm Notification"]),c.xp6(1),c.Q6J("ngIf",o.conditionForm&&o.conditionForm.notifyOnClear),c.xp6(1),c.Q6J("ngIf",!o.conditionForm.notifyOnClear)}}function S(n,t){if(1&n&&(c.TgZ(0,"tr"),c._UZ(1,"td"),c.TgZ(2,"td"),c._uU(3),c.qZA(),c.qZA()),2&n){var o=t.$implicit;c.xp6(3),c.hij(" ",o.location_name?o.location_name:""," ")}}function j(n,t){if(1&n&&(c.ynx(0),c.YNc(1,S,4,1,"tr",25),c.BQk()),2&n){var o=c.oxw().$implicit;c.xp6(1),c.Q6J("ngForOf",o.value)}}function I(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"tr"),c.TgZ(2,"td"),c._uU(3),c.qZA(),c.TgZ(4,"td"),c._uU(5),c.qZA(),c.qZA(),c.YNc(6,j,2,1,"ng-container",0),c.BQk()),2&n){var o=t.$implicit;c.xp6(3),c.hij(" ",o.key?o.key:""," "),c.xp6(2),c.hij(" ",o.value.length>0&&1==o.value.length&&o.value[0].noLocation?"All Locations":o.value.length+" Location(s)"," "),c.xp6(1),c.Q6J("ngIf",o&&o.value&&o.value.length>0)}}function L(n,t){if(1&n&&(c.ynx(0),c.YNc(1,I,7,3,"ng-container",25),c.ALo(2,"keyvalue"),c.BQk()),2&n){var o=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",c.lcZ(2,1,null==o.conditionForm?null:o.conditionForm.regionsLocations))}}function E(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"tr"),c.TgZ(2,"td"),c._uU(3),c.qZA(),c.TgZ(4,"td"),c._uU(5),c.qZA(),c.qZA(),c.BQk()),2&n){var o=c.oxw(2);c.xp6(3),c.Oqu(o.language["All Regions"]),c.xp6(2),c.Oqu(o.language["All Locations"])}}function N(n,t){if(1&n&&(c.TgZ(0,"section"),c.YNc(1,A,8,2,"div",11),c.TgZ(2,"div",5),c.TgZ(3,"div",12),c.TgZ(4,"div",13),c._uU(5),c.ALo(6,"number"),c.qZA(),c.TgZ(7,"div",14),c.TgZ(8,"table",15),c.TgZ(9,"thead"),c.TgZ(10,"tr"),c.TgZ(11,"th",16),c._uU(12),c.qZA(),c.TgZ(13,"th"),c._uU(14),c.qZA(),c.qZA(),c.qZA(),c.TgZ(15,"tbody"),c.YNc(16,F,2,1,"ng-container",0),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(17,"div",12),c.TgZ(18,"div",13),c._uU(19),c.qZA(),c.TgZ(20,"div",17),c.TgZ(21,"table",15),c.TgZ(22,"tbody"),c.TgZ(23,"tr"),c.TgZ(24,"td"),c._uU(25),c.qZA(),c.TgZ(26,"td"),c._uU(27),c.qZA(),c.qZA(),c.YNc(28,q,32,20,"ng-container",0),c.qZA(),c.qZA(),c.qZA(),c.TgZ(29,"div",13),c._uU(30),c.qZA(),c.TgZ(31,"div",18),c.TgZ(32,"table",15),c.TgZ(33,"tbody"),c.YNc(34,L,3,3,"ng-container",0),c.YNc(35,E,6,2,"ng-container",0),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(36,"div",12),c.TgZ(37,"div",13),c._uU(38),c.qZA(),c.TgZ(39,"div",18),c._UZ(40,"app-summary-recepients",19),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&n){var o=c.oxw();c.xp6(1),c.Q6J("ngIf",!o.workFlowSummaryData.alarm_notifications_summary),c.xp6(4),c.AsE(" ",o.language["Monitored Alarms"]," (",c.lcZ(6,16,o.alarmsForm.totMonitoredAlarms),") "),c.xp6(7),c.Oqu(o.language["Individual Alarms"]),c.xp6(2),c.AsE(" ",(null==o.alarmsForm||null==o.alarmsForm.monitoredIndividualAlarm||null==o.alarmsForm.monitoredIndividualAlarm.data?null:o.alarmsForm.monitoredIndividualAlarm.data.length)>0?o.alarmsForm.monitoredIndividualAlarm.data.length:0," ",o.language["Alarm(s)"]," "),c.xp6(2),c.Q6J("ngIf",o.alarmsForm&&o.alarmsForm.monitoredIndividualAlarm&&o.alarmsForm.monitoredIndividualAlarm.data&&o.alarmsForm.monitoredIndividualAlarm.data.length>0),c.xp6(3),c.Oqu(o.language["Notification Trigger"]),c.xp6(6),c.Oqu(o.language.Trigger),c.xp6(2),c.Oqu(o.conditionForm.trigger?o.conditionForm.trigger:"-"),c.xp6(1),c.Q6J("ngIf",o.conditionForm&&"true"==o.conditionForm.immediate),c.xp6(2),c.Oqu(o.language["Regions & Locations"]),c.xp6(4),c.Q6J("ngIf",o.conditionForm&&o.conditionForm.regionsLocations&&o.conditionForm.regionsLocationsLength>0),c.xp6(1),c.Q6J("ngIf",o.conditionForm&&o.conditionForm.regionsLocations&&0==o.conditionForm.regionsLocationsLength),c.xp6(3),c.Oqu(o.language.Recipients),c.xp6(2),c.Q6J("workflowObj",o.recepientsInfo)}}function U(n,t){if(1&n&&(c.TgZ(0,"div",28),c.TgZ(1,"div",29),c._uU(2),c.qZA(),c.qZA()),2&n){var o=t.$implicit;c.xp6(1),c.MGl("title"," ",o,""),c.xp6(1),c.hij(" ",o," ")}}function Y(n,t){if(1&n&&(c.TgZ(0,"section"),c.TgZ(1,"div",4),c.TgZ(2,"div",30),c.TgZ(3,"div",31),c.TgZ(4,"div",32),c.TgZ(5,"div",33),c.TgZ(6,"div",34),c.TgZ(7,"span",35),c._uU(8),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&n){var o=c.oxw();c.xp6(8),c.Oqu(o.language.Loading)}}var Q=function(){var t=function(){function t(n,e,i,a,r,l,s,u,g,m,f,h){o(this,t),this.commonOrgService=n,this.translateService=e,this.route=i,this.router=a,this.http=r,this.apiPreDataSevice=l,this.ssoService=s,this.formBuilder=u,this.utils=g,this.dateUtils=m,this.titleService=f,this.issueService=h,this.baseUrl="".concat(d.N.API_BASE_URL,"analytics-engine/"),this.isDev=!1,this.loading=!1,this._workFlowSummaryData={name:"",notification:{mailRecepients:[]}},this.conditionForm={raiseThreshold:0,soakTime:0,duration:0,weekDays:[]},this.scheduleForm={weekDays:[]},this.alarmsForm={monitoredIndividualAlarm:{data:[]},monitoredGroupAlarm:{data:[]},monitoredTransformAlarm:{data:[]}},this.weekNames=[{name:"MONDAY",short_name:"Mon"},{name:"TUESDAY",short_name:"Tue"},{name:"WEDNESDAY",short_name:"Wed"},{name:"THURSDAY",short_name:"Thu"},{name:"FRIDAY",short_name:"Fri"},{name:"SATURDAY",short_name:"Sat"},{name:"SUNDAY",short_name:"Sun"}],this.errorInfo="",this.getWorkFlowAPIEmitter=new c.vpe,this.categorySubgroupsAlarms=[],this.categorySubgroupsName="",this.recepientsInfo={},this.notificationsData={alarms:{groupAlarmData:{data:[]},individualAlarmData:{data:[],categoryList:[]},transformAlarmData:{data:[]},monitoredIndividualAlarm:{data:[],categoryList:[]},monitoredGroupAlarm:{data:[]},monitoredTransformAlarm:{data:[]}},conditions:{regionsDataArray:["All"],locationDataArray:["All"]}},this.titleService.setTitle("Alarm Notifications - Email Notifications - Network Operations - Operations - Operations - Calix Cloud"),this.isDev="".concat(d.N.API_BASE).indexOf("/dev.api.calix.ai")>-1}return i(t,[{key:"workFlowSummaryData",get:function(){return this._workFlowSummaryData},set:function(n){var t,o,e,i;this._workFlowSummaryData=n,console.log(n),this.recepientsInfo={emailRecipients:null===(t=null==n?void 0:n.notification)||void 0===t?void 0:t.mailRecepients,emailNotes:null===(o=null==n?void 0:n.notification)||void 0===o?void 0:o.notes,sms:null===(e=null==n?void 0:n.notification)||void 0===e?void 0:e.sms,webhooks:null===(i=null==n?void 0:n.notification)||void 0===i?void 0:i.webhooks}}},{key:"ngOnInit",value:function(){var n,t=this;this.route.params.subscribe(function(n){t.notificationId=n.notificationId?n.notificationId:""}),this.timezones=this.utils.getTimeZones();var o=null===(n=(new Date).toString())||void 0===n?void 0:n.split(" "),e=(o[5]?o[5]:"")+" "+(o[6]?o[6]:"")+" "+(o[7]?o[7]:"")+" "+(o[8]?o[8]:""),i=this.dateUtils.getLocalTimeZoneName();this.timezones.find(function(n){return n.name==i})||this.timezones.push({id:e,name:i}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(n){t.language=n,""!=t.notificationId?(t.loading=!0,t.tempConditionForm=t.formBuilder.group({region:["",s.kI.required],location:["",s.kI.required]}),t.callMultipleAPI()):t.setSummaryData()}),""!=this.notificationId?(this.loading=!0,this.tempConditionForm=this.formBuilder.group({region:["",s.kI.required],region_name:[[]],location:["",s.kI.required],location_name:[[]]}),this.callMultipleAPI()):this.setSummaryData()}},{key:"callMultipleAPI",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([this.getCategories(),this.getIndividualAlarmData(),this.getTransformAlarmData(),this.regionsApiLoader()]);case 2:this.mergeAlarmRules(),""!=this.notificationId&&this.getSummaryData();case 4:case"end":return n.stop()}},n,this)}))}},{key:"getCategories",value:function(){var t=this;return new Promise(function(o,e){t.apiPreDataSevice.getCategories().then(function(e){t.notificationsData.alarms.individualAlarmData.categoryList=n(e),t.notificationsData.alarms.monitoredIndividualAlarm.categoryList=n(e),o()})})}},{key:"getIndividualAlarmData",value:function(){var t=this;return new Promise(function(o,e){t.apiPreDataSevice.getIndividualAlarmData().then(function(e){t.notificationsData.alarms.individualAlarmData.data=n(e),t.notificationsData.alarms.individualAlarmData=Object.assign({},t.notificationsData.alarms.individualAlarmData),o()})})}},{key:"getGroupAlarmData",value:function(){var t=this;return new Promise(function(o,e){t.apiPreDataSevice.getGroupAlarmData().then(function(e){t.notificationsData.alarms.groupAlarmData.data=n(e),t.notificationsData.alarms.groupAlarmData=Object.assign({},t.notificationsData.alarms.groupAlarmData),o()})})}},{key:"getTransformAlarmData",value:function(){var t=this;return new Promise(function(o,e){t.apiPreDataSevice.getTransformAlarmData().then(function(e){t.notificationsData.alarms.transformAlarmData.data=n(e),t.notificationsData.alarms.transformAlarmData=Object.assign({},t.notificationsData.alarms.transformAlarmData),o()})})}},{key:"regionsApiLoader",value:function(){var t=this;return new Promise(function(o,e){t.apiPreDataSevice.regionsApiLoader().then(function(e){t.notificationsData.conditions.regionsDataArray=[].concat(n(t.notificationsData.conditions.regionsDataArray),n(e)),o()})})}},{key:"mergeAlarmRules",value:function(){var n=this;if(this.notificationsData.alarms.individualAlarmData.data.length>0){var t=this.notificationsData.alarms.individualAlarmData.data.filter(function(n){return n.alarm_name.includes("multiple-onts-down")&&"PON transformed"==n.alarm_category});t.length>0&&t.forEach(function(t){var o=n.notificationsData.alarms.transformAlarmData.data.find(function(n){return n.alarm_name==t.alarm_name});o?(t.alarm_id=o.alarmRuleId,t.rulesexist=!0):t.rulesnotexist=!0})}}},{key:"setSummaryData",value:function(){var t,o,e,i,a,r,l,c,s,d,g,m,f=this;if(this.conditionForm=Object.assign({},null===(e=null===(o=null===(t=this.workFlowSummaryData)||void 0===t?void 0:t.conditions)||void 0===o?void 0:o.workFlowConditionsForm)||void 0===e?void 0:e.value),this.scheduleForm=Object.assign({},null===(r=null===(a=null===(i=this.workFlowSummaryData)||void 0===i?void 0:i.notification)||void 0===a?void 0:a.workFlowScheduleForm)||void 0===r?void 0:r.value),this.scheduleForm&&""==(null===(l=this.scheduleForm)||void 0===l?void 0:l.notes)&&(this.scheduleForm.notes="-"),this.scheduleForm.notes=null===(c=this.scheduleForm.notes)||void 0===c?void 0:c.split("\n"),this.scheduleForm.totalMail=(null===(d=null===(s=this.workFlowSummaryData)||void 0===s?void 0:s.notification)||void 0===d?void 0:d.mailRecepients)&&this.workFlowSummaryData.notification.mailRecepients.length>0?this.workFlowSummaryData.notification.mailRecepients.length:0,this.alarmsForm=Object.assign({},null===(g=this.workFlowSummaryData)||void 0===g?void 0:g.alarms),this.workFlowDetails=Object.assign({},null===(m=this.workFlowSummaryData)||void 0===m?void 0:m.details),this.conditionForm.immediate&&"true"==this.conditionForm.immediate){this.conditionForm.trigger="Immediate";var h=this.timezones.find(function(n){return n.id==f.conditionForm.timezone});this.conditionForm.exclusions_timezone="",h&&(this.conditionForm.exclusions_timezone=h.id)}else{var p=new Date(this.conditionForm.scheduleStartTime);if("daily"==this.conditionForm.recurrence)this.conditionForm.trigger=this.language.recurr_everyday(u(p).format("hh:mm A"));else if("weekly"==this.conditionForm.recurrence){var b="";this.conditionForm.weekDays&&this.conditionForm.weekDays.length>0&&this.conditionForm.weekDays.filter(function(n){return n.scheduleWeeklyStatus}).forEach(function(n,t){t==f.conditionForm.weekDays.filter(function(n){return n.scheduleWeeklyStatus}).length-1?(b=b.slice(0,-2),1==f.conditionForm.weekDays.filter(function(n){return n.scheduleWeeklyStatus}).length?b+=n.short_name:b+=" and "+n.short_name):b+=n.short_name+", "}),this.conditionForm.trigger=this.language.recurr_everyweek(b,u(p).format("hh:mm A"))}else"monthly"==this.conditionForm.recurrence&&(this.conditionForm.trigger=this.language.recurr_month(this.getNumberWithOrdinal(Number(this.conditionForm.dayOfMonth)),u(p).format("hh:mm A")))}if(this.conditionForm.regionsLocations=[],this.conditionForm.regionsLocationsLength=0,this.conditionForm.location&&(0==this.conditionForm.location.length||1==this.conditionForm.location.length&&0==this.conditionForm.location.findIndex(function(n){return"All"==n}))&&this.conditionForm.region&&this.conditionForm.region.length>0)this.conditionForm.regionsLocations=this.workFlowSummaryData.conditions.regionsDataArray.filter(function(n){return-1!=f.conditionForm.region.indexOf(n.id)}).map(function(n){return n.region_name=n.name,n.noLocation=!0,n}),this.conditionForm.regionsLocations=this.groupByKey(this.conditionForm.regionsLocations,"region_name"),this.conditionForm.regionsLocationsLength=Object.keys(this.conditionForm.regionsLocations).length;else if(this.conditionForm.location&&this.conditionForm.location.length>0){var v=this.workFlowSummaryData.conditions.regionsDataArray.filter(function(n){return-1!=f.conditionForm.region.indexOf(n.id)}).map(function(n){return n.region_name=n.name,delete n.delete,n}),_=this.workFlowSummaryData.conditions.locationDataArray.filter(function(n){return-1!=f.conditionForm.location.indexOf(n.id)}).map(function(n){return n.location_name=n.name,delete n.delete,n});this.conditionForm.regionsLocations=[].concat(n(v),n(_)),this.conditionForm.regionsLocations.forEach(function(n){if(n.location_name&&""!=n.location_name){var t=f.conditionForm.regionsLocations.find(function(t){return t.check_region_name==n.check_region_name});t&&(t.delete=!0)}}),this.conditionForm.regionsLocations=this.conditionForm.regionsLocations.filter(function(n){return!n.delete}).map(function(n){return n.location_name||(n.noLocation=!0),n}),this.conditionForm.regionsLocations=this.groupByKey(this.conditionForm.regionsLocations,"region_name"),this.conditionForm.regionsLocationsLength=Object.keys(this.conditionForm.regionsLocations).length}this.conditionForm&&this.conditionForm.weekDays&&this.conditionForm.weekDays.length>0&&(this.conditionForm.weekDays=this.conditionForm.weekDays.filter(function(n){return 1==n.checked}),this.conditionForm.weekDays.forEach(function(n){n.exclusions=f.language.exclusions_days(n.short_name,f.changeTimeFormat(n.dayFrom),f.changeTimeFormat(n.dayTo))}))}},{key:"changeTimeFormat",value:function(n){return""!=n?new Date(n).toLocaleString([],{hour:"2-digit",minute:"2-digit"}):""}},{key:"getSummaryData",value:function(){var t=this;this.http.get("".concat(this.baseUrl,"workflow?workflowId=").concat(this.notificationId)).subscribe(function(o){return(0,l.mG)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var e,i,a,r,l,c,s,d,g,m,f,h,p,b,v,_,w,y,x,O,A,k,F,C,P,M,Z,T,D,q,S,j,I,L,E,N,U,Y,Q,R,z,B=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.recepientsInfo={emailRecipients:null==o?void 0:o.emails,emailNotes:null==o?void 0:o.notes,sms:null==o?void 0:o.sms,webhooks:null==o?void 0:o.webhooks},!(o&&Object.entries(o).length>0)){t.next=15;break}if(this.workFlowSummaryData.notification.name=o.name,this.scheduleForm.totalMail=o.emails&&o.emails.length>0?o.emails.length:0,this.alarmsForm.monitoredIndividualAlarm={data:[]},this.alarmsForm.monitoredGroupAlarm={data:[]},this.alarmsForm.monitoredTransformAlarm={data:[]},(o.alarmNames&&o.alarmNames.length>0||o.transformAlarms&&o.transformAlarms.length>0)&&(o.alarmNames=[].concat(n(o.alarmNames),n(o.transformAlarms)),this.notificationsData.alarms.monitoredTransformAlarm.data=[],o.alarmNames.forEach(function(n){var t=B.notificationsData.alarms.individualAlarmData.data.find(function(t){return n==t.alarm_id});t&&B.alarmsForm.monitoredIndividualAlarm.data.push(t)})),o.alarmGroups&&o.alarmGroups.length>0&&o.alarmGroups.forEach(function(n){var t=B.notificationsData.alarms.groupAlarmData.data.find(function(t){return n==t.group_id});t&&B.alarmsForm.monitoredGroupAlarm.data.push(t)}),Z=this.alarmsForm.monitoredGroupAlarm.data.reduce(function(n,t){return n+Number(t.no_of_alarms)},0),o.transformAlarms&&o.transformAlarms.length>0&&o.transformAlarms.forEach(function(n){var t=B.notificationsData.alarms.transformAlarmData.data.find(function(t){return n==t.alarmRuleId});t&&B.alarmsForm.monitoredTransformAlarm.data.push(t)}),this.alarmsForm.totMonitoredAlarms=Z+o.alarmNames.length,o&&(""==(null==o?void 0:o.notes)||null==(null==o?void 0:o.notes))&&(o.notes="-"),this.scheduleForm.notes=null===(e=o.notes)||void 0===e?void 0:e.split("\n"),this.workFlowSummaryData.notification.mailRecepients=o.emails&&o.emails.length>0?o.emails:[],T=Object.assign({},null===(i=this.tempConditionForm)||void 0===i?void 0:i.controls),o.region=null===(r=null===(a=this.notificationsData.conditions.regionsDataArray)||void 0===a?void 0:a.filter(function(n){var t;return null===(t=o.region)||void 0===t?void 0:t.includes(n.id)}))||void 0===r?void 0:r.map(function(n){return n.id}),!(o.region&&o.region.length>0)){t.next=13;break}return t.next=8,this.loadLocationValue(o.region);case 8:this.notificationsData.conditions.locationDataArray=t.sent,this.notificationsData.conditions.locationDataArray=this.issueService.appendFqn(this.notificationsData.conditions.locationDataArray),this.notificationsData.conditions.locationDataArray=this.notificationsData.conditions.locationDataArray.sort(function(n,t){return(n.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})}),D=this.notificationsData.conditions.locationDataArray.map(function(n){var t,o=(null===(t=null==n?void 0:n.fqn)||void 0===t?void 0:t.split(",")).find(function(n){return n.includes("REGION")});return(null==o?void 0:o.split("=").length)>0&&(n.region_name=null==o?void 0:o.split("=")[1]),n}),q={},D.forEach(function(n,t){D.find(function(o,e){return o.region_name==n.region_name&&o.regionId!=n.regionId&&e!=t})&&(q[n.region_name]=(q[n.region_name]||0)+1)}),D.forEach(function(n,t){var o,e;n.check_region_name=n.region_name+" ("+(null===(e=null===(o=n.fqn)||void 0===o?void 0:o.split("=")[1])||void 0===e?void 0:e.split(",")[0])+")",q[n.region_name]>1&&(n.region_name=n.check_region_name)}),this.notificationsData.conditions.locationDataArray=n(D),this.notificationsData.conditions.locationDataArray.unshift({name:"All",id:"All"}),-1==o.region.indexOf("11111111-1111-1111-1111-111111111111")?T.region.setValue(o.region):T.region.setValue(["All"]);case 13:o.location=null===(c=null===(l=this.notificationsData.conditions.locationDataArray)||void 0===l?void 0:l.filter(function(n){var t;return null===(t=o.location)||void 0===t?void 0:t.includes(n.id)}))||void 0===c?void 0:c.map(function(n){return n.id}),o&&o.location&&o.location.length>0&&-1==o.location.indexOf("11111111-1111-1111-1111-111111111111")?T.location.setValue(o.location):T.location.setValue(["All"]),this.conditionForm=Object.assign({},null===(s=this.tempConditionForm)||void 0===s?void 0:s.value),this.conditionForm.regionsLocations=[],this.conditionForm.regionsLocationsLength=0,this.conditionForm.location&&(0==this.conditionForm.location.length||1==this.conditionForm.location.length&&0==this.conditionForm.location.findIndex(function(n){return"All"==n}))&&this.conditionForm.region&&this.conditionForm.region.length>0?(this.conditionForm.regionsLocations=this.notificationsData.conditions.regionsDataArray.filter(function(n){return-1!=B.conditionForm.region.indexOf(n.id)}).map(function(n){return n.region_name=n.name,n.noLocation=!0,n}),this.conditionForm.regionsLocations=this.groupByKey(this.conditionForm.regionsLocations,"region_name"),this.conditionForm.regionsLocationsLength=Object.keys(this.conditionForm.regionsLocations).length):this.conditionForm.location&&this.conditionForm.location.length>0&&(S=this.notificationsData.conditions.regionsDataArray.filter(function(n){return-1!=B.conditionForm.region.indexOf(n.id)}).map(function(n){return n.region_name=n.name,delete n.delete,n}),j=this.notificationsData.conditions.locationDataArray.filter(function(n){return-1!=B.conditionForm.location.indexOf(n.id)}).map(function(n){return n.location_name=n.name,delete n.delete,n}),this.conditionForm.regionsLocations=[].concat(n(S),n(j)),this.conditionForm.regionsLocations.forEach(function(n){if(n.location_name&&""!=n.location_name){var t=B.conditionForm.regionsLocations.find(function(t){return t.check_region_name==n.check_region_name});t&&(t.delete=!0)}}),this.conditionForm.regionsLocations=this.conditionForm.regionsLocations.filter(function(n){return!n.delete}).map(function(n){return n.location_name||(n.noLocation=!0),n}),this.conditionForm.regionsLocations=this.groupByKey(this.conditionForm.regionsLocations,"region_name"),this.conditionForm.regionsLocationsLength=Object.keys(this.conditionForm.regionsLocations).length),(null===(d=null==o?void 0:o.schedule)||void 0===d?void 0:d.immediate)&&1==o.schedule.immediate?(this.conditionForm.trigger="Immediate",this.conditionForm.immediate="true",I=this.timezones.find(function(n){return n.id==o.timezone}),this.conditionForm.exclusions_timezone="",I&&(this.conditionForm.exclusions_timezone=I.id),this.conditionForm.clearThreshold=o.clearThreshold?o.clearThreshold:0,this.conditionForm.notifyOnClear=!!o.notifyOnClear&&o.notifyOnClear,this.conditionForm.raiseThreshold=o.raiseThreshold?o.raiseThreshold:0,this.conditionForm.duration=o.duration?o.duration:0,this.conditionForm.soakTime=o.soakTime?o.soakTime:0,o.filter.length>0&&o.filter&&(this.conditionForm.weekDays=o.filter,this.conditionForm.weekDays.forEach(function(n){var t,o,e=new Date,i=new Date,a=null===(t=n.fromTime)||void 0===t?void 0:t.split(":"),r=null===(o=n.toTime)||void 0===o?void 0:o.split(":");e.setHours(a[0]),e.setMinutes(a[1]),i.setHours(r[0]),i.setMinutes(r[1]);var l=B.weekNames.find(function(t){return t.short_name.toLowerCase()==n.daysOfWeek.toLowerCase()});l&&(n.exclusions=B.language.exclusions_days(l.short_name,B.changeTimeFormat(e),B.changeTimeFormat(i)))}))):(L=new Date,this.conditionForm.immediate="false",(null===(g=null==o?void 0:o.schedule)||void 0===g?void 0:g.type)&&"daily"==o.schedule.type?((null===(h=null===(f=null===(m=null==o?void 0:o.schedule)||void 0===m?void 0:m.recurrencePattern)||void 0===f?void 0:f.daily)||void 0===h?void 0:h.startTime)&&(E=null===(p=o.schedule.recurrencePattern.daily.startTime)||void 0===p?void 0:p.split(":"),L.setHours(E[0]),L.setMinutes(E[1])),N=new Date(L),this.conditionForm.trigger=this.language.recurr_everyday(u(N).format("hh:mm A"))):(null===(b=null==o?void 0:o.schedule)||void 0===b?void 0:b.type)&&"weekly"==o.schedule.type?((null===(w=null===(_=null===(v=null==o?void 0:o.schedule)||void 0===v?void 0:v.recurrencePattern)||void 0===_?void 0:_.weekly)||void 0===w?void 0:w.startTime)&&(U=null===(y=o.schedule.recurrencePattern.weekly.startTime)||void 0===y?void 0:y.split(":"),L.setHours(U[0]),L.setMinutes(U[1])),Y=new Date(L),Q="",(null===(A=null===(O=null===(x=null==o?void 0:o.schedule)||void 0===x?void 0:x.recurrencePattern)||void 0===O?void 0:O.weekly)||void 0===A?void 0:A.days)&&o.schedule.recurrencePattern.weekly.days.length>0&&o.schedule.recurrencePattern.weekly.days.forEach(function(n,t){var e=B.weekNames.find(function(t){return t.short_name.toLowerCase()==n.toLowerCase()});e&&(t==o.schedule.recurrencePattern.weekly.days.length-1?(Q=Q.slice(0,-2),Q+=1==o.schedule.recurrencePattern.weekly.days.length?e.short_name:" and "+e.short_name):Q+=e.short_name+", ")}),this.conditionForm.trigger=this.language.recurr_everyweek(Q,u(Y).format("hh:mm A"))):(null===(k=null==o?void 0:o.schedule)||void 0===k?void 0:k.type)&&"monthly"==o.schedule.type&&((null===(P=null===(C=null===(F=null==o?void 0:o.schedule)||void 0===F?void 0:F.recurrencePattern)||void 0===C?void 0:C.monthly)||void 0===P?void 0:P.startTime)&&(R=null===(M=o.schedule.recurrencePattern.monthly.startTime)||void 0===M?void 0:M.split(":"),L.setHours(R[0]),L.setMinutes(R[1])),z=new Date(L),this.conditionForm.trigger=this.language.recurr_month(this.getNumberWithOrdinal(Number(o.schedule.recurrencePattern.monthly.dayOfMonth)),u(z).format("hh:mm A"))));case 15:this.loading=!1;case 16:case"end":return t.stop()}},t,this)}))},function(n){t.loading=!1,t.error=!0,t.pageErrorHandle(n)})}},{key:"loadLocationValue",value:function(n){if(n&&n!=["All"]&&n!=["11111111-1111-1111-1111-111111111111"]&&n.length>0){var t="";return n.forEach(function(n){"All"==n||"11111111-1111-1111-1111-111111111111"==n||(t+="&region=".concat(n))}),""!=t?this.http.get("".concat(d.N.API_BASE_URL,"nfa/locations?tenant=0").concat(t)).toPromise():[]}}},{key:"goToListView",value:function(){var n,t=null===(n=null==history?void 0:history.state)||void 0===n?void 0:n.ccoAlarmNotificationsText;this.router.navigateByUrl("/cco/operations/alarms/health-alarm-notifications",{state:{ccoAlarmNotificationsText:t||""}})}},{key:"pageErrorHandle",value:function(n){this.errorInfo=401==n.status?"Access Denied":this.commonOrgService.pageErrorHandle(n),this.closeAlert(),this.error=!0}},{key:"closeAlert",value:function(){this.error=!1}},{key:"getCategorySubgroupsAlarms",value:function(n){var t=this;this.categorySubgroupsAlarms=[],this.categorySubgroupsName="",this.loading=!0,this.http.get("".concat(this.baseUrl,"alarmgroup?alarmgroupId=").concat(n.group_id)).subscribe(function(n){t.loading=!1,n&&Object.entries(n).length>0&&(t.categorySubgroupsAlarms=n.alarmEventName,t.categorySubgroupsName=n.name)},function(n){t.loading=!1})}},{key:"groupByKey",value:function(n,t){return n.reduce(function(n,o){return n[o[t]]=n[o[t]]||[],n[o[t]].push(o),n},Object.create(null))}},{key:"getNumberWithOrdinal",value:function(n){var t=["th","st","nd","rd"],o=n%100;return n+(t[(o-20)%10]||t[o]||t[0])}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe()}}]),t}();return t.\u0275fac=function(n){return new(n||t)(c.Y36(g.v),c.Y36(m.s),c.Y36(f.gz),c.Y36(f.F0),c.Y36(h.eN),c.Y36(p.V),c.Y36(b.t6),c.Y36(s.qu),c.Y36(v),c.Y36(_.s),c.Y36(w.Dx),c.Y36(y.v))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-workflow-summary"]],inputs:{workFlowSummaryData:"workFlowSummaryData"},outputs:{getWorkFlowAPIEmitter:"getWorkFlowAPIEmitter"},decls:14,vars:4,consts:[[4,"ngIf"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"container"],[1,"row"],[1,"col-md-11","modal-title"],[1,"col-md-1"],["type","button","id","","data-dismiss","modal","aria-label","Close",1,"close"],[1,"row","alarm-name-list-box"],["class","col-md-3",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"col-md-4"],[1,"heading-4"],[1,"summary-info-table","monitored"],[1,"table"],[1,"width-60"],[1,"summary-info-table","marg-b-38px"],[1,"summary-info-table"],[3,"workflowObj"],[1,"col-12","mb-4"],[1,"d-flex","justify-content-between","align-items-center"],["data-toggle","tooltip","data-placement","top",1,"alarm-title",3,"title"],["href","javascript:void(0)",3,"click"],["src"," assets/img/close-icon.svg","alt",""],[4,"ngFor","ngForOf"],[1,"pl-0"],[1,"text-break"],[1,"col-md-3"],["data-toggle","tooltip","data-placement","top",1,"alarm-name-list",3,"title"],[1,"row","mb-3"],[1,"col-md-12"],[1,"loader","mt-5"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(n,t){1&n&&(c.YNc(0,N,41,18,"section",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"div",6),c._uU(7),c.qZA(),c.TgZ(8,"div",7),c.TgZ(9,"button",8),c._UZ(10,"span"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"div",9),c.YNc(12,U,3,2,"div",10),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(13,Y,9,1,"section",0)),2&n&&(c.Q6J("ngIf",!t.loading),c.xp6(7),c.Oqu(t.categorySubgroupsName+(t.categorySubgroupsAlarms.length>0&&t.categorySubgroupsAlarms?" ("+t.categorySubgroupsAlarms.length+") ":"")),c.xp6(5),c.Q6J("ngForOf",t.categorySubgroupsAlarms),c.xp6(1),c.Q6J("ngIf",t.loading))},directives:[x.O5,x.sg,O.f],pipes:[x.JJ,x.Nd],styles:['.p-10[_ngcontent-%COMP%]{padding:10px}.p-15[_ngcontent-%COMP%]{padding:15px}.p-20[_ngcontent-%COMP%]{padding:20px}.p-25[_ngcontent-%COMP%]{padding:25px}.p-30[_ngcontent-%COMP%]{padding:30px}.p-35[_ngcontent-%COMP%]{padding:35px}.p-40[_ngcontent-%COMP%]{padding:40px}.p-45[_ngcontent-%COMP%]{padding:45px}.p-50[_ngcontent-%COMP%]{padding:50px}.p-55[_ngcontent-%COMP%]{padding:55px}.p-60[_ngcontent-%COMP%]{padding:60px}.pt-10[_ngcontent-%COMP%]{padding-top:10px}.pt-15[_ngcontent-%COMP%]{padding-top:15px}.pt-20[_ngcontent-%COMP%]{padding-top:20px}.pt-25[_ngcontent-%COMP%]{padding-top:25px}.pt-30[_ngcontent-%COMP%]{padding-top:30px}.pt-35[_ngcontent-%COMP%]{padding-top:35px}.pt-40[_ngcontent-%COMP%]{padding-top:40px}.pt-45[_ngcontent-%COMP%]{padding-top:45px}.pt-50[_ngcontent-%COMP%]{padding-top:50px}.pt-55[_ngcontent-%COMP%]{padding-top:55px}.pt-60[_ngcontent-%COMP%]{padding-top:60px}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.mt-25[_ngcontent-%COMP%]{margin-top:25px}.mt-30[_ngcontent-%COMP%]{margin-top:30px}.mt-35[_ngcontent-%COMP%]{margin-top:35px}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mt-45[_ngcontent-%COMP%]{margin-top:45px}.mt-50[_ngcontent-%COMP%]{margin-top:50px}.mt-55[_ngcontent-%COMP%]{margin-top:55px}.mt-60[_ngcontent-%COMP%]{margin-top:60px}.mb0[_ngcontent-%COMP%]{margin-bottom:0}.mb1[_ngcontent-%COMP%]{margin-bottom:10px}.mb15[_ngcontent-%COMP%]{margin-bottom:15px}.mb2[_ngcontent-%COMP%]{margin-bottom:20px}.mb3[_ngcontent-%COMP%]{margin-bottom:30px}.mb4[_ngcontent-%COMP%]{margin-bottom:40px}.mb5[_ngcontent-%COMP%]{margin-bottom:50px}.mb6[_ngcontent-%COMP%]{margin-bottom:60px}.mb7[_ngcontent-%COMP%]{margin-bottom:70px}.mb8[_ngcontent-%COMP%]{margin-bottom:80px}.mb9[_ngcontent-%COMP%]{margin-bottom:90px}.primary[_ngcontent-%COMP%]{color:#0279ff}.secondary[_ngcontent-%COMP%]{color:#0054b2}.calixpurple[_ngcontent-%COMP%]{color:#43367d}.calixblue[_ngcontent-%COMP%]{color:#324a9d}.calixsky[_ngcontent-%COMP%]{color:#387cbf}.calixorange[_ngcontent-%COMP%]{color:#e97b00}.brightred[_ngcontent-%COMP%]{color:#ff3600}.lightred[_ngcontent-%COMP%]{color:#ff734f}.purple[_ngcontent-%COMP%]{color:#91479b}.error[_ngcontent-%COMP%]{color:#c70000}.warning[_ngcontent-%COMP%]{color:#ff8238}.warningt[_ngcontent-%COMP%]{color:#c74900}.success[_ngcontent-%COMP%]{color:#82bf00}.successt[_ngcontent-%COMP%]{color:#507500}.caution[_ngcontent-%COMP%]{color:#f7c343}.wgrey[_ngcontent-%COMP%]{color:#f8f8fa}.snowgrey[_ngcontent-%COMP%]{color:#ebeaef}.lgrey[_ngcontent-%COMP%]{color:#ccc}.calixgrey[_ngcontent-%COMP%]{color:#9e9e9e}.blastgrey[_ngcontent-%COMP%]{color:gray}.greyaa[_ngcontent-%COMP%]{color:#1a1f22}.darkgrey[_ngcontent-%COMP%]{color:#333}.calixblack[_ngcontent-%COMP%]{color:#1a1f22}.calixblack[_ngcontent-%COMP%]{color:#000}.calixred[_ngcontent-%COMP%]{color:#fb2d55}.calixgreen[_ngcontent-%COMP%]{color:#349885}.calixaqblue[_ngcontent-%COMP%]{color:#26c0eb}.title[_ngcontent-%COMP%]{font-size:42px;font-weight:300;line-height:53px}.title-second[_ngcontent-%COMP%]{font-size:24px!important;font-style:normal;font-weight:400!important;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.heading-sm[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:22px}.listlabels[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:22px}.listdataem[_ngcontent-%COMP%]{font-size:13px;font-weight:600;line-height:21px}.listdata[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:24px}.formlabels[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:16px}.captions[_ngcontent-%COMP%]{font-size:11px;font-weight:600;line-height:13.2px}.chartno[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.btn-large[_ngcontent-%COMP%]{border-radius:26px;padding:12px;min-width:130px;text-align:center;font-size:20px;font-weight:400;color:#fff;box-shadow:5px 5px 10px #00000026;border:0}.btn-large.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-large.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-large.primary[_ngcontent-%COMP%]:focus{background:#0054b2;outline:none;box-shadow:none;border:0}.btn-large.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-large.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-large.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-default[_ngcontent-%COMP%]{border-radius:16px;padding:5px;min-width:86px;text-align:center;font-size:16px;font-weight:400;color:#fff;box-shadow:3px 3px 6px #00000026;border:0}.btn-default.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-default.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-default.primary[_ngcontent-%COMP%]:focus{background:#0054b2}.btn-default.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-default.btn-dft[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c;border:1px solid #CCCCCC}.btn-default.btn-dft[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-default.btn-dft[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-default.btn-dft.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-small[_ngcontent-%COMP%]{border-radius:12px;padding:3px;min-width:70px;text-align:center;font-size:12px;font-weight:400;color:#fff;box-shadow:2px 2px 4px #00000026;border:0}.btn-small.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-small.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-small.primary[_ngcontent-%COMP%]:focus{background:#EBEAEF}.btn-small.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-small.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-small.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-round[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;display:flex;justify-content:center;align-items:center;border:0;background-position:center;background-repeat:no-repeat;padding:0}.btn-round.info-round[_ngcontent-%COMP%]{width:32px;height:32px}.btn-round.primary[_ngcontent-%COMP%]{background-color:#0279ff}.btn-round.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-round.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-round[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none;border:0}.btn-round.btn-small-24[_ngcontent-%COMP%]{width:24px;height:24px}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow[_ngcontent-%COMP%]{height:32px;line-height:32px;min-width:110px;text-align:center;border:0;padding:0;box-shadow:2px 2px 4px #00000026;font-size:16px;font-weight:400;color:#1a1f22;justify-content:center;align-items:center;position:relative;border-radius:26px}.btn-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;top:-2px}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]{box-shadow:none}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.btn-arrow.btn-arr-nxt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:10px}.btn-arrow.primary[_ngcontent-%COMP%]{background-color:#0279ff;color:#fff}.btn-arrow.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-arrow.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-arrow.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-arrow.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}[type=radio][_ngcontent-%COMP%]:checked, [type=radio][_ngcontent-%COMP%]:not(:checked){width:16px;height:16px;min-height:16px;position:relative!important;cursor:pointer;appearance:none;-webkit-appearance:none;-moz-appearance:none}[type=radio][_ngcontent-%COMP%]:checked:before, [type=radio][_ngcontent-%COMP%]:checked:after, [type=radio][_ngcontent-%COMP%]:not(:checked):before{content:"";position:absolute;border-radius:100%}[type=radio][_ngcontent-%COMP%]:checked:before{background:#0279FF;width:16px;height:16px;top:0px}[type=radio][_ngcontent-%COMP%]:checked:after{width:12px;height:12px;background:#0279FF;top:2px;left:2px;border:1px solid #ffffff;z-index:9}[type=radio][_ngcontent-%COMP%]:not(:checked):before{background:#ffffff;border:1px solid #CCCCCC;width:16px;height:16px}[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], [type=radio][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{position:relative;padding-left:10px;cursor:pointer;display:inline-block;color:#666}[type=radio][_ngcontent-%COMP%]:checked:disabled:before{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:checked:disabled:after{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:disabled, [type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{cursor:not-allowed}[type=radio][_ngcontent-%COMP%]:not(:checked):hover:before{background:#ffffff;border:1px solid #0279FF}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:hover:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:focus{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:active{border-color:transparent!important}.heading-4[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;border-bottom:1px solid #CCCCCC;padding-bottom:5px;margin-bottom:16px}.summary-info-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;margin-bottom:0}.summary-info-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #EBEAEF!important}.summary-info-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:15px;font-style:normal;font-weight:400!important;line-height:24px;letter-spacing:0em;text-align:left;color:#4c4c4c;border:none!important;padding:0 10px 0 0}.summary-info-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #EBEAEF!important}.summary-info-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:15px;font-style:normal;font-weight:400!important;line-height:24px;letter-spacing:0em;text-align:left;color:gray;width:50%;border:none!important;padding:0 10px;word-break:break-word!important}.monitored[_ngcontent-%COMP%]{max-height:300px;overflow:auto}.monitored[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:50%}.alarm-title[_ngcontent-%COMP%]{font-family:Source Sans Pro;font-size:42px;font-style:normal;font-weight:300;line-height:53px;letter-spacing:0em;text-align:left;overflow:hidden;text-overflow:ellipsis}.subgroups-but[_ngcontent-%COMP%]{background-color:#fff;border:none}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:26px;max-width:950px!important}.modal-title[_ngcontent-%COMP%]{font-weight:300;font-size:42px;line-height:53px;word-wrap:break-word;color:#1a1f22}.alarm-name-list[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;height:26px}.alarm-name-list-box[_ngcontent-%COMP%]{max-height:550px;overflow-y:scroll}.hover-row[_ngcontent-%COMP%]{color:#0279ff!important}.hover-row[_ngcontent-%COMP%]:hover{text-decoration:underline}.width-60[_ngcontent-%COMP%]{width:60%!important}.min-height-div[_ngcontent-%COMP%]{min-height:15px}.marg-b-38px[_ngcontent-%COMP%]{margin-bottom:38px}']}),t}()},1570:function(n,t,e){e.d(t,{f:function(){return w}});var a=e(92340),r=e(37716),l=e(7450),c=e(38583);function s(n,t){1&n&&(r.TgZ(0,"span"),r._uU(1,"-"),r.qZA())}function d(n,t){1&n&&r._UZ(0,"br")}function u(n,t){if(1&n&&(r.TgZ(0,"span"),r._uU(1),r.YNc(2,d,1,0,"br",1),r.qZA()),2&n){var o=t.$implicit,e=t.last;r.xp6(1),r.hij(" ",o,""),r.xp6(1),r.Q6J("ngIf",!e)}}function g(n,t){1&n&&(r.TgZ(0,"span"),r._uU(1,"-"),r.qZA())}function m(n,t){1&n&&r._UZ(0,"br")}function f(n,t){if(1&n&&(r.TgZ(0,"span"),r._uU(1),r.YNc(2,m,1,0,"br",1),r.qZA()),2&n){var o=t.$implicit,e=t.last;r.xp6(1),r.hij(" ",o,""),r.xp6(1),r.Q6J("ngIf",!e)}}function h(n,t){if(1&n&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r.YNc(4,g,2,0,"span",1),r.YNc(5,f,3,2,"span",2),r.qZA(),r.qZA()),2&n){var o=r.oxw();r.xp6(2),r.hij("SMS (",null!=o.workflowObj&&null!=o.workflowObj.sms&&o.workflowObj.sms.length?null==o.workflowObj||null==o.workflowObj.sms?null:o.workflowObj.sms.length:0,")"),r.xp6(2),r.Q6J("ngIf",!(null!=o.workflowObj&&null!=o.workflowObj.sms&&o.workflowObj.sms.length)),r.xp6(1),r.Q6J("ngForOf",null==o.workflowObj?null:o.workflowObj.sms)}}function p(n,t){1&n&&(r.TgZ(0,"span"),r._uU(1,"-"),r.qZA())}function b(n,t){1&n&&r._UZ(0,"br")}function v(n,t){if(1&n&&(r.TgZ(0,"span",3),r._uU(1),r.YNc(2,b,1,0,"br",1),r.qZA()),2&n){var o=t.$implicit,e=t.last;r.xp6(1),r.hij(" ",o,""),r.xp6(1),r.Q6J("ngIf",!e)}}var _,w=((_=function(){function n(t){o(this,n),this.translateService=t}return i(n,[{key:"workflowObj",get:function(){return this._workflowObj},set:function(n){console.log(n),this._workflowObj=n}},{key:"ngOnInit",value:function(){var n,t=this;-1!==(null===(n=a.N.API_BASE_URL)||void 0===n?void 0:n.indexOf("dev.api.calix.ai"))&&(this.showSms=!0),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(n){t.language=n})}}]),n}()).\u0275fac=function(n){return new(n||_)(r.Y36(l.s))},_.\u0275cmp=r.Xpm({type:_,selectors:[["app-summary-recepients"]],inputs:{workflowObj:"workflowObj"},decls:21,vars:10,consts:[[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-break"],["class","text-break",4,"ngFor","ngForOf"]],template:function(n,t){1&n&&(r.TgZ(0,"table",0),r.TgZ(1,"tbody"),r.TgZ(2,"tr"),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r.YNc(6,s,2,0,"span",1),r.YNc(7,u,3,2,"span",2),r.qZA(),r.qZA(),r.TgZ(8,"tr"),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td",3),r._uU(12),r.qZA(),r.qZA(),r.YNc(13,h,6,3,"tr",1),r.TgZ(14,"tr"),r.TgZ(15,"td"),r.TgZ(16,"span"),r._uU(17),r.qZA(),r.qZA(),r.TgZ(18,"td"),r.YNc(19,p,2,0,"span",1),r.YNc(20,v,3,2,"span",4),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n&&(r.xp6(4),r.AsE("",t.language.Email," (",null!=t.workflowObj&&null!=t.workflowObj.emailRecipients&&t.workflowObj.emailRecipients.length?null==t.workflowObj||null==t.workflowObj.emailRecipients?null:t.workflowObj.emailRecipients.length:0,")"),r.xp6(2),r.Q6J("ngIf",!(null!=t.workflowObj&&null!=t.workflowObj.emailRecipients&&t.workflowObj.emailRecipients.length)),r.xp6(1),r.Q6J("ngForOf",null==t.workflowObj?null:t.workflowObj.emailRecipients),r.xp6(3),r.Oqu(t.language.Notes),r.xp6(2),r.hij(" ",null!=t.workflowObj&&t.workflowObj.emailNotes?null==t.workflowObj?null:t.workflowObj.emailNotes:"-"," "),r.xp6(1),r.Q6J("ngIf",t.showSms),r.xp6(4),r.hij("Webhook (",null!=t.workflowObj&&null!=t.workflowObj.webhooks&&t.workflowObj.webhooks.length?null==t.workflowObj||null==t.workflowObj.webhooks?null:t.workflowObj.webhooks.length:0,")"),r.xp6(2),r.Q6J("ngIf",!(null!=t.workflowObj&&null!=t.workflowObj.webhooks&&t.workflowObj.webhooks.length)),r.xp6(1),r.Q6J("ngForOf",null==t.workflowObj?null:t.workflowObj.webhooks))},directives:[c.O5,c.sg],styles:[""]}),_)}}])}();