!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,o){if(!e)return;if("string"==typeof e)return t(e,o);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,o)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(i=n.key,r=void 0,"symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?r:String(r)),n)}var i,r}function i(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[8203],{29884:function(e,t,n){n.d(t,{l:function(){return u}});var r,l=n(92340),a=n(37716),s=n(91841),u=((r=function(){function e(t){o(this,e),this.http=t}return i(e,[{key:"getLatLonglocations",value:function(e,t){var o;return o="address"==t?"https://dev.virtualearth.net/REST/v1/Locations/".concat(e.latitude,",").concat(e.longitude,"?key=").concat(l.N.BING_API_KEY):"https://dev.virtualearth.net/REST/v1/Locations?query=".concat(e.address?encodeURIComponent(e.address):e,"&key=").concat(l.N.BING_API_KEY),this.http.get(o)}}]),e}()).\u0275fac=function(e){return new(e||r)(a.LFG(s.eN))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},55533:function(e,t,n){n.d(t,{z:function(){return a}});var r,l=n(37716),a=((r=function(){function e(){o(this,e)}return i(e,[{key:"enforceMinMax",value:function(e){var t=null==e?void 0:e.target.min,o=null==e?void 0:e.target.max,n=null==e?void 0:e.target.value;return""!=n?(parseFloat(n)<parseFloat(t)&&(e.target.value=t),parseFloat(n)>parseFloat(o)&&(e.target.value=o),e.target.value):-1}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},29513:function(t,n,r){r.d(n,{Dc:function(){return $}});var l=r(91841),a=r(92340),s=r(19549),u=r(3679),d=r(37716),c=r(38048),g=r(39895),m=r(49342),f=r(7450),v=r(29884),p=r(55533),h=r(39075),Z=r(21693),b=r(38583),A=r(74062),x=r(86640);function C(e,t){if(1&e&&(d.TgZ(0,"div",11),d.TgZ(1,"div",12),d.TgZ(2,"div",13),d.TgZ(3,"span",14),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var o=d.oxw();d.xp6(4),d.Oqu(o.language.Loading)}}function w(e,t){if(1&e&&(d.TgZ(0,"div",15),d._uU(1),d.qZA()),2&e){var o=d.oxw();d.xp6(1),d.hij(" ",o.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function T(e,t){if(1&e){var o=d.EpF();d.TgZ(0,"div",16),d.TgZ(1,"span",17),d._UZ(2,"img",18),d.qZA(),d.TgZ(3,"button",19),d.NdJ("click",function(){return d.CHM(o),d.oxw().closeAlert()}),d._UZ(4,"span"),d.qZA(),d._uU(5),d.qZA()}if(2&e){var n=d.oxw();d.xp6(5),d.hij(" ",n.errorInfo," ")}}function q(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){var o=d.oxw(3);d.xp6(1),d.hij(" ",o.language["please enter the Device Name Format"]," ")}}function y(e,t){if(1&e&&(d.TgZ(0,"div",53),d.YNc(1,q,2,1,"div",45),d.qZA()),2&e){var o=d.oxw(2);d.xp6(1),d.Q6J("ngIf",null==o.formControls||null==o.formControls.deviceNameFormat||null==o.formControls.deviceNameFormat.errors?null:o.formControls.deviceNameFormat.errors.isrequired)}}function _(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){var o=d.oxw(3);d.xp6(1),d.hij(" ",o.language["Please enter the valid Mac /IP Address with Subnet"]," ")}}function O(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){var o=d.oxw(3);d.xp6(1),d.hij(" ",o.language["Please enter the valid Mac /IP Address with Subnet"]," ")}}function I(e,t){if(1&e&&(d.TgZ(0,"div",54),d.YNc(1,_,2,1,"div",45),d.YNc(2,O,2,1,"div",45),d.qZA()),2&e){var o=d.oxw(2);d.xp6(1),d.Q6J("ngIf",null==o.formControls||null==o.formControls.id||null==o.formControls.id.errors?null:o.formControls.id.errors.isrequired),d.xp6(1),d.Q6J("ngIf",null==o.formControls||null==o.formControls.id||null==o.formControls.id.errors?null:o.formControls.id.errors.invalidId)}}function S(e,t){if(1&e&&(d.ynx(0),d.TgZ(1,"div",55),d._uU(2),d.qZA(),d.BQk()),2&e){var o=t.item;d.xp6(1),d.s9C("title",o.name),d.xp6(1),d.Oqu(o.name)}}function U(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){var o=d.oxw(3);d.xp6(1),d.hij(" ",o.language["Please enter the Region"]," ")}}function k(e,t){if(1&e&&(d.TgZ(0,"div",56),d.YNc(1,U,2,1,"div",45),d.qZA()),2&e){var o=d.oxw(2);d.xp6(1),d.Q6J("ngIf",null==o.formControls||null==o.formControls.region||null==o.formControls.region.errors?null:o.formControls.region.errors.isrequired)}}function N(e,t){if(1&e&&(d.ynx(0),d.TgZ(1,"div",55),d._uU(2),d.qZA(),d.BQk()),2&e){var o=t.item;d.xp6(1),d.s9C("title",o.name),d.xp6(1),d.Oqu(o.name)}}function L(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){var o=d.oxw(3);d.xp6(1),d.hij(" ",o.language["Please enter the Location"]," ")}}function M(e,t){if(1&e&&(d.TgZ(0,"div",56),d.YNc(1,L,2,1,"div",45),d.qZA()),2&e){var o=d.oxw(2);d.xp6(1),d.Q6J("ngIf",null==o.formControls||null==o.formControls.networkGroupUuid||null==o.formControls.networkGroupUuid.errors?null:o.formControls.networkGroupUuid.errors.isrequired)}}function F(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){var o=d.oxw(4);d.xp6(1),d.hij(" ",o.language["Please enter the Latitude"]," ")}}function P(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){var o=d.oxw(4);d.xp6(1),d.hij(" ",o.language["Please enter the valid Latitude"]," ")}}function E(e,t){if(1&e&&(d.TgZ(0,"div",56),d.YNc(1,F,2,1,"div",45),d.YNc(2,P,2,1,"div",45),d.qZA()),2&e){var o=d.oxw(3);d.xp6(1),d.Q6J("ngIf",null==o.formControls||null==o.formControls.latitude||null==o.formControls.latitude.errors?null:o.formControls.latitude.errors.isrequired),d.xp6(1),d.Q6J("ngIf",null==o.formControls||null==o.formControls.latitude||null==o.formControls.latitude.errors?null:o.formControls.latitude.errors.invalidValue)}}function J(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){var o=d.oxw(4);d.xp6(1),d.hij(" ",o.language["Please enter the Longitude"]," ")}}function H(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){var o=d.oxw(4);d.xp6(1),d.hij(" ",o.language["Please enter the valid Longitude"]," ")}}function Y(e,t){if(1&e&&(d.TgZ(0,"div",56),d.YNc(1,J,2,1,"div",45),d.YNc(2,H,2,1,"div",45),d.qZA()),2&e){var o=d.oxw(3);d.xp6(1),d.Q6J("ngIf",null==o.formControls||null==o.formControls.longitude||null==o.formControls.longitude.errors?null:o.formControls.longitude.errors.isrequired),d.xp6(1),d.Q6J("ngIf",null==o.formControls||null==o.formControls.longitude||null==o.formControls.longitude.errors?null:o.formControls.longitude.errors.invalidValue)}}function j(e,t){if(1&e){var o=d.EpF();d.TgZ(0,"div",22),d.TgZ(1,"div",57),d.TgZ(2,"div",58),d.TgZ(3,"label"),d._uU(4),d.TgZ(5,"span",42),d._uU(6,"*"),d.qZA(),d.qZA(),d.TgZ(7,"input",59),d.NdJ("keyup",function(e){return d.CHM(o),d.oxw(2).enforceMinMax(e,"latitude")}),d.qZA(),d.YNc(8,E,3,2,"div",32),d.qZA(),d.TgZ(9,"div",60),d.TgZ(10,"label"),d._uU(11),d.TgZ(12,"span",42),d._uU(13,"*"),d.qZA(),d.qZA(),d.TgZ(14,"input",61),d.NdJ("keyup",function(e){return d.CHM(o),d.oxw(2).enforceMinMax(e,"longitude")}),d.qZA(),d.YNc(15,Y,3,2,"div",32),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(2);d.xp6(4),d.hij(" ",n.language.Latitude," "),d.xp6(3),d.s9C("placeholder",n.language.Latitude),d.Q6J("formValue",n.callHomeForm),d.xp6(1),d.Q6J("ngIf",(null==n.formControls||null==n.formControls.latitude?null:n.formControls.latitude.invalid)&&((null==n.formControls||null==n.formControls.latitude?null:n.formControls.latitude.dirty)||(null==n.formControls||null==n.formControls.latitude?null:n.formControls.latitude.touched)||n.submitted)),d.xp6(3),d.hij(" ",n.language.Longitude," "),d.xp6(3),d.s9C("placeholder",n.language.Longitude),d.Q6J("formValue",n.callHomeForm),d.xp6(1),d.Q6J("ngIf",(null==n.formControls||null==n.formControls.longitude?null:n.formControls.longitude.invalid)&&((null==n.formControls||null==n.formControls.longitude?null:n.formControls.longitude.dirty)||(null==n.formControls||null==n.formControls.longitude?null:n.formControls.longitude.touched)||n.submitted))}}function Q(e,t){if(1&e&&(d.TgZ(0,"div",56),d.TgZ(1,"p"),d._uU(2),d.qZA(),d.qZA()),2&e){var o=d.oxw(3);d.xp6(2),d.hij(" ",o.language[o.serviceAddressErrorMsg]," ")}}function V(e,t){if(1&e&&(d.TgZ(0,"div",22),d.TgZ(1,"label",39),d._uU(2),d.qZA(),d._UZ(3,"input",62),d.YNc(4,Q,3,1,"div",32),d.qZA()),2&e){var o=d.oxw(2);d.xp6(2),d.Oqu(o.language["Service Address"]),d.xp6(1),d.s9C("placeholder",o.language["Service Address"]),d.Q6J("formValue",o.callHomeForm),d.xp6(1),d.Q6J("ngIf",o.serviceAddressErrorMsg)}}function R(e,t){if(1&e&&(d.TgZ(0,"div",56),d.TgZ(1,"div"),d._uU(2),d.qZA(),d.qZA()),2&e){var o=d.oxw(2);d.xp6(2),d.hij(" ",o.language["Please enter the Username"]," ")}}function D(e,t){if(1&e){var o=d.EpF();d.ynx(0),d.TgZ(1,"span",63),d.NdJ("click",function(){return d.CHM(o),d.oxw(2).showPass()}),d.qZA(),d.BQk()}if(2&e){var n=d.oxw(2);d.xp6(1),d.Q6J("ngClass",n.hidepwd?"password_hide":"password_view")}}function G(e,t){if(1&e&&(d.TgZ(0,"div",56),d.TgZ(1,"div"),d._uU(2),d.qZA(),d.qZA()),2&e){var o=d.oxw(2);d.xp6(2),d.hij(" ",o.language["Please enter the Password"]," ")}}function B(e,t){if(1&e&&(d.TgZ(0,"div",56),d.TgZ(1,"div"),d._uU(2),d.qZA(),d.qZA()),2&e){var o=d.oxw(2);d.xp6(2),d.hij(" ",o.language.connect_timeout_error," ")}}function z(e,t){if(1&e){var o=d.EpF();d.TgZ(0,"div",20),d.TgZ(1,"form",21),d.TgZ(2,"div",22),d.TgZ(3,"label",23),d._uU(4),d.TgZ(5,"span",24),d._uU(6,"*"),d.qZA(),d.qZA(),d._UZ(7,"input",25),d.YNc(8,y,2,1,"div",26),d.qZA(),d.TgZ(9,"div",22),d.TgZ(10,"label",23),d._uU(11),d.TgZ(12,"span",24),d._uU(13,"*"),d.qZA(),d.qZA(),d._UZ(14,"input",27),d.YNc(15,I,3,2,"div",28),d.qZA(),d.TgZ(16,"div",22),d.TgZ(17,"label",29),d._uU(18),d.TgZ(19,"span",24),d._uU(20,"*"),d.qZA(),d.qZA(),d.TgZ(21,"ng-select",30),d.NdJ("change",function(e){return d.CHM(o),d.oxw().loadLocationValue(e)}),d.YNc(22,S,3,2,"ng-template",31),d.qZA(),d.YNc(23,k,2,1,"div",32),d.qZA(),d.TgZ(24,"div",22),d.TgZ(25,"label",29),d._uU(26),d.TgZ(27,"span",24),d._uU(28,"*"),d.qZA(),d.qZA(),d.TgZ(29,"ng-select",33),d.YNc(30,N,3,2,"ng-template",31),d.qZA(),d.YNc(31,M,2,1,"div",32),d.qZA(),d.TgZ(32,"div",22),d.TgZ(33,"div",34),d.TgZ(34,"label",35),d.TgZ(35,"input",36),d.NdJ("change",function(){return d.CHM(o),d.oxw().showServiceAddress(!0)}),d.qZA(),d._uU(36),d.qZA(),d.qZA(),d.TgZ(37,"div",34),d.TgZ(38,"label",35),d.TgZ(39,"input",37),d.NdJ("change",function(){return d.CHM(o),d.oxw().showServiceAddress(!1)}),d.qZA(),d._uU(40),d.qZA(),d.qZA(),d.qZA(),d.YNc(41,j,16,8,"div",38),d.YNc(42,V,5,4,"div",38),d.TgZ(43,"div",22),d.TgZ(44,"label",39),d._uU(45),d.qZA(),d._UZ(46,"input",40),d.qZA(),d.TgZ(47,"div",22),d.TgZ(48,"label",41),d._uU(49),d.TgZ(50,"span",42),d._uU(51,"*"),d.qZA(),d.qZA(),d._UZ(52,"input",43),d.YNc(53,R,3,1,"div",32),d.qZA(),d.TgZ(54,"div",22),d.TgZ(55,"label",41),d._uU(56),d.TgZ(57,"span",42),d._uU(58,"*"),d.qZA(),d.qZA(),d.TgZ(59,"div",0),d._UZ(60,"input",44),d.YNc(61,D,2,1,"ng-container",45),d.qZA(),d.YNc(62,G,3,1,"div",32),d.qZA(),d.TgZ(63,"div",22),d.TgZ(64,"div",4),d.TgZ(65,"div",46),d.TgZ(66,"label",41),d._uU(67),d.qZA(),d.qZA(),d.TgZ(68,"div",47),d._UZ(69,"input",48),d.qZA(),d.TgZ(70,"div",49),d.TgZ(71,"label",50),d._uU(72),d.qZA(),d.qZA(),d.qZA(),d.YNc(73,B,3,1,"div",32),d.qZA(),d.TgZ(74,"button",51),d.NdJ("click",function(){return d.CHM(o),d.oxw().onSubmit()}),d._uU(75),d.qZA(),d.TgZ(76,"button",52),d.NdJ("click",function(){return d.CHM(o),d.oxw().goToList()}),d._uU(77),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw();d.xp6(1),d.Q6J("formGroup",n.callHomeForm),d.xp6(3),d.hij("",n.language["Device Name Format"]," "),d.xp6(3),d.Q6J("formValue",n.callHomeForm),d.xp6(1),d.Q6J("ngIf",(null==n.formControls||null==n.formControls.deviceNameFormat?null:n.formControls.deviceNameFormat.invalid)&&((null==n.formControls||null==n.formControls.deviceNameFormat?null:n.formControls.deviceNameFormat.dirty)||(null==n.formControls||null==n.formControls.deviceNameFormat?null:n.formControls.deviceNameFormat.touched)||n.submitted)),d.xp6(3),d.hij("MAC/",n.language["IP Address with Subnet"]," "),d.xp6(3),d.s9C("placeholder",n.language["Mac/IP Address with Subnet"]),d.Q6J("readonly",n.isEditPage)("formValue",n.callHomeForm),d.xp6(1),d.Q6J("ngIf",(null==n.formControls||null==n.formControls.id?null:n.formControls.id.invalid)&&((null==n.formControls||null==n.formControls.id?null:n.formControls.id.dirty)||(null==n.formControls||null==n.formControls.id?null:n.formControls.id.touched)||n.submitted)),d.xp6(3),d.hij("",n.language.Region," "),d.xp6(3),d.s9C("placeholder",n.isEditPage?n.data.region:n.language.Select),d.Q6J("bindLabel","name")("bindValue","id")("items",n.regionsDataArray)("clearable",!1)("searchable",!0),d.xp6(2),d.Q6J("ngIf",(null==n.formControls||null==n.formControls.region?null:n.formControls.region.invalid)&&((null==n.formControls||null==n.formControls.region?null:n.formControls.region.dirty)||(null==n.formControls||null==n.formControls.region?null:n.formControls.region.touched)||n.submitted)),d.xp6(3),d.hij("",n.language.Location," "),d.xp6(3),d.s9C("placeholder",n.isEditPage?n.data.location:n.language.Select),d.Q6J("bindLabel","name")("bindValue","id")("items",n.locationDataArray)("clearable",!1)("searchable",!0),d.xp6(2),d.Q6J("ngIf",(null==n.formControls||null==n.formControls.networkGroupUuid?null:n.formControls.networkGroupUuid.invalid)&&((null==n.formControls||null==n.formControls.networkGroupUuid?null:n.formControls.networkGroupUuid.dirty)||(null==n.formControls||null==n.formControls.networkGroupUuid?null:n.formControls.networkGroupUuid.touched)||n.submitted)),d.xp6(4),d.Q6J("checked",n.showServiceAddressInp)("formValue",n.callHomeForm),d.xp6(1),d.hij(" ",n.language["Service Address"]," "),d.xp6(3),d.Q6J("checked",!n.showServiceAddressInp),d.xp6(1),d.hij("",n.language["Latitude/Longitude"]," "),d.xp6(1),d.Q6J("ngIf",!n.showServiceAddressInp),d.xp6(1),d.Q6J("ngIf",n.showServiceAddressInp),d.xp6(3),d.Oqu(n.language["Distributed OLT Name"]),d.xp6(1),d.s9C("placeholder",n.language.Name),d.Q6J("readonly",n.isEditPage)("formValue",n.callHomeForm),d.xp6(3),d.hij("",n.language.Username," "),d.xp6(3),d.s9C("placeholder",n.language.Username),d.Q6J("formValue",n.callHomeForm),d.xp6(1),d.Q6J("ngIf",(null==n.formControls||null==n.formControls.username?null:n.formControls.username.invalid)&&((null==n.formControls||null==n.formControls.username?null:n.formControls.username.dirty)||(null==n.formControls||null==n.formControls.username?null:n.formControls.username.touched)||n.submitted)),d.xp6(3),d.hij("",n.language.Password," "),d.xp6(4),d.s9C("placeholder",n.language.Password),d.Q6J("type",n.hidepwd?"password":"text"),d.xp6(1),d.Q6J("ngIf",null==n.formControls||null==n.formControls.password?null:n.formControls.password.value),d.xp6(1),d.Q6J("ngIf",(null==n.formControls||null==n.formControls.password?null:n.formControls.password.invalid)&&((null==n.formControls||null==n.formControls.password?null:n.formControls.password.dirty)||(null==n.formControls||null==n.formControls.password?null:n.formControls.password.touched)||n.submitted)),d.xp6(5),d.hij("",n.language["Connect Timeout"]," "),d.xp6(2),d.s9C("placeholder",n.language["Connect Timeout"]),d.xp6(3),d.Oqu(n.language.Seconds),d.xp6(1),d.Q6J("ngIf",((null==n.formControls||null==n.formControls.connectTimeoutSec?null:n.formControls.connectTimeoutSec.invalid)||(null==n.formControls||null==n.formControls.connectTimeoutSec||null==n.formControls.connectTimeoutSec.errors?null:n.formControls.connectTimeoutSec.errors.pattern))&&n.submitted),d.xp6(2),d.hij(" ",n.language.submit," "),d.xp6(2),d.hij(" ",n.language.Cancel," ")}}var W,$=((W=function(){function t(e,n,i,r,l,a,s,d,c,g,m){o(this,t),this.http=e,this.sso=n,this.router=i,this.route=r,this.commonOrgService=l,this.translateServie=a,this.geoService=s,this.workflowService=d,this.fb=c,this.titleService=g,this.issueService=m,this.data={},this.isDev=!1,this.errorInfo="",this.successInfo="",this.idErrorMsg="",this.isEditPage=!1,this.id="",this.region="",this.location="",this.serviceAddressErrorMsg="",this.regionsDataArray=[],this.regions={},this.hidepwd=!0,this.submitted=!1,this.loading=!1,this.callHomeForm=this.fb.group({deviceNameFormat:["",[u.kI.required,X]],id:["",[u.kI.required,K.bind(this)]],region:[null,[u.kI.required,ee]],networkGroupUuid:[null,[u.kI.required,te]],ufLocation:[""],latitude:["",[oe.bind(this)]],longitude:["",[oe.bind(this)]],distributedOltName:[""],username:["",[u.kI.required]],password:["",[u.kI.required]],connectTimeoutSec:[5,[u.kI.min(5),u.kI.max(90),u.kI.pattern("^[0-9]*$"),ne]]}),this.validId=!0,this.validDeviceNameFormat=!0,this.deviceNameFormatErrorMsg="",this.showServiceAddressInp=!0}return i(t,[{key:"ngOnInit",value:function(){var e,t=this,o=this.sso.getScopes();-1!==(null===(e=null==o?void 0:o["cloud.rbac.coc.operations.systemonboarding.axoscallhome"])||void 0===e?void 0:e.indexOf("write"))&&(this.hasWriteAccess=!0),-1!==a.N.API_BASE_URL.indexOf("dev.api.calix.ai")&&(this.isDev=!0),this.geoService.getLatLonglocations("chennai"),this.ORG_ID=this.sso.getOrganizationID(this.router.url),this.language=this.translateServie.defualtLanguage,this.languageSubject=this.translateServie.selectedLanguage.subscribe(function(e){t.language=e,t.titleService.setTitle("Call Home - AXOS Systems - ".concat(t.language["System Onboarding"]," - ").concat(t.language.Operations,"  - ").concat(t.language.Operations," - ").concat(t.language["Calix Cloud"]))}),this.titleService.setTitle("Call Home - AXOS Systems - ".concat(this.language["System Onboarding"]," - ").concat(this.language.Operations,"  - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"]));var n=this.route.snapshot.paramMap.get("id");n&&(this.id=n,this.isEditPage=!0),this.getRegions(),this.data={deviceNameFormat:"",id:"",configUrl:"",format:"NETCONF_XML",operation:"MERGE",distributedOltName:"",username:"",password:"",sshKey:"",urlPassword:"",connectTimeoutSec:60,heartbeatIntervalSec:15,orgId:this.sso.getOrgId(),tenantId:"",deviceOrgId:"",deviceTenantId:"",ufLocation:"",latitude:"",longitude:""}}},{key:"goToList",value:function(){-1!==window.location.href.indexOf("/system-onboarding/")?this.router.navigate(["/cco/operations/system-onboarding/axos-callhome/callhome/list"]):-1!==window.location.href.indexOf("/systemAdministration/")?this.router.navigate(["/systemAdministration/cco-admin/call-home"]):this.router.navigate(["/organization-admin/call-home"])}},{key:"showPass",value:function(){this.hidepwd=!this.hidepwd}},{key:"onSubmit",value:function(){var e,t=this;this.submitted=!0;var o=this.callHomeForm.value;if(this.clearErrors(),this.callHomeForm.valid){var n,i,r={id:o.id,networkGroupUuid:"".concat(o.networkGroupUuid.trim()),distributedOltName:o.distributedOltName,username:o.username,password:o.password,deviceNameFormat:o.deviceNameFormat,connectTimeoutSec:o.connectTimeoutSec?o.connectTimeoutSec:5,deviceLocation:{geoTypeUserSelection:this.showServiceAddressInp?"SERVICE_ADDRESS":"GEO_COORDINATES",ufLocation:o.ufLocation,point:{elevation:0,latitude:0,longitude:0}}};if((null===(e=o.ufLocation)||void 0===e?void 0:e.trim())&&this.showServiceAddressInp)n={address:o.ufLocation},i="coordinates";else{if(this.showServiceAddressInp||!o.latitude||!o.longitude)return r.deviceLocation=null,void this.save(r);n={latitude:o.latitude,longitude:o.longitude},i="address"}var l=!0;this.geoService.getLatLonglocations(n,i).subscribe(function(e){var n,i,a=[];if(e&&e.resourceSets&&e.resourceSets.length>0&&(null===(n=e.resourceSets[0].resources)||void 0===n?void 0:n.length)>0){if((a=e.resourceSets[0].resources)&&a.length)if((null===(i=o.ufLocation)||void 0===i?void 0:i.trim())&&t.showServiceAddressInp){if(a[0]&&a[0].geocodePoints&&a[0].geocodePoints.length>0){var s=[];(s=a[0].geocodePoints.find(function(e){return-1!=e.usageTypes.findIndex(function(e){return"display"===(null==e?void 0:e.toLowerCase())})}))&&Object.entries(s).length>0&&(s=a[0].geocodePoints[0]),console.log(a[0].geocodePoints[0].coordinates),r.deviceLocation.point.latitude=s.coordinates[0],r.deviceLocation.point.longitude=s.coordinates[1]}}else!t.showServiceAddressInp&&o.latitude&&o.longitude&&(r.deviceLocation.point.latitude=o.latitude,r.deviceLocation.point.longitude=o.longitude,r.deviceLocation.ufLocation=a&&a[0]&&a[0].name?a[0].name:"")}else if(a=[],!t.showServiceAddressInp)return l=!1,t.error=!0,void(t.errorInfo=t.language["The co-ordinates(Latitude/Longitude) are invalid. Please enter valid co-ordinates."])},function(e){},function(){l&&t.save(r)})}}},{key:"save",value:function(e){var t=this;if(this.loading=!0,this.isEditPage){delete this.data.ufLocation,delete this.data.latitude,delete this.data.longitude;var o=new l.WM;this.callHomeForm.get("region").value&&(this.data.region=this.callHomeForm.get("region").value),this.callHomeForm.get("networkGroupUuid").value&&(this.data.location=this.callHomeForm.get("networkGroupUuid").value),console.log(e),e=Object.assign(Object.assign({},this.data),e),console.log(e),this.http.put("".concat(a.N.API_BASE_URL,"cnap/invmgr/callhome/actions/").concat(this.id),e,{headers:o,responseType:"text"}).subscribe(function(e){console.log(e),t.loading=!1,t.goToList()},function(e){t.pageErrorHandle(e)})}else this.http.get("".concat(a.N.API_BASE_URL,"cnap/invmgr/callhome/actions/").concat(encodeURIComponent(e.id))).subscribe(function(o){t.validId=!1,t.errorInfo="".concat(e.id," already exists"),t.error=!0,t.loading=!1},function(o){t.http.post("".concat(a.N.API_BASE_URL,"cnap/invmgr/callhome/actions"),e).subscribe(function(e){console.log(e),t.goToList()},function(e){t.pageErrorHandle(e)})})}},{key:"pageErrorHandle",value:function(e){this.loading=!1,this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.closeAlert(),this.error=!0}},{key:"closeAlert",value:function(){this.error=!1,this.success=!1}},{key:"showSuccess",value:function(e){this.closeAlert(),this.successInfo=e,this.success=!0}},{key:"showError",value:function(e){this.closeAlert(),this.errorInfo=e,this.error=!0}},{key:"getRecordbyId",value:function(e){var t=this;this.loading=!0,this.http.get("".concat(a.N.API_BASE_URL,"cnap/invmgr/callhome/actions/").concat(encodeURIComponent(e))).subscribe(function(o){var n,i,r,l,a,s,u,d;if(console.log(o),t.data=o,t.callHomeForm.patchValue({deviceNameFormat:null==o?void 0:o.deviceNameFormat,id:null==o?void 0:o.id,distributedOltName:null==o?void 0:o.distributedOltName,ufLocation:null===(n=null==o?void 0:o.deviceLocation)||void 0===n?void 0:n.ufLocation,latitude:null===(l=null===(r=null===(i=null==o?void 0:o.deviceLocation)||void 0===i?void 0:i.point)||void 0===r?void 0:r.latitude)||void 0===l?void 0:l.toString(),longitude:null===(u=null===(s=null===(a=null==o?void 0:o.deviceLocation)||void 0===a?void 0:a.point)||void 0===s?void 0:s.longitude)||void 0===u?void 0:u.toString(),username:null==o?void 0:o.username,connectTimeoutSec:null==o?void 0:o.connectTimeoutSec}),t.showServiceAddressInp="GEO_COORDINATES"!=(null===(d=null==o?void 0:o.deviceLocation)||void 0===d?void 0:d.geoTypeUserSelection),t.regionsDataArray.forEach(function(e){e.name==t.data.region&&t.callHomeForm.get("region").setValue(e.id)}),t.loadLocationValue(e),o.networkGroupPath){var c=o.networkGroupPath.split("/");t.callHomeForm.get("region").setValue(t.regions[c[0]]),t.callHomeForm.get("networkGroupUuid").setValue(c[1]?c[1]:null)}t.loading=!1},function(e){t.pageErrorHandle(e)})}},{key:"validateIp",value:function(e){return!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)}},{key:"validateMAc",value:function(e){return!!/^([0-9A-Fa-f]{2}:){5}([0-9A-Fa-f]{2})$/.test(e)}},{key:"validateIpSubnet",value:function(e){var t=e?e.split("/"):[];return!(!t||!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t[0]))&&this.checkSubnet(e)}},{key:"checkSubnet",value:function(e){if(e){var t=!0;return e.split(",").forEach(function(e){t=t&&s.v4(e)}),t}return!1}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe()}},{key:"getRegions",value:function(){var t=this;this.loading=!0,this.regionsSubject=this.http.get("".concat(a.N.API_BASE_URL,"nfa/regions/details?offset=0&limit=5000&excludeMgmtSystem=true")).subscribe(function(o){if(o.regions.sort(),o.regions=t.issueService.appendFqn(o.regions),t.regionsDataArray=[].concat(e(t.regionsDataArray),e(o.regions)),console.log(t.regionsDataArray),o.regions){var n={};o.regions.forEach(function(e){n[e.name]=e.id}),t.regions=n;var i=t.route.snapshot.paramMap.get("id");i&&t.getRecordbyId(decodeURIComponent(i))}t.loading=!1},function(e){t.loading=!1,console.log(e)})}},{key:"loadLocationValue",value:function(e){var t=this;this.callHomeForm.get("networkGroupUuid").setValue(null),this.callHomeForm.get("region").value&&(this.locationsSubject=this.http.get("".concat(a.N.API_BASE_URL,"nfa/locations?tenant=0&region=").concat(this.callHomeForm.get("region").value)).subscribe(function(e){var o;t.locationDataArray=e,(null===(o=t.data)||void 0===o?void 0:o.location)&&t.locationDataArray.forEach(function(e){var o;e.name!=(null===(o=t.data)||void 0===o?void 0:o.location)||t.callHomeForm.get("networkGroupUuid").setValue(e.id)})},function(e){}))}},{key:"showServiceAddress",value:function(e){this.showServiceAddressInp=e,e?(this.callHomeForm.controls.latitude.setValidators(null),this.callHomeForm.controls.latitude.updateValueAndValidity(),this.callHomeForm.controls.longitude.setValidators(null),this.callHomeForm.controls.longitude.updateValueAndValidity()):(this.callHomeForm.controls.latitude.setValidators([oe.bind(this)]),this.callHomeForm.controls.latitude.updateValueAndValidity(),this.callHomeForm.controls.longitude.setValidators([oe.bind(this)]),this.callHomeForm.controls.longitude.updateValueAndValidity())}},{key:"enforceMinMax",value:function(e,t){var o=this;setTimeout(function(){var n=o.workflowService.enforceMinMax(e);-1!=n&&("latitude"==t?o.data.latitude=n:"longitude"==t&&(o.data.longitude=n))},1e3)}},{key:"clearErrors",value:function(){this.serviceAddressErrorMsg="",this.error=!1}},{key:"formControls",get:function(){return this.callHomeForm.controls}}]),t}()).\u0275fac=function(e){return new(e||W)(d.Y36(l.eN),d.Y36(c.t6),d.Y36(g.F0),d.Y36(g.gz),d.Y36(m.v),d.Y36(f.s),d.Y36(v.l),d.Y36(p.z),d.Y36(u.qu),d.Y36(h.Dx),d.Y36(Z.v))},W.\u0275cmp=d.Xpm({type:W,selectors:[["app-add"]],decls:12,vars:4,consts:[[1,"position-relative"],["class","loader",4,"ngIf"],["role","alert","class","alert alert-warning",4,"ngIf"],[1,"container","app-call-home"],[1,"row"],["class","w-100 alert alert-danger fade show my-3",4,"ngIf"],["class","col-md-6 px-0 mt-2",4,"ngIf"],[1,"col-md-6","text-right","px-0"],[1,"w-100"],[1,"close-icon","pointer",3,"click"],["src","assets/img/close-icon.svg","alt",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["role","alert",1,"alert","alert-warning"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"col-md-6","px-0","mt-2"],[3,"formGroup"],[1,"form-group","ccl-form"],["for","inputEmail4",1,"mand-field"],[1,"required-field"],["type","text","id","deviceNameFormat","name","deviceNameFormat","formControlName","deviceNameFormat","placeholder","%DashedMAC","trimSpace","",1,"form-control",3,"formValue"],["id","deviceNameFormat_input-error","class","errorMessage",4,"ngIf"],["type","IP-Address","id","id","name","id","formControlName","id","trimSpace","",1,"form-control",3,"placeholder","readonly","formValue"],["id","id_input-error","class","errorMessage",4,"ngIf"],["for","inputPassword4"],["name","region","formControlName","region","id","region",1,"selectboxwidth",3,"bindLabel","bindValue","items","clearable","searchable","placeholder","change"],["ng-option-tmp",""],["class","errorMessage",4,"ngIf"],["name","location","formControlName","networkGroupUuid","id","location",1,"selectboxwidth",3,"bindLabel","bindValue","items","clearable","searchable","placeholder"],[1,"form-check-inline"],[1,"form-check-label","cursor-pointer"],["type","radio","name","serviceAddressOpt","value","address","trimSpace","",1,"form-check-input",3,"checked","formValue","change"],["type","radio","name","serviceAddressOpt","value","latlang",1,"form-check-input",3,"checked","change"],["class","form-group ccl-form",4,"ngIf"],["for","inputAddress"],["type","text","id","distributedOltName","name","distributedOltName","formControlName","distributedOltName","trimSpace","",1,"form-control",3,"placeholder","readonly","formValue"],["for","inputAddress2"],[1,"error"],["type","text","id","username","name","username","formControlName","username","trimSpace","",1,"form-control",3,"placeholder","formValue"],["type","Password","id","password","name","password","formControlName","password","autocomplete","new-password",1,"form-control",3,"type","placeholder"],[4,"ngIf"],[1,"col-12"],[1,"col-6"],["type","number","id","connectTimeOut","name","connectTimeOut","formControlName","connectTimeoutSec","min","5","max","90",1,"form-control",3,"placeholder"],[1,"col-6","text-left","pl-0"],[1,"text-capitalize","pt-1","m-0"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","id","add-call-home","data-dismiss","modal",1,"btn-default","transparant","px-3","m-2",3,"click"],["id","deviceNameFormat_input-error",1,"errorMessage"],["id","id_input-error",1,"errorMessage"],[3,"title"],[1,"errorMessage"],[1,"d-flex","flex-wrap","w-100"],[1,"col-6","pl-0"],["type","text","formControlName","latitude","name","latitude","min","-90.00","max","90.00","trimSpace","",3,"placeholder","formValue","keyup"],[1,"col-6","pl-0","pr-0"],["type","text","formControlName","longitude","name","longitude","min","-180.00","max","180.00","trimSpace","",3,"placeholder","formValue","keyup"],["type","text","id","ufLocation","name","ufLocation","formControlName","ufLocation","trimSpace","",1,"form-control",3,"placeholder","formValue"],[1,"see_pass",3,"ngClass","click"]],template:function(e,t){1&e&&(d.TgZ(0,"section"),d.TgZ(1,"div",0),d.YNc(2,C,5,1,"div",1),d.YNc(3,w,2,1,"div",2),d.TgZ(4,"div",3),d.TgZ(5,"div",4),d.YNc(6,T,6,1,"div",5),d.YNc(7,z,78,51,"div",6),d.TgZ(8,"div",7),d.TgZ(9,"div",8),d.TgZ(10,"span",9),d.NdJ("click",function(){return t.goToList()}),d._UZ(11,"img",10),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Q6J("ngIf",t.loading),d.xp6(1),d.Q6J("ngIf",!t.hasWriteAccess),d.xp6(3),d.Q6J("ngIf",t.error),d.xp6(1),d.Q6J("ngIf",t.hasWriteAccess))},directives:[b.O5,u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,A.f,x.w9,x.Z2,u.wV,u.qQ,u.Fd,b.mk],styles:[".mand-field[_ngcontent-%COMP%]{position:relative}.mand-field[_ngcontent-%COMP%]   .required-field[_ngcontent-%COMP%]{color:#d9001b;font-size:20px;position:absolute;top:-4px;right:-11px}.see_pass[_ngcontent-%COMP%]{position:absolute;top:13px;right:20px}"]}),W);function X(e){return(null==e?void 0:e.value)?null:{isrequired:!0}}function K(e){return(null==e?void 0:e.value)?this.validateIp(e.value)||this.validateIpSubnet(e.value)||this.validateMAc(e.value)?null:{invalidId:!0}:{isrequired:!0}}function ee(e){var t;return(null==e?void 0:e.value)&&(null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.trim())?null:{isrequired:!0}}function te(e){var t;return(null==e?void 0:e.value)&&(null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.trim())?null:{isrequired:!0}}function oe(e){var t;return this.showServiceAddressInp||(null==e?void 0:e.value)&&(null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.trim())?!this.showServiceAddressInp&&isNaN(null==e?void 0:e.value)?{invalidValue:!0}:null:{isrequired:!0}}function ne(e){return(null==e?void 0:e.value)&&!isNaN(null==e?void 0:e.value)&&((null==e?void 0:e.value)<5||(null==e?void 0:e.value)>90)?{invalidValue:!0}:null}},38640:function(e,t,n){n.d(t,{s:function(){return N}});var r=n(92340),l=n(79765),a=n(23771),s=n(37716),u=n(38048),d=n(91841),c=n(39895),g=n(49342),m=n(12664),f=n(7450),v=n(39075),p=n(3679),h=n(38583),Z=n(86640),b=["deleteModal"],A=["deleteSuccessModal"];function x(e,t){if(1&e&&(s.TgZ(0,"div",22),s.TgZ(1,"div",23),s.TgZ(2,"div",24),s.TgZ(3,"span",25),s._uU(4),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){var o=s.oxw();s.xp6(4),s.Oqu(o.language.Loading)}}function C(e,t){if(1&e&&(s.TgZ(0,"div",26),s._uU(1),s.qZA()),2&e){var o=s.oxw();s.xp6(1),s.hij(" ",o.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function w(e,t){if(1&e){var o=s.EpF();s.TgZ(0,"div",27),s.TgZ(1,"button",28),s.NdJ("click",function(){return s.CHM(o),s.oxw().goToAdd()}),s._uU(2),s.qZA(),s.qZA()}if(2&e){var n=s.oxw();s.xp6(2),s.hij(" ",n.language["Add Call Home"]," ")}}function T(e,t){if(1&e&&s._uU(0),2&e){var o=t.item,n=s.oxw();s.hij(" ",n.language[o.label]," ")}}function q(e,t){if(1&e&&s._uU(0),2&e){var o=t.item,n=s.oxw();s.hij(" ",n.language[o.label]," ")}}function y(e,t){if(1&e){var o=s.EpF();s.TgZ(0,"div",29),s.TgZ(1,"span",30),s._UZ(2,"img",31),s.qZA(),s.TgZ(3,"button",32),s.NdJ("click",function(){return s.CHM(o),s.oxw().closeAlert()}),s._UZ(4,"span"),s.qZA(),s.TgZ(5,"div",33),s._uU(6),s.qZA(),s.qZA()}if(2&e){var n=s.oxw();s.xp6(6),s.Oqu(n.errorInfo)}}function _(e,t){if(1&e){var o=s.EpF();s.TgZ(0,"td",39),s.TgZ(1,"a",40),s.NdJ("click",function(){s.CHM(o);var e=s.oxw().$implicit;return s.oxw(2).gotoEdit(e.id)}),s._UZ(2,"i",41),s.qZA(),s.TgZ(3,"a",42),s.NdJ("click",function(){s.CHM(o);var e=s.oxw().$implicit;return s.oxw(2).delete(e.id)}),s._UZ(4,"i",43),s.qZA(),s.qZA()}if(2&e){var n=s.oxw(3);s.xp6(1),s.s9C("title",n.language.Edit),s.xp6(2),s.s9C("title",n.language.Delete)}}function O(e,t){if(1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s._UZ(9,"td",37),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.TgZ(12,"td"),s._uU(13),s.qZA(),s.TgZ(14,"td"),s._uU(15,"******"),s.qZA(),s.TgZ(16,"td"),s._uU(17),s.qZA(),s.YNc(18,_,5,2,"td",38),s.qZA()),2&e){var o=t.$implicit,n=s.oxw(2);s.xp6(2),s.Oqu(o.id),s.xp6(2),s.Oqu(o.deviceNameFormat),s.xp6(2),s.Oqu(o.region?o.region:""),s.xp6(2),s.Oqu(o.location?o.location:""),s.xp6(1),s.Q6J("innerHTML",null==o?null:o.ui_modified_service_address_latlong,s.oJD),s.xp6(2),s.Oqu(o.distributedOltName),s.xp6(2),s.Oqu(o.username),s.xp6(4),s.Oqu((null==o?null:o.connectTimeoutSec)||""),s.xp6(1),s.Q6J("ngIf",n.hasWriteAccess)}}function I(e,t){if(1&e&&(s.TgZ(0,"div",34),s.TgZ(1,"table",35),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th"),s._uU(5),s.qZA(),s.TgZ(6,"th"),s._uU(7),s.qZA(),s.TgZ(8,"th"),s._uU(9),s.qZA(),s.TgZ(10,"th"),s._uU(11),s.qZA(),s.TgZ(12,"th"),s._uU(13),s.qZA(),s.TgZ(14,"th"),s._uU(15),s.qZA(),s.TgZ(16,"th"),s._uU(17),s.qZA(),s.TgZ(18,"th"),s._uU(19),s.qZA(),s.TgZ(20,"th"),s._uU(21),s.qZA(),s._UZ(22,"th"),s.qZA(),s.qZA(),s.TgZ(23,"tbody"),s.YNc(24,O,19,9,"tr",36),s.qZA(),s.qZA(),s.qZA()),2&e){var o=s.oxw();s.Q6J("hidden",!o.dataAvailable),s.xp6(1),s.Q6J("dtOptions",o.dtOptions)("dtTrigger",o.dtTrigger),s.xp6(4),s.Oqu(o.language.Id),s.xp6(2),s.Oqu(o.language["Device Name Format"]),s.xp6(2),s.Oqu(o.language.Region),s.xp6(2),s.Oqu(o.language.Location),s.xp6(2),s.Oqu(o.language["Address/Coordinates"]),s.xp6(2),s.Oqu(o.language["Distributed OLT Name"]),s.xp6(2),s.Oqu(o.language.Username),s.xp6(2),s.Oqu(o.language.Password),s.xp6(2),s.Oqu(o.language["Connect Timeout"]),s.xp6(3),s.Q6J("ngForOf",o.list)}}function S(e,t){if(1&e){var o=s.EpF();s.TgZ(0,"div",44),s.TgZ(1,"div",45),s._UZ(2,"img",46),s.qZA(),s.TgZ(3,"div",47),s.TgZ(4,"div",48),s.TgZ(5,"button",49),s.NdJ("click",function(){return s.CHM(o),s.oxw().close()}),s._UZ(6,"span",50),s.qZA(),s.qZA(),s.TgZ(7,"div",51),s.TgZ(8,"h3",52),s._uU(9),s.TgZ(10,"b"),s._uU(11),s.qZA(),s._uU(12," ? "),s.qZA(),s.qZA(),s.TgZ(13,"div",53),s.TgZ(14,"button",54),s.NdJ("click",function(){return s.CHM(o),s.oxw().doDelete()}),s._uU(15),s.qZA(),s.TgZ(16,"button",55),s.NdJ("click",function(){return s.CHM(o),s.oxw().close()}),s._uU(17),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){var n=s.oxw();s.xp6(9),s.hij(" ",n.language["Are you sure you want to delete the call home"]," "),s.xp6(2),s.Oqu(n.deleteId),s.xp6(4),s.hij(" ",n.language.Delete_Call_Home," "),s.xp6(2),s.hij(" ",n.language.Close," ")}}function U(e,t){if(1&e){var o=s.EpF();s.TgZ(0,"div",48),s._UZ(1,"h4",56),s.TgZ(2,"button",49),s.NdJ("click",function(){return s.CHM(o),s.oxw().close()}),s._UZ(3,"span",50),s.qZA(),s.qZA(),s.TgZ(4,"div",51),s.TgZ(5,"p"),s._uU(6),s.qZA(),s.qZA(),s.TgZ(7,"div",57),s.TgZ(8,"button",58),s.NdJ("click",function(){return s.CHM(o),s.oxw().close()}),s._uU(9),s.qZA(),s.qZA()}if(2&e){var n=s.oxw();s.xp6(6),s.Oqu(n.language["Deleted Successfully"]),s.xp6(3),s.hij(" ",n.language.Close," ")}}var k,N=((k=function(){function e(t,n,i,r,a,s,u,d){o(this,e),this.sso=t,this.http=n,this.router=i,this.commonOrgService=r,this.dialogService=a,this.translateService=s,this.titleService=u,this.fb=d,this.errorInfo="",this.successInfo="",this.deleteId="",this.list=[],this.loading=!0,this.dataAvailable=!1,this.dtTrigger=new l.xQ,this.dtOptions={},this.isRerender=!1,this.ngbModalOptions={backdrop:"static"},this.deleteNgbModalOptions={backdrop:"static",windowClass:"alert-del-modal"},this.geoLocationOptions=[],this.filtersForm=this.fb.group({geoLocationInfo:""}),this.hasScopeAccess=!1,this.hasWriteAccess=!1,this.showTable=!1,this.frTable=this.translateService.fr;var c=this.router.url;this.ORG_ID=this.sso.getOrganizationID(c),this.MODULE=this.sso.getRedirectModule(c),this.commonOrgService.currentPageAdder("call-home")}return i(e,[{key:"ngOnInit",value:function(){var e,t,o=this,n=this.sso.getScopes();(null===(e=null==n?void 0:n["cloud.rbac.coc.operations.systemonboarding.axoscallhome.callhome"])||void 0===e?void 0:e.length)&&(this.hasScopeAccess=!0),-1!==(null===(t=null==n?void 0:n["cloud.rbac.coc.operations.systemonboarding.axoscallhome.callhome"])||void 0===t?void 0:t.indexOf("write"))&&(this.hasWriteAccess=!0),this.ORG_ID=this.sso.getOrganizationID(this.router.url),this.getList(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){o.language=e,o.tableLanguageOptions(),o.rerender(),o.titleService.setTitle("Call Home - AXOS Systems - ".concat(o.language["System Onboarding"]," - ").concat(o.language.Operations,"  - ").concat(o.language.Operations," - ").concat(o.language["Calix Cloud"]))}),this.titleService.setTitle("Call Home - AXOS Systems - ".concat(this.language["System Onboarding"]," - ").concat(this.language.Operations,"  - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"])),this.tableLanguageOptions(),this.geoLocationOptions=[{name:"All",value:"",label:"All"},{name:"Available",value:"exist",label:"Available"},{name:"Unavailable",value:"missing",label:"Unavailable"}],this.sso.setPageAccess(!!this.hasScopeAccess)}},{key:"tableLanguageOptions",value:function(){"fr"==this.language.fileLanguage?this.dtOptions.language=this.frTable:"es"==this.language.fileLanguage?this.dtOptions.language=this.translateService.es:"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.translateService.de_DE:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}},{key:"rerender",value:function(){var e=this;this.dtElement.dtInstance.then(function(t){t.destroy(),e.dtTrigger.next(),e.tableLanguageOptions()})}},{key:"getList",value:function(){var e=this;this.showTable=!0,this.dtOptions={paging:!1,lengthChange:!1,searching:!1,ordering:!1};var t="".concat(r.N.API_BASE_URL,"cnap/invmgr/callhome/actions");this.filtersForm.get("geoLocationInfo").value&&(t+="?geoLocationInfo=".concat(this.filtersForm.get("geoLocationInfo").value)),this.listObs=this.http.get(t).subscribe(function(t){var o=[];t&&t.forEach(function(e){var t,n,i,r,l,a,s,u,d,c,g,m,f,v,p,h,Z;if(e.networkGroupPath){var b=e.networkGroupPath.split("/");e.region=b[0],e.location=b[1]?b[1]:""}e.ui_modified_service_address_latlong=(null===(n=null===(t=null==e?void 0:e.deviceLocation)||void 0===t?void 0:t.point)||void 0===n?void 0:n.latitude)&&(null===(i=null==e?void 0:e.deviceLocation)||void 0===i?void 0:i.ufLocation)?"<b>".concat(null===(r=null==e?void 0:e.deviceLocation)||void 0===r?void 0:r.ufLocation,"</b> <br> (").concat(null===(a=null===(l=null==e?void 0:e.deviceLocation)||void 0===l?void 0:l.point)||void 0===a?void 0:a.latitude,", ").concat(null===(u=null===(s=null==e?void 0:e.deviceLocation)||void 0===s?void 0:s.point)||void 0===u?void 0:u.longitude,")"):(null===(c=null===(d=null==e?void 0:e.deviceLocation)||void 0===d?void 0:d.point)||void 0===c?void 0:c.latitude)&&!(null===(g=null==e?void 0:e.deviceLocation)||void 0===g?void 0:g.ufLocation)?"".concat(null===(f=null===(m=null==e?void 0:e.deviceLocation)||void 0===m?void 0:m.point)||void 0===f?void 0:f.latitude,", ").concat(null===(p=null===(v=null==e?void 0:e.deviceLocation)||void 0===v?void 0:v.point)||void 0===p?void 0:p.longitude):(null===(h=null==e?void 0:e.deviceLocation)||void 0===h?void 0:h.ufLocation)?"<b>".concat(null===(Z=null==e?void 0:e.deviceLocation)||void 0===Z?void 0:Z.ufLocation,"</b>"):"",o.push(e)}),e.list=o,e.loading=!1,e.isRerender?e.rerender():(e.dtTrigger.next(),setTimeout(function(){e.dataAvailable=!0},200)),e.isRerender=!0},function(t){e.pageErrorHandle(t),e.dataAvailable=!0})}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.closeAlert(),this.error=!0,this.loading=!1}},{key:"closeAlert",value:function(){this.error=!1,this.success=!1}},{key:"showSuccess",value:function(e){this.closeAlert(),this.successInfo=e,this.success=!0}},{key:"showError",value:function(e){this.closeAlert(),this.errorInfo=e,this.error=!0}},{key:"cancelDelete",value:function(){this.deleteId=""}},{key:"goToAdd",value:function(){-1!==window.location.href.indexOf("/system-onboarding/")?this.router.navigate(["/cco/operations/system-onboarding/axos-callhome/callhome/add"]):-1!==window.location.href.indexOf("/systemAdministration/")?this.router.navigate(["/systemAdministration/cco-admin/call-home/add"]):this.router.navigate(["/organization-admin/call-home/add"])}},{key:"gotoEdit",value:function(e){-1!==window.location.href.indexOf("/system-onboarding/")?this.router.navigate(["/cco/operations/system-onboarding/axos-callhome/callhome/edit/".concat(encodeURIComponent(e))]):-1!==window.location.href.indexOf("/systemAdministration/")?this.router.navigate(["/systemAdministration/cco-admin/call-home/edit/".concat(encodeURIComponent(e))]):this.router.navigate(["/organization-admin/call-home/edit/".concat(encodeURIComponent(e))])}},{key:"delete",value:function(e){this.deleteId=e,this.modalRef&&this.close(),this.modalRef=this.dialogService.open(this.deleteModal,this.deleteNgbModalOptions)}},{key:"close",value:function(){this.modalRef.close()}},{key:"doDelete",value:function(){var e=this;this.http.delete("".concat(r.N.API_BASE_URL,"cnap/invmgr/callhome/actions/").concat(encodeURIComponent(this.deleteId))).subscribe(function(t){e.close(),e.modalRef=e.dialogService.open(e.deleteSuccessModal,e.ngbModalOptions),e.deleteId="",e.isRerender=!0,e.getList()},function(t){e.close(),e.pageErrorHandle(t)})}},{key:"clearFilter",value:function(){this.filtersForm.patchValue({geoLocationInfo:""}),this.getList()}},{key:"ngOnDestroy",value:function(){this.listObs&&this.listObs.unsubscribe(),this.languageSubject&&this.languageSubject.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||k)(s.Y36(u.t6),s.Y36(d.eN),s.Y36(c.F0),s.Y36(g.v),s.Y36(m.FF),s.Y36(f.s),s.Y36(v.Dx),s.Y36(p.qu))},k.\u0275cmp=s.Xpm({type:k,selectors:[["app-call-home"]],viewQuery:function(e,t){var o;1&e&&(s.Gf(b,7),s.Gf(A,7),s.Gf(a.G,5)),2&e&&(s.iGM(o=s.CRH())&&(t.deleteModal=o.first),s.iGM(o=s.CRH())&&(t.deleteSuccessModal=o.first),s.iGM(o=s.CRH())&&(t.dtElement=o.first))},decls:28,vars:15,consts:[[1,"position-relative"],["class","loader",4,"ngIf"],["role","alert","class","alert alert-warning",4,"ngIf"],[1,"container"],["class","row mb-3 mt-2",4,"ngIf"],[1,"row"],[1,"filter-section","filter-elemnts","pt-2","col-md-12"],[3,"formGroup"],[1,"filter-wrapper","mb-1","row"],[1,"custom-selectbox","state-filter"],["for","Name",1,"col-form-label","select-font"],["bindValue","value","bindLabel","label","formControlName","geoLocationInfo",1,"selectboxwidth",3,"items","placeholder","clearable","searchable"],["ng-label-tmp",""],["ng-option-tmp",""],[1,"custom-selectbox","min-w24p","d-flex","align-items-center"],[1,"d-inline-flex","mt-4","pt-3"],["type","button",1,"btn-default","primary","ml-3",3,"title","click"],["type","button",1,"btn-default","btn-dft","ml-3","btn-overflow-ellip",3,"title","click"],["class","w-100 alert alert-danger fade show my-3",4,"ngIf"],["class","col-md-12 px-0 call-home-table overflow-auto",3,"hidden",4,"ngIf"],["deleteModal",""],["deleteSuccessModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["role","alert",1,"alert","alert-warning"],[1,"row","mb-3","mt-2"],["type","button","id","add-call-home",1,"btn-default","primary","px-3",3,"click"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex"],[1,"col-md-12","px-0","call-home-table","overflow-auto",3,"hidden"],["datatable","",1,"table","table-borderless",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[3,"innerHTML"],["class","text-right mw-45",4,"ngIf"],[1,"text-right","mw-45"],["href","javascript:void(0)",1,"mr-2","cursor",3,"title","click"],["aria-hidden","true",1,"fas","fa-pencil-alt"],["href","javascript:void(0)",1,"ml-1","cursor",3,"title","click"],["aria-hidden","true",1,"fas","fa-trash-alt"],[1,"d-flex","w-100","mt-3"],[1,"dfl-icon","pr-4"],["src","../../../../assets/img/warning-icon-36px.svg"],[1,"dflex-item"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"cco-secondary-title"],[1,"modal-footer","justify-content-start","px-0","pb-0"],["type","button",1,"btn","btn-primary","mr-2","py-0",3,"click"],["type","button",1,"btn-default","btn-dft","py-1",3,"click"],["id","modal-basic-title",1,"modal-title"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"section"),s.TgZ(1,"div",0),s.YNc(2,x,5,1,"div",1),s.YNc(3,C,2,1,"div",2),s.TgZ(4,"div",3),s.YNc(5,w,3,1,"div",4),s.TgZ(6,"div",5),s.TgZ(7,"div",6),s.TgZ(8,"form",7),s.TgZ(9,"div",8),s.TgZ(10,"div",9),s.TgZ(11,"label",10),s._uU(12),s.qZA(),s.TgZ(13,"ng-select",11),s.YNc(14,T,1,1,"ng-template",12),s.YNc(15,q,1,1,"ng-template",13),s.qZA(),s.qZA(),s.TgZ(16,"div",14),s.TgZ(17,"div",15),s.TgZ(18,"button",16),s.NdJ("click",function(){return t.getList()}),s._uU(19),s.qZA(),s.TgZ(20,"button",17),s.NdJ("click",function(){return t.clearFilter()}),s._uU(21),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(22,y,7,1,"div",18),s.YNc(23,I,25,13,"div",19),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(24,S,18,4,"ng-template",null,20,s.W1O),s.YNc(26,U,10,2,"ng-template",null,21,s.W1O)),2&e&&(s.xp6(2),s.Q6J("ngIf",t.loading),s.xp6(1),s.Q6J("ngIf",!t.hasScopeAccess),s.xp6(2),s.Q6J("ngIf",t.hasWriteAccess),s.xp6(3),s.Q6J("formGroup",t.filtersForm),s.xp6(4),s.Oqu(t.language["Address/Coordinate Info"]),s.xp6(1),s.s9C("placeholder",t.language["Address/Coordinate Info"]),s.Q6J("items",t.geoLocationOptions)("clearable",!1)("searchable",!0),s.xp6(5),s.s9C("title",t.language.run),s.xp6(1),s.hij(" ",t.language.run," "),s.xp6(1),s.s9C("title",t.language.Clear_Filters),s.xp6(1),s.hij(" ",t.language.Clear_Filters," "),s.xp6(1),s.Q6J("ngIf",t.error),s.xp6(1),s.Q6J("ngIf",t.showTable))},directives:[h.O5,p._Y,p.JL,p.sg,Z.w9,p.JJ,p.u,Z.bb,Z.Z2,a.G,h.sg],styles:[".call-home-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400;font-size:16px}.call-home-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{display:none}.call-home-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#EBEAEF!important}.call-home-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .remove[_ngcontent-%COMP%]{display:block;cursor:pointer;float:right;position:relative;top:11px}.btn-default[_ngcontent-%COMP%]   .btn-dft[_ngcontent-%COMP%]{border:1px solid #EBEAEF!important;background-color:none!important}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 5px 15px #80808040;-webkit-box-shadow:0px 5px 15px rgba(128,128,128,.25);border-color:#0000000d!important;min-width:175px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{width:100%!important;border-radius:0!important;text-align:left;padding:10px 25px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:hover{background-color:#edf5ff!important}  .alert-del-modal .modal-content{background:#FFF9F5!important;border-radius:24px!important;padding:36px!important}.dfl-icon[_ngcontent-%COMP%]{width:72px}.dfl-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;margin-top:5px}.dflex-item[_ngcontent-%COMP%]{width:calc(100% - 72px)}.mw-45[_ngcontent-%COMP%]{min-width:45px}.custom-selectbox.state-filter[_ngcontent-%COMP%]{min-width:160px}"]}),k)}}])}();