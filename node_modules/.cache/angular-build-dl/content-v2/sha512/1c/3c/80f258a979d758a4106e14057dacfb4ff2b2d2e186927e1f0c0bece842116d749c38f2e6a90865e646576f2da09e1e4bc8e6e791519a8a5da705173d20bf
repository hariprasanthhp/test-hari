!function(){"use strict";function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,o){if(!t)return;if("string"==typeof t)return e(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,o)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,l=void 0,"symbol"==typeof(l=function(t,e){if("object"!=typeof t||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"))?l:String(l)),n)}var i,l}function i(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[7407],{57581:function(e,n,l){l.r(n),l.d(n,{OutliersWorkflowModule:function(){return et}});var r,s=l(38583),a=l(39895),c=l(92340),u=((r=u||(u={})).DETAILS_LABEL="Details",r.SYSTEMS_LABEL="OLT System",r.RECEPIENTS_LABEL="Recipients",r.SUMMARY_LABEL="Summary",u),f=l(2792),d=l(37716),g=l(7450),p=l(39075),b=l(79765),w=function(){var t=function(){function t(){o(this,t),this.outlierTabChanged$=new b.xQ}return i(t,[{key:"setOutlierTabChange",value:function(){this.outlierTabChanged$.next(!0)}},{key:"updateRegLoc",value:function(t){var e,o,n,i,l,r;if(null==t?void 0:t.region){if(-1!==(null===(e=null==t?void 0:t.region)||void 0===e?void 0:e.indexOf("All"))){var s=null===(o=null==t?void 0:t.region)||void 0===o?void 0:o.indexOf("All");-1!==s&&(null===(n=null==t?void 0:t.region)||void 0===n||n.splice(s,1,"11111111-1111-1111-1111-111111111111"))}}else t.region=["11111111-1111-1111-1111-111111111111"];if(null==t?void 0:t.location){if(-1!==(null===(i=null==t?void 0:t.location)||void 0===i?void 0:i.indexOf("All"))){var a=null===(l=null==t?void 0:t.location)||void 0===l?void 0:l.indexOf("All");-1!==a&&(null===(r=null==t?void 0:t.location)||void 0===r||r.splice(a,1,"11111111-1111-1111-1111-111111111111"))}}else t.location=["11111111-1111-1111-1111-111111111111"];return t}},{key:"updateRegLocToAll",value:function(t){var e,o,n,i,l,r;if(null==t?void 0:t.region){if(-1!==(null===(e=null==t?void 0:t.region)||void 0===e?void 0:e.indexOf("11111111-1111-1111-1111-111111111111"))){var s=null===(o=null==t?void 0:t.region)||void 0===o?void 0:o.indexOf("11111111-1111-1111-1111-111111111111");-1!==s&&(null===(n=null==t?void 0:t.region)||void 0===n||n.splice(s,1,"All"))}}else t.region=["All"];if(null==t?void 0:t.location){if(-1!==(null===(i=null==t?void 0:t.location)||void 0===i?void 0:i.indexOf("11111111-1111-1111-1111-111111111111"))){var a=null===(l=null==t?void 0:t.location)||void 0===l?void 0:l.indexOf("11111111-1111-1111-1111-111111111111");-1!==a&&(null===(r=null==t?void 0:t.location)||void 0===r||r.splice(a,1,"All"))}}else t.location=["All"];return t}},{key:"getType",value:function(){return this.type}},{key:"setType",value:function(t){t&&(this.type=t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),h=l(49342),m=l(91841),v=l(9128),O=l(48483),k=l(12664),y=l(27946),A=l(3679),x=l(40205),_=l(88002),j=l(5304),C=l(89097),Z=l(14541),T=l(21693),M=l(86640);function P(t,e){if(1&t&&(d.TgZ(0,"div",14),d.TgZ(1,"p"),d._uU(2),d.qZA(),d.qZA()),2&t){var o=d.oxw();d.xp6(2),d.hij("",o.language["This field is required"],".")}}function S(t,e){if(1&t&&(d.TgZ(0,"div",14),d.TgZ(1,"p"),d._uU(2),d.qZA(),d.qZA()),2&t){var o=d.oxw();d.xp6(2),d.hij("",o.language["This field is required"],".")}}function I(t,e){if(1&t&&(d.TgZ(0,"div",14),d.TgZ(1,"p"),d._uU(2),d.qZA(),d.qZA()),2&t){var o=d.oxw();d.xp6(2),d.hij("",o.language["This field is required"],".")}}var q=function(){var e=function(){function e(t,n,i,l,r,s,a){o(this,e),this.translateService=t,this.fb=n,this.otlrWrkflwSrvc=i,this.http=l,this.sso=r,this.chartOptionService=s,this.issueService=a,this.loading=!1,this.regionsDataArray=["All"],this.locationDataArray=["All"],this.systemDataArray=["All"],this.submitted=!1,this.isFormValid=new d.vpe,this.systemForm=this.fb.group({regions:["All",A.kI.required],locations:["All",A.kI.required],systems:["All",A.kI.required]})}return i(e,[{key:"workflowObj",get:function(){return this._workflowObj},set:function(t){console.log(t),this._workflowObj=t}},{key:"ngOnInit",value:function(){var t,e,o,n,i,l,r,s,a,c=this;this.tabSub=this.otlrWrkflwSrvc.outlierTabChanged$.subscribe(function(t){c.submitted=!0}),this.getRegions(),this.systemForm.patchValue({regions:(null===(e=null===(t=this.workflowObj)||void 0===t?void 0:t.regions)||void 0===e?void 0:e.length)?null===(o=this.workflowObj)||void 0===o?void 0:o.regions:["All"],locations:(null===(i=null===(n=this.workflowObj)||void 0===n?void 0:n.locations)||void 0===i?void 0:i.length)?null===(l=this.workflowObj)||void 0===l?void 0:l.locations:["All"],systems:(null===(s=null===(r=this.workflowObj)||void 0===r?void 0:r.systems)||void 0===s?void 0:s.length)?null===(a=this.workflowObj)||void 0===a?void 0:a.systems:["All"]}),this.formSub=this.systemForm.valueChanges.subscribe(function(t){c.workflowObj.regions=null==t?void 0:t.regions,c.workflowObj.locations=null==t?void 0:t.locations,c.workflowObj.systems=null==t?void 0:t.systems,c.isFormValid.emit(c.systemForm.valid)}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){c.language=t})}},{key:"getRegions",value:function(){var e=this;this.regionsSubject=this.issueService.getRegions().subscribe(function(o){var n;o&&((o=e.issueService.appendFqn(o)).sort(),e.regionsDataArray=[].concat(t(e.regionsDataArray),t(o)),console.log(e.regionsDataArray),(null===(n=e._workflowObj)||void 0===n?void 0:n.regions)&&(e.systemForm.get("regions").setValue(e._workflowObj.regions),e.loadLocationValue("")))},function(t){console.log(t)})}},{key:"loadLocationValue",value:function(e){var o=this,n=this.systemForm.get("regions").value;if(null==n?void 0:n.length){var i="";if(n.length){if(-1!==n.indexOf("All"))return this.locationDataArray=["All"],void this.systemForm.get("locations").setValue(["All"]);n.forEach(function(t){"All"!=t&&(i+="&region=".concat(t))}),this.locationsSubject=this.http.get("".concat(c.N.API_BASE_URL,"nfa/locations?tenant=0").concat(i)).pipe((0,_.U)(function(t){return t.sort(function(t,e){return(t.name||"").toString().localeCompare((e.name||"").toString(),"en",{numeric:!1})}),t}),(0,j.K)(this.handleError)).subscribe(function(e){var n;e=o.issueService.appendFqn(e),o.chartOptionService.setLocationsInfo(e),o.locationDataArray=["All"],o.locationDataArray=[].concat(t(o.locationDataArray),t(e)),(null===(n=o._workflowObj)||void 0===n?void 0:n.locations)&&o.systemForm.get("locations").setValue(o._workflowObj.locations);var i=o.systemForm.get("locations").value;if(i&&i.length){var l=o.chartOptionService.getLocationsObj(),r=Object.keys(l).length?Object.keys(l):[],s=[];i.forEach(function(t){-1!==r.indexOf(t)&&s.push(t)}),s.length||(s=["All"]),o.systemForm.get("locations").setValue(s),o.loadSystemValue()}},function(t){})}else this.systemForm.get("regions").setValue(["All"]),this.systemForm.get("locations").setValue(["All"]),this.locationDataArray=["All"]}else this.systemForm.get("regions").setValue(["All"]),this.systemForm.get("locations").setValue(["All"]),this.systemForm.get("systems").setValue(["All"])}},{key:"loadSystemValue",value:function(e){var o=this,n=this.systemForm.get("regions").value,i=this.systemForm.get("locations").value,l=this.systemForm.get("systems").value;if(n.length&&i.length&&-1===i.indexOf("All")){var r="";n.forEach(function(t){"All"!=t&&(r&&(r+="&"),r+="region=".concat(t))});var s="";i.forEach(function(t){"All"!=t&&(s+="&location=".concat(t))}),this.systemsSubject=this.http.get("".concat(c.N.API_BASE_URL,"nfa/systems?").concat(r).concat(s)).pipe((0,_.U)(function(t){return t.sort(function(t,e){return(t.name||"").toString().localeCompare((e.name||"").toString(),"en",{numeric:!1})}),t}),(0,j.K)(this.handleError)).subscribe(function(e){if(o.chartOptionService.setSystemsInfo(e),o.systemDataArray=["All"],o.systemDataArray=[].concat(t(o.systemDataArray),t(e)),l&&l.length){var n=o.chartOptionService.getSystemsObj(),i=Object.keys(n).length?Object.keys(n):[],r=[];l.forEach(function(t){-1!==i.indexOf(t)&&r.push(t)}),r.length||(r=["All"]),o.systemForm.get("systems").setValue(r)}},function(t){})}else i.length||(this.systemForm.get("locations").setValue(["All"]),this.systemForm.get("systems").setValue(["All"]),this.systemDataArray=["All"])}},{key:"handleError",value:function(t){return(0,x._)(t)}},{key:"validateRegion",value:function(t){var e=this.systemForm.get("regions").value;if("All"===t)e=["All"];else{var o=e.indexOf("All");o>-1&&e.splice(o,1)}this.systemForm.get("regions").setValue(e),this.loadLocationValue("")}},{key:"validateLocation",value:function(t){var e=this.systemForm.get("locations").value;if("All"===t)e=["All"];else{var o=e.indexOf("All");o>-1&&e.splice(o,1)}this.systemForm.get("locations").setValue(e),this.workflowObj.locations=e,this.loadSystemValue("")}},{key:"validateSystem",value:function(t){var e=this.systemForm.get("systems").value;if(e.length)if("All"===t)e=["All"];else{var o=e.indexOf("All");o>-1&&e.splice(o,1)}else e=["All"];this.systemForm.get("systems").setValue(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(g.s),d.Y36(A.qu),d.Y36(w),d.Y36(m.eN),d.Y36(C.t6),d.Y36(Z.t),d.Y36(T.v))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-system"]],inputs:{workflowObj:"workflowObj"},outputs:{isFormValid:"isFormValid"},decls:26,vars:24,consts:[[1,"col-md-6"],[1,"row",3,"formGroup"],[1,"col-md-12","px-0"],[1,"cco-secondary-title","pb-1","border-bottom"],[1,"col-md-11"],[1,"pt-2","mb-1"],[1,"col-md-9"],["for","inputEmail3",1,"col-form-label"],[1,"w-100"],["formControlName","regions","bindValue","id","bindLabel","name",3,"multiple","items","clearable","searchable","placeholder","add","remove"],["class","errorMessage",4,"ngIf"],["formControlName","locations","bindValue","id","bindLabel","name",3,"multiple","items","placeholder","clearable","searchable","add","remove"],[1,"col-md-9","mb-3"],["formControlName","systems","bindValue","uuid","bindLabel","name",1,"selectboxwidth",3,"multiple","items","placeholder","clearable","searchable","add","remove"],[1,"errorMessage"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d._uU(4),d.qZA(),d.qZA(),d.TgZ(5,"div",4),d.TgZ(6,"p",5),d._uU(7),d.qZA(),d.qZA(),d.TgZ(8,"div",6),d.TgZ(9,"label",7),d._uU(10),d.qZA(),d.TgZ(11,"div",8),d.TgZ(12,"ng-select",9),d.NdJ("add",function(t){return e.validateRegion(t)})("remove",function(t){return e.loadLocationValue(t)}),d.qZA(),d.YNc(13,P,3,1,"div",10),d.qZA(),d.qZA(),d.TgZ(14,"div",6),d.TgZ(15,"label",7),d._uU(16),d.qZA(),d.TgZ(17,"div",8),d.TgZ(18,"ng-select",11),d.NdJ("add",function(t){return e.validateLocation(t)})("remove",function(t){return e.loadSystemValue(t)}),d.qZA(),d.YNc(19,S,3,1,"div",10),d.qZA(),d.qZA(),d.TgZ(20,"div",12),d.TgZ(21,"label",7),d._uU(22),d.qZA(),d.TgZ(23,"div",8),d.TgZ(24,"ng-select",13),d.NdJ("add",function(t){return e.validateSystem(t)})("remove",function(t){return e.validateSystem(t)}),d.qZA(),d.YNc(25,I,3,1,"div",10),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(1),d.Q6J("formGroup",e.systemForm),d.xp6(3),d.Oqu(e.language["OLT System"]),d.xp6(3),d.Oqu(e.language["Select a region, location, and OLT system to be included in the report"]),d.xp6(3),d.Oqu(e.language["Region(s)"]),d.xp6(2),d.s9C("placeholder",e.language.region),d.Q6J("multiple",!0)("items",e.regionsDataArray)("clearable",!1)("searchable",!0),d.xp6(1),d.Q6J("ngIf",!1),d.xp6(3),d.hij(" ",e.language["Location(s)"],""),d.xp6(2),d.s9C("placeholder",e.language.Location),d.Q6J("multiple",!0)("items",e.locationDataArray)("clearable",!1)("searchable",!0),d.xp6(1),d.Q6J("ngIf",!1),d.xp6(3),d.hij(" ",e.language["System(s)"],""),d.xp6(2),d.s9C("placeholder",e.language.System),d.Q6J("multiple",!0)("items",e.systemDataArray)("clearable",!1)("searchable",!0),d.xp6(1),d.Q6J("ngIf",!1))},directives:[A.JL,A.sg,M.w9,A.JJ,A.u,s.O5],styles:[""]}),e}(),F=l(67236),N=l(55634);function E(t,e){if(1&t){var o=d.EpF();d.TgZ(0,"div",19),d.TgZ(1,"span",20),d._UZ(2,"img",21),d.qZA(),d.TgZ(3,"button",22),d.NdJ("click",function(){return d.CHM(o),d.oxw().closeAlert()}),d._UZ(4,"span"),d.qZA(),d._UZ(5,"div",23),d.qZA()}if(2&t){var n=d.oxw();d.xp6(5),d.Q6J("innerHtml",n.errorInfo,d.oJD)}}function L(t,e){if(1&t){var o=d.EpF();d.TgZ(0,"div",24),d.TgZ(1,"span",25),d._UZ(2,"img",26),d.qZA(),d.TgZ(3,"button",22),d.NdJ("click",function(){return d.CHM(o),d.oxw().success=!1}),d._UZ(4,"span"),d.qZA(),d._UZ(5,"div",23),d.qZA()}if(2&t){var n=d.oxw();d.xp6(5),d.Q6J("innerHtml",n.language[n.successInfo]||n.successInfo,d.oJD)}}var U=function(t,e,o){return{"step-current":t,"":e,"step-done":o}};function J(t,e){if(1&t){var o=d.EpF();d.TgZ(0,"li"),d.TgZ(1,"button",27),d.NdJ("click",function(){var t=d.CHM(o).index;return d.oxw().onTabChange(t)}),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.qZA(),d.qZA()}if(2&t){var n=e.$implicit,i=e.index,l=d.oxw();d.xp6(1),d.s9C("title",l.language[n]||n),d.Q6J("ngClass",d.kEZ(3,U,l.activeTab===n,2===l.tabs.length,l.levelsPassed>i&&l.activeTab!==n)),d.xp6(2),d.Oqu(l.language[n]||n)}}var R=function(t){return{primary:t}};function Y(t,e){if(1&t){var o=d.EpF();d.TgZ(0,"button",28),d.NdJ("click",function(){d.CHM(o);var t=d.oxw();return t.onTabChange(t.selectedTabIndex-1)}),d._UZ(1,"img",29),d._uU(2),d.qZA()}if(2&t){var n=d.oxw();d.Q6J("disabled",0===n.selectedTabIndex)("ngClass",d.VKq(3,R,0!==n.selectedTabIndex)),d.xp6(2),d.hij(" ",n.language["Go back"]," ")}}function Q(t,e){if(1&t){var o=d.EpF();d.TgZ(0,"button",30),d.NdJ("click",function(){d.CHM(o);var t=d.oxw();return t.onTabChange(t.selectedTabIndex+1)}),d._uU(1),d._UZ(2,"img",31),d.qZA()}if(2&t){var n=d.oxw();d.Q6J("disabled",n.disableNextBtn),d.xp6(1),d.hij(" ",n.language.save_and_continue," ")}}function V(t,e){if(1&t){var o=d.EpF();d.TgZ(0,"button",32),d.NdJ("click",function(){d.CHM(o);var t=d.oxw();return t.deploy(null!=t.workflowObj&&t.workflowObj.status?null==t.workflowObj?null:t.workflowObj.status:"DRAFT")}),d._uU(1),d.qZA()}if(2&t){var n=d.oxw();d.Q6J("disabled",n.disableFinishBtn),d.xp6(1),d.hij(" ",n.language.save_and_pause," ")}}function W(t,e){if(1&t){var o=d.EpF();d.TgZ(0,"button",33),d.NdJ("click",function(){return d.CHM(o),d.oxw().deploy("RUN")}),d._uU(1),d.qZA()}if(2&t){var n=d.oxw();d.Q6J("disabled",n.disableFinishBtn),d.xp6(1),d.hij(" ",n.language.save_and_activate," ")}}function B(t,e){if(1&t&&(d.TgZ(0,"div",34),d.TgZ(1,"div",35),d.TgZ(2,"div",36),d.TgZ(3,"span",37),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){var o=d.oxw();d.xp6(4),d.Oqu(o.language.Loading)}}function D(t,e){if(1&t){var o=d.EpF();d.TgZ(0,"app-details",38),d.NdJ("isFormValid",function(t){return d.CHM(o),d.oxw().validateForm(t)}),d.qZA()}if(2&t){var n=d.oxw();d.Q6J("workflowObj",n.workflowObj)}}function H(t,e){if(1&t){var o=d.EpF();d.TgZ(0,"app-system",38),d.NdJ("isFormValid",function(t){return d.CHM(o),d.oxw().validateForm(t)}),d.qZA()}if(2&t){var n=d.oxw();d.Q6J("workflowObj",n.workflowObj)}}function z(t,e){if(1&t){var o=d.EpF();d.TgZ(0,"app-recepients",39),d.NdJ("isFormValid",function(t){return d.CHM(o),d.oxw().validateForm(t)}),d.qZA()}if(2&t){var n=d.oxw();d.Q6J("dynamicFields",n.recepientFormFields)("dynamicFieldsObj",n.recepientFormFieldsObj)("workflowObj",n.workflowObj)}}function $(t,e){if(1&t){var o=d.EpF();d.TgZ(0,"app-summary",38),d.NdJ("isFormValid",function(t){return d.CHM(o),d.oxw().validateForm(t)}),d.qZA()}if(2&t){var n=d.oxw();d.Q6J("workflowObj",n.workflowObj)}}var X=function(){var t=function(){function t(e,n,i,l,r,s,a,c,f,d){o(this,t),this.translateService=e,this.titleService=n,this.otlrWrkflwSrvc=i,this.route=l,this.commonOrgService=r,this.http=s,this.router=a,this.commonWorkflowService=c,this.dateUtils=f,this.modalService=d,this.titleObj={OPTICAL_OUTLIERS:"Optical Outlier Notification",EARLY_WARN_PON_CAP:"Early Warning PON Capacity Notification",EARLY_WARN_ETH_CAP:"Early Warning Ethernet Capacity Notification",EARLY_WARN_PON_LOSS:"Early Warning PON Loss Notification"},this.recepientFormFields=[{key:"emailRecipients",required:!0},{key:"emailNotes",required:!1},{key:"sms",required:!0},{key:"webhooks",required:!0}],this.recepientFormFieldsObj={emailRecipients:"emailRecipients",emailNotes:"emailNotes",sms:"sms",webhooks:"webhooks"},this.loader=!1,this.disableFinishBtn=!1,this.outliersWorkflow=u,this.activeTab=null==u?void 0:u.DETAILS_LABEL,this.selectedTabIndex=0,this.isTabChange=!0,this.disableNextBtn=!1,this.error=!1,this.errorInfo="",this.tabs=[null==u?void 0:u.DETAILS_LABEL,null==u?void 0:u.SYSTEMS_LABEL,null==u?void 0:u.RECEPIENTS_LABEL,null==u?void 0:u.SUMMARY_LABEL],this.workflowObj={isNew:!0,active:!0,regions:["All"],locations:["All"],systems:["All"],emailRecipients:[],emailNotes:"",uuid:"",name:"",description:"",status:"DRAFT",sms:[],webhooks:[],forms:{0:{valid:!1},1:{valid:!1},2:{valid:!1}},isConsentMsgSmsPopupAccepted:!1,isLoadConsentMsgSmsPopupApplicable:!0},this.levelsPassed=0}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.title="New ".concat(this.titleObj[this.otlrWrkflwSrvc.getType()]),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){t.language=e,t.titleService.setTitle("".concat(t.titleObj[t.otlrWrkflwSrvc.getType()]," - ").concat(t.language["Email Notifications"]," - ").concat(t.language.Network_Operations," - ").concat(t.language.Operations," - ").concat(t.language.Operations," - ").concat(t.language["Calix Cloud"]))}),this.titleService.setTitle("".concat(this.titleObj[this.otlrWrkflwSrvc.getType()]," - ").concat(this.language["Email Notifications"]," - ").concat(this.language.Network_Operations," - ").concat(this.language.Operations," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"]));var e=this.route.snapshot.paramMap.get("id");console.log(this.route.snapshot.params),this.route.paramMap.subscribe(function(t){console.log(t.get("id")),console.log(t.get("type"))}),e&&this.getRecordById(e)}},{key:"openModal",value:function(){var t=this,e=this.modalService.open(f.J);e.componentInstance.workflowObj=this.workflowObj,e.result.then(function(e){e&&(console.log(e),t.onTabChange(t.selectedTabIndex+1))}).catch(function(t){})}},{key:"onTabChange",value:function(t){var e,o,n,i,l,r,s,a;if(t>this.selectedTabIndex){var c=!0;this.commonWorkflowService.setTabChange();for(var u=0;u<t;u++)if(!(null===(n=null===(o=null===(e=this.workflowObj)||void 0===e?void 0:e.forms)||void 0===o?void 0:o[u])||void 0===n?void 0:n.valid)){c=!1;break}if(!c)return;if(2==this.selectedTabIndex&&(null===(i=this.workflowObj)||void 0===i?void 0:i.isLoadConsentMsgSmsPopupApplicable)&&!(null===(l=this.workflowObj)||void 0===l?void 0:l.isConsentMsgSmsPopupAccepted)&&(null===(s=null===(r=this.workflowObj)||void 0===r?void 0:r.sms)||void 0===s?void 0:s.length))return void this.openModal();if(0==this.selectedTabIndex&&(null===(a=this.workflowObj)||void 0===a?void 0:a.isNew)){var f={name:this.workflowObj.name,description:this.workflowObj.description,type:this.otlrWrkflwSrvc.getType(),timeZone:this.dateUtils.getTImeZoneWithOffset()};this.create(f,t)}else this.update(t)}else this.updateTab(t)}},{key:"closeAlert",value:function(){this.error=!1,this.errorInfo=""}},{key:"validateForm",value:function(t){var e,o;(null===(o=null===(e=this.workflowObj)||void 0===e?void 0:e.forms)||void 0===o?void 0:o[this.selectedTabIndex])&&(this.workflowObj.forms[this.selectedTabIndex].valid=t)}},{key:"getRecordById",value:function(t){var e=this;this.loader=!0;var o="".concat(c.N.API_BASE_URL,"health/config/notifications/").concat(encodeURIComponent(t));this.http.get(o).subscribe(function(t){var o,n;t&&Object.keys(t).length&&(e.setFormStatus(t),e.workflowObj=Object.assign(Object.assign({},e.workflowObj),t),e.workflowObj.isNew=!1,console.log(e.workflowObj),(null===(n=null===(o=e.workflowObj)||void 0===o?void 0:o.sms)||void 0===n?void 0:n.length)&&(e.workflowObj.isConsentMsgSmsPopupAccepted=!0,e.workflowObj.isLoadConsentMsgSmsPopupApplicable=!1)),e.loader=!1},function(t){console.log(t),e.pageErrorHandle(t)})}},{key:"pageErrorHandle",value:function(t){this.errorInfo=401==t.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(t),this.error=!0,this.loader=!1}},{key:"create",value:function(t,e){var o=this;this.http.post("".concat(c.N.API_BASE_URL,"health/config/notifications"),t,{responseType:"text"}).subscribe(function(t){console.log(t),o.setSuccessInfo("Successfully Saved"),o.workflowObj.isNew=!1,o.updateTab(e)},function(t){console.log(t),o.pageErrorHandle(t)})}},{key:"update",value:function(t){var e,o,n,i,l,r,s,a,u,f,d,g=this,p="".concat(c.N.API_BASE_URL,"health/config/notifications/").concat(encodeURIComponent(this.workflowObj.name)),b={name:this.workflowObj.name,description:this.workflowObj.description,status:(null===(e=this.workflowObj)||void 0===e?void 0:e.status)?null===(o=this.workflowObj)||void 0===o?void 0:o.status:"DRAFT",type:this.otlrWrkflwSrvc.getType(),timeZone:this.dateUtils.getTImeZoneWithOffset()};if(null===(n=this.workflowObj.regions)||void 0===n?void 0:n.length){var w=null===(i=this.workflowObj.regions)||void 0===i?void 0:i.indexOf("All");-1!==w&&(null===(l=this.workflowObj.regions)||void 0===l||l.splice(w,1))}if(null===(r=this.workflowObj.locations)||void 0===r?void 0:r.length){var h=null===(s=this.workflowObj.locations)||void 0===s?void 0:s.indexOf("All");-1!==h&&(null===(a=this.workflowObj.locations)||void 0===a||a.splice(h,1))}if(null===(u=this.workflowObj.systems)||void 0===u?void 0:u.length){var m=null===(f=this.workflowObj.systems)||void 0===f?void 0:f.indexOf("All");-1!==m&&(null===(d=this.workflowObj.systems)||void 0===d||d.splice(m,1))}1==this.selectedTabIndex?b=Object.assign(Object.assign({},b),{regions:this.workflowObj.regions,locations:this.workflowObj.locations,systems:this.workflowObj.systems}):2==this.selectedTabIndex&&(b=Object.assign(Object.assign({},b),{regions:this.workflowObj.regions,locations:this.workflowObj.locations,systems:this.workflowObj.systems,emailRecipients:this.workflowObj.emailRecipients,emailNotes:this.workflowObj.emailNotes,sms:this.workflowObj.sms,webhooks:this.workflowObj.webhooks})),this.http.put(p,b,{responseType:"text"}).subscribe(function(e){console.log(e),g.setSuccessInfo("Successfully Saved"),g.updateTab(t)},function(t){console.log(t),g.pageErrorHandle(t)})}},{key:"deploy",value:function(t){var e=this,o="".concat(c.N.API_BASE_URL,"health/config/notifications/").concat(encodeURIComponent(this.workflowObj.name)),n={name:this.workflowObj.name,description:this.workflowObj.description,regions:this.workflowObj.regions,locations:this.workflowObj.locations,systems:this.workflowObj.systems,emailRecipients:this.workflowObj.emailRecipients,emailNotes:this.workflowObj.emailNotes,status:t,type:this.otlrWrkflwSrvc.getType(),sms:this.workflowObj.sms,webhooks:this.workflowObj.webhooks,timeZone:this.dateUtils.getTImeZoneWithOffset()};this.http.put(o,n,{responseType:"text"}).subscribe(function(o){console.log(o);var n="".concat(e.titleObj[e.otlrWrkflwSrvc.getType()]," Schedule successfully paused");"RUN"===t&&(n="".concat(e.titleObj[e.otlrWrkflwSrvc.getType()]," Schedule successfully deployed")),e.setSuccessInfo(n),setTimeout(function(){e.selectedTabIndex>2&&e.router.navigate(["/cco/operations/alarms/health-alarm-notifications"])},2e3)},function(t){console.log(t),e.pageErrorHandle(t)})}},{key:"updateTab",value:function(t){this.activeTab=this.tabs[t],this.disableNextBtn=!1,this.selectedTabIndex=t,this.isTabChange=!this.isTabChange,this.levelsPassed<t&&(this.levelsPassed=t)}},{key:"setSuccessInfo",value:function(t){var e=this;this.success=!0,this.successInfo=t,setTimeout(function(){e.success=!1},2e3)}},{key:"setFormStatus",value:function(t){var e,o,n;(null==t?void 0:t.name)&&(this.workflowObj.forms[0].valid=!0,this.levelsPassed=1),(null==t?void 0:t.name)&&(this.workflowObj.forms[1].valid=!0,this.levelsPassed=2),((null==t?void 0:t.name)&&(null===(e=null==t?void 0:t.emailRecipients)||void 0===e?void 0:e.length)||(null===(o=null==t?void 0:t.sms)||void 0===o?void 0:o.length)||(null===(n=null==t?void 0:t.webhooks)||void 0===n?void 0:n.length))&&(this.workflowObj.forms[2].valid=!0,this.levelsPassed=3)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(g.s),d.Y36(p.Dx),d.Y36(w),d.Y36(a.gz),d.Y36(h.v),d.Y36(m.eN),d.Y36(a.F0),d.Y36(v.Z),d.Y36(O.s),d.Y36(k.FF))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-outliers-workflow-wizward"]],decls:24,vars:13,consts:[["class","w-100 alert alert-danger fade show my-3",4,"ngIf"],["class","w-100 alert alert-success fade show my-3",4,"ngIf"],["id","outage-workflow",1,"outage-workflow"],[1,"d-flex","w-100","border-bottom","justify-content-between","align-items-center","pb-1"],[1,"col","px-0"],[1,"ccl-admin-title","pr-3"],[1,"col-auto","px-0","text-right"],["routerLink","/cco/operations/alarms/health-alarm-notifications",1,"close","cursor-pointer","mt-1"],[1,"stepper-main","mt-3","mb-3"],[1,"stepper-ui"],[4,"ngFor","ngForOf"],[1,"pos-action-btn"],["type","button","class","btn-arrow btn-arr-prev btn-grey mr-2 float-left",3,"disabled","ngClass","click",4,"ngIf"],["type","button","class","btn-default primary mr-2",3,"disabled","click",4,"ngIf"],["type","button","class","btn-default primary px-3 mr-2",3,"disabled","click",4,"ngIf"],["type","button","class","btn-default primary px-3",3,"disabled","click",4,"ngIf"],["class","loader",4,"ngIf"],[3,"workflowObj","isFormValid",4,"ngIf"],[3,"dynamicFields","dynamicFieldsObj","workflowObj","isFormValid",4,"ngIf"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert-success","fade","show","my-3"],[1,"success-img"],["src","./assets/img/success-icon.svg"],[3,"title","ngClass","click"],["type","button",1,"btn-arrow","btn-arr-prev","btn-grey","mr-2","float-left",3,"disabled","ngClass","click"],["src","assets/img/ic_chevronleft_grey.svg"],["type","button",1,"btn-default","primary","mr-2",3,"disabled","click"],["src","assets/img/ic_chevron-r-w.svg"],["type","button",1,"btn-default","primary","px-3","mr-2",3,"disabled","click"],["type","button",1,"btn-default","primary","px-3",3,"disabled","click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[3,"workflowObj","isFormValid"],[3,"dynamicFields","dynamicFieldsObj","workflowObj","isFormValid"]],template:function(t,e){1&t&&(d.YNc(0,E,6,1,"div",0),d.YNc(1,L,6,1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"div",6),d.TgZ(8,"button",7),d._UZ(9,"span"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(10,"section",8),d.TgZ(11,"ul",9),d.YNc(12,J,4,7,"li",10),d.qZA(),d.TgZ(13,"div",11),d.YNc(14,Y,3,5,"button",12),d.YNc(15,Q,3,2,"button",13),d.YNc(16,V,2,2,"button",14),d.YNc(17,W,2,2,"button",15),d.qZA(),d.qZA(),d.YNc(18,B,5,1,"div",16),d.TgZ(19,"div"),d.YNc(20,D,1,1,"app-details",17),d.YNc(21,H,1,1,"app-system",17),d.YNc(22,z,1,3,"app-recepients",18),d.YNc(23,$,1,1,"app-summary",17),d.qZA(),d.qZA()),2&t&&(d.Q6J("ngIf",e.error),d.xp6(1),d.Q6J("ngIf",e.success),d.xp6(5),d.Oqu((null==e.workflowObj?null:e.workflowObj.name)||e.title),d.xp6(6),d.Q6J("ngForOf",e.tabs),d.xp6(2),d.Q6J("ngIf",e.selectedTabIndex>0),d.xp6(1),d.Q6J("ngIf",e.selectedTabIndex+1!==(null==e.tabs?null:e.tabs.length)),d.xp6(1),d.Q6J("ngIf",e.selectedTabIndex+1===(null==e.tabs?null:e.tabs.length)),d.xp6(1),d.Q6J("ngIf",e.selectedTabIndex+1===(null==e.tabs?null:e.tabs.length)),d.xp6(1),d.Q6J("ngIf",e.loader),d.xp6(2),d.Q6J("ngIf",e.activeTab===(null==e.outliersWorkflow?null:e.outliersWorkflow.DETAILS_LABEL)),d.xp6(1),d.Q6J("ngIf",e.activeTab===(null==e.outliersWorkflow?null:e.outliersWorkflow.SYSTEMS_LABEL)),d.xp6(1),d.Q6J("ngIf",e.activeTab===(null==e.outliersWorkflow?null:e.outliersWorkflow.RECEPIENTS_LABEL)),d.xp6(1),d.Q6J("ngIf",e.activeTab===(null==e.outliersWorkflow?null:e.outliersWorkflow.SUMMARY_LABEL)))},directives:[s.O5,a.rH,s.sg,s.mk,y.M,q,F.F,N.C],styles:['#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .stepper-main[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;position:relative}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]{width:100%;display:flex;flex:0 0 100%;position:relative}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--1[_ngcontent-%COMP%], #outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--2[_ngcontent-%COMP%], #outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--3[_ngcontent-%COMP%], #outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--4[_ngcontent-%COMP%], #outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--5[_ngcontent-%COMP%]{width:calc(100% / 5);padding:5px 25px;background:#ebeaef!important;color:gray;text-align:center;cursor:pointer!important;border-radius:20px}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:first-child{border-top-left-radius:20px;border-bottom-left-radius:20px}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--1[_ngcontent-%COMP%]{z-index:55!important}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--2[_ngcontent-%COMP%]{z-index:44!important;transform:translate(-20px)}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--3[_ngcontent-%COMP%]{z-index:33!important;transform:translate(-40px)}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--4[_ngcontent-%COMP%]{z-index:22!important;transform:translate(-60px)!important}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--5[_ngcontent-%COMP%]{z-index:11!important;transform:translate(-80px)!important}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step-active[_ngcontent-%COMP%]{background:#0279ff!important;color:#fff!important;z-index:99!important;border-radius:20px!important}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step-success[_ngcontent-%COMP%]{background:#82bf00!important;color:#fff!important;z-index:101!important;border-radius:20px!important}.outage-workflow[_ngcontent-%COMP%]{position:relative}.close-box[_ngcontent-%COMP%]{font-size:24px;font-weight:300;color:gray}.btn-arrow.btn-grey[_ngcontent-%COMP%]{border:1px solid #CCCCCC!important;background-color:#f8f8fa!important;color:#4c4c4c!important}.stepper-main[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;flex-direction:column;position:relative}.stepper-ui[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0 0 10px;padding:0;overflow:hidden;width:100%}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 10px 0 30px;color:#1a1f22;position:relative;height:32px;border-top:1px solid #0279ff;border-bottom:1px solid #0279ff;border-right:0px!important;border-left:0px!important;outline:none!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:2}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{content:"";width:30px;height:100%;background:transparent;position:absolute;top:0;right:-10px;transform:rotate(48deg);z-index:1;border:1px ridge transparent;border-top-color:#0279ff;border-right-color:#0279ff;border-top-right-radius:5px}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]{color:#fff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:after{background-color:#0279ff!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]{background-color:#82bf00!important;border-color:#82bf00}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:after{background-color:#82bf00!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:disabled{background-color:#82bf00!important;border-color:#82bf00!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:after{border-top-color:#fff!important;border-right-color:#fff!important;border-style:solid}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:after{border-top-color:#0279ff!important;border-right-color:#0279ff!important;border-style:solid}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   button[_ngcontent-%COMP%]{border-top-left-radius:30px;border-bottom-left-radius:30px}button[_ngcontent-%COMP%]:disabled{background:transparent!important;border-color:#0279ff!important;cursor:not-allowed;color:#4c4c4c}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f5faff;color:#0279ff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{background-color:#f5faff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:-1px;width:20px;height:32px;background-color:transparent;border-top:1px solid #0279ff;border-bottom:1px solid #0279ff;z-index:9}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#1a1f22}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled:after{background-color:#fff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%]{opacity:.8;color:#fff!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:before, .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:before{display:none}.btn-arr-nxt[_ngcontent-%COMP%]:disabled{background:#0279ff!important;border:1px solid #0279ff!important;cursor:not-allowed;opacity:.5;color:#81bcff}.pos-action-btn[_ngcontent-%COMP%]{position:absolute;right:0px;top:0px}']}),t}(),G=[{path:"",component:function(){var t=function(){function t(e,n){o(this,t),this.route=e,this.workflowService=n}return i(t,[{key:"ngOnInit",value:function(){var t;console.log(this.route.snapshot.params),this.workflowService.setType(null===(t=this.route.snapshot.params)||void 0===t?void 0:t.type)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(a.gz),d.Y36(w))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-outliers-workflow"]],decls:1,vars:0,template:function(t,e){1&t&&d._UZ(0,"router-outlet")},directives:[a.lC],styles:[""]}),t}(),children:[{path:"add",component:X},{path:"edit/:id",component:X},{path:"",redirectTo:"add",pathMatch:"full"}]}],K=function(){var t=i(function t(){o(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[a.Bz.forChild(G)],a.Bz]}),t}(),tt=l(89043),et=function(){var t=i(function t(){o(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[s.ez,A.UX,M.A0,K,tt.R]]}),t}()},1570:function(t,e,n){n.d(e,{f:function(){return O}});var l=n(92340),r=n(37716),s=n(7450),a=n(38583);function c(t,e){1&t&&(r.TgZ(0,"span"),r._uU(1,"-"),r.qZA())}function u(t,e){1&t&&r._UZ(0,"br")}function f(t,e){if(1&t&&(r.TgZ(0,"span"),r._uU(1),r.YNc(2,u,1,0,"br",1),r.qZA()),2&t){var o=e.$implicit,n=e.last;r.xp6(1),r.hij(" ",o,""),r.xp6(1),r.Q6J("ngIf",!n)}}function d(t,e){1&t&&(r.TgZ(0,"span"),r._uU(1,"-"),r.qZA())}function g(t,e){1&t&&r._UZ(0,"br")}function p(t,e){if(1&t&&(r.TgZ(0,"span"),r._uU(1),r.YNc(2,g,1,0,"br",1),r.qZA()),2&t){var o=e.$implicit,n=e.last;r.xp6(1),r.hij(" ",o,""),r.xp6(1),r.Q6J("ngIf",!n)}}function b(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r.YNc(4,d,2,0,"span",1),r.YNc(5,p,3,2,"span",2),r.qZA(),r.qZA()),2&t){var o=r.oxw();r.xp6(2),r.hij("SMS (",null!=o.workflowObj&&null!=o.workflowObj.sms&&o.workflowObj.sms.length?null==o.workflowObj||null==o.workflowObj.sms?null:o.workflowObj.sms.length:0,")"),r.xp6(2),r.Q6J("ngIf",!(null!=o.workflowObj&&null!=o.workflowObj.sms&&o.workflowObj.sms.length)),r.xp6(1),r.Q6J("ngForOf",null==o.workflowObj?null:o.workflowObj.sms)}}function w(t,e){1&t&&(r.TgZ(0,"span"),r._uU(1,"-"),r.qZA())}function h(t,e){1&t&&r._UZ(0,"br")}function m(t,e){if(1&t&&(r.TgZ(0,"span",3),r._uU(1),r.YNc(2,h,1,0,"br",1),r.qZA()),2&t){var o=e.$implicit,n=e.last;r.xp6(1),r.hij(" ",o,""),r.xp6(1),r.Q6J("ngIf",!n)}}var v,O=((v=function(){function t(e){o(this,t),this.translateService=e}return i(t,[{key:"workflowObj",get:function(){return this._workflowObj},set:function(t){console.log(t),this._workflowObj=t}},{key:"ngOnInit",value:function(){var t,e=this;-1!==(null===(t=l.N.API_BASE_URL)||void 0===t?void 0:t.indexOf("dev.api.calix.ai"))&&(this.showSms=!0),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t})}}]),t}()).\u0275fac=function(t){return new(t||v)(r.Y36(s.s))},v.\u0275cmp=r.Xpm({type:v,selectors:[["app-summary-recepients"]],inputs:{workflowObj:"workflowObj"},decls:21,vars:10,consts:[[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-break"],["class","text-break",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.TgZ(0,"table",0),r.TgZ(1,"tbody"),r.TgZ(2,"tr"),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r.YNc(6,c,2,0,"span",1),r.YNc(7,f,3,2,"span",2),r.qZA(),r.qZA(),r.TgZ(8,"tr"),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td",3),r._uU(12),r.qZA(),r.qZA(),r.YNc(13,b,6,3,"tr",1),r.TgZ(14,"tr"),r.TgZ(15,"td"),r.TgZ(16,"span"),r._uU(17),r.qZA(),r.qZA(),r.TgZ(18,"td"),r.YNc(19,w,2,0,"span",1),r.YNc(20,m,3,2,"span",4),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(4),r.AsE("",e.language.Email," (",null!=e.workflowObj&&null!=e.workflowObj.emailRecipients&&e.workflowObj.emailRecipients.length?null==e.workflowObj||null==e.workflowObj.emailRecipients?null:e.workflowObj.emailRecipients.length:0,")"),r.xp6(2),r.Q6J("ngIf",!(null!=e.workflowObj&&null!=e.workflowObj.emailRecipients&&e.workflowObj.emailRecipients.length)),r.xp6(1),r.Q6J("ngForOf",null==e.workflowObj?null:e.workflowObj.emailRecipients),r.xp6(3),r.Oqu(e.language.Notes),r.xp6(2),r.hij(" ",null!=e.workflowObj&&e.workflowObj.emailNotes?null==e.workflowObj?null:e.workflowObj.emailNotes:"-"," "),r.xp6(1),r.Q6J("ngIf",e.showSms),r.xp6(4),r.hij("Webhook (",null!=e.workflowObj&&null!=e.workflowObj.webhooks&&e.workflowObj.webhooks.length?null==e.workflowObj||null==e.workflowObj.webhooks?null:e.workflowObj.webhooks.length:0,")"),r.xp6(2),r.Q6J("ngIf",!(null!=e.workflowObj&&null!=e.workflowObj.webhooks&&e.workflowObj.webhooks.length)),r.xp6(1),r.Q6J("ngForOf",null==e.workflowObj?null:e.workflowObj.webhooks))},directives:[a.O5,a.sg],styles:[""]}),v)}}])}();