!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(i=n.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),n)}var i,o}function o(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[6436],{66436:function(a,i,r){r.r(i),r.d(i,{DeviceAlarmsModule:function(){return kn}});var s=r(38583),l=r(39895),c=r(11067),d=r(92340),g=r(5304),u=r(88002),m=r(79765),p=r(25917),h=r(35758),v=r(39897),f=r(40205),y=r(22759),b=r(23771),C=r(33439),x=r.n(C),A=r(3679),Z=r(54395),O=r(87519),S=r(43190),T=r(37716),_=r(91841),w=r(7450),k=r(49342),q=r(13149),M=r(21693),N=r(14541),D=r(12664),P=r(89097),E=r(48483),I=r(39075),U=r(86640),F=r(87582),L=r(18638),j=r(74062),J=["tableModal"],R=["showInfoModal"],H=["addNotesModal"],Q=["showNotesModal"],B=["deleteModal"],V=["addSubscriberInfoModel"],Y=function(){return{width:"100%",height:"36px"}},z=function(){return{height:"36px"}};function G(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",61),T.TgZ(1,"label",62),T._uU(2),T.qZA(),T.TgZ(3,"div",63),T.TgZ(4,"div",64),T.TgZ(5,"p-calendar",65),T.NdJ("onSelect",function(){return T.CHM(a),T.oxw(2).changeStartDate()}),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.Start_Date),T.xp6(3),T.Akn(T.DdM(10,Y)),T.s9C("placeholder",n.language["Select Date"]),T.Q6J("inputStyle",T.DdM(11,z))("autoZIndex",!0)("showIcon",!0)("maxDate",n.maxForStartDate)("readonlyInput",!0)("showButtonBar",!0)}}function W(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",66),T.TgZ(1,"label",62),T._uU(2),T.qZA(),T.TgZ(3,"div",63),T.TgZ(4,"div",64),T.TgZ(5,"p-calendar",67),T.NdJ("onSelect",function(){return T.CHM(a),T.oxw(2).changeDate()}),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.endDate),T.xp6(3),T.Akn(T.DdM(11,Y)),T.s9C("placeholder",n.language["Select Date"]),T.Q6J("inputStyle",T.DdM(12,z))("autoZIndex",!0)("showIcon",!0)("maxDate",n.maxDate)("minDate",n.FromDate)("readonlyInput",!0)("showButtonBar",!0)}}function K(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",68),T.TgZ(1,"label",62),T._uU(2),T.qZA(),T.TgZ(3,"div",63),T.TgZ(4,"ng-select",69),T.NdJ("add",function(e){return T.CHM(a),T.oxw(2).validateRegion(e)})("remove",function(e){return T.CHM(a),T.oxw(2).loadLocationValue(e)}),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.region),T.xp6(2),T.s9C("placeholder",n.language.region),T.Q6J("multiple",!0)("items",n.regionsDataArray)("clearable",!1)("searchable",!0)}}function X(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",68),T.TgZ(1,"label",62),T._uU(2),T.qZA(),T.TgZ(3,"div",63),T.TgZ(4,"ng-select",70),T.NdJ("add",function(e){return T.CHM(a),T.oxw(2).validateLocation(e)})("remove",function(e){return T.CHM(a),T.oxw(2).loadSystemValue(e)}),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.Location),T.xp6(2),T.s9C("placeholder",n.language.Location),T.Q6J("multiple",!0)("items",n.locationDataArray)("clearable",!1)("searchable",!0)}}function ee(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",68),T.TgZ(1,"label",62),T._uU(2),T.qZA(),T.TgZ(3,"div",63),T.TgZ(4,"ng-select",71),T.NdJ("change",function(e){return T.CHM(a),T.oxw(2).selectSystem(e)})("add",function(e){return T.CHM(a),T.oxw(2).validateSystem(e)})("remove",function(e){return T.CHM(a),T.oxw(2).validateSystem(e)}),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.System),T.xp6(2),T.s9C("placeholder",n.language.System),T.Q6J("multiple",!0)("items",n.systemDataArray)("clearable",!1)("searchable",!0)}}function te(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",68),T.TgZ(1,"label",62),T._uU(2),T.qZA(),T.TgZ(3,"div",72),T.TgZ(4,"ng-select",73),T.NdJ("add",function(e){return T.CHM(a),T.oxw(2).validateAlarmEvent(e)})("remove",function(e){return T.CHM(a),T.oxw(2).validateAlarmEvent(e)})("change",function(e){return T.CHM(a),T.oxw(2).validateAlarmName(e)}),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language["Alarm Name"]),T.xp6(2),T.s9C("placeholder",n.language["Alarm Name"]),T.Q6J("searchable",!0)("multiple",!0)("items",n.alarmNames)}}function ae(e,t){if(1&e&&(T.TgZ(0,"small",77),T._uU(1),T.qZA()),2&e){var a=T.oxw(3);T.xp6(1),T.Oqu(a.language["Invalid FSAN"])}}function ne(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",68),T.TgZ(1,"label",62),T._uU(2),T.qZA(),T.TgZ(3,"div",74),T.TgZ(4,"input",75),T.NdJ("keypress",function(e){return T.CHM(a),T.oxw(2).removespecialcharacter(e)})("keyup",function(){return T.CHM(a),T.oxw(2).validateFSAN()}),T.qZA(),T.YNc(5,ae,2,1,"small",76),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.FSAN),T.xp6(2),T.s9C("placeholder",n.language.FSAN),T.xp6(1),T.Q6J("ngIf",n.fsanvalid)}}function ie(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",68),T.TgZ(1,"label",62),T._uU(2),T.qZA(),T.TgZ(3,"div",63),T.TgZ(4,"ng-select",78),T.NdJ("change",function(){return T.CHM(a),T.oxw(2).changeSeverity()}),T.TgZ(5,"ng-option",79),T._uU(6),T.qZA(),T.TgZ(7,"ng-option",80),T._uU(8),T.qZA(),T.TgZ(9,"ng-option",81),T._uU(10),T.qZA(),T.TgZ(11,"ng-option",82),T._uU(12),T.qZA(),T.TgZ(13,"ng-option",83),T._uU(14),T.qZA(),T.TgZ(15,"ng-option",84),T._uU(16),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.Severity),T.xp6(2),T.s9C("placeholder",n.language.Severity),T.Q6J("clearable",!1)("searchable",!1)("multiple",!1),T.xp6(2),T.Oqu(n.language.All),T.xp6(2),T.Oqu(n.language.critical),T.xp6(2),T.Oqu(n.language.major),T.xp6(2),T.Oqu(n.language.minor),T.xp6(2),T.Oqu(n.language.Warning),T.xp6(2),T.Oqu(n.language.Info)}}function oe(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",68),T.TgZ(1,"label",85),T._uU(2),T.qZA(),T.TgZ(3,"div",63),T.TgZ(4,"ng-select",86),T.NdJ("add",function(e){return T.CHM(a),T.oxw(2).validateCategory(e)})("remove",function(e){return T.CHM(a),T.oxw(2).validateCategory(e)}),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.Category),T.xp6(2),T.s9C("placeholder",n.language.Category),T.Q6J("searchable",!0)("multiple",!0)("items",n.categories)}}function re(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",68),T.TgZ(1,"label",87),T._uU(2),T.qZA(),T.TgZ(3,"div",63),T.TgZ(4,"ng-select",88),T.NdJ("change",function(e){return T.CHM(a),T.oxw(2).changeCustomCategory(e)}),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language["Alarm Group"]),T.xp6(2),T.s9C("placeholder",n.language["Alarm Group"]),T.Q6J("clearable",!1)("searchable",!0)("multiple",!1)("items",n.customCategories)}}function se(e,t){if(1&e&&(T.TgZ(0,"div",68),T.TgZ(1,"label",89),T._uU(2),T.qZA(),T.TgZ(3,"div",63),T._UZ(4,"ng-select",90),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(2),T.Oqu(a.language["Acknowledged Alarms"]),T.xp6(2),T.s9C("placeholder",a.language["Acknowledged Alarms"]),T.Q6J("clearable",!1)("searchable",!0)("multiple",!1)("items",a.acknowledgedAlarms)}}function le(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"section",46),T.TgZ(1,"div",47),T.TgZ(2,"form",48),T.TgZ(3,"div",49),T.TgZ(4,"div",50),T.TgZ(5,"div",51),T.TgZ(6,"div",52),T.YNc(7,G,6,12,"div",53),T.YNc(8,W,6,13,"div",54),T.YNc(9,K,5,6,"div",55),T.YNc(10,X,5,6,"div",55),T.YNc(11,ee,5,6,"div",55),T.YNc(12,te,5,5,"div",55),T.YNc(13,ne,6,3,"div",55),T.YNc(14,ie,17,11,"div",55),T.YNc(15,oe,5,5,"div",55),T.YNc(16,re,5,6,"div",55),T.YNc(17,se,5,6,"div",55),T.qZA(),T.qZA(),T.qZA(),T.TgZ(18,"div",56),T.TgZ(19,"div",57),T.TgZ(20,"div",58),T.TgZ(21,"button",59),T.NdJ("click",function(e){return T.CHM(a),T.oxw().loadIntialData(e)}),T._uU(22),T.qZA(),T.TgZ(23,"button",60),T.NdJ("click",function(){return T.CHM(a),T.oxw().clearFilter()}),T._uU(24),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw();T.xp6(2),T.Q6J("formGroup",n.filtersForm),T.xp6(5),T.Q6J("ngIf",n.appliedFilters.startDate),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.endDate),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.region),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.location),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.system),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.eventName),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.fsan),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.severity),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.category),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.customCategory),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.cco_ack),T.xp6(5),T.hij(" ",n.language.apply," "),T.xp6(2),T.hij(" ",n.language.Clear_Filters," ")}}function ce(e,t){if(1&e&&(T.TgZ(0,"div",91),T._uU(1),T.qZA()),2&e){var a=T.oxw();T.xp6(1),T.hij(" ",a.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function de(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",118),T.TgZ(1,"span",119),T._UZ(2,"img",120),T.qZA(),T.TgZ(3,"button",121),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).errors.severity=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",122),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.errors.severity,T.oJD)}}function ge(e,t){if(1&e&&(T.TgZ(0,"div",123),T.TgZ(1,"div",124),T.TgZ(2,"div",125),T.TgZ(3,"span",126),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function ue(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",118),T.TgZ(1,"span",119),T._UZ(2,"img",120),T.qZA(),T.TgZ(3,"button",121),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).errors.byday=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",122),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.errors.byday,T.oJD)}}function me(e,t){if(1&e&&(T.TgZ(0,"div",123),T.TgZ(1,"div",124),T.TgZ(2,"div",125),T.TgZ(3,"span",126),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function pe(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",118),T.TgZ(1,"span",119),T._UZ(2,"img",120),T.qZA(),T.TgZ(3,"button",121),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).systemError=!1}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",122),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.systemErrorInfo,T.oJD)}}function he(e,t){if(1&e&&(T.TgZ(0,"div",123),T.TgZ(1,"div",124),T.TgZ(2,"div",125),T.TgZ(3,"span",126),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function ve(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",118),T.TgZ(1,"span",119),T._UZ(2,"img",120),T.qZA(),T.TgZ(3,"button",121),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).regionError=!1}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",122),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.regionErrorInfo,T.oJD)}}function fe(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",118),T.TgZ(1,"span",119),T._UZ(2,"img",120),T.qZA(),T.TgZ(3,"button",121),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).errors.region=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",122),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.errors.region,T.oJD)}}function ye(e,t){if(1&e&&(T.TgZ(0,"div",127),T.TgZ(1,"div",124),T.TgZ(2,"div",125),T.TgZ(3,"span",126),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function be(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",118),T.TgZ(1,"span",119),T._UZ(2,"img",120),T.qZA(),T.TgZ(3,"button",121),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).regionError=!1}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",122),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.regionErrorInfo,T.oJD)}}function Ce(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",118),T.TgZ(1,"span",119),T._UZ(2,"img",120),T.qZA(),T.TgZ(3,"button",121),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).errors.location=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",122),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.errors.location,T.oJD)}}function xe(e,t){if(1&e&&(T.TgZ(0,"div",127),T.TgZ(1,"div",124),T.TgZ(2,"div",125),T.TgZ(3,"span",126),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function Ae(e,t){if(1&e&&(T.TgZ(0,"div",107),T.TgZ(1,"div",19),T._UZ(2,"div",128),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(1),T.Q6J("ngClass",a.loaders.alarm.location?"d-none":"d-block"),T.xp6(1),T.Q6J("hidden",a.errors.location)}}function Ze(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",118),T.TgZ(1,"span",119),T._UZ(2,"img",120),T.qZA(),T.TgZ(3,"button",121),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).errors.system=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",122),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.errors.system,T.oJD)}}function Oe(e,t){if(1&e&&(T.TgZ(0,"div",123),T.TgZ(1,"div",124),T.TgZ(2,"div",125),T.TgZ(3,"span",126),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function Se(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"section",3),T.TgZ(1,"div",5),T.TgZ(2,"div",92),T.TgZ(3,"div",7),T.TgZ(4,"div",93),T.TgZ(5,"div",9),T.TgZ(6,"div",10),T.TgZ(7,"div",11),T._uU(8),T.qZA(),T.TgZ(9,"div",12),T.TgZ(10,"button",94),T.NdJ("click",function(){return T.CHM(a),T.oxw().download("severity","alarm")}),T.qZA(),T.TgZ(11,"button",95),T.NdJ("click",function(){return T.CHM(a),T.oxw().gotoFullScreen("severity")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(12,"div",14),T._uU(13),T.qZA(),T.YNc(14,de,6,1,"div",15),T.TgZ(15,"div",16),T.YNc(16,ge,5,1,"div",96),T.TgZ(17,"div",97),T.TgZ(18,"div",98),T._UZ(19,"div",99),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(20,"div",100),T.TgZ(21,"div",9),T.TgZ(22,"div",10),T.TgZ(23,"div",11),T._uU(24),T.qZA(),T.TgZ(25,"div",12),T.TgZ(26,"button",94),T.NdJ("click",function(){return T.CHM(a),T.oxw().download("byday","alarm")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(27,"div",101),T.YNc(28,ue,6,1,"div",15),T.YNc(29,me,5,1,"div",96),T.TgZ(30,"div",102),T.TgZ(31,"div",103),T._UZ(32,"div",104),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(33,"div",105),T.TgZ(34,"div",9),T.TgZ(35,"div",10),T.TgZ(36,"div",11),T._uU(37),T.qZA(),T.TgZ(38,"div",12),T.TgZ(39,"button",106),T.NdJ("click",function(){return T.CHM(a),T.oxw().gotoFullScreen("system")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(40,"h5",14),T._uU(41),T.qZA(),T.YNc(42,pe,6,1,"div",15),T.TgZ(43,"div",16),T.YNc(44,he,5,1,"div",96),T.TgZ(45,"div",107),T.TgZ(46,"div",19),T._UZ(47,"div",108),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(48,"div",109),T.TgZ(49,"div",9),T.TgZ(50,"div",10),T.TgZ(51,"div",11),T._uU(52),T.qZA(),T.TgZ(53,"div",12),T.TgZ(54,"button",94),T.NdJ("click",function(){return T.CHM(a),T.oxw().download("region","alarm")}),T.qZA(),T.TgZ(55,"button",110),T.NdJ("click",function(){return T.CHM(a),T.oxw().gotoFullScreen("region")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(56,"h5",14),T._uU(57),T.qZA(),T.YNc(58,ve,6,1,"div",15),T.YNc(59,fe,6,1,"div",15),T.TgZ(60,"div",16),T.YNc(61,ye,5,1,"div",17),T.TgZ(62,"div",107),T.TgZ(63,"div",19),T._UZ(64,"div",111),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(65,"div",112),T.TgZ(66,"div",9),T.TgZ(67,"div",10),T.TgZ(68,"div",11),T._uU(69),T.qZA(),T.TgZ(70,"div",12),T.TgZ(71,"button",94),T.NdJ("click",function(){return T.CHM(a),T.oxw().download("location","alarm")}),T.qZA(),T.TgZ(72,"button",110),T.NdJ("click",function(){return T.CHM(a),T.oxw().gotoFullScreen("location")}),T.qZA(),T.TgZ(73,"button",113),T.NdJ("click",function(){T.CHM(a);var e=T.oxw();return e.loadLocationChart=!e.loadLocationChart}),T._UZ(74,"span",114),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.YNc(75,be,6,1,"div",15),T.TgZ(76,"div",14),T._uU(77),T.qZA(),T.YNc(78,Ce,6,1,"div",15),T.TgZ(79,"div",16),T.YNc(80,xe,5,1,"div",17),T.YNc(81,Ae,3,2,"div",115),T.qZA(),T.qZA(),T.TgZ(82,"div",116),T.TgZ(83,"div",9),T.TgZ(84,"div",10),T.TgZ(85,"div",11),T._uU(86),T.qZA(),T.TgZ(87,"div",12),T.TgZ(88,"button",94),T.NdJ("click",function(){return T.CHM(a),T.oxw().download("system","alarm")}),T.qZA(),T.TgZ(89,"button",95),T.NdJ("click",function(){return T.CHM(a),T.oxw().gotoFullScreen("system")}),T.qZA(),T.TgZ(90,"button",113),T.NdJ("click",function(){T.CHM(a);var e=T.oxw();return e.loadSystemChart=!e.loadSystemChart}),T._UZ(91,"span",114),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(92,"h5",14),T._uU(93),T.qZA(),T.YNc(94,Ze,6,1,"div",15),T.TgZ(95,"div",16),T.YNc(96,Oe,5,1,"div",96),T.TgZ(97,"div",97),T.TgZ(98,"div",98),T._UZ(99,"div",117),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw();T.Q6J("ngClass",n.fullScreen?"d-none":"d-block"),T.xp6(8),T.hij(" ",n.language["Alarm by Severity"]," "),T.xp6(2),T.s9C("title",n.language.export),T.xp6(1),T.s9C("title",n.language.lossofpon_fullscreen_tip),T.xp6(2),T.Oqu(n.language["Click chart to view all alarms"]),T.xp6(1),T.Q6J("ngIf",n.errors.severity),T.xp6(2),T.Q6J("ngIf",n.loading),T.xp6(1),T.Q6J("ngClass",n.loading?"d-none":"d-block"),T.xp6(1),T.Q6J("hidden",n.errors.severity),T.xp6(6),T.hij(" ",n.language["Alarm by Days"]," "),T.xp6(2),T.s9C("title",n.language.export),T.xp6(2),T.Q6J("ngIf",n.errors.byday),T.xp6(1),T.Q6J("ngIf",n.loading),T.xp6(1),T.Q6J("ngClass",n.loading?"d-none":"d-block md-block"),T.xp6(1),T.Q6J("hidden",n.errors.byday),T.xp6(2),T.Q6J("hidden",!0),T.xp6(4),T.hij(" ",n.language["Alarm by System"]," "),T.xp6(2),T.s9C("title",n.language.lossofpon_fullscreen_tip),T.xp6(2),T.hij(" ",n.language["Alarms by System"],""),T.xp6(1),T.Q6J("ngIf",n.systemError),T.xp6(2),T.Q6J("ngIf",n.loading),T.xp6(2),T.Q6J("ngClass",n.loading?"d-none":"d-block"),T.xp6(2),T.Q6J("hidden",n.filterApplied||!n.loadRegionChart),T.xp6(4),T.hij(" ",n.language["Alarm by Region"]," "),T.xp6(2),T.s9C("title",n.language.export),T.xp6(1),T.s9C("title",n.language.lossofpon_fullscreen_tip),T.xp6(2),T.hij(" ",n.language["Select a region to view locations in that region"],""),T.xp6(1),T.Q6J("ngIf",n.regionError&&!n.loadLocationChart),T.xp6(1),T.Q6J("ngIf",n.errors.region),T.xp6(2),T.Q6J("ngIf",n.loading),T.xp6(2),T.Q6J("ngClass",n.loading?"d-none":"d-block"),T.xp6(2),T.Q6J("hidden",!n.loadLocationChart||n.filterApplied),T.xp6(4),T.hij(" ",n.language["Alarm by Location"]," "),T.xp6(2),T.s9C("title",n.language.export),T.xp6(1),T.s9C("title",n.language.lossofpon_fullscreen_tip),T.xp6(3),T.Q6J("ngIf",n.regionError&&!n.loadLocationChart),T.xp6(2),T.hij("",n.language["Select a location to view systems in that location"]," "),T.xp6(1),T.Q6J("ngIf",n.errors.location),T.xp6(2),T.Q6J("ngIf",n.loaders.alarm.location),T.xp6(1),T.Q6J("ngIf",n.loadLocationChart),T.xp6(1),T.Q6J("hidden",!n.loadSystemChart||n.filterApplied),T.xp6(4),T.hij(" ",n.language["Alarm by System"]," "),T.xp6(2),T.s9C("title",n.language.export),T.xp6(1),T.s9C("title",n.language.lossofpon_fullscreen_tip),T.xp6(4),T.hij(" ",n.language["Select a system severity to view all alarms of that severity for that system"],""),T.xp6(1),T.Q6J("ngIf",n.errors.system),T.xp6(2),T.Q6J("ngIf",n.loaders.alarm.system),T.xp6(1),T.Q6J("ngClass",n.loaders.alarm.system?"d-none":"d-block"),T.xp6(1),T.Q6J("hidden",n.errors.system)}}function Te(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",118),T.TgZ(1,"span",119),T._UZ(2,"img",120),T.qZA(),T.TgZ(3,"button",121),T.NdJ("click",function(){return T.CHM(a),T.oxw().errors.alarmevent=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",122),T.qZA()}if(2&e){var n=T.oxw();T.xp6(5),T.Q6J("innerHtml",n.errors.alarmevent,T.oJD)}}function _e(e,t){if(1&e&&(T.TgZ(0,"div",127),T.TgZ(1,"div",124),T.TgZ(2,"div",125),T.TgZ(3,"span",126),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw();T.xp6(4),T.Oqu(a.language.Loading)}}function we(e,t){if(1&e&&(T.TgZ(0,"th"),T._uU(1),T.qZA()),2&e){var a=T.oxw(2);T.xp6(1),T.Oqu(a.language.Notes)}}function ke(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",150),T.NdJ("click",function(){T.CHM(a);var e=T.oxw().$implicit;return T.oxw(2).gotoSubscriberImpactedPage(e)}),T._uU(1),T.qZA()}if(2&e){var n=T.oxw().$implicit;T.xp6(1),T.hij(" ",null==n||null==n.subject?null:n.subject.impactedSubsCount," ")}}function qe(e,t){if(1&e&&(T.TgZ(0,"div"),T._uU(1),T.qZA()),2&e){var a=T.oxw().$implicit;T.xp6(1),T.hij(" ",null!=a&&null!=a.subject&&a.subject.serviceAffecting?"Yes":"No"," ")}}function Me(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",154),T.NdJ("click",function(){T.CHM(a);var e=T.oxw(2),t=e.$implicit,n=e.index;return T.oxw(2).openNotesModal(t.subject.alarmId,t.subject.notes?t.subject.notes:null,!1,n)}),T._UZ(1,"img",155),T.qZA()}}function Ne(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",156),T.NdJ("click",function(){T.CHM(a);var e=T.oxw(2),t=e.$implicit,n=e.index;return T.oxw(2).openNotesModal(t.subject.alarmId,t.subject.notes?t.subject.notes:null,!0,n)}),T._UZ(1,"img",157),T.qZA()}if(2&e){var n=T.oxw(4);T.xp6(1),T.s9C("title",n.language.Edit)}}function De(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",154),T.NdJ("click",function(){T.CHM(a);var e=T.oxw(2),t=e.$implicit,n=e.index;return T.oxw(2).deleteConfirmModal(t.subject.alarmId,n)}),T._UZ(1,"img",158),T.qZA()}if(2&e){var n=T.oxw(4);T.xp6(1),T.s9C("title",n.language.Delete)}}function Pe(e,t){if(1&e&&(T.TgZ(0,"td",151),T.YNc(1,Me,2,0,"div",152),T.YNc(2,Ne,2,1,"div",153),T.YNc(3,De,2,1,"div",152),T.qZA()),2&e){var a=T.oxw().$implicit;T.xp6(1),T.Q6J("ngIf",!a.subject.notes),T.xp6(1),T.Q6J("ngIf",a.subject.notes),T.xp6(1),T.Q6J("ngIf",a.subject.notes)}}function Ee(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"tbody"),T.TgZ(1,"tr",139),T.NdJ("click",function(){var e=T.CHM(a),t=e.$implicit,n=e.index;return T.oxw(2).viewDetails(t,n)}),T.TgZ(2,"td",140),T._uU(3),T.qZA(),T.TgZ(4,"td",140),T._uU(5),T.qZA(),T.TgZ(6,"td",140),T._uU(7),T.qZA(),T.TgZ(8,"td",140),T._uU(9),T.qZA(),T.TgZ(10,"td",141),T._UZ(11,"div",142),T.qZA(),T.TgZ(12,"td",143),T.TgZ(13,"div"),T._UZ(14,"span",144),T._uU(15),T.qZA(),T.qZA(),T.TgZ(16,"td"),T.TgZ(17,"div",145),T.YNc(18,ke,2,1,"div",146),T.YNc(19,qe,2,1,"div",137),T.qZA(),T.qZA(),T.TgZ(20,"td",147),T.TgZ(21,"div",148),T._uU(22),T.qZA(),T.qZA(),T.YNc(23,Pe,4,3,"td",149),T.qZA(),T.qZA()}if(2&e){var n=t.$implicit,i=T.oxw(2);T.xp6(1),T.s9C("id",i.index),T.xp6(2),T.hij("",n.subject&&n.subject.timeRaised?i.convertToDateTime(n.subject.timeRaised):""," "),T.xp6(2),T.Oqu(n.time?i.convertToDateTime(n.time):""),T.xp6(2),T.Oqu(n.subject?n.subject.alarmEventName:""),T.xp6(2),T.Oqu(n.subject?n.subject.category:""),T.xp6(2),T.Q6J("innerHtml",n.subject.resourceForUI?n.subject.resourceForUI:"",T.oJD),T.xp6(2),T.Tol(n.subject&&n.subject.perceivedSeverity&&i.colorClass[n.subject.perceivedSeverity]?i.colorClass[n.subject.perceivedSeverity]:"black clear-sev-but"),T.xp6(2),T.hij(" ",n.subject?i.language[n.subject.perceivedSeverity]||n.subject.perceivedSeverity:""," "),T.xp6(3),T.Q6J("ngIf",null==n||null==n.subject?null:n.subject.impactedSubsCount),T.xp6(1),T.Q6J("ngIf",!(null!=n&&null!=n.subject&&n.subject.impactedSubsCount)),T.xp6(3),T.Oqu(n.subject?n.subject.repairAction:""),T.xp6(1),T.Q6J("ngIf",i.hasWriteAccess)}}function Ie(e,t){if(1&e&&(T.TgZ(0,"tbody"),T.TgZ(1,"tr"),T.TgZ(2,"td",159),T._uU(3),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(3),T.hij("",a.language["No data available in table"]," ")}}function Ue(e,t){if(1&e&&(T.TgZ(0,"div",23),T.TgZ(1,"div",129),T.TgZ(2,"table",130),T.TgZ(3,"thead"),T.TgZ(4,"tr"),T.TgZ(5,"th",131),T._uU(6),T.qZA(),T.TgZ(7,"th"),T._uU(8),T.qZA(),T.TgZ(9,"th",132),T._uU(10),T.qZA(),T.TgZ(11,"th"),T._uU(12),T.qZA(),T.TgZ(13,"th",133),T._uU(14),T.qZA(),T.TgZ(15,"th",134),T._uU(16),T.qZA(),T.TgZ(17,"th",135),T._uU(18),T.qZA(),T.TgZ(19,"th",136),T._uU(20),T.qZA(),T.YNc(21,we,2,1,"th",137),T.qZA(),T.qZA(),T.YNc(22,Ee,24,14,"tbody",138),T.YNc(23,Ie,4,1,"tbody",137),T._UZ(24,"tbody"),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw();T.xp6(2),T.Q6J("dtOptions",a.dtOptions),T.xp6(4),T.AsE("",a.language["Reported Time"]," (UTC/",a.timeZone,") "),T.xp6(2),T.AsE("",a.language["Synced Time"]," (UTC/",a.timeZone,") "),T.xp6(2),T.Oqu(a.language["Alarm Name"]),T.xp6(2),T.Oqu(a.language.Category),T.xp6(2),T.Oqu(a.language.Resource),T.xp6(2),T.Oqu(a.language.Severity),T.xp6(2),T.Oqu(a.language["Subscriber Impact"]),T.xp6(2),T.Oqu(a.language.Recommendation),T.xp6(1),T.Q6J("ngIf",a.hasWriteAccess),T.xp6(1),T.Q6J("ngForOf",a.list),T.xp6(1),T.Q6J("ngIf",0===a.list.length)}}function Fe(e,t){if(1&e&&(T.TgZ(0,"div",167),T.TgZ(1,"div",124),T.TgZ(2,"div",125),T.TgZ(3,"span",126),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function Le(e,t){if(1&e&&(T.TgZ(0,"th"),T._uU(1),T.qZA()),2&e){var a=T.oxw(2);T.xp6(1),T.Oqu(a.language.Notes)}}function je(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",150),T.NdJ("click",function(){T.CHM(a);var e=T.oxw().$implicit;return T.oxw(2).gotoSubscriberImpactedPage(e)}),T._uU(1),T.qZA()}if(2&e){var n=T.oxw().$implicit;T.xp6(1),T.hij(" ",null==n||null==n.subject?null:n.subject.impactedSubsCount," ")}}function Je(e,t){if(1&e&&(T.TgZ(0,"div",140),T.TgZ(1,"span",170),T._uU(2),T.qZA(),T.qZA()),2&e){var a=T.oxw().$implicit;T.xp6(1),T.Q6J("ngClass",null!=a&&null!=a.subject&&a.subject.serviceAffecting?"subscriber-impact-red":""),T.xp6(1),T.hij(" ",null!=a&&null!=a.subject&&a.subject.serviceAffecting?"Yes":"No"," ")}}function Re(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",154),T.NdJ("click",function(){T.CHM(a);var e=T.oxw(2),t=e.$implicit,n=e.index;return T.oxw(2).openNotesModal(t.subject.alarmId,t.subject.notes?t.subject.notes:null,!1,n)}),T._UZ(1,"img",155),T.qZA()}}function He(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",156),T.NdJ("click",function(){T.CHM(a);var e=T.oxw(2),t=e.$implicit,n=e.index;return T.oxw(2).openNotesModal(t.subject.alarmId,t.subject.notes?t.subject.notes:null,!0,n)}),T._UZ(1,"img",157),T.qZA()}if(2&e){var n=T.oxw(4);T.xp6(1),T.s9C("title",n.language.Edit)}}function Qe(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",154),T.NdJ("click",function(){T.CHM(a);var e=T.oxw(2),t=e.$implicit,n=e.index;return T.oxw(2).deleteConfirmModal(t.subject.alarmId,n)}),T._UZ(1,"img",158),T.qZA()}if(2&e){var n=T.oxw(4);T.xp6(1),T.s9C("title",n.language.Delete)}}function Be(e,t){if(1&e&&(T.TgZ(0,"td",151),T.YNc(1,Re,2,0,"div",152),T.YNc(2,He,2,1,"div",153),T.YNc(3,Qe,2,1,"div",152),T.qZA()),2&e){var a=T.oxw().$implicit;T.xp6(1),T.Q6J("ngIf",!a.subject.notes),T.xp6(1),T.Q6J("ngIf",a.subject.notes),T.xp6(1),T.Q6J("ngIf",a.subject.notes)}}function Ve(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"tr",139),T.NdJ("click",function(){var e=T.CHM(a),t=e.$implicit,n=e.index;return T.oxw(2).viewDetails(t,n)}),T.TgZ(1,"td",140),T._uU(2),T.qZA(),T.TgZ(3,"td",140),T._uU(4),T.qZA(),T.TgZ(5,"td",140),T._uU(6),T.qZA(),T.TgZ(7,"td",140),T._uU(8),T.qZA(),T.TgZ(9,"td",141),T._UZ(10,"div",142),T.qZA(),T.TgZ(11,"td",168),T.TgZ(12,"div"),T._UZ(13,"span",144),T._uU(14),T.qZA(),T.qZA(),T.TgZ(15,"td"),T.TgZ(16,"div",145),T.YNc(17,je,2,1,"div",146),T.YNc(18,Je,3,2,"div",169),T.qZA(),T.qZA(),T.TgZ(19,"td",147),T.TgZ(20,"div",148),T._uU(21),T.qZA(),T.qZA(),T.YNc(22,Be,4,3,"td",149),T.qZA()}if(2&e){var n=t.$implicit,i=T.oxw(2);T.s9C("id",i.index),T.xp6(2),T.hij("",n.subject&&n.subject.timeRaised?i.convertToDateTime(n.subject.timeRaised):""," "),T.xp6(2),T.Oqu(n.time?i.convertToDateTime(n.time):""),T.xp6(2),T.Oqu(n.subject?n.subject.alarmEventName:""),T.xp6(2),T.Oqu(n.subject?n.subject.category:""),T.xp6(2),T.Q6J("innerHtml",n.subject.resourceForUI?n.subject.resourceForUI:"",T.oJD),T.xp6(2),T.Tol(n.subject&&n.subject.perceivedSeverity&&i.colorClass[n.subject.perceivedSeverity]?i.colorClass[n.subject.perceivedSeverity]:"black clear-sev-but"),T.xp6(2),T.hij(" ",n.subject?i.language[n.subject.perceivedSeverity]||n.subject.perceivedSeverity:""," "),T.xp6(3),T.Q6J("ngIf",null==n||null==n.subject?null:n.subject.impactedSubsCount),T.xp6(1),T.Q6J("ngIf",!(null!=n&&null!=n.subject&&n.subject.impactedSubsCount)),T.xp6(3),T.Oqu(n.subject?n.subject.repairAction:""),T.xp6(1),T.Q6J("ngIf",i.hasWriteAccess)}}function Ye(e,t){if(1&e&&(T.TgZ(0,"tbody"),T.TgZ(1,"tr"),T.TgZ(2,"td",159),T._uU(3),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(3),T.hij("",a.language["No data available in table"]," ")}}var $e,ze=function(e){return{"page-disabled":e}};function Ge(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",23),T.TgZ(1,"div",160),T.YNc(2,Fe,5,1,"div",161),T.TgZ(3,"table",162),T.TgZ(4,"thead"),T.TgZ(5,"tr"),T.TgZ(6,"th",131),T._uU(7),T.qZA(),T.TgZ(8,"th"),T._uU(9),T.qZA(),T.TgZ(10,"th",132),T._uU(11),T.qZA(),T.TgZ(12,"th"),T._uU(13),T.qZA(),T.TgZ(14,"th",133),T._uU(15),T.qZA(),T.TgZ(16,"th",134),T._uU(17),T.qZA(),T.TgZ(18,"th",135),T._uU(19),T.qZA(),T.TgZ(20,"th",136),T._uU(21),T.qZA(),T.YNc(22,Le,2,1,"th",137),T.qZA(),T.qZA(),T.TgZ(23,"tbody"),T.YNc(24,Ve,23,14,"tr",163),T.qZA(),T.YNc(25,Ye,4,1,"tbody",137),T._UZ(26,"tbody"),T.qZA(),T.TgZ(27,"div",164),T.TgZ(28,"div",165),T.TgZ(29,"a",166),T.NdJ("click",function(){return T.CHM(a),T.oxw().gotoPrevious()}),T._uU(30),T.qZA(),T.TgZ(31,"a",166),T.NdJ("click",function(){return T.CHM(a),T.oxw().gotoNext()}),T._uU(32),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw();T.xp6(2),T.Q6J("ngIf",n.paginateLoading),T.xp6(5),T.AsE("",n.language["Reported Time"]," (UTC/",n.timeZone,") "),T.xp6(2),T.AsE("",n.language["Synced Time"]," (UTC/",n.timeZone,") "),T.xp6(2),T.Oqu(n.language["Alarm Name"]),T.xp6(2),T.Oqu(n.language.Category),T.xp6(2),T.Oqu(n.language.Resource),T.xp6(2),T.Oqu(n.language.Severity),T.xp6(2),T.Oqu(n.language["Subscriber Impact"]),T.xp6(2),T.Oqu(n.language.Recommendation),T.xp6(1),T.Q6J("ngIf",n.hasWriteAccess),T.xp6(2),T.Q6J("ngForOf",n.list),T.xp6(1),T.Q6J("ngIf",!(null!=n.list&&n.list.length)),T.xp6(4),T.Q6J("ngClass",T.VKq(18,ze,!n.previousFlag)),T.xp6(1),T.Oqu(n.language.Previous),T.xp6(1),T.Q6J("ngClass",T.VKq(20,ze,!n.nextFlag)),T.xp6(1),T.Oqu(n.language.Next)}}function We(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",171),T.TgZ(1,"h5",172),T._uU(2),T.qZA(),T.TgZ(3,"div"),T._uU(4),T.qZA(),T.TgZ(5,"button",173),T.NdJ("click",function(){return T.CHM(a).$implicit.dismiss("Cross click")}),T._UZ(6,"span",114),T.qZA(),T.qZA(),T.TgZ(7,"div",174),T.TgZ(8,"button",175),T.NdJ("click",function(){return T.CHM(a).$implicit.close("Save click")}),T._uU(9),T.qZA(),T.qZA()}if(2&e){var n=T.oxw();T.xp6(2),T.Oqu(n.modalTitle),T.xp6(2),T.hij(" ",n.modalInfo," "),T.xp6(5),T.hij(" ",n.language.Ok," ")}}function Ke(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",118),T.TgZ(1,"span",119),T._UZ(2,"img",120),T.qZA(),T.TgZ(3,"button",121),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).closeAlert()}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",122),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.noteErrorInfo,T.oJD)}}function Xe(e,t){if(1&e&&(T.TgZ(0,"div",167),T.TgZ(1,"div",124),T.TgZ(2,"div",125),T.TgZ(3,"span",126),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function et(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"button",181),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).addNotes()}),T._uU(1),T.qZA()}if(2&e){var n=T.oxw(2);T.Q6J("disabled",n.btnDisabled||""===n.notes),T.xp6(1),T.hij(" ",n.language.Add," ")}}function tt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"button",181),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).addNotes()}),T._uU(1),T.qZA()}if(2&e){var n=T.oxw(2);T.Q6J("disabled",n.btnDisabled||""===n.notes),T.xp6(1),T.hij(" ",n.language.Update," ")}}function at(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",171),T.TgZ(1,"h5",172),T._uU(2),T.qZA(),T.TgZ(3,"button",173),T.NdJ("click",function(){return T.CHM(a),T.oxw().closeNotes()}),T._UZ(4,"span",114),T.qZA(),T.qZA(),T.TgZ(5,"div",23),T.YNc(6,Ke,6,1,"div",15),T.qZA(),T.TgZ(7,"div",174),T.YNc(8,Xe,5,1,"div",161),T.TgZ(9,"div",176),T._UZ(10,"textarea",177),T.qZA(),T.TgZ(11,"div",178),T.YNc(12,et,2,2,"button",179),T.YNc(13,tt,2,2,"button",179),T.TgZ(14,"button",180),T.NdJ("click",function(){return T.CHM(a),T.oxw().closeNotes()}),T._uU(15),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw();T.xp6(2),T.Oqu(n.language.Notes),T.xp6(4),T.Q6J("ngIf",n.noteError),T.xp6(2),T.Q6J("ngIf",n.noteSaveLoader),T.xp6(2),T.MGl("placeholder","",n.language.Notes,".."),T.Q6J("formControl",n.notes)("formValue",n.notes),T.xp6(2),T.Q6J("ngIf",!n.showEdit),T.xp6(1),T.Q6J("ngIf",n.showEdit),T.xp6(2),T.hij(" ",n.language.Cancel," ")}}function nt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",171),T.TgZ(1,"h5",172),T._uU(2),T.qZA(),T.TgZ(3,"button",173),T.NdJ("click",function(){return T.CHM(a),T.oxw().closeNotes()}),T._UZ(4,"span",114),T.qZA(),T.qZA(),T.TgZ(5,"div",174),T.TgZ(6,"div",176),T._uU(7),T.qZA(),T.qZA()}if(2&e){var n=T.oxw();T.xp6(2),T.Oqu(n.language.Notes),T.xp6(5),T.hij(" ",n.notes," ")}}function it(e,t){if(1&e&&(T.TgZ(0,"div",167),T.TgZ(1,"div",124),T.TgZ(2,"div",125),T.TgZ(3,"span",126),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function ot(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",118),T.TgZ(1,"span",119),T._UZ(2,"img",120),T.qZA(),T.TgZ(3,"button",121),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).closeAlert()}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",122),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.deleteErrorInfo,T.oJD)}}function rt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",182),T.TgZ(1,"h4",183),T._uU(2),T.qZA(),T.TgZ(3,"button",184),T.NdJ("click",function(){return T.CHM(a),T.oxw().close()}),T._UZ(4,"span",114),T.qZA(),T.qZA(),T.TgZ(5,"div",185),T.YNc(6,it,5,1,"div",161),T.TgZ(7,"p"),T._uU(8),T.qZA(),T.qZA(),T.TgZ(9,"div",23),T.YNc(10,ot,6,1,"div",15),T.qZA(),T.TgZ(11,"div",186),T.TgZ(12,"button",187),T.NdJ("click",function(){return T.CHM(a),T.oxw().deleteNotes()}),T._uU(13),T.qZA(),T.TgZ(14,"button",188),T.NdJ("click",function(){return T.CHM(a),T.oxw().close()}),T._uU(15),T.qZA(),T.qZA()}if(2&e){var n=T.oxw();T.xp6(2),T.Oqu(n.language.Delete),T.xp6(4),T.Q6J("ngIf",n.noteSaveLoader),T.xp6(2),T.hij(" ",n.language["Are you sure you want to delete this notes"],"? "),T.xp6(2),T.Q6J("ngIf",n.deleteError),T.xp6(2),T.Q6J("disabled",n.btnDisabled),T.xp6(1),T.hij(" ",n.language.Yes," "),T.xp6(2),T.hij(" ",n.language.No," ")}}function st(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",118),T.TgZ(1,"span",119),T._UZ(2,"img",120),T.qZA(),T.TgZ(3,"button",121),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).closeAlert()}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",122),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.errorInfo,T.oJD)}}function lt(e,t){if(1&e&&(T.TgZ(0,"div",190),T.TgZ(1,"div",191),T.TgZ(2,"label"),T._uU(3),T.qZA(),T.TgZ(4,"h3",192),T._uU(5),T.qZA(),T.qZA(),T.TgZ(6,"div",191),T.TgZ(7,"label"),T._uU(8),T.qZA(),T.TgZ(9,"h3",192),T._uU(10),T.qZA(),T.qZA(),T.TgZ(11,"div",191),T.TgZ(12,"label"),T._uU(13),T.qZA(),T.TgZ(14,"h3",192),T._uU(15),T.qZA(),T.qZA(),T.TgZ(16,"div",191),T.TgZ(17,"label"),T._uU(18),T.qZA(),T.TgZ(19,"h3",192),T._uU(20),T.qZA(),T.qZA(),T.TgZ(21,"div",191),T.TgZ(22,"label"),T._uU(23),T.qZA(),T.TgZ(24,"h3",192),T._uU(25),T.qZA(),T.qZA(),T.TgZ(26,"div",191),T.TgZ(27,"label"),T._uU(28),T.qZA(),T.TgZ(29,"h3",192),T._uU(30),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(3),T.Oqu(a.language.Name),T.xp6(1),T.s9C("title",null!=a.subscriberInfo[0]&&a.subscriberInfo[0].name?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].name:"-"),T.xp6(1),T.Oqu(null!=a.subscriberInfo[0]&&a.subscriberInfo[0].name?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].name:"-"),T.xp6(3),T.Oqu(a.language.Account),T.xp6(1),T.s9C("title",null!=a.subscriberInfo[0]&&a.subscriberInfo[0].account?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].account:"-"),T.xp6(1),T.Oqu(null!=a.subscriberInfo[0]&&a.subscriberInfo[0].account?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].account:"-"),T.xp6(3),T.Oqu(a.language.Email),T.xp6(1),T.s9C("title",null!=a.subscriberInfo[0]&&a.subscriberInfo[0].email?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].email:"-"),T.xp6(1),T.Oqu(null!=a.subscriberInfo[0]&&a.subscriberInfo[0].email?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].email:"-"),T.xp6(3),T.Oqu(a.language.Location_Id),T.xp6(1),T.s9C("title",null!=a.subscriberInfo[0]&&a.subscriberInfo[0].subscriberLocationId?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].subscriberLocationId:"-"),T.xp6(1),T.hij(" ",null!=a.subscriberInfo[0]&&a.subscriberInfo[0].subscriberLocationId?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].subscriberLocationId:"-",""),T.xp6(3),T.hij("",a.language.Service_address," "),T.xp6(1),T.s9C("title",null!=a.subscriberInfo[0]&&a.subscriberInfo[0].serviceAddress?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].serviceAddress:"-"),T.xp6(1),T.hij(" ",null!=a.subscriberInfo[0]&&a.subscriberInfo[0].serviceAddress?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].serviceAddress:"-",""),T.xp6(3),T.Oqu(a.language.Phone),T.xp6(1),T.s9C("title",null!=a.subscriberInfo[0]&&a.subscriberInfo[0].phone?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].phone:"-"),T.xp6(1),T.Oqu(null!=a.subscriberInfo[0]&&a.subscriberInfo[0].phone?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].phone:"-")}}function ct(e,t){if(1&e&&(T.TgZ(0,"div"),T.TgZ(1,"p"),T._uU(2),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(2),T.hij("",a.language["No data available"]," ")}}function dt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",171),T.TgZ(1,"h5",172),T._uU(2),T.qZA(),T.TgZ(3,"button",173),T.NdJ("click",function(){return T.CHM(a),T.oxw().closeNotes()}),T._UZ(4,"span",114),T.qZA(),T.qZA(),T.TgZ(5,"div",23),T.YNc(6,st,6,1,"div",15),T.qZA(),T.TgZ(7,"div",174),T.YNc(8,lt,31,18,"div",189),T.YNc(9,ct,3,1,"div",137),T.qZA()}if(2&e){var n=T.oxw();T.xp6(2),T.Oqu(n.language["Subscriber Information"]),T.xp6(4),T.Q6J("ngIf",n.error),T.xp6(2),T.Q6J("ngIf",n.Infosub),T.xp6(1),T.Q6J("ngIf",!n.Infosub)}}r(86295)(c),x()(c),($e=c).seriesTypes.line.prototype.drawLegendSymbol=$e.seriesTypes.area.prototype.drawLegendSymbol;var gt=function(){var a=function(){function a(e,t,i,o,r,s,l,g,u,p,h,v,f){var y,b=this;n(this,a),this.http=e,this.translateService=t,this.commonOrgService=i,this.exportExcelService=o,this.issueService=r,this.chartOptionService=s,this.dialogService=l,this.fb=g,this.ssoService=u,this.dateUtilsService=p,this.route=h,this.titleService=v,this.router=f,this.isDev=!1,this.showNewPagination=!0,this.transformedAlarms=["multiple-onts-down-network","multiple-onts-down-pon","multiple-onts-down-olt"],this.data={alarm:{byday:[],severity:[],region:[],location:[],system:[]},event:{region:[],location:[],system:[]}},this.params={alarm:{byday:{},severity:{},region:{},location:{},system:{}},event:{region:{},location:{},system:{}}},this.deleteParams={alarm:{byday:{},severity:{},region:{},location:{},system:{}},event:{region:{},location:{},system:{}}},this.filters={alarm:{byday:{},severity:{},region:{},location:{},system:{}},event:{region:{},location:{},system:{}}},this.loaders={alarm:{byday:!1,severity:!1,region:!1,location:!1,system:!1}},this.fullScrenSubHeading="",this.maxDate=new Date,this.maxForStartDate=new Date,this.count=0,this.initLoad=!1,this.types=[],this.typeSelected="",this.showTable=!1,this.dataAvailable=!1,this.dtTrigger=new m.xQ,this.dtOptions={},this.isRerender=!1,this.loading=!1,this.renderOnce=!1,this.error=!1,this.serverityError=!1,this.systemError=!1,this.locationError=!1,this.regionError=!1,this.applyDisabled=!1,this.fullScreen=!1,this.value=6,this.category=["All"],this.loadLocationChart=!1,this.Highcharts=c,this.totalAlarms=0,this.criticalAlarms=0,this.majorAlarms=0,this.minorAlarms=0,this.baseUrl="".concat(d.N.API_BASE_URL,"analytics-engine/"),this.url="",this.dateParam="",this.regionsDataArray=["All"],this.regionArray=["All"],this.locationDataArray=["All"],this.systemDataArray=["All"],this.clickedSystem="",this.filterApplied=!1,this.list=[],this.colors={MINOR:"#F3B426",MAJOR:"#FC7235",CRITICAL:"#C70000",WARNING:"#f7e9c1",INFO:"#7cb5ec"},this.colorClass={MINOR:"minor-but",MAJOR:"major-but",CRITICAL:"critical-but",WARNING:"warning-but",INFO:"severity-info-but"},this.categories=[],this.acknowledgedAlarms=[{id:"all",name:"All"},{id:"false",name:"Hide Acknowledged Alarms"},{id:"true",name:"Show Acknowledged Alarms"}],this.filtersForm=this.fb.group({startDate:[""],endDate:[""],alarmType:[""],region:[""],location:[""],system:[""],fsan:[""],severity:[""],category:[""],eventName:[""],customCategory:[""],cco_ack:"all"}),this.appliedFilters={startDate:!0,endDate:!0,alarmType:!0,region:!0,location:!0,system:!0,fsan:!0,severity:!0,category:!0,eventName:!0,customCategory:!0,cco_ack:!0},this.hasParamsInUrl=!1,this.last24hours=!1,this.redrirectUrl="",this.geoMapIssue="false",this.fromNs="false",this.systemsObj={},this.hasWriteAccess=!1,this.previousFlag=!1,this.nextFlag=!1,this.entries=[{id:10,name:10},{id:25,name:25},{id:50,name:50},{id:100,name:100}],this.paginateQuery="",this.entry=new A.NI(10),this.errors={byday:"",severity:"",region:"",location:"",system:""},this.clickedSeverity="",this.loadRegionChart=!0,this.hasScopeAccess=!1,this.clickedLoctionsObj={},this.clickedSystemsObj={},this.chartTypeInFS="",this.fullscreenParams=[],this.searchTerm="",this.applyFiltersInFS=!1,this.searchText$=new m.xQ,this.showAckShelveBtn=!1,this.fullData={},this.hideSource=!1,this.customCategories=[],this.alarmNames=[],this.notes=new A.NI(""),this.showEdit=!1,this.isNotesModalOpen=!1,this.noteError=!1,this.noteErrorInfo="",this.noteSaveLoader=!1,this.btnDisabled=!1,this.deleteError=!1,this.deleteErrorInfo="",this.paginateLoading=!1,this.searchQuery="",this.setAppliedFilters(),window.scrollTo(0,0),this.chartOptionService.setFiltersObj(),this.toggleSubscription=this.ssoService.toggled$.subscribe(function(e){c.charts.forEach(function(e){setTimeout(function(){null!=e&&e.reflow()},100)})}),(null===(y=null==history?void 0:history.state)||void 0===y?void 0:y.last24hours)&&(this.last24hours=!0);var C=new Date;this.route.queryParams.subscribe(function(e){e.severity&&(e.days&&(b.FromDate=new Date(C.getTime()-24*(e.days-1)*60*60*1e3)),b.ToDate=new Date,b.hasParamsInUrl=!0,b.filtersForm.patchValue({startDate:b.FromDate,endDate:b.ToDate,region:["All"],location:["All"],system:"All",severity:e.severity,category:["All"],fsan:"",customCategory:"None",eventName:["All"],cco_ack:"all"}))})}return o(a,[{key:"ngOnInit",value:function(){var e,t=this;-1!==d.N.API_BASE_URL.indexOf("dev.api.calix.ai")&&(this.showNewPagination=!0),this.timeZone=(new Date).toString().split(" ")[5].replace(/(.{2})$/,":$1"),this.Severity="all",this.fullScreen=!1,this.language=this.translateService.defualtLanguage,this.tableLanguageOptions(),this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){t.language=e,t.tableLanguageOptions(),t.loadIntialData(),t.renderOnce&&t.loadChart(),t.titleService.setTitle("".concat(t.language["Active Reports"]," - ").concat(t.language.Alarms," - ").concat(t.language.Issues," - ").concat(t.language.Operations," - ").concat(t.language["Calix Cloud"]))}),this.titleService.setTitle("".concat(this.language["Active Reports"]," - ").concat(this.language.Alarms," - ").concat(this.language.Issues," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"])),new Date,this.hasParamsInUrl||this.filtersForm.patchValue({startDate:this.FromDate,endDate:this.ToDate,region:["All"],location:["All"],system:["All"],severity:"All",category:["All"],fsan:"",customCategory:"None",eventName:["All"],cco_ack:"all"}),this.last24hours&&(this.FromDate=new Date(this.dateUtilsService.getStartUtcTimeByDays(0)-864e5),this.ToDate=new Date,this.filtersForm.patchValue({startDate:this.FromDate,endDate:this.ToDate,region:["All"],location:["All"],system:["All"],severity:"All",category:["All"],fsan:"",customCategory:"None",eventName:["loss-of-pon"],cco_ack:"all"}));var a=this.ssoService.getScopes();if(-1!==(null===(e=a["cloud.rbac.coc.issues.report.activealarm"])||void 0===e?void 0:e.indexOf("write"))&&(this.hasWriteAccess=!0),d.N.VALIDATE_SCOPE){var n=Object.keys(a);if(n)for(var i=0;i<n.length;i++)if(-1!==n[i].indexOf("cloud.rbac.coc.issues.report.activealarm")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.hasScopeAccess?(this.ssoService.setPageAccess(!0),this.route.queryParams.subscribe(function(e){t.redrirectUrl=e.redirect?e.redirect:null,t.geoMapIssue=e.geoMapIssue&&"true"==e.geoMapIssue?e.geoMapIssue:"false",t.fromNs=e.fromNs&&"true"==e.fromNs?e.fromNs:"false","true"==t.fromNs&&(t.networkSystemsFilters=e),"true"==t.geoMapIssue&&(t.issuesGeoMapFilters=t.issueService.getgeoMapHomeFilterParams(),t.filtersForm.get("cco_ack").setValue("false"),"ont"==t.issuesGeoMapFilters.fromIssuesGeoMap&&t.filtersForm.get("fsan").setValue(t.issuesGeoMapFilters.fsan?t.issuesGeoMapFilters.fsan:""))}),this.regionsApiLoader(),this.getCategories(),this.getCustomCategories(),this.getAlarmNames()):this.ssoService.setPageAccess(!1)}},{key:"ngAfterViewInit",value:function(){var e=this;this.showNewPagination?(this.doSearchNew(),this.listenChangeEntries()):this.doSearch(),this.notes.valueChanges.subscribe(function(t){e.showEdit||e.notes.value?e.showEdit&&e.isNotesModalOpen?e.isNotesModalOpen=!1:e.btnDisabled=!1:e.btnDisabled=!0})}},{key:"loadRegionsSystemsOptionsData",value:function(){var t=this,a={};a.regions=this.issueService.getRegions(!0).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)})),a.systems=this.http.get("".concat(d.N.API_BASE_URL,"nfa/systems?tenant=0&includeDeleted=true")).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)})),(0,h.D)(a).subscribe(function(a){t.regionSelected="All",t.locationSelected="All",t.systemSelected="All";var n=a.regions,i=[];if(n&&n.length&&(n=t.issueService.appendFqn(n)).forEach(function(e){e.isDeleted||i.push(e)}),t.chartOptionService.setRegionsInfo(n),t.loadIntialData(),n.sort(),t.regionsDataArray=[].concat(e(t.regionsDataArray),i),"true"==t.geoMapIssue&&"olt"==t.issuesGeoMapFilters.fromIssuesGeoMap||"true"==t.fromNs){var o=["All"],r=["All"],s=["All"],l="",c="",d="";"true"==t.geoMapIssue?(l=t.issuesGeoMapFilters.region&&t.issuesGeoMapFilters.region.region_uuid?t.issuesGeoMapFilters.region.region_uuid:void 0,c=t.issuesGeoMapFilters.location&&t.issuesGeoMapFilters.location.networkgroup_uuid?t.issuesGeoMapFilters.location.networkgroup_uuid:void 0,d=t.issuesGeoMapFilters.systemUuid?t.issuesGeoMapFilters.systemUuid:void 0):(l=t.networkSystemsFilters&&t.networkSystemsFilters.region_uuid?t.networkSystemsFilters.region_uuid:void 0,c=t.networkSystemsFilters&&t.networkSystemsFilters.location_uuid?t.networkSystemsFilters.location_uuid:void 0,d=t.networkSystemsFilters&&t.networkSystemsFilters.system_uuid?t.networkSystemsFilters.system_uuid:void 0),l&&(o=[]).push(l),c&&(r=[]).push(c),d&&(s=[]).push(d),t.filtersForm.get("region").setValue(o),setTimeout(function(){t.filtersForm.get("location").setValue(r),t.loadLocationValue(""),setTimeout(function(){t.filtersForm.get("system").setValue(s),t.selectSystem(""),t.loadSystemValue(),setTimeout(function(){t.loadIntialData()},1e3)},200)},200)}var g=a.systems;t.systemsObj={};var u={};g&&g.forEach(function(e){u[e.uuid]=e.name}),t.systemsObj=u})}},{key:"regionsApiLoader",value:function(){var t=this;new Set,this.regionSelected="All",this.locationSelected="All",this.systemSelected="All",this.regionsSubject=this.issueService.getRegions(!0).subscribe(function(a){var n=[];if(a&&a.length&&(a=t.issueService.appendFqn(a)).forEach(function(e){e.isDeleted||n.push(e)}),t.chartOptionService.setRegionsInfo(a),a.sort(),t.regionsDataArray=[].concat(e(t.regionsDataArray),n),"true"==t.geoMapIssue&&"olt"==t.issuesGeoMapFilters.fromIssuesGeoMap||"true"==t.fromNs){var i=["All"],o=["All"],r=["All"],s="",l="",c="";"true"==t.geoMapIssue?(s=t.issuesGeoMapFilters.region&&t.issuesGeoMapFilters.region.region_uuid?t.issuesGeoMapFilters.region.region_uuid:void 0,l=t.issuesGeoMapFilters.location&&t.issuesGeoMapFilters.location.networkgroup_uuid?t.issuesGeoMapFilters.location.networkgroup_uuid:void 0,c=t.issuesGeoMapFilters.systemUuid?t.issuesGeoMapFilters.systemUuid:void 0):(s=t.networkSystemsFilters&&t.networkSystemsFilters.region_uuid?t.networkSystemsFilters.region_uuid:void 0,l=t.networkSystemsFilters&&t.networkSystemsFilters.location_uuid?t.networkSystemsFilters.location_uuid:void 0,c=t.networkSystemsFilters&&t.networkSystemsFilters.system_uuid?t.networkSystemsFilters.system_uuid:void 0),s&&(i=[]).push(s),l&&(o=[]).push(l),c&&(r=[]).push(c),t.filtersForm.get("region").setValue(i),setTimeout(function(){t.filtersForm.get("location").setValue(o),t.loadLocationValue(""),setTimeout(function(){t.filtersForm.get("system").setValue(r),t.selectSystem(""),t.loadSystemValue(),setTimeout(function(){t.loadIntialData()},1500)},200)},200)}else t.loadIntialData()},function(e){t.loadIntialData()})}},{key:"loadLocationValue",value:function(t){var a=this;this.clickedRegion="",this.locationSelected="All",this.systemSelected="All";var n=this.filtersForm.get("region").value,i=this.filtersForm.get("location").value;if(this.regionSelected=n,this.regionSelected){var o="";if(n.length){if(-1!==n.indexOf("All"))return this.regionName=null,this.locationName=null,this.systemName=null,this.locationDataArray=["All"],void(this.systemDataArray=["All"]);n.forEach(function(e){"All"!=e&&(o+="&region=".concat(e))}),this.locationsSubject=this.http.get("".concat(d.N.API_BASE_URL,"nfa/locations?tenant=0").concat(o,"&includeDeleted=true")).pipe((0,u.U)(function(e){return e.sort(function(e,t){return(e.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})}),a.issueService.appendFqn(e)}),(0,g.K)(this.handleError)).subscribe(function(t){var n=[];if(a.chartOptionService.setLocationsInfo(t),a.locationDataArray=["All"],t.forEach(function(e){e.isDeleted||n.push(e)}),a.locationDataArray=[].concat(e(a.locationDataArray),n),i&&i.length){var o=a.chartOptionService.getLocationsObj(),r=Object.keys(o).length?Object.keys(o):[],s=[];i.forEach(function(e){-1!==r.indexOf(e)&&s.push(e)}),s.length||(s=["All"]),a.filtersForm.get("location").setValue(s),a.loadSystemValue()}},function(e){}),this.regionName=n}else this.filtersForm.get("region").setValue(["All"]),this.filtersForm.get("location").setValue(["All"]),this.filtersForm.get("system").setValue(["All"]),this.regionName=null,this.locationName=null,this.systemName=null,this.locationDataArray=["All"],this.systemDataArray=["All"]}}},{key:"loadSystemValue",value:function(t){var a=this;this.clickedLocation="";var n=this.filtersForm.get("region").value,i=this.filtersForm.get("location").value,o=this.filtersForm.get("system").value;if(this.systemSelected=["All"],n.length&&i.length&&-1===i.indexOf("All")){var r="";n.forEach(function(e){"All"!=e&&(r+="&region=".concat(e))});var s="";i.forEach(function(e){"All"!=e&&(s+="&location=".concat(e))}),this.systemsSubject=this.http.get("".concat(d.N.API_BASE_URL,"nfa/systems?tenant=0").concat(r).concat(s,"&includeDeleted=true")).pipe((0,u.U)(function(e){return e.sort(function(e,t){return(e.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})}),e}),(0,g.K)(this.handleError)).subscribe(function(t){var n=[];if(a.chartOptionService.setSystemsInfo(t),a.systemDataArray=["All"],t.forEach(function(e){e.isDeleted||n.push(e)}),a.systemDataArray=[].concat(e(a.systemDataArray),n),o&&o.length){var i=a.chartOptionService.getSystemsObj(),r=Object.keys(i).length?Object.keys(i):[],s=[];o.forEach(function(e){-1!==r.indexOf(e)&&s.push(e)}),s.length||(s=["All"],a.systemName=null),a.filtersForm.get("system").setValue(s)}},function(e){}),this.locationName=i}else i.length||(this.filtersForm.get("location").setValue(["All"]),this.filtersForm.get("system").setValue(["All"]),this.locationName=null,this.systemName=null,this.systemDataArray=["All"])}},{key:"selectSystem",value:function(e){var t=this.filtersForm.get("system").value;this.systemName=t,"All"==t&&(this.systemName=null)}},{key:"loadChart",value:function(){}},{key:"changeDate",value:function(){return this.maxForStartDate=this.filtersForm.get("endDate").value,this.validateBeyondDates(this.ToDate)?this.validateStartEndDates()?void(this.dateParam=this.FromDate&&this.ToDate?"&date="+this.FromDate.getTime()+"%2C"+this.ToDate.getTime():""):(this.modalTitle=this.language.Time_Period,this.modalInfo=this.language["Time range not valid, end time should be later than start time."],void this.openModalInfo()):(this.modalTitle=this.language.Time_Period,this.modalInfo="Time range not valid, selected date should not be later than current date time.",void this.openModalInfo())}},{key:"alarmsCount",value:function(){var e=this.filtersForm.value;e.startDate?(e.endDate||(e.endDate=new Date),this.dateParam=this.last24hours?"&date="+(this.dateUtilsService.getStartUtcTimeByDays(0)-864e5)+"%2C"+this.dateUtilsService.getUtCMilliSecByDateObj(e.endDate,!0):"&date="+this.dateUtilsService.getUtCMilliSecByDateObj(e.startDate)+"%2C"+this.dateUtilsService.getUtCMilliSecByDateObj(e.endDate,!0)):this.dateParam=this.FromDate&&this.ToDate?"&date="+this.dateUtilsService.getUtCMilliSecByDateObj(this.FromDate)+"%2C"+this.dateUtilsService.getUtCMilliSecByDateObj(this.ToDate,!0):"",this.issueService.filterCounts(this.dateParam)}},{key:"fullScreenInvertFunction",value:function(){this.deleteFullScreenParams(),this.setSearchQuery(""),this.clickedSeverity="",this.searchTerm="",this.fullScreen=!1,this.searchText$.next(""),this.entry.setValue(10),this.applyFiltersInFS&&(this.applyFiltersInFS=!1,this.loadIntialData())}},{key:"ngOnDestroy",value:function(){var e,t,a;null===(e=this.searchSub)||void 0===e||e.unsubscribe(),null===(t=this.languageSubject)||void 0===t||t.unsubscribe(),this.severitySubscribe&&this.severitySubscribe.unsubscribe(),this.systemSubscribe&&this.systemSubscribe.unsubscribe(),this.locationSubscribe&&this.locationSubscribe.unsubscribe(),this.regionSubscribe&&this.regionSubscribe.unsubscribe(),this.countSubscribe&&this.countSubscribe.unsubscribe(),null===(a=this.toggleSubscription)||void 0===a||a.unsubscribe()}},{key:"clearFilter",value:function(){this.entry.setValue(10),this.fullScreen=!1,this.loadLocationChart=!this.loadLocationChart,this.regionSelected=void 0,this.locationSelected=void 0,this.systemSelected=void 0,this.System=void 0,this.FSAN=null,this.Severity=null,this.category=["All"],this.locationDataArray=["All"],this.systemDataArray=["All"],new Date,this.FromDate=void 0,this.ToDate=void 0,this.regionName=void 0,this.locationName=void 0,this.systemName=void 0,this.maxDate=new Date,this.maxForStartDate=new Date,this.filtersForm.patchValue({startDate:this.FromDate,endDate:this.ToDate,region:["All"],location:["All"],system:["All"],severity:"All",category:["All"],fsan:"",eventName:["All"],customCategory:"None",cco_ack:"all"}),this.loadIntialData()}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.error=!0,this.loading=!1}},{key:"closeAlert",value:function(){this.error=!1,this.noteError=!1}},{key:"startISODate",value:function(e){var t=new Date(e),a=t.getFullYear(),n="".concat(t.getMonth()+1),i="".concat(t.getDate());return n.length<2&&(n="0".concat(n)),i.length<2&&(i="0".concat(i)),new Date("".concat(a,"-").concat(n,"-").concat(i,"T00:00:00Z")).getTime()}},{key:"endISODate",value:function(e){var t=new Date(e),a=t.getFullYear(),n="".concat(t.getMonth()+1),i="".concat(t.getDate());return n.length<2&&(n="0".concat(n)),i.length<2&&(i="0".concat(i)),new Date("".concat(a,"-").concat(n,"-").concat(i,"T23:59:59Z")).getTime()}},{key:"validateStartEndDates",value:function(){return!(this.FromDate&&this.ToDate&&this.FromDate>this.ToDate)}},{key:"validateBeyondDates",value:function(e){var t=new Date;return!(e&&e>t)}},{key:"openModalInfo",value:function(){this.modalRef=this.dialogService.open(this.showInfoModal,{size:"lg",centered:!0,windowClass:"custom-modal"})}},{key:"closeErrors",value:function(){this.errors={byday:"",severity:"",region:"",location:"",system:""}}},{key:"loadIntialData",value:function(e){var t=this;if(!this.fsanvalidated("d")){var a=new s.rS;e&&(this.last24hours=!1),this.closeErrors();var n,i,o=this.filtersForm.value;if(this.fullScreen)this.applyFiltersInFullScreen();else{if(this.alarmType=o.alarmType,n=o.category&&o.category.length&&-1===o.category.indexOf("All")?o.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,i=o.customCategory&&o.customCategory.length&&-1===o.customCategory.indexOf("None")?o.customCategory:void 0,o.eventName&&o.eventName.length&&-1===o.eventName.indexOf("All")||(o.eventName=void 0),this.clickedLocation="",this.clickedRegion="",this.loadLocationChart=!1,this.loadSystemChart=!1,this.alarmsCount(),this.serverityError=!1,this.systemError=!1,this.regionError=!1,this.locationError=!1,this.severityChartData=null,this.systemChartData=null,this.locationChartData=null,this.regionChartData=null,this.severityChartOptions=null,this.loading=!0,this.applyDisabled=!0,"Both"==this.alarmType)return this.both=!0,void this.loadBothData();this.both=!1;var r;r=this.systemName&&this.systemName.length&&-1===this.systemName.indexOf("All")?this.systemName.filter(function(e){return e&&e.length&&"All"!==e}):void 0,o.severity&&"all"===o.severity.toLowerCase()&&(o.severity=void 0);var l={region:"All"!==this.regionName?this.regionName:void 0,location:"All"!==this.locationName?this.locationName:void 0,fsan_serialnumber:o.fsan?o.fsan:void 0,severity:o.severity,notificationType:"Alarm",historyReport:!1,category:n,system:r,alarmEventName:o.eventName?o.eventName:void 0,customCategory:i,cco_ack:o.cco_ack};o.startDate&&(o.endDate||(o.endDate=new Date),l.date=this.last24hours?"".concat(this.dateUtilsService.getStartUtcTimeByDays(0)-864e5,",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.endDate,!0)):"".concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.endDate,!0)));var d="";for(var u in l)null==l[u]||""==l[u]||(""!=d&&(d+="&"),d+=u+"="+encodeURIComponent(l[u]));d+="&historyReport=false&cco_shelv=false";var m={},v=["severity","byday","region"];if(this.loadRegionChart=!0,l.region){this.loadRegionChart=!1;var f=v.indexOf("region");v.splice(f,1),v.push("location"),this.loadLocationChart=!0}if(l.location){this.loadLocationChart=!1;var y=v.indexOf("location");v.splice(y,1),v.push("system"),this.loadSystemChart=!0}var b,C=10;o.startDate&&(C=this.chartOptionService.getDateDiff(l)),b=C>5?"Hours":"Minutes";var x={byday:"".concat(this.baseUrl,"alarmbyInterval?").concat(d,"&interval=").concat(b),severity:"".concat(this.baseUrl,"alarmbySeverity?").concat(d),region:"".concat(this.baseUrl,"alarmbyRegion?").concat(d),location:"".concat(this.baseUrl,"alarmbyLocation?").concat(d),system:"".concat(this.baseUrl,"alarmbySystem?").concat(d)};v.forEach(function(e){var a=t.http.get("".concat(x[e])).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)}));m[e]=a});var A,Z,O,S=this;this.listObs=(0,h.D)(m).subscribe(function(e){if(setTimeout(function(){t.loading=!1},2e3),e&&e.severity&&!e.severity["api-error"]){var n=e.severity.alarm?e.severity.alarm:e.severity;t.serverityError=!1;var i=t.chartOptionService.severityChartOptions(n.raised,"Alarms Raised","active",l);t.data.alarm.severity=t.chartOptionService.prepareAlarmCSVDataforSeverity(n,"active",l),t.params.alarm.severity=l,i.plotOptions.series.point.events={dblclick:function(e){e.preventDefault();var n=e.point.severity;t.clickedSeverity=n.toLowerCase(),t.params.alarm.severity.severity=n.toLowerCase(),t.deleteParams.alarm.severity.severity=!0,S.chartOptionService.getUserFilters("alarm","severity").Severity=a.transform(n),t.gotoFullScreen("severity")},contextmenu:function(e){e.preventDefault();var n=e.point.severity;t.clickedSeverity=n.toLowerCase(),t.params.alarm.severity.severity=n.toLowerCase(),t.deleteParams.alarm.severity.severity=!0,S.chartOptionService.getUserFilters("alarm","severity").Severity=a.transform(n),t.gotoFullScreen("severity")},click:function(e){e.preventDefault();var n=e.point.severity;t.clickedSeverity=n.toLowerCase(),t.params.alarm.severity.severity=n.toLowerCase(),t.deleteParams.alarm.severity.severity=!0,S.chartOptionService.getUserFilters("alarm","severity").Severity=a.transform(n),t.gotoFullScreen("severity")}},t.Highcharts.chart("severityContainer",i)}else if(e.severity&&e.severity["api-error"])t.data.alarm.severity=t.chartOptionService.prepareAlarmCSVDataforSeverity({},"active",l),t.params.alarm.severity=l,t.errors.severity=t.commonOrgService.pageErrorHandle(e.severity);else if(void 0!==e.severity){t.data.alarm.severity=t.chartOptionService.prepareAlarmCSVDataforSeverity({},"active",l),t.params.alarm.severity=l;var r=t.chartOptionService.severityChartOptions([],"Alarms Raised","active",l);t.Highcharts.chart("severityContainer",r),t.data.severity=[{type:"Raised",critical:0,major:0,minor:0,warning:0,info:0}]}if(e&&void 0!==e.region&&e.region&&!e.region["api-error"]?(t.loadRegionChart=!0,t.regionError=!1,A=t.chartOptionService.regionChartOptions(e.region,!0,l),t.data.alarm.region=t.chartOptionService.prepareAlarmCSVDataforRegion(e.region,"active",l),t.params.alarm.region=l,A.plotOptions.series.point.events={dblclick:function(e){e.preventDefault()},contextmenu:function(e){var t;e.preventDefault();var n=$(this.series.data).index(this);S.clickedRegion=e.point.series.userOptions.data[n].regionId,S.clickedSeverity=e.point.series.userOptions.data[n].severity,S.params.alarm.region.region=e.point.series.userOptions.data[n].regionId,S.params.alarm.region.severity=null===(t=e.point.series.userOptions.data[n].severity)||void 0===t?void 0:t.toLowerCase(),S.deleteParams.alarm.region.region=!0,o.severity||(S.deleteParams.alarm.region.severity=!0);var i=S.chartOptionService.getUserFilters("alarm","region");i.Region=e.point.category,i.Severity=a.transform(e.point.series.userOptions.data[n].severity),S.gotoFullScreen("region")},click:function(e){e.preventDefault();var t=$(this.series.data).index(this);S.clickedRegion=e.point.series.userOptions.data[t].regionId,S.getChartByLocation()}},A=Object.assign({},A),t.loadLocationChart||t.Highcharts.chart("regionContainer",A)):e.region&&e.region["api-error"]?(t.data.alarm.region=t.chartOptionService.prepareAlarmCSVDataforRegion([],"active",l),t.params.alarm.region=l,t.errors.region=t.commonOrgService.pageErrorHandle(e.region)):void 0!==e.region&&(t.data.alarm.region=t.chartOptionService.prepareAlarmCSVDataforRegion([],"active",l),t.params.alarm.region=l,A=t.chartOptionService.regionChartOptions([],!0,l),t.Highcharts.chart("regionContainer",A)),e&&void 0!==e.location&&e.location&&!e.location["api-error"]?(t.locationError=!1,Z=t.chartOptionService.locationChartOptions(e.location,!0,l),t.data.alarm.location=t.chartOptionService.prepareAlarmCSVDataforLocation(e.location,{},"active",l),t.params.alarm.location=l,Z.plotOptions.series.point.events={click:function(e){var t=$(this.series.data).index(this);S.clickedLocation=e.point.series.userOptions.data[t].locationId,S.getAlarmBySystem("Alarm")},contextmenu:function(e){var t;e.preventDefault();var n=$(this.series.data).index(this);S.clickedLocation=e.point.series.userOptions.data[n].locationId,S.clickedSeverity=e.point.series.userOptions.data[n].severity,S.params.alarm.location=l,S.params.alarm.location.location=e.point.series.userOptions.data[n].locationId,S.params.alarm.location.severity=null===(t=e.point.series.userOptions.data[n].severity)||void 0===t?void 0:t.toLowerCase(),o.location&&-1!==o.location.indexOf("All")&&(S.deleteParams.alarm.location.location=!0),o.severity||(S.deleteParams.alarm.location.severity=!0);var i=S.chartOptionService.getUserFilters("alarm","location");i.Location=e.point.category,i.Severity=a.transform(e.point.series.userOptions.data[n].severity),S.gotoFullScreen("location")}},Z=Object.assign({},Z),t.Highcharts.chart("locationContainer",Z),"true"!=t.geoMapIssue&&document.getElementById("dynamic-location-chart-div").scrollIntoView({behavior:"smooth"})):e.location&&e.location["api-error"]?(t.data.alarm.location=t.chartOptionService.prepareAlarmCSVDataforLocation([],{},"active",l),t.params.alarm.location=l,t.errors.location=t.commonOrgService.pageErrorHandle(e.location)):void 0!==e.location&&(t.data.alarm.location=t.chartOptionService.prepareAlarmCSVDataforLocation([],{},"active",l),t.params.alarm.location=l,Z=t.chartOptionService.locationChartOptions([],!0,l),t.Highcharts.chart("locationContainer",Z)),e&&void 0!==e.system&&e.system&&!e.system["api-error"]?(t.systemError=!1,O=t.chartOptionService.systemChartOptions(e.system,!0,l),t.data.alarm.system=t.chartOptionService.prepareAlarmCSVDataforSystem(e.system,{},"active",l),t.params.alarm.system=l,O.plotOptions.series.point.events={click:function(e){e.preventDefault();var t=$(this.series.data).index(this);S.clickedSystem=e.point.series.userOptions.data[t].systemId,S.clickedSeverity=e.point.series.userOptions.data[t].severity,S.gotoFullScreen("system")},contextmenu:function(e){var t;e.preventDefault();var n=$(this.series.data).index(this);S.clickedSystem=e.point.series.userOptions.data[n].systemId,S.clickedSeverity=e.point.series.userOptions.data[n].severity,S.params.alarm.system.system=e.point.series.userOptions.data[n].systemId,S.params.alarm.system.severity=null===(t=e.point.series.userOptions.data[n].severity)||void 0===t?void 0:t.toLowerCase(),o.system&&-1!==o.system.indexOf("All")&&(S.deleteParams.alarm.system.system=!0),o.severity||(S.deleteParams.alarm.system.severity=!0);var i=S.chartOptionService.getUserFilters("alarm","system");i.System=e.point.category,i.Severity=a.transform(e.point.series.userOptions.data[n].severity),i.Status=a.transform(e.point.series.userOptions.stack),S.gotoFullScreen("system")}},t.Highcharts.chart("systemContainerByClick",O),"true"!=t.geoMapIssue&&document.getElementById("dynamic-system-chart-div").scrollIntoView({behavior:"smooth"})):e.system&&e.system["api-error"]?(t.data.alarm.system=t.chartOptionService.prepareAlarmCSVDataforSystem([],{},"active",l),t.params.alarm.system=l,t.errors.system=t.commonOrgService.pageErrorHandle(e.system)):void 0!==e.system&&(t.data.alarm.system=t.chartOptionService.prepareAlarmCSVDataforSystem([],{},"active",l),t.params.alarm.system=l,O=t.chartOptionService.systemChartOptions([],!0,l),t.Highcharts.chart("systemContainerByClick",O)),e&&"object"==typeof e.byday&&e.byday&&!e.byday["api-error"]){var s=t.chartOptionService.getLineChartOptionForActiveReports(e.byday,!0,l,o,t.last24hours);t.data.alarm.byday=t.chartOptionService.prepareAlarmCSVDataforDay(e.byday,"active"),c.setOptions({lang:{rangeSelectorZoom:t.language.duration}}),t.Highcharts.stockChart("event-alarm-line-chart-container",s)}else if(e.byday&&e.byday["api-error"])t.data.alarm.byday=t.chartOptionService.prepareAlarmCSVDataforDay([],"active"),t.errors.byday=t.commonOrgService.pageErrorHandle(e.byday);else if(void 0!==e.byday){t.data.alarm.byday=t.chartOptionService.prepareAlarmCSVDataforDay([],"active");var d=t.chartOptionService.getLineChartOptionForActiveReports([],!0,l,o,t.last24hours);c.setOptions({lang:{rangeSelectorZoom:t.language.duration}}),t.Highcharts.chart("event-alarm-line-chart-container",d)}},function(e){t.pageErrorHandle(e)})}}}},{key:"loadBothData",value:function(){throw new Error("Method not implemented.")}},{key:"getChartByLocation",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.loaders.alarm.location=!0;var a=new s.rS;this.errors.location="";var n,i,o=this.filtersForm.value;n=o.category&&o.category.length&&-1===o.category.indexOf("All")?o.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,i=o.customCategory&&o.customCategory.length&&-1===o.customCategory.indexOf("None")?o.customCategory:void 0,o.eventName&&o.eventName.length&&-1===o.eventName.indexOf("All")||(o.eventName=void 0),o.severity&&"all"===o.severity.toLowerCase()&&(o.severity=void 0);var r={region:this.clickedRegion,location:"All"!==this.locationName?this.locationName:void 0,system:"All"!==this.systemName?this.systemName:void 0,fsan_serialnumber:o.fsan?o.fsan:void 0,severity:o.severity,notificationType:"Alarm",historyReport:!1,category:n,alarmEventName:o.eventName?o.eventName:void 0,customCategory:i,cco_ack:o.cco_ack};o.startDate&&(o.endDate||(o.endDate=new Date),r.date=this.last24hours?"".concat(this.dateUtilsService.getStartUtcTimeByDays(0)-864e5,",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.endDate,!0)):"".concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.endDate,!0)));var l="";for(var c in r)null==r[c]||""==r[c]||(""!=l&&(l+="&"),l+=c+"="+encodeURIComponent(r[c]));l+="&historyReport=false&cco_shelv=false",this.url="".concat(this.baseUrl,"alarmbyLocation?").concat(l);var g,u=this;this.http.get("".concat(d.N.API_BASE_URL,"nfa/locations?tenant=0&region=").concat(this.clickedRegion,"&includeDeleted=true")).subscribe(function(n){var i={};n&&n.forEach(function(e){i[e.id]={name:e.name,isDeleted:e.isDeleted}}),e.clickedLoctionsObj=i,e.loadLocationChart=!0,e.locationSubscribe=e.http.get("".concat(e.url)).subscribe(function(n){e.locationError=!1,g=e.chartOptionService.locationChartOptions(n,!0,r,i),e.data.alarm.location=e.chartOptionService.prepareAlarmCSVDataforLocation(n,i,"active",r),e.params.alarm.location=r,g.plotOptions.series.point.events={click:function(e){var a=$(this.series.data).index(this);u.clickedLocation=e.point.series.userOptions.data[a].locationId,u.params.alarm.location.location=e.point.series.userOptions.data[a].locationId,u.getAlarmBySystem(t)},contextmenu:function(e){var t;e.preventDefault();var n=$(this.series.data).index(this);u.clickedLocation=e.point.series.userOptions.data[n].locationId,u.clickedSeverity=e.point.series.userOptions.data[n].severity,u.params.alarm.location.location=e.point.series.userOptions.data[n].locationId,u.params.alarm.location.severity=null===(t=e.point.series.userOptions.data[n].severity)||void 0===t?void 0:t.toLowerCase(),u.deleteParams.alarm.location.location=!0,u.deleteParams.alarm.location.severity=!0;var i=u.chartOptionService.getUserFilters("alarm","location");i.Location=e.point.category,i.Severity=a.transform(e.point.series.userOptions.data[n].severity),u.gotoFullScreen("location")}},g=Object.assign({},g),e.Highcharts.chart("locationContainer",g),document.getElementById("dynamic-location-chart-div").scrollIntoView({behavior:"smooth"}),e.loaders.alarm.location=!1},function(t){e.data.alarm.location=e.chartOptionService.prepareAlarmCSVDataforLocation([],i,"active",r),e.params.alarm.location=r,e.locationError=!0,e.locationErrorInfo=401==t.status?e.language["Access Denied"]:e.commonOrgService.pageErrorHandle(t),g=null,e.loadLocationChart&&e.Highcharts.chart("locationContainer",g),e.loaders.alarm.location=!1})},function(t){e.loaders.alarm.location=!1,e.errors.location=e.commonOrgService.pageErrorHandle(t)})}},{key:"getAlarmBySystem",value:function(){var e=this;this.loaders.alarm.system=!0;var t=new s.rS;this.errors.system="";var a,n,i=this.filtersForm.value;a=i.category&&i.category.length&&-1===i.category.indexOf("All")?i.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,n=i.customCategory&&i.customCategory.length&&-1===i.customCategory.indexOf("None")?i.customCategory:void 0,i.eventName&&i.eventName.length&&-1===i.eventName.indexOf("All")||(i.eventName=void 0),this.loadSystemChart=!0,i.severity&&"all"===i.severity.toLowerCase()&&(i.severity=void 0);var o={region:this.clickedRegion?this.clickedRegion:this.regionName,location:this.clickedLocation,alarmEventName:i.eventName?i.eventName:void 0,severity:i.severity,notificationType:"Alarm",historyReport:!1,category:a,fsan_serialnumber:i.fsan?i.fsan:void 0,customCategory:n,cco_ack:i.cco_ack};i.startDate&&(i.endDate||(i.endDate=new Date),o.date=this.last24hours?"".concat(this.dateUtilsService.getStartUtcTimeByDays(0)-864e5,",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(i.endDate,!0)):"".concat(this.dateUtilsService.getUtCMilliSecByDateObj(i.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(i.endDate,!0)));var r="";for(var l in o)null==o[l]||""==o[l]||(""!=r&&(r+="&"),r+=l+"="+encodeURIComponent(o[l]));r+="&historyReport=false&cco_shelv=false",this.url="".concat(this.baseUrl,"alarmbySystem?").concat(r);var c,g=this;this.systemsSubject=this.http.get("".concat(d.N.API_BASE_URL,"nfa/systems?tenant=0&region=").concat(this.clickedRegion,"&location=").concat(this.clickedLocation,"&includeDeleted=true")).subscribe(function(a){var n={};a&&a.forEach(function(e){n[e.uuid]={name:e.name,isDeleted:e.isDeleted}}),e.clickedSystemsObj=n,e.systemSubscribe=e.http.get("".concat(e.url)).subscribe(function(a){e.systemError=!1,c=e.chartOptionService.systemChartOptions(a,!0,o,e.clickedLoctionsObj,e.clickedSystemsObj),e.data.alarm.system=e.chartOptionService.prepareAlarmCSVDataforSystem(a,e.clickedSystemsObj,"active",o),e.params.alarm.system=o,c.plotOptions.series.point.events={click:function(e){var a;e.preventDefault();var n=$(this.series.data).index(this);g.clickedSystem=e.point.series.userOptions.data[n].systemId,g.clickedSeverity=e.point.series.userOptions.data[n].severity;var i=g.chartOptionService.getUserFilters("alarm","system");i.System=e.point.category,i.Severity=t.transform(e.point.series.userOptions.data[n].severity),g.params.alarm.system.system=e.point.series.userOptions.data[n].systemId,g.params.alarm.system.severity=null===(a=e.point.series.userOptions.data[n].severity)||void 0===a?void 0:a.toLowerCase(),g.deleteParams.alarm.system.system=!0,g.deleteParams.alarm.system.severity=!0,g.gotoFullScreen("system")},contextmenu:function(e){var a;e.preventDefault();var n=$(this.series.data).index(this);g.clickedSystem=e.point.series.userOptions.data[n].systemId,g.clickedSeverity=e.point.series.userOptions.data[n].severity;var i=g.chartOptionService.getUserFilters("alarm","system");i.System=e.point.category,i.Severity=t.transform(e.point.series.userOptions.data[n].severity),g.params.alarm.system.system=e.point.series.userOptions.data[n].systemId,g.params.alarm.system.severity=null===(a=e.point.series.userOptions.data[n].severity)||void 0===a?void 0:a.toLowerCase(),g.deleteParams.alarm.system.system=!0,g.deleteParams.alarm.system.severity=!0,g.gotoFullScreen("system")}},c=Object.assign({},c),e.Highcharts.chart("systemContainerByClick",c),document.getElementById("dynamic-system-chart-div").scrollIntoView({behavior:"smooth"}),e.loaders.alarm.system=!1},function(t){e.data.alarm.system=e.chartOptionService.prepareAlarmCSVDataforSystem([],e.clickedSystemsObj,"active",o),e.params.alarm.system=o,e.systemError=!0,e.systemErrorInfo=401==t.status?e.language["Access Denied"]:e.commonOrgService.pageErrorHandle(t),c=null,e.Highcharts.chart("systemContainerByClick",c),e.loaders.alarm.system=!1})},function(t){e.errors.system=e.commonOrgService.pageErrorHandle(t),e.loaders.alarm.system=!1})}},{key:"gotoFullScreen",value:function(e){var t=this;this.fullscreenParams=[e];var a={alarm:{severity:this.language["Select an alarm to view all instances of that alarm for that severity"],region:this.language["Select an alarm to view all instances of that alarm for that region"],location:this.language["Select an alarm to view all instances of that alarm for that location"],system:this.language["Select an alarm to view all instances of that alarm for that system"]}};this.fullScreenChartName={alarmevent:"".concat(this.language["Alarm by Severity"]),severity:"".concat(this.language["Alarm by Severity"]),region:"".concat(this.language["Alarm by Region"]),location:"".concat(this.language["Alarm by Location"]),system:"".concat(this.language["Alarm by System"])}[e],this.chartTypeInFS=e,this.filtersDataInNS=this.filtersForm.value,this.fullScreenName=e,this.initLoad=!1,this.showTable=!1;var n=this.params.alarm[e];n.notificationType="Alarm";var i="";for(var o in n)null==n[o]||""==n[o]||(""!=i&&(i+="&"),i+=o+"="+encodeURIComponent(n[o]));i+="&historyReport=false&cco_shelv=false";var r={},s={alarmevent:"".concat(this.baseUrl,"alarmbyAlarmEvent?").concat(i),severity:"".concat(this.baseUrl,"alarmbySeverity?").concat(i),region:"".concat(this.baseUrl,"alarmbyRegion?").concat(i),location:"".concat(this.baseUrl,"alarmbyLocation?").concat(i),system:"".concat(this.baseUrl,"alarmbySystem?").concat(i)};["alarmevent"].forEach(function(e){var a=t.http.get("".concat(s[e])).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)}));r[e]=a}),this.listObs=(0,h.D)(r).subscribe(function(i){t.fullScreen=!0,t.loading=!1;var o=0;if("object"==typeof i.alarmevent&&!i.alarmevent&&(i.alarmevent=[]),i&&"object"==typeof i.alarmevent&&!i.alarmevent["api-error"]){t.count=t.getCountByData(i.alarmevent),t.count||(i.alarmevent=[]),t.fullScrenSubHeading=a.alarm[e.toLowerCase()],t.serverityError=!1,t.errors.alarmevent=!1;var r=t.chartOptionService.getPieChartOptionsForFS(i.alarmevent,"raised","alarm",e);r.plotOptions.series.point.events={click:function(e){t.searchTerm!=e.point.name&&(t.searchTerm=e.point.name,t.initLoad=!1,t.showTable=!1,t.showNewPagination?t.getListSub(e.point.name):t.search(e.point.name))}},t.Highcharts.chart("fullChartContainer",r),t.showTable=!0,t.initLoad?t.redraw():t.getList(e)}else i.alarmevent&&(t.errors.alarmevent=t.commonOrgService.pageErrorHandle(i.alarmevent));if(i&&i.severity){t.fullScreenChartName=t.language["Alarm by Severity"];var s=i.severity.alarm?i.severity.alarm:i.severity;t.serverityError=!1;var l=t.chartOptionService.severityChartOptions(s.raised,"Alarms Raised","active");t.Highcharts.chart("fullChartContainer",l),t.count=t.getCountByDataObj(s),t.showTable=!0,t.initLoad?t.redraw():t.getList("severity")}if(i&&void 0!==i.region){t.fullScreenChartName=t.language["Alarm by Region"],t.loadRegionChart=!0,t.regionChartData=i.region,t.regionError=!1;var c=t.chartOptionService.regionChartOptions(t.regionChartData,!0,n);o=t.getCountByData(i.region),t.count=o,t.showTable=!0,t.initLoad?t.redraw():t.getList("region"),t.Highcharts.chart("fullChartContainer",c)}if(i&&void 0!==i.location){t.fullScreenChartName=t.language["Alarm by Location"],t.locationChartData=i.location,o=t.getCountByData(i.location),t.count=o,t.showTable=!0,t.initLoad?t.redraw():t.getList("location"),t.locationError=!1;var d=t.chartOptionService.locationChartOptions(t.locationChartData,!0,n);t.Highcharts.chart("fullChartContainer",d)}if(i&&void 0!==i.system){t.fullScreenChartName=t.language["Alarm by System"],t.systemChartData=i.system,t.systemError=!1;var g=t.chartOptionService.systemChartOptions(t.systemChartData,!0,n);o=t.getCountByData(i.system),t.count=o,t.showTable=!0,t.initLoad?t.redraw():t.getList("system"),t.Highcharts.chart("fullChartContainer",g)}t.fullScreen=!0,t.loading=!1},function(e){t.pageErrorHandle(e)})}},{key:"redraw",value:function(){this.searchTerm?this.search(this.searchTerm):this.dtElement.dtInstance.then(function(e){e.draw()})}},{key:"getList",value:function(e,t){var a=this;if(this.showNewPagination)this.getListSub();else if(this.fullScreen){var n,i,o=this.filtersForm.value,r={};if(t)n=o.category&&o.category.length&&-1===o.category.indexOf("All")?o.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,i=o.customCategory&&o.customCategory.length&&-1===o.customCategory.indexOf("None")?o.customCategory:void 0,o.eventName&&o.eventName.length&&-1===o.eventName.indexOf("All")||(o.eventName=void 0),"All"===this.regionName&&(this.regionName=void 0),"All"===this.locationName&&(this.locationName=void 0),"All"===this.systemName&&(this.systemName=void 0),o.severity&&"all"===o.severity.toLowerCase()&&(o.severity=void 0),r={region:this.regionName,location:this.locationName,system:this.systemName,fsan_serialnumber:o.fsan?o.fsan:"",severity:o.severity||"MAJOR,MINOR,CRITICAL,INFO,WARNING",historyReport:!1,category:n,notificationType:"Alarm",alarmEventName:o.eventName?o.eventName:void 0,customCategory:i,cco_ack:o.cco_ack},o.startDate&&(o.endDate||(o.endDate=new Date),r.date=this.last24hours?"".concat(this.dateUtilsService.getStartUtcTimeByDays(0)-864e5,",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.endDate,!0)):"".concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.endDate,!0))),"region"===e&&(delete r.region,delete r.location,delete r.system),"location"===e&&(delete r.location,delete r.system);else r=this.params.alarm[e];var s="";for(var l in r)null==r[l]||""==r[l]||(""!=s&&(s+="&"),s+=l+"="+encodeURIComponent(r[l]));s+="&historyReport=false&cco_shelv=false",this.list=[];var c=this;this.dtOptions={pagingType:"full_numbers",pageLength:10,serverSide:!0,processing:!1,lengthChange:!1,ordering:!1,dom:"tipr",ajax:function(e,t){var n="".concat(a.baseUrl,"notifications?from=").concat(e.start,"&size=").concat(e.length,"&").concat(s);c.searchTerm&&(n+="&searchField=alarmEventName&searchValue=".concat(c.searchTerm)),e.search.value&&(n="".concat(a.baseUrl,"notifications?from=").concat(e.start,"&size=").concat(e.length,"&").concat(s,"&alarmEventName=").concat(e.search.value)),c.http.get(n).subscribe(function(n){var i=[];n&&n.alarms&&n.alarms.forEach(function(e){var t,n;e&&e.subject&&(e.subject.deviceName||(e.subject.deviceName=a.systemsObj[e.subject.deviceId]),e.subject.deviceName=null===(t=e.subject.deviceName)||void 0===t?void 0:t.replace("device=",""),e.subject.deviceName=null===(n=e.subject.deviceName)||void 0===n?void 0:n.replace("DEVICE=",""),e.subject.resourceForUI=a.issueService.generateResourceForUI(e,"EXA"===e.type)),i.push(e)}),a.list=n.alarms,a.initLoad=!0,a.loading=!1,t({recordsTotal:n.totalCount?n.totalCount:0,recordsFiltered:e.search.value&&n?n.length:n.totalCount?n.totalCount:0,data:[]})},function(e){a.loading=!1})},drawCallback:function(e){e._iRecordsDisplay<=e._iDisplayLength&&$(e.nTableWrapper).find("#users-table_last").addClass("disabled")}},this.tableLanguageOptions()}}},{key:"getCountByData",value:function(e){var t=0;if(e&&e.length)return e.forEach(function(e){(e.alarm&&e.alarm.raised?Object.keys(e.alarm.raised):e.raised?Object.keys(e.raised):[]).forEach(function(a){t+=e.alarm&&null!=typeof e.alarm.raised[a]?e.alarm.raised[a]:e.raised[a]})}),t}},{key:"applyFiltersInFullScreen",value:function(){var e=this;this.setSearchQuery(""),this.searchTerm="",this.alarmsCount(),this.clickedRegion="",this.clickedLocation="",this.clickedSystem="",this.clickedSeverity="";var t,a,n=this.filtersForm.value;this.applyFiltersInFS=!0,t=n.category&&n.category.length&&-1===n.category.indexOf("All")?n.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,a=n.customCategory&&n.customCategory.length&&-1===n.customCategory.indexOf("None")?n.customCategory:void 0,n.eventName&&n.eventName.length&&-1===n.eventName.indexOf("All")||(n.eventName=void 0),this.loading=!0,this.applyDisabled=!0,this.initLoad=!1,this.showTable=!1;this.systemName&&this.systemName.length&&-1===this.systemName.indexOf("All")&&this.systemName.filter(function(e){return e&&e.length&&"All"!==e}),"All"===this.regionName&&(this.regionName=void 0),"All"===this.locationName&&(this.locationName=void 0),"All"===this.systemName&&(this.systemName=void 0),n.severity&&"all"===n.severity.toLowerCase()&&(n.severity=void 0);var i={region:this.regionName,location:this.locationName,system:this.systemName,fsan_serialnumber:n.fsan?n.fsan:void 0,severity:this.clickedSeverity.toLowerCase()||n.severity,notificationType:"Alarm",historyReport:!1,category:t,alarmEventName:n.eventName?n.eventName:void 0,customCategory:a,cco_ack:n.cco_ack};n.startDate&&(n.endDate||(n.endDate=new Date),i.date="".concat(this.dateUtilsService.getUtCMilliSecByDateObj(n.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(n.endDate,!0)));var o="";for(var r in i)null==i[r]||""==i[r]||(""!=o&&(o+="&"),o+=r+"="+encodeURIComponent(i[r]));o+="&historyReport=false&cco_shelv=false";var s={},l=[this.fullScreenName];if(this.loadRegionChart=!0,i.region){this.loadRegionChart=!1;var c=l.indexOf("severity");l.splice(c,1),c=l.indexOf("region"),l.splice(c,1),l.push("location"),this.loadLocationChart=!0}if(i.location){this.loadLocationChart=!1;var d=l.indexOf("location");l.splice(d,1),l.push("system"),this.loadSystemChart=!0}l=["alarmevent"];var u={alarmevent:"".concat(this.baseUrl,"alarmbyAlarmEvent?").concat(o),severity:"".concat(this.baseUrl,"alarmbySeverity?").concat(o),region:"".concat(this.baseUrl,"alarmbyRegion?").concat(o),location:"".concat(this.baseUrl,"alarmbyLocation?").concat(o),system:"".concat(this.baseUrl,"alarmbySystem?").concat(o)};l.forEach(function(t){var a=e.http.get("".concat(u[t])).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)}));s[t]=a}),this.closeErrors(),this.listObs=(0,h.D)(s).subscribe(function(t){e.loading=!1;var a=0;if("object"==typeof t.alarmevent&&!t.alarmevent&&(t.alarmevent=[]),t&&"object"==typeof t.alarmevent&&!t.alarmevent["api-error"]){e.count=e.getCountByData(t.alarmevent),e.count||(t.alarmevent=[]),e.fullScreenChartName=e.language["Alarm by Severity"],e.serverityError=!1,e.chartOptionService.getSubTitle(i,{},{},"alarm","severity");var n=e.chartOptionService.getPieChartOptionsForFS(t.alarmevent,"raised","alarm","severity");n.plotOptions.series.point.events={click:function(t){e.searchTerm!=t.point.name&&(e.searchTerm=t.point.name,e.showNewPagination?e.getListSub(t.point.name):e.search(t.point.name))}},e.Highcharts.chart("fullChartContainer",n),e.showTable=!0,e.initLoad?e.redraw():e.getList("severity",!0)}else t.alarmevent&&(e.errors.alarmevent=e.commonOrgService.pageErrorHandle(t.alarmevent));if(t&&t.severity){e.fullScreenChartName=e.language["Alarm by Severity"];var o=t.severity.alarm?t.severity.alarm:t.severity;e.serverityError=!1;var r=e.chartOptionService.severityChartOptions(o.raised,"Alarms Raised","active");e.Highcharts.chart("fullChartContainer",r),a=e.getCountByDataObj(o),e.count=a,e.initLoad?e.redraw():e.getList("severity",!0),e.showTable=!0}if(t&&void 0!==t.region){e.fullScreenChartName=e.language["Alarm by Region"],e.loadRegionChart=!0,e.regionChartData=t.region,e.regionError=!1;var s=e.chartOptionService.regionChartOptions(e.regionChartData,!0,i);a=e.getCountByData(t.region),e.count=a,e.initLoad?e.redraw():e.getList("region",!0),e.showTable=!0,e.Highcharts.chart("fullChartContainer",s)}if(t&&void 0!==t.location){e.fullScreenChartName=e.language["Alarm by Location"],e.locationChartData=t.location,a=e.getCountByData(t.location),e.count=a,e.initLoad?e.redraw():e.getList("location",!0),e.showTable=!0,e.locationError=!1;var l=e.chartOptionService.locationChartOptions(e.locationChartData,!0,i);e.Highcharts.chart("fullChartContainer",l)}if(t&&void 0!==t.system){e.fullScreenChartName=e.language["Alarm by System"],e.systemChartData=t.system,e.systemError=!1;var c=e.chartOptionService.systemChartOptions(e.systemChartData,!0,i);a=e.getCountByData(t.system),e.count=a,e.initLoad?e.redraw():e.getList("system",!0),e.showTable=!0,e.Highcharts.chart("fullChartContainer",c)}e.fullScreen=!0,e.loading=!1},function(t){e.pageErrorHandle(t)})}},{key:"getCountByDataObj",value:function(e){var t=0;if(e&&e.alarm&&(e=e.alarm),e&&Object.keys(e).length)return Object.keys(e).forEach(function(a){Object.keys(e[a]).forEach(function(n){t+=e[a][n]})}),t}},{key:"doSearch",value:function(){var e=this;this.listSub$=this.searchText$.pipe((0,Z.b)(500),(0,O.x)(),(0,S.w)(function(t){return e.fullScreen&&(e.initLoad=!1,e.showTable=!1),e.ssoService.setRefreshTokenNew(),new v.y(function(e){return e.next(t)})})).subscribe(function(t){setTimeout(function(){e.showTable=!0,e.count=0,e.fullScreen&&e.getList(e.chartTypeInFS,e.applyFiltersInFS)},100)},function(t){e.loading=!1})}},{key:"search",value:function(e){e||this.resetALarmEventChart(),this.searchText$.next(e)}},{key:"viewDetails",value:function(e,t){this.hideSource=!1,this.index=t,this.fullData=e,this.showAckShelveBtn=!0}},{key:"close",value:function(){this.modalRef.close()}},{key:"convertToDateTime",value:function(e){return e?(e=Number(e),new s.uU("en-US").transform(new Date(e),"short")):void 0}},{key:"changeSeverity",value:function(){this.clickedSeverity=""}},{key:"changeCategory",value:function(){}},{key:"clearSearchInp",value:function(){this.setSearchQuery(""),this.searchTerm="",this.search("")}},{key:"getQueryForCount",value:function(e,t,a){var n,i,o=this.filtersForm.value;n=o.category&&o.category.length&&-1===o.category.indexOf("All")?o.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,i=o.customCategory&&o.customCategory.length&&-1===o.customCategory.indexOf("None")?o.customCategory:void 0,o.eventName&&o.eventName.length&&-1===o.eventName.indexOf("All")||(o.eventName=void 0),"All"===this.regionName&&(this.regionName=void 0),"All"===this.locationName&&(this.locationName=void 0),"All"===this.systemName&&(this.systemName=void 0),"All"===o.severity&&(o.severity=void 0);var r={};r=t?{region:this.regionName,location:this.locationName,system:this.systemName,fsan_serialnumber:o.fsan?o.fsan:"",severity:o.severity||"MAJOR,MINOR,CRITICAL,INFO,WARNING",date:"".concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.endDate,!0)),historyReport:!1,category:n,notificationType:"Alarm",alarmEventName:a||void 0,customCategory:i,cco_ack:o.cco_ack}:{region:this.clickedRegion||this.regionName,location:this.clickedLocation||this.locationName,system:this.clickedSystem||this.systemName,fsan_serialnumber:o.fsan?o.fsan:"",severity:this.clickedSeverity.toLowerCase()||o.severity||"MAJOR,MINOR,CRITICAL,INFO,WARNING",historyReport:!1,category:n,notificationType:"Alarm",alarmEventName:a||void 0,customCategory:i,cco_ack:o.cco_ack},o.startDate&&(o.endDate||(o.endDate=new Date),r.date="".concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.endDate,!0))),"region"===e&&(delete r.region,delete r.location,delete r.system),"location"===e&&(delete r.location,delete r.system);var s="";for(var l in r)null==r[l]||""==r[l]||(""!=s&&(s+="&"),s+=l+"="+encodeURIComponent(r[l]));return s+="&historyReport=false"}},{key:"getCategories",value:function(){var e=this,t=this.filtersForm.value,a={historyReport:!1};t.startDate&&(t.endDate||(t.endDate=new Date),a.date="".concat(this.dateUtilsService.getUtCMilliSecByDateObj(t.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(t.endDate,!0)));var n="";for(var i in a)null==a[i]||""==a[i]||(""!=n&&(n+="&"),n+=i+"="+encodeURIComponent(a[i]));""!=n&&(n+="&"),n+="historyReport=false",this.http.get("".concat(this.baseUrl,"category?").concat(n)).subscribe(function(t){var a=[{id:"All",name:"All"}],n=t.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});n&&n.forEach(function(e){!e||a.push({id:e,name:e})}),e.categories=a})}},{key:"getCustomCategories",value:function(){var e=this;this.http.get("".concat(this.baseUrl,"customCategory")).subscribe(function(t){var a=[{id:"None",name:"None"}],n=[];t.forEach(function(e){n.push(e.categoryName)});var i=n.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});i&&i.forEach(function(e){!e||a.push({id:e,name:e})}),e.customCategories=a})}},{key:"getAlarmNames",value:function(){var e=this;this.http.get("".concat(this.baseUrl,"alarmEvent?historyalarm=false&notificationType=Alarm")).subscribe(function(t){var a=[{id:"All",name:"All"}],n=t.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});n&&n.forEach(function(e){!e||"multiple-onts-down"!==e&&a.push({id:e,name:e})}),e.alarmNames=a,e.last24hours&&e.filtersForm.get("eventName").setValue(["loss-of-pon"])})}},{key:"changeStartDate",value:function(){this.FromDate=this.filtersForm.get("startDate").value}},{key:"validateRegion",value:function(e){var t=this.filtersForm.get("region").value;if("All"===e)t=["All"];else{var a=t.indexOf("All");a>-1&&t.splice(a,1)}this.filtersForm.get("region").setValue(t),this.loadLocationValue("")}},{key:"validateLocation",value:function(e){var t=this.filtersForm.get("location").value;if("All"===e)t=["All"];else{var a=t.indexOf("All");a>-1&&t.splice(a,1)}this.filtersForm.get("location").setValue(t),this.loadSystemValue("")}},{key:"validateSystem",value:function(e){var t=this.filtersForm.get("system").value;if(t.length)if("All"===e)t=["All"];else{var a=t.indexOf("All");a>-1&&t.splice(a,1)}else t=["All"];this.filtersForm.get("system").setValue(t)}},{key:"validateCategory",value:function(e){var t=this.filtersForm.get("category").value;if(t.length)if("All"===e.id)t=["All"];else{var a=t.indexOf("All");a>-1&&t.splice(a,1),this.filtersForm.get("customCategory").setValue("None"),this.filtersForm.get("fsan").enable(),this.filtersForm.get("eventName").enable()}else t=["All"];this.filtersForm.get("category").setValue(t)}},{key:"validateCustomCategory",value:function(e){var t=this.filtersForm.get("customCategory").value;if("None"===e.id)t=["None"];else{var a=t.indexOf("None");a>-1&&t.splice(a,1)}this.filtersForm.get("customCategory").setValue(t)}},{key:"changeCustomCategory",value:function(e){"None"!==e.id&&(this.filtersForm.get("category").setValue(["All"]),this.filtersForm.get("fsan").setValue(""),this.filtersForm.get("eventName").setValue(["All"]))}},{key:"validateAlarmEvent",value:function(e){var t=this.filtersForm.get("eventName").value;if(t.length)if("All"===e.id)t=["All"];else{var a=t.indexOf("All");a>-1&&t.splice(a,1)}else t=["All"];this.filtersForm.get("eventName").setValue(t)}},{key:"validateAlarmName",value:function(e){var t,a,n;(-1===(null===(t=this.filtersForm.get("eventName").value)||void 0===t?void 0:t.indexOf("All"))||-1!==(null===(a=this.filtersForm.get("eventName").value)||void 0===a?void 0:a.indexOf("All"))&&(null===(n=this.filtersForm.get("eventName").value)||void 0===n?void 0:n.length)>1)&&this.filtersForm.get("customCategory").setValue("None")}},{key:"validateFSAN",value:function(){this.filtersForm.get("customCategory").setValue("None"),(0==this.filtersForm.get("fsan").value.length||12==this.filtersForm.get("fsan").value.length)&&(this.fsanvalid=!1)}},{key:"fsanvalidated",value:function(e){var t=this.filtersForm.get("fsan").value.length;return 0!=t&&t<12?(this.fsanvalid=!0,!0):(this.fsanvalid=!1,!1)}},{key:"changeTableStatusLanguage",value:function(e){var t=new Intl.NumberFormat;this.tableCounts={searchText:e.oPreviousSearch.sSearch.trim(),total:e._iRecordsTotal,displayCount:e._iDisplayLength,displayed:e._iRecordsDisplay,start:e._iDisplayStart};var a="fr"==sessionStorage.getItem("defaultLanguage"),n=e.oPreviousSearch.sSearch.trim()?a?"(filtr\xe9es \xe0 partir des ".concat(t.format(e._iRecordsTotal)," entr\xe9es totales)"):"(filtered from ".concat(t.format(e._iRecordsTotal)," total entries)"):"",i=0==e._iRecordsDisplay?-1:e._iDisplayStart,o=e._iDisplayStart+e._iDisplayLength>e._iRecordsDisplay?e._iRecordsDisplay:e._iDisplayStart+e._iDisplayLength;$('div [role="status"]').text(a?"Affichage de ".concat(t.format(i+1)," \xe0 ").concat(t.format(o)," des ").concat(t.format(e._iRecordsDisplay)," entr\xe9es ").concat(n):"Showing ".concat(t.format(i+1)," to ").concat(t.format(o)," of ").concat(t.format(e._iRecordsDisplay)," entries ").concat(n)),$(".first").text(a?"Le d\xe9but":"First"),$(".previous").text(a?"Pr\xe9c\xe9dent":"Previous"),$(".next").text(a?"Suivant":"Next"),$(".last").text(a?"Derni\xe8re":"Last")}},{key:"closeNotes",value:function(){this.modalRef&&this.modalRef.close()}},{key:"openNotesModal",value:function(e,t,a,n){this.btnDisabled=!0,this.isNotesModalOpen=!0,this.index=n,this.noteError=!1,this.showEdit=a,this.alarmId=e,this.notes.setValue(t||""),this.modalRef=this.dialogService.open(this.addNotesModal,{size:"lg",centered:!1,windowClass:"custom-modal"})}},{key:"openShowNotesModal",value:function(e){this.btnDisabled=!0,this.isNotesModalOpen=!0,this.notes.setValue(e||""),this.modalRef=this.dialogService.open(this.showNotesModal,{size:"lg",centered:!1,windowClass:"custom-modal"})}},{key:"addNotes",value:function(){var e=this;this.btnDisabled=!0,this.noteSaveLoader=!0,this.url="".concat(this.baseUrl,"notes/").concat(this.alarmId,"?notesDescription=").concat(encodeURIComponent(this.notes.value),"&historyReport=false"),this.btnDisabled=!0,this.http.put(this.url,"").subscribe(function(t){for(var a=0;a<=e.list.length;a++)a==e.index&&(e.list[a].subject.notes=e.notes.value);e.closeNotes(),e.btnDisabled=!1,e.noteSaveLoader=!1},function(t){e.noteError=!0,e.btnDisabled=!1,e.noteSaveLoader=!1,e.noteErrorInfo=401==t.status?e.language["Access Denied"]:e.commonOrgService.pageErrorHandle(t)})}},{key:"deleteConfirmModal",value:function(e,t){this.modalRef&&this.close(),this.btnDisabled=!1,this.deleteId=e,this.deleteIndex=t,this.modalRef=this.dialogService.open(this.deleteModal)}},{key:"deleteNotes",value:function(){var e=this;this.noteSaveLoader=!0,this.deleteError=!1,this.deleteErrorInfo="",this.btnDisabled=!0,this.url="".concat(this.baseUrl,"notes/").concat(this.deleteId),this.http.delete(this.url).subscribe(function(t){for(var a=0;a<=e.list.length;a++)a==e.deleteIndex&&e.list[a].subject.notes&&delete e.list[a].subject.notes;e.btnDisabled=!1,e.noteSaveLoader=!1,e.close()},function(t){e.btnDisabled=!1,e.deleteError=!0,e.noteSaveLoader=!1,e.deleteErrorInfo=401==t.status?e.language["Access Denied"]:e.commonOrgService.pageErrorHandle(t)})}},{key:"handleError",value:function(e){return(0,f._)(e)}},{key:"download",value:function(e,a){var n,i={alarm:"Alarms",event:"Events",region:"Region",location:"Location",system:"System",severity:"Severity",byday:"Day"},o=this.data[a][e],r="".concat(this.language["".concat(i[a])]," By ").concat(this.language["".concat(i[e])]," \r\n").concat(this.chartOptionService.getSubTitleStr(a,e)," \r\n"),s=function(e,a){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=t(e))||a&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw r}}}}(o);try{for(s.s();!(n=s.n()).done;){var l=n.value;console.log(l)}}catch(c){s.e(c)}finally{s.f()}this.exportExcelService.downLoadCSV("".concat(i[a],"-By-").concat(i[e]),o,r)}},{key:"openSubscriberInfo",value:function(e,t){var a=this;this.index=e,this.alarmId=t,this.subscriberInfosub=this.issueService.getAlarmSubscriberInfo(this.alarmId).subscribe(function(e){a.Infosub=null!==(null==e?void 0:e.subcribers),a.subscriberInfo=(null==e?void 0:e.subcribers)?null==e?void 0:e.subcribers:[],a.modalRef=a.dialogService.open(a.addSubscriberInfoModel,{size:"lg",centered:!1,windowClass:"custom-lg-modal"})},function(e){a.pageErrorHandle(e)})}},{key:"removespecialcharacter",value:function(e){var t;return(t=e.keyCode)>47&&t<58||t>64&&t<91||t>96&&t<123}},{key:"deleteFullScreenParams",value:function(){var e=this,t=new s.rS;Object.keys(this.deleteParams).forEach(function(a){Object.keys(e.deleteParams[a]).forEach(function(n){if(Object.keys(e.deleteParams[a][n]).length){var i=Object.keys(e.deleteParams[a][n]),o=e.chartOptionService.getUserFilters(a,n);i.forEach(function(i){void 0!==e.params[a][n][i]&&e.params[a][n][i]&&(delete e.params[a][n][i],e.deleteParams[a][n][i]=!1,delete o[t.transform(i)])}),e.chartOptionService.setUserFilters(a,n,o)}})})}},{key:"tableLanguageOptions",value:function(){"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.translateService.de_DE:"fr"==this.language.fileLanguage?this.dtOptions.language=this.translateService.fr:"es"==this.language.fileLanguage?this.dtOptions.language=this.translateService.es:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}},{key:"resetALarmEventChart",value:function(){this.applyFiltersInFS?this.applyFiltersInFullScreen():this.gotoFullScreen(this.fullscreenParams[0])}},{key:"onAckShelve",value:function(e){var t,a;void 0!==(null==e?void 0:e.ack)?(null===(t=this.list[this.index])||void 0===t?void 0:t.subject)&&(this.list[this.index].subject.ccoAck=null==e?void 0:e.ack):void 0!==(null==e?void 0:e.shelve)&&(null===(a=this.list[this.index])||void 0===a?void 0:a.subject)&&(this.list[this.index].subject.ccoShelved=null==e?void 0:e.shelve)}},{key:"onRefreshAckShelve",value:function(e){this.showAckShelveBtn=!1}},{key:"gotoSubscriberImpactedPage",value:function(e){e&&(e.redirectUrl="/cco/issues/device/active-reports"),localStorage.setItem("calix.impactedSubsFSANData",JSON.stringify(e)),this.router.navigate(["/cco/system/subscribers-impact"])}},{key:"getListNew",value:function(e,t,a,n){if(this.fullScreen){var i,o,r=this.filtersForm.value,s={};if(t)i=r.category&&r.category.length&&-1===r.category.indexOf("All")?r.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,o=r.customCategory&&r.customCategory.length&&-1===r.customCategory.indexOf("None")?r.customCategory:void 0,r.eventName&&r.eventName.length&&-1===r.eventName.indexOf("All")||(r.eventName=void 0),"All"===this.regionName&&(this.regionName=void 0),"All"===this.locationName&&(this.locationName=void 0),"All"===this.systemName&&(this.systemName=void 0),r.severity&&"all"===r.severity.toLowerCase()&&(r.severity=void 0),s={region:this.regionName,location:this.locationName,system:this.systemName,fsan_serialnumber:r.fsan?r.fsan:"",severity:r.severity||"MAJOR,MINOR,CRITICAL,INFO,WARNING",historyReport:!1,category:i,notificationType:"Alarm",alarmEventName:r.eventName?r.eventName:void 0,customCategory:o,cco_ack:r.cco_ack},r.startDate&&(r.endDate||(r.endDate=new Date),s.date=this.last24hours?"".concat(this.dateUtilsService.getStartUtcTimeByDays(0)-864e5,",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(r.endDate,!0)):"".concat(this.dateUtilsService.getUtCMilliSecByDateObj(r.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(r.endDate,!0))),"region"===e&&(delete s.region,delete s.location,delete s.system),"location"===e&&(delete s.location,delete s.system);else s=this.params.alarm[e];var l="";for(var c in s)null==s[c]||""==s[c]||(""!=l&&(l+="&"),l+=c+"="+encodeURIComponent(s[c]));n&&(l+="&".concat(n)),l+="&historyReport=false&cco_shelv=false",this.list=[];var d="".concat(this.baseUrl,"alarmListByPagination?pageSize=").concat(this.entry.value,"&").concat(l);return a&&(d+="&searchField=alarmEventName&searchValue=".concat(a),this.setSearchQuery("searchField=alarmEventName&searchValue=".concat(a))),this.http.get(d)}}},{key:"doSearchNew",value:function(){var e=this;this.searchSub=(0,y.R)(document.getElementById("alarms-list-search"),"keyup").pipe((0,Z.b)(500),(0,O.x)(),(0,S.w)(function(t){return e.paginateLoading=!0,e.getListNew(e.chartTypeInFS,e.applyFiltersInFS,t.target.value).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)}))})).subscribe(function(t){e.list=[],e.paginateLoading=!1,!t["api-error"]&&e.processListResp(t)})}},{key:"getListSub",value:function(e,t){var a=this;this.paginateLoading=!0,this.previousFlag=!1,this.nextFlag=!1,this.getListNew(this.chartTypeInFS,this.applyFiltersInFS,e,t).subscribe(function(e){a.processListResp(e)},function(e){},function(){a.paginateLoading=!1}),this.tableLanguageOptions()}},{key:"processListResp",value:function(e){var t=this;this.previousFlag=null==e?void 0:e.previousFlag,this.nextFlag=null==e?void 0:e.nextFlag,e&&e.alarms&&e.alarms.forEach(function(e){var a,n;e.subject.deviceName||(e.subject.deviceName=t.systemsObj[e.subject.deviceId]),e.subject.deviceName=null===(a=e.subject.deviceName)||void 0===a?void 0:a.replace("device=",""),e.subject.deviceName=null===(n=e.subject.deviceName)||void 0===n?void 0:n.replace("DEVICE=",""),e.subject.resourceForUI=t.issueService.generateResourceForUI(e,"EXA"===e.type)}),this.list=e.alarms,this.loading=!1}},{key:"gotoPrevious",value:function(){var e,t;if(this.previousFlag){var a="from=".concat(null===(t=null===(e=this.list[0])||void 0===e?void 0:e.sort)||void 0===t?void 0:t.join(),"&paginate=PREVIOUS");this.searchQuery&&(a+="&".concat(this.searchQuery)),this.getListSub("",a)}}},{key:"gotoNext",value:function(){var e,t,a;if(this.nextFlag){var n=null===(e=this.list)||void 0===e?void 0:e.length,i="from=".concat(null===(a=null===(t=this.list[n-1])||void 0===t?void 0:t.sort)||void 0===a?void 0:a.join(),"&paginate=NEXT");this.searchQuery&&(i+="&".concat(this.searchQuery)),this.getListSub("",i)}}},{key:"setPaginateQuery",value:function(e){this.paginateQuery=e}},{key:"listenChangeEntries",value:function(){var e=this;this.entry.valueChanges.subscribe(function(t){!e.fullScreen||e.getListSub("",e.searchQuery)})}},{key:"setSearchQuery",value:function(e){this.searchQuery=e}},{key:"setAppliedFilters",value:function(){var e,t;(-1!==(null===(e=this.router.url)||void 0===e?void 0:e.indexOf("/cco/issues/connectivity/active-reports"))||-1!==(null===(t=this.router.url)||void 0===t?void 0:t.indexOf("/cco/issues/health/active-reports")))&&(this.appliedFilters.fsan=!1,this.appliedFilters.customCategory=!1,this.appliedFilters.eventName=!1)}}]),a}();return a.\u0275fac=function(e){return new(e||a)(T.Y36(_.eN),T.Y36(w.s),T.Y36(k.v),T.Y36(q.O),T.Y36(M.v),T.Y36(N.t),T.Y36(D.FF),T.Y36(A.qu),T.Y36(P.t6),T.Y36(E.s),T.Y36(l.gz),T.Y36(I.Dx),T.Y36(l.F0))},a.\u0275cmp=T.Xpm({type:a,selectors:[["app-activeissue"]],viewQuery:function(e,t){var a;(1&e&&(T.Gf(J,7),T.Gf(b.G,5),T.Gf(R,7),T.Gf(H,7),T.Gf(Q,7),T.Gf(B,7),T.Gf(V,7)),2&e)&&(T.iGM(a=T.CRH())&&(t.tableModal=a.first),T.iGM(a=T.CRH())&&(t.dtElement=a.first),T.iGM(a=T.CRH())&&(t.showInfoModal=a.first),T.iGM(a=T.CRH())&&(t.addNotesModal=a.first),T.iGM(a=T.CRH())&&(t.showNotesModal=a.first),T.iGM(a=T.CRH())&&(t.deleteModal=a.first),T.iGM(a=T.CRH())&&(t.addSubscriberInfoModel=a.first))},decls:57,vars:30,consts:[["class","mb-2",4,"ngIf"],["role","alert","class","alert alert-warning",4,"ngIf"],["class","mb-2",3,"ngClass",4,"ngIf"],[1,"mb-2",3,"ngClass"],[1,"container"],[1,"row","my-3"],[1,"col-md-12","px-0"],[1,"issue-overview-wrapper"],[1,"issue-overview-item"],[1,"d-flex","justify-content-between"],[1,"mwc-header","flex","w-100","border-bottom"],[1,"cco-secondary-title"],[1,"mwc-btns","flex","align-items-center"],["id","fullScreenExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand-inv",3,"title","click"],[1,"heading-subtitle"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"img","mb-2"],["class","mt-5",4,"ngIf"],[1,"mwc-content",3,"hidden"],[1,"col-md-12",3,"ngClass"],["id","fullChartContainer",1,"chart-box","h-450px"],[1,"col-md-8","offset-md-4","pr-0"],[1,"text-right","flat-right"],[1,"row"],[1,"col-md-5"],[1,"d-inline-flex","align-items-center"],[1,"pr-1"],[1,"min-w80px","w-40"],["bindValue","id","bindLabel","name","id","show-entries",3,"formControl","searchable","multiple","items","clearOnBackspace"],[1,"pl-1","text-lowercase"],[1,"col-md-7"],[1,"ccl-form","active-reports-list-search"],["type","text","id","alarms-list-search",1,"ccl-input",3,"ngModel","placeholder","ngModelChange","keyup","search"],[1,"search-close","fas","fa-times",3,"click"],["class","row",4,"ngIf"],["class","col-md-12"],["showInfoModal",""],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true","data-backdrop","static","data-keyboard","false",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content","p-0"],[3,"fullData","showAckShelveBtn","hasWriteAccess","hideSource","connected","showNotes","clickedAlarmType","alarmType","ackShelveData","refreshAckShelveBtn"],["class","col-md-12 custom-modal"],["addNotesModal",""],["showNotesModal",""],["deleteModal",""],["addSubscriberInfoModel",""],[1,"mb-2"],[1,"container","p-0"],[3,"formGroup"],[1,"filter-elemnts","mt-3"],["id","issue-active-reports",1,"row"],[1,"col-md-12","pl-0","pr-0"],[1,"current-issue-menu-container","flex-wrap"],["class","current-issue-menu-item col-12 col-sm-12 col-md-3 col-lg-3 mpl-1 m-w-170px",4,"ngIf"],["class","current-issue-menu-item col-12 col-sm-12 col-md-3 col-lg-3 m-w-170px",4,"ngIf"],["class","current-issue-menu-item col-12 col-sm-12 col-md-3 col-lg-3",4,"ngIf"],[1,"row","mt-3"],[1,"col-md-12","text-left"],[1,"d-inline-flex"],["type","button",1,"btn-default","primary",3,"click"],["type","button",1,"btn-default","btn-dft","ml-2",3,"click"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-3","col-lg-3","mpl-1","m-w-170px"],["for","Name",1,"col-form-label","select-font"],["id","current-issues-interval",1,"w-100"],[1,"ccl-form"],["id","start_date","appendTo","body","formControlName","startDate","dateFormat","mm-dd-yy",3,"inputStyle","autoZIndex","placeholder","showIcon","maxDate","readonlyInput","showButtonBar","onSelect"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-3","col-lg-3","m-w-170px"],["id","end_date","appendTo","body","formControlName","endDate","dateFormat","mm-dd-yy",3,"inputStyle","autoZIndex","placeholder","showIcon","maxDate","minDate","readonlyInput","showButtonBar","onSelect"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-3","col-lg-3"],["formControlName","region","bindValue","id","bindLabel","name",1,"selectboxwidth",3,"multiple","items","clearable","searchable","placeholder","add","remove"],["formControlName","location","bindValue","id","bindLabel","name",1,"selectboxwidth",3,"multiple","items","placeholder","clearable","searchable","add","remove"],["formControlName","system","bindValue","uuid","bindLabel","name",1,"selectboxwidth",3,"multiple","items","placeholder","clearable","searchable","change","add","remove"],["id","current-issues-interval",1,"custom-selectbox","w-100"],["formControlName","eventName","id","eventName","bindValue","id","bindLabel","name",3,"searchable","multiple","placeholder","items","add","remove","change"],["id","current-issues-interval",1,"w-100","ccl-form"],["type","text","id","FSAN","name","FSAN","maxlength","12","formControlName","fsan","title","",1,"form-control",3,"placeholder","keypress","keyup"],["class","vald-tag",4,"ngIf"],[1,"vald-tag"],["formControlName","severity",3,"clearable","searchable","placeholder","multiple","change"],["value","All"],["value","critical"],["value","major"],["value","minor"],["value","warning"],["value","info"],["for","Name","id","pendoCCOCategory",1,"col-form-label","select-font"],["formControlName","category","bindValue","id","bindLabel","name",3,"searchable","multiple","placeholder","items","add","remove"],["for","Name","id","pendoCCOAlarmGroup",1,"col-form-label","select-font"],["formControlName","customCategory","bindValue","id","bindLabel","name",3,"clearable","searchable","multiple","placeholder","items","change"],["for","Name","id","acknowledgedAlarms",1,"col-form-label","select-font"],["formControlName","cco_ack","bindValue","id","bindLabel","name",3,"clearable","searchable","multiple","placeholder","items"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12"],["id","issue-active-reports-Alarms-Severity",1,"issue-overview-item"],["data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-dload",3,"title","click"],["id","SeverityExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],["class","mt-3",4,"ngIf"],[1,"mwc-content",3,"ngClass"],[1,"col-md-12",3,"hidden"],["id","severityContainer",1,"chart-box","h-300px"],["id","issue-active-reports-Alarms-Day",1,"issue-overview-item"],[1,"img","my-2"],[1,"mwc-content","d-flex",3,"ngClass"],[1,"col-12","col-md-12",3,"hidden"],["id","event-alarm-line-chart-container",1,"chart-box","h-300px"],["id","issue-active-reports-Alarm-System",1,"issue-overview-item",3,"hidden"],["id","SystemExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],[1,"mwc-content"],["id","systemContainer",1,"chart-box","h-300px"],["id","issue-active-reports-Alarms-Region",1,"issue-overview-item",3,"hidden"],["id","LocationExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],["id","regionContainer",1,"chart-box","h-300px"],["id","dynamic-location-chart-div",1,"issue-overview-item",3,"hidden"],["type","button","aria-label","Close",1,"close","m-2",3,"click"],["aria-hidden","true"],["class","mwc-content",4,"ngIf"],["id","dynamic-system-chart-div",1,"issue-overview-item",3,"hidden"],["id","systemContainerByClick",1,"chart-box","h-300px"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"mt-3"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"mt-5"],["id","locationContainer",1,"chart-box","h-300px",3,"hidden"],[1,"col-md-12","px-0","overflow-auto","full-active-reports"],["datatable","",1,"table","table-borderless",3,"dtOptions"],[1,"sorting-th-custom"],[1,"min-98px"],[1,"col-resource"],[1,"col-severty"],["id","pendo_subscriber_impact"],[1,"col-recom"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pointer",3,"id","click"],["data-toggle","modal","data-target",".bd-example-modal-lg"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-resource","col-recom"],[1,"col-res-data","subj-text",3,"innerHtml"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-severty","col-warn-item"],[1,"dot"],[1,"d-flex","align-items-center"],["class","action-info-u primary p-blue pointer",3,"click",4,"ngIf"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-recom"],[1,"subj-text"],["class","text-center min-w70px",4,"ngIf"],[1,"action-info-u","primary","p-blue","pointer",3,"click"],[1,"text-center","min-w70px"],["class","d-inline-flex primary pointer","data-toggle","modal","data-target","bd-example-modal-sm",3,"click",4,"ngIf"],["class","d-inline-flex mr-2 primary pointer","data-toggle","modal","data-target","bd-example-modal-sm",3,"click",4,"ngIf"],["data-toggle","modal","data-target","bd-example-modal-sm",1,"d-inline-flex","primary","pointer",3,"click"],["src","assets/img/add-note.png",1,"add-note-img","pointer"],["data-toggle","modal","data-target","bd-example-modal-sm",1,"d-inline-flex","mr-2","primary","pointer",3,"click"],["src","./assets/img/net-edit.svg",1,"pointer",3,"title"],["src","./assets/img/net-delete.svg",1,"pointer",3,"title"],["colspan","9",1,"no-data-available"],[1,"col-12","overflow-auto"],["class","loader",4,"ngIf"],[1,"table","table-data"],["class","pointer",3,"id","click",4,"ngFor","ngForOf"],[1,"table-pagination","w-100","d-flex","flex-wrap","pb-2","justify-content-end","pt-4"],[1,"page-action-buttons"],[1,"page-navigate","page-button",3,"ngClass","click"],[1,"loader"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-severty"],["data-toggle","modal","data-target",".bd-example-modal-lg",4,"ngIf"],[3,"ngClass"],[1,"modal-header","d-block"],["id","showInfoModal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"modal-body","add-device-model"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3","px-3",3,"click"],[1,"form-group","ccl-form"],["id","description","rows","3","trimSpace","",1,"form-control",3,"formControl","placeholder","formValue"],[1,"col-md-12","pl-0","text-left","mt-3"],["type","submit","class","btn-default primary  px-3",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-default","transparant","px-3","m-2",3,"click"],["type","submit",1,"btn-default","primary","px-3",3,"disabled","click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","mr-2",3,"disabled","click"],["type","button",1,"btn-default","btn-dft",3,"click"],["class","expand-info-container",4,"ngIf"],[1,"expand-info-container"],[1,"expand-info-item"],["data-toggle","tooltip","data-placement","top",3,"title"]],template:function(e,t){1&e&&(T.YNc(0,le,25,14,"section",0),T.YNc(1,ce,2,1,"div",1),T.YNc(2,Se,100,49,"section",2),T.TgZ(3,"section"),T.TgZ(4,"section",3),T.TgZ(5,"div",4),T.TgZ(6,"div",5),T.TgZ(7,"div",6),T.TgZ(8,"div",7),T.TgZ(9,"div",8),T.TgZ(10,"div",9),T.TgZ(11,"div",10),T.TgZ(12,"div",11),T._uU(13),T.qZA(),T.TgZ(14,"div",12),T.TgZ(15,"button",13),T.NdJ("click",function(){return t.fullScreenInvertFunction()}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(16,"h5",14),T._uU(17),T.qZA(),T.YNc(18,Te,6,1,"div",15),T.TgZ(19,"div",16),T.YNc(20,_e,5,1,"div",17),T.TgZ(21,"div",18),T.TgZ(22,"div",19),T._UZ(23,"div",20),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(24,"div",4),T.TgZ(25,"div",5),T.TgZ(26,"div",21),T.TgZ(27,"div",22),T.TgZ(28,"div",23),T.TgZ(29,"div",24),T.TgZ(30,"div",25),T.TgZ(31,"div",26),T._uU(32),T.qZA(),T.TgZ(33,"div",27),T._UZ(34,"ng-select",28),T.qZA(),T.TgZ(35,"div",29),T._uU(36),T.qZA(),T.qZA(),T.qZA(),T.TgZ(37,"div",30),T.TgZ(38,"div",31),T.TgZ(39,"input",32),T.NdJ("ngModelChange",function(e){return t.searchTerm=e})("keyup",function(e){return t.search(e.target.value)})("search",function(e){return t.search(e.target.value)}),T.qZA(),T.TgZ(40,"i",33),T.NdJ("click",function(){return t.clearSearchInp()}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.YNc(41,Ue,25,14,"div",34),T.YNc(42,Ge,33,22,"div",34),T.qZA(),T.qZA(),T.qZA(),T.YNc(43,We,10,3,"ng-template",35,36,T.W1O),T.TgZ(45,"div",37),T.TgZ(46,"div",38),T.TgZ(47,"div",39),T.TgZ(48,"app-alarm-details",40),T.NdJ("ackShelveData",function(e){return t.onAckShelve(e)})("refreshAckShelveBtn",function(e){return t.onRefreshAckShelve(e)}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.YNc(49,at,16,9,"ng-template",41,42,T.W1O),T.YNc(51,nt,8,2,"ng-template",41,43,T.W1O),T.YNc(53,rt,16,7,"ng-template",null,44,T.W1O),T.YNc(55,dt,10,4,"ng-template",41,45,T.W1O)),2&e&&(T.Q6J("ngIf",t.hasScopeAccess),T.xp6(1),T.Q6J("ngIf",!t.hasScopeAccess),T.xp6(1),T.Q6J("ngIf",t.hasScopeAccess),T.xp6(2),T.Q6J("ngClass",t.fullScreen?"d-block":"d-none"),T.xp6(9),T.hij(" ",t.fullScreenChartName," "),T.xp6(2),T.s9C("title",t.language.lossofpon_fullscreen_close_tip),T.xp6(2),T.hij(" ",t.fullScrenSubHeading,""),T.xp6(1),T.Q6J("ngIf",t.errors.alarmevent),T.xp6(2),T.Q6J("ngIf",t.loading),T.xp6(1),T.Q6J("hidden",t.errors.alarmevent),T.xp6(1),T.Q6J("ngClass",t.loading?"d-none":"d-block"),T.xp6(10),T.Oqu(t.language.Show),T.xp6(2),T.Q6J("formControl",t.entry)("searchable",!1)("multiple",!1)("items",t.entries)("clearOnBackspace",!1),T.xp6(2),T.Oqu(t.language.entries),T.xp6(3),T.s9C("placeholder",t.language["Search by Alarm name"]),T.Q6J("ngModel",t.searchTerm),T.xp6(2),T.Q6J("ngIf",t.showTable&&!t.showNewPagination),T.xp6(1),T.Q6J("ngIf",t.showNewPagination),T.xp6(6),T.Q6J("fullData",t.fullData)("showAckShelveBtn",t.showAckShelveBtn)("hasWriteAccess",t.hasWriteAccess)("hideSource",t.hideSource)("connected",!0)("showNotes",!0)("clickedAlarmType","Alarm")("alarmType","Alarm"))},directives:[s.O5,s.mk,U.w9,A.JJ,A.oH,A.Fj,A.On,F.M,A._Y,A.JL,A.sg,L.f,A.u,A.nD,U.xv,b.G,s.sg,j.f],styles:['@charset "UTF-8";.p-10[_ngcontent-%COMP%]{padding:10px}.p-15[_ngcontent-%COMP%]{padding:15px}.p-20[_ngcontent-%COMP%]{padding:20px}.p-25[_ngcontent-%COMP%]{padding:25px}.p-30[_ngcontent-%COMP%]{padding:30px}.p-35[_ngcontent-%COMP%]{padding:35px}.p-40[_ngcontent-%COMP%]{padding:40px}.p-45[_ngcontent-%COMP%]{padding:45px}.p-50[_ngcontent-%COMP%]{padding:50px}.p-55[_ngcontent-%COMP%]{padding:55px}.p-60[_ngcontent-%COMP%]{padding:60px}.pt-10[_ngcontent-%COMP%]{padding-top:10px}.pt-15[_ngcontent-%COMP%]{padding-top:15px}.pt-20[_ngcontent-%COMP%]{padding-top:20px}.pt-25[_ngcontent-%COMP%]{padding-top:25px}.pt-30[_ngcontent-%COMP%]{padding-top:30px}.pt-35[_ngcontent-%COMP%]{padding-top:35px}.pt-40[_ngcontent-%COMP%]{padding-top:40px}.pt-45[_ngcontent-%COMP%]{padding-top:45px}.pt-50[_ngcontent-%COMP%]{padding-top:50px}.pt-55[_ngcontent-%COMP%]{padding-top:55px}.pt-60[_ngcontent-%COMP%]{padding-top:60px}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.mt-25[_ngcontent-%COMP%]{margin-top:25px}.mt-30[_ngcontent-%COMP%]{margin-top:30px}.mt-35[_ngcontent-%COMP%]{margin-top:35px}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mt-45[_ngcontent-%COMP%]{margin-top:45px}.mt-50[_ngcontent-%COMP%]{margin-top:50px}.mt-55[_ngcontent-%COMP%]{margin-top:55px}.mt-60[_ngcontent-%COMP%]{margin-top:60px}.mb0[_ngcontent-%COMP%]{margin-bottom:0}.mb1[_ngcontent-%COMP%]{margin-bottom:10px}.mb15[_ngcontent-%COMP%]{margin-bottom:15px}.mb2[_ngcontent-%COMP%]{margin-bottom:20px}.mb3[_ngcontent-%COMP%]{margin-bottom:30px}.mb4[_ngcontent-%COMP%]{margin-bottom:40px}.mb5[_ngcontent-%COMP%]{margin-bottom:50px}.mb6[_ngcontent-%COMP%]{margin-bottom:60px}.mb7[_ngcontent-%COMP%]{margin-bottom:70px}.mb8[_ngcontent-%COMP%]{margin-bottom:80px}.mb9[_ngcontent-%COMP%]{margin-bottom:90px}.primary[_ngcontent-%COMP%]{color:#0279ff}.secondary[_ngcontent-%COMP%]{color:#0054b2}.calixpurple[_ngcontent-%COMP%]{color:#43367d}.calixblue[_ngcontent-%COMP%]{color:#324a9d}.calixsky[_ngcontent-%COMP%]{color:#387cbf}.calixorange[_ngcontent-%COMP%]{color:#e97b00}.brightred[_ngcontent-%COMP%]{color:#ff3600}.lightred[_ngcontent-%COMP%]{color:#ff734f}.purple[_ngcontent-%COMP%]{color:#91479b}.error[_ngcontent-%COMP%]{color:#c70000}.warning[_ngcontent-%COMP%]{color:#ff8238}.warningt[_ngcontent-%COMP%]{color:#c74900}.success[_ngcontent-%COMP%]{color:#82bf00}.successt[_ngcontent-%COMP%]{color:#507500}.caution[_ngcontent-%COMP%]{color:#f7c343}.wgrey[_ngcontent-%COMP%]{color:#f8f8fa}.snowgrey[_ngcontent-%COMP%]{color:#ebeaef}.lgrey[_ngcontent-%COMP%]{color:#ccc}.calixgrey[_ngcontent-%COMP%]{color:#9e9e9e}.blastgrey[_ngcontent-%COMP%]{color:gray}.greyaa[_ngcontent-%COMP%]{color:#1a1f22}.darkgrey[_ngcontent-%COMP%]{color:#333}.calixblack[_ngcontent-%COMP%]{color:#1a1f22}.calixblack[_ngcontent-%COMP%]{color:#000}.calixred[_ngcontent-%COMP%]{color:#fb2d55}.calixgreen[_ngcontent-%COMP%]{color:#349885}.calixaqblue[_ngcontent-%COMP%]{color:#26c0eb}.title[_ngcontent-%COMP%]{font-size:42px;font-weight:300;line-height:53px}.title-second[_ngcontent-%COMP%]{font-size:24px!important;font-style:normal;font-weight:400!important;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.heading-sm[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:22px}.listlabels[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:22px}.listdataem[_ngcontent-%COMP%]{font-size:13px;font-weight:600;line-height:21px}.listdata[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:24px}.formlabels[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:16px}.captions[_ngcontent-%COMP%]{font-size:11px;font-weight:600;line-height:13.2px}.chartno[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.btn-large[_ngcontent-%COMP%]{border-radius:26px;padding:12px;min-width:130px;text-align:center;font-size:20px;font-weight:400;color:#fff;box-shadow:5px 5px 10px #00000026;border:0}.btn-large.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-large.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-large.primary[_ngcontent-%COMP%]:focus{background:#0054b2;outline:none;box-shadow:none;border:0}.btn-large.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-large.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-large.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-default[_ngcontent-%COMP%]{border-radius:16px;padding:5px;min-width:86px;text-align:center;font-size:16px;font-weight:400;color:#fff;box-shadow:3px 3px 6px #00000026;border:0}.btn-default.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-default.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-default.primary[_ngcontent-%COMP%]:focus{background:#0054b2}.btn-default.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-default.btn-dft[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c;border:1px solid #CCCCCC}.btn-default.btn-dft[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-default.btn-dft[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-default.btn-dft.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-small[_ngcontent-%COMP%]{border-radius:12px;padding:3px;min-width:70px;text-align:center;font-size:12px;font-weight:400;color:#fff;box-shadow:2px 2px 4px #00000026;border:0}.btn-small.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-small.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-small.primary[_ngcontent-%COMP%]:focus{background:#EBEAEF}.btn-small.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-small.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-small.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-round[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;display:flex;justify-content:center;align-items:center;border:0;background-position:center;background-repeat:no-repeat;padding:0}.btn-round.info-round[_ngcontent-%COMP%]{width:32px;height:32px}.btn-round.primary[_ngcontent-%COMP%]{background-color:#0279ff}.btn-round.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-round.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-round[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none;border:0}.btn-round.btn-small-24[_ngcontent-%COMP%]{width:24px;height:24px}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow[_ngcontent-%COMP%]{height:32px;line-height:32px;min-width:110px;text-align:center;border:0;padding:0;box-shadow:2px 2px 4px #00000026;font-size:16px;font-weight:400;color:#1a1f22;justify-content:center;align-items:center;position:relative;border-radius:26px}.btn-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;top:-2px}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]{box-shadow:none}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.btn-arrow.btn-arr-nxt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:10px}.btn-arrow.primary[_ngcontent-%COMP%]{background-color:#0279ff;color:#fff}.btn-arrow.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-arrow.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-arrow.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-arrow.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}[type=radio][_ngcontent-%COMP%]:checked, [type=radio][_ngcontent-%COMP%]:not(:checked){width:16px;height:16px;min-height:16px;position:relative!important;cursor:pointer;appearance:none;-webkit-appearance:none;-moz-appearance:none}[type=radio][_ngcontent-%COMP%]:checked:before, [type=radio][_ngcontent-%COMP%]:checked:after, [type=radio][_ngcontent-%COMP%]:not(:checked):before{content:"";position:absolute;border-radius:100%}[type=radio][_ngcontent-%COMP%]:checked:before{background:#0279FF;width:16px;height:16px;top:0px}[type=radio][_ngcontent-%COMP%]:checked:after{width:12px;height:12px;background:#0279FF;top:2px;left:2px;border:1px solid #ffffff;z-index:9}[type=radio][_ngcontent-%COMP%]:not(:checked):before{background:#ffffff;border:1px solid #CCCCCC;width:16px;height:16px}[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], [type=radio][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{position:relative;padding-left:10px;cursor:pointer;display:inline-block;color:#666}[type=radio][_ngcontent-%COMP%]:checked:disabled:before{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:checked:disabled:after{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:disabled, [type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{cursor:not-allowed}[type=radio][_ngcontent-%COMP%]:not(:checked):hover:before{background:#ffffff;border:1px solid #0279FF}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:hover:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:focus{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:active{border-color:transparent!important}.test-container[_ngcontent-%COMP%]{display:flex;width:100%}.item[_ngcontent-%COMP%]{flex-grow:1;border-left:1px solid #EBEAEF;padding-left:12px;width:calc(100% / 4)}.item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:2%}.sub-menu-list-icon[_ngcontent-%COMP%]{font-weight:400;padding:5px 10px;border-radius:15px;font-size:14px;line-height:24px;color:#507500}.sub-menu-list-icon2[_ngcontent-%COMP%]{font-weight:400;padding:5px 10px;border-radius:15px;font-size:14px;line-height:24px;color:#c70000}.gly-rotate-45[_ngcontent-%COMP%]{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=.5);transform:rotate(45deg)}.gly-rotate-90[_ngcontent-%COMP%]{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=.5);transform:rotate(-66deg)}.issue-overview-wrapper[_ngcontent-%COMP%]{width:100%}.issue-overview-item[_ngcontent-%COMP%]{flex-grow:1;width:100%}.all-icon[_ngcontent-%COMP%]{font-size:10px;color:#9c9c9c}.current-issues-table[_ngcontent-%COMP%]{width:100%}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:14px}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{font-size:14px}.btn-secondary[_ngcontent-%COMP%]{color:#5f6165!important;background-color:#f8f8fa!important;border-color:#f8f8fa!important;padding:3px \\200b 10px}.undo-icon[_ngcontent-%COMP%]{background-color:#f8f8fa;padding:3px;color:#9e9e9e;border-radius:15px;margin:2px;font-size:17px;cursor:pointer;width:30px;height:30px;text-align:center}.current-issue-menu-container[_ngcontent-%COMP%]{display:flex;margin:5px 0 0;justify-self:start}.current-issue-menu-item[_ngcontent-%COMP%]{flex-grow:0;width:16%;margin-bottom:9px}.chart-title[_ngcontent-%COMP%]{font-size:14px}.mwc-header[_ngcontent-%COMP%]{justify-content:space-between;margin-bottom:10px}.mwc-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:calc(100% - 120px)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]{justify-content:flex-end;width:120px}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24[_ngcontent-%COMP%]{width:24px;height:24px}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa;background-position:center;background-repeat:no-repeat}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-que[_ngcontent-%COMP%]{margin-right:15px;background-image:url(ic_info_grey.89b781511c1fde63583b.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-que[_ngcontent-%COMP%]:hover{background-image:url(ic_info_grey.89b781511c1fde63583b.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-que[_ngcontent-%COMP%]:focus{background-image:url(ic_info_grey.89b781511c1fde63583b.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-dload[_ngcontent-%COMP%]{margin-right:6px;background-image:url(ic_download_grey.9f487628f7100a5a71b9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-dload[_ngcontent-%COMP%]:hover{background-image:url(ic_download_grey.9f487628f7100a5a71b9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-dload[_ngcontent-%COMP%]:focus{background-image:url(ic_download_grey.9f487628f7100a5a71b9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand[_ngcontent-%COMP%]{margin-right:6px;background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand[_ngcontent-%COMP%]:hover{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand[_ngcontent-%COMP%]:focus{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand-inv[_ngcontent-%COMP%]{margin-right:6px;background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand-inv[_ngcontent-%COMP%]:hover{background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand-inv[_ngcontent-%COMP%]:focus{background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg)}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400;padding:10px 5px;font-size:16px}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;font-size:14px}.btn-dload.spinnershow[_ngcontent-%COMP%]{background-image:url(spinnersmall.8539076b5d15004b8953.svg)!important}[_nghost-%COMP%]     table.dataTable td.dataTables_empty{display:none}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:20px;max-width:85%!important}.support-key-value[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0!important}.support-key-value[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:40%;font-weight:400;padding:10px 0!important;font-size:15px}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:28px!important;color:#0054b2!important;line-height:32px!important}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#1a1f22;font-size:14px;line-height:16.4px}.cco-secondary-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.mw-170[_ngcontent-%COMP%]{min-width:170px}.current-issue-menu-container[_ngcontent-%COMP%]{display:flex;margin:10px 0 0;justify-self:start;align-items:center;flex-wrap:wrap}.no-wrap[_ngcontent-%COMP%]{white-space:nowrap}@media screen and (max-width: 767px){.test-container[_ngcontent-%COMP%]{display:block}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex-grow:1;border-left:3px solid #cdcdcd;padding-left:20px;width:100%;margin-left:0;margin-bottom:10px}.mpr-0[_ngcontent-%COMP%]{padding-right:0!important}.current-issue-menu-container[_ngcontent-%COMP%]{display:block}.current-issue-menu-item[_ngcontent-%COMP%]{margin-top:10px;margin-left:0!important;width:100%!important}.mt-center[_ngcontent-%COMP%]{text-align:center!important;margin-top:10px!important}.mp-0[_ngcontent-%COMP%]{padding:0!important}}.search-close[_ngcontent-%COMP%]{position:absolute;right:25px;top:11px;color:#cdcdcd;cursor:pointer}small[_ngcontent-%COMP%]{color:#c70000}small.vald-tag[_ngcontent-%COMP%]{padding-left:10px;position:absolute;font-size:16px;line-height:17px}.resource-info[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.showme[_ngcontent-%COMP%]{display:none}.showhim[_ngcontent-%COMP%]:hover   .showme[_ngcontent-%COMP%]{display:block}.add-note-img[_ngcontent-%COMP%]{width:20px;height:20px}.expand-info-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.expand-info-item[_ngcontent-%COMP%]{width:19%;overflow:hidden;text-overflow:ellipsis}.expand-info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:300;line-height:32px;color:#0054b2;text-overflow:ellipsis;overflow:hidden}.expand-info-item[_ngcontent-%COMP%]   .expand-info-item[_ngcontent-%COMP%] + .expand-info-item[_ngcontent-%COMP%]{margin-left:2%}.full-active-reports[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6){width:120px!important}.full-active-reports[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6){width:120px!important}.cursor-default[_ngcontent-%COMP%]{cursor:default}.Resource_info[_ngcontent-%COMP%]{width:350px;word-break:break-all}.col-recom[_ngcontent-%COMP%]{min-width:300px;max-width:400px}.col-recom[_ngcontent-%COMP%]   .subj-text[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.col-resource[_ngcontent-%COMP%]{max-width:400px!important}.col-resource[_ngcontent-%COMP%]   .col-res-data[_ngcontent-%COMP%]{min-width:400px;max-width:400px;word-break:break-all}.m-w-170px[_ngcontent-%COMP%]{min-width:170px}.h-300px[_ngcontent-%COMP%]{height:300px}.h-450px[_ngcontent-%COMP%]{height:450px}.active-reports-list-search[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{min-width:36px!important}.heading-subtitle[_ngcontent-%COMP%]{margin:0}.span-close-icon[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:0}.span-close-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;opacity:.5}.span-close-icon[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.7}.white-space-preline[_ngcontent-%COMP%]{white-space:pre-line}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:20px;max-width:67.68%!important}.synced-time[_ngcontent-%COMP%]{width:400px!important;word-break:break-word}.maxh-overflow-auto[_ngcontent-%COMP%]{max-height:250px;overflow:auto}.col-warn-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px}.table-pagination[_ngcontent-%COMP%]   .page-entries-info[_ngcontent-%COMP%]{color:#333}.table-pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.table-pagination[_ngcontent-%COMP%]   .page-button[_ngcontent-%COMP%]{color:#666;display:inline-block;min-width:1.5em;text-align:center;padding:2px 10px!important;cursor:pointer}.table-pagination[_ngcontent-%COMP%]   .page-button[_ngcontent-%COMP%]:hover{color:#0279ff}.table-pagination[_ngcontent-%COMP%]   .page-current[_ngcontent-%COMP%]{background:#fff;color:#0279ff;border:1px solid #0279ff;border-radius:20px!important}.table-pagination[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]{position:relative}.table-pagination[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:#0279ff;display:none}.table-pagination[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]:hover:after{display:block}.table-pagination[_ngcontent-%COMP%]   .page-disabled[_ngcontent-%COMP%]{cursor:default}.table-pagination[_ngcontent-%COMP%]   .page-disabled[_ngcontent-%COMP%]:hover{color:#666}.table-pagination[_ngcontent-%COMP%]   .page-disabled[_ngcontent-%COMP%]:hover:after{display:none}.min-w80px[_ngcontent-%COMP%]{min-width:80px}.min-w70px[_ngcontent-%COMP%]{min-width:70px}.table-data[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc;padding:10px 15px 10px 0;vertical-align:middle}.table-data[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;padding:10px 15px 10px 0}.table-data[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f8f8fa}.table-data[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even)   .maxh-overflow-auto[_ngcontent-%COMP%]{max-height:250px;overflow:auto}.col-severty[_ngcontent-%COMP%]{padding-left:10px!important}.min-98px[_ngcontent-%COMP%]{min-width:98px}.clear-sev-but[_ngcontent-%COMP%]   span.dot[_ngcontent-%COMP%]{display:none}.table.table-data[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc}.subscriber-impact-red[_ngcontent-%COMP%]{color:#c70000}']}),a}(),ut=r(49457),mt=["showInfoModal"],pt=["addNotesModal"],ht=["showNotesModal"],vt=["deleteModal"],ft=["addSubscriberInfoModel"],yt=function(){return{width:"100%",height:"36px"}},bt=function(){return{height:"36px"}};function Ct(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",92),T.TgZ(1,"label",93),T._uU(2),T.qZA(),T.TgZ(3,"div",94),T.TgZ(4,"div",95),T.TgZ(5,"p-calendar",96),T.NdJ("onSelect",function(){return T.CHM(a),T.oxw(2).changeStartDate()}),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.Start_Date),T.xp6(3),T.Akn(T.DdM(10,yt)),T.s9C("placeholder",n.language["Select Date"]),T.Q6J("inputStyle",T.DdM(11,bt))("autoZIndex",!0)("showIcon",!0)("maxDate",n.maxForStartDate)("readonlyInput",!0)("showButtonBar",!0)}}function xt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",97),T.TgZ(1,"label",93),T._uU(2),T.qZA(),T.TgZ(3,"div",94),T.TgZ(4,"div",95),T.TgZ(5,"p-calendar",98),T.NdJ("onSelect",function(){return T.CHM(a),T.oxw(2).changeDate()}),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.endDate),T.xp6(3),T.Akn(T.DdM(11,yt)),T.s9C("placeholder",n.language["Select Date"]),T.Q6J("inputStyle",T.DdM(12,bt))("autoZIndex",!0)("showIcon",!0)("maxDate",n.maxDate)("minDate",n.FromDate)("readonlyInput",!0)("showButtonBar",!0)}}function At(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",99),T.TgZ(1,"label",93),T._uU(2),T.qZA(),T.TgZ(3,"div",94),T.TgZ(4,"ng-select",100),T.NdJ("change",function(){return T.CHM(a),T.oxw(2).selectAlarmType()}),T.TgZ(5,"ng-option",101),T._uU(6),T.qZA(),T.TgZ(7,"ng-option",102),T._uU(8),T.qZA(),T.TgZ(9,"ng-option",103),T._uU(10),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language["Alarm Type"]),T.xp6(2),T.s9C("placeholder",n.language["Alarm Type"]),T.Q6J("clearable",!1)("searchable",!1),T.xp6(2),T.Oqu(n.language.Alarm),T.xp6(2),T.hij("",n.language.event," "),T.xp6(2),T.Oqu(n.language.Both)}}function Zt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",99),T.TgZ(1,"label",93),T._uU(2),T.qZA(),T.TgZ(3,"div",94),T.TgZ(4,"ng-select",104),T.NdJ("add",function(e){return T.CHM(a),T.oxw(2).validateRegion(e)})("remove",function(e){T.CHM(a);var t=T.oxw(2);return t.loadLocationValue(e),t.loadSystemValue(e)}),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.region),T.xp6(2),T.s9C("placeholder",n.language.region),T.Q6J("multiple",!0)("items",n.regionsDataArray)("clearable",!1)("searchable",!0)}}function Ot(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",99),T.TgZ(1,"label",93),T._uU(2),T.qZA(),T.TgZ(3,"div",94),T.TgZ(4,"ng-select",105),T.NdJ("add",function(e){return T.CHM(a),T.oxw(2).validateLocation(e)})("remove",function(e){return T.CHM(a),T.oxw(2).loadSystemValue(e)}),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.Location),T.xp6(2),T.s9C("placeholder",n.language.Location),T.Q6J("multiple",!0)("items",n.locationDataArray)("clearable",!1)("searchable",!0)}}function St(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",99),T.TgZ(1,"label",93),T._uU(2),T.qZA(),T.TgZ(3,"div",94),T.TgZ(4,"ng-select",106),T.NdJ("change",function(e){return T.CHM(a),T.oxw(2).selectSystem(e)})("add",function(e){return T.CHM(a),T.oxw(2).validateSystem(e)})("remove",function(e){return T.CHM(a),T.oxw(2).validateSystem(e)}),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.System),T.xp6(2),T.s9C("placeholder",n.language.System),T.Q6J("multiple",!0)("items",n.systemDataArray)("clearable",!1)("searchable",!0)}}function Tt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",99),T.TgZ(1,"label",93),T._uU(2),T.qZA(),T.TgZ(3,"div",107),T.TgZ(4,"ng-select",108),T.NdJ("change",function(e){return T.CHM(a),T.oxw(2).validateAlarmName(e)})("add",function(e){return T.CHM(a),T.oxw(2).validateAlarmEvent(e)})("remove",function(e){return T.CHM(a),T.oxw(2).validateAlarmEvent(e)}),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language["Alarm/Event Name"]),T.xp6(2),T.s9C("placeholder",n.language["Alarm/Event Name"]),T.Q6J("searchable",!0)("multiple",!0)("items",n.alarmNames)}}function _t(e,t){if(1&e&&(T.TgZ(0,"small",112),T._uU(1),T.qZA()),2&e){var a=T.oxw(3);T.xp6(1),T.Oqu(a.language["Invalid FSAN"])}}function wt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",99),T.TgZ(1,"label",93),T._uU(2),T.qZA(),T.TgZ(3,"div",109),T.TgZ(4,"input",110),T.NdJ("keypress",function(e){return T.CHM(a),T.oxw(2).removespecialcharacter(e)})("keyup",function(){return T.CHM(a),T.oxw(2).validateFSAN()}),T.qZA(),T.YNc(5,_t,2,1,"small",111),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.FSAN),T.xp6(2),T.s9C("placeholder",n.language.FSAN),T.xp6(1),T.Q6J("ngIf",n.fsanvalid)}}function kt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",99),T.TgZ(1,"label",93),T._uU(2),T.qZA(),T.TgZ(3,"div",94),T.TgZ(4,"ng-select",113),T.NdJ("change",function(){return T.CHM(a),T.oxw(2).changeSeverity()}),T.TgZ(5,"ng-option",114),T._uU(6),T.qZA(),T.TgZ(7,"ng-option",115),T._uU(8),T.qZA(),T.TgZ(9,"ng-option",116),T._uU(10),T.qZA(),T.TgZ(11,"ng-option",117),T._uU(12),T.qZA(),T.TgZ(13,"ng-option",118),T._uU(14),T.qZA(),T.TgZ(15,"ng-option",119),T._uU(16),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.Severity),T.xp6(2),T.s9C("placeholder",n.language.Severity),T.Q6J("clearable",!1)("searchable",!1)("multiple",!1),T.xp6(2),T.Oqu(n.language.All),T.xp6(2),T.Oqu(n.language.critical),T.xp6(2),T.Oqu(n.language.major),T.xp6(2),T.Oqu(n.language.minor),T.xp6(2),T.Oqu(n.language.Warning),T.xp6(2),T.Oqu(n.language.Info)}}function qt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",99),T.TgZ(1,"label",120),T._uU(2),T.qZA(),T.TgZ(3,"div",94),T.TgZ(4,"ng-select",121),T.NdJ("add",function(e){return T.CHM(a),T.oxw(2).validateCategory(e)})("remove",function(e){return T.CHM(a),T.oxw(2).validateCategory(e)}),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language.Category),T.xp6(2),T.s9C("placeholder",n.language.Category),T.Q6J("searchable",!0)("multiple",!0)("items",n.categories)}}function Mt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",99),T.TgZ(1,"label",122),T._uU(2),T.qZA(),T.TgZ(3,"div",94),T.TgZ(4,"ng-select",123),T.NdJ("change",function(e){return T.CHM(a),T.oxw(2).changeCustomCategory(e)}),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(2),T.Oqu(n.language["Alarm Group"]),T.xp6(2),T.s9C("placeholder",n.language["Alarm Group"]),T.Q6J("clearable",!1)("searchable",!0)("multiple",!1)("items",n.customCategories)}}function Nt(e,t){if(1&e&&(T.TgZ(0,"div",99),T.TgZ(1,"label",124),T._uU(2),T.qZA(),T.TgZ(3,"div",94),T._UZ(4,"ng-select",125),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(2),T.Oqu(a.language["Acknowledged Alarms"]),T.xp6(2),T.s9C("placeholder",a.language["Acknowledged Alarms"]),T.Q6J("clearable",!1)("searchable",!0)("multiple",!1)("items",a.acknowledgedAlarms)}}function Dt(e,t){if(1&e&&(T.TgZ(0,"div",99),T.TgZ(1,"label",126),T._uU(2),T.qZA(),T.TgZ(3,"div",94),T._UZ(4,"ng-select",127),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(2),T.Oqu(a.language["Shelved Alarms"]),T.xp6(2),T.s9C("placeholder",a.language["Shelved Alarms"]),T.Q6J("clearable",!1)("searchable",!0)("multiple",!1)("items",a.shelvedAlarms)}}function Pt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"section",77),T.TgZ(1,"div",78),T.TgZ(2,"form",79),T.TgZ(3,"div",80),T.TgZ(4,"div",81),T.TgZ(5,"div",82),T.YNc(6,Ct,6,12,"div",83),T.YNc(7,xt,6,13,"div",84),T.YNc(8,At,11,7,"div",85),T.YNc(9,Zt,5,6,"div",85),T.qZA(),T.qZA(),T.qZA(),T.TgZ(10,"div",22),T.TgZ(11,"div",81),T.TgZ(12,"div",82),T.YNc(13,Ot,5,6,"div",85),T.YNc(14,St,5,6,"div",85),T.YNc(15,Tt,5,5,"div",85),T.YNc(16,wt,6,3,"div",85),T.qZA(),T.qZA(),T.qZA(),T.TgZ(17,"div",22),T.TgZ(18,"div",81),T.TgZ(19,"div",82),T.YNc(20,kt,17,11,"div",85),T.YNc(21,qt,5,5,"div",85),T.YNc(22,Mt,5,6,"div",85),T.YNc(23,Nt,5,6,"div",85),T.YNc(24,Dt,5,6,"div",85),T.qZA(),T.qZA(),T.qZA(),T.TgZ(25,"div",86),T.TgZ(26,"div",87),T.TgZ(27,"div",88),T.TgZ(28,"button",89),T.NdJ("click",function(){return T.CHM(a),T.oxw().loadIntialData()}),T._uU(29),T.qZA(),T.TgZ(30,"button",90),T.NdJ("click",function(){return T.CHM(a),T.oxw().clearFilter()}),T._uU(31),T.qZA(),T.TgZ(32,"button",91),T.NdJ("click",function(){return T.CHM(a),T.oxw().exportNew()}),T._uU(33),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw();T.xp6(2),T.Q6J("formGroup",n.filtersForm),T.xp6(4),T.Q6J("ngIf",n.appliedFilters.startDate),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.endDate),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.alarmType),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.region),T.xp6(4),T.Q6J("ngIf",n.appliedFilters.location),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.system),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.eventName),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.fsan),T.xp6(4),T.Q6J("ngIf",n.appliedFilters.severity&&n.showSeverity),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.category),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.customCategory&&n.showAlarmGroup),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.cco_ack&&n.showAckShelve),T.xp6(1),T.Q6J("ngIf",n.appliedFilters.cco_shelv&&n.showAckShelve),T.xp6(5),T.hij(" ",n.language.apply," "),T.xp6(2),T.hij(" ",n.language.Clear_Filters," "),T.xp6(1),T.Q6J("disabled",n.disableExportBtn),T.xp6(1),T.hij(" ",n.language.Export_but," ")}}function Et(e,t){if(1&e&&(T.TgZ(0,"div",128),T._uU(1),T.qZA()),2&e){var a=T.oxw();T.xp6(1),T.hij(" ",a.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function It(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).errors.severity=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.errors.severity,T.oJD)}}function Ut(e,t){if(1&e&&(T.TgZ(0,"div",147),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function Ft(e,t){1&e&&(T.TgZ(0,"div",151),T.TgZ(1,"div",152),T._UZ(2,"div",153),T.qZA(),T.TgZ(3,"div",152),T._UZ(4,"div",154),T.qZA(),T.qZA())}function Lt(e,t){1&e&&(T.TgZ(0,"div",151),T.TgZ(1,"div",155),T._UZ(2,"div",156),T.qZA(),T.qZA())}function jt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw(3).errors.byday=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw(3);T.xp6(5),T.Q6J("innerHtml",n.errors.byday,T.oJD)}}function Jt(e,t){if(1&e&&(T.TgZ(0,"div",147),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(3);T.xp6(4),T.Oqu(a.language.Loading)}}function Rt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",157),T.TgZ(1,"div",9),T.TgZ(2,"div",10),T.TgZ(3,"div",11),T._uU(4),T.qZA(),T.TgZ(5,"div",12),T.TgZ(6,"button",36),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).download("byday","alarm")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(7,"div",59),T.YNc(8,jt,6,1,"div",15),T.YNc(9,Jt,5,1,"div",38),T.TgZ(10,"div",158),T.TgZ(11,"div",159),T._UZ(12,"div",160),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(4),T.hij(" ","Alarm"==n.alarmType?n.language["Alarm by Days"]:n.language["Event by Days"]," "),T.xp6(2),T.s9C("title",n.language.export),T.xp6(2),T.Q6J("ngIf",n.errors.byday),T.xp6(1),T.Q6J("ngIf",n.loading),T.xp6(1),T.Q6J("ngClass",n.loading?"d-none":"d-block md-block"),T.xp6(1),T.Q6J("hidden",n.errors.byday)}}function Ht(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).systemError=!1}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.systemErrorInfo,T.oJD)}}function Qt(e,t){if(1&e&&(T.TgZ(0,"div",147),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function Bt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).errors.region=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.errors.region,T.oJD)}}function Vt(e,t){if(1&e&&(T.TgZ(0,"div",161),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function Yt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).errors.location=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.errors.location,T.oJD)}}function $t(e,t){if(1&e&&(T.TgZ(0,"div",161),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function zt(e,t){if(1&e&&(T.TgZ(0,"div",136),T.TgZ(1,"div",46),T._UZ(2,"div",162),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.Q6J("hidden",a.errors.location),T.xp6(1),T.Q6J("ngClass",a.loaders.alarm.location||a.loaders.event.location?"d-none":"d-block")}}function Gt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).errors.system=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.errors.system,T.oJD)}}function Wt(e,t){if(1&e&&(T.TgZ(0,"div",147),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function Kt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"section",3),T.TgZ(1,"div",35),T.TgZ(2,"div",19),T.TgZ(3,"div",6),T.TgZ(4,"div",7),T.TgZ(5,"div",129),T.TgZ(6,"div",9),T.TgZ(7,"div",10),T.TgZ(8,"div",11),T._uU(9),T.qZA(),T.TgZ(10,"div",12),T.TgZ(11,"button",36),T.NdJ("click",function(){return T.CHM(a),T.oxw().download("severity","alarm")}),T.qZA(),T.TgZ(12,"button",62),T.NdJ("click",function(){return T.CHM(a),T.oxw().gotoFullScreen("severity","Alarm")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(13,"h5",14),T._uU(14),T.qZA(),T.YNc(15,It,6,1,"div",15),T.TgZ(16,"div",130),T.YNc(17,Ut,5,1,"div",38),T.YNc(18,Ft,5,0,"div",39),T.YNc(19,Lt,3,0,"div",39),T.qZA(),T.qZA(),T.YNc(20,Rt,13,6,"div",131),T.TgZ(21,"div",132),T.TgZ(22,"div",9),T.TgZ(23,"div",10),T.TgZ(24,"div",11),T._uU(25),T.qZA(),T.TgZ(26,"div",12),T.TgZ(27,"button",133),T.NdJ("click",function(){T.CHM(a);var e=T.oxw();return e.gotoFullScreen("system","Alarm"==e.alarmType?"Alarm":"Event")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(28,"h5",14),T._uU(29),T.qZA(),T.YNc(30,Ht,6,1,"div",15),T.TgZ(31,"div",16),T.YNc(32,Qt,5,1,"div",38),T.TgZ(33,"div",63),T.TgZ(34,"div",6),T._UZ(35,"div",134),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(36,"div",135),T.TgZ(37,"div",9),T.TgZ(38,"div",10),T.TgZ(39,"div",11),T._uU(40),T.qZA(),T.TgZ(41,"div",12),T.TgZ(42,"button",36),T.NdJ("click",function(){T.CHM(a);var e=T.oxw();return e.download("region","Alarm"==e.alarmType?"alarm":"event")}),T.qZA(),T.TgZ(43,"button",48),T.NdJ("click",function(){T.CHM(a);var e=T.oxw();return e.gotoFullScreen("region","Alarm"==e.alarmType?"Alarm":"Event")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(44,"h5",14),T._uU(45),T.qZA(),T.YNc(46,Bt,6,1,"div",15),T.TgZ(47,"div",16),T.YNc(48,Vt,5,1,"div",17),T.TgZ(49,"div",136),T.TgZ(50,"div",46),T._UZ(51,"div",137),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(52,"div",56),T.TgZ(53,"div",9),T.TgZ(54,"div",10),T.TgZ(55,"div",11),T._uU(56),T.qZA(),T.TgZ(57,"div",12),T.TgZ(58,"button",36),T.NdJ("click",function(){T.CHM(a);var e=T.oxw();return e.download("location","Alarm"==e.alarmType?"alarm":"event")}),T.qZA(),T.TgZ(59,"button",48),T.NdJ("click",function(){T.CHM(a);var e=T.oxw();return e.gotoFullScreen("location","Alarm"==e.alarmType?"Alarm":"Event")}),T.qZA(),T.TgZ(60,"button",57),T.NdJ("click",function(){T.CHM(a);var e=T.oxw();return e.loadLocationChart=!e.loadLocationChart}),T._UZ(61,"span",58),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(62,"h5",14),T._uU(63),T.qZA(),T.YNc(64,Yt,6,1,"div",15),T.TgZ(65,"div",16),T.YNc(66,$t,5,1,"div",17),T.YNc(67,zt,3,2,"div",138),T.qZA(),T.qZA(),T.TgZ(68,"div",139),T.TgZ(69,"div",9),T.TgZ(70,"div",10),T.TgZ(71,"div",11),T._uU(72),T.qZA(),T.TgZ(73,"div",12),T.TgZ(74,"button",36),T.NdJ("click",function(){T.CHM(a);var e=T.oxw();return e.download("system","Alarm"==e.alarmType?"alarm":"event")}),T.qZA(),T.TgZ(75,"button",62),T.NdJ("click",function(){T.CHM(a);var e=T.oxw();return e.gotoFullScreen("system","Alarm"==e.alarmType?"Alarm":"Event")}),T.qZA(),T.TgZ(76,"button",57),T.NdJ("click",function(){T.CHM(a);var e=T.oxw();return e.loadSystemChart=!e.loadSystemChart}),T._UZ(77,"span",58),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(78,"h5",14),T._uU(79),T.qZA(),T.YNc(80,Gt,6,1,"div",15),T.TgZ(81,"div",16),T.YNc(82,Wt,5,1,"div",38),T.TgZ(83,"div",63),T.TgZ(84,"div",140),T._UZ(85,"div",141),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw();T.Q6J("ngClass",n.fullScreen?"d-none":"d-block"),T.xp6(1),T.Q6J("ngClass",n.both?"d-none":"d-block"),T.xp6(4),T.Q6J("ngClass","Alarm"==n.alarmType||"Both"==n.alarmType?"d-block":"d-none"),T.xp6(4),T.hij(" ","Alarm"==n.alarmType?n.language["Alarm by Severity"]:n.language["Event by Severity"]," "),T.xp6(2),T.s9C("title",n.language.export),T.xp6(1),T.s9C("title",n.language.lossofpon_fullscreen_tip),T.xp6(2),T.hij(" ",n.language["Select a severity to view all alarms of that severity"],""),T.xp6(1),T.Q6J("ngIf",n.errors.severity),T.xp6(1),T.Q6J("hidden",n.errors.severity),T.xp6(1),T.Q6J("ngIf",n.loading),T.xp6(1),T.Q6J("ngIf",!n.appliedParams.status),T.xp6(1),T.Q6J("ngIf",n.appliedParams.status),T.xp6(1),T.Q6J("ngIf","Event"!==n.alarmType),T.xp6(1),T.Q6J("hidden",!n.filterApplied),T.xp6(4),T.hij(" ","Alarm"==n.alarmType?n.language["Alarm by System"]:n.language["Event by System"]," "),T.xp6(2),T.s9C("title",n.language.lossofpon_fullscreen_tip),T.xp6(2),T.hij(" ",n.language["Historical_Reports_Alarms by System"],""),T.xp6(1),T.Q6J("ngIf",n.systemError),T.xp6(2),T.Q6J("ngIf",n.loading),T.xp6(1),T.Q6J("ngClass",n.loading?"d-none":"d-block md-block"),T.xp6(3),T.Q6J("hidden",n.filterApplied||!n.loadRegionChart),T.xp6(4),T.hij(" ","Alarm"==n.alarmType?n.language["Alarm by Region"]:n.language["Event by Region"]," "),T.xp6(2),T.s9C("title",n.language.export),T.xp6(1),T.s9C("title",n.language.lossofpon_fullscreen_tip),T.xp6(2),T.hij(" ",n.language["Select a region to view locations in that region"],""),T.xp6(1),T.Q6J("ngIf",n.errors.region),T.xp6(2),T.Q6J("ngIf",n.loading),T.xp6(1),T.Q6J("hidden",n.errors.region),T.xp6(1),T.Q6J("ngClass",n.loading?"d-none":"d-block"),T.xp6(2),T.Q6J("hidden",!n.loadLocationChart||n.filterApplied),T.xp6(4),T.hij(" ","Alarm"==n.alarmType?n.language["Alarm by Location"]:n.language["Event by Location"]," "),T.xp6(2),T.s9C("title",n.language.export),T.xp6(1),T.s9C("title",n.language.lossofpon_fullscreen_tip),T.xp6(4),T.hij(" ",n.language["Select a location to view systems in that location"],""),T.xp6(1),T.Q6J("ngIf",n.errors.location),T.xp6(2),T.Q6J("ngIf",n.loaders.alarm.location||n.loaders.event.location),T.xp6(1),T.Q6J("ngIf",n.loadLocationChart),T.xp6(1),T.Q6J("hidden",!n.loadSystemChart||n.filterApplied),T.xp6(4),T.hij(" ","Alarm"==n.alarmType?n.language["Alarm by System"]:n.language["Event by System"]," "),T.xp6(2),T.s9C("title",n.language.export),T.xp6(1),T.s9C("title",n.language.lossofpon_fullscreen_tip),T.xp6(4),T.hij(" ","Alarm"==n.alarmType?n.language["Select a system severity to view all alarms of that severity for that system"]:n.language["Select a system to view all events for that system"],""),T.xp6(1),T.Q6J("ngIf",n.errors.system),T.xp6(2),T.Q6J("ngIf",n.loaders.alarm.system||n.loaders.event.system),T.xp6(1),T.Q6J("ngClass",n.loaders.alarm.system||n.loaders.event.system?"d-none":"d-block md-block"),T.xp6(1),T.Q6J("hidden",n.errors.system)}}function Xt(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw().errors.alarmevent=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw();T.xp6(5),T.Q6J("innerHtml",n.errors.alarmevent,T.oJD)}}function ea(e,t){if(1&e&&(T.TgZ(0,"div",161),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw();T.xp6(4),T.Oqu(a.language.Loading)}}function ta(e,t){1&e&&(T.TgZ(0,"div",155),T._UZ(1,"div",165),T.qZA())}function aa(e,t){if(1&e&&(T.TgZ(0,"div",163),T.YNc(1,ta,2,0,"div",164),T.qZA()),2&e){var a=T.oxw();T.Q6J("hidden",a.errors.alarmevent),T.xp6(1),T.Q6J("ngIf",a.showSevertiyFullChart)}}function na(e,t){1&e&&(T.TgZ(0,"div",152),T._UZ(1,"div",168),T.qZA())}function ia(e,t){if(1&e&&(T.TgZ(0,"div",163),T.TgZ(1,"div",34),T._UZ(2,"div",166),T.qZA(),T.YNc(3,na,2,0,"div",167),T.qZA()),2&e){var a=T.oxw();T.Q6J("hidden",a.errors.alarmevent),T.xp6(1),T.Q6J("ngClass",a.showSevertiyFullChart?"col-12 col-md-6":"col-12 col-md-12"),T.xp6(2),T.Q6J("ngIf",a.showSevertiyFullChart)}}function oa(e,t){if(1&e&&(T.TgZ(0,"th",179),T._uU(1),T.qZA()),2&e){var a=T.oxw(3);T.xp6(1),T.hij(" ",a.language.Severity,"")}}function ra(e,t){if(1&e&&(T.TgZ(0,"th",180),T._uU(1),T.qZA()),2&e){var a=T.oxw(3);T.xp6(1),T.hij(" ",a.language.Recommendation,"")}}function sa(e,t){if(1&e&&(T.TgZ(0,"th"),T._uU(1),T.qZA()),2&e){var a=T.oxw(3);T.xp6(1),T.Oqu(a.language.Notes)}}function la(e,t){if(1&e&&(T.TgZ(0,"td",190),T.TgZ(1,"div"),T._UZ(2,"span",191),T._uU(3),T.qZA(),T.qZA()),2&e){var a=T.oxw().$implicit,n=T.oxw(3);T.xp6(1),T.Tol(a.subject&&a.subject.perceivedSeverity&&n.colorClass[a.subject.perceivedSeverity]?n.colorClass[a.subject.perceivedSeverity]:"black clear-sev-but"),T.xp6(2),T.hij(" ",a.subject?n.language[a.subject.perceivedSeverity]||a.subject.perceivedSeverity:""," ")}}function ca(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",192),T.NdJ("click",function(){T.CHM(a);var e=T.oxw().$implicit;return T.oxw(3).gotoSubscriberImpactedPage(e)}),T._uU(1),T.qZA()}if(2&e){var n=T.oxw().$implicit;T.xp6(1),T.hij(" ",null==n||null==n.subject?null:n.subject.impactedSubsCount," ")}}function da(e,t){if(1&e&&(T.TgZ(0,"div"),T._uU(1),T.qZA()),2&e){var a=T.oxw().$implicit;T.xp6(1),T.hij(" ",null!=a&&null!=a.subject&&a.subject.serviceAffecting?"Yes":"No"," ")}}function ga(e,t){if(1&e&&(T.TgZ(0,"td",193),T.TgZ(1,"div",194),T._uU(2),T.qZA(),T.qZA()),2&e){var a=T.oxw().$implicit;T.xp6(2),T.Oqu(a.subject?a.subject.repairAction:"")}}function ua(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",198),T.NdJ("click",function(){T.CHM(a);var e=T.oxw(2),t=e.$implicit,n=e.index;return T.oxw(3).openNotesModal(t.subject.alarmId,t.subject.notes?t.subject.notes:null,!1,n)}),T._UZ(1,"img",199),T.qZA()}}function ma(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",200),T.NdJ("click",function(){T.CHM(a);var e=T.oxw(2),t=e.$implicit,n=e.index;return T.oxw(3).openNotesModal(t.subject.alarmId,t.subject.notes?t.subject.notes:null,!0,n)}),T._UZ(1,"img",201),T.qZA()}if(2&e){var n=T.oxw(5);T.xp6(1),T.s9C("title",n.language.Edit)}}function pa(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",198),T.NdJ("click",function(){T.CHM(a);var e=T.oxw(2),t=e.$implicit,n=e.index;return T.oxw(3).deleteConfirmModal(t.subject.alarmId,n)}),T._UZ(1,"img",202),T.qZA()}if(2&e){var n=T.oxw(5);T.xp6(1),T.s9C("title",n.language.Delete)}}function ha(e,t){if(1&e&&(T.TgZ(0,"td",195),T.YNc(1,ua,2,0,"div",196),T.YNc(2,ma,2,1,"div",197),T.YNc(3,pa,2,1,"div",196),T.qZA()),2&e){var a=T.oxw().$implicit;T.xp6(1),T.Q6J("ngIf",!a.subject.notes),T.xp6(1),T.Q6J("ngIf",a.subject.notes),T.xp6(1),T.Q6J("ngIf",a.subject.notes)}}function va(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"tr",181),T.NdJ("click",function(){var e=T.CHM(a),t=e.$implicit,n=e.index;return T.oxw(3).viewDetails(t,n)}),T.TgZ(1,"td",182),T._uU(2),T.qZA(),T.TgZ(3,"td",182),T._uU(4),T.qZA(),T.TgZ(5,"td",182),T._uU(6),T.qZA(),T.TgZ(7,"td",182),T._uU(8),T.qZA(),T.TgZ(9,"td",183),T._UZ(10,"div",184),T.qZA(),T.YNc(11,la,4,4,"td",185),T.TgZ(12,"td"),T.TgZ(13,"div",186),T.YNc(14,ca,2,1,"div",187),T.YNc(15,da,2,1,"div",177),T.qZA(),T.qZA(),T.YNc(16,ga,3,1,"td",188),T.YNc(17,ha,4,3,"td",189),T.qZA()}if(2&e){var n=t.$implicit,i=T.oxw(3);T.xp6(2),T.Oqu(n.subject&&n.subject.timeRaised?i.convertToDateTime(n.subject.timeRaised):""),T.xp6(2),T.Oqu(n.time?i.convertToDateTime(n.time):""),T.xp6(2),T.Oqu(n.subject?n.subject.alarmEventName:""),T.xp6(2),T.Oqu(n.subject?n.subject.category:""),T.xp6(2),T.Q6J("innerHtml",n.subject.resourceForUI?n.subject.resourceForUI:"",T.oJD),T.xp6(1),T.Q6J("ngIf","Alarm"===i.clickedAlarmType&&"Event"!==i.alarmType),T.xp6(3),T.Q6J("ngIf",null==n||null==n.subject?null:n.subject.impactedSubsCount),T.xp6(1),T.Q6J("ngIf",!(null!=n&&null!=n.subject&&n.subject.impactedSubsCount)),T.xp6(1),T.Q6J("ngIf","Alarm"===i.clickedAlarmType&&"Event"!==i.alarmType),T.xp6(1),T.Q6J("ngIf",i.hasWriteAccess)}}function fa(e,t){if(1&e&&(T.TgZ(0,"tbody"),T.TgZ(1,"tr"),T.TgZ(2,"td",203),T._uU(3),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(3);T.xp6(3),T.hij("",a.language["No data available in table"]," ")}}function ya(e,t){if(1&e&&(T.TgZ(0,"div",170),T.TgZ(1,"table",171),T.TgZ(2,"thead"),T.TgZ(3,"tr"),T.TgZ(4,"th",172),T._uU(5),T.qZA(),T.TgZ(6,"th"),T._uU(7),T.qZA(),T.TgZ(8,"th",173),T._uU(9),T.qZA(),T.TgZ(10,"th"),T._uU(11),T.qZA(),T.TgZ(12,"th"),T._uU(13),T.qZA(),T.YNc(14,oa,2,1,"th",174),T.TgZ(15,"th",175),T._uU(16),T.qZA(),T.YNc(17,ra,2,1,"th",176),T.YNc(18,sa,2,1,"th",177),T.qZA(),T.qZA(),T.TgZ(19,"tbody"),T.YNc(20,va,18,10,"tr",178),T.qZA(),T.YNc(21,fa,4,1,"tbody",177),T._UZ(22,"tbody"),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(1),T.Q6J("dtOptions",a.dtOptions),T.xp6(4),T.AsE("",a.language["Reported Time"],"(UTC/",a.timeZone,")"),T.xp6(2),T.AsE("",a.language["Synced Time"]," (UTC/",a.timeZone,")"),T.xp6(2),T.hij("","Alarm"===a.clickedAlarmType&&"Event"!==a.alarmType?a.language["Alarm Name"]:a.language["Event Name"]," "),T.xp6(2),T.hij("",a.language.Category," "),T.xp6(2),T.Oqu(a.language.Resource),T.xp6(1),T.Q6J("ngIf","Alarm"===a.clickedAlarmType&&"Event"!==a.alarmType),T.xp6(2),T.Oqu(a.language["Subscriber Impact"]),T.xp6(1),T.Q6J("ngIf","Alarm"===a.clickedAlarmType&&"Event"!==a.alarmType),T.xp6(1),T.Q6J("ngIf",a.hasWriteAccess),T.xp6(2),T.Q6J("ngForOf",a.list),T.xp6(1),T.Q6J("ngIf",0===a.list.length)}}function ba(e,t){if(1&e&&(T.TgZ(0,"div",22),T.YNc(1,ya,23,14,"div",169),T.qZA()),2&e){var a=T.oxw();T.xp6(1),T.Q6J("ngIf",a.showTable)}}function Ca(e,t){if(1&e&&(T.TgZ(0,"div",210),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function xa(e,t){if(1&e&&(T.TgZ(0,"th",179),T._uU(1),T.qZA()),2&e){var a=T.oxw(2);T.xp6(1),T.hij(" ",a.language.Severity,"")}}function Aa(e,t){if(1&e&&(T.TgZ(0,"th",180),T._uU(1),T.qZA()),2&e){var a=T.oxw(2);T.xp6(1),T.hij(" ",a.language.Recommendation,"")}}function Za(e,t){if(1&e&&(T.TgZ(0,"th"),T._uU(1),T.qZA()),2&e){var a=T.oxw(2);T.xp6(1),T.Oqu(a.language.Notes)}}function Oa(e,t){if(1&e&&(T.TgZ(0,"td",190),T.TgZ(1,"div"),T._UZ(2,"span",191),T._uU(3),T.qZA(),T.qZA()),2&e){var a=T.oxw().$implicit,n=T.oxw(2);T.xp6(1),T.Tol(a.subject&&a.subject.perceivedSeverity&&n.colorClass[a.subject.perceivedSeverity]?n.colorClass[a.subject.perceivedSeverity]:"black clear-sev-but"),T.xp6(2),T.hij(" ",a.subject?n.language[a.subject.perceivedSeverity]||a.subject.perceivedSeverity:""," ")}}function Sa(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",192),T.NdJ("click",function(){T.CHM(a);var e=T.oxw().$implicit;return T.oxw(2).gotoSubscriberImpactedPage(e)}),T._uU(1),T.qZA()}if(2&e){var n=T.oxw().$implicit;T.xp6(1),T.hij(" ",null==n||null==n.subject?null:n.subject.impactedSubsCount," ")}}function Ta(e,t){if(1&e&&(T.TgZ(0,"div",182),T.TgZ(1,"span",34),T._uU(2),T.qZA(),T.qZA()),2&e){var a=T.oxw().$implicit;T.xp6(1),T.Q6J("ngClass",null!=a&&null!=a.subject&&a.subject.serviceAffecting?"subscriber-impact-red":""),T.xp6(1),T.hij(" ",null!=a&&null!=a.subject&&a.subject.serviceAffecting?"Yes":"No"," ")}}function _a(e,t){if(1&e&&(T.TgZ(0,"td",193),T.TgZ(1,"div",194),T._uU(2),T.qZA(),T.qZA()),2&e){var a=T.oxw().$implicit;T.xp6(2),T.Oqu(a.subject?a.subject.repairAction:"")}}function wa(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",198),T.NdJ("click",function(){T.CHM(a);var e=T.oxw(2),t=e.$implicit,n=e.index;return T.oxw(2).openNotesModal(t.subject.alarmId,t.subject.notes?t.subject.notes:null,!1,n)}),T._UZ(1,"img",199),T.qZA()}}function ka(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",200),T.NdJ("click",function(){T.CHM(a);var e=T.oxw(2),t=e.$implicit,n=e.index;return T.oxw(2).openNotesModal(t.subject.alarmId,t.subject.notes?t.subject.notes:null,!0,n)}),T._UZ(1,"img",201),T.qZA()}if(2&e){var n=T.oxw(4);T.xp6(1),T.s9C("title",n.language.Edit)}}function qa(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",198),T.NdJ("click",function(){T.CHM(a);var e=T.oxw(2),t=e.$implicit,n=e.index;return T.oxw(2).deleteConfirmModal(t.subject.alarmId,n)}),T._UZ(1,"img",202),T.qZA()}if(2&e){var n=T.oxw(4);T.xp6(1),T.s9C("title",n.language.Delete)}}function Ma(e,t){if(1&e&&(T.TgZ(0,"td",195),T.YNc(1,wa,2,0,"div",196),T.YNc(2,ka,2,1,"div",197),T.YNc(3,qa,2,1,"div",196),T.qZA()),2&e){var a=T.oxw().$implicit;T.xp6(1),T.Q6J("ngIf",!a.subject.notes),T.xp6(1),T.Q6J("ngIf",a.subject.notes),T.xp6(1),T.Q6J("ngIf",a.subject.notes)}}function Na(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"tr",181),T.NdJ("click",function(){var e=T.CHM(a),t=e.$implicit,n=e.index;return T.oxw(2).viewDetails(t,n)}),T.TgZ(1,"td",182),T._uU(2),T.qZA(),T.TgZ(3,"td",182),T._uU(4),T.qZA(),T.TgZ(5,"td",182),T._uU(6),T.qZA(),T.TgZ(7,"td",182),T._uU(8),T.qZA(),T.TgZ(9,"td",183),T._UZ(10,"div",184),T.qZA(),T.YNc(11,Oa,4,4,"td",185),T.TgZ(12,"td"),T.TgZ(13,"div",186),T.YNc(14,Sa,2,1,"div",187),T.YNc(15,Ta,3,2,"div",211),T.qZA(),T.qZA(),T.YNc(16,_a,3,1,"td",188),T.YNc(17,Ma,4,3,"td",189),T.qZA()}if(2&e){var n=t.$implicit,i=T.oxw(2);T.xp6(2),T.Oqu(n.subject&&n.subject.timeRaised?i.convertToDateTime(n.subject.timeRaised):""),T.xp6(2),T.Oqu(n.time?i.convertToDateTime(n.time):""),T.xp6(2),T.Oqu(n.subject?n.subject.alarmEventName:""),T.xp6(2),T.Oqu(n.subject?n.subject.category:""),T.xp6(2),T.Q6J("innerHtml",n.subject.resourceForUI?n.subject.resourceForUI:"",T.oJD),T.xp6(1),T.Q6J("ngIf","Alarm"===i.clickedAlarmType&&"Event"!==i.alarmType),T.xp6(3),T.Q6J("ngIf",null==n||null==n.subject?null:n.subject.impactedSubsCount),T.xp6(1),T.Q6J("ngIf",!(null!=n&&null!=n.subject&&n.subject.impactedSubsCount)),T.xp6(1),T.Q6J("ngIf","Alarm"===i.clickedAlarmType&&"Event"!==i.alarmType),T.xp6(1),T.Q6J("ngIf",i.hasWriteAccess)}}function Da(e,t){if(1&e&&(T.TgZ(0,"tbody"),T.TgZ(1,"tr"),T.TgZ(2,"td",203),T._uU(3),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(3),T.hij("",a.language["No data available in table"]," ")}}var Pa=function(e){return{"page-disabled":e}};function Ea(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",22),T.TgZ(1,"div",204),T.YNc(2,Ca,5,1,"div",205),T.TgZ(3,"table",206),T.TgZ(4,"thead"),T.TgZ(5,"tr"),T.TgZ(6,"th",172),T._uU(7),T.qZA(),T.TgZ(8,"th"),T._uU(9),T.qZA(),T.TgZ(10,"th",173),T._uU(11),T.qZA(),T.TgZ(12,"th"),T._uU(13),T.qZA(),T.TgZ(14,"th"),T._uU(15),T.qZA(),T.YNc(16,xa,2,1,"th",174),T.TgZ(17,"th"),T._uU(18),T.qZA(),T.YNc(19,Aa,2,1,"th",176),T.YNc(20,Za,2,1,"th",177),T.qZA(),T.qZA(),T.TgZ(21,"tbody"),T.YNc(22,Na,18,10,"tr",178),T.qZA(),T.YNc(23,Da,4,1,"tbody",177),T._UZ(24,"tbody"),T.qZA(),T.TgZ(25,"div",207),T.TgZ(26,"div",208),T.TgZ(27,"a",209),T.NdJ("click",function(){return T.CHM(a),T.oxw().gotoPrevious()}),T._uU(28),T.qZA(),T.TgZ(29,"a",209),T.NdJ("click",function(){return T.CHM(a),T.oxw().gotoNext()}),T._uU(30),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw();T.xp6(2),T.Q6J("ngIf",n.paginateLoading),T.xp6(5),T.AsE("",n.language["Reported Time"],"(UTC/",n.timeZone,")"),T.xp6(2),T.AsE("",n.language["Synced Time"]," (UTC/",n.timeZone,")"),T.xp6(2),T.hij("","Alarm"===n.clickedAlarmType&&"Event"!==n.alarmType?n.language["Alarm Name"]:n.language["Event Name"]," "),T.xp6(2),T.hij("",n.language.Category," "),T.xp6(2),T.Oqu(n.language.Resource),T.xp6(1),T.Q6J("ngIf","Alarm"===n.clickedAlarmType&&"Event"!==n.alarmType),T.xp6(2),T.Oqu(n.language["Subscriber Impact"]),T.xp6(1),T.Q6J("ngIf","Alarm"===n.clickedAlarmType&&"Event"!==n.alarmType),T.xp6(1),T.Q6J("ngIf",n.hasWriteAccess),T.xp6(2),T.Q6J("ngForOf",n.list),T.xp6(1),T.Q6J("ngIf",!(null!=n.list&&n.list.length)),T.xp6(4),T.Q6J("ngClass",T.VKq(18,Pa,!n.previousFlag)),T.xp6(1),T.Oqu(n.language.Previous),T.xp6(1),T.Q6J("ngClass",T.VKq(20,Pa,!n.nextFlag)),T.xp6(1),T.Oqu(n.language.Next)}}function Ia(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw().serverityError=!1}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw();T.xp6(5),T.Q6J("innerHtml",n.serverityErrorInfo,T.oJD)}}function Ua(e,t){if(1&e&&(T.TgZ(0,"div",147),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw();T.xp6(4),T.Oqu(a.language.Loading)}}function Fa(e,t){1&e&&(T.TgZ(0,"div",151),T.TgZ(1,"div",152),T._UZ(2,"div",212),T.qZA(),T.TgZ(3,"div",152),T._UZ(4,"div",213),T.qZA(),T.qZA())}function La(e,t){1&e&&(T.TgZ(0,"div",151),T.TgZ(1,"div",155),T._UZ(2,"div",214),T.qZA(),T.qZA())}function ja(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).errors.byday=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.errors.byday,T.oJD)}}function Ja(e,t){if(1&e&&(T.TgZ(0,"div",147),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function Ra(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",8),T.TgZ(1,"div",9),T.TgZ(2,"div",10),T.TgZ(3,"div",11),T._uU(4),T.qZA(),T.TgZ(5,"div",12),T.TgZ(6,"button",36),T.NdJ("click",function(){return T.CHM(a),T.oxw().download("byday","alarm")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(7,"div",59),T.YNc(8,ja,6,1,"div",15),T.YNc(9,Ja,5,1,"div",38),T.TgZ(10,"div",158),T.TgZ(11,"div",159),T._UZ(12,"div",215),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw();T.xp6(4),T.hij(" ",n.language["Alarm by Days"]," "),T.xp6(2),T.s9C("title",n.language.export),T.xp6(2),T.Q6J("ngIf",n.errors.byday),T.xp6(1),T.Q6J("ngIf",n.loading),T.xp6(1),T.Q6J("ngClass",n.loading?"d-none":"d-block md-block"),T.xp6(1),T.Q6J("hidden",n.errors.byday)}}function Ha(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw().errors.region=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw();T.xp6(5),T.Q6J("innerHtml",n.errors.region,T.oJD)}}function Qa(e,t){if(1&e&&(T.TgZ(0,"div",161),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw();T.xp6(4),T.Oqu(a.language.Loading)}}function Ba(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw().regionError=!1}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw();T.xp6(5),T.Q6J("innerHtml",n.regionErrorInfo,T.oJD)}}function Va(e,t){if(1&e&&(T.TgZ(0,"div",161),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw();T.xp6(4),T.Oqu(a.language.Loading)}}function Ya(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw().errors.location=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw();T.xp6(5),T.Q6J("innerHtml",n.errors.location,T.oJD)}}function $a(e,t){if(1&e&&(T.TgZ(0,"div",161),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw();T.xp6(4),T.Oqu(a.language.Loading)}}function za(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw().errors["location-event"]=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw();T.xp6(5),T.Q6J("innerHtml",n.errors["location-event"],T.oJD)}}function Ga(e,t){if(1&e&&(T.TgZ(0,"div",161),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw();T.xp6(4),T.Oqu(a.language.Loading)}}function Wa(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw().errors.system=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw();T.xp6(5),T.Q6J("innerHtml",n.errors.system,T.oJD)}}function Ka(e,t){if(1&e&&(T.TgZ(0,"div",161),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw();T.xp6(4),T.Oqu(a.language.Loading)}}function Xa(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw().errors["system-event"]=""}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw();T.xp6(5),T.Q6J("innerHtml",n.errors["system-event"],T.oJD)}}function en(e,t){if(1&e&&(T.TgZ(0,"div",161),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw();T.xp6(4),T.Oqu(a.language.Loading)}}function tn(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw().locationError=!1}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw();T.xp6(5),T.Q6J("innerHtml",n.locationErrorInfo,T.oJD)}}function an(e,t){if(1&e&&(T.TgZ(0,"div",161),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw();T.xp6(4),T.Oqu(a.language.Loading)}}function nn(e,t){if(1&e&&(T.TgZ(0,"div",45),T.TgZ(1,"div",216),T._UZ(2,"div",217),T.qZA(),T.qZA()),2&e){var a=T.oxw();T.xp6(1),T.Q6J("ngClass",a.loading?"d-none":"d-block")}}function on(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw().systemError=!1}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw();T.xp6(5),T.Q6J("innerHtml",n.systemErrorInfo,T.oJD)}}function rn(e,t){if(1&e&&(T.TgZ(0,"div",147),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw();T.xp6(4),T.Oqu(a.language.Loading)}}function sn(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",218),T.TgZ(1,"h5",219),T._uU(2),T.qZA(),T.TgZ(3,"div"),T._uU(4),T.qZA(),T.TgZ(5,"button",220),T.NdJ("click",function(){return T.CHM(a).$implicit.dismiss("Cross click")}),T._UZ(6,"span",58),T.qZA(),T.qZA(),T.TgZ(7,"div",221),T.TgZ(8,"button",222),T.NdJ("click",function(){return T.CHM(a).$implicit.close("Save click")}),T._uU(9),T.qZA(),T.qZA()}if(2&e){var n=T.oxw();T.xp6(2),T.Oqu(n.modalTitle),T.xp6(2),T.hij(" ",n.modalInfo," "),T.xp6(5),T.hij(" ",n.language.Ok," ")}}function ln(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).closeAlert()}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.noteErrorInfo,T.oJD)}}function cn(e,t){if(1&e&&(T.TgZ(0,"div",210),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function dn(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"button",228),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).addNotes()}),T._uU(1),T.qZA()}if(2&e){var n=T.oxw(2);T.Q6J("disabled",n.btnDisabled||""===n.notes),T.xp6(1),T.hij(" ",n.language.Add," ")}}function gn(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"button",228),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).addNotes()}),T._uU(1),T.qZA()}if(2&e){var n=T.oxw(2);T.Q6J("disabled",n.btnDisabled||""===n.notes),T.xp6(1),T.hij(" ",n.language.Update," ")}}function un(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",218),T.TgZ(1,"h5",219),T._uU(2),T.qZA(),T.TgZ(3,"button",220),T.NdJ("click",function(){return T.CHM(a),T.oxw().closeNotes()}),T._UZ(4,"span",58),T.qZA(),T.qZA(),T.TgZ(5,"div",22),T.YNc(6,ln,6,1,"div",15),T.qZA(),T.TgZ(7,"div",221),T.YNc(8,cn,5,1,"div",205),T.TgZ(9,"div",223),T._UZ(10,"textarea",224),T.qZA(),T.TgZ(11,"div",225),T.YNc(12,dn,2,2,"button",226),T.YNc(13,gn,2,2,"button",226),T.TgZ(14,"button",227),T.NdJ("click",function(){return T.CHM(a),T.oxw().closeNotes()}),T._uU(15),T.qZA(),T.qZA(),T.qZA()}if(2&e){var n=T.oxw();T.xp6(2),T.Oqu(n.language.Notes),T.xp6(4),T.Q6J("ngIf",n.noteError),T.xp6(2),T.Q6J("ngIf",n.noteSaveLoader),T.xp6(2),T.MGl("placeholder","",n.language.Notes,".."),T.Q6J("formControl",n.notes)("formValue",n.notes),T.xp6(2),T.Q6J("ngIf",!n.showEdit),T.xp6(1),T.Q6J("ngIf",n.showEdit),T.xp6(2),T.hij(" ",n.language.Cancel," ")}}function mn(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",218),T.TgZ(1,"h5",219),T._uU(2),T.qZA(),T.TgZ(3,"button",220),T.NdJ("click",function(){return T.CHM(a),T.oxw().closeNotes()}),T._UZ(4,"span",58),T.qZA(),T.qZA(),T.TgZ(5,"div",221),T.TgZ(6,"div",223),T._uU(7),T.qZA(),T.qZA()}if(2&e){var n=T.oxw();T.xp6(2),T.Oqu(n.language.Notes),T.xp6(5),T.hij(" ",n.notes," ")}}function pn(e,t){if(1&e&&(T.TgZ(0,"div",210),T.TgZ(1,"div",148),T.TgZ(2,"div",149),T.TgZ(3,"span",150),T._uU(4),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(4),T.Oqu(a.language.Loading)}}function hn(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).closeAlert()}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.deleteErrorInfo,T.oJD)}}function vn(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",229),T.TgZ(1,"h4",230),T._uU(2),T.qZA(),T.TgZ(3,"button",231),T.NdJ("click",function(){return T.CHM(a),T.oxw().closeNotes()}),T._UZ(4,"span",58),T.qZA(),T.qZA(),T.TgZ(5,"div",232),T.YNc(6,pn,5,1,"div",205),T.TgZ(7,"p"),T._uU(8),T.qZA(),T.qZA(),T.TgZ(9,"div",22),T.YNc(10,hn,6,1,"div",15),T.qZA(),T.TgZ(11,"div",233),T.TgZ(12,"button",234),T.NdJ("click",function(){return T.CHM(a),T.oxw().deleteNotes()}),T._uU(13),T.qZA(),T.TgZ(14,"button",235),T.NdJ("click",function(){return T.CHM(a),T.oxw().closeNotes()}),T._uU(15),T.qZA(),T.qZA()}if(2&e){var n=T.oxw();T.xp6(2),T.Oqu(n.language.Delete),T.xp6(4),T.Q6J("ngIf",n.noteSaveLoader),T.xp6(2),T.hij(" ",n.language["Are you sure you want to delete this notes"],"? "),T.xp6(2),T.Q6J("ngIf",n.deleteError),T.xp6(2),T.Q6J("disabled",n.btnDisabled),T.xp6(1),T.hij(" ",n.language.Yes," "),T.xp6(2),T.hij(" ",n.language.No," ")}}function fn(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",142),T.TgZ(1,"span",143),T._UZ(2,"img",144),T.qZA(),T.TgZ(3,"button",145),T.NdJ("click",function(){return T.CHM(a),T.oxw(2).closeAlert()}),T._UZ(4,"span"),T.qZA(),T._UZ(5,"div",146),T.qZA()}if(2&e){var n=T.oxw(2);T.xp6(5),T.Q6J("innerHtml",n.errorInfo,T.oJD)}}function yn(e,t){if(1&e&&(T.TgZ(0,"div",237),T.TgZ(1,"div",238),T.TgZ(2,"label"),T._uU(3),T.qZA(),T.TgZ(4,"h3"),T._uU(5),T.qZA(),T.qZA(),T.TgZ(6,"div",238),T.TgZ(7,"label"),T._uU(8),T.qZA(),T.TgZ(9,"h3"),T._uU(10),T.qZA(),T.qZA(),T.TgZ(11,"div",238),T.TgZ(12,"label"),T._uU(13),T.qZA(),T.TgZ(14,"h3"),T._uU(15),T.qZA(),T.qZA(),T.TgZ(16,"div",238),T.TgZ(17,"label"),T._uU(18),T.qZA(),T.TgZ(19,"h3"),T._uU(20),T.qZA(),T.qZA(),T.TgZ(21,"div",238),T.TgZ(22,"label"),T._uU(23),T.qZA(),T.TgZ(24,"h3"),T._uU(25),T.qZA(),T.qZA(),T.TgZ(26,"div",238),T.TgZ(27,"label"),T._uU(28),T.qZA(),T.TgZ(29,"h3"),T._uU(30),T.qZA(),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(3),T.Oqu(a.language.Name),T.xp6(2),T.Oqu(null!=a.subscriberInfo[0]&&a.subscriberInfo[0].name?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].name:"-"),T.xp6(3),T.Oqu(a.language.Account),T.xp6(2),T.Oqu(null!=a.subscriberInfo[0]&&a.subscriberInfo[0].account?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].account:"-"),T.xp6(3),T.Oqu(a.language.Email),T.xp6(2),T.Oqu(null!=a.subscriberInfo[0]&&a.subscriberInfo[0].email?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].email:"-"),T.xp6(3),T.hij("",a.language.Location_ID," "),T.xp6(2),T.Oqu(null!=a.subscriberInfo[0]&&a.subscriberInfo[0].subscriberLocationId?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].subscriberLocationId:"-"),T.xp6(3),T.Oqu(a.language.Service_address),T.xp6(2),T.Oqu(null!=a.subscriberInfo[0]&&a.subscriberInfo[0].serviceAddress?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].serviceAddress:"-"),T.xp6(3),T.Oqu(a.language.Phone),T.xp6(2),T.Oqu(null!=a.subscriberInfo[0]&&a.subscriberInfo[0].phone?null==a.subscriberInfo[0]?null:a.subscriberInfo[0].phone:"-")}}function bn(e,t){if(1&e&&(T.TgZ(0,"div"),T.TgZ(1,"p"),T._uU(2),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(2),T.hij("",a.language["No data available"]," ")}}function Cn(e,t){if(1&e){var a=T.EpF();T.TgZ(0,"div",218),T.TgZ(1,"h5",219),T._uU(2),T.qZA(),T.TgZ(3,"button",220),T.NdJ("click",function(){return T.CHM(a),T.oxw().closeNotes()}),T._UZ(4,"span",58),T.qZA(),T.qZA(),T.TgZ(5,"div",22),T.YNc(6,fn,6,1,"div",15),T.qZA(),T.TgZ(7,"div",221),T.YNc(8,yn,31,12,"div",236),T.YNc(9,bn,3,1,"div",177),T.qZA()}if(2&e){var n=T.oxw();T.xp6(2),T.Oqu(n.language["Subscriber Information"]),T.xp6(4),T.Q6J("ngIf",n.error),T.xp6(2),T.Q6J("ngIf",n.Infosub),T.xp6(1),T.Q6J("ngIf",!n.Infosub)}}r(86295)(c),x()(c),function(e){e.seriesTypes.line.prototype.drawLegendSymbol=e.seriesTypes.area.prototype.drawLegendSymbol}(c);var xn=function(){var t=function(){function t(e,a,i,o,r,s,l,g,u,p,h,v){n(this,t),this.translateService=e,this.chartOptionService=a,this.http=i,this.commonOrgService=o,this.exportExcelService=r,this.issueService=s,this.dialogService=l,this.fb=g,this.ssoService=u,this.dateUtilsService=p,this.titleService=h,this.router=v,this.skipParamsForEvents=["severity","cco_ack","cco_shelv","customCategory"],this.showNewPagination=!0,this.disableExportBtn=!1,this.appliedParams={},this.transformedAlarms=["multiple-onts-down-network","multiple-onts-down-pon","multiple-onts-down-olt"],this.data={alarm:{byday:[],severity:[],region:[],location:[],system:[]},event:{region:[],location:[],system:[]}},this.params={alarm:{byday:{},severity:{},region:{},location:{},system:{}},event:{region:{},location:{},system:{}}},this.loaders={alarm:{byday:!1,severity:!1,region:!1,location:!1,system:!1},event:{region:!1,location:!1,system:!1}},this.deleteParams={alarm:{byday:{},severity:{},region:{},location:{},system:{}},event:{region:{},location:{},system:{}}},this.filters={alarm:{byday:{},severity:{},region:{},location:{},system:{}},event:{region:{},location:{},system:{}}},this.maxDate=new Date,this.maxForStartDate=new Date,this.count=0,this.initLoad=!1,this.types=[],this.typeSelected="",this.showTable=!1,this.dataAvailable=!1,this.dtTrigger=new m.xQ,this.dtOptions={},this.isRerender=!1,this.loading=!1,this.renderOnce=!1,this.error=!1,this.serverityError=!1,this.systemError=!1,this.locationError=!1,this.regionError=!1,this.serverityEventError=!1,this.systemEventError=!1,this.locationEventError=!1,this.regionEventError=!1,this.fullScreenError=!1,this.btnDisabled=!1,this.applyDisabled=!1,this.DateValue="1",this.category=["All"],this.loadLocationChart=!1,this.loadAalarmLocationChart=!1,this.loadEventLocationChart=!1,this.Highcharts=c,this.totalAlarms=0,this.baseUrl="".concat(d.N.API_BASE_URL,"analytics-engine/"),this.url="",this.regionParam="",this.locationParam="",this.systemParam="",this.FSANParam="",this.severityParam="",this.alarmTypeParam="",this.dateParam="",this.typeParam="historyReport=true",this.fullScreen=!1,this.paseWeekValue=1,this.pastMonthValue=1,this.alarmType="Alarm",this.alarmBy="",this.alarmEventName="",this.regionsDataArray=["All"],this.regionArray=["All"],this.locationDataArray=["All"],this.systemDataArray=["All"],this.showSevertiyFullChart=!1,this.fullScrenSubHeading="",this.colors={MINOR:"#F3B426",MAJOR:"#FC7235",CRITICAL:"#C70000",WARNING:"#f7e9c1",INFO:"#7cb5ec"},this.colorClass={MINOR:"minor-but",MAJOR:"major-but",CRITICAL:"critical-but",WARNING:"warning-but",INFO:"severity-info-but"},this.categories=[],this.acknowledgedAlarms=[{id:"all",name:"All"},{id:"false",name:"Hide Acknowledged Alarms"},{id:"true",name:"Show Acknowledged Alarms"}],this.shelvedAlarms=[{id:"all",name:"All"},{id:"false",name:"Hide Shelved Alarms"},{id:"true",name:"Show Shelved Alarms"}],this.entries=[{id:10,name:10},{id:25,name:25},{id:50,name:50},{id:100,name:100}],this.setClear=!0,this.both=!1,this.filtersForm=this.fb.group({startDate:[""],endDate:[""],alarmType:[""],region:[""],location:[""],system:[""],fsan:[""],severity:[""],category:[""],customCategory:[""],eventName:"All",cco_ack:"all",cco_shelv:"all"}),this.appliedFilters={startDate:!0,endDate:!0,alarmType:!0,region:!0,location:!0,system:!0,fsan:!0,severity:!0,category:!0,eventName:!0,customCategory:!0,cco_ack:!0,cco_shelv:!0},this.alarmTypesToExport=[],this.exportParams={},this.exportAlarmCount=0,this.isDev=!1,this.totalAlarms_cleared=0,this.systemsObj={},this.hasWriteAccess=!1,this.previousFlag=!1,this.nextFlag=!1,this.isNotesModalOpen=!1,this.showSeverity=!0,this.showAlarmGroup=!0,this.showAckShelve=!0,this.filterApplied=!1,this.clickedRegion="",this.clickedEventRegion="",this.clickedLocation="",this.clickedEventLocation="",this.clickedSystem="",this.clickedLoctionsObj={},this.clickedSystemsObj={},this.clickedEventLoctionsObj={},this.clickedEventSystemsObj={},this.loadSystemChart=!1,this.loadRegionChart=!0,this.clickedSeverity="",this.hasScopeAccess=!1,this.errors={byday:"",severity:"",region:"",location:"",system:""},this.clickedAlarmTypeInBC="",this.alarmTypeInBoth="",this.alarmTitleInBoth="",this.eventTitleInBoth="",this.alarmChartType="",this.eventChartType="",this.clickedAlarmType="",this.chartTypeInFS="",this.clickOnClearedAlarms=!1,this.clickOnRaisedAlarms=!1,this.fullscreenParams=[],this.applyFiltersInFS=!1,this.searchText$=new m.xQ,this.searchTerm="",this.showAckShelveBtn=!1,this.fullData={},this.hideSource=!1,this.customCategories=[],this.alarmNames=[],this.notes=new A.NI(""),this.showEdit=!1,this.noteError=!1,this.noteErrorInfo="",this.noteSaveLoader=!1,this.deleteError=!1,this.deleteErrorInfo="",this.bothRegion=!1,this.bothLocation=!1,this.bothSystem=!1,this.bothRegionAlarm=!1,this.bothLocationAlarm=!1,this.bothSystemAlarm=!1,this.bothRegionEvent=!1,this.bothLocationEvent=!1,this.bothSystemEvent=!1,this.paginateLoading=!1,this.paginateQuery="",this.entry=new A.NI(10),this.searchQuery="",this.setAppliedFilters(),this.chartOptionService.setFiltersObj(),this.toggleSubscription=this.ssoService.toggled$.subscribe(function(e){c.charts.forEach(function(e){setTimeout(function(){null!=e&&e.reflow()},100)})})}return o(t,[{key:"ngOnInit",value:function(){var e,t=this;-1!==d.N.API_BASE_URL.indexOf("dev.api.calix.ai")&&(this.showNewPagination=!0),this.timeZone=(new Date).toString().split(" ")[5].replace(/(.{2})$/,":$1"),this.Severity="all";var a=new Date;this.FromDate=new Date(a.getTime()-864e5),this.ToDate=new Date,this.filtersForm.patchValue({startDate:this.FromDate,endDate:this.ToDate,alarmType:"Alarm",region:["All"],location:["All"],system:["All"],severity:"All",category:["All"],customCategory:"None",eventName:["All"],cco_ack:"all",cco_shelv:"all"}),this.language=this.translateService.defualtLanguage,this.tableLanguageOptions(),this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){t.tableLanguageOptions(),t.language=e,setTimeout(function(){t.loadIntialData()},1e3),t.showTable&&t.redraw(),t.titleService.setTitle("".concat(t.language["Historical Reports"]," - ").concat(t.language.Alarms," - ").concat(t.language.Issues," - ").concat(t.language.Operations," - ").concat(t.language["Calix Cloud"]))}),this.titleService.setTitle("".concat(this.language["Historical Reports"]," - ").concat(this.language.Alarms," - ").concat(this.language.Issues," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"])),this.ToDate=new Date;var n=this.ssoService.getScopes();if(-1!==(null===(e=n["cloud.rbac.coc.issues.report.historyalarm"])||void 0===e?void 0:e.indexOf("write"))&&(this.hasWriteAccess=!0),d.N.VALIDATE_SCOPE){var i=Object.keys(n);if(i)for(var o=0;o<i.length;o++)if(-1!==i[o].indexOf("cloud.rbac.coc.issues.report.historyalarm")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.hasScopeAccess?(this.ssoService.setPageAccess(!0),this.getCategories(),this.getCustomCategories(),this.getAlarmNames(),this.loadRegionsSystemsOptionsData()):this.ssoService.setPageAccess(!1)}},{key:"ngAfterViewInit",value:function(){var e=this;this.showNewPagination?(this.doSearchNew(),this.listenChangeEntries()):this.doSearch(),this.notes.valueChanges.subscribe(function(t){e.showEdit||e.notes.value?e.showEdit&&e.isNotesModalOpen?e.isNotesModalOpen=!1:e.btnDisabled=!1:e.btnDisabled=!0})}},{key:"pastWeekChange",value:function(){var e=new Date(this.FromDate);this.FromDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()-(8-this.paseWeekValue))}},{key:"pastMonthChange",value:function(){var e=new Date(this.FromDate);this.FromDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()-(31-this.pastMonthValue))}},{key:"loadRegionsSystemsOptionsData",value:function(){var t=this,a={};a.regions=this.issueService.getRegions(!0).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)})),a.systems=this.http.get("".concat(d.N.API_BASE_URL,"nfa/systems?tenant=0&includeDeleted=true")).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)})),(0,h.D)(a).subscribe(function(a){var n;if(null===(n=null==a?void 0:a.regions)||void 0===n?void 0:n["api-error"])t.loadIntialData();else{t.regionSelected="All",t.locationSelected="All",t.systemSelected="All";var i=a.regions,o=[];i&&i.length&&(i=t.issueService.appendFqn(i)).forEach(function(e){e.isDeleted||o.push(e)}),t.chartOptionService.setRegionsInfo(i),i.sort(),t.regionsDataArray=[].concat(e(t.regionsDataArray),o);var r=a.systems;t.systemsObj={};var s={};r&&r.forEach(function(e){s[e.uuid]=e.name}),t.systemsObj=s,t.loadIntialData()}})}},{key:"regionsApiLoader",value:function(){var t=this;new Set,this.regionSelected="All",this.locationSelected="All",this.regionsSubject=this.issueService.getRegions(!0).subscribe(function(a){var n=[];a&&a.length&&(a=t.issueService.appendFqn(a)).forEach(function(e){e.isDeleted||n.push(e)}),t.chartOptionService.setRegionsInfo(a),a.sort(),t.regionsDataArray=[].concat(e(t.regionsDataArray),n),t.loadIntialData()},function(e){t.loadIntialData()})}},{key:"loadLocationValue",value:function(t){var a=this;this.clickedRegion="",this.clickedEventRegion="",this.locationSelected="All",this.systemSelected="All";var n=this.filtersForm.get("region").value,i=this.filtersForm.get("location").value;if(this.regionSelected=n,this.regionSelected){var o="";if(n.length){if(-1!==n.indexOf("All"))return this.regionName=null,this.locationName=null,this.systemName=null,this.locationDataArray=["All"],void(this.systemDataArray=["All"]);n.forEach(function(e){"All"!=e&&(o+="&region=".concat(e))}),this.locationsSubject=this.http.get("".concat(d.N.API_BASE_URL,"nfa/locations?tenant=0").concat(o,"&includeDeleted=true")).pipe((0,u.U)(function(e){return e.sort(function(e,t){return(e.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})}),a.issueService.appendFqn(e)}),(0,g.K)(this.handleError)).subscribe(function(t){var n=[];if(a.chartOptionService.setLocationsInfo(t),a.locationDataArray=["All"],t.forEach(function(e){e.isDeleted||n.push(e)}),a.locationDataArray=[].concat(e(a.locationDataArray),n),i&&i.length){var o=a.chartOptionService.getLocationsObj(),r=Object.keys(o).length?Object.keys(o):[],s=[];i.forEach(function(e){-1!==r.indexOf(e)&&s.push(e)}),s.length||(s=["All"]),a.filtersForm.get("location").setValue(s),a.loadSystemValue()}},function(e){}),this.regionName=n}else this.filtersForm.get("region").setValue(["All"]),this.filtersForm.get("location").setValue(["All"]),this.filtersForm.get("system").setValue(["All"]),this.regionName=null,this.locationName=null,this.systemName=null,this.locationDataArray=["All"],this.systemDataArray=["All"]}}},{key:"loadSystemValue",value:function(t){var a=this;this.clickedRegion="",this.clickedEventRegion="",this.clickedLocation="",this.clickedEventLocation="";var n=this.filtersForm.get("region").value,i=this.filtersForm.get("location").value,o=this.filtersForm.get("system").value;if(this.systemSelected=["All"],n.length&&i.length&&-1===i.indexOf("All")){var r="";n.forEach(function(e){"All"!=e&&(r+="&region=".concat(e))});var s="";i.forEach(function(e){"All"!=e&&(s+="&location=".concat(e))}),this.systemsSubject=this.http.get("".concat(d.N.API_BASE_URL,"nfa/systems?tenant=0").concat(r).concat(s,"&includeDeleted=true")).pipe((0,u.U)(function(e){return e.sort(function(e,t){return(e.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})}),e}),(0,g.K)(this.handleError)).subscribe(function(t){var n=[];if(a.chartOptionService.setSystemsInfo(t),a.systemDataArray=["All"],t.forEach(function(e){e.isDeleted||n.push(e)}),a.systemDataArray=[].concat(e(a.systemDataArray),n),o&&o.length){var i=a.chartOptionService.getSystemsObj(),r=Object.keys(i).length?Object.keys(i):[],s=[];o.forEach(function(e){-1!==r.indexOf(e)&&s.push(e)}),s.length||(s=["All"],a.systemName=null),a.filtersForm.get("system").setValue(s)}},function(e){}),this.locationName=i}else i.length||(this.filtersForm.get("location").setValue(["All"]),this.filtersForm.get("system").setValue(["All"]),this.locationName=null,this.systemName=null,this.systemDataArray=["All"])}},{key:"selectLocation",value:function(e){}},{key:"selectSystem",value:function(e){var t=this.filtersForm.get("system").value;this.systemName=t,"All"==t&&(this.systemName=null)}},{key:"selectAlarmType",value:function(){this.getCategories();var e=this.filtersForm.get("alarmType").value;this.showSeverity=!0,this.showAlarmGroup=!0,this.showAckShelve=!0,"Alarm"==e?(this.eventName=null,this.getAlarmNames("Alarm")):"Event"==e?(this.showSeverity=!1,this.showAlarmGroup=!1,this.showAckShelve=!1,this.filtersForm.get("severity").setValue("All"),this.getAlarmNames("Event")):this.getAlarmNames("Both"),"Event"==e&&this.filtersForm.get("customCategory").setValue("None")}},{key:"changeDate",value:function(){return this.maxForStartDate=this.filtersForm.get("endDate").value,this.validateBeyondDates(this.ToDate)?this.validateStartEndDates()?void(this.dateParam=this.FromDate&&this.ToDate?"&date="+this.FromDate.getTime()+"%2C"+this.ToDate.getTime():""):(this.modalTitle=this.language.Time_Period,this.modalInfo=this.language["Time range not valid, end time should be later than start time."],void this.openModalInfo()):(this.modalTitle=this.language.Time_Period,this.modalInfo="Time range not valid, selected date should not be later than current date time.",void this.openModalInfo())}},{key:"alarmsCount",value:function(){var e=this,t=this.filtersForm.value;t.startDate?(t.endDate||(t.endDate=new Date),this.dateParam="&date="+this.dateUtilsService.getUtCMilliSecByDateObj(t.startDate)+"%2C"+this.dateUtilsService.getUtCMilliSecByDateObj(t.endDate,!0)):this.dateParam="",this.issueService.filterCounts(this.dateParam),this.countSubscribe=this.http.get("".concat(this.baseUrl,"alarmCount?reportType=HISTORY").concat(this.dateParam)).subscribe(function(t){e.clearedCountData=t&&t.alarm&&t.alarm.cleared?t.alarm.cleared:{},e.countData=t&&t.alarm&&t.alarm.raised?t.alarm.raised:{},e.eventCountData=t&&t.event&&t.event.count?t.event.count:"0",e.criticalAlarms=e.countData.critical?e.countData.critical.toLocaleString():"0",e.majorAlarms=e.countData.major?e.countData.major.toLocaleString():"0",e.minorAlarms=e.countData.minor?e.countData.minor.toLocaleString():"0",e.totalAlarms=e.countData.critical+e.countData.major+e.countData.minor+e.countData.warning+e.countData.info,e.totalAlarms_cleared=e.clearedCountData.critical+e.clearedCountData.major+e.clearedCountData.minor+e.clearedCountData.warning+e.clearedCountData.info,e.totalAlarms=e.totalAlarms?e.totalAlarms.toLocaleString():"0",e.totalEvents=e.eventCountData?e.eventCountData.toLocaleString():"0",e.warningData=e.countData&&e.countData.warning?e.countData.warning:"0",e.warningAlarms=e.warningData?e.warningData.toLocaleString():"0",e.countData&&e.countData.info&&(e.countData.info=e.countData.info.toLocaleString()),e.loading=!1},function(t){e.pageErrorHandle(t),e.criticalAlarms="0",e.majorAlarms="0",e.minorAlarms="0",e.totalAlarms="0",e.loading=!1})}},{key:"ngOnDestroy",value:function(){var e,t,a;null===(e=this.searchSub)||void 0===e||e.unsubscribe(),null===(t=this.languageSubject)||void 0===t||t.unsubscribe(),this.severitySubscribe&&this.severitySubscribe.unsubscribe(),this.systemSubscribe&&this.systemSubscribe.unsubscribe(),this.locationSubscribe&&this.locationSubscribe.unsubscribe(),this.regionSubscribe&&this.regionSubscribe.unsubscribe(),this.countSubscribe&&this.countSubscribe.unsubscribe(),null===(a=this.toggleSubscription)||void 0===a||a.unsubscribe()}},{key:"clearFilter",value:function(){this.entry.setValue(10),this.fullScreen=!1,this.loadLocationChart=!this.loadLocationChart,this.DateValue=null,this.Region=null,this.Location=null,this.System=null,this.FSAN=null,this.eventName=null,this.regionSelected=void 0,this.locationSelected=void 0,this.systemSelected=void 0,this.alarmType="Alarm",this.Severity=null,this.severityParam="",this.regionParam="",this.locationParam="",this.systemParam="",this.FSANParam="",this.dateParam="",this.category=null,this.alarmEventName="",this.locationDataArray=["All"],this.systemDataArray=["All"],this.showSeverity=!0,this.showAlarmGroup=!0,this.filtersForm.get("category").enable(),this.filtersForm.get("customCategory").enable(),this.regionName=void 0,this.locationName=void 0,this.systemName=void 0;var e=new Date;this.FromDate=new Date(e.getTime()-864e5),this.ToDate=new Date,this.maxDate=new Date,this.maxForStartDate=new Date,this.filtersForm.patchValue({startDate:this.FromDate,endDate:this.ToDate,alarmType:"Alarm",region:["All"],location:["All"],system:["All"],severity:"All",category:["All"],fsan:"",customCategory:"None",eventName:["All"],cco_ack:"all",cco_shelv:"all"}),this.getCategories(),this.loadIntialData()}},{key:"fullScreenInvertFunction",value:function(){this.setSearchQuery(""),this.fullscreenParams=[],this.deleteFullScreenParams(),this.clickedAlarmTypeInBC="",this.clickOnClearedAlarms=!1,this.clickOnRaisedAlarms=!1,this.searchTerm="",this.clickedSeverity="",this.clickedSystem="",this.fullScreen=!1,this.searchText$.next(""),this.entry.setValue(10),this.showSevertiyFullChart=!1,this.applyFiltersInFS&&(this.applyFiltersInFS=!1,this.loadIntialData())}},{key:"closeAlert",value:function(){this.error=!1}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.error=!0,this.loading=!1}},{key:"downloadExcel",value:function(e,t){var a="#";a=a+t+"DownloadSection",this.fullScreen?e=this.fullScreenChartName:!this.loadLocationChart&&"Location"==t&&(e=e.replace("Location","Region")),$(a).addClass("spinnershow");var n=[];if(n="Severity"==t?this.chartDataFraming(this.severityChartData?this.severityChartData:[],"Severity"):"System"==t?this.chartDataFraming(this.systemChartData?this.systemChartData:[],"System"):"Location"==t&&this.loadLocationChart?this.chartDataFraming(this.locationChartData?this.locationChartData:[],"Location"):this.chartDataFraming(this.regionChartData?this.regionChartData:[],"Region"),"fullScreen"==t){var i=e.split(" ")[2];n=this.chartDataFraming(this.fullScreenData?this.fullScreenData:[],i)}var o=this.generateDownloadName(e);this.exportExcelService.downLoadCSV(o,n,"".concat(e,"\r\nDate: ").concat("1"==this.DateValue?this.language["Past week"]:"2"==this.DateValue?this.language["Past Month"]:"","\r\nAlarm Type: ").concat("Alarm"==this.alarmType?"Alarm":"Event"==this.alarmType?"Event":"Both"==this.alarmType?"Both":"","\r\nRegion: ").concat(this.Region?this.Region:"","\r\nLocation: ").concat(this.Location?this.Location:""," \r\nSystem: ").concat(this.System?this.System:""," \r\nFSAN/SN: ").concat(this.FSAN?this.FSAN:""," \r\nSeverity: ").concat(this.Severity?this.Severity:"","\n                  \r\n")),setTimeout(function(){$(a).removeClass("spinnershow")},1e3)}},{key:"downloadBothTypeExcel",value:function(e,t,a){var n="#";n=n+t+"DownloadSection",$(n).addClass("spinnershow");var i;i="Severity"==a?this.chartDataFraming(this.severityChartData?this.severityChartData:[],"Severity"):"System"==a?this.chartDataFraming(this.systemChartData?this.systemChartData:[],"System"):"Location"==a&&(this.loadEventLocationChart||this.loadAalarmLocationChart)?this.chartDataFraming(this.locationChartData?this.locationChartData:[],"Location"):this.chartDataFraming(this.regionChartData?this.regionChartData:[],"Region");var o=this.generateDownloadName(e);this.exportExcelService.downLoadCSV(o,i,"".concat(e,"\r\nAlarm Type: ").concat("Alarm"==this.alarmType?"Alarm":"Event"==this.alarmType?"Event":"Both"==this.alarmType?"Both":"","\r\nRegion: ").concat(this.Region?this.Region:"","\r\nLocation: ").concat(this.Location?this.Location:""," \r\nSystem: ").concat(this.System?this.System:""," \r\nFSAN/SN: ").concat(this.FSAN?this.FSAN:""," \r\nSeverity: ").concat(this.Severity?this.Severity:"","\n                  \r\n")),setTimeout(function(){$(n).removeClass("spinnershow")},1e3)}},{key:"generateDownloadName",value:function(e){var t=e.split(" ").join("-"),a=(new Date).getTime(),n="";return n+=t+"-"+(this.formatTodayDate()?this.formatTodayDate():"")+"-"+a}},{key:"formatTodayDate",value:function(){var e=new Date,t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[n,t,a].join("-")}},{key:"chartDataFraming",value:function(e,t){var a=[];return Array.isArray(e)?e.forEach(function(e){var n="System"==t?e.system:"Location"==t?e.location:"Region"==t?e.region:"",i={},o={};e.raised&&(i={Type:"Raised",Name:n||"",Minor:e.raised.minor?e.raised.minor:0,Major:e.raised.major?e.raised.major:0,Critical:e.raised.critical?e.raised.critical:0}),a.push(i),e.cleared&&(o={Type:"Cleared",Name:n||"",Minor:e.cleared.minor?e.cleared.minor:0,Major:e.cleared.major?e.cleared.major:0,Critical:e.cleared.critical?e.cleared.critical:0}),a.push(o)}):(e.raised&&a.push({Type:"Raised",Minor:e.raised.minor?e.raised.minor:0,Major:e.raised.major?e.raised.major:0,Critical:e.raised.critical?e.raised.critical:0}),e.cleared&&a.push({Type:"Cleared",Minor:e.cleared.minor?e.cleared.minor:0,Major:e.cleared.major?e.cleared.major:0,Critical:e.cleared.critical?e.cleared.critical:0})),a}},{key:"startISODate",value:function(e){var t=new Date(e),a=t.getFullYear(),n="".concat(t.getMonth()+1),i="".concat(t.getDate());return n.length<2&&(n="0".concat(n)),i.length<2&&(i="0".concat(i)),new Date("".concat(a,"-").concat(n,"-").concat(i,"T00:00:00Z")).getTime()}},{key:"endISODate",value:function(e){var t=new Date(e),a=t.getFullYear(),n="".concat(t.getMonth()+1),i="".concat(t.getDate());return n.length<2&&(n="0".concat(n)),i.length<2&&(i="0".concat(i)),new Date("".concat(a,"-").concat(n,"-").concat(i,"T23:59:59Z")).getTime()}},{key:"validateStartEndDates",value:function(){return!(this.FromDate&&this.ToDate&&this.FromDate>this.ToDate)}},{key:"validateBeyondDates",value:function(e){var t=new Date;return!(e&&e>t)}},{key:"openModalInfo",value:function(){this.modalRef=this.dialogService.open(this.showInfoModal,{size:"lg",centered:!0,windowClass:"custom-modal"})}},{key:"getChartByLocation",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=new s.rS;this.errors.location="";var n,i,o=this.filtersForm.value;n=o.category&&o.category.length&&-1===o.category.indexOf("All")?o.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,i=o.customCategory&&o.customCategory.length&&-1===o.customCategory.indexOf("None")?o.customCategory:void 0,t||(t=this.alarmType),o.severity&&"all"===o.severity.toLowerCase()&&(o.severity=void 0);var r="";"Alarm"==t?(r=this.clickedRegion?this.clickedRegion:this.regionName,this.loaders.alarm.location=!0):(r=this.clickedEventRegion?this.clickedEventRegion:this.regionName,this.loaders.event.location=!0),o.eventName&&o.eventName.length&&-1===o.eventName.indexOf("All")||(o.eventName=void 0);var l={region:r,location:"All"!==this.locationName?this.locationName:void 0,system:"All"!==this.systemName?this.systemName:void 0,fsan_serialnumber:o.fsan?o.fsan:void 0,alarmEventName:o.eventName?o.eventName:void 0,severity:o.severity,notificationType:t,historyReport:!0,category:n,customCategory:i,cco_ack:o.cco_ack,cco_shelv:o.cco_shelv};"Alarm"!==l.notificationType&&["customCategory","severity","cco_ack","cco_shelv"].forEach(function(e){delete l[e]}),o.startDate&&(o.endDate||(o.endDate=new Date),l.date="".concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.endDate,!0))),"Event"===l.notificationType&&(delete l.severity,delete l.status);var c="";for(var g in l)null!=l[g]&&(""!=c&&(c+="&"),c+=g+"="+encodeURIComponent(l[g]));var u="&region=".concat(l.region),m=this;"Both"===this.alarmType?(this.bothLocation=!0,"Alarm"===t?this.bothLocationAlarm=!0:this.bothLocationEvent=!0):this.loadLocationChart=!0,this.http.get("".concat(d.N.API_BASE_URL,"nfa/locations?tenant=0").concat(u,"&includeDeleted=true")).subscribe(function(n){var i,o={};n&&n.forEach(function(e){o[e.id]={name:e.name,isDeleted:e.isDeleted}}),"Alarm"==t?e.clickedLoctionsObj=o:e.clickedEventLoctionsObj=o,e.url="".concat(e.baseUrl,"alarmbyLocation?").concat(c),e.locationSubscribe=e.http.get("".concat(e.url)).subscribe(function(n){e.locationChartData=n,e.locationError=!1,"Alarm"==t?(i=e.chartOptionService.locationChartOptions(n,!1,l,o),e.data.alarm.location=e.chartOptionService.prepareAlarmCSVDataforLocation(n,o,"histoy",l),e.params.alarm.location=l):(i=e.chartOptionService.getEventOptions(n,"location",l,o),e.data.event.location=e.chartOptionService.prepareEventCSVDataforLocation(n,o),e.params.event.location=l),i.plotOptions.series.point.events={click:function(e){var a=$(this.series.data).index(this);"Alarm"==t?m.clickedLocation=e.point.series.userOptions.data[a].locationId:m.clickedEventLocation=e.point.series.userOptions.data[a].uuid,m.getAlarmBySystem(t)},contextmenu:function(e){var n,i,r;e.preventDefault();var s=$(this.series.data).index(this);"Alarm"==t?(m.clickedLocation=e.point.series.userOptions.data[s].locationId,m.params.alarm.location.location=e.point.series.userOptions.data[s].locationId,m.params.alarm.location.severity=null===(n=e.point.series.userOptions.data[s].severity)||void 0===n?void 0:n.toLowerCase(),m.params.alarm.location.status=a.transform(e.point.series.userOptions.stack),m.deleteParams.alarm.location.location=!0,m.deleteParams.alarm.location.severity=!0,m.deleteParams.alarm.location.status=!0):(m.clickedEventLocation=e.point.series.userOptions.data[s].uuid,m.params.event.location.location=e.point.series.userOptions.data[s].uuid,m.params.event.location.severity=null===(i=e.point.series.userOptions.data[s].severity)||void 0===i?void 0:i.toLowerCase(),m.params.event.location.status=a.transform(e.point.series.userOptions.stack),m.deleteParams.event.location.location=!0),m.clickedSeverity=null===(r=e.point.series.userOptions.data[s].severity)||void 0===r?void 0:r.toLowerCase(),m.clickedAlarmTypeInBC=e.point.series.userOptions.stack;var l=m.chartOptionService.getUserFilters("alarm","location");l.Location=e.point.category,l.Severity=a.transform(e.point.series.userOptions.data[s].severity),l.Status=a.transform(e.point.series.userOptions.stack),m.gotoFullScreen("location",t,o)}},i=Object.assign({},i),"Both"===e.alarmType?(e.bothLocation=!0,"Alarm"===t?(e.bothLocationAlarm=!0,e.Highcharts.chart("location-alarm-container-both",i)):(e.bothLocationEvent=!0,e.Highcharts.chart("location-event-container-both",i)),setTimeout(function(){document.getElementById("both-locationwrapper").scrollIntoView({behavior:"smooth"})},300)):(e.Highcharts.chart("locationContainer",i),document.getElementById("dynamic-location-chart-div").scrollIntoView({behavior:"smooth"})),e.loaders.alarm.location=!1,e.loaders.event.location=!1,e.loading=!1},function(a){e.loaders.alarm.location=!1,e.loaders.event.location=!1,e.locationError=!0,e.locationErrorInfo=401==a.status?e.language["Access Denied"]:e.commonOrgService.pageErrorHandle(a),"Both"==e.alarmType&&(e.bothLocation=!0,e.loadLocationChart=!1,"Alarm"===t?e.bothLocationAlarm=!0:e.bothLocationEvent=!0,e.locationEventError=!0,e.locationEventErrorInfo=e.locationErrorInfo),i=null,e.loadLocationChart&&e.Highcharts.chart("locationContainer",i),e.loading=!1})},function(t){e.loaders.alarm.location=!1,e.loaders.event.location=!1,e.errors.location=e.commonOrgService.pageErrorHandle(t)})}},{key:"getAlarmBySystem",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=new s.rS;this.errors.system="";var n,i,o=this.filtersForm.value;n=o.category&&o.category.length&&-1===o.category.indexOf("All")?o.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,i=o.customCategory&&o.customCategory.length&&-1===o.customCategory.indexOf("None")?o.customCategory:void 0,o.eventName&&o.eventName.length&&-1===o.eventName.indexOf("All")||(o.eventName=void 0),t||(t=this.alarmType),o.severity&&"all"===o.severity.toLowerCase()&&(o.severity=void 0),"Both"===this.alarmType?(this.bothSystem=!0,"Alarm"===t?this.bothSystemAlarm=!0:this.bothSystemEvent=!0):this.loadSystemChart=!0;var r="",l="";"Alarm"==t?(r=this.clickedRegion?this.clickedRegion:this.regionName,l=this.clickedLocation,this.loaders.alarm.system=!0):(r=this.clickedEventRegion?this.clickedEventRegion:this.regionName,l=this.clickedEventLocation,this.loaders.event.system=!0);var c={region:r,location:l,alarmEventName:o.eventName?o.eventName:void 0,severity:o.severity,notificationType:t,historyReport:!0,category:n,fsan_serialnumber:o.fsan?o.fsan:void 0,customCategory:i,cco_ack:o.cco_ack,cco_shelv:o.cco_shelv};"Alarm"!==c.notificationType&&["customCategory","severity","cco_ack","cco_shelv"].forEach(function(e){delete c[e]}),o.startDate&&(o.endDate||(o.endDate=new Date),c.date="".concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.endDate,!0))),"Event"===c.notificationType&&(delete c.severity,delete c.status);var g="";for(var u in c)null!=c[u]&&(""!=g&&(g+="&"),g+=u+"="+encodeURIComponent(c[u]));var m,p=this;this.systemsSubject=this.http.get("".concat(d.N.API_BASE_URL,"nfa/systems?tenant=0&region=").concat(c.region,"&location=").concat(c.location,"&includeDeleted=true")).subscribe(function(n){var i={};n&&n.forEach(function(e){i[e.uuid]={name:e.name,isDeleted:e.isDeleted}}),"Alarm"==t?e.clickedSystemsObj=i:e.clickedEventSystemsObj=i,e.url="".concat(e.baseUrl,"alarmbySystem?").concat(g),e.systemSubscribe=e.http.get("".concat(e.url)).subscribe(function(n){e.systemError=!1,"Alarm"==t?(m=e.chartOptionService.systemChartOptions(n,!1,c,e.clickedLoctionsObj,e.clickedSystemsObj),e.data.alarm.system=e.chartOptionService.prepareAlarmCSVDataforSystem(n,e.clickedSystemsObj,"histoy",c),e.params.alarm.system=c):(m=e.chartOptionService.getEventOptions(n,"system",c,e.clickedEventLoctionsObj,e.clickedEventSystemsObj),e.data.event.system=e.chartOptionService.prepareEventCSVDataforSystem(n,e.clickedEventSystemsObj),e.params.event.system=c),m.plotOptions.series.point.events={click:function(e){var n,i,o,r=$(this.series.data).index(this);e.preventDefault();var s={};p.clickedSeverity=null===(n=e.point.series.userOptions.data[r].severity)||void 0===n?void 0:n.toLowerCase(),p.clickedAlarmTypeInBC=e.point.series.userOptions.stack;var l=p.chartOptionService.getUserFilters("alarm","system");l.System=e.point.category,l.Severity=a.transform(e.point.series.userOptions.data[r].severity),l.Status=a.transform(e.point.series.userOptions.stack),"Alarm"==t?(p.clickedSystem=e.point.series.userOptions.data[r].systemId,s=p.clickedLoctionsObj,p.params.alarm.system.system=e.point.series.userOptions.data[r].systemId,p.params.alarm.system.severity=null===(i=e.point.series.userOptions.data[r].severity)||void 0===i?void 0:i.toLowerCase(),p.params.alarm.system.status=a.transform(e.point.series.userOptions.stack),p.deleteParams.alarm.system.system=!0,p.deleteParams.alarm.system.severity=!0,p.deleteParams.alarm.system.status=!0,p.gotoFullScreen("system",t,s,p.clickedSystemsObj)):(p.clickedSystem=e.point.series.userOptions.data[r].uuid,s=p.clickedEventLoctionsObj,p.params.event.system.system=e.point.series.userOptions.data[r].uuid,p.params.event.system.severity=null===(o=e.point.series.userOptions.data[r].severity)||void 0===o?void 0:o.toLowerCase(),p.params.event.system.status=a.transform(e.point.series.userOptions.stack),p.deleteParams.event.system.system=!0,p.gotoFullScreen("system",t,s,p.clickedEventSystemsObj))},contextmenu:function(e){var n,i,o,r=$(this.series.data).index(this);e.preventDefault();var s={};p.clickedSeverity=null===(n=e.point.series.userOptions.data[r].severity)||void 0===n?void 0:n.toLowerCase(),p.clickedAlarmTypeInBC=e.point.series.userOptions.stack;var l=p.chartOptionService.getUserFilters("alarm","system");l.System=e.point.category,l.Severity=a.transform(e.point.series.userOptions.data[r].severity),l.Status=a.transform(e.point.series.userOptions.stack),"Alarm"==t?(p.clickedSystem=e.point.series.userOptions.data[r].systemId,s=p.clickedLoctionsObj,p.params.alarm.system.system=e.point.series.userOptions.data[r].systemId,p.params.alarm.system.severity=null===(i=e.point.series.userOptions.data[r].severity)||void 0===i?void 0:i.toLowerCase(),p.params.alarm.system.status=a.transform(e.point.series.userOptions.stack),p.deleteParams.alarm.system.system=!0,p.deleteParams.alarm.system.severity=!0,p.deleteParams.alarm.system.status=!0,p.gotoFullScreen("system",t,s,p.clickedSystemsObj)):(p.clickedSystem=e.point.series.userOptions.data[r].uuid,s=p.clickedEventLoctionsObj,p.params.event.system.system=e.point.series.userOptions.data[r].uuid,p.params.event.system.severity=null===(o=e.point.series.userOptions.data[r].severity)||void 0===o?void 0:o.toLowerCase(),p.params.event.system.status=a.transform(e.point.series.userOptions.stack),p.deleteParams.event.system.system=!0,p.gotoFullScreen("system",t,s,p.clickedEventSystemsObj))}},m=Object.assign({},m),"Both"===e.alarmType?(e.bothSystem=!0,"Alarm"===t?(e.bothSystemAlarm=!0,e.Highcharts.chart("system-alarm-container-both",m)):(e.bothSystemEvent=!0,e.Highcharts.chart("system-event-container-both",m)),setTimeout(function(){document.getElementById("both-systemwrapper").scrollIntoView({behavior:"smooth"})},300)):(e.Highcharts.chart("systemContainerByClick",m),document.getElementById("dynamic-system-chart-div").scrollIntoView({behavior:"smooth"})),e.loaders.alarm.system=!1,e.loaders.event.system=!1,e.loading=!1},function(a){e.loaders.alarm.system=!1,e.loaders.event.system=!1,e.systemError=!0,e.systemErrorInfo=401==a.status?e.language["Access Denied"]:e.commonOrgService.pageErrorHandle(a),"Both"===e.alarmType?(e.systemEventError=!0,e.systemEventErrorInfo=e.systemErrorInfo,e.bothSystem=!0,"Alarm"===t?(e.bothSystemAlarm=!0,e.Highcharts.chart("system-alarm-container-both",m)):(e.bothSystemEvent=!0,e.Highcharts.chart("system-event-container-both",m))):e.Highcharts.chart("systemContainerByClick",m),m=null,e.Highcharts.chart("systemContainerByClick",m),e.loading=!1})},function(t){e.errors.system=e.commonOrgService.pageErrorHandle(t),e.loaders.alarm.system=!1,e.loaders.event.system=!1})}},{key:"closeErrors",value:function(){this.errors={byday:"",severity:"",region:"",location:"",system:""}}},{key:"loadIntialData",value:function(){var e=this;if(!this.fsanvalidated("d")){var t=new s.rS;this.clickedLoctionsObj={},this.clickedSystemsObj={},this.clickedSeverity="",this.closeErrors();var a,n,i=this.filtersForm.value;if(this.fullScreen)return this.deleteFullScreenParams(),void this.applyFiltersInFullScreen();if(this.alarmType=i.alarmType,a=i.category&&i.category.length&&-1===i.category.indexOf("All")?i.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,n=i.customCategory&&i.customCategory.length&&-1===i.customCategory.indexOf("None")?i.customCategory:void 0,i.eventName&&i.eventName.length&&-1===i.eventName.indexOf("All")||(i.eventName=void 0),this.clickedLocation="",this.clickedEventLocation="",this.clickedRegion="",this.clickedEventRegion="",this.clickedSystem="",this.loadLocationChart=!1,this.loadSystemChart=!1,this.alarmsCount(),this.serverityError=!1,this.systemError=!1,this.regionError=!1,this.locationError=!1,this.severityChartData=null,this.systemChartData=null,this.locationChartData=null,this.regionChartData=null,this.severityChartOptions=null,this.systemChartOptions=null,this.locationChartOptions=null,this.regionChartOptions=null,this.loading=!0,this.applyDisabled=!0,"Both"==this.alarmType)return this.both=!0,void this.loadBothDataNew();this.both=!1;var o;o=this.systemName&&this.systemName.length&&-1===this.systemName.indexOf("All")?this.systemName.filter(function(e){return e&&e.length&&"All"!==e}):void 0,i.severity&&("all"===i.severity.toLowerCase()||"event"===i.alarmType.toLowerCase())&&(i.severity=void 0);var r={region:"All"!==this.regionName?this.regionName:void 0,location:"All"!==this.locationName?this.locationName:void 0,fsan_serialnumber:i.fsan,alarmEventName:i.eventName,severity:i.severity,notificationType:i.alarmType,historyReport:!0,category:a,customCategory:n,system:o,cco_ack:i.cco_ack,cco_shelv:i.cco_shelv};"Alarm"!==r.notificationType&&(delete r.cco_ack,delete r.cco_shelv),i.startDate&&(i.endDate||(i.endDate=new Date),r.date="".concat(this.dateUtilsService.getUtCMilliSecByDateObj(i.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(i.endDate,!0)));var l="";for(var d in r)null==r[d]||""==r[d]||(""!=l&&(l+="&"),l+=d+"="+encodeURIComponent(r[d]));var u={},m=["region"];if("Event"!==this.alarmType&&(m.push("severity"),m.push("byday")),this.loadRegionChart=!0,r.region){this.loadRegionChart=!1;var v=m.indexOf("region");m.splice(v,1),m.push("location"),this.loadLocationChart=!0}if(r.location){this.loadLocationChart=!1;var f=m.indexOf("location");m.splice(f,1),m.push("system"),this.loadSystemChart=!0}this.alarmTypesToExport=m,this.exportParams=r;var y,b=10;i.startDate&&(b=this.chartOptionService.getDateDiff(r)),y=b>5?"Hours":"Minutes";var C={byday:"".concat(this.baseUrl,"alarmbyInterval?").concat(l,"&interval=").concat(y),severity:"".concat(this.baseUrl,"alarmbySeverity?").concat(l),region:"".concat(this.baseUrl,"alarmbyRegion?").concat(l),location:"".concat(this.baseUrl,"alarmbyLocation?").concat(l),system:"".concat(this.baseUrl,"alarmbySystem?").concat(l)};m.forEach(function(t){var a=e.http.get("".concat(C[t])).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)}));u[t]=a});var x,A,Z=this;this.listObs=(0,h.D)(u).subscribe(function(a){if(e.loading=!1,a&&a.severity&&!a.severity["api-error"]){var n,o=a.severity.alarm?a.severity.alarm:a.severity;e.serverityError=!1,"Alarm"==e.alarmType?(e.exportAlarmCount=e.getCountByDataObj(a.severity),x=e.chartOptionService.severityChartOptions(o.raised,e.language["Alarms Raised"],"medium",r),n=e.chartOptionService.severityChartOptions(o.cleared,e.language["Alarms Cleared"],"medium",r),e.params.alarm.severity=r,e.data.alarm.severity=e.chartOptionService.prepareAlarmCSVDataforSeverity(o,"histoy",r)):(x=e.chartOptionService.severityEventChartOptions(o.raised,e.language["Events Raised"],"medium"),n=e.chartOptionService.severityEventChartOptions(o.cleared,e.language["Events Cleared"],"medium")),x.plotOptions.series.point.events={dblclick:function(a){a.preventDefault();var n=a.point.severity;e.clickedSeverity=n.toLowerCase(),e.params.alarm.severity.severity=n.toLowerCase(),e.deleteParams.alarm.severity.severity=!0,Z.chartOptionService.getUserFilters("alarm","severity").Severity=t.transform(n),e.gotoFullScreen("severity","Alarm")},contextmenu:function(a){a.preventDefault();var n=a.point.severity;e.clickedSeverity=n.toLowerCase(),e.params.alarm.severity.severity=n.toLowerCase(),e.deleteParams.alarm.severity.severity=!0,Z.chartOptionService.getUserFilters("alarm","severity").Severity=t.transform(n),e.gotoFullScreen("severity","Alarm")},click:function(a){a.preventDefault();var n=a.point.severity;e.clickedSeverity=n.toLowerCase(),e.params.alarm.severity.severity=n.toLowerCase(),e.deleteParams.alarm.severity.severity=!0,Z.chartOptionService.getUserFilters("alarm","severity").Severity=t.transform(n),e.gotoFullScreen("severity","Alarm")}},n.plotOptions.series.point.events={dblclick:function(a){a.preventDefault();var n=a.point.severity;e.clickedSeverity=n.toLowerCase(),e.params.alarm.severity.severity=n.toLowerCase(),e.deleteParams.alarm.severity.severity=!0,Z.chartOptionService.getUserFilters("alarm","severity").Severity=t.transform(n),e.gotoFullScreen("severity","Alarm")},contextmenu:function(a){a.preventDefault();var n=a.point.severity;e.clickedSeverity=n.toLowerCase(),e.params.alarm.severity.severity=n.toLowerCase(),e.deleteParams.alarm.severity.severity=!0,Z.chartOptionService.getUserFilters("alarm","severity").Severity=t.transform(n),e.gotoFullScreen("severity","Alarm")},click:function(a){a.preventDefault();var n=a.point.severity;e.clickedSeverity=n.toLowerCase(),e.params.alarm.severity.severity=n.toLowerCase(),e.deleteParams.alarm.severity.severity=!0,Z.chartOptionService.getUserFilters("alarm","severity").Severity=t.transform(n),e.gotoFullScreen("severity","Alarm")}},e.Highcharts.chart("severityContainer",x),e.Highcharts.chart("severityClearedContainer",n)}else if(a.severity&&a.severity["api-error"])e.params.alarm.severity=r,e.data.alarm.severity=e.chartOptionService.prepareAlarmCSVDataforSeverity({},"histoy",r),e.errors.severity=e.commonOrgService.pageErrorHandle(a.severity);else if(void 0!==a.severity){e.params.alarm.severity=r,e.data.alarm.severity=e.chartOptionService.prepareAlarmCSVDataforSeverity({},"histoy",r);var s=e.chartOptionService.severityChartOptions([],e.language["Alarms Raised"],"medium",r);e.Highcharts.chart("severityContainer",s);var l=e.chartOptionService.severityChartOptions([],e.language["Alarms Cleared"],"medium",r);e.Highcharts.chart("severityClearedContainer",l)}if(a&&void 0!==a.region&&a.region&&!a.region["api-error"]){e.loadRegionChart=!0;var d=a.region;e.regionError=!1,"Alarm"==e.alarmType?(A=e.chartOptionService.regionChartOptions(d,!1,r),e.data.alarm.region=e.chartOptionService.prepareAlarmCSVDataforRegion(d,"histoy",r),e.params.alarm.region=r):(A=e.chartOptionService.getEventOptions(d,"region",r),e.data.event.region=e.chartOptionService.prepareEventCSVDataforRegion(d),e.params.event.region=r),A.plotOptions.series.point.events={click:function(e){var t=$(this.series.data).index(this);"Alarm"==Z.alarmType?Z.clickedRegion=e.point.series.userOptions.data[t].regionId:Z.clickedEventRegion=e.point.series.userOptions.data[t].uuid,Z.getChartByLocation()},contextmenu:function(e){var a,n,o=$(this.series.data).index(this);e.preventDefault(),Z.clickedAlarmTypeInBC=e.point.series.userOptions.stack,"Alarm"==Z.alarmType?(Z.clickedRegion=e.point.series.userOptions.data[o].regionId,Z.params.alarm.region.region=e.point.series.userOptions.data[o].regionId,Z.params.alarm.region.severity=null===(a=e.point.series.userOptions.data[o].severity)||void 0===a?void 0:a.toLowerCase(),Z.params.alarm.region.status=t.transform(e.point.series.userOptions.stack),Z.deleteParams.alarm.region.region=!0,i.severity||(Z.deleteParams.alarm.region.severity=!0),Z.deleteParams.alarm.region.status=!0):(Z.clickedEventRegion=e.point.series.userOptions.data[o].uuid,Z.params.event.region.region=e.point.series.userOptions.data[o].uuid,Z.deleteParams.event.region.region=!0),Z.clickedSeverity=null===(n=e.point.series.userOptions.data[o].severity)||void 0===n?void 0:n.toLowerCase();var r=Z.chartOptionService.getUserFilters("alarm","region");r.Region=e.point.category,r.Severity=t.transform(e.point.series.userOptions.data[o].severity),r.Status=t.transform(e.point.series.userOptions.stack),Z.gotoFullScreen("region","Alarm"==Z.alarmType?"Alarm":"Event")}},A=Object.assign({},A),e.loadLocationChart||e.Highcharts.chart("regionContainer",A)}else a.region&&a.region["api-error"]?("Alarm"==e.alarmType?(e.data.alarm.region=e.chartOptionService.prepareAlarmCSVDataforRegion([],"histoy",r),e.params.alarm.region=r):(e.data.event.region=e.chartOptionService.prepareEventCSVDataforRegion([]),e.params.event.region=r),e.errors.region=e.commonOrgService.pageErrorHandle(a.region)):("Alarm"==e.alarmType?(e.data.alarm.region=e.chartOptionService.prepareAlarmCSVDataforRegion([],"histoy",r),e.params.alarm.region=r):(e.data.event.region=e.chartOptionService.prepareEventCSVDataforRegion([]),e.params.event.region=r),void 0!==a.region&&(A=e.chartOptionService.regionChartOptions([],!0,r),e.Highcharts.chart("regionContainer",A)));if(a&&void 0!==a.location&&a.location&&!a.location["api-error"]?(e.locationError=!1,"Alarm"==e.alarmType?(e.locationChartOptions=e.chartOptionService.locationChartOptions(a.location,!1,r),e.data.alarm.location=e.chartOptionService.prepareAlarmCSVDataforLocation(a.location,{},"histoy",r),e.params.alarm.location=r):(e.locationChartOptions=e.chartOptionService.getEventOptions(a.location,"location",r),e.data.event.location=e.chartOptionService.prepareEventCSVDataforLocation(a.location),e.params.event.location=r),e.locationChartOptions.plotOptions.series.point.events={click:function(e){var t=$(this.series.data).index(this);"Alarm"==Z.alarmType?Z.clickedLocation=e.point.series.userOptions.data[t].locationId:Z.clickedEventLocation=e.point.series.userOptions.data[t].uuid,Z.getAlarmBySystem()},contextmenu:function(e){var a,n,o=$(this.series.data).index(this);e.preventDefault(),"Alarm"==Z.alarmType?(Z.clickedLocation=e.point.series.userOptions.data[o].locationId,Z.params.alarm.location.location=e.point.series.userOptions.data[o].locationId,Z.params.alarm.location.severity=null===(a=e.point.series.userOptions.data[o].severity)||void 0===a?void 0:a.toLowerCase(),Z.params.alarm.location.status=t.transform(e.point.series.userOptions.stack),i.location&&-1!==i.location.indexOf("All")&&(Z.deleteParams.alarm.location.location=!0),i.severity||(Z.deleteParams.alarm.location.severity=!0),Z.deleteParams.alarm.location.status=!0):(Z.clickedEventLocation=e.point.series.userOptions.data[o].uuid,Z.params.event.location.location=e.point.series.userOptions.data[o].uuid,i.location&&-1!==i.location.indexOf("All")&&(Z.deleteParams.event.location.location=!0)),Z.clickedSeverity=null===(n=e.point.series.userOptions.data[o].severity)||void 0===n?void 0:n.toLowerCase(),Z.clickedAlarmTypeInBC=e.point.series.userOptions.stack;var r=Z.chartOptionService.getUserFilters("alarm","location");r.Location=e.point.category,r.Severity=t.transform(e.point.series.userOptions.data[o].severity),r.Status=t.transform(e.point.series.userOptions.stack),Z.gotoFullScreen("location","Alarm"==Z.alarmType?"Alarm":"Event")}},e.locationChartOptions=Object.assign({},e.locationChartOptions),e.loadLocationChart&&e.Highcharts.chart("locationContainer",e.locationChartOptions)):a.location&&a.location["api-error"]?("Alarm"==e.alarmType?(e.data.alarm.location=e.chartOptionService.prepareAlarmCSVDataforLocation([],{},"histoy",r),e.params.alarm.location=r):(e.data.event.location=e.chartOptionService.prepareEventCSVDataforLocation([]),e.params.event.location=r),e.errors.location=e.commonOrgService.pageErrorHandle(a.location)):void 0!==a.location&&("Alarm"==e.alarmType?(e.data.alarm.location=e.chartOptionService.prepareAlarmCSVDataforLocation([],{},"histoy",r),e.params.alarm.location=r):(e.data.event.location=e.chartOptionService.prepareEventCSVDataforLocation([]),e.params.event.location=r),e.locationChartOptions=e.chartOptionService.locationChartOptions([],!0,r),e.Highcharts.chart("locationContainer",e.locationChartOptions)),a&&void 0!==a.system&&a.system&&!a.system["api-error"]?(e.loadSystemChart=!0,e.systemError=!1,"Alarm"==e.alarmType?(e.systemChartOptions=e.chartOptionService.systemChartOptions(a.system,!1,r),e.data.alarm.system=e.chartOptionService.prepareAlarmCSVDataforSystem(a.system,{},"histoy",r),e.params.alarm.system=r):(e.systemChartOptions=e.chartOptionService.getEventOptions(a.system,"system",r),e.data.event.system=e.chartOptionService.prepareEventCSVDataforSystem(a.system),e.params.event.system=r),e.systemChartOptions.plotOptions.series.point.events={click:function(e){var a,n,o=$(this.series.data).index(this);"Alarm"==Z.alarmType?(Z.clickedSystem=e.point.series.userOptions.data[o].systemId,Z.params.alarm.system.system=e.point.series.userOptions.data[o].systemId,Z.params.alarm.system.severity=null===(a=e.point.series.userOptions.data[o].severity)||void 0===a?void 0:a.toLowerCase(),Z.params.alarm.system.status=t.transform(e.point.series.userOptions.stack),i.system&&-1!==i.system.indexOf("All")&&(Z.deleteParams.alarm.system.system=!0),i.severity||(Z.deleteParams.alarm.system.severity=!0),Z.deleteParams.alarm.system.status=!0):(Z.clickedSystem=e.point.series.userOptions.data[o].uuid,Z.params.event.system.system=e.point.series.userOptions.data[o].uuid,i.system&&-1!==i.system.indexOf("All")&&(Z.deleteParams.event.system.system=!0)),Z.clickedSeverity=null===(n=e.point.series.userOptions.data[o].severity)||void 0===n?void 0:n.toLowerCase(),Z.clickedAlarmTypeInBC=e.point.series.userOptions.stack,e.preventDefault();var r=Z.chartOptionService.getUserFilters("alarm","system");r.System=e.point.category,r.Severity=t.transform(e.point.series.userOptions.data[o].severity),r.Status=t.transform(e.point.series.userOptions.stack),Z.gotoFullScreen("system","Alarm"==Z.alarmType?"Alarm":"Event")},contextmenu:function(e){var a,n,o=$(this.series.data).index(this);e.preventDefault(),"Alarm"==Z.alarmType?(Z.clickedSystem=e.point.series.userOptions.data[o].systemId,Z.params.alarm.system.system=e.point.series.userOptions.data[o].systemId,Z.params.alarm.system.severity=null===(a=e.point.series.userOptions.data[o].severity)||void 0===a?void 0:a.toLowerCase(),Z.params.alarm.system.status=t.transform(e.point.series.userOptions.stack),i.system&&-1!==i.system.indexOf("All")&&(Z.deleteParams.alarm.system.system=!0),Z.deleteParams.alarm.system.severity=!0,Z.deleteParams.alarm.system.status=!0):(Z.clickedSystem=e.point.series.userOptions.data[o].uuid,Z.params.event.system.system=e.point.series.userOptions.data[o].uuid,i.system&&-1!==i.system.indexOf("All")&&(Z.deleteParams.event.system.system=!0)),Z.clickedSeverity=null===(n=e.point.series.userOptions.data[o].severity)||void 0===n?void 0:n.toLowerCase(),Z.clickedAlarmTypeInBC=e.point.series.userOptions.stack;var r=Z.chartOptionService.getUserFilters("alarm","system");r.System=e.point.category,r.Severity=t.transform(e.point.series.userOptions.data[o].severity),r.Status=t.transform(e.point.series.userOptions.stack),Z.gotoFullScreen("system","Alarm"==Z.alarmType?"Alarm":"Event")}},e.Highcharts.chart("systemContainerByClick",e.systemChartOptions),document.getElementById("dynamic-system-chart-div").scrollIntoView({behavior:"smooth"})):a.system&&a.system["api-error"]?("Alarm"==e.alarmType?(e.data.alarm.system=e.chartOptionService.prepareAlarmCSVDataforSystem([],{},"histoy",r),e.params.alarm.system=r):(e.data.event.system=e.chartOptionService.prepareEventCSVDataforSystem([]),e.params.event.system=r),e.errors.system=e.commonOrgService.pageErrorHandle(a.system)):void 0!==a.system&&("Alarm"==e.alarmType?(e.data.alarm.system=e.chartOptionService.prepareAlarmCSVDataforSystem([],{},"histoy",r),e.params.alarm.system=r):(e.data.event.system=e.chartOptionService.prepareEventCSVDataforSystem([]),e.params.event.system=r),e.systemChartOptions=e.chartOptionService.systemChartOptions([],!0,r),e.Highcharts.chart("systemContainerByClick",e.systemChartOptions)),a&&a.byday&&"Alarm"===e.alarmType&&a.byday&&!a.byday["api-error"]){var g=e.chartOptionService.getLineChartOptionsNew(a.byday,!1,r,i);e.data.alarm.byday=e.chartOptionService.prepareAlarmCSVDataforDay(a.byday,"",r),c.setOptions({lang:{rangeSelectorZoom:e.language.duration}}),e.Highcharts.stockChart("event-alarm-line-chart-container",g)}else if(a.byday&&a.byday["api-error"])e.data.alarm.byday=e.chartOptionService.prepareAlarmCSVDataforDay([]),e.errors.byday=e.commonOrgService.pageErrorHandle(a.byday);else if(void 0!==a.byday){e.data.alarm.byday=e.chartOptionService.prepareAlarmCSVDataforDay([]);var u=e.chartOptionService.getLineChartOptionsNew([],!0,r,i);c.setOptions({lang:{rangeSelectorZoom:e.language.duration}}),e.Highcharts.chart("event-alarm-line-chart-container",u)}e.loading=!1},function(t){e.pageErrorHandle(t)})}}},{key:"gotoFullScreen",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.loading=!0,this.fullscreenParams=[e,t,n,i],!Object.keys(n).length&&(Object.keys(this.clickedLoctionsObj).length||Object.keys(this.clickedEventLoctionsObj).length)&&(n=t&&"event"===t.toLowerCase()?this.clickedEventLoctionsObj:this.clickedLoctionsObj),!Object.keys(i).length&&(Object.keys(this.clickedSystemsObj).length||Object.keys(this.clickedEventSystemsObj).length)&&(i=t&&"event"===t.toLowerCase()?this.clickedEventSystemsObj:this.clickedSystemsObj),this.clickOnClearedAlarms=!1,this.clickOnRaisedAlarms=!1;var o={alarm:{severity:this.language["Select an alarm to view all instances of that alarm for that severity"],region:this.language["Select an alarm to view all instances of that alarm for that region"],location:this.language["Select an alarm to view all instances of that alarm for that location"],system:this.language["Select an alarm to view all instances of that alarm for that system"]},event:{region:this.language["Select an event to view all instances of that event for that region"],location:this.language["Select an event to view all instances of that event for that location"],system:this.language["Select an event to view all instances of that event for that system"]}};this.fullScreenChartName={alarmevent:"".concat(this.language["Alarm by Severity"]),severity:"".concat(this.language["Alarm by Severity"]),region:"".concat(this.language["Alarm by Region"]),location:"".concat(this.language["Alarm by Location"]),system:"".concat(this.language["Alarm by System"])}[e],this.chartTypeInFS=e,this.clickedAlarmType=t||"Alarm",this.filtersDataInNS=this.filtersForm.value,this.initLoad=!1,this.showTable=!1;var r=this.params[null==t?void 0:t.toLowerCase()][e];this.both&&(r.notificationType=t);var s="";for(var l in r)null==r[l]||""==r[l]||"Event"===r.notificationType&&-1!==this.skipParamsForEvents.indexOf(l)||(""!=s&&(s+="&"),s+=l+"="+encodeURIComponent(r[l]));var c={},d=[],u={alarmevent:"".concat(this.baseUrl,"alarmbyAlarmEvent?").concat(s),severity:"".concat(this.baseUrl,"alarmbySeverity?").concat(s),region:"".concat(this.baseUrl,"alarmbyRegion?").concat(s),location:"".concat(this.baseUrl,"alarmbyLocation?").concat(s),system:"".concat(this.baseUrl,"alarmbySystem?").concat(s)};d.push("severity"===e?"alarmevent":e),"Event"!==t&&(d=["alarmevent"]),d.forEach(function(e){var t=a.http.get("".concat(u[e])).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)}));c[e]=t}),this.closeErrors(),this.listObs=(0,h.D)(c).subscribe(function(s){var l=a;a.loading=!1,a.fullScreen=!0;var c=0;if("object"==typeof s.alarmevent&&!s.alarmevent&&(s.alarmevent=[]),a.clickedAlarmTypeInBC)s&&"object"==typeof s.alarmevent&&!s.alarmevent["api-error"]?(a.count=a.getCountByData(s.alarmevent),a.count||(s.alarmevent=[]),a.showSevertiyFullChart=!0,a.serverityError=!1,a.fullScrenSubHeading=o[t.toLowerCase()][e.toLowerCase()],setTimeout(function(){if("raised"===a.clickedAlarmTypeInBC){var n=a.chartOptionService.getPieChartOptionsForFS(s.alarmevent,"raised",t,e);n.plotOptions.series.point.events={click:function(e){if(a.clickOnRaisedAlarms=!0,a.clickedSeverity=a.getSeverityByObj(e.point.extraData),a.clickOnClearedAlarms&&(a.clickOnClearedAlarms=!1,a.searchTerm==e.point.name))return a.initLoad=!1,a.showTable=!1,void setTimeout(function(){a.showTable=!0,a.count=0,a.showNewPagination?a.getListSub(e.point.name):a.getList("severity",!1)},500);a.searchTerm!=e.point.name&&(a.searchTerm=e.point.name,a.initLoad=!1,a.showTable=!1,setTimeout(function(){a.showTable=!0,a.showNewPagination?a.getListSub(e.point.name):a.getList("severity",t,!1)},500))}},a.Highcharts.chart("fullChartAlarmEventContainer",n)}else{var i=a.chartOptionService.getPieChartOptionsForFS(s.alarmevent,"cleared",t,e);i.plotOptions.series.point.events={click:function(e){if(a.clickedSeverity="CLEAR",a.clickOnClearedAlarms=!0,a.clickOnRaisedAlarms&&(a.clickOnRaisedAlarms=!1,a.searchTerm==e.point.name))return a.initLoad=!1,a.showTable=!1,void setTimeout(function(){a.showTable=!0,a.count=0,a.showNewPagination?a.getListSub(e.point.name):a.getList("severity",!1)},500);a.searchTerm!=e.point.name&&(a.searchTerm=e.point.name,a.initLoad=!1,a.showTable=!1,setTimeout(function(){a.showTable=!0,a.showNewPagination?a.getListSub(e.point.name):a.getList("severity",t,!1)},500))}},a.Highcharts.chart("fullChartAlarmEventContainer",i)}},500),a.showTable=!0,a.initLoad?a.redraw():a.getList(e,t)):s.alarmevent&&(a.errors.alarmevent=a.commonOrgService.pageErrorHandle(s.alarmevent));else{if(s&&"object"==typeof s.alarmevent&&!s.alarmevent["api-error"]?(a.count=a.getCountByData(s.alarmevent),a.count||(s.alarmevent=[]),a.showSevertiyFullChart=!0,a.fullScrenSubHeading=o[t.toLowerCase()][e.toLowerCase()],a.serverityError=!1,setTimeout(function(){var n=a.chartOptionService.getPieChartOptionsForFS(s.alarmevent,r.status?r.status.toLowerCase():"raised",t,e);n.plotOptions.series.point.events={click:function(e){if(a.clickedAlarmTypeInBC="",a.clickOnRaisedAlarms=!0,a.clickOnClearedAlarms&&(a.clickOnClearedAlarms=!1,a.searchTerm==e.point.name))return a.initLoad=!1,a.showTable=!1,void setTimeout(function(){a.showTable=!0,a.count=0,a.showNewPagination?a.getListSub(e.point.name):a.getList("severity",t,!1)},500);a.searchTerm!=e.point.name&&(a.searchTerm=e.point.name,a.initLoad=!1,a.showTable=!1,setTimeout(function(){a.showTable=!0,a.showNewPagination?a.getListSub(e.point.name):a.getList("severity",t,!1)},500))}};var i=a.chartOptionService.getPieChartOptionsForFS(s.alarmevent,"cleared",t,e);i.plotOptions.series.point.events={click:function(e){if(a.clickedAlarmTypeInBC="",a.clickOnClearedAlarms=!0,a.clickOnRaisedAlarms&&(a.clickOnRaisedAlarms=!1,a.searchTerm==e.point.name))return a.initLoad=!1,a.showTable=!1,void setTimeout(function(){a.showTable=!0,a.count=0,a.showNewPagination?a.getListSub(e.point.name):a.getList("severity",t,!1)},500);a.searchTerm!=e.point.name&&(a.searchTerm=e.point.name,a.initLoad=!1,a.showTable=!1,setTimeout(function(){a.showTable=!0,a.showNewPagination?a.getListSub(e.point.name):a.getList("severity",t,!1)},500))}},a.Highcharts.chart("fullChartContainer",n),a.Highcharts.chart("fullChartSeverityClearedContainer",i)},500),a.showTable=!0,a.initLoad?a.redraw():a.getList(e,t)):s.alarmevent&&(a.getListSub(),a.errors.alarmevent=a.commonOrgService.pageErrorHandle(s.alarmevent)),s&&void 0!==s.region){a.both?(a.fullScreenChartName="Alarm"==t?a.language["Alarm by Region"]:a.language["Event by Region"],a.fullScrenSubHeading=o[t.toLowerCase()][e.toLowerCase()]):(a.fullScrenSubHeading=o[a.alarmType.toLowerCase()][e.toLowerCase()],a.fullScreenChartName="Alarm"==a.alarmType?a.language["Alarm by Region"]:a.language["Event by Region"]),a.loadRegionChart=!0,a.regionChartData=s.region,c=a.getCountByData(s.region,t),a.count=c,a.showTable=!0,a.initLoad?a.redraw():a.getList("region",t),a.regionError=!1;var d={};"Event"===r.notificationType?(d=a.chartOptionService.getEventOptions(a.regionChartData,"region",r,{},{},!0)).plotOptions.series.point.events={click:function(e){var a=$(this.series.data).index(this);l.generateEvent(r,e,a,t,"region",l)},contextmenu:function(e){var a=$(this.series.data).index(this);l.generateEvent(r,e,a,t,"region",l)}}:d=a.chartOptionService.regionChartOptions(a.regionChartData,!1),d=Object.assign({},d),a.Highcharts.chart("fullChartContainer",d)}if(s&&void 0!==s.location){a.both?(a.fullScrenSubHeading=o[t.toLowerCase()][e.toLowerCase()],a.fullScreenChartName="Alarm"==t?a.language["Alarm by Location"]:a.language["Event by Location"]):(a.fullScrenSubHeading=o[t.toLowerCase()][e.toLowerCase()],a.fullScreenChartName="Alarm"==a.alarmType?a.language["Alarm by Location"]:a.language["Event by Location"]),a.locationChartData=s.location,c=a.getCountByData(s.location,t),a.count=c,a.showTable=!0,a.initLoad?a.redraw():a.getList("location",t),a.locationError=!1;var g=[];"Event"===r.notificationType?(g=a.chartOptionService.getEventOptions(a.locationChartData,"location",r,n,{},!0)).plotOptions.series.point.events={click:function(e){var a=$(this.series.data).index(this);l.generateEvent(r,e,a,t,"location",l)},contextmenu:function(e){var a=$(this.series.data).index(this);l.generateEvent(r,e,a,t,"location",l)}}:g=a.chartOptionService.locationChartOptions(a.locationChartData,!1,r,n),a.locationChartOptions=Object.assign({},g),a.Highcharts.chart("fullChartContainer",g)}if(s&&void 0!==s.system){a.both?(a.fullScrenSubHeading=o[t.toLowerCase()][e.toLowerCase()],a.fullScreenChartName="Alarm"===t?a.language["Alarm by System"]:a.language["Event by System"]):(a.fullScrenSubHeading=o[t.toLowerCase()][e.toLowerCase()],a.fullScreenChartName="Alarm"===a.alarmType?a.language["Alarm by System"]:a.language["Event by System"]),c=a.getCountByData(s.system,t),a.count=c,a.showTable=!0,a.initLoad?a.redraw():a.getList("system",t),a.systemChartData=s.system,a.systemError=!1;var u=[];"Event"===r.notificationType?(u=a.chartOptionService.getEventOptions(a.systemChartData,"system",r,n,i,!0)).plotOptions.series.point.events={click:function(e){var a=$(this.series.data).index(this);l.generateEvent(r,e,a,t,"system",l)},contextmenu:function(e){var a=$(this.series.data).index(this);l.generateEvent(r,e,a,t,"system",l)}}:u=a.chartOptionService.systemChartOptions(a.systemChartData,!1,r,n,i),a.Highcharts.chart("fullChartContainer",u)}a.loading=!1}},function(e){a.pageErrorHandle(e),a.getListSub()})}},{key:"getList",value:function(e,t,a){var n=this;if(this.showNewPagination)this.getListSub();else if(this.fullScreen){var i,o,r=this.filtersForm.value,s={};if(a)i=r.category&&r.category.length&&-1===r.category.indexOf("All")?r.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,o=r.customCategory&&r.customCategory.length&&-1===r.customCategory.indexOf("None")?r.customCategory:void 0,r.eventName&&r.eventName.length&&-1===r.eventName.indexOf("All")||(r.eventName=void 0),"All"===this.regionName&&(this.regionName=void 0),"All"===this.locationName&&(this.locationName=void 0),"All"===this.systemName&&(this.systemName=void 0),"All"===r.severity&&(r.severity=void 0),"Alarm"!==(s={region:this.regionName,location:this.locationName,system:this.systemName,fsan_serialnumber:r.fsan?r.fsan:"",severity:this.clickedSeverity||r.severity,historyReport:!0,category:i,notificationType:t||r.alarmType,alarmEventName:r.eventName?r.eventName:void 0,customCategory:o,cco_ack:r.cco_ack,cco_shelv:r.cco_shelv}).notificationType&&(delete s.cco_ack,delete s.cco_shelv),r.startDate&&(r.endDate||(r.endDate=new Date),s.date="".concat(this.dateUtilsService.getUtCMilliSecByDateObj(r.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(r.endDate,!0))),"Event"===s.notificationType&&(delete s.severity,delete s.status),"severity"===e&&((this.clickedRegion||this.clickedEventRegion)&&delete s.region,(this.clickedLocation||this.clickedEventLocation)&&delete s.location,this.clickedSystem&&delete s.system),"region"===e&&(delete s.region,delete s.location,delete s.system),"location"===e&&(delete s.location,delete s.system);else s=this.params[null==t?void 0:t.toLowerCase()][e];this.clickOnRaisedAlarms&&(s.status="Raised"),"cleared"===this.clickedAlarmTypeInBC?s.status="Cleared":"raised"===this.clickedAlarmTypeInBC?s.status="Raised":delete s.status;var l="";for(var c in s)null==s[c]||""==s[c]||"Event"===s.notificationType&&-1!==this.skipParamsForEvents.indexOf(c)||(""!=l&&(l+="&"),l+=c+"="+encodeURIComponent(s[c]));this.list=[];var d=this;this.dtOptions={pagingType:"full_numbers",pageLength:10,serverSide:!0,processing:!1,lengthChange:!1,ordering:!1,dom:"tipr",ajax:function(e,t){var a="".concat(n.baseUrl,"notifications?from=").concat(e.start,"&size=").concat(e.length,"&").concat(l);d.searchTerm&&(a+="&searchField=alarmEventName&searchValue=".concat(d.searchTerm)),e.search.value&&(a="".concat(n.baseUrl,"notifications?from=").concat(e.start,"&size=").concat(e.length,"&").concat(l,"&alarmEventName=").concat(e.search.value)),d.http.get(a).subscribe(function(a){var i=[];a&&a.alarms&&a.alarms.forEach(function(e){var t,a;e.subject.deviceName||(e.subject.deviceName=n.systemsObj[e.subject.deviceId]),e.subject.deviceName=null===(t=e.subject.deviceName)||void 0===t?void 0:t.replace("device=",""),e.subject.deviceName=null===(a=e.subject.deviceName)||void 0===a?void 0:a.replace("DEVICE=",""),e.subject.resourceForUI=n.issueService.generateResourceForUI(e,"EXA"===e.type),i.push(e)}),n.list=a.alarms,n.initLoad=!0,n.loading=!1,t({recordsTotal:a.totalCount?a.totalCount:0,recordsFiltered:e.search.value&&a?a.length:a.totalCount?a.totalCount:0,data:[]})})},drawCallback:function(e){e._iRecordsDisplay<=e._iDisplayLength&&$(e.nTableWrapper).find("#users-table_last").addClass("disabled")}},this.tableLanguageOptions()}}},{key:"getCountByData",value:function(e,t){var a=0;return e&&e.length&&e.forEach(function(e){if("Event"===t)a+=e&&e.event&&null!=e.event.count?e.event.count:0;else{var n=e.alarm&&e.alarm.cleared?Object.keys(e.alarm.cleared):e.cleared?Object.keys(e.cleared):[];n.forEach(function(t){a+=e.alarm&&null!=typeof e.alarm.cleared[t]?e.alarm.cleared[t]:e.cleared[t]}),(n=e.alarm&&e.alarm.raised?Object.keys(e.alarm.raised):e.raised?Object.keys(e.raised):[]).forEach(function(t){a+=e.alarm&&null!=typeof e.alarm.raised[t]?e.alarm.raised[t]:e.raised[t]})}}),a}},{key:"getCountByDataObj",value:function(e){var t=0;return e&&e.alarm&&(e=e.alarm),e&&Object.keys(e).length&&Object.keys(e).forEach(function(a){var n=e[a]?Object.keys(e[a]):[];null==n||n.forEach(function(n){t+=e[a][n]})}),t}},{key:"applyFiltersInFullScreen",value:function(){var e,t=this;this.setSearchQuery(""),this.searchTerm="";var a={alarm:{severity:this.language["Select an alarm to view all instances of that alarm for that severity"],region:this.language["Select an alarm to view all instances of that alarm for that region"],location:this.language["Select an alarm to view all instances of that alarm for that location"],system:this.language["Select an alarm to view all instances of that alarm for that system"]},event:{region:this.language["Select an event to view all instances of that event for that region"],location:this.language["Select an event to view all instances of that event for that location"],system:this.language["Select an event to view all instances of that event for that system"]}};this.alarmsCount(),this.clickedAlarmTypeInBC="",this.clickOnClearedAlarms=!1,this.clickOnRaisedAlarms=!1,this.clickedRegion="",this.clickedEventRegion="",this.clickedLocation="",this.clickedEventLocation="",this.clickedSystem="",this.clickedSeverity="",this.applyFiltersInFS=!0;var n,i,o=this.filtersForm.value,r="Alarm";"Both"===o.alarmType&&"Event"===this.clickedAlarmType?(this.alarmType="Event",r="Event"):"Both"===o.alarmType?(this.alarmType="Alarm",r="Alarm",this.clickedAlarmType="Alarm"):(this.alarmType=o.alarmType,r=o.alarmType,this.clickedAlarmType=o.alarmType),n=o.category&&o.category.length&&-1===o.category.indexOf("All")?o.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,i=o.customCategory&&o.customCategory.length&&-1===o.customCategory.indexOf("None")?o.customCategory:void 0,o.eventName&&o.eventName.length&&-1===o.eventName.indexOf("All")||(o.eventName=void 0),this.loading=!0,this.initLoad=!1,this.showTable=!1,this.showSevertiyFullChart=!1;this.systemName&&this.systemName.length&&-1===this.systemName.indexOf("All")&&this.systemName.filter(function(e){return e&&e.length&&"All"!==e}),"All"===this.regionName&&(this.regionName=void 0),"All"===this.locationName&&(this.locationName=void 0),"All"===this.systemName&&(this.systemName=void 0),o.severity&&"all"===o.severity.toLowerCase()&&(o.severity=void 0);var s={region:this.regionName,location:this.locationName,system:this.systemName,fsan_serialnumber:o.fsan?o.fsan:void 0,alarmEventName:o.eventName?o.eventName:void 0,severity:o.severity,notificationType:r,historyReport:!0,category:n,customCategory:i,cco_ack:o.cco_ack,cco_shelv:o.cco_shelv};"Alarm"!==s.notificationType&&(null===(e=this.skipParamsForEvents)||void 0===e||e.forEach(function(e){s[e]&&delete s[e]})),o.startDate&&(o.endDate||(o.endDate=new Date),s.date="".concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(o.endDate,!0)));var l="";for(var c in s)null!=s[c]&&(""!=l&&(l+="&"),l+=c+"="+encodeURIComponent(s[c]));var d={},u=["severity","region"];if(this.loadRegionChart=!0,"Event"===this.alarmType||"Both"===o.alarmType&&"Event"===this.clickedAlarmType){this.loadRegionChart=!1,this.alarmType="Event";var m=u.indexOf("severity");u.splice(m,1)}if(s.region){this.loadRegionChart=!1;var v=u.indexOf("severity");-1!==v&&u.splice(v,1),v=u.indexOf("region"),u.splice(v,1),u.push("location"),this.loadLocationChart=!0}if(s.location){this.loadLocationChart=!1;var f=u.indexOf("location");u.splice(f,1),u.push("system"),this.loadSystemChart=!0}if("Event"!==r){var y={alarmevent:"".concat(this.language["Alarm by Severity"]),severity:"".concat(this.language["Alarm by Severity"]),region:"".concat(this.language["Alarm by Region"]),location:"".concat(this.language["Alarm by Location"]),system:"".concat(this.language["Alarm by System"])};2==u.length?(this.fullScreenChartName=y[u[0]],this.fullScrenSubHeading=a[s.notificationType.toLowerCase()][u[0]]):(this.fullScreenChartName=y[u[u.length-1]],this.fullScrenSubHeading=a[s.notificationType.toLowerCase()][u[u.length-1]]),u=["alarmevent"]}var b={alarmevent:"".concat(this.baseUrl,"alarmbyAlarmEvent?").concat(l),severity:"".concat(this.baseUrl,"alarmbySeverity?").concat(l),region:"".concat(this.baseUrl,"alarmbyRegion?").concat(l),location:"".concat(this.baseUrl,"alarmbyLocation?").concat(l),system:"".concat(this.baseUrl,"alarmbySystem?").concat(l)};u.forEach(function(e){var a=t.http.get("".concat(b[e])).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)}));d[e]=a}),this.closeErrors(),this.listObs=(0,h.D)(d).subscribe(function(e){t.loading=!1,t.fullScreen=!0;var n,i,o,l=0,c=t;if("object"==typeof e.alarmevent&&!e.alarmevent&&(e.alarmevent=[]),e&&"object"==typeof e.alarmevent&&!e.alarmevent["api-error"]?(t.count=t.getCountByData(e.alarmevent),t.params.alarm.severity=s,t.count||(e.alarmevent=[]),t.showSevertiyFullChart=!0,t.serverityError=!1,t.chartOptionService.getSubTitle(s,{},{},"alarm","severity"),setTimeout(function(){var a=t.chartOptionService.getPieChartOptionsForFS(e.alarmevent,"raised","alarm","severity");a.plotOptions.series.point.events={click:function(e){if(t.clickOnRaisedAlarms=!0,t.clickedSeverity=t.getSeverityByObj(e.point.extraData),t.clickOnClearedAlarms&&(t.clickOnClearedAlarms=!1,t.searchTerm==e.point.name))return t.initLoad=!1,t.showTable=!1,void setTimeout(function(){t.showTable=!0,t.count=0,t.showNewPagination?t.getListSub(e.point.name):t.search(e.point.name)},500);t.searchTerm!=e.point.name&&(t.searchTerm=e.point.name,t.initLoad=!1,t.showTable=!1,t.showNewPagination?t.getListSub(e.point.name):t.search(e.point.name))}};var n=t.chartOptionService.getPieChartOptionsForFS(e.alarmevent,"cleared","alarm","severity");n.plotOptions.series.point.events={click:function(e){if(t.clickedSeverity="CLEAR",t.clickOnClearedAlarms=!0,t.clickOnRaisedAlarms&&(t.clickOnRaisedAlarms=!1,t.searchTerm==e.point.name))return t.initLoad=!1,t.showTable=!1,void setTimeout(function(){t.showTable=!0,t.count=0,t.showNewPagination?t.getListSub(e.point.name):t.search(e.point.name)},500);t.searchTerm!=e.point.name&&(t.searchTerm=e.point.name,t.initLoad=!1,t.showTable=!1,t.showNewPagination?t.getListSub(e.point.name):t.search(e.point.name))}},t.Highcharts.chart("fullChartContainer",a),t.Highcharts.chart("fullChartSeverityClearedContainer",n)},500),t.showTable=!0,t.initLoad?t.redraw():(t.chartTypeInFS="severity",t.clickedAlarmType=t.alarmType,t.getListSub())):e.alarmevent&&(t.errors.alarmevent=t.commonOrgService.pageErrorHandle(e.alarmevent)),e&&e.severity){t.showSevertiyFullChart=!0,t.fullScreenChartName="Alarm"==t.alarmType?t.language["Alarm by Severity"]:t.language["Event by Severity"],t.fullScrenSubHeading=a[s.notificationType.toLowerCase()].severity;var d=e.severity.alarm?e.severity.alarm:e.severity;t.serverityError=!1,setTimeout(function(){var e=t.chartOptionService.severityChartOptions(d.raised,(t.both?"":t.alarmType)+" Raised","full");t.Highcharts.chart("fullChartContainer",e);var a=t.chartOptionService.severityChartOptions(d.cleared,(t.both?"":t.alarmType)+" Cleared","full");t.Highcharts.chart("fullChartSeverityClearedContainer",a)},500),l=t.getCountByDataObj(d),t.count=l,t.initLoad?t.redraw():(t.chartTypeInFS="severity",t.clickedAlarmType=r,t.getListSub()),t.showTable=!0}e&&void 0!==e.region&&(t.params.event.region=s,t.fullScreenChartName="Alarm"===t.alarmType?t.language["Alarm by Region"]:t.language["Event by Region"],t.fullScrenSubHeading=a[s.notificationType.toLowerCase()].region,t.loadRegionChart=!0,t.regionChartData=e.region,l=t.getCountByData(e.region,t.alarmType),t.count=l,t.initLoad?t.redraw():(t.chartTypeInFS="region",t.clickedAlarmType=r,t.getListSub()),t.showTable=!0,t.regionError=!1,"Alarm"==t.alarmType?n=t.chartOptionService.regionChartOptions(t.regionChartData,!1):(n=t.chartOptionService.getEventOptions(t.regionChartData,"region",s)).plotOptions.series.point.events={click:function(e){var t=$(this.series.data).index(this);c.generateEvent(s,e,t,"event","region",c)},contextmenu:function(e){var t=$(this.series.data).index(this);c.generateEvent(s,e,t,"event","region",c)}},n=Object.assign({},n),t.Highcharts.chart("fullChartContainer",n));e&&void 0!==e.location&&(t.params.event.location=s,t.fullScreenChartName="Alarm"===t.alarmType?t.language["Alarm by Location"]:t.language["Event by Location"],t.fullScrenSubHeading=a[s.notificationType.toLowerCase()].location,t.locationChartData=e.location,l=t.getCountByData(e.location,t.alarmType),t.count=l,t.initLoad?t.redraw():(t.chartTypeInFS="location",t.clickedAlarmType=r,t.getListSub()),t.showTable=!0,t.locationError=!1,"Alarm"==t.alarmType?i=t.chartOptionService.locationChartOptions(t.locationChartData,!1,s):(i=t.chartOptionService.getEventOptions(t.locationChartData,"location",s)).plotOptions.series.point.events={click:function(e){var t=$(this.series.data).index(this);c.generateEvent(s,e,t,"event","location",c)},contextmenu:function(e){var t=$(this.series.data).index(this);c.generateEvent(s,e,t,"event","location",c)}},t.Highcharts.chart("fullChartContainer",i));e&&void 0!==e.system&&(t.params.event.system=s,t.fullScreenChartName="Alarm"===t.alarmType?t.language["Alarm by System"]:t.language["Event by System"],t.fullScrenSubHeading=a[s.notificationType.toLowerCase()].system,l=t.getCountByData(e.system,t.alarmType),t.count=l,t.initLoad?t.redraw():(t.chartTypeInFS="system",t.clickedAlarmType=r,t.getListSub()),t.showTable=!0,t.systemChartData=e.system,t.systemError=!1,"Alarm"==t.alarmType?o=t.chartOptionService.systemChartOptions(t.systemChartData,!1,s):(o=t.chartOptionService.getEventOptions(t.systemChartData,"system",s)).plotOptions.series.point.events={click:function(e){var t=$(this.series.data).index(this);c.generateEvent(s,e,t,"event","system",c)},contextmenu:function(e){var t=$(this.series.data).index(this);c.generateEvent(s,e,t,"event","system",c)}},t.Highcharts.chart("fullChartContainer",o));t.loading=!1},function(e){t.pageErrorHandle(e)})}},{key:"doSearch",value:function(){var e=this;this.initLoad=!1,this.showTable=!1,this.listSub$=this.searchText$.pipe((0,Z.b)(500),(0,O.x)(),(0,S.w)(function(t){return e.fullScreen&&(e.initLoad=!1,e.showTable=!1),e.ssoService.setRefreshTokenNew(),new v.y(function(e){return e.next(t)})})).subscribe(function(t){setTimeout(function(){e.showTable=!0,e.count=0,e.fullScreen&&e.getList(e.chartTypeInFS,t?e.alarmType?e.alarmType:"Alarm":e.clickedAlarmType,e.applyFiltersInFS)},100)},function(e){})}},{key:"search",value:function(e){this.showNewPagination||(e||this.resetALarmEventChart(),this.searchText$.next(e))}},{key:"redraw",value:function(){this.searchTerm?this.search(this.searchTerm):this.dtElement.dtInstance.then(function(e){e.draw()})}},{key:"viewDetails",value:function(e,t){e.isHistoryAlarmFromUI=!0,this.hideSource=!1,this.index=t,this.fullData=e,this.showAckShelveBtn=!0}},{key:"convertToDateTime",value:function(e){return e?(e=Number(e),new s.uU("en-US").transform(new Date(e),"short")):void 0}},{key:"changeSeverity",value:function(){this.clickedSeverity=""}},{key:"clearSearchInp",value:function(){this.setSearchQuery(""),this.showNewPagination?(this.searchTerm="",this.getListSub()):(this.searchTerm="",this.search(""))}},{key:"getQueryForCount",value:function(e,t,a,n){var i,o,r=this.filtersForm.value;i=r.category&&r.category.length&&-1===r.category.indexOf("All")?r.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,o=r.customCategory&&r.customCategory.length&&-1===r.customCategory.indexOf("None")?r.customCategory:void 0,r.eventName&&r.eventName.length&&-1===r.eventName.indexOf("All")||(r.eventName=void 0),"All"===this.regionName&&(this.regionName=void 0),"All"===this.locationName&&(this.locationName=void 0),"All"===this.systemName&&(this.systemName=void 0),"All"===r.severity&&(r.severity=void 0);var s={};a?s={region:this.regionName,location:this.locationName,system:this.systemName,fsan_serialnumber:r.fsan?r.fsan:"",severity:r.severity,historyReport:!0,category:i,notificationType:t||r.alarmType,alarmEventName:n||void 0,customCategory:o,cco_ack:r.cco_ack,cco_shelv:r.cco_shelv}:("Alarm"!==(s={system:this.clickedSystem||this.systemName,fsan_serialnumber:r.fsan?r.fsan:"",severity:this.clickedSeverity||r.severity,historyReport:!0,category:i,notificationType:t||r.alarmType,alarmEventName:n||void 0,customCategory:o,cco_ack:r.cco_ack,cco_shelv:r.cco_shelv}).notificationType&&(delete s.cco_ack,delete s.cco_shelv),"Alarm"===s.notificationType?(s.region=this.clickedRegion||this.regionName,s.location=this.clickedLocation||this.locationName):(s.region=this.clickedEventRegion||this.regionName,s.location=this.clickedEventLocation||this.locationName)),r.startDate&&(r.endDate||(r.endDate=new Date),s.date="".concat(this.dateUtilsService.getUtCMilliSecByDateObj(r.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(r.endDate,!0))),"Event"===s.notificationType&&(delete s.severity,delete s.status),"region"===e&&(delete s.region,delete s.location,delete s.system),"location"===e&&(delete s.location,delete s.system);var l="";for(var c in s)null==s[c]||""==s[c]||(""!=l&&(l+="&"),l+=c+"="+encodeURIComponent(s[c]));return l}},{key:"getCategories",value:function(){var e=this,t=this.filtersForm.value,a={historyReport:!0,notificationType:this.filtersForm.controls.alarmType.value};t.startDate&&(t.endDate||(t.endDate=new Date),a.date="".concat(this.dateUtilsService.getUtCMilliSecByDateObj(t.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(t.endDate,!0)));var n="";for(var i in a)null==a[i]||""==a[i]||(""!=n&&(n+="&"),n+=i+"="+encodeURIComponent(a[i]));this.http.get("".concat(this.baseUrl,"category?").concat(n)).subscribe(function(a){var n=[],i=[{id:"All",name:"All"}],o=a.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});o&&o.forEach(function(e){!e||(-1===t.category.indexOf("All")&&-1!==t.category.indexOf(e)&&n.push(e),i.push({id:e,name:e}))}),e.categories=i,n.length?e.filtersForm.get("category").setValue(n):e.filtersForm.get("category").setValue(["All"])})}},{key:"getCustomCategories",value:function(){var e=this;this.http.get("".concat(this.baseUrl,"customCategory")).subscribe(function(t){var a=[{id:"None",name:"None"}],n=[];t.forEach(function(e){n.push(e.categoryName)});var i=n.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});i&&i.forEach(function(e){!e||a.push({id:e,name:e})}),e.customCategories=a})}},{key:"getAlarmNames",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Alarm";this.http.get("".concat(this.baseUrl,"alarmEvent?notificationType=").concat(t,"&historyalarm=true")).subscribe(function(t){var a=[{id:"All",name:"All"}],n=t.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});n&&n.forEach(function(e){!e||"multiple-onts-down"!==e&&a.push({id:e,name:e})}),e.alarmNames=a})}},{key:"changeStartDate",value:function(){this.FromDate=this.filtersForm.get("startDate").value}},{key:"validateRegion",value:function(e){var t=this.filtersForm.get("region").value;if("All"===e)t=["All"];else{var a=t.indexOf("All");a>-1&&t.splice(a,1)}this.filtersForm.get("region").setValue(t),this.loadLocationValue("")}},{key:"validateLocation",value:function(e){var t=this.filtersForm.get("location").value;if("All"===e)t=["All"];else{var a=t.indexOf("All");a>-1&&t.splice(a,1)}this.filtersForm.get("location").setValue(t),this.loadSystemValue("")}},{key:"validateSystem",value:function(e){var t=this.filtersForm.get("system").value;if(t.length)if("All"===e)t=["All"];else{var a=t.indexOf("All");a>-1&&t.splice(a,1)}else t=["All"];this.filtersForm.get("system").setValue(t)}},{key:"validateCategory",value:function(e){var t=this.filtersForm.get("category").value;if(t.length)if("All"===e.id)t=["All"];else{var a=t.indexOf("All");a>-1&&t.splice(a,1),this.filtersForm.get("customCategory").setValue("None"),this.filtersForm.get("fsan").enable(),this.filtersForm.get("eventName").enable()}else t=["All"];this.filtersForm.get("category").setValue(t)}},{key:"validateCustomCategory",value:function(e){var t=this.filtersForm.get("customCategory").value;if("None"===e.id)t=["None"];else{var a=t.indexOf("None");a>-1&&t.splice(a,1)}this.filtersForm.get("customCategory").setValue(t)}},{key:"changeCustomCategory",value:function(e){"None"!==e.id&&(this.filtersForm.get("category").setValue(["All"]),this.filtersForm.get("fsan").setValue(""),this.filtersForm.get("eventName").setValue(["All"]))}},{key:"validateAlarmEvent",value:function(e){var t=this.filtersForm.get("eventName").value;if(t.length)if("All"===e.id)t=["All"];else{var a=t.indexOf("All");a>-1&&t.splice(a,1)}else t=["All"];this.filtersForm.get("eventName").setValue(t)}},{key:"validateAlarmName",value:function(e){var t,a,n;(-1===(null===(t=this.filtersForm.get("eventName").value)||void 0===t?void 0:t.indexOf("All"))||-1!==(null===(a=this.filtersForm.get("eventName").value)||void 0===a?void 0:a.indexOf("All"))&&(null===(n=this.filtersForm.get("eventName").value)||void 0===n?void 0:n.length)>1)&&this.filtersForm.get("customCategory").setValue("None")}},{key:"validateFSAN",value:function(){this.filtersForm.get("customCategory").setValue("None"),(0==this.filtersForm.get("fsan").value.length||12==this.filtersForm.get("fsan").value.length)&&(this.fsanvalid=!1)}},{key:"fsanvalidated",value:function(e){var t=this.filtersForm.get("fsan").value.length;return 0!=t&&t<12?(this.fsanvalid=!0,!0):(this.fsanvalid=!1,!1)}},{key:"getSeverityByObj",value:function(e){for(var t=Object.keys(e),a=0;a<t.length;a++)if(e[t[a]])return t[a];return"major"}},{key:"changeTableStatusLanguage",value:function(e){var t=new Intl.NumberFormat;this.tableCounts={searchText:e.oPreviousSearch.sSearch.trim(),total:e._iRecordsTotal,displayCount:e._iDisplayLength,displayed:e._iRecordsDisplay,start:e._iDisplayStart};var a="fr"==sessionStorage.getItem("defaultLanguage"),n=e.oPreviousSearch.sSearch.trim()?a?"(filtr\xe9es \xe0 partir des ".concat(t.format(e._iRecordsTotal)," entr\xe9es totales)"):"(filtered from ".concat(t.format(e._iRecordsTotal)," total entries)"):"",i=0==e._iRecordsDisplay?-1:e._iDisplayStart,o=e._iDisplayStart+e._iDisplayLength>e._iRecordsDisplay?e._iRecordsDisplay:e._iDisplayStart+e._iDisplayLength;$('div [role="status"]').text(a?"Affichage de ".concat(t.format(i+1)," \xe0 ").concat(t.format(o)," des ").concat(t.format(e._iRecordsDisplay)," entr\xe9es ").concat(n):"Showing ".concat(t.format(i+1)," to ").concat(t.format(o)," of ").concat(t.format(e._iRecordsDisplay)," entries ").concat(n)),$(".first").text(a?"Le d\xe9but":"First"),$(".previous").text(a?"Pr\xe9c\xe9dent":"Previous"),$(".next").text(a?"Suivant":"Next"),$(".last").text(a?"Derni\xe8re":"Last")}},{key:"tableLanguageOptions",value:function(){"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.translateService.de_DE:"fr"==this.language.fileLanguage?this.dtOptions.language=this.translateService.fr:"es"==this.language.fileLanguage?this.dtOptions.language=this.translateService.es:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}},{key:"closeNotes",value:function(){this.modalRef&&this.modalRef.close()}},{key:"openNotesModal",value:function(e,t,a,n){this.btnDisabled=!0,this.isNotesModalOpen=!0,this.index=n,this.noteError=!1,this.showEdit=a,this.alarmId=e,this.notes.setValue(t||""),this.modalRef=this.dialogService.open(this.addNotesModal,{size:"lg",centered:!1,windowClass:"custom-modal"})}},{key:"openShowNotesModal",value:function(e){this.btnDisabled=!0,this.isNotesModalOpen=!0,this.notes.setValue(e||""),this.modalRef=this.dialogService.open(this.showNotesModal,{size:"lg",centered:!1,windowClass:"custom-modal"})}},{key:"addNotes",value:function(){var e=this;this.noteSaveLoader=!0,this.btnDisabled=!0,this.url="".concat(this.baseUrl,"notes/").concat(this.alarmId,"?notesDescription=").concat(encodeURIComponent(this.notes.value),"&historyReport=true"),this.http.put(this.url,"").subscribe(function(t){for(var a=0;a<=e.list.length;a++)a==e.index&&(e.list[a].subject.notes=e.notes.value);e.closeNotes(),e.btnDisabled=!1,e.noteSaveLoader=!1},function(t){e.noteError=!0,e.btnDisabled=!1,e.noteSaveLoader=!1,e.noteErrorInfo=401==t.status?e.language["Access Denied"]:e.commonOrgService.pageErrorHandle(t)})}},{key:"deleteConfirmModal",value:function(e,t){this.modalRef&&this.closeNotes(),this.btnDisabled=!1,this.deleteId=e,this.deleteIndex=t,this.modalRef=this.dialogService.open(this.deleteModal)}},{key:"deleteNotes",value:function(){var e=this;this.noteSaveLoader=!0,this.deleteError=!1,this.deleteErrorInfo="",this.btnDisabled=!0,this.url="".concat(this.baseUrl,"notes/").concat(this.deleteId),this.http.delete(this.url).subscribe(function(t){for(var a=0;a<=e.list.length;a++)a==e.deleteIndex&&e.list[a].subject.notes&&delete e.list[a].subject.notes;e.btnDisabled=!1,e.noteSaveLoader=!1,e.closeNotes()},function(t){e.btnDisabled=!1,e.deleteError=!0,e.noteSaveLoader=!1,e.deleteErrorInfo=401==t.status?e.language["Access Denied"]:e.commonOrgService.pageErrorHandle(t)})}},{key:"makeDefaultVarForBoth",value:function(){this.bothRegion=!1,this.bothLocation=!1,this.bothSystem=!1,this.bothRegionAlarm=!1,this.bothLocationAlarm=!1,this.bothSystemAlarm=!1,this.bothRegionEvent=!1,this.bothLocationEvent=!1,this.bothSystemEvent=!1}},{key:"loadBothDataNew",value:function(){var e=this;this.makeDefaultVarForBoth();var t,a,n=this.filtersForm.value,i=new s.rS;t=n.category&&n.category.length&&-1===n.category.indexOf("All")?n.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,a=n.customCategory&&n.customCategory.length&&-1===n.customCategory.indexOf("None")?n.customCategory:void 0,n.eventName&&n.eventName.length&&-1===n.eventName.indexOf("All")||(n.eventName=void 0),this.clickedAlarmTypeInBC="",this.clickedLocation="",this.clickedEventLocation="",this.clickedRegion="",this.clickedEventRegion="",this.clickedSystem="",this.loadLocationChart=!1,this.loadSystemChart=!1,this.serverityError=!1,this.systemError=!1,this.regionError=!1,this.locationError=!1,this.severityChartData=null,this.systemChartData=null,this.locationChartData=null,this.regionChartData=null,this.loading=!0,this.applyDisabled=!0,this.both="Both"==n.alarmType;var o;o=this.systemName&&this.systemName.length&&-1===this.systemName.indexOf("All")?this.systemName.filter(function(e){return e&&e.length&&"All"!==e}):void 0,n.severity&&"all"===n.severity.toLowerCase()&&(n.severity=void 0);var r={region:"All"!==this.regionName?this.regionName:void 0,location:"All"!==this.locationName?this.locationName:void 0,fsan_serialnumber:n.fsan,alarmEventName:n.eventName,severity:n.severity,historyReport:!0,category:t,system:o,customCategory:a,cco_ack:n.cco_ack,cco_shelv:n.cco_shelv};n.startDate&&(n.endDate||(n.endDate=new Date),r.date="".concat(this.dateUtilsService.getUtCMilliSecByDateObj(n.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(n.endDate,!0)));var l="";for(var c in r)null!=r[c]&&(""!=l&&(l+="&"),l+=c+"="+encodeURIComponent(r[c]));var d="",u=["customCategory","severity","cco_ack","cco_shelv"];for(var c in r)null==r[c]||-1!==u.indexOf(c)||(""!=d&&(d+="&"),d+=c+"="+encodeURIComponent(r[c]));var m={},v=["severity","byday","region","region-event"];if(this.loadRegionChart=!0,r.location){var f=v.indexOf("location");f>-1&&v.splice(f,1),(f=v.indexOf("location-event"))>-1&&v.splice(f,1),(f=v.indexOf("region"))>-1&&v.splice(f,1),(f=v.indexOf("region-event"))>-1&&v.splice(f,1),v.push("system"),v.push("system-event"),this.bothSystem=!0,this.bothSystemAlarm=!0,this.bothSystemEvent=!0}else if(r.region){this.loadRegionChart=!1;var y=v.indexOf("region");y>-1&&v.splice(y,1),(y=v.indexOf("region-event"))>-1&&v.splice(y,1),v.push("location"),v.push("location-event"),this.bothLocation=!0,this.bothLocationAlarm=!0,this.bothLocationEvent=!0}this.alarmTypesToExport=v,this.exportParams=r,r.region||r.location||(this.bothRegion=!0,this.bothRegionAlarm=!0,this.bothRegionEvent=!0);var b;b=this.chartOptionService.getDateDiff(r)>5?"Hours":"Minutes";var C={byday:"".concat(this.baseUrl,"alarmbyInterval?").concat(l,"&interval=").concat(b,"&notificationType=Alarm"),severity:"".concat(this.baseUrl,"alarmbySeverity?").concat(l,"&notificationType=Alarm"),region:"".concat(this.baseUrl,"alarmbyRegion?").concat(l,"&notificationType=Alarm"),location:"".concat(this.baseUrl,"alarmbyLocation?").concat(l,"&notificationType=Alarm"),system:"".concat(this.baseUrl,"alarmbySystem?").concat(l,"&notificationType=Alarm"),"severity-event":"".concat(this.baseUrl,"alarmbySeverity?").concat(d,"&notificationType=Event"),"region-event":"".concat(this.baseUrl,"alarmbyRegion?").concat(d,"&notificationType=Event"),"location-event":"".concat(this.baseUrl,"alarmbyLocation?").concat(d,"&notificationType=Event"),"system-event":"".concat(this.baseUrl,"alarmbySystem?").concat(d,"&notificationType=Event")};v.forEach(function(t){var a=e.http.get("".concat(C[t])).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)}));m[t]=a});var x=this;this.listObs=(0,h.D)(m).subscribe(function(t){if(e.loading=!1,t&&t.severity&&!t.severity["api-error"]){var a=t.severity.alarm?t.severity.alarm:t.severity;e.serverityError=!1;var o=e.chartOptionService.severityChartOptions(a.raised,"Alarms Raised","small",r),s=e.chartOptionService.severityChartOptions(a.cleared,"Alarms Cleared","small",r);e.data.alarm.severity=e.chartOptionService.prepareAlarmCSVDataforSeverity(a,"histoy",r),e.params.alarm.severity=r,o.plotOptions.series.point.events={contextmenu:function(t){t.preventDefault(),e.clickedSeverity=t.point.severity.toLowerCase(),e.params.alarm.severity.severity=t.point.severity.toLowerCase(),x.chartOptionService.getUserFilters("alarm","severity").Severity=i.transform(t.point.severity),e.gotoFullScreen("severity","Alarm")},click:function(t){t.preventDefault(),e.clickedSeverity=t.point.severity.toLowerCase(),e.params.alarm.severity.severity=t.point.severity.toLowerCase(),x.chartOptionService.getUserFilters("alarm","severity").Severity=i.transform(t.point.severity),e.gotoFullScreen("severity","Alarm")}},s.plotOptions.series.point.events={contextmenu:function(t){t.preventDefault(),e.clickedSeverity=t.point.severity.toLowerCase(),e.params.alarm.severity.severity=t.point.severity.toLowerCase(),x.chartOptionService.getUserFilters("alarm","severity").Severity=i.transform(t.point.severity),e.gotoFullScreen("severity","Alarm")},click:function(t){t.preventDefault(),e.clickedSeverity=t.point.severity.toLowerCase(),e.params.alarm.severity.severity=t.point.severity.toLowerCase(),x.chartOptionService.getUserFilters("alarm","severity").Severity=i.transform(t.point.severity),e.gotoFullScreen("severity","Alarm")}},e.Highcharts.chart("severityAlarmContainer",o),e.Highcharts.chart("severityClearedAlarmContainer",s)}else if(t.severity&&t.severity["api-error"])e.params.alarm.severity=r,e.data.alarm.severity=e.chartOptionService.prepareAlarmCSVDataforSeverity({},"histoy",r),e.errors.severity=e.commonOrgService.pageErrorHandle(t.severity);else if(void 0!==t.severity){e.params.alarm.severity=r,e.data.alarm.severity=e.chartOptionService.prepareAlarmCSVDataforSeverity({},"histoy",r);var l=e.chartOptionService.severityChartOptions([],e.language["Alarms Raised"],"medium",r);e.Highcharts.chart("severityAlarmContainer",l);var c=e.chartOptionService.severityChartOptions([],e.language["Alarms Cleared"],"medium",r);e.Highcharts.chart("severityClearedAlarmContainer",c)}if(t&&void 0!==t.region&&t.region&&!t.region["api-error"]){e.alarmTitleInBoth=e.language["Alarm by Region"],e.alarmChartType="region",e.loadRegionChart=!0,e.regionError=!1;var d=e.chartOptionService.regionChartOptions(t.region,!1,r);e.data.alarm.region=e.chartOptionService.prepareAlarmCSVDataforRegion(t.region,"histoy",r),e.params.alarm.region=r,d.plotOptions.series.point.events={click:function(e){var t=$(this.series.data).index(this);x.clickedRegion=e.point.series.userOptions.data[t].regionId,x.clickedSeverity=e.point.series.userOptions.data[t].severity,x.alarmTypeInBoth="Alarm",x.getChartByLocation("Alarm")},contextmenu:function(e){var t,a,o=$(this.series.data).index(this);e.preventDefault(),x.clickedAlarmTypeInBC=e.point.series.userOptions.stack,x.clickedRegion=e.point.series.userOptions.data[o].regionId,x.clickedSeverity=null===(t=e.point.series.userOptions.data[o].severity)||void 0===t?void 0:t.toLowerCase(),x.params.alarm.region.region=e.point.series.userOptions.data[o].regionId,x.params.alarm.region.severity=null===(a=e.point.series.userOptions.data[o].severity)||void 0===a?void 0:a.toLowerCase(),x.params.alarm.region.status=i.transform(e.point.series.userOptions.stack),x.deleteParams.alarm.region.region=!0,n.severity||(x.deleteParams.alarm.region.severity=!0),x.deleteParams.alarm.region.status=!0,x.gotoFullScreen("region","Alarm")}},d=Object.assign({},d),e.Highcharts.chart("region-alarm-container-both",d)}else if(t.region&&t.region["api-error"])e.data.alarm.region=e.chartOptionService.prepareAlarmCSVDataforRegion([],"histoy",r),e.params.alarm.region=r,e.alarmTitleInBoth=e.language["Alarm by Region"],e.errors.region=e.commonOrgService.pageErrorHandle(t.region);else if(void 0!==t.region){e.data.alarm.region=e.chartOptionService.prepareAlarmCSVDataforRegion([],"histoy",r),e.params.alarm.region=r,e.alarmTitleInBoth=e.language["Alarm by Region"];var g=e.chartOptionService.regionChartOptions([],!0,r);e.Highcharts.chart("region-alarm-container-both",g)}if(t&&void 0!==t["region-event"]&&t["region-event"]&&!t["region-event"]["api-error"]){e.eventTitleInBoth=e.language["Event by Region"],e.eventChartType="region",e.loadRegionChart=!0,e.regionError=!1;var u=e.chartOptionService.getEventOptions(t["region-event"],"region",r);e.data.event.region=e.chartOptionService.prepareEventCSVDataforRegion(t["region-event"]),e.params.event.region=r,u.plotOptions.series.point.events={click:function(e){var t=$(this.series.data).index(this);x.clickedEventRegion=e.point.series.userOptions.data[t].uuid,x.alarmTypeInBoth="Event",x.deleteParams.event.region.region=!0,x.getChartByLocation("Event")}},u=Object.assign({},u),e.Highcharts.chart("region-event-container-both",u)}else if(t["region-event"]&&t["region-event"]["api-error"])e.data.event.region=e.chartOptionService.prepareEventCSVDataforRegion([]),e.params.event.region=r,e.eventTitleInBoth=e.language["Event by Region"],e.errors["region-event"]=e.commonOrgService.pageErrorHandle(t["region-event"]);else if(void 0!==t["region-event"]){e.data.event.region=e.chartOptionService.prepareEventCSVDataforRegion([]),e.params.event.region=r,e.eventTitleInBoth=e.language["Event by Region"];var m=e.chartOptionService.getEventOptions([],!0,r);e.Highcharts.chart("region-event-container-both",m)}if(t&&void 0!==t.location&&t.location&&!t.location["api-error"]){e.alarmChartType="location",e.alarmTitleInBoth=e.language["Alarm by Location"],e.loadRegionChart=!0,e.locationError=!1;var p=e.chartOptionService.locationChartOptions(t.location,!1,r);e.data.alarm.location=e.chartOptionService.prepareAlarmCSVDataforLocation(t.location,{},"histoy",r),e.params.alarm.location=r,p.plotOptions.series.point.events={click:function(e){var t=$(this.series.data).index(this);x.clickedLocation=e.point.series.userOptions.data[t].locationId,x.clickedSeverity=e.point.series.userOptions.data[t].severity,x.alarmTypeInBoth="Alarm",x.getAlarmBySystem("Alarm")},contextmenu:function(e){var t,a,o=$(this.series.data).index(this);e.preventDefault(),x.clickedLocation=e.point.series.userOptions.data[o].locationId,x.clickedSeverity=null===(t=e.point.series.userOptions.data[o].severity)||void 0===t?void 0:t.toLowerCase(),x.clickedAlarmTypeInBC=e.point.series.userOptions.stack,x.params.alarm.location.location=e.point.series.userOptions.data[o].locationId,x.params.alarm.location.severity=null===(a=e.point.series.userOptions.data[o].severity)||void 0===a?void 0:a.toLowerCase(),x.params.alarm.location.status=i.transform(e.point.series.userOptions.stack),n.location&&-1!==n.location.indexOf("All")&&(x.deleteParams.alarm.location.location=!0),n.severity||(x.deleteParams.alarm.location.severity=!0),x.deleteParams.alarm.location.status=!0,x.gotoFullScreen("location","Alarm")}},p=Object.assign({},p),e.Highcharts.chart("location-alarm-container-both",p)}else if(t.location&&t.location["api-error"])e.data.alarm.location=e.chartOptionService.prepareAlarmCSVDataforLocation([],{},"histoy",r),e.params.alarm.location=r,e.alarmTitleInBoth=e.language["Alarm by Location"],e.errors.location=e.commonOrgService.pageErrorHandle(t.location);else if(void 0!==t.location){e.data.alarm.location=e.chartOptionService.prepareAlarmCSVDataforLocation([],{},"histoy",r),e.params.alarm.location=r,e.alarmTitleInBoth=e.language["Alarm by Location"];var h=e.chartOptionService.locationChartOptions([],!0,r);e.Highcharts.chart("location-alarm-container-both",h)}if(t&&void 0!==t.system&&t.system&&!t.system["api-error"]){e.alarmChartType="system",e.alarmTitleInBoth=e.language["Alarm by System"],e.loadRegionChart=!0,e.systemError=!1;var v=e.chartOptionService.systemChartOptions(t.system,!1,r);e.data.alarm.system=e.chartOptionService.prepareAlarmCSVDataforSystem(t.system,{},"histoy",r),e.params.alarm.system=r,v.plotOptions.series.point.events={click:function(e){var t,a,o=$(this.series.data).index(this);x.clickedSystem=e.point.options.category,x.clickedSeverity=null===(t=e.point.series.userOptions.data[o].severity)||void 0===t?void 0:t.toLowerCase(),x.clickedAlarmTypeInBC=e.point.series.userOptions.stack,x.params.alarm.system.system=e.point.series.userOptions.data[o].systemId,x.params.alarm.system.severity=null===(a=e.point.series.userOptions.data[o].severity)||void 0===a?void 0:a.toLowerCase(),x.params.alarm.system.status=i.transform(e.point.series.userOptions.stack),n.system&&-1!==n.system.indexOf("All")&&(x.deleteParams.alarm.system.system=!0),n.severity||(x.deleteParams.alarm.system.severity=!0),x.deleteParams.alarm.system.status=!0,e.preventDefault(),x.gotoFullScreen("system","Alarm")},contextmenu:function(e){var t,a,o=$(this.series.data).index(this);e.preventDefault(),x.clickedSystem=e.point.options.category,x.clickedSeverity=null===(t=e.point.series.userOptions.data[o].severity)||void 0===t?void 0:t.toLowerCase(),x.clickedAlarmTypeInBC=e.point.series.userOptions.stack,x.params.alarm.system.system=e.point.series.userOptions.data[o].systemId,x.params.alarm.system.severity=null===(a=e.point.series.userOptions.data[o].severity)||void 0===a?void 0:a.toLowerCase(),x.params.alarm.system.status=i.transform(e.point.series.userOptions.stack),n.system&&-1!==n.system.indexOf("All")&&(x.deleteParams.alarm.system.system=!0),n.severity||(x.deleteParams.alarm.system.severity=!0),x.deleteParams.alarm.system.status=!0,x.gotoFullScreen("system","Alarm")}},e.Highcharts.chart("system-alarm-container-both",v),document.getElementById("both-systemwrapper").scrollIntoView({behavior:"smooth"})}else if(t.system&&t.system["api-error"])e.data.alarm.system=e.chartOptionService.prepareAlarmCSVDataforSystem([],{},"histoy",r),e.params.alarm.system=r,e.alarmTitleInBoth=e.language["Alarm by System"],e.errors.system=e.commonOrgService.pageErrorHandle(t.system);else if(void 0!==t.system){e.data.alarm.system=e.chartOptionService.prepareAlarmCSVDataforSystem([],{},"histoy",r),e.params.alarm.system=r,e.alarmTitleInBoth=e.language["Alarm by System"];var f=e.chartOptionService.systemChartOptions([],!0,r);e.Highcharts.chart("system-alarm-container-both",f)}if(t&&void 0!==t["location-event"]&&t["location-event"]&&!t["location-event"]["api-error"]){e.eventChartType="location",e.eventTitleInBoth=e.language["Event by Location"],e.loadRegionChart=!0,e.regionError=!1;var y=e.chartOptionService.getEventOptions(t["location-event"],"location",r);e.data.event.location=e.chartOptionService.prepareEventCSVDataforLocation(t["location-event"]),e.params.event.location=r,y.plotOptions.series.point.events={click:function(e){var t=$(this.series.data).index(this);x.clickedEventLocation=e.point.series.userOptions.data[t].uuid,x.alarmTypeInBoth="Event",x.getAlarmBySystem("Event")}},y=Object.assign({},y),e.Highcharts.chart("location-event-container-both",y)}else if(t["location-event"]&&t["location-event"]["api-error"])e.data.event.location=e.chartOptionService.prepareEventCSVDataforLocation([]),e.params.event.location=r,e.eventTitleInBoth=e.language["Event by Location"],e.errors["location-event"]=e.commonOrgService.pageErrorHandle(t["location-event"]);else if(void 0!==t["location-event"]){e.data.event.location=e.chartOptionService.prepareEventCSVDataforLocation([]),e.params.event.location=r,e.eventTitleInBoth=e.language["Event by Location"];var b=e.chartOptionService.locationChartOptions([],!0,r);e.Highcharts.chart("location-event-container-both",b)}if(t&&void 0!==t["system-event"]&&t["system-event"]&&!t["system-event"]["api-error"]){e.eventChartType="system",e.eventTitleInBoth=e.language["Event by System"],e.loadRegionChart=!0,e.regionError=!1;var C=e.chartOptionService.getEventOptions(t["system-event"],"system",r);e.data.event.system=e.chartOptionService.prepareEventCSVDataforSystem(t["system-event"]),e.params.event.system=r,C.plotOptions.series.point.events={click:function(e){var t=$(this.series.data).index(this);x.clickedSystem=e.point.series.userOptions.data[t].uuid,e.preventDefault(),n.system&&-1!==n.system.indexOf("All")&&(x.deleteParams.event.system.system=!0),x.gotoFullScreen("system","Event")},contextmenu:function(e){e.preventDefault();var t=$(this.series.data).index(this);x.clickedSystem=e.point.series.userOptions.data[t].uuid,n.system&&-1!==n.system.indexOf("All")&&(x.deleteParams.event.system.system=!0),x.gotoFullScreen("system","Event")}},C=Object.assign({},C),e.Highcharts.chart("system-event-container-both",C)}else if(t["system-event"]&&t["system-event"]["api-error"])e.data.event.system=e.chartOptionService.prepareEventCSVDataforSystem([]),e.params.event.system=r,e.eventTitleInBoth=e.language["Event by System"],e.errors["system-event"]=e.commonOrgService.pageErrorHandle(t["system-event"]);else if(void 0!==t["system-event"]){e.data.event.system=e.chartOptionService.prepareEventCSVDataforSystem([]),e.params.event.system=r,e.eventTitleInBoth=e.language["Event by System"];var A=e.chartOptionService.systemChartOptions([],!0,r);e.Highcharts.chart("system-event-container-both",A)}if(t&&"object"==typeof t.byday&&t.byday&&!t.byday["api-error"]){var Z=e.chartOptionService.getLineChartOptionsNew(t.byday,!1,r,n);e.data.alarm.byday=e.chartOptionService.prepareAlarmCSVDataforDay(t.byday,"",r),e.Highcharts.stockChart("both-event-alarm-line-chart-container",Z)}else if(t.byday&&t.byday["api-error"])e.data.alarm.byday=e.chartOptionService.prepareAlarmCSVDataforDay([]),e.errors.byday=e.commonOrgService.pageErrorHandle(t.byday);else if(void 0!==t.byday){e.data.alarm.byday=e.chartOptionService.prepareAlarmCSVDataforDay([]);var O=e.chartOptionService.getLineChartOptionsNew([],!0,r,n);e.Highcharts.stockChart("both-event-alarm-line-chart-container",O)}e.loading=!1},function(t){e.pageErrorHandle(t)})}},{key:"handleError",value:function(e){return(0,f._)(e)}},{key:"download",value:function(e,t){var a={alarm:"Alarms",event:"Events",region:"Region",location:"Location",system:"System",severity:"Severity",byday:"Day"},n=this.data[t][e],i="".concat(a[t]," By ").concat(a[e]," \r\n").concat(this.chartOptionService.getSubTitleStr(t,e)," \r\n");console.log(n),console.log(i),this.exportExcelService.downLoadCSV("".concat(a[t],"-By-").concat(a[e]),n,i)}},{key:"openSubscriberInfo",value:function(e,t){var a=this;this.index=e,this.alarmId=t,this.subscriberInfosub=this.issueService.getAlarmSubscriberInfo(this.alarmId).subscribe(function(e){a.Infosub=null!==(null==e?void 0:e.subcribers),a.subscriberInfo=(null==e?void 0:e.subcribers)?null==e?void 0:e.subcribers:[],a.modalRef=a.dialogService.open(a.addSubscriberInfoModel,{size:"lg",centered:!1,windowClass:"custom-lg-modal"})},function(e){a.pageErrorHandle(e)})}},{key:"removespecialcharacter",value:function(e){var t;return(t=e.keyCode)>47&&t<58||t>64&&t<91||t>96&&t<123}},{key:"deleteFullScreenParams",value:function(){var e=this,t=new s.rS;Object.keys(this.deleteParams).forEach(function(a){Object.keys(e.deleteParams[a]).forEach(function(n){if(Object.keys(e.deleteParams[a][n]).length){var i=Object.keys(e.deleteParams[a][n]),o=e.chartOptionService.getUserFilters(a,n);i.forEach(function(i){void 0!==e.params[a][n][i]&&e.params[a][n][i]&&(delete e.params[a][n][i],e.deleteParams[a][n][i]=!1,delete o[t.transform(i)])}),e.chartOptionService.setUserFilters(a,n,o)}})})}},{key:"downloadCsvFromFilters",value:function(){var e=this,t=this.filtersForm.value;if("Both"===t.alarmType){var a=["severity-event","region-event","location-event","system-event"];this.alarmTypesToExport.forEach(function(t){var n=-1===a.indexOf(t)?"alarm":"event";"event"===n&&(t={"severity-event":"severity","region-event":"region","location-event":"location","system-event":"system"}[t]),e.download(t,n)})}else this.alarmTypesToExport.forEach(function(a){e.download(a,t.alarmType.toLowerCase())})}},{key:"exportExcel",value:function(){this.getDataForExport()}},{key:"exportParallel",value:function(){var e=this;if(!this.fsanvalidated("d")){this.disableExportBtn=!0;var t,a,n=this.filtersForm.value;t=n.category&&n.category.length&&-1===n.category.indexOf("All")?n.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,a=n.customCategory&&n.customCategory.length&&-1===n.customCategory.indexOf("None")?n.customCategory:void 0,n.eventName&&n.eventName.length&&-1===n.eventName.indexOf("All")||(n.eventName=void 0);var i;i=this.systemName&&this.systemName.length&&-1===this.systemName.indexOf("All")?this.systemName.filter(function(e){return e&&e.length&&"All"!==e}):void 0,n.severity&&("all"===n.severity.toLowerCase()||"event"===n.alarmType.toLowerCase())&&(n.severity=void 0);var o={region:"All"!==this.regionName?this.regionName:void 0,location:"All"!==this.locationName?this.locationName:void 0,fsan_serialnumber:n.fsan,alarmEventName:n.eventName,severity:n.severity,notificationType:n.alarmType,historyReport:!0,category:t,customCategory:a,system:i,cco_ack:n.cco_ack,cco_shelv:n.cco_shelv};"Alarm"!==o.notificationType&&(delete o.cco_ack,delete o.cco_shelv),n.startDate&&(n.endDate||(n.endDate=new Date),o.date="".concat(this.dateUtilsService.getUtCMilliSecByDateObj(n.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(n.endDate,!0)));var r="",s=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1];if("Both"===n.alarmType){for(var l in delete o.notificationType,o)null==o[l]||""==o[l]||(""!=r&&(r+="&"),r+=l+"="+encodeURIComponent(o[l]));var c={};["Event","Alarm"].forEach(function(t){var a="".concat(e.baseUrl,"notifications?").concat(r,"&from=0&exportReport=true&timeZone=").concat(encodeURIComponent(s));a+="Event"===t?"&notificationType=".concat(t,"&size=").concat(e.Export_FileSize(e.removeCommaInNumber(e.totalEvents))):"&notificationType=".concat(t,"&size=").concat(e.Export_FileSize(e.removeCommaInNumber(e.totalAlarms)+e.totalAlarms_cleared));var n=e.http.get("".concat(a)).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)}));c[t]=n}),(0,h.D)(c).subscribe(function(t){var a,n,i,o,r={};(null===(a=null==t?void 0:t.Event)||void 0===a?void 0:a.s3Url)&&(r.Events=e.http.get("".concat(null===(n=null==t?void 0:t.Event)||void 0===n?void 0:n.s3Url),{responseType:"blob"}).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)}))),(null===(i=null==t?void 0:t.Alarm)||void 0===i?void 0:i.s3Url)&&(r.Alarms=e.http.get("".concat(null===(o=null==t?void 0:t.Alarm)||void 0===o?void 0:o.s3Url),{responseType:"blob"}).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)}))),(0,h.D)(r).subscribe(function(a){var n,i;if(a.Alarms){var o=null===(n=null==t?void 0:t.Alarm)||void 0===n?void 0:n.s3Url.split("/").pop().split("?")[0];(0,ut.saveAs)(a.Alarms,"".concat(o))}if(a.Events){var r=null===(i=null==t?void 0:t.Event)||void 0===i?void 0:i.s3Url.split("/").pop().split("?")[0];(0,ut.saveAs)(a.Events,"".concat(r))}e.disableExportBtn=!1},function(t){e.disableExportBtn=!1})},function(t){e.disableExportBtn=!1})}else{for(var l in o)null==o[l]||""==o[l]||(""!=r&&(r+="&"),r+=l+"="+encodeURIComponent(o[l]));var d="".concat(this.baseUrl,"notifications?").concat(r,"&from=0&exportReport=true&timeZone=").concat(encodeURIComponent(s));"Alarm"===n.alarmType?d+="&size=".concat(this.Export_FileSize(this.removeCommaInNumber(this.totalAlarms)+this.totalAlarms_cleared)):"Event"===n.alarmType&&(d+="&size=".concat(this.Export_FileSize(this.removeCommaInNumber(this.totalEvents)))),this.http.get(d).subscribe(function(t){(null==t?void 0:t.s3Url)&&e.http.get(null==t?void 0:t.s3Url,{responseType:"blob"}).subscribe(function(a){var n=null==t?void 0:t.s3Url.split("/").pop().split("?")[0];(0,ut.saveAs)(a,"".concat(n)),e.disableExportBtn=!1},function(t){e.disableExportBtn=!1})},function(t){e.disableExportBtn=!1})}}}},{key:"exportNew",value:function(){var e=this;if(!this.fsanvalidated("d")){this.disableExportBtn=!0;var t,a,n=this.filtersForm.value;t=n.category&&n.category.length&&-1===n.category.indexOf("All")?n.category.filter(function(e){return e&&e.length&&"All"!==e}):void 0,a=n.customCategory&&n.customCategory.length&&-1===n.customCategory.indexOf("None")?n.customCategory:void 0,n.eventName&&n.eventName.length&&-1===n.eventName.indexOf("All")||(n.eventName=void 0);var i;i=this.systemName&&this.systemName.length&&-1===this.systemName.indexOf("All")?this.systemName.filter(function(e){return e&&e.length&&"All"!==e}):void 0,n.severity&&("all"===n.severity.toLowerCase()||"event"===n.alarmType.toLowerCase())&&(n.severity=void 0);var o={region:"All"!==this.regionName?this.regionName:void 0,location:"All"!==this.locationName?this.locationName:void 0,fsan_serialnumber:n.fsan,alarmEventName:n.eventName,severity:n.severity,notificationType:n.alarmType,historyReport:!0,category:t,customCategory:a,system:i,cco_ack:n.cco_ack,cco_shelv:n.cco_shelv};"Alarm"!==o.notificationType&&(delete o.cco_ack,delete o.cco_shelv),n.startDate&&(n.endDate||(n.endDate=new Date),o.date="".concat(this.dateUtilsService.getUtCMilliSecByDateObj(n.startDate),",").concat(this.dateUtilsService.getUtCMilliSecByDateObj(n.endDate,!0)));var r="",s=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1];if("Both"===n.alarmType){for(var l in delete o.notificationType,o)null==o[l]||""==o[l]||(""!=r&&(r+="&"),r+=l+"="+encodeURIComponent(o[l]));var c={};["Event","Alarm"].forEach(function(t){var a="".concat(e.baseUrl,"notifications?").concat(r,"&from=0&exportReport=true&timeZone=").concat(encodeURIComponent(s));a+="Event"===t?"&notificationType=".concat(t,"&size=").concat(e.Export_FileSize(e.removeCommaInNumber(e.totalEvents))):"&notificationType=".concat(t,"&size=").concat(e.Export_FileSize(e.removeCommaInNumber(e.totalAlarms)+e.totalAlarms_cleared));var n=e.http.get("".concat(a));c[t]=n});var d,u={},m="";c.Alarm.subscribe(function(t){(null==t?void 0:t.s3Url)&&(d=null==t?void 0:t.s3Url,u.Alarms=e.http.get("".concat(null==t?void 0:t.s3Url),{responseType:"blob"}).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)})))},function(e){},function(){c.Event.subscribe(function(t){(null==t?void 0:t.s3Url)&&(m=null==t?void 0:t.s3Url,u.Events=e.http.get("".concat(null==t?void 0:t.s3Url),{responseType:"blob"}).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)})))},function(e){},function(){(0,h.D)(u).subscribe(function(t){if(t.Alarms){var a=d.split("/").pop().split("?")[0];(0,ut.saveAs)(t.Alarms,"".concat(a))}if(t.Events){var n=m.split("/").pop().split("?")[0];(0,ut.saveAs)(t.Events,"".concat(n))}e.disableExportBtn=!1},function(t){e.disableExportBtn=!1})})})}else{for(var l in o)null==o[l]||""==o[l]||(""!=r&&(r+="&"),r+=l+"="+encodeURIComponent(o[l]));var v="".concat(this.baseUrl,"notifications?").concat(r,"&from=0&exportReport=true&timeZone=").concat(encodeURIComponent(s));"Alarm"===n.alarmType?v+="&size=".concat(this.Export_FileSize(this.removeCommaInNumber(this.totalAlarms)+this.totalAlarms_cleared)):"Event"===n.alarmType&&(v+="&size=".concat(this.Export_FileSize(this.removeCommaInNumber(this.totalEvents)))),this.http.get(v).subscribe(function(t){(null==t?void 0:t.s3Url)&&e.http.get(null==t?void 0:t.s3Url,{responseType:"blob"}).subscribe(function(a){var n=null==t?void 0:t.s3Url.split("/").pop().split("?")[0];(0,ut.saveAs)(a,"".concat(n)),e.disableExportBtn=!1},function(t){e.disableExportBtn=!1})},function(t){e.disableExportBtn=!1})}}}},{key:"Export_FileSize",value:function(e){return e<=9999?e:e>9999?1e4:100}},{key:"downloadFile",value:function(e){var t=document.createElement("a");t.href=e,t.download=e.substr(e.lastIndexOf("/")+1),t.click()}},{key:"getDataForExport",value:function(){var e=this,t="",a=["severity-event","region-event","location-event","system-event"],n=this.filtersForm.value;this.alarmTypesToExport.forEach(function(e){var i,o=null===(i=n.alarmType)||void 0===i?void 0:i.toLowerCase();if("Both"===n.alarmType&&(o=-1===a.indexOf(e)?"alarm":"event"),"event"===o){var r={"severity-event":"severity","region-event":"region","location-event":"location","system-event":"system"};t=r[e]?r[e]:e}});var i="";for(var o in this.exportParams)null==this.exportParams[o]||""===this.exportParams[o]||(""!=i&&(i+="&"),i+=o+"="+encodeURIComponent(this.exportParams[o]));var r="".concat(this.baseUrl,"notifications?").concat(i,"&from=0");if("Both"===n.alarmType){var s={};["Event","Alarm"].forEach(function(t){var a=e.exportAlarmCount;"Event"===t&&(a=e.eventCountData);var n=e.http.get("".concat(r,"&size=").concat(a)).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)}));s[t]=n}),(0,h.D)(s).subscribe(function(a){var n=[],i="Alarms",o="Alarms \r\n".concat(e.chartOptionService.getSubTitleStr("alarm","severity")," \r\n");a.Alarm&&a.Alarm.alarms&&(n=e.chartOptionService.prepareAlarmCSVData(a.Alarm.alarms,"alarm"),e.exportExcelService.downLoadCSV(i,n,o)),a.Event&&a.Event.alarms&&(i="Events",n=e.chartOptionService.prepareAlarmCSVData(a.Event.alarms,"event"),o="Events \r\n".concat(e.chartOptionService.getSubTitleStr("event",t)," \r\n"),e.exportExcelService.downLoadCSV(i,n,o))})}else{var l="Alarms",c="Alarms \r\n".concat(this.chartOptionService.getSubTitleStr("alarm","severity")," \r\n");"Alarm"===n.alarmType?r+="&size=".concat(this.exportAlarmCount):(r+="&size=".concat(this.eventCountData),l="Events",c="Events \r\n".concat(this.chartOptionService.getSubTitleStr("event",t)," \r\n")),this.http.get(r).subscribe(function(t){var a=[];t&&t.alarms&&(a=e.chartOptionService.prepareAlarmCSVData(t.alarms,"Alarm"===n.alarmType?"alarm":"event")),e.exportExcelService.downLoadCSV(l,a,c)})}}},{key:"resetALarmEventChart",value:function(){this.applyFiltersInFS?this.applyFiltersInFullScreen():this.gotoFullScreen(this.fullscreenParams[0],this.fullscreenParams[1],this.fullscreenParams[2],this.fullscreenParams[3])}},{key:"removeCommaInNumber",value:function(e){return e=e.replace(/\,/g,""),parseInt(e)}},{key:"onAckShelve",value:function(e){var t,a;void 0!==(null==e?void 0:e.ack)?(null===(t=this.list[this.index])||void 0===t?void 0:t.subject)&&(this.list[this.index].subject.ccoAck=null==e?void 0:e.ack):void 0!==(null==e?void 0:e.shelve)&&(null===(a=this.list[this.index])||void 0===a?void 0:a.subject)&&(this.list[this.index].subject.ccoShelved=null==e?void 0:e.shelve)}},{key:"gotoSubscriberImpactedPage",value:function(e){e&&(e.redirectUrl="/cco/issues/device/history-reports"),localStorage.setItem("calix.impactedSubsFSANData",JSON.stringify(e)),this.router.navigate(["/cco/system/subscribers-impact"])}},{key:"getListNew",value:function(e,t,a,n,i){if(this.fullScreen){var o={};o=this.params[null==t?void 0:t.toLowerCase()][e],console.log(o),this.clickOnRaisedAlarms&&(o.status="Raised"),"cleared"===this.clickedAlarmTypeInBC?o.status="Cleared":"raised"===this.clickedAlarmTypeInBC?o.status="Raised":delete o.status;var r="";for(var s in o)null==o[s]||""==o[s]||"Event"===o.notificationType&&-1!==this.skipParamsForEvents.indexOf(s)||(""!=r&&(r+="&"),r+=s+"="+encodeURIComponent(o[s]));i&&(r+="&".concat(i)),this.list=[];var l="".concat(this.baseUrl,"alarmListByPagination?pageSize=").concat(this.entry.value,"&").concat(r);return n&&(l+="&searchField=alarmEventName&searchValue=".concat(n),this.setSearchQuery("searchField=alarmEventName&searchValue=".concat(n))),this.http.get(l)}}},{key:"doSearchNew",value:function(){var e=this;this.searchSub=(0,y.R)(document.getElementById("alarms-list-search-history"),"keyup").pipe((0,Z.b)(500),(0,O.x)(),(0,S.w)(function(t){return e.paginateLoading=!0,e.getListNew(e.chartTypeInFS,e.clickedAlarmType,e.applyFiltersInFS,t.target.value).pipe((0,g.K)(function(e){return e["api-error"]=!0,(0,p.of)(e)}))})).subscribe(function(t){e.list=[],e.paginateLoading=!1,!t["api-error"]&&e.processListResp(t)})}},{key:"getListSub",value:function(e,t){var a=this;this.paginateLoading=!0,this.previousFlag=!1,this.nextFlag=!1,this.getListNew(this.chartTypeInFS,this.clickedAlarmType,this.applyFiltersInFS,e,t).subscribe(function(e){a.processListResp(e)},function(e){},function(){a.paginateLoading=!1}),this.tableLanguageOptions()}},{key:"processListResp",value:function(e){var t=this;this.previousFlag=null==e?void 0:e.previousFlag,this.nextFlag=null==e?void 0:e.nextFlag,e&&e.alarms&&e.alarms.forEach(function(e){var a,n;e.subject.deviceName||(e.subject.deviceName=t.systemsObj[e.subject.deviceId]),e.subject.deviceName=null===(a=e.subject.deviceName)||void 0===a?void 0:a.replace("device=",""),e.subject.deviceName=null===(n=e.subject.deviceName)||void 0===n?void 0:n.replace("DEVICE=",""),e.subject.resourceForUI=t.issueService.generateResourceForUI(e,"EXA"===e.type)}),this.list=e.alarms,this.loading=!1}},{key:"gotoPrevious",value:function(){var e,t;if(this.previousFlag){var a="from=".concat(null===(t=null===(e=this.list[0])||void 0===e?void 0:e.sort)||void 0===t?void 0:t.join(),"&paginate=PREVIOUS");this.searchQuery&&(a+="&".concat(this.searchQuery)),this.getListSub("",a)}}},{key:"gotoNext",value:function(){var e,t,a;if(this.nextFlag){var n=null===(e=this.list)||void 0===e?void 0:e.length,i="from=".concat(null===(a=null===(t=this.list[n-1])||void 0===t?void 0:t.sort)||void 0===a?void 0:a.join(),"&paginate=NEXT");this.searchQuery&&(i+="&".concat(this.searchQuery)),this.getListSub("",i)}}},{key:"setPaginateQuery",value:function(e){this.paginateQuery=e}},{key:"listenChangeEntries",value:function(){var e=this;this.entry.valueChanges.subscribe(function(t){!e.fullScreen||e.getListSub("",e.searchQuery)})}},{key:"setSearchQuery",value:function(e){this.searchQuery=e}},{key:"onRefreshAckShelve",value:function(e){this.showAckShelveBtn=!1}},{key:"setAppliedFilters",value:function(){var e,t;(-1!==(null===(e=this.router.url)||void 0===e?void 0:e.indexOf("/cco/issues/connectivity/history-reports"))||-1!==(null===(t=this.router.url)||void 0===t?void 0:t.indexOf("/cco/issues/health/history-reports")))&&(this.appliedFilters.fsan=!1,this.appliedFilters.customCategory=!1)}},{key:"generateEvent",value:function(e,t,a,n,i,o){"Event"===e.notificationType?o.params.event[i][i]=t.point.series.userOptions.data[a].uuid:o.clickedRegion=t.point.series.userOptions.data[a].regionId,o.deleteParams.event[i][i]=!0,t.point.setState("hover"),o.initLoad=!1,o.showTable=!1,setTimeout(function(){o.showTable=!0,o.count=0,o.getListSub()},500)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(T.Y36(w.s),T.Y36(N.t),T.Y36(_.eN),T.Y36(k.v),T.Y36(q.O),T.Y36(M.v),T.Y36(D.FF),T.Y36(A.qu),T.Y36(P.t6),T.Y36(E.s),T.Y36(I.Dx),T.Y36(l.F0))},t.\u0275cmp=T.Xpm({type:t,selectors:[["app-historyissue"]],viewQuery:function(e,t){var a;(1&e&&(T.Gf(b.G,5),T.Gf(mt,7),T.Gf(pt,7),T.Gf(ht,7),T.Gf(vt,7),T.Gf(ft,7)),2&e)&&(T.iGM(a=T.CRH())&&(t.dtElement=a.first),T.iGM(a=T.CRH())&&(t.showInfoModal=a.first),T.iGM(a=T.CRH())&&(t.addNotesModal=a.first),T.iGM(a=T.CRH())&&(t.showNotesModal=a.first),T.iGM(a=T.CRH())&&(t.deleteModal=a.first),T.iGM(a=T.CRH())&&(t.addSubscriberInfoModel=a.first))},decls:211,vars:104,consts:[["class","mb-2",4,"ngIf"],["role","alert","class","alert alert-warning",4,"ngIf"],["class","mb-4",3,"ngClass",4,"ngIf"],[1,"mb-4",3,"ngClass"],[1,"container","px-0"],[1,"row","my-1"],[1,"col-md-12"],[1,"issue-overview-wrapper"],[1,"issue-overview-item"],[1,"d-flex","justify-content-between"],[1,"mwc-header","flex","w-100","border-bottom"],[1,"cco-secondary-title"],[1,"mwc-btns","flex","align-items-center"],["id","fullScreenExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand-inv",3,"title","click"],[1,"heading-subtitle"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"img","mb-2"],["class","mt-5",4,"ngIf"],["class","mwc-content d-flex",3,"hidden",4,"ngIf"],[1,"row","my-3"],[1,"col-md-8","offset-md-4","pr-0"],[1,"text-right","flat-right"],[1,"row"],[1,"col-md-5"],[1,"d-inline-flex","align-items-center"],[1,"pr-1"],[1,"min-w80px","w-40"],["bindValue","id","bindLabel","name","id","show-entries",3,"formControl","searchable","multiple","items","clearOnBackspace"],[1,"pl-1","text-lowercase"],[1,"col-md-7"],[1,"ccl-form","history-reports-list-search"],["type","text","id","alarms-list-search-history",1,"ccl-input",3,"ngModel","placeholder","ngModelChange","keyup","search"],[1,"search-close","fas","fa-times",3,"click"],["class","row",4,"ngIf"],[3,"ngClass"],[1,"container","px-0",3,"ngClass"],["data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-dload",3,"title","click"],["id","SeverityAlarmExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],["class","mt-3",4,"ngIf"],["class","mwc-content d-flex",4,"ngIf"],["class","issue-overview-item",4,"ngIf"],["id","both-regionwrapper",1,"col-md-12",3,"hidden"],[1,"row","issue-overview-wrapper"],[1,"col-md-6","issue-overview-item",3,"hidden"],["data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],[1,"mwc-content"],[1,"col-12","col-md-12",3,"ngClass"],["id","region-alarm-container-both",1,"chart-box","h-300px"],["id","LocationExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],["id","region-event-container-both",1,"chart-box","h-300px"],["id","both-locationwrapper",1,"col-md-12",3,"hidden"],["id","location-alarm-container-both",1,"chart-box","h-300px"],["id","location-event-container-both",1,"chart-box","h-300px"],["id","both-systemwrapper",1,"col-md-12",3,"hidden"],["id","system-alarm-container-both",1,"chart-box","h-300px"],["id","system-event-container-both",1,"chart-box","h-300px"],["id","dynamic-location-chart-div",1,"issue-overview-item",3,"hidden"],["type","button","aria-label","Close",1,"close","m-2",3,"click"],["aria-hidden","true"],[1,"img","my-2"],["class","mwc-content",4,"ngIf"],["id","both-dynamic-system-chart-div",1,"issue-overview-item",3,"hidden"],["id","SeverityExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],[1,"mwc-content",3,"ngClass"],[1,"col-12","col-md-12","p-2"],["id","bothSystemContainerByClick",1,"chart-box","h-300px"],["class","col-md-12"],["showInfoModal",""],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true","data-backdrop","static","data-keyboard","false",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content","p-0"],[3,"fullData","showAckShelveBtn","hasWriteAccess","hideSource","connected","showNotes","clickedAlarmType","alarmType","ackShelveData","refreshAckShelveBtn"],["class","col-md-12 custom-modal"],["addNotesModal",""],["showNotesModal",""],["deleteModal",""],["addSubscriberInfoModel",""],[1,"mb-2"],[1,"container","filter-elemnts"],[3,"formGroup"],["id","historical-reports-filters",1,"row"],[1,"col-md-12","pl-0","pr-0"],[1,"current-issue-menu-container","flex-wrap"],["class","current-issue-menu-item col-12 col-sm-12 col-md-3 col-lg-3 mpl-1 m-w-170px",4,"ngIf"],["class","current-issue-menu-item col-12 col-sm-12 col-md-3 col-lg-3 m-w-170px",4,"ngIf"],["class","current-issue-menu-item col-12 col-sm-12 col-md-3 col-lg-3",4,"ngIf"],[1,"row","mt-3","pt-1"],[1,"col-md-12","text-left"],[1,"d-inline-flex"],["type","button",1,"btn-default","primary","mr-2",3,"click"],["type","button",1,"btn-default","btn-dft","mr-2",3,"click"],["type","button",1,"btn-default","btn-dft",3,"disabled","click"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-3","col-lg-3","mpl-1","m-w-170px"],["for","Name",1,"col-form-label","select-font"],["id","current-issues-interval",1,"w-100"],[1,"ccl-form"],["id","start_date","appendTo","body","formControlName","startDate","dateFormat","mm-dd-yy",3,"inputStyle","autoZIndex","placeholder","showIcon","maxDate","readonlyInput","showButtonBar","onSelect"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-3","col-lg-3","m-w-170px"],["id","end_date","appendTo","body","formControlName","endDate","dateFormat","mm-dd-yy",3,"inputStyle","autoZIndex","placeholder","showIcon","maxDate","minDate","readonlyInput","showButtonBar","onSelect"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-3","col-lg-3"],["formControlName","alarmType",3,"clearable","searchable","placeholder","change"],["value","Alarm"],["value","Event"],["value","Both"],["formControlName","region","bindValue","id","bindLabel","name",1,"selectboxwidth",3,"multiple","items","clearable","searchable","placeholder","add","remove"],["formControlName","location","bindValue","id","bindLabel","name",1,"selectboxwidth",3,"multiple","items","placeholder","clearable","searchable","add","remove"],["formControlName","system","bindValue","uuid","bindLabel","name",1,"selectboxwidth",3,"multiple","items","placeholder","clearable","searchable","change","add","remove"],["id","current-issues-interval",1,"custom-selectbox","w-100"],["formControlName","eventName","id","eventName","bindValue","id","bindLabel","name",3,"searchable","multiple","placeholder","items","change","add","remove"],["id","current-issues-interval",1,"w-100","ccl-form"],["id","FSAN","name","FSAN","type","text","maxlength","12","formControlName","fsan",1,"form-control",3,"placeholder","keypress","keyup"],["class","vald-tag",4,"ngIf"],[1,"vald-tag"],["formControlName","severity",3,"clearable","searchable","placeholder","multiple","change"],["value","All"],["value","critical"],["value","major"],["value","minor"],["value","warning"],["value","info"],["for","Name","id","pendoCCOCategory",1,"col-form-label","select-font"],["formControlName","category","bindValue","id","bindLabel","name",3,"searchable","multiple","placeholder","items","add","remove"],["for","Name","id","pendoCCOAlarmGroup",1,"col-form-label","select-font"],["formControlName","customCategory","bindValue","id","bindLabel","name",3,"clearable","searchable","multiple","placeholder","items","change"],["for","Name","id","acknowledgedAlarms",1,"col-form-label","select-font"],["formControlName","cco_ack","bindValue","id","bindLabel","name",3,"clearable","searchable","multiple","placeholder","items"],["for","Name","id","shelvedAlarms",1,"col-form-label","select-font"],["formControlName","cco_shelv","bindValue","id","bindLabel","name",3,"clearable","searchable","multiple","placeholder","items"],["role","alert",1,"alert","alert-warning"],["id","historical-reports-Alarms-Severity",1,"issue-overview-item",3,"ngClass"],[1,"img","mb-2",3,"hidden"],["class","issue-overview-item","id","historical-reports-Alarms-Day",4,"ngIf"],["id","historical-reports-Alarm-System",1,"issue-overview-item",3,"hidden"],["id","SystemExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],["id","systemContainer",1,"chart-box","h-300px"],["id","historical-reports-Alarms-Region",1,"issue-overview-item",3,"hidden"],[1,"mwc-content",3,"hidden"],["id","regionContainer",1,"chart-box","h-300px"],["class","mwc-content",3,"hidden",4,"ngIf"],["id","dynamic-system-chart-div",1,"issue-overview-item",3,"hidden"],[1,"col-md-12",3,"hidden"],["id","systemContainerByClick",1,"chart-box","h-300px"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"mt-3"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"mwc-content","d-flex"],[1,"col-12","col-md-6"],["id","severityContainer",1,"chart-box","h-300px"],["id","severityClearedContainer",1,"chart-box","h-300px"],[1,"col-12","col-md-12"],["id","severityAlarmsContainer",1,"chart-box","h-300px"],["id","historical-reports-Alarms-Day",1,"issue-overview-item"],[1,"mwc-content","d-flex",3,"ngClass"],[1,"col-12","col-md-12",3,"hidden"],["id","event-alarm-line-chart-container",1,"chart-box","h-300px"],[1,"mt-5"],["id","locationContainer",1,"h-300px"],[1,"mwc-content","d-flex",3,"hidden"],["class","col-12 col-md-12",4,"ngIf"],["id","fullChartAlarmEventContainer",1,"chart-box","h-450px"],["id","fullChartContainer",1,"chart-box","h-450px"],["class","col-12 col-md-6",4,"ngIf"],["id","fullChartSeverityClearedContainer",1,"chart-box","h-450px"],["class","col-md-12 overflow-auto",4,"ngIf"],[1,"col-md-12","overflow-auto"],["datatable","",1,"table","table-borderless",3,"dtOptions"],[1,"sorting-th-custom"],[1,"min-98px"],["class","col-severty",4,"ngIf"],["id","pendo_subscriber_impact"],["class","col-recom",4,"ngIf"],[4,"ngIf"],["class","pointer",3,"click",4,"ngFor","ngForOf"],[1,"col-severty"],[1,"col-recom"],[1,"pointer",3,"click"],["data-toggle","modal","data-target",".bd-example-modal-lg"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-resource","col-recom"],[1,"col-res-data","subj-text",3,"innerHtml"],["class","col-severty","data-toggle","modal","data-target",".bd-example-modal-lg",4,"ngIf"],[1,"d-flex","align-items-center"],["class","action-info-u primary p-blue pointer",3,"click",4,"ngIf"],["class","col-recom","data-toggle","modal","data-target",".bd-example-modal-lg",4,"ngIf"],["class","text-center min-w70px",4,"ngIf"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-severty"],[1,"dot"],[1,"action-info-u","primary","p-blue","pointer",3,"click"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-recom"],[1,"subj-text"],[1,"text-center","min-w70px"],["class","d-inline-flex primary pointer","data-toggle","modal","data-target","bd-example-modal-sm",3,"click",4,"ngIf"],["class","d-inline-flex mr-2 primary pointer","data-toggle","modal","data-target","bd-example-modal-sm",3,"click",4,"ngIf"],["data-toggle","modal","data-target","bd-example-modal-sm",1,"d-inline-flex","primary","pointer",3,"click"],["src","assets/img/add-note.png",1,"pointer","wh-20px"],["data-toggle","modal","data-target","bd-example-modal-sm",1,"d-inline-flex","mr-2","primary","pointer",3,"click"],["src","./assets/img/net-edit.svg",1,"pointer",3,"title"],["src","./assets/img/net-delete.svg",1,"pointer",3,"title"],["colspan","9",1,"no-data-available"],[1,"col-12","overflow-auto"],["class","loader",4,"ngIf"],[1,"table","table-data"],[1,"table-pagination","w-100","d-flex","flex-wrap","pb-2","justify-content-end","pt-4"],[1,"page-action-buttons"],[1,"page-navigate","page-button",3,"ngClass","click"],[1,"loader"],["data-toggle","modal","data-target",".bd-example-modal-lg",4,"ngIf"],["id","severityAlarmContainer",1,"chart-box","h-300px"],["id","severityClearedAlarmContainer",1,"chart-box","h-300px"],["id","severityBothAlarmContainer",1,"chart-box","h-300px"],["id","both-event-alarm-line-chart-container",1,"chart-box","h-300px"],[1,"col-12","col-md-12","p-2",3,"ngClass"],["id","location-both-container",1,"chart-box","h-300px"],[1,"modal-header","d-block"],["id","showInfoModal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"modal-body","add-device-model"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3","px-3",3,"click"],[1,"form-group","ccl-form"],["id","description","rows","3","trimSpace","",1,"form-control",3,"formControl","placeholder","formValue"],[1,"col-md-12","pl-0","text-left","mt-3"],["type","submit","class","btn-default primary  px-3",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-default","transparant","px-3","m-2",3,"click"],["type","submit",1,"btn-default","primary","px-3",3,"disabled","click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","mr-2",3,"disabled","click"],["type","button",1,"btn-default","btn-dft",3,"click"],["class","expand-info-container",4,"ngIf"],[1,"expand-info-container"],[1,"expand-info-item"]],template:function(e,t){1&e&&(T.YNc(0,Pt,34,18,"section",0),T.YNc(1,Et,2,1,"div",1),T.YNc(2,Kt,86,46,"section",2),T.TgZ(3,"section"),T.TgZ(4,"section",3),T.TgZ(5,"div",4),T.TgZ(6,"div",5),T.TgZ(7,"div",6),T.TgZ(8,"div",7),T.TgZ(9,"div",8),T.TgZ(10,"div",9),T.TgZ(11,"div",10),T.TgZ(12,"div",11),T._uU(13),T.qZA(),T.TgZ(14,"div",12),T.TgZ(15,"button",13),T.NdJ("click",function(){return t.fullScreenInvertFunction()}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(16,"h5",14),T._uU(17),T.qZA(),T.YNc(18,Xt,6,1,"div",15),T.TgZ(19,"div",16),T.YNc(20,ea,5,1,"div",17),T.YNc(21,aa,2,2,"div",18),T.YNc(22,ia,4,3,"div",18),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(23,"div",4),T.TgZ(24,"div",19),T.TgZ(25,"div",20),T.TgZ(26,"div",21),T.TgZ(27,"div",22),T.TgZ(28,"div",23),T.TgZ(29,"div",24),T.TgZ(30,"div",25),T._uU(31),T.qZA(),T.TgZ(32,"div",26),T._UZ(33,"ng-select",27),T.qZA(),T.TgZ(34,"div",28),T._uU(35),T.qZA(),T.qZA(),T.qZA(),T.TgZ(36,"div",29),T.TgZ(37,"div",30),T.TgZ(38,"input",31),T.NdJ("ngModelChange",function(e){return t.searchTerm=e})("keyup",function(e){return t.search(e.target.value)})("search",function(e){return t.search(e.target.value)}),T.qZA(),T.TgZ(39,"i",32),T.NdJ("click",function(){return t.clearSearchInp()}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.YNc(40,ba,2,1,"div",33),T.YNc(41,Ea,31,22,"div",33),T.qZA(),T.qZA(),T.qZA(),T.TgZ(42,"section",34),T.TgZ(43,"div",35),T.TgZ(44,"div",19),T.TgZ(45,"div",6),T.TgZ(46,"div",7),T.TgZ(47,"div",8),T.TgZ(48,"div",9),T.TgZ(49,"div",10),T.TgZ(50,"div",11),T._uU(51),T.qZA(),T.TgZ(52,"div",12),T.TgZ(53,"button",36),T.NdJ("click",function(){return t.download("severity","alarm")}),T.qZA(),T.TgZ(54,"button",37),T.NdJ("click",function(){return t.gotoFullScreen("severity","Alarm")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(55,"h5",14),T._uU(56),T.qZA(),T.YNc(57,Ia,6,1,"div",15),T.TgZ(58,"div",16),T.YNc(59,Ua,5,1,"div",38),T.YNc(60,Fa,5,0,"div",39),T.YNc(61,La,3,0,"div",39),T.qZA(),T.qZA(),T.YNc(62,Ra,13,6,"div",40),T.qZA(),T.qZA(),T.TgZ(63,"div",41),T.TgZ(64,"div",42),T.TgZ(65,"div",43),T.TgZ(66,"div",9),T.TgZ(67,"div",10),T.TgZ(68,"div",11),T._uU(69),T.qZA(),T.TgZ(70,"div",12),T.TgZ(71,"button",36),T.NdJ("click",function(){return t.download("region","alarm")}),T.qZA(),T.TgZ(72,"button",44),T.NdJ("click",function(){return t.gotoFullScreen("region","Alarm")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(73,"h5",14),T._uU(74),T.qZA(),T.YNc(75,Ha,6,1,"div",15),T.TgZ(76,"div",16),T.YNc(77,Qa,5,1,"div",17),T.TgZ(78,"div",45),T.TgZ(79,"div",46),T._UZ(80,"div",47),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(81,"div",43),T.TgZ(82,"div",9),T.TgZ(83,"div",10),T.TgZ(84,"div",11),T._uU(85),T.qZA(),T.TgZ(86,"div",12),T.TgZ(87,"button",36),T.NdJ("click",function(){return t.download("region","event")}),T.qZA(),T.TgZ(88,"button",48),T.NdJ("click",function(){return t.gotoFullScreen("region","Event")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(89,"h5",14),T._uU(90),T.qZA(),T.YNc(91,Ba,6,1,"div",15),T.TgZ(92,"div",16),T.YNc(93,Va,5,1,"div",17),T.TgZ(94,"div",45),T.TgZ(95,"div",46),T._UZ(96,"div",49),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(97,"div",50),T.TgZ(98,"div",42),T.TgZ(99,"div",43),T.TgZ(100,"div",9),T.TgZ(101,"div",10),T.TgZ(102,"div",11),T._uU(103),T.qZA(),T.TgZ(104,"div",12),T.TgZ(105,"button",36),T.NdJ("click",function(){return t.download("location","alarm")}),T.qZA(),T.TgZ(106,"button",44),T.NdJ("click",function(){return t.gotoFullScreen("location","Alarm")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(107,"h5",14),T._uU(108),T.qZA(),T.YNc(109,Ya,6,1,"div",15),T.TgZ(110,"div",16),T.YNc(111,$a,5,1,"div",17),T.TgZ(112,"div",45),T.TgZ(113,"div",46),T._UZ(114,"div",51),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(115,"div",43),T.TgZ(116,"div",9),T.TgZ(117,"div",10),T.TgZ(118,"div",11),T._uU(119),T.qZA(),T.TgZ(120,"div",12),T.TgZ(121,"button",36),T.NdJ("click",function(){return t.download("location","event")}),T.qZA(),T.TgZ(122,"button",48),T.NdJ("click",function(){return t.gotoFullScreen("location","Event")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(123,"h5",14),T._uU(124),T.qZA(),T.YNc(125,za,6,1,"div",15),T.TgZ(126,"div",16),T.YNc(127,Ga,5,1,"div",17),T.TgZ(128,"div",45),T.TgZ(129,"div",46),T._UZ(130,"div",52),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(131,"div",53),T.TgZ(132,"div",42),T.TgZ(133,"div",43),T.TgZ(134,"div",9),T.TgZ(135,"div",10),T.TgZ(136,"div",11),T._uU(137),T.qZA(),T.TgZ(138,"div",12),T.TgZ(139,"button",36),T.NdJ("click",function(){return t.download("system","alarm")}),T.qZA(),T.TgZ(140,"button",44),T.NdJ("click",function(){return t.gotoFullScreen("system","Alarm")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(141,"h5",14),T._uU(142),T.qZA(),T.YNc(143,Wa,6,1,"div",15),T.TgZ(144,"div",16),T.YNc(145,Ka,5,1,"div",17),T.TgZ(146,"div",45),T.TgZ(147,"div",46),T._UZ(148,"div",54),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(149,"div",43),T.TgZ(150,"div",9),T.TgZ(151,"div",10),T.TgZ(152,"div",11),T._uU(153),T.qZA(),T.TgZ(154,"div",12),T.TgZ(155,"button",36),T.NdJ("click",function(){return t.download("system","event")}),T.qZA(),T.TgZ(156,"button",48),T.NdJ("click",function(){return t.gotoFullScreen("system","Event")}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(157,"h5",14),T._uU(158),T.qZA(),T.YNc(159,Xa,6,1,"div",15),T.TgZ(160,"div",16),T.YNc(161,en,5,1,"div",17),T.TgZ(162,"div",45),T.TgZ(163,"div",46),T._UZ(164,"div",55),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(165,"div",6),T.TgZ(166,"div",7),T.TgZ(167,"div",56),T.TgZ(168,"div",9),T.TgZ(169,"div",10),T.TgZ(170,"div",11),T._uU(171),T.qZA(),T.TgZ(172,"div",12),T.TgZ(173,"button",48),T.NdJ("click",function(){return t.gotoFullScreen("location","Alarm"==t.alarmTypeInBoth?"Alarm":"Event")}),T.qZA(),T.TgZ(174,"button",57),T.NdJ("click",function(){return t.loadLocationChart=!t.loadLocationChart}),T._UZ(175,"span",58),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.YNc(176,tn,6,1,"div",15),T.TgZ(177,"div",59),T.YNc(178,an,5,1,"div",17),T.YNc(179,nn,3,1,"div",60),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(180,"div",6),T.TgZ(181,"div",7),T.TgZ(182,"div",61),T.TgZ(183,"div",9),T.TgZ(184,"div",10),T.TgZ(185,"div",11),T._uU(186),T.qZA(),T.TgZ(187,"div",12),T.TgZ(188,"button",62),T.NdJ("click",function(){return t.gotoFullScreen("system","Alarm"==t.alarmTypeInBoth?"Alarm":"Event")}),T.qZA(),T.TgZ(189,"button",57),T.NdJ("click",function(){return t.loadSystemChart=!t.loadSystemChart}),T._UZ(190,"span",58),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.YNc(191,on,6,1,"div",15),T.TgZ(192,"div",59),T.YNc(193,rn,5,1,"div",38),T.TgZ(194,"div",63),T.TgZ(195,"div",64),T._UZ(196,"div",65),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.YNc(197,sn,10,3,"ng-template",66,67,T.W1O),T.TgZ(199,"div",68),T.TgZ(200,"div",69),T.TgZ(201,"div",70),T.TgZ(202,"app-alarm-details",71),T.NdJ("ackShelveData",function(e){return t.onAckShelve(e)})("refreshAckShelveBtn",function(e){return t.onRefreshAckShelve(e)}),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.YNc(203,un,16,9,"ng-template",72,73,T.W1O),T.YNc(205,mn,8,2,"ng-template",72,74,T.W1O),T.YNc(207,vn,16,7,"ng-template",null,75,T.W1O),T.YNc(209,Cn,10,4,"ng-template",72,76,T.W1O)),2&e&&(T.Q6J("ngIf",t.hasScopeAccess),T.xp6(1),T.Q6J("ngIf",!t.hasScopeAccess),T.xp6(1),T.Q6J("ngIf",t.hasScopeAccess),T.xp6(2),T.Q6J("ngClass",t.fullScreen?"d-block":"d-none"),T.xp6(9),T.hij(" ",t.fullScreenChartName," "),T.xp6(2),T.s9C("title",t.language.lossofpon_fullscreen_close_tip),T.xp6(2),T.hij(" ",t.fullScrenSubHeading,""),T.xp6(1),T.Q6J("ngIf",t.errors.alarmevent),T.xp6(2),T.Q6J("ngIf",t.loading),T.xp6(1),T.Q6J("ngIf",t.clickedAlarmTypeInBC||t.appliedParams.status),T.xp6(1),T.Q6J("ngIf",!(t.clickedAlarmTypeInBC||t.appliedParams.status)),T.xp6(9),T.Oqu(t.language.Show),T.xp6(2),T.Q6J("formControl",t.entry)("searchable",!1)("multiple",!1)("items",t.entries)("clearOnBackspace",!1),T.xp6(2),T.Oqu(t.language.entries),T.xp6(3),T.Q6J("ngModel",t.searchTerm)("placeholder","Alarm"===t.clickedAlarmType&&"Event"!==t.alarmType?t.language["Search by Alarm name"]:t.language["Search by Event name"]),T.xp6(2),T.Q6J("ngIf",!t.showNewPagination),T.xp6(1),T.Q6J("ngIf",t.showNewPagination),T.xp6(1),T.Q6J("ngClass",t.fullScreen?"d-none":"d-block"),T.xp6(1),T.Q6J("ngClass",t.both?"d-block":"d-none"),T.xp6(8),T.hij(" ",t.language["Alarm by Severity"]," "),T.xp6(2),T.s9C("title",t.language.export),T.xp6(1),T.s9C("title",t.language.lossofpon_fullscreen_tip),T.xp6(2),T.hij(" ",t.language["Select a severity to view all alarms of that severity"],""),T.xp6(1),T.Q6J("ngIf",t.serverityError),T.xp6(2),T.Q6J("ngIf",t.loading),T.xp6(1),T.Q6J("ngIf",!t.appliedParams.status),T.xp6(1),T.Q6J("ngIf",t.appliedParams.status),T.xp6(1),T.Q6J("ngIf","Event"!==t.alarmType),T.xp6(1),T.Q6J("hidden",!t.bothRegion),T.xp6(2),T.Q6J("hidden",!t.bothRegionAlarm),T.xp6(4),T.hij(" ",t.language["Alarm by Region"]," "),T.xp6(2),T.s9C("title",t.language.export),T.xp6(1),T.s9C("title",t.language.lossofpon_fullscreen_tip),T.xp6(2),T.hij(" ",t.language["Select a region to view locations in that region"],""),T.xp6(1),T.Q6J("ngIf",t.errors.region&&!t.loadLocationChart),T.xp6(2),T.Q6J("ngIf",t.loading),T.xp6(2),T.Q6J("ngClass",t.loading?"d-none":"d-block"),T.xp6(2),T.Q6J("hidden",!t.bothRegionEvent),T.xp6(4),T.hij(" ",t.language["Event by Region"]," "),T.xp6(2),T.s9C("title",t.language.export),T.xp6(1),T.s9C("title",t.language.lossofpon_fullscreen_tip),T.xp6(2),T.hij(" ",t.language["Select a region to view locations in that region"],""),T.xp6(1),T.Q6J("ngIf",t.regionError&&!t.loadLocationChart),T.xp6(2),T.Q6J("ngIf",t.loading),T.xp6(2),T.Q6J("ngClass",t.loading?"d-none":"d-block"),T.xp6(2),T.Q6J("hidden",!t.bothLocation),T.xp6(2),T.Q6J("hidden",!t.bothLocationAlarm),T.xp6(4),T.hij(" ",t.language["Alarm by Location"]," "),T.xp6(2),T.s9C("title",t.language.export),T.xp6(1),T.s9C("title",t.language.lossofpon_fullscreen_tip),T.xp6(2),T.hij(" ",t.language["Select a location to view systems in that location"],""),T.xp6(1),T.Q6J("ngIf",t.errors.location),T.xp6(2),T.Q6J("ngIf",t.loaders.alarm.location),T.xp6(2),T.Q6J("ngClass",t.loaders.alarm.location?"d-none":"d-block"),T.xp6(2),T.Q6J("hidden",!t.bothLocationEvent),T.xp6(4),T.hij(" ",t.language["Event by Location"]," "),T.xp6(2),T.s9C("title",t.language.export),T.xp6(1),T.s9C("title",t.language.lossofpon_fullscreen_tip),T.xp6(2),T.hij(" ",t.language["Select a location to view systems in that location"],""),T.xp6(1),T.Q6J("ngIf",t.errors["location-event"]),T.xp6(2),T.Q6J("ngIf",t.loaders.event.location),T.xp6(2),T.Q6J("ngClass",t.loaders.event.location?"d-none":"d-block"),T.xp6(2),T.Q6J("hidden",!t.bothSystem),T.xp6(2),T.Q6J("hidden",!t.bothSystemAlarm),T.xp6(4),T.hij(" ",t.language["Alarm by System"]," "),T.xp6(2),T.s9C("title",t.language.export),T.xp6(1),T.s9C("title",t.language.lossofpon_fullscreen_tip),T.xp6(2),T.hij(" ",t.language["Select a system severity to view all alarms of that severity for that system"],""),T.xp6(1),T.Q6J("ngIf",t.errors.system),T.xp6(2),T.Q6J("ngIf",t.loaders.alarm.system),T.xp6(2),T.Q6J("ngClass",t.loaders.alarm.system?"d-none":"d-block"),T.xp6(2),T.Q6J("hidden",!t.bothSystemEvent),T.xp6(4),T.hij(" ",t.language["Event by System"]," "),T.xp6(2),T.s9C("title",t.language.export),T.xp6(1),T.s9C("title",t.language.lossofpon_fullscreen_tip),T.xp6(2),T.hij(" ",t.language["Select a system to view all events for that system"],""),T.xp6(1),T.Q6J("ngIf",t.errors["system-event"]),T.xp6(2),T.Q6J("ngIf",t.loaders.event.system),T.xp6(2),T.Q6J("ngClass",t.loaders.event.system?"d-none":"d-block"),T.xp6(4),T.Q6J("hidden",!t.loadLocationChart||t.filterApplied),T.xp6(4),T.hij(" ","Alarm"==t.alarmTypeInBoth?t.language["Alarm by Location"]:t.language["Event by Location"]," "),T.xp6(2),T.s9C("title",t.language.lossofpon_fullscreen_tip),T.xp6(3),T.Q6J("ngIf",t.locationError&&t.loadLocationChart),T.xp6(2),T.Q6J("ngIf",t.loading),T.xp6(1),T.Q6J("ngIf",t.loadLocationChart),T.xp6(3),T.Q6J("hidden",!t.loadSystemChart||t.filterApplied),T.xp6(4),T.hij(" ","Alarm"==t.alarmTypeInBoth?t.language["Alarm by System"]:t.language["Event by System"]," "),T.xp6(2),T.s9C("title",t.language.lossofpon_fullscreen_tip),T.xp6(3),T.Q6J("ngIf",t.systemError),T.xp6(2),T.Q6J("ngIf",t.loading),T.xp6(1),T.Q6J("ngClass",t.loading?"d-none":"d-block"),T.xp6(8),T.Q6J("fullData",t.fullData)("showAckShelveBtn",t.showAckShelveBtn)("hasWriteAccess",t.hasWriteAccess)("hideSource",t.hideSource)("connected",!0)("showNotes",!0)("clickedAlarmType",t.clickedAlarmType)("alarmType",t.alarmType))},directives:[s.O5,s.mk,U.w9,A.JJ,A.oH,A.Fj,A.On,F.M,A._Y,A.JL,A.sg,L.f,A.u,U.xv,A.nD,b.G,s.sg,j.f],styles:['@charset "UTF-8";.p-10[_ngcontent-%COMP%]{padding:10px}.p-15[_ngcontent-%COMP%]{padding:15px}.p-20[_ngcontent-%COMP%]{padding:20px}.p-25[_ngcontent-%COMP%]{padding:25px}.p-30[_ngcontent-%COMP%]{padding:30px}.p-35[_ngcontent-%COMP%]{padding:35px}.p-40[_ngcontent-%COMP%]{padding:40px}.p-45[_ngcontent-%COMP%]{padding:45px}.p-50[_ngcontent-%COMP%]{padding:50px}.p-55[_ngcontent-%COMP%]{padding:55px}.p-60[_ngcontent-%COMP%]{padding:60px}.pt-10[_ngcontent-%COMP%]{padding-top:10px}.pt-15[_ngcontent-%COMP%]{padding-top:15px}.pt-20[_ngcontent-%COMP%]{padding-top:20px}.pt-25[_ngcontent-%COMP%]{padding-top:25px}.pt-30[_ngcontent-%COMP%]{padding-top:30px}.pt-35[_ngcontent-%COMP%]{padding-top:35px}.pt-40[_ngcontent-%COMP%]{padding-top:40px}.pt-45[_ngcontent-%COMP%]{padding-top:45px}.pt-50[_ngcontent-%COMP%]{padding-top:50px}.pt-55[_ngcontent-%COMP%]{padding-top:55px}.pt-60[_ngcontent-%COMP%]{padding-top:60px}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.mt-25[_ngcontent-%COMP%]{margin-top:25px}.mt-30[_ngcontent-%COMP%]{margin-top:30px}.mt-35[_ngcontent-%COMP%]{margin-top:35px}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mt-45[_ngcontent-%COMP%]{margin-top:45px}.mt-50[_ngcontent-%COMP%]{margin-top:50px}.mt-55[_ngcontent-%COMP%]{margin-top:55px}.mt-60[_ngcontent-%COMP%]{margin-top:60px}.mb0[_ngcontent-%COMP%]{margin-bottom:0}.mb1[_ngcontent-%COMP%]{margin-bottom:10px}.mb15[_ngcontent-%COMP%]{margin-bottom:15px}.mb2[_ngcontent-%COMP%]{margin-bottom:20px}.mb3[_ngcontent-%COMP%]{margin-bottom:30px}.mb4[_ngcontent-%COMP%]{margin-bottom:40px}.mb5[_ngcontent-%COMP%]{margin-bottom:50px}.mb6[_ngcontent-%COMP%]{margin-bottom:60px}.mb7[_ngcontent-%COMP%]{margin-bottom:70px}.mb8[_ngcontent-%COMP%]{margin-bottom:80px}.mb9[_ngcontent-%COMP%]{margin-bottom:90px}.primary[_ngcontent-%COMP%]{color:#0279ff}.secondary[_ngcontent-%COMP%]{color:#0054b2}.calixpurple[_ngcontent-%COMP%]{color:#43367d}.calixblue[_ngcontent-%COMP%]{color:#324a9d}.calixsky[_ngcontent-%COMP%]{color:#387cbf}.calixorange[_ngcontent-%COMP%]{color:#e97b00}.brightred[_ngcontent-%COMP%]{color:#ff3600}.lightred[_ngcontent-%COMP%]{color:#ff734f}.purple[_ngcontent-%COMP%]{color:#91479b}.error[_ngcontent-%COMP%]{color:#c70000}.warning[_ngcontent-%COMP%]{color:#ff8238}.warningt[_ngcontent-%COMP%]{color:#c74900}.success[_ngcontent-%COMP%]{color:#82bf00}.successt[_ngcontent-%COMP%]{color:#507500}.caution[_ngcontent-%COMP%]{color:#f7c343}.wgrey[_ngcontent-%COMP%]{color:#f8f8fa}.snowgrey[_ngcontent-%COMP%]{color:#ebeaef}.lgrey[_ngcontent-%COMP%]{color:#ccc}.calixgrey[_ngcontent-%COMP%]{color:#9e9e9e}.blastgrey[_ngcontent-%COMP%]{color:gray}.greyaa[_ngcontent-%COMP%]{color:#1a1f22}.darkgrey[_ngcontent-%COMP%]{color:#333}.calixblack[_ngcontent-%COMP%]{color:#1a1f22}.calixblack[_ngcontent-%COMP%]{color:#000}.calixred[_ngcontent-%COMP%]{color:#fb2d55}.calixgreen[_ngcontent-%COMP%]{color:#349885}.calixaqblue[_ngcontent-%COMP%]{color:#26c0eb}.title[_ngcontent-%COMP%]{font-size:42px;font-weight:300;line-height:53px}.title-second[_ngcontent-%COMP%]{font-size:24px!important;font-style:normal;font-weight:400!important;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.heading-sm[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:22px}.listlabels[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:22px}.listdataem[_ngcontent-%COMP%]{font-size:13px;font-weight:600;line-height:21px}.listdata[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:24px}.formlabels[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:16px}.captions[_ngcontent-%COMP%]{font-size:11px;font-weight:600;line-height:13.2px}.chartno[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.btn-large[_ngcontent-%COMP%]{border-radius:26px;padding:12px;min-width:130px;text-align:center;font-size:20px;font-weight:400;color:#fff;box-shadow:5px 5px 10px #00000026;border:0}.btn-large.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-large.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-large.primary[_ngcontent-%COMP%]:focus{background:#0054b2;outline:none;box-shadow:none;border:0}.btn-large.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-large.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-large.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-default[_ngcontent-%COMP%]{border-radius:16px;padding:5px;min-width:86px;text-align:center;font-size:16px;font-weight:400;color:#fff;box-shadow:3px 3px 6px #00000026;border:0}.btn-default.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-default.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-default.primary[_ngcontent-%COMP%]:focus{background:#0054b2}.btn-default.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-default.btn-dft[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c;border:1px solid #CCCCCC}.btn-default.btn-dft[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-default.btn-dft[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-default.btn-dft.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-small[_ngcontent-%COMP%]{border-radius:12px;padding:3px;min-width:70px;text-align:center;font-size:12px;font-weight:400;color:#fff;box-shadow:2px 2px 4px #00000026;border:0}.btn-small.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-small.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-small.primary[_ngcontent-%COMP%]:focus{background:#EBEAEF}.btn-small.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-small.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-small.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-round[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;display:flex;justify-content:center;align-items:center;border:0;background-position:center;background-repeat:no-repeat;padding:0}.btn-round.info-round[_ngcontent-%COMP%]{width:32px;height:32px}.btn-round.primary[_ngcontent-%COMP%]{background-color:#0279ff}.btn-round.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-round.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-round[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none;border:0}.btn-round.btn-small-24[_ngcontent-%COMP%]{width:24px;height:24px}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow[_ngcontent-%COMP%]{height:32px;line-height:32px;min-width:110px;text-align:center;border:0;padding:0;box-shadow:2px 2px 4px #00000026;font-size:16px;font-weight:400;color:#1a1f22;justify-content:center;align-items:center;position:relative;border-radius:26px}.btn-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;top:-2px}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]{box-shadow:none}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.btn-arrow.btn-arr-nxt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:10px}.btn-arrow.primary[_ngcontent-%COMP%]{background-color:#0279ff;color:#fff}.btn-arrow.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-arrow.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-arrow.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-arrow.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}[type=radio][_ngcontent-%COMP%]:checked, [type=radio][_ngcontent-%COMP%]:not(:checked){width:16px;height:16px;min-height:16px;position:relative!important;cursor:pointer;appearance:none;-webkit-appearance:none;-moz-appearance:none}[type=radio][_ngcontent-%COMP%]:checked:before, [type=radio][_ngcontent-%COMP%]:checked:after, [type=radio][_ngcontent-%COMP%]:not(:checked):before{content:"";position:absolute;border-radius:100%}[type=radio][_ngcontent-%COMP%]:checked:before{background:#0279FF;width:16px;height:16px;top:0px}[type=radio][_ngcontent-%COMP%]:checked:after{width:12px;height:12px;background:#0279FF;top:2px;left:2px;border:1px solid #ffffff;z-index:9}[type=radio][_ngcontent-%COMP%]:not(:checked):before{background:#ffffff;border:1px solid #CCCCCC;width:16px;height:16px}[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], [type=radio][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{position:relative;padding-left:10px;cursor:pointer;display:inline-block;color:#666}[type=radio][_ngcontent-%COMP%]:checked:disabled:before{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:checked:disabled:after{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:disabled, [type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{cursor:not-allowed}[type=radio][_ngcontent-%COMP%]:not(:checked):hover:before{background:#ffffff;border:1px solid #0279FF}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:hover:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:focus{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:active{border-color:transparent!important}.test-container[_ngcontent-%COMP%]{display:flex;width:100%}.item[_ngcontent-%COMP%]{flex-grow:1;border-left:1px solid #cdcdcd;padding-left:12px;width:calc(100% / 4)}.item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:2%}.sub-menu-list-icon[_ngcontent-%COMP%]{font-weight:400;padding:5px 10px;border-radius:15px;font-size:14px;line-height:24px;color:#507500}.sub-menu-list-icon2[_ngcontent-%COMP%]{font-weight:400;padding:5px 10px;border-radius:15px;font-size:14px;line-height:24px;color:#c70000}.gly-rotate-45[_ngcontent-%COMP%]{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=.5);transform:rotate(45deg)}.gly-rotate-90[_ngcontent-%COMP%]{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=.5);transform:rotate(-66deg)}.issue-overview-wrapper[_ngcontent-%COMP%]{width:100%}.issue-overview-item[_ngcontent-%COMP%]{flex-grow:1;width:100%}.issue-overview-item1[_ngcontent-%COMP%]{flex-grow:1;width:50%}.all-icon[_ngcontent-%COMP%]{font-size:10px;color:#9c9c9c}.current-issues-table[_ngcontent-%COMP%]{width:100%}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:14px}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{font-size:14px}.btn-secondary[_ngcontent-%COMP%]{color:#5f6165!important;background-color:#f8f8fa!important;border-color:#f8f8fa!important;padding:3px \\200b 10px}.undo-icon[_ngcontent-%COMP%]{background-color:#f8f8fa;padding:3px;color:#9e9e9e;border-radius:15px;margin:2px;font-size:17px;cursor:pointer;width:30px;height:30px;text-align:center}.current-issue-menu-container[_ngcontent-%COMP%]{display:flex;margin:10px 0 0;justify-self:start;align-items:center;flex-wrap:wrap}.current-issue-menu-item[_ngcontent-%COMP%]{flex-grow:0;width:16%}.chart-title[_ngcontent-%COMP%]{font-size:14px}.mwc-header[_ngcontent-%COMP%]{justify-content:space-between;margin-bottom:10px}.mwc-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:calc(100% - 120px)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]{justify-content:flex-end;width:120px}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24[_ngcontent-%COMP%]{width:24px;height:24px}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa;background-position:center;background-repeat:no-repeat}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-que[_ngcontent-%COMP%]{margin-right:15px;background-image:url(ic_info_grey.89b781511c1fde63583b.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-que[_ngcontent-%COMP%]:hover{background-image:url(ic_info_grey.89b781511c1fde63583b.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-que[_ngcontent-%COMP%]:focus{background-image:url(ic_info_grey.89b781511c1fde63583b.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-dload[_ngcontent-%COMP%]{margin-right:6px;background-image:url(ic_download_grey.9f487628f7100a5a71b9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-dload[_ngcontent-%COMP%]:hover{background-image:url(ic_download_grey.9f487628f7100a5a71b9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-dload[_ngcontent-%COMP%]:focus{background-image:url(ic_download_grey.9f487628f7100a5a71b9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand[_ngcontent-%COMP%]{margin-right:6px;background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand[_ngcontent-%COMP%]:hover{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand[_ngcontent-%COMP%]:focus{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand-inv[_ngcontent-%COMP%]{margin-right:6px;background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand-inv[_ngcontent-%COMP%]:hover{background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand-inv[_ngcontent-%COMP%]:focus{background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg)}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400;padding:10px 5px;font-size:16px}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;font-size:14px}.btn-dload.spinnershow[_ngcontent-%COMP%]{background-image:url(spinnersmall.8539076b5d15004b8953.svg)!important}[_nghost-%COMP%]     table.dataTable td.dataTables_empty{display:none}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:20px;max-width:67.68%!important}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:28px!important;color:#0054b2!important;line-height:32px!important}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#1a1f22;font-size:14px;line-height:16.4px}.cco-secondary-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.mw-170[_ngcontent-%COMP%]{min-width:170px}@media screen and (max-width: 767px){.test-container[_ngcontent-%COMP%]{display:block}.item[_ngcontent-%COMP%]{border-left:3px solid #cdcdcd!important}.item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:0!important;margin-top:10px}.mpl-1[_ngcontent-%COMP%]{padding-left:1%!important}.mwc-content.md-block[_ngcontent-%COMP%], .mwc-content[_ngcontent-%COMP%]{display:block!important}}.search-close[_ngcontent-%COMP%]{position:absolute;right:28px;top:11px;color:#cdcdcd;cursor:pointer}small[_ngcontent-%COMP%]{color:#c70000}small.vald-tag[_ngcontent-%COMP%]{padding-left:10px;position:absolute;font-size:16px;line-height:17px}.expand-info-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.expand-info-item[_ngcontent-%COMP%]{width:19%;overflow:hidden;text-overflow:ellipsis}.expand-info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:300;line-height:32px;color:#0054b2;text-overflow:ellipsis;overflow:hidden}.expand-info-item[_ngcontent-%COMP%]   .expand-info-item[_ngcontent-%COMP%] + .expand-info-item[_ngcontent-%COMP%]{margin-left:2%}.cursor-default[_ngcontent-%COMP%]{cursor:default}.col-recom[_ngcontent-%COMP%]{min-width:300px}.col-recom[_ngcontent-%COMP%]   .subj-text[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.col-resource[_ngcontent-%COMP%]{max-width:300px!important}.col-resource[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-width:300px;max-width:300px;word-break:break-word}.m-w-170px[_ngcontent-%COMP%]{min-width:170px}.h-300px[_ngcontent-%COMP%]{height:300px}.wh-20px[_ngcontent-%COMP%]{width:20px;height:20px}.h-450px[_ngcontent-%COMP%]{height:450px}.history-reports-list-search[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{min-width:36px!important}.heading-subtitle[_ngcontent-%COMP%]{margin-bottom:0}.white-space-preline[_ngcontent-%COMP%]{white-space:pre-line}.table-data[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc}.table-data[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc;padding:10px 15px 10px 0;vertical-align:middle}.table-data[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;padding:10px 15px 10px 0}.table-data[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f8f8fa}.table-pagination[_ngcontent-%COMP%]   .page-entries-info[_ngcontent-%COMP%]{color:#333}.table-pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.table-pagination[_ngcontent-%COMP%]   .page-button[_ngcontent-%COMP%]{color:#666;display:inline-block;min-width:1.5em;text-align:center;padding:2px 10px!important;cursor:pointer}.table-pagination[_ngcontent-%COMP%]   .page-button[_ngcontent-%COMP%]:hover{color:#0279ff}.table-pagination[_ngcontent-%COMP%]   .page-current[_ngcontent-%COMP%]{background:#fff;color:#0279ff;border:1px solid #0279ff;border-radius:20px!important}.table-pagination[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]{position:relative}.table-pagination[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:#0279ff;display:none}.table-pagination[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]:hover:after{display:block}.table-pagination[_ngcontent-%COMP%]   .page-disabled[_ngcontent-%COMP%]{cursor:default}.table-pagination[_ngcontent-%COMP%]   .page-disabled[_ngcontent-%COMP%]:hover{color:#666}.table-pagination[_ngcontent-%COMP%]   .page-disabled[_ngcontent-%COMP%]:hover:after{display:none}.min-w80px[_ngcontent-%COMP%]{min-width:80px}.min-w70px[_ngcontent-%COMP%]{min-width:70px}.maxh-overflow-auto[_ngcontent-%COMP%]{max-height:250px;overflow:auto}.col-severty[_ngcontent-%COMP%]{padding-left:10px!important}.min-98px[_ngcontent-%COMP%]{min-width:98px}.subscriber-impact-red[_ngcontent-%COMP%]{color:#c70000}']}),t}();function An(e,t){if(1&e&&(T.TgZ(0,"div",8),T._uU(1),T.qZA()),2&e){var a=T.oxw();T.xp6(1),T.hij(" ",a.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function Zn(e,t){if(1&e&&(T.TgZ(0,"li",12),T.TgZ(1,"a",13),T._uU(2),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(2),T.Oqu(a.language["Real Time"])}}function On(e,t){if(1&e&&(T.TgZ(0,"li",12),T.TgZ(1,"a",14),T._uU(2),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(2),T.Oqu(a.language["Active Reports"])}}function Sn(e,t){if(1&e&&(T.TgZ(0,"li",12),T.TgZ(1,"a",15),T._uU(2),T.qZA(),T.qZA()),2&e){var a=T.oxw(2);T.xp6(2),T.Oqu(a.language["Historical Reports"])}}function Tn(e,t){if(1&e&&(T.TgZ(0,"div",9),T.TgZ(1,"ul",10),T.YNc(2,Zn,3,1,"li",11),T.YNc(3,On,3,1,"li",11),T.YNc(4,Sn,3,1,"li",11),T.qZA(),T.qZA()),2&e){var a=T.oxw();T.Q6J("ngClass",a.isToggleSidebar?"d-none":"d-block"),T.xp6(2),T.Q6J("ngIf",a.menus.realtime),T.xp6(1),T.Q6J("ngIf",a.menus.active),T.xp6(1),T.Q6J("ngIf",a.menus.historical)}}var _n=[{path:"",component:function(){var e=function(){function e(t,a,i){n(this,e),this.translateService=t,this.router=a,this.sso=i,this.isToggleSidebar=!1,this.menus={realtime:!1,active:!1,historical:!1},this.hasPageAccess=!0,this.toggled=new m.xQ,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}return o(e,[{key:"ngOnInit",value:function(){var e=this,t=this.sso.getScopes();if(d.N.VALIDATE_SCOPE){var a=Object.keys(t);if(a)for(var n=0;n<a.length;n++)-1===a[n].indexOf("cloud.rbac.coc.issues.current")?-1===a[n].indexOf("cloud.rbac.coc.issues.report.activealarm")?-1===a[n].indexOf("cloud.rbac.coc.issues.report.historyalarm")||(this.menus.historical=!0):(console.log("Active Scope"),this.menus.active=!0):this.menus.realtime=!0}else this.menus={realtime:!0,active:!0,historical:!0};this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t}),this.pageAcceesObs=this.sso.hasPageAccess$.subscribe(function(t){e.hasPageAccess=!!t.access})}},{key:"ngOnDestroy",value:function(){this.pageAcceesObs&&this.pageAcceesObs.unsubscribe(),this.languageSubject.unsubscribe()}},{key:"toggleSideBar",value:function(){this.isToggleSidebar=!this.isToggleSidebar,this.sso.triggerToggle()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(T.Y36(w.s),T.Y36(l.F0),T.Y36(P.t6))},e.\u0275cmp=T.Xpm({type:e,selectors:[["app-device-alarms"]],decls:9,vars:6,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],[3,"hidden"],[1,"container","mp-0"],[1,"row","mm-0"],["class","col-12 col-md-2 pl-0 mpr-0",3,"ngClass",4,"ngIf"],[1,"col-12","col-md-10","padl","mp-0","mmt-3","pr-0","position-relative",3,"ngClass","hidden"],[1,"sidebar-collapse",3,"click"],[1,"fas",3,"ngClass"],["role","alert",1,"alert","alert-warning"],[1,"col-12","col-md-2","pl-0","mpr-0",3,"ngClass"],["id","netops-list-menu",1,"nav","flex-column","left-menu","tab-view-style","mbr-none"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLink","/cco/issues/device/realtime","id","pendo-cco-real-time-menu-title","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["id","","routerLink","/cco/issues/device/active-reports","id","pendo-cco-active-reports-menu-title","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["id","","routerLink","/cco/issues/device/history-reports","id","pendo-cco-historical-reports-menu-title","routerLinkActive","active",1,"list-group-item","list-group-item-action"]],template:function(e,t){1&e&&(T.YNc(0,An,2,1,"div",0),T.TgZ(1,"section",1),T.TgZ(2,"div",2),T.TgZ(3,"div",3),T.YNc(4,Tn,5,4,"div",4),T.TgZ(5,"div",5),T.TgZ(6,"a",6),T.NdJ("click",function(){return t.toggleSideBar()}),T._UZ(7,"i",7),T.qZA(),T._UZ(8,"router-outlet"),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&e&&(T.Q6J("ngIf",!t.hasPageAccess),T.xp6(1),T.Q6J("hidden",!t.hasPageAccess),T.xp6(3),T.Q6J("ngIf",t.hasPageAccess),T.xp6(1),T.Q6J("ngClass",t.isToggleSidebar?"col-12 col-md-12 px-0":"")("hidden",!t.hasPageAccess),T.xp6(2),T.Q6J("ngClass",t.isToggleSidebar?"fa-chevron-right":"fa-chevron-left"))},directives:[s.O5,s.mk,l.lC,l.yS,l.Od],styles:[".sidebar-collapse[_ngcontent-%COMP%]{position:absolute;top:170px;background:#fff;width:25px;height:25px;border:1px solid #d3d3d3;border-radius:50%;text-align:center;left:-12px;cursor:pointer}"]}),e}(),children:[{path:"realtime",loadChildren:function(){return r.e(3290).then(r.bind(r,43290)).then(function(e){return e.RealtimeModule})}},{path:"active-reports",component:gt,data:{title:"Calix Cloud - "}},{path:"history-reports",component:xn,data:{title:"Calix Cloud - "}},{path:"",redirectTo:"realtime/current-issues",pathMatch:"full"}]}],wn=function(){var e=o(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.oAB({type:e}),e.\u0275inj=T.cJS({imports:[[l.Bz.forChild(_n)],l.Bz]}),e}(),kn=function(){var e=o(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T.oAB({type:e}),e.\u0275inj=T.cJS({imports:[[s.ez,wn]]}),e}()}}])}();