"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[3069],{83069:function(e,t,i){i.r(t),i.d(t,{NetworkModule:function(){return We}});var s=i(38583),n=i(3679),l=i(39895),a=i(37716),o=i(30900),d=i(89097);const r=function(){return["active"]};function c(e,t){if(1&e&&(a.TgZ(0,"li",5),a.TgZ(1,"a",6),a._uU(2),a.qZA(),a.qZA()),2&e){const e=t.$implicit;a.xp6(1),a.s9C("id",e.title),a.s9C("routerLink",e.link),a.Q6J("routerLinkActive",a.DdM(4,r)),a.xp6(1),a.Oqu(e.title)}}function u(e,t){if(1&e&&(a.TgZ(0,"div",2),a.TgZ(1,"ul",3),a.YNc(2,c,3,5,"li",4),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.Q6J("ngForOf",e.menus)}}let h=(()=>{class e{constructor(e,t,i){this.router=e,this.customTranslateService=t,this.sso=i,this.pageAvailable=!1,this.languages=[{name:"English"},{name:"French Canadian"}],this.MODULE=this.sso.getRedirectModule(this.router.url)}ngOnInit(){this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0),this.customTranslateService.selectedLanguage.subscribe(e=>{this.language=e,this.menus[0].title=this.language.devices,this.menus[1].title=this.language.subnets,this.menus[2].title=this.language.radiusserver}),this.menus=[{title:this.language.devices,link:"devices",subMenuLink:`/${this.MODULE}/flowAnalyze/network/devices`},{title:this.language.subnets,link:"subnets",subMenuLink:`/${this.MODULE}/flowAnalyze/network/subnets`},{title:this.language.radiusserver,link:"radius-servers",subMenuLink:`/${this.MODULE}/flowAnalyze/network/radius-servers`}],this.activeRoute=this.router.url}languageChange(e){sessionStorage.setItem("defaultLanguage",e),this.customTranslateService.changeLanguage(e)}goPage(e){this.router.navigate([e])}pageChange(e){this.activeRoute=e.subMenuLink}onActivate(e){window.scroll({top:0,left:0,behavior:"smooth"})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(l.F0),a.Y36(o.d),a.Y36(d.t6))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-network"]],decls:2,vars:1,consts:[["class","flow-config-sub-tab position-relative",4,"ngIf"],[3,"activate"],[1,"flow-config-sub-tab","position-relative"],[1,"nav"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],[1,"nav-link",3,"id","routerLink","routerLinkActive"]],template:function(e,t){1&e&&(a.YNc(0,u,3,1,"div",0),a.TgZ(1,"router-outlet",1),a.NdJ("activate",function(e){return t.onActivate(e)}),a.qZA()),2&e&&a.Q6J("ngIf",t.pageAvailable)},directives:[s.O5,l.lC,s.sg,l.yS,l.Od],styles:[""]}),e})();var g=i(79765),p=i(35758),b=i(23771),f=i(404),Z=i(91841),m=i(92340);let v=(()=>{class e{constructor(e){this.httpClient=e,this.subnet="subnet",this.staticSubnet="staticsubnet",this.arrayToObject=(e,t)=>e.reduce((e,i)=>(e[i[t]]=i,e),{}),this.baseUrl=m.N.faAdminURL;let t=new Z.WM({"Content-Type":"application/json"});this.options={headers:t},this.export=this.baseUrl+"export/"}getSubnets(e,t){return this.httpClient.get(`${this.baseUrl}${this.subnet}?org-id=${e}${t?"&all=true":""}`)}getStaticSubnets(e){return this.httpClient.get(`${this.baseUrl}${this.staticSubnet}?org-id=${e}`)}addSubnet(e,t){return this.httpClient.post(`${this.baseUrl}${this.subnet}?org-id=${t}`,e,this.options)}addStaticSubnet(e,t){return this.httpClient.post(`${this.baseUrl}${this.subnet}?org-id=${t}`,e,this.options)}exportSubnets(e){return this.httpClient.get(`${this.baseUrl}devices?org-id=${e}`)}importSubnets(e,t,i){return this.httpClient.put(`${this.baseUrl}fa_import/${i?"combined-subnets":"subnets"}?org-id=${t}`,e)}importStaticSubnets(e,t){return this.httpClient.put(`${this.baseUrl}fa_import/static-subnets?org-id=${t}`,e)}deleteSubnet(e,t){return this.httpClient.delete(`${this.baseUrl}${this.subnet}/${e}?org-id=${t}`)}deleteStaticSubnet(e,t){return this.httpClient.delete(`${this.baseUrl}${this.subnet}/${e}?org-id=${t}`)}updateSubnet(e,t,i){return this.httpClient.put(`${this.baseUrl}${this.subnet}/${e}?org-id=${i}`,t)}updateStaticSubnet(e,t,i){return this.httpClient.put(`${this.baseUrl}${this.subnet}/${e}?org-id=${i}`,t)}getRadiusServers(e){return this.httpClient.get(`${m.N.FA_ADMIN_CONFIG_URL}radius?org-id=${e}&tenant-id=0`)}addRadiusServer(e,t){return this.httpClient.post(`${m.N.FA_ADMIN_CONFIG_URL}radius?org-id=${t}&tenant-id=0`,e,this.options)}updateRadiusServer(e,t,i){return this.httpClient.put(`${m.N.FA_ADMIN_CONFIG_URL}radius/${e}?org-id=${i}&tenant-id=0`,t)}deleteRadiusServer(e,t){return this.httpClient.delete(`${m.N.FA_ADMIN_CONFIG_URL}radius/${e}?org-id=${t}&tenant-id=0`)}exportProcess(e){let t=[];return e.forEach(e=>{t.push({subnet:e.subnet?e.subnet:"",excluded:e.excluded?e.excluded:""})}),t}importDataProcess(e,t,i,s,n=!1){return e.forEach(e=>{e.excluded="boolean"==typeof e.excluded?e.excluded:!("N"==e.excluded.toUpperCase()||"NO"==e.excluded.toUpperCase()),e.isstatic=n,e.isv4=!0,e.action=t?"Create":"Update",e.orgId=s,e.tenantId=0}),e}checkData(e){if(Array.isArray(e[0])){let t=[];return e.forEach(e=>{t.push({subnet:e[0],excluded:e[1]})}),t}return e}trimSubnet(e){for(e=e.trim();"."===e[e.length-1];)e=e.slice(0,-1);return e}isSubnetV4(e){return 4==e.split("/")[0].split(".").length}isSubnetV6(e){return 6==e.split("/")[0].split(".").length}deleteObjectFromArray(e,t){return e.filter(e=>e._id!==t)}Export(e,t){return this.httpClient.get(`${this.export}${e}?org-id=${t}`)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(Z.eN))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var x=i(7450),S=i(12664),T=i(49342),A=i(39075),q=i(20904);const w=["infoModal"],I=["deleteModal"],M=["multiDeleteModal"];function O(e,t){if(1&e&&(a.TgZ(0,"div",20),a.TgZ(1,"div",21),a.TgZ(2,"div",22),a.TgZ(3,"span",23),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(4),a.Oqu(e.language.Loading)}}function _(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",24),a.TgZ(1,"div",25),a.TgZ(2,"div",26),a.TgZ(3,"div"),a.TgZ(4,"button",27),a.NdJ("click",function(){return a.CHM(e),a.oxw().create()}),a._uU(5),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(6,"div",28),a.TgZ(7,"div",29),a._UZ(8,"input",30),a.TgZ(9,"button",31),a._UZ(10,"i",32),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(5),a.Oqu(e.language.create)}}function C(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"section"),a.TgZ(1,"div",4),a.TgZ(2,"div",33),a.TgZ(3,"form"),a.TgZ(4,"div",34),a.TgZ(5,"label",35),a._uU(6),a.TgZ(7,"span",36),a._uU(8,"*"),a.qZA(),a.qZA(),a.TgZ(9,"div",37),a.TgZ(10,"input",38),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().newIP=t})("blur",function(){a.CHM(e);const t=a.oxw();return t.removeUnwantedSpace("newIP",t.newIP)}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"div",34),a.TgZ(12,"label",39),a._uU(13),a.qZA(),a.TgZ(14,"div",37),a.TgZ(15,"input",40),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().port=t}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(16,"div",34),a.TgZ(17,"label",41),a._uU(18),a.TgZ(19,"span",36),a._uU(20,"*"),a.qZA(),a.qZA(),a.TgZ(21,"div",37),a.TgZ(22,"input",42),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().secret=t}),a.qZA(),a.TgZ(23,"span",43),a.NdJ("click",function(){return a.CHM(e),a.oxw().toggleSecret("addSecret")}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(24,"div",44),a.TgZ(25,"div",45),a.TgZ(26,"button",46),a.NdJ("click",function(){return a.CHM(e),a.oxw().submit()}),a._uU(27),a.qZA(),a.TgZ(28,"button",47),a.NdJ("click",function(){return a.CHM(e),a.oxw().cancel()}),a._uU(29),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(6),a.hij("",e.language["Server IP address"]," "),a.xp6(4),a.Q6J("ngModel",e.newIP),a.xp6(3),a.Oqu(e.language.port),a.xp6(2),a.Q6J("ngModel",e.port),a.xp6(3),a.hij("",e.language.secret," "),a.xp6(4),a.Q6J("type",e.addSecret?"password":"text")("ngModel",e.secret),a.xp6(1),a.Q6J("ngClass",e.addSecret?"password_hide":"password_view"),a.xp6(4),a.Oqu(e.language.submit),a.xp6(2),a.Oqu(e.language.Cancel)}}function D(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",55),a.TgZ(1,"div",56),a.TgZ(2,"span",57),a.TgZ(3,"div",58),a.NdJ("click",function(){a.CHM(e);const t=a.oxw().$implicit;return a.oxw().edit(t)}),a._UZ(4,"i",59),a.qZA(),a.qZA(),a.TgZ(5,"span",57),a.TgZ(6,"input",60),a.NdJ("click",function(t){a.CHM(e);const i=a.oxw().$implicit;return a.oxw().getDeleteIds(t,i)}),a.qZA(),a.qZA(),a.TgZ(7,"span",57),a.TgZ(8,"div",61),a.NdJ("click",function(){a.CHM(e);const t=a.oxw().$implicit;return a.oxw().delete(t)}),a._UZ(9,"i",14),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw().$implicit,t=a.oxw();a.xp6(3),a.s9C("title",t.language.Edit),a.xp6(3),a.Gre("delete_id_",e._id,""),a.s9C("value",e._id),a.MGl("name","delete_id_",e._id,""),a.s9C("title",t.language.Select),a.xp6(2),a.s9C("title",t.language.Delete)}}function y(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",62),a.TgZ(1,"div",56),a.TgZ(2,"span",63),a.TgZ(3,"div",64),a.NdJ("click",function(){a.CHM(e);const t=a.oxw().$implicit;return a.oxw().updateSave(t._id)}),a._UZ(4,"i",65),a.qZA(),a.qZA(),a.TgZ(5,"span",63),a.TgZ(6,"div",66),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).updateCancel()}),a._UZ(7,"i",67),a.qZA(),a.qZA(),a.qZA(),a.qZA()}}function k(e,t){if(1&e&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.ip?e.ip:""," ")}}const U=function(){return{standalone:!0}};function N(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",29),a.TgZ(1,"input",68),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw(2).editIP=t})("blur",function(){a.CHM(e);const t=a.oxw(2);return t.removeUnwantedSpace("editIP",t.editIP)}),a.qZA(),a.qZA()}if(2&e){const e=a.oxw().$implicit,t=a.oxw();a.xp6(1),a.s9C("value",e.ip),a.Q6J("ngModel",t.editIP)("ngModelOptions",a.DdM(3,U))}}function J(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",69),a._uU(1),a.TgZ(2,"span",70),a.NdJ("click",function(){a.CHM(e);const t=a.oxw().$implicit;return a.oxw().toggleSecret(t)}),a.qZA(),a.qZA()}if(2&e){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.secret?e.hideSecret?"******":e.secret:"-"," "),a.xp6(1),a.Q6J("ngClass",e.hideSecret?"password_hide":"password_view")}}function V(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",71),a.TgZ(1,"input",72),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw(2).editSecret=t}),a.qZA(),a.TgZ(2,"span",70),a.NdJ("click",function(){a.CHM(e);const t=a.oxw().$implicit;return a.oxw().toggleSecret(t)}),a.qZA(),a.qZA()}if(2&e){const e=a.oxw().$implicit,t=a.oxw();a.xp6(1),a.s9C("value",e.secret),a.Q6J("type",e.hideSecret?"password":"text")("ngModel",t.editSecret)("ngModelOptions",a.DdM(5,U)),a.xp6(1),a.Q6J("ngClass",e.hideSecret?"password_hide":"password_view")}}function E(e,t){if(1&e&&(a.TgZ(0,"tr",48),a.TgZ(1,"td",49),a.YNc(2,D,10,8,"div",50),a.YNc(3,y,8,0,"div",51),a.qZA(),a.TgZ(4,"td"),a.YNc(5,k,2,1,"div",3),a.YNc(6,N,2,4,"div",52),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a.YNc(10,J,3,2,"div",53),a.YNc(11,V,3,6,"div",54),a.qZA(),a.qZA()),2&e){const e=t.$implicit,i=a.oxw();a.s9C("id",e._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=e._id),a.xp6(1),a.Q6J("ngIf",i.editOnValue==e._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=e._id),a.xp6(1),a.Q6J("ngIf",i.editOnValue==e._id),a.xp6(2),a.hij(" ",e.port?e.port:""," "),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=e._id),a.xp6(1),a.Q6J("ngIf",i.editOnValue==e._id)}}function H(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",73),a.TgZ(1,"h4",74),a._uU(2),a.qZA(),a.TgZ(3,"button",75),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._UZ(4,"span",76),a.qZA(),a.qZA(),a.TgZ(5,"div",77),a._uU(6),a.qZA(),a.TgZ(7,"div",78),a.TgZ(8,"button",79),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._uU(9),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.infoTitle),a.xp6(4),a.hij(" ",e.infoBody," "),a.xp6(3),a.Oqu(e.language.Okay)}}function P(e,t){if(1&e){const e=a.EpF();a.ynx(0),a.TgZ(1,"div",73),a.TgZ(2,"h4",74),a._uU(3),a.qZA(),a.TgZ(4,"button",75),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._UZ(5,"span",76),a.qZA(),a.qZA(),a.TgZ(6,"div",77),a._UZ(7,"table",80),a.qZA(),a.TgZ(8,"div",78),a.TgZ(9,"button",79),a.NdJ("click",function(){return a.CHM(e),a.oxw().confirmDelete()}),a._uU(10),a.qZA(),a.TgZ(11,"button",81),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._uU(12),a.qZA(),a.qZA(),a.BQk()}if(2&e){const e=a.oxw();a.xp6(3),a.hij("",e.infoTitle,"?"),a.xp6(4),a.Q6J("innerHtml",e.infoBody,a.oJD),a.xp6(3),a.Oqu(e.language.Okay),a.xp6(2),a.Oqu(e.language.Cancel)}}function R(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",73),a.TgZ(1,"h4",74),a._uU(2),a.qZA(),a.TgZ(3,"button",75),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._UZ(4,"span",76),a.qZA(),a.qZA(),a.TgZ(5,"div",77),a._UZ(6,"table",80),a.qZA(),a.TgZ(7,"div",78),a.TgZ(8,"button",79),a.NdJ("click",function(){return a.CHM(e),a.oxw().confirmDeleteSecleted()}),a._uU(9),a.qZA(),a.TgZ(10,"button",81),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._uU(11),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.hij("",e.infoTitle,"?"),a.xp6(4),a.Q6J("innerHtml",e.infoBody,a.oJD),a.xp6(3),a.Oqu(e.language.Okay),a.xp6(2),a.Oqu(e.language.Cancel)}}const F=i(91704);let Y=(()=>{class e{constructor(e,t,i,s,n,l,a,o,d){this.commonFunctionsService=e,this.apiService=t,this.translateService=i,this.sso=s,this.router=n,this.dialogService=l,this.commonOrgService=a,this.titleService=o,this.common=d,this.pageAvailable=!1,this.formVisible=!1,this.buttonVisible=!0,this.tableOptions={pagingType:"full_numbers",order:[1,"asc"],columnDefs:[{targets:[0,2,3],orderable:!1}],stateSave:!1,drawCallback:e=>{this.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(()=>{this.resetDelete()},0),this.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength&&F(e.nTableWrapper).find(`#${e.sTableId}_last`).addClass("disabled")}},this.radiusData=[],this.add={excluded:!0,isstatic:!1,isv4:!0,subnet:""},this.importTableOptions={pagingType:"full_numbers",pageLength:10,order:[0,"asc"],dom:"tipr"},this.tablePreview=!1,this.fullLoader=!0,this.isFullImport=!0,this.subnetError=!1,this.isIPv4=!0,this.dtTrigger=new g.xQ,this.isRerender=!1,this.deleteIds=[],this.deleteIPs=[],this.subnetVersions=["SubnetIPV4","SubnetIPV6"],this.subnetVersionsSelected="SubnetIPV4",this.loading=!0,this.importUpdateASCreate=[],this.currentTableRowCount=0,this.addSecret=!0,this.sortData={column:1,type:"asc"},this.language=this.translateService.defualtLanguage,this.language&&(this.pageAvailable=!0),this.translateSubscribe=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.dataAvailable=!1,this.isRerender=!0,this.titleService.setTitle(`${this.language.radiusserver} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===c?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`),this.setTableOptions("language")}),this.commonOrgService.closeAlert();let r=this.router.url;this.ORG_ID=this.sso.getOrganizationID(r),this.frTable=this.translateService.fr;let c=this.sso.getRedirectModule(r);this.titleService.setTitle(`${this.language.radiusserver} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===c?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}ngOnInit(){this.port="1813",this.getRadiusServers(),this.tableLanguageOptions()}ngAfterViewInit(){this.loaded=!0}ngOnDestroy(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSubscribe&&this.translateSubscribe.unsubscribe(),this.subscription&&this.subscription.unsubscribe(),this.listSubs&&this.listSubs.unsubscribe(),this.createSubs&&this.createSubs.unsubscribe(),this.updateSubs&&this.updateSubs.unsubscribe(),this.deleteSubs&&this.deleteSubs.unsubscribe()}create(){this.buttonVisible=!1,this.formVisible=!0,this.reset()}getRadiusServers(){this.listSubs=this.apiService.getRadiusServers(this.ORG_ID).subscribe(e=>{e&&(this.radiusData=[...this.processData(e)],this.setTableOptions(),this.isRerender?(this.rerender(),this.isRerender=!1):(this.dtTrigger.next(),this.loading=!1),setTimeout(()=>{this.resetDelete()},100))},e=>{this.pageErrorHandle(e),this.setTableOptions(),this.isRerender?(this.rerender(),this.loading=!1):this.dtTrigger.next()})}setTableOptions(e){let t=this;this.tableOptions={pagingType:"full_numbers",order:[t.sortData.column,t.sortData.type],columnDefs:[{targets:[0,2,3],orderable:!1}],stateSave:!1,drawCallback:e=>{t.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(()=>{this.resetDelete()},0),this.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength&&F(e.nTableWrapper).find(`#${e.sTableId}_last`).addClass("disabled")}},this.tableLanguageOptions(),e&&"language"==e?setTimeout(()=>{this.dataAvailable=!0,this.rerender()},200):(this.dataAvailable=!0,this.loading=!1)}rerender(){this.dtElement.dtInstance.then(e=>{e.destroy(),this.tableOptions.order=[this.sortData.column,this.sortData.type],setTimeout(()=>{this.dtTrigger.next()},10)})}processData(e){return e.forEach(e=>{e.port="1813",e.hideSecret=!0}),e}submit(){if(null==this.newIP||""==this.newIP)return this.infoTitle=this.language["Invalid IP address"],this.infoBody="",void this.openInfoModal();if(this.validateIP4(this.newIP),this.subnetError)return this.infoTitle=this.language["Invalid IP address"],this.infoBody=this.newIP?this.newIP:"",void this.openInfoModal();if(this.secret=this.secret?this.secret.trim():"",""==this.secret)return this.infoTitle=this.language["Invalid secret"],this.infoBody="",void this.openInfoModal();let e={ip:this.newIP?this.newIP.trim():"",secret:this.secret?this.secret.trim():"",orgId:this.ORG_ID,tenantId:0};this.loading=!0,this.createSubs=this.apiService.addRadiusServer(e,this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.cancel(),this.getRadiusServers()},e=>{this.pageErrorHandle(e)})}edit(e){if(this.editData=e,this.editOnValue=e._id,this.editSecret=e.secret,this.editIP=e.ip,-1!==this.deleteIds.indexOf(e._id)){this.deleteIds.splice(this.deleteIds.indexOf(e._id),1),this.deleteIPs.splice(this.deleteIPs.indexOf(e.ip),1);let t=F('input[name^="delete_id_"]').length;this.deleteIds.length?this.deleteIds.length!=t?(F("#selectDeselectAll").prop("checked",!1),F("#selectDeselectAll-span").show()):F("#selectDeselectAll-span").hide():(F("#selectDeselectAll").prop("checked",!1),F("#selectDeselectAll-span").hide())}}updateSave(e){if(null==this.editIP||""==this.editIP)return this.infoTitle=this.language["Invalid IP address"],this.infoBody="",void this.openInfoModal();if(this.validateIP4(this.editIP),this.subnetError)return this.infoTitle=this.language["Invalid IP address"],this.infoBody=this.editIP?this.editIP:"",void this.openInfoModal();if(this.editSecret=this.editSecret?this.editSecret.trim():"",""==this.editSecret)return this.infoTitle=this.language["Invalid secret"],this.infoBody="",void this.openInfoModal();let t={_id:this.editOnValue,ip:this.editIP?this.editIP.trim():"",secret:this.editSecret?this.editSecret.trim():"",orgId:this.ORG_ID,tenantId:0};this.loading=!0,this.updateSubs=this.apiService.updateRadiusServer(e,t,this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.cancel(),this.getRadiusServers(),this.editOnValue=void 0},e=>{this.pageErrorHandle(e)})}updateCancel(){this.editOnValue=void 0}validateIP4(e){if(this.subnetError=!1,!e)return void(this.subnetError=!0);let t=this.apiService.trimSubnet(e);return t&&this.commonFunctionsService.isValidIpV4Addr(t)?(this.isIPv4=!0,this.ip=t,!0):void(this.subnetError=!0)}cancel(){this.formVisible=!1,this.buttonVisible=!0,this.tablePreview=!1,this.reset()}delete(e){this.deleteData=e,this.infoTitle=this.language["Delete radius"],this.infoBody=`${e.ip}`,this.closeModal(),this.modalRef=this.dialogService.open(this.deleteModal,{backdrop:"static",keyboard:!1})}confirmDelete(){let e=this.deleteData._id;this.loading=!0,this.deleteSubs=this.apiService.deleteRadiusServer(e,this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.getRadiusServers(),this.closeDeleteModal()},e=>{this.pageErrorHandle(e)})}closeDeleteModal(){this.deleteData=void 0,this.closeModal()}getDeleteIds(e,t){if(e.target.checked){this.deleteIds.push(t._id),this.deleteIPs.push(t.ip);let e=F('input[name^="delete_id_"]').length;this.deleteIds.length==e?(F("#selectDeselectAll").prop("checked",!0),F("#selectDeselectAll-span").hide()):F("#selectDeselectAll-span").show()}else{this.deleteIds.splice(this.deleteIds.indexOf(t._id),1),this.deleteIPs.splice(this.deleteIPs.indexOf(t.ip),1);let e=F('input[name^="delete_id_"]').length;this.deleteIds.length?this.deleteIds.length!=e?(F("#selectDeselectAll").prop("checked",!1),F("#selectDeselectAll-span").show()):F("#selectDeselectAll-span").hide():(F("#selectDeselectAll").prop("checked",!1),F("#selectDeselectAll-span").hide())}}selectDeselectAll(e){this.deleteIds=[],this.deleteIPs=[];let t=0,i=F('input[name^="delete_id_"]').length;var s=this;e?F('input[name^="delete_id_"]').each(function(){if(t>=i)return!1;F(this).prop("checked",!0);let e=F(this).attr("class").split(" ")[0].substring("delete_id_".length),n=s.radiusData.filter(t=>t._id===e);s.deleteIds.push(e),s.deleteIPs.push(n[0].ip),t++}):F('input[name^="delete_id_"]').each(function(){if(t>=i)return!1;F(this).prop("checked",!1),s.deleteIds=[],s.deleteIPs=[],t++})}showAllInnerCheckBox(e){F("#"+e.target.id).hide(),F("#selectDeselectAll").prop("checked",!0),this.deleteIds=[],this.deleteIPs=[],this.selectDeselectAll(!0)}deleteAllSelected(){this.deleteIPs&&(this.infoTitle=this.language["Delete selected radius"],this.infoBody=this.deleteIPs.join(", <br>"),this.closeModal(),this.modalRef=this.dialogService.open(this.multiDeleteModal,{backdrop:"static",keyboard:!1}))}confirmDeleteSecleted(){const e=[];this.loading=!0,this.deleteIds.forEach(t=>{e.push(this.apiService.deleteRadiusServer(t,this.ORG_ID))}),(0,p.D)(e).subscribe(e=>{this.deleteIds=[],this.deleteIPs=[],this.isRerender=!0,this.getRadiusServers(),this.closeMultiDeleteModal()},e=>{this.pageErrorHandle(e)})}closeMultiDeleteModal(){this.deleteIds=[],this.deleteIPs=[],this.closeModal()}reset(){this.newIP=void 0,this.secret=void 0,this.addSecret=!0,this.editData=void 0,this.editOnValue=void 0}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.tableOptions.language=this.frTable:"es"==this.language.fileLanguage?this.tableOptions.language=this.translateService.es:"de_DE"==this.language.fileLanguage?this.tableOptions.language=this.translateService.de_DE:"en"==this.language.fileLanguage&&this.tableOptions.language&&delete this.tableOptions.language}resetDelete(){this.selectDeselectAll(!1),F("#selectDeselectAll").prop("checked",!1),F("#selectDeselectAll-span").hide(),this.deleteIds=[],this.deleteIPs=[]}toggleSecret(e){"addSecret"==e?this.addSecret=!this.addSecret:e.hideSecret=!e.hideSecret}closeModal(){this.modalRef&&this.modalRef.close()}pageErrorHandle(e){let t="";400==e.status?(this.infoBody=this.commonOrgService.pageErrorHandle(e),this.infoTitle=this.language["Invalid request"],this.openInfoModal(),this.loading=!1):(t=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(t),this.commonOrgService.pageScrollTop(),this.loading=!1)}openInfoModal(){this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1})}removeState(){this.commonOrgService.removeTableState("radius_server",this.router.url)}removeUnwantedSpace(e,t){this[e]=this.common.trimSpaceFromNonObjectInputs(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(f.i),a.Y36(v),a.Y36(x.s),a.Y36(d.t6),a.Y36(l.F0),a.Y36(S.FF),a.Y36(T.v),a.Y36(A.Dx),a.Y36(q.i))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-radius-servers"]],viewQuery:function(e,t){if(1&e&&(a.Gf(w,7),a.Gf(I,7),a.Gf(M,7),a.Gf(b.G,5)),2&e){let e;a.iGM(e=a.CRH())&&(t.infoModal=e.first),a.iGM(e=a.CRH())&&(t.deleteModal=e.first),a.iGM(e=a.CRH())&&(t.multiDeleteModal=e.first),a.iGM(e=a.CRH())&&(t.dtElement=e.first)}},decls:32,vars:18,consts:[[1,"container","position-relative"],["class","loader",4,"ngIf"],["class","row py-4",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-md-12","ccl-admin-table",3,"hidden"],["id","radius-servers-table","width","100%","datatable","",1,"row-border","hover","table-alter",3,"dtOptions","dtTrigger"],[1,"mxw-200"],[1,"d-flex","justify-content-end"],[1,"d-flex","align-items-center","mr-1",3,"hidden"],["type","checkbox","value","","id","selectDeselectAll",1,"",3,"hidden","disabled","change"],["id","selectDeselectAll-span",1,"checkbox-ui",2,"display","none",3,"hidden","click"],[1,"text-center","justify-content-center",3,"hidden"],["id","delete-selected-btn",1,"btn-default","primary","px-2",3,"title","disabled","click"],[1,"far","fa-trash-alt"],[1,"mw-250"],[3,"id",4,"ngFor","ngForOf"],["infoModal",""],["deleteModal",""],["multiDeleteModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"row","py-4"],[1,"col-md-9"],[1,"d-flex"],["id","create-btn",1,"btn-default","primary","mx-2",3,"click"],[1,"col-sm-3","align-self-end","d-none"],[1,"ccl-form"],["type","search","name","searchbox","placeholder","",1,"input-sm"],[1,"serach-but","btn-default","primary","btn-icon-md","inline"],["aria-hidden","true",1,"fa","fa-search"],[1,"col-md-6","offset-md-3"],[1,"ccl-form","row","my-2"],["for","newIP",1,"col-sm-4","col-form-label"],[1,"error"],[1,"col-sm-8"],["id","newIP","type","text","name","newIP","placeholder","","trimSpace","",1,"",3,"ngModel","ngModelChange","blur"],["for","port",1,"col-sm-4","col-form-label"],["id","port","type","text","name","port","placeholder","","readonly","",1,"",3,"ngModel","ngModelChange"],["for","secret",1,"col-sm-4","col-form-label"],["id","secret","name","secret","placeholder","","maxlength","32",1,"",3,"type","ngModel","ngModelChange"],[1,"paswoard-icon","pointer",3,"ngClass","click"],[1,"row","my-4"],[1,"col-md-8","offset-md-4"],[1,"btn-default","primary","px-3","mx-3",3,"click"],[1,"btn-default","btn-dft","py-1","px-3",3,"click"],[3,"id"],[1,"action-button"],["class","editable-td text-center",4,"ngIf"],["class","save-cancel-btn-group d-flex justify-content-center",4,"ngIf"],["class","ccl-form",4,"ngIf"],["class","secret-div",4,"ngIf"],["class","ccl-form secret-div",4,"ngIf"],[1,"editable-td","text-center"],[1,"ccl-fc-table-icon"],[1,"pr-2"],["id","edit-btn",1,"primary",3,"title","click"],[1,"fas","fa-pencil-alt"],["type","checkbox",3,"value","name","title","click"],["id","delete-btn",1,"primary",3,"title","click"],[1,"save-cancel-btn-group","d-flex","justify-content-center"],[1,"pr-1"],["id","save-btn",1,"primary","mx-3",3,"click"],[1,"fas","fa-check"],["id","cancel-btn",1,"primary",3,"click"],[1,"fas","fa-times"],["type","text","trimSpace","",1,"edit-text",3,"value","ngModel","ngModelOptions","ngModelChange","blur"],[1,"secret-div"],[1,"pwd-icon",3,"ngClass","click"],[1,"ccl-form","secret-div"],["maxlength","32",1,"edit-text",3,"type","value","ngModel","ngModelOptions","ngModelChange"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"],[3,"innerHtml"],["type","button","data-dismiss","modal",1,"btn-default","btn-dft","py-1","px-3",3,"click"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.YNc(1,O,5,1,"div",1),a.YNc(2,_,11,1,"div",2),a.YNc(3,C,30,10,"section",3),a.TgZ(4,"div",4),a.TgZ(5,"div",5),a.TgZ(6,"table",6),a.TgZ(7,"thead"),a.TgZ(8,"tr"),a.TgZ(9,"th",7),a.TgZ(10,"div",8),a.TgZ(11,"div",9),a.TgZ(12,"input",10),a.NdJ("change",function(e){return t.selectDeselectAll(e.target.checked)}),a.qZA(),a.TgZ(13,"span",11),a.NdJ("click",function(e){return t.showAllInnerCheckBox(e)}),a.qZA(),a.qZA(),a.TgZ(14,"div",12),a.TgZ(15,"button",13),a.NdJ("click",function(){return t.deleteAllSelected()}),a._UZ(16,"i",14),a._uU(17),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"th",15),a._uU(19),a.qZA(),a.TgZ(20,"th",15),a._uU(21),a.qZA(),a.TgZ(22,"th",15),a._uU(23),a.qZA(),a.qZA(),a.qZA(),a.TgZ(24,"tbody"),a.YNc(25,E,12,8,"tr",16),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(26,H,10,3,"ng-template",null,17,a.W1O),a.YNc(28,P,13,4,"ng-template",null,18,a.W1O),a.YNc(30,R,12,4,"ng-template",null,19,a.W1O)),2&e&&(a.xp6(1),a.Q6J("ngIf",t.loading),a.xp6(1),a.Q6J("ngIf",t.buttonVisible),a.xp6(1),a.Q6J("ngIf",t.formVisible),a.xp6(2),a.Q6J("hidden",!t.dataAvailable),a.xp6(1),a.Q6J("dtOptions",t.tableOptions)("dtTrigger",t.dtTrigger),a.xp6(5),a.Q6J("hidden",t.editOnValue),a.xp6(1),a.Q6J("hidden",t.editOnValue)("disabled",0==(null==t.radiusData?null:t.radiusData.length)||0==t.currentTableRowCount),a.xp6(1),a.Q6J("hidden",t.editOnValue),a.xp6(1),a.Q6J("hidden",t.editOnValue),a.xp6(1),a.s9C("title",t.language["Delete selected"]),a.Q6J("disabled",!(null!=t.radiusData&&t.radiusData.length&&null!=t.deleteIds&&t.deleteIds.length)),a.xp6(2),a.hij(" ",t.language.selected," "),a.xp6(2),a.Oqu(t.language.server),a.xp6(2),a.Oqu(t.language.port),a.xp6(2),a.Oqu(t.language.secret),a.xp6(2),a.Q6J("ngForOf",t.radiusData))},directives:[s.O5,b.G,s.sg,n._Y,n.JL,n.F,n.Fj,n.JJ,n.On,n.nD,s.mk],styles:[".see_pass[_ngcontent-%COMP%]{right:30px;vertical-align:text-bottom;position:absolute;height:36px;line-height:34px;cursor:pointer}.eye-icon[_ngcontent-%COMP%]{cursor:pointer}.secret-div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline}.modal-scrll[_ngcontent-%COMP%]{overflow-y:auto;max-height:400px}.mxw-200[_ngcontent-%COMP%]{white-space:nowrap}.action-button[_ngcontent-%COMP%]{white-space:nowrap;width:10%!important}.editable-td[_ngcontent-%COMP%]{font-size:13px}.edit-text[_ngcontent-%COMP%]{width:150px}.pwd-icon[_ngcontent-%COMP%]{top:0px;right:0;position:relative;left:4px}.pwd-icon.password_hide[_ngcontent-%COMP%]{top:5px}.paswoard-icon[_ngcontent-%COMP%]{right:25px;top:13px}"]}),e})();var $=i(13149),Q=i(93822),G=i(86640);const j=["infoModal"],L=["deleteModal"],B=["multiDeleteModal"],z=["importModal"];function W(e,t){1&e&&(a.TgZ(0,"div",18),a.TgZ(1,"div",19),a.TgZ(2,"div",20),a.TgZ(3,"span",21),a._uU(4,"Loading..."),a.qZA(),a.qZA(),a.qZA(),a.qZA())}function X(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",22),a.TgZ(1,"div",23),a.TgZ(2,"div",24),a.TgZ(3,"div"),a.TgZ(4,"button",25),a.NdJ("click",function(){return a.CHM(e),a.oxw().create()}),a._uU(5),a.qZA(),a.qZA(),a.TgZ(6,"div"),a.TgZ(7,"button",26),a.NdJ("click",function(){return a.CHM(e),a.oxw().export()}),a._uU(8),a.qZA(),a.qZA(),a.TgZ(9,"div",27),a.TgZ(10,"button",28),a.NdJ("click",function(){return a.CHM(e),a.oxw().fullImportUpload()}),a._uU(11),a.qZA(),a.TgZ(12,"input",29),a.NdJ("change",function(t){return a.CHM(e),a.oxw().fullImport(t,!0)}),a.qZA(),a.qZA(),a.TgZ(13,"div",27),a.TgZ(14,"label",30),a._uU(15),a.qZA(),a.TgZ(16,"input",31),a.NdJ("change",function(t){return a.CHM(e),a.oxw().fullImport(t,!1)}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(17,"div",32),a.TgZ(18,"div",33),a._UZ(19,"input",34),a.TgZ(20,"button",35),a._UZ(21,"i",36),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(5),a.Oqu(e.language.create),a.xp6(3),a.Oqu(e.language.export),a.xp6(3),a.Oqu(e.language.fullImport),a.xp6(4),a.hij("",e.language.incrementalImport," ")}}const K=function(){return{standalone:!0}};function ee(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"section"),a.TgZ(1,"div",4),a.TgZ(2,"div",37),a.TgZ(3,"form"),a.TgZ(4,"div",38),a.TgZ(5,"label",39),a._uU(6),a.qZA(),a.TgZ(7,"div",40),a.TgZ(8,"ng-select",41),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().subnetVersionsSelected=t}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(9,"div",38),a.TgZ(10,"label",42),a._uU(11),a.TgZ(12,"span",43),a._uU(13,"*"),a.qZA(),a.qZA(),a.TgZ(14,"div",40),a.TgZ(15,"input",44),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().newSubnetipv4=t}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(16,"div",38),a.TgZ(17,"label",45),a._uU(18),a.qZA(),a.TgZ(19,"div",40),a.TgZ(20,"input",46),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().newSubnetipv6=t}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(21,"div",38),a.TgZ(22,"label",39),a._uU(23),a.qZA(),a.TgZ(24,"div",40),a.TgZ(25,"ng-select",47),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().selectedSubnet=t}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(26,"div",48),a.TgZ(27,"div",49),a.TgZ(28,"button",50),a.NdJ("click",function(){return a.CHM(e),a.oxw().submit()}),a._uU(29),a.qZA(),a.TgZ(30,"button",51),a.NdJ("click",function(){return a.CHM(e),a.oxw().cancel()}),a._uU(31),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(6),a.Oqu(e.language.subnet),a.xp6(2),a.Q6J("items",e.subnetVersions)("multiple",!1)("ngModel",e.subnetVersionsSelected)("ngModelOptions",a.DdM(22,K))("clearable",!1)("searchable",!1),a.xp6(3),a.hij("",e.language.subnetIpv4," "),a.xp6(4),a.Q6J("ngModel",e.newSubnetipv4)("disabled","SubnetIPV6"==e.subnetVersionsSelected),a.xp6(3),a.hij("",e.language.subnetIpv6," "),a.xp6(2),a.Q6J("ngModel",e.newSubnetipv6)("disabled","SubnetIPV4"==e.subnetVersionsSelected),a.xp6(3),a.hij("",e.language.excluded," "),a.xp6(2),a.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.selectedSubnet)("ngModelOptions",a.DdM(23,K))("clearable",!1)("searchable",!1),a.xp6(4),a.Oqu(e.language.submit),a.xp6(2),a.Oqu(e.language.Cancel)}}function te(e,t){if(1&e&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.qZA()),2&e){const e=t.$implicit;a.xp6(2),a.Oqu(e.action),a.xp6(2),a.Oqu(e.subnet),a.xp6(2),a.Oqu(e.excluded),a.xp6(2),a.Oqu(e["Old excluded"])}}function ie(e,t){if(1&e&&(a.TgZ(0,"div",4),a.TgZ(1,"div",53),a.TgZ(2,"table",54),a.TgZ(3,"thead"),a.TgZ(4,"tr"),a.TgZ(5,"th"),a._uU(6),a.qZA(),a.TgZ(7,"th"),a._uU(8),a.qZA(),a.TgZ(9,"th"),a._uU(10),a.qZA(),a.TgZ(11,"th"),a._uU(12),a.qZA(),a.qZA(),a.qZA(),a.TgZ(13,"tbody"),a.YNc(14,te,9,4,"tr",55),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw(2);a.xp6(2),a.Q6J("dtOptions",e.importTableOptions),a.xp6(4),a.Oqu(e.language.action),a.xp6(2),a.Oqu(e.language.subnet),a.xp6(2),a.Oqu(e.language.excluded),a.xp6(2),a.AsE("",e.language.old," ",e.language.excluded,""),a.xp6(2),a.Q6J("ngForOf",e.previewTableBody)}}function se(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"section"),a.YNc(1,ie,15,7,"div",52),a.TgZ(2,"div",48),a.TgZ(3,"div",49),a.TgZ(4,"button",50),a.NdJ("click",function(){return a.CHM(e),a.oxw().submitImport()}),a._uU(5),a.qZA(),a.TgZ(6,"button",51),a.NdJ("click",function(){return a.CHM(e),a.oxw().cancel()}),a._uU(7),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(1),a.Q6J("ngIf",e.tablePreview),a.xp6(4),a.Oqu(e.language.submit),a.xp6(2),a.Oqu(e.language.Cancel)}}function ne(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",56),a.TgZ(1,"input",57),a.NdJ("change",function(t){return a.CHM(e),a.oxw().selectDeselectAll(t.target.checked)}),a.qZA(),a.TgZ(2,"span",58),a.NdJ("click",function(t){return a.CHM(e),a.oxw().showAllInnerCheckBox(t)}),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(1),a.Q6J("disabled",0==(null==e.staticSubnetData?null:e.staticSubnetData.length))}}function le(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",59),a.TgZ(1,"button",60),a.NdJ("click",function(){return a.CHM(e),a.oxw().deleteAllSelected()}),a._UZ(2,"i",61),a._uU(3),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(1),a.s9C("title",e.language["Delete selected"]),a.Q6J("disabled",!(null!=e.staticSubnetData&&e.staticSubnetData.length&&null!=e.deleteIds&&e.deleteIds.length)),a.xp6(2),a.hij(" ",e.language.selected," ")}}function ae(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",67),a.TgZ(1,"div",68),a.TgZ(2,"span",69),a.TgZ(3,"div",70),a.NdJ("click",function(){a.CHM(e);const t=a.oxw().$implicit;return a.oxw().edit(t)}),a._UZ(4,"i",71),a.qZA(),a.qZA(),a.TgZ(5,"span",69),a.TgZ(6,"input",72),a.NdJ("click",function(t){a.CHM(e);const i=a.oxw().$implicit;return a.oxw().getDeleteIds(t,i)}),a.qZA(),a.qZA(),a.TgZ(7,"span",69),a.TgZ(8,"div",73),a.NdJ("click",function(){a.CHM(e);const t=a.oxw().$implicit;return a.oxw().delete(t)}),a._UZ(9,"i",61),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw().$implicit,t=a.oxw();a.xp6(3),a.s9C("title",t.language.Edit),a.xp6(3),a.Gre("delete_id_",e._id,""),a.s9C("value",e._id),a.MGl("name","delete_id_",e._id,""),a.s9C("title",t.language.Select),a.xp6(2),a.s9C("title",t.language.Delete)}}function oe(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",74),a.TgZ(1,"div",68),a.TgZ(2,"span",75),a.TgZ(3,"div",76),a.NdJ("click",function(){a.CHM(e);const t=a.oxw().$implicit;return a.oxw().updateSave(t._id)}),a._UZ(4,"i",77),a.qZA(),a.qZA(),a.TgZ(5,"span",75),a.TgZ(6,"div",78),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).updateCancel()}),a._UZ(7,"i",79),a.qZA(),a.qZA(),a.qZA(),a.qZA()}}function de(e,t){if(1&e&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.subnet?e.subnet:""," ")}}function re(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",80),a.TgZ(1,"ng-select",81),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw(2).editSubnetVersionsSelected=t}),a.qZA(),a.TgZ(2,"input",82),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw(2).editSubnetv4=t}),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(2);a.xp6(1),a.Q6J("items",e.subnetVersions)("multiple",!1)("ngModel",e.editSubnetVersionsSelected)("ngModelOptions",a.DdM(8,K))("clearable",!1)("searchable",!1),a.xp6(1),a.Q6J("ngModel",e.editSubnetv4)("ngModelOptions",a.DdM(9,K))}}function ce(e,t){if(1&e&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.excluded?e.excluded:""," ")}}function ue(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"ng-select",81),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw(2).editSelectedExcluded=t}),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(2);a.xp6(1),a.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.editSelectedExcluded)("ngModelOptions",a.DdM(6,K))("clearable",!1)("searchable",!1)}}function he(e,t){if(1&e&&(a.TgZ(0,"tr",62),a.TgZ(1,"td",63),a.YNc(2,ae,10,8,"div",64),a.YNc(3,oe,8,0,"div",65),a.qZA(),a.TgZ(4,"td"),a.YNc(5,de,2,1,"div",3),a.YNc(6,re,3,10,"div",66),a.qZA(),a.TgZ(7,"td"),a.YNc(8,ce,2,1,"div",3),a.YNc(9,ue,2,7,"div",3),a.qZA(),a.qZA()),2&e){const e=t.$implicit,i=a.oxw();a.s9C("id",e._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=e._id),a.xp6(1),a.Q6J("ngIf",i.editOnValue==e._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=e._id),a.xp6(1),a.Q6J("ngIf",i.editOnValue==e._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=e._id),a.xp6(1),a.Q6J("ngIf",i.editOnValue==e._id)}}function ge(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",83),a.TgZ(1,"h4",84),a._uU(2),a.qZA(),a.TgZ(3,"button",85),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._UZ(4,"span",86),a.qZA(),a.qZA(),a.TgZ(5,"div",87),a._uU(6),a.qZA(),a.TgZ(7,"div",88),a.TgZ(8,"button",89),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._uU(9),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.infoTitle),a.xp6(4),a.hij(" ",e.infoBody," "),a.xp6(3),a.Oqu(e.language.Okay)}}function pe(e,t){if(1&e){const e=a.EpF();a.ynx(0),a.TgZ(1,"div",83),a.TgZ(2,"h4",84),a._uU(3),a.qZA(),a.TgZ(4,"button",85),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._UZ(5,"span",86),a.qZA(),a.qZA(),a.TgZ(6,"div",87),a._UZ(7,"table",90),a.qZA(),a.TgZ(8,"div",88),a.TgZ(9,"button",89),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._uU(10),a.qZA(),a.TgZ(11,"button",89),a.NdJ("click",function(){return a.CHM(e),a.oxw().confirmDelete()}),a._uU(12),a.qZA(),a.qZA(),a.BQk()}if(2&e){const e=a.oxw();a.xp6(3),a.Oqu(e.infoTitle),a.xp6(4),a.Q6J("innerHtml",e.infoBody,a.oJD),a.xp6(3),a.Oqu(e.language.Cancel),a.xp6(2),a.Oqu(e.language.Okay)}}function be(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",83),a.TgZ(1,"h4",84),a._uU(2),a.qZA(),a.TgZ(3,"button",85),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._UZ(4,"span",86),a.qZA(),a.qZA(),a.TgZ(5,"div",87),a._UZ(6,"table",90),a.qZA(),a.TgZ(7,"div",88),a.TgZ(8,"button",89),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._uU(9),a.qZA(),a.TgZ(10,"button",89),a.NdJ("click",function(){return a.CHM(e),a.oxw().confirmDeleteSecleted()}),a._uU(11),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.infoTitle),a.xp6(4),a.Q6J("innerHtml",e.infoBody,a.oJD),a.xp6(3),a.Oqu(e.language.Cancel),a.xp6(2),a.Oqu(e.language.Okay)}}function fe(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",83),a.TgZ(1,"h4",84),a._uU(2),a.qZA(),a.TgZ(3,"button",85),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._UZ(4,"span",86),a.qZA(),a.qZA(),a.TgZ(5,"div",87),a._UZ(6,"table",90),a.qZA(),a.TgZ(7,"div",88),a.TgZ(8,"button",89),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._uU(9),a.qZA(),a.TgZ(10,"button",89),a.NdJ("click",function(){return a.CHM(e),a.oxw().proceedImport()}),a._uU(11),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.infoTitle),a.xp6(4),a.Q6J("innerHtml",e.infoBody,a.oJD),a.xp6(3),a.Oqu(e.language.Cancel),a.xp6(2),a.Oqu(e.language.Okay)}}const Ze=i(91704);let me=(()=>{class e{constructor(e,t,i,s,n,l,a,o,d){this.commonFunctionsService=e,this.apiService=t,this.exportExcel=i,this.dataTablecreatorService=s,this.translateService=n,this.sso=l,this.router=a,this.dialogService=o,this.commonOrgService=d,this.pageAvailable=!1,this.formVisible=!1,this.buttonVisible=!0,this.selectOptions=["No","Yes"],this.selectedSubnet="No",this.storageData={},this.tableOptions={pagingType:"full_numbers",order:[1,"asc"],columnDefs:[{targets:[0],orderable:!1}],drawCallback:e=>{this.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},e.aoData.length<=e._iDisplayLength&&Ze(e.nTableWrapper).find(`#${e.sTableId}_last`).addClass("disabled")}},this.staticSubnetData=[],this.exportData=[],this.empty={subnet:"",excluded:""},this.add={excluded:!0,isstatic:!0,isv4:!0,orgId:50,subnet:"",tenantId:0},this.importTableOptions={},this.tablePreview=!1,this.fullLoader=!0,this.isFullImport=!0,this.subnetError=!1,this.isIPv4=!0,this.dtTrigger=new g.xQ,this.isRerender=!1,this.deleteIds=[],this.deleteSubnets=[],this.subnetVersions=["SubnetIPV4","SubnetIPV6"],this.subnetVersionsSelected="SubnetIPV4",this.loading=!0,this.importUpdateASCreate=[],this.sortData={column:1,type:"asc"},this.language=this.translateService.defualtLanguage,this.language&&(this.pageAvailable=!0),this.translateSubscribe=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.dataAvailable=!1,this.isRerender=!0,this.setTableOptions("language")}),this.commonOrgService.closeAlert(),this.ORG_ID=this.sso.getOrganizationID(this.router.url),this.frTable=this.translateService.fr}ngOnInit(){this.getSubnets(),this.tableLanguageOptions();const e=JSON.parse(localStorage.getItem("calix.login_data"));this.storageData.clientIp=null==e?void 0:e.clientIp,this.storageData.UserId=null==e?void 0:e.UserId,this.subscription=this.dataTablecreatorService.tableOptionsData.subscribe(e=>{try{this.recreateTable=e,this.submitImport(!0)}catch(t){}})}ngAfterViewInit(){this.loaded=!0}ngOnDestroy(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSubscribe&&this.translateSubscribe.unsubscribe(),this.subscription&&this.subscription.unsubscribe(),this.listSubs&&this.listSubs.unsubscribe(),this.createSubs&&this.createSubs.unsubscribe(),this.updateSubs&&this.updateSubs.unsubscribe(),this.deleteSubs&&this.deleteSubs.unsubscribe(),this.exportSubs&&this.exportSubs.unsubscribe(),this.importSubs&&this.importSubs.unsubscribe()}getSubnets(){this.listSubs=this.apiService.getStaticSubnets(this.ORG_ID).subscribe(e=>{e&&(this.staticSubnetData=[...this.processData(e)],this.setTableOptions(),this.isRerender?(this.rerender(),this.isRerender=!1):(this.dtTrigger.next(),this.loading=!1),setTimeout(()=>{this.resetDelete()},100),this.exportData=this.apiService.exportProcess(e))},e=>{this.pageErrorHandle(e),this.setTableOptions(),this.isRerender?(this.rerender(),this.isRerender=!1):this.dtTrigger.next()})}setTableOptions(e){this.tableOptions={pagingType:"full_numbers",order:[this.sortData.column,this.sortData.type],columnDefs:[{targets:[0],orderable:!1}],drawCallback:e=>{this.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},e.aoData.length<=e._iDisplayLength&&Ze(e.nTableWrapper).find(`#${e.sTableId}_last`).addClass("disabled")}},this.tableLanguageOptions(),e&&"language"==e?setTimeout(()=>{this.dataAvailable=!0,this.rerender()},200):(this.dataAvailable=!0,this.loading=!1)}rerender(){this.dtElement.dtInstance.then(e=>{e.destroy(),this.tableOptions.order=[this.sortData.column,this.sortData.type],setTimeout(()=>{this.dtTrigger.next()},10)})}processData(e){return e.forEach(e=>{for(let t in e)"excluded"==t&&(e.excluded=e[t]?"Yes":"No");e.subnetIP4=e.isv4?e.subnet:"",e.subnetIP6=e.isv4?"":e.subnet}),e}create(){this.buttonVisible=!1,this.formVisible=!0,this.reset()}submit(){return"SubnetIPV4"==this.subnetVersionsSelected&&null!=this.newSubnetipv4?this.validateSubnetv4(this.newSubnetipv4):"SubnetIPV6"==this.subnetVersionsSelected&&null!=this.newSubnetipv6&&this.validateSubnetv6(this.newSubnetipv6),null!=this.newSubnetipv4&&""!=this.newSubnetipv4||null!=this.newSubnetipv6&&""!=this.newSubnetipv6?this.subnetError?(this.infoTitle=this.language["Invalid subnet"],this.infoBody="SubnetIPV4"==this.subnetVersionsSelected?this.newSubnetipv4?this.newSubnetipv4:"":this.newSubnetipv6?this.newSubnetipv6:"",void this.openInfoModal()):void(this.createSubs=this.apiService.addStaticSubnet({excluded:"Yes"==this.selectedSubnet,isstatic:!0,isv4:this.isIPv4,orgId:this.ORG_ID,subnet:this.subnet,tenantId:0},this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.cancel(),this.getSubnets()},e=>{this.pageErrorHandle(e)})):(this.infoTitle=this.language["Invalid subnet"],this.infoBody="",void this.openInfoModal())}validateSubnet(e){if(this.subnetError=!1,!e)return void(this.subnetError=!0);let t=this.apiService.trimSubnet(e);return t?this.commonFunctionsService.isValidSubnetV4(t)?(this.isIPv4=!0,this.subnet=t,!0):this.commonFunctionsService.isValidSubnetV6(t)?(this.isIPv4=!1,void(this.subnet=t)):void(this.subnetError=!0):void(this.subnetError=!0)}cancel(){this.formVisible=!1,this.buttonVisible=!0,this.tablePreview=!1,this.reset()}edit(e){this.editData=e,this.editOnValue=e._id,this.editSubnetv4=e.subnet,this.editSelectedExcluded=e.excluded,this.editSubnetVersionsSelected=e.isv4?"SubnetIPV4":"SubnetIPV6"}updateSave(e){return null==this.editSubnetv4||""==this.editSubnetv4?(this.infoTitle=this.language["Invalid subnet"],this.infoBody="",void this.openInfoModal()):(null!=this.editSubnetv4&&""!=this.editSubnetv4&&"SubnetIPV4"==this.editSubnetVersionsSelected?this.validateSubnetv4(this.editSubnetv4):null!=this.editSubnetv4&&""!=this.editSubnetv4&&"SubnetIPV6"==this.editSubnetVersionsSelected&&this.validateSubnetv6(this.editSubnetv4),this.subnetError?(this.infoTitle=this.language["Invalid subnet"],this.infoBody="SubnetIPV4"==this.editSubnetVersionsSelected?this.editSubnetv4?this.editSubnetv4:"":this.editSubnetv6?this.editSubnetv6:"",void this.openInfoModal()):void this.apiService.updateStaticSubnet(e,{_id:e,excluded:"Yes"==this.editSelectedExcluded,isstatic:!0,isv4:this.isIPv4,orgId:this.ORG_ID,subnet:this.subnet,tenantId:0},this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.cancel(),this.getSubnets(),this.editOnValue=void 0},e=>{this.pageErrorHandle(e)}))}updateCancel(){this.editOnValue=void 0}delete(e){this.deleteData=e,this.infoTitle=this.language["Delete subnet"],this.infoBody=`${e.subnet}`,this.closeModal(),this.modalRef=this.dialogService.open(this.deleteModal)}confirmDelete(){this.apiService.deleteStaticSubnet(this.deleteData._id,this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.getSubnets(),this.closeDeleteModal()},e=>{this.pageErrorHandle(e)})}closeDeleteModal(){this.deleteData=void 0,this.closeModal()}getDeleteIds(e,t){if(e.target.checked){this.deleteIds.push(t._id),this.deleteSubnets.push(t.subnet);let e=Ze('input[name^="delete_id_"]').length;this.deleteIds.length==e?(Ze("#selectDeselectAll").prop("checked",!0),Ze("#selectDeselectAll-span").hide()):Ze("#selectDeselectAll-span").show()}else{this.deleteIds.splice(this.deleteIds.indexOf(t.value),1),this.deleteSubnets.splice(this.deleteSubnets.indexOf(t.subnet),1);let e=Ze('input[name^="delete_id_"]').length;this.deleteIds.length?this.deleteIds.length!=e?(Ze("#selectDeselectAll").prop("checked",!1),Ze("#selectDeselectAll-span").show()):Ze("#selectDeselectAll-span").hide():(Ze("#selectDeselectAll").prop("checked",!1),Ze("#selectDeselectAll-span").hide())}}selectDeselectAll(e){this.deleteIds=[],this.deleteSubnets=[];let t=0,i=Ze('input[name^="delete_id_"]').length;var s=this;e?Ze('input[name^="delete_id_"]').each(function(){if(t>=i)return!1;Ze(this).prop("checked",!0);let e=Ze(this).attr("class").split(" ")[0].substring("delete_id_".length),n=s.staticSubnetData.filter(t=>t._id===e);s.deleteIds.push(e),s.deleteSubnets.push(n[0].subnet),t++}):Ze('input[name^="delete_id_"]').each(function(){if(t>=i)return!1;Ze(this).prop("checked",!1),s.deleteIds=[],s.deleteSubnets=[],t++})}showAllInnerCheckBox(e){Ze("#"+e.target.id).hide(),Ze("#selectDeselectAll").prop("checked",!0),this.deleteIds=[],this.deleteSubnets=[],this.selectDeselectAll(!0)}deleteAllSelected(){this.deleteSubnets&&(this.infoTitle=this.language["Delete selected subnet"],this.infoBody=this.deleteSubnets.join(", <br>"),this.closeModal(),this.modalRef=this.dialogService.open(this.multiDeleteModal))}confirmDeleteSecleted(){this.loading=!0;const e=[];this.deleteIds.forEach(t=>{e.push(this.apiService.deleteStaticSubnet(t,this.ORG_ID))}),(0,p.D)(e).subscribe(e=>{this.deleteIds=[],this.deleteSubnets=[],this.isRerender=!0,this.getSubnets(),this.closeMultiDeleteModal()},e=>{this.pageErrorHandle(e)})}closeMultiDeleteModal(){this.deleteIds=[],this.deleteSubnets=[],this.closeModal()}export(){let e=this.commonFunctionsService.generateExportName("static_subnet");this.exportSubs=this.apiService.Export("static-subnets",this.ORG_ID).subscribe(t=>{this.exportData=this.exportDataConvertor(t),this.exportExcel.downLoadCSV(e,this.exportData&&this.exportData.length?this.exportData:[this.empty])})}exportPdf(){}exportDataConvertor(e){return e&&e.forEach(e=>{delete e._id;for(const t in e)"boolean"==typeof e[t]&&(e[t]=1==e[t]?"Yes":"No")}),e}cancelImport(){}fullImportUpload(){this.infoTitle=this.language.fullImport,this.infoBody=this.language.fullImportPrompt,this.closeModal(),this.modalRef=this.dialogService.open(this.importModal)}proceedImport(){this.closeModal(),Ze("#fullImportUpload").click()}fullImport(e,t){this.isFullImport=t,this.dataTablecreatorService.generateJsonFromCsv(e)}submitImport(e=!1){let t,i={clientIP:this.storageData.clientIp,dry_run:e,full_import:this.isFullImport,import_data:[],orgId:this.ORG_ID?this.ORG_ID:50,userId:this.storageData.UserId},s=[],n=[];if(e?(t="Create",this.recreateTable.forEach(e=>{s.push(this.importTemplate(e,"Create"))})):this.recreateTable.forEach(e=>{s.push(this.importTemplate(e))}),e){const e=s.length;this.staticSubnetData.forEach(t=>{let i=!1;for(let n=0;n<e;n++)t.subnet==s[n].subnet&&(i=!0,this.isFullImport?(s[n].action="Create",this.importUpdateASCreate.push(t)):s[n].action="Update");if(!i&&this.isFullImport){const e=Object.assign({},t);n.push(this.importTemplate(e,"Delete"))}})}else if(s=s.filter(e=>{if(["Create","Update"].includes(e.action))return e}),0==s.length)return void this.cancel();i.import_data=s,this.importSubs=this.apiService.importStaticSubnets(i,this.ORG_ID).subscribe(t=>{e?(t=t.map(e=>(e.action="ok"==e.validationResult.toLowerCase()?e.action:e.validationResult,e)),this.recreateTable=t,this.previewOrder([...t,...n]),this.buttonVisible=!1,this.tablePreview=!0):(this.cancel(),this.isRerender=!0,this.getSubnets())},t=>{400==t.status?(e?(this.infoTitle=this.language.objectNotFound,this.infoBody="",this.openInfoModal()):this.pageErrorHandle(t),this.loading=!1):this.pageErrorHandle(t)})}previewOrder(e){if(!e||0==e.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",void Ze("#openModalButton").click();let t=[];const i=["excluded"],s=["validationResult"],n=["action","subnet"];e.forEach(e=>{let l=e;Object.keys(e).forEach(t=>{s.includes(t)||(l[t]=i.includes(t)&&("true"===e[t]||!0===e[t]||e[t]&&"Y"==e[t].toString().toUpperCase)?"Yes":i.includes(t)&&("false"===e[t]||!1===e[t]||e[t]&&"N"==e[t].toString().toUpperCase)?"No":e[t],n.includes(t)||(l["Old "+t]=""))}),this.staticSubnetData.forEach(t=>{if(e.subnet==t.subnet){for(const[e,s]of Object.entries(l))if(e.includes("Old")){const s=e.replace("Old ","");i.includes(s)&&(t[s]||"Y"==t[s].toString().toUpperCase)?l[e]="Yes":i.includes(s)&&(!t[s]||"N"==t[s].toString().toUpperCase)&&(l[e]="No"),l[e]=t[s]}return"Create"==l.action&&(l.action="Update"),!1}}),t.push(l)}),this.previewTableBody=t}reset(){this.newSubnetipv4=void 0,this.newSubnetipv6=void 0,this.subnet=void 0,this.selectedSubnet="No",this.editData=void 0,this.editOnValue=void 0}showError(e,t){this.infoTitle=e,this.infoBody=t,Ze("#openModalButton").click()}validateSubnetv4(e){if(this.subnetError=!1,!e)return void(this.subnetError=!0);let t=this.apiService.trimSubnet(e);return t&&this.commonFunctionsService.isValidSubnetV4(t)?(this.isIPv4=!0,this.subnet=t,!0):void(this.subnetError=!0)}validateSubnetv6(e){if(this.subnetError=!1,!e)return void(this.subnetError=!0);let t=this.apiService.trimSubnet(e);return t&&this.commonFunctionsService.isValidSubnetV6(t)?(this.isIPv4=!1,void(this.subnet=t)):void(this.subnetError=!0)}resetDelete(){this.selectDeselectAll(!1),Ze("#selectDeselectAll").prop("checked",!1),Ze("#selectDeselectAll-span").hide(),this.deleteIds=[],this.deleteSubnets=[]}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.tableOptions.language=this.frTable:"en"==this.language.fileLanguage&&this.tableOptions.language&&delete this.tableOptions.language}closeModal(){this.modalRef&&this.modalRef.close()}pageErrorHandle(e){let t="";400==e.status?(this.infoBody=this.commonOrgService.pageInvalidRqstErrorHandle(e),this.infoTitle=this.language["Invalid request"],this.openInfoModal(),this.loading=!1):(t=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(t),this.commonOrgService.pageScrollTop(),this.loading=!1)}openInfoModal(){this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)}importTemplate(e,t){return!t&&this.isFullImport&&(t="Create"),{action:t||e.action,subnet:e.subnet,excluded:"boolean"==typeof e.excluded?e.excluded:!("N"==e.excluded.toUpperCase()||"NO"==e.excluded.toUpperCase()),isstatic:"boolean"==typeof e.isstatic?e.isstatic:!("N"==e.isstatic.toUpperCase()||"NO"==e.isstatic.toUpperCase()),isv4:"boolean"==typeof e.isv4?e.isv4:!("N"==e.isv4.toUpperCase()||"NO"==e.isv4.toUpperCase()),orgId:this.ORG_ID,tenantId:0}}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(f.i),a.Y36(v),a.Y36($.O),a.Y36(Q.L),a.Y36(x.s),a.Y36(d.t6),a.Y36(l.F0),a.Y36(S.FF),a.Y36(T.v))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-static-subnets"]],viewQuery:function(e,t){if(1&e&&(a.Gf(j,7),a.Gf(L,7),a.Gf(B,7),a.Gf(z,7),a.Gf(b.G,5)),2&e){let e;a.iGM(e=a.CRH())&&(t.infoModal=e.first),a.iGM(e=a.CRH())&&(t.deleteModal=e.first),a.iGM(e=a.CRH())&&(t.multiDeleteModal=e.first),a.iGM(e=a.CRH())&&(t.importModal=e.first),a.iGM(e=a.CRH())&&(t.dtElement=e.first)}},decls:28,vars:12,consts:[[1,"container"],["class","loader",4,"ngIf"],["class","row py-4",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-md-12","ccl-admin-table",3,"hidden"],["id","static-subnets-table","width","100%","datatable","",1,"row-border","hover","table-alter",3,"dtOptions","dtTrigger"],[1,"mxw-200",2,"white-space","nowrap"],[1,"d-flex","justify-content-end"],["class","d-flex align-items-center mr-1",4,"ngIf"],["class","text-center justify-content-center",4,"ngIf"],[1,"mw-250"],[1,"w-250"],[3,"id",4,"ngFor","ngForOf"],["infoModal",""],["deleteModal",""],["multiDeleteModal",""],["importModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"row","py-4"],[1,"col-md-9"],[1,"d-flex"],["id","create-btn",1,"btn-default","primary","mx-2",3,"click"],["id","export-btn",1,"btn-default","primary","mx-2",3,"click"],[1,"upload-btn-wrapper"],[1,"btn-default","primary","mx-2",3,"click"],["type","file","accept",".xls,.xlsx,.csv","id","fullImportUpload",2,"display","none",3,"change"],["for","inc-import",1,"btn-default","primary","mx-2","cursor-pointer"],["type","file","id","inc-import","accept",".xls,.xlsx,.csv",2,"display","none",3,"change"],[1,"col-sm-3","align-self-end","d-none"],[1,"ccl-form"],["type","search","name","searchbox","placeholder","",1,"input-sm"],[1,"serach-but","btn-default","primary","btn-icon-md","inline"],["aria-hidden","true",1,"fa","fa-search"],[1,"col-md-6","offset-md-3"],[1,"ccl-form","row","my-2"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","subnet-select","placeholder","",2,"text-align","left",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["for","newSubnetV4",1,"col-sm-4","col-form-label"],[1,"error"],["id","newSubnetV4","type","text","name","newSubnetV4","placeholder","",1,"",3,"ngModel","disabled","ngModelChange"],["for","newSubnetV6",1,"col-sm-4","col-form-label"],["id","newSubnetV6","type","text","name","newSubnetV6","placeholder","",1,"",3,"ngModel","disabled","ngModelChange"],["placeholder","",2,"text-align","left",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],[1,"row","my-4"],[1,"col-md-8","offset-md-4"],[1,"btn-default","primary","px-3","mx-3",3,"click"],[1,"btn-default","primary","px-3",3,"click"],["class","row",4,"ngIf"],[1,"col-md-12","ccl-admin-table"],["id","example","datatable","",1,"row-border","hover","table-alter",3,"dtOptions"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","mr-1"],["type","checkbox","value","","id","selectDeselectAll",1,"",3,"disabled","change"],["id","selectDeselectAll-span",1,"checkbox-ui",2,"display","none",3,"click"],[1,"text-center","justify-content-center"],["id","delete-selected-btn",1,"btn-default","primary","px-2",3,"title","disabled","click"],[1,"far","fa-trash-alt"],[3,"id"],[1,"action-button",2,"white-space","nowrap","width","10% !important"],["class","editable-td text-center","style","font-size:13px",4,"ngIf"],["class","save-cancel-btn-group d-flex justify-content-center",4,"ngIf"],["class","subnet-select-div ccl-form",4,"ngIf"],[1,"editable-td","text-center",2,"font-size","13px"],[1,"ccl-fc-table-icon"],[1,"pr-2"],["id","edit-btn",1,"primary",3,"title","click"],[1,"fas","fa-pencil-alt"],["type","checkbox",3,"value","name","title","click"],["id","delete-btn",1,"primary",3,"title","click"],[1,"save-cancel-btn-group","d-flex","justify-content-center"],[1,"pr-1"],["id","save-btn",1,"primary","mx-3",3,"click"],[1,"fas","fa-check"],["id","cancel-btn",1,"primary",3,"click"],[1,"fas","fa-times"],[1,"subnet-select-div","ccl-form"],["placeholder","",2,"text-align","left","width","200px",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["type","text",1,"edit-text",2,"width","200px",3,"ngModel","ngModelOptions","ngModelChange"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"],[3,"innerHtml"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.YNc(1,W,5,0,"div",1),a.YNc(2,X,22,4,"div",2),a.YNc(3,ee,32,24,"section",3),a.YNc(4,se,8,3,"section",3),a.TgZ(5,"div",4),a.TgZ(6,"div",5),a.TgZ(7,"table",6),a.TgZ(8,"thead"),a.TgZ(9,"tr"),a.TgZ(10,"th",7),a.TgZ(11,"div",8),a.YNc(12,ne,3,1,"div",9),a.YNc(13,le,4,3,"div",10),a.qZA(),a.qZA(),a.TgZ(14,"th",11),a._uU(15),a.qZA(),a.TgZ(16,"th",12),a._uU(17),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"tbody"),a.YNc(19,he,10,7,"tr",13),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(20,ge,10,3,"ng-template",null,14,a.W1O),a.YNc(22,pe,13,4,"ng-template",null,15,a.W1O),a.YNc(24,be,12,4,"ng-template",null,16,a.W1O),a.YNc(26,fe,12,4,"ng-template",null,17,a.W1O)),2&e&&(a.xp6(1),a.Q6J("ngIf",t.loading),a.xp6(1),a.Q6J("ngIf",t.buttonVisible),a.xp6(1),a.Q6J("ngIf",t.formVisible),a.xp6(1),a.Q6J("ngIf",t.tablePreview),a.xp6(2),a.Q6J("hidden",!t.dataAvailable),a.xp6(1),a.Q6J("dtOptions",t.tableOptions)("dtTrigger",t.dtTrigger),a.xp6(5),a.Q6J("ngIf",!t.editOnValue),a.xp6(1),a.Q6J("ngIf",!t.editOnValue),a.xp6(2),a.Oqu(t.language.subnet),a.xp6(2),a.Oqu(t.language.excluded),a.xp6(2),a.Q6J("ngForOf",t.staticSubnetData))},directives:[s.O5,b.G,s.sg,n._Y,n.JL,n.F,G.w9,n.JJ,n.On,n.Fj],styles:[".subnet-select-div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start}.subnet-select-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:10px}"]}),e})();var ve=i(29923);const xe=["infoModal"],Se=["deleteModal"],Te=["multiDeleteModal"],Ae=["importModal"];function qe(e,t){1&e&&(a.TgZ(0,"div",22),a.TgZ(1,"div",23),a.TgZ(2,"div",24),a.TgZ(3,"span",25),a._uU(4,"Loading..."),a.qZA(),a.qZA(),a.qZA(),a.qZA())}function we(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",26),a.TgZ(1,"div",27),a.TgZ(2,"div",28),a.TgZ(3,"div"),a.TgZ(4,"button",29),a.NdJ("click",function(){return a.CHM(e),a.oxw().create()}),a._uU(5),a.qZA(),a.qZA(),a.TgZ(6,"div"),a.TgZ(7,"button",30),a.NdJ("click",function(){return a.CHM(e),a.oxw().export()}),a._uU(8),a.qZA(),a.qZA(),a.TgZ(9,"div",31),a.TgZ(10,"button",32),a.NdJ("click",function(){return a.CHM(e),a.oxw().fullImportUpload()}),a._uU(11),a.qZA(),a.TgZ(12,"input",33),a.NdJ("change",function(t){return a.CHM(e),a.oxw().fullImport(t,!0)}),a.qZA(),a.qZA(),a.TgZ(13,"div",31),a.TgZ(14,"label",34),a._uU(15),a.qZA(),a.TgZ(16,"input",35,36),a.NdJ("change",function(t){return a.CHM(e),a.oxw().fullImport(t,!1)})("click",function(){return a.CHM(e),a.MAs(17).value=null}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"div",37),a.TgZ(19,"div",38),a._UZ(20,"input",39),a.TgZ(21,"button",40),a._UZ(22,"i",41),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(5),a.Oqu(e.language.create),a.xp6(3),a.Oqu(e.language.export),a.xp6(3),a.Oqu(e.language.fullImport),a.xp6(4),a.hij("",e.language.incrementalImport," ")}}function Ie(e,t){if(1&e&&a._uU(0),2&e){const e=t.item,i=a.oxw(2);a.hij(" ",i.language[e]," ")}}function Me(e,t){if(1&e&&a._uU(0),2&e){const e=t.item,i=a.oxw(2);a.hij(" ",i.language[e]," ")}}const Oe=function(){return{standalone:!0}};function _e(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"section"),a.TgZ(1,"div",4),a.TgZ(2,"div",42),a.TgZ(3,"form"),a.TgZ(4,"div",43),a.TgZ(5,"label",44),a._uU(6),a.qZA(),a.TgZ(7,"div",45),a.TgZ(8,"ng-select",46),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().subnetVersionsSelected=t})("change",function(){return a.CHM(e),a.oxw().subnetVerChoose()}),a.YNc(9,Ie,1,1,"ng-template",47),a.YNc(10,Me,1,1,"ng-template",48),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"div",43),a.TgZ(12,"label",44),a._uU(13),a.qZA(),a.TgZ(14,"div",45),a.TgZ(15,"ng-select",49),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().subnetStaticSelected=t}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(16,"div",43),a.TgZ(17,"label",50),a._uU(18),a.qZA(),a.TgZ(19,"div",45),a.TgZ(20,"input",51),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().newSubnetipv4=t})("blur",function(){a.CHM(e);const t=a.oxw();return t.removeUnwantedSpace("newSubnetipv4",t.newSubnetipv4)}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(21,"div",43),a.TgZ(22,"label",52),a._uU(23),a.qZA(),a.TgZ(24,"div",45),a.TgZ(25,"input",53),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().newSubnetipv6=t})("blur",function(){a.CHM(e);const t=a.oxw();return t.removeUnwantedSpace("newSubnetipv6",t.newSubnetipv6)}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(26,"div",43),a.TgZ(27,"label",44),a._uU(28),a.qZA(),a.TgZ(29,"div",45),a.TgZ(30,"ng-select",54),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().selectedSubnet=t}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(31,"div",55),a.TgZ(32,"div",56),a.TgZ(33,"button",57),a.NdJ("click",function(){return a.CHM(e),a.oxw().submit()}),a._uU(34),a.qZA(),a.TgZ(35,"button",58),a.NdJ("click",function(){return a.CHM(e),a.oxw().cancel()}),a._uU(36),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(6),a.Oqu(e.language.subnet),a.xp6(2),a.Q6J("items",e.subnetVersions)("multiple",!1)("ngModel",e.subnetVersionsSelected)("ngModelOptions",a.DdM(29,Oe))("clearable",!1)("searchable",!1),a.xp6(5),a.Oqu(e.language.static),a.xp6(2),a.Q6J("items",e.subnetStatic)("multiple",!1)("ngModel",e.subnetStaticSelected)("ngModelOptions",a.DdM(30,Oe))("clearable",!1)("searchable",!1),a.xp6(3),a.Oqu(e.language.subnetIpv4),a.xp6(2),a.Q6J("ngModel",e.newSubnetipv4)("disabled","SubnetIPV6"==e.subnetVersionsSelected),a.xp6(3),a.hij("",e.language.subnetIpv6," "),a.xp6(2),a.Q6J("ngModel",e.newSubnetipv6)("disabled","SubnetIPV4"==e.subnetVersionsSelected),a.xp6(3),a.hij("",e.language.excluded," "),a.xp6(2),a.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.selectedSubnet)("ngModelOptions",a.DdM(31,Oe))("clearable",!1)("searchable",!1),a.xp6(4),a.Oqu(e.language.submit),a.xp6(2),a.Oqu(e.language.Cancel)}}function Ce(e,t){if(1&e&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td"),a._uU(12),a.qZA(),a.qZA()),2&e){const e=t.$implicit;a.xp6(2),a.Oqu(e.action),a.xp6(2),a.Oqu(e.subnet),a.xp6(2),a.Oqu(e.excluded),a.xp6(2),a.Oqu(e["Old excluded"]),a.xp6(2),a.Oqu(e.isstatic?"Yes":"No"),a.xp6(2),a.Oqu(e["Old isstatic"])}}function De(e,t){if(1&e&&(a.TgZ(0,"div",4),a.TgZ(1,"div",60),a.TgZ(2,"table",61),a.TgZ(3,"thead"),a.TgZ(4,"tr"),a.TgZ(5,"th"),a._uU(6),a.qZA(),a.TgZ(7,"th"),a._uU(8),a.qZA(),a.TgZ(9,"th"),a._uU(10),a.qZA(),a.TgZ(11,"th"),a._uU(12),a.qZA(),a.TgZ(13,"th"),a._uU(14),a.qZA(),a.TgZ(15,"th"),a._uU(16),a.qZA(),a.qZA(),a.qZA(),a.TgZ(17,"tbody"),a.YNc(18,Ce,13,6,"tr",62),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw(2);a.xp6(2),a.Q6J("dtOptions",e.importTableOptions),a.xp6(4),a.Oqu(e.language.action),a.xp6(2),a.Oqu(e.language.subnet),a.xp6(2),a.Oqu(e.language.excluded),a.xp6(2),a.AsE("",e.language.old," ",e.language.excluded,""),a.xp6(2),a.Oqu(e.language.static),a.xp6(2),a.AsE("",e.language.old," ",e.language.static,""),a.xp6(2),a.Q6J("ngForOf",e.previewTableBody)}}function ye(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"section"),a.YNc(1,De,19,10,"div",59),a.TgZ(2,"div",55),a.TgZ(3,"div",56),a.TgZ(4,"button",57),a.NdJ("click",function(){return a.CHM(e),a.oxw().submitImport()}),a._uU(5),a.qZA(),a.TgZ(6,"button",58),a.NdJ("click",function(){return a.CHM(e),a.oxw().cancel()}),a._uU(7),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(1),a.Q6J("ngIf",e.tablePreview),a.xp6(4),a.Oqu(e.language.submit),a.xp6(2),a.Oqu(e.language.Cancel)}}function ke(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",69),a.TgZ(1,"div",70),a.TgZ(2,"span",71),a.TgZ(3,"div",72),a.NdJ("click",function(){a.CHM(e);const t=a.oxw().$implicit,i=a.oxw();return i.edit(t),i.updateDis=!0}),a._UZ(4,"i",73),a.qZA(),a.qZA(),a.TgZ(5,"span",71),a.TgZ(6,"input",74),a.NdJ("click",function(t){a.CHM(e);const i=a.oxw().$implicit;return a.oxw().getDeleteIds(t,i)}),a.qZA(),a.qZA(),a.TgZ(7,"span",71),a.TgZ(8,"div",75),a.NdJ("click",function(){a.CHM(e);const t=a.oxw().$implicit;return a.oxw().delete(t)}),a._UZ(9,"i",14),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw().$implicit,t=a.oxw();a.xp6(3),a.s9C("title",t.language.Edit),a.xp6(3),a.Gre("delete_id_",e._id,""),a.s9C("value",e._id),a.MGl("name","delete_id_",e._id,""),a.s9C("title",t.language.Select),a.xp6(2),a.s9C("title",t.language.Delete)}}function Ue(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",76),a.TgZ(1,"div",70),a.TgZ(2,"span",77),a.TgZ(3,"div",78),a.NdJ("click",function(){a.CHM(e);const t=a.oxw().$implicit;return a.oxw().updateSave(t._id)}),a._UZ(4,"i",79),a.qZA(),a.qZA(),a.TgZ(5,"span",77),a.TgZ(6,"div",80),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).updateCancel()}),a._UZ(7,"i",81),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(2);a.xp6(3),a.Q6J("ngClass",e.updateDis?"disable-edit-btn":"")}}function Ne(e,t){if(1&e&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.subnet?e.subnet:""," ")}}function Je(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",82),a.TgZ(1,"ng-select",83),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw(2).editSubnetVersionsSelected=t})("change",function(){a.CHM(e);const t=a.oxw().$implicit;return a.oxw().objmodifycheck(t._id)}),a.qZA(),a.TgZ(2,"input",84),a.NdJ("keyup",function(){a.CHM(e);const t=a.oxw().$implicit;return a.oxw().objmodifycheck(t._id)})("ngModelChange",function(t){return a.CHM(e),a.oxw(2).editSubnetv4=t})("blur",function(){a.CHM(e);const t=a.oxw(2);return t.removeUnwantedSpace("editSubnetv4",t.editSubnetv4)}),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(2);a.xp6(1),a.Q6J("items",e.subnetVersions)("multiple",!1)("ngModel",e.editSubnetVersionsSelected)("ngModelOptions",a.DdM(8,Oe))("clearable",!1)("searchable",!1),a.xp6(1),a.Q6J("ngModel",e.editSubnetv4)("ngModelOptions",a.DdM(9,Oe))}}function Ve(e,t){if(1&e&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.excluded?e.excluded:""," ")}}function Ee(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"ng-select",83),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw(2).editSelectedExcluded=t})("change",function(){a.CHM(e);const t=a.oxw().$implicit;return a.oxw().objmodifycheck(t._id)}),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(2);a.xp6(1),a.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.editSelectedExcluded)("ngModelOptions",a.DdM(6,Oe))("clearable",!1)("searchable",!1)}}function He(e,t){if(1&e&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.isstatic?e.isstatic:""," ")}}function Pe(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"ng-select",83),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw(2).eidtsubSelected=t})("change",function(){a.CHM(e);const t=a.oxw().$implicit;return a.oxw().objmodifycheck(t._id)}),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(2);a.xp6(1),a.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.eidtsubSelected)("ngModelOptions",a.DdM(6,Oe))("clearable",!1)("searchable",!1)}}function Re(e,t){if(1&e&&(a.TgZ(0,"tr",63),a.TgZ(1,"td",64),a.YNc(2,ke,10,8,"div",65),a.YNc(3,Ue,8,1,"div",66),a.qZA(),a.TgZ(4,"td"),a.YNc(5,Ne,2,1,"div",3),a.YNc(6,Je,3,10,"div",67),a.qZA(),a.TgZ(7,"td",68),a.YNc(8,Ve,2,1,"div",3),a.YNc(9,Ee,2,7,"div",3),a.qZA(),a.TgZ(10,"td",68),a.YNc(11,He,2,1,"div",3),a.YNc(12,Pe,2,7,"div",3),a.qZA(),a.qZA()),2&e){const e=t.$implicit,i=a.oxw();a.s9C("id",e._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=e._id),a.xp6(1),a.Q6J("ngIf",i.editOnValue==e._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=e._id),a.xp6(1),a.Q6J("ngIf",i.editOnValue==e._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=e._id),a.xp6(1),a.Q6J("ngIf",i.editOnValue==e._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=e._id),a.xp6(1),a.Q6J("ngIf",i.editOnValue==e._id)}}function Fe(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",85),a.TgZ(1,"h4",86),a._uU(2),a.qZA(),a.TgZ(3,"button",87),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._UZ(4,"span",88),a.qZA(),a.qZA(),a.TgZ(5,"div",89),a._uU(6),a.qZA(),a.TgZ(7,"div",90),a.TgZ(8,"button",91),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._uU(9),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.infoTitle),a.xp6(4),a.hij(" ",e.infoBody," "),a.xp6(3),a.Oqu(e.language.Okay)}}function Ye(e,t){if(1&e){const e=a.EpF();a.ynx(0),a.TgZ(1,"div",85),a.TgZ(2,"h4",86),a._uU(3),a.qZA(),a.TgZ(4,"button",87),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._UZ(5,"span",88),a.qZA(),a.qZA(),a.TgZ(6,"div",89),a._UZ(7,"table",92),a.qZA(),a.TgZ(8,"div",90),a.TgZ(9,"button",91),a.NdJ("click",function(){return a.CHM(e),a.oxw().confirmDelete()}),a._uU(10),a.qZA(),a.TgZ(11,"button",93),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._uU(12),a.qZA(),a.qZA(),a.BQk()}if(2&e){const e=a.oxw();a.xp6(3),a.Oqu(e.infoTitle),a.xp6(4),a.Q6J("innerHtml",e.infoBody,a.oJD),a.xp6(3),a.Oqu(e.language.Okay),a.xp6(2),a.Oqu(e.language.Cancel)}}function $e(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",85),a.TgZ(1,"h4",86),a._uU(2),a.qZA(),a.TgZ(3,"button",87),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._UZ(4,"span",88),a.qZA(),a.qZA(),a.TgZ(5,"div",89),a._UZ(6,"table",92),a.qZA(),a.TgZ(7,"div",90),a.TgZ(8,"button",91),a.NdJ("click",function(){return a.CHM(e),a.oxw().confirmDeleteSecleted()}),a._uU(9),a.qZA(),a.TgZ(10,"button",93),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._uU(11),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.infoTitle),a.xp6(4),a.Q6J("innerHtml",e.infoBody,a.oJD),a.xp6(3),a.Oqu(e.language.Okay),a.xp6(2),a.Oqu(e.language.Cancel)}}function Qe(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",85),a.TgZ(1,"h4",86),a._uU(2),a.qZA(),a.TgZ(3,"button",87),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._UZ(4,"span",88),a.qZA(),a.qZA(),a.TgZ(5,"div",89),a._UZ(6,"table",92),a.qZA(),a.TgZ(7,"div",90),a.TgZ(8,"button",91),a.NdJ("click",function(){return a.CHM(e),a.oxw().proceedImport()}),a._uU(9),a.qZA(),a.TgZ(10,"button",93),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeModal()}),a._uU(11),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.infoTitle),a.xp6(4),a.Q6J("innerHtml",e.infoBody,a.oJD),a.xp6(3),a.Oqu(e.language.Okay),a.xp6(2),a.Oqu(e.language.Cancel)}}const Ge=i(91704);let je=(()=>{class e{constructor(e,t,i,s,n,l,a,o,d,r,c){this.commonFunctionsService=e,this.apiService=t,this.exportExcel=i,this.dataTablecreatorService=s,this.translateService=n,this.sso=l,this.router=a,this.dialogService=o,this.commonOrgService=d,this.titleService=r,this.common=c,this.pageAvailable=!1,this.editsubnetStatic=!1,this.formVisible=!1,this.buttonVisible=!0,this.currentTableRowCount=0,this.updateDis=!0,this.selectOptions=["No","Yes"],this.selectedSubnet="No",this.storageData={},this.tableOptions={pagingType:"full_numbers",order:[1,"asc"],columnDefs:[{targets:[0],orderable:!1}],stateSave:!0,drawCallback:e=>{this.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},this.resetDelete(),this.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength&&Ge(e.nTableWrapper).find(`#${e.sTableId}_last`).addClass("disabled")}},this.subnetData=[],this.newSubnet="",this.empty={Subnet:"",Excluded:"","Is v4":"",Static:""},this.add={excluded:!0,isstatic:!1,isv4:!0,subnet:""},this.importTableOptions={pagingType:"full_numbers",pageLength:10,order:[0,"asc"],dom:"tipr"},this.tablePreview=!1,this.fullLoader=!0,this.isFullImport=!0,this.subnetError=!1,this.isIPv4=!0,this.dtTrigger=new g.xQ,this.isRerender=!1,this.deleteIds=[],this.deleteSubnets=[],this.subnetVersions=["SubnetIPV4","SubnetIPV6"],this.subnetStatic=["Yes","No"],this.subnetVersionsSelected="SubnetIPV4",this.subnetStaticSelected="No",this.loading=!0,this.importUpdateASCreate=[],this.sortData={column:1,type:"asc"},this.columnName={subnet:"Subnet",excluded:"Excluded",isv4:"Is v4",isstatic:"Static"},this.language=this.translateService.defualtLanguage,this.language&&(this.pageAvailable=!0),this.translateSubscribe=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.dataAvailable=!1,this.isRerender=!0,this.titleService.setTitle(`${this.language.subnets} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===h?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`),this.setTableOptions("language")}),this.commonOrgService.closeAlert();let u=this.router.url;this.ORG_ID=this.sso.getOrganizationID(u),this.frTable=this.translateService.fr;let h=this.sso.getRedirectModule(u);this.titleService.setTitle(`${this.language.subnets} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===h?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}ngOnInit(){this.removeState(),this.getSubnets(),this.tableLanguageOptions();const e=JSON.parse(localStorage.getItem("calix.login_data"));this.storageData.clientIp=null==e?void 0:e.clientIp,this.storageData.UserId=null==e?void 0:e.UserId,this.subscription=this.dataTablecreatorService.tableOptionsData.subscribe(e=>{try{(e||[]).forEach(e=>this.commonFunctionsService.keysFromColumnName(e,this.columnName)),this.recreateTable=e,this.submitImport(!0)}catch(t){}})}ngAfterViewInit(){this.loaded=!0}ngOnDestroy(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSubscribe&&this.translateSubscribe.unsubscribe(),this.subscription&&this.subscription.unsubscribe(),this.listSubs&&this.listSubs.unsubscribe(),this.createSubs&&this.createSubs.unsubscribe(),this.updateSubs&&this.updateSubs.unsubscribe(),this.deleteSubs&&this.deleteSubs.unsubscribe(),this.exportSubs&&this.exportSubs.unsubscribe(),this.importSubs&&this.importSubs.unsubscribe()}create(){this.buttonVisible=!1,this.formVisible=!0,this.reset()}getSubnets(){this.listSubs=this.apiService.getSubnets(this.ORG_ID,!0).subscribe(e=>{e&&(this.subnetData=[...this.processData(e)],this.setTableOptions(),this.isRerender?(this.rerender(),this.isRerender=!1):(this.dtTrigger.next(),this.loading=!1),setTimeout(()=>{this.resetDelete()},100),this.exportData=this.apiService.exportProcess(e))},e=>{this.pageErrorHandle(e),this.setTableOptions(),this.isRerender?(this.rerender(),this.loading=!1):this.dtTrigger.next()})}setTableOptions(e){this.tableOptions={pagingType:"full_numbers",order:[this.sortData.column,this.sortData.type],columnDefs:[{targets:[0],orderable:!1}],stateSave:!0,drawCallback:e=>{this.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(()=>{this.resetDelete()},0),this.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength&&Ge(e.nTableWrapper).find(`#${e.sTableId}_last`).addClass("disabled")}},this.tableLanguageOptions(),e&&"language"==e?setTimeout(()=>{this.dataAvailable=!0,this.rerender()},200):(this.dataAvailable=!0,this.loading=!1)}rerender(){this.dtElement.dtInstance.then(e=>{e.destroy(),this.tableOptions.order=[this.sortData.column,this.sortData.type],setTimeout(()=>{this.dtTrigger.next()},10)})}processData(e){return e.forEach(e=>{for(let t in e)"excluded"==t&&(e.excluded=e[t]?"Yes":"No"),"isstatic"==t&&(e.isstatic=e[t]?"Yes":"No");e.subnetIP4=e.isv4?e.subnet:"",e.subnetIP6=e.isv4?"":e.subnet}),e}submit(){if("SubnetIPV4"==this.subnetVersionsSelected&&null!=this.newSubnetipv4?this.validateSubnetv4(this.newSubnetipv4):"SubnetIPV6"==this.subnetVersionsSelected&&null!=this.newSubnetipv6&&this.validateSubnetv6(this.newSubnetipv6),!(null!=this.newSubnetipv4&&""!=this.newSubnetipv4||null!=this.newSubnetipv6&&""!=this.newSubnetipv6))return this.infoTitle=this.language["Invalid subnet"],this.infoBody="",void this.openInfoModal();if(this.subnetError)return this.infoTitle=this.language["Invalid subnet"],this.infoBody=this.newSubnetipv4?this.newSubnetipv4:this.newSubnetipv6,void this.openInfoModal();let e={excluded:"Yes"==this.selectedSubnet,isstatic:"Yes"==this.subnetStaticSelected,isv4:this.isIPv4,orgId:this.ORG_ID,subnet:this.subnet,tenantId:0};this.loading=!0,this.createSubs=this.apiService.addSubnet(e,this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.cancel(),this.getSubnets()},e=>{this.pageErrorHandle(e)})}edit(e){if(this.editData=e,this.editOnValue=e._id,this.editSubnetv4=e.subnet,this.eidtsubSelected=e.isstatic,this.editSelectedExcluded=e.excluded,this.editSubnetVersionsSelected=e.isv4?"SubnetIPV4":"SubnetIPV6",-1!==this.deleteIds.indexOf(e._id)){this.deleteIds.splice(this.deleteIds.indexOf(e._id),1),this.deleteSubnets.splice(this.deleteSubnets.indexOf(e.subnet),1);let t=Ge('input[name^="delete_id_"]').length;this.deleteIds.length?this.deleteIds.length!=t?(Ge("#selectDeselectAll").prop("checked",!1),Ge("#selectDeselectAll-span").show()):Ge("#selectDeselectAll-span").hide():(Ge("#selectDeselectAll").prop("checked",!1),Ge("#selectDeselectAll-span").hide())}}updateSave(e){if(this.updateDis)return;if(null==this.editSubnetv4||""==this.editSubnetv4)return this.infoTitle=this.language["Invalid subnet"],this.infoBody="",void this.openInfoModal();if(null!=this.editSubnetv4&&""!=this.editSubnetv4&&"SubnetIPV4"==this.editSubnetVersionsSelected?this.validateSubnetv4(this.editSubnetv4):null!=this.editSubnetv4&&""!=this.editSubnetv4&&"SubnetIPV6"==this.editSubnetVersionsSelected&&this.validateSubnetv6(this.editSubnetv4),this.subnetError)return this.infoTitle=this.language["Invalid subnet"],this.infoBody="SubnetIPV4"==this.editSubnetVersionsSelected?this.editSubnetv4:this.editSubnetv6,void this.openInfoModal();let t={_id:e,excluded:"Yes"==this.editSelectedExcluded,isstatic:"Yes"==this.eidtsubSelected,isv4:this.isIPv4,orgId:this.ORG_ID,subnet:this.subnet,tenantId:0};this.loading=!0,this.updateSubs=this.apiService.updateSubnet(e,t,this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.cancel(),this.getSubnets(),this.editOnValue=void 0},e=>{this.pageErrorHandle(e)})}updateCancel(){this.editOnValue=void 0}validateSubnetv4(e){if(this.subnetError=!1,!e)return void(this.subnetError=!0);let t=this.apiService.trimSubnet(e);return t&&this.commonFunctionsService.isValidSubnetV4(t)?(this.isIPv4=!0,this.subnet=t,!0):void(this.subnetError=!0)}validateSubnetv6(e){if(this.subnetError=!1,!e)return void(this.subnetError=!0);let t=this.apiService.trimSubnet(e);return t&&this.commonFunctionsService.isValidSubnetV6(t)?(this.isIPv4=!1,void(this.subnet=t)):void(this.subnetError=!0)}cancel(){this.formVisible=!1,this.buttonVisible=!0,this.tablePreview=!1,this.reset()}delete(e){this.deleteData=e,this.infoTitle=this.language["Delete subnet?"],this.infoBody=`${e.subnet}`,this.closeModal(),this.modalRef=this.dialogService.open(this.deleteModal,{backdrop:"static",keyboard:!1})}confirmDelete(){let e=this.deleteData._id;this.loading=!0,this.deleteSubs=this.apiService.deleteSubnet(e,this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.getSubnets(),this.closeDeleteModal()},e=>{this.pageErrorHandle(e)})}closeDeleteModal(){this.deleteData=void 0,this.closeModal()}getDeleteIds(e,t){if(e.target.checked){this.deleteIds.push(t._id),this.deleteSubnets.push(t.subnet);let e=Ge('input[name^="delete_id_"]').length;this.deleteIds.length==e?(Ge("#selectDeselectAll").prop("checked",!0),Ge("#selectDeselectAll-span").hide()):Ge("#selectDeselectAll-span").show()}else{this.deleteIds.splice(this.deleteIds.indexOf(t._id),1),this.deleteSubnets.splice(this.deleteSubnets.indexOf(t.subnet),1);let e=Ge('input[name^="delete_id_"]').length;this.deleteIds.length?this.deleteIds.length!=e?(Ge("#selectDeselectAll").prop("checked",!1),Ge("#selectDeselectAll-span").show()):Ge("#selectDeselectAll-span").hide():(Ge("#selectDeselectAll").prop("checked",!1),Ge("#selectDeselectAll-span").hide())}}selectDeselectAll(e){this.deleteIds=[],this.deleteSubnets=[];let t=0,i=Ge('input[name^="delete_id_"]').length;var s=this;e?Ge('input[name^="delete_id_"]').each(function(){if(t>=i)return!1;Ge(this).prop("checked",!0);let e=Ge(this).attr("class").split(" ")[0].substring("delete_id_".length),n=s.subnetData.filter(t=>t._id===e);s.deleteIds.push(e),s.deleteSubnets.push(n[0].subnet),t++}):Ge('input[name^="delete_id_"]').each(function(){if(t>=i)return!1;Ge(this).prop("checked",!1),s.deleteIds=[],s.deleteSubnets=[],t++})}showAllInnerCheckBox(e){Ge("#"+e.target.id).hide(),Ge("#selectDeselectAll").prop("checked",!0),this.deleteIds=[],this.deleteSubnets=[],this.selectDeselectAll(!0)}deleteAllSelected(){this.deleteSubnets&&(this.infoTitle=this.language[1===this.deleteSubnets.length?"Delete selected subnet?":"Delete selected subnets?"],this.infoBody=this.deleteSubnets.join(", <br>"),this.closeModal(),this.modalRef=this.dialogService.open(this.multiDeleteModal,{backdrop:"static",keyboard:!1}))}confirmDeleteSecleted(){const e=[];this.loading=!0,this.subnetData.filter(e=>this.deleteIds.includes(e._id)).sort((e,t)=>e.excluded===t.excluded?0:"Yes"===e.excluded?-1:1).map(e=>e._id).forEach(t=>{e.push(this.apiService.deleteSubnet(t,this.ORG_ID))});const t=e.length;let i=0;(0,ve.z)(...e).subscribe(e=>{i++,t==i&&(this.deleteIds=[],this.deleteSubnets=[],this.isRerender=!0,this.getSubnets(),this.closeMultiDeleteModal())},e=>{this.pageErrorHandle(e)})}closeMultiDeleteModal(){this.deleteIds=[],this.deleteSubnets=[],this.closeModal()}fullImportFileUpload(e){this.commonFunctionsService.onFileChange(e).subscribe(e=>{})}export(){let e=this.commonFunctionsService.generateExportName("subnet_file_export",!0);this.exportSubs=this.apiService.Export("combined-subnets",this.ORG_ID).subscribe(t=>{this.exportData=this.exportDataConvertor(t),this.exportExcel.downLoadCSV(e,this.exportData&&this.exportData.length?this.exportData:[this.empty])},e=>{this.pageErrorHandle(e)})}exportPdf(){}exportDataConvertor(e){return Array.isArray(e)&&e.forEach(e=>{for(const t in e)"boolean"==typeof e[t]&&(e[t]=1==e[t]?"Yes":"No");Object.keys(this.columnName).forEach(t=>{e[this.columnName[t]]=null!=e[t]?e[t]:"",delete e[t]}),delete e._id,delete e.orgId,delete e.tenantId}),e}cancelImport(){}fullImportUpload(){this.infoTitle=this.language.fullImport,this.infoBody=this.language.fullImportPrompt,this.closeModal(),this.modalRef=this.dialogService.open(this.importModal,{backdrop:"static",keyboard:!1})}proceedImport(){this.closeModal(),Ge("#fullImportUpload").click(),Ge("#fullImportUpload").val(""),Ge("inc-import").val("")}fullImport(e,t){this.isFullImport=t,this.dataTablecreatorService.generateJsonFromCsv(e)}submitImport(e=!1){let t,i={clientIP:this.storageData.clientIp,dry_run:e,full_import:this.isFullImport,import_data:[],orgId:this.ORG_ID?this.ORG_ID:50,userId:this.storageData.UserId},s=[],n=[];if(e?(t="Create",this.recreateTable.forEach(e=>{e.subnet&&null!=e.excluded&&null!=e.isstatic&&s.push(this.importTemplate(e,"Create"))})):this.recreateTable.forEach(e=>{e.subnet&&null!=e.excluded&&null!=e.isstatic&&s.push(this.importTemplate(e))}),e){const e=s.length;this.subnetData.forEach(t=>{let i=!1;for(let n=0;n<e;n++)t.subnet==s[n].subnet&&(i=!0,this.isFullImport?(s[n].action="Create",this.importUpdateASCreate.push(t)):s[n].action=this.findObjectsCountByValue(s,s[n].subnet)>1?("boolean"==typeof t.isstatic?t.isstatic:"N"!=t.isstatic.toUpperCase()&&"NO"!=t.isstatic.toUpperCase()&&""!==t.isstatic)===s[n].isstatic?"Update":"Create":"Update");if(!i&&this.isFullImport){const e=Object.assign({},t);n.push(this.importTemplate(e,"Delete"))}})}else{if(s=s.filter(e=>{if(["Create","Update"].includes(e.action))return e}),0==s.length)return void this.cancel();this.loading=!0}if(!s.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",this.closeModal(),void(this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1}));i.import_data=s,this.importSubs=this.apiService.importSubnets(i,this.ORG_ID,!0).subscribe(t=>{e?(t=t.map(e=>(e.action="ok"==e.validationResult.toLowerCase()?e.action:e.validationResult,e)),this.recreateTable=t,this.previewOrder([...t,...n]),this.buttonVisible=!1,this.tablePreview=!0):(this.importUpdateASCreate=[],this.cancel(),this.isRerender=!0,this.getSubnets())},t=>{400==t.status?(e?(this.infoTitle=this.language.objectNotFound,this.infoBody="",this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1})):this.pageErrorHandle(t),this.loading=!1):this.pageErrorHandle(t)})}importTemplate(e,t){return{action:t||e.action,subnet:e.subnet,excluded:"boolean"==typeof e.excluded?e.excluded:"N"!=e.excluded.toUpperCase()&&"NO"!=e.excluded.toUpperCase()&&""!==e.excluded,isstatic:"boolean"==typeof e.isstatic?e.isstatic:"N"!=e.isstatic.toUpperCase()&&"NO"!=e.isstatic.toUpperCase()&&""!==e.isstatic,isv4:"boolean"==typeof e.isv4?e.isv4:!("N"==e.isv4.toUpperCase()||"NO"==e.isv4.toUpperCase()),orgId:this.ORG_ID,tenantId:0}}previewOrder(e){if(!e||0==e.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",void this.openInfoModal();let t=[];const i=["excluded"],s=["validationResult"],n=["action","subnet"];e.forEach(e=>{let l={};Object.keys(e).forEach(t=>{s.includes(t)||(l[t]=i.includes(t)&&("true"===e[t]||!0===e[t]||e[t]&&"Y"==e[t].toString().toUpperCase)?"Yes":i.includes(t)&&("false"===e[t]||!1===e[t]||e[t]&&"N"==e[t].toString().toUpperCase)?"No":e[t],n.includes(t)||(l["Old "+t]=""))}),this.subnetData.forEach(t=>{if(e.subnet==t.subnet){for(const[e,s]of Object.entries(l))if(e.includes("Old")){const s=e.replace("Old ","");i.includes(s)&&(t[s]||t[s]&&"Y"==t[s].toString().toUpperCase)?l[e]="Yes":i.includes(s)&&(!t[s]||t[s]&&"N"==t[s].toString().toUpperCase)&&(l[e]="No"),l[e]=t[s]}return"Create"==l.action&&(l.action="Update"),!1}}),t.push(l)}),this.previewTableBody=t}reset(){this.newSubnetipv4=void 0,this.newSubnetipv6=void 0,this.subnet=void 0,this.selectedSubnet="No",this.subnetStaticSelected="No",this.editData=void 0,this.editOnValue=void 0}subnetVerChoose(){}editSubnetVerChoose(){"SubnetIPV4"==this.editSubnetVersionsSelected?this.editSubnetv6=void 0:this.editSubnetv4=void 0}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.tableOptions.language=this.frTable:"es"==this.language.fileLanguage?this.tableOptions.language=this.translateService.es:"de_DE"==this.language.fileLanguage?this.tableOptions.language=this.translateService.de_DE:"en"==this.language.fileLanguage&&this.tableOptions.language&&delete this.tableOptions.language}resetDelete(){this.selectDeselectAll(!1),Ge("#selectDeselectAll").prop("checked",!1),Ge("#selectDeselectAll-span").hide(),this.deleteIds=[],this.deleteSubnets=[]}closeModal(){this.modalRef&&this.modalRef.close()}pageErrorHandle(e){let t="";if(400==e.status){let t=this.commonOrgService.pageErrorHandle(e);t=t?t.trim():"",this.infoBody="subnet has excluded subnets"==t.toLowerCase()?this.language["Subnet has excluded subnets, please delete the excluded subnets first"]:t,this.infoTitle=this.language["Invalid request"],this.openInfoModal(),this.loading=!1}else t=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(t),this.commonOrgService.pageScrollTop(),this.loading=!1}openInfoModal(){this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1})}objmodifycheck(e){this.updateDis=!0;let t="No";this.subnetData.forEach(i=>{i._id==e&&(t=1==i.isstatic||"Yes"==i.isstatic?"Yes":"No",this.updateDis=i.excluded==this.editSelectedExcluded&&(i.isv4?"SubnetIPV4":"SubnetIPV6")==this.editSubnetVersionsSelected&&i.subnet==this.editSubnetv4.trim()&&t==this.eidtsubSelected)})}removeState(){this.commonOrgService.removeTableState("network_subnets",this.router.url)}findObjectsCountByValue(e,t){let i=0;if(e&&e.length)for(let s=0;s<e.length;s++)e[s].subnet==t&&i++;return i}removeUnwantedSpace(e,t){this[e]=this.common.trimSpaceFromNonObjectInputs(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(f.i),a.Y36(v),a.Y36($.O),a.Y36(Q.L),a.Y36(x.s),a.Y36(d.t6),a.Y36(l.F0),a.Y36(S.FF),a.Y36(T.v),a.Y36(A.Dx),a.Y36(q.i))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-combined-subnets"]],viewQuery:function(e,t){if(1&e&&(a.Gf(xe,7),a.Gf(Se,7),a.Gf(Te,7),a.Gf(Ae,7),a.Gf(b.G,5)),2&e){let e;a.iGM(e=a.CRH())&&(t.infoModal=e.first),a.iGM(e=a.CRH())&&(t.deleteModal=e.first),a.iGM(e=a.CRH())&&(t.multiDeleteModal=e.first),a.iGM(e=a.CRH())&&(t.importModal=e.first),a.iGM(e=a.CRH())&&(t.dtElement=e.first)}},decls:35,vars:19,consts:[[1,"container","position-relative"],["class","loader",4,"ngIf"],["class","row py-4",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-md-12","ccl-admin-table",3,"hidden"],["id","subnets-table","width","100%","datatable","",1,"row-border","hover","table-alter","mb30",3,"dtOptions","dtTrigger"],[1,"mxw-200","w-nowrap"],[1,"d-flex","justify-content-end"],[1,"d-flex","align-items-center","mr-1",3,"hidden"],["type","checkbox","value","","id","selectDeselectAll",1,"",3,"hidden","disabled","change"],["id","selectDeselectAll-span",1,"checkbox-ui",2,"display","none",3,"hidden","click"],[1,"text-center","justify-content-center",3,"hidden"],["id","delete-selected-btn",1,"btn-default","primary","px-2",3,"title","disabled","click"],[1,"far","fa-trash-alt"],[1,"mw-250"],[1,"w-200px"],[3,"id",4,"ngFor","ngForOf"],["infoModal",""],["deleteModal",""],["multiDeleteModal",""],["importModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"row","py-4"],[1,"col-md-9"],[1,"d-flex"],["id","create-btn",1,"btn-default","primary","mx-2",3,"click"],["id","export-btn",1,"btn-default","primary","mx-2",3,"click"],[1,"upload-btn-wrapper"],[1,"btn-default","primary","mx-2",3,"click"],["type","file","accept",".csv","id","fullImportUpload",2,"display","none",3,"change"],["for","inc-import",1,"btn-default","primary","mx-2","cursor-pointer"],["type","file","id","inc-import","accept",".csv","value","",2,"display","none",3,"change","click"],["incImport",""],[1,"col-sm-3","align-self-end","d-none"],[1,"ccl-form"],["type","search","name","searchbox","placeholder","",1,"input-sm"],[1,"serach-but","btn-default","primary","btn-icon-md","inline"],["aria-hidden","true",1,"fa","fa-search"],[1,"col-md-6","offset-md-3"],[1,"ccl-form","row","my-2"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","subnet-select","placeholder","",1,"text-left",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],["ng-label-tmp",""],["ng-option-tmp",""],["id","subnet-static","placeholder","",1,"text-left",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["for","newSubnetV4",1,"col-sm-4","col-form-label"],["id","newSubnetV4","type","text","name","newSubnetV4","placeholder","","trimSpace","",1,"",3,"ngModel","disabled","ngModelChange","blur"],["for","newSubnetV6",1,"col-sm-4","col-form-label"],["id","newSubnetV6","type","text","name","newSubnetV6","placeholder","","trimSpace","",1,"",3,"ngModel","disabled","ngModelChange","blur"],["placeholder","",1,"text-left",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],[1,"row","my-4"],[1,"col-md-8","offset-md-4"],[1,"btn-default","primary","px-3","mx-3",3,"click"],[1,"btn-default","btn-dft","py-1","px-3",3,"click"],["class","row",4,"ngIf"],[1,"col-md-12","ccl-admin-table"],["id","example","datatable","",1,"row-border","hover","table-alter",3,"dtOptions"],[4,"ngFor","ngForOf"],[3,"id"],[1,"action-button","action-button-nowrap"],["class","editable-td text-center f-size13",4,"ngIf"],["class","save-cancel-btn-group d-flex justify-content-center",4,"ngIf"],["class","subnet-select-div ccl-form",4,"ngIf"],[1,"w-250"],[1,"editable-td","text-center","f-size13"],[1,"ccl-fc-table-icon"],[1,"pr-2"],["id","edit-btn",1,"primary",3,"title","click"],[1,"fas","fa-pencil-alt"],["type","checkbox",3,"value","name","title","click"],["id","delete-btn",1,"primary",3,"title","click"],[1,"save-cancel-btn-group","d-flex","justify-content-center"],[1,"pr-1"],["id","save-btn",1,"primary","mx-3",3,"ngClass","click"],[1,"fas","fa-check"],["id","cancel-btn",1,"primary",3,"click"],[1,"fas","fa-times"],[1,"subnet-select-div","ccl-form"],["placeholder","",1,"t-left-w200",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],["type","text","trimSpace","",1,"edit-text","w-200px",3,"ngModel","ngModelOptions","keyup","ngModelChange","blur"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"],[3,"innerHtml"],["type","button","data-dismiss","modal",1,"btn-default","btn-dft","py-1","px-3",3,"click"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.YNc(1,qe,5,0,"div",1),a.YNc(2,we,23,4,"div",2),a.YNc(3,_e,37,32,"section",3),a.YNc(4,ye,8,3,"section",3),a.TgZ(5,"div",4),a.TgZ(6,"div",5),a.TgZ(7,"table",6),a.TgZ(8,"thead"),a.TgZ(9,"tr"),a.TgZ(10,"th",7),a.TgZ(11,"div",8),a.TgZ(12,"div",9),a.TgZ(13,"input",10),a.NdJ("change",function(e){return t.selectDeselectAll(e.target.checked)}),a.qZA(),a.TgZ(14,"span",11),a.NdJ("click",function(e){return t.showAllInnerCheckBox(e)}),a.qZA(),a.qZA(),a.TgZ(15,"div",12),a.TgZ(16,"button",13),a.NdJ("click",function(){return t.deleteAllSelected()}),a._UZ(17,"i",14),a._uU(18),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(19,"th",15),a._uU(20),a.qZA(),a.TgZ(21,"th",16),a._uU(22),a.qZA(),a.TgZ(23,"th",16),a._uU(24),a.qZA(),a.qZA(),a.qZA(),a.TgZ(25,"tbody"),a.YNc(26,Re,13,9,"tr",17),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(27,Fe,10,3,"ng-template",null,18,a.W1O),a.YNc(29,Ye,13,4,"ng-template",null,19,a.W1O),a.YNc(31,$e,12,4,"ng-template",null,20,a.W1O),a.YNc(33,Qe,12,4,"ng-template",null,21,a.W1O)),2&e&&(a.xp6(1),a.Q6J("ngIf",t.loading),a.xp6(1),a.Q6J("ngIf",t.buttonVisible),a.xp6(1),a.Q6J("ngIf",t.formVisible),a.xp6(1),a.Q6J("ngIf",t.tablePreview),a.xp6(2),a.Q6J("hidden",!t.dataAvailable),a.xp6(1),a.Q6J("dtOptions",t.tableOptions)("dtTrigger",t.dtTrigger),a.xp6(5),a.Q6J("hidden",t.editOnValue),a.xp6(1),a.Q6J("hidden",t.editOnValue)("disabled",0==(null==t.subnetData?null:t.subnetData.length)||0==t.currentTableRowCount),a.xp6(1),a.Q6J("hidden",t.editOnValue),a.xp6(1),a.Q6J("hidden",t.editOnValue),a.xp6(1),a.s9C("title",t.language["Delete selected"]),a.Q6J("disabled",!(null!=t.subnetData&&t.subnetData.length&&null!=t.deleteIds&&t.deleteIds.length)),a.xp6(2),a.hij(" ",t.language.selected," "),a.xp6(2),a.Oqu(t.language.subnet),a.xp6(2),a.Oqu(t.language.excluded),a.xp6(2),a.Oqu(t.language.static),a.xp6(2),a.Q6J("ngForOf",t.subnetData))},directives:[s.O5,b.G,s.sg,n._Y,n.JL,n.F,G.w9,n.JJ,n.On,G.bb,G.Z2,n.Fj,s.mk],styles:["div.disable-edit-btn[_ngcontent-%COMP%]{cursor:not-allowed}div.disable-edit-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ccc!important}.subnet-select-div[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.modal-scrll[_ngcontent-%COMP%]{overflow-y:auto;max-height:400px}.w-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.w-200px[_ngcontent-%COMP%]{width:200px}.action-button-nowrap[_ngcontent-%COMP%]{white-space:nowrap;width:10%!important}.f-size13[_ngcontent-%COMP%]{font-size:13px}.t-left-w200[_ngcontent-%COMP%]{text-align:left;width:200px}"]}),e})();const Le=[{path:"",component:h,children:[{path:"devices",loadChildren:()=>Promise.all([i.e(8592),i.e(6242)]).then(i.bind(i,36242)).then(e=>e.DevicesModule)},{path:"subnets",component:je,data:{title:"Calix Cloud - Flow Configuration"}},{path:"combinedSubnets",component:je,data:{title:"Calix Cloud - Flow Configuration"}},{path:"static_subnets",component:me,data:{title:"Calix Cloud - Flow Configuration"}},{path:"radius-servers",component:Y,data:{title:"Calix Cloud - Flow Configuration"}},{path:"",redirectTo:"devices",pathMatch:"full",data:{title:"Calix Cloud - Flow Configuration"}}]}];let Be=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[l.Bz.forChild(Le)],l.Bz]}),e})();var ze=i(23830);let We=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[s.ez,n.u5,Be,b.T,G.A0,ze.o]]}),e})()}}]);