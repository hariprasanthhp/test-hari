"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[6436],{66436:function(t,e,i){i.r(e),i.d(e,{DeviceAlarmsModule:function(){return Oa}});var a=i(38583),n=i(39895),s=i(11067),o=i(92340),r=i(5304),l=i(88002),c=i(79765),h=i(25917),d=i(35758),g=i(39897),m=i(40205),p=i(22759),u=i(23771),v=i(33439),y=i.n(v),f=i(3679),b=i(54395),C=i(87519),x=i(43190),A=i(37716),Z=i(91841),O=i(7450),S=i(49342),T=i(13149),_=i(21693),w=i(14541),q=i(12664),M=i(89097),N=i(48483),k=i(39075),D=i(86640),P=i(87582),E=i(18638),I=i(74062);const U=["tableModal"],F=["showInfoModal"],L=["addNotesModal"],j=["showNotesModal"],J=["deleteModal"],R=["addSubscriberInfoModel"],H=function(){return{width:"100%",height:"36px"}},Q=function(){return{height:"36px"}};function B(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",61),A.TgZ(1,"label",62),A._uU(2),A.qZA(),A.TgZ(3,"div",63),A.TgZ(4,"div",64),A.TgZ(5,"p-calendar",65),A.NdJ("onSelect",function(){return A.CHM(t),A.oxw(2).changeStartDate()}),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.Start_Date),A.xp6(3),A.Akn(A.DdM(10,H)),A.s9C("placeholder",t.language["Select Date"]),A.Q6J("inputStyle",A.DdM(11,Q))("autoZIndex",!0)("showIcon",!0)("maxDate",t.maxForStartDate)("readonlyInput",!0)("showButtonBar",!0)}}function V(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",66),A.TgZ(1,"label",62),A._uU(2),A.qZA(),A.TgZ(3,"div",63),A.TgZ(4,"div",64),A.TgZ(5,"p-calendar",67),A.NdJ("onSelect",function(){return A.CHM(t),A.oxw(2).changeDate()}),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.endDate),A.xp6(3),A.Akn(A.DdM(11,H)),A.s9C("placeholder",t.language["Select Date"]),A.Q6J("inputStyle",A.DdM(12,Q))("autoZIndex",!0)("showIcon",!0)("maxDate",t.maxDate)("minDate",t.FromDate)("readonlyInput",!0)("showButtonBar",!0)}}function Y(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",68),A.TgZ(1,"label",62),A._uU(2),A.qZA(),A.TgZ(3,"div",63),A.TgZ(4,"ng-select",69),A.NdJ("add",function(e){return A.CHM(t),A.oxw(2).validateRegion(e)})("remove",function(e){return A.CHM(t),A.oxw(2).loadLocationValue(e)}),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.region),A.xp6(2),A.s9C("placeholder",t.language.region),A.Q6J("multiple",!0)("items",t.regionsDataArray)("clearable",!1)("searchable",!0)}}function z(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",68),A.TgZ(1,"label",62),A._uU(2),A.qZA(),A.TgZ(3,"div",63),A.TgZ(4,"ng-select",70),A.NdJ("add",function(e){return A.CHM(t),A.oxw(2).validateLocation(e)})("remove",function(e){return A.CHM(t),A.oxw(2).loadSystemValue(e)}),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.Location),A.xp6(2),A.s9C("placeholder",t.language.Location),A.Q6J("multiple",!0)("items",t.locationDataArray)("clearable",!1)("searchable",!0)}}function G(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",68),A.TgZ(1,"label",62),A._uU(2),A.qZA(),A.TgZ(3,"div",63),A.TgZ(4,"ng-select",71),A.NdJ("change",function(e){return A.CHM(t),A.oxw(2).selectSystem(e)})("add",function(e){return A.CHM(t),A.oxw(2).validateSystem(e)})("remove",function(e){return A.CHM(t),A.oxw(2).validateSystem(e)}),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.System),A.xp6(2),A.s9C("placeholder",t.language.System),A.Q6J("multiple",!0)("items",t.systemDataArray)("clearable",!1)("searchable",!0)}}function W(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",68),A.TgZ(1,"label",62),A._uU(2),A.qZA(),A.TgZ(3,"div",72),A.TgZ(4,"ng-select",73),A.NdJ("add",function(e){return A.CHM(t),A.oxw(2).validateAlarmEvent(e)})("remove",function(e){return A.CHM(t),A.oxw(2).validateAlarmEvent(e)})("change",function(e){return A.CHM(t),A.oxw(2).validateAlarmName(e)}),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language["Alarm Name"]),A.xp6(2),A.s9C("placeholder",t.language["Alarm Name"]),A.Q6J("searchable",!0)("multiple",!0)("items",t.alarmNames)}}function K(t,e){if(1&t&&(A.TgZ(0,"small",77),A._uU(1),A.qZA()),2&t){const t=A.oxw(3);A.xp6(1),A.Oqu(t.language["Invalid FSAN"])}}function X(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",68),A.TgZ(1,"label",62),A._uU(2),A.qZA(),A.TgZ(3,"div",74),A.TgZ(4,"input",75),A.NdJ("keypress",function(e){return A.CHM(t),A.oxw(2).removespecialcharacter(e)})("keyup",function(){return A.CHM(t),A.oxw(2).validateFSAN()}),A.qZA(),A.YNc(5,K,2,1,"small",76),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.FSAN),A.xp6(2),A.s9C("placeholder",t.language.FSAN),A.xp6(1),A.Q6J("ngIf",t.fsanvalid)}}function tt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",68),A.TgZ(1,"label",62),A._uU(2),A.qZA(),A.TgZ(3,"div",63),A.TgZ(4,"ng-select",78),A.NdJ("change",function(){return A.CHM(t),A.oxw(2).changeSeverity()}),A.TgZ(5,"ng-option",79),A._uU(6),A.qZA(),A.TgZ(7,"ng-option",80),A._uU(8),A.qZA(),A.TgZ(9,"ng-option",81),A._uU(10),A.qZA(),A.TgZ(11,"ng-option",82),A._uU(12),A.qZA(),A.TgZ(13,"ng-option",83),A._uU(14),A.qZA(),A.TgZ(15,"ng-option",84),A._uU(16),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.Severity),A.xp6(2),A.s9C("placeholder",t.language.Severity),A.Q6J("clearable",!1)("searchable",!1)("multiple",!1),A.xp6(2),A.Oqu(t.language.All),A.xp6(2),A.Oqu(t.language.critical),A.xp6(2),A.Oqu(t.language.major),A.xp6(2),A.Oqu(t.language.minor),A.xp6(2),A.Oqu(t.language.Warning),A.xp6(2),A.Oqu(t.language.Info)}}function et(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",68),A.TgZ(1,"label",85),A._uU(2),A.qZA(),A.TgZ(3,"div",63),A.TgZ(4,"ng-select",86),A.NdJ("add",function(e){return A.CHM(t),A.oxw(2).validateCategory(e)})("remove",function(e){return A.CHM(t),A.oxw(2).validateCategory(e)}),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.Category),A.xp6(2),A.s9C("placeholder",t.language.Category),A.Q6J("searchable",!0)("multiple",!0)("items",t.categories)}}function it(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",68),A.TgZ(1,"label",87),A._uU(2),A.qZA(),A.TgZ(3,"div",63),A.TgZ(4,"ng-select",88),A.NdJ("change",function(e){return A.CHM(t),A.oxw(2).changeCustomCategory(e)}),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language["Alarm Group"]),A.xp6(2),A.s9C("placeholder",t.language["Alarm Group"]),A.Q6J("clearable",!1)("searchable",!0)("multiple",!1)("items",t.customCategories)}}function at(t,e){if(1&t&&(A.TgZ(0,"div",68),A.TgZ(1,"label",89),A._uU(2),A.qZA(),A.TgZ(3,"div",63),A._UZ(4,"ng-select",90),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language["Acknowledged Alarms"]),A.xp6(2),A.s9C("placeholder",t.language["Acknowledged Alarms"]),A.Q6J("clearable",!1)("searchable",!0)("multiple",!1)("items",t.acknowledgedAlarms)}}function nt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"section",46),A.TgZ(1,"div",47),A.TgZ(2,"form",48),A.TgZ(3,"div",49),A.TgZ(4,"div",50),A.TgZ(5,"div",51),A.TgZ(6,"div",52),A.YNc(7,B,6,12,"div",53),A.YNc(8,V,6,13,"div",54),A.YNc(9,Y,5,6,"div",55),A.YNc(10,z,5,6,"div",55),A.YNc(11,G,5,6,"div",55),A.YNc(12,W,5,5,"div",55),A.YNc(13,X,6,3,"div",55),A.YNc(14,tt,17,11,"div",55),A.YNc(15,et,5,5,"div",55),A.YNc(16,it,5,6,"div",55),A.YNc(17,at,5,6,"div",55),A.qZA(),A.qZA(),A.qZA(),A.TgZ(18,"div",56),A.TgZ(19,"div",57),A.TgZ(20,"div",58),A.TgZ(21,"button",59),A.NdJ("click",function(e){return A.CHM(t),A.oxw().loadIntialData(e)}),A._uU(22),A.qZA(),A.TgZ(23,"button",60),A.NdJ("click",function(){return A.CHM(t),A.oxw().clearFilter()}),A._uU(24),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw();A.xp6(2),A.Q6J("formGroup",t.filtersForm),A.xp6(5),A.Q6J("ngIf",t.appliedFilters.startDate),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.endDate),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.region),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.location),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.system),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.eventName),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.fsan),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.severity),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.category),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.customCategory),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.cco_ack),A.xp6(5),A.hij(" ",t.language.apply," "),A.xp6(2),A.hij(" ",t.language.Clear_Filters," ")}}function st(t,e){if(1&t&&(A.TgZ(0,"div",91),A._uU(1),A.qZA()),2&t){const t=A.oxw();A.xp6(1),A.hij(" ",t.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function ot(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",118),A.TgZ(1,"span",119),A._UZ(2,"img",120),A.qZA(),A.TgZ(3,"button",121),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).errors.severity=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",122),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.errors.severity,A.oJD)}}function rt(t,e){if(1&t&&(A.TgZ(0,"div",123),A.TgZ(1,"div",124),A.TgZ(2,"div",125),A.TgZ(3,"span",126),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function lt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",118),A.TgZ(1,"span",119),A._UZ(2,"img",120),A.qZA(),A.TgZ(3,"button",121),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).errors.byday=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",122),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.errors.byday,A.oJD)}}function ct(t,e){if(1&t&&(A.TgZ(0,"div",123),A.TgZ(1,"div",124),A.TgZ(2,"div",125),A.TgZ(3,"span",126),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function ht(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",118),A.TgZ(1,"span",119),A._UZ(2,"img",120),A.qZA(),A.TgZ(3,"button",121),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).systemError=!1}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",122),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.systemErrorInfo,A.oJD)}}function dt(t,e){if(1&t&&(A.TgZ(0,"div",123),A.TgZ(1,"div",124),A.TgZ(2,"div",125),A.TgZ(3,"span",126),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function gt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",118),A.TgZ(1,"span",119),A._UZ(2,"img",120),A.qZA(),A.TgZ(3,"button",121),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).regionError=!1}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",122),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.regionErrorInfo,A.oJD)}}function mt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",118),A.TgZ(1,"span",119),A._UZ(2,"img",120),A.qZA(),A.TgZ(3,"button",121),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).errors.region=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",122),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.errors.region,A.oJD)}}function pt(t,e){if(1&t&&(A.TgZ(0,"div",127),A.TgZ(1,"div",124),A.TgZ(2,"div",125),A.TgZ(3,"span",126),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function ut(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",118),A.TgZ(1,"span",119),A._UZ(2,"img",120),A.qZA(),A.TgZ(3,"button",121),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).regionError=!1}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",122),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.regionErrorInfo,A.oJD)}}function vt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",118),A.TgZ(1,"span",119),A._UZ(2,"img",120),A.qZA(),A.TgZ(3,"button",121),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).errors.location=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",122),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.errors.location,A.oJD)}}function yt(t,e){if(1&t&&(A.TgZ(0,"div",127),A.TgZ(1,"div",124),A.TgZ(2,"div",125),A.TgZ(3,"span",126),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function ft(t,e){if(1&t&&(A.TgZ(0,"div",107),A.TgZ(1,"div",19),A._UZ(2,"div",128),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(1),A.Q6J("ngClass",t.loaders.alarm.location?"d-none":"d-block"),A.xp6(1),A.Q6J("hidden",t.errors.location)}}function bt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",118),A.TgZ(1,"span",119),A._UZ(2,"img",120),A.qZA(),A.TgZ(3,"button",121),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).errors.system=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",122),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.errors.system,A.oJD)}}function Ct(t,e){if(1&t&&(A.TgZ(0,"div",123),A.TgZ(1,"div",124),A.TgZ(2,"div",125),A.TgZ(3,"span",126),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function xt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"section",3),A.TgZ(1,"div",5),A.TgZ(2,"div",92),A.TgZ(3,"div",7),A.TgZ(4,"div",93),A.TgZ(5,"div",9),A.TgZ(6,"div",10),A.TgZ(7,"div",11),A._uU(8),A.qZA(),A.TgZ(9,"div",12),A.TgZ(10,"button",94),A.NdJ("click",function(){return A.CHM(t),A.oxw().download("severity","alarm")}),A.qZA(),A.TgZ(11,"button",95),A.NdJ("click",function(){return A.CHM(t),A.oxw().gotoFullScreen("severity")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(12,"div",14),A._uU(13),A.qZA(),A.YNc(14,ot,6,1,"div",15),A.TgZ(15,"div",16),A.YNc(16,rt,5,1,"div",96),A.TgZ(17,"div",97),A.TgZ(18,"div",98),A._UZ(19,"div",99),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(20,"div",100),A.TgZ(21,"div",9),A.TgZ(22,"div",10),A.TgZ(23,"div",11),A._uU(24),A.qZA(),A.TgZ(25,"div",12),A.TgZ(26,"button",94),A.NdJ("click",function(){return A.CHM(t),A.oxw().download("byday","alarm")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(27,"div",101),A.YNc(28,lt,6,1,"div",15),A.YNc(29,ct,5,1,"div",96),A.TgZ(30,"div",102),A.TgZ(31,"div",103),A._UZ(32,"div",104),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(33,"div",105),A.TgZ(34,"div",9),A.TgZ(35,"div",10),A.TgZ(36,"div",11),A._uU(37),A.qZA(),A.TgZ(38,"div",12),A.TgZ(39,"button",106),A.NdJ("click",function(){return A.CHM(t),A.oxw().gotoFullScreen("system")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(40,"h5",14),A._uU(41),A.qZA(),A.YNc(42,ht,6,1,"div",15),A.TgZ(43,"div",16),A.YNc(44,dt,5,1,"div",96),A.TgZ(45,"div",107),A.TgZ(46,"div",19),A._UZ(47,"div",108),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(48,"div",109),A.TgZ(49,"div",9),A.TgZ(50,"div",10),A.TgZ(51,"div",11),A._uU(52),A.qZA(),A.TgZ(53,"div",12),A.TgZ(54,"button",94),A.NdJ("click",function(){return A.CHM(t),A.oxw().download("region","alarm")}),A.qZA(),A.TgZ(55,"button",110),A.NdJ("click",function(){return A.CHM(t),A.oxw().gotoFullScreen("region")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(56,"h5",14),A._uU(57),A.qZA(),A.YNc(58,gt,6,1,"div",15),A.YNc(59,mt,6,1,"div",15),A.TgZ(60,"div",16),A.YNc(61,pt,5,1,"div",17),A.TgZ(62,"div",107),A.TgZ(63,"div",19),A._UZ(64,"div",111),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(65,"div",112),A.TgZ(66,"div",9),A.TgZ(67,"div",10),A.TgZ(68,"div",11),A._uU(69),A.qZA(),A.TgZ(70,"div",12),A.TgZ(71,"button",94),A.NdJ("click",function(){return A.CHM(t),A.oxw().download("location","alarm")}),A.qZA(),A.TgZ(72,"button",110),A.NdJ("click",function(){return A.CHM(t),A.oxw().gotoFullScreen("location")}),A.qZA(),A.TgZ(73,"button",113),A.NdJ("click",function(){A.CHM(t);const e=A.oxw();return e.loadLocationChart=!e.loadLocationChart}),A._UZ(74,"span",114),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.YNc(75,ut,6,1,"div",15),A.TgZ(76,"div",14),A._uU(77),A.qZA(),A.YNc(78,vt,6,1,"div",15),A.TgZ(79,"div",16),A.YNc(80,yt,5,1,"div",17),A.YNc(81,ft,3,2,"div",115),A.qZA(),A.qZA(),A.TgZ(82,"div",116),A.TgZ(83,"div",9),A.TgZ(84,"div",10),A.TgZ(85,"div",11),A._uU(86),A.qZA(),A.TgZ(87,"div",12),A.TgZ(88,"button",94),A.NdJ("click",function(){return A.CHM(t),A.oxw().download("system","alarm")}),A.qZA(),A.TgZ(89,"button",95),A.NdJ("click",function(){return A.CHM(t),A.oxw().gotoFullScreen("system")}),A.qZA(),A.TgZ(90,"button",113),A.NdJ("click",function(){A.CHM(t);const e=A.oxw();return e.loadSystemChart=!e.loadSystemChart}),A._UZ(91,"span",114),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(92,"h5",14),A._uU(93),A.qZA(),A.YNc(94,bt,6,1,"div",15),A.TgZ(95,"div",16),A.YNc(96,Ct,5,1,"div",96),A.TgZ(97,"div",97),A.TgZ(98,"div",98),A._UZ(99,"div",117),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw();A.Q6J("ngClass",t.fullScreen?"d-none":"d-block"),A.xp6(8),A.hij(" ",t.language["Alarm by Severity"]," "),A.xp6(2),A.s9C("title",t.language.export),A.xp6(1),A.s9C("title",t.language.lossofpon_fullscreen_tip),A.xp6(2),A.Oqu(t.language["Click chart to view all alarms"]),A.xp6(1),A.Q6J("ngIf",t.errors.severity),A.xp6(2),A.Q6J("ngIf",t.loading),A.xp6(1),A.Q6J("ngClass",t.loading?"d-none":"d-block"),A.xp6(1),A.Q6J("hidden",t.errors.severity),A.xp6(6),A.hij(" ",t.language["Alarm by Days"]," "),A.xp6(2),A.s9C("title",t.language.export),A.xp6(2),A.Q6J("ngIf",t.errors.byday),A.xp6(1),A.Q6J("ngIf",t.loading),A.xp6(1),A.Q6J("ngClass",t.loading?"d-none":"d-block md-block"),A.xp6(1),A.Q6J("hidden",t.errors.byday),A.xp6(2),A.Q6J("hidden",!0),A.xp6(4),A.hij(" ",t.language["Alarm by System"]," "),A.xp6(2),A.s9C("title",t.language.lossofpon_fullscreen_tip),A.xp6(2),A.hij(" ",t.language["Alarms by System"],""),A.xp6(1),A.Q6J("ngIf",t.systemError),A.xp6(2),A.Q6J("ngIf",t.loading),A.xp6(2),A.Q6J("ngClass",t.loading?"d-none":"d-block"),A.xp6(2),A.Q6J("hidden",t.filterApplied||!t.loadRegionChart),A.xp6(4),A.hij(" ",t.language["Alarm by Region"]," "),A.xp6(2),A.s9C("title",t.language.export),A.xp6(1),A.s9C("title",t.language.lossofpon_fullscreen_tip),A.xp6(2),A.hij(" ",t.language["Select a region to view locations in that region"],""),A.xp6(1),A.Q6J("ngIf",t.regionError&&!t.loadLocationChart),A.xp6(1),A.Q6J("ngIf",t.errors.region),A.xp6(2),A.Q6J("ngIf",t.loading),A.xp6(2),A.Q6J("ngClass",t.loading?"d-none":"d-block"),A.xp6(2),A.Q6J("hidden",!t.loadLocationChart||t.filterApplied),A.xp6(4),A.hij(" ",t.language["Alarm by Location"]," "),A.xp6(2),A.s9C("title",t.language.export),A.xp6(1),A.s9C("title",t.language.lossofpon_fullscreen_tip),A.xp6(3),A.Q6J("ngIf",t.regionError&&!t.loadLocationChart),A.xp6(2),A.hij("",t.language["Select a location to view systems in that location"]," "),A.xp6(1),A.Q6J("ngIf",t.errors.location),A.xp6(2),A.Q6J("ngIf",t.loaders.alarm.location),A.xp6(1),A.Q6J("ngIf",t.loadLocationChart),A.xp6(1),A.Q6J("hidden",!t.loadSystemChart||t.filterApplied),A.xp6(4),A.hij(" ",t.language["Alarm by System"]," "),A.xp6(2),A.s9C("title",t.language.export),A.xp6(1),A.s9C("title",t.language.lossofpon_fullscreen_tip),A.xp6(4),A.hij(" ",t.language["Select a system severity to view all alarms of that severity for that system"],""),A.xp6(1),A.Q6J("ngIf",t.errors.system),A.xp6(2),A.Q6J("ngIf",t.loaders.alarm.system),A.xp6(1),A.Q6J("ngClass",t.loaders.alarm.system?"d-none":"d-block"),A.xp6(1),A.Q6J("hidden",t.errors.system)}}function At(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",118),A.TgZ(1,"span",119),A._UZ(2,"img",120),A.qZA(),A.TgZ(3,"button",121),A.NdJ("click",function(){return A.CHM(t),A.oxw().errors.alarmevent=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",122),A.qZA()}if(2&t){const t=A.oxw();A.xp6(5),A.Q6J("innerHtml",t.errors.alarmevent,A.oJD)}}function Zt(t,e){if(1&t&&(A.TgZ(0,"div",127),A.TgZ(1,"div",124),A.TgZ(2,"div",125),A.TgZ(3,"span",126),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw();A.xp6(4),A.Oqu(t.language.Loading)}}function Ot(t,e){if(1&t&&(A.TgZ(0,"th"),A._uU(1),A.qZA()),2&t){const t=A.oxw(2);A.xp6(1),A.Oqu(t.language.Notes)}}function St(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",150),A.NdJ("click",function(){A.CHM(t);const e=A.oxw().$implicit;return A.oxw(2).gotoSubscriberImpactedPage(e)}),A._uU(1),A.qZA()}if(2&t){const t=A.oxw().$implicit;A.xp6(1),A.hij(" ",null==t||null==t.subject?null:t.subject.impactedSubsCount," ")}}function Tt(t,e){if(1&t&&(A.TgZ(0,"div"),A._uU(1),A.qZA()),2&t){const t=A.oxw().$implicit;A.xp6(1),A.hij(" ",null!=t&&null!=t.subject&&t.subject.serviceAffecting?"Yes":"No"," ")}}function _t(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",154),A.NdJ("click",function(){A.CHM(t);const e=A.oxw(2),i=e.$implicit,a=e.index;return A.oxw(2).openNotesModal(i.subject.alarmId,i.subject.notes?i.subject.notes:null,!1,a)}),A._UZ(1,"img",155),A.qZA()}}function wt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",156),A.NdJ("click",function(){A.CHM(t);const e=A.oxw(2),i=e.$implicit,a=e.index;return A.oxw(2).openNotesModal(i.subject.alarmId,i.subject.notes?i.subject.notes:null,!0,a)}),A._UZ(1,"img",157),A.qZA()}if(2&t){const t=A.oxw(4);A.xp6(1),A.s9C("title",t.language.Edit)}}function qt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",154),A.NdJ("click",function(){A.CHM(t);const e=A.oxw(2),i=e.$implicit,a=e.index;return A.oxw(2).deleteConfirmModal(i.subject.alarmId,a)}),A._UZ(1,"img",158),A.qZA()}if(2&t){const t=A.oxw(4);A.xp6(1),A.s9C("title",t.language.Delete)}}function Mt(t,e){if(1&t&&(A.TgZ(0,"td",151),A.YNc(1,_t,2,0,"div",152),A.YNc(2,wt,2,1,"div",153),A.YNc(3,qt,2,1,"div",152),A.qZA()),2&t){const t=A.oxw().$implicit;A.xp6(1),A.Q6J("ngIf",!t.subject.notes),A.xp6(1),A.Q6J("ngIf",t.subject.notes),A.xp6(1),A.Q6J("ngIf",t.subject.notes)}}function Nt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"tbody"),A.TgZ(1,"tr",139),A.NdJ("click",function(){const e=A.CHM(t),i=e.$implicit,a=e.index;return A.oxw(2).viewDetails(i,a)}),A.TgZ(2,"td",140),A._uU(3),A.qZA(),A.TgZ(4,"td",140),A._uU(5),A.qZA(),A.TgZ(6,"td",140),A._uU(7),A.qZA(),A.TgZ(8,"td",140),A._uU(9),A.qZA(),A.TgZ(10,"td",141),A._UZ(11,"div",142),A.qZA(),A.TgZ(12,"td",143),A.TgZ(13,"div"),A._UZ(14,"span",144),A._uU(15),A.qZA(),A.qZA(),A.TgZ(16,"td"),A.TgZ(17,"div",145),A.YNc(18,St,2,1,"div",146),A.YNc(19,Tt,2,1,"div",137),A.qZA(),A.qZA(),A.TgZ(20,"td",147),A.TgZ(21,"div",148),A._uU(22),A.qZA(),A.qZA(),A.YNc(23,Mt,4,3,"td",149),A.qZA(),A.qZA()}if(2&t){const t=e.$implicit,i=A.oxw(2);A.xp6(1),A.s9C("id",i.index),A.xp6(2),A.hij("",t.subject&&t.subject.timeRaised?i.convertToDateTime(t.subject.timeRaised):""," "),A.xp6(2),A.Oqu(t.time?i.convertToDateTime(t.time):""),A.xp6(2),A.Oqu(t.subject?t.subject.alarmEventName:""),A.xp6(2),A.Oqu(t.subject?t.subject.category:""),A.xp6(2),A.Q6J("innerHtml",t.subject.resourceForUI?t.subject.resourceForUI:"",A.oJD),A.xp6(2),A.Tol(t.subject&&t.subject.perceivedSeverity&&i.colorClass[t.subject.perceivedSeverity]?i.colorClass[t.subject.perceivedSeverity]:"black clear-sev-but"),A.xp6(2),A.hij(" ",t.subject?i.language[t.subject.perceivedSeverity]||t.subject.perceivedSeverity:""," "),A.xp6(3),A.Q6J("ngIf",null==t||null==t.subject?null:t.subject.impactedSubsCount),A.xp6(1),A.Q6J("ngIf",!(null!=t&&null!=t.subject&&t.subject.impactedSubsCount)),A.xp6(3),A.Oqu(t.subject?t.subject.repairAction:""),A.xp6(1),A.Q6J("ngIf",i.hasWriteAccess)}}function kt(t,e){if(1&t&&(A.TgZ(0,"tbody"),A.TgZ(1,"tr"),A.TgZ(2,"td",159),A._uU(3),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(3),A.hij("",t.language["No data available in table"]," ")}}function Dt(t,e){if(1&t&&(A.TgZ(0,"div",23),A.TgZ(1,"div",129),A.TgZ(2,"table",130),A.TgZ(3,"thead"),A.TgZ(4,"tr"),A.TgZ(5,"th",131),A._uU(6),A.qZA(),A.TgZ(7,"th"),A._uU(8),A.qZA(),A.TgZ(9,"th",132),A._uU(10),A.qZA(),A.TgZ(11,"th"),A._uU(12),A.qZA(),A.TgZ(13,"th",133),A._uU(14),A.qZA(),A.TgZ(15,"th",134),A._uU(16),A.qZA(),A.TgZ(17,"th",135),A._uU(18),A.qZA(),A.TgZ(19,"th",136),A._uU(20),A.qZA(),A.YNc(21,Ot,2,1,"th",137),A.qZA(),A.qZA(),A.YNc(22,Nt,24,14,"tbody",138),A.YNc(23,kt,4,1,"tbody",137),A._UZ(24,"tbody"),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw();A.xp6(2),A.Q6J("dtOptions",t.dtOptions),A.xp6(4),A.AsE("",t.language["Reported Time"]," (UTC/",t.timeZone,") "),A.xp6(2),A.AsE("",t.language["Synced Time"]," (UTC/",t.timeZone,") "),A.xp6(2),A.Oqu(t.language["Alarm Name"]),A.xp6(2),A.Oqu(t.language.Category),A.xp6(2),A.Oqu(t.language.Resource),A.xp6(2),A.Oqu(t.language.Severity),A.xp6(2),A.Oqu(t.language["Subscriber Impact"]),A.xp6(2),A.Oqu(t.language.Recommendation),A.xp6(1),A.Q6J("ngIf",t.hasWriteAccess),A.xp6(1),A.Q6J("ngForOf",t.list),A.xp6(1),A.Q6J("ngIf",0===t.list.length)}}function Pt(t,e){if(1&t&&(A.TgZ(0,"div",167),A.TgZ(1,"div",124),A.TgZ(2,"div",125),A.TgZ(3,"span",126),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function Et(t,e){if(1&t&&(A.TgZ(0,"th"),A._uU(1),A.qZA()),2&t){const t=A.oxw(2);A.xp6(1),A.Oqu(t.language.Notes)}}function It(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",150),A.NdJ("click",function(){A.CHM(t);const e=A.oxw().$implicit;return A.oxw(2).gotoSubscriberImpactedPage(e)}),A._uU(1),A.qZA()}if(2&t){const t=A.oxw().$implicit;A.xp6(1),A.hij(" ",null==t||null==t.subject?null:t.subject.impactedSubsCount," ")}}function Ut(t,e){if(1&t&&(A.TgZ(0,"div",140),A.TgZ(1,"span",170),A._uU(2),A.qZA(),A.qZA()),2&t){const t=A.oxw().$implicit;A.xp6(1),A.Q6J("ngClass",null!=t&&null!=t.subject&&t.subject.serviceAffecting?"subscriber-impact-red":""),A.xp6(1),A.hij(" ",null!=t&&null!=t.subject&&t.subject.serviceAffecting?"Yes":"No"," ")}}function Ft(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",154),A.NdJ("click",function(){A.CHM(t);const e=A.oxw(2),i=e.$implicit,a=e.index;return A.oxw(2).openNotesModal(i.subject.alarmId,i.subject.notes?i.subject.notes:null,!1,a)}),A._UZ(1,"img",155),A.qZA()}}function Lt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",156),A.NdJ("click",function(){A.CHM(t);const e=A.oxw(2),i=e.$implicit,a=e.index;return A.oxw(2).openNotesModal(i.subject.alarmId,i.subject.notes?i.subject.notes:null,!0,a)}),A._UZ(1,"img",157),A.qZA()}if(2&t){const t=A.oxw(4);A.xp6(1),A.s9C("title",t.language.Edit)}}function jt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",154),A.NdJ("click",function(){A.CHM(t);const e=A.oxw(2),i=e.$implicit,a=e.index;return A.oxw(2).deleteConfirmModal(i.subject.alarmId,a)}),A._UZ(1,"img",158),A.qZA()}if(2&t){const t=A.oxw(4);A.xp6(1),A.s9C("title",t.language.Delete)}}function Jt(t,e){if(1&t&&(A.TgZ(0,"td",151),A.YNc(1,Ft,2,0,"div",152),A.YNc(2,Lt,2,1,"div",153),A.YNc(3,jt,2,1,"div",152),A.qZA()),2&t){const t=A.oxw().$implicit;A.xp6(1),A.Q6J("ngIf",!t.subject.notes),A.xp6(1),A.Q6J("ngIf",t.subject.notes),A.xp6(1),A.Q6J("ngIf",t.subject.notes)}}function $t(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"tr",139),A.NdJ("click",function(){const e=A.CHM(t),i=e.$implicit,a=e.index;return A.oxw(2).viewDetails(i,a)}),A.TgZ(1,"td",140),A._uU(2),A.qZA(),A.TgZ(3,"td",140),A._uU(4),A.qZA(),A.TgZ(5,"td",140),A._uU(6),A.qZA(),A.TgZ(7,"td",140),A._uU(8),A.qZA(),A.TgZ(9,"td",141),A._UZ(10,"div",142),A.qZA(),A.TgZ(11,"td",168),A.TgZ(12,"div"),A._UZ(13,"span",144),A._uU(14),A.qZA(),A.qZA(),A.TgZ(15,"td"),A.TgZ(16,"div",145),A.YNc(17,It,2,1,"div",146),A.YNc(18,Ut,3,2,"div",169),A.qZA(),A.qZA(),A.TgZ(19,"td",147),A.TgZ(20,"div",148),A._uU(21),A.qZA(),A.qZA(),A.YNc(22,Jt,4,3,"td",149),A.qZA()}if(2&t){const t=e.$implicit,i=A.oxw(2);A.s9C("id",i.index),A.xp6(2),A.hij("",t.subject&&t.subject.timeRaised?i.convertToDateTime(t.subject.timeRaised):""," "),A.xp6(2),A.Oqu(t.time?i.convertToDateTime(t.time):""),A.xp6(2),A.Oqu(t.subject?t.subject.alarmEventName:""),A.xp6(2),A.Oqu(t.subject?t.subject.category:""),A.xp6(2),A.Q6J("innerHtml",t.subject.resourceForUI?t.subject.resourceForUI:"",A.oJD),A.xp6(2),A.Tol(t.subject&&t.subject.perceivedSeverity&&i.colorClass[t.subject.perceivedSeverity]?i.colorClass[t.subject.perceivedSeverity]:"black clear-sev-but"),A.xp6(2),A.hij(" ",t.subject?i.language[t.subject.perceivedSeverity]||t.subject.perceivedSeverity:""," "),A.xp6(3),A.Q6J("ngIf",null==t||null==t.subject?null:t.subject.impactedSubsCount),A.xp6(1),A.Q6J("ngIf",!(null!=t&&null!=t.subject&&t.subject.impactedSubsCount)),A.xp6(3),A.Oqu(t.subject?t.subject.repairAction:""),A.xp6(1),A.Q6J("ngIf",i.hasWriteAccess)}}function Rt(t,e){if(1&t&&(A.TgZ(0,"tbody"),A.TgZ(1,"tr"),A.TgZ(2,"td",159),A._uU(3),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(3),A.hij("",t.language["No data available in table"]," ")}}const Ht=function(t){return{"page-disabled":t}};function Qt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",23),A.TgZ(1,"div",160),A.YNc(2,Pt,5,1,"div",161),A.TgZ(3,"table",162),A.TgZ(4,"thead"),A.TgZ(5,"tr"),A.TgZ(6,"th",131),A._uU(7),A.qZA(),A.TgZ(8,"th"),A._uU(9),A.qZA(),A.TgZ(10,"th",132),A._uU(11),A.qZA(),A.TgZ(12,"th"),A._uU(13),A.qZA(),A.TgZ(14,"th",133),A._uU(15),A.qZA(),A.TgZ(16,"th",134),A._uU(17),A.qZA(),A.TgZ(18,"th",135),A._uU(19),A.qZA(),A.TgZ(20,"th",136),A._uU(21),A.qZA(),A.YNc(22,Et,2,1,"th",137),A.qZA(),A.qZA(),A.TgZ(23,"tbody"),A.YNc(24,$t,23,14,"tr",163),A.qZA(),A.YNc(25,Rt,4,1,"tbody",137),A._UZ(26,"tbody"),A.qZA(),A.TgZ(27,"div",164),A.TgZ(28,"div",165),A.TgZ(29,"a",166),A.NdJ("click",function(){return A.CHM(t),A.oxw().gotoPrevious()}),A._uU(30),A.qZA(),A.TgZ(31,"a",166),A.NdJ("click",function(){return A.CHM(t),A.oxw().gotoNext()}),A._uU(32),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw();A.xp6(2),A.Q6J("ngIf",t.paginateLoading),A.xp6(5),A.AsE("",t.language["Reported Time"]," (UTC/",t.timeZone,") "),A.xp6(2),A.AsE("",t.language["Synced Time"]," (UTC/",t.timeZone,") "),A.xp6(2),A.Oqu(t.language["Alarm Name"]),A.xp6(2),A.Oqu(t.language.Category),A.xp6(2),A.Oqu(t.language.Resource),A.xp6(2),A.Oqu(t.language.Severity),A.xp6(2),A.Oqu(t.language["Subscriber Impact"]),A.xp6(2),A.Oqu(t.language.Recommendation),A.xp6(1),A.Q6J("ngIf",t.hasWriteAccess),A.xp6(2),A.Q6J("ngForOf",t.list),A.xp6(1),A.Q6J("ngIf",!(null!=t.list&&t.list.length)),A.xp6(4),A.Q6J("ngClass",A.VKq(18,Ht,!t.previousFlag)),A.xp6(1),A.Oqu(t.language.Previous),A.xp6(1),A.Q6J("ngClass",A.VKq(20,Ht,!t.nextFlag)),A.xp6(1),A.Oqu(t.language.Next)}}function Bt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",171),A.TgZ(1,"h5",172),A._uU(2),A.qZA(),A.TgZ(3,"div"),A._uU(4),A.qZA(),A.TgZ(5,"button",173),A.NdJ("click",function(){return A.CHM(t).$implicit.dismiss("Cross click")}),A._UZ(6,"span",114),A.qZA(),A.qZA(),A.TgZ(7,"div",174),A.TgZ(8,"button",175),A.NdJ("click",function(){return A.CHM(t).$implicit.close("Save click")}),A._uU(9),A.qZA(),A.qZA()}if(2&t){const t=A.oxw();A.xp6(2),A.Oqu(t.modalTitle),A.xp6(2),A.hij(" ",t.modalInfo," "),A.xp6(5),A.hij(" ",t.language.Ok," ")}}function Vt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",118),A.TgZ(1,"span",119),A._UZ(2,"img",120),A.qZA(),A.TgZ(3,"button",121),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).closeAlert()}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",122),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.noteErrorInfo,A.oJD)}}function Yt(t,e){if(1&t&&(A.TgZ(0,"div",167),A.TgZ(1,"div",124),A.TgZ(2,"div",125),A.TgZ(3,"span",126),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function zt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"button",181),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).addNotes()}),A._uU(1),A.qZA()}if(2&t){const t=A.oxw(2);A.Q6J("disabled",t.btnDisabled||""===t.notes),A.xp6(1),A.hij(" ",t.language.Add," ")}}function Gt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"button",181),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).addNotes()}),A._uU(1),A.qZA()}if(2&t){const t=A.oxw(2);A.Q6J("disabled",t.btnDisabled||""===t.notes),A.xp6(1),A.hij(" ",t.language.Update," ")}}function Wt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",171),A.TgZ(1,"h5",172),A._uU(2),A.qZA(),A.TgZ(3,"button",173),A.NdJ("click",function(){return A.CHM(t),A.oxw().closeNotes()}),A._UZ(4,"span",114),A.qZA(),A.qZA(),A.TgZ(5,"div",23),A.YNc(6,Vt,6,1,"div",15),A.qZA(),A.TgZ(7,"div",174),A.YNc(8,Yt,5,1,"div",161),A.TgZ(9,"div",176),A._UZ(10,"textarea",177),A.qZA(),A.TgZ(11,"div",178),A.YNc(12,zt,2,2,"button",179),A.YNc(13,Gt,2,2,"button",179),A.TgZ(14,"button",180),A.NdJ("click",function(){return A.CHM(t),A.oxw().closeNotes()}),A._uU(15),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw();A.xp6(2),A.Oqu(t.language.Notes),A.xp6(4),A.Q6J("ngIf",t.noteError),A.xp6(2),A.Q6J("ngIf",t.noteSaveLoader),A.xp6(2),A.MGl("placeholder","",t.language.Notes,".."),A.Q6J("formControl",t.notes)("formValue",t.notes),A.xp6(2),A.Q6J("ngIf",!t.showEdit),A.xp6(1),A.Q6J("ngIf",t.showEdit),A.xp6(2),A.hij(" ",t.language.Cancel," ")}}function Kt(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",171),A.TgZ(1,"h5",172),A._uU(2),A.qZA(),A.TgZ(3,"button",173),A.NdJ("click",function(){return A.CHM(t),A.oxw().closeNotes()}),A._UZ(4,"span",114),A.qZA(),A.qZA(),A.TgZ(5,"div",174),A.TgZ(6,"div",176),A._uU(7),A.qZA(),A.qZA()}if(2&t){const t=A.oxw();A.xp6(2),A.Oqu(t.language.Notes),A.xp6(5),A.hij(" ",t.notes," ")}}function Xt(t,e){if(1&t&&(A.TgZ(0,"div",167),A.TgZ(1,"div",124),A.TgZ(2,"div",125),A.TgZ(3,"span",126),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function te(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",118),A.TgZ(1,"span",119),A._UZ(2,"img",120),A.qZA(),A.TgZ(3,"button",121),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).closeAlert()}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",122),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.deleteErrorInfo,A.oJD)}}function ee(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",182),A.TgZ(1,"h4",183),A._uU(2),A.qZA(),A.TgZ(3,"button",184),A.NdJ("click",function(){return A.CHM(t),A.oxw().close()}),A._UZ(4,"span",114),A.qZA(),A.qZA(),A.TgZ(5,"div",185),A.YNc(6,Xt,5,1,"div",161),A.TgZ(7,"p"),A._uU(8),A.qZA(),A.qZA(),A.TgZ(9,"div",23),A.YNc(10,te,6,1,"div",15),A.qZA(),A.TgZ(11,"div",186),A.TgZ(12,"button",187),A.NdJ("click",function(){return A.CHM(t),A.oxw().deleteNotes()}),A._uU(13),A.qZA(),A.TgZ(14,"button",188),A.NdJ("click",function(){return A.CHM(t),A.oxw().close()}),A._uU(15),A.qZA(),A.qZA()}if(2&t){const t=A.oxw();A.xp6(2),A.Oqu(t.language.Delete),A.xp6(4),A.Q6J("ngIf",t.noteSaveLoader),A.xp6(2),A.hij(" ",t.language["Are you sure you want to delete this notes"],"? "),A.xp6(2),A.Q6J("ngIf",t.deleteError),A.xp6(2),A.Q6J("disabled",t.btnDisabled),A.xp6(1),A.hij(" ",t.language.Yes," "),A.xp6(2),A.hij(" ",t.language.No," ")}}function ie(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",118),A.TgZ(1,"span",119),A._UZ(2,"img",120),A.qZA(),A.TgZ(3,"button",121),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).closeAlert()}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",122),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.errorInfo,A.oJD)}}function ae(t,e){if(1&t&&(A.TgZ(0,"div",190),A.TgZ(1,"div",191),A.TgZ(2,"label"),A._uU(3),A.qZA(),A.TgZ(4,"h3",192),A._uU(5),A.qZA(),A.qZA(),A.TgZ(6,"div",191),A.TgZ(7,"label"),A._uU(8),A.qZA(),A.TgZ(9,"h3",192),A._uU(10),A.qZA(),A.qZA(),A.TgZ(11,"div",191),A.TgZ(12,"label"),A._uU(13),A.qZA(),A.TgZ(14,"h3",192),A._uU(15),A.qZA(),A.qZA(),A.TgZ(16,"div",191),A.TgZ(17,"label"),A._uU(18),A.qZA(),A.TgZ(19,"h3",192),A._uU(20),A.qZA(),A.qZA(),A.TgZ(21,"div",191),A.TgZ(22,"label"),A._uU(23),A.qZA(),A.TgZ(24,"h3",192),A._uU(25),A.qZA(),A.qZA(),A.TgZ(26,"div",191),A.TgZ(27,"label"),A._uU(28),A.qZA(),A.TgZ(29,"h3",192),A._uU(30),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(3),A.Oqu(t.language.Name),A.xp6(1),A.s9C("title",null!=t.subscriberInfo[0]&&t.subscriberInfo[0].name?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].name:"-"),A.xp6(1),A.Oqu(null!=t.subscriberInfo[0]&&t.subscriberInfo[0].name?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].name:"-"),A.xp6(3),A.Oqu(t.language.Account),A.xp6(1),A.s9C("title",null!=t.subscriberInfo[0]&&t.subscriberInfo[0].account?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].account:"-"),A.xp6(1),A.Oqu(null!=t.subscriberInfo[0]&&t.subscriberInfo[0].account?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].account:"-"),A.xp6(3),A.Oqu(t.language.Email),A.xp6(1),A.s9C("title",null!=t.subscriberInfo[0]&&t.subscriberInfo[0].email?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].email:"-"),A.xp6(1),A.Oqu(null!=t.subscriberInfo[0]&&t.subscriberInfo[0].email?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].email:"-"),A.xp6(3),A.Oqu(t.language.Location_Id),A.xp6(1),A.s9C("title",null!=t.subscriberInfo[0]&&t.subscriberInfo[0].subscriberLocationId?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].subscriberLocationId:"-"),A.xp6(1),A.hij(" ",null!=t.subscriberInfo[0]&&t.subscriberInfo[0].subscriberLocationId?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].subscriberLocationId:"-",""),A.xp6(3),A.hij("",t.language.Service_address," "),A.xp6(1),A.s9C("title",null!=t.subscriberInfo[0]&&t.subscriberInfo[0].serviceAddress?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].serviceAddress:"-"),A.xp6(1),A.hij(" ",null!=t.subscriberInfo[0]&&t.subscriberInfo[0].serviceAddress?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].serviceAddress:"-",""),A.xp6(3),A.Oqu(t.language.Phone),A.xp6(1),A.s9C("title",null!=t.subscriberInfo[0]&&t.subscriberInfo[0].phone?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].phone:"-"),A.xp6(1),A.Oqu(null!=t.subscriberInfo[0]&&t.subscriberInfo[0].phone?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].phone:"-")}}function ne(t,e){if(1&t&&(A.TgZ(0,"div"),A.TgZ(1,"p"),A._uU(2),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(2),A.hij("",t.language["No data available"]," ")}}function se(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",171),A.TgZ(1,"h5",172),A._uU(2),A.qZA(),A.TgZ(3,"button",173),A.NdJ("click",function(){return A.CHM(t),A.oxw().closeNotes()}),A._UZ(4,"span",114),A.qZA(),A.qZA(),A.TgZ(5,"div",23),A.YNc(6,ie,6,1,"div",15),A.qZA(),A.TgZ(7,"div",174),A.YNc(8,ae,31,18,"div",189),A.YNc(9,ne,3,1,"div",137),A.qZA()}if(2&t){const t=A.oxw();A.xp6(2),A.Oqu(t.language["Subscriber Information"]),A.xp6(4),A.Q6J("ngIf",t.error),A.xp6(2),A.Q6J("ngIf",t.Infosub),A.xp6(1),A.Q6J("ngIf",!t.Infosub)}}var oe;i(86295)(s),y()(s),(oe=s).seriesTypes.line.prototype.drawLegendSymbol=oe.seriesTypes.area.prototype.drawLegendSymbol;let re=(()=>{class t{constructor(t,e,i,a,n,r,l,h,d,g,m,p,u){var v;this.http=t,this.translateService=e,this.commonOrgService=i,this.exportExcelService=a,this.issueService=n,this.chartOptionService=r,this.dialogService=l,this.fb=h,this.ssoService=d,this.dateUtilsService=g,this.route=m,this.titleService=p,this.router=u,this.isDev=!1,this.showNewPagination=!0,this.transformedAlarms=["multiple-onts-down-network","multiple-onts-down-pon","multiple-onts-down-olt"],this.data={alarm:{byday:[],severity:[],region:[],location:[],system:[]},event:{region:[],location:[],system:[]}},this.params={alarm:{byday:{},severity:{},region:{},location:{},system:{}},event:{region:{},location:{},system:{}}},this.deleteParams={alarm:{byday:{},severity:{},region:{},location:{},system:{}},event:{region:{},location:{},system:{}}},this.filters={alarm:{byday:{},severity:{},region:{},location:{},system:{}},event:{region:{},location:{},system:{}}},this.loaders={alarm:{byday:!1,severity:!1,region:!1,location:!1,system:!1}},this.fullScrenSubHeading="",this.maxDate=new Date,this.maxForStartDate=new Date,this.count=0,this.initLoad=!1,this.types=[],this.typeSelected="",this.showTable=!1,this.dataAvailable=!1,this.dtTrigger=new c.xQ,this.dtOptions={},this.isRerender=!1,this.loading=!1,this.renderOnce=!1,this.error=!1,this.serverityError=!1,this.systemError=!1,this.locationError=!1,this.regionError=!1,this.applyDisabled=!1,this.fullScreen=!1,this.value=6,this.category=["All"],this.loadLocationChart=!1,this.Highcharts=s,this.totalAlarms=0,this.criticalAlarms=0,this.majorAlarms=0,this.minorAlarms=0,this.baseUrl=`${o.N.API_BASE_URL}analytics-engine/`,this.url="",this.dateParam="",this.regionsDataArray=["All"],this.regionArray=["All"],this.locationDataArray=["All"],this.systemDataArray=["All"],this.clickedSystem="",this.filterApplied=!1,this.list=[],this.colors={MINOR:"#F3B426",MAJOR:"#FC7235",CRITICAL:"#C70000",WARNING:"#f7e9c1",INFO:"#7cb5ec"},this.colorClass={MINOR:"minor-but",MAJOR:"major-but",CRITICAL:"critical-but",WARNING:"warning-but",INFO:"severity-info-but"},this.categories=[],this.acknowledgedAlarms=[{id:"all",name:"All"},{id:"false",name:"Hide Acknowledged Alarms"},{id:"true",name:"Show Acknowledged Alarms"}],this.filtersForm=this.fb.group({startDate:[""],endDate:[""],alarmType:[""],region:[""],location:[""],system:[""],fsan:[""],severity:[""],category:[""],eventName:[""],customCategory:[""],cco_ack:"all"}),this.appliedFilters={startDate:!0,endDate:!0,alarmType:!0,region:!0,location:!0,system:!0,fsan:!0,severity:!0,category:!0,eventName:!0,customCategory:!0,cco_ack:!0},this.hasParamsInUrl=!1,this.last24hours=!1,this.redrirectUrl="",this.geoMapIssue="false",this.fromNs="false",this.systemsObj={},this.hasWriteAccess=!1,this.previousFlag=!1,this.nextFlag=!1,this.entries=[{id:10,name:10},{id:25,name:25},{id:50,name:50},{id:100,name:100}],this.paginateQuery="",this.entry=new f.NI(10),this.errors={byday:"",severity:"",region:"",location:"",system:""},this.clickedSeverity="",this.loadRegionChart=!0,this.hasScopeAccess=!1,this.clickedLoctionsObj={},this.clickedSystemsObj={},this.chartTypeInFS="",this.fullscreenParams=[],this.searchTerm="",this.applyFiltersInFS=!1,this.searchText$=new c.xQ,this.showAckShelveBtn=!1,this.fullData={},this.hideSource=!1,this.customCategories=[],this.alarmNames=[],this.notes=new f.NI(""),this.showEdit=!1,this.isNotesModalOpen=!1,this.noteError=!1,this.noteErrorInfo="",this.noteSaveLoader=!1,this.btnDisabled=!1,this.deleteError=!1,this.deleteErrorInfo="",this.paginateLoading=!1,this.searchQuery="",this.setAppliedFilters(),window.scrollTo(0,0),this.chartOptionService.setFiltersObj(),this.toggleSubscription=this.ssoService.toggled$.subscribe(t=>{s.charts.forEach(t=>{setTimeout(()=>{null!=t&&t.reflow()},100)})}),(null===(v=null==history?void 0:history.state)||void 0===v?void 0:v.last24hours)&&(this.last24hours=!0);let y=new Date;this.route.queryParams.subscribe(t=>{t.severity&&(t.days&&(this.FromDate=new Date(y.getTime()-24*(t.days-1)*60*60*1e3)),this.ToDate=new Date,this.hasParamsInUrl=!0,this.filtersForm.patchValue({startDate:this.FromDate,endDate:this.ToDate,region:["All"],location:["All"],system:"All",severity:t.severity,category:["All"],fsan:"",customCategory:"None",eventName:["All"],cco_ack:"all"}))})}ngOnInit(){var t;-1!==o.N.API_BASE_URL.indexOf("dev.api.calix.ai")&&(this.showNewPagination=!0),this.timeZone=(new Date).toString().split(" ")[5].replace(/(.{2})$/,":$1"),this.Severity="all",this.fullScreen=!1,this.language=this.translateService.defualtLanguage,this.tableLanguageOptions(),this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t,this.tableLanguageOptions(),this.loadIntialData(),this.renderOnce&&this.loadChart(),this.titleService.setTitle(`${this.language["Active Reports"]} - ${this.language.Alarms} - ${this.language.Issues} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`${this.language["Active Reports"]} - ${this.language.Alarms} - ${this.language.Issues} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`),new Date,this.hasParamsInUrl||this.filtersForm.patchValue({startDate:this.FromDate,endDate:this.ToDate,region:["All"],location:["All"],system:["All"],severity:"All",category:["All"],fsan:"",customCategory:"None",eventName:["All"],cco_ack:"all"}),this.last24hours&&(this.FromDate=new Date(this.dateUtilsService.getStartUtcTimeByDays(0)-864e5),this.ToDate=new Date,this.filtersForm.patchValue({startDate:this.FromDate,endDate:this.ToDate,region:["All"],location:["All"],system:["All"],severity:"All",category:["All"],fsan:"",customCategory:"None",eventName:["loss-of-pon"],cco_ack:"all"}));let e=this.ssoService.getScopes();if(-1!==(null===(t=e["cloud.rbac.coc.issues.report.activealarm"])||void 0===t?void 0:t.indexOf("write"))&&(this.hasWriteAccess=!0),o.N.VALIDATE_SCOPE){let t=Object.keys(e);if(t)for(let e=0;e<t.length;e++)if(-1!==t[e].indexOf("cloud.rbac.coc.issues.report.activealarm")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.hasScopeAccess?(this.ssoService.setPageAccess(!0),this.route.queryParams.subscribe(t=>{this.redrirectUrl=t.redirect?t.redirect:null,this.geoMapIssue=t.geoMapIssue&&"true"==t.geoMapIssue?t.geoMapIssue:"false",this.fromNs=t.fromNs&&"true"==t.fromNs?t.fromNs:"false","true"==this.fromNs&&(this.networkSystemsFilters=t),"true"==this.geoMapIssue&&(this.issuesGeoMapFilters=this.issueService.getgeoMapHomeFilterParams(),this.filtersForm.get("cco_ack").setValue("false"),"ont"==this.issuesGeoMapFilters.fromIssuesGeoMap&&this.filtersForm.get("fsan").setValue(this.issuesGeoMapFilters.fsan?this.issuesGeoMapFilters.fsan:""))}),this.regionsApiLoader(),this.getCategories(),this.getCustomCategories(),this.getAlarmNames()):this.ssoService.setPageAccess(!1)}ngAfterViewInit(){this.showNewPagination?(this.doSearchNew(),this.listenChangeEntries()):this.doSearch(),this.notes.valueChanges.subscribe(t=>{this.showEdit||this.notes.value?this.showEdit&&this.isNotesModalOpen?this.isNotesModalOpen=!1:this.btnDisabled=!1:this.btnDisabled=!0})}loadRegionsSystemsOptionsData(){const t={};t.regions=this.issueService.getRegions(!0).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t)))),t.systems=this.http.get(`${o.N.API_BASE_URL}nfa/systems?tenant=0&includeDeleted=true`).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t)))),(0,d.D)(t).subscribe(t=>{this.regionSelected="All",this.locationSelected="All",this.systemSelected="All";let e=t.regions,i=[];if(e&&e.length&&(e=this.issueService.appendFqn(e),e.forEach(t=>{t.isDeleted||i.push(t)})),this.chartOptionService.setRegionsInfo(e),this.loadIntialData(),e.sort(),this.regionsDataArray=[...this.regionsDataArray,...i],"true"==this.geoMapIssue&&"olt"==this.issuesGeoMapFilters.fromIssuesGeoMap||"true"==this.fromNs){let t=["All"],e=["All"],i=["All"],a="",n="",s="";"true"==this.geoMapIssue?(a=this.issuesGeoMapFilters.region&&this.issuesGeoMapFilters.region.region_uuid?this.issuesGeoMapFilters.region.region_uuid:void 0,n=this.issuesGeoMapFilters.location&&this.issuesGeoMapFilters.location.networkgroup_uuid?this.issuesGeoMapFilters.location.networkgroup_uuid:void 0,s=this.issuesGeoMapFilters.systemUuid?this.issuesGeoMapFilters.systemUuid:void 0):(a=this.networkSystemsFilters&&this.networkSystemsFilters.region_uuid?this.networkSystemsFilters.region_uuid:void 0,n=this.networkSystemsFilters&&this.networkSystemsFilters.location_uuid?this.networkSystemsFilters.location_uuid:void 0,s=this.networkSystemsFilters&&this.networkSystemsFilters.system_uuid?this.networkSystemsFilters.system_uuid:void 0),a&&(t=[],t.push(a)),n&&(e=[],e.push(n)),s&&(i=[],i.push(s)),this.filtersForm.get("region").setValue(t),setTimeout(()=>{this.filtersForm.get("location").setValue(e),this.loadLocationValue(""),setTimeout(()=>{this.filtersForm.get("system").setValue(i),this.selectSystem(""),this.loadSystemValue(),setTimeout(()=>{this.loadIntialData()},1e3)},200)},200)}let a=t.systems;this.systemsObj={};let n={};a&&a.forEach(t=>{n[t.uuid]=t.name}),this.systemsObj=n})}regionsApiLoader(){new Set,this.regionSelected="All",this.locationSelected="All",this.systemSelected="All",this.regionsSubject=this.issueService.getRegions(!0).subscribe(t=>{let e=[];if(t&&t.length&&(t=this.issueService.appendFqn(t)).forEach(t=>{t.isDeleted||e.push(t)}),this.chartOptionService.setRegionsInfo(t),t.sort(),this.regionsDataArray=[...this.regionsDataArray,...e],"true"==this.geoMapIssue&&"olt"==this.issuesGeoMapFilters.fromIssuesGeoMap||"true"==this.fromNs){let t=["All"],e=["All"],i=["All"],a="",n="",s="";"true"==this.geoMapIssue?(a=this.issuesGeoMapFilters.region&&this.issuesGeoMapFilters.region.region_uuid?this.issuesGeoMapFilters.region.region_uuid:void 0,n=this.issuesGeoMapFilters.location&&this.issuesGeoMapFilters.location.networkgroup_uuid?this.issuesGeoMapFilters.location.networkgroup_uuid:void 0,s=this.issuesGeoMapFilters.systemUuid?this.issuesGeoMapFilters.systemUuid:void 0):(a=this.networkSystemsFilters&&this.networkSystemsFilters.region_uuid?this.networkSystemsFilters.region_uuid:void 0,n=this.networkSystemsFilters&&this.networkSystemsFilters.location_uuid?this.networkSystemsFilters.location_uuid:void 0,s=this.networkSystemsFilters&&this.networkSystemsFilters.system_uuid?this.networkSystemsFilters.system_uuid:void 0),a&&(t=[],t.push(a)),n&&(e=[],e.push(n)),s&&(i=[],i.push(s)),this.filtersForm.get("region").setValue(t),setTimeout(()=>{this.filtersForm.get("location").setValue(e),this.loadLocationValue(""),setTimeout(()=>{this.filtersForm.get("system").setValue(i),this.selectSystem(""),this.loadSystemValue(),setTimeout(()=>{this.loadIntialData()},1500)},200)},200)}else this.loadIntialData()},t=>{this.loadIntialData()})}loadLocationValue(t){this.clickedRegion="",this.locationSelected="All",this.systemSelected="All";let e=this.filtersForm.get("region").value,i=this.filtersForm.get("location").value;if(this.regionSelected=e,this.regionSelected){let t="";if(e.length){if(-1!==e.indexOf("All"))return this.regionName=null,this.locationName=null,this.systemName=null,this.locationDataArray=["All"],void(this.systemDataArray=["All"]);e.forEach(e=>{"All"!=e&&(t+=`&region=${e}`)}),this.locationsSubject=this.http.get(`${o.N.API_BASE_URL}nfa/locations?tenant=0${t}&includeDeleted=true`).pipe((0,l.U)(t=>(t.sort((t,e)=>(t.name||"").toString().localeCompare((e.name||"").toString(),"en",{numeric:!1})),this.issueService.appendFqn(t))),(0,r.K)(this.handleError)).subscribe(t=>{let e=[];if(this.chartOptionService.setLocationsInfo(t),this.locationDataArray=["All"],t.forEach(t=>{t.isDeleted||e.push(t)}),this.locationDataArray=[...this.locationDataArray,...e],i&&i.length){let t=this.chartOptionService.getLocationsObj(),e=Object.keys(t).length?Object.keys(t):[],a=[];i.forEach(t=>{-1!==e.indexOf(t)&&a.push(t)}),a.length||(a=["All"]),this.filtersForm.get("location").setValue(a),this.loadSystemValue()}},t=>{}),this.regionName=e}else this.filtersForm.get("region").setValue(["All"]),this.filtersForm.get("location").setValue(["All"]),this.filtersForm.get("system").setValue(["All"]),this.regionName=null,this.locationName=null,this.systemName=null,this.locationDataArray=["All"],this.systemDataArray=["All"]}}loadSystemValue(t){this.clickedLocation="";let e=this.filtersForm.get("region").value,i=this.filtersForm.get("location").value,a=this.filtersForm.get("system").value;if(this.systemSelected=["All"],e.length&&i.length&&-1===i.indexOf("All")){let t="";e.forEach(e=>{"All"!=e&&(t+=`&region=${e}`)});let n="";i.forEach(t=>{"All"!=t&&(n+=`&location=${t}`)}),this.systemsSubject=this.http.get(`${o.N.API_BASE_URL}nfa/systems?tenant=0${t}${n}&includeDeleted=true`).pipe((0,l.U)(t=>(t.sort((t,e)=>(t.name||"").toString().localeCompare((e.name||"").toString(),"en",{numeric:!1})),t)),(0,r.K)(this.handleError)).subscribe(t=>{let e=[];if(this.chartOptionService.setSystemsInfo(t),this.systemDataArray=["All"],t.forEach(t=>{t.isDeleted||e.push(t)}),this.systemDataArray=[...this.systemDataArray,...e],a&&a.length){let t=this.chartOptionService.getSystemsObj(),e=Object.keys(t).length?Object.keys(t):[],i=[];a.forEach(t=>{-1!==e.indexOf(t)&&i.push(t)}),i.length||(i=["All"],this.systemName=null),this.filtersForm.get("system").setValue(i)}},t=>{}),this.locationName=i}else i.length||(this.filtersForm.get("location").setValue(["All"]),this.filtersForm.get("system").setValue(["All"]),this.locationName=null,this.systemName=null,this.systemDataArray=["All"])}selectSystem(t){let e=this.filtersForm.get("system").value;this.systemName=e,"All"==e&&(this.systemName=null)}loadChart(){}changeDate(){return this.maxForStartDate=this.filtersForm.get("endDate").value,this.validateBeyondDates(this.ToDate)?this.validateStartEndDates()?void(this.dateParam=this.FromDate&&this.ToDate?"&date="+this.FromDate.getTime()+"%2C"+this.ToDate.getTime():""):(this.modalTitle=this.language.Time_Period,this.modalInfo=this.language["Time range not valid, end time should be later than start time."],void this.openModalInfo()):(this.modalTitle=this.language.Time_Period,this.modalInfo="Time range not valid, selected date should not be later than current date time.",void this.openModalInfo())}alarmsCount(){let t=this.filtersForm.value;t.startDate?(t.endDate||(t.endDate=new Date),this.dateParam=this.last24hours?"&date="+(this.dateUtilsService.getStartUtcTimeByDays(0)-864e5)+"%2C"+this.dateUtilsService.getUtCMilliSecByDateObj(t.endDate,!0):"&date="+this.dateUtilsService.getUtCMilliSecByDateObj(t.startDate)+"%2C"+this.dateUtilsService.getUtCMilliSecByDateObj(t.endDate,!0)):this.dateParam=this.FromDate&&this.ToDate?"&date="+this.dateUtilsService.getUtCMilliSecByDateObj(this.FromDate)+"%2C"+this.dateUtilsService.getUtCMilliSecByDateObj(this.ToDate,!0):"",this.issueService.filterCounts(this.dateParam)}fullScreenInvertFunction(){this.deleteFullScreenParams(),this.setSearchQuery(""),this.clickedSeverity="",this.searchTerm="",this.fullScreen=!1,this.searchText$.next(""),this.entry.setValue(10),this.applyFiltersInFS&&(this.applyFiltersInFS=!1,this.loadIntialData())}ngOnDestroy(){var t,e,i;null===(t=this.searchSub)||void 0===t||t.unsubscribe(),null===(e=this.languageSubject)||void 0===e||e.unsubscribe(),this.severitySubscribe&&this.severitySubscribe.unsubscribe(),this.systemSubscribe&&this.systemSubscribe.unsubscribe(),this.locationSubscribe&&this.locationSubscribe.unsubscribe(),this.regionSubscribe&&this.regionSubscribe.unsubscribe(),this.countSubscribe&&this.countSubscribe.unsubscribe(),null===(i=this.toggleSubscription)||void 0===i||i.unsubscribe()}clearFilter(){this.entry.setValue(10),this.fullScreen=!1,this.loadLocationChart=!this.loadLocationChart,this.regionSelected=void 0,this.locationSelected=void 0,this.systemSelected=void 0,this.System=void 0,this.FSAN=null,this.Severity=null,this.category=["All"],this.locationDataArray=["All"],this.systemDataArray=["All"],new Date,this.FromDate=void 0,this.ToDate=void 0,this.regionName=void 0,this.locationName=void 0,this.systemName=void 0,this.maxDate=new Date,this.maxForStartDate=new Date,this.filtersForm.patchValue({startDate:this.FromDate,endDate:this.ToDate,region:["All"],location:["All"],system:["All"],severity:"All",category:["All"],fsan:"",eventName:["All"],customCategory:"None",cco_ack:"all"}),this.loadIntialData()}pageErrorHandle(t){this.errorInfo=401==t.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(t),this.error=!0,this.loading=!1}closeAlert(){this.error=!1,this.noteError=!1}startISODate(t){let e=new Date(t),i=e.getFullYear(),a=`${e.getMonth()+1}`,n=`${e.getDate()}`;return a.length<2&&(a=`0${a}`),n.length<2&&(n=`0${n}`),new Date(`${i}-${a}-${n}T00:00:00Z`).getTime()}endISODate(t){let e=new Date(t),i=e.getFullYear(),a=`${e.getMonth()+1}`,n=`${e.getDate()}`;return a.length<2&&(a=`0${a}`),n.length<2&&(n=`0${n}`),new Date(`${i}-${a}-${n}T23:59:59Z`).getTime()}validateStartEndDates(){return!(this.FromDate&&this.ToDate&&this.FromDate>this.ToDate)}validateBeyondDates(t){let e=new Date;return!(t&&t>e)}openModalInfo(){this.modalRef=this.dialogService.open(this.showInfoModal,{size:"lg",centered:!0,windowClass:"custom-modal"})}closeErrors(){this.errors={byday:"",severity:"",region:"",location:"",system:""}}loadIntialData(t){if(this.fsanvalidated("d"))return;let e=new a.rS;t&&(this.last24hours=!1),this.closeErrors();let i,n,o=this.filtersForm.value;if(this.fullScreen)return void this.applyFiltersInFullScreen();if(this.alarmType=o.alarmType,i=o.category&&o.category.length&&-1===o.category.indexOf("All")?o.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,n=o.customCategory&&o.customCategory.length&&-1===o.customCategory.indexOf("None")?o.customCategory:void 0,o.eventName&&o.eventName.length&&-1===o.eventName.indexOf("All")||(o.eventName=void 0),this.clickedLocation="",this.clickedRegion="",this.loadLocationChart=!1,this.loadSystemChart=!1,this.alarmsCount(),this.serverityError=!1,this.systemError=!1,this.regionError=!1,this.locationError=!1,this.severityChartData=null,this.systemChartData=null,this.locationChartData=null,this.regionChartData=null,this.severityChartOptions=null,this.loading=!0,this.applyDisabled=!0,"Both"==this.alarmType)return this.both=!0,void this.loadBothData();this.both=!1;let l="";l=this.systemName&&this.systemName.length&&-1===this.systemName.indexOf("All")?this.systemName.filter(function(t){return t&&t.length&&"All"!==t}):void 0,o.severity&&"all"===o.severity.toLowerCase()&&(o.severity=void 0);let c={region:"All"!==this.regionName?this.regionName:void 0,location:"All"!==this.locationName?this.locationName:void 0,fsan_serialnumber:o.fsan?o.fsan:void 0,severity:o.severity,notificationType:"Alarm",historyReport:!1,category:i,system:l,alarmEventName:o.eventName?o.eventName:void 0,customCategory:n,cco_ack:o.cco_ack};o.startDate&&(o.endDate||(o.endDate=new Date),c.date=this.last24hours?`${this.dateUtilsService.getStartUtcTimeByDays(0)-864e5},${this.dateUtilsService.getUtCMilliSecByDateObj(o.endDate,!0)}`:`${this.dateUtilsService.getUtCMilliSecByDateObj(o.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(o.endDate,!0)}`);let g="";for(var m in c)null==c[m]||""==c[m]||(""!=g&&(g+="&"),g+=m+"="+encodeURIComponent(c[m]));g+="&historyReport=false&cco_shelv=false";const p={};let u=["severity","byday","region"];if(this.loadRegionChart=!0,c.region){this.loadRegionChart=!1;let t=u.indexOf("region");u.splice(t,1),u.push("location"),this.loadLocationChart=!0}if(c.location){this.loadLocationChart=!1;let t=u.indexOf("location");u.splice(t,1),u.push("system"),this.loadSystemChart=!0}let v=10,y="Hours";o.startDate&&(v=this.chartOptionService.getDateDiff(c)),y=v>5?"Hours":"Minutes";let f={byday:`${this.baseUrl}alarmbyInterval?${g}&interval=${y}`,severity:`${this.baseUrl}alarmbySeverity?${g}`,region:`${this.baseUrl}alarmbyRegion?${g}`,location:`${this.baseUrl}alarmbyLocation?${g}`,system:`${this.baseUrl}alarmbySystem?${g}`};u.forEach(t=>{const e=this.http.get(`${f[t]}`).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t))));p[t]=e});let b,C,x,A=this;this.listObs=(0,d.D)(p).subscribe(t=>{if(setTimeout(()=>{this.loading=!1},2e3),t&&t.severity&&!t.severity["api-error"]){let i=t.severity.alarm?t.severity.alarm:t.severity;this.serverityError=!1;let a=this.chartOptionService.severityChartOptions(i.raised,"Alarms Raised","active",c);this.data.alarm.severity=this.chartOptionService.prepareAlarmCSVDataforSeverity(i,"active",c),this.params.alarm.severity=c,a.plotOptions.series.point.events={dblclick:t=>{t.preventDefault();let i=t.point.severity;this.clickedSeverity=i.toLowerCase(),this.params.alarm.severity.severity=i.toLowerCase(),this.deleteParams.alarm.severity.severity=!0,A.chartOptionService.getUserFilters("alarm","severity").Severity=e.transform(i),this.gotoFullScreen("severity")},contextmenu:t=>{t.preventDefault();let i=t.point.severity;this.clickedSeverity=i.toLowerCase(),this.params.alarm.severity.severity=i.toLowerCase(),this.deleteParams.alarm.severity.severity=!0,A.chartOptionService.getUserFilters("alarm","severity").Severity=e.transform(i),this.gotoFullScreen("severity")},click:t=>{t.preventDefault();let i=t.point.severity;this.clickedSeverity=i.toLowerCase(),this.params.alarm.severity.severity=i.toLowerCase(),this.deleteParams.alarm.severity.severity=!0,A.chartOptionService.getUserFilters("alarm","severity").Severity=e.transform(i),this.gotoFullScreen("severity")}},this.Highcharts.chart("severityContainer",a)}else if(t.severity&&t.severity["api-error"])this.data.alarm.severity=this.chartOptionService.prepareAlarmCSVDataforSeverity({},"active",c),this.params.alarm.severity=c,this.errors.severity=this.commonOrgService.pageErrorHandle(t.severity);else if(void 0!==t.severity){this.data.alarm.severity=this.chartOptionService.prepareAlarmCSVDataforSeverity({},"active",c),this.params.alarm.severity=c;let t=this.chartOptionService.severityChartOptions([],"Alarms Raised","active",c);this.Highcharts.chart("severityContainer",t),this.data.severity=[{type:"Raised",critical:0,major:0,minor:0,warning:0,info:0}]}if(t&&void 0!==t.region&&t.region&&!t.region["api-error"]?(this.loadRegionChart=!0,this.regionError=!1,b=this.chartOptionService.regionChartOptions(t.region,!0,c),this.data.alarm.region=this.chartOptionService.prepareAlarmCSVDataforRegion(t.region,"active",c),this.params.alarm.region=c,b.plotOptions.series.point.events={dblclick:t=>{t.preventDefault()},contextmenu:function(t){var i;t.preventDefault();let a=$(this.series.data).index(this);A.clickedRegion=t.point.series.userOptions.data[a].regionId,A.clickedSeverity=t.point.series.userOptions.data[a].severity,A.params.alarm.region.region=t.point.series.userOptions.data[a].regionId,A.params.alarm.region.severity=null===(i=t.point.series.userOptions.data[a].severity)||void 0===i?void 0:i.toLowerCase(),A.deleteParams.alarm.region.region=!0,o.severity||(A.deleteParams.alarm.region.severity=!0);let n=A.chartOptionService.getUserFilters("alarm","region");n.Region=t.point.category,n.Severity=e.transform(t.point.series.userOptions.data[a].severity),A.gotoFullScreen("region")},click:function(t){t.preventDefault();let e=$(this.series.data).index(this);A.clickedRegion=t.point.series.userOptions.data[e].regionId,A.getChartByLocation()}},b=Object.assign({},b),this.loadLocationChart||this.Highcharts.chart("regionContainer",b)):t.region&&t.region["api-error"]?(this.data.alarm.region=this.chartOptionService.prepareAlarmCSVDataforRegion([],"active",c),this.params.alarm.region=c,this.errors.region=this.commonOrgService.pageErrorHandle(t.region)):void 0!==t.region&&(this.data.alarm.region=this.chartOptionService.prepareAlarmCSVDataforRegion([],"active",c),this.params.alarm.region=c,b=this.chartOptionService.regionChartOptions([],!0,c),this.Highcharts.chart("regionContainer",b)),t&&void 0!==t.location&&t.location&&!t.location["api-error"]?(this.locationError=!1,C=this.chartOptionService.locationChartOptions(t.location,!0,c),this.data.alarm.location=this.chartOptionService.prepareAlarmCSVDataforLocation(t.location,{},"active",c),this.params.alarm.location=c,C.plotOptions.series.point.events={click:function(t){let e=$(this.series.data).index(this);A.clickedLocation=t.point.series.userOptions.data[e].locationId,A.getAlarmBySystem("Alarm")},contextmenu:function(t){var i;t.preventDefault();let a=$(this.series.data).index(this);A.clickedLocation=t.point.series.userOptions.data[a].locationId,A.clickedSeverity=t.point.series.userOptions.data[a].severity,A.params.alarm.location=c,A.params.alarm.location.location=t.point.series.userOptions.data[a].locationId,A.params.alarm.location.severity=null===(i=t.point.series.userOptions.data[a].severity)||void 0===i?void 0:i.toLowerCase(),o.location&&-1!==o.location.indexOf("All")&&(A.deleteParams.alarm.location.location=!0),o.severity||(A.deleteParams.alarm.location.severity=!0);let n=A.chartOptionService.getUserFilters("alarm","location");n.Location=t.point.category,n.Severity=e.transform(t.point.series.userOptions.data[a].severity),A.gotoFullScreen("location")}},C=Object.assign({},C),this.Highcharts.chart("locationContainer",C),"true"!=this.geoMapIssue&&document.getElementById("dynamic-location-chart-div").scrollIntoView({behavior:"smooth"})):t.location&&t.location["api-error"]?(this.data.alarm.location=this.chartOptionService.prepareAlarmCSVDataforLocation([],{},"active",c),this.params.alarm.location=c,this.errors.location=this.commonOrgService.pageErrorHandle(t.location)):void 0!==t.location&&(this.data.alarm.location=this.chartOptionService.prepareAlarmCSVDataforLocation([],{},"active",c),this.params.alarm.location=c,C=this.chartOptionService.locationChartOptions([],!0,c),this.Highcharts.chart("locationContainer",C)),t&&void 0!==t.system&&t.system&&!t.system["api-error"]?(this.systemError=!1,x=this.chartOptionService.systemChartOptions(t.system,!0,c),this.data.alarm.system=this.chartOptionService.prepareAlarmCSVDataforSystem(t.system,{},"active",c),this.params.alarm.system=c,x.plotOptions.series.point.events={click:function(t){t.preventDefault();let e=$(this.series.data).index(this);A.clickedSystem=t.point.series.userOptions.data[e].systemId,A.clickedSeverity=t.point.series.userOptions.data[e].severity,A.gotoFullScreen("system")},contextmenu:function(t){var i;t.preventDefault();let a=$(this.series.data).index(this);A.clickedSystem=t.point.series.userOptions.data[a].systemId,A.clickedSeverity=t.point.series.userOptions.data[a].severity,A.params.alarm.system.system=t.point.series.userOptions.data[a].systemId,A.params.alarm.system.severity=null===(i=t.point.series.userOptions.data[a].severity)||void 0===i?void 0:i.toLowerCase(),o.system&&-1!==o.system.indexOf("All")&&(A.deleteParams.alarm.system.system=!0),o.severity||(A.deleteParams.alarm.system.severity=!0);let n=A.chartOptionService.getUserFilters("alarm","system");n.System=t.point.category,n.Severity=e.transform(t.point.series.userOptions.data[a].severity),n.Status=e.transform(t.point.series.userOptions.stack),A.gotoFullScreen("system")}},this.Highcharts.chart("systemContainerByClick",x),"true"!=this.geoMapIssue&&document.getElementById("dynamic-system-chart-div").scrollIntoView({behavior:"smooth"})):t.system&&t.system["api-error"]?(this.data.alarm.system=this.chartOptionService.prepareAlarmCSVDataforSystem([],{},"active",c),this.params.alarm.system=c,this.errors.system=this.commonOrgService.pageErrorHandle(t.system)):void 0!==t.system&&(this.data.alarm.system=this.chartOptionService.prepareAlarmCSVDataforSystem([],{},"active",c),this.params.alarm.system=c,x=this.chartOptionService.systemChartOptions([],!0,c),this.Highcharts.chart("systemContainerByClick",x)),t&&"object"==typeof t.byday&&t.byday&&!t.byday["api-error"]){let e=this.chartOptionService.getLineChartOptionForActiveReports(t.byday,!0,c,o,this.last24hours);this.data.alarm.byday=this.chartOptionService.prepareAlarmCSVDataforDay(t.byday,"active"),s.setOptions({lang:{rangeSelectorZoom:this.language.duration}}),this.Highcharts.stockChart("event-alarm-line-chart-container",e)}else if(t.byday&&t.byday["api-error"])this.data.alarm.byday=this.chartOptionService.prepareAlarmCSVDataforDay([],"active"),this.errors.byday=this.commonOrgService.pageErrorHandle(t.byday);else if(void 0!==t.byday){this.data.alarm.byday=this.chartOptionService.prepareAlarmCSVDataforDay([],"active");let t=this.chartOptionService.getLineChartOptionForActiveReports([],!0,c,o,this.last24hours);s.setOptions({lang:{rangeSelectorZoom:this.language.duration}}),this.Highcharts.chart("event-alarm-line-chart-container",t)}},t=>{this.pageErrorHandle(t)})}loadBothData(){throw new Error("Method not implemented.")}getChartByLocation(t=""){this.loaders.alarm.location=!0;let e=new a.rS;this.errors.location="";let i,n,s=this.filtersForm.value;i=s.category&&s.category.length&&-1===s.category.indexOf("All")?s.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,n=s.customCategory&&s.customCategory.length&&-1===s.customCategory.indexOf("None")?s.customCategory:void 0,s.eventName&&s.eventName.length&&-1===s.eventName.indexOf("All")||(s.eventName=void 0),s.severity&&"all"===s.severity.toLowerCase()&&(s.severity=void 0);let r={region:this.clickedRegion,location:"All"!==this.locationName?this.locationName:void 0,system:"All"!==this.systemName?this.systemName:void 0,fsan_serialnumber:s.fsan?s.fsan:void 0,severity:s.severity,notificationType:"Alarm",historyReport:!1,category:i,alarmEventName:s.eventName?s.eventName:void 0,customCategory:n,cco_ack:s.cco_ack};s.startDate&&(s.endDate||(s.endDate=new Date),r.date=this.last24hours?`${this.dateUtilsService.getStartUtcTimeByDays(0)-864e5},${this.dateUtilsService.getUtCMilliSecByDateObj(s.endDate,!0)}`:`${this.dateUtilsService.getUtCMilliSecByDateObj(s.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(s.endDate,!0)}`);let l="";for(var c in r)null==r[c]||""==r[c]||(""!=l&&(l+="&"),l+=c+"="+encodeURIComponent(r[c]));l+="&historyReport=false&cco_shelv=false",this.url=`${this.baseUrl}alarmbyLocation?${l}`;let h,d=this;this.http.get(`${o.N.API_BASE_URL}nfa/locations?tenant=0&region=${this.clickedRegion}&includeDeleted=true`).subscribe(i=>{let a={};i&&i.forEach(t=>{a[t.id]={name:t.name,isDeleted:t.isDeleted}}),this.clickedLoctionsObj=a,this.loadLocationChart=!0,this.locationSubscribe=this.http.get(`${this.url}`).subscribe(i=>{this.locationError=!1,h=this.chartOptionService.locationChartOptions(i,!0,r,a),this.data.alarm.location=this.chartOptionService.prepareAlarmCSVDataforLocation(i,a,"active",r),this.params.alarm.location=r,h.plotOptions.series.point.events={click:function(e){let i=$(this.series.data).index(this);d.clickedLocation=e.point.series.userOptions.data[i].locationId,d.params.alarm.location.location=e.point.series.userOptions.data[i].locationId,d.getAlarmBySystem(t)},contextmenu:function(t){var i;t.preventDefault();let a=$(this.series.data).index(this);d.clickedLocation=t.point.series.userOptions.data[a].locationId,d.clickedSeverity=t.point.series.userOptions.data[a].severity,d.params.alarm.location.location=t.point.series.userOptions.data[a].locationId,d.params.alarm.location.severity=null===(i=t.point.series.userOptions.data[a].severity)||void 0===i?void 0:i.toLowerCase(),d.deleteParams.alarm.location.location=!0,d.deleteParams.alarm.location.severity=!0;let n=d.chartOptionService.getUserFilters("alarm","location");n.Location=t.point.category,n.Severity=e.transform(t.point.series.userOptions.data[a].severity),d.gotoFullScreen("location")}},h=Object.assign({},h),this.Highcharts.chart("locationContainer",h),document.getElementById("dynamic-location-chart-div").scrollIntoView({behavior:"smooth"}),this.loaders.alarm.location=!1},t=>{this.data.alarm.location=this.chartOptionService.prepareAlarmCSVDataforLocation([],a,"active",r),this.params.alarm.location=r,this.locationError=!0,this.locationErrorInfo=401==t.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(t),h=null,this.loadLocationChart&&this.Highcharts.chart("locationContainer",h),this.loaders.alarm.location=!1})},t=>{this.loaders.alarm.location=!1,this.errors.location=this.commonOrgService.pageErrorHandle(t)})}getAlarmBySystem(t=""){this.loaders.alarm.system=!0;let e=new a.rS;this.errors.system="";let i,n,s=this.filtersForm.value;i=s.category&&s.category.length&&-1===s.category.indexOf("All")?s.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,n=s.customCategory&&s.customCategory.length&&-1===s.customCategory.indexOf("None")?s.customCategory:void 0,s.eventName&&s.eventName.length&&-1===s.eventName.indexOf("All")||(s.eventName=void 0),this.loadSystemChart=!0,s.severity&&"all"===s.severity.toLowerCase()&&(s.severity=void 0);let r={region:this.clickedRegion?this.clickedRegion:this.regionName,location:this.clickedLocation,alarmEventName:s.eventName?s.eventName:void 0,severity:s.severity,notificationType:"Alarm",historyReport:!1,category:i,fsan_serialnumber:s.fsan?s.fsan:void 0,customCategory:n,cco_ack:s.cco_ack};s.startDate&&(s.endDate||(s.endDate=new Date),r.date=this.last24hours?`${this.dateUtilsService.getStartUtcTimeByDays(0)-864e5},${this.dateUtilsService.getUtCMilliSecByDateObj(s.endDate,!0)}`:`${this.dateUtilsService.getUtCMilliSecByDateObj(s.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(s.endDate,!0)}`);let l="";for(var c in r)null==r[c]||""==r[c]||(""!=l&&(l+="&"),l+=c+"="+encodeURIComponent(r[c]));l+="&historyReport=false&cco_shelv=false",this.url=`${this.baseUrl}alarmbySystem?${l}`;let h,d=this;this.systemsSubject=this.http.get(`${o.N.API_BASE_URL}nfa/systems?tenant=0&region=${this.clickedRegion}&location=${this.clickedLocation}&includeDeleted=true`).subscribe(t=>{let i={};t&&t.forEach(t=>{i[t.uuid]={name:t.name,isDeleted:t.isDeleted}}),this.clickedSystemsObj=i,this.systemSubscribe=this.http.get(`${this.url}`).subscribe(t=>{this.systemError=!1,h=this.chartOptionService.systemChartOptions(t,!0,r,this.clickedLoctionsObj,this.clickedSystemsObj),this.data.alarm.system=this.chartOptionService.prepareAlarmCSVDataforSystem(t,this.clickedSystemsObj,"active",r),this.params.alarm.system=r,h.plotOptions.series.point.events={click:function(t){var i;t.preventDefault();let a=$(this.series.data).index(this);d.clickedSystem=t.point.series.userOptions.data[a].systemId,d.clickedSeverity=t.point.series.userOptions.data[a].severity;let n=d.chartOptionService.getUserFilters("alarm","system");n.System=t.point.category,n.Severity=e.transform(t.point.series.userOptions.data[a].severity),d.params.alarm.system.system=t.point.series.userOptions.data[a].systemId,d.params.alarm.system.severity=null===(i=t.point.series.userOptions.data[a].severity)||void 0===i?void 0:i.toLowerCase(),d.deleteParams.alarm.system.system=!0,d.deleteParams.alarm.system.severity=!0,d.gotoFullScreen("system")},contextmenu:function(t){var i;t.preventDefault();let a=$(this.series.data).index(this);d.clickedSystem=t.point.series.userOptions.data[a].systemId,d.clickedSeverity=t.point.series.userOptions.data[a].severity;let n=d.chartOptionService.getUserFilters("alarm","system");n.System=t.point.category,n.Severity=e.transform(t.point.series.userOptions.data[a].severity),d.params.alarm.system.system=t.point.series.userOptions.data[a].systemId,d.params.alarm.system.severity=null===(i=t.point.series.userOptions.data[a].severity)||void 0===i?void 0:i.toLowerCase(),d.deleteParams.alarm.system.system=!0,d.deleteParams.alarm.system.severity=!0,d.gotoFullScreen("system")}},h=Object.assign({},h),this.Highcharts.chart("systemContainerByClick",h),document.getElementById("dynamic-system-chart-div").scrollIntoView({behavior:"smooth"}),this.loaders.alarm.system=!1},t=>{this.data.alarm.system=this.chartOptionService.prepareAlarmCSVDataforSystem([],this.clickedSystemsObj,"active",r),this.params.alarm.system=r,this.systemError=!0,this.systemErrorInfo=401==t.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(t),h=null,this.Highcharts.chart("systemContainerByClick",h),this.loaders.alarm.system=!1})},t=>{this.errors.system=this.commonOrgService.pageErrorHandle(t),this.loaders.alarm.system=!1})}gotoFullScreen(t){this.fullscreenParams=[t];let e={alarm:{severity:this.language["Select an alarm to view all instances of that alarm for that severity"],region:this.language["Select an alarm to view all instances of that alarm for that region"],location:this.language["Select an alarm to view all instances of that alarm for that location"],system:this.language["Select an alarm to view all instances of that alarm for that system"]}};this.fullScreenChartName={alarmevent:`${this.language["Alarm by Severity"]}`,severity:`${this.language["Alarm by Severity"]}`,region:`${this.language["Alarm by Region"]}`,location:`${this.language["Alarm by Location"]}`,system:`${this.language["Alarm by System"]}`}[t],this.chartTypeInFS=t,this.filtersDataInNS=this.filtersForm.value,this.fullScreenName=t,this.initLoad=!1,this.showTable=!1;let i=this.params.alarm[t];i.notificationType="Alarm";let a="";for(var n in i)null==i[n]||""==i[n]||(""!=a&&(a+="&"),a+=n+"="+encodeURIComponent(i[n]));a+="&historyReport=false&cco_shelv=false";const s={};let o=[],l={alarmevent:`${this.baseUrl}alarmbyAlarmEvent?${a}`,severity:`${this.baseUrl}alarmbySeverity?${a}`,region:`${this.baseUrl}alarmbyRegion?${a}`,location:`${this.baseUrl}alarmbyLocation?${a}`,system:`${this.baseUrl}alarmbySystem?${a}`};o=["alarmevent"],o.forEach(t=>{const e=this.http.get(`${l[t]}`).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t))));s[t]=e}),this.listObs=(0,d.D)(s).subscribe(a=>{this.fullScreen=!0,this.loading=!1;let n=0;if("object"==typeof a.alarmevent&&!a.alarmevent&&(a.alarmevent=[]),a&&"object"==typeof a.alarmevent&&!a.alarmevent["api-error"]){this.count=this.getCountByData(a.alarmevent),this.count||(a.alarmevent=[]),this.fullScrenSubHeading=e.alarm[t.toLowerCase()],this.serverityError=!1,this.errors.alarmevent=!1;let i=this.chartOptionService.getPieChartOptionsForFS(a.alarmevent,"raised","alarm",t);i.plotOptions.series.point.events={click:t=>{this.searchTerm!=t.point.name&&(this.searchTerm=t.point.name,this.initLoad=!1,this.showTable=!1,this.showNewPagination?this.getListSub(t.point.name):this.search(t.point.name))}},this.Highcharts.chart("fullChartContainer",i),this.showTable=!0,this.initLoad?this.redraw():this.getList(t)}else a.alarmevent&&(this.errors.alarmevent=this.commonOrgService.pageErrorHandle(a.alarmevent));if(a&&a.severity){this.fullScreenChartName=this.language["Alarm by Severity"];let t=a.severity.alarm?a.severity.alarm:a.severity;this.serverityError=!1;let e=this.chartOptionService.severityChartOptions(t.raised,"Alarms Raised","active");this.Highcharts.chart("fullChartContainer",e),this.count=this.getCountByDataObj(t),this.showTable=!0,this.initLoad?this.redraw():this.getList("severity")}if(a&&void 0!==a.region){this.fullScreenChartName=this.language["Alarm by Region"],this.loadRegionChart=!0,this.regionChartData=a.region,this.regionError=!1;let t=this.chartOptionService.regionChartOptions(this.regionChartData,!0,i);n=this.getCountByData(a.region),this.count=n,this.showTable=!0,this.initLoad?this.redraw():this.getList("region"),this.Highcharts.chart("fullChartContainer",t)}if(a&&void 0!==a.location){this.fullScreenChartName=this.language["Alarm by Location"],this.locationChartData=a.location,n=this.getCountByData(a.location),this.count=n,this.showTable=!0,this.initLoad?this.redraw():this.getList("location"),this.locationError=!1;let t=this.chartOptionService.locationChartOptions(this.locationChartData,!0,i);this.Highcharts.chart("fullChartContainer",t)}if(a&&void 0!==a.system){this.fullScreenChartName=this.language["Alarm by System"],this.systemChartData=a.system,this.systemError=!1;let t=this.chartOptionService.systemChartOptions(this.systemChartData,!0,i);n=this.getCountByData(a.system),this.count=n,this.showTable=!0,this.initLoad?this.redraw():this.getList("system"),this.Highcharts.chart("fullChartContainer",t)}this.fullScreen=!0,this.loading=!1},t=>{this.pageErrorHandle(t)})}redraw(){this.searchTerm?this.search(this.searchTerm):this.dtElement.dtInstance.then(t=>{t.draw()})}getList(t,e){if(this.showNewPagination)return void this.getListSub();if(!this.fullScreen)return;let i=this.filtersForm.value,a={};if(e){let e,n;e=i.category&&i.category.length&&-1===i.category.indexOf("All")?i.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,n=i.customCategory&&i.customCategory.length&&-1===i.customCategory.indexOf("None")?i.customCategory:void 0,i.eventName&&i.eventName.length&&-1===i.eventName.indexOf("All")||(i.eventName=void 0),"All"===this.regionName&&(this.regionName=void 0),"All"===this.locationName&&(this.locationName=void 0),"All"===this.systemName&&(this.systemName=void 0),i.severity&&"all"===i.severity.toLowerCase()&&(i.severity=void 0),a={region:this.regionName,location:this.locationName,system:this.systemName,fsan_serialnumber:i.fsan?i.fsan:"",severity:i.severity||"MAJOR,MINOR,CRITICAL,INFO,WARNING",historyReport:!1,category:e,notificationType:"Alarm",alarmEventName:i.eventName?i.eventName:void 0,customCategory:n,cco_ack:i.cco_ack},i.startDate&&(i.endDate||(i.endDate=new Date),a.date=this.last24hours?`${this.dateUtilsService.getStartUtcTimeByDays(0)-864e5},${this.dateUtilsService.getUtCMilliSecByDateObj(i.endDate,!0)}`:`${this.dateUtilsService.getUtCMilliSecByDateObj(i.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(i.endDate,!0)}`),"region"===t&&(delete a.region,delete a.location,delete a.system),"location"===t&&(delete a.location,delete a.system)}else a=this.params.alarm[t];let n="";for(var s in a)null==a[s]||""==a[s]||(""!=n&&(n+="&"),n+=s+"="+encodeURIComponent(a[s]));n+="&historyReport=false&cco_shelv=false",this.list=[];const o=this;this.dtOptions={pagingType:"full_numbers",pageLength:10,serverSide:!0,processing:!1,lengthChange:!1,ordering:!1,dom:"tipr",ajax:(t,e)=>{let i=`${this.baseUrl}notifications?from=${t.start}&size=${t.length}&${n}`;o.searchTerm&&(i+=`&searchField=alarmEventName&searchValue=${o.searchTerm}`),t.search.value&&(i=`${this.baseUrl}notifications?from=${t.start}&size=${t.length}&${n}&alarmEventName=${t.search.value}`),o.http.get(i).subscribe(i=>{let a=[];i&&i.alarms&&i.alarms.forEach(t=>{var e,i;t&&t.subject&&(t.subject.deviceName||(t.subject.deviceName=this.systemsObj[t.subject.deviceId]),t.subject.deviceName=null===(e=t.subject.deviceName)||void 0===e?void 0:e.replace("device=",""),t.subject.deviceName=null===(i=t.subject.deviceName)||void 0===i?void 0:i.replace("DEVICE=",""),t.subject.resourceForUI=this.issueService.generateResourceForUI(t,"EXA"===t.type)),a.push(t)}),this.list=i.alarms,this.initLoad=!0,this.loading=!1,e({recordsTotal:i.totalCount?i.totalCount:0,recordsFiltered:t.search.value&&i?i.length:i.totalCount?i.totalCount:0,data:[]})},t=>{this.loading=!1})},drawCallback:t=>{t._iRecordsDisplay<=t._iDisplayLength&&$(t.nTableWrapper).find("#users-table_last").addClass("disabled")}},this.tableLanguageOptions()}getCountByData(t){let e=0;if(t&&t.length)return t.forEach(t=>{(t.alarm&&t.alarm.raised?Object.keys(t.alarm.raised):t.raised?Object.keys(t.raised):[]).forEach(i=>{e+=t.alarm&&null!=typeof t.alarm.raised[i]?t.alarm.raised[i]:t.raised[i]})}),e}applyFiltersInFullScreen(){this.setSearchQuery(""),this.searchTerm="",this.alarmsCount(),this.clickedRegion="",this.clickedLocation="",this.clickedSystem="",this.clickedSeverity="";let t,e,i=this.filtersForm.value;this.applyFiltersInFS=!0,t=i.category&&i.category.length&&-1===i.category.indexOf("All")?i.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,e=i.customCategory&&i.customCategory.length&&-1===i.customCategory.indexOf("None")?i.customCategory:void 0,i.eventName&&i.eventName.length&&-1===i.eventName.indexOf("All")||(i.eventName=void 0),this.loading=!0,this.applyDisabled=!0,this.initLoad=!1,this.showTable=!1;let a="";a=this.systemName&&this.systemName.length&&-1===this.systemName.indexOf("All")?this.systemName.filter(function(t){return t&&t.length&&"All"!==t}):void 0,"All"===this.regionName&&(this.regionName=void 0),"All"===this.locationName&&(this.locationName=void 0),"All"===this.systemName&&(this.systemName=void 0),i.severity&&"all"===i.severity.toLowerCase()&&(i.severity=void 0);let n={region:this.regionName,location:this.locationName,system:this.systemName,fsan_serialnumber:i.fsan?i.fsan:void 0,severity:this.clickedSeverity.toLowerCase()||i.severity,notificationType:"Alarm",historyReport:!1,category:t,alarmEventName:i.eventName?i.eventName:void 0,customCategory:e,cco_ack:i.cco_ack};i.startDate&&(i.endDate||(i.endDate=new Date),n.date=`${this.dateUtilsService.getUtCMilliSecByDateObj(i.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(i.endDate,!0)}`);let s="";for(var o in n)null==n[o]||""==n[o]||(""!=s&&(s+="&"),s+=o+"="+encodeURIComponent(n[o]));s+="&historyReport=false&cco_shelv=false";const l={};let c=[this.fullScreenName];if(this.loadRegionChart=!0,n.region){this.loadRegionChart=!1;let t=c.indexOf("severity");c.splice(t,1),t=c.indexOf("region"),c.splice(t,1),c.push("location"),this.loadLocationChart=!0}if(n.location){this.loadLocationChart=!1;let t=c.indexOf("location");c.splice(t,1),c.push("system"),this.loadSystemChart=!0}c=["alarmevent"];let g={alarmevent:`${this.baseUrl}alarmbyAlarmEvent?${s}`,severity:`${this.baseUrl}alarmbySeverity?${s}`,region:`${this.baseUrl}alarmbyRegion?${s}`,location:`${this.baseUrl}alarmbyLocation?${s}`,system:`${this.baseUrl}alarmbySystem?${s}`};c.forEach(t=>{const e=this.http.get(`${g[t]}`).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t))));l[t]=e}),this.closeErrors(),this.listObs=(0,d.D)(l).subscribe(t=>{this.loading=!1;let e=0;if("object"==typeof t.alarmevent&&!t.alarmevent&&(t.alarmevent=[]),t&&"object"==typeof t.alarmevent&&!t.alarmevent["api-error"]){this.count=this.getCountByData(t.alarmevent),this.count||(t.alarmevent=[]),this.fullScreenChartName=this.language["Alarm by Severity"],this.serverityError=!1,this.chartOptionService.getSubTitle(n,{},{},"alarm","severity");let e=this.chartOptionService.getPieChartOptionsForFS(t.alarmevent,"raised","alarm","severity");e.plotOptions.series.point.events={click:t=>{this.searchTerm!=t.point.name&&(this.searchTerm=t.point.name,this.showNewPagination?this.getListSub(t.point.name):this.search(t.point.name))}},this.Highcharts.chart("fullChartContainer",e),this.showTable=!0,this.initLoad?this.redraw():this.getList("severity",!0)}else t.alarmevent&&(this.errors.alarmevent=this.commonOrgService.pageErrorHandle(t.alarmevent));if(t&&t.severity){this.fullScreenChartName=this.language["Alarm by Severity"];let i=t.severity.alarm?t.severity.alarm:t.severity;this.serverityError=!1;let a=this.chartOptionService.severityChartOptions(i.raised,"Alarms Raised","active");this.Highcharts.chart("fullChartContainer",a),e=this.getCountByDataObj(i),this.count=e,this.initLoad?this.redraw():this.getList("severity",!0),this.showTable=!0}if(t&&void 0!==t.region){this.fullScreenChartName=this.language["Alarm by Region"],this.loadRegionChart=!0,this.regionChartData=t.region,this.regionError=!1;let i=this.chartOptionService.regionChartOptions(this.regionChartData,!0,n);e=this.getCountByData(t.region),this.count=e,this.initLoad?this.redraw():this.getList("region",!0),this.showTable=!0,this.Highcharts.chart("fullChartContainer",i)}if(t&&void 0!==t.location){this.fullScreenChartName=this.language["Alarm by Location"],this.locationChartData=t.location,e=this.getCountByData(t.location),this.count=e,this.initLoad?this.redraw():this.getList("location",!0),this.showTable=!0,this.locationError=!1;let i=this.chartOptionService.locationChartOptions(this.locationChartData,!0,n);this.Highcharts.chart("fullChartContainer",i)}if(t&&void 0!==t.system){this.fullScreenChartName=this.language["Alarm by System"],this.systemChartData=t.system,this.systemError=!1;let i=this.chartOptionService.systemChartOptions(this.systemChartData,!0,n);e=this.getCountByData(t.system),this.count=e,this.initLoad?this.redraw():this.getList("system",!0),this.showTable=!0,this.Highcharts.chart("fullChartContainer",i)}this.fullScreen=!0,this.loading=!1},t=>{this.pageErrorHandle(t)})}getCountByDataObj(t){let e=0;if(t&&t.alarm&&(t=t.alarm),t&&Object.keys(t).length)return Object.keys(t).forEach(i=>{Object.keys(t[i]).forEach(a=>{e+=t[i][a]})}),e}doSearch(){this.listSub$=this.searchText$.pipe((0,b.b)(500),(0,C.x)(),(0,x.w)(t=>(this.fullScreen&&(this.initLoad=!1,this.showTable=!1),this.ssoService.setRefreshTokenNew(),new g.y(e=>e.next(t))))).subscribe(t=>{setTimeout(()=>{this.showTable=!0,this.count=0,this.fullScreen&&this.getList(this.chartTypeInFS,this.applyFiltersInFS)},100)},t=>{this.loading=!1})}search(t){t||this.resetALarmEventChart(),this.searchText$.next(t)}viewDetails(t,e){this.hideSource=!1,this.index=e,this.fullData=t,this.showAckShelveBtn=!0}close(){this.modalRef.close()}convertToDateTime(t){return t?(t=Number(t),new a.uU("en-US").transform(new Date(t),"short")):void 0}changeSeverity(){this.clickedSeverity=""}changeCategory(){}clearSearchInp(){this.setSearchQuery(""),this.searchTerm="",this.search("")}getQueryForCount(t,e,i){let a,n,s=this.filtersForm.value;a=s.category&&s.category.length&&-1===s.category.indexOf("All")?s.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,n=s.customCategory&&s.customCategory.length&&-1===s.customCategory.indexOf("None")?s.customCategory:void 0,s.eventName&&s.eventName.length&&-1===s.eventName.indexOf("All")||(s.eventName=void 0),"All"===this.regionName&&(this.regionName=void 0),"All"===this.locationName&&(this.locationName=void 0),"All"===this.systemName&&(this.systemName=void 0),"All"===s.severity&&(s.severity=void 0);let o={};o=e?{region:this.regionName,location:this.locationName,system:this.systemName,fsan_serialnumber:s.fsan?s.fsan:"",severity:s.severity||"MAJOR,MINOR,CRITICAL,INFO,WARNING",date:`${this.dateUtilsService.getUtCMilliSecByDateObj(s.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(s.endDate,!0)}`,historyReport:!1,category:a,notificationType:"Alarm",alarmEventName:i||void 0,customCategory:n,cco_ack:s.cco_ack}:{region:this.clickedRegion||this.regionName,location:this.clickedLocation||this.locationName,system:this.clickedSystem||this.systemName,fsan_serialnumber:s.fsan?s.fsan:"",severity:this.clickedSeverity.toLowerCase()||s.severity||"MAJOR,MINOR,CRITICAL,INFO,WARNING",historyReport:!1,category:a,notificationType:"Alarm",alarmEventName:i||void 0,customCategory:n,cco_ack:s.cco_ack},s.startDate&&(s.endDate||(s.endDate=new Date),o.date=`${this.dateUtilsService.getUtCMilliSecByDateObj(s.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(s.endDate,!0)}`),"region"===t&&(delete o.region,delete o.location,delete o.system),"location"===t&&(delete o.location,delete o.system);let r="";for(var l in o)null==o[l]||""==o[l]||(""!=r&&(r+="&"),r+=l+"="+encodeURIComponent(o[l]));return r+="&historyReport=false",r}getCategories(){let t=this.filtersForm.value,e={historyReport:!1};t.startDate&&(t.endDate||(t.endDate=new Date),e.date=`${this.dateUtilsService.getUtCMilliSecByDateObj(t.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(t.endDate,!0)}`);let i="";for(var a in e)null==e[a]||""==e[a]||(""!=i&&(i+="&"),i+=a+"="+encodeURIComponent(e[a]));""!=i&&(i+="&"),i+="historyReport=false",this.http.get(`${this.baseUrl}category?${i}`).subscribe(t=>{let e=[{id:"All",name:"All"}],i=t.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())});i&&i.forEach(t=>{!t||e.push({id:t,name:t})}),this.categories=e})}getCustomCategories(){this.http.get(`${this.baseUrl}customCategory`).subscribe(t=>{let e=[{id:"None",name:"None"}],i=[];t.forEach(t=>{i.push(t.categoryName)});let a=i.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())});a&&a.forEach(t=>{!t||e.push({id:t,name:t})}),this.customCategories=e})}getAlarmNames(){this.http.get(`${this.baseUrl}alarmEvent?historyalarm=false&notificationType=Alarm`).subscribe(t=>{let e=[{id:"All",name:"All"}],i=t.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())});i&&i.forEach(t=>{!t||"multiple-onts-down"!==t&&e.push({id:t,name:t})}),this.alarmNames=e,this.last24hours&&this.filtersForm.get("eventName").setValue(["loss-of-pon"])})}changeStartDate(){this.FromDate=this.filtersForm.get("startDate").value}validateRegion(t){let e=this.filtersForm.get("region").value;if("All"===t)e=["All"];else{let t=e.indexOf("All");t>-1&&e.splice(t,1)}this.filtersForm.get("region").setValue(e),this.loadLocationValue("")}validateLocation(t){let e=this.filtersForm.get("location").value;if("All"===t)e=["All"];else{let t=e.indexOf("All");t>-1&&e.splice(t,1)}this.filtersForm.get("location").setValue(e),this.loadSystemValue("")}validateSystem(t){let e=this.filtersForm.get("system").value;if(e.length)if("All"===t)e=["All"];else{let t=e.indexOf("All");t>-1&&e.splice(t,1)}else e=["All"];this.filtersForm.get("system").setValue(e)}validateCategory(t){let e=this.filtersForm.get("category").value;if(e.length)if("All"===t.id)e=["All"];else{let t=e.indexOf("All");t>-1&&e.splice(t,1),this.filtersForm.get("customCategory").setValue("None"),this.filtersForm.get("fsan").enable(),this.filtersForm.get("eventName").enable()}else e=["All"];this.filtersForm.get("category").setValue(e)}validateCustomCategory(t){let e=this.filtersForm.get("customCategory").value;if("None"===t.id)e=["None"];else{let t=e.indexOf("None");t>-1&&e.splice(t,1)}this.filtersForm.get("customCategory").setValue(e)}changeCustomCategory(t){"None"!==t.id&&(this.filtersForm.get("category").setValue(["All"]),this.filtersForm.get("fsan").setValue(""),this.filtersForm.get("eventName").setValue(["All"]))}validateAlarmEvent(t){let e=this.filtersForm.get("eventName").value;if(e.length)if("All"===t.id)e=["All"];else{let t=e.indexOf("All");t>-1&&e.splice(t,1)}else e=["All"];this.filtersForm.get("eventName").setValue(e)}validateAlarmName(t){var e,i,a;(-1===(null===(e=this.filtersForm.get("eventName").value)||void 0===e?void 0:e.indexOf("All"))||-1!==(null===(i=this.filtersForm.get("eventName").value)||void 0===i?void 0:i.indexOf("All"))&&(null===(a=this.filtersForm.get("eventName").value)||void 0===a?void 0:a.length)>1)&&this.filtersForm.get("customCategory").setValue("None")}validateFSAN(){this.filtersForm.get("customCategory").setValue("None"),(0==this.filtersForm.get("fsan").value.length||12==this.filtersForm.get("fsan").value.length)&&(this.fsanvalid=!1)}fsanvalidated(t){let e=this.filtersForm.get("fsan").value.length;return 0!=e&&e<12?(this.fsanvalid=!0,!0):(this.fsanvalid=!1,!1)}changeTableStatusLanguage(t){const e=new Intl.NumberFormat;this.tableCounts={searchText:t.oPreviousSearch.sSearch.trim(),total:t._iRecordsTotal,displayCount:t._iDisplayLength,displayed:t._iRecordsDisplay,start:t._iDisplayStart};const i="fr"==sessionStorage.getItem("defaultLanguage"),a=t.oPreviousSearch.sSearch.trim()?i?`(filtr\xe9es \xe0 partir des ${e.format(t._iRecordsTotal)} entr\xe9es totales)`:`(filtered from ${e.format(t._iRecordsTotal)} total entries)`:"",n=0==t._iRecordsDisplay?-1:t._iDisplayStart,s=t._iDisplayStart+t._iDisplayLength>t._iRecordsDisplay?t._iRecordsDisplay:t._iDisplayStart+t._iDisplayLength;$('div [role="status"]').text(i?`Affichage de ${e.format(n+1)} \xe0 ${e.format(s)} des ${e.format(t._iRecordsDisplay)} entr\xe9es ${a}`:`Showing ${e.format(n+1)} to ${e.format(s)} of ${e.format(t._iRecordsDisplay)} entries ${a}`),$(".first").text(i?"Le d\xe9but":"First"),$(".previous").text(i?"Pr\xe9c\xe9dent":"Previous"),$(".next").text(i?"Suivant":"Next"),$(".last").text(i?"Derni\xe8re":"Last")}closeNotes(){this.modalRef&&this.modalRef.close()}openNotesModal(t,e,i,a){this.btnDisabled=!0,this.isNotesModalOpen=!0,this.index=a,this.noteError=!1,this.showEdit=i,this.alarmId=t,this.notes.setValue(e||""),this.modalRef=this.dialogService.open(this.addNotesModal,{size:"lg",centered:!1,windowClass:"custom-modal"})}openShowNotesModal(t){this.btnDisabled=!0,this.isNotesModalOpen=!0,this.notes.setValue(t||""),this.modalRef=this.dialogService.open(this.showNotesModal,{size:"lg",centered:!1,windowClass:"custom-modal"})}addNotes(){this.btnDisabled=!0,this.noteSaveLoader=!0,this.url=`${this.baseUrl}notes/${this.alarmId}?notesDescription=${encodeURIComponent(this.notes.value)}&historyReport=false`,this.btnDisabled=!0,this.http.put(this.url,"").subscribe(t=>{for(let e=0;e<=this.list.length;e++)e==this.index&&(this.list[e].subject.notes=this.notes.value);this.closeNotes(),this.btnDisabled=!1,this.noteSaveLoader=!1},t=>{this.noteError=!0,this.btnDisabled=!1,this.noteSaveLoader=!1,this.noteErrorInfo=401==t.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(t)})}deleteConfirmModal(t,e){this.modalRef&&this.close(),this.btnDisabled=!1,this.deleteId=t,this.deleteIndex=e,this.modalRef=this.dialogService.open(this.deleteModal)}deleteNotes(){this.noteSaveLoader=!0,this.deleteError=!1,this.deleteErrorInfo="",this.btnDisabled=!0,this.url=`${this.baseUrl}notes/${this.deleteId}`,this.http.delete(this.url).subscribe(t=>{for(let e=0;e<=this.list.length;e++)e==this.deleteIndex&&this.list[e].subject.notes&&delete this.list[e].subject.notes;this.btnDisabled=!1,this.noteSaveLoader=!1,this.close()},t=>{this.btnDisabled=!1,this.deleteError=!0,this.noteSaveLoader=!1,this.deleteErrorInfo=401==t.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(t)})}handleError(t){return(0,m._)(t)}download(t,e){let i={alarm:"Alarms",event:"Events",region:"Region",location:"Location",system:"System",severity:"Severity",byday:"Day"},a=this.data[e][t],n=`${this.language[`${i[e]}`]} By ${this.language[`${i[t]}`]} \r\n${this.chartOptionService.getSubTitleStr(e,t)} \r\n`;for(let s of a)console.log(s);this.exportExcelService.downLoadCSV(`${i[e]}-By-${i[t]}`,a,n)}openSubscriberInfo(t,e){this.index=t,this.alarmId=e,this.subscriberInfosub=this.issueService.getAlarmSubscriberInfo(this.alarmId).subscribe(t=>{this.Infosub=null!==(null==t?void 0:t.subcribers),this.subscriberInfo=(null==t?void 0:t.subcribers)?null==t?void 0:t.subcribers:[],this.modalRef=this.dialogService.open(this.addSubscriberInfoModel,{size:"lg",centered:!1,windowClass:"custom-lg-modal"})},t=>{this.pageErrorHandle(t)})}removespecialcharacter(t){var e;return(e=t.keyCode)>47&&e<58||e>64&&e<91||e>96&&e<123}deleteFullScreenParams(){let t=new a.rS;Object.keys(this.deleteParams).forEach(e=>{Object.keys(this.deleteParams[e]).forEach(i=>{if(Object.keys(this.deleteParams[e][i]).length){let a=Object.keys(this.deleteParams[e][i]),n=this.chartOptionService.getUserFilters(e,i);a.forEach(a=>{void 0!==this.params[e][i][a]&&this.params[e][i][a]&&(delete this.params[e][i][a],this.deleteParams[e][i][a]=!1,delete n[t.transform(a)])}),this.chartOptionService.setUserFilters(e,i,n)}})})}tableLanguageOptions(){"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.translateService.de_DE:"fr"==this.language.fileLanguage?this.dtOptions.language=this.translateService.fr:"es"==this.language.fileLanguage?this.dtOptions.language=this.translateService.es:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}resetALarmEventChart(){this.applyFiltersInFS?this.applyFiltersInFullScreen():this.gotoFullScreen(this.fullscreenParams[0])}onAckShelve(t){var e,i;void 0!==(null==t?void 0:t.ack)?(null===(e=this.list[this.index])||void 0===e?void 0:e.subject)&&(this.list[this.index].subject.ccoAck=null==t?void 0:t.ack):void 0!==(null==t?void 0:t.shelve)&&(null===(i=this.list[this.index])||void 0===i?void 0:i.subject)&&(this.list[this.index].subject.ccoShelved=null==t?void 0:t.shelve)}onRefreshAckShelve(t){this.showAckShelveBtn=!1}gotoSubscriberImpactedPage(t){t&&(t.redirectUrl="/cco/issues/device/active-reports"),localStorage.setItem("calix.impactedSubsFSANData",JSON.stringify(t)),this.router.navigate(["/cco/system/subscribers-impact"])}getListNew(t,e,i,a){if(!this.fullScreen)return;let n=this.filtersForm.value,s={};if(e){let e,i;e=n.category&&n.category.length&&-1===n.category.indexOf("All")?n.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,i=n.customCategory&&n.customCategory.length&&-1===n.customCategory.indexOf("None")?n.customCategory:void 0,n.eventName&&n.eventName.length&&-1===n.eventName.indexOf("All")||(n.eventName=void 0),"All"===this.regionName&&(this.regionName=void 0),"All"===this.locationName&&(this.locationName=void 0),"All"===this.systemName&&(this.systemName=void 0),n.severity&&"all"===n.severity.toLowerCase()&&(n.severity=void 0),s={region:this.regionName,location:this.locationName,system:this.systemName,fsan_serialnumber:n.fsan?n.fsan:"",severity:n.severity||"MAJOR,MINOR,CRITICAL,INFO,WARNING",historyReport:!1,category:e,notificationType:"Alarm",alarmEventName:n.eventName?n.eventName:void 0,customCategory:i,cco_ack:n.cco_ack},n.startDate&&(n.endDate||(n.endDate=new Date),s.date=this.last24hours?`${this.dateUtilsService.getStartUtcTimeByDays(0)-864e5},${this.dateUtilsService.getUtCMilliSecByDateObj(n.endDate,!0)}`:`${this.dateUtilsService.getUtCMilliSecByDateObj(n.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(n.endDate,!0)}`),"region"===t&&(delete s.region,delete s.location,delete s.system),"location"===t&&(delete s.location,delete s.system)}else s=this.params.alarm[t];let o="";for(var r in s)null==s[r]||""==s[r]||(""!=o&&(o+="&"),o+=r+"="+encodeURIComponent(s[r]));a&&(o+=`&${a}`),o+="&historyReport=false&cco_shelv=false",this.list=[];let l=`${this.baseUrl}alarmListByPagination?pageSize=${this.entry.value}&${o}`;return i&&(l+=`&searchField=alarmEventName&searchValue=${i}`,this.setSearchQuery(`searchField=alarmEventName&searchValue=${i}`)),this.http.get(l)}doSearchNew(){this.searchSub=(0,p.R)(document.getElementById("alarms-list-search"),"keyup").pipe((0,b.b)(500),(0,C.x)(),(0,x.w)(t=>(this.paginateLoading=!0,this.getListNew(this.chartTypeInFS,this.applyFiltersInFS,t.target.value).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t))))))).subscribe(t=>{this.list=[],this.paginateLoading=!1,!t["api-error"]&&this.processListResp(t)})}getListSub(t,e){this.paginateLoading=!0,this.previousFlag=!1,this.nextFlag=!1,this.getListNew(this.chartTypeInFS,this.applyFiltersInFS,t,e).subscribe(t=>{this.processListResp(t)},t=>{},()=>{this.paginateLoading=!1}),this.tableLanguageOptions()}processListResp(t){this.previousFlag=null==t?void 0:t.previousFlag,this.nextFlag=null==t?void 0:t.nextFlag,t&&t.alarms&&t.alarms.forEach(t=>{var e,i;t.subject.deviceName||(t.subject.deviceName=this.systemsObj[t.subject.deviceId]),t.subject.deviceName=null===(e=t.subject.deviceName)||void 0===e?void 0:e.replace("device=",""),t.subject.deviceName=null===(i=t.subject.deviceName)||void 0===i?void 0:i.replace("DEVICE=",""),t.subject.resourceForUI=this.issueService.generateResourceForUI(t,"EXA"===t.type)}),this.list=t.alarms,this.loading=!1}gotoPrevious(){var t,e;if(!this.previousFlag)return;let i=`from=${null===(e=null===(t=this.list[0])||void 0===t?void 0:t.sort)||void 0===e?void 0:e.join()}&paginate=PREVIOUS`;this.searchQuery&&(i+=`&${this.searchQuery}`),this.getListSub("",i)}gotoNext(){var t,e,i;if(!this.nextFlag)return;let a=null===(t=this.list)||void 0===t?void 0:t.length,n=`from=${null===(i=null===(e=this.list[a-1])||void 0===e?void 0:e.sort)||void 0===i?void 0:i.join()}&paginate=NEXT`;this.searchQuery&&(n+=`&${this.searchQuery}`),this.getListSub("",n)}setPaginateQuery(t){this.paginateQuery=t}listenChangeEntries(){this.entry.valueChanges.subscribe(t=>{!this.fullScreen||this.getListSub("",this.searchQuery)})}setSearchQuery(t){this.searchQuery=t}setAppliedFilters(){var t,e;(-1!==(null===(t=this.router.url)||void 0===t?void 0:t.indexOf("/cco/issues/connectivity/active-reports"))||-1!==(null===(e=this.router.url)||void 0===e?void 0:e.indexOf("/cco/issues/health/active-reports")))&&(this.appliedFilters.fsan=!1,this.appliedFilters.customCategory=!1,this.appliedFilters.eventName=!1)}}return t.\u0275fac=function(e){return new(e||t)(A.Y36(Z.eN),A.Y36(O.s),A.Y36(S.v),A.Y36(T.O),A.Y36(_.v),A.Y36(w.t),A.Y36(q.FF),A.Y36(f.qu),A.Y36(M.t6),A.Y36(N.s),A.Y36(n.gz),A.Y36(k.Dx),A.Y36(n.F0))},t.\u0275cmp=A.Xpm({type:t,selectors:[["app-activeissue"]],viewQuery:function(t,e){if(1&t&&(A.Gf(U,7),A.Gf(u.G,5),A.Gf(F,7),A.Gf(L,7),A.Gf(j,7),A.Gf(J,7),A.Gf(R,7)),2&t){let t;A.iGM(t=A.CRH())&&(e.tableModal=t.first),A.iGM(t=A.CRH())&&(e.dtElement=t.first),A.iGM(t=A.CRH())&&(e.showInfoModal=t.first),A.iGM(t=A.CRH())&&(e.addNotesModal=t.first),A.iGM(t=A.CRH())&&(e.showNotesModal=t.first),A.iGM(t=A.CRH())&&(e.deleteModal=t.first),A.iGM(t=A.CRH())&&(e.addSubscriberInfoModel=t.first)}},decls:57,vars:30,consts:[["class","mb-2",4,"ngIf"],["role","alert","class","alert alert-warning",4,"ngIf"],["class","mb-2",3,"ngClass",4,"ngIf"],[1,"mb-2",3,"ngClass"],[1,"container"],[1,"row","my-3"],[1,"col-md-12","px-0"],[1,"issue-overview-wrapper"],[1,"issue-overview-item"],[1,"d-flex","justify-content-between"],[1,"mwc-header","flex","w-100","border-bottom"],[1,"cco-secondary-title"],[1,"mwc-btns","flex","align-items-center"],["id","fullScreenExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand-inv",3,"title","click"],[1,"heading-subtitle"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"img","mb-2"],["class","mt-5",4,"ngIf"],[1,"mwc-content",3,"hidden"],[1,"col-md-12",3,"ngClass"],["id","fullChartContainer",1,"chart-box","h-450px"],[1,"col-md-8","offset-md-4","pr-0"],[1,"text-right","flat-right"],[1,"row"],[1,"col-md-5"],[1,"d-inline-flex","align-items-center"],[1,"pr-1"],[1,"min-w80px","w-40"],["bindValue","id","bindLabel","name","id","show-entries",3,"formControl","searchable","multiple","items","clearOnBackspace"],[1,"pl-1","text-lowercase"],[1,"col-md-7"],[1,"ccl-form","active-reports-list-search"],["type","text","id","alarms-list-search",1,"ccl-input",3,"ngModel","placeholder","ngModelChange","keyup","search"],[1,"search-close","fas","fa-times",3,"click"],["class","row",4,"ngIf"],["class","col-md-12"],["showInfoModal",""],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true","data-backdrop","static","data-keyboard","false",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content","p-0"],[3,"fullData","showAckShelveBtn","hasWriteAccess","hideSource","connected","showNotes","clickedAlarmType","alarmType","ackShelveData","refreshAckShelveBtn"],["class","col-md-12 custom-modal"],["addNotesModal",""],["showNotesModal",""],["deleteModal",""],["addSubscriberInfoModel",""],[1,"mb-2"],[1,"container","p-0"],[3,"formGroup"],[1,"filter-elemnts","mt-3"],["id","issue-active-reports",1,"row"],[1,"col-md-12","pl-0","pr-0"],[1,"current-issue-menu-container","flex-wrap"],["class","current-issue-menu-item col-12 col-sm-12 col-md-3 col-lg-3 mpl-1 m-w-170px",4,"ngIf"],["class","current-issue-menu-item col-12 col-sm-12 col-md-3 col-lg-3 m-w-170px",4,"ngIf"],["class","current-issue-menu-item col-12 col-sm-12 col-md-3 col-lg-3",4,"ngIf"],[1,"row","mt-3"],[1,"col-md-12","text-left"],[1,"d-inline-flex"],["type","button",1,"btn-default","primary",3,"click"],["type","button",1,"btn-default","btn-dft","ml-2",3,"click"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-3","col-lg-3","mpl-1","m-w-170px"],["for","Name",1,"col-form-label","select-font"],["id","current-issues-interval",1,"w-100"],[1,"ccl-form"],["id","start_date","appendTo","body","formControlName","startDate","dateFormat","mm-dd-yy",3,"inputStyle","autoZIndex","placeholder","showIcon","maxDate","readonlyInput","showButtonBar","onSelect"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-3","col-lg-3","m-w-170px"],["id","end_date","appendTo","body","formControlName","endDate","dateFormat","mm-dd-yy",3,"inputStyle","autoZIndex","placeholder","showIcon","maxDate","minDate","readonlyInput","showButtonBar","onSelect"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-3","col-lg-3"],["formControlName","region","bindValue","id","bindLabel","name",1,"selectboxwidth",3,"multiple","items","clearable","searchable","placeholder","add","remove"],["formControlName","location","bindValue","id","bindLabel","name",1,"selectboxwidth",3,"multiple","items","placeholder","clearable","searchable","add","remove"],["formControlName","system","bindValue","uuid","bindLabel","name",1,"selectboxwidth",3,"multiple","items","placeholder","clearable","searchable","change","add","remove"],["id","current-issues-interval",1,"custom-selectbox","w-100"],["formControlName","eventName","id","eventName","bindValue","id","bindLabel","name",3,"searchable","multiple","placeholder","items","add","remove","change"],["id","current-issues-interval",1,"w-100","ccl-form"],["type","text","id","FSAN","name","FSAN","maxlength","12","formControlName","fsan","title","",1,"form-control",3,"placeholder","keypress","keyup"],["class","vald-tag",4,"ngIf"],[1,"vald-tag"],["formControlName","severity",3,"clearable","searchable","placeholder","multiple","change"],["value","All"],["value","critical"],["value","major"],["value","minor"],["value","warning"],["value","info"],["for","Name","id","pendoCCOCategory",1,"col-form-label","select-font"],["formControlName","category","bindValue","id","bindLabel","name",3,"searchable","multiple","placeholder","items","add","remove"],["for","Name","id","pendoCCOAlarmGroup",1,"col-form-label","select-font"],["formControlName","customCategory","bindValue","id","bindLabel","name",3,"clearable","searchable","multiple","placeholder","items","change"],["for","Name","id","acknowledgedAlarms",1,"col-form-label","select-font"],["formControlName","cco_ack","bindValue","id","bindLabel","name",3,"clearable","searchable","multiple","placeholder","items"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12"],["id","issue-active-reports-Alarms-Severity",1,"issue-overview-item"],["data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-dload",3,"title","click"],["id","SeverityExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],["class","mt-3",4,"ngIf"],[1,"mwc-content",3,"ngClass"],[1,"col-md-12",3,"hidden"],["id","severityContainer",1,"chart-box","h-300px"],["id","issue-active-reports-Alarms-Day",1,"issue-overview-item"],[1,"img","my-2"],[1,"mwc-content","d-flex",3,"ngClass"],[1,"col-12","col-md-12",3,"hidden"],["id","event-alarm-line-chart-container",1,"chart-box","h-300px"],["id","issue-active-reports-Alarm-System",1,"issue-overview-item",3,"hidden"],["id","SystemExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],[1,"mwc-content"],["id","systemContainer",1,"chart-box","h-300px"],["id","issue-active-reports-Alarms-Region",1,"issue-overview-item",3,"hidden"],["id","LocationExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],["id","regionContainer",1,"chart-box","h-300px"],["id","dynamic-location-chart-div",1,"issue-overview-item",3,"hidden"],["type","button","aria-label","Close",1,"close","m-2",3,"click"],["aria-hidden","true"],["class","mwc-content",4,"ngIf"],["id","dynamic-system-chart-div",1,"issue-overview-item",3,"hidden"],["id","systemContainerByClick",1,"chart-box","h-300px"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"mt-3"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"mt-5"],["id","locationContainer",1,"chart-box","h-300px",3,"hidden"],[1,"col-md-12","px-0","overflow-auto","full-active-reports"],["datatable","",1,"table","table-borderless",3,"dtOptions"],[1,"sorting-th-custom"],[1,"min-98px"],[1,"col-resource"],[1,"col-severty"],["id","pendo_subscriber_impact"],[1,"col-recom"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pointer",3,"id","click"],["data-toggle","modal","data-target",".bd-example-modal-lg"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-resource","col-recom"],[1,"col-res-data","subj-text",3,"innerHtml"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-severty","col-warn-item"],[1,"dot"],[1,"d-flex","align-items-center"],["class","action-info-u primary p-blue pointer",3,"click",4,"ngIf"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-recom"],[1,"subj-text"],["class","text-center min-w70px",4,"ngIf"],[1,"action-info-u","primary","p-blue","pointer",3,"click"],[1,"text-center","min-w70px"],["class","d-inline-flex primary pointer","data-toggle","modal","data-target","bd-example-modal-sm",3,"click",4,"ngIf"],["class","d-inline-flex mr-2 primary pointer","data-toggle","modal","data-target","bd-example-modal-sm",3,"click",4,"ngIf"],["data-toggle","modal","data-target","bd-example-modal-sm",1,"d-inline-flex","primary","pointer",3,"click"],["src","assets/img/add-note.png",1,"add-note-img","pointer"],["data-toggle","modal","data-target","bd-example-modal-sm",1,"d-inline-flex","mr-2","primary","pointer",3,"click"],["src","./assets/img/net-edit.svg",1,"pointer",3,"title"],["src","./assets/img/net-delete.svg",1,"pointer",3,"title"],["colspan","9",1,"no-data-available"],[1,"col-12","overflow-auto"],["class","loader",4,"ngIf"],[1,"table","table-data"],["class","pointer",3,"id","click",4,"ngFor","ngForOf"],[1,"table-pagination","w-100","d-flex","flex-wrap","pb-2","justify-content-end","pt-4"],[1,"page-action-buttons"],[1,"page-navigate","page-button",3,"ngClass","click"],[1,"loader"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-severty"],["data-toggle","modal","data-target",".bd-example-modal-lg",4,"ngIf"],[3,"ngClass"],[1,"modal-header","d-block"],["id","showInfoModal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"modal-body","add-device-model"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3","px-3",3,"click"],[1,"form-group","ccl-form"],["id","description","rows","3","trimSpace","",1,"form-control",3,"formControl","placeholder","formValue"],[1,"col-md-12","pl-0","text-left","mt-3"],["type","submit","class","btn-default primary  px-3",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-default","transparant","px-3","m-2",3,"click"],["type","submit",1,"btn-default","primary","px-3",3,"disabled","click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","mr-2",3,"disabled","click"],["type","button",1,"btn-default","btn-dft",3,"click"],["class","expand-info-container",4,"ngIf"],[1,"expand-info-container"],[1,"expand-info-item"],["data-toggle","tooltip","data-placement","top",3,"title"]],template:function(t,e){1&t&&(A.YNc(0,nt,25,14,"section",0),A.YNc(1,st,2,1,"div",1),A.YNc(2,xt,100,49,"section",2),A.TgZ(3,"section"),A.TgZ(4,"section",3),A.TgZ(5,"div",4),A.TgZ(6,"div",5),A.TgZ(7,"div",6),A.TgZ(8,"div",7),A.TgZ(9,"div",8),A.TgZ(10,"div",9),A.TgZ(11,"div",10),A.TgZ(12,"div",11),A._uU(13),A.qZA(),A.TgZ(14,"div",12),A.TgZ(15,"button",13),A.NdJ("click",function(){return e.fullScreenInvertFunction()}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(16,"h5",14),A._uU(17),A.qZA(),A.YNc(18,At,6,1,"div",15),A.TgZ(19,"div",16),A.YNc(20,Zt,5,1,"div",17),A.TgZ(21,"div",18),A.TgZ(22,"div",19),A._UZ(23,"div",20),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(24,"div",4),A.TgZ(25,"div",5),A.TgZ(26,"div",21),A.TgZ(27,"div",22),A.TgZ(28,"div",23),A.TgZ(29,"div",24),A.TgZ(30,"div",25),A.TgZ(31,"div",26),A._uU(32),A.qZA(),A.TgZ(33,"div",27),A._UZ(34,"ng-select",28),A.qZA(),A.TgZ(35,"div",29),A._uU(36),A.qZA(),A.qZA(),A.qZA(),A.TgZ(37,"div",30),A.TgZ(38,"div",31),A.TgZ(39,"input",32),A.NdJ("ngModelChange",function(t){return e.searchTerm=t})("keyup",function(t){return e.search(t.target.value)})("search",function(t){return e.search(t.target.value)}),A.qZA(),A.TgZ(40,"i",33),A.NdJ("click",function(){return e.clearSearchInp()}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.YNc(41,Dt,25,14,"div",34),A.YNc(42,Qt,33,22,"div",34),A.qZA(),A.qZA(),A.qZA(),A.YNc(43,Bt,10,3,"ng-template",35,36,A.W1O),A.TgZ(45,"div",37),A.TgZ(46,"div",38),A.TgZ(47,"div",39),A.TgZ(48,"app-alarm-details",40),A.NdJ("ackShelveData",function(t){return e.onAckShelve(t)})("refreshAckShelveBtn",function(t){return e.onRefreshAckShelve(t)}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.YNc(49,Wt,16,9,"ng-template",41,42,A.W1O),A.YNc(51,Kt,8,2,"ng-template",41,43,A.W1O),A.YNc(53,ee,16,7,"ng-template",null,44,A.W1O),A.YNc(55,se,10,4,"ng-template",41,45,A.W1O)),2&t&&(A.Q6J("ngIf",e.hasScopeAccess),A.xp6(1),A.Q6J("ngIf",!e.hasScopeAccess),A.xp6(1),A.Q6J("ngIf",e.hasScopeAccess),A.xp6(2),A.Q6J("ngClass",e.fullScreen?"d-block":"d-none"),A.xp6(9),A.hij(" ",e.fullScreenChartName," "),A.xp6(2),A.s9C("title",e.language.lossofpon_fullscreen_close_tip),A.xp6(2),A.hij(" ",e.fullScrenSubHeading,""),A.xp6(1),A.Q6J("ngIf",e.errors.alarmevent),A.xp6(2),A.Q6J("ngIf",e.loading),A.xp6(1),A.Q6J("hidden",e.errors.alarmevent),A.xp6(1),A.Q6J("ngClass",e.loading?"d-none":"d-block"),A.xp6(10),A.Oqu(e.language.Show),A.xp6(2),A.Q6J("formControl",e.entry)("searchable",!1)("multiple",!1)("items",e.entries)("clearOnBackspace",!1),A.xp6(2),A.Oqu(e.language.entries),A.xp6(3),A.s9C("placeholder",e.language["Search by Alarm name"]),A.Q6J("ngModel",e.searchTerm),A.xp6(2),A.Q6J("ngIf",e.showTable&&!e.showNewPagination),A.xp6(1),A.Q6J("ngIf",e.showNewPagination),A.xp6(6),A.Q6J("fullData",e.fullData)("showAckShelveBtn",e.showAckShelveBtn)("hasWriteAccess",e.hasWriteAccess)("hideSource",e.hideSource)("connected",!0)("showNotes",!0)("clickedAlarmType","Alarm")("alarmType","Alarm"))},directives:[a.O5,a.mk,D.w9,f.JJ,f.oH,f.Fj,f.On,P.M,f._Y,f.JL,f.sg,E.f,f.u,f.nD,D.xv,u.G,a.sg,I.f],styles:['@charset "UTF-8";.p-10[_ngcontent-%COMP%]{padding:10px}.p-15[_ngcontent-%COMP%]{padding:15px}.p-20[_ngcontent-%COMP%]{padding:20px}.p-25[_ngcontent-%COMP%]{padding:25px}.p-30[_ngcontent-%COMP%]{padding:30px}.p-35[_ngcontent-%COMP%]{padding:35px}.p-40[_ngcontent-%COMP%]{padding:40px}.p-45[_ngcontent-%COMP%]{padding:45px}.p-50[_ngcontent-%COMP%]{padding:50px}.p-55[_ngcontent-%COMP%]{padding:55px}.p-60[_ngcontent-%COMP%]{padding:60px}.pt-10[_ngcontent-%COMP%]{padding-top:10px}.pt-15[_ngcontent-%COMP%]{padding-top:15px}.pt-20[_ngcontent-%COMP%]{padding-top:20px}.pt-25[_ngcontent-%COMP%]{padding-top:25px}.pt-30[_ngcontent-%COMP%]{padding-top:30px}.pt-35[_ngcontent-%COMP%]{padding-top:35px}.pt-40[_ngcontent-%COMP%]{padding-top:40px}.pt-45[_ngcontent-%COMP%]{padding-top:45px}.pt-50[_ngcontent-%COMP%]{padding-top:50px}.pt-55[_ngcontent-%COMP%]{padding-top:55px}.pt-60[_ngcontent-%COMP%]{padding-top:60px}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.mt-25[_ngcontent-%COMP%]{margin-top:25px}.mt-30[_ngcontent-%COMP%]{margin-top:30px}.mt-35[_ngcontent-%COMP%]{margin-top:35px}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mt-45[_ngcontent-%COMP%]{margin-top:45px}.mt-50[_ngcontent-%COMP%]{margin-top:50px}.mt-55[_ngcontent-%COMP%]{margin-top:55px}.mt-60[_ngcontent-%COMP%]{margin-top:60px}.mb0[_ngcontent-%COMP%]{margin-bottom:0}.mb1[_ngcontent-%COMP%]{margin-bottom:10px}.mb15[_ngcontent-%COMP%]{margin-bottom:15px}.mb2[_ngcontent-%COMP%]{margin-bottom:20px}.mb3[_ngcontent-%COMP%]{margin-bottom:30px}.mb4[_ngcontent-%COMP%]{margin-bottom:40px}.mb5[_ngcontent-%COMP%]{margin-bottom:50px}.mb6[_ngcontent-%COMP%]{margin-bottom:60px}.mb7[_ngcontent-%COMP%]{margin-bottom:70px}.mb8[_ngcontent-%COMP%]{margin-bottom:80px}.mb9[_ngcontent-%COMP%]{margin-bottom:90px}.primary[_ngcontent-%COMP%]{color:#0279ff}.secondary[_ngcontent-%COMP%]{color:#0054b2}.calixpurple[_ngcontent-%COMP%]{color:#43367d}.calixblue[_ngcontent-%COMP%]{color:#324a9d}.calixsky[_ngcontent-%COMP%]{color:#387cbf}.calixorange[_ngcontent-%COMP%]{color:#e97b00}.brightred[_ngcontent-%COMP%]{color:#ff3600}.lightred[_ngcontent-%COMP%]{color:#ff734f}.purple[_ngcontent-%COMP%]{color:#91479b}.error[_ngcontent-%COMP%]{color:#c70000}.warning[_ngcontent-%COMP%]{color:#ff8238}.warningt[_ngcontent-%COMP%]{color:#c74900}.success[_ngcontent-%COMP%]{color:#82bf00}.successt[_ngcontent-%COMP%]{color:#507500}.caution[_ngcontent-%COMP%]{color:#f7c343}.wgrey[_ngcontent-%COMP%]{color:#f8f8fa}.snowgrey[_ngcontent-%COMP%]{color:#ebeaef}.lgrey[_ngcontent-%COMP%]{color:#ccc}.calixgrey[_ngcontent-%COMP%]{color:#9e9e9e}.blastgrey[_ngcontent-%COMP%]{color:gray}.greyaa[_ngcontent-%COMP%]{color:#1a1f22}.darkgrey[_ngcontent-%COMP%]{color:#333}.calixblack[_ngcontent-%COMP%]{color:#1a1f22}.calixblack[_ngcontent-%COMP%]{color:#000}.calixred[_ngcontent-%COMP%]{color:#fb2d55}.calixgreen[_ngcontent-%COMP%]{color:#349885}.calixaqblue[_ngcontent-%COMP%]{color:#26c0eb}.title[_ngcontent-%COMP%]{font-size:42px;font-weight:300;line-height:53px}.title-second[_ngcontent-%COMP%]{font-size:24px!important;font-style:normal;font-weight:400!important;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.heading-sm[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:22px}.listlabels[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:22px}.listdataem[_ngcontent-%COMP%]{font-size:13px;font-weight:600;line-height:21px}.listdata[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:24px}.formlabels[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:16px}.captions[_ngcontent-%COMP%]{font-size:11px;font-weight:600;line-height:13.2px}.chartno[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.btn-large[_ngcontent-%COMP%]{border-radius:26px;padding:12px;min-width:130px;text-align:center;font-size:20px;font-weight:400;color:#fff;box-shadow:5px 5px 10px #00000026;border:0}.btn-large.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-large.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-large.primary[_ngcontent-%COMP%]:focus{background:#0054b2;outline:none;box-shadow:none;border:0}.btn-large.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-large.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-large.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-default[_ngcontent-%COMP%]{border-radius:16px;padding:5px;min-width:86px;text-align:center;font-size:16px;font-weight:400;color:#fff;box-shadow:3px 3px 6px #00000026;border:0}.btn-default.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-default.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-default.primary[_ngcontent-%COMP%]:focus{background:#0054b2}.btn-default.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-default.btn-dft[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c;border:1px solid #CCCCCC}.btn-default.btn-dft[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-default.btn-dft[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-default.btn-dft.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-small[_ngcontent-%COMP%]{border-radius:12px;padding:3px;min-width:70px;text-align:center;font-size:12px;font-weight:400;color:#fff;box-shadow:2px 2px 4px #00000026;border:0}.btn-small.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-small.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-small.primary[_ngcontent-%COMP%]:focus{background:#EBEAEF}.btn-small.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-small.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-small.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-round[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;display:flex;justify-content:center;align-items:center;border:0;background-position:center;background-repeat:no-repeat;padding:0}.btn-round.info-round[_ngcontent-%COMP%]{width:32px;height:32px}.btn-round.primary[_ngcontent-%COMP%]{background-color:#0279ff}.btn-round.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-round.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-round[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none;border:0}.btn-round.btn-small-24[_ngcontent-%COMP%]{width:24px;height:24px}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow[_ngcontent-%COMP%]{height:32px;line-height:32px;min-width:110px;text-align:center;border:0;padding:0;box-shadow:2px 2px 4px #00000026;font-size:16px;font-weight:400;color:#1a1f22;justify-content:center;align-items:center;position:relative;border-radius:26px}.btn-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;top:-2px}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]{box-shadow:none}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.btn-arrow.btn-arr-nxt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:10px}.btn-arrow.primary[_ngcontent-%COMP%]{background-color:#0279ff;color:#fff}.btn-arrow.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-arrow.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-arrow.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-arrow.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}[type=radio][_ngcontent-%COMP%]:checked, [type=radio][_ngcontent-%COMP%]:not(:checked){width:16px;height:16px;min-height:16px;position:relative!important;cursor:pointer;appearance:none;-webkit-appearance:none;-moz-appearance:none}[type=radio][_ngcontent-%COMP%]:checked:before, [type=radio][_ngcontent-%COMP%]:checked:after, [type=radio][_ngcontent-%COMP%]:not(:checked):before{content:"";position:absolute;border-radius:100%}[type=radio][_ngcontent-%COMP%]:checked:before{background:#0279FF;width:16px;height:16px;top:0px}[type=radio][_ngcontent-%COMP%]:checked:after{width:12px;height:12px;background:#0279FF;top:2px;left:2px;border:1px solid #ffffff;z-index:9}[type=radio][_ngcontent-%COMP%]:not(:checked):before{background:#ffffff;border:1px solid #CCCCCC;width:16px;height:16px}[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], [type=radio][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{position:relative;padding-left:10px;cursor:pointer;display:inline-block;color:#666}[type=radio][_ngcontent-%COMP%]:checked:disabled:before{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:checked:disabled:after{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:disabled, [type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{cursor:not-allowed}[type=radio][_ngcontent-%COMP%]:not(:checked):hover:before{background:#ffffff;border:1px solid #0279FF}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:hover:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:focus{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:active{border-color:transparent!important}.test-container[_ngcontent-%COMP%]{display:flex;width:100%}.item[_ngcontent-%COMP%]{flex-grow:1;border-left:1px solid #EBEAEF;padding-left:12px;width:calc(100% / 4)}.item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:2%}.sub-menu-list-icon[_ngcontent-%COMP%]{font-weight:400;padding:5px 10px;border-radius:15px;font-size:14px;line-height:24px;color:#507500}.sub-menu-list-icon2[_ngcontent-%COMP%]{font-weight:400;padding:5px 10px;border-radius:15px;font-size:14px;line-height:24px;color:#c70000}.gly-rotate-45[_ngcontent-%COMP%]{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=.5);transform:rotate(45deg)}.gly-rotate-90[_ngcontent-%COMP%]{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=.5);transform:rotate(-66deg)}.issue-overview-wrapper[_ngcontent-%COMP%]{width:100%}.issue-overview-item[_ngcontent-%COMP%]{flex-grow:1;width:100%}.all-icon[_ngcontent-%COMP%]{font-size:10px;color:#9c9c9c}.current-issues-table[_ngcontent-%COMP%]{width:100%}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:14px}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{font-size:14px}.btn-secondary[_ngcontent-%COMP%]{color:#5f6165!important;background-color:#f8f8fa!important;border-color:#f8f8fa!important;padding:3px \\200b 10px}.undo-icon[_ngcontent-%COMP%]{background-color:#f8f8fa;padding:3px;color:#9e9e9e;border-radius:15px;margin:2px;font-size:17px;cursor:pointer;width:30px;height:30px;text-align:center}.current-issue-menu-container[_ngcontent-%COMP%]{display:flex;margin:5px 0 0;justify-self:start}.current-issue-menu-item[_ngcontent-%COMP%]{flex-grow:0;width:16%;margin-bottom:9px}.chart-title[_ngcontent-%COMP%]{font-size:14px}.mwc-header[_ngcontent-%COMP%]{justify-content:space-between;margin-bottom:10px}.mwc-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:calc(100% - 120px)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]{justify-content:flex-end;width:120px}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24[_ngcontent-%COMP%]{width:24px;height:24px}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa;background-position:center;background-repeat:no-repeat}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-que[_ngcontent-%COMP%]{margin-right:15px;background-image:url(ic_info_grey.89b781511c1fde63583b.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-que[_ngcontent-%COMP%]:hover{background-image:url(ic_info_grey.89b781511c1fde63583b.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-que[_ngcontent-%COMP%]:focus{background-image:url(ic_info_grey.89b781511c1fde63583b.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-dload[_ngcontent-%COMP%]{margin-right:6px;background-image:url(ic_download_grey.9f487628f7100a5a71b9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-dload[_ngcontent-%COMP%]:hover{background-image:url(ic_download_grey.9f487628f7100a5a71b9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-dload[_ngcontent-%COMP%]:focus{background-image:url(ic_download_grey.9f487628f7100a5a71b9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand[_ngcontent-%COMP%]{margin-right:6px;background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand[_ngcontent-%COMP%]:hover{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand[_ngcontent-%COMP%]:focus{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand-inv[_ngcontent-%COMP%]{margin-right:6px;background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand-inv[_ngcontent-%COMP%]:hover{background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand-inv[_ngcontent-%COMP%]:focus{background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg)}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400;padding:10px 5px;font-size:16px}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;font-size:14px}.btn-dload.spinnershow[_ngcontent-%COMP%]{background-image:url(spinnersmall.8539076b5d15004b8953.svg)!important}[_nghost-%COMP%]     table.dataTable td.dataTables_empty{display:none}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:20px;max-width:85%!important}.support-key-value[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0!important}.support-key-value[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:40%;font-weight:400;padding:10px 0!important;font-size:15px}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:28px!important;color:#0054b2!important;line-height:32px!important}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#1a1f22;font-size:14px;line-height:16.4px}.cco-secondary-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.mw-170[_ngcontent-%COMP%]{min-width:170px}.current-issue-menu-container[_ngcontent-%COMP%]{display:flex;margin:10px 0 0;justify-self:start;align-items:center;flex-wrap:wrap}.no-wrap[_ngcontent-%COMP%]{white-space:nowrap}@media screen and (max-width: 767px){.test-container[_ngcontent-%COMP%]{display:block}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex-grow:1;border-left:3px solid #cdcdcd;padding-left:20px;width:100%;margin-left:0;margin-bottom:10px}.mpr-0[_ngcontent-%COMP%]{padding-right:0!important}.current-issue-menu-container[_ngcontent-%COMP%]{display:block}.current-issue-menu-item[_ngcontent-%COMP%]{margin-top:10px;margin-left:0!important;width:100%!important}.mt-center[_ngcontent-%COMP%]{text-align:center!important;margin-top:10px!important}.mp-0[_ngcontent-%COMP%]{padding:0!important}}.search-close[_ngcontent-%COMP%]{position:absolute;right:25px;top:11px;color:#cdcdcd;cursor:pointer}small[_ngcontent-%COMP%]{color:#c70000}small.vald-tag[_ngcontent-%COMP%]{padding-left:10px;position:absolute;font-size:16px;line-height:17px}.resource-info[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.showme[_ngcontent-%COMP%]{display:none}.showhim[_ngcontent-%COMP%]:hover   .showme[_ngcontent-%COMP%]{display:block}.add-note-img[_ngcontent-%COMP%]{width:20px;height:20px}.expand-info-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.expand-info-item[_ngcontent-%COMP%]{width:19%;overflow:hidden;text-overflow:ellipsis}.expand-info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:300;line-height:32px;color:#0054b2;text-overflow:ellipsis;overflow:hidden}.expand-info-item[_ngcontent-%COMP%]   .expand-info-item[_ngcontent-%COMP%] + .expand-info-item[_ngcontent-%COMP%]{margin-left:2%}.full-active-reports[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6){width:120px!important}.full-active-reports[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6){width:120px!important}.cursor-default[_ngcontent-%COMP%]{cursor:default}.Resource_info[_ngcontent-%COMP%]{width:350px;word-break:break-all}.col-recom[_ngcontent-%COMP%]{min-width:300px;max-width:400px}.col-recom[_ngcontent-%COMP%]   .subj-text[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.col-resource[_ngcontent-%COMP%]{max-width:400px!important}.col-resource[_ngcontent-%COMP%]   .col-res-data[_ngcontent-%COMP%]{min-width:400px;max-width:400px;word-break:break-all}.m-w-170px[_ngcontent-%COMP%]{min-width:170px}.h-300px[_ngcontent-%COMP%]{height:300px}.h-450px[_ngcontent-%COMP%]{height:450px}.active-reports-list-search[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{min-width:36px!important}.heading-subtitle[_ngcontent-%COMP%]{margin:0}.span-close-icon[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:0}.span-close-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;opacity:.5}.span-close-icon[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.7}.white-space-preline[_ngcontent-%COMP%]{white-space:pre-line}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:20px;max-width:67.68%!important}.synced-time[_ngcontent-%COMP%]{width:400px!important;word-break:break-word}.maxh-overflow-auto[_ngcontent-%COMP%]{max-height:250px;overflow:auto}.col-warn-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px}.table-pagination[_ngcontent-%COMP%]   .page-entries-info[_ngcontent-%COMP%]{color:#333}.table-pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.table-pagination[_ngcontent-%COMP%]   .page-button[_ngcontent-%COMP%]{color:#666;display:inline-block;min-width:1.5em;text-align:center;padding:2px 10px!important;cursor:pointer}.table-pagination[_ngcontent-%COMP%]   .page-button[_ngcontent-%COMP%]:hover{color:#0279ff}.table-pagination[_ngcontent-%COMP%]   .page-current[_ngcontent-%COMP%]{background:#fff;color:#0279ff;border:1px solid #0279ff;border-radius:20px!important}.table-pagination[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]{position:relative}.table-pagination[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:#0279ff;display:none}.table-pagination[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]:hover:after{display:block}.table-pagination[_ngcontent-%COMP%]   .page-disabled[_ngcontent-%COMP%]{cursor:default}.table-pagination[_ngcontent-%COMP%]   .page-disabled[_ngcontent-%COMP%]:hover{color:#666}.table-pagination[_ngcontent-%COMP%]   .page-disabled[_ngcontent-%COMP%]:hover:after{display:none}.min-w80px[_ngcontent-%COMP%]{min-width:80px}.min-w70px[_ngcontent-%COMP%]{min-width:70px}.table-data[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc;padding:10px 15px 10px 0;vertical-align:middle}.table-data[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;padding:10px 15px 10px 0}.table-data[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f8f8fa}.table-data[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even)   .maxh-overflow-auto[_ngcontent-%COMP%]{max-height:250px;overflow:auto}.col-severty[_ngcontent-%COMP%]{padding-left:10px!important}.min-98px[_ngcontent-%COMP%]{min-width:98px}.clear-sev-but[_ngcontent-%COMP%]   span.dot[_ngcontent-%COMP%]{display:none}.table.table-data[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc}.subscriber-impact-red[_ngcontent-%COMP%]{color:#c70000}']}),t})();var le=i(49457);const ce=["showInfoModal"],he=["addNotesModal"],de=["showNotesModal"],ge=["deleteModal"],me=["addSubscriberInfoModel"],pe=function(){return{width:"100%",height:"36px"}},ue=function(){return{height:"36px"}};function ve(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",92),A.TgZ(1,"label",93),A._uU(2),A.qZA(),A.TgZ(3,"div",94),A.TgZ(4,"div",95),A.TgZ(5,"p-calendar",96),A.NdJ("onSelect",function(){return A.CHM(t),A.oxw(2).changeStartDate()}),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.Start_Date),A.xp6(3),A.Akn(A.DdM(10,pe)),A.s9C("placeholder",t.language["Select Date"]),A.Q6J("inputStyle",A.DdM(11,ue))("autoZIndex",!0)("showIcon",!0)("maxDate",t.maxForStartDate)("readonlyInput",!0)("showButtonBar",!0)}}function ye(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",97),A.TgZ(1,"label",93),A._uU(2),A.qZA(),A.TgZ(3,"div",94),A.TgZ(4,"div",95),A.TgZ(5,"p-calendar",98),A.NdJ("onSelect",function(){return A.CHM(t),A.oxw(2).changeDate()}),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.endDate),A.xp6(3),A.Akn(A.DdM(11,pe)),A.s9C("placeholder",t.language["Select Date"]),A.Q6J("inputStyle",A.DdM(12,ue))("autoZIndex",!0)("showIcon",!0)("maxDate",t.maxDate)("minDate",t.FromDate)("readonlyInput",!0)("showButtonBar",!0)}}function fe(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",99),A.TgZ(1,"label",93),A._uU(2),A.qZA(),A.TgZ(3,"div",94),A.TgZ(4,"ng-select",100),A.NdJ("change",function(){return A.CHM(t),A.oxw(2).selectAlarmType()}),A.TgZ(5,"ng-option",101),A._uU(6),A.qZA(),A.TgZ(7,"ng-option",102),A._uU(8),A.qZA(),A.TgZ(9,"ng-option",103),A._uU(10),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language["Alarm Type"]),A.xp6(2),A.s9C("placeholder",t.language["Alarm Type"]),A.Q6J("clearable",!1)("searchable",!1),A.xp6(2),A.Oqu(t.language.Alarm),A.xp6(2),A.hij("",t.language.event," "),A.xp6(2),A.Oqu(t.language.Both)}}function be(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",99),A.TgZ(1,"label",93),A._uU(2),A.qZA(),A.TgZ(3,"div",94),A.TgZ(4,"ng-select",104),A.NdJ("add",function(e){return A.CHM(t),A.oxw(2).validateRegion(e)})("remove",function(e){A.CHM(t);const i=A.oxw(2);return i.loadLocationValue(e),i.loadSystemValue(e)}),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.region),A.xp6(2),A.s9C("placeholder",t.language.region),A.Q6J("multiple",!0)("items",t.regionsDataArray)("clearable",!1)("searchable",!0)}}function Ce(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",99),A.TgZ(1,"label",93),A._uU(2),A.qZA(),A.TgZ(3,"div",94),A.TgZ(4,"ng-select",105),A.NdJ("add",function(e){return A.CHM(t),A.oxw(2).validateLocation(e)})("remove",function(e){return A.CHM(t),A.oxw(2).loadSystemValue(e)}),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.Location),A.xp6(2),A.s9C("placeholder",t.language.Location),A.Q6J("multiple",!0)("items",t.locationDataArray)("clearable",!1)("searchable",!0)}}function xe(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",99),A.TgZ(1,"label",93),A._uU(2),A.qZA(),A.TgZ(3,"div",94),A.TgZ(4,"ng-select",106),A.NdJ("change",function(e){return A.CHM(t),A.oxw(2).selectSystem(e)})("add",function(e){return A.CHM(t),A.oxw(2).validateSystem(e)})("remove",function(e){return A.CHM(t),A.oxw(2).validateSystem(e)}),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.System),A.xp6(2),A.s9C("placeholder",t.language.System),A.Q6J("multiple",!0)("items",t.systemDataArray)("clearable",!1)("searchable",!0)}}function Ae(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",99),A.TgZ(1,"label",93),A._uU(2),A.qZA(),A.TgZ(3,"div",107),A.TgZ(4,"ng-select",108),A.NdJ("change",function(e){return A.CHM(t),A.oxw(2).validateAlarmName(e)})("add",function(e){return A.CHM(t),A.oxw(2).validateAlarmEvent(e)})("remove",function(e){return A.CHM(t),A.oxw(2).validateAlarmEvent(e)}),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language["Alarm/Event Name"]),A.xp6(2),A.s9C("placeholder",t.language["Alarm/Event Name"]),A.Q6J("searchable",!0)("multiple",!0)("items",t.alarmNames)}}function Ze(t,e){if(1&t&&(A.TgZ(0,"small",112),A._uU(1),A.qZA()),2&t){const t=A.oxw(3);A.xp6(1),A.Oqu(t.language["Invalid FSAN"])}}function Oe(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",99),A.TgZ(1,"label",93),A._uU(2),A.qZA(),A.TgZ(3,"div",109),A.TgZ(4,"input",110),A.NdJ("keypress",function(e){return A.CHM(t),A.oxw(2).removespecialcharacter(e)})("keyup",function(){return A.CHM(t),A.oxw(2).validateFSAN()}),A.qZA(),A.YNc(5,Ze,2,1,"small",111),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.FSAN),A.xp6(2),A.s9C("placeholder",t.language.FSAN),A.xp6(1),A.Q6J("ngIf",t.fsanvalid)}}function Se(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",99),A.TgZ(1,"label",93),A._uU(2),A.qZA(),A.TgZ(3,"div",94),A.TgZ(4,"ng-select",113),A.NdJ("change",function(){return A.CHM(t),A.oxw(2).changeSeverity()}),A.TgZ(5,"ng-option",114),A._uU(6),A.qZA(),A.TgZ(7,"ng-option",115),A._uU(8),A.qZA(),A.TgZ(9,"ng-option",116),A._uU(10),A.qZA(),A.TgZ(11,"ng-option",117),A._uU(12),A.qZA(),A.TgZ(13,"ng-option",118),A._uU(14),A.qZA(),A.TgZ(15,"ng-option",119),A._uU(16),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.Severity),A.xp6(2),A.s9C("placeholder",t.language.Severity),A.Q6J("clearable",!1)("searchable",!1)("multiple",!1),A.xp6(2),A.Oqu(t.language.All),A.xp6(2),A.Oqu(t.language.critical),A.xp6(2),A.Oqu(t.language.major),A.xp6(2),A.Oqu(t.language.minor),A.xp6(2),A.Oqu(t.language.Warning),A.xp6(2),A.Oqu(t.language.Info)}}function Te(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",99),A.TgZ(1,"label",120),A._uU(2),A.qZA(),A.TgZ(3,"div",94),A.TgZ(4,"ng-select",121),A.NdJ("add",function(e){return A.CHM(t),A.oxw(2).validateCategory(e)})("remove",function(e){return A.CHM(t),A.oxw(2).validateCategory(e)}),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language.Category),A.xp6(2),A.s9C("placeholder",t.language.Category),A.Q6J("searchable",!0)("multiple",!0)("items",t.categories)}}function _e(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",99),A.TgZ(1,"label",122),A._uU(2),A.qZA(),A.TgZ(3,"div",94),A.TgZ(4,"ng-select",123),A.NdJ("change",function(e){return A.CHM(t),A.oxw(2).changeCustomCategory(e)}),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language["Alarm Group"]),A.xp6(2),A.s9C("placeholder",t.language["Alarm Group"]),A.Q6J("clearable",!1)("searchable",!0)("multiple",!1)("items",t.customCategories)}}function we(t,e){if(1&t&&(A.TgZ(0,"div",99),A.TgZ(1,"label",124),A._uU(2),A.qZA(),A.TgZ(3,"div",94),A._UZ(4,"ng-select",125),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language["Acknowledged Alarms"]),A.xp6(2),A.s9C("placeholder",t.language["Acknowledged Alarms"]),A.Q6J("clearable",!1)("searchable",!0)("multiple",!1)("items",t.acknowledgedAlarms)}}function qe(t,e){if(1&t&&(A.TgZ(0,"div",99),A.TgZ(1,"label",126),A._uU(2),A.qZA(),A.TgZ(3,"div",94),A._UZ(4,"ng-select",127),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language["Shelved Alarms"]),A.xp6(2),A.s9C("placeholder",t.language["Shelved Alarms"]),A.Q6J("clearable",!1)("searchable",!0)("multiple",!1)("items",t.shelvedAlarms)}}function Me(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"section",77),A.TgZ(1,"div",78),A.TgZ(2,"form",79),A.TgZ(3,"div",80),A.TgZ(4,"div",81),A.TgZ(5,"div",82),A.YNc(6,ve,6,12,"div",83),A.YNc(7,ye,6,13,"div",84),A.YNc(8,fe,11,7,"div",85),A.YNc(9,be,5,6,"div",85),A.qZA(),A.qZA(),A.qZA(),A.TgZ(10,"div",22),A.TgZ(11,"div",81),A.TgZ(12,"div",82),A.YNc(13,Ce,5,6,"div",85),A.YNc(14,xe,5,6,"div",85),A.YNc(15,Ae,5,5,"div",85),A.YNc(16,Oe,6,3,"div",85),A.qZA(),A.qZA(),A.qZA(),A.TgZ(17,"div",22),A.TgZ(18,"div",81),A.TgZ(19,"div",82),A.YNc(20,Se,17,11,"div",85),A.YNc(21,Te,5,5,"div",85),A.YNc(22,_e,5,6,"div",85),A.YNc(23,we,5,6,"div",85),A.YNc(24,qe,5,6,"div",85),A.qZA(),A.qZA(),A.qZA(),A.TgZ(25,"div",86),A.TgZ(26,"div",87),A.TgZ(27,"div",88),A.TgZ(28,"button",89),A.NdJ("click",function(){return A.CHM(t),A.oxw().loadIntialData()}),A._uU(29),A.qZA(),A.TgZ(30,"button",90),A.NdJ("click",function(){return A.CHM(t),A.oxw().clearFilter()}),A._uU(31),A.qZA(),A.TgZ(32,"button",91),A.NdJ("click",function(){return A.CHM(t),A.oxw().exportNew()}),A._uU(33),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw();A.xp6(2),A.Q6J("formGroup",t.filtersForm),A.xp6(4),A.Q6J("ngIf",t.appliedFilters.startDate),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.endDate),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.alarmType),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.region),A.xp6(4),A.Q6J("ngIf",t.appliedFilters.location),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.system),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.eventName),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.fsan),A.xp6(4),A.Q6J("ngIf",t.appliedFilters.severity&&t.showSeverity),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.category),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.customCategory&&t.showAlarmGroup),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.cco_ack&&t.showAckShelve),A.xp6(1),A.Q6J("ngIf",t.appliedFilters.cco_shelv&&t.showAckShelve),A.xp6(5),A.hij(" ",t.language.apply," "),A.xp6(2),A.hij(" ",t.language.Clear_Filters," "),A.xp6(1),A.Q6J("disabled",t.disableExportBtn),A.xp6(1),A.hij(" ",t.language.Export_but," ")}}function Ne(t,e){if(1&t&&(A.TgZ(0,"div",128),A._uU(1),A.qZA()),2&t){const t=A.oxw();A.xp6(1),A.hij(" ",t.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function ke(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).errors.severity=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.errors.severity,A.oJD)}}function De(t,e){if(1&t&&(A.TgZ(0,"div",147),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function Pe(t,e){1&t&&(A.TgZ(0,"div",151),A.TgZ(1,"div",152),A._UZ(2,"div",153),A.qZA(),A.TgZ(3,"div",152),A._UZ(4,"div",154),A.qZA(),A.qZA())}function Ee(t,e){1&t&&(A.TgZ(0,"div",151),A.TgZ(1,"div",155),A._UZ(2,"div",156),A.qZA(),A.qZA())}function Ie(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw(3).errors.byday=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw(3);A.xp6(5),A.Q6J("innerHtml",t.errors.byday,A.oJD)}}function Ue(t,e){if(1&t&&(A.TgZ(0,"div",147),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(3);A.xp6(4),A.Oqu(t.language.Loading)}}function Fe(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",157),A.TgZ(1,"div",9),A.TgZ(2,"div",10),A.TgZ(3,"div",11),A._uU(4),A.qZA(),A.TgZ(5,"div",12),A.TgZ(6,"button",36),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).download("byday","alarm")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(7,"div",59),A.YNc(8,Ie,6,1,"div",15),A.YNc(9,Ue,5,1,"div",38),A.TgZ(10,"div",158),A.TgZ(11,"div",159),A._UZ(12,"div",160),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(4),A.hij(" ","Alarm"==t.alarmType?t.language["Alarm by Days"]:t.language["Event by Days"]," "),A.xp6(2),A.s9C("title",t.language.export),A.xp6(2),A.Q6J("ngIf",t.errors.byday),A.xp6(1),A.Q6J("ngIf",t.loading),A.xp6(1),A.Q6J("ngClass",t.loading?"d-none":"d-block md-block"),A.xp6(1),A.Q6J("hidden",t.errors.byday)}}function Le(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).systemError=!1}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.systemErrorInfo,A.oJD)}}function je(t,e){if(1&t&&(A.TgZ(0,"div",147),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function Je(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).errors.region=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.errors.region,A.oJD)}}function $e(t,e){if(1&t&&(A.TgZ(0,"div",161),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function Re(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).errors.location=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.errors.location,A.oJD)}}function He(t,e){if(1&t&&(A.TgZ(0,"div",161),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function Qe(t,e){if(1&t&&(A.TgZ(0,"div",136),A.TgZ(1,"div",46),A._UZ(2,"div",162),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.Q6J("hidden",t.errors.location),A.xp6(1),A.Q6J("ngClass",t.loaders.alarm.location||t.loaders.event.location?"d-none":"d-block")}}function Be(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).errors.system=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.errors.system,A.oJD)}}function Ve(t,e){if(1&t&&(A.TgZ(0,"div",147),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function Ye(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"section",3),A.TgZ(1,"div",35),A.TgZ(2,"div",19),A.TgZ(3,"div",6),A.TgZ(4,"div",7),A.TgZ(5,"div",129),A.TgZ(6,"div",9),A.TgZ(7,"div",10),A.TgZ(8,"div",11),A._uU(9),A.qZA(),A.TgZ(10,"div",12),A.TgZ(11,"button",36),A.NdJ("click",function(){return A.CHM(t),A.oxw().download("severity","alarm")}),A.qZA(),A.TgZ(12,"button",62),A.NdJ("click",function(){return A.CHM(t),A.oxw().gotoFullScreen("severity","Alarm")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(13,"h5",14),A._uU(14),A.qZA(),A.YNc(15,ke,6,1,"div",15),A.TgZ(16,"div",130),A.YNc(17,De,5,1,"div",38),A.YNc(18,Pe,5,0,"div",39),A.YNc(19,Ee,3,0,"div",39),A.qZA(),A.qZA(),A.YNc(20,Fe,13,6,"div",131),A.TgZ(21,"div",132),A.TgZ(22,"div",9),A.TgZ(23,"div",10),A.TgZ(24,"div",11),A._uU(25),A.qZA(),A.TgZ(26,"div",12),A.TgZ(27,"button",133),A.NdJ("click",function(){A.CHM(t);const e=A.oxw();return e.gotoFullScreen("system","Alarm"==e.alarmType?"Alarm":"Event")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(28,"h5",14),A._uU(29),A.qZA(),A.YNc(30,Le,6,1,"div",15),A.TgZ(31,"div",16),A.YNc(32,je,5,1,"div",38),A.TgZ(33,"div",63),A.TgZ(34,"div",6),A._UZ(35,"div",134),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(36,"div",135),A.TgZ(37,"div",9),A.TgZ(38,"div",10),A.TgZ(39,"div",11),A._uU(40),A.qZA(),A.TgZ(41,"div",12),A.TgZ(42,"button",36),A.NdJ("click",function(){A.CHM(t);const e=A.oxw();return e.download("region","Alarm"==e.alarmType?"alarm":"event")}),A.qZA(),A.TgZ(43,"button",48),A.NdJ("click",function(){A.CHM(t);const e=A.oxw();return e.gotoFullScreen("region","Alarm"==e.alarmType?"Alarm":"Event")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(44,"h5",14),A._uU(45),A.qZA(),A.YNc(46,Je,6,1,"div",15),A.TgZ(47,"div",16),A.YNc(48,$e,5,1,"div",17),A.TgZ(49,"div",136),A.TgZ(50,"div",46),A._UZ(51,"div",137),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(52,"div",56),A.TgZ(53,"div",9),A.TgZ(54,"div",10),A.TgZ(55,"div",11),A._uU(56),A.qZA(),A.TgZ(57,"div",12),A.TgZ(58,"button",36),A.NdJ("click",function(){A.CHM(t);const e=A.oxw();return e.download("location","Alarm"==e.alarmType?"alarm":"event")}),A.qZA(),A.TgZ(59,"button",48),A.NdJ("click",function(){A.CHM(t);const e=A.oxw();return e.gotoFullScreen("location","Alarm"==e.alarmType?"Alarm":"Event")}),A.qZA(),A.TgZ(60,"button",57),A.NdJ("click",function(){A.CHM(t);const e=A.oxw();return e.loadLocationChart=!e.loadLocationChart}),A._UZ(61,"span",58),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(62,"h5",14),A._uU(63),A.qZA(),A.YNc(64,Re,6,1,"div",15),A.TgZ(65,"div",16),A.YNc(66,He,5,1,"div",17),A.YNc(67,Qe,3,2,"div",138),A.qZA(),A.qZA(),A.TgZ(68,"div",139),A.TgZ(69,"div",9),A.TgZ(70,"div",10),A.TgZ(71,"div",11),A._uU(72),A.qZA(),A.TgZ(73,"div",12),A.TgZ(74,"button",36),A.NdJ("click",function(){A.CHM(t);const e=A.oxw();return e.download("system","Alarm"==e.alarmType?"alarm":"event")}),A.qZA(),A.TgZ(75,"button",62),A.NdJ("click",function(){A.CHM(t);const e=A.oxw();return e.gotoFullScreen("system","Alarm"==e.alarmType?"Alarm":"Event")}),A.qZA(),A.TgZ(76,"button",57),A.NdJ("click",function(){A.CHM(t);const e=A.oxw();return e.loadSystemChart=!e.loadSystemChart}),A._UZ(77,"span",58),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(78,"h5",14),A._uU(79),A.qZA(),A.YNc(80,Be,6,1,"div",15),A.TgZ(81,"div",16),A.YNc(82,Ve,5,1,"div",38),A.TgZ(83,"div",63),A.TgZ(84,"div",140),A._UZ(85,"div",141),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw();A.Q6J("ngClass",t.fullScreen?"d-none":"d-block"),A.xp6(1),A.Q6J("ngClass",t.both?"d-none":"d-block"),A.xp6(4),A.Q6J("ngClass","Alarm"==t.alarmType||"Both"==t.alarmType?"d-block":"d-none"),A.xp6(4),A.hij(" ","Alarm"==t.alarmType?t.language["Alarm by Severity"]:t.language["Event by Severity"]," "),A.xp6(2),A.s9C("title",t.language.export),A.xp6(1),A.s9C("title",t.language.lossofpon_fullscreen_tip),A.xp6(2),A.hij(" ",t.language["Select a severity to view all alarms of that severity"],""),A.xp6(1),A.Q6J("ngIf",t.errors.severity),A.xp6(1),A.Q6J("hidden",t.errors.severity),A.xp6(1),A.Q6J("ngIf",t.loading),A.xp6(1),A.Q6J("ngIf",!t.appliedParams.status),A.xp6(1),A.Q6J("ngIf",t.appliedParams.status),A.xp6(1),A.Q6J("ngIf","Event"!==t.alarmType),A.xp6(1),A.Q6J("hidden",!t.filterApplied),A.xp6(4),A.hij(" ","Alarm"==t.alarmType?t.language["Alarm by System"]:t.language["Event by System"]," "),A.xp6(2),A.s9C("title",t.language.lossofpon_fullscreen_tip),A.xp6(2),A.hij(" ",t.language["Historical_Reports_Alarms by System"],""),A.xp6(1),A.Q6J("ngIf",t.systemError),A.xp6(2),A.Q6J("ngIf",t.loading),A.xp6(1),A.Q6J("ngClass",t.loading?"d-none":"d-block md-block"),A.xp6(3),A.Q6J("hidden",t.filterApplied||!t.loadRegionChart),A.xp6(4),A.hij(" ","Alarm"==t.alarmType?t.language["Alarm by Region"]:t.language["Event by Region"]," "),A.xp6(2),A.s9C("title",t.language.export),A.xp6(1),A.s9C("title",t.language.lossofpon_fullscreen_tip),A.xp6(2),A.hij(" ",t.language["Select a region to view locations in that region"],""),A.xp6(1),A.Q6J("ngIf",t.errors.region),A.xp6(2),A.Q6J("ngIf",t.loading),A.xp6(1),A.Q6J("hidden",t.errors.region),A.xp6(1),A.Q6J("ngClass",t.loading?"d-none":"d-block"),A.xp6(2),A.Q6J("hidden",!t.loadLocationChart||t.filterApplied),A.xp6(4),A.hij(" ","Alarm"==t.alarmType?t.language["Alarm by Location"]:t.language["Event by Location"]," "),A.xp6(2),A.s9C("title",t.language.export),A.xp6(1),A.s9C("title",t.language.lossofpon_fullscreen_tip),A.xp6(4),A.hij(" ",t.language["Select a location to view systems in that location"],""),A.xp6(1),A.Q6J("ngIf",t.errors.location),A.xp6(2),A.Q6J("ngIf",t.loaders.alarm.location||t.loaders.event.location),A.xp6(1),A.Q6J("ngIf",t.loadLocationChart),A.xp6(1),A.Q6J("hidden",!t.loadSystemChart||t.filterApplied),A.xp6(4),A.hij(" ","Alarm"==t.alarmType?t.language["Alarm by System"]:t.language["Event by System"]," "),A.xp6(2),A.s9C("title",t.language.export),A.xp6(1),A.s9C("title",t.language.lossofpon_fullscreen_tip),A.xp6(4),A.hij(" ","Alarm"==t.alarmType?t.language["Select a system severity to view all alarms of that severity for that system"]:t.language["Select a system to view all events for that system"],""),A.xp6(1),A.Q6J("ngIf",t.errors.system),A.xp6(2),A.Q6J("ngIf",t.loaders.alarm.system||t.loaders.event.system),A.xp6(1),A.Q6J("ngClass",t.loaders.alarm.system||t.loaders.event.system?"d-none":"d-block md-block"),A.xp6(1),A.Q6J("hidden",t.errors.system)}}function ze(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw().errors.alarmevent=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw();A.xp6(5),A.Q6J("innerHtml",t.errors.alarmevent,A.oJD)}}function Ge(t,e){if(1&t&&(A.TgZ(0,"div",161),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw();A.xp6(4),A.Oqu(t.language.Loading)}}function We(t,e){1&t&&(A.TgZ(0,"div",155),A._UZ(1,"div",165),A.qZA())}function Ke(t,e){if(1&t&&(A.TgZ(0,"div",163),A.YNc(1,We,2,0,"div",164),A.qZA()),2&t){const t=A.oxw();A.Q6J("hidden",t.errors.alarmevent),A.xp6(1),A.Q6J("ngIf",t.showSevertiyFullChart)}}function Xe(t,e){1&t&&(A.TgZ(0,"div",152),A._UZ(1,"div",168),A.qZA())}function ti(t,e){if(1&t&&(A.TgZ(0,"div",163),A.TgZ(1,"div",34),A._UZ(2,"div",166),A.qZA(),A.YNc(3,Xe,2,0,"div",167),A.qZA()),2&t){const t=A.oxw();A.Q6J("hidden",t.errors.alarmevent),A.xp6(1),A.Q6J("ngClass",t.showSevertiyFullChart?"col-12 col-md-6":"col-12 col-md-12"),A.xp6(2),A.Q6J("ngIf",t.showSevertiyFullChart)}}function ei(t,e){if(1&t&&(A.TgZ(0,"th",179),A._uU(1),A.qZA()),2&t){const t=A.oxw(3);A.xp6(1),A.hij(" ",t.language.Severity,"")}}function ii(t,e){if(1&t&&(A.TgZ(0,"th",180),A._uU(1),A.qZA()),2&t){const t=A.oxw(3);A.xp6(1),A.hij(" ",t.language.Recommendation,"")}}function ai(t,e){if(1&t&&(A.TgZ(0,"th"),A._uU(1),A.qZA()),2&t){const t=A.oxw(3);A.xp6(1),A.Oqu(t.language.Notes)}}function ni(t,e){if(1&t&&(A.TgZ(0,"td",190),A.TgZ(1,"div"),A._UZ(2,"span",191),A._uU(3),A.qZA(),A.qZA()),2&t){const t=A.oxw().$implicit,e=A.oxw(3);A.xp6(1),A.Tol(t.subject&&t.subject.perceivedSeverity&&e.colorClass[t.subject.perceivedSeverity]?e.colorClass[t.subject.perceivedSeverity]:"black clear-sev-but"),A.xp6(2),A.hij(" ",t.subject?e.language[t.subject.perceivedSeverity]||t.subject.perceivedSeverity:""," ")}}function si(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",192),A.NdJ("click",function(){A.CHM(t);const e=A.oxw().$implicit;return A.oxw(3).gotoSubscriberImpactedPage(e)}),A._uU(1),A.qZA()}if(2&t){const t=A.oxw().$implicit;A.xp6(1),A.hij(" ",null==t||null==t.subject?null:t.subject.impactedSubsCount," ")}}function oi(t,e){if(1&t&&(A.TgZ(0,"div"),A._uU(1),A.qZA()),2&t){const t=A.oxw().$implicit;A.xp6(1),A.hij(" ",null!=t&&null!=t.subject&&t.subject.serviceAffecting?"Yes":"No"," ")}}function ri(t,e){if(1&t&&(A.TgZ(0,"td",193),A.TgZ(1,"div",194),A._uU(2),A.qZA(),A.qZA()),2&t){const t=A.oxw().$implicit;A.xp6(2),A.Oqu(t.subject?t.subject.repairAction:"")}}function li(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",198),A.NdJ("click",function(){A.CHM(t);const e=A.oxw(2),i=e.$implicit,a=e.index;return A.oxw(3).openNotesModal(i.subject.alarmId,i.subject.notes?i.subject.notes:null,!1,a)}),A._UZ(1,"img",199),A.qZA()}}function ci(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",200),A.NdJ("click",function(){A.CHM(t);const e=A.oxw(2),i=e.$implicit,a=e.index;return A.oxw(3).openNotesModal(i.subject.alarmId,i.subject.notes?i.subject.notes:null,!0,a)}),A._UZ(1,"img",201),A.qZA()}if(2&t){const t=A.oxw(5);A.xp6(1),A.s9C("title",t.language.Edit)}}function hi(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",198),A.NdJ("click",function(){A.CHM(t);const e=A.oxw(2),i=e.$implicit,a=e.index;return A.oxw(3).deleteConfirmModal(i.subject.alarmId,a)}),A._UZ(1,"img",202),A.qZA()}if(2&t){const t=A.oxw(5);A.xp6(1),A.s9C("title",t.language.Delete)}}function di(t,e){if(1&t&&(A.TgZ(0,"td",195),A.YNc(1,li,2,0,"div",196),A.YNc(2,ci,2,1,"div",197),A.YNc(3,hi,2,1,"div",196),A.qZA()),2&t){const t=A.oxw().$implicit;A.xp6(1),A.Q6J("ngIf",!t.subject.notes),A.xp6(1),A.Q6J("ngIf",t.subject.notes),A.xp6(1),A.Q6J("ngIf",t.subject.notes)}}function gi(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"tr",181),A.NdJ("click",function(){const e=A.CHM(t),i=e.$implicit,a=e.index;return A.oxw(3).viewDetails(i,a)}),A.TgZ(1,"td",182),A._uU(2),A.qZA(),A.TgZ(3,"td",182),A._uU(4),A.qZA(),A.TgZ(5,"td",182),A._uU(6),A.qZA(),A.TgZ(7,"td",182),A._uU(8),A.qZA(),A.TgZ(9,"td",183),A._UZ(10,"div",184),A.qZA(),A.YNc(11,ni,4,4,"td",185),A.TgZ(12,"td"),A.TgZ(13,"div",186),A.YNc(14,si,2,1,"div",187),A.YNc(15,oi,2,1,"div",177),A.qZA(),A.qZA(),A.YNc(16,ri,3,1,"td",188),A.YNc(17,di,4,3,"td",189),A.qZA()}if(2&t){const t=e.$implicit,i=A.oxw(3);A.xp6(2),A.Oqu(t.subject&&t.subject.timeRaised?i.convertToDateTime(t.subject.timeRaised):""),A.xp6(2),A.Oqu(t.time?i.convertToDateTime(t.time):""),A.xp6(2),A.Oqu(t.subject?t.subject.alarmEventName:""),A.xp6(2),A.Oqu(t.subject?t.subject.category:""),A.xp6(2),A.Q6J("innerHtml",t.subject.resourceForUI?t.subject.resourceForUI:"",A.oJD),A.xp6(1),A.Q6J("ngIf","Alarm"===i.clickedAlarmType&&"Event"!==i.alarmType),A.xp6(3),A.Q6J("ngIf",null==t||null==t.subject?null:t.subject.impactedSubsCount),A.xp6(1),A.Q6J("ngIf",!(null!=t&&null!=t.subject&&t.subject.impactedSubsCount)),A.xp6(1),A.Q6J("ngIf","Alarm"===i.clickedAlarmType&&"Event"!==i.alarmType),A.xp6(1),A.Q6J("ngIf",i.hasWriteAccess)}}function mi(t,e){if(1&t&&(A.TgZ(0,"tbody"),A.TgZ(1,"tr"),A.TgZ(2,"td",203),A._uU(3),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(3);A.xp6(3),A.hij("",t.language["No data available in table"]," ")}}function pi(t,e){if(1&t&&(A.TgZ(0,"div",170),A.TgZ(1,"table",171),A.TgZ(2,"thead"),A.TgZ(3,"tr"),A.TgZ(4,"th",172),A._uU(5),A.qZA(),A.TgZ(6,"th"),A._uU(7),A.qZA(),A.TgZ(8,"th",173),A._uU(9),A.qZA(),A.TgZ(10,"th"),A._uU(11),A.qZA(),A.TgZ(12,"th"),A._uU(13),A.qZA(),A.YNc(14,ei,2,1,"th",174),A.TgZ(15,"th",175),A._uU(16),A.qZA(),A.YNc(17,ii,2,1,"th",176),A.YNc(18,ai,2,1,"th",177),A.qZA(),A.qZA(),A.TgZ(19,"tbody"),A.YNc(20,gi,18,10,"tr",178),A.qZA(),A.YNc(21,mi,4,1,"tbody",177),A._UZ(22,"tbody"),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(1),A.Q6J("dtOptions",t.dtOptions),A.xp6(4),A.AsE("",t.language["Reported Time"],"(UTC/",t.timeZone,")"),A.xp6(2),A.AsE("",t.language["Synced Time"]," (UTC/",t.timeZone,")"),A.xp6(2),A.hij("","Alarm"===t.clickedAlarmType&&"Event"!==t.alarmType?t.language["Alarm Name"]:t.language["Event Name"]," "),A.xp6(2),A.hij("",t.language.Category," "),A.xp6(2),A.Oqu(t.language.Resource),A.xp6(1),A.Q6J("ngIf","Alarm"===t.clickedAlarmType&&"Event"!==t.alarmType),A.xp6(2),A.Oqu(t.language["Subscriber Impact"]),A.xp6(1),A.Q6J("ngIf","Alarm"===t.clickedAlarmType&&"Event"!==t.alarmType),A.xp6(1),A.Q6J("ngIf",t.hasWriteAccess),A.xp6(2),A.Q6J("ngForOf",t.list),A.xp6(1),A.Q6J("ngIf",0===t.list.length)}}function ui(t,e){if(1&t&&(A.TgZ(0,"div",22),A.YNc(1,pi,23,14,"div",169),A.qZA()),2&t){const t=A.oxw();A.xp6(1),A.Q6J("ngIf",t.showTable)}}function vi(t,e){if(1&t&&(A.TgZ(0,"div",210),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function yi(t,e){if(1&t&&(A.TgZ(0,"th",179),A._uU(1),A.qZA()),2&t){const t=A.oxw(2);A.xp6(1),A.hij(" ",t.language.Severity,"")}}function fi(t,e){if(1&t&&(A.TgZ(0,"th",180),A._uU(1),A.qZA()),2&t){const t=A.oxw(2);A.xp6(1),A.hij(" ",t.language.Recommendation,"")}}function bi(t,e){if(1&t&&(A.TgZ(0,"th"),A._uU(1),A.qZA()),2&t){const t=A.oxw(2);A.xp6(1),A.Oqu(t.language.Notes)}}function Ci(t,e){if(1&t&&(A.TgZ(0,"td",190),A.TgZ(1,"div"),A._UZ(2,"span",191),A._uU(3),A.qZA(),A.qZA()),2&t){const t=A.oxw().$implicit,e=A.oxw(2);A.xp6(1),A.Tol(t.subject&&t.subject.perceivedSeverity&&e.colorClass[t.subject.perceivedSeverity]?e.colorClass[t.subject.perceivedSeverity]:"black clear-sev-but"),A.xp6(2),A.hij(" ",t.subject?e.language[t.subject.perceivedSeverity]||t.subject.perceivedSeverity:""," ")}}function xi(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",192),A.NdJ("click",function(){A.CHM(t);const e=A.oxw().$implicit;return A.oxw(2).gotoSubscriberImpactedPage(e)}),A._uU(1),A.qZA()}if(2&t){const t=A.oxw().$implicit;A.xp6(1),A.hij(" ",null==t||null==t.subject?null:t.subject.impactedSubsCount," ")}}function Ai(t,e){if(1&t&&(A.TgZ(0,"div",182),A.TgZ(1,"span",34),A._uU(2),A.qZA(),A.qZA()),2&t){const t=A.oxw().$implicit;A.xp6(1),A.Q6J("ngClass",null!=t&&null!=t.subject&&t.subject.serviceAffecting?"subscriber-impact-red":""),A.xp6(1),A.hij(" ",null!=t&&null!=t.subject&&t.subject.serviceAffecting?"Yes":"No"," ")}}function Zi(t,e){if(1&t&&(A.TgZ(0,"td",193),A.TgZ(1,"div",194),A._uU(2),A.qZA(),A.qZA()),2&t){const t=A.oxw().$implicit;A.xp6(2),A.Oqu(t.subject?t.subject.repairAction:"")}}function Oi(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",198),A.NdJ("click",function(){A.CHM(t);const e=A.oxw(2),i=e.$implicit,a=e.index;return A.oxw(2).openNotesModal(i.subject.alarmId,i.subject.notes?i.subject.notes:null,!1,a)}),A._UZ(1,"img",199),A.qZA()}}function Si(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",200),A.NdJ("click",function(){A.CHM(t);const e=A.oxw(2),i=e.$implicit,a=e.index;return A.oxw(2).openNotesModal(i.subject.alarmId,i.subject.notes?i.subject.notes:null,!0,a)}),A._UZ(1,"img",201),A.qZA()}if(2&t){const t=A.oxw(4);A.xp6(1),A.s9C("title",t.language.Edit)}}function Ti(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",198),A.NdJ("click",function(){A.CHM(t);const e=A.oxw(2),i=e.$implicit,a=e.index;return A.oxw(2).deleteConfirmModal(i.subject.alarmId,a)}),A._UZ(1,"img",202),A.qZA()}if(2&t){const t=A.oxw(4);A.xp6(1),A.s9C("title",t.language.Delete)}}function _i(t,e){if(1&t&&(A.TgZ(0,"td",195),A.YNc(1,Oi,2,0,"div",196),A.YNc(2,Si,2,1,"div",197),A.YNc(3,Ti,2,1,"div",196),A.qZA()),2&t){const t=A.oxw().$implicit;A.xp6(1),A.Q6J("ngIf",!t.subject.notes),A.xp6(1),A.Q6J("ngIf",t.subject.notes),A.xp6(1),A.Q6J("ngIf",t.subject.notes)}}function wi(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"tr",181),A.NdJ("click",function(){const e=A.CHM(t),i=e.$implicit,a=e.index;return A.oxw(2).viewDetails(i,a)}),A.TgZ(1,"td",182),A._uU(2),A.qZA(),A.TgZ(3,"td",182),A._uU(4),A.qZA(),A.TgZ(5,"td",182),A._uU(6),A.qZA(),A.TgZ(7,"td",182),A._uU(8),A.qZA(),A.TgZ(9,"td",183),A._UZ(10,"div",184),A.qZA(),A.YNc(11,Ci,4,4,"td",185),A.TgZ(12,"td"),A.TgZ(13,"div",186),A.YNc(14,xi,2,1,"div",187),A.YNc(15,Ai,3,2,"div",211),A.qZA(),A.qZA(),A.YNc(16,Zi,3,1,"td",188),A.YNc(17,_i,4,3,"td",189),A.qZA()}if(2&t){const t=e.$implicit,i=A.oxw(2);A.xp6(2),A.Oqu(t.subject&&t.subject.timeRaised?i.convertToDateTime(t.subject.timeRaised):""),A.xp6(2),A.Oqu(t.time?i.convertToDateTime(t.time):""),A.xp6(2),A.Oqu(t.subject?t.subject.alarmEventName:""),A.xp6(2),A.Oqu(t.subject?t.subject.category:""),A.xp6(2),A.Q6J("innerHtml",t.subject.resourceForUI?t.subject.resourceForUI:"",A.oJD),A.xp6(1),A.Q6J("ngIf","Alarm"===i.clickedAlarmType&&"Event"!==i.alarmType),A.xp6(3),A.Q6J("ngIf",null==t||null==t.subject?null:t.subject.impactedSubsCount),A.xp6(1),A.Q6J("ngIf",!(null!=t&&null!=t.subject&&t.subject.impactedSubsCount)),A.xp6(1),A.Q6J("ngIf","Alarm"===i.clickedAlarmType&&"Event"!==i.alarmType),A.xp6(1),A.Q6J("ngIf",i.hasWriteAccess)}}function qi(t,e){if(1&t&&(A.TgZ(0,"tbody"),A.TgZ(1,"tr"),A.TgZ(2,"td",203),A._uU(3),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(3),A.hij("",t.language["No data available in table"]," ")}}const Mi=function(t){return{"page-disabled":t}};function Ni(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",22),A.TgZ(1,"div",204),A.YNc(2,vi,5,1,"div",205),A.TgZ(3,"table",206),A.TgZ(4,"thead"),A.TgZ(5,"tr"),A.TgZ(6,"th",172),A._uU(7),A.qZA(),A.TgZ(8,"th"),A._uU(9),A.qZA(),A.TgZ(10,"th",173),A._uU(11),A.qZA(),A.TgZ(12,"th"),A._uU(13),A.qZA(),A.TgZ(14,"th"),A._uU(15),A.qZA(),A.YNc(16,yi,2,1,"th",174),A.TgZ(17,"th"),A._uU(18),A.qZA(),A.YNc(19,fi,2,1,"th",176),A.YNc(20,bi,2,1,"th",177),A.qZA(),A.qZA(),A.TgZ(21,"tbody"),A.YNc(22,wi,18,10,"tr",178),A.qZA(),A.YNc(23,qi,4,1,"tbody",177),A._UZ(24,"tbody"),A.qZA(),A.TgZ(25,"div",207),A.TgZ(26,"div",208),A.TgZ(27,"a",209),A.NdJ("click",function(){return A.CHM(t),A.oxw().gotoPrevious()}),A._uU(28),A.qZA(),A.TgZ(29,"a",209),A.NdJ("click",function(){return A.CHM(t),A.oxw().gotoNext()}),A._uU(30),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw();A.xp6(2),A.Q6J("ngIf",t.paginateLoading),A.xp6(5),A.AsE("",t.language["Reported Time"],"(UTC/",t.timeZone,")"),A.xp6(2),A.AsE("",t.language["Synced Time"]," (UTC/",t.timeZone,")"),A.xp6(2),A.hij("","Alarm"===t.clickedAlarmType&&"Event"!==t.alarmType?t.language["Alarm Name"]:t.language["Event Name"]," "),A.xp6(2),A.hij("",t.language.Category," "),A.xp6(2),A.Oqu(t.language.Resource),A.xp6(1),A.Q6J("ngIf","Alarm"===t.clickedAlarmType&&"Event"!==t.alarmType),A.xp6(2),A.Oqu(t.language["Subscriber Impact"]),A.xp6(1),A.Q6J("ngIf","Alarm"===t.clickedAlarmType&&"Event"!==t.alarmType),A.xp6(1),A.Q6J("ngIf",t.hasWriteAccess),A.xp6(2),A.Q6J("ngForOf",t.list),A.xp6(1),A.Q6J("ngIf",!(null!=t.list&&t.list.length)),A.xp6(4),A.Q6J("ngClass",A.VKq(18,Mi,!t.previousFlag)),A.xp6(1),A.Oqu(t.language.Previous),A.xp6(1),A.Q6J("ngClass",A.VKq(20,Mi,!t.nextFlag)),A.xp6(1),A.Oqu(t.language.Next)}}function ki(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw().serverityError=!1}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw();A.xp6(5),A.Q6J("innerHtml",t.serverityErrorInfo,A.oJD)}}function Di(t,e){if(1&t&&(A.TgZ(0,"div",147),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw();A.xp6(4),A.Oqu(t.language.Loading)}}function Pi(t,e){1&t&&(A.TgZ(0,"div",151),A.TgZ(1,"div",152),A._UZ(2,"div",212),A.qZA(),A.TgZ(3,"div",152),A._UZ(4,"div",213),A.qZA(),A.qZA())}function Ei(t,e){1&t&&(A.TgZ(0,"div",151),A.TgZ(1,"div",155),A._UZ(2,"div",214),A.qZA(),A.qZA())}function Ii(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).errors.byday=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.errors.byday,A.oJD)}}function Ui(t,e){if(1&t&&(A.TgZ(0,"div",147),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function Fi(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",8),A.TgZ(1,"div",9),A.TgZ(2,"div",10),A.TgZ(3,"div",11),A._uU(4),A.qZA(),A.TgZ(5,"div",12),A.TgZ(6,"button",36),A.NdJ("click",function(){return A.CHM(t),A.oxw().download("byday","alarm")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(7,"div",59),A.YNc(8,Ii,6,1,"div",15),A.YNc(9,Ui,5,1,"div",38),A.TgZ(10,"div",158),A.TgZ(11,"div",159),A._UZ(12,"div",215),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw();A.xp6(4),A.hij(" ",t.language["Alarm by Days"]," "),A.xp6(2),A.s9C("title",t.language.export),A.xp6(2),A.Q6J("ngIf",t.errors.byday),A.xp6(1),A.Q6J("ngIf",t.loading),A.xp6(1),A.Q6J("ngClass",t.loading?"d-none":"d-block md-block"),A.xp6(1),A.Q6J("hidden",t.errors.byday)}}function Li(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw().errors.region=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw();A.xp6(5),A.Q6J("innerHtml",t.errors.region,A.oJD)}}function ji(t,e){if(1&t&&(A.TgZ(0,"div",161),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw();A.xp6(4),A.Oqu(t.language.Loading)}}function Ji(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw().regionError=!1}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw();A.xp6(5),A.Q6J("innerHtml",t.regionErrorInfo,A.oJD)}}function $i(t,e){if(1&t&&(A.TgZ(0,"div",161),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw();A.xp6(4),A.Oqu(t.language.Loading)}}function Ri(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw().errors.location=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw();A.xp6(5),A.Q6J("innerHtml",t.errors.location,A.oJD)}}function Hi(t,e){if(1&t&&(A.TgZ(0,"div",161),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw();A.xp6(4),A.Oqu(t.language.Loading)}}function Qi(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw().errors["location-event"]=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw();A.xp6(5),A.Q6J("innerHtml",t.errors["location-event"],A.oJD)}}function Bi(t,e){if(1&t&&(A.TgZ(0,"div",161),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw();A.xp6(4),A.Oqu(t.language.Loading)}}function Vi(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw().errors.system=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw();A.xp6(5),A.Q6J("innerHtml",t.errors.system,A.oJD)}}function Yi(t,e){if(1&t&&(A.TgZ(0,"div",161),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw();A.xp6(4),A.Oqu(t.language.Loading)}}function zi(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw().errors["system-event"]=""}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw();A.xp6(5),A.Q6J("innerHtml",t.errors["system-event"],A.oJD)}}function Gi(t,e){if(1&t&&(A.TgZ(0,"div",161),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw();A.xp6(4),A.Oqu(t.language.Loading)}}function Wi(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw().locationError=!1}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw();A.xp6(5),A.Q6J("innerHtml",t.locationErrorInfo,A.oJD)}}function Ki(t,e){if(1&t&&(A.TgZ(0,"div",161),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw();A.xp6(4),A.Oqu(t.language.Loading)}}function Xi(t,e){if(1&t&&(A.TgZ(0,"div",45),A.TgZ(1,"div",216),A._UZ(2,"div",217),A.qZA(),A.qZA()),2&t){const t=A.oxw();A.xp6(1),A.Q6J("ngClass",t.loading?"d-none":"d-block")}}function ta(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw().systemError=!1}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw();A.xp6(5),A.Q6J("innerHtml",t.systemErrorInfo,A.oJD)}}function ea(t,e){if(1&t&&(A.TgZ(0,"div",147),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw();A.xp6(4),A.Oqu(t.language.Loading)}}function ia(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",218),A.TgZ(1,"h5",219),A._uU(2),A.qZA(),A.TgZ(3,"div"),A._uU(4),A.qZA(),A.TgZ(5,"button",220),A.NdJ("click",function(){return A.CHM(t).$implicit.dismiss("Cross click")}),A._UZ(6,"span",58),A.qZA(),A.qZA(),A.TgZ(7,"div",221),A.TgZ(8,"button",222),A.NdJ("click",function(){return A.CHM(t).$implicit.close("Save click")}),A._uU(9),A.qZA(),A.qZA()}if(2&t){const t=A.oxw();A.xp6(2),A.Oqu(t.modalTitle),A.xp6(2),A.hij(" ",t.modalInfo," "),A.xp6(5),A.hij(" ",t.language.Ok," ")}}function aa(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).closeAlert()}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.noteErrorInfo,A.oJD)}}function na(t,e){if(1&t&&(A.TgZ(0,"div",210),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function sa(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"button",228),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).addNotes()}),A._uU(1),A.qZA()}if(2&t){const t=A.oxw(2);A.Q6J("disabled",t.btnDisabled||""===t.notes),A.xp6(1),A.hij(" ",t.language.Add," ")}}function oa(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"button",228),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).addNotes()}),A._uU(1),A.qZA()}if(2&t){const t=A.oxw(2);A.Q6J("disabled",t.btnDisabled||""===t.notes),A.xp6(1),A.hij(" ",t.language.Update," ")}}function ra(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",218),A.TgZ(1,"h5",219),A._uU(2),A.qZA(),A.TgZ(3,"button",220),A.NdJ("click",function(){return A.CHM(t),A.oxw().closeNotes()}),A._UZ(4,"span",58),A.qZA(),A.qZA(),A.TgZ(5,"div",22),A.YNc(6,aa,6,1,"div",15),A.qZA(),A.TgZ(7,"div",221),A.YNc(8,na,5,1,"div",205),A.TgZ(9,"div",223),A._UZ(10,"textarea",224),A.qZA(),A.TgZ(11,"div",225),A.YNc(12,sa,2,2,"button",226),A.YNc(13,oa,2,2,"button",226),A.TgZ(14,"button",227),A.NdJ("click",function(){return A.CHM(t),A.oxw().closeNotes()}),A._uU(15),A.qZA(),A.qZA(),A.qZA()}if(2&t){const t=A.oxw();A.xp6(2),A.Oqu(t.language.Notes),A.xp6(4),A.Q6J("ngIf",t.noteError),A.xp6(2),A.Q6J("ngIf",t.noteSaveLoader),A.xp6(2),A.MGl("placeholder","",t.language.Notes,".."),A.Q6J("formControl",t.notes)("formValue",t.notes),A.xp6(2),A.Q6J("ngIf",!t.showEdit),A.xp6(1),A.Q6J("ngIf",t.showEdit),A.xp6(2),A.hij(" ",t.language.Cancel," ")}}function la(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",218),A.TgZ(1,"h5",219),A._uU(2),A.qZA(),A.TgZ(3,"button",220),A.NdJ("click",function(){return A.CHM(t),A.oxw().closeNotes()}),A._UZ(4,"span",58),A.qZA(),A.qZA(),A.TgZ(5,"div",221),A.TgZ(6,"div",223),A._uU(7),A.qZA(),A.qZA()}if(2&t){const t=A.oxw();A.xp6(2),A.Oqu(t.language.Notes),A.xp6(5),A.hij(" ",t.notes," ")}}function ca(t,e){if(1&t&&(A.TgZ(0,"div",210),A.TgZ(1,"div",148),A.TgZ(2,"div",149),A.TgZ(3,"span",150),A._uU(4),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(4),A.Oqu(t.language.Loading)}}function ha(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).closeAlert()}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.deleteErrorInfo,A.oJD)}}function da(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",229),A.TgZ(1,"h4",230),A._uU(2),A.qZA(),A.TgZ(3,"button",231),A.NdJ("click",function(){return A.CHM(t),A.oxw().closeNotes()}),A._UZ(4,"span",58),A.qZA(),A.qZA(),A.TgZ(5,"div",232),A.YNc(6,ca,5,1,"div",205),A.TgZ(7,"p"),A._uU(8),A.qZA(),A.qZA(),A.TgZ(9,"div",22),A.YNc(10,ha,6,1,"div",15),A.qZA(),A.TgZ(11,"div",233),A.TgZ(12,"button",234),A.NdJ("click",function(){return A.CHM(t),A.oxw().deleteNotes()}),A._uU(13),A.qZA(),A.TgZ(14,"button",235),A.NdJ("click",function(){return A.CHM(t),A.oxw().closeNotes()}),A._uU(15),A.qZA(),A.qZA()}if(2&t){const t=A.oxw();A.xp6(2),A.Oqu(t.language.Delete),A.xp6(4),A.Q6J("ngIf",t.noteSaveLoader),A.xp6(2),A.hij(" ",t.language["Are you sure you want to delete this notes"],"? "),A.xp6(2),A.Q6J("ngIf",t.deleteError),A.xp6(2),A.Q6J("disabled",t.btnDisabled),A.xp6(1),A.hij(" ",t.language.Yes," "),A.xp6(2),A.hij(" ",t.language.No," ")}}function ga(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",142),A.TgZ(1,"span",143),A._UZ(2,"img",144),A.qZA(),A.TgZ(3,"button",145),A.NdJ("click",function(){return A.CHM(t),A.oxw(2).closeAlert()}),A._UZ(4,"span"),A.qZA(),A._UZ(5,"div",146),A.qZA()}if(2&t){const t=A.oxw(2);A.xp6(5),A.Q6J("innerHtml",t.errorInfo,A.oJD)}}function ma(t,e){if(1&t&&(A.TgZ(0,"div",237),A.TgZ(1,"div",238),A.TgZ(2,"label"),A._uU(3),A.qZA(),A.TgZ(4,"h3"),A._uU(5),A.qZA(),A.qZA(),A.TgZ(6,"div",238),A.TgZ(7,"label"),A._uU(8),A.qZA(),A.TgZ(9,"h3"),A._uU(10),A.qZA(),A.qZA(),A.TgZ(11,"div",238),A.TgZ(12,"label"),A._uU(13),A.qZA(),A.TgZ(14,"h3"),A._uU(15),A.qZA(),A.qZA(),A.TgZ(16,"div",238),A.TgZ(17,"label"),A._uU(18),A.qZA(),A.TgZ(19,"h3"),A._uU(20),A.qZA(),A.qZA(),A.TgZ(21,"div",238),A.TgZ(22,"label"),A._uU(23),A.qZA(),A.TgZ(24,"h3"),A._uU(25),A.qZA(),A.qZA(),A.TgZ(26,"div",238),A.TgZ(27,"label"),A._uU(28),A.qZA(),A.TgZ(29,"h3"),A._uU(30),A.qZA(),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(3),A.Oqu(t.language.Name),A.xp6(2),A.Oqu(null!=t.subscriberInfo[0]&&t.subscriberInfo[0].name?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].name:"-"),A.xp6(3),A.Oqu(t.language.Account),A.xp6(2),A.Oqu(null!=t.subscriberInfo[0]&&t.subscriberInfo[0].account?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].account:"-"),A.xp6(3),A.Oqu(t.language.Email),A.xp6(2),A.Oqu(null!=t.subscriberInfo[0]&&t.subscriberInfo[0].email?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].email:"-"),A.xp6(3),A.hij("",t.language.Location_ID," "),A.xp6(2),A.Oqu(null!=t.subscriberInfo[0]&&t.subscriberInfo[0].subscriberLocationId?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].subscriberLocationId:"-"),A.xp6(3),A.Oqu(t.language.Service_address),A.xp6(2),A.Oqu(null!=t.subscriberInfo[0]&&t.subscriberInfo[0].serviceAddress?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].serviceAddress:"-"),A.xp6(3),A.Oqu(t.language.Phone),A.xp6(2),A.Oqu(null!=t.subscriberInfo[0]&&t.subscriberInfo[0].phone?null==t.subscriberInfo[0]?null:t.subscriberInfo[0].phone:"-")}}function pa(t,e){if(1&t&&(A.TgZ(0,"div"),A.TgZ(1,"p"),A._uU(2),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(2),A.hij("",t.language["No data available"]," ")}}function ua(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"div",218),A.TgZ(1,"h5",219),A._uU(2),A.qZA(),A.TgZ(3,"button",220),A.NdJ("click",function(){return A.CHM(t),A.oxw().closeNotes()}),A._UZ(4,"span",58),A.qZA(),A.qZA(),A.TgZ(5,"div",22),A.YNc(6,ga,6,1,"div",15),A.qZA(),A.TgZ(7,"div",221),A.YNc(8,ma,31,12,"div",236),A.YNc(9,pa,3,1,"div",177),A.qZA()}if(2&t){const t=A.oxw();A.xp6(2),A.Oqu(t.language["Subscriber Information"]),A.xp6(4),A.Q6J("ngIf",t.error),A.xp6(2),A.Q6J("ngIf",t.Infosub),A.xp6(1),A.Q6J("ngIf",!t.Infosub)}}i(86295)(s),y()(s),function(t){t.seriesTypes.line.prototype.drawLegendSymbol=t.seriesTypes.area.prototype.drawLegendSymbol}(s);let va=(()=>{class t{constructor(t,e,i,a,n,r,l,h,d,g,m,p){this.translateService=t,this.chartOptionService=e,this.http=i,this.commonOrgService=a,this.exportExcelService=n,this.issueService=r,this.dialogService=l,this.fb=h,this.ssoService=d,this.dateUtilsService=g,this.titleService=m,this.router=p,this.skipParamsForEvents=["severity","cco_ack","cco_shelv","customCategory"],this.showNewPagination=!0,this.disableExportBtn=!1,this.appliedParams={},this.transformedAlarms=["multiple-onts-down-network","multiple-onts-down-pon","multiple-onts-down-olt"],this.data={alarm:{byday:[],severity:[],region:[],location:[],system:[]},event:{region:[],location:[],system:[]}},this.params={alarm:{byday:{},severity:{},region:{},location:{},system:{}},event:{region:{},location:{},system:{}}},this.loaders={alarm:{byday:!1,severity:!1,region:!1,location:!1,system:!1},event:{region:!1,location:!1,system:!1}},this.deleteParams={alarm:{byday:{},severity:{},region:{},location:{},system:{}},event:{region:{},location:{},system:{}}},this.filters={alarm:{byday:{},severity:{},region:{},location:{},system:{}},event:{region:{},location:{},system:{}}},this.maxDate=new Date,this.maxForStartDate=new Date,this.count=0,this.initLoad=!1,this.types=[],this.typeSelected="",this.showTable=!1,this.dataAvailable=!1,this.dtTrigger=new c.xQ,this.dtOptions={},this.isRerender=!1,this.loading=!1,this.renderOnce=!1,this.error=!1,this.serverityError=!1,this.systemError=!1,this.locationError=!1,this.regionError=!1,this.serverityEventError=!1,this.systemEventError=!1,this.locationEventError=!1,this.regionEventError=!1,this.fullScreenError=!1,this.btnDisabled=!1,this.applyDisabled=!1,this.DateValue="1",this.category=["All"],this.loadLocationChart=!1,this.loadAalarmLocationChart=!1,this.loadEventLocationChart=!1,this.Highcharts=s,this.totalAlarms=0,this.baseUrl=`${o.N.API_BASE_URL}analytics-engine/`,this.url="",this.regionParam="",this.locationParam="",this.systemParam="",this.FSANParam="",this.severityParam="",this.alarmTypeParam="",this.dateParam="",this.typeParam="historyReport=true",this.fullScreen=!1,this.paseWeekValue=1,this.pastMonthValue=1,this.alarmType="Alarm",this.alarmBy="",this.alarmEventName="",this.regionsDataArray=["All"],this.regionArray=["All"],this.locationDataArray=["All"],this.systemDataArray=["All"],this.showSevertiyFullChart=!1,this.fullScrenSubHeading="",this.colors={MINOR:"#F3B426",MAJOR:"#FC7235",CRITICAL:"#C70000",WARNING:"#f7e9c1",INFO:"#7cb5ec"},this.colorClass={MINOR:"minor-but",MAJOR:"major-but",CRITICAL:"critical-but",WARNING:"warning-but",INFO:"severity-info-but"},this.categories=[],this.acknowledgedAlarms=[{id:"all",name:"All"},{id:"false",name:"Hide Acknowledged Alarms"},{id:"true",name:"Show Acknowledged Alarms"}],this.shelvedAlarms=[{id:"all",name:"All"},{id:"false",name:"Hide Shelved Alarms"},{id:"true",name:"Show Shelved Alarms"}],this.entries=[{id:10,name:10},{id:25,name:25},{id:50,name:50},{id:100,name:100}],this.setClear=!0,this.both=!1,this.filtersForm=this.fb.group({startDate:[""],endDate:[""],alarmType:[""],region:[""],location:[""],system:[""],fsan:[""],severity:[""],category:[""],customCategory:[""],eventName:"All",cco_ack:"all",cco_shelv:"all"}),this.appliedFilters={startDate:!0,endDate:!0,alarmType:!0,region:!0,location:!0,system:!0,fsan:!0,severity:!0,category:!0,eventName:!0,customCategory:!0,cco_ack:!0,cco_shelv:!0},this.alarmTypesToExport=[],this.exportParams={},this.exportAlarmCount=0,this.isDev=!1,this.totalAlarms_cleared=0,this.systemsObj={},this.hasWriteAccess=!1,this.previousFlag=!1,this.nextFlag=!1,this.isNotesModalOpen=!1,this.showSeverity=!0,this.showAlarmGroup=!0,this.showAckShelve=!0,this.filterApplied=!1,this.clickedRegion="",this.clickedEventRegion="",this.clickedLocation="",this.clickedEventLocation="",this.clickedSystem="",this.clickedLoctionsObj={},this.clickedSystemsObj={},this.clickedEventLoctionsObj={},this.clickedEventSystemsObj={},this.loadSystemChart=!1,this.loadRegionChart=!0,this.clickedSeverity="",this.hasScopeAccess=!1,this.errors={byday:"",severity:"",region:"",location:"",system:""},this.clickedAlarmTypeInBC="",this.alarmTypeInBoth="",this.alarmTitleInBoth="",this.eventTitleInBoth="",this.alarmChartType="",this.eventChartType="",this.clickedAlarmType="",this.chartTypeInFS="",this.clickOnClearedAlarms=!1,this.clickOnRaisedAlarms=!1,this.fullscreenParams=[],this.applyFiltersInFS=!1,this.searchText$=new c.xQ,this.searchTerm="",this.showAckShelveBtn=!1,this.fullData={},this.hideSource=!1,this.customCategories=[],this.alarmNames=[],this.notes=new f.NI(""),this.showEdit=!1,this.noteError=!1,this.noteErrorInfo="",this.noteSaveLoader=!1,this.deleteError=!1,this.deleteErrorInfo="",this.bothRegion=!1,this.bothLocation=!1,this.bothSystem=!1,this.bothRegionAlarm=!1,this.bothLocationAlarm=!1,this.bothSystemAlarm=!1,this.bothRegionEvent=!1,this.bothLocationEvent=!1,this.bothSystemEvent=!1,this.paginateLoading=!1,this.paginateQuery="",this.entry=new f.NI(10),this.searchQuery="",this.setAppliedFilters(),this.chartOptionService.setFiltersObj(),this.toggleSubscription=this.ssoService.toggled$.subscribe(t=>{s.charts.forEach(t=>{setTimeout(()=>{null!=t&&t.reflow()},100)})})}ngOnInit(){var t;-1!==o.N.API_BASE_URL.indexOf("dev.api.calix.ai")&&(this.showNewPagination=!0),this.timeZone=(new Date).toString().split(" ")[5].replace(/(.{2})$/,":$1"),this.Severity="all";let e=new Date;this.FromDate=new Date(e.getTime()-864e5),this.ToDate=new Date,this.filtersForm.patchValue({startDate:this.FromDate,endDate:this.ToDate,alarmType:"Alarm",region:["All"],location:["All"],system:["All"],severity:"All",category:["All"],customCategory:"None",eventName:["All"],cco_ack:"all",cco_shelv:"all"}),this.language=this.translateService.defualtLanguage,this.tableLanguageOptions(),this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.tableLanguageOptions(),this.language=t,setTimeout(()=>{this.loadIntialData()},1e3),this.showTable&&this.redraw(),this.titleService.setTitle(`${this.language["Historical Reports"]} - ${this.language.Alarms} - ${this.language.Issues} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`${this.language["Historical Reports"]} - ${this.language.Alarms} - ${this.language.Issues} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`),this.ToDate=new Date;let i=this.ssoService.getScopes();if(-1!==(null===(t=i["cloud.rbac.coc.issues.report.historyalarm"])||void 0===t?void 0:t.indexOf("write"))&&(this.hasWriteAccess=!0),o.N.VALIDATE_SCOPE){let t=Object.keys(i);if(t)for(let e=0;e<t.length;e++)if(-1!==t[e].indexOf("cloud.rbac.coc.issues.report.historyalarm")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.hasScopeAccess?(this.ssoService.setPageAccess(!0),this.getCategories(),this.getCustomCategories(),this.getAlarmNames(),this.loadRegionsSystemsOptionsData()):this.ssoService.setPageAccess(!1)}ngAfterViewInit(){this.showNewPagination?(this.doSearchNew(),this.listenChangeEntries()):this.doSearch(),this.notes.valueChanges.subscribe(t=>{this.showEdit||this.notes.value?this.showEdit&&this.isNotesModalOpen?this.isNotesModalOpen=!1:this.btnDisabled=!1:this.btnDisabled=!0})}pastWeekChange(){let t=new Date(this.FromDate);this.FromDate=new Date(t.getFullYear(),t.getMonth(),t.getDate()-(8-this.paseWeekValue))}pastMonthChange(){let t=new Date(this.FromDate);this.FromDate=new Date(t.getFullYear(),t.getMonth(),t.getDate()-(31-this.pastMonthValue))}loadRegionsSystemsOptionsData(){const t={};t.regions=this.issueService.getRegions(!0).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t)))),t.systems=this.http.get(`${o.N.API_BASE_URL}nfa/systems?tenant=0&includeDeleted=true`).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t)))),(0,d.D)(t).subscribe(t=>{var e;if(null===(e=null==t?void 0:t.regions)||void 0===e?void 0:e["api-error"])return void this.loadIntialData();this.regionSelected="All",this.locationSelected="All",this.systemSelected="All";let i=t.regions,a=[];i&&i.length&&(i=this.issueService.appendFqn(i),i.forEach(t=>{t.isDeleted||a.push(t)})),this.chartOptionService.setRegionsInfo(i),i.sort(),this.regionsDataArray=[...this.regionsDataArray,...a];let n=t.systems;this.systemsObj={};let s={};n&&n.forEach(t=>{s[t.uuid]=t.name}),this.systemsObj=s,this.loadIntialData()})}regionsApiLoader(){new Set,this.regionSelected="All",this.locationSelected="All",this.regionsSubject=this.issueService.getRegions(!0).subscribe(t=>{let e=[];t&&t.length&&(t=this.issueService.appendFqn(t)).forEach(t=>{t.isDeleted||e.push(t)}),this.chartOptionService.setRegionsInfo(t),t.sort(),this.regionsDataArray=[...this.regionsDataArray,...e],this.loadIntialData()},t=>{this.loadIntialData()})}loadLocationValue(t){this.clickedRegion="",this.clickedEventRegion="",this.locationSelected="All",this.systemSelected="All";let e=this.filtersForm.get("region").value,i=this.filtersForm.get("location").value;if(this.regionSelected=e,this.regionSelected){let t="";if(e.length){if(-1!==e.indexOf("All"))return this.regionName=null,this.locationName=null,this.systemName=null,this.locationDataArray=["All"],void(this.systemDataArray=["All"]);e.forEach(e=>{"All"!=e&&(t+=`&region=${e}`)}),this.locationsSubject=this.http.get(`${o.N.API_BASE_URL}nfa/locations?tenant=0${t}&includeDeleted=true`).pipe((0,l.U)(t=>(t.sort((t,e)=>(t.name||"").toString().localeCompare((e.name||"").toString(),"en",{numeric:!1})),this.issueService.appendFqn(t))),(0,r.K)(this.handleError)).subscribe(t=>{let e=[];if(this.chartOptionService.setLocationsInfo(t),this.locationDataArray=["All"],t.forEach(t=>{t.isDeleted||e.push(t)}),this.locationDataArray=[...this.locationDataArray,...e],i&&i.length){let t=this.chartOptionService.getLocationsObj(),e=Object.keys(t).length?Object.keys(t):[],a=[];i.forEach(t=>{-1!==e.indexOf(t)&&a.push(t)}),a.length||(a=["All"]),this.filtersForm.get("location").setValue(a),this.loadSystemValue()}},t=>{}),this.regionName=e}else this.filtersForm.get("region").setValue(["All"]),this.filtersForm.get("location").setValue(["All"]),this.filtersForm.get("system").setValue(["All"]),this.regionName=null,this.locationName=null,this.systemName=null,this.locationDataArray=["All"],this.systemDataArray=["All"]}}loadSystemValue(t){this.clickedRegion="",this.clickedEventRegion="",this.clickedLocation="",this.clickedEventLocation="";let e=this.filtersForm.get("region").value,i=this.filtersForm.get("location").value,a=this.filtersForm.get("system").value;if(this.systemSelected=["All"],e.length&&i.length&&-1===i.indexOf("All")){let t="";e.forEach(e=>{"All"!=e&&(t+=`&region=${e}`)});let n="";i.forEach(t=>{"All"!=t&&(n+=`&location=${t}`)}),this.systemsSubject=this.http.get(`${o.N.API_BASE_URL}nfa/systems?tenant=0${t}${n}&includeDeleted=true`).pipe((0,l.U)(t=>(t.sort((t,e)=>(t.name||"").toString().localeCompare((e.name||"").toString(),"en",{numeric:!1})),t)),(0,r.K)(this.handleError)).subscribe(t=>{let e=[];if(this.chartOptionService.setSystemsInfo(t),this.systemDataArray=["All"],t.forEach(t=>{t.isDeleted||e.push(t)}),this.systemDataArray=[...this.systemDataArray,...e],a&&a.length){let t=this.chartOptionService.getSystemsObj(),e=Object.keys(t).length?Object.keys(t):[],i=[];a.forEach(t=>{-1!==e.indexOf(t)&&i.push(t)}),i.length||(i=["All"],this.systemName=null),this.filtersForm.get("system").setValue(i)}},t=>{}),this.locationName=i}else i.length||(this.filtersForm.get("location").setValue(["All"]),this.filtersForm.get("system").setValue(["All"]),this.locationName=null,this.systemName=null,this.systemDataArray=["All"])}selectLocation(t){}selectSystem(t){let e=this.filtersForm.get("system").value;this.systemName=e,"All"==e&&(this.systemName=null)}selectAlarmType(){this.getCategories();let t=this.filtersForm.get("alarmType").value;this.showSeverity=!0,this.showAlarmGroup=!0,this.showAckShelve=!0,"Alarm"==t?(this.eventName=null,this.getAlarmNames("Alarm")):"Event"==t?(this.showSeverity=!1,this.showAlarmGroup=!1,this.showAckShelve=!1,this.filtersForm.get("severity").setValue("All"),this.getAlarmNames("Event")):this.getAlarmNames("Both"),"Event"==t&&this.filtersForm.get("customCategory").setValue("None")}changeDate(){return this.maxForStartDate=this.filtersForm.get("endDate").value,this.validateBeyondDates(this.ToDate)?this.validateStartEndDates()?void(this.dateParam=this.FromDate&&this.ToDate?"&date="+this.FromDate.getTime()+"%2C"+this.ToDate.getTime():""):(this.modalTitle=this.language.Time_Period,this.modalInfo=this.language["Time range not valid, end time should be later than start time."],void this.openModalInfo()):(this.modalTitle=this.language.Time_Period,this.modalInfo="Time range not valid, selected date should not be later than current date time.",void this.openModalInfo())}alarmsCount(){let t=this.filtersForm.value;t.startDate?(t.endDate||(t.endDate=new Date),this.dateParam="&date="+this.dateUtilsService.getUtCMilliSecByDateObj(t.startDate)+"%2C"+this.dateUtilsService.getUtCMilliSecByDateObj(t.endDate,!0)):this.dateParam="",this.issueService.filterCounts(this.dateParam),this.countSubscribe=this.http.get(`${this.baseUrl}alarmCount?reportType=HISTORY${this.dateParam}`).subscribe(t=>{this.clearedCountData=t&&t.alarm&&t.alarm.cleared?t.alarm.cleared:{},this.countData=t&&t.alarm&&t.alarm.raised?t.alarm.raised:{},this.eventCountData=t&&t.event&&t.event.count?t.event.count:"0",this.criticalAlarms=this.countData.critical?this.countData.critical.toLocaleString():"0",this.majorAlarms=this.countData.major?this.countData.major.toLocaleString():"0",this.minorAlarms=this.countData.minor?this.countData.minor.toLocaleString():"0",this.totalAlarms=this.countData.critical+this.countData.major+this.countData.minor+this.countData.warning+this.countData.info,this.totalAlarms_cleared=this.clearedCountData.critical+this.clearedCountData.major+this.clearedCountData.minor+this.clearedCountData.warning+this.clearedCountData.info,this.totalAlarms=this.totalAlarms?this.totalAlarms.toLocaleString():"0",this.totalEvents=this.eventCountData?this.eventCountData.toLocaleString():"0",this.warningData=this.countData&&this.countData.warning?this.countData.warning:"0",this.warningAlarms=this.warningData?this.warningData.toLocaleString():"0",this.countData&&this.countData.info&&(this.countData.info=this.countData.info.toLocaleString()),this.loading=!1},t=>{this.pageErrorHandle(t),this.criticalAlarms="0",this.majorAlarms="0",this.minorAlarms="0",this.totalAlarms="0",this.loading=!1})}ngOnDestroy(){var t,e,i;null===(t=this.searchSub)||void 0===t||t.unsubscribe(),null===(e=this.languageSubject)||void 0===e||e.unsubscribe(),this.severitySubscribe&&this.severitySubscribe.unsubscribe(),this.systemSubscribe&&this.systemSubscribe.unsubscribe(),this.locationSubscribe&&this.locationSubscribe.unsubscribe(),this.regionSubscribe&&this.regionSubscribe.unsubscribe(),this.countSubscribe&&this.countSubscribe.unsubscribe(),null===(i=this.toggleSubscription)||void 0===i||i.unsubscribe()}clearFilter(){this.entry.setValue(10),this.fullScreen=!1,this.loadLocationChart=!this.loadLocationChart,this.DateValue=null,this.Region=null,this.Location=null,this.System=null,this.FSAN=null,this.eventName=null,this.regionSelected=void 0,this.locationSelected=void 0,this.systemSelected=void 0,this.alarmType="Alarm",this.Severity=null,this.severityParam="",this.regionParam="",this.locationParam="",this.systemParam="",this.FSANParam="",this.dateParam="",this.category=null,this.alarmEventName="",this.locationDataArray=["All"],this.systemDataArray=["All"],this.showSeverity=!0,this.showAlarmGroup=!0,this.filtersForm.get("category").enable(),this.filtersForm.get("customCategory").enable(),this.regionName=void 0,this.locationName=void 0,this.systemName=void 0;let t=new Date;this.FromDate=new Date(t.getTime()-864e5),this.ToDate=new Date,this.maxDate=new Date,this.maxForStartDate=new Date,this.filtersForm.patchValue({startDate:this.FromDate,endDate:this.ToDate,alarmType:"Alarm",region:["All"],location:["All"],system:["All"],severity:"All",category:["All"],fsan:"",customCategory:"None",eventName:["All"],cco_ack:"all",cco_shelv:"all"}),this.getCategories(),this.loadIntialData()}fullScreenInvertFunction(){this.setSearchQuery(""),this.fullscreenParams=[],this.deleteFullScreenParams(),this.clickedAlarmTypeInBC="",this.clickOnClearedAlarms=!1,this.clickOnRaisedAlarms=!1,this.searchTerm="",this.clickedSeverity="",this.clickedSystem="",this.fullScreen=!1,this.searchText$.next(""),this.entry.setValue(10),this.showSevertiyFullChart=!1,this.applyFiltersInFS&&(this.applyFiltersInFS=!1,this.loadIntialData())}closeAlert(){this.error=!1}pageErrorHandle(t){this.errorInfo=401==t.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(t),this.error=!0,this.loading=!1}downloadExcel(t,e){let i="#";i=i+e+"DownloadSection",this.fullScreen?t=this.fullScreenChartName:!this.loadLocationChart&&"Location"==e&&(t=t.replace("Location","Region")),$(i).addClass("spinnershow");let a=[];if(a="Severity"==e?this.chartDataFraming(this.severityChartData?this.severityChartData:[],"Severity"):"System"==e?this.chartDataFraming(this.systemChartData?this.systemChartData:[],"System"):"Location"==e&&this.loadLocationChart?this.chartDataFraming(this.locationChartData?this.locationChartData:[],"Location"):this.chartDataFraming(this.regionChartData?this.regionChartData:[],"Region"),"fullScreen"==e){let e=t.split(" ")[2];a=this.chartDataFraming(this.fullScreenData?this.fullScreenData:[],e)}let n=this.generateDownloadName(t);this.exportExcelService.downLoadCSV(n,a,`${t}\r\nDate: ${"1"==this.DateValue?this.language["Past week"]:"2"==this.DateValue?this.language["Past Month"]:""}\r\nAlarm Type: ${"Alarm"==this.alarmType?"Alarm":"Event"==this.alarmType?"Event":"Both"==this.alarmType?"Both":""}\r\nRegion: ${this.Region?this.Region:""}\r\nLocation: ${this.Location?this.Location:""} \r\nSystem: ${this.System?this.System:""} \r\nFSAN/SN: ${this.FSAN?this.FSAN:""} \r\nSeverity: ${this.Severity?this.Severity:""}\n                  \r\n`),setTimeout(()=>{$(i).removeClass("spinnershow")},1e3)}downloadBothTypeExcel(t,e,i){let a="#";a=a+e+"DownloadSection",$(a).addClass("spinnershow");let n=[];n="Severity"==i?this.chartDataFraming(this.severityChartData?this.severityChartData:[],"Severity"):"System"==i?this.chartDataFraming(this.systemChartData?this.systemChartData:[],"System"):"Location"==i&&(this.loadEventLocationChart||this.loadAalarmLocationChart)?this.chartDataFraming(this.locationChartData?this.locationChartData:[],"Location"):this.chartDataFraming(this.regionChartData?this.regionChartData:[],"Region");let s=this.generateDownloadName(t);this.exportExcelService.downLoadCSV(s,n,`${t}\r\nAlarm Type: ${"Alarm"==this.alarmType?"Alarm":"Event"==this.alarmType?"Event":"Both"==this.alarmType?"Both":""}\r\nRegion: ${this.Region?this.Region:""}\r\nLocation: ${this.Location?this.Location:""} \r\nSystem: ${this.System?this.System:""} \r\nFSAN/SN: ${this.FSAN?this.FSAN:""} \r\nSeverity: ${this.Severity?this.Severity:""}\n                  \r\n`),setTimeout(()=>{$(a).removeClass("spinnershow")},1e3)}generateDownloadName(t){let e=t.split(" ").join("-"),i=(new Date).getTime(),a="";return a+=e+"-"+(this.formatTodayDate()?this.formatTodayDate():"")+"-"+i,a}formatTodayDate(){var t=new Date,e=""+(t.getMonth()+1),i=""+t.getDate(),a=t.getFullYear();return e.length<2&&(e="0"+e),i.length<2&&(i="0"+i),[a,e,i].join("-")}chartDataFraming(t,e){let i=[];return Array.isArray(t)?t.forEach(t=>{let a="System"==e?t.system:"Location"==e?t.location:"Region"==e?t.region:"",n={},s={};t.raised&&(n={Type:"Raised",Name:a||"",Minor:t.raised.minor?t.raised.minor:0,Major:t.raised.major?t.raised.major:0,Critical:t.raised.critical?t.raised.critical:0}),i.push(n),t.cleared&&(s={Type:"Cleared",Name:a||"",Minor:t.cleared.minor?t.cleared.minor:0,Major:t.cleared.major?t.cleared.major:0,Critical:t.cleared.critical?t.cleared.critical:0}),i.push(s)}):(t.raised&&i.push({Type:"Raised",Minor:t.raised.minor?t.raised.minor:0,Major:t.raised.major?t.raised.major:0,Critical:t.raised.critical?t.raised.critical:0}),t.cleared&&i.push({Type:"Cleared",Minor:t.cleared.minor?t.cleared.minor:0,Major:t.cleared.major?t.cleared.major:0,Critical:t.cleared.critical?t.cleared.critical:0})),i}startISODate(t){let e=new Date(t),i=e.getFullYear(),a=`${e.getMonth()+1}`,n=`${e.getDate()}`;return a.length<2&&(a=`0${a}`),n.length<2&&(n=`0${n}`),new Date(`${i}-${a}-${n}T00:00:00Z`).getTime()}endISODate(t){let e=new Date(t),i=e.getFullYear(),a=`${e.getMonth()+1}`,n=`${e.getDate()}`;return a.length<2&&(a=`0${a}`),n.length<2&&(n=`0${n}`),new Date(`${i}-${a}-${n}T23:59:59Z`).getTime()}validateStartEndDates(){return!(this.FromDate&&this.ToDate&&this.FromDate>this.ToDate)}validateBeyondDates(t){let e=new Date;return!(t&&t>e)}openModalInfo(){this.modalRef=this.dialogService.open(this.showInfoModal,{size:"lg",centered:!0,windowClass:"custom-modal"})}getChartByLocation(t=""){let e=new a.rS;this.errors.location="";let i,n,s=this.filtersForm.value;i=s.category&&s.category.length&&-1===s.category.indexOf("All")?s.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,n=s.customCategory&&s.customCategory.length&&-1===s.customCategory.indexOf("None")?s.customCategory:void 0,t||(t=this.alarmType),s.severity&&"all"===s.severity.toLowerCase()&&(s.severity=void 0);let r="";"Alarm"==t?(r=this.clickedRegion?this.clickedRegion:this.regionName,this.loaders.alarm.location=!0):(r=this.clickedEventRegion?this.clickedEventRegion:this.regionName,this.loaders.event.location=!0),s.eventName&&s.eventName.length&&-1===s.eventName.indexOf("All")||(s.eventName=void 0);let l={region:r,location:"All"!==this.locationName?this.locationName:void 0,system:"All"!==this.systemName?this.systemName:void 0,fsan_serialnumber:s.fsan?s.fsan:void 0,alarmEventName:s.eventName?s.eventName:void 0,severity:s.severity,notificationType:t,historyReport:!0,category:i,customCategory:n,cco_ack:s.cco_ack,cco_shelv:s.cco_shelv};"Alarm"!==l.notificationType&&["customCategory","severity","cco_ack","cco_shelv"].forEach(t=>{delete l[t]}),s.startDate&&(s.endDate||(s.endDate=new Date),l.date=`${this.dateUtilsService.getUtCMilliSecByDateObj(s.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(s.endDate,!0)}`),"Event"===l.notificationType&&(delete l.severity,delete l.status);let c="";for(var h in l)null!=l[h]&&(""!=c&&(c+="&"),c+=h+"="+encodeURIComponent(l[h]));let d=`&region=${l.region}`,g=this;"Both"===this.alarmType?(this.bothLocation=!0,"Alarm"===t?this.bothLocationAlarm=!0:this.bothLocationEvent=!0):this.loadLocationChart=!0,this.http.get(`${o.N.API_BASE_URL}nfa/locations?tenant=0${d}&includeDeleted=true`).subscribe(i=>{let a,n={};i&&i.forEach(t=>{n[t.id]={name:t.name,isDeleted:t.isDeleted}}),"Alarm"==t?this.clickedLoctionsObj=n:this.clickedEventLoctionsObj=n,this.url=`${this.baseUrl}alarmbyLocation?${c}`,this.locationSubscribe=this.http.get(`${this.url}`).subscribe(i=>{this.locationChartData=i,this.locationError=!1,"Alarm"==t?(a=this.chartOptionService.locationChartOptions(i,!1,l,n),this.data.alarm.location=this.chartOptionService.prepareAlarmCSVDataforLocation(i,n,"histoy",l),this.params.alarm.location=l):(a=this.chartOptionService.getEventOptions(i,"location",l,n),this.data.event.location=this.chartOptionService.prepareEventCSVDataforLocation(i,n),this.params.event.location=l),a.plotOptions.series.point.events={click:function(e){let i=$(this.series.data).index(this);"Alarm"==t?g.clickedLocation=e.point.series.userOptions.data[i].locationId:g.clickedEventLocation=e.point.series.userOptions.data[i].uuid,g.getAlarmBySystem(t)},contextmenu:function(i){var a,s,o;i.preventDefault();let r=$(this.series.data).index(this);"Alarm"==t?(g.clickedLocation=i.point.series.userOptions.data[r].locationId,g.params.alarm.location.location=i.point.series.userOptions.data[r].locationId,g.params.alarm.location.severity=null===(a=i.point.series.userOptions.data[r].severity)||void 0===a?void 0:a.toLowerCase(),g.params.alarm.location.status=e.transform(i.point.series.userOptions.stack),g.deleteParams.alarm.location.location=!0,g.deleteParams.alarm.location.severity=!0,g.deleteParams.alarm.location.status=!0):(g.clickedEventLocation=i.point.series.userOptions.data[r].uuid,g.params.event.location.location=i.point.series.userOptions.data[r].uuid,g.params.event.location.severity=null===(s=i.point.series.userOptions.data[r].severity)||void 0===s?void 0:s.toLowerCase(),g.params.event.location.status=e.transform(i.point.series.userOptions.stack),g.deleteParams.event.location.location=!0),g.clickedSeverity=null===(o=i.point.series.userOptions.data[r].severity)||void 0===o?void 0:o.toLowerCase(),g.clickedAlarmTypeInBC=i.point.series.userOptions.stack;let l=g.chartOptionService.getUserFilters("alarm","location");l.Location=i.point.category,l.Severity=e.transform(i.point.series.userOptions.data[r].severity),l.Status=e.transform(i.point.series.userOptions.stack),g.gotoFullScreen("location",t,n)}},a=Object.assign({},a),"Both"===this.alarmType?(this.bothLocation=!0,"Alarm"===t?(this.bothLocationAlarm=!0,this.Highcharts.chart("location-alarm-container-both",a)):(this.bothLocationEvent=!0,this.Highcharts.chart("location-event-container-both",a)),setTimeout(()=>{document.getElementById("both-locationwrapper").scrollIntoView({behavior:"smooth"})},300)):(this.Highcharts.chart("locationContainer",a),document.getElementById("dynamic-location-chart-div").scrollIntoView({behavior:"smooth"})),this.loaders.alarm.location=!1,this.loaders.event.location=!1,this.loading=!1},e=>{this.loaders.alarm.location=!1,this.loaders.event.location=!1,this.locationError=!0,this.locationErrorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),"Both"==this.alarmType&&(this.bothLocation=!0,this.loadLocationChart=!1,"Alarm"===t?this.bothLocationAlarm=!0:this.bothLocationEvent=!0,this.locationEventError=!0,this.locationEventErrorInfo=this.locationErrorInfo),a=null,this.loadLocationChart&&this.Highcharts.chart("locationContainer",a),this.loading=!1})},t=>{this.loaders.alarm.location=!1,this.loaders.event.location=!1,this.errors.location=this.commonOrgService.pageErrorHandle(t)})}getAlarmBySystem(t=""){let e=new a.rS;this.errors.system="";let i,n,s=this.filtersForm.value;i=s.category&&s.category.length&&-1===s.category.indexOf("All")?s.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,n=s.customCategory&&s.customCategory.length&&-1===s.customCategory.indexOf("None")?s.customCategory:void 0,s.eventName&&s.eventName.length&&-1===s.eventName.indexOf("All")||(s.eventName=void 0),t||(t=this.alarmType),s.severity&&"all"===s.severity.toLowerCase()&&(s.severity=void 0),"Both"===this.alarmType?(this.bothSystem=!0,"Alarm"===t?this.bothSystemAlarm=!0:this.bothSystemEvent=!0):this.loadSystemChart=!0;let r="",l="";"Alarm"==t?(r=this.clickedRegion?this.clickedRegion:this.regionName,l=this.clickedLocation,this.loaders.alarm.system=!0):(r=this.clickedEventRegion?this.clickedEventRegion:this.regionName,l=this.clickedEventLocation,this.loaders.event.system=!0);let c={region:r,location:l,alarmEventName:s.eventName?s.eventName:void 0,severity:s.severity,notificationType:t,historyReport:!0,category:i,fsan_serialnumber:s.fsan?s.fsan:void 0,customCategory:n,cco_ack:s.cco_ack,cco_shelv:s.cco_shelv};"Alarm"!==c.notificationType&&["customCategory","severity","cco_ack","cco_shelv"].forEach(t=>{delete c[t]}),s.startDate&&(s.endDate||(s.endDate=new Date),c.date=`${this.dateUtilsService.getUtCMilliSecByDateObj(s.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(s.endDate,!0)}`),"Event"===c.notificationType&&(delete c.severity,delete c.status);let h="";for(var d in c)null!=c[d]&&(""!=h&&(h+="&"),h+=d+"="+encodeURIComponent(c[d]));let g,m=this;this.systemsSubject=this.http.get(`${o.N.API_BASE_URL}nfa/systems?tenant=0&region=${c.region}&location=${c.location}&includeDeleted=true`).subscribe(i=>{let a={};i&&i.forEach(t=>{a[t.uuid]={name:t.name,isDeleted:t.isDeleted}}),"Alarm"==t?this.clickedSystemsObj=a:this.clickedEventSystemsObj=a,this.url=`${this.baseUrl}alarmbySystem?${h}`,this.systemSubscribe=this.http.get(`${this.url}`).subscribe(i=>{this.systemError=!1,"Alarm"==t?(g=this.chartOptionService.systemChartOptions(i,!1,c,this.clickedLoctionsObj,this.clickedSystemsObj),this.data.alarm.system=this.chartOptionService.prepareAlarmCSVDataforSystem(i,this.clickedSystemsObj,"histoy",c),this.params.alarm.system=c):(g=this.chartOptionService.getEventOptions(i,"system",c,this.clickedEventLoctionsObj,this.clickedEventSystemsObj),this.data.event.system=this.chartOptionService.prepareEventCSVDataforSystem(i,this.clickedEventSystemsObj),this.params.event.system=c),g.plotOptions.series.point.events={click:function(i){var a,n,s;let o=$(this.series.data).index(this);i.preventDefault();let r={};m.clickedSeverity=null===(a=i.point.series.userOptions.data[o].severity)||void 0===a?void 0:a.toLowerCase(),m.clickedAlarmTypeInBC=i.point.series.userOptions.stack;let l=m.chartOptionService.getUserFilters("alarm","system");l.System=i.point.category,l.Severity=e.transform(i.point.series.userOptions.data[o].severity),l.Status=e.transform(i.point.series.userOptions.stack),"Alarm"==t?(m.clickedSystem=i.point.series.userOptions.data[o].systemId,r=m.clickedLoctionsObj,m.params.alarm.system.system=i.point.series.userOptions.data[o].systemId,m.params.alarm.system.severity=null===(n=i.point.series.userOptions.data[o].severity)||void 0===n?void 0:n.toLowerCase(),m.params.alarm.system.status=e.transform(i.point.series.userOptions.stack),m.deleteParams.alarm.system.system=!0,m.deleteParams.alarm.system.severity=!0,m.deleteParams.alarm.system.status=!0,m.gotoFullScreen("system",t,r,m.clickedSystemsObj)):(m.clickedSystem=i.point.series.userOptions.data[o].uuid,r=m.clickedEventLoctionsObj,m.params.event.system.system=i.point.series.userOptions.data[o].uuid,m.params.event.system.severity=null===(s=i.point.series.userOptions.data[o].severity)||void 0===s?void 0:s.toLowerCase(),m.params.event.system.status=e.transform(i.point.series.userOptions.stack),m.deleteParams.event.system.system=!0,m.gotoFullScreen("system",t,r,m.clickedEventSystemsObj))},contextmenu:function(i){var a,n,s;let o=$(this.series.data).index(this);i.preventDefault();let r={};m.clickedSeverity=null===(a=i.point.series.userOptions.data[o].severity)||void 0===a?void 0:a.toLowerCase(),m.clickedAlarmTypeInBC=i.point.series.userOptions.stack;let l=m.chartOptionService.getUserFilters("alarm","system");l.System=i.point.category,l.Severity=e.transform(i.point.series.userOptions.data[o].severity),l.Status=e.transform(i.point.series.userOptions.stack),"Alarm"==t?(m.clickedSystem=i.point.series.userOptions.data[o].systemId,r=m.clickedLoctionsObj,m.params.alarm.system.system=i.point.series.userOptions.data[o].systemId,m.params.alarm.system.severity=null===(n=i.point.series.userOptions.data[o].severity)||void 0===n?void 0:n.toLowerCase(),m.params.alarm.system.status=e.transform(i.point.series.userOptions.stack),m.deleteParams.alarm.system.system=!0,m.deleteParams.alarm.system.severity=!0,m.deleteParams.alarm.system.status=!0,m.gotoFullScreen("system",t,r,m.clickedSystemsObj)):(m.clickedSystem=i.point.series.userOptions.data[o].uuid,r=m.clickedEventLoctionsObj,m.params.event.system.system=i.point.series.userOptions.data[o].uuid,m.params.event.system.severity=null===(s=i.point.series.userOptions.data[o].severity)||void 0===s?void 0:s.toLowerCase(),m.params.event.system.status=e.transform(i.point.series.userOptions.stack),m.deleteParams.event.system.system=!0,m.gotoFullScreen("system",t,r,m.clickedEventSystemsObj))}},g=Object.assign({},g),"Both"===this.alarmType?(this.bothSystem=!0,"Alarm"===t?(this.bothSystemAlarm=!0,this.Highcharts.chart("system-alarm-container-both",g)):(this.bothSystemEvent=!0,this.Highcharts.chart("system-event-container-both",g)),setTimeout(()=>{document.getElementById("both-systemwrapper").scrollIntoView({behavior:"smooth"})},300)):(this.Highcharts.chart("systemContainerByClick",g),document.getElementById("dynamic-system-chart-div").scrollIntoView({behavior:"smooth"})),this.loaders.alarm.system=!1,this.loaders.event.system=!1,this.loading=!1},e=>{this.loaders.alarm.system=!1,this.loaders.event.system=!1,this.systemError=!0,this.systemErrorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),"Both"===this.alarmType?(this.systemEventError=!0,this.systemEventErrorInfo=this.systemErrorInfo,this.bothSystem=!0,"Alarm"===t?(this.bothSystemAlarm=!0,this.Highcharts.chart("system-alarm-container-both",g)):(this.bothSystemEvent=!0,this.Highcharts.chart("system-event-container-both",g))):this.Highcharts.chart("systemContainerByClick",g),g=null,this.Highcharts.chart("systemContainerByClick",g),this.loading=!1})},t=>{this.errors.system=this.commonOrgService.pageErrorHandle(t),this.loaders.alarm.system=!1,this.loaders.event.system=!1})}closeErrors(){this.errors={byday:"",severity:"",region:"",location:"",system:""}}loadIntialData(){if(this.fsanvalidated("d"))return;let t=new a.rS;this.clickedLoctionsObj={},this.clickedSystemsObj={},this.clickedSeverity="",this.closeErrors();let e,i,n=this.filtersForm.value;if(this.fullScreen)return this.deleteFullScreenParams(),void this.applyFiltersInFullScreen();if(this.alarmType=n.alarmType,e=n.category&&n.category.length&&-1===n.category.indexOf("All")?n.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,i=n.customCategory&&n.customCategory.length&&-1===n.customCategory.indexOf("None")?n.customCategory:void 0,n.eventName&&n.eventName.length&&-1===n.eventName.indexOf("All")||(n.eventName=void 0),this.clickedLocation="",this.clickedEventLocation="",this.clickedRegion="",this.clickedEventRegion="",this.clickedSystem="",this.loadLocationChart=!1,this.loadSystemChart=!1,this.alarmsCount(),this.serverityError=!1,this.systemError=!1,this.regionError=!1,this.locationError=!1,this.severityChartData=null,this.systemChartData=null,this.locationChartData=null,this.regionChartData=null,this.severityChartOptions=null,this.systemChartOptions=null,this.locationChartOptions=null,this.regionChartOptions=null,this.loading=!0,this.applyDisabled=!0,"Both"==this.alarmType)return this.both=!0,void this.loadBothDataNew();this.both=!1;let o="";o=this.systemName&&this.systemName.length&&-1===this.systemName.indexOf("All")?this.systemName.filter(function(t){return t&&t.length&&"All"!==t}):void 0,n.severity&&("all"===n.severity.toLowerCase()||"event"===n.alarmType.toLowerCase())&&(n.severity=void 0);let l={region:"All"!==this.regionName?this.regionName:void 0,location:"All"!==this.locationName?this.locationName:void 0,fsan_serialnumber:n.fsan,alarmEventName:n.eventName,severity:n.severity,notificationType:n.alarmType,historyReport:!0,category:e,customCategory:i,system:o,cco_ack:n.cco_ack,cco_shelv:n.cco_shelv};"Alarm"!==l.notificationType&&(delete l.cco_ack,delete l.cco_shelv),n.startDate&&(n.endDate||(n.endDate=new Date),l.date=`${this.dateUtilsService.getUtCMilliSecByDateObj(n.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(n.endDate,!0)}`);let c="";for(var g in l)null==l[g]||""==l[g]||(""!=c&&(c+="&"),c+=g+"="+encodeURIComponent(l[g]));const m={};let p=["region"];if("Event"!==this.alarmType&&(p.push("severity"),p.push("byday")),this.loadRegionChart=!0,l.region){this.loadRegionChart=!1;let t=p.indexOf("region");p.splice(t,1),p.push("location"),this.loadLocationChart=!0}if(l.location){this.loadLocationChart=!1;let t=p.indexOf("location");p.splice(t,1),p.push("system"),this.loadSystemChart=!0}this.alarmTypesToExport=p,this.exportParams=l;let u=10,v="Hours";n.startDate&&(u=this.chartOptionService.getDateDiff(l)),v=u>5?"Hours":"Minutes";let y={byday:`${this.baseUrl}alarmbyInterval?${c}&interval=${v}`,severity:`${this.baseUrl}alarmbySeverity?${c}`,region:`${this.baseUrl}alarmbyRegion?${c}`,location:`${this.baseUrl}alarmbyLocation?${c}`,system:`${this.baseUrl}alarmbySystem?${c}`};p.forEach(t=>{const e=this.http.get(`${y[t]}`).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t))));m[t]=e});let f,b,C=this;this.listObs=(0,d.D)(m).subscribe(e=>{if(this.loading=!1,e&&e.severity&&!e.severity["api-error"]){let i,a=e.severity.alarm?e.severity.alarm:e.severity;this.serverityError=!1,"Alarm"==this.alarmType?(this.exportAlarmCount=this.getCountByDataObj(e.severity),f=this.chartOptionService.severityChartOptions(a.raised,this.language["Alarms Raised"],"medium",l),i=this.chartOptionService.severityChartOptions(a.cleared,this.language["Alarms Cleared"],"medium",l),this.params.alarm.severity=l,this.data.alarm.severity=this.chartOptionService.prepareAlarmCSVDataforSeverity(a,"histoy",l)):(f=this.chartOptionService.severityEventChartOptions(a.raised,this.language["Events Raised"],"medium"),i=this.chartOptionService.severityEventChartOptions(a.cleared,this.language["Events Cleared"],"medium")),f.plotOptions.series.point.events={dblclick:e=>{e.preventDefault();let i=e.point.severity;this.clickedSeverity=i.toLowerCase(),this.params.alarm.severity.severity=i.toLowerCase(),this.deleteParams.alarm.severity.severity=!0,C.chartOptionService.getUserFilters("alarm","severity").Severity=t.transform(i),this.gotoFullScreen("severity","Alarm")},contextmenu:e=>{e.preventDefault();let i=e.point.severity;this.clickedSeverity=i.toLowerCase(),this.params.alarm.severity.severity=i.toLowerCase(),this.deleteParams.alarm.severity.severity=!0,C.chartOptionService.getUserFilters("alarm","severity").Severity=t.transform(i),this.gotoFullScreen("severity","Alarm")},click:e=>{e.preventDefault();let i=e.point.severity;this.clickedSeverity=i.toLowerCase(),this.params.alarm.severity.severity=i.toLowerCase(),this.deleteParams.alarm.severity.severity=!0,C.chartOptionService.getUserFilters("alarm","severity").Severity=t.transform(i),this.gotoFullScreen("severity","Alarm")}},i.plotOptions.series.point.events={dblclick:e=>{e.preventDefault();let i=e.point.severity;this.clickedSeverity=i.toLowerCase(),this.params.alarm.severity.severity=i.toLowerCase(),this.deleteParams.alarm.severity.severity=!0,C.chartOptionService.getUserFilters("alarm","severity").Severity=t.transform(i),this.gotoFullScreen("severity","Alarm")},contextmenu:e=>{e.preventDefault();let i=e.point.severity;this.clickedSeverity=i.toLowerCase(),this.params.alarm.severity.severity=i.toLowerCase(),this.deleteParams.alarm.severity.severity=!0,C.chartOptionService.getUserFilters("alarm","severity").Severity=t.transform(i),this.gotoFullScreen("severity","Alarm")},click:e=>{e.preventDefault();let i=e.point.severity;this.clickedSeverity=i.toLowerCase(),this.params.alarm.severity.severity=i.toLowerCase(),this.deleteParams.alarm.severity.severity=!0,C.chartOptionService.getUserFilters("alarm","severity").Severity=t.transform(i),this.gotoFullScreen("severity","Alarm")}},this.Highcharts.chart("severityContainer",f),this.Highcharts.chart("severityClearedContainer",i)}else if(e.severity&&e.severity["api-error"])this.params.alarm.severity=l,this.data.alarm.severity=this.chartOptionService.prepareAlarmCSVDataforSeverity({},"histoy",l),this.errors.severity=this.commonOrgService.pageErrorHandle(e.severity);else if(void 0!==e.severity){this.params.alarm.severity=l,this.data.alarm.severity=this.chartOptionService.prepareAlarmCSVDataforSeverity({},"histoy",l);let t=this.chartOptionService.severityChartOptions([],this.language["Alarms Raised"],"medium",l);this.Highcharts.chart("severityContainer",t);let e=this.chartOptionService.severityChartOptions([],this.language["Alarms Cleared"],"medium",l);this.Highcharts.chart("severityClearedContainer",e)}if(e&&void 0!==e.region&&e.region&&!e.region["api-error"]){this.loadRegionChart=!0;let i=e.region;this.regionError=!1,"Alarm"==this.alarmType?(b=this.chartOptionService.regionChartOptions(i,!1,l),this.data.alarm.region=this.chartOptionService.prepareAlarmCSVDataforRegion(i,"histoy",l),this.params.alarm.region=l):(b=this.chartOptionService.getEventOptions(i,"region",l),this.data.event.region=this.chartOptionService.prepareEventCSVDataforRegion(i),this.params.event.region=l),b.plotOptions.series.point.events={click:function(t){let e=$(this.series.data).index(this);"Alarm"==C.alarmType?C.clickedRegion=t.point.series.userOptions.data[e].regionId:C.clickedEventRegion=t.point.series.userOptions.data[e].uuid,C.getChartByLocation()},contextmenu:function(e){var i,a;let s=$(this.series.data).index(this);e.preventDefault(),C.clickedAlarmTypeInBC=e.point.series.userOptions.stack,"Alarm"==C.alarmType?(C.clickedRegion=e.point.series.userOptions.data[s].regionId,C.params.alarm.region.region=e.point.series.userOptions.data[s].regionId,C.params.alarm.region.severity=null===(i=e.point.series.userOptions.data[s].severity)||void 0===i?void 0:i.toLowerCase(),C.params.alarm.region.status=t.transform(e.point.series.userOptions.stack),C.deleteParams.alarm.region.region=!0,n.severity||(C.deleteParams.alarm.region.severity=!0),C.deleteParams.alarm.region.status=!0):(C.clickedEventRegion=e.point.series.userOptions.data[s].uuid,C.params.event.region.region=e.point.series.userOptions.data[s].uuid,C.deleteParams.event.region.region=!0),C.clickedSeverity=null===(a=e.point.series.userOptions.data[s].severity)||void 0===a?void 0:a.toLowerCase();let o=C.chartOptionService.getUserFilters("alarm","region");o.Region=e.point.category,o.Severity=t.transform(e.point.series.userOptions.data[s].severity),o.Status=t.transform(e.point.series.userOptions.stack),C.gotoFullScreen("region","Alarm"==C.alarmType?"Alarm":"Event")}},b=Object.assign({},b),this.loadLocationChart||this.Highcharts.chart("regionContainer",b)}else e.region&&e.region["api-error"]?("Alarm"==this.alarmType?(this.data.alarm.region=this.chartOptionService.prepareAlarmCSVDataforRegion([],"histoy",l),this.params.alarm.region=l):(this.data.event.region=this.chartOptionService.prepareEventCSVDataforRegion([]),this.params.event.region=l),this.errors.region=this.commonOrgService.pageErrorHandle(e.region)):("Alarm"==this.alarmType?(this.data.alarm.region=this.chartOptionService.prepareAlarmCSVDataforRegion([],"histoy",l),this.params.alarm.region=l):(this.data.event.region=this.chartOptionService.prepareEventCSVDataforRegion([]),this.params.event.region=l),void 0!==e.region&&(b=this.chartOptionService.regionChartOptions([],!0,l),this.Highcharts.chart("regionContainer",b)));if(e&&void 0!==e.location&&e.location&&!e.location["api-error"]?(this.locationError=!1,"Alarm"==this.alarmType?(this.locationChartOptions=this.chartOptionService.locationChartOptions(e.location,!1,l),this.data.alarm.location=this.chartOptionService.prepareAlarmCSVDataforLocation(e.location,{},"histoy",l),this.params.alarm.location=l):(this.locationChartOptions=this.chartOptionService.getEventOptions(e.location,"location",l),this.data.event.location=this.chartOptionService.prepareEventCSVDataforLocation(e.location),this.params.event.location=l),this.locationChartOptions.plotOptions.series.point.events={click:function(t){let e=$(this.series.data).index(this);"Alarm"==C.alarmType?C.clickedLocation=t.point.series.userOptions.data[e].locationId:C.clickedEventLocation=t.point.series.userOptions.data[e].uuid,C.getAlarmBySystem()},contextmenu:function(e){var i,a;let s=$(this.series.data).index(this);e.preventDefault(),"Alarm"==C.alarmType?(C.clickedLocation=e.point.series.userOptions.data[s].locationId,C.params.alarm.location.location=e.point.series.userOptions.data[s].locationId,C.params.alarm.location.severity=null===(i=e.point.series.userOptions.data[s].severity)||void 0===i?void 0:i.toLowerCase(),C.params.alarm.location.status=t.transform(e.point.series.userOptions.stack),n.location&&-1!==n.location.indexOf("All")&&(C.deleteParams.alarm.location.location=!0),n.severity||(C.deleteParams.alarm.location.severity=!0),C.deleteParams.alarm.location.status=!0):(C.clickedEventLocation=e.point.series.userOptions.data[s].uuid,C.params.event.location.location=e.point.series.userOptions.data[s].uuid,n.location&&-1!==n.location.indexOf("All")&&(C.deleteParams.event.location.location=!0)),C.clickedSeverity=null===(a=e.point.series.userOptions.data[s].severity)||void 0===a?void 0:a.toLowerCase(),C.clickedAlarmTypeInBC=e.point.series.userOptions.stack;let o=C.chartOptionService.getUserFilters("alarm","location");o.Location=e.point.category,o.Severity=t.transform(e.point.series.userOptions.data[s].severity),o.Status=t.transform(e.point.series.userOptions.stack),C.gotoFullScreen("location","Alarm"==C.alarmType?"Alarm":"Event")}},this.locationChartOptions=Object.assign({},this.locationChartOptions),this.loadLocationChart&&this.Highcharts.chart("locationContainer",this.locationChartOptions)):e.location&&e.location["api-error"]?("Alarm"==this.alarmType?(this.data.alarm.location=this.chartOptionService.prepareAlarmCSVDataforLocation([],{},"histoy",l),this.params.alarm.location=l):(this.data.event.location=this.chartOptionService.prepareEventCSVDataforLocation([]),this.params.event.location=l),this.errors.location=this.commonOrgService.pageErrorHandle(e.location)):void 0!==e.location&&("Alarm"==this.alarmType?(this.data.alarm.location=this.chartOptionService.prepareAlarmCSVDataforLocation([],{},"histoy",l),this.params.alarm.location=l):(this.data.event.location=this.chartOptionService.prepareEventCSVDataforLocation([]),this.params.event.location=l),this.locationChartOptions=this.chartOptionService.locationChartOptions([],!0,l),this.Highcharts.chart("locationContainer",this.locationChartOptions)),e&&void 0!==e.system&&e.system&&!e.system["api-error"]?(this.loadSystemChart=!0,this.systemError=!1,"Alarm"==this.alarmType?(this.systemChartOptions=this.chartOptionService.systemChartOptions(e.system,!1,l),this.data.alarm.system=this.chartOptionService.prepareAlarmCSVDataforSystem(e.system,{},"histoy",l),this.params.alarm.system=l):(this.systemChartOptions=this.chartOptionService.getEventOptions(e.system,"system",l),this.data.event.system=this.chartOptionService.prepareEventCSVDataforSystem(e.system),this.params.event.system=l),this.systemChartOptions.plotOptions.series.point.events={click:function(e){var i,a;let s=$(this.series.data).index(this);"Alarm"==C.alarmType?(C.clickedSystem=e.point.series.userOptions.data[s].systemId,C.params.alarm.system.system=e.point.series.userOptions.data[s].systemId,C.params.alarm.system.severity=null===(i=e.point.series.userOptions.data[s].severity)||void 0===i?void 0:i.toLowerCase(),C.params.alarm.system.status=t.transform(e.point.series.userOptions.stack),n.system&&-1!==n.system.indexOf("All")&&(C.deleteParams.alarm.system.system=!0),n.severity||(C.deleteParams.alarm.system.severity=!0),C.deleteParams.alarm.system.status=!0):(C.clickedSystem=e.point.series.userOptions.data[s].uuid,C.params.event.system.system=e.point.series.userOptions.data[s].uuid,n.system&&-1!==n.system.indexOf("All")&&(C.deleteParams.event.system.system=!0)),C.clickedSeverity=null===(a=e.point.series.userOptions.data[s].severity)||void 0===a?void 0:a.toLowerCase(),C.clickedAlarmTypeInBC=e.point.series.userOptions.stack,e.preventDefault();let o=C.chartOptionService.getUserFilters("alarm","system");o.System=e.point.category,o.Severity=t.transform(e.point.series.userOptions.data[s].severity),o.Status=t.transform(e.point.series.userOptions.stack),C.gotoFullScreen("system","Alarm"==C.alarmType?"Alarm":"Event")},contextmenu:function(e){var i,a;let s=$(this.series.data).index(this);e.preventDefault(),"Alarm"==C.alarmType?(C.clickedSystem=e.point.series.userOptions.data[s].systemId,C.params.alarm.system.system=e.point.series.userOptions.data[s].systemId,C.params.alarm.system.severity=null===(i=e.point.series.userOptions.data[s].severity)||void 0===i?void 0:i.toLowerCase(),C.params.alarm.system.status=t.transform(e.point.series.userOptions.stack),n.system&&-1!==n.system.indexOf("All")&&(C.deleteParams.alarm.system.system=!0),C.deleteParams.alarm.system.severity=!0,C.deleteParams.alarm.system.status=!0):(C.clickedSystem=e.point.series.userOptions.data[s].uuid,C.params.event.system.system=e.point.series.userOptions.data[s].uuid,n.system&&-1!==n.system.indexOf("All")&&(C.deleteParams.event.system.system=!0)),C.clickedSeverity=null===(a=e.point.series.userOptions.data[s].severity)||void 0===a?void 0:a.toLowerCase(),C.clickedAlarmTypeInBC=e.point.series.userOptions.stack;let o=C.chartOptionService.getUserFilters("alarm","system");o.System=e.point.category,o.Severity=t.transform(e.point.series.userOptions.data[s].severity),o.Status=t.transform(e.point.series.userOptions.stack),C.gotoFullScreen("system","Alarm"==C.alarmType?"Alarm":"Event")}},this.Highcharts.chart("systemContainerByClick",this.systemChartOptions),document.getElementById("dynamic-system-chart-div").scrollIntoView({behavior:"smooth"})):e.system&&e.system["api-error"]?("Alarm"==this.alarmType?(this.data.alarm.system=this.chartOptionService.prepareAlarmCSVDataforSystem([],{},"histoy",l),this.params.alarm.system=l):(this.data.event.system=this.chartOptionService.prepareEventCSVDataforSystem([]),this.params.event.system=l),this.errors.system=this.commonOrgService.pageErrorHandle(e.system)):void 0!==e.system&&("Alarm"==this.alarmType?(this.data.alarm.system=this.chartOptionService.prepareAlarmCSVDataforSystem([],{},"histoy",l),this.params.alarm.system=l):(this.data.event.system=this.chartOptionService.prepareEventCSVDataforSystem([]),this.params.event.system=l),this.systemChartOptions=this.chartOptionService.systemChartOptions([],!0,l),this.Highcharts.chart("systemContainerByClick",this.systemChartOptions)),e&&e.byday&&"Alarm"===this.alarmType&&e.byday&&!e.byday["api-error"]){let t=this.chartOptionService.getLineChartOptionsNew(e.byday,!1,l,n);this.data.alarm.byday=this.chartOptionService.prepareAlarmCSVDataforDay(e.byday,"",l),s.setOptions({lang:{rangeSelectorZoom:this.language.duration}}),this.Highcharts.stockChart("event-alarm-line-chart-container",t)}else if(e.byday&&e.byday["api-error"])this.data.alarm.byday=this.chartOptionService.prepareAlarmCSVDataforDay([]),this.errors.byday=this.commonOrgService.pageErrorHandle(e.byday);else if(void 0!==e.byday){this.data.alarm.byday=this.chartOptionService.prepareAlarmCSVDataforDay([]);let t=this.chartOptionService.getLineChartOptionsNew([],!0,l,n);s.setOptions({lang:{rangeSelectorZoom:this.language.duration}}),this.Highcharts.chart("event-alarm-line-chart-container",t)}this.loading=!1},t=>{this.pageErrorHandle(t)})}gotoFullScreen(t,e,i={},a={}){this.loading=!0,this.fullscreenParams=[t,e,i,a],!Object.keys(i).length&&(Object.keys(this.clickedLoctionsObj).length||Object.keys(this.clickedEventLoctionsObj).length)&&(i=e&&"event"===e.toLowerCase()?this.clickedEventLoctionsObj:this.clickedLoctionsObj),!Object.keys(a).length&&(Object.keys(this.clickedSystemsObj).length||Object.keys(this.clickedEventSystemsObj).length)&&(a=e&&"event"===e.toLowerCase()?this.clickedEventSystemsObj:this.clickedSystemsObj),this.clickOnClearedAlarms=!1,this.clickOnRaisedAlarms=!1;let n={alarm:{severity:this.language["Select an alarm to view all instances of that alarm for that severity"],region:this.language["Select an alarm to view all instances of that alarm for that region"],location:this.language["Select an alarm to view all instances of that alarm for that location"],system:this.language["Select an alarm to view all instances of that alarm for that system"]},event:{region:this.language["Select an event to view all instances of that event for that region"],location:this.language["Select an event to view all instances of that event for that location"],system:this.language["Select an event to view all instances of that event for that system"]}};this.fullScreenChartName={alarmevent:`${this.language["Alarm by Severity"]}`,severity:`${this.language["Alarm by Severity"]}`,region:`${this.language["Alarm by Region"]}`,location:`${this.language["Alarm by Location"]}`,system:`${this.language["Alarm by System"]}`}[t],this.chartTypeInFS=t,this.clickedAlarmType=e||"Alarm",this.filtersDataInNS=this.filtersForm.value,this.initLoad=!1,this.showTable=!1;let s=this.params[null==e?void 0:e.toLowerCase()][t];this.both&&(s.notificationType=e);let o="";for(var l in s)null==s[l]||""==s[l]||"Event"===s.notificationType&&-1!==this.skipParamsForEvents.indexOf(l)||(""!=o&&(o+="&"),o+=l+"="+encodeURIComponent(s[l]));const c={};let g=[],m={alarmevent:`${this.baseUrl}alarmbyAlarmEvent?${o}`,severity:`${this.baseUrl}alarmbySeverity?${o}`,region:`${this.baseUrl}alarmbyRegion?${o}`,location:`${this.baseUrl}alarmbyLocation?${o}`,system:`${this.baseUrl}alarmbySystem?${o}`};g.push("severity"===t?"alarmevent":t),"Event"!==e&&(g=["alarmevent"]),g.forEach(t=>{const e=this.http.get(`${m[t]}`).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t))));c[t]=e}),this.closeErrors(),this.listObs=(0,d.D)(c).subscribe(o=>{let r=this;this.loading=!1,this.fullScreen=!0;let l=0;if("object"==typeof o.alarmevent&&!o.alarmevent&&(o.alarmevent=[]),this.clickedAlarmTypeInBC)o&&"object"==typeof o.alarmevent&&!o.alarmevent["api-error"]?(this.count=this.getCountByData(o.alarmevent),this.count||(o.alarmevent=[]),this.showSevertiyFullChart=!0,this.serverityError=!1,this.fullScrenSubHeading=n[e.toLowerCase()][t.toLowerCase()],setTimeout(()=>{if("raised"===this.clickedAlarmTypeInBC){let i=this.chartOptionService.getPieChartOptionsForFS(o.alarmevent,"raised",e,t);i.plotOptions.series.point.events={click:t=>{if(this.clickOnRaisedAlarms=!0,this.clickedSeverity=this.getSeverityByObj(t.point.extraData),this.clickOnClearedAlarms&&(this.clickOnClearedAlarms=!1,this.searchTerm==t.point.name))return this.initLoad=!1,this.showTable=!1,void setTimeout(()=>{this.showTable=!0,this.count=0,this.showNewPagination?this.getListSub(t.point.name):this.getList("severity",!1)},500);this.searchTerm!=t.point.name&&(this.searchTerm=t.point.name,this.initLoad=!1,this.showTable=!1,setTimeout(()=>{this.showTable=!0,this.showNewPagination?this.getListSub(t.point.name):this.getList("severity",e,!1)},500))}},this.Highcharts.chart("fullChartAlarmEventContainer",i)}else{let i=this.chartOptionService.getPieChartOptionsForFS(o.alarmevent,"cleared",e,t);i.plotOptions.series.point.events={click:t=>{if(this.clickedSeverity="CLEAR",this.clickOnClearedAlarms=!0,this.clickOnRaisedAlarms&&(this.clickOnRaisedAlarms=!1,this.searchTerm==t.point.name))return this.initLoad=!1,this.showTable=!1,void setTimeout(()=>{this.showTable=!0,this.count=0,this.showNewPagination?this.getListSub(t.point.name):this.getList("severity",!1)},500);this.searchTerm!=t.point.name&&(this.searchTerm=t.point.name,this.initLoad=!1,this.showTable=!1,setTimeout(()=>{this.showTable=!0,this.showNewPagination?this.getListSub(t.point.name):this.getList("severity",e,!1)},500))}},this.Highcharts.chart("fullChartAlarmEventContainer",i)}},500),this.showTable=!0,this.initLoad?this.redraw():this.getList(t,e)):o.alarmevent&&(this.errors.alarmevent=this.commonOrgService.pageErrorHandle(o.alarmevent));else{if(o&&"object"==typeof o.alarmevent&&!o.alarmevent["api-error"]?(this.count=this.getCountByData(o.alarmevent),this.count||(o.alarmevent=[]),this.showSevertiyFullChart=!0,this.fullScrenSubHeading=n[e.toLowerCase()][t.toLowerCase()],this.serverityError=!1,setTimeout(()=>{let i=this.chartOptionService.getPieChartOptionsForFS(o.alarmevent,s.status?s.status.toLowerCase():"raised",e,t);i.plotOptions.series.point.events={click:t=>{if(this.clickedAlarmTypeInBC="",this.clickOnRaisedAlarms=!0,this.clickOnClearedAlarms&&(this.clickOnClearedAlarms=!1,this.searchTerm==t.point.name))return this.initLoad=!1,this.showTable=!1,void setTimeout(()=>{this.showTable=!0,this.count=0,this.showNewPagination?this.getListSub(t.point.name):this.getList("severity",e,!1)},500);this.searchTerm!=t.point.name&&(this.searchTerm=t.point.name,this.initLoad=!1,this.showTable=!1,setTimeout(()=>{this.showTable=!0,this.showNewPagination?this.getListSub(t.point.name):this.getList("severity",e,!1)},500))}};let a=this.chartOptionService.getPieChartOptionsForFS(o.alarmevent,"cleared",e,t);a.plotOptions.series.point.events={click:t=>{if(this.clickedAlarmTypeInBC="",this.clickOnClearedAlarms=!0,this.clickOnRaisedAlarms&&(this.clickOnRaisedAlarms=!1,this.searchTerm==t.point.name))return this.initLoad=!1,this.showTable=!1,void setTimeout(()=>{this.showTable=!0,this.count=0,this.showNewPagination?this.getListSub(t.point.name):this.getList("severity",e,!1)},500);this.searchTerm!=t.point.name&&(this.searchTerm=t.point.name,this.initLoad=!1,this.showTable=!1,setTimeout(()=>{this.showTable=!0,this.showNewPagination?this.getListSub(t.point.name):this.getList("severity",e,!1)},500))}},this.Highcharts.chart("fullChartContainer",i),this.Highcharts.chart("fullChartSeverityClearedContainer",a)},500),this.showTable=!0,this.initLoad?this.redraw():this.getList(t,e)):o.alarmevent&&(this.getListSub(),this.errors.alarmevent=this.commonOrgService.pageErrorHandle(o.alarmevent)),o&&void 0!==o.region){this.both?(this.fullScreenChartName="Alarm"==e?this.language["Alarm by Region"]:this.language["Event by Region"],this.fullScrenSubHeading=n[e.toLowerCase()][t.toLowerCase()]):(this.fullScrenSubHeading=n[this.alarmType.toLowerCase()][t.toLowerCase()],this.fullScreenChartName="Alarm"==this.alarmType?this.language["Alarm by Region"]:this.language["Event by Region"]),this.loadRegionChart=!0,this.regionChartData=o.region,l=this.getCountByData(o.region,e),this.count=l,this.showTable=!0,this.initLoad?this.redraw():this.getList("region",e),this.regionError=!1;let i={};"Event"===s.notificationType?(i=this.chartOptionService.getEventOptions(this.regionChartData,"region",s,{},{},!0),i.plotOptions.series.point.events={click:function(t){let i=$(this.series.data).index(this);r.generateEvent(s,t,i,e,"region",r)},contextmenu:function(t){let i=$(this.series.data).index(this);r.generateEvent(s,t,i,e,"region",r)}}):i=this.chartOptionService.regionChartOptions(this.regionChartData,!1),i=Object.assign({},i),this.Highcharts.chart("fullChartContainer",i)}if(o&&void 0!==o.location){this.both?(this.fullScrenSubHeading=n[e.toLowerCase()][t.toLowerCase()],this.fullScreenChartName="Alarm"==e?this.language["Alarm by Location"]:this.language["Event by Location"]):(this.fullScrenSubHeading=n[e.toLowerCase()][t.toLowerCase()],this.fullScreenChartName="Alarm"==this.alarmType?this.language["Alarm by Location"]:this.language["Event by Location"]),this.locationChartData=o.location,l=this.getCountByData(o.location,e),this.count=l,this.showTable=!0,this.initLoad?this.redraw():this.getList("location",e),this.locationError=!1;let a=[];"Event"===s.notificationType?(a=this.chartOptionService.getEventOptions(this.locationChartData,"location",s,i,{},!0),a.plotOptions.series.point.events={click:function(t){let i=$(this.series.data).index(this);r.generateEvent(s,t,i,e,"location",r)},contextmenu:function(t){let i=$(this.series.data).index(this);r.generateEvent(s,t,i,e,"location",r)}}):a=this.chartOptionService.locationChartOptions(this.locationChartData,!1,s,i),this.locationChartOptions=Object.assign({},a),this.Highcharts.chart("fullChartContainer",a)}if(o&&void 0!==o.system){this.both?(this.fullScrenSubHeading=n[e.toLowerCase()][t.toLowerCase()],this.fullScreenChartName="Alarm"===e?this.language["Alarm by System"]:this.language["Event by System"]):(this.fullScrenSubHeading=n[e.toLowerCase()][t.toLowerCase()],this.fullScreenChartName="Alarm"===this.alarmType?this.language["Alarm by System"]:this.language["Event by System"]),l=this.getCountByData(o.system,e),this.count=l,this.showTable=!0,this.initLoad?this.redraw():this.getList("system",e),this.systemChartData=o.system,this.systemError=!1;let c=[];"Event"===s.notificationType?(c=this.chartOptionService.getEventOptions(this.systemChartData,"system",s,i,a,!0),c.plotOptions.series.point.events={click:function(t){let i=$(this.series.data).index(this);r.generateEvent(s,t,i,e,"system",r)},contextmenu:function(t){let i=$(this.series.data).index(this);r.generateEvent(s,t,i,e,"system",r)}}):c=this.chartOptionService.systemChartOptions(this.systemChartData,!1,s,i,a),this.Highcharts.chart("fullChartContainer",c)}this.loading=!1}},t=>{this.pageErrorHandle(t),this.getListSub()})}getList(t,e,i){if(this.showNewPagination)return void this.getListSub();if(!this.fullScreen)return;let a=this.filtersForm.value,n={};if(i){let i,s;i=a.category&&a.category.length&&-1===a.category.indexOf("All")?a.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,s=a.customCategory&&a.customCategory.length&&-1===a.customCategory.indexOf("None")?a.customCategory:void 0,a.eventName&&a.eventName.length&&-1===a.eventName.indexOf("All")||(a.eventName=void 0),"All"===this.regionName&&(this.regionName=void 0),"All"===this.locationName&&(this.locationName=void 0),"All"===this.systemName&&(this.systemName=void 0),"All"===a.severity&&(a.severity=void 0),n={region:this.regionName,location:this.locationName,system:this.systemName,fsan_serialnumber:a.fsan?a.fsan:"",severity:this.clickedSeverity||a.severity,historyReport:!0,category:i,notificationType:e||a.alarmType,alarmEventName:a.eventName?a.eventName:void 0,customCategory:s,cco_ack:a.cco_ack,cco_shelv:a.cco_shelv},"Alarm"!==n.notificationType&&(delete n.cco_ack,delete n.cco_shelv),a.startDate&&(a.endDate||(a.endDate=new Date),n.date=`${this.dateUtilsService.getUtCMilliSecByDateObj(a.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(a.endDate,!0)}`),"Event"===n.notificationType&&(delete n.severity,delete n.status),"severity"===t&&((this.clickedRegion||this.clickedEventRegion)&&delete n.region,(this.clickedLocation||this.clickedEventLocation)&&delete n.location,this.clickedSystem&&delete n.system),"region"===t&&(delete n.region,delete n.location,delete n.system),"location"===t&&(delete n.location,delete n.system)}else n=this.params[null==e?void 0:e.toLowerCase()][t];this.clickOnRaisedAlarms&&(n.status="Raised"),"cleared"===this.clickedAlarmTypeInBC?n.status="Cleared":"raised"===this.clickedAlarmTypeInBC?n.status="Raised":delete n.status;let s="";for(var o in n)null==n[o]||""==n[o]||"Event"===n.notificationType&&-1!==this.skipParamsForEvents.indexOf(o)||(""!=s&&(s+="&"),s+=o+"="+encodeURIComponent(n[o]));this.list=[];const r=this;this.dtOptions={pagingType:"full_numbers",pageLength:10,serverSide:!0,processing:!1,lengthChange:!1,ordering:!1,dom:"tipr",ajax:(t,e)=>{let i=`${this.baseUrl}notifications?from=${t.start}&size=${t.length}&${s}`;r.searchTerm&&(i+=`&searchField=alarmEventName&searchValue=${r.searchTerm}`),t.search.value&&(i=`${this.baseUrl}notifications?from=${t.start}&size=${t.length}&${s}&alarmEventName=${t.search.value}`),r.http.get(i).subscribe(i=>{let a=[];i&&i.alarms&&i.alarms.forEach(t=>{var e,i;t.subject.deviceName||(t.subject.deviceName=this.systemsObj[t.subject.deviceId]),t.subject.deviceName=null===(e=t.subject.deviceName)||void 0===e?void 0:e.replace("device=",""),t.subject.deviceName=null===(i=t.subject.deviceName)||void 0===i?void 0:i.replace("DEVICE=",""),t.subject.resourceForUI=this.issueService.generateResourceForUI(t,"EXA"===t.type),a.push(t)}),this.list=i.alarms,this.initLoad=!0,this.loading=!1,e({recordsTotal:i.totalCount?i.totalCount:0,recordsFiltered:t.search.value&&i?i.length:i.totalCount?i.totalCount:0,data:[]})})},drawCallback:t=>{t._iRecordsDisplay<=t._iDisplayLength&&$(t.nTableWrapper).find("#users-table_last").addClass("disabled")}},this.tableLanguageOptions()}getCountByData(t,e){let i=0;return t&&t.length&&t.forEach(t=>{if("Event"===e)i+=t&&t.event&&null!=t.event.count?t.event.count:0;else{let e=t.alarm&&t.alarm.cleared?Object.keys(t.alarm.cleared):t.cleared?Object.keys(t.cleared):[];e.forEach(e=>{i+=t.alarm&&null!=typeof t.alarm.cleared[e]?t.alarm.cleared[e]:t.cleared[e]}),e=t.alarm&&t.alarm.raised?Object.keys(t.alarm.raised):t.raised?Object.keys(t.raised):[],e.forEach(e=>{i+=t.alarm&&null!=typeof t.alarm.raised[e]?t.alarm.raised[e]:t.raised[e]})}}),i}getCountByDataObj(t){let e=0;return t&&t.alarm&&(t=t.alarm),t&&Object.keys(t).length&&Object.keys(t).forEach(i=>{let a=t[i]?Object.keys(t[i]):[];null==a||a.forEach(a=>{e+=t[i][a]})}),e}applyFiltersInFullScreen(){var t;this.setSearchQuery(""),this.searchTerm="";let e={alarm:{severity:this.language["Select an alarm to view all instances of that alarm for that severity"],region:this.language["Select an alarm to view all instances of that alarm for that region"],location:this.language["Select an alarm to view all instances of that alarm for that location"],system:this.language["Select an alarm to view all instances of that alarm for that system"]},event:{region:this.language["Select an event to view all instances of that event for that region"],location:this.language["Select an event to view all instances of that event for that location"],system:this.language["Select an event to view all instances of that event for that system"]}};this.alarmsCount(),this.clickedAlarmTypeInBC="",this.clickOnClearedAlarms=!1,this.clickOnRaisedAlarms=!1,this.clickedRegion="",this.clickedEventRegion="",this.clickedLocation="",this.clickedEventLocation="",this.clickedSystem="",this.clickedSeverity="",this.applyFiltersInFS=!0;let i,a,n=this.filtersForm.value,s="Alarm";"Both"===n.alarmType&&"Event"===this.clickedAlarmType?(this.alarmType="Event",s="Event"):"Both"===n.alarmType?(this.alarmType="Alarm",s="Alarm",this.clickedAlarmType="Alarm"):(this.alarmType=n.alarmType,s=n.alarmType,this.clickedAlarmType=n.alarmType),i=n.category&&n.category.length&&-1===n.category.indexOf("All")?n.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,a=n.customCategory&&n.customCategory.length&&-1===n.customCategory.indexOf("None")?n.customCategory:void 0,n.eventName&&n.eventName.length&&-1===n.eventName.indexOf("All")||(n.eventName=void 0),this.loading=!0,this.initLoad=!1,this.showTable=!1,this.showSevertiyFullChart=!1;let o="";o=this.systemName&&this.systemName.length&&-1===this.systemName.indexOf("All")?this.systemName.filter(function(t){return t&&t.length&&"All"!==t}):void 0,"All"===this.regionName&&(this.regionName=void 0),"All"===this.locationName&&(this.locationName=void 0),"All"===this.systemName&&(this.systemName=void 0),n.severity&&"all"===n.severity.toLowerCase()&&(n.severity=void 0);let l={region:this.regionName,location:this.locationName,system:this.systemName,fsan_serialnumber:n.fsan?n.fsan:void 0,alarmEventName:n.eventName?n.eventName:void 0,severity:n.severity,notificationType:s,historyReport:!0,category:i,customCategory:a,cco_ack:n.cco_ack,cco_shelv:n.cco_shelv};"Alarm"!==l.notificationType&&(null===(t=this.skipParamsForEvents)||void 0===t||t.forEach(t=>{l[t]&&delete l[t]})),n.startDate&&(n.endDate||(n.endDate=new Date),l.date=`${this.dateUtilsService.getUtCMilliSecByDateObj(n.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(n.endDate,!0)}`);let c="";for(var g in l)null!=l[g]&&(""!=c&&(c+="&"),c+=g+"="+encodeURIComponent(l[g]));const m={};let p=["severity","region"];if(this.loadRegionChart=!0,"Event"===this.alarmType||"Both"===n.alarmType&&"Event"===this.clickedAlarmType){this.loadRegionChart=!1,this.alarmType="Event";let t=p.indexOf("severity");p.splice(t,1)}if(l.region){this.loadRegionChart=!1;let t=p.indexOf("severity");-1!==t&&p.splice(t,1),t=p.indexOf("region"),p.splice(t,1),p.push("location"),this.loadLocationChart=!0}if(l.location){this.loadLocationChart=!1;let t=p.indexOf("location");p.splice(t,1),p.push("system"),this.loadSystemChart=!0}if("Event"!==s){let t={alarmevent:`${this.language["Alarm by Severity"]}`,severity:`${this.language["Alarm by Severity"]}`,region:`${this.language["Alarm by Region"]}`,location:`${this.language["Alarm by Location"]}`,system:`${this.language["Alarm by System"]}`};2==p.length?(this.fullScreenChartName=t[p[0]],this.fullScrenSubHeading=e[l.notificationType.toLowerCase()][p[0]]):(this.fullScreenChartName=t[p[p.length-1]],this.fullScrenSubHeading=e[l.notificationType.toLowerCase()][p[p.length-1]]),p=["alarmevent"]}let u={alarmevent:`${this.baseUrl}alarmbyAlarmEvent?${c}`,severity:`${this.baseUrl}alarmbySeverity?${c}`,region:`${this.baseUrl}alarmbyRegion?${c}`,location:`${this.baseUrl}alarmbyLocation?${c}`,system:`${this.baseUrl}alarmbySystem?${c}`};p.forEach(t=>{const e=this.http.get(`${u[t]}`).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t))));m[t]=e}),this.closeErrors(),this.listObs=(0,d.D)(m).subscribe(t=>{this.loading=!1,this.fullScreen=!0;let i=0,a=this;if("object"==typeof t.alarmevent&&!t.alarmevent&&(t.alarmevent=[]),t&&"object"==typeof t.alarmevent&&!t.alarmevent["api-error"]?(this.count=this.getCountByData(t.alarmevent),this.params.alarm.severity=l,this.count||(t.alarmevent=[]),this.showSevertiyFullChart=!0,this.serverityError=!1,this.chartOptionService.getSubTitle(l,{},{},"alarm","severity"),setTimeout(()=>{let e=this.chartOptionService.getPieChartOptionsForFS(t.alarmevent,"raised","alarm","severity");e.plotOptions.series.point.events={click:t=>{if(this.clickOnRaisedAlarms=!0,this.clickedSeverity=this.getSeverityByObj(t.point.extraData),this.clickOnClearedAlarms&&(this.clickOnClearedAlarms=!1,this.searchTerm==t.point.name))return this.initLoad=!1,this.showTable=!1,void setTimeout(()=>{this.showTable=!0,this.count=0,this.showNewPagination?this.getListSub(t.point.name):this.search(t.point.name)},500);this.searchTerm!=t.point.name&&(this.searchTerm=t.point.name,this.initLoad=!1,this.showTable=!1,this.showNewPagination?this.getListSub(t.point.name):this.search(t.point.name))}};let i=this.chartOptionService.getPieChartOptionsForFS(t.alarmevent,"cleared","alarm","severity");i.plotOptions.series.point.events={click:t=>{if(this.clickedSeverity="CLEAR",this.clickOnClearedAlarms=!0,this.clickOnRaisedAlarms&&(this.clickOnRaisedAlarms=!1,this.searchTerm==t.point.name))return this.initLoad=!1,this.showTable=!1,void setTimeout(()=>{this.showTable=!0,this.count=0,this.showNewPagination?this.getListSub(t.point.name):this.search(t.point.name)},500);this.searchTerm!=t.point.name&&(this.searchTerm=t.point.name,this.initLoad=!1,this.showTable=!1,this.showNewPagination?this.getListSub(t.point.name):this.search(t.point.name))}},this.Highcharts.chart("fullChartContainer",e),this.Highcharts.chart("fullChartSeverityClearedContainer",i)},500),this.showTable=!0,this.initLoad?this.redraw():(this.chartTypeInFS="severity",this.clickedAlarmType=this.alarmType,this.getListSub())):t.alarmevent&&(this.errors.alarmevent=this.commonOrgService.pageErrorHandle(t.alarmevent)),t&&t.severity){this.showSevertiyFullChart=!0,this.fullScreenChartName="Alarm"==this.alarmType?this.language["Alarm by Severity"]:this.language["Event by Severity"],this.fullScrenSubHeading=e[l.notificationType.toLowerCase()].severity;let a=t.severity.alarm?t.severity.alarm:t.severity;this.serverityError=!1,setTimeout(()=>{let t=this.chartOptionService.severityChartOptions(a.raised,(this.both?"":this.alarmType)+" Raised","full");this.Highcharts.chart("fullChartContainer",t);let e=this.chartOptionService.severityChartOptions(a.cleared,(this.both?"":this.alarmType)+" Cleared","full");this.Highcharts.chart("fullChartSeverityClearedContainer",e)},500),i=this.getCountByDataObj(a),this.count=i,this.initLoad?this.redraw():(this.chartTypeInFS="severity",this.clickedAlarmType=s,this.getListSub()),this.showTable=!0}if(t&&void 0!==t.region){let n;this.params.event.region=l,this.fullScreenChartName="Alarm"===this.alarmType?this.language["Alarm by Region"]:this.language["Event by Region"],this.fullScrenSubHeading=e[l.notificationType.toLowerCase()].region,this.loadRegionChart=!0,this.regionChartData=t.region,i=this.getCountByData(t.region,this.alarmType),this.count=i,this.initLoad?this.redraw():(this.chartTypeInFS="region",this.clickedAlarmType=s,this.getListSub()),this.showTable=!0,this.regionError=!1,"Alarm"==this.alarmType?n=this.chartOptionService.regionChartOptions(this.regionChartData,!1):(n=this.chartOptionService.getEventOptions(this.regionChartData,"region",l),n.plotOptions.series.point.events={click:function(t){let e=$(this.series.data).index(this);a.generateEvent(l,t,e,"event","region",a)},contextmenu:function(t){let e=$(this.series.data).index(this);a.generateEvent(l,t,e,"event","region",a)}}),n=Object.assign({},n),this.Highcharts.chart("fullChartContainer",n)}if(t&&void 0!==t.location){let n;this.params.event.location=l,this.fullScreenChartName="Alarm"===this.alarmType?this.language["Alarm by Location"]:this.language["Event by Location"],this.fullScrenSubHeading=e[l.notificationType.toLowerCase()].location,this.locationChartData=t.location,i=this.getCountByData(t.location,this.alarmType),this.count=i,this.initLoad?this.redraw():(this.chartTypeInFS="location",this.clickedAlarmType=s,this.getListSub()),this.showTable=!0,this.locationError=!1,"Alarm"==this.alarmType?n=this.chartOptionService.locationChartOptions(this.locationChartData,!1,l):(n=this.chartOptionService.getEventOptions(this.locationChartData,"location",l),n.plotOptions.series.point.events={click:function(t){let e=$(this.series.data).index(this);a.generateEvent(l,t,e,"event","location",a)},contextmenu:function(t){let e=$(this.series.data).index(this);a.generateEvent(l,t,e,"event","location",a)}}),this.Highcharts.chart("fullChartContainer",n)}if(t&&void 0!==t.system){let n;this.params.event.system=l,this.fullScreenChartName="Alarm"===this.alarmType?this.language["Alarm by System"]:this.language["Event by System"],this.fullScrenSubHeading=e[l.notificationType.toLowerCase()].system,i=this.getCountByData(t.system,this.alarmType),this.count=i,this.initLoad?this.redraw():(this.chartTypeInFS="system",this.clickedAlarmType=s,this.getListSub()),this.showTable=!0,this.systemChartData=t.system,this.systemError=!1,"Alarm"==this.alarmType?n=this.chartOptionService.systemChartOptions(this.systemChartData,!1,l):(n=this.chartOptionService.getEventOptions(this.systemChartData,"system",l),n.plotOptions.series.point.events={click:function(t){let e=$(this.series.data).index(this);a.generateEvent(l,t,e,"event","system",a)},contextmenu:function(t){let e=$(this.series.data).index(this);a.generateEvent(l,t,e,"event","system",a)}}),this.Highcharts.chart("fullChartContainer",n)}this.loading=!1},t=>{this.pageErrorHandle(t)})}doSearch(){this.initLoad=!1,this.showTable=!1,this.listSub$=this.searchText$.pipe((0,b.b)(500),(0,C.x)(),(0,x.w)(t=>(this.fullScreen&&(this.initLoad=!1,this.showTable=!1),this.ssoService.setRefreshTokenNew(),new g.y(e=>e.next(t))))).subscribe(t=>{setTimeout(()=>{this.showTable=!0,this.count=0,this.fullScreen&&this.getList(this.chartTypeInFS,t?this.alarmType?this.alarmType:"Alarm":this.clickedAlarmType,this.applyFiltersInFS)},100)},t=>{})}search(t){this.showNewPagination||(t||this.resetALarmEventChart(),this.searchText$.next(t))}redraw(){this.searchTerm?this.search(this.searchTerm):this.dtElement.dtInstance.then(t=>{t.draw()})}viewDetails(t,e){t.isHistoryAlarmFromUI=!0,this.hideSource=!1,this.index=e,this.fullData=t,this.showAckShelveBtn=!0}convertToDateTime(t){return t?(t=Number(t),new a.uU("en-US").transform(new Date(t),"short")):void 0}changeSeverity(){this.clickedSeverity=""}clearSearchInp(){this.setSearchQuery(""),this.showNewPagination?(this.searchTerm="",this.getListSub()):(this.searchTerm="",this.search(""))}getQueryForCount(t,e,i,a){let n,s,o=this.filtersForm.value;n=o.category&&o.category.length&&-1===o.category.indexOf("All")?o.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,s=o.customCategory&&o.customCategory.length&&-1===o.customCategory.indexOf("None")?o.customCategory:void 0,o.eventName&&o.eventName.length&&-1===o.eventName.indexOf("All")||(o.eventName=void 0),"All"===this.regionName&&(this.regionName=void 0),"All"===this.locationName&&(this.locationName=void 0),"All"===this.systemName&&(this.systemName=void 0),"All"===o.severity&&(o.severity=void 0);let r={};i?r={region:this.regionName,location:this.locationName,system:this.systemName,fsan_serialnumber:o.fsan?o.fsan:"",severity:o.severity,historyReport:!0,category:n,notificationType:e||o.alarmType,alarmEventName:a||void 0,customCategory:s,cco_ack:o.cco_ack,cco_shelv:o.cco_shelv}:(r={system:this.clickedSystem||this.systemName,fsan_serialnumber:o.fsan?o.fsan:"",severity:this.clickedSeverity||o.severity,historyReport:!0,category:n,notificationType:e||o.alarmType,alarmEventName:a||void 0,customCategory:s,cco_ack:o.cco_ack,cco_shelv:o.cco_shelv},"Alarm"!==r.notificationType&&(delete r.cco_ack,delete r.cco_shelv),"Alarm"===r.notificationType?(r.region=this.clickedRegion||this.regionName,r.location=this.clickedLocation||this.locationName):(r.region=this.clickedEventRegion||this.regionName,r.location=this.clickedEventLocation||this.locationName)),o.startDate&&(o.endDate||(o.endDate=new Date),r.date=`${this.dateUtilsService.getUtCMilliSecByDateObj(o.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(o.endDate,!0)}`),"Event"===r.notificationType&&(delete r.severity,delete r.status),"region"===t&&(delete r.region,delete r.location,delete r.system),"location"===t&&(delete r.location,delete r.system);let l="";for(var c in r)null==r[c]||""==r[c]||(""!=l&&(l+="&"),l+=c+"="+encodeURIComponent(r[c]));return l}getCategories(){let t=this.filtersForm.value,e={historyReport:!0,notificationType:this.filtersForm.controls.alarmType.value};t.startDate&&(t.endDate||(t.endDate=new Date),e.date=`${this.dateUtilsService.getUtCMilliSecByDateObj(t.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(t.endDate,!0)}`);let i="";for(var a in e)null==e[a]||""==e[a]||(""!=i&&(i+="&"),i+=a+"="+encodeURIComponent(e[a]));this.http.get(`${this.baseUrl}category?${i}`).subscribe(e=>{let i=[],a=[{id:"All",name:"All"}],n=e.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())});n&&n.forEach(e=>{!e||(-1===t.category.indexOf("All")&&-1!==t.category.indexOf(e)&&i.push(e),a.push({id:e,name:e}))}),this.categories=a,i.length?this.filtersForm.get("category").setValue(i):this.filtersForm.get("category").setValue(["All"])})}getCustomCategories(){this.http.get(`${this.baseUrl}customCategory`).subscribe(t=>{let e=[{id:"None",name:"None"}],i=[];t.forEach(t=>{i.push(t.categoryName)});let a=i.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())});a&&a.forEach(t=>{!t||e.push({id:t,name:t})}),this.customCategories=e})}getAlarmNames(t="Alarm"){this.http.get(`${this.baseUrl}alarmEvent?notificationType=${t}&historyalarm=true`).subscribe(t=>{let e=[{id:"All",name:"All"}],i=t.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())});i&&i.forEach(t=>{!t||"multiple-onts-down"!==t&&e.push({id:t,name:t})}),this.alarmNames=e})}changeStartDate(){this.FromDate=this.filtersForm.get("startDate").value}validateRegion(t){let e=this.filtersForm.get("region").value;if("All"===t)e=["All"];else{let t=e.indexOf("All");t>-1&&e.splice(t,1)}this.filtersForm.get("region").setValue(e),this.loadLocationValue("")}validateLocation(t){let e=this.filtersForm.get("location").value;if("All"===t)e=["All"];else{let t=e.indexOf("All");t>-1&&e.splice(t,1)}this.filtersForm.get("location").setValue(e),this.loadSystemValue("")}validateSystem(t){let e=this.filtersForm.get("system").value;if(e.length)if("All"===t)e=["All"];else{let t=e.indexOf("All");t>-1&&e.splice(t,1)}else e=["All"];this.filtersForm.get("system").setValue(e)}validateCategory(t){let e=this.filtersForm.get("category").value;if(e.length)if("All"===t.id)e=["All"];else{let t=e.indexOf("All");t>-1&&e.splice(t,1),this.filtersForm.get("customCategory").setValue("None"),this.filtersForm.get("fsan").enable(),this.filtersForm.get("eventName").enable()}else e=["All"];this.filtersForm.get("category").setValue(e)}validateCustomCategory(t){let e=this.filtersForm.get("customCategory").value;if("None"===t.id)e=["None"];else{let t=e.indexOf("None");t>-1&&e.splice(t,1)}this.filtersForm.get("customCategory").setValue(e)}changeCustomCategory(t){"None"!==t.id&&(this.filtersForm.get("category").setValue(["All"]),this.filtersForm.get("fsan").setValue(""),this.filtersForm.get("eventName").setValue(["All"]))}validateAlarmEvent(t){let e=this.filtersForm.get("eventName").value;if(e.length)if("All"===t.id)e=["All"];else{let t=e.indexOf("All");t>-1&&e.splice(t,1)}else e=["All"];this.filtersForm.get("eventName").setValue(e)}validateAlarmName(t){var e,i,a;(-1===(null===(e=this.filtersForm.get("eventName").value)||void 0===e?void 0:e.indexOf("All"))||-1!==(null===(i=this.filtersForm.get("eventName").value)||void 0===i?void 0:i.indexOf("All"))&&(null===(a=this.filtersForm.get("eventName").value)||void 0===a?void 0:a.length)>1)&&this.filtersForm.get("customCategory").setValue("None")}validateFSAN(){this.filtersForm.get("customCategory").setValue("None"),(0==this.filtersForm.get("fsan").value.length||12==this.filtersForm.get("fsan").value.length)&&(this.fsanvalid=!1)}fsanvalidated(t){let e=this.filtersForm.get("fsan").value.length;return 0!=e&&e<12?(this.fsanvalid=!0,!0):(this.fsanvalid=!1,!1)}getSeverityByObj(t){let e=Object.keys(t);for(let i=0;i<e.length;i++)if(t[e[i]])return e[i];return"major"}changeTableStatusLanguage(t){const e=new Intl.NumberFormat;this.tableCounts={searchText:t.oPreviousSearch.sSearch.trim(),total:t._iRecordsTotal,displayCount:t._iDisplayLength,displayed:t._iRecordsDisplay,start:t._iDisplayStart};const i="fr"==sessionStorage.getItem("defaultLanguage"),a=t.oPreviousSearch.sSearch.trim()?i?`(filtr\xe9es \xe0 partir des ${e.format(t._iRecordsTotal)} entr\xe9es totales)`:`(filtered from ${e.format(t._iRecordsTotal)} total entries)`:"",n=0==t._iRecordsDisplay?-1:t._iDisplayStart,s=t._iDisplayStart+t._iDisplayLength>t._iRecordsDisplay?t._iRecordsDisplay:t._iDisplayStart+t._iDisplayLength;$('div [role="status"]').text(i?`Affichage de ${e.format(n+1)} \xe0 ${e.format(s)} des ${e.format(t._iRecordsDisplay)} entr\xe9es ${a}`:`Showing ${e.format(n+1)} to ${e.format(s)} of ${e.format(t._iRecordsDisplay)} entries ${a}`),$(".first").text(i?"Le d\xe9but":"First"),$(".previous").text(i?"Pr\xe9c\xe9dent":"Previous"),$(".next").text(i?"Suivant":"Next"),$(".last").text(i?"Derni\xe8re":"Last")}tableLanguageOptions(){"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.translateService.de_DE:"fr"==this.language.fileLanguage?this.dtOptions.language=this.translateService.fr:"es"==this.language.fileLanguage?this.dtOptions.language=this.translateService.es:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}closeNotes(){this.modalRef&&this.modalRef.close()}openNotesModal(t,e,i,a){this.btnDisabled=!0,this.isNotesModalOpen=!0,this.index=a,this.noteError=!1,this.showEdit=i,this.alarmId=t,this.notes.setValue(e||""),this.modalRef=this.dialogService.open(this.addNotesModal,{size:"lg",centered:!1,windowClass:"custom-modal"})}openShowNotesModal(t){this.btnDisabled=!0,this.isNotesModalOpen=!0,this.notes.setValue(t||""),this.modalRef=this.dialogService.open(this.showNotesModal,{size:"lg",centered:!1,windowClass:"custom-modal"})}addNotes(){this.noteSaveLoader=!0,this.btnDisabled=!0,this.url=`${this.baseUrl}notes/${this.alarmId}?notesDescription=${encodeURIComponent(this.notes.value)}&historyReport=true`,this.http.put(this.url,"").subscribe(t=>{for(let e=0;e<=this.list.length;e++)e==this.index&&(this.list[e].subject.notes=this.notes.value);this.closeNotes(),this.btnDisabled=!1,this.noteSaveLoader=!1},t=>{this.noteError=!0,this.btnDisabled=!1,this.noteSaveLoader=!1,this.noteErrorInfo=401==t.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(t)})}deleteConfirmModal(t,e){this.modalRef&&this.closeNotes(),this.btnDisabled=!1,this.deleteId=t,this.deleteIndex=e,this.modalRef=this.dialogService.open(this.deleteModal)}deleteNotes(){this.noteSaveLoader=!0,this.deleteError=!1,this.deleteErrorInfo="",this.btnDisabled=!0,this.url=`${this.baseUrl}notes/${this.deleteId}`,this.http.delete(this.url).subscribe(t=>{for(let e=0;e<=this.list.length;e++)e==this.deleteIndex&&this.list[e].subject.notes&&delete this.list[e].subject.notes;this.btnDisabled=!1,this.noteSaveLoader=!1,this.closeNotes()},t=>{this.btnDisabled=!1,this.deleteError=!0,this.noteSaveLoader=!1,this.deleteErrorInfo=401==t.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(t)})}makeDefaultVarForBoth(){this.bothRegion=!1,this.bothLocation=!1,this.bothSystem=!1,this.bothRegionAlarm=!1,this.bothLocationAlarm=!1,this.bothSystemAlarm=!1,this.bothRegionEvent=!1,this.bothLocationEvent=!1,this.bothSystemEvent=!1}loadBothDataNew(){this.makeDefaultVarForBoth();let t,e,i=this.filtersForm.value,n=new a.rS;t=i.category&&i.category.length&&-1===i.category.indexOf("All")?i.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,e=i.customCategory&&i.customCategory.length&&-1===i.customCategory.indexOf("None")?i.customCategory:void 0,i.eventName&&i.eventName.length&&-1===i.eventName.indexOf("All")||(i.eventName=void 0),this.clickedAlarmTypeInBC="",this.clickedLocation="",this.clickedEventLocation="",this.clickedRegion="",this.clickedEventRegion="",this.clickedSystem="",this.loadLocationChart=!1,this.loadSystemChart=!1,this.serverityError=!1,this.systemError=!1,this.regionError=!1,this.locationError=!1,this.severityChartData=null,this.systemChartData=null,this.locationChartData=null,this.regionChartData=null,this.loading=!0,this.applyDisabled=!0,this.both="Both"==i.alarmType;let s="";s=this.systemName&&this.systemName.length&&-1===this.systemName.indexOf("All")?this.systemName.filter(function(t){return t&&t.length&&"All"!==t}):void 0,i.severity&&"all"===i.severity.toLowerCase()&&(i.severity=void 0);let o={region:"All"!==this.regionName?this.regionName:void 0,location:"All"!==this.locationName?this.locationName:void 0,fsan_serialnumber:i.fsan,alarmEventName:i.eventName,severity:i.severity,historyReport:!0,category:t,system:s,customCategory:e,cco_ack:i.cco_ack,cco_shelv:i.cco_shelv};i.startDate&&(i.endDate||(i.endDate=new Date),o.date=`${this.dateUtilsService.getUtCMilliSecByDateObj(i.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(i.endDate,!0)}`);let l="";for(var c in o)null!=o[c]&&(""!=l&&(l+="&"),l+=c+"="+encodeURIComponent(o[c]));let g="",m=["customCategory","severity","cco_ack","cco_shelv"];for(var c in o)null==o[c]||-1!==m.indexOf(c)||(""!=g&&(g+="&"),g+=c+"="+encodeURIComponent(o[c]));const p={};let u=["severity","byday","region","region-event"];if(this.loadRegionChart=!0,o.location){let t=u.indexOf("location");t>-1&&u.splice(t,1),t=u.indexOf("location-event"),t>-1&&u.splice(t,1),t=u.indexOf("region"),t>-1&&u.splice(t,1),t=u.indexOf("region-event"),t>-1&&u.splice(t,1),u.push("system"),u.push("system-event"),this.bothSystem=!0,this.bothSystemAlarm=!0,this.bothSystemEvent=!0}else if(o.region){this.loadRegionChart=!1;let t=u.indexOf("region");t>-1&&u.splice(t,1),t=u.indexOf("region-event"),t>-1&&u.splice(t,1),u.push("location"),u.push("location-event"),this.bothLocation=!0,this.bothLocationAlarm=!0,this.bothLocationEvent=!0}this.alarmTypesToExport=u,this.exportParams=o,o.region||o.location||(this.bothRegion=!0,this.bothRegionAlarm=!0,this.bothRegionEvent=!0);let v="Days";v=this.chartOptionService.getDateDiff(o)>5?"Hours":"Minutes";let y={byday:`${this.baseUrl}alarmbyInterval?${l}&interval=${v}&notificationType=Alarm`,severity:`${this.baseUrl}alarmbySeverity?${l}&notificationType=Alarm`,region:`${this.baseUrl}alarmbyRegion?${l}&notificationType=Alarm`,location:`${this.baseUrl}alarmbyLocation?${l}&notificationType=Alarm`,system:`${this.baseUrl}alarmbySystem?${l}&notificationType=Alarm`,"severity-event":`${this.baseUrl}alarmbySeverity?${g}&notificationType=Event`,"region-event":`${this.baseUrl}alarmbyRegion?${g}&notificationType=Event`,"location-event":`${this.baseUrl}alarmbyLocation?${g}&notificationType=Event`,"system-event":`${this.baseUrl}alarmbySystem?${g}&notificationType=Event`};u.forEach(t=>{const e=this.http.get(`${y[t]}`).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t))));p[t]=e});let f=this;this.listObs=(0,d.D)(p).subscribe(t=>{if(this.loading=!1,t&&t.severity&&!t.severity["api-error"]){let e=t.severity.alarm?t.severity.alarm:t.severity;this.serverityError=!1;let i=this.chartOptionService.severityChartOptions(e.raised,"Alarms Raised","small",o),a=this.chartOptionService.severityChartOptions(e.cleared,"Alarms Cleared","small",o);this.data.alarm.severity=this.chartOptionService.prepareAlarmCSVDataforSeverity(e,"histoy",o),this.params.alarm.severity=o,i.plotOptions.series.point.events={contextmenu:t=>{t.preventDefault(),this.clickedSeverity=t.point.severity.toLowerCase(),this.params.alarm.severity.severity=t.point.severity.toLowerCase(),f.chartOptionService.getUserFilters("alarm","severity").Severity=n.transform(t.point.severity),this.gotoFullScreen("severity","Alarm")},click:t=>{t.preventDefault(),this.clickedSeverity=t.point.severity.toLowerCase(),this.params.alarm.severity.severity=t.point.severity.toLowerCase(),f.chartOptionService.getUserFilters("alarm","severity").Severity=n.transform(t.point.severity),this.gotoFullScreen("severity","Alarm")}},a.plotOptions.series.point.events={contextmenu:t=>{t.preventDefault(),this.clickedSeverity=t.point.severity.toLowerCase(),this.params.alarm.severity.severity=t.point.severity.toLowerCase(),f.chartOptionService.getUserFilters("alarm","severity").Severity=n.transform(t.point.severity),this.gotoFullScreen("severity","Alarm")},click:t=>{t.preventDefault(),this.clickedSeverity=t.point.severity.toLowerCase(),this.params.alarm.severity.severity=t.point.severity.toLowerCase(),f.chartOptionService.getUserFilters("alarm","severity").Severity=n.transform(t.point.severity),this.gotoFullScreen("severity","Alarm")}},this.Highcharts.chart("severityAlarmContainer",i),this.Highcharts.chart("severityClearedAlarmContainer",a)}else if(t.severity&&t.severity["api-error"])this.params.alarm.severity=o,this.data.alarm.severity=this.chartOptionService.prepareAlarmCSVDataforSeverity({},"histoy",o),this.errors.severity=this.commonOrgService.pageErrorHandle(t.severity);else if(void 0!==t.severity){this.params.alarm.severity=o,this.data.alarm.severity=this.chartOptionService.prepareAlarmCSVDataforSeverity({},"histoy",o);let t=this.chartOptionService.severityChartOptions([],this.language["Alarms Raised"],"medium",o);this.Highcharts.chart("severityAlarmContainer",t);let e=this.chartOptionService.severityChartOptions([],this.language["Alarms Cleared"],"medium",o);this.Highcharts.chart("severityClearedAlarmContainer",e)}if(t&&void 0!==t.region&&t.region&&!t.region["api-error"]){this.alarmTitleInBoth=this.language["Alarm by Region"],this.alarmChartType="region",this.loadRegionChart=!0,this.regionError=!1;let e=this.chartOptionService.regionChartOptions(t.region,!1,o);this.data.alarm.region=this.chartOptionService.prepareAlarmCSVDataforRegion(t.region,"histoy",o),this.params.alarm.region=o,e.plotOptions.series.point.events={click:function(t){let e=$(this.series.data).index(this);f.clickedRegion=t.point.series.userOptions.data[e].regionId,f.clickedSeverity=t.point.series.userOptions.data[e].severity,f.alarmTypeInBoth="Alarm",f.getChartByLocation("Alarm")},contextmenu:function(t){var e,a;let s=$(this.series.data).index(this);t.preventDefault(),f.clickedAlarmTypeInBC=t.point.series.userOptions.stack,f.clickedRegion=t.point.series.userOptions.data[s].regionId,f.clickedSeverity=null===(e=t.point.series.userOptions.data[s].severity)||void 0===e?void 0:e.toLowerCase(),f.params.alarm.region.region=t.point.series.userOptions.data[s].regionId,f.params.alarm.region.severity=null===(a=t.point.series.userOptions.data[s].severity)||void 0===a?void 0:a.toLowerCase(),f.params.alarm.region.status=n.transform(t.point.series.userOptions.stack),f.deleteParams.alarm.region.region=!0,i.severity||(f.deleteParams.alarm.region.severity=!0),f.deleteParams.alarm.region.status=!0,f.gotoFullScreen("region","Alarm")}},e=Object.assign({},e),this.Highcharts.chart("region-alarm-container-both",e)}else if(t.region&&t.region["api-error"])this.data.alarm.region=this.chartOptionService.prepareAlarmCSVDataforRegion([],"histoy",o),this.params.alarm.region=o,this.alarmTitleInBoth=this.language["Alarm by Region"],this.errors.region=this.commonOrgService.pageErrorHandle(t.region);else if(void 0!==t.region){this.data.alarm.region=this.chartOptionService.prepareAlarmCSVDataforRegion([],"histoy",o),this.params.alarm.region=o,this.alarmTitleInBoth=this.language["Alarm by Region"];let t=this.chartOptionService.regionChartOptions([],!0,o);this.Highcharts.chart("region-alarm-container-both",t)}if(t&&void 0!==t["region-event"]&&t["region-event"]&&!t["region-event"]["api-error"]){this.eventTitleInBoth=this.language["Event by Region"],this.eventChartType="region",this.loadRegionChart=!0,this.regionError=!1;let e=this.chartOptionService.getEventOptions(t["region-event"],"region",o);this.data.event.region=this.chartOptionService.prepareEventCSVDataforRegion(t["region-event"]),this.params.event.region=o,e.plotOptions.series.point.events={click:function(t){let e=$(this.series.data).index(this);f.clickedEventRegion=t.point.series.userOptions.data[e].uuid,f.alarmTypeInBoth="Event",f.deleteParams.event.region.region=!0,f.getChartByLocation("Event")}},e=Object.assign({},e),this.Highcharts.chart("region-event-container-both",e)}else if(t["region-event"]&&t["region-event"]["api-error"])this.data.event.region=this.chartOptionService.prepareEventCSVDataforRegion([]),this.params.event.region=o,this.eventTitleInBoth=this.language["Event by Region"],this.errors["region-event"]=this.commonOrgService.pageErrorHandle(t["region-event"]);else if(void 0!==t["region-event"]){this.data.event.region=this.chartOptionService.prepareEventCSVDataforRegion([]),this.params.event.region=o,this.eventTitleInBoth=this.language["Event by Region"];let t=this.chartOptionService.getEventOptions([],!0,o);this.Highcharts.chart("region-event-container-both",t)}if(t&&void 0!==t.location&&t.location&&!t.location["api-error"]){this.alarmChartType="location",this.alarmTitleInBoth=this.language["Alarm by Location"],this.loadRegionChart=!0,this.locationError=!1;let e=this.chartOptionService.locationChartOptions(t.location,!1,o);this.data.alarm.location=this.chartOptionService.prepareAlarmCSVDataforLocation(t.location,{},"histoy",o),this.params.alarm.location=o,e.plotOptions.series.point.events={click:function(t){let e=$(this.series.data).index(this);f.clickedLocation=t.point.series.userOptions.data[e].locationId,f.clickedSeverity=t.point.series.userOptions.data[e].severity,f.alarmTypeInBoth="Alarm",f.getAlarmBySystem("Alarm")},contextmenu:function(t){var e,a;let s=$(this.series.data).index(this);t.preventDefault(),f.clickedLocation=t.point.series.userOptions.data[s].locationId,f.clickedSeverity=null===(e=t.point.series.userOptions.data[s].severity)||void 0===e?void 0:e.toLowerCase(),f.clickedAlarmTypeInBC=t.point.series.userOptions.stack,f.params.alarm.location.location=t.point.series.userOptions.data[s].locationId,f.params.alarm.location.severity=null===(a=t.point.series.userOptions.data[s].severity)||void 0===a?void 0:a.toLowerCase(),f.params.alarm.location.status=n.transform(t.point.series.userOptions.stack),i.location&&-1!==i.location.indexOf("All")&&(f.deleteParams.alarm.location.location=!0),i.severity||(f.deleteParams.alarm.location.severity=!0),f.deleteParams.alarm.location.status=!0,f.gotoFullScreen("location","Alarm")}},e=Object.assign({},e),this.Highcharts.chart("location-alarm-container-both",e)}else if(t.location&&t.location["api-error"])this.data.alarm.location=this.chartOptionService.prepareAlarmCSVDataforLocation([],{},"histoy",o),this.params.alarm.location=o,this.alarmTitleInBoth=this.language["Alarm by Location"],this.errors.location=this.commonOrgService.pageErrorHandle(t.location);else if(void 0!==t.location){this.data.alarm.location=this.chartOptionService.prepareAlarmCSVDataforLocation([],{},"histoy",o),this.params.alarm.location=o,this.alarmTitleInBoth=this.language["Alarm by Location"];let t=this.chartOptionService.locationChartOptions([],!0,o);this.Highcharts.chart("location-alarm-container-both",t)}if(t&&void 0!==t.system&&t.system&&!t.system["api-error"]){this.alarmChartType="system",this.alarmTitleInBoth=this.language["Alarm by System"],this.loadRegionChart=!0,this.systemError=!1;let e=this.chartOptionService.systemChartOptions(t.system,!1,o);this.data.alarm.system=this.chartOptionService.prepareAlarmCSVDataforSystem(t.system,{},"histoy",o),this.params.alarm.system=o,e.plotOptions.series.point.events={click:function(t){var e,a;let s=$(this.series.data).index(this);f.clickedSystem=t.point.options.category,f.clickedSeverity=null===(e=t.point.series.userOptions.data[s].severity)||void 0===e?void 0:e.toLowerCase(),f.clickedAlarmTypeInBC=t.point.series.userOptions.stack,f.params.alarm.system.system=t.point.series.userOptions.data[s].systemId,f.params.alarm.system.severity=null===(a=t.point.series.userOptions.data[s].severity)||void 0===a?void 0:a.toLowerCase(),f.params.alarm.system.status=n.transform(t.point.series.userOptions.stack),i.system&&-1!==i.system.indexOf("All")&&(f.deleteParams.alarm.system.system=!0),i.severity||(f.deleteParams.alarm.system.severity=!0),f.deleteParams.alarm.system.status=!0,t.preventDefault(),f.gotoFullScreen("system","Alarm")},contextmenu:function(t){var e,a;let s=$(this.series.data).index(this);t.preventDefault(),f.clickedSystem=t.point.options.category,f.clickedSeverity=null===(e=t.point.series.userOptions.data[s].severity)||void 0===e?void 0:e.toLowerCase(),f.clickedAlarmTypeInBC=t.point.series.userOptions.stack,f.params.alarm.system.system=t.point.series.userOptions.data[s].systemId,f.params.alarm.system.severity=null===(a=t.point.series.userOptions.data[s].severity)||void 0===a?void 0:a.toLowerCase(),f.params.alarm.system.status=n.transform(t.point.series.userOptions.stack),i.system&&-1!==i.system.indexOf("All")&&(f.deleteParams.alarm.system.system=!0),i.severity||(f.deleteParams.alarm.system.severity=!0),f.deleteParams.alarm.system.status=!0,f.gotoFullScreen("system","Alarm")}},this.Highcharts.chart("system-alarm-container-both",e),document.getElementById("both-systemwrapper").scrollIntoView({behavior:"smooth"})}else if(t.system&&t.system["api-error"])this.data.alarm.system=this.chartOptionService.prepareAlarmCSVDataforSystem([],{},"histoy",o),this.params.alarm.system=o,this.alarmTitleInBoth=this.language["Alarm by System"],this.errors.system=this.commonOrgService.pageErrorHandle(t.system);else if(void 0!==t.system){this.data.alarm.system=this.chartOptionService.prepareAlarmCSVDataforSystem([],{},"histoy",o),this.params.alarm.system=o,this.alarmTitleInBoth=this.language["Alarm by System"];let t=this.chartOptionService.systemChartOptions([],!0,o);this.Highcharts.chart("system-alarm-container-both",t)}if(t&&void 0!==t["location-event"]&&t["location-event"]&&!t["location-event"]["api-error"]){this.eventChartType="location",this.eventTitleInBoth=this.language["Event by Location"],this.loadRegionChart=!0,this.regionError=!1;let e=this.chartOptionService.getEventOptions(t["location-event"],"location",o);this.data.event.location=this.chartOptionService.prepareEventCSVDataforLocation(t["location-event"]),this.params.event.location=o,e.plotOptions.series.point.events={click:function(t){let e=$(this.series.data).index(this);f.clickedEventLocation=t.point.series.userOptions.data[e].uuid,f.alarmTypeInBoth="Event",f.getAlarmBySystem("Event")}},e=Object.assign({},e),this.Highcharts.chart("location-event-container-both",e)}else if(t["location-event"]&&t["location-event"]["api-error"])this.data.event.location=this.chartOptionService.prepareEventCSVDataforLocation([]),this.params.event.location=o,this.eventTitleInBoth=this.language["Event by Location"],this.errors["location-event"]=this.commonOrgService.pageErrorHandle(t["location-event"]);else if(void 0!==t["location-event"]){this.data.event.location=this.chartOptionService.prepareEventCSVDataforLocation([]),this.params.event.location=o,this.eventTitleInBoth=this.language["Event by Location"];let t=this.chartOptionService.locationChartOptions([],!0,o);this.Highcharts.chart("location-event-container-both",t)}if(t&&void 0!==t["system-event"]&&t["system-event"]&&!t["system-event"]["api-error"]){this.eventChartType="system",this.eventTitleInBoth=this.language["Event by System"],this.loadRegionChart=!0,this.regionError=!1;let e=this.chartOptionService.getEventOptions(t["system-event"],"system",o);this.data.event.system=this.chartOptionService.prepareEventCSVDataforSystem(t["system-event"]),this.params.event.system=o,e.plotOptions.series.point.events={click:function(t){let e=$(this.series.data).index(this);f.clickedSystem=t.point.series.userOptions.data[e].uuid,t.preventDefault(),i.system&&-1!==i.system.indexOf("All")&&(f.deleteParams.event.system.system=!0),f.gotoFullScreen("system","Event")},contextmenu:function(t){t.preventDefault();let e=$(this.series.data).index(this);f.clickedSystem=t.point.series.userOptions.data[e].uuid,i.system&&-1!==i.system.indexOf("All")&&(f.deleteParams.event.system.system=!0),f.gotoFullScreen("system","Event")}},e=Object.assign({},e),this.Highcharts.chart("system-event-container-both",e)}else if(t["system-event"]&&t["system-event"]["api-error"])this.data.event.system=this.chartOptionService.prepareEventCSVDataforSystem([]),this.params.event.system=o,this.eventTitleInBoth=this.language["Event by System"],this.errors["system-event"]=this.commonOrgService.pageErrorHandle(t["system-event"]);else if(void 0!==t["system-event"]){this.data.event.system=this.chartOptionService.prepareEventCSVDataforSystem([]),this.params.event.system=o,this.eventTitleInBoth=this.language["Event by System"];let t=this.chartOptionService.systemChartOptions([],!0,o);this.Highcharts.chart("system-event-container-both",t)}if(t&&"object"==typeof t.byday&&t.byday&&!t.byday["api-error"]){let e=this.chartOptionService.getLineChartOptionsNew(t.byday,!1,o,i);this.data.alarm.byday=this.chartOptionService.prepareAlarmCSVDataforDay(t.byday,"",o),this.Highcharts.stockChart("both-event-alarm-line-chart-container",e)}else if(t.byday&&t.byday["api-error"])this.data.alarm.byday=this.chartOptionService.prepareAlarmCSVDataforDay([]),this.errors.byday=this.commonOrgService.pageErrorHandle(t.byday);else if(void 0!==t.byday){this.data.alarm.byday=this.chartOptionService.prepareAlarmCSVDataforDay([]);let t=this.chartOptionService.getLineChartOptionsNew([],!0,o,i);this.Highcharts.stockChart("both-event-alarm-line-chart-container",t)}this.loading=!1},t=>{this.pageErrorHandle(t)})}handleError(t){return(0,m._)(t)}download(t,e){let i={alarm:"Alarms",event:"Events",region:"Region",location:"Location",system:"System",severity:"Severity",byday:"Day"},a=this.data[e][t],n=`${i[e]} By ${i[t]} \r\n${this.chartOptionService.getSubTitleStr(e,t)} \r\n`;console.log(a),console.log(n),this.exportExcelService.downLoadCSV(`${i[e]}-By-${i[t]}`,a,n)}openSubscriberInfo(t,e){this.index=t,this.alarmId=e,this.subscriberInfosub=this.issueService.getAlarmSubscriberInfo(this.alarmId).subscribe(t=>{this.Infosub=null!==(null==t?void 0:t.subcribers),this.subscriberInfo=(null==t?void 0:t.subcribers)?null==t?void 0:t.subcribers:[],this.modalRef=this.dialogService.open(this.addSubscriberInfoModel,{size:"lg",centered:!1,windowClass:"custom-lg-modal"})},t=>{this.pageErrorHandle(t)})}removespecialcharacter(t){var e;return(e=t.keyCode)>47&&e<58||e>64&&e<91||e>96&&e<123}deleteFullScreenParams(){let t=new a.rS;Object.keys(this.deleteParams).forEach(e=>{Object.keys(this.deleteParams[e]).forEach(i=>{if(Object.keys(this.deleteParams[e][i]).length){let a=Object.keys(this.deleteParams[e][i]),n=this.chartOptionService.getUserFilters(e,i);a.forEach(a=>{void 0!==this.params[e][i][a]&&this.params[e][i][a]&&(delete this.params[e][i][a],this.deleteParams[e][i][a]=!1,delete n[t.transform(a)])}),this.chartOptionService.setUserFilters(e,i,n)}})})}downloadCsvFromFilters(){let t=this.filtersForm.value;if("Both"===t.alarmType){let t=["severity-event","region-event","location-event","system-event"];this.alarmTypesToExport.forEach(e=>{let i=-1===t.indexOf(e)?"alarm":"event";"event"===i&&(e={"severity-event":"severity","region-event":"region","location-event":"location","system-event":"system"}[e]),this.download(e,i)})}else this.alarmTypesToExport.forEach(e=>{this.download(e,t.alarmType.toLowerCase())})}exportExcel(){this.getDataForExport()}exportParallel(){if(this.fsanvalidated("d"))return;this.disableExportBtn=!0;let t,e,i=this.filtersForm.value;t=i.category&&i.category.length&&-1===i.category.indexOf("All")?i.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,e=i.customCategory&&i.customCategory.length&&-1===i.customCategory.indexOf("None")?i.customCategory:void 0,i.eventName&&i.eventName.length&&-1===i.eventName.indexOf("All")||(i.eventName=void 0);let a="";a=this.systemName&&this.systemName.length&&-1===this.systemName.indexOf("All")?this.systemName.filter(function(t){return t&&t.length&&"All"!==t}):void 0,i.severity&&("all"===i.severity.toLowerCase()||"event"===i.alarmType.toLowerCase())&&(i.severity=void 0);let n={region:"All"!==this.regionName?this.regionName:void 0,location:"All"!==this.locationName?this.locationName:void 0,fsan_serialnumber:i.fsan,alarmEventName:i.eventName,severity:i.severity,notificationType:i.alarmType,historyReport:!0,category:t,customCategory:e,system:a,cco_ack:i.cco_ack,cco_shelv:i.cco_shelv};"Alarm"!==n.notificationType&&(delete n.cco_ack,delete n.cco_shelv),i.startDate&&(i.endDate||(i.endDate=new Date),n.date=`${this.dateUtilsService.getUtCMilliSecByDateObj(i.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(i.endDate,!0)}`);let s="",o=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1];if("Both"===i.alarmType){for(var l in delete n.notificationType,n)null==n[l]||""==n[l]||(""!=s&&(s+="&"),s+=l+"="+encodeURIComponent(n[l]));const t={};["Event","Alarm"].forEach(e=>{let i=`${this.baseUrl}notifications?${s}&from=0&exportReport=true&timeZone=${encodeURIComponent(o)}`;i+="Event"===e?`&notificationType=${e}&size=${this.Export_FileSize(this.removeCommaInNumber(this.totalEvents))}`:`&notificationType=${e}&size=${this.Export_FileSize(this.removeCommaInNumber(this.totalAlarms)+this.totalAlarms_cleared)}`;const a=this.http.get(`${i}`).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t))));t[e]=a}),(0,d.D)(t).subscribe(t=>{var e,i,a,n;const s={};(null===(e=null==t?void 0:t.Event)||void 0===e?void 0:e.s3Url)&&(s.Events=this.http.get(`${null===(i=null==t?void 0:t.Event)||void 0===i?void 0:i.s3Url}`,{responseType:"blob"}).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t))))),(null===(a=null==t?void 0:t.Alarm)||void 0===a?void 0:a.s3Url)&&(s.Alarms=this.http.get(`${null===(n=null==t?void 0:t.Alarm)||void 0===n?void 0:n.s3Url}`,{responseType:"blob"}).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t))))),(0,d.D)(s).subscribe(e=>{var i,a;if(e.Alarms){let a=null===(i=null==t?void 0:t.Alarm)||void 0===i?void 0:i.s3Url.split("/").pop().split("?")[0];(0,le.saveAs)(e.Alarms,`${a}`)}if(e.Events){let i=null===(a=null==t?void 0:t.Event)||void 0===a?void 0:a.s3Url.split("/").pop().split("?")[0];(0,le.saveAs)(e.Events,`${i}`)}this.disableExportBtn=!1},t=>{this.disableExportBtn=!1})},t=>{this.disableExportBtn=!1})}else{for(var l in n)null==n[l]||""==n[l]||(""!=s&&(s+="&"),s+=l+"="+encodeURIComponent(n[l]));let t=`${this.baseUrl}notifications?${s}&from=0&exportReport=true&timeZone=${encodeURIComponent(o)}`;"Alarm"===i.alarmType?t+=`&size=${this.Export_FileSize(this.removeCommaInNumber(this.totalAlarms)+this.totalAlarms_cleared)}`:"Event"===i.alarmType&&(t+=`&size=${this.Export_FileSize(this.removeCommaInNumber(this.totalEvents))}`),this.http.get(t).subscribe(t=>{(null==t?void 0:t.s3Url)&&this.http.get(null==t?void 0:t.s3Url,{responseType:"blob"}).subscribe(e=>{let i=null==t?void 0:t.s3Url.split("/").pop().split("?")[0];(0,le.saveAs)(e,`${i}`),this.disableExportBtn=!1},t=>{this.disableExportBtn=!1})},t=>{this.disableExportBtn=!1})}}exportNew(){if(this.fsanvalidated("d"))return;this.disableExportBtn=!0;let t,e,i=this.filtersForm.value;t=i.category&&i.category.length&&-1===i.category.indexOf("All")?i.category.filter(function(t){return t&&t.length&&"All"!==t}):void 0,e=i.customCategory&&i.customCategory.length&&-1===i.customCategory.indexOf("None")?i.customCategory:void 0,i.eventName&&i.eventName.length&&-1===i.eventName.indexOf("All")||(i.eventName=void 0);let a="";a=this.systemName&&this.systemName.length&&-1===this.systemName.indexOf("All")?this.systemName.filter(function(t){return t&&t.length&&"All"!==t}):void 0,i.severity&&("all"===i.severity.toLowerCase()||"event"===i.alarmType.toLowerCase())&&(i.severity=void 0);let n={region:"All"!==this.regionName?this.regionName:void 0,location:"All"!==this.locationName?this.locationName:void 0,fsan_serialnumber:i.fsan,alarmEventName:i.eventName,severity:i.severity,notificationType:i.alarmType,historyReport:!0,category:t,customCategory:e,system:a,cco_ack:i.cco_ack,cco_shelv:i.cco_shelv};"Alarm"!==n.notificationType&&(delete n.cco_ack,delete n.cco_shelv),i.startDate&&(i.endDate||(i.endDate=new Date),n.date=`${this.dateUtilsService.getUtCMilliSecByDateObj(i.startDate)},${this.dateUtilsService.getUtCMilliSecByDateObj(i.endDate,!0)}`);let s="",o=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1];if("Both"===i.alarmType){for(var l in delete n.notificationType,n)null==n[l]||""==n[l]||(""!=s&&(s+="&"),s+=l+"="+encodeURIComponent(n[l]));const t={};["Event","Alarm"].forEach(e=>{let i=`${this.baseUrl}notifications?${s}&from=0&exportReport=true&timeZone=${encodeURIComponent(o)}`;i+="Event"===e?`&notificationType=${e}&size=${this.Export_FileSize(this.removeCommaInNumber(this.totalEvents))}`:`&notificationType=${e}&size=${this.Export_FileSize(this.removeCommaInNumber(this.totalAlarms)+this.totalAlarms_cleared)}`;const a=this.http.get(`${i}`);t[e]=a});const e={};let i,a="";t.Alarm.subscribe(t=>{(null==t?void 0:t.s3Url)&&(i=null==t?void 0:t.s3Url,e.Alarms=this.http.get(`${null==t?void 0:t.s3Url}`,{responseType:"blob"}).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t)))))},t=>{},()=>{t.Event.subscribe(t=>{(null==t?void 0:t.s3Url)&&(a=null==t?void 0:t.s3Url,e.Events=this.http.get(`${null==t?void 0:t.s3Url}`,{responseType:"blob"}).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t)))))},t=>{},()=>{(0,d.D)(e).subscribe(t=>{if(t.Alarms){let e=i.split("/").pop().split("?")[0];(0,le.saveAs)(t.Alarms,`${e}`)}if(t.Events){let e=a.split("/").pop().split("?")[0];(0,le.saveAs)(t.Events,`${e}`)}this.disableExportBtn=!1},t=>{this.disableExportBtn=!1})})})}else{for(var l in n)null==n[l]||""==n[l]||(""!=s&&(s+="&"),s+=l+"="+encodeURIComponent(n[l]));let t=`${this.baseUrl}notifications?${s}&from=0&exportReport=true&timeZone=${encodeURIComponent(o)}`;"Alarm"===i.alarmType?t+=`&size=${this.Export_FileSize(this.removeCommaInNumber(this.totalAlarms)+this.totalAlarms_cleared)}`:"Event"===i.alarmType&&(t+=`&size=${this.Export_FileSize(this.removeCommaInNumber(this.totalEvents))}`),this.http.get(t).subscribe(t=>{(null==t?void 0:t.s3Url)&&this.http.get(null==t?void 0:t.s3Url,{responseType:"blob"}).subscribe(e=>{let i=null==t?void 0:t.s3Url.split("/").pop().split("?")[0];(0,le.saveAs)(e,`${i}`),this.disableExportBtn=!1},t=>{this.disableExportBtn=!1})},t=>{this.disableExportBtn=!1})}}Export_FileSize(t){return t<=9999?t:t>9999?1e4:100}downloadFile(t){var e=document.createElement("a");e.href=t,e.download=t.substr(t.lastIndexOf("/")+1),e.click()}getDataForExport(){let t="",e=["severity-event","region-event","location-event","system-event"],i=this.filtersForm.value;this.alarmTypesToExport.forEach(a=>{var n;let s=null===(n=i.alarmType)||void 0===n?void 0:n.toLowerCase();if("Both"===i.alarmType&&(s=-1===e.indexOf(a)?"alarm":"event"),"event"===s){let e={"severity-event":"severity","region-event":"region","location-event":"location","system-event":"system"};t=e[a]?e[a]:a}});let a="";for(var n in this.exportParams)null==this.exportParams[n]||""===this.exportParams[n]||(""!=a&&(a+="&"),a+=n+"="+encodeURIComponent(this.exportParams[n]));let s=`${this.baseUrl}notifications?${a}&from=0`;if("Both"===i.alarmType){const e={};["Event","Alarm"].forEach(t=>{let i=this.exportAlarmCount;"Event"===t&&(i=this.eventCountData);const a=this.http.get(`${s}&size=${i}`).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t))));e[t]=a}),(0,d.D)(e).subscribe(e=>{let i=[],a="Alarms",n=`Alarms \r\n${this.chartOptionService.getSubTitleStr("alarm","severity")} \r\n`;e.Alarm&&e.Alarm.alarms&&(i=this.chartOptionService.prepareAlarmCSVData(e.Alarm.alarms,"alarm"),this.exportExcelService.downLoadCSV(a,i,n)),e.Event&&e.Event.alarms&&(a="Events",i=this.chartOptionService.prepareAlarmCSVData(e.Event.alarms,"event"),n=`Events \r\n${this.chartOptionService.getSubTitleStr("event",t)} \r\n`,this.exportExcelService.downLoadCSV(a,i,n))})}else{let e="Alarms",a=`Alarms \r\n${this.chartOptionService.getSubTitleStr("alarm","severity")} \r\n`;"Alarm"===i.alarmType?s+=`&size=${this.exportAlarmCount}`:(s+=`&size=${this.eventCountData}`,e="Events",a=`Events \r\n${this.chartOptionService.getSubTitleStr("event",t)} \r\n`),this.http.get(s).subscribe(t=>{let n=[];t&&t.alarms&&(n=this.chartOptionService.prepareAlarmCSVData(t.alarms,"Alarm"===i.alarmType?"alarm":"event")),this.exportExcelService.downLoadCSV(e,n,a)})}}resetALarmEventChart(){this.applyFiltersInFS?this.applyFiltersInFullScreen():this.gotoFullScreen(this.fullscreenParams[0],this.fullscreenParams[1],this.fullscreenParams[2],this.fullscreenParams[3])}removeCommaInNumber(t){return t=t.replace(/\,/g,""),parseInt(t)}onAckShelve(t){var e,i;void 0!==(null==t?void 0:t.ack)?(null===(e=this.list[this.index])||void 0===e?void 0:e.subject)&&(this.list[this.index].subject.ccoAck=null==t?void 0:t.ack):void 0!==(null==t?void 0:t.shelve)&&(null===(i=this.list[this.index])||void 0===i?void 0:i.subject)&&(this.list[this.index].subject.ccoShelved=null==t?void 0:t.shelve)}gotoSubscriberImpactedPage(t){t&&(t.redirectUrl="/cco/issues/device/history-reports"),localStorage.setItem("calix.impactedSubsFSANData",JSON.stringify(t)),this.router.navigate(["/cco/system/subscribers-impact"])}getListNew(t,e,i,a,n){if(!this.fullScreen)return;let s={};s=this.params[null==e?void 0:e.toLowerCase()][t],console.log(s),this.clickOnRaisedAlarms&&(s.status="Raised"),"cleared"===this.clickedAlarmTypeInBC?s.status="Cleared":"raised"===this.clickedAlarmTypeInBC?s.status="Raised":delete s.status;let o="";for(var r in s)null==s[r]||""==s[r]||"Event"===s.notificationType&&-1!==this.skipParamsForEvents.indexOf(r)||(""!=o&&(o+="&"),o+=r+"="+encodeURIComponent(s[r]));n&&(o+=`&${n}`),this.list=[];let l=`${this.baseUrl}alarmListByPagination?pageSize=${this.entry.value}&${o}`;return a&&(l+=`&searchField=alarmEventName&searchValue=${a}`,this.setSearchQuery(`searchField=alarmEventName&searchValue=${a}`)),this.http.get(l)}doSearchNew(){this.searchSub=(0,p.R)(document.getElementById("alarms-list-search-history"),"keyup").pipe((0,b.b)(500),(0,C.x)(),(0,x.w)(t=>(this.paginateLoading=!0,this.getListNew(this.chartTypeInFS,this.clickedAlarmType,this.applyFiltersInFS,t.target.value).pipe((0,r.K)(t=>(t["api-error"]=!0,(0,h.of)(t))))))).subscribe(t=>{this.list=[],this.paginateLoading=!1,!t["api-error"]&&this.processListResp(t)})}getListSub(t,e){this.paginateLoading=!0,this.previousFlag=!1,this.nextFlag=!1,this.getListNew(this.chartTypeInFS,this.clickedAlarmType,this.applyFiltersInFS,t,e).subscribe(t=>{this.processListResp(t)},t=>{},()=>{this.paginateLoading=!1}),this.tableLanguageOptions()}processListResp(t){this.previousFlag=null==t?void 0:t.previousFlag,this.nextFlag=null==t?void 0:t.nextFlag,t&&t.alarms&&t.alarms.forEach(t=>{var e,i;t.subject.deviceName||(t.subject.deviceName=this.systemsObj[t.subject.deviceId]),t.subject.deviceName=null===(e=t.subject.deviceName)||void 0===e?void 0:e.replace("device=",""),t.subject.deviceName=null===(i=t.subject.deviceName)||void 0===i?void 0:i.replace("DEVICE=",""),t.subject.resourceForUI=this.issueService.generateResourceForUI(t,"EXA"===t.type)}),this.list=t.alarms,this.loading=!1}gotoPrevious(){var t,e;if(!this.previousFlag)return;let i=`from=${null===(e=null===(t=this.list[0])||void 0===t?void 0:t.sort)||void 0===e?void 0:e.join()}&paginate=PREVIOUS`;this.searchQuery&&(i+=`&${this.searchQuery}`),this.getListSub("",i)}gotoNext(){var t,e,i;if(!this.nextFlag)return;let a=null===(t=this.list)||void 0===t?void 0:t.length,n=`from=${null===(i=null===(e=this.list[a-1])||void 0===e?void 0:e.sort)||void 0===i?void 0:i.join()}&paginate=NEXT`;this.searchQuery&&(n+=`&${this.searchQuery}`),this.getListSub("",n)}setPaginateQuery(t){this.paginateQuery=t}listenChangeEntries(){this.entry.valueChanges.subscribe(t=>{!this.fullScreen||this.getListSub("",this.searchQuery)})}setSearchQuery(t){this.searchQuery=t}onRefreshAckShelve(t){this.showAckShelveBtn=!1}setAppliedFilters(){var t,e;(-1!==(null===(t=this.router.url)||void 0===t?void 0:t.indexOf("/cco/issues/connectivity/history-reports"))||-1!==(null===(e=this.router.url)||void 0===e?void 0:e.indexOf("/cco/issues/health/history-reports")))&&(this.appliedFilters.fsan=!1,this.appliedFilters.customCategory=!1)}generateEvent(t,e,i,a,n,s){"Event"===t.notificationType?s.params.event[n][n]=e.point.series.userOptions.data[i].uuid:s.clickedRegion=e.point.series.userOptions.data[i].regionId,s.deleteParams.event[n][n]=!0,e.point.setState("hover"),s.initLoad=!1,s.showTable=!1,setTimeout(()=>{s.showTable=!0,s.count=0,s.getListSub()},500)}}return t.\u0275fac=function(e){return new(e||t)(A.Y36(O.s),A.Y36(w.t),A.Y36(Z.eN),A.Y36(S.v),A.Y36(T.O),A.Y36(_.v),A.Y36(q.FF),A.Y36(f.qu),A.Y36(M.t6),A.Y36(N.s),A.Y36(k.Dx),A.Y36(n.F0))},t.\u0275cmp=A.Xpm({type:t,selectors:[["app-historyissue"]],viewQuery:function(t,e){if(1&t&&(A.Gf(u.G,5),A.Gf(ce,7),A.Gf(he,7),A.Gf(de,7),A.Gf(ge,7),A.Gf(me,7)),2&t){let t;A.iGM(t=A.CRH())&&(e.dtElement=t.first),A.iGM(t=A.CRH())&&(e.showInfoModal=t.first),A.iGM(t=A.CRH())&&(e.addNotesModal=t.first),A.iGM(t=A.CRH())&&(e.showNotesModal=t.first),A.iGM(t=A.CRH())&&(e.deleteModal=t.first),A.iGM(t=A.CRH())&&(e.addSubscriberInfoModel=t.first)}},decls:211,vars:104,consts:[["class","mb-2",4,"ngIf"],["role","alert","class","alert alert-warning",4,"ngIf"],["class","mb-4",3,"ngClass",4,"ngIf"],[1,"mb-4",3,"ngClass"],[1,"container","px-0"],[1,"row","my-1"],[1,"col-md-12"],[1,"issue-overview-wrapper"],[1,"issue-overview-item"],[1,"d-flex","justify-content-between"],[1,"mwc-header","flex","w-100","border-bottom"],[1,"cco-secondary-title"],[1,"mwc-btns","flex","align-items-center"],["id","fullScreenExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand-inv",3,"title","click"],[1,"heading-subtitle"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"img","mb-2"],["class","mt-5",4,"ngIf"],["class","mwc-content d-flex",3,"hidden",4,"ngIf"],[1,"row","my-3"],[1,"col-md-8","offset-md-4","pr-0"],[1,"text-right","flat-right"],[1,"row"],[1,"col-md-5"],[1,"d-inline-flex","align-items-center"],[1,"pr-1"],[1,"min-w80px","w-40"],["bindValue","id","bindLabel","name","id","show-entries",3,"formControl","searchable","multiple","items","clearOnBackspace"],[1,"pl-1","text-lowercase"],[1,"col-md-7"],[1,"ccl-form","history-reports-list-search"],["type","text","id","alarms-list-search-history",1,"ccl-input",3,"ngModel","placeholder","ngModelChange","keyup","search"],[1,"search-close","fas","fa-times",3,"click"],["class","row",4,"ngIf"],[3,"ngClass"],[1,"container","px-0",3,"ngClass"],["data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-dload",3,"title","click"],["id","SeverityAlarmExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],["class","mt-3",4,"ngIf"],["class","mwc-content d-flex",4,"ngIf"],["class","issue-overview-item",4,"ngIf"],["id","both-regionwrapper",1,"col-md-12",3,"hidden"],[1,"row","issue-overview-wrapper"],[1,"col-md-6","issue-overview-item",3,"hidden"],["data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],[1,"mwc-content"],[1,"col-12","col-md-12",3,"ngClass"],["id","region-alarm-container-both",1,"chart-box","h-300px"],["id","LocationExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],["id","region-event-container-both",1,"chart-box","h-300px"],["id","both-locationwrapper",1,"col-md-12",3,"hidden"],["id","location-alarm-container-both",1,"chart-box","h-300px"],["id","location-event-container-both",1,"chart-box","h-300px"],["id","both-systemwrapper",1,"col-md-12",3,"hidden"],["id","system-alarm-container-both",1,"chart-box","h-300px"],["id","system-event-container-both",1,"chart-box","h-300px"],["id","dynamic-location-chart-div",1,"issue-overview-item",3,"hidden"],["type","button","aria-label","Close",1,"close","m-2",3,"click"],["aria-hidden","true"],[1,"img","my-2"],["class","mwc-content",4,"ngIf"],["id","both-dynamic-system-chart-div",1,"issue-overview-item",3,"hidden"],["id","SeverityExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],[1,"mwc-content",3,"ngClass"],[1,"col-12","col-md-12","p-2"],["id","bothSystemContainerByClick",1,"chart-box","h-300px"],["class","col-md-12"],["showInfoModal",""],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true","data-backdrop","static","data-keyboard","false",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content","p-0"],[3,"fullData","showAckShelveBtn","hasWriteAccess","hideSource","connected","showNotes","clickedAlarmType","alarmType","ackShelveData","refreshAckShelveBtn"],["class","col-md-12 custom-modal"],["addNotesModal",""],["showNotesModal",""],["deleteModal",""],["addSubscriberInfoModel",""],[1,"mb-2"],[1,"container","filter-elemnts"],[3,"formGroup"],["id","historical-reports-filters",1,"row"],[1,"col-md-12","pl-0","pr-0"],[1,"current-issue-menu-container","flex-wrap"],["class","current-issue-menu-item col-12 col-sm-12 col-md-3 col-lg-3 mpl-1 m-w-170px",4,"ngIf"],["class","current-issue-menu-item col-12 col-sm-12 col-md-3 col-lg-3 m-w-170px",4,"ngIf"],["class","current-issue-menu-item col-12 col-sm-12 col-md-3 col-lg-3",4,"ngIf"],[1,"row","mt-3","pt-1"],[1,"col-md-12","text-left"],[1,"d-inline-flex"],["type","button",1,"btn-default","primary","mr-2",3,"click"],["type","button",1,"btn-default","btn-dft","mr-2",3,"click"],["type","button",1,"btn-default","btn-dft",3,"disabled","click"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-3","col-lg-3","mpl-1","m-w-170px"],["for","Name",1,"col-form-label","select-font"],["id","current-issues-interval",1,"w-100"],[1,"ccl-form"],["id","start_date","appendTo","body","formControlName","startDate","dateFormat","mm-dd-yy",3,"inputStyle","autoZIndex","placeholder","showIcon","maxDate","readonlyInput","showButtonBar","onSelect"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-3","col-lg-3","m-w-170px"],["id","end_date","appendTo","body","formControlName","endDate","dateFormat","mm-dd-yy",3,"inputStyle","autoZIndex","placeholder","showIcon","maxDate","minDate","readonlyInput","showButtonBar","onSelect"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-3","col-lg-3"],["formControlName","alarmType",3,"clearable","searchable","placeholder","change"],["value","Alarm"],["value","Event"],["value","Both"],["formControlName","region","bindValue","id","bindLabel","name",1,"selectboxwidth",3,"multiple","items","clearable","searchable","placeholder","add","remove"],["formControlName","location","bindValue","id","bindLabel","name",1,"selectboxwidth",3,"multiple","items","placeholder","clearable","searchable","add","remove"],["formControlName","system","bindValue","uuid","bindLabel","name",1,"selectboxwidth",3,"multiple","items","placeholder","clearable","searchable","change","add","remove"],["id","current-issues-interval",1,"custom-selectbox","w-100"],["formControlName","eventName","id","eventName","bindValue","id","bindLabel","name",3,"searchable","multiple","placeholder","items","change","add","remove"],["id","current-issues-interval",1,"w-100","ccl-form"],["id","FSAN","name","FSAN","type","text","maxlength","12","formControlName","fsan",1,"form-control",3,"placeholder","keypress","keyup"],["class","vald-tag",4,"ngIf"],[1,"vald-tag"],["formControlName","severity",3,"clearable","searchable","placeholder","multiple","change"],["value","All"],["value","critical"],["value","major"],["value","minor"],["value","warning"],["value","info"],["for","Name","id","pendoCCOCategory",1,"col-form-label","select-font"],["formControlName","category","bindValue","id","bindLabel","name",3,"searchable","multiple","placeholder","items","add","remove"],["for","Name","id","pendoCCOAlarmGroup",1,"col-form-label","select-font"],["formControlName","customCategory","bindValue","id","bindLabel","name",3,"clearable","searchable","multiple","placeholder","items","change"],["for","Name","id","acknowledgedAlarms",1,"col-form-label","select-font"],["formControlName","cco_ack","bindValue","id","bindLabel","name",3,"clearable","searchable","multiple","placeholder","items"],["for","Name","id","shelvedAlarms",1,"col-form-label","select-font"],["formControlName","cco_shelv","bindValue","id","bindLabel","name",3,"clearable","searchable","multiple","placeholder","items"],["role","alert",1,"alert","alert-warning"],["id","historical-reports-Alarms-Severity",1,"issue-overview-item",3,"ngClass"],[1,"img","mb-2",3,"hidden"],["class","issue-overview-item","id","historical-reports-Alarms-Day",4,"ngIf"],["id","historical-reports-Alarm-System",1,"issue-overview-item",3,"hidden"],["id","SystemExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],["id","systemContainer",1,"chart-box","h-300px"],["id","historical-reports-Alarms-Region",1,"issue-overview-item",3,"hidden"],[1,"mwc-content",3,"hidden"],["id","regionContainer",1,"chart-box","h-300px"],["class","mwc-content",3,"hidden",4,"ngIf"],["id","dynamic-system-chart-div",1,"issue-overview-item",3,"hidden"],[1,"col-md-12",3,"hidden"],["id","systemContainerByClick",1,"chart-box","h-300px"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"mt-3"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"mwc-content","d-flex"],[1,"col-12","col-md-6"],["id","severityContainer",1,"chart-box","h-300px"],["id","severityClearedContainer",1,"chart-box","h-300px"],[1,"col-12","col-md-12"],["id","severityAlarmsContainer",1,"chart-box","h-300px"],["id","historical-reports-Alarms-Day",1,"issue-overview-item"],[1,"mwc-content","d-flex",3,"ngClass"],[1,"col-12","col-md-12",3,"hidden"],["id","event-alarm-line-chart-container",1,"chart-box","h-300px"],[1,"mt-5"],["id","locationContainer",1,"h-300px"],[1,"mwc-content","d-flex",3,"hidden"],["class","col-12 col-md-12",4,"ngIf"],["id","fullChartAlarmEventContainer",1,"chart-box","h-450px"],["id","fullChartContainer",1,"chart-box","h-450px"],["class","col-12 col-md-6",4,"ngIf"],["id","fullChartSeverityClearedContainer",1,"chart-box","h-450px"],["class","col-md-12 overflow-auto",4,"ngIf"],[1,"col-md-12","overflow-auto"],["datatable","",1,"table","table-borderless",3,"dtOptions"],[1,"sorting-th-custom"],[1,"min-98px"],["class","col-severty",4,"ngIf"],["id","pendo_subscriber_impact"],["class","col-recom",4,"ngIf"],[4,"ngIf"],["class","pointer",3,"click",4,"ngFor","ngForOf"],[1,"col-severty"],[1,"col-recom"],[1,"pointer",3,"click"],["data-toggle","modal","data-target",".bd-example-modal-lg"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-resource","col-recom"],[1,"col-res-data","subj-text",3,"innerHtml"],["class","col-severty","data-toggle","modal","data-target",".bd-example-modal-lg",4,"ngIf"],[1,"d-flex","align-items-center"],["class","action-info-u primary p-blue pointer",3,"click",4,"ngIf"],["class","col-recom","data-toggle","modal","data-target",".bd-example-modal-lg",4,"ngIf"],["class","text-center min-w70px",4,"ngIf"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-severty"],[1,"dot"],[1,"action-info-u","primary","p-blue","pointer",3,"click"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-recom"],[1,"subj-text"],[1,"text-center","min-w70px"],["class","d-inline-flex primary pointer","data-toggle","modal","data-target","bd-example-modal-sm",3,"click",4,"ngIf"],["class","d-inline-flex mr-2 primary pointer","data-toggle","modal","data-target","bd-example-modal-sm",3,"click",4,"ngIf"],["data-toggle","modal","data-target","bd-example-modal-sm",1,"d-inline-flex","primary","pointer",3,"click"],["src","assets/img/add-note.png",1,"pointer","wh-20px"],["data-toggle","modal","data-target","bd-example-modal-sm",1,"d-inline-flex","mr-2","primary","pointer",3,"click"],["src","./assets/img/net-edit.svg",1,"pointer",3,"title"],["src","./assets/img/net-delete.svg",1,"pointer",3,"title"],["colspan","9",1,"no-data-available"],[1,"col-12","overflow-auto"],["class","loader",4,"ngIf"],[1,"table","table-data"],[1,"table-pagination","w-100","d-flex","flex-wrap","pb-2","justify-content-end","pt-4"],[1,"page-action-buttons"],[1,"page-navigate","page-button",3,"ngClass","click"],[1,"loader"],["data-toggle","modal","data-target",".bd-example-modal-lg",4,"ngIf"],["id","severityAlarmContainer",1,"chart-box","h-300px"],["id","severityClearedAlarmContainer",1,"chart-box","h-300px"],["id","severityBothAlarmContainer",1,"chart-box","h-300px"],["id","both-event-alarm-line-chart-container",1,"chart-box","h-300px"],[1,"col-12","col-md-12","p-2",3,"ngClass"],["id","location-both-container",1,"chart-box","h-300px"],[1,"modal-header","d-block"],["id","showInfoModal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"modal-body","add-device-model"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3","px-3",3,"click"],[1,"form-group","ccl-form"],["id","description","rows","3","trimSpace","",1,"form-control",3,"formControl","placeholder","formValue"],[1,"col-md-12","pl-0","text-left","mt-3"],["type","submit","class","btn-default primary  px-3",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-default","transparant","px-3","m-2",3,"click"],["type","submit",1,"btn-default","primary","px-3",3,"disabled","click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","mr-2",3,"disabled","click"],["type","button",1,"btn-default","btn-dft",3,"click"],["class","expand-info-container",4,"ngIf"],[1,"expand-info-container"],[1,"expand-info-item"]],template:function(t,e){1&t&&(A.YNc(0,Me,34,18,"section",0),A.YNc(1,Ne,2,1,"div",1),A.YNc(2,Ye,86,46,"section",2),A.TgZ(3,"section"),A.TgZ(4,"section",3),A.TgZ(5,"div",4),A.TgZ(6,"div",5),A.TgZ(7,"div",6),A.TgZ(8,"div",7),A.TgZ(9,"div",8),A.TgZ(10,"div",9),A.TgZ(11,"div",10),A.TgZ(12,"div",11),A._uU(13),A.qZA(),A.TgZ(14,"div",12),A.TgZ(15,"button",13),A.NdJ("click",function(){return e.fullScreenInvertFunction()}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(16,"h5",14),A._uU(17),A.qZA(),A.YNc(18,ze,6,1,"div",15),A.TgZ(19,"div",16),A.YNc(20,Ge,5,1,"div",17),A.YNc(21,Ke,2,2,"div",18),A.YNc(22,ti,4,3,"div",18),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(23,"div",4),A.TgZ(24,"div",19),A.TgZ(25,"div",20),A.TgZ(26,"div",21),A.TgZ(27,"div",22),A.TgZ(28,"div",23),A.TgZ(29,"div",24),A.TgZ(30,"div",25),A._uU(31),A.qZA(),A.TgZ(32,"div",26),A._UZ(33,"ng-select",27),A.qZA(),A.TgZ(34,"div",28),A._uU(35),A.qZA(),A.qZA(),A.qZA(),A.TgZ(36,"div",29),A.TgZ(37,"div",30),A.TgZ(38,"input",31),A.NdJ("ngModelChange",function(t){return e.searchTerm=t})("keyup",function(t){return e.search(t.target.value)})("search",function(t){return e.search(t.target.value)}),A.qZA(),A.TgZ(39,"i",32),A.NdJ("click",function(){return e.clearSearchInp()}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.YNc(40,ui,2,1,"div",33),A.YNc(41,Ni,31,22,"div",33),A.qZA(),A.qZA(),A.qZA(),A.TgZ(42,"section",34),A.TgZ(43,"div",35),A.TgZ(44,"div",19),A.TgZ(45,"div",6),A.TgZ(46,"div",7),A.TgZ(47,"div",8),A.TgZ(48,"div",9),A.TgZ(49,"div",10),A.TgZ(50,"div",11),A._uU(51),A.qZA(),A.TgZ(52,"div",12),A.TgZ(53,"button",36),A.NdJ("click",function(){return e.download("severity","alarm")}),A.qZA(),A.TgZ(54,"button",37),A.NdJ("click",function(){return e.gotoFullScreen("severity","Alarm")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(55,"h5",14),A._uU(56),A.qZA(),A.YNc(57,ki,6,1,"div",15),A.TgZ(58,"div",16),A.YNc(59,Di,5,1,"div",38),A.YNc(60,Pi,5,0,"div",39),A.YNc(61,Ei,3,0,"div",39),A.qZA(),A.qZA(),A.YNc(62,Fi,13,6,"div",40),A.qZA(),A.qZA(),A.TgZ(63,"div",41),A.TgZ(64,"div",42),A.TgZ(65,"div",43),A.TgZ(66,"div",9),A.TgZ(67,"div",10),A.TgZ(68,"div",11),A._uU(69),A.qZA(),A.TgZ(70,"div",12),A.TgZ(71,"button",36),A.NdJ("click",function(){return e.download("region","alarm")}),A.qZA(),A.TgZ(72,"button",44),A.NdJ("click",function(){return e.gotoFullScreen("region","Alarm")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(73,"h5",14),A._uU(74),A.qZA(),A.YNc(75,Li,6,1,"div",15),A.TgZ(76,"div",16),A.YNc(77,ji,5,1,"div",17),A.TgZ(78,"div",45),A.TgZ(79,"div",46),A._UZ(80,"div",47),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(81,"div",43),A.TgZ(82,"div",9),A.TgZ(83,"div",10),A.TgZ(84,"div",11),A._uU(85),A.qZA(),A.TgZ(86,"div",12),A.TgZ(87,"button",36),A.NdJ("click",function(){return e.download("region","event")}),A.qZA(),A.TgZ(88,"button",48),A.NdJ("click",function(){return e.gotoFullScreen("region","Event")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(89,"h5",14),A._uU(90),A.qZA(),A.YNc(91,Ji,6,1,"div",15),A.TgZ(92,"div",16),A.YNc(93,$i,5,1,"div",17),A.TgZ(94,"div",45),A.TgZ(95,"div",46),A._UZ(96,"div",49),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(97,"div",50),A.TgZ(98,"div",42),A.TgZ(99,"div",43),A.TgZ(100,"div",9),A.TgZ(101,"div",10),A.TgZ(102,"div",11),A._uU(103),A.qZA(),A.TgZ(104,"div",12),A.TgZ(105,"button",36),A.NdJ("click",function(){return e.download("location","alarm")}),A.qZA(),A.TgZ(106,"button",44),A.NdJ("click",function(){return e.gotoFullScreen("location","Alarm")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(107,"h5",14),A._uU(108),A.qZA(),A.YNc(109,Ri,6,1,"div",15),A.TgZ(110,"div",16),A.YNc(111,Hi,5,1,"div",17),A.TgZ(112,"div",45),A.TgZ(113,"div",46),A._UZ(114,"div",51),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(115,"div",43),A.TgZ(116,"div",9),A.TgZ(117,"div",10),A.TgZ(118,"div",11),A._uU(119),A.qZA(),A.TgZ(120,"div",12),A.TgZ(121,"button",36),A.NdJ("click",function(){return e.download("location","event")}),A.qZA(),A.TgZ(122,"button",48),A.NdJ("click",function(){return e.gotoFullScreen("location","Event")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(123,"h5",14),A._uU(124),A.qZA(),A.YNc(125,Qi,6,1,"div",15),A.TgZ(126,"div",16),A.YNc(127,Bi,5,1,"div",17),A.TgZ(128,"div",45),A.TgZ(129,"div",46),A._UZ(130,"div",52),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(131,"div",53),A.TgZ(132,"div",42),A.TgZ(133,"div",43),A.TgZ(134,"div",9),A.TgZ(135,"div",10),A.TgZ(136,"div",11),A._uU(137),A.qZA(),A.TgZ(138,"div",12),A.TgZ(139,"button",36),A.NdJ("click",function(){return e.download("system","alarm")}),A.qZA(),A.TgZ(140,"button",44),A.NdJ("click",function(){return e.gotoFullScreen("system","Alarm")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(141,"h5",14),A._uU(142),A.qZA(),A.YNc(143,Vi,6,1,"div",15),A.TgZ(144,"div",16),A.YNc(145,Yi,5,1,"div",17),A.TgZ(146,"div",45),A.TgZ(147,"div",46),A._UZ(148,"div",54),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(149,"div",43),A.TgZ(150,"div",9),A.TgZ(151,"div",10),A.TgZ(152,"div",11),A._uU(153),A.qZA(),A.TgZ(154,"div",12),A.TgZ(155,"button",36),A.NdJ("click",function(){return e.download("system","event")}),A.qZA(),A.TgZ(156,"button",48),A.NdJ("click",function(){return e.gotoFullScreen("system","Event")}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(157,"h5",14),A._uU(158),A.qZA(),A.YNc(159,zi,6,1,"div",15),A.TgZ(160,"div",16),A.YNc(161,Gi,5,1,"div",17),A.TgZ(162,"div",45),A.TgZ(163,"div",46),A._UZ(164,"div",55),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(165,"div",6),A.TgZ(166,"div",7),A.TgZ(167,"div",56),A.TgZ(168,"div",9),A.TgZ(169,"div",10),A.TgZ(170,"div",11),A._uU(171),A.qZA(),A.TgZ(172,"div",12),A.TgZ(173,"button",48),A.NdJ("click",function(){return e.gotoFullScreen("location","Alarm"==e.alarmTypeInBoth?"Alarm":"Event")}),A.qZA(),A.TgZ(174,"button",57),A.NdJ("click",function(){return e.loadLocationChart=!e.loadLocationChart}),A._UZ(175,"span",58),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.YNc(176,Wi,6,1,"div",15),A.TgZ(177,"div",59),A.YNc(178,Ki,5,1,"div",17),A.YNc(179,Xi,3,1,"div",60),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(180,"div",6),A.TgZ(181,"div",7),A.TgZ(182,"div",61),A.TgZ(183,"div",9),A.TgZ(184,"div",10),A.TgZ(185,"div",11),A._uU(186),A.qZA(),A.TgZ(187,"div",12),A.TgZ(188,"button",62),A.NdJ("click",function(){return e.gotoFullScreen("system","Alarm"==e.alarmTypeInBoth?"Alarm":"Event")}),A.qZA(),A.TgZ(189,"button",57),A.NdJ("click",function(){return e.loadSystemChart=!e.loadSystemChart}),A._UZ(190,"span",58),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.YNc(191,ta,6,1,"div",15),A.TgZ(192,"div",59),A.YNc(193,ea,5,1,"div",38),A.TgZ(194,"div",63),A.TgZ(195,"div",64),A._UZ(196,"div",65),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.YNc(197,ia,10,3,"ng-template",66,67,A.W1O),A.TgZ(199,"div",68),A.TgZ(200,"div",69),A.TgZ(201,"div",70),A.TgZ(202,"app-alarm-details",71),A.NdJ("ackShelveData",function(t){return e.onAckShelve(t)})("refreshAckShelveBtn",function(t){return e.onRefreshAckShelve(t)}),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.YNc(203,ra,16,9,"ng-template",72,73,A.W1O),A.YNc(205,la,8,2,"ng-template",72,74,A.W1O),A.YNc(207,da,16,7,"ng-template",null,75,A.W1O),A.YNc(209,ua,10,4,"ng-template",72,76,A.W1O)),2&t&&(A.Q6J("ngIf",e.hasScopeAccess),A.xp6(1),A.Q6J("ngIf",!e.hasScopeAccess),A.xp6(1),A.Q6J("ngIf",e.hasScopeAccess),A.xp6(2),A.Q6J("ngClass",e.fullScreen?"d-block":"d-none"),A.xp6(9),A.hij(" ",e.fullScreenChartName," "),A.xp6(2),A.s9C("title",e.language.lossofpon_fullscreen_close_tip),A.xp6(2),A.hij(" ",e.fullScrenSubHeading,""),A.xp6(1),A.Q6J("ngIf",e.errors.alarmevent),A.xp6(2),A.Q6J("ngIf",e.loading),A.xp6(1),A.Q6J("ngIf",e.clickedAlarmTypeInBC||e.appliedParams.status),A.xp6(1),A.Q6J("ngIf",!(e.clickedAlarmTypeInBC||e.appliedParams.status)),A.xp6(9),A.Oqu(e.language.Show),A.xp6(2),A.Q6J("formControl",e.entry)("searchable",!1)("multiple",!1)("items",e.entries)("clearOnBackspace",!1),A.xp6(2),A.Oqu(e.language.entries),A.xp6(3),A.Q6J("ngModel",e.searchTerm)("placeholder","Alarm"===e.clickedAlarmType&&"Event"!==e.alarmType?e.language["Search by Alarm name"]:e.language["Search by Event name"]),A.xp6(2),A.Q6J("ngIf",!e.showNewPagination),A.xp6(1),A.Q6J("ngIf",e.showNewPagination),A.xp6(1),A.Q6J("ngClass",e.fullScreen?"d-none":"d-block"),A.xp6(1),A.Q6J("ngClass",e.both?"d-block":"d-none"),A.xp6(8),A.hij(" ",e.language["Alarm by Severity"]," "),A.xp6(2),A.s9C("title",e.language.export),A.xp6(1),A.s9C("title",e.language.lossofpon_fullscreen_tip),A.xp6(2),A.hij(" ",e.language["Select a severity to view all alarms of that severity"],""),A.xp6(1),A.Q6J("ngIf",e.serverityError),A.xp6(2),A.Q6J("ngIf",e.loading),A.xp6(1),A.Q6J("ngIf",!e.appliedParams.status),A.xp6(1),A.Q6J("ngIf",e.appliedParams.status),A.xp6(1),A.Q6J("ngIf","Event"!==e.alarmType),A.xp6(1),A.Q6J("hidden",!e.bothRegion),A.xp6(2),A.Q6J("hidden",!e.bothRegionAlarm),A.xp6(4),A.hij(" ",e.language["Alarm by Region"]," "),A.xp6(2),A.s9C("title",e.language.export),A.xp6(1),A.s9C("title",e.language.lossofpon_fullscreen_tip),A.xp6(2),A.hij(" ",e.language["Select a region to view locations in that region"],""),A.xp6(1),A.Q6J("ngIf",e.errors.region&&!e.loadLocationChart),A.xp6(2),A.Q6J("ngIf",e.loading),A.xp6(2),A.Q6J("ngClass",e.loading?"d-none":"d-block"),A.xp6(2),A.Q6J("hidden",!e.bothRegionEvent),A.xp6(4),A.hij(" ",e.language["Event by Region"]," "),A.xp6(2),A.s9C("title",e.language.export),A.xp6(1),A.s9C("title",e.language.lossofpon_fullscreen_tip),A.xp6(2),A.hij(" ",e.language["Select a region to view locations in that region"],""),A.xp6(1),A.Q6J("ngIf",e.regionError&&!e.loadLocationChart),A.xp6(2),A.Q6J("ngIf",e.loading),A.xp6(2),A.Q6J("ngClass",e.loading?"d-none":"d-block"),A.xp6(2),A.Q6J("hidden",!e.bothLocation),A.xp6(2),A.Q6J("hidden",!e.bothLocationAlarm),A.xp6(4),A.hij(" ",e.language["Alarm by Location"]," "),A.xp6(2),A.s9C("title",e.language.export),A.xp6(1),A.s9C("title",e.language.lossofpon_fullscreen_tip),A.xp6(2),A.hij(" ",e.language["Select a location to view systems in that location"],""),A.xp6(1),A.Q6J("ngIf",e.errors.location),A.xp6(2),A.Q6J("ngIf",e.loaders.alarm.location),A.xp6(2),A.Q6J("ngClass",e.loaders.alarm.location?"d-none":"d-block"),A.xp6(2),A.Q6J("hidden",!e.bothLocationEvent),A.xp6(4),A.hij(" ",e.language["Event by Location"]," "),A.xp6(2),A.s9C("title",e.language.export),A.xp6(1),A.s9C("title",e.language.lossofpon_fullscreen_tip),A.xp6(2),A.hij(" ",e.language["Select a location to view systems in that location"],""),A.xp6(1),A.Q6J("ngIf",e.errors["location-event"]),A.xp6(2),A.Q6J("ngIf",e.loaders.event.location),A.xp6(2),A.Q6J("ngClass",e.loaders.event.location?"d-none":"d-block"),A.xp6(2),A.Q6J("hidden",!e.bothSystem),A.xp6(2),A.Q6J("hidden",!e.bothSystemAlarm),A.xp6(4),A.hij(" ",e.language["Alarm by System"]," "),A.xp6(2),A.s9C("title",e.language.export),A.xp6(1),A.s9C("title",e.language.lossofpon_fullscreen_tip),A.xp6(2),A.hij(" ",e.language["Select a system severity to view all alarms of that severity for that system"],""),A.xp6(1),A.Q6J("ngIf",e.errors.system),A.xp6(2),A.Q6J("ngIf",e.loaders.alarm.system),A.xp6(2),A.Q6J("ngClass",e.loaders.alarm.system?"d-none":"d-block"),A.xp6(2),A.Q6J("hidden",!e.bothSystemEvent),A.xp6(4),A.hij(" ",e.language["Event by System"]," "),A.xp6(2),A.s9C("title",e.language.export),A.xp6(1),A.s9C("title",e.language.lossofpon_fullscreen_tip),A.xp6(2),A.hij(" ",e.language["Select a system to view all events for that system"],""),A.xp6(1),A.Q6J("ngIf",e.errors["system-event"]),A.xp6(2),A.Q6J("ngIf",e.loaders.event.system),A.xp6(2),A.Q6J("ngClass",e.loaders.event.system?"d-none":"d-block"),A.xp6(4),A.Q6J("hidden",!e.loadLocationChart||e.filterApplied),A.xp6(4),A.hij(" ","Alarm"==e.alarmTypeInBoth?e.language["Alarm by Location"]:e.language["Event by Location"]," "),A.xp6(2),A.s9C("title",e.language.lossofpon_fullscreen_tip),A.xp6(3),A.Q6J("ngIf",e.locationError&&e.loadLocationChart),A.xp6(2),A.Q6J("ngIf",e.loading),A.xp6(1),A.Q6J("ngIf",e.loadLocationChart),A.xp6(3),A.Q6J("hidden",!e.loadSystemChart||e.filterApplied),A.xp6(4),A.hij(" ","Alarm"==e.alarmTypeInBoth?e.language["Alarm by System"]:e.language["Event by System"]," "),A.xp6(2),A.s9C("title",e.language.lossofpon_fullscreen_tip),A.xp6(3),A.Q6J("ngIf",e.systemError),A.xp6(2),A.Q6J("ngIf",e.loading),A.xp6(1),A.Q6J("ngClass",e.loading?"d-none":"d-block"),A.xp6(8),A.Q6J("fullData",e.fullData)("showAckShelveBtn",e.showAckShelveBtn)("hasWriteAccess",e.hasWriteAccess)("hideSource",e.hideSource)("connected",!0)("showNotes",!0)("clickedAlarmType",e.clickedAlarmType)("alarmType",e.alarmType))},directives:[a.O5,a.mk,D.w9,f.JJ,f.oH,f.Fj,f.On,P.M,f._Y,f.JL,f.sg,E.f,f.u,D.xv,f.nD,u.G,a.sg,I.f],styles:['@charset "UTF-8";.p-10[_ngcontent-%COMP%]{padding:10px}.p-15[_ngcontent-%COMP%]{padding:15px}.p-20[_ngcontent-%COMP%]{padding:20px}.p-25[_ngcontent-%COMP%]{padding:25px}.p-30[_ngcontent-%COMP%]{padding:30px}.p-35[_ngcontent-%COMP%]{padding:35px}.p-40[_ngcontent-%COMP%]{padding:40px}.p-45[_ngcontent-%COMP%]{padding:45px}.p-50[_ngcontent-%COMP%]{padding:50px}.p-55[_ngcontent-%COMP%]{padding:55px}.p-60[_ngcontent-%COMP%]{padding:60px}.pt-10[_ngcontent-%COMP%]{padding-top:10px}.pt-15[_ngcontent-%COMP%]{padding-top:15px}.pt-20[_ngcontent-%COMP%]{padding-top:20px}.pt-25[_ngcontent-%COMP%]{padding-top:25px}.pt-30[_ngcontent-%COMP%]{padding-top:30px}.pt-35[_ngcontent-%COMP%]{padding-top:35px}.pt-40[_ngcontent-%COMP%]{padding-top:40px}.pt-45[_ngcontent-%COMP%]{padding-top:45px}.pt-50[_ngcontent-%COMP%]{padding-top:50px}.pt-55[_ngcontent-%COMP%]{padding-top:55px}.pt-60[_ngcontent-%COMP%]{padding-top:60px}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.mt-25[_ngcontent-%COMP%]{margin-top:25px}.mt-30[_ngcontent-%COMP%]{margin-top:30px}.mt-35[_ngcontent-%COMP%]{margin-top:35px}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mt-45[_ngcontent-%COMP%]{margin-top:45px}.mt-50[_ngcontent-%COMP%]{margin-top:50px}.mt-55[_ngcontent-%COMP%]{margin-top:55px}.mt-60[_ngcontent-%COMP%]{margin-top:60px}.mb0[_ngcontent-%COMP%]{margin-bottom:0}.mb1[_ngcontent-%COMP%]{margin-bottom:10px}.mb15[_ngcontent-%COMP%]{margin-bottom:15px}.mb2[_ngcontent-%COMP%]{margin-bottom:20px}.mb3[_ngcontent-%COMP%]{margin-bottom:30px}.mb4[_ngcontent-%COMP%]{margin-bottom:40px}.mb5[_ngcontent-%COMP%]{margin-bottom:50px}.mb6[_ngcontent-%COMP%]{margin-bottom:60px}.mb7[_ngcontent-%COMP%]{margin-bottom:70px}.mb8[_ngcontent-%COMP%]{margin-bottom:80px}.mb9[_ngcontent-%COMP%]{margin-bottom:90px}.primary[_ngcontent-%COMP%]{color:#0279ff}.secondary[_ngcontent-%COMP%]{color:#0054b2}.calixpurple[_ngcontent-%COMP%]{color:#43367d}.calixblue[_ngcontent-%COMP%]{color:#324a9d}.calixsky[_ngcontent-%COMP%]{color:#387cbf}.calixorange[_ngcontent-%COMP%]{color:#e97b00}.brightred[_ngcontent-%COMP%]{color:#ff3600}.lightred[_ngcontent-%COMP%]{color:#ff734f}.purple[_ngcontent-%COMP%]{color:#91479b}.error[_ngcontent-%COMP%]{color:#c70000}.warning[_ngcontent-%COMP%]{color:#ff8238}.warningt[_ngcontent-%COMP%]{color:#c74900}.success[_ngcontent-%COMP%]{color:#82bf00}.successt[_ngcontent-%COMP%]{color:#507500}.caution[_ngcontent-%COMP%]{color:#f7c343}.wgrey[_ngcontent-%COMP%]{color:#f8f8fa}.snowgrey[_ngcontent-%COMP%]{color:#ebeaef}.lgrey[_ngcontent-%COMP%]{color:#ccc}.calixgrey[_ngcontent-%COMP%]{color:#9e9e9e}.blastgrey[_ngcontent-%COMP%]{color:gray}.greyaa[_ngcontent-%COMP%]{color:#1a1f22}.darkgrey[_ngcontent-%COMP%]{color:#333}.calixblack[_ngcontent-%COMP%]{color:#1a1f22}.calixblack[_ngcontent-%COMP%]{color:#000}.calixred[_ngcontent-%COMP%]{color:#fb2d55}.calixgreen[_ngcontent-%COMP%]{color:#349885}.calixaqblue[_ngcontent-%COMP%]{color:#26c0eb}.title[_ngcontent-%COMP%]{font-size:42px;font-weight:300;line-height:53px}.title-second[_ngcontent-%COMP%]{font-size:24px!important;font-style:normal;font-weight:400!important;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.heading-sm[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:22px}.listlabels[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:22px}.listdataem[_ngcontent-%COMP%]{font-size:13px;font-weight:600;line-height:21px}.listdata[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:24px}.formlabels[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:16px}.captions[_ngcontent-%COMP%]{font-size:11px;font-weight:600;line-height:13.2px}.chartno[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.btn-large[_ngcontent-%COMP%]{border-radius:26px;padding:12px;min-width:130px;text-align:center;font-size:20px;font-weight:400;color:#fff;box-shadow:5px 5px 10px #00000026;border:0}.btn-large.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-large.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-large.primary[_ngcontent-%COMP%]:focus{background:#0054b2;outline:none;box-shadow:none;border:0}.btn-large.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-large.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-large.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-default[_ngcontent-%COMP%]{border-radius:16px;padding:5px;min-width:86px;text-align:center;font-size:16px;font-weight:400;color:#fff;box-shadow:3px 3px 6px #00000026;border:0}.btn-default.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-default.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-default.primary[_ngcontent-%COMP%]:focus{background:#0054b2}.btn-default.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-default.btn-dft[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c;border:1px solid #CCCCCC}.btn-default.btn-dft[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-default.btn-dft[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-default.btn-dft.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-small[_ngcontent-%COMP%]{border-radius:12px;padding:3px;min-width:70px;text-align:center;font-size:12px;font-weight:400;color:#fff;box-shadow:2px 2px 4px #00000026;border:0}.btn-small.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-small.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-small.primary[_ngcontent-%COMP%]:focus{background:#EBEAEF}.btn-small.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-small.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-small.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-round[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;display:flex;justify-content:center;align-items:center;border:0;background-position:center;background-repeat:no-repeat;padding:0}.btn-round.info-round[_ngcontent-%COMP%]{width:32px;height:32px}.btn-round.primary[_ngcontent-%COMP%]{background-color:#0279ff}.btn-round.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-round.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-round[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none;border:0}.btn-round.btn-small-24[_ngcontent-%COMP%]{width:24px;height:24px}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow[_ngcontent-%COMP%]{height:32px;line-height:32px;min-width:110px;text-align:center;border:0;padding:0;box-shadow:2px 2px 4px #00000026;font-size:16px;font-weight:400;color:#1a1f22;justify-content:center;align-items:center;position:relative;border-radius:26px}.btn-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;top:-2px}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]{box-shadow:none}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.btn-arrow.btn-arr-nxt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:10px}.btn-arrow.primary[_ngcontent-%COMP%]{background-color:#0279ff;color:#fff}.btn-arrow.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-arrow.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-arrow.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-arrow.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}[type=radio][_ngcontent-%COMP%]:checked, [type=radio][_ngcontent-%COMP%]:not(:checked){width:16px;height:16px;min-height:16px;position:relative!important;cursor:pointer;appearance:none;-webkit-appearance:none;-moz-appearance:none}[type=radio][_ngcontent-%COMP%]:checked:before, [type=radio][_ngcontent-%COMP%]:checked:after, [type=radio][_ngcontent-%COMP%]:not(:checked):before{content:"";position:absolute;border-radius:100%}[type=radio][_ngcontent-%COMP%]:checked:before{background:#0279FF;width:16px;height:16px;top:0px}[type=radio][_ngcontent-%COMP%]:checked:after{width:12px;height:12px;background:#0279FF;top:2px;left:2px;border:1px solid #ffffff;z-index:9}[type=radio][_ngcontent-%COMP%]:not(:checked):before{background:#ffffff;border:1px solid #CCCCCC;width:16px;height:16px}[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], [type=radio][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{position:relative;padding-left:10px;cursor:pointer;display:inline-block;color:#666}[type=radio][_ngcontent-%COMP%]:checked:disabled:before{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:checked:disabled:after{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:disabled, [type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{cursor:not-allowed}[type=radio][_ngcontent-%COMP%]:not(:checked):hover:before{background:#ffffff;border:1px solid #0279FF}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:hover:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:focus{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:active{border-color:transparent!important}.test-container[_ngcontent-%COMP%]{display:flex;width:100%}.item[_ngcontent-%COMP%]{flex-grow:1;border-left:1px solid #cdcdcd;padding-left:12px;width:calc(100% / 4)}.item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:2%}.sub-menu-list-icon[_ngcontent-%COMP%]{font-weight:400;padding:5px 10px;border-radius:15px;font-size:14px;line-height:24px;color:#507500}.sub-menu-list-icon2[_ngcontent-%COMP%]{font-weight:400;padding:5px 10px;border-radius:15px;font-size:14px;line-height:24px;color:#c70000}.gly-rotate-45[_ngcontent-%COMP%]{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=.5);transform:rotate(45deg)}.gly-rotate-90[_ngcontent-%COMP%]{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=.5);transform:rotate(-66deg)}.issue-overview-wrapper[_ngcontent-%COMP%]{width:100%}.issue-overview-item[_ngcontent-%COMP%]{flex-grow:1;width:100%}.issue-overview-item1[_ngcontent-%COMP%]{flex-grow:1;width:50%}.all-icon[_ngcontent-%COMP%]{font-size:10px;color:#9c9c9c}.current-issues-table[_ngcontent-%COMP%]{width:100%}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:14px}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{font-size:14px}.btn-secondary[_ngcontent-%COMP%]{color:#5f6165!important;background-color:#f8f8fa!important;border-color:#f8f8fa!important;padding:3px \\200b 10px}.undo-icon[_ngcontent-%COMP%]{background-color:#f8f8fa;padding:3px;color:#9e9e9e;border-radius:15px;margin:2px;font-size:17px;cursor:pointer;width:30px;height:30px;text-align:center}.current-issue-menu-container[_ngcontent-%COMP%]{display:flex;margin:10px 0 0;justify-self:start;align-items:center;flex-wrap:wrap}.current-issue-menu-item[_ngcontent-%COMP%]{flex-grow:0;width:16%}.chart-title[_ngcontent-%COMP%]{font-size:14px}.mwc-header[_ngcontent-%COMP%]{justify-content:space-between;margin-bottom:10px}.mwc-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:calc(100% - 120px)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]{justify-content:flex-end;width:120px}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24[_ngcontent-%COMP%]{width:24px;height:24px}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa;background-position:center;background-repeat:no-repeat}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-small-24.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-que[_ngcontent-%COMP%]{margin-right:15px;background-image:url(ic_info_grey.89b781511c1fde63583b.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-que[_ngcontent-%COMP%]:hover{background-image:url(ic_info_grey.89b781511c1fde63583b.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-que[_ngcontent-%COMP%]:focus{background-image:url(ic_info_grey.89b781511c1fde63583b.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-dload[_ngcontent-%COMP%]{margin-right:6px;background-image:url(ic_download_grey.9f487628f7100a5a71b9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-dload[_ngcontent-%COMP%]:hover{background-image:url(ic_download_grey.9f487628f7100a5a71b9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-dload[_ngcontent-%COMP%]:focus{background-image:url(ic_download_grey.9f487628f7100a5a71b9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand[_ngcontent-%COMP%]{margin-right:6px;background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand[_ngcontent-%COMP%]:hover{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand[_ngcontent-%COMP%]:focus{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand-inv[_ngcontent-%COMP%]{margin-right:6px;background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand-inv[_ngcontent-%COMP%]:hover{background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg)}.mwc-header[_ngcontent-%COMP%]   .mwc-btns[_ngcontent-%COMP%]   button.btn-expand-inv[_ngcontent-%COMP%]:focus{background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg)}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400;padding:10px 5px;font-size:16px}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;font-size:14px}.btn-dload.spinnershow[_ngcontent-%COMP%]{background-image:url(spinnersmall.8539076b5d15004b8953.svg)!important}[_nghost-%COMP%]     table.dataTable td.dataTables_empty{display:none}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:20px;max-width:67.68%!important}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:28px!important;color:#0054b2!important;line-height:32px!important}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#1a1f22;font-size:14px;line-height:16.4px}.cco-secondary-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.mw-170[_ngcontent-%COMP%]{min-width:170px}@media screen and (max-width: 767px){.test-container[_ngcontent-%COMP%]{display:block}.item[_ngcontent-%COMP%]{border-left:3px solid #cdcdcd!important}.item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:0!important;margin-top:10px}.mpl-1[_ngcontent-%COMP%]{padding-left:1%!important}.mwc-content.md-block[_ngcontent-%COMP%], .mwc-content[_ngcontent-%COMP%]{display:block!important}}.search-close[_ngcontent-%COMP%]{position:absolute;right:28px;top:11px;color:#cdcdcd;cursor:pointer}small[_ngcontent-%COMP%]{color:#c70000}small.vald-tag[_ngcontent-%COMP%]{padding-left:10px;position:absolute;font-size:16px;line-height:17px}.expand-info-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.expand-info-item[_ngcontent-%COMP%]{width:19%;overflow:hidden;text-overflow:ellipsis}.expand-info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:300;line-height:32px;color:#0054b2;text-overflow:ellipsis;overflow:hidden}.expand-info-item[_ngcontent-%COMP%]   .expand-info-item[_ngcontent-%COMP%] + .expand-info-item[_ngcontent-%COMP%]{margin-left:2%}.cursor-default[_ngcontent-%COMP%]{cursor:default}.col-recom[_ngcontent-%COMP%]{min-width:300px}.col-recom[_ngcontent-%COMP%]   .subj-text[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.col-resource[_ngcontent-%COMP%]{max-width:300px!important}.col-resource[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-width:300px;max-width:300px;word-break:break-word}.m-w-170px[_ngcontent-%COMP%]{min-width:170px}.h-300px[_ngcontent-%COMP%]{height:300px}.wh-20px[_ngcontent-%COMP%]{width:20px;height:20px}.h-450px[_ngcontent-%COMP%]{height:450px}.history-reports-list-search[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{min-width:36px!important}.heading-subtitle[_ngcontent-%COMP%]{margin-bottom:0}.white-space-preline[_ngcontent-%COMP%]{white-space:pre-line}.table-data[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc}.table-data[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc;padding:10px 15px 10px 0;vertical-align:middle}.table-data[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;padding:10px 15px 10px 0}.table-data[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f8f8fa}.table-pagination[_ngcontent-%COMP%]   .page-entries-info[_ngcontent-%COMP%]{color:#333}.table-pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.table-pagination[_ngcontent-%COMP%]   .page-button[_ngcontent-%COMP%]{color:#666;display:inline-block;min-width:1.5em;text-align:center;padding:2px 10px!important;cursor:pointer}.table-pagination[_ngcontent-%COMP%]   .page-button[_ngcontent-%COMP%]:hover{color:#0279ff}.table-pagination[_ngcontent-%COMP%]   .page-current[_ngcontent-%COMP%]{background:#fff;color:#0279ff;border:1px solid #0279ff;border-radius:20px!important}.table-pagination[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]{position:relative}.table-pagination[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:#0279ff;display:none}.table-pagination[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]:hover:after{display:block}.table-pagination[_ngcontent-%COMP%]   .page-disabled[_ngcontent-%COMP%]{cursor:default}.table-pagination[_ngcontent-%COMP%]   .page-disabled[_ngcontent-%COMP%]:hover{color:#666}.table-pagination[_ngcontent-%COMP%]   .page-disabled[_ngcontent-%COMP%]:hover:after{display:none}.min-w80px[_ngcontent-%COMP%]{min-width:80px}.min-w70px[_ngcontent-%COMP%]{min-width:70px}.maxh-overflow-auto[_ngcontent-%COMP%]{max-height:250px;overflow:auto}.col-severty[_ngcontent-%COMP%]{padding-left:10px!important}.min-98px[_ngcontent-%COMP%]{min-width:98px}.subscriber-impact-red[_ngcontent-%COMP%]{color:#c70000}']}),t})();function ya(t,e){if(1&t&&(A.TgZ(0,"div",8),A._uU(1),A.qZA()),2&t){const t=A.oxw();A.xp6(1),A.hij(" ",t.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function fa(t,e){if(1&t&&(A.TgZ(0,"li",12),A.TgZ(1,"a",13),A._uU(2),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language["Real Time"])}}function ba(t,e){if(1&t&&(A.TgZ(0,"li",12),A.TgZ(1,"a",14),A._uU(2),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language["Active Reports"])}}function Ca(t,e){if(1&t&&(A.TgZ(0,"li",12),A.TgZ(1,"a",15),A._uU(2),A.qZA(),A.qZA()),2&t){const t=A.oxw(2);A.xp6(2),A.Oqu(t.language["Historical Reports"])}}function xa(t,e){if(1&t&&(A.TgZ(0,"div",9),A.TgZ(1,"ul",10),A.YNc(2,fa,3,1,"li",11),A.YNc(3,ba,3,1,"li",11),A.YNc(4,Ca,3,1,"li",11),A.qZA(),A.qZA()),2&t){const t=A.oxw();A.Q6J("ngClass",t.isToggleSidebar?"d-none":"d-block"),A.xp6(2),A.Q6J("ngIf",t.menus.realtime),A.xp6(1),A.Q6J("ngIf",t.menus.active),A.xp6(1),A.Q6J("ngIf",t.menus.historical)}}const Aa=[{path:"",component:(()=>{class t{constructor(t,e,i){this.translateService=t,this.router=e,this.sso=i,this.isToggleSidebar=!1,this.menus={realtime:!1,active:!1,historical:!1},this.hasPageAccess=!0,this.toggled=new c.xQ,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}ngOnInit(){let t=this.sso.getScopes();if(o.N.VALIDATE_SCOPE){let e=Object.keys(t);if(e)for(let t=0;t<e.length;t++)-1===e[t].indexOf("cloud.rbac.coc.issues.current")?-1===e[t].indexOf("cloud.rbac.coc.issues.report.activealarm")?-1===e[t].indexOf("cloud.rbac.coc.issues.report.historyalarm")||(this.menus.historical=!0):(console.log("Active Scope"),this.menus.active=!0):this.menus.realtime=!0}else this.menus={realtime:!0,active:!0,historical:!0};this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t}),this.pageAcceesObs=this.sso.hasPageAccess$.subscribe(t=>{this.hasPageAccess=!!t.access})}ngOnDestroy(){this.pageAcceesObs&&this.pageAcceesObs.unsubscribe(),this.languageSubject.unsubscribe()}toggleSideBar(){this.isToggleSidebar=!this.isToggleSidebar,this.sso.triggerToggle()}}return t.\u0275fac=function(e){return new(e||t)(A.Y36(O.s),A.Y36(n.F0),A.Y36(M.t6))},t.\u0275cmp=A.Xpm({type:t,selectors:[["app-device-alarms"]],decls:9,vars:6,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],[3,"hidden"],[1,"container","mp-0"],[1,"row","mm-0"],["class","col-12 col-md-2 pl-0 mpr-0",3,"ngClass",4,"ngIf"],[1,"col-12","col-md-10","padl","mp-0","mmt-3","pr-0","position-relative",3,"ngClass","hidden"],[1,"sidebar-collapse",3,"click"],[1,"fas",3,"ngClass"],["role","alert",1,"alert","alert-warning"],[1,"col-12","col-md-2","pl-0","mpr-0",3,"ngClass"],["id","netops-list-menu",1,"nav","flex-column","left-menu","tab-view-style","mbr-none"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLink","/cco/issues/device/realtime","id","pendo-cco-real-time-menu-title","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["id","","routerLink","/cco/issues/device/active-reports","id","pendo-cco-active-reports-menu-title","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["id","","routerLink","/cco/issues/device/history-reports","id","pendo-cco-historical-reports-menu-title","routerLinkActive","active",1,"list-group-item","list-group-item-action"]],template:function(t,e){1&t&&(A.YNc(0,ya,2,1,"div",0),A.TgZ(1,"section",1),A.TgZ(2,"div",2),A.TgZ(3,"div",3),A.YNc(4,xa,5,4,"div",4),A.TgZ(5,"div",5),A.TgZ(6,"a",6),A.NdJ("click",function(){return e.toggleSideBar()}),A._UZ(7,"i",7),A.qZA(),A._UZ(8,"router-outlet"),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&t&&(A.Q6J("ngIf",!e.hasPageAccess),A.xp6(1),A.Q6J("hidden",!e.hasPageAccess),A.xp6(3),A.Q6J("ngIf",e.hasPageAccess),A.xp6(1),A.Q6J("ngClass",e.isToggleSidebar?"col-12 col-md-12 px-0":"")("hidden",!e.hasPageAccess),A.xp6(2),A.Q6J("ngClass",e.isToggleSidebar?"fa-chevron-right":"fa-chevron-left"))},directives:[a.O5,a.mk,n.lC,n.yS,n.Od],styles:[".sidebar-collapse[_ngcontent-%COMP%]{position:absolute;top:170px;background:#fff;width:25px;height:25px;border:1px solid #d3d3d3;border-radius:50%;text-align:center;left:-12px;cursor:pointer}"]}),t})(),children:[{path:"realtime",loadChildren:()=>i.e(3290).then(i.bind(i,43290)).then(t=>t.RealtimeModule)},{path:"active-reports",component:re,data:{title:"Calix Cloud - "}},{path:"history-reports",component:va,data:{title:"Calix Cloud - "}},{path:"",redirectTo:"realtime/current-issues",pathMatch:"full"}]}];let Za=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=A.oAB({type:t}),t.\u0275inj=A.cJS({imports:[[n.Bz.forChild(Aa)],n.Bz]}),t})(),Oa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=A.oAB({type:t}),t.\u0275inj=A.cJS({imports:[[a.ez,Za]]}),t})()}}]);