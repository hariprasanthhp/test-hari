"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[4938],{34938:function(e,t,i){i.r(t),i.d(t,{ConfigurationModule:function(){return te}});var n=i(38583),o=i(39895),s=i(79765),a=i(37716),r=i(7450),c=i(38048);function l(e,t){if(1&e&&(a.TgZ(0,"div",6),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function g(e,t){if(1&e&&(a.TgZ(0,"li",10),a.TgZ(1,"a",11),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw(2);a.xp6(2),a.Oqu(e.language["ONT configurations"])}}const u=function(e){return[e]};function d(e,t){if(1&e&&(a.TgZ(0,"li",10),a.TgZ(1,"a",12),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw(2);a.xp6(1),a.Q6J("ngClass",a.VKq(2,u,e.router.url.includes("external-file-server-list")||e.router.url.includes("external-file-server-form")?"active":"")),a.xp6(1),a.Oqu(e.language.External_File_server)}}function h(e,t){if(1&e&&(a.TgZ(0,"li",10),a.TgZ(1,"a",13),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw(2);a.xp6(2),a.hij(" ",e.language["Secure Onboarding"]," ")}}function m(e,t){if(1&e&&(a.TgZ(0,"li",10),a.TgZ(1,"a",14),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw(2);a.xp6(2),a.hij(" ",e.language["Stale System Purge"],"")}}function p(e,t){if(1&e&&(a.TgZ(0,"li",10),a.TgZ(1,"a",15),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw(2);a.xp6(2),a.Oqu(e.language["Subnet Configuration"])}}function f(e,t){if(1&e&&(a.TgZ(0,"li",10),a.TgZ(1,"a",16),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw(2);a.xp6(2),a.Oqu(e.language["Speed Test"])}}function b(e,t){if(1&e&&(a.TgZ(0,"div",7),a.TgZ(1,"ul",8),a.YNc(2,g,3,1,"li",9),a.YNc(3,d,3,4,"li",9),a.YNc(4,h,3,1,"li",9),a.YNc(5,m,3,1,"li",9),a.YNc(6,p,3,1,"li",9),a.YNc(7,f,3,1,"li",9),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.Q6J("ngClass",e.isToggleSidebar?"d-none":"d-block"),a.xp6(2),a.Q6J("ngIf",e.menus.ontconfigurations),a.xp6(1),a.Q6J("ngIf",e.menus.externalfileserver),a.xp6(1),a.Q6J("ngIf",e.menus.secureonboarding),a.xp6(1),a.Q6J("ngIf",e.menus.stalesystempurge),a.xp6(1),a.Q6J("ngIf",e.menus.subnetconfiguration),a.xp6(1),a.Q6J("ngIf",e.menus.speedtest&&e.sso.getEntitlementsArr().indexOf("118")>-1)}}let A=(()=>{class e{constructor(e,t,i){this.translateService=e,this.router=t,this.sso=i,this.isToggleSidebar=!1,this.menus={ontconfigurations:!1,externalfileserver:!1,secureonboarding:!1,stalesystempurge:!1,subnetconfiguration:!1,speedtest:!1},this.hasPageAccess=!0,this.toggled=new s.xQ,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}ngOnInit(){var e,t;let i=this.sso.getScopes();i["cloud.rbac.coc.services.configuration"]?null===(e=Object.keys(this.menus))||void 0===e||e.forEach(e=>{this.menus[e]=!0}):null===(t=Object.keys(this.menus))||void 0===t||t.forEach(e=>{this.menus[e]=i[`cloud.rbac.coc.services.configuration.${e}`]}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e}),this.pageAcceesObs=this.sso.hasPageAccess$.subscribe(e=>{this.hasPageAccess=!!e.access})}ngOnDestroy(){this.pageAcceesObs&&this.pageAcceesObs.unsubscribe(),this.languageSubject.unsubscribe()}toggleSideBar(){this.isToggleSidebar=!this.isToggleSidebar,this.sso.triggerToggle()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(r.s),a.Y36(o.F0),a.Y36(c.t6))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-configuration"]],decls:7,vars:5,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],[3,"hidden"],[1,"container","mp-0"],[1,"row","mm-0"],["class","col-12 col-md-2 pl-0 mpr-0",3,"ngClass",4,"ngIf"],[1,"col-12","col-md-10","padl","mp-0","mmt-3","pr-0","position-relative",3,"ngClass","hidden"],["role","alert",1,"alert","alert-warning"],[1,"col-12","col-md-2","pl-0","mpr-0",3,"ngClass"],["id","netops-list-menu",1,"nav","flex-column","left-menu","tab-view-style","mbr-none"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLink","/cco/services/configuration/ONT-configurations","routerLinkActive","active",1,"list-group-item","list-group-item-action","text-capitalize"],["routerLink","/cco/services/configuration/external-file-server-list","routerLinkActive","active",1,"list-group-item","list-group-item-action",3,"ngClass"],["routerLink","/cco/services/configuration/secure-onboarding","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["routerLink","/cco/services/configuration/stale-system-purge","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["routerLink","/cco/services/configuration/subnet-configuration","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["routerLink","/cco/services/configuration/speed-test","routerLinkActive","active",1,"list-group-item","list-group-item-action"]],template:function(e,t){1&e&&(a.YNc(0,l,2,1,"div",0),a.TgZ(1,"section",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.YNc(4,b,8,7,"div",4),a.TgZ(5,"div",5),a._UZ(6,"router-outlet"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.Q6J("ngIf",!t.hasPageAccess),a.xp6(1),a.Q6J("hidden",!t.hasPageAccess),a.xp6(3),a.Q6J("ngIf",t.hasPageAccess),a.xp6(1),a.Q6J("ngClass",t.isToggleSidebar?"col-12 col-md-12 px-0":"")("hidden",!t.hasPageAccess))},directives:[n.O5,n.mk,o.lC,o.yS,o.Od],styles:[""]}),e})();var Z=i(3679),T=i(92340),v=i(613),x=i(49342),S=i(89044),w=i(12664),q=i(39075),C=i(86640);const O=["infoModal"];function I(e,t){if(1&e&&(a.TgZ(0,"div",12),a.TgZ(1,"div",13),a.TgZ(2,"div",14),a.TgZ(3,"span",15),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(4),a.Oqu(e.language.Loading)}}function k(e,t){if(1&e&&(a.TgZ(0,"div",24),a._uU(1),a.qZA()),2&e){const e=a.oxw(2);a.xp6(1),a.hij(" ",e.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function N(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",25),a.TgZ(1,"span",26),a._UZ(2,"img",27),a.qZA(),a._UZ(3,"span",28),a.TgZ(4,"button",29),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).isError=!1}),a._uU(5),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(2);a.xp6(3),a.Q6J("innerHtml",e.warningMessage,a.oJD),a.xp6(2),a.hij(" ",e.language.OK," ")}}function _(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",30),a.TgZ(1,"span",31),a._UZ(2,"img",32),a.qZA(),a.TgZ(3,"button",33),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).success=!1}),a._UZ(4,"span"),a.qZA(),a._UZ(5,"span",34),a.qZA()}if(2&e){const e=a.oxw(2);a.xp6(5),a.Q6J("innerHtml",e.successInfo,a.oJD)}}function y(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",35),a.TgZ(1,"span",36),a._UZ(2,"img",37),a.qZA(),a.TgZ(3,"span"),a._uU(4),a.qZA(),a.TgZ(5,"div",38),a.TgZ(6,"button",39),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).RemoveWarning()}),a._uU(7),a.qZA(),a.TgZ(8,"button",40),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).camcelEnable()}),a._uU(9),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(2);a.xp6(4),a.AsE("",e.language.Warning,": ",e.language["This action could be service affecting. Please consult with Calix before making this change"],"."),a.xp6(3),a.hij(" ",e.language.Ok," "),a.xp6(2),a.hij(" ",e.language.Cancel," ")}}function M(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",67),a.TgZ(1,"input",68),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw(3).provisionOntService=t}),a.qZA(),a.TgZ(2,"label",69),a.TgZ(3,"span"),a._uU(4),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(3);a.xp6(1),a.Q6J("ngModel",e.provisionOntService),a.xp6(3),a.Oqu(e.language["Provision ONT Services"])}}function E(e,t){if(1&e&&(a.TgZ(0,"label"),a._uU(1),a.qZA()),2&e){const e=a.oxw(4);a.xp6(1),a.hij(" ",e.language["This field is required"]," ")}}function J(e,t){if(1&e&&(a.TgZ(0,"div",70),a.YNc(1,E,2,1,"label",61),a.qZA()),2&e){const e=a.oxw(3);a.xp6(1),a.Q6J("ngIf",e.modalForm.ontIdType.errors.required)}}function U(e,t){if(1&e&&(a.TgZ(0,"label"),a._uU(1),a.qZA()),2&e){const e=a.oxw(4);a.xp6(1),a.hij(" ",e.language["This field is required"]," ")}}function F(e,t){if(1&e&&(a.TgZ(0,"div",70),a.YNc(1,U,2,1,"label",61),a.qZA()),2&e){const e=a.oxw(3);a.xp6(1),a.Q6J("ngIf",e.modalForm.ontNameFormat.errors.required)}}function D(e,t){if(1&e&&(a.TgZ(0,"div"),a.TgZ(1,"small",46),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw(4);a.xp6(2),a.Oqu(e.language.ONT_soak_timeout_validate_msg)}}function Q(e,t){if(1&e&&(a.TgZ(0,"div"),a.YNc(1,D,3,1,"div",61),a.qZA()),2&e){const e=a.oxw(3);a.xp6(1),a.Q6J("ngIf",e.signupForm.value.ontSoakTimeout)}}function Y(e,t){if(1&e&&(a.TgZ(0,"label"),a._uU(1),a.qZA()),2&e){const e=a.oxw(4);a.xp6(1),a.hij(" ",e.language["This field is required"]," ")}}function j(e,t){if(1&e&&(a.TgZ(0,"div",70),a.YNc(1,Y,2,1,"label",61),a.qZA()),2&e){const e=a.oxw(3);a.xp6(1),a.Q6J("ngIf",e.modalForm.ontSoakTimeout.errors.required)}}function V(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"button",71),a._uU(2),a.qZA(),a.TgZ(3,"button",72),a.NdJ("click",function(){a.CHM(e);const t=a.oxw(3);return t.timeValidate.ontSoakTimeout=!0,t.getAdmins()}),a._uU(4),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(3);a.xp6(2),a.hij(" ",e.language.submit," "),a.xp6(1),a.Q6J("routerLink",e.cancelLink),a.xp6(1),a.hij(" ",e.language.Cancel," ")}}function L(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",41),a.TgZ(1,"div",42),a.TgZ(2,"form",43),a.NdJ("ngSubmit",function(){return a.CHM(e),a.oxw(2).onSubmit()}),a.YNc(3,M,5,2,"div",44),a.TgZ(4,"div",45),a.TgZ(5,"label"),a._uU(6),a.TgZ(7,"span",46),a._uU(8,"*"),a.qZA(),a.qZA(),a.TgZ(9,"div",47),a.TgZ(10,"div",48),a.TgZ(11,"ng-select",49),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw(2).ontIdTypeTxt=t}),a.TgZ(12,"ng-option",50),a._uU(13,"SERIAL_NO"),a.qZA(),a.TgZ(14,"ng-option",51),a._uU(15,"REG_ID "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(16,J,2,1,"div",52),a.qZA(),a.TgZ(17,"div",53),a.TgZ(18,"label"),a._uU(19),a.TgZ(20,"span",46),a._uU(21,"*"),a.qZA(),a.qZA(),a.TgZ(22,"div",47),a.TgZ(23,"div",48),a.TgZ(24,"ng-select",54),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw(2).ontNameFormat=t}),a.TgZ(25,"ng-option",55),a._uU(26,"%Fsan"),a.qZA(),a.TgZ(27,"ng-option",56),a._uU(28,"%RegId "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(29,F,2,1,"div",52),a.qZA(),a.TgZ(30,"div",57),a.TgZ(31,"label"),a._uU(32),a.TgZ(33,"span",46),a._uU(34,"*"),a.qZA(),a.qZA(),a.TgZ(35,"div",58),a.TgZ(36,"input",59),a.NdJ("keyup",function(){return a.CHM(e),a.oxw(2).TimeValidate("ontSoakTimeout")})("ngModelChange",function(t){return a.CHM(e),a.oxw(2).ontSoakTimeouttxt=t}),a.qZA(),a.TgZ(37,"span",60),a._uU(38),a.qZA(),a.qZA(),a.YNc(39,Q,2,1,"div",61),a.YNc(40,j,2,1,"div",52),a.qZA(),a.TgZ(41,"div",62),a.TgZ(42,"label",63),a.TgZ(43,"span",64),a.TgZ(44,"input",65),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw(2).showAsmInformation=t}),a.qZA(),a.TgZ(45,"span",9),a._UZ(46,"small"),a.qZA(),a.qZA(),a.TgZ(47,"span",66),a._uU(48,"Show ASM service information if provisioned with SMx"),a.qZA(),a.qZA(),a.qZA(),a.YNc(49,V,5,3,"div",61),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(2);a.xp6(2),a.Q6J("formGroup",e.signupForm),a.xp6(1),a.Q6J("ngIf",e.scope.write&&e.allowAddSystems),a.xp6(3),a.hij("",e.language["ONT Linkage Type"]," "),a.xp6(5),a.s9C("placeholder",e.language["ONT Linkage Type"]),a.Q6J("searchable",!1)("ngModel",e.ontIdTypeTxt)("readonly",!e.scope.write),a.xp6(5),a.Q6J("ngIf",e.submitted&&e.modalForm.ontIdType.errors),a.xp6(3),a.hij("",e.language["ONT Name Format"]," "),a.xp6(5),a.s9C("placeholder",e.language["ONT Name Format"]),a.Q6J("searchable",!1)("ngModel",e.ontNameFormat)("readonly",!e.scope.write),a.xp6(5),a.Q6J("ngIf",e.submitted&&e.modalForm.ontNameFormat.errors),a.xp6(3),a.hij("",e.language["ONT Soak Timeout"]," "),a.xp6(4),a.s9C("placeholder",e.language["ONT Soak Timeout"]),a.Q6J("ngModel",e.ontSoakTimeouttxt)("readonly",!e.scope.write),a.xp6(2),a.Oqu(e.language["Minute(s)"]),a.xp6(1),a.Q6J("ngIf",!e.timeValidate.ontSoakTimeout),a.xp6(1),a.Q6J("ngIf",e.submitted&&e.modalForm.ontSoakTimeout.errors),a.xp6(4),a.Q6J("ngModel",e.showAsmInformation),a.xp6(5),a.Q6J("ngIf",e.scope.write&&e.allowAddSystems)}}function R(e,t){if(1&e&&(a.TgZ(0,"div",16),a.TgZ(1,"div",17),a._uU(2),a.qZA(),a.TgZ(3,"div",18),a.YNc(4,k,2,1,"div",19),a.YNc(5,N,6,2,"div",20),a.YNc(6,_,6,1,"div",21),a.YNc(7,y,10,4,"div",22),a.YNc(8,L,50,23,"div",23),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.hij(" ",e.language["ONT Default Setup"]," "),a.xp6(2),a.Q6J("ngIf",!e.hasScopeAccess),a.xp6(1),a.Q6J("ngIf",e.isError),a.xp6(1),a.Q6J("ngIf",e.success),a.xp6(1),a.Q6J("ngIf",e.WarningMsg),a.xp6(1),a.Q6J("ngIf",e.hasScopeAccess)}}function H(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",73),a.TgZ(1,"h4",74),a._uU(2),a.qZA(),a.TgZ(3,"button",75),a.NdJ("click",function(){a.CHM(e);const t=a.oxw();return t.closeModal(),t.getData()}),a._UZ(4,"span",76),a.qZA(),a.qZA(),a.TgZ(5,"div",77),a.TgZ(6,"p",78),a._uU(7),a.qZA(),a.TgZ(8,"p"),a._uU(9),a.qZA(),a.qZA(),a.TgZ(10,"div",79),a.TgZ(11,"button",80),a.NdJ("click",function(){a.CHM(e);const t=a.oxw();return t.save(),t.closeModal()}),a._uU(12),a.qZA(),a.TgZ(13,"button",81),a.NdJ("click",function(){a.CHM(e);const t=a.oxw();return t.closeModal(),t.getData()}),a._uU(14),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.infoTitle),a.xp6(5),a.Oqu(e.infoBody),a.xp6(2),a.Oqu(e.language.ontMappingNote),a.xp6(3),a.Oqu(e.language.Okay),a.xp6(2),a.hij(" ",e.language.Cancel," ")}}let P=(()=>{class e{constructor(e,t,i,n,o,s,a,r){this.ccoOrgAdminService=e,this.commonOrgService=t,this.translateService=i,this.router=n,this.sso=o,this.service=s,this.dialogService=a,this.titleService=r,this.loading=!1,this.success=!1,this.adminsData=[],this.dtOptions={},this.tableAvailable=!1,this.disableServiceType=!1,this.serviceTypes=[{name:"DATA",value:"DATA"},{name:"VIDEO",value:"VIDEO"},{name:"VOICE",value:"VOICE"}],this.ontSoakTimeout="172800",this.ontSoakTimeouttxt="172800",this.provisionOntService=!1,this.showAsmInformation=!1,this.allowEdit=!1,this.scope=[],this.rgManagement="NATIVE",this.timeValidate={ontSoakTimeout:!0},this.allowAddSystems=!0,this.hasScopeAccess=!1,this.enableSubscriberAssocition=!1;let c=this.router.url;this.sso.getRedirectModule(c),this.ORG_ID=this.sso.getOrganizationID(c)}ngOnInit(){var e;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.titleService.setTitle(`${this.language["ONT configurations"]} - ${this.language.Configuration} - ${this.language.Services} - ${this.language.Operations}  - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`${this.language["ONT configurations"]} - ${this.language.Configuration} - ${this.language.Services} - ${this.language.Operations}  - ${this.language["Calix Cloud"]}`);let t=this.sso.getEntitlements();t[210]&&!t[102]&&(this.allowAddSystems=!1);let i=this.sso.getScopes();T.N.VALIDATE_SCOPE?i&&(null===(e=i["cloud.rbac.coc.services.configuration.ontconfigurations"])||void 0===e?void 0:e.length)&&(this.hasScopeAccess=!0,-1!==i["cloud.rbac.coc.services.configuration.ontconfigurations"].indexOf("read")&&(this.scope.read=!0),-1!==i["cloud.rbac.coc.services.configuration.ontconfigurations"].indexOf("write")&&(this.scope.write=!0)):(this.scope={read:!0,write:!0},this.hasScopeAccess=!0),this.hasScopeAccess?(this.getAdmins(),this.getData(),this.signupForm=new Z.cw({provisionOntService:new Z.NI(!1),ontIdType:new Z.NI(null,Z.kI.required),ontNameFormat:new Z.NI("%Fsan",Z.kI.required),ontSoakTimeout:new Z.NI("172800",Z.kI.required),rgManagement:new Z.NI("NATIVE",Z.kI.required),showAsmInformation:new Z.NI(!1)})):this.sso.setPageAccess(!1)}get modalForm(){return this.signupForm.controls}onSubmit(){if(this.submitted=!0,this.signupForm.valid)if(0!==this.adminsData.length){let e;if(this.obj={ontIdType:this.ontIdTypeTxt,ontNameFormat:this.ontNameFormat,ontSoakTimeout:this.ontSoakTimeouttxt,rgManagement:"NATIVE",provisionOntService:this.provisionOntService,showAsmInformation:this.showAsmInformation},null!=this.ontSoakTimeouttxt&&null!=this.ontSoakTimeouttxt&&(this.TimeValidate("ontSoakTimeout"),e=!this.timeValidate.ontSoakTimeout),e)return;this.loading=!0,this.ccoOrgAdminService.updateAdminData(this.obj).subscribe(e=>{this.loading=!1,this.success=!0,this.successInfo=this.language["Updated Succesfully"],this.isError&&(this.isError=!1,this.warningMessage="")},e=>{this.loading=!1,this.pageErrorHandle(e)})}else{let e;if(null!=this.signupForm.value.ontSoakTimeout&&null!=this.signupForm.value.ontSoakTimeout&&(this.TimeValidate("ontSoakTimeout"),e=!this.timeValidate.ontSoakTimeout),e)return;this.ccoOrgAdminService.createAdmin(this.signupForm.value).subscribe(e=>{this.loading=!1,"Entered values for attribute org_id and service_type already present in table org_admin_data"!=e?(this.successInfo=this.language["Successfully Created!"],this.success=!0,this.getAdmins(),this.isError&&(this.isError=!1,this.warningMessage="")):this.warningMessage="Entered values are already present"},e=>{this.loading=!1,this.pageErrorHandle(e)})}else this.loading=!1}TimeValidate(e){let t=this.signupForm.value[e];this.timeValidate[e]=t>2880&&t<=172800}getAdmins(){this.loading=!0,this.ccoOrgAdminService.fetchAmdins("All").subscribe(e=>{if(this.loading=!1,"Org Admin Data not found"==e)return this.adminsData=[],void(this.ontSoakTimeouttxt="172800");e&&(this.ontIdTypeTxt=e.ontIdType,this.ontNameFormat=e.ontNameFormat,this.ontSoakTimeouttxt=e.ontSoakTimeout?e.ontSoakTimeout:"172800",this.rgManagement="NATIVE"),this.signupForm.patchValue(e),this.signupForm.patchValue({rgManagement:e.rgManagement?e.rgManagement:"NATIVE"}),this.adminsData=e instanceof Array?e:[e],this.loading=!1},e=>{this.pageErrorHandle(e)})}pageErrorHandle(e){this.warningMessage=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.isError=!0,this.loading=!1}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe(),this.listSubs&&this.listSubs.unsubscribe()}EnableOrg(){this.WarningMsg=!0,this.orgEnable=!this.orgEnable}RemoveWarning(){this.WarningMsg=!1}camcelEnable(){this.orgEnable=!this.orgEnable,this.WarningMsg=!1}changeOnttoSubscriber(e){this.closeModal(),this.enableSubscriberAssocition=e,this.save()}getData(){this.listSubs=this.service.getOrg(this.ORG_ID).subscribe(e=>{var t;e?(this.orgData=e,this.enableSubscriberAssocition=!(!this.orgData||null==(null===(t=this.orgData)||void 0===t?void 0:t.enableSubscriberAssoc))&&this.orgData.enableSubscriberAssoc):this.enableSubscriberAssocition=!1},e=>{this.pageErrorHandle(e)})}confirmEnableSUbscriberChange(e){this.enableSubscriberAssoc=e,this.enableSubscriberAssocition=e,this.infoTitle=this.language["Confirm change :"],this.infoBody=this.language.enableDisableOntMapping,this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1,centered:!0})}save(){this.loading=!0,this.commonOrgService.closeAlert(),this.updateSubs=this.service.updateOrgPatch(this.ORG_ID,{enableSubscriberAssoc:this.enableSubscriberAssoc}).subscribe(e=>{this.orgData=e,this.loading=!1,this.getData()},e=>{this.pageErrorHandle(e)})}closeModal(){this.modalRef&&this.modalRef.close()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(v.g),a.Y36(x.v),a.Y36(r.s),a.Y36(o.F0),a.Y36(c.t6),a.Y36(S.U),a.Y36(w.FF),a.Y36(q.Dx))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-service-provisioning"]],viewQuery:function(e,t){if(1&e&&a.Gf(O,7),2&e){let e;a.iGM(e=a.CRH())&&(t.infoModal=e.first)}},decls:17,vars:8,consts:[[1,"row","position-relative"],["class","loader",4,"ngIf"],[1,"col-7"],[1,"w-100","cco-secondary-title","pb-2","border-bottom","my-3"],[1,"pl-16px","mb-4"],[1,"mb-1"],[1,"toggle-swtbtn","checkbox","switcher"],[3,"ngClass"],["type","checkbox","name","ontToSubscrStatus","id","ontToSubscrStatus",3,"checked","disabled","change"],[1,"mr-1"],["class","w-100 mb-3",4,"ngIf"],["infoModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","mb-3"],[1,"cco-secondary-title","pb-2","border-bottom","mb-3"],[1,"pl-16px"],["role","alert","class","alert alert-warning",4,"ngIf"],["class","w-100 alert alert alert-danger alert-custom-pos fade show",4,"ngIf"],["class","w-100 alert alert-success fade show my-3",4,"ngIf"],["class","warning-msg",4,"ngIf"],["class","row",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"w-100","alert","alert","alert-danger","alert-custom-pos","fade","show"],[1,"error-img","error-image-wh"],["src","./assets/img/ic_error-36px.svg"],[1,"d-inline-flex","warn-msg-wh",3,"innerHtml"],["type","button",1,"btn-default","primary","ok","float-right",3,"click"],[1,"w-100","alert","alert-success","fade","show","my-3"],[1,"success-img"],["src","./assets/img/success-icon.svg"],["type","button",1,"close",3,"click"],[3,"innerHtml"],[1,"warning-msg"],[1,"error-img"],["src","./assets/img/warning-icon.svg"],[1,"btn-con-sec","float-right"],["id","deletePFBtn",1,"btn","warn-btn","mr-2",3,"click"],["id","cancel-btn",1,"btn","warn-btn",3,"click"],[1,"row"],[1,"col-md-8"],["novalidate","","id","ccoOrgAdminForm",3,"formGroup","ngSubmit"],["class","form-check my-2",4,"ngIf"],[1,"ccl-form","ccl-form","mb-2"],[1,"required-field"],[1,"w-100"],["id","current-issues-interval",1,"custom-selectbox"],["formControlName","ontIdType","id","ccoOrgAdminONTType",3,"searchable","placeholder","ngModel","readonly","ngModelChange"],["value","SERIAL_NO"],["value","REG_ID"],["class","errorMessage",4,"ngIf"],[1,"ccl-form","mb-2"],["formControlName","ontNameFormat","id","ccoOrgAdminONTFormate",3,"searchable","placeholder","ngModel","readonly","ngModelChange"],["value","%Fsan"],["value","%RegId"],[1,"ccl-form","mb-2","ont-soak"],[1,"d-flex","align-items-center"],["type","text","aria-describedby","emailHelp","formControlName","ontSoakTimeout","id","ccoOrgAdminDailPlan","oninput","this.value = this.value.replace(/[^0-9]/g, '').replace(/(\\..?)\\../g, '$1');","required","",1,"form-control","col-12",3,"placeholder","ngModel","readonly","keyup","ngModelChange"],[1,"ml-2"],[4,"ngIf"],[1,"toggle-swtbtn","checkbox","switcher","my-2","d-flex"],[1,"d-flex"],[1,""],["type","checkbox","name","","formControlName","showAsmInformation","id","defaultCheck12",3,"ngModel","ngModelChange"],["for","defaultCheck12",1,"pointer"],[1,"form-check","my-2"],["type","checkbox","formControlName","provisionOntService","id","defaultCheck2",1,"form-check-input",3,"ngModel","ngModelChange"],["for","defaultCheck2",1,"form-check-label","cursor-pointer"],[1,"errorMessage"],["type","submit","id","ccoOrgAdminSubmitBtn",1,"btn-default","btn-primary","mt-3","mr-3"],["type","button","id","ccoOrgAdminCancelBtn",1,"btn-default","btn-dft","mt-3",3,"routerLink","click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mb-0"],[1,"modal-footer","mt-3"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"],["type","button","id","infoModalCancel",1,"btn-default","btn-dft",3,"click"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.YNc(1,I,5,1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a._uU(4),a.qZA(),a.TgZ(5,"div",4),a.TgZ(6,"p",5),a._uU(7),a.qZA(),a.TgZ(8,"div",6),a.TgZ(9,"label",7),a.TgZ(10,"input",8),a.NdJ("change",function(e){return t.confirmEnableSUbscriberChange(e.target.checked)}),a.qZA(),a.TgZ(11,"span",9),a._UZ(12,"small"),a.qZA(),a._uU(13),a.qZA(),a.qZA(),a.qZA(),a.YNc(14,R,9,6,"div",10),a.qZA(),a.qZA(),a.YNc(15,H,15,5,"ng-template",null,11,a.W1O)),2&e&&(a.xp6(1),a.Q6J("ngIf",t.loading),a.xp6(3),a.hij(" ",t.language["ONT to Subscriber Assignment"]," "),a.xp6(3),a.hij("",t.language["Assign ONTs to Subscribers via subscriber endpoint mapping"]," "),a.xp6(2),a.Q6J("ngClass",t.orgData?"":"switch-disabled"),a.xp6(1),a.Q6J("checked",t.enableSubscriberAssocition)("disabled",!t.orgData||!t.scope.write),a.xp6(3),a.hij(" ",t.enableSubscriberAssocition?t.language.Enabled:t.language.Disabled," "),a.xp6(1),a.Q6J("ngIf",t.hasScopeAccess))},directives:[n.O5,n.mk,Z._Y,Z.JL,Z.sg,C.w9,Z.JJ,Z.u,C.xv,Z.Fj,Z.Q7,Z.Wl,o.rH],styles:[".border-bottom[_ngcontent-%COMP%]{border-color:#ccc!important}.pl-16px[_ngcontent-%COMP%]{padding-left:16px}.checkbox-switcher[_ngcontent-%COMP%]{cursor:pointer}.ont-soak[_ngcontent-%COMP%]{position:relative;padding-right:70px}.error-image-wh[_ngcontent-%COMP%]{width:50px;float:left;height:100%}.warn-msg-wh[_ngcontent-%COMP%]{width:85%;height:100%}.alert-custom-pos[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:52px;width:100%}.switch-disabled[_ngcontent-%COMP%]{cursor:not-allowed!important}.switch-disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:50%}"]}),e})();var $=i(35781),B=i(16624),G=i(14306),W=i(5399),z=i(84388),K=i(61012);const X=[{path:"",component:A,children:[{path:"ONT-configurations",component:P},{path:"stale-system-purge",component:W.m,data:{title:"Calix Cloud - Flow Configuration"}},{path:"secure-onboarding",component:G.i,data:{title:"Calix Cloud - Flow Configuration"}},{path:"subnet-configuration",component:z.B,data:{title:"Calix Cloud - Flow Configuration"}},{path:"external-file-server-list",component:B.X,data:{title:"Calix Cloud - Flow Configuration"}},{path:"external-file-server-form",component:$.A,data:{title:"Calix Cloud - Flow Configuration"}},{path:"speed-test",component:K.U,data:{title:"Calix Cloud - Flow Configuration"}}]}];let ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[o.Bz.forChild(X)],o.Bz]}),e})(),te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[n.ez,ee]]}),e})()},613:function(e,t,i){i.d(t,{g:function(){return c}});var n=i(40205),o=i(5304),s=i(92340),a=i(37716),r=i(91841);let c=(()=>{class e{constructor(e){this.http=e}createAdmin(e){return this.http.post(`${s.N.COC_SERVICES_ACTIVATION_URL}/orgAdminData`,e).pipe((0,o.K)(this.handleError))}updateAdminData(e){return this.http.put(`${s.N.COC_SERVICES_ACTIVATION_URL}/orgAdminData`,e).pipe((0,o.K)(this.handleError))}fetchAmdins(e){return"All"==e||""==e||"undefined"==e?this.http.get(`${s.N.COC_SERVICES_ACTIVATION_URL}/orgAdminData`).pipe((0,o.K)(this.handleError)):this.http.get(`${s.N.COC_SERVICES_ACTIVATION_URL}/orgAdminData?serviceType=${e}`).pipe((0,o.K)(this.handleError))}deleteAdminData(e){return this.http.delete(`${s.N.COC_SERVICES_ACTIVATION_URL}/orgAdminData?serviceType=${e}`).pipe((0,o.K)(this.handleError))}handleError(e){return(0,n._)(e)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.eN))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);