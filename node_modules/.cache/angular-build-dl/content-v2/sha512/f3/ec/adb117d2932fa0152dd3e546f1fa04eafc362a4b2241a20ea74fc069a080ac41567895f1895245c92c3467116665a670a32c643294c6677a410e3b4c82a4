"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[5825],{15825:function(e,t,i){i.r(t),i.d(t,{RealtimeModule:function(){return le}});var n=i(38583),s=i(86640),o=i(39895),a=i(1282),r=i(23771),c=i(79765),l=i(16628),h=i(92340),d=i(37716),g=i(7450),u=i(38048),m=i(51071),p=i(43673),b=i(18921),S=i(12664),T=i(39075),f=i(91703),w=i(91841),v=i(49342),Z=i(3679);function y(e,t){if(1&e&&d._UZ(0,"app-stream-chart",15),2&e){const e=d.oxw(2);d.Q6J("chartName",e.language.RATE)("yAxixTitle",e.rateUnit)("data",e.data.maxRate)("time",e.data.sendTime)("windowLen",e.windowLen)("selectedFilter",e.selectedTime)("history",e.cacheRateData)}}function P(e,t){if(1&e&&(d.TgZ(0,"div",12),d.TgZ(1,"div",13),d.YNc(2,y,1,7,"app-stream-chart",14),d.qZA(),d.qZA()),2&e){const e=d.oxw();d.xp6(2),d.Q6J("ngIf",e.data.maxRate&&e.showRealTime)}}function x(e,t){if(1&e&&d._UZ(0,"app-stream-chart",15),2&e){const e=d.oxw(2);d.Q6J("chartName",e.language.PACKET)("yAxixTitle",e.packetUnit)("data",e.data.packet)("time",e.data.sendTime)("windowLen",e.windowLen)("selectedFilter",e.selectedTime)("history",e.cachePacketData)}}function A(e,t){if(1&e&&(d.TgZ(0,"div",16),d.TgZ(1,"div",17),d.YNc(2,x,1,7,"app-stream-chart",14),d.qZA(),d.qZA()),2&e){const e=d.oxw();d.xp6(2),d.Q6J("ngIf",e.data.packet&&e.showRealTime)}}let O=(()=>{class e{constructor(e,t,i){this.sso=e,this.webSocketService=t,this.translateService=i,this.monitorId="",this.regionUuid="",this.locationUuid="",this.systemUuid="",this.valueChange=new d.vpe,this.showRealTime=!0,this.WSRequestObj={orgId:"",monitorType:"PORT",networkId:"",monitorId:"",graphType:"TRF",region:"",location:"",system:"",port:"",regionUuid:"",locationUuid:"",systemUuid:""},this.data={maxRate:[],packet:[]},this.rateUnit="bps",this.packetUnit="pps",this.cachePacketData={},this.cacheRateData={},this.eventname=""}ngOnInit(){this.calculateSubscriptiontime(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e}),this.orgId=this.sso.getOrgId(),this.orgid_tenantid=this.orgId+"_0",this.WSRequestObj.orgId=this.orgId,this.WSRequestObj.monitorType="PORT",this.WSRequestObj.networkId=this.orgid_tenantid,this.WSRequestObj.monitorId=this.monitorId,this.WSRequestObj.region=this.region,this.WSRequestObj.location=this.location,this.WSRequestObj.system=this.system,this.WSRequestObj.port=this.ponPorts,this.WSRequestObj.regionUuid=this.regionUuid,this.WSRequestObj.locationUuid=this.locationUuid,this.WSRequestObj.systemUuid=this.systemUuid,this.WSRequestObj.startTime=(new Date).getTime(),this.replay&&(this.WSRequestObj.replay="true",this.WSRequestObj.startTime=this.startTime.toString(),this.WSRequestObj.endTime=(new Date).getTime(),this.eventname="IPFIX_REPLAY_"+this.monitorId,this.webSocketService.listenPonPorts(this.eventname)),this.IsDuplicate?this.getRtData():(this.getRtData(),this.send("IPFIX_PORT",this.WSRequestObj),this.webSocketService.listenPonPorts("IPFIX_PORT")),this.replay||this.webSocketService.setPonportsInfo({monitorId:this.monitorId,region:this.region,location:this.location,system:this.system,port:this.ponPorts,windowLen:this.windowLen,IsDuplicate:this.IsDuplicate,Position:this.Position,startTime:this.WSRequestObj.startTime,replay:!0,regionUuid:this.regionUuid,locationUuid:this.locationUuid,systemUuid:this.systemUuid});let e=this;document.addEventListener("visibilitychange",function(){if(!document.hidden){let t=e.webSocketService.getPonportsInfo().filter(t=>{if(t.monitorId===e.monitorId)return t}),i={orgId:e.orgId,monitorType:"PORT",networkId:e.orgid_tenantid,monitorId:t[0].monitorId,graphType:"TRF",replay:"true",port:t[0].monitorId,region:t[0].region,location:t[0].location,system:t[0].system,startTime:t[0].startTime,endTime:(new Date).getTime(),regionUuid:t[0].regionUuid,locationUuid:t[0].locationUuid,systemUuid:t[0].systemUuid};e.eventname="IPFIX_REPLAY_"+t[0].monitorId,e.webSocketService.listenPonPorts(e.eventname),e.send("IPFIX_PORT",i)}}),this.reConnectWebSocket()}ngOnChanges(e){e.selectedTime&&e.selectedTime.currentValue&&(this.selectedTime=e.selectedTime.currentValue)}ngOnDestroy(){this.streamSubscription&&this.streamSubscription.unsubscribe(),this.languageSubject&&this.languageSubject.unsubscribe(),this.cacheDataSubscription&&this.cacheDataSubscription.unsubscribe(),this.interval&&(clearInterval(this.interval),this.interval=null),this.reConnectSubscription&&this.reConnectSubscription.unsubscribe()}closeChart(){this.valueChange.emit({monitorId:this.monitorId,Position:this.Position,region:this.region,location:this.location})}send(e,t){this.webSocketService.emitPonports(e,t)}getRtData(){this.streamSubscription&&this.streamSubscription.unsubscribe(),this.streamSubscription=this.webSocketService.ponPortsStreamData$.subscribe(e=>{this.showRealTime=!0,e.ifName===this.monitorId&&e.region===this.region&&(this.lastSubscriptionTime=(new Date).getTime(),this.data=e)}),this.cacheDataSubscription=this.webSocketService.cachePonportData$.subscribe(e=>{e.monitorId===this.eventname&&(this.cachePacketData=e.packet,this.cacheRateData=e.rate)})}calculateSubscriptiontime(){this.interval=setInterval(()=>{(new Date).getTime()-this.lastSubscriptionTime>=3e4&&(this.data.maxRate=[0,0],this.data.packet=[0,0])},15e3)}reConnectWebSocket(){this.reConnectSubscription&&this.reConnectSubscription.unsubscribe(),this.webSocketService.connectWS$.subscribe(e=>{if(e&&this.webSocketService.WebSocketServer.hasDisconnectedOnce){this.webSocketService.listenPonPorts("IPFIX_PORT"),this.send("IPFIX_PORT",this.WSRequestObj);let e=this.webSocketService.getPonportsInfo();console.log(e,"ponPortList");let t=e.filter(e=>{if(e.monitorId===this.monitorId)return e}),i={orgId:this.orgId,monitorType:"PORT",networkId:this.orgid_tenantid,monitorId:t[0].monitorId,graphType:"TRF",replay:"true",port:t[0].monitorId,region:t[0].region,location:t[0].location,system:t[0].system,startTime:t[0].startTime,endTime:(new Date).getTime(),regionUuid:t[0].regionUuid,locationUuid:t[0].locationUuid,systemUuid:t[0].systemUuid};this.eventname="IPFIX_REPLAY_"+t[0].monitorId,this.webSocketService.listenPonPorts(this.eventname),this.send("IPFIX_PORT",i)}})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(u.t6),d.Y36(m.i),d.Y36(g.s))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-ponport-chart"]],inputs:{monitorId:"monitorId",windowLen:"windowLen",selectedTime:"selectedTime",IsDuplicate:"IsDuplicate",Position:"Position",location:"location",region:"region",system:"system",ponPorts:"ponPorts",startTime:"startTime",replay:"replay",regionUuid:"regionUuid",locationUuid:"locationUuid",systemUuid:"systemUuid"},outputs:{valueChange:"valueChange"},features:[d.TTD],decls:13,vars:8,consts:[[1,"row","mt-3",3,"id"],[1,"col-md-12","px-0"],[1,"mwc-header","flex","w-100","border-bottom","mb-2"],["data-toggle","tooltip","data-placement","top",1,"cco-secondary-title","title-tooltip",3,"title"],[1,"mwc-btns","flex","align-items-center"],["type","button","aria-label","Close",1,"close","m-2",3,"click"],["aria-hidden","true"],[1,"d-flex","justify-content-between","md-block"],[1,"col-12","col-md-12","pr-0","pl-0","col-lg-6","mpb-3"],["id","health-network-realtime-rate","class","card m-10",4,"ngIf"],[1,"col-12","col-md-12","pr-0","col-lg-6"],["id","health-network-realtime-packet","class","card m-10",4,"ngIf"],["id","health-network-realtime-rate",1,"card","m-10"],["id","ngx-stream-path-chart-rate",1,""],[3,"chartName","yAxixTitle","data","time","windowLen","selectedFilter","history",4,"ngIf"],[3,"chartName","yAxixTitle","data","time","windowLen","selectedFilter","history"],["id","health-network-realtime-packet",1,"card","m-10"],["id","ngx-stream-path-chart-packet",1,""]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d._uU(4),d.qZA(),d.TgZ(5,"div",4),d.TgZ(6,"button",5),d.NdJ("click",function(){return t.closeChart()}),d._UZ(7,"span",6),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"div",7),d.TgZ(9,"div",8),d.YNc(10,P,3,1,"div",9),d.qZA(),d.TgZ(11,"div",10),d.YNc(12,A,3,1,"div",11),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.MGl("id","ponports-",t.ponPorts,""),d.xp6(3),d.s9C("title",t.ponPorts),d.xp6(1),d.HOy(" ",t.ponPorts," (",t.region,"/",t.location,"/",t.system,") "),d.xp6(6),d.Q6J("ngIf",t.data.maxRate.length||t.showRealTime),d.xp6(2),d.Q6J("ngIf",t.data.packet.length||t.showRealTime))},directives:[n.O5,l.Q],styles:[".cco-secondary-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.mwc-btns[_ngcontent-%COMP%]{justify-content:flex-end}.mwc-header[_ngcontent-%COMP%]{justify-content:space-between;margin-bottom:20px}"]}),e})();const q=["showInfoModal"];function _(e,t){if(1&e&&(d.TgZ(0,"div",7),d._uU(1),d.qZA()),2&e){const e=d.oxw();d.xp6(1),d.hij(" ",e.language["Access denied due to RBAC. Please consult your Organization Administrator for access."],"\n")}}function I(e,t){if(1&e&&(d.TgZ(0,"ng-option",31),d._uU(1),d.qZA()),2&e){const e=t.$implicit,i=d.oxw(2);d.Q6J("value",e.id),d.xp6(1),d.Oqu(i.language[e.name])}}function N(e,t){if(1&e&&(d.TgZ(0,"div",32),d._uU(1),d.qZA()),2&e){const e=t.item;d.s9C("title",e.name?e.name:e),d.xp6(1),d.hij("",e.name?e.name:e," ")}}function C(e,t){if(1&e&&(d.TgZ(0,"div",32),d._uU(1),d.qZA()),2&e){const e=t.item;d.s9C("title",e.name?e.name:e),d.xp6(1),d.hij("",e.name?e.name:e," ")}}function k(e,t){if(1&e&&(d.TgZ(0,"div",32),d._uU(1),d.qZA()),2&e){const e=t.item;d.s9C("title",e.name?e.name:e),d.xp6(1),d.hij("",e.name?e.name:e," ")}}function U(e,t){if(1&e&&(d.TgZ(0,"div",32),d._uU(1),d.qZA()),2&e){const e=t.item;d.s9C("title",e.name?e.name:e),d.xp6(1),d.hij("",e.name?e.name:e," ")}}function D(e,t){if(1&e&&(d.TgZ(0,"div",32),d._uU(1),d.qZA()),2&e){const e=t.item;d.s9C("title",e.name?e.name:e),d.xp6(1),d.hij("",e.name?e.name:e," ")}}function R(e,t){if(1&e&&(d.TgZ(0,"div",32),d._uU(1),d.qZA()),2&e){const e=t.item;d.s9C("title",e.name?e.name:e),d.xp6(1),d.hij("",e.name?e.name:e," ")}}const M=function(){return{standalone:!0}};function E(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",8),d.TgZ(1,"div",9),d.TgZ(2,"div",10),d.TgZ(3,"div",11),d.TgZ(4,"div",12),d.TgZ(5,"div",13),d.TgZ(6,"label",14),d._uU(7),d.qZA(),d.TgZ(8,"div",15),d.TgZ(9,"ng-select",16),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().selectedOption=t}),d.YNc(10,I,2,2,"ng-option",17),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"div",13),d.TgZ(12,"label",14),d._uU(13),d.qZA(),d.TgZ(14,"div",18),d.TgZ(15,"ng-select",19),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().regionSelected=t})("ngModelChange",function(t){return d.CHM(e),d.oxw().loadLocationValue(t)}),d.YNc(16,N,2,2,"ng-template",20),d.YNc(17,C,2,2,"ng-template",21),d.qZA(),d.qZA(),d.qZA(),d.TgZ(18,"div",13),d.TgZ(19,"label",14),d._uU(20),d.qZA(),d.TgZ(21,"div",22),d.TgZ(22,"ng-select",23),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().locationSelected=t})("ngModelChange",function(t){return d.CHM(e),d.oxw().loadSystemValue(t)}),d.YNc(23,k,2,2,"ng-template",20),d.YNc(24,U,2,2,"ng-template",21),d.qZA(),d.qZA(),d.qZA(),d.TgZ(25,"div",13),d.TgZ(26,"label",14),d._uU(27),d.qZA(),d.TgZ(28,"div",24),d.TgZ(29,"ng-select",25),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().systemSelected=t})("ngModelChange",function(t){return d.CHM(e),d.oxw().selectSystem(t)}),d.YNc(30,D,2,2,"ng-template",20),d.YNc(31,R,2,2,"ng-template",21),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(32,"div",26),d.TgZ(33,"div",27),d.TgZ(34,"button",28),d.NdJ("click",function(){return d.CHM(e),d.oxw().applyFilter()}),d._uU(35),d.qZA(),d.qZA(),d.TgZ(36,"div",29),d.TgZ(37,"button",30),d.NdJ("click",function(){return d.CHM(e),d.oxw().clearFilter()}),d._uU(38),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(7),d.hij(" ",e.language.TTimeFrame,""),d.xp6(2),d.s9C("placeholder",e.language.interval),d.Q6J("searchable",!1)("ngModel",e.selectedOption),d.xp6(1),d.Q6J("ngForOf",e.ddoptions),d.xp6(3),d.hij("",e.language.region," "),d.xp6(2),d.s9C("placeholder",e.language.region),d.Q6J("ngModel",e.regionSelected)("items",e.regionsDataArray)("ngModelOptions",d.DdM(28,M))("clearable",!1)("searchable",!0),d.xp6(5),d.hij("",e.language.Location," "),d.xp6(2),d.s9C("placeholder",e.language.Location),d.Q6J("ngModel",e.locationSelected)("items",e.locationDataArray)("ngModelOptions",d.DdM(29,M))("clearable",!1)("searchable",!0),d.xp6(5),d.Oqu(e.language.System),d.xp6(2),d.s9C("placeholder",e.language.System),d.Q6J("ngModel",e.systemSelected)("items",e.systemDataArray)("ngModelOptions",d.DdM(30,M))("clearable",!1)("searchable",!0),d.xp6(6),d.hij(" ",e.language.apply," "),d.xp6(3),d.hij(" ",e.language.Clear_Filters," ")}}function L(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",33),d.TgZ(1,"span",34),d._UZ(2,"img",35),d.qZA(),d.TgZ(3,"span"),d._uU(4),d.qZA(),d.TgZ(5,"button",36),d.NdJ("click",function(){return d.CHM(e),d.oxw().closeAlert()}),d._UZ(6,"span"),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(4),d.Oqu(e.errorMessage)}}function j(e,t){if(1&e&&(d.TgZ(0,"div",39),d.TgZ(1,"div",40),d.TgZ(2,"div",41),d.TgZ(3,"span",42),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){const e=d.oxw(2);d.xp6(4),d.Oqu(e.language.Loading)}}function F(e,t){if(1&e&&(d.TgZ(0,"div",37),d.YNc(1,j,5,1,"div",38),d.qZA()),2&e){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",e.loading)}}function W(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.TgZ(11,"div",82),d.TgZ(12,"span",83),d.TgZ(13,"i",84),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw(2).ponPortsChart(t,"shrinkView")}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=t.$implicit,i=d.oxw(2);d.xp6(2),d.Oqu(e.system),d.xp6(2),d.Oqu(e.ifName),d.xp6(2),d.AsE("",e.region,"/",e.location,""),d.xp6(2),d.Oqu(i.bitsToSize(e.value,!1)),d.xp6(2),d.hij("",i.calculateDownPercentage(e)," ")}}function Y(e,t){if(1&e&&(d.TgZ(0,"tr",85),d.TgZ(1,"td",86),d._uU(2),d.qZA(),d.qZA()),2&e){const e=d.oxw(2);d.xp6(2),d.Oqu(e.language["No data available"])}}function J(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.TgZ(11,"div",82),d.TgZ(12,"span",83),d.TgZ(13,"i",84),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw(2).ponPortsChart(t,"shrinkView")}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=t.$implicit,i=d.oxw(2);d.xp6(2),d.Oqu(e.system),d.xp6(2),d.Oqu(e.ifName),d.xp6(2),d.AsE("",e.region,"/",e.location,""),d.xp6(2),d.Oqu(i.bitsToSize(e.value,!1)),d.xp6(2),d.hij("",i.calculateUpPercentage(e)," ")}}function H(e,t){if(1&e&&(d.TgZ(0,"tr",85),d.TgZ(1,"td",86),d._uU(2),d.qZA(),d.qZA()),2&e){const e=d.oxw(2);d.xp6(2),d.Oqu(e.language["No data available"])}}function Q(e,t){if(1&e&&d._uU(0),2&e){const e=t.item,i=d.oxw(2);d.hij(" ",i.language[e.name]," ")}}function V(e,t){if(1&e&&d._uU(0),2&e){const e=t.item,i=d.oxw(2);d.hij(" ",i.language[e.name]," ")}}function $(e,t){if(1&e&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&e){const e=d.oxw(2);d.xp6(1),d.Oqu(e.language.Top_PON_Ports_by_Upstream_Capacity)}}function X(e,t){if(1&e&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&e){const e=d.oxw(2);d.xp6(1),d.Oqu(e.language.Top_PON_Ports_by_Downstream_Capacity)}}function z(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._uU(12),d.TgZ(13,"div",82),d.TgZ(14,"span",83),d.TgZ(15,"i",84),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw(2).ponPortsChart(t,"expandedView")}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=t.$implicit,i=d.oxw(2);d.xp6(2),d.Oqu(e.system),d.xp6(2),d.hij("",e.ifName," "),d.xp6(2),d.Oqu(e.region),d.xp6(2),d.Oqu(e.location),d.xp6(2),d.Oqu(i.bitsToSize(e.value,!1)),d.xp6(2),d.hij("","TPP_UP"==i.fsName?i.calculateUpPercentage(e):i.calculateDownPercentage(e)," ")}}function G(e,t){if(1&e&&(d.TgZ(0,"tr",85),d.TgZ(1,"td",87),d._uU(2),d.qZA(),d.qZA()),2&e){const e=d.oxw(2);d.xp6(2),d.hij("",e.language["No data available"]," ")}}function B(e,t){if(1&e&&d._UZ(0,"app-stream-chart",91),2&e){const e=d.oxw(3);d.Q6J("chartName",e.language.RATE)("yAxixTitle",e.rateUnit)("data",e.data.maxRate)("time",e.data.sendTime)("windowLen",e.windowLen)("selectedFilter",e.selectedTime)("selectedRegion",e.selectedRegion)("selectedLocation",e.selectedLocation)("selectedSystem",e.selectedSystem)("history",e.cacheRateData)}}function K(e,t){if(1&e&&(d.TgZ(0,"div",88),d.TgZ(1,"div",89),d.YNc(2,B,1,10,"app-stream-chart",90),d.qZA(),d.qZA()),2&e){const e=d.oxw(2);d.xp6(2),d.Q6J("ngIf",e.data.maxRate&&e.showRealTime)}}function ee(e,t){if(1&e&&d._UZ(0,"app-stream-chart",91),2&e){const e=d.oxw(3);d.Q6J("chartName",e.language.PACKET)("yAxixTitle",e.packetUnit)("data",e.data.packet)("time",e.data.sendTime)("windowLen",e.windowLen)("selectedFilter",e.selectedTime)("selectedRegion",e.selectedRegion)("selectedLocation",e.selectedLocation)("selectedSystem",e.selectedSystem)("history",e.cachePacketData)}}function te(e,t){if(1&e&&(d.TgZ(0,"div",92),d.TgZ(1,"div",93),d.YNc(2,ee,1,10,"app-stream-chart",90),d.qZA(),d.qZA()),2&e){const e=d.oxw(2);d.xp6(2),d.Q6J("ngIf",e.data.packet&&e.showRealTime)}}function ie(e,t){if(1&e){const e=d.EpF();d.ynx(0),d.TgZ(1,"app-ponport-chart",95),d.NdJ("valueChange",function(t){return d.CHM(e),d.oxw(3).clearChartContainer(t)}),d.qZA(),d.BQk()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.xp6(1),d.Q6J("windowLen",e.windowLen)("selectedTime",t.selectedTime)("monitorId",e.monitorId)("Position",e.Position)("region",e.region)("location",e.location)("system",e.system)("ponPorts",e.port)("IsDuplicate",e.IsDuplicate)("startTime",e.startTime)("replay",e.replay)("locationUuid",e.locationUuid)("regionUuid",e.regionUuid)("systemUuid",e.systemUuid)}}function ne(e,t){if(1&e&&(d.TgZ(0,"div",94),d.YNc(1,ie,2,14,"ng-container",68),d.qZA()),2&e){const e=t.$implicit,i=d.oxw(2);d.xp6(1),d.Q6J("ngIf",i.fsView?"expandedView"==e.viewType:"shrinkView"==e.viewType)}}function se(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"section",43),d.TgZ(1,"div",44),d.TgZ(2,"div",45),d.TgZ(3,"div",46),d.TgZ(4,"div",47),d.TgZ(5,"div",48),d._uU(6),d.qZA(),d.TgZ(7,"span",49),d.NdJ("click",function(){return d.CHM(e),d.oxw().fullscreen("TPP_DOWN")}),d.qZA(),d.qZA(),d.TgZ(8,"h5",50),d._uU(9),d.qZA(),d.TgZ(10,"div",51),d.TgZ(11,"table",52),d.TgZ(12,"thead"),d.TgZ(13,"tr"),d.TgZ(14,"th"),d._uU(15),d.qZA(),d.TgZ(16,"th"),d._uU(17),d.qZA(),d.TgZ(18,"th"),d._uU(19),d.qZA(),d.TgZ(20,"th",53),d._uU(21),d.qZA(),d.TgZ(22,"th"),d._uU(23),d.qZA(),d.qZA(),d.qZA(),d.TgZ(24,"tbody"),d.YNc(25,W,14,6,"tr",54),d.YNc(26,Y,3,1,"tr",55),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(27,"div",56),d.TgZ(28,"div",47),d.TgZ(29,"div",48),d._uU(30),d.qZA(),d.TgZ(31,"span",57),d.NdJ("click",function(){return d.CHM(e),d.oxw().fullscreen("TPP_UP")}),d.qZA(),d.qZA(),d.TgZ(32,"h5",50),d._uU(33),d.qZA(),d.TgZ(34,"div",51),d.TgZ(35,"table",58),d.TgZ(36,"thead"),d.TgZ(37,"tr"),d.TgZ(38,"th"),d._uU(39),d.qZA(),d.TgZ(40,"th"),d._uU(41),d.qZA(),d.TgZ(42,"th"),d._uU(43),d.qZA(),d.TgZ(44,"th",53),d._uU(45),d.qZA(),d.TgZ(46,"th"),d._uU(47),d.qZA(),d.qZA(),d.qZA(),d.TgZ(48,"tbody"),d.YNc(49,J,14,6,"tr",54),d.YNc(50,H,3,1,"tr",55),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(51,"div",59),d.TgZ(52,"div",37),d.TgZ(53,"div",60),d.TgZ(54,"div",61),d.TgZ(55,"div",62),d.TgZ(56,"div",37),d.TgZ(57,"div",63),d.TgZ(58,"div",64),d.TgZ(59,"ng-select",65),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().selectedTopLength=t})("change",function(){return d.CHM(e),d.oxw().changeTopLength()}),d.YNc(60,Q,1,1,"ng-template",20),d.YNc(61,V,1,1,"ng-template",21),d.qZA(),d.qZA(),d.qZA(),d.TgZ(62,"div",66),d.TgZ(63,"div",67),d.YNc(64,$,2,1,"span",68),d.YNc(65,X,2,1,"span",68),d.TgZ(66,"span",69),d.NdJ("click",function(){return d.CHM(e),d.oxw().closeFullscreen()}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(67,"div",70),d.TgZ(68,"table",71),d.TgZ(69,"thead"),d.TgZ(70,"tr"),d.TgZ(71,"th"),d._uU(72),d.qZA(),d.TgZ(73,"th"),d._uU(74),d.qZA(),d.TgZ(75,"th"),d._uU(76),d.qZA(),d.TgZ(77,"th"),d._uU(78),d.qZA(),d.TgZ(79,"th",53),d._uU(80),d.qZA(),d.TgZ(81,"th"),d._uU(82),d.qZA(),d.qZA(),d.qZA(),d.TgZ(83,"tbody"),d.YNc(84,z,16,6,"tr",54),d.YNc(85,G,3,1,"tr",55),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(86,"div",45),d.TgZ(87,"div",72),d._UZ(88,"div",73),d.TgZ(89,"div",74),d.TgZ(90,"h5",50),d._uU(91),d.qZA(),d.qZA(),d.TgZ(92,"div",75),d.TgZ(93,"div",76),d.YNc(94,K,3,1,"div",77),d.qZA(),d.TgZ(95,"div",78),d.YNc(96,te,3,1,"div",79),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(97,"div",80),d.YNc(98,ne,2,1,"div",81),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(2),d.Q6J("hidden",e.fsView),d.xp6(3),d.s9C("title",e.language.Top_PON_Ports_by_Downstream_Capacity),d.xp6(1),d.hij(" ",e.language.Top_PON_Ports_by_Downstream_Capacity," "),d.xp6(1),d.s9C("title",e.language.lossofpon_fullscreen_tip),d.xp6(2),d.hij(" ",e.language["Health_Real Time_Top PON ports"],""),d.xp6(6),d.Oqu(e.language.System),d.xp6(2),d.Oqu(e.language.Pon_Port),d.xp6(2),d.AsE("",e.language.region,"/",e.language.Location,""),d.xp6(2),d.Oqu(e.language.Value),d.xp6(2),d.hij("%",e.language.HUtilization,""),d.xp6(2),d.Q6J("ngForOf",e.TPPDownStreamData),d.xp6(1),d.Q6J("ngIf",0==e.TPPDownStreamData.length),d.xp6(3),d.s9C("title",e.language.Top_PON_Ports_by_Upstream_Capacity),d.xp6(1),d.hij(" ",e.language.Top_PON_Ports_by_Upstream_Capacity," "),d.xp6(1),d.s9C("title",e.language.lossofpon_fullscreen_tip),d.xp6(2),d.hij(" ",e.language["Health_Real Time_Top PON ports"],""),d.xp6(6),d.Oqu(e.language.System),d.xp6(2),d.Oqu(e.language.Pon_Port),d.xp6(2),d.AsE("",e.language.region,"/",e.language.Location,""),d.xp6(2),d.Oqu(e.language.Value),d.xp6(2),d.hij("%",e.language.HUtilization,""),d.xp6(2),d.Q6J("ngForOf",e.TPPUpStreamData),d.xp6(1),d.Q6J("ngIf",0==e.TPPUpStreamData.length),d.xp6(1),d.Q6J("hidden",!e.fsView),d.xp6(8),d.Q6J("items",e.topLengths)("multiple",!1)("ngModel",e.selectedTopLength)("ngModelOptions",d.DdM(48,M))("clearable",!1)("searchable",!1),d.xp6(5),d.Q6J("ngIf","TPP_UP"==e.fsName),d.xp6(1),d.Q6J("ngIf","TPP_DOWN"==e.fsName),d.xp6(1),d.s9C("title",e.language.lossofpon_fullscreen_close_tip),d.xp6(6),d.Oqu(e.language.System),d.xp6(2),d.Oqu(e.language.Pon_Port),d.xp6(2),d.Oqu(e.language.region),d.xp6(2),d.Oqu(e.language.Location),d.xp6(2),d.Oqu(e.language.Value),d.xp6(2),d.hij("% ",e.language.HUtilization,""),d.xp6(2),d.Q6J("ngForOf",e.TPPStreamData),d.xp6(1),d.Q6J("ngIf",0==e.TPPStreamData.length),d.xp6(1),d.Q6J("hidden",e.fsView),d.xp6(5),d.Oqu(e.language.HealthPONRealtimeRateDelay),d.xp6(3),d.Q6J("ngIf",e.data.maxRate.length||e.showRealTime),d.xp6(2),d.Q6J("ngIf",e.data.packet.length||e.showRealTime),d.xp6(2),d.Q6J("ngForOf",e.ponPortsChartList)}}function oe(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",96),d.TgZ(1,"h5",97),d._uU(2),d.qZA(),d.TgZ(3,"div"),d._uU(4),d.qZA(),d.TgZ(5,"button",98),d.NdJ("click",function(){return d.CHM(e),d.oxw().close()}),d._UZ(6,"span",99),d.qZA(),d.qZA(),d.TgZ(7,"div",100),d.TgZ(8,"button",101),d.NdJ("click",function(){return d.CHM(e),d.oxw().close()}),d._uU(9),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(2),d.Oqu(e.modalTitle),d.xp6(2),d.hij(" ",e.modalInfo," "),d.xp6(5),d.hij(" ",e.language.Ok," ")}}i(65424)(a);const ae=[{path:"",component:(()=>{class e{constructor(e,t,i,n,s,o,r,l,h,d,g,u){this.translateService=e,this.sso=t,this.webSocketService=i,this.NfaService=n,this.chRef=s,this.convertor=o,this.dialogService=r,this.router=l,this.titleService=h,this.healthService=d,this.httpClient=g,this.commonOrgService=u,this.showChart=!1,this.showChart1=!1,this.dtTrigger=new c.xQ,this.dtTrigger1=new c.xQ,this.tableOptions={searching:!1,lengthChange:!1,lengthMenu:[5],pageLength:5,ordering:!1,retrieve:!0,paging:!1,info:!1},this.up="Up",this.down="Down",this.fsView=!1,this.fsChartDetails="",this.errorMessage="",this.pageAvailable=!1,this.applyRebuild=!1,this.Highcharts=a,this.rate="",this.packet="",this.windowLen=5,this.ddoptions=[{id:1,name:"5 minutes"},{id:2,name:"10 minutes"}],this.selectedOption=1,this.selectedTime=1,this.showRealTime=!0,this.loading=!0,this.data={maxRate:[],packet:[]},this.rateUnit="bps",this.packetUnit="pps",this.cachePacketData={},this.cacheRateData={},this.healthNetWSRequestObj={orgId:"",monitorType:"NET",networkId:"",monitorId:"",graphType:"TRF,TPP",region:"",location:"",regionUuid:"",locationUuid:""},this.regionsDataArray=["All"],this.locationDataArray=["All"],this.systemDataArray=["All"],this.TPPOverallData={UpStream:[],DownStream:[]},this.TPPUpStreamData=[],this.TPPDownStreamData=[],this.topLengths=[{name:"Top 5 PON Ports",value:5},{name:"Top 10 PON Ports",value:10},{name:"Top 20 PON Ports",value:20},{name:"Top 30 PON Ports",value:30}],this.selectedTopLength=5,this.TPPStreamData=[],this.systemRealtimeChartData=[],this.isRebuild=!1,this.ponPortsChartList=[],this.errorEventName="error_ipfix_NET",this.hasScopeAccess=!1,this.tPPData={},this.connectionError=!1,this.connectionErrorInfo="",this.frTable=this.translateService.fr}ngOnInit(){this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.titleService.setTitle(`${this.language["Real Time"]} - ${this.language.PON} - ${this.language.Health} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`${this.language["Real Time"]} - ${this.language.PON} - ${this.language.Health} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`);let e=this;document.addEventListener("visibilitychange",function(){if(!document.hidden){let t=e.webSocketService.getHealthMonitorType(),i=e.webSocketService.getHealthCurrentMonitorInfo(t);if(i){if(i&&i.monitorId){let t={orgId:i.orgId,monitorType:i.monitorType,networkId:i.networkId,monitorId:i.monitorId,graphType:"TRF",replay:"true",region:i.region,location:i.location,startTime:i.startTime,endTime:(new Date).getTime(),regionUuid:i.regionUuid,locationUuid:i.locationUuid};"SYS"==i.monitorType&&(t.system=i.system,t.systemUuid=i.systemUuid),e.send(e.currentEventName,t)}e.webSocketService.healthListen("IPFIX_REPLAY")}}});let t=this.sso.getScopes();if(h.N.VALIDATE_SCOPE?t["cloud.rbac.coc.health.pon.realtime"]&&(this.hasScopeAccess=!0):this.hasScopeAccess=!0,!this.hasScopeAccess)return void this.sso.setPageAccess(!1);if(this.sso.setPageAccess(!0),this.webSocketConnectionError(),this.calculateSubscriptiontime(),this.healthService.isReport&&(this.healthService.previousUrl.includes("/uplink")||this.healthService.previousUrl.includes("/ont")))return void this.router.navigate(["/cco/health/pon-utilization/overview/basic"]);this.healthService.isReport=!1,this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.up=this.language.Up,this.down=this.language.Down,setTimeout(()=>{this.reDraw()},200)}),this.showModalInfo(),this.tableLanguageOptions(),this.chRef.detectChanges(),this.dtTrigger.next(),this.dtTrigger1.next(),this.getRtData(),this.orgId=this.sso.getOrgId(),this.orgid_tenantid=this.orgId+"_0",this.currentEventName="IPFIX_NET",this.regionsApiLoader(),this.healthNetWSRequestObj.orgId=this.orgId,this.healthNetWSRequestObj.networkId=this.orgid_tenantid,this.healthNetWSRequestObj.monitorId=this.orgid_tenantid;let i=this.webSocketService.getPonportsInfo();i.length>0&&(this.ponPortsChartList=Object.assign([],i));let n=this.webSocketService.getHealthMonitorType();if(n&&this.webSocketService.getHealthCurrentMonitorInfo(n)){let e=this.webSocketService.getHealthCurrentMonitorInfo(n);if(e&&e.monitorId){let t={orgId:e.orgId,monitorType:e.monitorType,networkId:e.networkId,monitorId:e.monitorId,graphType:"TRF",replay:"true",region:e.region,location:e.location,startTime:e.startTime,endTime:(new Date).getTime(),regionUuid:e.regionUuid,locationUuid:e.locationUuid};"REG"==e.monitorType&&(this.currentEventName="IPFIX_REG"),"LOC"==e.monitorType&&(this.currentEventName="IPFIX_LOC"),"SYS"==e.monitorType&&(this.currentEventName="IPFIX_SYS",t.system=e.system,t.systemUuid=e.systemUuid);let i=this.webSocketService.getFilterValues();return i&&(this.selectedOption=i.selectedOption,this.selectedTime=this.selectedOption,this.regionName=i.regionName,this.regionSelected=i.regionId,i.regionId?(this.loadLocationValue(""),setTimeout(()=>{this.locationName=i.locationName,this.locationSelected=i.locationId,i.regionId&&i.locationId?(this.loadSystemValue(""),setTimeout(()=>{this.systemName=i.SYS,this.systemSelected=i.systemId,i.systemId||(this.systemSelected="All")},500)):this.locationSelected="All"},500)):this.regionSelected="All"),this.errorEventName="error",this.currentEventName.split("_").forEach(e=>{this.errorEventName="IPFIX"===e?this.errorEventName+"_"+e.toLowerCase():this.errorEventName+"_"+e}),this.webSocketService.healthListen(this.currentEventName),this.webSocketService.healthListen(this.errorEventName),this.selectedOption=this.selectedOption?this.selectedOption:1,this.selectedTime=this.selectedTime?this.selectedTime:1,this.send(this.currentEventName,t),this.webSocketService.healthListen("IPFIX_REPLAY"),void this.webSocketService.setHealthMonitorType(this.currentEventName.split("_").pop())}}else this.webSocketService.connectWS$.subscribe(e=>{e&&!this.webSocketService.WebSocketServer.hasDisconnectedOnce&&(this.send("remove","IPFIX_NET"),this.webSocketService.healthListen(this.currentEventName),this.webSocketService.healthListen("error_ipfix_NET"),this.send(this.currentEventName,this.healthNetWSRequestObj))}),this.webSocketService.setHealthMonitorType("NET");setTimeout(()=>{this.webSocketService.setHealthWindowLen(this.selectedOption)},500),this.webSocketService.setFilterValues(this.selectedTime,this.selectedOption,"selectedTime","selectedOption"),this.reConnectWebSocket()}send(e,t){this.webSocketService.healthEmit(e,t)}applyFilter(){var e,t,i;this.rtSubscription&&this.rtSubscription.unsubscribe(),this.ratePacketStreamSubscription&&this.ratePacketStreamSubscription.unsubscribe();const n=this.webSocketService.getHealthMonitorType(),s=Object.assign({},this.webSocketService.healthConnectionTypes[n]);this.selectedTime=this.selectedOption;let o=this.ponPortsChartList.filter(e=>this.systemSelected&&"All"!==this.systemSelected?e.region===this.regionName&&e.location===this.locationName&&e.system===this.systemName:this.locationSelected&&"All"!==this.locationSelected?e.region===this.regionName&&e.location===this.locationName:this.regionSelected&&"All"!==this.regionSelected?e.region===this.regionName:void 0);this.ponPortsChartList=[],this.webSocketService.ponPortsList=[],this.ponPortsChartList.length>0&&this.send("remove","IPFIX_PORT"),setTimeout(()=>{this.ponPortsChartList=Object.assign([],o)},500);this.currentEventName="IPFIX_NET",this.healthNetWSRequestObj.region="",this.healthNetWSRequestObj.location="",this.healthNetWSRequestObj.system="",this.healthNetWSRequestObj.regionUuid="",this.healthNetWSRequestObj.locationUuid="",this.healthNetWSRequestObj.systemUuid="",this.healthNetWSRequestObj.monitorType="NET",this.healthNetWSRequestObj.monitorId=this.orgid_tenantid,this.webSocketService.setFilterValues(this.selectedTime,this.selectedOption,"selectedTime","selectedOption"),this.regionSelected&&"All"!==this.regionSelected?(this.healthNetWSRequestObj.region=this.regionName?this.regionName:"",this.healthNetWSRequestObj.regionUuid=null!==(e=this.regionSelected)&&void 0!==e?e:"",this.webSocketService.setFilterValues(this.regionName,this.regionSelected,"regionName","regionId"),this.healthNetWSRequestObj.monitorType="REG",this.healthNetWSRequestObj.monitorId=this.regionName,this.currentEventName="IPFIX_REG"):this.webSocketService.deleteFilterValues("regionName","regionId"),this.locationSelected&&"All"!==this.locationSelected?(this.healthNetWSRequestObj.location=this.locationName?this.locationName:"",this.healthNetWSRequestObj.locationUuid=null!==(t=this.locationSelected)&&void 0!==t?t:"",this.webSocketService.setFilterValues(this.locationName,this.locationSelected,"locationName","locationId"),this.healthNetWSRequestObj.monitorType="LOC",this.healthNetWSRequestObj.monitorId=this.locationName,this.currentEventName="IPFIX_LOC"):this.webSocketService.deleteFilterValues("locationName","locationId"),this.systemSelected&&"All"!==this.systemSelected?(this.healthNetWSRequestObj.monitorType="SYS",this.healthNetWSRequestObj.monitorId=this.systemName,this.healthNetWSRequestObj.system=this.systemName,this.healthNetWSRequestObj.systemUuid=null!==(i=this.systemSelected)&&void 0!==i?i:"",this.webSocketService.setFilterValues(this.systemName,this.systemSelected,"systemName","systemId"),this.currentEventName="IPFIX_SYS"):this.webSocketService.deleteFilterValues("systemName","systemId"),void 0===n&&(this.webSocketService.setHealthMonitorType(this.healthNetWSRequestObj.monitorType),this.send(this.currentEventName,this.healthNetWSRequestObj)),n!==this.healthNetWSRequestObj.monitorType||n===this.healthNetWSRequestObj.monitorType&&s.monitorId!==this.healthNetWSRequestObj.monitorId||!this.isSameFilters(this.healthNetWSRequestObj,s)?(this.webSocketService.getHealthMonitorType()&&this.send("remove","IPFIX_"+this.webSocketService.getHealthMonitorType()),this.webSocketService.setHealthMonitorType(this.healthNetWSRequestObj.monitorType),this.send(this.currentEventName,this.healthNetWSRequestObj)):(s.endTime=(new Date).getTime(),s.replay="true",this.send(this.currentEventName,s),this.webSocketService.healthListen("IPFIX_REPLAY")),this.webSocketService.setHealthWindowLen(this.selectedOption),this.errorEventName="error",this.currentEventName.split("_").forEach(e=>{this.errorEventName="IPFIX"===e?this.errorEventName+"_"+e.toLowerCase():this.errorEventName+"_"+e}),this.selectedRegion="IPFIX_REG"==this.currentEventName?this.regionSelected:"",this.selectedLocation="IPFIX_LOC"==this.currentEventName?this.locationSelected:"",this.selectedSystem="IPFIX_SYS"==this.currentEventName?this.systemSelected:"",this.webSocketService.healthListen(this.currentEventName),this.webSocketService.healthListen(this.errorEventName),this.applyRebuild&&(this.isRebuild=!0),this.getRtData(),setTimeout(()=>{this.loading=!1},15e3)}isSameFilters(e,t){return e.regionUuid==t.regionUuid&&e.locationUuid==t.locationUuid&&e.systemUuid==t.systemUuid}clearFilter(){"All"!==this.regionSelected&&(this.isRebuild=!0),this.selectedOption=1,this.selectedTime=1,this.regionSelected="All",this.locationSelected="All",this.systemSelected="All",this.locationDataArray=["All"],this.systemDataArray=["All"],this.rtSubscription&&this.rtSubscription.unsubscribe(),this.ratePacketStreamSubscription&&this.ratePacketStreamSubscription.unsubscribe(),this.webSocketService.filterValues={},this.webSocketService.filterValues.selectedTime=1,this.webSocketService.filterValues.selectedOption=1,this.applyFilter()}fullscreen(e){this.fsView=!0,this.fsName=e,this.makeTPPCurrentData()}closeFullscreen(){this.selectedTopLength=5,this.fsView=!1,this.fsName="",this.ponPortsChartList.forEach(e=>{e.viewType="shrinkView"}),this.TPPUpStreamData=this.TPPOverallData.UpStream.slice(0,5),this.TPPDownStreamData=this.TPPOverallData.DownStream.slice(0,5)}changeTopLength(){this.makeTPPCurrentData()}makeTPPCurrentData(){this.TPPStreamData=("TPP_DOWN"==this.fsName?this.TPPOverallData.DownStream:this.TPPOverallData.UpStream).slice(0,this.selectedTopLength?this.selectedTopLength:5)}regionsApiLoader(){this.regionSelected="All",this.locationSelected="All",this.systemSelected="All",this.regionsSubject=this.NfaService.GetRegions().subscribe(e=>{this.regionsDataArray=["All"];let t={};e.forEach(e=>{t[e.name]=(t[e.name]||0)+1}),e.forEach((e,i)=>{var n;e.regionName=e.name,t[e.name]>1&&(e.name=e.name+" ("+(null===(n=e.fqn)||void 0===n?void 0:n.split("=")[1].split(",")[0])+")")}),e.sort((e,t)=>(e.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})),this.regionsDataArray=[...this.regionsDataArray,...e]},e=>{})}loadLocationValue(e){let t=this.regionSelected;this.locationSelected="All",this.systemSelected="All",this.locationDataArray=["All"],this.regionSelected&&"All"!=this.regionSelected&&(this.locationsSubject=this.NfaService.GetLocations(t).subscribe(e=>{this.locationDataArray=[...this.locationDataArray,...e]},e=>{})),this.regionsDataArray.forEach(e=>{e.id==this.regionSelected&&(this.regionName=e.regionName)}),"All"==this.regionSelected&&(this.regionName=null,this.locationName=null,this.systemName=null,this.regionSelected="All",this.locationSelected="All",this.systemSelected="All",this.locationDataArray=["All"],this.systemDataArray=["All"]),this.applyRebuild=!0}loadSystemValue(e){this.systemSelected="All",this.systemDataArray=["All"],this.locationSelected&&this.regionSelected&&"All"!=this.locationSelected&&(this.systemsSubject=this.NfaService.GetSystems(this.regionSelected,this.locationSelected,"pon").subscribe(e=>{this.systemDataArray=[...this.systemDataArray,...e]},e=>{})),this.locationDataArray.forEach(e=>{e.id==this.locationSelected&&(this.locationName=e.name)}),"All"==this.locationSelected&&(this.locationName=null,this.systemName=null,this.systemSelected="All",this.systemDataArray=["All"]),this.applyRebuild=!0}selectSystem(e){this.systemDataArray.forEach(e=>{e.uuid==this.systemSelected&&(this.systemName=e.name)}),"All"==this.systemSelected&&(this.systemName=null),this.applyRebuild=!0}closeStreamChartscreen(e,t){var i=this.systemRealtimeChartData.findIndex(e=>e.index===t);i>-1&&this.systemRealtimeChartData.splice(i,1),0==this.systemRealtimeChartData.length&&(this.showChart=!1)}tableLanguageOptions(){sessionStorage.getItem("defaultLanguage")&&"fr"==sessionStorage.getItem("defaultLanguage")?this.tableOptions.language=this.frTable:delete this.tableOptions.language}reDraw(){}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe(),this.dtTrigger.unsubscribe(),this.dtTrigger1.unsubscribe(),this.rtSubscription&&this.rtSubscription.unsubscribe(),this.ratePacketStreamSubscription&&this.ratePacketStreamSubscription.unsubscribe(),this.cacheDataSubscription&&this.cacheDataSubscription.unsubscribe(),this.webSocketService.clearHealthReplayData(),window.location.pathname.includes("cco/health")||this.webSocketService.clearHealthInfo(),this.interval&&(clearInterval(this.interval),this.interval=null),this.reConnectSubscription&&this.reConnectSubscription.unsubscribe(),this.connectionErSubscription&&this.connectionErSubscription.unsubscribe(),this.webSocketService.shouldReflow=!1}checkCurrentMonitorTypeData(e,t){return!e||!t||(e.confData.system=e.confData.system?e.confData.system:"",t.system=t.system?t.system:"",e.confData.region===t.region&&e.confData.location===t.location&&e.confData.system===t.system)}getRtData(){this.rtSubscription&&this.rtSubscription.unsubscribe(),this.ratePacketStreamSubscription&&this.ratePacketStreamSubscription.unsubscribe(),this.cacheDataSubscription&&this.cacheDataSubscription.unsubscribe(),this.cacheDataSubscription=this.webSocketService.healthCacheData$.subscribe(e=>{console.log("cache data subscription",e),this.cachePacketData=e.packet,this.cacheRateData=e.rate,this.connectionError=!1}),this.ratePacketStreamSubscription=this.webSocketService.healthRatePacketStreamData$.subscribe(e=>{console.log(`subscription data ${new Date}`,e),this.isRebuild&&(this.clearTPPdata(),this.isRebuild=!1,this.applyRebuild=!1,this.streamChild.forEach(e=>{e.removePrevious()})),this.showRealTime=!0;let t=this.webSocketService.getHealthMonitorType(),i=this.webSocketService.getHealthCurrentMonitorInfo(t);e.monitorType&&e.monitorType.includes(t)&&this.checkCurrentMonitorTypeData(e,i)&&"TRF"===e.graphType&&(this.loading=!1,this.connectionError=!1,this.data=e,this.lastSubscriptionTime=(new Date).getTime(),this.showRealTime=!0)}),setTimeout(()=>{this.rtSubscription=this.webSocketService.healthRtData$.subscribe(e=>{let t=this.webSocketService.getHealthMonitorType(),i=this.webSocketService.getHealthCurrentMonitorInfo(t);e.monitorType&&e.monitorType.includes(t)&&this.checkCurrentMonitorTypeData(e,i)&&"TPP"==e.graphType&&(this.loading=!1,this.connectionError=!1,this.tPPData=e,this.makeTPPEvents(e))})},800)}dataSplit(e){return e?(e.map((t,i)=>{e[i].system=e[i].system.split("@")[1]?e[i].system.split("@")[1]:e[i].system}),e):[]}makeTPPEvents(e){if(e){this.TPPOverallData.DownStream=e.downData.length>0?e.downData:[],this.TPPOverallData.UpStream=e.upData.length>0?e.upData:[];let t=this.selectedTopLength?this.selectedTopLength:5;this.TPPUpStreamData=this.TPPOverallData.UpStream.slice(0,t),this.TPPDownStreamData=this.TPPOverallData.DownStream.slice(0,t),this.fsView&&this.makeTPPCurrentData()}}clearTPPdata(){this.TPPOverallData.DownStream=[],this.TPPOverallData.UpStream=[],this.TPPUpStreamData=this.TPPOverallData.DownStream,this.TPPDownStreamData=this.TPPOverallData.UpStream}rerender(){this.dtElements.forEach(e=>{e.dtInstance.then(e=>{e.destroy(),this.dtTrigger.next()})})}bitsToSize(e,t){let i=e,n=["bps","Kbps","Mbps","Gbps","Tbps"];if(0==i)return"0 bps";var s=Math.floor(Math.log(i)/Math.log(1e3));return t?Math.round(i/Math.pow(1e3,s))+" "+n[s]:a.numberFormat(Math.abs(i/Math.pow(1e3,s)),2)+" "+n[s]}showModalInfo(){this.webSocketService.showModalInfo$.subscribe(e=>{this.router.url.includes("/cco/health/pon-utilization/realtime")&&(this.modalTitle=this.language["Internet Disconnected"],this.modalInfo=this.language["Please checking the network cables, modem, and router"],this.modalRef=this.dialogService.open(this.showInfoModal,{size:"lg",centered:!0,windowClass:"custom-modal",backdrop:"static",keyboard:!1}))})}close(){this.modalRef.close(),window.location.reload()}calculateDownPercentage(e){let t=0;return t=e.ifName.includes("gp")?e.value/2488e6*100:e.value/1e10*100,t.toFixed(2)}calculateUpPercentage(e){let t=0;return t=e.ifName.includes("gp")?e.value/1244e6*100:e.value/1e10*100,t.toFixed(2)}ponPortsChart(e,t){this.httpClient.get(`${h.N.API_BASE_URL}nfa/systems/details?offset=0&limit=100&name=${e.system}&exactNameMatch=true`).subscribe(i=>{const n=i.devices.find(t=>t.name===e.system);let s=!1,o=0;this.ponPortsChartList.length>0&&this.ponPortsChartList.forEach(i=>{i.monitorId===e.ifName&&i.region===e.region&&i.location===e.location&&(i.viewType=t,s=!0,o+=1)}),s||(this.ponPortsChartList.push({monitorId:e.ifName,region:e.region,location:e.location,system:e.system,port:e.ifName,windowLen:this.windowLen,IsDuplicate:s,Position:o,startTime:null,replay:!1,viewType:t,regionUuid:n.regionuuid,locationUuid:n.locationuuid,systemUuid:n.uuid}),this.ponPortsChartList=[...this.ponPortsChartList]),setTimeout(()=>{document.getElementById("ponports-"+e.ifName).scrollIntoView({behavior:"smooth"})},500)},e=>{this.errorMessage=this.errorHandler(e)})}errorHandler(e){return this.scrollTop(),this.errorMessage=e.error?e.error.errorDesc?e.error.errorDesc:500==e.error.status?"Internal Server Error":"Unknown Error"==e.error.statusText&&0==e.error.status?"An unknown error has occurred. Refresh the page to try again":e.error.status&&401==e.error.status?"User Unauthorized":e.error.message?e.error.message:e.error:this.commonOrgService.pageErrorHandle(e),this.errorMessage}clearChartContainer(e){var t;(t=this.ponPortsChartList.findIndex(t=>t.monitorId===e.monitorId&&t.region===e.region&&t.location===e.location))>-1&&this.ponPortsChartList.splice(t,1),(t=this.webSocketService.ponPortsList.findIndex(t=>t.monitorId===e.monitorId&&t.region===e.region&&t.location===e.location))>-1&&this.webSocketService.ponPortsList.splice(t,1)}calculateSubscriptiontime(){this.interval=setInterval(()=>{(new Date).getTime()-this.lastSubscriptionTime>=3e4&&(this.data.maxRate=[0,0],this.data.packet=[0,0],this.TPPUpStreamData=[],this.TPPDownStreamData=[],this.TPPOverallData.DownStream=[],this.TPPOverallData.UpStream=[],this.tPPData&&(this.tPPData.downData=[],this.tPPData.upData=[],this.webSocketService.healthRtData$.next(this.tPPData)))},15e3)}webSocketConnectionError(){this.connectionErSubscription&&this.connectionErSubscription.unsubscribe(),this.webSocketService.wsConnectionError$.subscribe(e=>{e&&!0===e&&(this.loading=!1,this.connectionError=!0,this.connectionErrorInfo="Web Socket connection failed")}),this.webSocketService.healthWSNoResponse$.subscribe(e=>{e&&!0===e.isError&&e.type===this.errorEventName&&(this.loading=!1,this.connectionError=!0,this.connectionErrorInfo="No Data Available")})}closeAlert(){this.connectionError=!1,this.connectionErrorInfo="",this.errorMessage=""}reConnectWebSocket(){this.reConnectSubscription&&this.reConnectSubscription.unsubscribe(),this.webSocketService.connectWS$.subscribe(e=>{if(e&&this.webSocketService.WebSocketServer.hasDisconnectedOnce){this.webSocketService.healthListen(this.currentEventName),this.webSocketService.healthListen(this.errorEventName),this.webSocketService.healthListen("IPFIX_REPLAY"),this.send(this.currentEventName,this.healthNetWSRequestObj);let e=this.webSocketService.getHealthMonitorType(),t=this.webSocketService.getHealthCurrentMonitorInfo(e);if(t&&t&&t.monitorId){let e={orgId:t.orgId,monitorType:t.monitorType,networkId:t.networkId,monitorId:t.monitorId,graphType:"TRF",replay:"true",region:t.region,location:t.location,startTime:t.startTime,endTime:(new Date).getTime(),regionUuid:t.regionUuid,locationUuid:t.locationUuid};"SYS"==t.monitorType&&(e.system=t.system,e.systemUuid=t.systemUuid),this.send(this.currentEventName,e)}this.getRtData()}})}scrollTop(){window.scroll({top:0,left:0,behavior:"smooth"})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(g.s),d.Y36(u.t6),d.Y36(m.i),d.Y36(p.w),d.Y36(d.sBO),d.Y36(b.R),d.Y36(S.FF),d.Y36(o.F0),d.Y36(T.Dx),d.Y36(f.z),d.Y36(w.eN),d.Y36(v.v))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-realtime"]],viewQuery:function(e,t){if(1&e&&(d.Gf(q,7),d.Gf(r.G,5),d.Gf(l.Q,5)),2&e){let e;d.iGM(e=d.CRH())&&(t.showInfoModal=e.first),d.iGM(e=d.CRH())&&(t.dtElements=e),d.iGM(e=d.CRH())&&(t.streamChild=e)}},decls:7,vars:5,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","container px-0","id","pon-Real-Time-filter",4,"ngIf"],["class","w-100 alert alert-danger fade show",4,"ngIf"],["class","row",4,"ngIf"],["class","mt-3",4,"ngIf"],["class","col-md-12"],["showInfoModal",""],["role","alert",1,"alert","alert-warning"],["id","pon-Real-Time-filter",1,"container","px-0"],[1,"filter-elemnts"],[1,"row","mb-1"],[1,"col-12","col-md-12","p-0"],[1,"current-issue-menu-container"],[1,"current-issue-menu-item","mt-4","col-12","col-sm-6","col-md-3","col-lg-3"],["for","Name",1,"col-form-label","select-font"],["id","current-issues-interval",1,"w-100"],[3,"searchable","placeholder","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","current-issues-region",1,"w-100"],["bindValue","id","bindLabel","name",1,"selectboxwidth",3,"ngModel","items","ngModelOptions","clearable","searchable","placeholder","ngModelChange"],["ng-label-tmp",""],["ng-option-tmp",""],["id","current-issues-location",1,"w-100"],["bindValue","id","bindLabel","name",1,"selectboxwidth",3,"ngModel","items","placeholder","ngModelOptions","clearable","searchable","ngModelChange"],["id","current-issues-System",1,"custom-selectbox","w-100"],["bindValue","uuid","bindLabel","name",1,"selectboxwidth",3,"ngModel","items","placeholder","ngModelOptions","clearable","searchable","ngModelChange"],[1,"col-12","col-md-12","text-left","mt-4"],[1,"d-inline-flex","mr-3"],["type","button",1,"btn-default","primary",3,"click"],[1,"d-inline-flex"],["type","button","id","#",1,"btn-default","btn-dft",3,"click"],[3,"value"],[1,"text-truncate",3,"title"],[1,"w-100","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close","mt-10",3,"click"],[1,"row"],["class","loader",4,"ngIf"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"mt-3"],[1,"container"],[1,"row",3,"hidden"],["id","pon-Real-Time-Downstream-Capacity",1,"col-sm-12","col-md-12","col-lg-6","col-xl-6"],[1,"cco-secondary-title","border-bottom","text-sm-ellipse"],[1,"overflw-title",3,"title"],["data-toggle","tooltip","id","open-fullscreen-tppdown",1,"top5-fullscreen","pointer","pull-right","expand-icon",3,"title","click"],[1,"heading-subtitle","my-2"],[1,"cco-health-table","overflow-auto"],[1,"table","table-hover","table-striped","w-100"],[1,"sorting-th-custom","sorting-th-alt"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["id","pon-Real-Time-Upstream-Capacity",1,"col-sm-12","col-md-12","col-lg-6","col-xl-6"],["data-toggle","tooltip","id","open-fullscreen-tpp-up",1,"top5-fullscreen","pointer","pull-right","expand-icon",3,"title","click"],[1,"table","table","table-hover","table-striped","w-100"],[1,"bg-light","h-auto",3,"hidden"],[1,"col-md-12","col-12"],[1,"card","h-auto"],[1,"board_head"],[1,"col-sm-12","col-md-12","col-lg-3","col-xl-3"],[1,"orange-text-wrapper","mt-2","pl-2"],["id","usage_criteria","bindLabel","name","bindValue","value","placeholder","",1,"realtime-custom-select",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],[1,"col-sm-12","col-md-12","col-lg-9","col-xl-9"],[1,"cco-secondary-title","mx-1"],[4,"ngIf"],["data-toggle","tooltip","id","close-fullscreen-top-endpoints",1,"top5-fullscreen","pointer","pull-right","mr-3","expand-inverted-icon","mt-2",3,"title","click"],[1,"card-body","row","board_body","no-gutters","overflow-auto","cco-health-table"],[1,"table","table-striped","row-border","hover","w-100"],[1,"col-md-12","mt-2"],[1,"cco-secondary-title","border-bottom"],[1,"w-100"],[1,"d-flex","justify-content-between","md-block"],[1,"col-12","col-md-12","pr-0","pl-0","col-lg-6","mpb-3"],["id","health-network-realtime-rate","class","card m-10",4,"ngIf"],[1,"col-12","col-md-12","pr-0","col-lg-6"],["id","health-network-realtime-packet","class","card m-10",4,"ngIf"],[1,"row","mt-5"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"test"],[1,"mx-2"],[1,"primary","fas","fa-plus",3,"click"],[1,"text-center"],["colspan","5"],["colspan","6"],["id","health-network-realtime-rate",1,"card","m-10"],["id","ngx-stream-path-chart-rate",1,""],[3,"chartName","yAxixTitle","data","time","windowLen","selectedFilter","selectedRegion","selectedLocation","selectedSystem","history",4,"ngIf"],[3,"chartName","yAxixTitle","data","time","windowLen","selectedFilter","selectedRegion","selectedLocation","selectedSystem","history"],["id","health-network-realtime-packet",1,"card","m-10"],["id","ngx-stream-path-chart-packet",1,""],[1,"col-md-12"],[3,"windowLen","selectedTime","monitorId","Position","region","location","system","ponPorts","IsDuplicate","startTime","replay","locationUuid","regionUuid","systemUuid","valueChange"],[1,"modal-header","d-block"],["id","showInfoModal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","add-device-model"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3","px-3",3,"click"]],template:function(e,t){1&e&&(d.YNc(0,_,2,1,"div",0),d.YNc(1,E,39,31,"div",1),d.YNc(2,L,7,1,"div",2),d.YNc(3,F,2,1,"div",3),d.YNc(4,se,99,49,"section",4),d.YNc(5,oe,10,3,"ng-template",5,6,d.W1O)),2&e&&(d.Q6J("ngIf",!t.hasScopeAccess),d.xp6(1),d.Q6J("ngIf",t.hasScopeAccess),d.xp6(1),d.Q6J("ngIf",t.errorMessage),d.xp6(1),d.Q6J("ngIf",t.hasScopeAccess),d.xp6(1),d.Q6J("ngIf",t.hasScopeAccess))},directives:[n.O5,s.w9,Z.JJ,Z.On,n.sg,s.bb,s.Z2,s.xv,l.Q,O],styles:['@charset "UTF-8";.health-pon-menu-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:wrap;justify-content:space-between;align-items:center}.health-pon-menu-item[_ngcontent-%COMP%]{flex-grow:1;border-left:3px solid #cdcdcd}.health-pon-menu-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600}.health-pon-menu-item[_ngcontent-%COMP%]   .menu-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.health-pon-menu-item[_ngcontent-%COMP%]   .red[_ngcontent-%COMP%]{color:#ff3600}.health-pon-menu-item[_ngcontent-%COMP%]   .orange[_ngcontent-%COMP%]{color:#fc7235}.health-pon-menu-item[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]{color:#72b4ff}.health-pon-menu-item[_ngcontent-%COMP%]   .yellow[_ngcontent-%COMP%]{color:#f3b426}.health-pon-menu-item[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{color:#82bf00}.btn-secondary[_ngcontent-%COMP%]{color:#5f6165!important;background-color:#f8f8fa!important;border-color:#f8f8fa!important;padding:3px \\200b 10px}.all-icon[_ngcontent-%COMP%]{font-size:10px;color:#9c9c9c;line-height:31px}.undo-icon[_ngcontent-%COMP%]{background-color:#f8f8fa;padding:3px;color:#9e9e9e;border-radius:15px;margin:2px;font-size:17px;cursor:pointer;width:30px;height:30px;text-align:center}.current-issue-menu-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;aling-items:center;margin:0;justify-self:start}.current-issue-menu-item[_ngcontent-%COMP%]{flex-grow:0;width:16%}.subscriber-trends-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.subscriber-trends-item[_ngcontent-%COMP%]{flex-grow:1;width:calc(100% / 3)}.subscriber-trends-item[_ngcontent-%COMP%] + .subscriber-trends-item[_ngcontent-%COMP%]{margin-left:5%}.cco-health-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:none}.cco-health-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .test[_ngcontent-%COMP%]{display:block;font-size:13px;cursor:pointer;float:right}.cco-secondary-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}@media screen and (max-width: 767px){.subscriber-trends-wrapper[_ngcontent-%COMP%]{display:block}.subscriber-trends-item[_ngcontent-%COMP%]{width:100%}.subscriber-trends-item[_ngcontent-%COMP%] + .subscriber-trends-item[_ngcontent-%COMP%]{margin-left:0%!important}.md-block[_ngcontent-%COMP%]{display:block!important}.mpb-3[_ngcontent-%COMP%]{padding-bottom:15px}}@media screen and (min-width: 768px) and (max-width: 1140px){.subscriber-trends-wrapper[_ngcontent-%COMP%]{display:block}.subscriber-trends-item[_ngcontent-%COMP%]{width:100%}.subscriber-trends-item[_ngcontent-%COMP%] + .subscriber-trends-item[_ngcontent-%COMP%]{margin-left:0%!important}.md-block[_ngcontent-%COMP%]{display:block!important}.mpb-3[_ngcontent-%COMP%]{padding-bottom:15px}}.expand-icon[_ngcontent-%COMP%]{background-color:#ebeaef;color:#ebeaef;width:25px;height:25px;border-radius:20px;font-size:1px;text-align:center;line-height:24px;font-weight:normal;justify-content:center;background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg);background-position:50%;background-repeat:no-repeat}.expand-inverted-icon[_ngcontent-%COMP%]{background-color:#ebeaef;color:#ebeaef;width:25px;height:25px;border-radius:20px;font-size:1px;text-align:center;line-height:24px;font-weight:normal;justify-content:center;background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg);background-position:50%;background-repeat:no-repeat}.text-sm-ellipse[_ngcontent-%COMP%]{position:relative}.text-sm-ellipse[_ngcontent-%COMP%]   .overflw-title[_ngcontent-%COMP%]{padding-right:30px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.text-sm-ellipse[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0px}.sorting-th-alt[_ngcontent-%COMP%]:after{bottom:8px!important;right:auto!important;margin-left:6px;height:16px!important}']}),e})()}];let re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[o.Bz.forChild(ae)],o.Bz]}),e})();var ce=i(48292);let le=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[n.ez,s.A0,re,r.T,ce.m,Z.u5]]}),e})()},48292:function(e,t,i){i.d(t,{m:function(){return g}});var n=i(38583),s=i(3679),o=i(18638),a=i(25317),r=i(23830),c=i(86640),l=i(94555),h=i(23771),d=i(37716);let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[n.ez,c.A0,s.u5,o._8,a.l,r.o,l.kx,h.T]]}),e})()}}]);