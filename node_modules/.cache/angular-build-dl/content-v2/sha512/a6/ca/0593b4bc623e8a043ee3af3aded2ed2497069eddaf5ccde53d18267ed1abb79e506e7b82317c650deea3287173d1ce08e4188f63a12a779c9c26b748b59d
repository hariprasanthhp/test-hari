"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[4144],{5457:function(t,e,i){i.d(e,{w:function(){return T}});var o=i(96718),n=i(89097),a=i(37716),r=i(10298),s=i(39895),l=i(36826),g=i(12664),d=i(7450),c=i(49342),h=i(53668),p=i(39075),u=i(20904),m=i(38583),b=i(3679);const f=["errorModal"],_=["successModal"];function Z(t,e){if(1&t&&(a.TgZ(0,"div",29),a.TgZ(1,"div",30),a.TgZ(2,"div",31),a.TgZ(3,"span",32),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=a.oxw();a.xp6(4),a.Oqu(t.language.Loading)}}function v(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",33),a.TgZ(1,"span",34),a._UZ(2,"img",35),a.qZA(),a.TgZ(3,"strong"),a._uU(4),a.qZA(),a._uU(5),a.TgZ(6,"button",36),a.NdJ("click",function(){return a.CHM(t),a.oxw().showError=!1}),a._UZ(7,"span"),a.qZA(),a.qZA()}if(2&t){const t=a.oxw();a.xp6(4),a.hij("",t.language.Error,"!"),a.xp6(1),a.hij(" ",t.errorMsg,". ")}}function x(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"button",37),a.NdJ("click",function(){return a.CHM(t),a.oxw().add()}),a._uU(1),a.qZA()}if(2&t){const t=a.oxw();a.Q6J("disabled",t.loader),a.xp6(1),a.hij(" ",t.language.submit," ")}}function A(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",38),a.TgZ(1,"h4",39),a._uU(2),a.qZA(),a.TgZ(3,"button",40),a.NdJ("click",function(){return a.CHM(t),a.oxw().close()}),a._UZ(4,"span",41),a.qZA(),a.qZA(),a.TgZ(5,"div",42),a.TgZ(6,"p"),a._uU(7),a.qZA(),a.qZA(),a.TgZ(8,"div",43),a.TgZ(9,"button",44),a.NdJ("click",function(){return a.CHM(t),a.oxw().close()}),a._uU(10),a.qZA(),a.qZA()}if(2&t){const t=a.oxw();a.xp6(2),a.Oqu(t.language.Info),a.xp6(5),a.Oqu(t.errorMsg),a.xp6(3),a.hij(" ",t.language.Close," ")}}function C(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",38),a.TgZ(1,"h4",39),a._uU(2),a.qZA(),a.TgZ(3,"button",40),a.NdJ("click",function(){return a.CHM(t),a.oxw().close()}),a._UZ(4,"span",41),a.qZA(),a.qZA(),a.TgZ(5,"div",42),a.TgZ(6,"p"),a._uU(7),a.qZA(),a.qZA(),a._UZ(8,"div",43)}if(2&t){const t=a.oxw();a.xp6(2),a.Oqu(t.language.Info),a.xp6(5),a.Oqu(t.successMsg)}}const I=i(91704);let T=(()=>{class t{constructor(t,e,i,o,n,a,r,s,l,g,d,c,h){this.vcRef=t,this.cpService=e,this.routerService=i,this.route=o,this.service=n,this.dialogService=a,this.sso=r,this.translateService=s,this.commonOrgService=l,this.router=g,this.organizationApiService=d,this.titleService=c,this.common=h,this.editMode=!1,this.title="Add",this.name="",this.showError=!1,this.color="#e920e9",this.bodyFontColor="#FFDDDD",this.loader=!1,this.showCreateBtn=!1,this.isShad=!0,this.REDIRECT_URL="/organization-admin",this.commonOrgService.currentPageAdder("block_page");let p=this.router.url;-1===p.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(p),this.REDIRECT_URL=this.sso.getRedirectModule(p),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID),this.SPID||this.getAdminOrgInfo()):this.SPID=this.sso.getSPID(),p.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings")}onEventLog(t,e){}onChangeColor(t){}onChangeColorCmyk(t){const e=this.cpService.stringToHsva(t);if(e){const t=this.cpService.hsvaToRgba(e);return this.cpService.rgbaToCmyk(t)}return new o.Tg(0,0,0,0)}onChangeColorHex8(t){const e=this.cpService.stringToHsva(t,!0);return e?this.cpService.outputFormat(e,"rgba",null):""}ngOnInit(){let t=this.sso.getScopes();-1!==this.router.url.indexOf("/shad/")?t["cloud.shad.service"]&&-1!==t["cloud.shad.service"].indexOf("write")&&(this.showCreateBtn=!0):this.sso.checkAdminScopes(n.Nc.WRITE)&&(this.showCreateBtn=!0),this.id=this.route.snapshot.paramMap.get("id"),null!=this.id&&(this.title="Update",this.editMode=!0),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t,this.titleService.setTitle(`${this.language["Add Block Template"]} - ${"systemAdministration"===this.REDIRECT_URL?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`${this.language["Add Block Template"]} - ${"systemAdministration"===this.REDIRECT_URL?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}ngOnDestroy(){this.languageSubject.unsubscribe(),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe()}getAdminOrgInfo(){this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(t=>{this.orgIdResponse=t,this.sso.setAdminOrgInfo(t),t&&t.spId&&(this.SPID=t.spId)},t=>{})}preview(){this.routerService.blockPageView()}goToBlockPageList(){this.router.navigate(this.isShad?["/shad/block_page_template_list"]:[`/${this.REDIRECT_URL}/block_page_template_list`])}getbodyFontColor(){}addError(t){this.showError=!0,this.errorMsg=t}hideError(){this.showError=!1,this.errorMsg=""}readURL(t,e){let i;if(t.files&&t.files[0]){let o=new FileReader;o.onload=t=>{i=t.target.result,localStorage.setItem(e,i)},o.readAsDataURL(t.files[0])}}add(){var t,e;let i;const o=document.getElementById("body_bg_image"),n=document.getElementById("logo");var a={};if(this.loader)return;if(a.name=this.name,a.header_bg=this.color,a.bodyFontColor=this.bodyFontColor,!a.name)return void this.addError(this.language["Please enter the name"]);if(!a.header_bg)return void this.addError(this.language["Please enter the Logo Back Ground Color"]);if(n&&!(null===(t=n.files)||void 0===t?void 0:t[0]))return void this.addError(this.language["Please upload Header Logo image"]);if(o&&!(null===(e=o.files)||void 0===e?void 0:e[0]))return void this.addError(this.language["Please upload Back Ground Image"]);a.name=a.name.replace(/['"]+/g,"");var r=new FormData,s=I("input[name='logo']").get(0).files;if(s.length){var l=s[0].name.split(".").pop();if(-1==(d=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(l)){var g=d.join(", ");return void this.addError(this.language.Image_extension_will_be+g+this.language.file_format)}I.each(s,function(t,e){r.append("logoImage",e)})}if(!a.bodyFontColor)return void this.addError(this.language["Please enter the Body Font Color"]);if(i=I("input[name='body_bg_image']").get(0).files,i.length){var d;if(l=i[0].name.split(".").pop(),-1==(d=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(l))return g=d.join(", "),void this.addError(this.language.Image_extension_will_be+g+this.language.file_format);I.each(i,function(t,e){r.append("backgroundImage",e)})}r.append("name",a.name);let c=a.header_bg.indexOf("#"),h=a.bodyFontColor.indexOf("#");0===c&&(a.header_bg=a.header_bg.replace("#","")),0===h&&(a.bodyFontColor=a.bodyFontColor.replace("#","")),r.append("logoBgColor",a.header_bg),r.append("bodyFontColor",a.bodyFontColor),r.append("spid",this.SPID),this.loader=!0,this.service.add(r).subscribe(t=>{this.addResponse=t,this.loader=!1,this.modalRef=this.dialogService.open(this.successModal),this.successMsg=this.language["Block page added successfully"],setTimeout(()=>{this.close(),this.goToBlockPageList()},1e3)},t=>{this.loader=!1,this.addError(t.statusText)})}viewPreview(){let t,e={};if(e.name=this.name,e.logoBgColor=this.color,e.bodyFontColor=this.bodyFontColor,e.logoBgColor){var i=I("input[name='logo']").get(0).files;if(i.length){var o=i[0].name.split(".").pop();if(-1!=(n=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(o))if(e.bodyFontColor)if(t=I("input[name='body_bg_image']").get(0).files,t.length){var n;o=t[0].name.split(".").pop(),-1!=(n=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(o)?(e.logoImage=localStorage.getItem("logo"),e.bodyBgImage=localStorage.getItem("body_bg_image"),localStorage.setItem("params",JSON.stringify(e)),this.preview()):(a=n.join(", "),this.addError(this.language.Image_extension_will_be+a+this.language.file_format))}else this.addError(this.language["Please upload Back Ground Image"]);else this.addError(this.language["Please enter the Body Font Color"]);else{var a=n.join(", ");this.addError(this.language.Image_extension_will_be+a+this.language.file_format)}}else this.addError(this.language["Please upload Header Logo image"])}else this.addError(this.language["Please enter the Logo Back Ground Color"])}loadErrorModal(){this.modalRef=this.dialogService.open(this.errorModal)}close(){this.modalRef.close()}removeUnwantedSpace(t,e){this[t]=this.common.trimSpaceFromNonObjectInputs(e)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.s_b),a.Y36(o.ee),a.Y36(r.c),a.Y36(s.gz),a.Y36(l.E),a.Y36(g.FF),a.Y36(n.t6),a.Y36(d.s),a.Y36(c.v),a.Y36(s.F0),a.Y36(h.F),a.Y36(p.Dx),a.Y36(u.i))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-block-page-template-create"]],viewQuery:function(t,e){if(1&t&&(a.Gf(f,7),a.Gf(_,7)),2&t){let t;a.iGM(t=a.CRH())&&(e.errorModal=t.first),a.iGM(t=a.CRH())&&(e.successModal=t.first)}},decls:69,vars:20,consts:[[1,"position-relative"],["class","loader",4,"ngIf"],[1,"main-card"],[1,"main-card-header","text-center","pt-3"],[1,"row",2,"margin-bottom","5%"],[1,"col-md-12"],[1,"modal-footer","border-reset"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"row","justify-content-md-center"],[1,"col-md-8"],["class","alert alert-warning alert-dismissible fade show","id","test","role","alert",4,"ngIf"],[1,"form-row","mb-4"],[1,"col-md-4"],[1,"label-control"],[1,"error"],[1,"col-md-4","ccl-form","pr-4"],["id","focusing","type","text","name","name","trimSpace","",3,"ngModel","ngModelChange","blur"],[3,"colorPicker","colorPickerChange"],["type","file","name","logo","id","logo",3,"title","change"],["logo",""],["name","bodyFontColor","id","bodyFontColor",3,"colorPicker","colorPickerChange"],[1,"form-row","mb-5"],["type","file","name","body_bg_image","id","body_bg_image",3,"change"],["body_bg_image",""],["type","button","class","btn btn-primary btn-sm",3,"disabled","click",4,"ngIf"],["class","col-md-8"],["errorModal",""],["successModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"],["id","test","role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"success-img"],["src","./assets/img/error-icon.svg"],["type","button",1,"close",3,"click"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",0),a.YNc(1,Z,5,1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"div",4),a.TgZ(5,"div",5),a.TgZ(6,"h6"),a._uU(7),a.qZA(),a.qZA(),a.qZA(),a.TgZ(8,"div",6),a.TgZ(9,"button",7),a.NdJ("click",function(){return e.viewPreview()}),a._uU(10),a.qZA(),a._uU(11,"\xa0 "),a.TgZ(12,"button",8),a.NdJ("click",function(){return e.goToBlockPageList()}),a._uU(13),a.qZA(),a.qZA(),a.qZA(),a.TgZ(14,"div",9),a.TgZ(15,"div",10),a.YNc(16,v,8,2,"div",11),a.TgZ(17,"form"),a.TgZ(18,"div",12),a.TgZ(19,"div",13),a.TgZ(20,"label",14),a.TgZ(21,"b"),a._uU(22),a.qZA(),a.TgZ(23,"span",15),a._uU(24,"*"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(25,"div",16),a.TgZ(26,"input",17),a.NdJ("ngModelChange",function(t){return e.name=t})("blur",function(){return e.removeUnwantedSpace("name",e.name)}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(27,"div",12),a.TgZ(28,"div",13),a.TgZ(29,"label",14),a.TgZ(30,"b"),a._uU(31),a.qZA(),a.qZA(),a.qZA(),a.TgZ(32,"div",10),a.TgZ(33,"input",18),a.NdJ("colorPickerChange",function(t){return e.color=t}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(34,"div",12),a.TgZ(35,"div",13),a.TgZ(36,"label",14),a.TgZ(37,"b"),a._uU(38),a.qZA(),a.TgZ(39,"span",15),a._uU(40,"*"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(41,"div",10),a.TgZ(42,"input",19,20),a.NdJ("change",function(){a.CHM(t);const i=a.MAs(43);return e.readURL(i,"logo")}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(44,"div",12),a.TgZ(45,"div",13),a.TgZ(46,"label",14),a.TgZ(47,"b"),a._uU(48),a.qZA(),a.qZA(),a.qZA(),a.TgZ(49,"div",10),a.TgZ(50,"input",21),a.NdJ("colorPickerChange",function(t){return e.bodyFontColor=t}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(51,"div",22),a.TgZ(52,"div",13),a.TgZ(53,"label",14),a.TgZ(54,"b"),a._uU(55),a.qZA(),a.TgZ(56,"span",15),a._uU(57,"*"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(58,"div",10),a.TgZ(59,"input",23,24),a.NdJ("change",function(){a.CHM(t);const i=a.MAs(60);return e.readURL(i,"body_bg_image")}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(61,"div",22),a._UZ(62,"div",13),a.TgZ(63,"div",10),a.YNc(64,x,2,2,"button",25),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(65,A,11,3,"ng-template",26,27,a.W1O),a.YNc(67,C,9,2,"ng-template",26,28,a.W1O)}2&t&&(a.xp6(1),a.Q6J("ngIf",e.loader),a.xp6(6),a.AsE("",e.language.add," ",e.language.Block_Template,""),a.xp6(3),a.hij(" ",e.language.Preview,""),a.xp6(3),a.hij(" ",e.language.Block_Page_Temp," "),a.xp6(3),a.Q6J("ngIf",e.showError),a.xp6(6),a.Oqu(e.language.Name),a.xp6(4),a.Q6J("ngModel",e.name),a.xp6(5),a.Oqu(e.language.Logo_Bckgrn_Color),a.xp6(2),a.Udp("background",e.color),a.Q6J("colorPicker",e.color),a.xp6(5),a.Oqu(e.language.Logo_Image),a.xp6(4),a.s9C("title",e.language["no file chosen"]),a.xp6(6),a.Oqu(e.language.Body_Font_Color),a.xp6(2),a.Udp("background",e.bodyFontColor),a.Q6J("colorPicker",e.bodyFontColor),a.xp6(5),a.Oqu(e.language.Back_Ground_Img),a.xp6(9),a.Q6J("ngIf",e.showCreateBtn))},directives:[m.O5,b._Y,b.JL,b.F,b.Fj,b.JJ,b.On,o.Kk],styles:["button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;pointer-events:all!important}.main-card-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.5rem}"]}),t})()},18202:function(t,e,i){i.d(e,{t:function(){return M}});var o=i(89097),n=i(37716),a=i(10298),r=i(36826),s=i(39895),l=i(12664),g=i(7450),d=i(49342),c=i(53668),h=i(39075),p=i(38583);const u=["deleteModal"],m=["defaultModal"],b=["defaultSuccessModal"],f=["deleteSuccessModal"];function _(t,e){if(1&t&&(n.TgZ(0,"div",13),n.TgZ(1,"div",14),n.TgZ(2,"div",15),n.TgZ(3,"span",16),n._uU(4),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(4),n.Oqu(t.language.Loading)}}function Z(t,e){if(1&t&&(n.TgZ(0,"div",17),n.TgZ(1,"span",18),n._UZ(2,"img",19),n.qZA(),n.TgZ(3,"strong"),n._uU(4),n.qZA(),n._uU(5),n.TgZ(6,"button",20),n._UZ(7,"span",21),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(4),n.hij("",t.language.Error,"!"),n.xp6(1),n.hij(" ",t.errorMsg,". ")}}function v(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"button",24),n.NdJ("click",function(){return n.CHM(t),n.oxw(2).addBlockPage()}),n._uU(1),n.qZA()}if(2&t){const t=n.oxw(2);n.xp6(1),n.hij(" ",t.language.Add_Block_Page," ")}}function x(t,e){if(1&t&&(n.TgZ(0,"div",22),n.YNc(1,v,2,1,"button",23),n.qZA()),2&t){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",t.showAddBtn)}}function A(t,e){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td",30),n._uU(2),n.qZA(),n.qZA()),2&t){const t=n.oxw(2);n.xp6(2),n.Oqu(t.language["No Data Available"])}}function C(t,e){if(1&t&&(n.TgZ(0,"div",25),n.TgZ(1,"table",26),n.TgZ(2,"thead"),n.TgZ(3,"tr"),n.TgZ(4,"th",27),n._uU(5),n.qZA(),n.TgZ(6,"th"),n._uU(7),n.qZA(),n.TgZ(8,"th"),n._uU(9),n.qZA(),n.TgZ(10,"th",27),n._uU(11),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"tbody",28),n.YNc(13,A,3,1,"tr",29),n.qZA(),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.Q6J("hidden",t.loader),n.xp6(5),n.Oqu(t.language.Name),n.xp6(2),n.Oqu(t.language.Block_Page_Template),n.xp6(2),n.Oqu(t.language.Updated_On),n.xp6(2),n.Oqu(t.language.Action),n.xp6(2),n.Q6J("ngIf",t.showNoDataAvail)}}function I(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",31),n.TgZ(1,"button",32),n.NdJ("click",function(){return n.CHM(t),n.oxw().loadRecords()})("click",function(){return n.CHM(t),n.oxw().loadRecords()}),n._uU(2),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.Q6J("hidden",t.loader),n.xp6(2),n.hij(" ",t.language.Show_More," ")}}function T(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",33),n.TgZ(1,"h4",34),n._uU(2),n.qZA(),n.TgZ(3,"button",35),n.NdJ("click",function(){return n.CHM(t),n.oxw().close()}),n._UZ(4,"span",21),n.qZA(),n.qZA(),n.TgZ(5,"div",36),n.TgZ(6,"p"),n._uU(7),n.qZA(),n.qZA(),n.TgZ(8,"div",37),n.TgZ(9,"button",38),n.NdJ("click",function(){return n.CHM(t),n.oxw().close()}),n._uU(10),n.qZA(),n.TgZ(11,"button",39),n.NdJ("click",function(){return n.CHM(t),n.oxw().deleteTemplate()}),n._uU(12),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(2),n.AsE(" ",t.language.Delete_Template," - ",t.templateName," "),n.xp6(5),n.AsE("",t.language.Delete_Temp_Msg," - ",t.templateName,"?"),n.xp6(3),n.hij(" ",t.language.No," "),n.xp6(1),n.Q6J("disabled",t.disableDeleteBtn),n.xp6(1),n.hij(" ",t.language.Yes," ")}}function w(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",33),n.TgZ(1,"h4",40),n._uU(2),n.qZA(),n.TgZ(3,"button",35),n.NdJ("click",function(){return n.CHM(t),n.oxw().close()}),n._UZ(4,"span",21),n.qZA(),n.qZA(),n.TgZ(5,"div",36),n.TgZ(6,"p"),n._uU(7),n.qZA(),n.qZA(),n.TgZ(8,"div",37),n.TgZ(9,"button",38),n.NdJ("click",function(){return n.CHM(t),n.oxw().close()}),n._uU(10),n.qZA(),n.TgZ(11,"button",39),n.NdJ("click",function(){return n.CHM(t),n.oxw().setDefaultTemplate()}),n._uU(12),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(2),n.AsE(" ",t.language.Set_Default_Template," - ",t.templateName," "),n.xp6(5),n.AsE("",t.language.Set_Temp_Msg," - ",t.templateName," ?"),n.xp6(3),n.hij(" ",t.language.No," "),n.xp6(1),n.Q6J("disabled",t.disableDefaultBtn),n.xp6(1),n.hij(" ",t.language.Yes," ")}}function P(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",33),n.TgZ(1,"h4",34),n._uU(2),n.qZA(),n.TgZ(3,"button",35),n.NdJ("click",function(){return n.CHM(t),n.oxw().close()}),n._UZ(4,"span",21),n.qZA(),n.qZA(),n.TgZ(5,"div",36),n.TgZ(6,"p"),n._uU(7),n.qZA(),n.qZA(),n.TgZ(8,"div",37),n.TgZ(9,"button",38),n.NdJ("click",function(){return n.CHM(t),n.oxw().close()}),n._uU(10),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(2),n.AsE(" ",t.language.Set_Default_Template," - ",t.templateName," "),n.xp6(5),n.AsE("",t.templateName," ",t.language.Update_Temp_Msg,""),n.xp6(3),n.hij(" ",t.language.Close," ")}}function y(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",33),n.TgZ(1,"h4",34),n._uU(2),n.qZA(),n.TgZ(3,"button",35),n.NdJ("click",function(){return n.CHM(t),n.oxw().close()}),n._UZ(4,"span",21),n.qZA(),n.qZA(),n.TgZ(5,"div",36),n.TgZ(6,"p"),n._uU(7),n.qZA(),n.qZA(),n._UZ(8,"div",37)}if(2&t){const t=n.oxw();n.xp6(2),n.AsE(" ",t.language.Delete," - ",t.templateName," "),n.xp6(5),n.Oqu(t.language.Delete_Suc_Msg)}}const O=i(91704);let M=(()=>{class t{constructor(t,e,i,o,n,a,r,s,l,g){this.routerService=t,this.service=e,this.router=i,this.dialogService=o,this.sso=n,this.translateService=a,this.zone=r,this.commonOrgService=s,this.organizationApiService=l,this.titleService=g,this.blockList=[],this.showLoadMoreBtn=!0,this.templateData={},this.loader=!0,this.showDeleteBtn=!1,this.showUpdateBtn=!1,this.showAddBtn=!1,this.disableDeleteBtn=!1,this.isShad=!0,this.REDIRECT_URL="/organization-admin",this.scroll=t=>{let e=0;e=O(".ng-star-inserted").scrollTop()},this.disableDefaultBtn=!1,this.error=!1,this.errorMsg="",this.service.setIntialData(),this.commonOrgService.currentPageAdder("block_page");let d=this.router.url;-1===d.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(d),this.REDIRECT_URL=this.sso.getRedirectModule(d),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID)):this.SPID=this.sso.getSPID(),d.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings")}ngOnInit(){let t=this.sso.getScopes();-1!==this.router.url.indexOf("/shad/")?t["cloud.shad.service"]&&-1!==t["cloud.shad.service"].indexOf("write")&&(this.showUpdateBtn=!0,this.showAddBtn=!0,this.showDeleteBtn=!0):this.sso.checkAdminScopes(o.Nc.WRITE)&&(this.showUpdateBtn=!0,this.showAddBtn=!0,this.showDeleteBtn=!0),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t,this.titleService.setTitle(`${this.language.Block_Page_Temp} - ${"systemAdministration"===this.REDIRECT_URL?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`${this.language.Block_Page_Temp} - ${"systemAdministration"===this.REDIRECT_URL?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`),this.loadRecords(),this.appendData(),this.windowScrollEvent()}onScroll(t){t.target.offsetHeight+t.target.scrollTop+10>=t.target.scrollHeight&&this.loadRecords()}addBlockPage(){this.router.navigate(this.isShad?["/shad/block_page_template"]:[`/${this.REDIRECT_URL}/block_page_template`])}viewBlockPage(){this.routerService.blockPageView()}updateBlockPage(t){this.routerService.blockPageUpdate(t)}loadRecords(){!this.showLoadMoreBtn||(this.SPID||this.isShad?this.service.getList(this.SPID):this.getOrgInfoSubs=this.organizationApiService.getOrgInfo(this.ADMIN_ORG_ID).subscribe(t=>{this.orgIdResponse=t,this.sso.setAdminOrgInfo(t),t&&t.spId&&(this.SPID=t.spId,this.service.getList(this.SPID))},t=>{}))}gotoView(t){let e=this.templateData[t];if(e){var i={};-1==e.logoBgColor.indexOf("#")&&(e.logoBgColor="#"+e.logoBgColor),-1==e.bodyFontColor.indexOf("#")&&(e.bodyFontColor="#"+e.bodyFontColor),i.header_bg=e.logoBgColor,i.bodyFontColor=e.bodyFontColor,i.logo=e.logoImage,i.body_bg_image=e.bodyBgImage,localStorage.setItem("original_params",JSON.stringify(i)),this.router.navigate([]).then(e=>{window.open("/block_page_template_view?id="+t,"_blank")})}else alert(this.language["No template found for template id"]+t)}loadDeleteModal(t,e){this.deleteTemplateId=t.toString(),this.templateName=e,this.modalRef=this.dialogService.open(this.deleteModal,{backdrop:"static",keyboard:!1})}loadDefaultModal(t,e){this.defaultTemplateId=t,this.templateName=e,this.modalRef=this.dialogService.open(this.defaultModal)}loadDefaultSuccessModal(){this.modalRef=this.dialogService.open(this.defaultSuccessModal)}loadDeleteSuccessModal(){this.modalRef=this.dialogService.open(this.deleteSuccessModal)}setDefaultTemplate(){this.disableDefaultBtn=!0,this.service.setDefaultTemplate(this.defaultTemplateId,this.SPID).subscribe(t=>{this.disableDefaultBtn=!1,this.close(),this.loadDefaultSuccessModal(),setTimeout(function(){window.location.reload()},1e3)},t=>{this.disableDefaultBtn=!1})}deleteTemplate(){this.disableDeleteBtn=!0,this.service.deleteTemplate(this.deleteTemplateId,this.SPID).subscribe(t=>{var e;this.deleteBlockpageResponse=t,this.disableDeleteBtn=!1,this.close(),this.loadDeleteSuccessModal(),null===(e=null==document?void 0:document.getElementById(this.deleteTemplateId+"_row"))||void 0===e||e.remove()},t=>{this.disableDeleteBtn=!1})}close(){var t;null===(t=null==this?void 0:this.modalRef)||void 0===t||t.close()}gotoUpdate(t){this.router.navigate(this.isShad?[`/shad/block_page_template_update/${t}`]:[`/${this.REDIRECT_URL}/block_page_template_update/${t}`])}showError(t){this.error=!0,this.errorMsg=t}hideError(){this.error=!1,this.errorMsg=""}appendData(){this.serviceSubscription=this.service.result$.subscribe(t=>{if(t&&t.error)return this.loader=!1,this.showLoadMoreBtn=!1,void this.showError(t.errorMsg);if(t&&t.results){this.listBlockedPageData=t.results;let e,i,o,n,a,r,s,l,g,d=t.results,c=d.length;for(e=0;e<c;e++)!d[e]||(this.templateData[d[e].id]=d[e],a=new Date(d[e].created),r=a.toLocaleString(),i=d[e].name,i&&(i=i.replace(/['"]+/g,"")),null==i&&(i=""),d[e].updated?(a=new Date(d[e].updated),o=a.toLocaleString()):o="-",n=d[e].default?"Yes":"No",s=document.createElement("tr"),s.setAttribute("id",d[e].id+"_row"),l=document.createElement("td"),l.innerText=`${i}`,s.appendChild(l),l=document.createElement("td"),l.innerText=`${r}`,s.appendChild(l),l=document.createElement("td"),l.innerText=`${o}`,s.appendChild(l),l=document.createElement("td"),g=document.createElement("span"),g.setAttribute("id",d[e].id),g.addEventListener("click",t=>{this.gotoView(t.target.id)},!1),g.style.cursor="pointer",g.classList.add("view-btn"),g.classList.add("btn"),g.classList.add("btn-sm"),g.classList.add("btn-success"),g.classList.add("margin-left-10"),g.innerText=this.language.View,l.appendChild(g),s.appendChild(l),g=document.createElement("span"),g.setAttribute("id",d[e].id+"_update"),g.addEventListener("click",t=>{let e=t.target.id.split("_");this.gotoUpdate(e[0])},!1),g.style.cursor="pointer",g.classList.add("update-btn"),g.classList.add("btn"),g.classList.add("btn-sm"),g.classList.add("btn-warning"),g.style.marginLeft="3px",g.innerText=this.language.Update,this.showUpdateBtn&&(l.appendChild(g),s.appendChild(l)),g=document.createElement("span"),g.setAttribute("id",d[e].id+"_"+d[e].name),g.style.cursor="pointer",g.classList.add("delete-btn"),g.classList.add("btn"),g.classList.add("btn-sm"),g.classList.add("btn-danger"),g.classList.add("margin-left-10"),g.style.marginLeft="3px",g.innerText=this.language.delete,g.addEventListener("click",t=>{let e=t.target.id.split("_");this.loadDeleteModal(e[0],e[1])},!1),this.showDeleteBtn&&(l.appendChild(g),s.appendChild(l)),d[e].default?(g=document.createElement("span"),g.style.cursor="pointer",g.classList.add("default-btn"),g.classList.add("btn"),g.classList.add("btn-sm"),g.classList.add("btn-light"),g.style.marginLeft="3px",g.innerText=this.language["Default Template"],l.appendChild(g),s.appendChild(l)):(g=document.createElement("span"),g.style.cursor="pointer",g.setAttribute("id",d[e].id+"_"+d[e].name+"_default"),g.classList.add("set-default-btn"),g.classList.add("btn"),g.classList.add("btn-sm"),g.classList.add("btn-primary"),g.style.marginLeft="3px",g.innerText=this.language["Set Default"],this.showAddBtn&&(g.addEventListener("click",t=>{let e=t.target.id.split("_");this.loadDefaultModal(e[0],e[1])},!1),l.appendChild(g),s.appendChild(l))),document.getElementById("block-page-list").appendChild(s));localStorage.setItem("templateData",JSON.stringify(this.templateData))}t&&t.results&&!t.results.length&&t&&0==t.start&&(this.showNoDataAvail=!0),this.showLoadMoreBtn=t.showLoadMoreBtn,this.loader=!1},t=>{this.loader=!1})}ngOnDestroy(){this.serviceSubscription&&this.serviceSubscription.unsubscribe(),this.service.undoService(),this.languageSubject.unsubscribe(),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe(),O(window).off("scroll",this.pageScroll)}windowScrollEvent(){this.pageScroll=()=>{O(window).scrollTop()+O(window).height()>O(document).height()-320&&this.loadRecords()},O(window).scroll(this.pageScroll)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(a.c),n.Y36(r.E),n.Y36(s.F0),n.Y36(l.FF),n.Y36(o.t6),n.Y36(g.s),n.Y36(n.R0b),n.Y36(d.v),n.Y36(c.F),n.Y36(h.Dx))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-block-page-template-list"]],viewQuery:function(t,e){if(1&t&&(n.Gf(u,7),n.Gf(m,7),n.Gf(b,7),n.Gf(f,7)),2&t){let t;n.iGM(t=n.CRH())&&(e.deleteModal=t.first),n.iGM(t=n.CRH())&&(e.defaultModal=t.first),n.iGM(t=n.CRH())&&(e.defaultSuccessModal=t.first),n.iGM(t=n.CRH())&&(e.deleteSuccessModal=t.first)}},hostBindings:function(t,e){1&t&&n.NdJ("scroll",function(t){return e.onScroll(t)})},decls:18,vars:6,consts:[[1,"position-relative"],["class","loader",4,"ngIf"],["id","main-div",1,"main-card"],[1,"main-card-header","text-center","pt-3"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],["class","pull-right mb1",4,"ngIf"],[3,"hidden",4,"ngIf"],["class","form-group text-center","id","load_more",3,"hidden",4,"ngIf"],["class","col-md-8"],["deleteModal",""],["defaultModal",""],["defaultSuccessModal",""],["deleteSuccessModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"success-img"],["src","./assets/img/error-icon.svg"],["type","button","data-dismiss","alert","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"pull-right","mb1"],["class","btn-default primary ","id","add-block-page-btn",3,"click",4,"ngIf"],["id","add-block-page-btn",1,"btn-default","primary",3,"click"],[3,"hidden"],["id","block-page-table",1,"table","table-bordered","text-center"],[2,"width","350px !important"],["id","block-page-list",2,"word-break","break-all"],[4,"ngIf"],["colspan","4"],["id","load_more",1,"form-group","text-center",3,"hidden"],[1,"btn","btn-lg","font-medium-1","btn-outline-success","block-element",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"btn","btn-danger",2,"margin-left","3px",3,"disabled","click"],["id","modal-basic-title",1,"modal-title",2,"margin-top","20px !important"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n.YNc(1,_,5,1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"h4"),n._uU(5),n.qZA(),n.qZA(),n.YNc(6,Z,8,2,"div",4),n.YNc(7,x,2,1,"div",5),n.YNc(8,C,14,6,"div",6),n.YNc(9,I,3,2,"div",7),n.qZA(),n.qZA(),n.YNc(10,T,13,7,"ng-template",8,9,n.W1O),n.YNc(12,w,13,7,"ng-template",8,10,n.W1O),n.YNc(14,P,11,5,"ng-template",8,11,n.W1O),n.YNc(16,y,9,3,"ng-template",8,12,n.W1O)),2&t&&(n.xp6(1),n.Q6J("ngIf",e.loader),n.xp6(4),n.Oqu(e.language.Block_Page_Template),n.xp6(1),n.Q6J("ngIf",e.error),n.xp6(1),n.Q6J("ngIf",!e.error),n.xp6(1),n.Q6J("ngIf",!e.error),n.xp6(1),n.Q6J("ngIf",e.showLoadMoreBtn))},directives:[p.O5],styles:["button[_ngcontent-%COMP%]{cursor:pointer!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;pointer-events:all!important}"]}),t})()},96951:function(t,e,i){i.d(e,{U:function(){return T}});var o=i(96718),n=i(37716),a=i(10298),r=i(39895),s=i(36826),l=i(12664),g=i(7450),d=i(49342),c=i(89097),h=i(53668),p=i(39075),u=i(38583),m=i(3679);const b=["successModal"];function f(t,e){if(1&t&&(n.TgZ(0,"div",29),n.TgZ(1,"div",30),n.TgZ(2,"div",31),n.TgZ(3,"span",32),n._uU(4),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(4),n.Oqu(t.language.Loading)}}function _(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",33),n.TgZ(1,"span",34),n._UZ(2,"img",35),n.qZA(),n.TgZ(3,"strong"),n._uU(4),n.qZA(),n._uU(5),n.TgZ(6,"button",36),n.NdJ("click",function(){return n.CHM(t),n.oxw().showError=!1}),n._UZ(7,"span"),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(4),n.hij("",t.language.Error,"!"),n.xp6(1),n.hij(" ",t.errorMsg,". ")}}function Z(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",37),n._UZ(1,"img",38),n._UZ(2,"br"),n.TgZ(3,"button",39),n.NdJ("click",function(){return n.CHM(t),n.oxw().hideLogoImage()}),n._uU(4),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(1),n.Q6J("src",t.logoImageUrl+"?timestamp="+t.timestamp,n.LSH),n.xp6(3),n.hij(" ",t.language.Change," ")}}function v(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"input",40,41),n.NdJ("change",function(){n.CHM(t);const e=n.MAs(1);return n.oxw().readURL(e,"logo")}),n.qZA()}}function x(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",42),n._UZ(1,"img",43),n._UZ(2,"br"),n.TgZ(3,"button",44),n.NdJ("click",function(){return n.CHM(t),n.oxw().hideBGImage()}),n._uU(4),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(1),n.Q6J("src",t.bGImageUrl+"?timestamp="+t.timestamp,n.LSH),n.xp6(3),n.hij(" ",t.language.Change," ")}}function A(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"input",45,46),n.NdJ("change",function(){n.CHM(t);const e=n.MAs(1);return n.oxw().readURL(e,"body_bg_image")}),n.qZA()}}function C(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",47),n.TgZ(1,"h4",48),n._uU(2),n.qZA(),n.TgZ(3,"button",49),n.NdJ("click",function(){return n.CHM(t),n.oxw().close()}),n._UZ(4,"span",50),n.qZA(),n.qZA(),n.TgZ(5,"div",51),n.TgZ(6,"p"),n._uU(7),n.qZA(),n.qZA(),n._UZ(8,"div",52)}if(2&t){const t=n.oxw();n.xp6(2),n.Oqu(t.language.Info),n.xp6(5),n.Oqu(t.successMsg)}}const I=i(91704);let T=(()=>{class t{constructor(t,e,i,o,n,a,r,s,l,g,d,c){this.vcRef=t,this.cpService=e,this.routerService=i,this.route=o,this.service=n,this.dialogService=a,this.router=r,this.translateService=s,this.commonOrgService=l,this.sso=g,this.organizationApiService=d,this.titleService=c,this.title="Update",this.name="",this.showError=!1,this.color="#e920e9",this.bodyFontColor="#FFDDDD",this.loader=!1,this.showLogoImage=!1,this.showBGImage=!1,this.logoImageUrl="",this.bGImageUrl="",this.isShad=!0,this.REDIRECT_URL="/organization-admin",this.commonOrgService.currentPageAdder("block_page");let h=this.router.url;-1===h.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(h),this.REDIRECT_URL=this.sso.getRedirectModule(h),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID)):this.SPID=this.sso.getSPID(),h.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings"),this.timestamp=(new Date).getTime()}hideBGImage(){this.showBGImage=!1}hideLogoImage(){this.showLogoImage=!1}onEventLog(t,e){}onChangeColor(t){}onChangeColorCmyk(t){const e=this.cpService.stringToHsva(t);if(e){const t=this.cpService.hsvaToRgba(e);return this.cpService.rgbaToCmyk(t)}return new o.Tg(0,0,0,0)}onChangeColorHex8(t){const e=this.cpService.stringToHsva(t,!0);return e?this.cpService.outputFormat(e,"rgba",null):""}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.SPID||this.isShad?this.getListById(this.id):this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(t=>{this.orgIdResponse=t,this.sso.setAdminOrgInfo(t),t&&t.spId&&(this.SPID=t.spId,this.getListById(this.id))},t=>{}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t,this.titleService.setTitle(`${this.language["Update Block Template"]} - ${"systemAdministration"===this.REDIRECT_URL?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`${this.language["Update Block Template"]} - ${"systemAdministration"===this.REDIRECT_URL?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe(),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe()}preview(){this.routerService.blockPageView()}goToBlockPageList(){this.router.navigate(this.isShad?["/shad/block_page_template_list"]:[`/${this.REDIRECT_URL}/block_page_template_list`])}getbodyFontColor(){}addError(t){this.errorMsg=t,this.showError=!0}readURL(t,e){let i;if(t.files&&t.files[0]){let o=new FileReader;o.onload=t=>{i=t.target.result,localStorage.setItem(e,i)},o.readAsDataURL(t.files[0])}}update(){var t,e;let i;const o=document.getElementById("body_bg_image"),n=document.getElementById("logo");var a={};if(this.loader)return;if(a.name=this.name,a.header_bg=this.color,a.bodyFontColor=this.bodyFontColor,!a.name)return void this.addError(this.language["Please enter the name"]);if(!a.header_bg)return void this.addError(this.language["Please enter the Logo Back Ground Color"]);if(n&&!(null===(t=n.files)||void 0===t?void 0:t[0]))return void this.addError(this.language["Please upload Header Logo image"]);if(o&&!(null===(e=o.files)||void 0===e?void 0:e[0]))return void this.addError(this.language["Please upload Back Ground Image"]);a.name=a.name.replace(/['"]+/g,"");var r=new FormData,s=I("input[name='logo']").length?I("input[name='logo']").get(0).files:"";if(s.length){var l=s[0].name.split(".").pop();if(-1==(d=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(l)){var g=d.join(", ");return void this.addError(this.language.Image_extension_will_be+g+this.language.file_format)}I.each(s,function(t,e){r.append("logoImage",e)})}if(!a.bodyFontColor)return void this.addError(this.language["Please enter the Body Font Color"]);if(i=I("input[name='body_bg_image']").length?I("input[name='body_bg_image']").get(0).files:"",i.length){var d;if(l=i[0].name.split(".").pop(),-1==(d=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(l))return g=d.join(", "),void this.addError(this.language.Image_extension_will_be+g+this.language.file_format);I.each(i,function(t,e){r.append("backgroundImage",e)})}r.append("spid",this.SPID),r.append("id",this.updateTemplateId),r.append("name",a.name);let c=a.header_bg.indexOf("#"),h=a.bodyFontColor.indexOf("#");0===c&&(a.header_bg=a.header_bg.replace("#","")),0===h&&(a.bodyFontColor=a.bodyFontColor.replace("#","")),r.append("logoBgColor",a.header_bg),r.append("bodyFontColor",a.bodyFontColor),this.loader=!0,this.service.update(r).subscribe(t=>{this.updateResponse=t,this.loader=!1,this.modalRef=this.dialogService.open(this.successModal),this.successMsg=this.language["Block page updated successfully"],setTimeout(()=>{this.close(),this.goToBlockPageList()},1e3)},t=>{this.loader=!1})}viewPreview(){var t,e;let i,o={};if(o.name=this.name,o.logoBgColor=this.color,o.bodyFontColor=this.bodyFontColor,o.logoBgColor){var n=I("input[name='logo']").length?I("input[name='logo']").get(0).files:"";if(n.length){var a=n[0].name.split(".").pop();if(-1==(s=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(a)){var r=s.join(", ");return void this.addError(this.language.Image_extension_will_be+r+this.language.file_format)}}if(o.bodyFontColor){var s;if(i=I("input[name='body_bg_image']").length?I("input[name='body_bg_image']").get(0).files:"",i.length)if(a=i[0].name.split(".").pop(),-1==(s=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(a))return r=s.join(", "),void this.addError(this.language.Image_extension_will_be+r+this.language.file_format);o.logoImage=n.length?localStorage.getItem("logo"):null===(t=this.updateData)||void 0===t?void 0:t.logoImage,o.bodyBgImage=i.length?localStorage.getItem("body_bg_image"):null===(e=this.updateData)||void 0===e?void 0:e.bodyBgImage,localStorage.setItem("params",JSON.stringify(o)),this.preview()}else this.addError(this.language["Please enter the Body Font Color"])}else this.addError(this.language["Please enter the Logo Back Ground Color"])}close(){this.modalRef.close()}getListById(t){this.service.getListByTemplateId(t,this.SPID).subscribe(e=>{if(e&&e.results){var i=e.results[0];i||this.addError(this.language["No template found for template id"]+t),this.updateTemplateId=t,this.updateData=i,this.name=i.name,this.color=-1==i.logoBgColor.indexOf("#")?"#"+i.logoBgColor:i.logoBgColor,this.bodyFontColor=-1==i.bodyFontColor.indexOf("#")?"#"+i.bodyFontColor:i.bodyFontColor,i.logoImage?(this.logoImageUrl=i.logoImage,this.showLogoImage=!0):this.showLogoImage=!1,i.bodyBgImage?(this.bGImageUrl=i.bodyBgImage,this.showBGImage=!0):this.showBGImage=!1}else this.addError(this.language["No template found for template id"]+t)})}view(){if(!this.updateData)return void this.addError(this.language["No template found for template id"]+this.updateTemplateId);let t={};-1==this.updateData.logoBgColor.indexOf("#")&&(this.updateData.logoBgColor="#"+this.updateData.logoBgColor),-1==this.updateData.bodyFontColor.indexOf("#")&&(this.updateData.bodyFontColor="#"+this.updateData.bodyFontColor),t.header_bg=this.updateData.logoBgColor,t.bodyFontColor=this.updateData.bodyFontColor,t.logo=this.updateData.logoImage,t.body_bg_image=this.updateData.bodyBgImage,localStorage.setItem("original_params",JSON.stringify(t)),this.router.navigate([]).then(t=>{window.open("/block_page_template_view?id="+this.updateTemplateId,"_blank")})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.s_b),n.Y36(o.ee),n.Y36(a.c),n.Y36(r.gz),n.Y36(s.E),n.Y36(l.FF),n.Y36(r.F0),n.Y36(g.s),n.Y36(d.v),n.Y36(c.t6),n.Y36(h.F),n.Y36(p.Dx))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-block-page-template-update"]],viewQuery:function(t,e){if(1&t&&n.Gf(b,7),2&t){let t;n.iGM(t=n.CRH())&&(e.successModal=t.first)}},decls:71,vars:25,consts:[[1,"position-relative"],["class","loader",4,"ngIf"],[1,"main-card"],[1,"main-card-header","text-center","pt-3"],[1,"row","mb-4"],[1,"col-md-12"],[1,"modal-footer","border-reset"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"row","justify-content-md-center"],[1,"col-md-8"],["class","alert alert-warning alert-dismissible fade show","id","test","role","alert",4,"ngIf"],[1,"form-row","mb-4"],[1,"col-md-4"],[1,"label-control"],[1,"error"],[1,"col-md-4","ccl-form","pr-4"],["id","focusing","type","text","name","name",3,"ngModel","ngModelChange"],[3,"colorPicker","colorPickerChange"],["id","logo-image-view-div","class","d-inline-block",4,"ngIf"],["type","file","name","logo","id","logo",3,"change",4,"ngIf"],["name","bodyFontColor","id","bodyFontColor",3,"colorPicker","colorPickerChange"],[1,"form-row","mb-5"],["id","background-image-view-div","class","d-inline-block",4,"ngIf"],["type","file","name","body_bg_image","id","body_bg_image",3,"change",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","col-md-8"],["successModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"],["id","test","role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"success-img"],["src","./assets/img/error-icon.svg"],["type","button",1,"close",3,"click"],["id","logo-image-view-div",1,"d-inline-block"],["id","logo-image-view","height","100px","width","200px",3,"src"],["type","button","id","logo-image-change-btn",1,"btn","btn-sm","btn-light","mt-1",3,"click"],["type","file","name","logo","id","logo",3,"change"],["logo",""],["id","background-image-view-div",1,"d-inline-block"],["id","background-image-view","height","100px","width","200px",3,"src"],["type","button","id","background-image-change-btn",1,"btn","btn-sm","btn-light","mt-1",3,"click"],["type","file","name","body_bg_image","id","body_bg_image",3,"change"],["body_bg_image",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n.YNc(1,f,5,1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"h6"),n._uU(7),n.qZA(),n.qZA(),n.qZA(),n.TgZ(8,"div",6),n.TgZ(9,"button",7),n.NdJ("click",function(){return e.view()}),n._uU(10),n.qZA(),n._uU(11,"\xa0 "),n.TgZ(12,"button",8),n.NdJ("click",function(){return e.viewPreview()}),n._uU(13),n.qZA(),n._uU(14,"\xa0 "),n.TgZ(15,"button",9),n.NdJ("click",function(){return e.goToBlockPageList()}),n._uU(16),n.qZA(),n.qZA(),n.qZA(),n.TgZ(17,"div",10),n.TgZ(18,"div",11),n.YNc(19,_,8,2,"div",12),n.TgZ(20,"form"),n.TgZ(21,"div",13),n.TgZ(22,"div",14),n.TgZ(23,"label",15),n.TgZ(24,"b"),n._uU(25),n.qZA(),n.TgZ(26,"span",16),n._uU(27,"*"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(28,"div",17),n.TgZ(29,"input",18),n.NdJ("ngModelChange",function(t){return e.name=t}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(30,"div",13),n.TgZ(31,"div",14),n.TgZ(32,"label",15),n.TgZ(33,"b"),n._uU(34),n.qZA(),n.qZA(),n.qZA(),n.TgZ(35,"div",11),n.TgZ(36,"input",19),n.NdJ("colorPickerChange",function(t){return e.color=t}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(37,"div",13),n.TgZ(38,"div",14),n.TgZ(39,"label",15),n.TgZ(40,"b"),n._uU(41),n.qZA(),n.TgZ(42,"span",16),n._uU(43,"*"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(44,"div",11),n.YNc(45,Z,5,2,"div",20),n.YNc(46,v,2,0,"input",21),n.qZA(),n.qZA(),n.TgZ(47,"div",13),n.TgZ(48,"div",14),n.TgZ(49,"label",15),n.TgZ(50,"b"),n._uU(51),n.qZA(),n.qZA(),n.qZA(),n.TgZ(52,"div",11),n.TgZ(53,"input",22),n.NdJ("colorPickerChange",function(t){return e.bodyFontColor=t}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(54,"div",23),n.TgZ(55,"div",14),n.TgZ(56,"label",15),n.TgZ(57,"b"),n._uU(58),n.qZA(),n.TgZ(59,"span",16),n._uU(60,"*"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(61,"div",11),n.YNc(62,x,5,2,"div",24),n.YNc(63,A,2,0,"input",25),n.qZA(),n.qZA(),n.TgZ(64,"div",23),n._UZ(65,"div",14),n.TgZ(66,"div",11),n.TgZ(67,"button",26),n.NdJ("click",function(){return e.update()}),n._uU(68),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(69,C,9,2,"ng-template",27,28,n.W1O)),2&t&&(n.xp6(1),n.Q6J("ngIf",e.loader),n.xp6(6),n.AsE("",e.language.Update," ",e.language.Block_Template,""),n.xp6(3),n.hij(" ",e.language.View,""),n.xp6(3),n.hij(" ",e.language.Preview,""),n.xp6(3),n.hij(" ",e.language.Block_Page_Template," "),n.xp6(3),n.Q6J("ngIf",e.showError),n.xp6(6),n.Oqu(e.language.Name),n.xp6(4),n.Q6J("ngModel",e.name),n.xp6(5),n.Oqu(e.language.Logo_Bckgrn_Color),n.xp6(2),n.Udp("background",e.color),n.Q6J("colorPicker",e.color),n.xp6(5),n.Oqu(e.language.Logo_Image),n.xp6(4),n.Q6J("ngIf",e.showLogoImage&&e.logoImageUrl),n.xp6(1),n.Q6J("ngIf",!e.showLogoImage),n.xp6(5),n.Oqu(e.language.Body_Font_Color),n.xp6(2),n.Udp("background",e.bodyFontColor),n.Q6J("colorPicker",e.bodyFontColor),n.xp6(5),n.Oqu(e.language.Back_Ground_Img),n.xp6(4),n.Q6J("ngIf",e.showBGImage&&e.bGImageUrl),n.xp6(1),n.Q6J("ngIf",!e.showBGImage),n.xp6(4),n.Q6J("disabled",e.loader),n.xp6(1),n.hij(" ",e.language.submit," "))},directives:[u.O5,m._Y,m.JL,m.F,m.Fj,m.JJ,m.On,o.Kk],styles:["button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;pointer-events:all!important}"]}),t})()},36826:function(t,e,i){i.d(e,{E:function(){return s}});var o=i(92340),n=i(79765),a=i(37716),r=i(91841);let s=(()=>{class t{constructor(t){this.http=t,this.data={start:0,limit:10},this.loading=!1,this.templateData={},this.result$=new n.xQ}getList(t){let e;if(!this.loading)return this.loading=!0,e=this.data,this.doService=this.http.get(o.N.SP_API_BASE_URL+"/template/blockpage/list?start="+e.start+"&limit="+e.limit+"&spid="+t).subscribe(t=>{this.data.start+=t.results.length,t.showLoadMoreBtn=!(this.data.start>=t.total);for(let e=0;e<t.results.length;e++)this.templateData[t.results[e].id]=t.results[e];localStorage.setItem("templateData",JSON.stringify(this.templateData)),this.loading=!1,this.result$.next(t)},t=>{this.loading=!1,this.result$.next({error:!0,errorMsg:t.statusText})},()=>{this.loading=!1})}setDefaultTemplate(t,e){return this.http.post(o.N.SP_API_BASE_URL+"/template/blockpage/set/default",{id:t,spid:e})}deleteTemplate(t,e){return this.http.request("DELETE",o.N.SP_API_BASE_URL+"/template/blockpage/delete",{body:{id:t,spid:e}})}add(t){return this.http.put(o.N.SP_API_BASE_URL+"/template/blockpage/add",t)}getListByTemplateId(t,e){return this.http.get(o.N.SP_API_BASE_URL+"/template/blockpage/list?id="+t+"&spid="+e)}update(t){return this.http.post(o.N.SP_API_BASE_URL+"/template/blockpage/update",t)}undoService(){this.data={start:0,limit:10},this.doService&&this.doService.unsubscribe()}setIntialData(){this.data={start:0,limit:10}}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(r.eN))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},67798:function(t,e,i){i.d(e,{E:function(){return g}});var o=i(40205),n=i(5304),a=i(91841),r=i(92340),s=i(37716),l=i(89097);let g=(()=>{class t{constructor(t,e){this.ssoservice=t,this.http=e,this.API=`${r.N.AUTH_API_HOST}`}setSpId(){return this.ssoservice.getSPID()}getInfo(t){let e=new a.WM;return e=e.append("X-Calix-ClientID",r.N.X_CALIX_CLIENTID),this.http.get(`${this.API}/usertype?spId=${t}`,{headers:e})}whiteLabellist(t){var e=localStorage.getItem("calix.csc_token");return new a.WM({Authorization:"Bearer "+e}),this.http.get(r.N.SP_API_BASE_URL+`/whitelabel/info?spId=${t}`,{observe:"response"})}whiteLabelinfo(t){return this.http.get(r.N.SP_API_BASE_URL+`/whitelabel/info?spid=${t}`)}spinfo(t){var e=localStorage.getItem("calix.csc_token");return new a.WM({Authorization:"Bearer "+e}),this.http.get(r.N.SP_API_BASE_URL+`/whitelabel/info?spid=${t}`,{observe:"response"})}add(t){var e=localStorage.getItem("calix.csc_token");return new a.WM({Authorization:"Bearer "+e}),console.log(t),this.http.put(r.N.SP_API_BASE_URL+"/whitelabel/add",t)}update(t){var e=localStorage.getItem("calix.csc_token");return new a.WM({Authorization:"Bearer "+e}),this.http.post(r.N.SP_API_BASE_URL+"/whitelabel/update",t)}UpdateSupportInfo(t){return this.http.put(`${r.N.apiHost}/support/info`,t)}fetchSupportInfo(t){return this.http.get(`${r.N.apiHost}/support/info?spid=${t}`)}DeleteSupportInfo(){return this.http.delete(`${r.N.apiHost}/support/info`)}commandIqList(t){return this.http.get(r.N.SP_API_BASE_URL+`/smb/whitelabel?spid=${t}`,{observe:"response"})}commandIqadd(t){return this.http.post(r.N.SP_API_BASE_URL+"/smb/whitelabel",t)}commandIqUpdate(t){return this.http.put(r.N.SP_API_BASE_URL+"/smb/whitelabel",t)}updateAppCustomName(t){return this.http.post(`${r.N.apiHost}/admin/application/custom/name`,t)}callRestApi(t){return this.http.get(`${t}`).pipe((0,n.K)(this.handleError))}handleError(t){return(0,o._)(t)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(l.t6),s.LFG(a.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},48705:function(t,e,i){i.d(e,{x:function(){return x}});var o=i(96718),n=i(37716),a=i(67798),r=i(12664),s=i(89097),l=i(10298),g=i(38583),d=i(7450),c=i(39895),h=i(49342),p=i(53668),u=i(39075),m=i(3679);const b=["errorModal"],f=["successModal"];function _(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",29),n.TgZ(1,"div",30),n.TgZ(2,"div",31),n._UZ(3,"img",32),n.qZA(),n.TgZ(4,"div",33),n.TgZ(5,"strong"),n._uU(6,"Error!"),n.qZA(),n._uU(7),n.qZA(),n.TgZ(8,"div",34),n.TgZ(9,"button",35),n.NdJ("click",function(){return n.CHM(t),n.oxw().hideError()}),n._UZ(10,"span",36),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(7),n.hij(" ",t.errorMsg,". ")}}function Z(t,e){if(1&t&&(n.TgZ(0,"div",37),n.TgZ(1,"div",38),n.TgZ(2,"div",39),n.TgZ(3,"span",40),n._uU(4),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(4),n.Oqu(t.language.Loading)}}const v=i(91704);let x=(()=>{class t{constructor(t,e,i,o,n,a,r,s,l,g){this.service=t,this.dialogService=e,this.sso=i,this.routerService=o,this._location=n,this.translateService=a,this.router=r,this.commonOrgService=s,this.organizationApiService=l,this.titleService=g,this.primaryColor="#e920e9",this.secondaryColor="#FFDDDD",this.showSuccess=!1,this.isShad=!0,this.logovisiblity=!1,this.whitelogovisiblity=!1,this.REDIRECT_URL="/organization-admin",this.selectOptions=[{label:"True",value:!0},{label:"False",value:!1}],this.showError=!1,this.loader=!1,this.showCreateBtn=!1,this.appName="",this.privacyPolicyLinkEnglish="",this.privacyPolicyLinkFrench="",this.isActive=!1,this.spid="",this.commonOrgService.currentPageAdder("whitelabel");let d=this.router.url;-1===d.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(d),this.REDIRECT_URL=this.sso.getRedirectModule(d),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID),this.SPID||this.getAdminOrgInfo()):this.SPID=this.sso.getSPID(),d.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings"),this.titleService.setTitle(`Add CommandIQ Branding - ${"systemAdministration"===this.REDIRECT_URL?"System Administration":"Administration"} - Calix Cloud`)}ngOnInit(){this.spid=this.sso.getSPID(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t})}readURL(t,e){let i;if(e&&"white_logo"===e?v("#whitelogo_image").attr("src"," "):v("#logo_image").attr("src"," "),t.files&&t.files[0]){let o=new FileReader;o.onload=t=>{"logo"===e?(v("#logo_image").attr("src",t.target.result),this.logovisiblity=!0):(v("#whitelogo_image").attr("src",t.target.result),this.whitelogovisiblity=!0),i=t.target.result,localStorage.setItem(e,i)},o.readAsDataURL(t.files[0])}}readWhiteLogoURL(t,e){let i;if(t.files&&t.files[0]){let o=new FileReader;o.onload=t=>{i=t.target.result,localStorage.setItem(e,i)},o.readAsDataURL(t.files[0])}}add(){let t,e;var i={};if(!this.loader){if(this.sso.getSPID(),i.spid=this.SPID,i.appName=this.appName,i.sellerName=this.appName,i.privacyPolicyLinkEnglish=this.privacyPolicyLinkEnglish,i.privacyPolicyLinkFrench=this.privacyPolicyLinkFrench,i.isActive=this.isActive,i.primaryColor=this.primaryColor,!i.appName)return void this.addError(this.language.enter_the_Seller_Name);if(!i.primaryColor)return void this.addError(this.language.enter_the_Primary_Color);var o=new FormData;if(e=v("input[name='logo']").get(0).files,!e.length)return void this.addError(this.language.upload_Logo_image);var n=e[0].name.split(".").pop(),a=e[0].size/1024;if(-1==(s=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(n)){var r=s.join(", ");return void this.addError(this.language.Image_extension_will_be+r+this.language.file_format)}if(a>250)return void this.addError(this.language.LogoImage_uploaderror+" 250KB");if(v.each(e,function(t,e){o.append("logo",e)}),t=v("input[name='white_logo']").get(0).files,!t.length)return void this.addError(this.language["Please upload White Logo image"]);var s,l=t[0].size/1024;if(n=t[0].name.split(".").pop(),-1==(s=["png","PNG"]).indexOf(n))return r=s.join(", "),void this.addError(this.language["Image extension will be an "]+r+this.language.file_format);if(l>250)return void this.addError(this.language.WhitelogoImage_uploaderror+" 250KB");v.each(t,function(t,e){o.append("appIcon",e)}),o.append("spid",i.spid),o.append("primaryColor",i.primaryColor),o.append("secondaryColor",i.primaryColor),o.append("appName",i.appName),o.append("sellerName",i.appName),o.append("isActive",i.isActive),this.hideError(),this.loader=!0,this.service.add(o).subscribe(t=>{this.loader=!1,this.goToWhiteLabelList()},t=>{this.loader=!1,this.pageErrorHandle(t,!0)})}}cancel(){this.router.navigate(this.isShad?["/shad/whitelabel"]:[`/${this.REDIRECT_URL}/whitelabel`])}addError(t){this.errorMsg=t,this.showError=!0,v("html, body").animate({scrollTop:0},"slow")}hideError(){this.showError=!1,this.errorMsg=""}close(){this.modalRef.close()}goToWhiteLabelList(){this.routerService.WhiteLabelList(!0),this.router.navigate(this.isShad?["/shad/whitelabel"]:[`/${this.REDIRECT_URL}/whitelabel`])}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe(),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe()}getAdminOrgInfo(){this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(t=>{this.sso.setAdminOrgInfo(t),t&&t.spId&&(this.SPID=t.spId)},t=>{})}pageErrorHandle(t,e){400!=t.status||e?(this.errorMsg=401==t.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(t),this.showError=!0,v("html, body").animate({scrollTop:0},"slow")):(this.errorMsg=this.commonOrgService.pageInvalidRqstErrorHandle(t),this.showError=!0,v("html, body").animate({scrollTop:0},"slow"))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(a.E),n.Y36(r.FF),n.Y36(s.t6),n.Y36(l.c),n.Y36(g.Ye),n.Y36(d.s),n.Y36(c.F0),n.Y36(h.v),n.Y36(p.F),n.Y36(u.Dx))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-whitelabel-create"]],viewQuery:function(t,e){if(1&t&&(n.Gf(b,7),n.Gf(f,7)),2&t){let t;n.iGM(t=n.CRH())&&(e.errorModal=t.first),n.iGM(t=n.CRH())&&(e.successModal=t.first)}},features:[n._Bn([o.ee])],decls:78,vars:26,consts:[[1,"position-relative"],[1,"border-bottom","whitelabel-name"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],["class","loader",4,"ngIf"],[1,"row","my-3"],[1,"col-md-12"],[1,"toggle-swtbtn","checkbox","switcher"],["type","checkbox","name","Status","id","Status",3,"ngModel","ngModelChange"],[1,"mr-1"],[1,"row"],[1,"col-md-3"],[1,"form-input-field"],[1,"label-control"],[1,"input-field"],[1,"form-input-field","ccl-form"],[1,"error"],["id","appName","type","text","name","appName",3,"ngModel","ngModelChange"],["name","primaryColor","id","primaryColor",1,"form-control",2,"color","#faf9f5",3,"colorPicker","ngModel","cpOutputFormat","colorPickerChange","ngModelChange"],[1,"Commandiq-loge-name"],["type","file","name","logo","id","logo","accept",".jpeg, .JPEG, .PNG, .jpg, .png, .JPG, .img, .IMG, .bin, .BIN",1,"white-logo-input",3,"change"],["logo",""],["id","logo_image","height","100px","width","200px","src"," "],["type","file","name","white_logo","id","white_logo","accept",".PNG, .png",1,"white-logo-input",3,"change"],["white_logo",""],["id","whitelogo_image","height","100px","width","200px","src"," "],[1,"guidelines"],[1,"white-form","my-3"],[1,"btn-default","primary","px-3",3,"click"],[1,"btn-default","btn-dft","py-1","ml-3","px-3",3,"click"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"error-alert-wrapper","d-flex","justify-content-between"],[1,"error-alert-icon"],["src","../../../assets/img/error-icon.svg","alt",""],[1,"error-alert-msg"],[1,"error-alert-close"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",0),n.TgZ(1,"div",1),n._uU(2),n.qZA(),n.YNc(3,_,11,1,"div",2),n.YNc(4,Z,5,1,"div",3),n.TgZ(5,"div",4),n.TgZ(6,"div",5),n.TgZ(7,"div",6),n.TgZ(8,"label"),n.TgZ(9,"input",7),n.NdJ("ngModelChange",function(t){return e.isActive=t}),n.qZA(),n.TgZ(10,"span",8),n._UZ(11,"small"),n.qZA(),n._uU(12),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(13,"div",9),n.TgZ(14,"div",10),n.TgZ(15,"div",11),n.TgZ(16,"label",12),n._uU(17),n.qZA(),n.TgZ(18,"div",13),n._uU(19),n.qZA(),n.qZA(),n.TgZ(20,"div",14),n.TgZ(21,"label",12),n._uU(22),n.TgZ(23,"span",15),n._uU(24,"*"),n.qZA(),n.qZA(),n.TgZ(25,"div",13),n.TgZ(26,"input",16),n.NdJ("ngModelChange",function(t){return e.appName=t}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(27,"div",14),n.TgZ(28,"label",12),n._uU(29),n.TgZ(30,"span",15),n._uU(31,"*"),n.qZA(),n.qZA(),n.TgZ(32,"div",13),n.TgZ(33,"input",17),n.NdJ("colorPickerChange",function(t){return e.primaryColor=t})("ngModelChange",function(t){return e.primaryColor=t}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(34,"div",10),n.TgZ(35,"div",11),n.TgZ(36,"label",12),n._uU(37),n.TgZ(38,"span",15),n._uU(39,"*"),n.qZA(),n.qZA(),n.TgZ(40,"div",13),n.TgZ(41,"div",18),n.TgZ(42,"input",19,20),n.NdJ("change",function(){n.CHM(t);const i=n.MAs(43);return e.readURL(i,"logo")}),n.qZA(),n._UZ(44,"img",21),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(45,"div",10),n.TgZ(46,"div",11),n.TgZ(47,"label",12),n._uU(48),n.TgZ(49,"span",15),n._uU(50,"*"),n.qZA(),n.qZA(),n.TgZ(51,"div",13),n.TgZ(52,"div",18),n.TgZ(53,"input",22,23),n.NdJ("change",function(){n.CHM(t);const i=n.MAs(54);return e.readURL(i,"white_logo")}),n.qZA(),n._UZ(55,"img",24),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(56,"div",10),n._uU(57),n.TgZ(58,"div",25),n.TgZ(59,"ul"),n.TgZ(60,"li"),n._uU(61),n.qZA(),n.TgZ(62,"li"),n._uU(63),n.qZA(),n.TgZ(64,"li"),n._uU(65),n.qZA(),n.TgZ(66,"li"),n._uU(67),n.qZA(),n.TgZ(68,"small"),n._uU(69),n._UZ(70,"br"),n._uU(71),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(72,"form"),n.TgZ(73,"div",26),n.TgZ(74,"button",27),n.NdJ("click",function(){return e.add()}),n._uU(75),n.qZA(),n.TgZ(76,"button",28),n.NdJ("click",function(){return e.cancel()}),n._uU(77),n.qZA(),n.qZA(),n.qZA(),n.qZA()}2&t&&(n.xp6(2),n.hij("",e.language.Add_Whitelabel_Theme," "),n.xp6(1),n.Q6J("ngIf",e.showError),n.xp6(1),n.Q6J("ngIf",e.loader),n.xp6(5),n.Q6J("ngModel",e.isActive),n.xp6(3),n.hij(" ",e.language.Enabled," "),n.xp6(5),n.hij("",e.language.Service_Provider," "),n.xp6(2),n.hij(" ",e.SPID," "),n.xp6(3),n.Oqu(e.language.Seller_Name),n.xp6(4),n.Q6J("ngModel",e.appName),n.xp6(3),n.Oqu(e.language.Primary_Color),n.xp6(4),n.Udp("background",e.primaryColor),n.Q6J("colorPicker",e.primaryColor)("ngModel",e.primaryColor)("cpOutputFormat","hex"),n.xp6(4),n.Oqu(e.language.Logo_Icon),n.xp6(11),n.Oqu(e.language.White_Logo_Icon),n.xp6(9),n.hij("",e.language.Logo_Guidelines," "),n.xp6(4),n.hij("",e.language["Max-Width"],": 1080px"),n.xp6(2),n.hij("",e.language["Max-Height"],": 180px"),n.xp6(2),n.hij("",e.language["Max File size"],": 250KB"),n.xp6(2),n.Oqu(e.language.Format),n.xp6(2),n.hij(" ",e.language.Primary_Logo,": jpeg,JPEG,jpg,JPG,png,PNG,img,IMG,bin,BIN"),n.xp6(2),n.hij(" ",e.language.White_Logo,": png,PNG "),n.xp6(4),n.hij(" ",e.language.Save," "),n.xp6(2),n.hij(" ",e.language.Cancel," "))},directives:[g.O5,m.Wl,m.JJ,m.On,m.Fj,o.Kk,m._Y,m.JL,m.F],styles:[".custom-file-upload[_ngcontent-%COMP%]{padding:5px 40px;margin:0 10px}.type-file[_ngcontent-%COMP%]{display:none}.drop-down[_ngcontent-%COMP%]{border-radius:3px;width:60 px;background-color:#d3d3d3;color:#00f}.logo-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.logo-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:small;font-weight:100;font-style:italic}.guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:disc;margin-left:30px}.guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px;font-size:14px;color:#4c4c4c}.Commandiq-loge-name[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;width:188px}.white-logo-input[_ngcontent-%COMP%]{padding-bottom:7px}.white-logo-input[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:250px;background-color:#ebeaef;margin-bottom:10px}.whitelabel-name[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;padding-bottom:7px;margin-bottom:7px}"]}),t})()},46517:function(t,e,i){i.d(e,{E:function(){return C}});var o=i(37716),n=i(96718),a=i(67798),r=i(12664),s=i(89097),l=i(10298),g=i(7450),d=i(39895),c=i(49342),h=i(53668),p=i(39075),u=i(38583),m=i(3679);const b=["errorModal"],f=["successModal"];function _(t,e){if(1&t&&(o.TgZ(0,"div",25),o.TgZ(1,"div",26),o.TgZ(2,"div",27),o.TgZ(3,"span",28),o._uU(4),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t){const t=o.oxw();o.xp6(4),o.Oqu(t.language.Loading)}}function Z(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",29),o.TgZ(1,"span",30),o._UZ(2,"img",31),o.qZA(),o.TgZ(3,"strong"),o._uU(4),o.qZA(),o._uU(5),o.TgZ(6,"button",32),o.NdJ("click",function(){return o.CHM(t),o.oxw().validateError()}),o._UZ(7,"span",33),o.qZA(),o.qZA()}if(2&t){const t=o.oxw();o.xp6(4),o.hij("",t.language.Error,"!"),o.xp6(1),o.hij(" ",t.errorMsg,". ")}}function v(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",14),o.TgZ(1,"div",34),o._UZ(2,"img",35),o._uU(3),o.TgZ(4,"label",36),o.TgZ(5,"a",37),o.NdJ("click",function(){return o.CHM(t),o.oxw().hidelogo()}),o._UZ(6,"i",38),o._uU(7," Replace Image"),o.qZA(),o.qZA(),o.TgZ(8,"input",39,40),o.NdJ("change",function(){o.CHM(t);const e=o.MAs(9);return o.oxw().readURL(e,"logo")}),o.qZA(),o.qZA(),o.qZA()}if(2&t){const t=o.oxw();o.xp6(2),o.s9C("src",t.updatelogo+"?timestamp="+t.timestamp,o.LSH),o.xp6(1),o.hij("",t.logoFile," ")}}function x(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",14),o.TgZ(1,"div",41),o._UZ(2,"img",42),o._uU(3),o.TgZ(4,"label",43),o.TgZ(5,"a",37),o.NdJ("click",function(){return o.CHM(t),o.oxw().hidelogo()}),o._UZ(6,"i",38),o._uU(7,"Replace Image"),o.qZA(),o.qZA(),o.TgZ(8,"input",44,45),o.NdJ("change",function(){o.CHM(t);const e=o.MAs(9);return o.oxw().readURL(e,"white_logo")}),o.qZA(),o.qZA(),o.qZA()}if(2&t){const t=o.oxw();o.xp6(2),o.s9C("src",t.updateWhiteLogo+"?timestamp="+t.timestamp,o.LSH),o.xp6(1),o.hij("",t.whiteLogoFile," ")}}const A=i(91704);let C=(()=>{class t{constructor(t,e,i,o,n,a,r,s,l,g,d){this.cpService=t,this.service=e,this.dialogService=i,this.sso=o,this.routerService=n,this.ref=a,this.translateService=r,this.router=s,this.commonOrgService=l,this.organizationApiService=g,this.titleService=d,this.fileName="",this.isShad=!0,this.REDIRECT_URL="/organization-admin",this.selectOptions=[{label:"True",value:!0},{label:"False",value:!1}],this.updatedRespone=!1,this.showError=!1,this.loader=!1,this.showCreateBtn=!1,this.appName="",this.privacyPolicyLinkEnglish="",this.privacyPolicyLinkFrench="",this.isActive=!1,this.spid="",this.updateappIcon="",this.updatelogo="",this.updateWhiteLogo="",this.commonOrgService.currentPageAdder("whitelabel");let c=this.router.url;-1===c.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(c),this.REDIRECT_URL=this.sso.getRedirectModule(c),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID)):this.SPID=this.sso.getSPID(),c.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings"),this.titleService.setTitle(`Update CommandIQ Branding - ${"systemAdministration"===this.REDIRECT_URL?"System Administration":"Administration"} - Calix Cloud`)}ngOnInit(){this.SPID||this.isShad?(this.getWhitelabel(),this.getDetails(),this.calixspid=this.SPID):this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(t=>{this.orgIdResponse=t,this.sso.setAdminOrgInfo(t),t&&t.spId&&(this.SPID=t.spId,this.getWhitelabel(),this.getDetails(),this.calixspid=this.SPID)},t=>{}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t})}validateError(){this.showError=!1}getWhitelabel(){this.sso.getSPID(),this.service.spinfo(this.SPID).toPromise().then(t=>{}).catch(t=>{})}getDetails(){this.sso.getSPID(),this.service.whiteLabellist(this.SPID).toPromise().then(t=>{this.spiResponse=null==t?void 0:t.body,this.timestamp=(new Date).getTime(),this.spid=t.body.spid,this.updateappIcon=t.body.appIcon,this.ISappIcon=!!this.updateappIcon,this.updatelogo=t.body.theme.logo,this.ISlogo=!!this.updatelogo,this.updateWhiteLogo=t.body.appIcon,this.dataAvailable=!0,this.appName=t.body.appName,this.privacyPolicyLinkEnglish=t.body.privacyPolicyLinkEnglish,this.privacyPolicyLinkFrench=t.body.privacyPolicyLinkFrench,this.isActive=t.body.isActive,this.engandfile=t.body.eulaAndroidEnglish,this.ISengandfile=!!this.engandfile,this.AndroidFrench=t.body.eulaAndroidFrench,this.ISAndroidFrench=!!this.AndroidFrench,this.IOSEnglish=t.body.eulaIOSEnglish,this.ISIOSEnglish=!!this.IOSEnglish,this.IOSFrench=t.body.eulaIOSFrench,this.ISIOSFrench=!!this.IOSFrench,this.English=t.body.aboutEnglish,this.ISEnglish=!!this.English,this.French=t.body.aboutFrench,this.ISFrench=!!this.French,t.body.theme.primaryColor&&(this.primaryColor=t.body.theme.primaryColor)}).catch(t=>{this.dataAvailable=!0})}readURL(t,e){let i;if(e&&"white_logo"===e?(this.whiteLogoFile="",A("#white-logo-image-view").attr("src"," ")):(this.logoFile="",A("#logo-image-view").attr("src"," ")),t.files&&t.files[0]){let n=new FileReader;n.onload=t=>{"logo"===e?A("#logo-image-view").attr("src",t.target.result):A("#white-logo-image-view").attr("src",t.target.result),i=t.target.result,localStorage.setItem(e,i)},n.readAsDataURL(t.files[0]);var o=t.files[0].name;"appIcon"==e?(this.iconFile=o,this.updateappIcon=""):"logo"==e?(this.logoFile=o,this.updatelogo=""):"eulaAndroidEnglish"==e?(this.eulaAE=o,this.engandfile=""):"eulaAndroidFrench"==e?(this.eulaAF=o,this.AndroidFrench=""):"eulaIOSEnglish"==e?(this.eulaIOSE=o,this.IOSEnglish=""):"eulaIOSFrench"==e?(this.eulaIOSF=o,this.IOSFrench=""):"aboutEnglish"==e?(this.aboutE=o,this.English=""):"aboutFrench"==e?(this.aboutF=o,this.French=""):"white_logo"==e&&(this.whiteLogoFile=o,this.updateWhiteLogo="")}}add(){let t;var e={};if(this.loader)return;if(e.spid=this.SPID,e.appName=this.appName,e.sellerName=this.appName,e.privacyPolicyLinkEnglish=this.privacyPolicyLinkEnglish,e.privacyPolicyLinkFrench=this.privacyPolicyLinkFrench,e.isActive=this.isActive,e.primaryColor=this.primaryColor,!e.appName)return void this.addError(this.language.enter_the_Seller_Name);if(!e.primaryColor)return void this.addError(this.language.enter_the_Primary_Color);var i=new FormData;if(""!=this.updatelogo)i.append("logo",this.updatelogo);else{if(t=A("input[name='logo']").get(0).files,!t.length)return void this.addError(this.language.upload_Logo_image);var o=t[0].name.split(".").pop(),n=t[0].size/1024,a=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"];if(-1==a.indexOf(o)){var r=a.join(", ");return void this.addError("Logo Image extension will be an "+r+" file format")}if(n>250)return void this.addError(this.language.LogoImage_uploaderror+" 250KB");A.each(t,function(t,e){i.append("logo",e)})}let s;if(""!=this.updateWhiteLogo)i.append("appIcon",this.updateWhiteLogo);else{if(s=A("input[name='white_logo']").get(0).files,!s.length)return void this.addError(this.language["Please upload White Logo image"]);{var l=s[0].size/1024;let t=s[0].name.split(".").pop(),e=["png","PNG"];if(-1==e.indexOf(t)){let t=e.join(", ");return void this.addError("White Logo Image extension will be an "+t+" file format")}if(l>250)return void this.addError(this.language.WhitelogoImage_uploaderror+" 250KB");A.each(s,function(t,e){i.append("appIcon",e)})}}i.append("spid",this.SPID),i.append("primaryColor",e.primaryColor),i.append("appName",e.appName),i.append("sellerName",e.appName),i.append("isActive",e.isActive),this.hideError(),this.loader=!0,this.service.update(i).subscribe(t=>{this.updatedRespone=!0,this.loader=!1,this.goToWhiteLabelList()},t=>{this.loader=!1,this.addError(t.statusText)})}addError(t){this.errorMsg=t,this.showError=!0,A("html, body").animate({scrollTop:0},"slow"),this.ref.detectChanges()}hideError(){this.showError=!1,this.errorMsg=""}close(){this.modalRef.close()}goToWhiteLabelList(){this.routerService.WhiteLabelList(),this.router.navigate(this.isShad?["/shad/whitelabel"]:[`/${this.REDIRECT_URL}/whitelabel`])}hideAppicon(){}hidelogo(){}hideAndroidFrench(){this.ISAndroidFrench=!1}hideengandfile(){this.ISengandfile=!1}hideIOSEnglish(){this.ISIOSEnglish=!1}hideIOSFrench(){this.ISIOSFrench=!1}hideEnglish(){this.ISEnglish=!1}hideFrench(){this.ISFrench=!1}cancel(){this.router.navigate(this.isShad?["/shad/whitelabel"]:[`/${this.REDIRECT_URL}/whitelabel`])}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe(),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(n.ee),o.Y36(a.E),o.Y36(r.FF),o.Y36(s.t6),o.Y36(l.c),o.Y36(o.sBO),o.Y36(g.s),o.Y36(d.F0),o.Y36(c.v),o.Y36(h.F),o.Y36(p.Dx))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-whitelabel-update"]],viewQuery:function(t,e){if(1&t&&(o.Gf(b,7),o.Gf(f,7)),2&t){let t;o.iGM(t=o.CRH())&&(e.errorModal=t.first),o.iGM(t=o.CRH())&&(e.successModal=t.first)}},decls:71,vars:28,consts:[[1,"position-relative"],["class","loader",4,"ngIf"],[1,""],[1,"border-bottom","update-comiq-title"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],[1,"row"],[1,"col-md-10"],[1,"toggle-swtbtn","checkbox","switcher"],["type","checkbox","name","Status","id","Status",3,"ngModel","ngModelChange"],[1,"mr-1"],[1,"row","my-2"],[1,"col-md-3"],[1,"form-input-field"],[1,"label-control"],[1,"input-field"],[1,"form-input-field","ccl-form"],[1,"error"],["id","appName","type","text","name","appName",3,"ngModel","ngModelChange"],["name","primaryColor","id","primaryColor",1,"form-control",2,"color","#faf9f5",3,"colorPicker","ngModel","cpOutputFormat","colorPickerChange","ngModelChange"],[1,"label-control","logo-info"],["class","input-field",4,"ngIf"],[1,"guidelines"],[1,"white-form","my-3"],[1,"btn-default","primary","px-3",3,"click"],[1,"btn-default","btn-dft","py-1","ml-3","px-3",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"mr-2"],["src","../../../assets/img/ic_error-outline.svg"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["id","logo-image-view-div",1,"d-block"],["id","logo-image-view",3,"src"],["for","logo",1,"custom-file-upload","btn-sm","btn-light"],[3,"click"],[1,"fa","fa-cloud-upload","mx-2"],["type","file","name","logo","id","logo","accept",".jpeg, .JPEG, .PNG, .jpg, .png, .JPG, .img, .IMG, .bin, .BIN",1,"type-file",3,"change"],["logo",""],["id","white-logo-image-view-div",1,"d-inline-block"],["id","white-logo-image-view",1,"white-logo-image-box",3,"src"],["for","white_logo",1,"custom-file-upload","btn-sm","btn-light"],["type","file","name","white_logo","id","white_logo","accept",".PNG, .png",1,"type-file",3,"change"],["white_logo",""]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.YNc(1,_,5,1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o._uU(4),o.qZA(),o.YNc(5,Z,8,2,"div",4),o.TgZ(6,"div",5),o.TgZ(7,"div",6),o.TgZ(8,"div",7),o.TgZ(9,"label"),o.TgZ(10,"input",8),o.NdJ("ngModelChange",function(t){return e.isActive=t}),o.qZA(),o.TgZ(11,"span",9),o._UZ(12,"small"),o.qZA(),o._uU(13),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"div",10),o.TgZ(15,"div",11),o.TgZ(16,"div",12),o.TgZ(17,"label",13),o._uU(18),o.qZA(),o.TgZ(19,"div",14),o._uU(20),o.qZA(),o.qZA(),o.TgZ(21,"div",15),o.TgZ(22,"label",13),o._uU(23),o.TgZ(24,"span",16),o._uU(25,"*"),o.qZA(),o.qZA(),o.TgZ(26,"div",14),o.TgZ(27,"input",17),o.NdJ("ngModelChange",function(t){return e.appName=t}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(28,"div",15),o.TgZ(29,"label",13),o._uU(30),o.TgZ(31,"span",16),o._uU(32,"*"),o.qZA(),o.qZA(),o.TgZ(33,"div",14),o.TgZ(34,"input",18),o.NdJ("colorPickerChange",function(t){return e.primaryColor=t})("ngModelChange",function(t){return e.primaryColor=t}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(35,"div",11),o._uU(36),o.TgZ(37,"span",16),o._uU(38,"*"),o.qZA(),o.TgZ(39,"div",12),o._UZ(40,"label",19),o.YNc(41,v,10,2,"div",20),o.qZA(),o.qZA(),o.TgZ(42,"div",11),o._uU(43),o.TgZ(44,"span",16),o._uU(45,"*"),o.qZA(),o.TgZ(46,"div",12),o._UZ(47,"label",19),o.YNc(48,x,10,2,"div",20),o.qZA(),o.qZA(),o.TgZ(49,"div",11),o._uU(50),o.TgZ(51,"div",21),o.TgZ(52,"ul"),o.TgZ(53,"li"),o._uU(54),o.qZA(),o.TgZ(55,"li"),o._uU(56),o.qZA(),o.TgZ(57,"li"),o._uU(58),o.qZA(),o.TgZ(59,"li"),o._uU(60),o.qZA(),o.TgZ(61,"small"),o._uU(62),o._UZ(63,"br"),o._uU(64),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(65,"form"),o.TgZ(66,"div",22),o.TgZ(67,"button",23),o.NdJ("click",function(){return e.add()}),o._uU(68),o.qZA(),o.TgZ(69,"button",24),o.NdJ("click",function(){return e.cancel()}),o._uU(70),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngIf",e.loader),o.xp6(3),o.Oqu(e.language.Update_Whitelabel_Theme),o.xp6(1),o.Q6J("ngIf",e.showError),o.xp6(5),o.Q6J("ngModel",e.isActive),o.xp6(3),o.hij(" ",e.language.Enabled," "),o.xp6(5),o.hij("",e.language.Service_Provider," "),o.xp6(2),o.hij(" ",e.calixspid," "),o.xp6(3),o.Oqu(e.language.Seller_Name),o.xp6(4),o.Q6J("ngModel",e.appName),o.xp6(3),o.Oqu(e.language.Primary_Color),o.xp6(4),o.Udp("background",e.primaryColor),o.Q6J("colorPicker",e.primaryColor)("ngModel",e.primaryColor)("cpOutputFormat","hex"),o.xp6(2),o.Oqu(e.language.Logo_Icon),o.xp6(5),o.Q6J("ngIf",e.dataAvailable),o.xp6(2),o.Oqu(e.language.White_Logo_Icon),o.xp6(5),o.Q6J("ngIf",e.dataAvailable),o.xp6(2),o.hij("",e.language.Logo_Guidelines," "),o.xp6(4),o.hij("",e.language["Max-Width"],": 1080px"),o.xp6(2),o.hij("",e.language["Max-Height"],": 180px"),o.xp6(2),o.hij("",e.language["Max File size"],": 250KB"),o.xp6(2),o.Oqu(e.language.Format),o.xp6(2),o.hij(" ",e.language.Primary_Logo,": jpeg,JPEG,jpg,JPG,png,PNG,img,IMG,bin,BIN"),o.xp6(2),o.hij(" ",e.language.White_Logo,": png,PNG "),o.xp6(4),o.hij(" ",e.language.Save," "),o.xp6(2),o.hij(" ",e.language.Cancel," "))},directives:[u.O5,m.Wl,m.JJ,m.On,m.Fj,n.Kk,m._Y,m.JL,m.F],styles:[".custom-file-upload[_ngcontent-%COMP%]{padding:5px 40px;margin:0 10px}.file-content[_ngcontent-%COMP%]{width:150px;height:150px;transition:.2s;text-align:center;display:flex;align-items:center;justify-content:center;position:relative;background:#e9eff5;border:1px dashed #b7bcd6;border-radius:50%;margin-bottom:10px}.file-content[_ngcontent-%COMP%]   img.profile_img-display[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:50%}.browse-update.ml-15[_ngcontent-%COMP%]{display:grid;align-items:center;margin-left:15%}.type-file[_ngcontent-%COMP%]{display:none}.drop-down[_ngcontent-%COMP%]{border-radius:3px;width:60 px;color:#00f}input[type=file][_ngcontent-%COMP%]{display:none}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #ccc;display:inline-block;padding:6px 12px;cursor:pointer;border-radius:22px}.left[_ngcontent-%COMP%]{float:left}.white-logo-image-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .logo-image-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:250px}.logo-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.logo-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:small;font-weight:100;font-style:italic}.white-logo-image-box[_ngcontent-%COMP%]{background-color:#dedede;padding:10px}.guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:disc;margin-left:30px}.guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px;font-size:14px;color:#4c4c4c}#logo-image-view-div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-color:#ebeaef;margin-bottom:10px;padding:10px;max-width:230px;max-height:130px;display:block;min-width:230px;min-height:130px}#white-logo-image-view-div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-color:#ebeaef;margin-bottom:10px;padding:10px;max-width:230px;max-height:130px;display:block;min-width:230px;min-height:130px}.update-comiq-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;padding-bottom:7px;margin-bottom:7px}"]}),t})()},22098:function(t,e,i){i.d(e,{e:function(){return T}});var o=i(89097),n=i(37716),a=i(67798),r=i(39895),s=i(10298),l=i(7450),g=i(49342),d=i(53668),c=i(39075),h=i(38583),p=i(3679);function u(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",10),n.TgZ(1,"div",11),n.TgZ(2,"span",12),n._UZ(3,"img",13),n.qZA(),n.TgZ(4,"strong",12),n._uU(5),n.qZA(),n.qZA(),n.TgZ(6,"div",11),n.TgZ(7,"button",14),n.NdJ("click",function(){return n.CHM(t),n.oxw().hideSuccess()}),n._UZ(8,"span"),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(5),n.Oqu(t.createdWhiteLabel)}}function m(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",15),n.TgZ(1,"strong"),n._uU(2),n.qZA(),n._uU(3),n.TgZ(4,"button",14),n.NdJ("click",function(){return n.CHM(t),n.oxw().hideError()}),n._UZ(5,"span",16),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(2),n.hij("",t.language.Error,"!"),n.xp6(1),n.hij(" ",t.errorMsg,". ")}}function b(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"a"),n.TgZ(1,"button",17),n.NdJ("click",function(){return n.CHM(t),n.oxw().update()}),n._uU(2),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(2),n.hij(" ",t.language.campaign_Edit," ")}}function f(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",18),n.TgZ(1,"a",19),n.NdJ("click",function(){return n.CHM(t),n.oxw().createWhiteLabel()}),n._uU(2),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(2),n.hij(" ",t.language.Add_New_Whitelabel," ")}}function _(t,e){if(1&t&&(n.TgZ(0,"div",20),n._uU(1),n.qZA()),2&t){const t=n.oxw();n.xp6(1),n.AsE(" ",t.language.No_Data_Found," ",t.SPID," ")}}function Z(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",2),n.TgZ(1,"div",21),n.TgZ(2,"div",22),n.TgZ(3,"label",23),n._uU(4),n.qZA(),n._uU(5),n.qZA(),n.TgZ(6,"div",22),n.TgZ(7,"label",23),n._uU(8),n.qZA(),n._uU(9),n.qZA(),n.TgZ(10,"div",24),n.TgZ(11,"label",25),n._uU(12),n.qZA(),n.TgZ(13,"div",26),n.TgZ(14,"input",27),n.NdJ("ngModelChange",function(e){return n.CHM(t),n.oxw().primarycolor=e}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(15,"div",28),n._uU(16),n.TgZ(17,"div",29),n.TgZ(18,"div",26),n.TgZ(19,"div",30),n._UZ(20,"img",31),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(21,"div",28),n._uU(22),n.TgZ(23,"div",29),n.TgZ(24,"div",26),n.TgZ(25,"div",32),n._UZ(26,"img",33),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(4),n.hij(" ",t.language.Service_Provider," "),n.xp6(1),n.hij(" ",t.spidfromservice," "),n.xp6(3),n.hij(" ",t.language.App_Name," "),n.xp6(1),n.hij(" ",t.appname," "),n.xp6(3),n.hij("",t.language.Primary_Color," "),n.xp6(2),n.Udp("background",t.primarycolor),n.Q6J("ngModel",t.primarycolor),n.xp6(2),n.hij("",t.language.Logo_Icon," "),n.xp6(4),n.s9C("src",t.logo+"?timestamp="+t.timestamp,n.LSH),n.xp6(2),n.hij("",t.language.White_Logo_Icon," "),n.xp6(4),n.s9C("src",t.appicon+"?timestamp="+t.timestamp,n.LSH)}}function v(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"a"),n.TgZ(1,"button",40),n.NdJ("click",function(){return n.CHM(t),n.oxw(3).update()}),n._uU(2),n.qZA(),n.qZA()}if(2&t){const t=n.oxw(3);n.xp6(2),n.hij(" ",t.language.Update," ")}}const x=function(t){return{"background-color":t}};function A(t,e){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n.TgZ(2,"ul",36),n.TgZ(3,"li"),n._uU(4),n.qZA(),n.TgZ(5,"li"),n._uU(6),n.TgZ(7,"a",37),n._uU(8),n.qZA(),n.qZA(),n.TgZ(9,"li"),n._uU(10),n.TgZ(11,"a",37),n._uU(12),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(13,"td"),n._uU(14),n.qZA(),n.TgZ(15,"td"),n.TgZ(16,"ul",38),n.TgZ(17,"li"),n._uU(18),n._UZ(19,"span",39),n._uU(20),n.qZA(),n.qZA(),n.qZA(),n.TgZ(21,"td"),n.YNc(22,v,3,1,"a",4),n.qZA(),n.qZA()),2&t){const t=e.$implicit,i=n.oxw(2);n.xp6(4),n.Oqu(t.body.sellerName),n.xp6(2),n.hij(" ",i.language.Logo,": "),n.xp6(1),n.s9C("href",t.body.theme.logo,n.LSH),n.xp6(1),n.hij("",i.language.Preview," "),n.xp6(2),n.hij(" ",i.language.White_Logo,": "),n.xp6(1),n.s9C("href",t.body.appIcon,n.LSH),n.xp6(1),n.hij("",i.language.Preview," "),n.xp6(2),n.Oqu(t.body.spId),n.xp6(4),n.hij(" ",i.language.Primary," : "),n.xp6(1),n.Q6J("ngStyle",n.VKq(12,x,t.body.theme.primaryColor?t.body.theme.primaryColor:null)),n.xp6(1),n.hij("",t.body.theme.primaryColor," "),n.xp6(2),n.Q6J("ngIf",i.showUpdateBtn)}}function C(t,e){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td",41),n._uU(2),n.qZA(),n.qZA()),2&t){const t=n.oxw(2);n.xp6(2),n.Oqu(t.language.No_White_label)}}function I(t,e){if(1&t&&(n.TgZ(0,"table",34),n.TgZ(1,"thead"),n.TgZ(2,"tr"),n.TgZ(3,"th"),n._uU(4),n.qZA(),n.TgZ(5,"th"),n._uU(6,"SPID"),n.qZA(),n.TgZ(7,"th"),n._uU(8),n.qZA(),n.TgZ(9,"th"),n._uU(10),n.qZA(),n.qZA(),n.qZA(),n.TgZ(11,"tbody"),n.YNc(12,A,23,14,"tr",35),n.YNc(13,C,3,1,"tr",4),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(4),n.Oqu(t.language.APP_Info),n.xp6(4),n.Oqu(t.language.Color),n.xp6(2),n.Oqu(t.language.Action),n.xp6(2),n.Q6J("ngForOf",t.whitelabellist),n.xp6(1),n.Q6J("ngIf",!0===t.hideAdd)}}let T=(()=>{class t{constructor(t,e,i,o,n,a,r,s){this.service=t,this.router=e,this.sso=i,this.routerService=o,this.translateService=n,this.commonOrgService=a,this.organizationApiService=r,this.titleService=s,this.whitelabellist=[],this.addWhitelabel=!1,this.showSuccess=this.routerService.showSuccess,this.createdWhiteLabel="",this.updateSuccessMessage=this.routerService.updateSuccessMessage,this.isShad=!0,this.REDIRECT_URL="/organization-admin",this.commonOrgService.currentPageAdder("whitelabel");let l=this.router.url;-1===l.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(l),this.REDIRECT_URL=this.sso.getRedirectModule(l),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID)):this.SPID=this.sso.getSPID(),l.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings"),this.titleService.setTitle(`CommandIQ Branding - ${"systemAdministration"===this.REDIRECT_URL?"System Administration":"Administration"} - Calix Cloud`)}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe(),this.routerService.setShowSuccess(!1),this.routerService.setCreateFlag(!1),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe()}ngOnInit(){let t=this.sso.getScopes();-1!==this.router.url.indexOf("/shad/")?t["cloud.shad.service"]&&-1!==t["cloud.shad.service"].indexOf("write")&&(this.showCreateBtn=!0,this.showUpdateBtn=!0):this.sso.checkAdminScopes(o.Nc.WRITE)&&(this.showCreateBtn=!0,this.showUpdateBtn=!0),this.SPID||this.isShad?this.list():this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(t=>{this.orgIdResponse=t,this.sso.setAdminOrgInfo(t),t&&t.spId&&(this.SPID=t.spId,this.list())},t=>{}),this.spid=this.sso.getSPID(),setTimeout(()=>{this.showSuccess=!1,this.createdWhiteLabel=""},5e3),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t}),this.updateSuccessMessage&&(this.createdWhiteLabel=this.routerService.getCreateFlag()?this.language["Created Successfully"]:this.language["Updated Succesfully"])}hideSuccess(){this.showSuccess=!1,this.createdWhiteLabel=""}getWhitelabel(){this.showError=!1;var t=this.sso.getSPID();this.service.spinfo(t).toPromise().then(t=>{this.spiResponse=null==t?void 0:t.body,this.addWhitelabel=!1,this.list()}).catch(t=>{var e;404==(null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.errorType)&&(this.addWhitelabel=!0)})}list(){this.sso.getSPID(),this.service.whiteLabellist(this.SPID).toPromise().then(t=>{this.whiteLbelResponse=t.body,this.timestamp=(new Date).getTime(),404!=t.errorType?(this.hideAdd=!0,this.editvisibility=!1,this.whitelabellist.push(t),this.spidfromservice=t.body.spId,this.appname=t.body.appName,this.primarycolor=t.body.theme.primaryColor,this.logo=t.body.theme.logo,this.appicon=t.body.appIcon):(this.hideAdd=!1,this.editvisibility=!0,this.whitelabellist=[]),this.whitelabellist.length>0?(this.hideAdd=!1,this.editvisibility=!0):(this.hideAdd=!0,this.editvisibility=!1,this.whitelabellist=[]),this.addWhitelabel=!1}).catch(t=>{this.addWhitelabel=!0,401==t.status&&(this.errorMsg=t.statusText?t.statusText:"Unauthorized User",this.showError=!0)})}update(){this.router.navigate(this.isShad?["/shad/whitelabel-update"]:[`/${this.REDIRECT_URL}/whitelabel-update`])}createWhiteLabel(){this.router.navigate(this.isShad?["/shad/whitelabel-create"]:[`/${this.REDIRECT_URL}/whitelabel-create`])}hideError(){this.showError=!1}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(a.E),n.Y36(r.F0),n.Y36(o.t6),n.Y36(s.c),n.Y36(l.s),n.Y36(g.v),n.Y36(d.F),n.Y36(c.Dx))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-whitelabel"]],decls:10,vars:7,consts:[["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],[1,"row"],[1,"col-md-12","text-right","border-bottom","pb-2","mb-2"],[4,"ngIf"],[1,"whitelabel-sec"],["class","label-link",4,"ngIf"],["class","nodata",4,"ngIf"],["class","row",4,"ngIf"],["class","table table-bordered app-info","style","display: none;",4,"ngIf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"d-inline"],[1,"mr-2"],["src","../../../assets/img/ic_success-circle-outline.svg"],["type","button",1,"close",3,"click"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["aria-hidden","true"],["id","editbutton",1,"btn-default","primary","px-3",3,"click"],[1,"label-link"],["id","add-new-commandiq-label",3,"click"],[1,"nodata"],[1,"col-md-4"],[1,"mb-2"],[1,"w-100"],[1,"form-input-field","ccl-form"],[1,"label-control"],[1,"input-field"],["name","primaryColor","id","primaryColor","readonly","",1,"form-control",2,"color","#faf9f5",3,"ngModel","ngModelChange"],[1,"col-md-3"],[1,"form-input-field"],["id","logo-image-view-div",2,"display","inline-block"],["id","logo-image-view","height","100px","width","200px",2,"max-width","250px","background-color","#EBEAEF","margin-bottom","10px",3,"src"],["id","white-logo-image-view-div",2,"display","inline-block"],["id","white-logo-image-view","height","100px","width","200px",1,"white-logo-image-box",2,"background-color","#EBEAEF","margin-bottom","10px","max-width","250px",3,"src"],[1,"table","table-bordered","app-info",2,"display","none"],[4,"ngFor","ngForOf"],[1,"app-detail"],[1,"link",3,"href"],[1,"color-detail"],[1,"box","mx-2",3,"ngStyle"],["id","updatebutton",1,"btn-default","primary","px-3",3,"click"],["colspan","7"]],template:function(t,e){1&t&&(n.YNc(0,u,9,1,"div",0),n.YNc(1,m,6,2,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.YNc(4,b,3,1,"a",4),n.qZA(),n.qZA(),n.TgZ(5,"div",5),n.YNc(6,f,3,1,"div",6),n.YNc(7,_,2,2,"div",7),n.YNc(8,Z,27,12,"div",8),n.YNc(9,I,14,5,"table",9),n.qZA()),2&t&&(n.Q6J("ngIf",e.showSuccess),n.xp6(1),n.Q6J("ngIf",e.showError),n.xp6(3),n.Q6J("ngIf",e.showUpdateBtn&&e.editvisibility),n.xp6(2),n.Q6J("ngIf",e.addWhitelabel&&e.showCreateBtn),n.xp6(1),n.Q6J("ngIf",e.addWhitelabel),n.xp6(1),n.Q6J("ngIf",e.showUpdateBtn&&e.editvisibility),n.xp6(1),n.Q6J("ngIf",!e.addWhitelabel))},directives:[h.O5,p.Fj,p.JJ,p.On,h.sg,h.PC],styles:['.p-10[_ngcontent-%COMP%]{padding:10px}.p-15[_ngcontent-%COMP%]{padding:15px}.p-20[_ngcontent-%COMP%]{padding:20px}.p-25[_ngcontent-%COMP%]{padding:25px}.p-30[_ngcontent-%COMP%]{padding:30px}.p-35[_ngcontent-%COMP%]{padding:35px}.p-40[_ngcontent-%COMP%]{padding:40px}.p-45[_ngcontent-%COMP%]{padding:45px}.p-50[_ngcontent-%COMP%]{padding:50px}.p-55[_ngcontent-%COMP%]{padding:55px}.p-60[_ngcontent-%COMP%]{padding:60px}.pt-10[_ngcontent-%COMP%]{padding-top:10px}.pt-15[_ngcontent-%COMP%]{padding-top:15px}.pt-20[_ngcontent-%COMP%]{padding-top:20px}.pt-25[_ngcontent-%COMP%]{padding-top:25px}.pt-30[_ngcontent-%COMP%]{padding-top:30px}.pt-35[_ngcontent-%COMP%]{padding-top:35px}.pt-40[_ngcontent-%COMP%]{padding-top:40px}.pt-45[_ngcontent-%COMP%]{padding-top:45px}.pt-50[_ngcontent-%COMP%]{padding-top:50px}.pt-55[_ngcontent-%COMP%]{padding-top:55px}.pt-60[_ngcontent-%COMP%]{padding-top:60px}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.mt-25[_ngcontent-%COMP%]{margin-top:25px}.mt-30[_ngcontent-%COMP%]{margin-top:30px}.mt-35[_ngcontent-%COMP%]{margin-top:35px}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mt-45[_ngcontent-%COMP%]{margin-top:45px}.mt-50[_ngcontent-%COMP%]{margin-top:50px}.mt-55[_ngcontent-%COMP%]{margin-top:55px}.mt-60[_ngcontent-%COMP%]{margin-top:60px}.mb0[_ngcontent-%COMP%]{margin-bottom:0}.mb1[_ngcontent-%COMP%]{margin-bottom:10px}.mb15[_ngcontent-%COMP%]{margin-bottom:15px}.mb2[_ngcontent-%COMP%]{margin-bottom:20px}.mb3[_ngcontent-%COMP%]{margin-bottom:30px}.mb4[_ngcontent-%COMP%]{margin-bottom:40px}.mb5[_ngcontent-%COMP%]{margin-bottom:50px}.mb6[_ngcontent-%COMP%]{margin-bottom:60px}.mb7[_ngcontent-%COMP%]{margin-bottom:70px}.mb8[_ngcontent-%COMP%]{margin-bottom:80px}.mb9[_ngcontent-%COMP%]{margin-bottom:90px}.primary[_ngcontent-%COMP%]{color:#0279ff}.secondary[_ngcontent-%COMP%]{color:#0054b2}.calixpurple[_ngcontent-%COMP%]{color:#43367d}.calixblue[_ngcontent-%COMP%]{color:#324a9d}.calixsky[_ngcontent-%COMP%]{color:#387cbf}.calixorange[_ngcontent-%COMP%]{color:#e97b00}.brightred[_ngcontent-%COMP%]{color:#ff3600}.lightred[_ngcontent-%COMP%]{color:#ff734f}.purple[_ngcontent-%COMP%]{color:#91479b}.error[_ngcontent-%COMP%]{color:#c70000}.warning[_ngcontent-%COMP%]{color:#ff8238}.warningt[_ngcontent-%COMP%]{color:#c74900}.success[_ngcontent-%COMP%]{color:#82bf00}.successt[_ngcontent-%COMP%]{color:#507500}.caution[_ngcontent-%COMP%]{color:#f7c343}.wgrey[_ngcontent-%COMP%]{color:#f8f8fa}.snowgrey[_ngcontent-%COMP%]{color:#ebeaef}.lgrey[_ngcontent-%COMP%]{color:#ccc}.calixgrey[_ngcontent-%COMP%]{color:#9e9e9e}.blastgrey[_ngcontent-%COMP%]{color:gray}.greyaa[_ngcontent-%COMP%]{color:#1a1f22}.darkgrey[_ngcontent-%COMP%]{color:#333}.calixblack[_ngcontent-%COMP%]{color:#1a1f22}.calixblack[_ngcontent-%COMP%]{color:#000}.calixred[_ngcontent-%COMP%]{color:#fb2d55}.calixgreen[_ngcontent-%COMP%]{color:#349885}.calixaqblue[_ngcontent-%COMP%]{color:#26c0eb}.title[_ngcontent-%COMP%]{font-size:42px;font-weight:300;line-height:53px}.title-second[_ngcontent-%COMP%]{font-size:24px!important;font-style:normal;font-weight:400!important;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.heading-sm[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:22px}.listlabels[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:22px}.listdataem[_ngcontent-%COMP%]{font-size:13px;font-weight:600;line-height:21px}.listdata[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:24px}.formlabels[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:16px}.captions[_ngcontent-%COMP%]{font-size:11px;font-weight:600;line-height:13.2px}.chartno[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.btn-large[_ngcontent-%COMP%]{border-radius:26px;padding:12px;min-width:130px;text-align:center;font-size:20px;font-weight:400;color:#fff;box-shadow:5px 5px 10px #00000026;border:0}.btn-large.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-large.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-large.primary[_ngcontent-%COMP%]:focus{background:#0054b2;outline:none;box-shadow:none;border:0}.btn-large.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-large.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-large.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-default[_ngcontent-%COMP%]{border-radius:16px;padding:5px;min-width:86px;text-align:center;font-size:16px;font-weight:400;color:#fff;box-shadow:3px 3px 6px #00000026;border:0}.btn-default.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-default.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-default.primary[_ngcontent-%COMP%]:focus{background:#0054b2}.btn-default.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-default.btn-dft[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c;border:1px solid #CCCCCC}.btn-default.btn-dft[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-default.btn-dft[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-default.btn-dft.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-small[_ngcontent-%COMP%]{border-radius:12px;padding:3px;min-width:70px;text-align:center;font-size:12px;font-weight:400;color:#fff;box-shadow:2px 2px 4px #00000026;border:0}.btn-small.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-small.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-small.primary[_ngcontent-%COMP%]:focus{background:#EBEAEF}.btn-small.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-small.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-small.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-round[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;display:flex;justify-content:center;align-items:center;border:0;background-position:center;background-repeat:no-repeat;padding:0}.btn-round.info-round[_ngcontent-%COMP%]{width:32px;height:32px}.btn-round.primary[_ngcontent-%COMP%]{background-color:#0279ff}.btn-round.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-round.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-round[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none;border:0}.btn-round.btn-small-24[_ngcontent-%COMP%]{width:24px;height:24px}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow[_ngcontent-%COMP%]{height:32px;line-height:32px;min-width:110px;text-align:center;border:0;padding:0;box-shadow:2px 2px 4px #00000026;font-size:16px;font-weight:400;color:#1a1f22;justify-content:center;align-items:center;position:relative;border-radius:26px}.btn-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;top:-2px}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]{box-shadow:none}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.btn-arrow.btn-arr-nxt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:10px}.btn-arrow.primary[_ngcontent-%COMP%]{background-color:#0279ff;color:#fff}.btn-arrow.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-arrow.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-arrow.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-arrow.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}[type=radio][_ngcontent-%COMP%]:checked, [type=radio][_ngcontent-%COMP%]:not(:checked){width:16px;height:16px;min-height:16px;position:relative!important;cursor:pointer;appearance:none;-webkit-appearance:none;-moz-appearance:none}[type=radio][_ngcontent-%COMP%]:checked:before, [type=radio][_ngcontent-%COMP%]:checked:after, [type=radio][_ngcontent-%COMP%]:not(:checked):before{content:"";position:absolute;border-radius:100%}[type=radio][_ngcontent-%COMP%]:checked:before{background:#0279FF;width:16px;height:16px;top:0px}[type=radio][_ngcontent-%COMP%]:checked:after{width:12px;height:12px;background:#0279FF;top:2px;left:2px;border:1px solid #ffffff;z-index:9}[type=radio][_ngcontent-%COMP%]:not(:checked):before{background:#ffffff;border:1px solid #CCCCCC;width:16px;height:16px}[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], [type=radio][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{position:relative;padding-left:10px;cursor:pointer;display:inline-block;color:#666}[type=radio][_ngcontent-%COMP%]:checked:disabled:before{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:checked:disabled:after{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:disabled, [type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{cursor:not-allowed}[type=radio][_ngcontent-%COMP%]:not(:checked):hover:before{background:#ffffff;border:1px solid #0279FF}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:hover:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:focus{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:active{border-color:transparent!important}.label-link[_ngcontent-%COMP%]{margin-bottom:15px}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;text-decoration:underline!important;font-weight:600;cursor:pointer}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0279ff}.app-info[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#F8F8FA}.link[_ngcontent-%COMP%]{text-decoration:underline!important;cursor:pointer;color:#1a1f22}.link[_ngcontent-%COMP%]:hover{color:#0279ff}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-30[_ngcontent-%COMP%]{width:30%}.nodata[_ngcontent-%COMP%]{text-align:center;font-size:16px}.box[_ngcontent-%COMP%]{float:left;height:15px;width:15px;padding:10px;border:1px solid black;clear:both}']}),t})()},53668:function(t,e,i){i.d(e,{F:function(){return g}});var o=i(91841),n=i(40205),a=i(92340),r=i(5304),s=i(37716);const l={headers:new o.WM({})};let g=(()=>{class t{constructor(t){this.httpClient=t,this.baseURL=a.N.calixAdminURL,this.OrgBaseURL=a.N.CALIX_ADMIN_ORG_BASE_URL,this.org_id=a.N.faAdminOrgId,this.users=this.baseURL+"users",this.userDelete=this.baseURL+"user",this.userAdd=this.baseURL+"user/signup",this.roles=this.baseURL+"roles",this.roleDelete=this.baseURL+"role",this.deactivateUsersList=this.baseURL+"dpu/list",this.aclList=this.baseURL+"org/50/orgacl",this.ssoconfigAdd=this.baseURL+"config",this.ssoconfigUpdate=this.baseURL+"config",this.ssoconfigGet=this.baseURL+"config/org/",this.ssoconfigDelete=this.baseURL+"config/",this.aclDelete=this.baseURL+"org/12622588/orgacl",this.aclAdd=this.baseURL+"org/50/orgacl",this.acsList=this.OrgBaseURL+"orgshare/acs",this.acsUpdate=this.OrgBaseURL+"orgshare/acs",this.acsDelete=this.baseURL+"orgshare/acs/remove/1234",this.orgInfo=this.OrgBaseURL+"organizations/50",this.orgInfoEntitlements=this.OrgBaseURL+"entitlements/50"}UsersCountByOrgId(t){return this.httpClient.get(`${this.baseURL}org/${t}/users/_count`,l)}UsersList(){return this.httpClient.get(this.users,l)}UsersListByOrgId(t,e){return this.httpClient.get(`${this.baseURL}org/${t}/users?size=${e}`,l)}UserDelete(t){return this.httpClient.delete(`${this.userDelete}/${t}`,l)}UserAdd(t){return this.httpClient.put(`${this.userAdd}`,t,l)}RolesList(){return this.httpClient.get(this.roles,l)}RolesListByOrgID(t){return this.httpClient.get(`${this.baseURL}org/${t}/roles`,l)}RoleDelete(t){return this.httpClient.delete(`${this.roleDelete}/${t}`,l)}DeactivateUsersList(){return this.httpClient.get(this.deactivateUsersList,l)}AclList(t){return this.httpClient.get(`${a.N.calixAdminURL}org/${t}/orgacl`,l)}AclAdd(t,e){return this.httpClient.post(`${a.N.calixAdminURL}org/${e}/orgacl`,t,l)}AclDelete(t){return this.httpClient.delete(`${a.N.calixAdminURL}org/${t}/orgacl`,l)}SSOConfigAdd(t){return this.httpClient.put(`${this.ssoconfigAdd}`,t,l)}SSOConfigUpdate(t,e){return this.httpClient.post(`${this.ssoconfigUpdate}/${e}`,t,l)}SSOConfigGet(t){return this.httpClient.get(`${a.N.calixAdminURL}config/org/${t}`,l)}SSOConfigDelete(t){return this.httpClient.delete(`${this.ssoconfigDelete}/${t}`,l)}ACSList(t){return this.httpClient.get(`${a.N.CALIX_ADMIN_ORG_BASE_URL}orgshare/acs/${t}`,l)}ACSAdd(t){return this.httpClient.post(`${a.N.CALIX_ADMIN_ORG_BASE_URL}orgshare/acs`,t,l)}AcsDelete(){return this.httpClient.get(this.acsDelete,l)}ACSUpdate(t,e){return this.httpClient.put(`${a.N.CALIX_ADMIN_ORG_BASE_URL}orgshare/acs/${e}`,t,l)}orgInformation(t){return this.httpClient.get(`${a.N.CALIX_ADMIN_ORG_BASE_URL}organizations/${t}`,l)}orgInfoEntitlement(t){return this.httpClient.get(`${a.N.CALIX_ADMIN_ORG_BASE_URL}entitlements/${t}`,l)}OrganzationDetail(t){return this.httpClient.get(`${a.N.CALIX_ADMIN_ORG_BASE_URL}organizations/${t}`,l)}GetSpeedTestData(t){return this.httpClient.get(`${a.N.SUPPORT_URL}/device/speed-test/config/${t}`)}UpdateSpeedTestData(t,e){return this.httpClient.put(`${a.N.SUPPORT_URL}/device/speed-test/config/${t}`,e)}AddSpeedTestData(t){return this.httpClient.post(`${a.N.calixAdminURL}speedtest/organization`,t,l)}DeleteSpeedTestData(t){return this.httpClient.delete(`${a.N.calixAdminURL}speedtest/organization/${t}`,l)}callRestApi(t,e){return this.httpClient.get(`${t}`,l).pipe((0,r.K)(this.handleError))}handleError(t){return(0,n._)(t)}DeleteRolesListByUserId(t){return this.httpClient.delete(`${a.N.calixAdminURL}user/${t}/roles`,l)}GetHostData(t){return this.httpClient.get(`${t}`)}GetACSData(t){return this.httpClient.get(`${a.N.calixAdminURL}acs/organization/${t}`)}UpdateACSData(t,e){return this.httpClient.put(`${a.N.calixAdminURL}acs/organization/${e}`,t,l)}getOrgInfo(t){return this.httpClient.get(`${a.N.CALIX_ADMIN_ORG_BASE_URL}organizations/${t}`,l)}fetchBillingSummaryInfo(){return this.httpClient.get(`${a.N.API_BASE_URL}billing/subscriber-pipeline/summary`)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(o.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);