"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[2964],{32964:function(e,t,i){i.d(t,{g:function(){return K}});var s=i(79765),o=i(23771),n=i(92340),r=i(91704),a=i(1282),c=i(37716),d=i(7450),l=i(91841),u=i(99104),h=i(39895),g=i(94802),p=i(89097),m=i(48483),b=i(43721),v=i(96410),f=i(90048),_=i(39075),T=i(20904),Z=i(3679),x=i(86640),D=i(38583),w=i(18638),C=i(17507);function y(e,t){if(1&e&&c._uU(0),2&e){const e=t.item,i=c.oxw();c.hij(" ",i.language[e.name]," ")}}function O(e,t){if(1&e&&c._uU(0),2&e){const e=t.item,i=c.oxw();c.hij(" ",i.language[e.name]," ")}}function M(e,t){if(1&e&&(c.TgZ(0,"div",29),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.hij(" ",e.language.Select_Type_Reports," ")}}function S(e,t){if(1&e&&(c.TgZ(0,"div",35),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.hij(" ",e.language.Time_Period_Report_Error," ")}}const A=function(){return{standalone:!0}};function q(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",13),c.TgZ(1,"label",30),c._uU(2),c.TgZ(3,"span",15),c._uU(4,"*"),c.qZA(),c.qZA(),c.TgZ(5,"div",31),c.TgZ(6,"ng-select",32,33),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().devicetime=t})("change",function(){return c.CHM(e),c.oxw().onChangeTimePeriod()}),c.qZA(),c.YNc(8,S,2,1,"div",34),c.qZA(),c.qZA()}if(2&e){const e=c.MAs(7),t=c.oxw();c.xp6(2),c.Oqu(t.language.Time_Period),c.xp6(4),c.Q6J("ngModel",t.devicetime)("ngModelOptions",c.DdM(7,A))("items",t.timeperiods)("clearable",!1)("searchable",!1),c.xp6(2),c.Q6J("ngIf",e.invalid&&(e.touched||t.submit))}}function P(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",13),c.TgZ(1,"label",36),c._uU(2),c.TgZ(3,"span",15),c._uU(4,"*"),c.qZA(),c.qZA(),c.TgZ(5,"div",37),c.TgZ(6,"ng-select",38),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().deviceGroup=t})("change",function(){return c.CHM(e),c.oxw().onChangeDeviceGroup()}),c.qZA(),c.TgZ(7,"p",39),c._uU(8),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(2),c.Oqu(e.language.Device_Group),c.xp6(4),c.Q6J("ngModel",e.deviceGroup)("ngModelOptions",c.DdM(5,A))("items",e.deviceGroups),c.xp6(2),c.Oqu(e.language["Please select a system group"])}}function N(e,t){if(1&e&&(c.TgZ(0,"div",29),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.hij(" ",e.language["Select a start date that occurs before the end date"]," ")}}function U(e,t){if(1&e&&(c.TgZ(0,"div",29),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.hij(" ",e.language["Select an end date that occurs after the start date"]," ")}}const I=function(){return{height:"36px"}};function R(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",40),c._UZ(1,"div",41),c.TgZ(2,"div",42),c.TgZ(3,"div",43),c.TgZ(4,"div",44),c.TgZ(5,"div",45),c.TgZ(6,"label"),c._uU(7),c.TgZ(8,"p-calendar",46),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().customStartDate=t})("onSelect",function(){return c.CHM(e),c.oxw().onchangeStartDate()}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"div",47),c._uU(10),c.qZA(),c.YNc(11,N,2,1,"div",21),c.qZA(),c.TgZ(12,"div",48),c.TgZ(13,"div",49),c.TgZ(14,"label"),c._uU(15),c.TgZ(16,"p-calendar",46),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().customEndDate=t})("onSelect",function(){return c.CHM(e),c.oxw().onchangeEndDate()}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(17,"div",50),c._uU(18),c.qZA(),c.YNc(19,U,2,1,"div",21),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(7),c.hij("",e.language.Start," "),c.xp6(1),c.Akn(c.DdM(24,I)),c.Q6J("inputStyle",c.DdM(25,I))("autoZIndex",!0)("ngModel",e.customStartDate)("showIcon",!0)("ngModelOptions",c.DdM(26,A))("maxDate",e.maxForStartDate)("minDate",e.minDateForCse),c.xp6(2),c.hij(" ",e.language.Time_Period_Report_Validation2," "),c.xp6(1),c.Q6J("ngIf",e.startErrorMessage),c.xp6(4),c.hij("",e.language.End," "),c.xp6(1),c.Akn(c.DdM(27,I)),c.Q6J("inputStyle",c.DdM(28,I))("autoZIndex",!0)("ngModel",e.customEndDate)("showIcon",!0)("ngModelOptions",c.DdM(29,A))("maxDate",e.maxDate)("minDate",e.customStartDate),c.xp6(2),c.hij(" ",e.language.Time_Period_Report_Validation3," "),c.xp6(1),c.Q6J("ngIf",e.endErrorMessage)}}function k(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",51),c.TgZ(1,"label",52,53),c._uU(3),c.qZA(),c.TgZ(4,"div",54),c.TgZ(5,"div",55),c.TgZ(6,"label",56),c.TgZ(7,"input",57),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().isTimePeriod=t})("change",function(){return c.CHM(e),c.oxw().toggleSwitch()}),c.qZA(),c.TgZ(8,"span"),c._UZ(9,"small",58),c._UZ(10,"small",59),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(3),c.Oqu(e.language.Not_In_Time_Period),c.xp6(4),c.Q6J("ngModelOptions",c.DdM(3,A))("ngModel",e.isTimePeriod)}}function E(e,t){1&e&&(c.TgZ(0,"section"),c._UZ(1,"app-unassociated-devices"),c.qZA())}function L(e,t){1&e&&c._UZ(0,"div",66)}function G(e,t){if(1&e&&(c.TgZ(0,"div",67),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.HOy(" ",e.language["Total CPE Count"]," : ",e.cpeCount,", ",e.language.Total_Firmware_Count," : ",e.firmwareCount," ")}}function J(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",68),c.TgZ(1,"i",69),c.NdJ("click",function(){return c.CHM(e),c.oxw(2).downloadSftwreReport()}),c.qZA(),c.TgZ(2,"h4",70),c.NdJ("click",function(){return c.CHM(e),c.oxw(2).downloadSftwreReport()}),c._uU(3),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(3),c.Oqu(e.language.export)}}function F(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"section",71),c.TgZ(2,"div",43),c.TgZ(3,"div",72),c.TgZ(4,"div",73),c.TgZ(5,"div",74),c.TgZ(6,"div"),c.TgZ(7,"label",75),c._uU(8),c.qZA(),c.TgZ(9,"div",63),c.TgZ(10,"ng-select",76),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw(2).manufacturer=t}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"div",74),c.TgZ(12,"div"),c.TgZ(13,"label",77),c._uU(14),c.qZA(),c.TgZ(15,"div",78),c.TgZ(16,"ng-select",79),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw(2).modelName=t}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(17,"div",74),c.TgZ(18,"div"),c.TgZ(19,"label",80),c._uU(20),c.qZA(),c.TgZ(21,"div",78),c.TgZ(22,"ng-select",81),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw(2).opmode=t}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(23,"div",74),c.TgZ(24,"div",82),c.TgZ(25,"label",83),c._uU(26),c.qZA(),c.TgZ(27,"div",63),c.TgZ(28,"input",84),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw(2).serialNumber=t})("blur",function(){c.CHM(e);const t=c.oxw(2);return t.removeUnwantedSpace("serialNumber",t.serialNumber)}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(29,"div",74),c.TgZ(30,"div",82),c.TgZ(31,"label",83),c._uU(32),c.qZA(),c.TgZ(33,"div",63),c.TgZ(34,"input",85),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw(2).subscriber=t})("blur",function(){c.CHM(e);const t=c.oxw(2);return t.removeUnwantedSpace("subscriber",t.subscriber)}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(35,"div",86),c.TgZ(36,"div",87),c.TgZ(37,"button",88),c.NdJ("click",function(){return c.CHM(e),c.oxw(2).doFilter()}),c._uU(38),c.qZA(),c.qZA(),c.TgZ(39,"div",87),c.TgZ(40,"button",89),c.NdJ("click",function(){return c.CHM(e),c.oxw(2).clearFilters()}),c._uU(41),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(8),c.Oqu(e.language.manufacturer),c.xp6(2),c.Q6J("ngModel",e.manufacturer)("items",e.dropdwonOutData.manufacturer)("ngModelOptions",c.DdM(24,A))("clearable",!1)("searchable",!0),c.xp6(4),c.Oqu(e.language.Model_Name),c.xp6(2),c.Q6J("ngModel",e.modelName)("items",e.dropdwonOutData.model)("ngModelOptions",c.DdM(25,A))("clearable",!1)("searchable",!0),c.xp6(4),c.Oqu(e.language.Mode),c.xp6(2),c.Q6J("ngModel",e.opmode)("items",e.modes)("ngModelOptions",c.DdM(26,A))("clearable",!1)("searchable",!0),c.xp6(4),c.Oqu(e.language.Serial_Number),c.xp6(2),c.Q6J("ngModel",e.serialNumber),c.xp6(4),c.Oqu(e.language.Subscriber),c.xp6(2),c.Q6J("ngModel",e.subscriber),c.xp6(4),c.hij(" ",e.language.run," "),c.xp6(3),c.hij(" ",e.language.Clear_Filters," ")}}function H(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"a",104),c.NdJ("click",function(){c.CHM(e);const t=c.oxw().$implicit;return c.oxw(3).navigateToTroubleShootPage(t)}),c._uU(1),c.qZA()}if(2&e){const e=c.oxw().$implicit;c.xp6(1),c.Oqu(e.subscriberName)}}function Y(e,t){if(1&e&&c._uU(0),2&e){const e=c.oxw().$implicit;c.Oqu(e.subscriberName)}}function Q(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"a",104),c.NdJ("click",function(){c.CHM(e);const t=c.oxw().$implicit;return c.oxw(3).clickSerialNumber(t)}),c._uU(1),c.qZA()}if(2&e){const e=c.oxw().$implicit;c.xp6(1),c.Oqu(e.serialnumber)}}function V(e,t){if(1&e&&c._uU(0),2&e){const e=c.oxw().$implicit;c.Oqu(e.serialnumber)}}function j(e,t){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c.YNc(4,H,2,1,"a",101),c.YNc(5,Y,1,1,"ng-template",null,102,c.W1O),c.qZA(),c.TgZ(7,"td"),c.YNc(8,Q,2,1,"a",101),c.YNc(9,V,1,1,"ng-template",null,103,c.W1O),c.qZA(),c.TgZ(11,"td"),c._uU(12),c.qZA(),c.TgZ(13,"td"),c._uU(14),c.qZA(),c.TgZ(15,"td"),c._uU(16),c.qZA(),c.TgZ(17,"td"),c._uU(18),c.qZA(),c.TgZ(19,"td"),c._uU(20),c.qZA(),c.TgZ(21,"td"),c._uU(22),c.qZA(),c.TgZ(23,"td"),c._uU(24),c.qZA(),c.TgZ(25,"td"),c._uU(26),c.qZA(),c.TgZ(27,"td"),c._uU(28),c.ALo(29,"date"),c.qZA(),c.TgZ(30,"td"),c._uU(31),c.ALo(32,"date"),c.qZA(),c.qZA()),2&e){const e=t.$implicit,i=c.MAs(6),s=c.MAs(10),o=c.oxw(3);c.xp6(2),c.Oqu(e.subscriberId),c.xp6(2),c.Q6J("ngIf","DME"!==o.sso.getCscType())("ngIfElse",i),c.xp6(4),c.Q6J("ngIf",o.routerTabRead)("ngIfElse",s),c.xp6(4),c.Oqu(e.opmode),c.xp6(2),c.Oqu(e.manufacturer),c.xp6(2),c.Oqu(e.modelname),c.xp6(2),c.Oqu(e.registrationid),c.xp6(2),c.Oqu(e.softwareversion),c.xp6(2),c.Oqu(e.hardwareversion),c.xp6(2),c.Oqu(e.ipaddress),c.xp6(2),c.Oqu(e.macaddress),c.xp6(2),c.hij(" ",c.xi3(29,15,e.lastdiscovertimestamp,"MM/dd/yyyy, HH:mm:ss")," "),c.xp6(3),c.Oqu(c.xi3(32,18,e.lastinformtime,"MM/dd/yyyy, HH:mm:ss"))}}function W(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",90),c.TgZ(1,"div",91),c.TgZ(2,"a",92),c.NdJ("click",function(){return c.CHM(e),c.oxw(2).export()}),c._uU(3),c.qZA(),c.qZA(),c.TgZ(4,"div",93),c.TgZ(5,"table",94),c.TgZ(6,"thead",95),c.TgZ(7,"tr"),c.TgZ(8,"th",96),c._uU(9),c.qZA(),c.TgZ(10,"th",96),c._uU(11),c.qZA(),c.TgZ(12,"th",96),c._uU(13),c.qZA(),c.TgZ(14,"th",96),c._uU(15),c.qZA(),c.TgZ(16,"th",96),c._uU(17),c.qZA(),c.TgZ(18,"th",96),c._uU(19),c.qZA(),c.TgZ(20,"th",96),c._uU(21),c.qZA(),c.TgZ(22,"th",96),c._uU(23),c.qZA(),c.TgZ(24,"th",96),c._uU(25),c.qZA(),c.TgZ(26,"th",96),c._uU(27),c.qZA(),c.TgZ(28,"th",97),c._uU(29),c.qZA(),c.TgZ(30,"th",98),c._uU(31),c.qZA(),c.TgZ(32,"th",99),c._uU(33),c.qZA(),c.qZA(),c.qZA(),c.TgZ(34,"tbody"),c.YNc(35,j,33,21,"tr",100),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(3),c.hij(" ",e.language.export," "),c.xp6(2),c.Q6J("dtOptions",e.dtOptions),c.xp6(4),c.Oqu(e.language.Subscriber_Location_ID),c.xp6(2),c.Oqu(e.language.Subscriber_Name),c.xp6(2),c.hij("FSAN/",e.language.Serial_Number,""),c.xp6(2),c.Oqu(e.language.Mode),c.xp6(2),c.Oqu(e.language.manufacturer),c.xp6(2),c.Oqu(e.language.model),c.xp6(2),c.Oqu(e.language.Registration_ID),c.xp6(2),c.Oqu(e.language.Software_Version),c.xp6(2),c.Oqu(e.language.Hardware_Version),c.xp6(2),c.Oqu(e.language.IP_Address),c.xp6(2),c.Oqu(e.language.MAC_Address),c.xp6(2),c.Oqu(e.language.Last_Discovered_Time),c.xp6(2),c.Oqu(e.language.Last_Inform_Time),c.xp6(2),c.Q6J("ngForOf",e.inventoryTableData)}}function z(e,t){if(1&e&&(c.TgZ(0,"div",105),c.TgZ(1,"div",106),c.TgZ(2,"div",107),c.TgZ(3,"span",108),c._uU(4),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.xp6(4),c.Oqu(e.language.Loading)}}function B(e,t){if(1&e&&(c.TgZ(0,"div"),c.YNc(1,L,1,0,"div",60),c.YNc(2,G,2,4,"div",61),c.YNc(3,J,4,1,"div",62),c.TgZ(4,"div",63),c.YNc(5,F,42,27,"div",27),c.YNc(6,W,36,16,"div",64),c.qZA(),c.YNc(7,z,5,1,"div",65),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.softwareversion),c.xp6(1),c.Q6J("ngIf",e.softwareversion),c.xp6(1),c.Q6J("ngIf",e.softwareversion),c.xp6(2),c.Q6J("ngIf",e.showFilters),c.xp6(1),c.Q6J("ngIf",e.CountRecieved),c.xp6(1),c.Q6J("ngIf",e.loading)}}function X(e,t){if(1&e&&(c.TgZ(0,"div",109),c.TgZ(1,"h4",110),c._uU(2),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(2),c.Oqu(e.language.No_Result_Found)}}i(86295)(a);let K=(()=>{class e{constructor(e,t,i,o,n,r,a,c,d,l,u,h,g){this.translateService=e,this.http=t,this.cdr=i,this.reportService=o,this.router=n,this.service=r,this.sso=a,this.dateUtils=c,this.validatorService=d,this.deviceGroupService=l,this.downloadService=u,this.titleService=h,this.CommonFunctionsService=g,this.maxDate=new Date,this.maxForStartDate=new Date,this.minDateForCse=this.router.url.includes("support/router")?new Date((new Date).setDate((new Date).getDate()-90)):new Date("1970"),this.showNoResults=!1,this.showFilters=!1,this.devicetime="",this.isError=!1,this.deviceDate="",this.deviceGroup="",this.startErrorMessage=!1,this.endErrorMessage=!1,this.inventoryTableData=[],this.softwareVersionChart=[],this.manufacture="",this.modName="",this.mode="",this.CountRecieved=!1,this.noRecordsFound=!1,this.hideNotInTimePeriod=!1,this.softwareversion=!1,this.unassosSystem=!1,this.hasWriteAccess=!1,this.customStartDate=0,this.customEndDate=0,this.routerTabRead=!1,this.inventoryReports=[],this.isOnLoadBtn=!1,this.dtTrigger=new s.xQ,this.tableOptions={pagingType:"full_numbers",pageLength:10,lengthChange:!1,processing:!0,dom:"tipr",order:[0,"asc"]},this.timePeriod=["Last 30 days","Last 60 days","Last 90 days"],this.reportTypes=[{id:"",name:""},{id:"DiscoveredDevice",name:"Discovered System"},{id:"DevicesNotCheckedIn",name:"Systems Not Checked In"},{id:"DeviceCheckedIn",name:"Systems Checked In"},{id:"GroupedDevices",name:"Grouped Systems"},{id:"Software",name:"Software Versions"}],this.timeperiods=[{id:"",name:""},{id:1,name:"Day"},{id:7,name:"Past Week"},{id:30,name:"Past Month"},{id:"custom",name:"Customized Time Period"}],this.manufactures=[{id:"0",name:""},{id:"ZyXEL",name:"ZyXEL"},{id:"Calix",name:"Calix"},{id:"SmartRG",name:"SmartRG"}],this.modNames=[{id:"0",name:""},{id:"VMG4825-B10A",name:"VMG4825-B10A"},{id:"GS2026E",name:"GS2026E"},{id:"GS4220E",name:"GS4220E"}],this.modes=[{id:"",name:""},{id:"RG",name:"RG"},{id:"Modem",name:"Modem"},{id:"Managed ONT",name:"Managed ONT"},{id:"WAP-IGMP",name:"WAP-IGMP"},{id:"WAP",name:"WAP"}],this.deviceGroups=[{id:"anne_844G",name:"anne_844G"},{id:"lai_CXNK005C6752",name:"lai_CXNK005C6752"},{id:"CXNK005A85CF",name:"CXNK005A85CF"},{id:"Ray_Topo2_RG",name:"Ray_Topo2_RG"},{id:"Jason_GS2026E_Satellite",name:"Jason_GS2026E_Satellite"}],this.isTimePeriod=!1,this.initLoad=!1,this.hasScopeAccess=!1,this.alertMessage="",this.startTime=0,this.endTime=0,this.manufacturer="",this.modelName="",this.opmode="",this.serialNumber="",this.subscriber="",this.inversely_time_period=!1,this.submit=!1,this.bttnDissable=!1,this.params={},this.showCustomTimePeriod=!1,this.showCustomDeviceGroup=!1,this.hideCustomSelect=!1,this.hideCalender=!1,this.hideTimePeriod=!1,this.totalRecords=0,this.dtOptions={},this.cpeCount=0,this.firmwareCount=0,this.softwareVersionsData=[]}ngAfterViewInit(){this.timeperiods=[{id:"",name:""},{id:1,name:this.language.Day},{id:7,name:this.language.past_week},{id:30,name:this.language.past_month},{id:"custom",name:this.language["Customized Time Period"]}]}setTitle(e){this.router.url.includes("cco/operations/cco-reports")||this.router.url.includes("cco-foundation")?this.router.url.includes("cco-foundation")?this.titleService.setTitle(`${this.language.Reports} - ${this.language.Deployment} - ${this.language["Calix Cloud"]}`):this.titleService.setTitle(`${this.language.Inventory_Report} - ${this.language.Reports} - ${this.language.Operations} - ${this.language.Operations}  - ${this.language["Calix Cloud"]}`):this.titleService.setTitle(`${this.language.Inventory_Report} - ${this.language.Reports} - ${this.language.NetOps} - ${this.language.Service} - ${this.language["Calix Cloud"]}`)}ngOnInit(){this.appendDeviceGroup(),this.orgId=this.sso.getOrgId(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.setTitle(this.router.url),this.dtElement&&this.redraw(),this.reportTypes=this.router.url.includes("cco-foundation")?[{id:"",name:""},{id:"DiscoveredDevice",name:"Systems Discovered"},{id:"DevicesNotCheckedIn",name:"Systems Not Checked In"},{id:"DeviceCheckedIn",name:"Systems Checked In"},{id:"Unassosiated",name:"Systems Unassociated"},{id:"GroupedDevices",name:"Systems Groups"},{id:"Software",name:"Software Versions"}]:[{id:"",name:""},{id:"DiscoveredDevice",name:"Discovered System"},{id:"DevicesNotCheckedIn",name:"Systems Not Checked In"},{id:"DeviceCheckedIn",name:"Systems Checked In"},{id:"GroupedDevices",name:"Grouped Systems"},{id:"Software",name:"Software Versions"}],this.timeperiods=[{id:"",name:""},{id:1,name:this.language.Day},{id:7,name:this.language.past_week},{id:30,name:this.language.past_month},{id:"custom",name:this.language["Customized Time Period"]}]}),this.setTitle(this.router.url);let e=this.sso.getScopes();if(this.router.url.includes("/cco/operations/cco-reports/"))n.N.VALIDATE_SCOPE?(e["cloud.rbac.coc.operations.report.invreports"]=e["cloud.rbac.coc.operations.report.invreports"]?e["cloud.rbac.coc.operations.report.invreports"]:[],e["cloud.rbac.coc.operations.report.invreports"].length&&(this.hasScopeAccess=!0,this.routerTabRead=!0),e&&e["cloud.rbac.coc.operations.report.invreports"]&&-1!==e["cloud.rbac.coc.operations.report.invreports"].indexOf("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0);else if(n.N.VALIDATE_SCOPE){let t={},i=Object.keys(e);if(i)for(let e=0;e<i.length;e++)if(-1!==i[e].indexOf("cloud.rbac.csc.cpe")){this.routerTabRead=!0;continue}e["cloud.rbac.csc.netops.reports.inv_report"]=e["cloud.rbac.csc.netops.reports.inv_report"]?e["cloud.rbac.csc.netops.reports.inv_report"]:[],e["cloud.rbac.csc.netops.reports.unassociated_devices"]=e["cloud.rbac.csc.netops.reports.unassociated_devices"]?e["cloud.rbac.csc.netops.reports.unassociated_devices"]:[],e["cloud.rbac.csc.netops.reports.call_outcome"]=e["cloud.rbac.csc.netops.reports.call_outcome"]?e["cloud.rbac.csc.netops.reports.call_outcome"]:[],e["cloud.rbac.csc.netops.reports.auditreports"]=e["cloud.rbac.csc.netops.reports.auditreports"]?e["cloud.rbac.csc.netops.reports.auditreports"]:[],e["cloud.rbac.csc.netops.reports.call_avoidance"]=e["cloud.rbac.csc.netops.reports.call_avoidance"]?e["cloud.rbac.csc.netops.reports.call_avoidance"]:[],e&&e["cloud.rbac.csc.netops.reports.inv_report"]&&-1!==e["cloud.rbac.csc.netops.reports.inv_report"].indexOf("read")&&(t.showInventoryReport=!0),e&&e["cloud.rbac.csc.netops.reports.unassociated_devices"]&&-1!==e["cloud.rbac.csc.netops.reports.unassociated_devices"].indexOf("read")&&(t.showUnassociatedDevices=!0),e&&e["cloud.rbac.csc.netops.reports.call_avoidance"]&&-1!==e["cloud.rbac.csc.netops.reports.call_avoidance"].indexOf("read")&&(t.showCallAvoidance=!0),e&&e["cloud.rbac.csc.netops.reports.call_outcome"]&&-1!==e["cloud.rbac.csc.netops.reports.call_outcome"].indexOf("read")&&(t.showCallOutcome=!0),e&&e["cloud.rbac.csc.netops.reports.auditreports"]&&-1!==e["cloud.rbac.csc.netops.reports.auditreports"].indexOf("read")&&(t.showAuditReport=!0),t.showInventoryReport||(t.showCallOutcome&&"DME"!==this.sso.getCscType()?this.router.navigate(["./support/netops-management/reports/call-outcome-report"]):t.showAuditReport&&"DME"!==this.sso.getCscType()?this.router.navigate(["./support/netops-management/reports/audit-report"]):t.showUnassociatedDevices?this.router.navigate(["./support/netops-management/reports/unassociated-devices"]):t.showCallAvoidance&&"DME"!==this.sso.getCscType()&&this.router.navigate(["./support/netops-management/reports/call-avoidance-report"])),e["cloud.rbac.csc.netops.reports.inv_report"]=e["cloud.rbac.csc.netops.reports.inv_report"]?e["cloud.rbac.csc.netops.reports.inv_report"]:[],e&&e["cloud.rbac.csc.netops.reports.inv_report"]&&-1!==e["cloud.rbac.csc.netops.reports.inv_report"].indexOf("write")&&(this.hasWriteAccess=!0,this.hasScopeAccess=!0)}else this.hasWriteAccess=!0,this.hasScopeAccess=!0,this.routerTabRead=!0;this.router.url.includes("cco-foundation")||this.hasScopeAccess?(this.reportTypes=this.router.url.includes("cco-foundation")?[{id:"",name:""},{id:"DiscoveredDevice",name:"Systems Discovered"},{id:"DevicesNotCheckedIn",name:"Systems Not Checked In"},{id:"DeviceCheckedIn",name:"Systems Checked In"},{id:"Unassosiated",name:"Systems Unassociated"},{id:"GroupedDevices",name:"Systems Groups"},{id:"Software",name:"Software Versions"}]:[{id:"",name:""},{id:"DiscoveredDevice",name:"Discovered System"},{id:"DevicesNotCheckedIn",name:"Systems Not Checked In"},{id:"DeviceCheckedIn",name:"Systems Checked In"},{id:"GroupedDevices",name:"Grouped Systems"},{id:"Software",name:"Software Versions"}],this.timeperiods=[{id:"",name:""},{id:1,name:this.language.Day},{id:7,name:this.language.past_week},{id:30,name:this.language.past_month},{id:"custom",name:this.language["Customized Time Period"]}]):this.sso.setPageAccess(!1)}appendDeviceGroup(){this.deviceGroupService.getDeviceGoupCount(this.sso.getOrgId()).subscribe(e=>{this.deviceGroupService.getDeviceGoupList(this.sso.getOrgId(),e.count).subscribe(e=>{this.deviceGroups=e,this.deviceGroups.unshift({id:"0",name:""})},e=>{this.pageErrorHandle(e),this.error=e.error,r(".error").show(),this.loading=!1})},e=>{this.pageErrorHandle(e),this.error=e.error,r(".error").show(),this.loading=!1})}doFilter(){this.submit=!0,this.bttnDissable=!0;let e=this.reportType;this.reportType&&"Unassosiated"!=this.reportType?(this.showCustomTimePeriod?(this.startTime=this.dateUtils.getUtcTimeByDate(this.customStartDate,"00","00","00"),this.endTime=this.dateUtils.getUtcTimeByDate(this.customEndDate,"23","59","59"),this.customStartDate?r("#stDateValidation").hide():r("#stDateValidation").show(),this.customEndDate?r("#enDateValidation").hide():r("#enDateValidation").show(),this.compareStartDate(),this.compareEndDate()):"GroupedDevices"!==this.reportType?(this.startTime=this.dateUtils.getUtcTimeByBeforeDays(this.devicetime),this.endTime=this.dateUtils.getCurrentUtcTime()):this.deviceGroup?r("#deviceValidation").hide():r("#deviceValidation").show(),this.reportType&&(0==this.showCustomDeviceGroup&&0==this.hideCustomSelect?this.devicetime&&(this.showCustomTimePeriod?this.customStartDate&&this.customEndDate&&Date.parse(this.customEndDate)>=Date.parse(this.customStartDate)&&("Software"!=e?(this.bttnDissable=!0,this.getInventoryReport(e),this.getDropDownDatas()):"Software"==e&&(this.bttnDissable=!1,this.getInventorySoftwareReport())):"Software"!=e?(this.getInventoryReport(e),this.getDropDownDatas()):"Software"==e&&(this.bttnDissable=!1,this.getInventorySoftwareReport())):(1==this.showCustomDeviceGroup&&this.deviceGroup||1==this.hideCustomSelect&&0==this.showCustomDeviceGroup)&&("Software"!=e?(this.getInventoryReport(e),this.getDropDownDatas()):"Software"==e&&(this.bttnDissable=!1,this.getInventorySoftwareReport())))):this.reportType&&(this.unassosSystem=!0),this.maxDate=new Date}onchangeStartDate(){this.maxForStartDate=this.customEndDate,this.customStartDate?(r("#stDateValidation").hide(),this.devicetime&&this.reportType&&this.customEndDate&&this.customStartDate&&(this.bttnDissable=!1)):(r("#stDateValidation").show(),this.bttnDissable=!0)}changeDate(){this.customEndDate?(r("#enDateValidation").hide(),this.devicetime&&this.reportType&&this.customEndDate&&this.customStartDate&&(this.bttnDissable=!1)):(r("#enDateValidation").show(),this.bttnDissable=!0)}onChangeDeviceGroup(){this.deviceGroup?(r("#deviceValidation").hide(),this.deviceGroup&&this.reportType&&(this.bttnDissable=!1)):(r("#deviceValidation").show(),this.bttnDissable=!0)}clearValidation(){this.devicetime&&this.reportType&&this.customEndDate&&this.customStartDate&&(this.bttnDissable=!1),this.CountRecieved=!1,r(".alert").hide()}onchangeEndDate(){this.maxForStartDate=this.customEndDate,this.customEndDate?(r("#enDateValidation").hide(),this.devicetime&&this.reportType&&this.customEndDate&&this.customStartDate&&(this.bttnDissable=!1)):(r("#enDateValidation").show(),this.bttnDissable=!0)}getDropDownDatas(){let e={orgId:this.sso.getOrgId()};"Software"!=this.reportType&&(this.loading=!0,this.reportService.getDropDownData(JSON.stringify(e)).subscribe(e=>{let t=[{id:"",name:" "}],i=[{id:"",name:" "}],s=[{id:"",name:" "}];e&&e.forEach(e=>{""!=e.manufacturer&&t.push({id:e.manufacturer,name:e.manufacturer}),""!=e.modelName&&i.push({id:e.modelName,name:e.modelName}),""!=e.opMode&&s.push({id:e.opMode,name:e.opMode})}),t=this.getUniqueData(t),i=this.getUniqueData(i),s=this.getUniqueData(s),this.dropdwonOutData={manufacturer:t,model:i,mode:s}},e=>{this.loading=!0,this.pageErrorHandle(e)}))}getUniqueData(e){let t=[];for(var i=0;i<e.length;i++){let o=!1;for(var s=0;s<t.length;s++)if(e[i].name===t[s].name){o=!0;break}o||t.push(e[i])}return t}onChangeTimePeriod(){this.bttnDissable=!this.devicetime||!this.reportType,this.showFilters=!1,"custom"==this.devicetime?(this.showCustomTimePeriod=!0,this.bttnDissable=!0):(this.showCustomTimePeriod=!1,this.customStartDate="",this.customEndDate="",r(".alert").hide()),this.CountRecieved=!1,this.inventoryTableData.length=0,this.getUnset()}onChangeReportType(){this.showFilters=!1,this.softwareversion=!1,this.unassosSystem=!1,this.showNoResults=!1,this.deviceGroup="","GroupedDevices"==this.reportType?(this.showCustomDeviceGroup=!0,this.showCustomTimePeriod=!1,this.hideCustomSelect=!0,this.customStartDate="",this.customEndDate="",this.devicetime="",this.hideNotInTimePeriod=!0,this.hideTimePeriod=!1,this.bttnDissable=!this.reportType):"Software"==this.reportType||"Unassosiated"==this.reportType?(this.hideCustomSelect=!0,this.showCustomTimePeriod=!1,this.showCustomDeviceGroup=!1,this.customStartDate="",this.customEndDate="",this.devicetime="",this.bttnDissable=!this.reportType):(this.showCustomDeviceGroup=!1,this.hideCustomSelect=!1,this.hideCalender=!0,this.hideNotInTimePeriod=!1,this.deviceGroup="",this.reportType?this.devicetime&&(this.bttnDissable=!1):this.bttnDissable=!0),("Discovered"==this.reportType||"DevicesNotCheckedIn"==this.reportType||"DeviceChecked"==this.reportType)&&"custom"==this.devicetime&&(this.showCustomTimePeriod=!0),"custom"==this.devicetime&&(!this.customEndDate||!this.customStartDate)&&(this.bttnDissable=!0),this.CountRecieved=!1,r(".alert").hide(),this.inventoryTableData.length=0,this.getUnset()}OnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe()}getInventoryReport(e){this.loading=!0;let t={reportType:e,manufacturer:this.manufacturer,modelName:this.modelName,opmode:this.opmode,serialNumber:this.serialNumber?this.serialNumber.trim():"",subscriber:this.subscriber?this.subscriber.trim():"",startTime:"GroupedDevices"!==this.reportType?this.startTime:"",endTime:"GroupedDevices"!==this.reportType?this.endTime:"",inversely_time_period:"GroupedDevices"!==this.reportType&&this.isTimePeriod?this.isTimePeriod:"false",group_name:"GroupedDevices"===this.reportType?this.deviceGroup:"",timeZ:""};"Software"==this.reportType&&(t.inversely_time_period="false"),this.params=t,this.reportService.getInventoryCount(t).subscribe(e=>{this.showFilters=!0,this.loading=!1,null!=e.totalNum&&e.totalNum&&0!=e.totalNum?(this.inventoryCount=e.totalNum,this.CountRecieved=!0,this.initLoad?this.redraw():this.getInventoryList()):(this.showNoResults=!0,this.inventoryCount=0,this.CountRecieved=!1,this.noRecordsFound=!0)},e=>{this.pageErrorHandle(e),this.error=e.error,r(".error").show(),this.loading=!1})}redraw(){this.dtElement.dtInstance.then(e=>{e.draw()})}getInventoryList(){const e=this;this.dtOptions={pagingType:"full_numbers",pageLength:15,serverSide:!0,processing:!1,searching:!1,lengthChange:!1,ordering:!1,dom:"tipr",ajax:(t,i)=>{let s,o,r=this.reportType;this.manufacturer&&(s=`&manufacturer=${this.manufacturer}`),this.modelName&&(s=`${s||""}&modelName=${this.modelName}`),this.opmode&&(s=`${s||""}&opmode=${this.opmode}`),this.serialNumber&&(s=`${s||""}&serialNumber=${this.serialNumber?this.serialNumber.trim():""}`),this.subscriber&&(s=`${s||""}&subscriber=${this.subscriber?this.subscriber.trim():""}`),o="Software"==this.reportType?"&inversely_time_period=false":`&inversely_time_period=${this.isTimePeriod?this.isTimePeriod:"false"}`,this.isRunActive=s;let a=`${n.N.SUPPORT_URL}/netops-report/inventory-report?${this.sso.getOrg(this.orgId)}reportType=${r}&startTime=${this.startTime}&endTime=${this.endTime}${o||""}${s||""}`;if("GroupedDevices"===this.reportType){let e="";for(var c in delete this.params.inversely_time_period,this.params)this.params[c]&&(""!=e&&(e+="&"),e+=c+"="+encodeURIComponent(this.params[c]));a=`${n.N.SUPPORT_URL}/netops-report/inventory-report?${e}`}let d=null;d=0==t.start?0:t.start/t.length,d+=1,e.http.get(a+"&pageNumber="+d+"&pageSize="+t.length).subscribe(e=>{this.showFilters=!0,this.inventoryTableData=e,this.initLoad=!0,this.loading=!1,i({recordsTotal:this.inventoryCount?this.inventoryCount:0,recordsFiltered:this.inventoryCount?this.inventoryCount:0,data:[]})})},drawCallback:e=>{this.changeTableStatusLanguage(e),e._iRecordsDisplay<=e._iDisplayLength&&$(e.nTableWrapper).find("#users-table_last").addClass("disabled")}}}callCount(e){this.http.get(`${n.N.SUPPORT_URL}/netops-report/inventory-report/count?${this.sso.getOrg(this.orgId)}reportType=${this.reportType}&startTime=${this.startTime}&endTime=${this.endTime}&inversely_time_period=${this.inversely_time_period}`).subscribe(e=>{this.filterCount=e})}hideNoDataRow(){setTimeout(()=>{$(".odd").css("display","none")},100)}ngOnDestroy(){this.dtTrigger.unsubscribe()}toggleSwitch(){this.showFilters=!1,this.CountRecieved=!1,this.inventoryTableData.length=0,this.noRecordsFound=!1,this.bttnDissable=!1,this.getUnset()}getUnset(){this.manufacturer=void 0,this.modelName=void 0,this.opmode=void 0,this.serialNumber=void 0,this.subscriber=void 0,this.isRunActive=void 0}clickSerialNumber(e){this.searchByCharacters(e,"serno")}navigateToTroubleShootPage(e){this.searchByCharacters(e,"name")}getInventorySoftwareReport(){this.softwareversion=!0,this.loading=!0,this.reportService.getInventorySoftwareReport(this.orgId).subscribe(e=>{this.loading=!1,e.forEach(e=>{this.softwareVersionsData.push({Id:`${e.id?e.id:""}`,"Org Id":`${e.orgid?e.orgid:""}`,"Model Name":`${e.modelname?e.modelname:""}`,Manufacturer:`${e.manufacturer?e.manufacturer:""}`,"Software Version":`${e.softwareversion?e.softwareversion:""}`,"CPE Count":`${e.cpecount?e.cpecount:""}`})}),this.showFilters=!1,this.inventoryCount=1;let t=this.softwareReportOption(e||[]);a.chart("container",t),this.showNoResults=!0},e=>{this.pageErrorHandle(e),this.error=e.error,r(".error").show(),this.loading=!1})}softwareReportOption(e){let t=[],i=[],s=[];var o=0;let n=[],r=[];e.forEach(e=>{null==e.modelname&&(e.modelname="Others"),null==e.softwareversion&&(e.softwareversion="other");const i=e.modelname;o+=e.cpecount,-1==t.indexOf(i)&&t.push(i),n.push(e.softwareversion)}),this.cpeCount=o,r=n.filter(function(e,t,i){return i.indexOf(e)===t}),this.firmwareCount=r.length;for(let a=0;a<t.length;a++)s[a]=0;e.forEach(e=>{var o=!0;if(i.length&&i.forEach(i=>{i.name.hasOwnProperty(e.softwareversion)&&(i.data[t.indexOf(e.modelname)]=e.cpecount,o=!1)}),o){let o={};s=new Array(t.length).fill(0),o.name=e.softwareversion,o.data=s,o.data[t.indexOf(e.modelname)]=e.cpecount,i.push(o)}});var c=400;if(t&&t.length>0){let e=30*t.length;c=e<c?c:e}return{title:{text:""},chart:{type:"bar",height:c},xAxis:{categories:t||[],labels:{},title:{text:"Models"}},yAxis:{min:0,allowDecimals:!1,lineColor:"#ddd",title:{text:"Firmware Image Count (%) / Model"},opposite:!0,stackLabels:{enabled:!0,style:{fontWeight:"bold"}}},series:i,plotOptions:{series:{stacking:"normal",animation:{duration:500}}},credits:{enabled:!1},lang:{noData:this.language["No Data Available"]},tooltip:{formatter:function(){return this.point.category?this.point.category+"<br>"+this.series.name+" : "+this.point.y+" ("+a.numberFormat(this.point.percentage,2)+"%)":"See Export for details."}},legend:{enabled:!1},colors:["rgba(122,108,176,0.75)","rgba(238,174,0,0.75)","rgba(102,153,204,0.75)","rgba(102,153,0,0.75)","rgba(232,123,0,0.75)","rgba(68,54,125,0.75)","rgba(0,132,126,0.75)","rgba(23,190,207,0.75)","rgba(153,0,0,0.75)"],exporting:{enabled:!1}}}downloadSftwreReport(){this.validatorService.exportAsExcelFile(this.softwareVersionsData,"export")}export(){let e,t,i=this.reportType;this.manufacturer&&(e=`&manufacturer=${this.manufacturer}`),this.modelName&&(e=`${e||""}&modelName=${this.modelName}`),this.opmode&&(e=`${e||""}&opmode=${this.opmode}`),this.serialNumber&&(e=`${e||""}&serialNumber=${this.serialNumber}`),this.subscriber&&(e=`${e||""}&subscriber=${this.subscriber}`),t="Software"==this.reportType?"&inversely_time_period=false":`&inversely_time_period=${this.isTimePeriod?this.isTimePeriod:"false"}`,this.isRunActive=e;let s=`${n.N.SUPPORT_URL}/netops-report/inventory-report/download?${this.sso.getOrg(this.orgId)}reportType=${i}&startTime=${this.startTime}&endTime=${this.endTime}${t||""}${e||""}`;if("GroupedDevices"===this.reportType){let e="";for(var o in delete this.params.inversely_time_period,this.params)this.params[o]&&(""!=e&&(e+="&"),e+=o+"="+encodeURIComponent(this.params[o]));s=`${n.N.SUPPORT_URL}/netops-report/inventory-report/download?${e}`}s+=`&timeZ=${Intl.DateTimeFormat().resolvedOptions().timeZone}`,s+="&file=true",this.http.get(s).subscribe(e=>{this.downloadService.saveToDisk(e)},e=>{this.pageErrorHandle(e),this.error=e.error,r(".error").show(),this.loading=!1})}closeAlert(){r(".time").hide("slow"),r(".error").hide("slow")}pageErrorHandle(e){this.alertMessage=401===e.status?"Unauthorized User":500===e.status?"Internal Server Error":504===e.status||502==e.status?"Gateway Time-Out":this.sso.pageErrorHandle(e)}compareStartDate(){this.customEndDate>0&&this.customStartDate>0&&(Date.parse(this.customEndDate)>Date.parse(this.customStartDate)?(this.startErrorMessage=!1,this.endErrorMessage=!1,this.bttnDissable=!1):Date.parse(this.customEndDate)<Date.parse(this.customStartDate)?(this.endErrorMessage=!1,this.startErrorMessage=!0,this.bttnDissable=!0):Date.parse(this.customEndDate)==Date.parse(this.customStartDate)?(this.startErrorMessage=!1,this.endErrorMessage=!1,this.bttnDissable=!1):(this.bttnDissable=!1,this.startErrorMessage=!1,this.endErrorMessage=!1))}compareEndDate(){this.maxDate=this.customEndDate,this.customEndDate>0&&this.customStartDate>0&&(Date.parse(this.customEndDate)>Date.parse(this.customStartDate)?(this.startErrorMessage=!1,this.endErrorMessage=!1,this.bttnDissable=!1):Date.parse(this.customEndDate)<Date.parse(this.customStartDate)?(this.endErrorMessage=!0,this.startErrorMessage=!1,this.bttnDissable=!0):Date.parse(this.customEndDate)==Date.parse(this.customStartDate)?(this.startErrorMessage=!1,this.endErrorMessage=!1,this.bttnDissable=!1):(this.bttnDissable=!1,this.startErrorMessage=!1,this.endErrorMessage=!1))}searchByCharacters(e,t){const i=e.serialnumber;i.length<2||(this.searchResult=[],this.service.performSearch(this.orgId,i,1,500).subscribe(s=>{var o,n,r;if(s){this.searchResult=s.records,this.stateinfo={serialNumber:e.serialnumber,isRouter:!0};const a=((null===(o=this.searchResult[0])||void 0===o?void 0:o.devices)||[]).filter(e=>"RG"==e.opMode).map(e=>e.serialNumber);if(a.length>1){const e=a.includes(i)?i:((null===(n=this.searchResult[0])||void 0===n?void 0:n.devices)||[]).filter(e=>e.serialNumber==i).map(e=>e.wapGatewaySn).join();this.searchResult[0].devices=((null===(r=this.searchResult[0])||void 0===r?void 0:r.devices)||[]).filter(t=>t.serialNumber==e||t.wapGatewaySn==e)}if(this.router.url.includes("cco-foundation")||this.router.url.includes("cco")){if(this.router.url.includes("cco-foundation"))this.service.setSubscriberInfo(void 0),this.service.setSubscriberTabInfoData(void 0),this.router.navigate([]).then(e=>{window.open(`/cco-foundation/foundation-systems/foundation-manage/system-details?sn=${i}&subscriber=${s.records[0].subscriberId}`,"_blank")});else if(this.router.url.includes("/cco/")){localStorage.setItem("calix.Device_Details",JSON.stringify(s.records[0])),this.service.setSubscriberInfo(void 0),this.service.setSubscriberTabInfoData(void 0);let e=s.records[0].subscriberId?s.records[0].subscriberId:"";window.open(`/cco/system/cco-subscriber-system/system-details?sn=${i.trim()}&subscriber=${e}`,"_blank")}}else sessionStorage.setItem("calix.deviceData",JSON.stringify(this.searchResult[0].devices)),sessionStorage.setItem("calix.subscriberId",this.searchResult[0].subscriberId),"name"==t&&this.searchResult.length?(this.router.navigate([]).then(e=>{window.open("/support/overview/issues","_blank")}),sessionStorage.setItem("calix.serialNo",e.serialnumber)):(this.router.navigate([]).then(e=>{window.open("/support/router","_blank")}),this.service.setSubscriberInfo(void 0),this.service.setSubscriberTabInfoData(void 0),sessionStorage.setItem("calix.serialNo",e.serialnumber))}},e=>{}))}changeTableStatusLanguage(e){const t=new Intl.NumberFormat;this.tableCounts={searchText:e.oPreviousSearch.sSearch.replace(/\s+/g,""),total:e._iRecordsTotal,displayCount:e._iDisplayLength,displayed:e._iRecordsDisplay,start:e._iDisplayStart};const i="fr"==sessionStorage.getItem("defaultLanguage"),s="es"==sessionStorage.getItem("defaultLanguage"),o="de_DE"==sessionStorage.getItem("defaultLanguage"),n=e.oPreviousSearch.sSearch.replace(/\s+/g,"")?i?`(filtr\xe9es \xe0 partir des ${t.format(e._iRecordsTotal)} entr\xe9es totales)`:s?`(filtrado de un total de ${t.format(e._iRecordsTotal)} entradas)`:o?`(gefiltert aus ${t.format(e._iRecordsTotal)} Eintr\xe4gen)`:`(filtered from ${t.format(e._iRecordsTotal)} total entries)`:"",r=0==e._iRecordsDisplay?-1:e._iDisplayStart,a=e._iDisplayStart+e._iDisplayLength>e._iRecordsDisplay?e._iRecordsDisplay:e._iDisplayStart+e._iDisplayLength;$('div [role="status"]').text(i?`Affichage de ${t.format(r+1)} \xe0 ${t.format(a)} des ${t.format(e._iRecordsDisplay)} entr\xe9es ${n}`:s?`Se muestran del ${t.format(r+1)} al ${t.format(a)} de ${t.format(e._iRecordsDisplay)} resultados ${n}`:o?`Angezeigt ${t.format(r+1)} bis ${t.format(a)} von ${t.format(e._iRecordsDisplay)} ergebnissen ${n}`:`Showing ${t.format(r+1)} to ${t.format(a)} of ${t.format(e._iRecordsDisplay)} entries ${n}`),$(".first").text(i?"Le d\xe9but":s?"Primero":o?"Erste Seite":"First"),$(".previous").text(i?"Pr\xe9c\xe9dent":s?"Anterior":o?"Zur\xfcck":"Previous"),$(".next").text(i?"Suivant":s?"Siguiente":o?"Weiter":"Next"),$(".last").text(i?"Derni\xe8re":s?"\xdaltimo":o?"Letzte":"Last")}removeUnwantedSpace(e,t){this[e]=this.CommonFunctionsService.trimSpaceFromNonObjectInputs(t)}clearFilters(){this.manufacturer="",this.modelName="",this.opmode="",this.serialNumber="",this.subscriber="",this.doFilter()}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(d.s),c.Y36(l.eN),c.Y36(c.sBO),c.Y36(u.F),c.Y36(h.F0),c.Y36(g.Q),c.Y36(p.t6),c.Y36(m.s),c.Y36(b.o),c.Y36(v.y),c.Y36(f.K),c.Y36(_.Dx),c.Y36(T.i))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-inventory-report"]],viewQuery:function(e,t){if(1&e&&c.Gf(o.G,5),2&e){let e;c.iGM(e=c.CRH())&&(t.dtElement=e.first)}},decls:43,vars:21,consts:[["id","inventory-report",1,"tab-pane"],[1,"row","p-0","d-none"],[1,"col-md-12","mb-4","f-size-18"],[1,"w-100","alert","alert-danger","time","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex"],[1,"w-100","alert","alert-danger","error","fade","show"],[1,"d-inline-flex",3,"innerHtml"],[1,"row","no-gutters","my-3"],[1,"d-block","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],["id","netops_report_section",1,"mt-3"],[1,"row","my-3"],["for","deviceReport",1,"col-12","col-lg-2"],[1,"error"],[1,"col-12","col-lg-5","state-success"],["id","deviceReport","name","rttype","bindLabel","name","bindValue","id","required","",3,"ngModel","items","clearable","searchable","ngModelOptions","ngModelChange","change"],["rttype","ngModel"],["ng-label-tmp",""],["ng-option-tmp",""],["class","errorMessage",4,"ngIf"],["class","row my-3",4,"ngIf"],["class","row my-3 d-flex",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"d-flex","justify-content-start"],["type","button","id","netops_report_load_bttn",1,"btn-default","primary","px-3","mb-3",3,"disabled","click"],[4,"ngIf"],["class","table-responsive tableWidth margin-top-5",4,"ngIf"],[1,"errorMessage"],["for","devicetime",1,"col-12","col-md-12","col-sm-12","col-xl-2","col-lg-2"],[1,"col-md-12","col-sm-12","col-xl-5","col-lg-5","state-success"],["name","dvtime","id","timePeriod","bindLabel","name","bindValue","id","required","",3,"ngModel","ngModelOptions","items","clearable","searchable","ngModelChange","change"],["dvtime","ngModel"],["id","deviceTimeErr","class","errorMessage",4,"ngIf"],["id","deviceTimeErr",1,"errorMessage"],["for","deviceGroup",1,"col-md-3","col-sm-3","col-xl-2","col-lg-2"],[1,"col-md-9","col-sm-9","col-xl-5","col-lg-5","state-success"],["id","deviceGroup","bindLabel","name","bindValue","name",3,"ngModel","ngModelOptions","items","ngModelChange","change"],["id","deviceValidation",1,"hValidationMessage","m-0"],[1,"row","my-3","d-flex"],[1,"col-lg-2"],[1,"col-lg-5","float-right"],[1,"row"],[1,"col-sm-12","col-lg-6","col-xl-6","col-md-6"],[1,"ccl-form","w-100"],["id","start_date","appendTo","body","dateFormat","mm-dd-yy",3,"inputStyle","autoZIndex","ngModel","showIcon","ngModelOptions","maxDate","minDate","ngModelChange","onSelect"],["id","stDateValidation",1,"hValidationMessage"],[1,"col-md-6"],[1,"ccl-form"],["id","enDateValidation",1,"hValidationMessage"],[1,"row","mt-3"],[1,"col-md-2","control-label","text-left"],["nottimePeriod",""],[1,"col-md-4"],[1,"checkbox","switcher"],["for","test"],["type","checkbox","id","test","checked","","data-toggle","toggle",3,"ngModelOptions","ngModel","ngModelChange","change"],[1,"on"],[1,"off"],["id","container","class","h-auto",4,"ngIf"],["id","chartDetails",4,"ngIf"],["id","exportTableDiv","class","col-sm-12",4,"ngIf"],[1,""],["class","inventory-details-table",4,"ngIf"],["class","loader",4,"ngIf"],["id","container",1,"h-auto"],["id","chartDetails"],["id","exportTableDiv",1,"col-sm-12"],["aria-hidden","true",1,"fa","fa-2x","fa-download","pull-right","export-software-versions","pointer",3,"click"],[1,"pull-right","d-inline-flex","pointer",3,"click"],["id","netops_report_search_section",1,"filter-section","filter-elemnts","pt-2"],[1,"richadtest"],[1,"col-12","row","p-0"],[1,"inside"],["for","Mfg",1,"f-w-600"],["id","Mfg","bindLabel","name","bindValue","id",1,"selectboxwidth",3,"ngModel","items","ngModelOptions","clearable","searchable","ngModelChange"],["for","modelname",1,"f-w-600"],[1,"state-success"],["id","modName","bindLabel","name","bindValue","id",1,"selectboxwidth",3,"ngModel","items","ngModelOptions","clearable","searchable","ngModelChange"],["for","mode",1,"f-w-600"],["id","mod","bindLabel","name","bindValue","id",1,"selectboxwidth",3,"ngModel","items","ngModelOptions","clearable","searchable","ngModelChange"],[1,"form-group","ccl-form"],["for","inputEmail3",1,"f-w-600"],["type","text","id","serialNumber","oninput","this.value = this.value.replace(/[^0-9A-Za-z]/g, '').replace(/(\\..?)\\../g, '$1')","name","serialNumber","trimSpace","",1,"inputboxwidth",3,"ngModel","ngModelChange","blur"],["type","text","id","subscriber","name","subscriber","trimSpace","",1,"inputboxwidth",3,"ngModel","ngModelChange","blur"],[1,"col-12","p-0","d-flex","align-items-center"],[1,"mr-3","align-self-center"],["type","button","id","netops_report_filter_bttn",1,"btn-default","primary",3,"click"],["type","button","id","netops_report_filter_bttn",1,"btn-link","text-decoration-none",3,"click"],[1,"inventory-details-table"],[1,"d-flex","justify-content-end","mb-3"],["id","exportanchor",1,"btn-dft","btn-default","text-decoration-none","py-1","cursor-pointer",3,"click"],[1,"table-responsive","tableWidth"],["id","inventory-rep","datatable","",1,"table","row-border","hover","table-alter",3,"dtOptions"],[1,"f-w-600"],["scope","col"],["scope","col","id","invMac"],["scope","col","id","invLDT"],["scope","col","id","invLCT"],[4,"ngFor","ngForOf"],["class","primary link-pointer",3,"click",4,"ngIf","ngIfElse"],["subscriberNameLink",""],["serialNumberLink",""],[1,"primary","link-pointer",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"table-responsive","tableWidth","margin-top-5"],[1,"text-center"]],template:function(e,t){if(1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h4",2),c._uU(3),c.qZA(),c.qZA(),c.TgZ(4,"div",3),c.TgZ(5,"span",4),c._UZ(6,"img",5),c.qZA(),c.TgZ(7,"button",6),c.NdJ("click",function(){return t.closeAlert()}),c._UZ(8,"span"),c.qZA(),c.TgZ(9,"div",7),c._uU(10),c.qZA(),c.qZA(),c.TgZ(11,"div",8),c.TgZ(12,"span",4),c._UZ(13,"img",5),c.qZA(),c.TgZ(14,"button",6),c.NdJ("click",function(){return t.closeAlert()}),c._UZ(15,"span"),c.qZA(),c._UZ(16,"div",9),c.qZA(),c.TgZ(17,"div",10),c.TgZ(18,"div",11),c._uU(19),c.qZA(),c.qZA(),c.TgZ(20,"section",12),c.TgZ(21,"form"),c.TgZ(22,"div",13),c.TgZ(23,"label",14),c._uU(24),c.TgZ(25,"span",15),c._uU(26,"*"),c.qZA(),c.qZA(),c.TgZ(27,"div",16),c.TgZ(28,"ng-select",17,18),c.NdJ("ngModelChange",function(e){return t.reportType=e})("change",function(){return t.onChangeReportType()}),c.YNc(30,y,1,1,"ng-template",19),c.YNc(31,O,1,1,"ng-template",20),c.qZA(),c.YNc(32,M,2,1,"div",21),c.qZA(),c.qZA(),c.YNc(33,q,9,8,"div",22),c.YNc(34,P,9,6,"div",22),c.YNc(35,R,20,30,"div",23),c.YNc(36,k,11,4,"div",24),c.qZA(),c.qZA(),c.TgZ(37,"div",25),c.TgZ(38,"button",26),c.NdJ("click",function(){return t.doFilter()}),c._uU(39),c.qZA(),c.qZA(),c.YNc(40,E,2,0,"section",27),c.YNc(41,B,8,6,"div",27),c.YNc(42,X,3,1,"div",28),c.qZA()),2&e){const e=c.MAs(29);c.xp6(3),c.Oqu(t.language.Inventory_Reports),c.xp6(7),c.Oqu(t.language.Time_alert),c.xp6(6),c.Q6J("innerHtml",t.alertMessage,c.oJD),c.xp6(3),c.Oqu(t.language["Inventory Report"]),c.xp6(5),c.Oqu(t.language.Report_Type),c.xp6(4),c.Q6J("ngModel",t.reportType)("items",t.reportTypes)("clearable",!1)("searchable",!1)("ngModelOptions",c.DdM(20,A)),c.xp6(4),c.Q6J("ngIf",(null==e?null:e.invalid)&&((null==e?null:e.touched)||t.submit)),c.xp6(1),c.Q6J("ngIf",!t.showCustomDeviceGroup&&!t.hideCustomSelect),c.xp6(1),c.Q6J("ngIf",t.showCustomDeviceGroup),c.xp6(1),c.Q6J("ngIf",t.showCustomTimePeriod),c.xp6(1),c.Q6J("ngIf",!t.showCustomDeviceGroup&&!t.hideCustomSelect),c.xp6(2),c.Q6J("disabled",t.bttnDissable),c.xp6(1),c.hij(" ",t.language.Load_Report," "),c.xp6(1),c.Q6J("ngIf",t.unassosSystem),c.xp6(1),c.Q6J("ngIf",!t.unassosSystem),c.xp6(1),c.Q6J("ngIf",!t.inventoryCount&&t.showNoResults&&!t.unassosSystem)}},directives:[Z._Y,Z.JL,Z.F,x.w9,Z.Q7,Z.JJ,Z.On,x.bb,x.Z2,D.O5,w.f,Z.Wl,C.k,Z.Fj,o.G,D.sg],pipes:[D.uU],styles:["div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0;cursor:pointer}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{vertical-align:middle}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:relative;display:inline-block;width:45px;height:25px;background:#ffffff;border:1px solid #0279ff;border-radius:50px;transition:all .3s ease-in-out;padding:5px}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{position:absolute;display:block;width:20px;height:19px;background:#0279ff;border-radius:50%;transition:all .3s ease-in-out;left:2px;top:2px}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{background:#269bff;border-color:#269bff}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{left:50%;background:#ffffff}form[_ngcontent-%COMP%]{width:100%}.btn-right[_ngcontent-%COMP%]{width:100%;padding-right:15px}.multi-btndropdown-sec[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;flex:0 0 100%}.multi-btndropdown-sec[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:18%}[_nghost-%COMP%]     table.dataTable td.dataTables_empty{display:none}.ng-option[_ngcontent-%COMP%]:first-child{padding:15%}.l1[_ngcontent-%COMP%]{margin-left:-10px;font-size:15px}th[_ngcontent-%COMP%]{font-weight:bold}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;pointer-events:all!important}.highcharts-figure[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:310px;max-width:800px;margin:1em auto}#container[_ngcontent-%COMP%]{height:400px}.alert[_ngcontent-%COMP%]{display:none;margin:2%}.highcharts-data-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:Verdana,sans-serif;border-collapse:collapse;border:1px solid #EBEBEB;margin:10px auto;text-align:center;width:100%;max-width:500px}.highcharts-data-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{padding:1em 0;font-size:1.2em;color:#555}.highcharts-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;padding:.5em}.highcharts-data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{padding:.5em}.highcharts-data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f8f8f8}.highcharts-data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f1f7ff}.pointer[_ngcontent-%COMP%]{cursor:pointer}.ValidationMessage[_ngcontent-%COMP%]{color:#c70000;line-height:20px;padding-left:0px 18px;display:flex}.hValidationMessage[_ngcontent-%COMP%]{display:none;color:#c70000;line-height:20px;display:-ms-flexbox}.richadtest[_ngcontent-%COMP%]{width:100%;display:flex;padding:0 4px 0 8px;flex-wrap:wrap}.richadtest[_ngcontent-%COMP%]   .inside[_ngcontent-%COMP%]{width:calc(100% / 5);padding:0 10px}.inventory-details-table[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;margin-bottom:15px;overflow:auto}.inventory-details-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%!important;margin-bottom:15px}.inventory-details-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}.inventory-details-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff;z-index:1;padding:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .inventory-details-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{padding-top:20px;width:25%}.inventory-details-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px}#chartDetails[_ngcontent-%COMP%]{text-align:center}.ng-dropdown-panel-items[_ngcontent-%COMP%]   #a7d555aa09e4-0[_ngcontent-%COMP%]{padding:15px 0!important}.link-pointer[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none}.btn-link[_ngcontent-%COMP%]{background:transparent;border:none}.btn-link[_ngcontent-%COMP%]:hover{background-color:transparent}"]}),e})()},99104:function(e,t,i){i.d(t,{F:function(){return c}});var s=i(91841),o=i(92340),n=i(49457),r=i(37716),a=i(89097);let c=(()=>{class e{constructor(e,t){this.http=e,this.sso=t,this.deleteReport=e=>{let t="";for(var i in e)e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));return this.http.delete(`${o.N.SUPPORT_URL}/call/avoidance/subscriber_report?${t}`)}}getInventoryReport(e){console.log(e);let t="";for(var i in e)e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));return this.http.get(`${o.N.SUPPORT_URL}/netops-report/inventory-report?${t}`)}getInventoryCount(e){console.log("ppp"+JSON.stringify(e));let t="";for(var i in e)e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));return this.http.get(`${o.N.SUPPORT_URL}/netops-report/inventory-report/count?${t}`)}getDropDownData(e){return this.http.get(`${o.N.SUPPORT_URL}/netops-device/device-type?matcher=${e}`)}getChartData(e){let t="";for(var i in e)return e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i])),this.http.get(`${o.N.SUPPORT_URL}/netops-report/inventory-report?${t}`)}getInventorySoftwareReport(e){const t=this.sso.getOrg(e);return this.http.get(`${o.N.SUPPORT_URL}/netops-report/softwareVersion?${t}`)}getCallAvoidanceReport(e){console.log(e);let t="";for(var i in e)e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));return this.http.get(`${o.N.SUPPORT_URL}/call/avoidance/subscriber_report?${t}`)}addReportQuery(e){return console.log("response called"),"_id"in e?this.http.put(`${o.N.SUPPORT_URL}/call/avoidance/subscriber_report`,e):this.http.post(`${o.N.SUPPORT_URL}/call/avoidance/subscriber_report`,e)}getSummary(e,t){const i=this.sso.getOrg(e);return this.http.get(`${o.N.SUPPORT_URL}/call/avoidance/task_execlog_summary?${i}jobId=${t}`)}getSummaryDetails(e,t){const i=this.sso.getOrg(e);return this.http.get(`${o.N.SUPPORT_URL}/call/avoidance/task_execlog_detail?${i}_id=${t}`)}exportFromUrl(e,t){let i={headers:(new s.WM).set("content-type","application/json").set("Accept-Encoding","gzip, deflate, br").set("Connection","keep-alive").set("Accept","*/*"),responseType:"arraybuffer"};this.http.get(e,i).subscribe(e=>{console.log("data=>",e);let i=new Blob([e],{type:"application/octet-stream"});n.saveAs(i,t)})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s.eN),r.LFG(a.t6))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},17507:function(e,t,i){i.d(t,{k:function(){return y}});var s=i(23771),o=i(79765),n=i(92340),r=i(37716),a=i(7450),c=i(91841),d=i(89097);let l=(()=>{class e{constructor(e,t){this.http=e,this.sso=t}getUnassociatedDeviceData(e){console.log(e);let t="";for(var i in e)e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));return this.http.get(`${n.N.SUPPORT_URL}/netops-report/devices-unlinked?${t}`)}getUnassociatedDeviceDownload(e){console.log("params download",e);let t="";for(var i in e)console.log("key=",i),e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));return this.http.get(`${n.N.SUPPORT_URL}/netops-report/devices-unlinked/download?${t}`)}getUnassociatedDeviceDataCount(e){const t=this.sso.getOrg(e);return this.http.get(`${n.N.SUPPORT_URL}/netops-report/devices-unlinked/count?${t}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(c.eN),r.LFG(d.t6))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=i(39895),h=i(48483),g=i(94802),p=i(90048),m=i(49342),b=i(39075),v=i(43721),f=i(38583),_=i(3679);function T(e,t){if(1&e&&(r.TgZ(0,"div",20),r.TgZ(1,"div",21),r.TgZ(2,"div",22),r.TgZ(3,"span",23),r._uU(4),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(4),r.Oqu(e.language.Loading)}}function Z(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",24),r.TgZ(1,"span",25),r._UZ(2,"img",26),r.qZA(),r.TgZ(3,"button",27),r.NdJ("click",function(){return r.CHM(e),r.oxw().closeAlert()}),r._UZ(4,"span"),r.qZA(),r._UZ(5,"div",28),r.qZA()}if(2&e){const e=r.oxw();r.xp6(5),r.Q6J("innerHtml",e.errorInfo,r.oJD)}}function x(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",29),r.NdJ("click",function(t){return r.CHM(e),r.oxw().closeicon(t.target.value)}),r._UZ(1,"span",30),r.qZA()}}function D(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",31),r.TgZ(1,"span",32),r.NdJ("click",function(){return r.CHM(e),r.oxw().downloadUnassociatedSysReport()}),r.TgZ(2,"a",33),r._uU(3),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.Oqu(e.language.export)}}function w(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r.TgZ(2,"span",34),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().snRedirection(t)}),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"td"),r._uU(5),r.qZA(),r.TgZ(6,"td"),r._uU(7),r.qZA(),r.TgZ(8,"td"),r._uU(9),r.qZA(),r.TgZ(10,"td"),r._uU(11),r.qZA(),r.TgZ(12,"td"),r._uU(13),r.qZA(),r.TgZ(14,"td"),r.TgZ(15,"span",35),r._uU(16),r.qZA(),r._uU(17),r.ALo(18,"date"),r.qZA(),r.TgZ(19,"td"),r.TgZ(20,"span",35),r._uU(21),r.qZA(),r._uU(22),r.ALo(23,"date"),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit;r.xp6(3),r.Oqu(e.serialNumber),r.xp6(2),r.Oqu(e.ipAddress),r.xp6(2),r.Oqu(e.macAddress),r.xp6(2),r.Oqu(e.modelName),r.xp6(2),r.Oqu(e.softwareVersion),r.xp6(2),r.Oqu(e.prevSubscriber),r.xp6(3),r.Oqu(e.createTime),r.xp6(1),r.Oqu(e.createTime?r.xi3(18,10,e.createTime,"MM/dd/yyyy, hh:mm:ss a"):"N/A"),r.xp6(4),r.Oqu(e.lastInformTime),r.xp6(1),r.Oqu(e.lastInformTime?r.xi3(23,13,e.lastInformTime,"MM/dd/yyyy, hh:mm:ss a"):"N/A")}}function C(e,t){if(1&e&&(r.TgZ(0,"tbody"),r.TgZ(1,"tr"),r.TgZ(2,"td",36),r._uU(3),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(3),r.hij("",e.language["No data available in table"]," ")}}let y=(()=>{class e{constructor(e,t,i,s,n,r,a,c,d,l){this.translateService=e,this.unassociateddevice=t,this.router=i,this.sso=s,this.dateUtils=n,this.service=r,this.downloadService=a,this.commonOrgService=c,this.titleService=d,this.validatorService=l,this.dtTrigger=new o.xQ,this.showcloseicon=!1,this.errorInfo="",this.showNoResults=!1,this.unassociatedDeviceData=[],this.tableHide=!0,this.tableOptions={pagingType:"full_numbers",pageLength:15,serverSide:!1,processing:!1,searching:!0,ordering:!0,dom:"tipr",order:[],columnDefs:[{searchable:!1,targets:[1,3,4,5,6,7]}]},this.hasScopeAccess=!1,this.hideExport=!0,this.startTime=0,this.endTime=0,this.manufacturer="",this.modelName="",this.opmode="",this.serialNumber="",this.subscriber="",this.inversely_time_period=!1,this.unassociatedDownloadData=[],this.frTable=this.translateService.fr,this.esTable=this.translateService.es,this.germanTable=this.translateService.de_DE}setTitle(e){this.router.url.includes("cco/operations/cco-reports")||this.router.url.includes("cco-foundation")?this.router.url.includes("cco-foundation")?this.titleService.setTitle(`${this.language.Reports} - ${this.language.Deployment} - ${this.language["Calix Cloud"]}`):this.titleService.setTitle(`${this.language["Unassociated Systems"]} - ${this.language.Reports} - ${this.language.Operations} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`):this.titleService.setTitle(`${this.language["Unassociated Systems"]} - ${this.language.Reports} - ${this.language.NetOps} - ${this.language.Service}- ${this.language["Calix Cloud"]}`)}ngOnInit(){if(this.hideExport=!!this.router.url.includes("support/netops-management/reports/unassociated-devices"),this.orgId=this.sso.getOrgId(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.tableLanguageOptions(),this.rerender(),this.setTitle(this.router.url)}),this.setTitle(this.router.url),this.router.url.includes("cco/operations/cco-reports/unassociated-devices")){let e=this.sso.getScopes();if(n.N.VALIDATE_SCOPE){let t=Object.keys(e);if(t)for(let e=0;e<t.length;e++)if(-1!==t[e].indexOf("cloud.rbac.coc.operations.report.unassociatedsystems")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;if(!this.hasScopeAccess)return void this.sso.setPageAccess(!1)}this.getDeviceCount()}fetchConfigurationList(){this.tableOptions={pagingType:"full_numbers",pageLength:15,serverSide:!1,processing:!1,searching:!0,ordering:!0,dom:"tipr"}}getDeviceCount(){this.loading=!0,this.unassociateddevice.getUnassociatedDeviceDataCount(this.orgId).subscribe(e=>{this.loading=!1,this.unassociatedDeviceDataCount=e.count,(0===this.unassociatedDeviceDataCount||null!=this.unassociatedDeviceDataCount)&&(this.showNoResults=!0,this.tableHide=!0),this.tableHide=!1,this.getDevices(),this.getDateAndTimeConverted(),this.getTable()},e=>{this.showNoResults=!0,this.unassociatedDeviceDataCount=0,this.loading=!1,this.pageErrorHandle(e),$("body").scrollTop(0)})}getDevices(){this.loading=!0,this.unassociateddevice.getUnassociatedDeviceData({limit:this.unassociatedDeviceDataCount,skip:0,manufacturer:this.manufacturer,modelName:this.modelName,opmode:this.opmode,serialNumber:this.serialNumber,subscriber:this.subscriber,startTime:this.startTime,endTime:this.endTime,inversely_time_period:"false",group_name:"",timeZ:""}).subscribe(e=>{this.unassociatedDeviceData=e,this.loading=!1,this.tableHide=!1,this.dtTrigger.next()},e=>{this.showNoResults=!0,this.loading=!1,this.pageErrorHandle(e),$("body").scrollTop(0)}),this.tableLanguageOptions()}closeicon(e){this.searchtext="",this.showcloseicon=!1,this.search(this.searchtext)}search(e){this.searchtext=e,this.showcloseicon=!!e.length,this.datatableElement.dtInstance.then(t=>{t.search(e).draw()}),this.loading=!1}ngOnDestroy(){this.languageSubject.unsubscribe()}getDateAndTimeConverted(){this.dateUtils.getCurrentUtcTime()}getTable(){this.tableHide=!0}snRedirection(e){const t=e.serialNumber;let i=[];i.push(e),localStorage.setItem("calix.Device_Details",JSON.stringify({devices:i})),!(t.length<2)&&this.service.performSearch(this.orgId,t,1,500).subscribe(e=>{if(e)if(this.router.url.includes("/cco/")){this.service.setSubscriberInfo(void 0),this.service.setSubscriberTabInfoData(void 0);const i=this.router.createUrlTree(["/cco/system/cco-subscriber-system/system-details"],{queryParams:{sn:t,subscriber:e.records[0].subscriberId,redirect:"/cco/operations/cco-reports/unassociated-devices"}});window.open(i.toString(),"_blank")}else if(this.router.url.includes("cco-foundation")){this.service.setSubscriberInfo(void 0),this.service.setSubscriberTabInfoData(void 0);const i=this.router.createUrlTree(["/cco-foundation/foundation-systems/foundation-manage/system-details"],{queryParams:{sn:t,subscriber:e.records[0].subscriberId,redirect:"/cco/operations/cco-reports/unassociated-devices"}});window.open(i.toString(),"_blank")}else{sessionStorage.removeItem("calix.subscriberId"),sessionStorage.setItem("calix.deviceData",JSON.stringify(e.records[0].devices)),sessionStorage.setItem("calix.serialNo",t),this.service.setSubscriberInfo(void 0),this.service.setSubscriberTabInfoData(void 0);const i=this.router.createUrlTree(["./support/router"]);window.open(i.toString(),"_blank")}},e=>{})}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.tableOptions.language=this.frTable:"es"==this.language.fileLanguage?this.tableOptions.language=this.esTable:"de_DE"==this.language.fileLanguage?this.tableOptions.language=this.germanTable:"en"==this.language.fileLanguage&&this.tableOptions.language&&delete this.tableOptions.language}rerender(){this.datatableElement.dtInstance.then(e=>{e.destroy(),this.dtTrigger.next()})}pageErrorHandle(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.sso.pageErrorHandle(e),this.closeAlert(),this.error=!0}downloadUnassociatedSysReport(){this.loading=!0;let e={file:"true",timeZ:this.dateUtils.getLocalTimeZoneName(),regex:this.searchtext};this.unassociateddevice.getUnassociatedDeviceDownload(e).subscribe(e=>{this.unassociatedDownloadData=e,this.downloadService.saveToDisk(this.unassociatedDownloadData),this.loading=!1},e=>{this.loading=!1,this.unassociatedDownloadData=[],this.downloadService.saveToDisk(this.unassociatedDownloadData),this.pageErrorHandle(e),$("body").scrollTop(0)})}closeAlert(){this.error=!1}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(a.s),r.Y36(l),r.Y36(u.F0),r.Y36(d.t6),r.Y36(h.s),r.Y36(g.Q),r.Y36(p.K),r.Y36(m.v),r.Y36(b.Dx),r.Y36(v.o))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-unassociated-devices"]],viewQuery:function(e,t){if(1&e&&r.Gf(s.G,5),2&e){let e;r.iGM(e=r.CRH())&&(t.datatableElement=e.first)}},decls:41,vars:23,consts:[[1,"w-100","position-relative"],["class","loader pt-5 align-items-start",4,"ngIf"],[1,"row","no-gutters","my-3"],[1,"d-block","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],[1,"col-12","px-0","mb-2"],[1,"row","my-2"],[1,"col-sm-6"],["id","netops_unassdev_search",1,"col-sm-6"],[1,"d-flex","align-items-center"],[1,"form-group","ccl-form","form-inline","d-inline-flex","position-relative","mb-3"],["for","search",1,"mr-1"],["id","","oninput","this.value = this.value.replace(/[^0-9A-Za-z:]/g, '').replace(/(\\..?)\\../g, '$1')",1,"ccl-from","ccl-search-input",3,"ngModel","placeholder","keyup","search","ngModelChange"],["type","button","class","close position-absolute mr-2",3,"click",4,"ngIf"],["class","form-group ml-3",4,"ngIf"],["id","netops_unassdev_table_div",1,"overflow-auto",3,"hidden"],["datatable","",1,"hover","table-alter",3,"dtOptions","dtTrigger"],[3,"ngClass"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"loader","pt-5","align-items-start"],[1,"d-flex","align-items-start","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button","id","hide-error-btn",1,"close",3,"click"],[1,"d-inline-flex","w-auto",3,"innerHtml"],["type","button",1,"close","position-absolute","mr-2",3,"click"],[1,"sh-clear-icon"],[1,"form-group","ml-3"],["id","exportanchor",1,"export-btn",3,"click"],["href","javascript:void(0)",1,"btn-dft","btn-default","text-decoration-none"],[1,"ud-sno",3,"click"],[1,"d-none"],["colspan","8",1,"no-data-available"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.YNc(1,T,5,1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r._uU(4),r.qZA(),r.qZA(),r.YNc(5,Z,6,1,"div",4),r.TgZ(6,"div",5),r.TgZ(7,"div",6),r._UZ(8,"div",7),r.TgZ(9,"div",8),r.TgZ(10,"div",9),r.TgZ(11,"div",10),r.TgZ(12,"label",11),r._uU(13),r.qZA(),r.TgZ(14,"input",12),r.NdJ("keyup",function(e){return t.search(e.target.value)})("search",function(e){return t.search(e.target.value)})("ngModelChange",function(e){return t.searchtext=e}),r.qZA(),r.YNc(15,x,2,0,"button",13),r.qZA(),r.YNc(16,D,4,1,"div",14),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"div",15),r.TgZ(18,"table",16),r.TgZ(19,"thead"),r.TgZ(20,"tr"),r.TgZ(21,"th"),r._uU(22),r.qZA(),r.TgZ(23,"th"),r._uU(24),r.qZA(),r.TgZ(25,"th"),r._uU(26),r.qZA(),r.TgZ(27,"th"),r._uU(28),r.qZA(),r.TgZ(29,"th"),r._uU(30),r.qZA(),r.TgZ(31,"th"),r._uU(32),r.qZA(),r.TgZ(33,"th"),r._uU(34),r.qZA(),r.TgZ(35,"th"),r._uU(36),r.qZA(),r.qZA(),r.qZA(),r.TgZ(37,"tbody",17),r.YNc(38,w,24,16,"tr",18),r.qZA(),r.YNc(39,C,4,1,"tbody",19),r._UZ(40,"tbody"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngIf",t.loading),r.xp6(3),r.hij("",t.language["Unassociated Systems"]," "),r.xp6(1),r.Q6J("ngIf",t.error),r.xp6(8),r.Oqu(t.language.Filter),r.xp6(1),r.hYB("placeholder","",t.language.FSAN_Serial_Number,"/",t.language.macAddress,""),r.Q6J("ngModel",t.searchtext),r.xp6(1),r.Q6J("ngIf",t.showcloseicon),r.xp6(1),r.Q6J("ngIf",!t.hideExport),r.xp6(1),r.Q6J("hidden",t.tableHide),r.xp6(1),r.Q6J("dtOptions",t.tableOptions)("dtTrigger",t.dtTrigger),r.xp6(4),r.hij("FSAN/",t.language.Serial_Number,""),r.xp6(2),r.Oqu(t.language.IP_Address),r.xp6(2),r.Oqu(t.language.MAC_Address),r.xp6(2),r.Oqu(t.language.Model),r.xp6(2),r.Oqu(t.language.Software_Version),r.xp6(2),r.Oqu(t.language.Previous_Subscriber),r.xp6(2),r.Oqu(t.language.Discovery_Time),r.xp6(2),r.Oqu(t.language.Last_Inform_Time),r.xp6(1),r.Q6J("ngClass",0===t.unassociatedDeviceDataCount?"dataTables_empty":"tableHide"),r.xp6(1),r.Q6J("ngForOf",t.unassociatedDeviceData),r.xp6(1),r.Q6J("ngIf",null!=t.unassociatedDeviceDataCount&&0===t.unassociatedDeviceDataCount&&t.showNoResults))},directives:[f.O5,_.Fj,_.JJ,_.On,s.G,f.mk,f.sg],pipes:[f.uU],styles:[".d-inline-flex[_ngcontent-%COMP%]{width:100%;display:inline-flex;justify-content:flex-end;align-items:center}.ud-sno[_ngcontent-%COMP%]{color:#0279ff}.ud-sno[_ngcontent-%COMP%]:hover{color:#0279ff;text-decoration:underline;cursor:pointer}  .dataTables_filter{display:none}.hide-close-search[_ngcontent-%COMP%]{display:none}.show-close-search[_ngcontent-%COMP%]{color:gray;display:block;position:absolute;right:15px;font-size:22px;top:2px}.dataTables_empty[_ngcontent-%COMP%]{display:none}.ccl-search-input[_ngcontent-%COMP%]{max-width:270px;width:100%}.sh-clear-icon[_ngcontent-%COMP%]{width:11.7px;height:11.7px;background-size:11.7px}"]}),e})()}}]);