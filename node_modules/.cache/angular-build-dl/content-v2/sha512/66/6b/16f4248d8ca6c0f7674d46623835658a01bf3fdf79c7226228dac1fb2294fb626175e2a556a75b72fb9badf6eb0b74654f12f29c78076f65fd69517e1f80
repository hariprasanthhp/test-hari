!function(){"use strict";function e(e,i){for(var t=0;t<i.length;t++){var o=i[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,n=void 0,"symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,i||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(r,"string"))?n:String(n)),o)}var r,n}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[6916],{46916:function(i,t,o){o.d(t,{A:function(){return Ce}});var r=o(97162),n=o(3679),a=o(23771),s=o(79765),l=o(20945),d=o(37716),u=o(7450),c=o(39895),g=o(39075),m=o(89097),p=o(12664),f=o(49342),h=o(86451),v=o(43721),b=o(38583),y=o(86640),Z=o(74062),x=o(96718),C=["deleteModal"],_=["microSiteModal"],M=["verifyBSPModal"],T=["bspResetErrorModal"],w=["bspInfoWarnModal"],q=["verifyMicrositeModel"];function A(e,i){if(1&e&&(d.TgZ(0,"div",9),d.TgZ(1,"div",10),d.TgZ(2,"div",11),d.TgZ(3,"span",12),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var t=d.oxw();d.xp6(4),d.Oqu(t.language.Loading)}}function S(e,i){if(1&e){var t=d.EpF();d.TgZ(0,"div",13),d.TgZ(1,"span",14),d._UZ(2,"img",15),d.qZA(),d.TgZ(3,"button",16),d.NdJ("click",function(){return d.CHM(t),d.oxw().closeAlert()}),d._UZ(4,"span"),d.qZA(),d._UZ(5,"div",17),d.qZA()}if(2&e){var o=d.oxw();d.xp6(5),d.Q6J("innerHtml",o.language[o.errorInfo]||o.errorInfo,d.oJD)}}function P(e,i){if(1&e){var t=d.EpF();d.TgZ(0,"div",18),d.TgZ(1,"span",19),d._UZ(2,"img",20),d.qZA(),d.TgZ(3,"button",16),d.NdJ("click",function(){return d.CHM(t),d.oxw().closeAlert()}),d._UZ(4,"span"),d.qZA(),d._UZ(5,"div",17),d.qZA()}if(2&e){var o=d.oxw();d.xp6(5),d.Q6J("innerHtml",o.language[o.successInfo]||o.successInfo,d.oJD)}}function N(e,i){1&e&&d._UZ(0,"div")}function k(e,i){if(1&e&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&e){var t=d.oxw(3);d.xp6(1),d.Oqu(t.language.Bsp_Single_Word_Validation)}}function O(e,i){if(1&e&&(d.TgZ(0,"div",69),d.YNc(1,k,2,1,"span",4),d.qZA()),2&e){var t=d.oxw(2);d.xp6(1),d.Q6J("ngIf",t.bspForm.get("shortName").errors.pattern)}}function F(e,i){if(1&e&&(d.TgZ(0,"div",69),d.TgZ(1,"span"),d._uU(2),d.qZA(),d.qZA()),2&e){var t=d.oxw(2);d.xp6(2),d.hij(" ",t.language["The Service Provider's short name must be 4 to 63 characters and a single word."]," ")}}function I(e,i){if(1&e&&(d.TgZ(0,"div",69),d.TgZ(1,"span"),d._uU(2),d.qZA(),d.qZA()),2&e){var t=d.oxw(2);d.xp6(2),d.hij(" ",t.language["This field can only contain digits, lowercase letters, or hyphens(-), and should NOT start or end with a hyphen (-) and a single word."]," ")}}function E(e,i){if(1&e&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&e){var t=d.oxw(3);d.xp6(1),d.Oqu(t.language["This field is required"])}}function B(e,i){if(1&e&&(d.TgZ(0,"div",69),d.YNc(1,E,2,1,"span",4),d.qZA()),2&e){var t=d.oxw(2);d.xp6(1),d.Q6J("ngIf",t.bspForm.get("shortName").errors.required)}}function D(e,i){if(1&e&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&e){var t=d.oxw(3);d.xp6(1),d.Oqu(t.language["This field is required"])}}function U(e,i){if(1&e&&(d.TgZ(0,"div",69),d.YNc(1,D,2,1,"span",4),d.qZA()),2&e){var t=d.oxw(2);d.xp6(1),d.Q6J("ngIf",null==t.bspForm.get("timezone").errors?null:t.bspForm.get("timezone").errors.required)}}function J(e,i){if(1&e&&(d.TgZ(0,"div"),d.TgZ(1,"p",26),d._uU(2),d.qZA(),d.qZA()),2&e){var t=d.oxw(2);d.xp6(2),d.Oqu(t.language["Please enter a valid URL."])}}function L(e,i){if(1&e&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&e){var t=d.oxw(3);d.xp6(1),d.Oqu(t.language["This field is required"])}}function Q(e,i){if(1&e&&(d.TgZ(0,"div",69),d.YNc(1,L,2,1,"span",4),d.qZA()),2&e){var t=d.oxw(2);d.xp6(1),d.Q6J("ngIf",t.bspForm.get("defaultTerms").errors.required)}}function Y(e,i){if(1&e&&(d.TgZ(0,"div",69),d.TgZ(1,"span"),d._uU(2),d.qZA(),d.qZA()),2&e){var t=d.oxw(2);d.xp6(2),d.Oqu(t.language["The Service Provider's Friendly Name shall not exceed 32 characters."])}}function G(e,i){if(1&e&&(d.TgZ(0,"div",74),d._UZ(1,"span",75),d.TgZ(2,"span",76),d._uU(3),d.qZA(),d.qZA()),2&e){var t=d.oxw(3);d.xp6(3),d.Oqu(t.language[t.status])}}function H(e,i){if(1&e&&(d.TgZ(0,"div",77),d._UZ(1,"span",75),d.TgZ(2,"span",76),d._uU(3),d.qZA(),d.qZA()),2&e){var t=d.oxw(3);d.xp6(3),d.Oqu(t.language[t.status])}}function j(e,i){if(1&e&&(d.TgZ(0,"div",78),d._UZ(1,"span",75),d.TgZ(2,"span",76),d._uU(3),d.qZA(),d.qZA()),2&e){var t=d.oxw(3);d.xp6(3),d.Oqu(t.language[t.status])}}function R(e,i){if(1&e&&(d.TgZ(0,"div",24),d.TgZ(1,"label",33),d._uU(2),d.qZA(),d.TgZ(3,"div",27),d.TgZ(4,"div",70),d.YNc(5,G,4,1,"div",71),d.YNc(6,H,4,1,"div",72),d.YNc(7,j,4,1,"div",73),d.qZA(),d.qZA(),d.qZA()),2&e){var t=d.oxw(2);d.xp6(2),d.Oqu(t.language.Bsp_Microsite_Status),d.xp6(3),d.Q6J("ngIf","READY"===t.status),d.xp6(1),d.Q6J("ngIf","CREATING"===t.status),d.xp6(1),d.Q6J("ngIf","ERROR"===t.status)}}function z(e,i){if(1&e&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&e){var t=d.oxw(3);d.xp6(1),d.Oqu(t.language["This field is required"])}}function V(e,i){if(1&e&&(d.TgZ(0,"div",69),d.YNc(1,z,2,1,"span",4),d.qZA()),2&e){var t=d.oxw(2);d.xp6(1),d.Q6J("ngIf",t.bspForm.get("wifiNetworkName").errors.required)}}function W(e,i){if(1&e&&(d.TgZ(0,"div",69),d.TgZ(1,"span"),d._uU(2),d.qZA(),d.qZA()),2&e){var t=d.oxw(2);d.xp6(2),d.hij(" ",t.language["The Wi-Fi Network name must be 3 to 32 characters."]," ")}}function K(e,i){if(1&e&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&e){var t=d.oxw(3);d.xp6(1),d.Oqu(t.language["This field is required"])}}function X(e,i){if(1&e&&(d.TgZ(0,"div",69),d.YNc(1,K,2,1,"span",4),d.qZA()),2&e){var t=d.oxw(2);d.xp6(1),d.Q6J("ngIf",t.bspForm.get("defaultPrimaryColor").errors.required)}}function ee(e,i){if(1&e&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&e){var t=d.oxw(3);d.xp6(1),d.Oqu(t.language["This field is required"])}}function ie(e,i){if(1&e&&(d.TgZ(0,"div",69),d.YNc(1,ee,2,1,"span",4),d.qZA()),2&e){var t=d.oxw(2);d.xp6(1),d.Q6J("ngIf",t.bspForm.get("defaultSecondaryColor").errors.required)}}function te(e,i){if(1&e){var t=d.EpF();d.TgZ(0,"button",79),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).verifyBSPInfoModal()}),d._uU(1),d.qZA()}if(2&e){var o=d.oxw(2);d.xp6(1),d.hij(" ",o.language["Save BSP Information"]," ")}}function oe(e,i){if(1&e){var t=d.EpF();d.TgZ(0,"button",79),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).EditBspProvider()}),d._uU(1),d.qZA()}if(2&e){var o=d.oxw(2);d.xp6(1),d.hij(" ",o.language["Save BSP Information"],"")}}function re(e,i){if(1&e){var t=d.EpF();d.TgZ(0,"div",80),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).BSPPreview()}),d.TgZ(1,"span",81),d._uU(2),d._UZ(3,"img",82),d.qZA(),d.qZA()}if(2&e){var o=d.oxw(2);d.xp6(2),d.hij("",o.language.Preview," ")}}function ne(e,i){if(1&e){var t=d.EpF();d.TgZ(0,"a",83),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).BSPInfoWarnModal()}),d._uU(1),d.qZA()}if(2&e){var o=d.oxw(2);d.xp6(1),d.Oqu(o.language.reset)}}function ae(e,i){if(1&e){var t=d.EpF();d.TgZ(0,"a",83),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).BSPresetErrorModal()}),d._uU(1),d.qZA()}if(2&e){var o=d.oxw(2);d.xp6(1),d.Oqu(o.language.reset)}}var se=function(e,i){return{"ccl-error":e,"inp-disabled":i}},le=function(e){return{"ccl-error":e}},de=function(e,i,t){return{"ccl-error":e,"text-dark":i,"text-white":t}};function ue(e,i){if(1&e){var t=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"form",21),d.TgZ(2,"div",22),d.TgZ(3,"div",23),d.TgZ(4,"div",24),d.TgZ(5,"label",25),d._uU(6),d.TgZ(7,"span",26),d._uU(8,"*"),d.qZA(),d.qZA(),d.TgZ(9,"div",27),d.TgZ(10,"input",28,29),d.NdJ("keyup",function(){d.CHM(t);var e=d.MAs(11),i=d.oxw();return i.checkMaxMin(e.value,"bsp"),i.clsAlphaNoOnly(e.value,"bsp")}),d.qZA(),d.YNc(12,O,2,1,"div",30),d.YNc(13,F,3,1,"div",30),d.YNc(14,I,3,1,"div",30),d.YNc(15,B,2,1,"div",30),d.qZA(),d.qZA(),d.TgZ(16,"div",31),d.TgZ(17,"label",25),d._uU(18),d.TgZ(19,"span",26),d._uU(20,"*"),d.qZA(),d.qZA(),d.TgZ(21,"div",27),d._UZ(22,"ng-select",32),d.YNc(23,U,2,1,"div",30),d.qZA(),d.qZA(),d.TgZ(24,"div",24),d.TgZ(25,"label",33),d._uU(26),d.TgZ(27,"span",26),d._uU(28,"*"),d.qZA(),d.qZA(),d.TgZ(29,"div",27),d.TgZ(30,"input",34,35),d.NdJ("keyup",function(){d.CHM(t);var e=d.MAs(31);return d.oxw().urlValidation(e.value)}),d.qZA(),d.YNc(32,J,3,1,"div",4),d.YNc(33,Q,2,1,"div",30),d.qZA(),d.qZA(),d.TgZ(34,"div",24),d.TgZ(35,"label",36),d._uU(36),d.qZA(),d.TgZ(37,"div",27),d.TgZ(38,"input",37,38),d.NdJ("keyup",function(){d.CHM(t);var e=d.MAs(39);return d.oxw().checkMaxMin(e.value,"friendlyName")}),d.qZA(),d.YNc(40,Y,3,1,"div",30),d.qZA(),d.qZA(),d.YNc(41,R,8,4,"div",39),d.TgZ(42,"div",40),d._uU(43),d.qZA(),d.TgZ(44,"div",24),d.TgZ(45,"label",25),d._uU(46),d.TgZ(47,"span",26),d._uU(48,"*"),d.qZA(),d.qZA(),d.TgZ(49,"div",27),d.TgZ(50,"input",41,42),d.NdJ("keyup",function(){d.CHM(t);var e=d.MAs(51);return d.oxw().checkMaxMin(e.value,"wifi")}),d.qZA(),d.YNc(52,V,2,1,"div",30),d.YNc(53,W,3,1,"div",30),d.qZA(),d.qZA(),d.qZA(),d.TgZ(54,"div",23),d.TgZ(55,"div",43),d.TgZ(56,"div",22),d.TgZ(57,"div",23),d.TgZ(58,"div",27),d._uU(59),d._UZ(60,"span",26),d.TgZ(61,"div",44),d.TgZ(62,"div",45),d.TgZ(63,"div",46),d._UZ(64,"img",47),d.TgZ(65,"label",48),d.TgZ(66,"p",49),d._uU(67),d.qZA(),d.qZA(),d.TgZ(68,"input",50,51),d.NdJ("change",function(){d.CHM(t);var e=d.MAs(69);return d.oxw().readURL(e)}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(70,"div",23),d.TgZ(71,"div",52),d._uU(72),d.TgZ(73,"ul"),d.TgZ(74,"li"),d._uU(75),d.qZA(),d.TgZ(76,"li"),d._uU(77),d.qZA(),d.TgZ(78,"li"),d._uU(79),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(80,"div",53),d.TgZ(81,"div",54),d.TgZ(82,"div",55),d._uU(83),d.TgZ(84,"div",56),d.TgZ(85,"div",57),d.TgZ(86,"input",58),d.NdJ("colorPickerChange",function(e){return d.CHM(t),d.oxw().bspForm.value.defaultPrimaryColor=e})("ngModelChange",function(e){return d.CHM(t),d.oxw().bspForm.value.defaultPrimaryColor=e}),d.qZA(),d.YNc(87,X,2,1,"div",30),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(88,"div",54),d.TgZ(89,"div",27),d._uU(90),d.TgZ(91,"div",56),d.TgZ(92,"div",57),d.TgZ(93,"input",59),d.NdJ("ngModelChange",function(e){return d.CHM(t),d.oxw().bspForm.value.defaultSecondaryColor=e})("colorPickerChange",function(e){return d.CHM(t),d.oxw().bspForm.value.defaultSecondaryColor=e}),d.qZA(),d.YNc(94,ie,2,1,"div",30),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(95,"div",60),d._UZ(96,"div",61),d.qZA(),d.qZA(),d.qZA(),d.TgZ(97,"div",62),d.YNc(98,te,2,1,"button",63),d.YNc(99,oe,2,1,"button",63),d.TgZ(100,"div",64),d.YNc(101,re,4,1,"div",65),d.qZA(),d.TgZ(102,"div",66),d.YNc(103,ne,2,1,"a",67),d.YNc(104,ae,2,1,"a",68),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var o=d.oxw();d.xp6(1),d.Q6J("formGroup",o.bspForm),d.xp6(5),d.hij("",o.language.Bsp_Serve_provid," "),d.xp6(4),d.s9C("placeholder",o.language.Bsp_Single_Word_Validation),d.s9C("title",o.BspData?o.language.Reset_BSP_Information_tooltip:""),d.Q6J("readonly",o.bspId)("ngClass",d.WLB(63,se,o.bspFormSubmitted&&o.bspForm.get("shortName").errors,o.bspId)),d.xp6(2),d.Q6J("ngIf",o.bspForm.get("shortName").errors),d.xp6(1),d.Q6J("ngIf",o.minimumErr.bsp),d.xp6(1),d.Q6J("ngIf",o.communityError.bsp),d.xp6(1),d.Q6J("ngIf",(o.bspFormSubmitted||o.bspForm.get("shortName").touched)&&o.bspForm.get("shortName").errors),d.xp6(3),d.hij("",o.language.Bsp_Time," "),d.xp6(4),d.Q6J("items",o.timeZoneList)("ngClass",d.VKq(66,le,o.bspFormSubmitted&&o.bspForm.get("timezone").errors)),d.xp6(1),d.Q6J("ngIf",o.bspFormSubmitted&&(null==o.bspForm.get("timezone").errors?null:o.bspForm.get("timezone").errors.required)),d.xp6(3),d.Oqu(o.language["Bsp_T&C_URL"]),d.xp6(4),d.Q6J("ngClass",d.VKq(68,le,o.bspFormSubmitted&&o.bspForm.get("defaultTerms").errors))("formValue",o.bspForm),d.xp6(2),d.Q6J("ngIf",o.UrLError),d.xp6(1),d.Q6J("ngIf",o.bspFormSubmitted&&o.bspForm.get("defaultTerms").errors),d.xp6(2),d.s9C("title",o.language["Enter your preferred name for e-mail communications in SmartTown Wi-Fi (by default we use your ORG name)"]),d.xp6(1),d.Oqu(o.language["Service Provider\u2019s Friendly Name"]),d.xp6(2),d.s9C("placeholder",o.language["Service Provider\u2019s Friendly Name"]),d.Q6J("ngClass",d.VKq(70,le,o.bspFormSubmitted&&o.bspForm.get("friendlyName").errors))("formValue",o.bspForm),d.xp6(2),d.Q6J("ngIf",o.minimumErr.friendlyName),d.xp6(1),d.Q6J("ngIf",o.BspData),d.xp6(2),d.hij(" ",o.language.Bsp_Passpoint," "),d.xp6(3),d.hij("",o.language.Bsp_Wifi," "),d.xp6(4),d.s9C("placeholder",o.language.Bsp_Wifi),d.s9C("title",o.BspData?o.language.Reset_BSP_Information_tooltip:""),d.Q6J("readonly",o.bspId)("ngClass",d.WLB(72,se,o.bspFormSubmitted&&o.bspForm.get("wifiNetworkName").errors,o.bspId)),d.xp6(2),d.Q6J("ngIf",o.bspFormSubmitted&&o.bspForm.get("wifiNetworkName").errors),d.xp6(1),d.Q6J("ngIf",o.minimumErr.wifi),d.xp6(6),d.hij(" ",o.language.Bsp_Default_community_Logo," "),d.xp6(5),d.s9C("src",o.defaultLogo?o.defaultLogo:"./assets/img/empty_gary.svg",d.LSH),d.xp6(3),d.Oqu(o.defaultLogo?o.language.Replace_Image:o.language["Upload Image"]),d.xp6(1),d.Q6J("ngClass",d.VKq(75,le,o.bspFormSubmitted&&!o.defaultLogo)),d.xp6(4),d.hij(" ",o.language.Logo_Guidelines," "),d.xp6(3),d.hij(" ",o.language["Max File Size: 400kb"],""),d.xp6(2),d.hij(" ",o.language["Format: .png, .jpeg"]," "),d.xp6(2),d.hij("",o.language["Transparent background recommended"]," "),d.xp6(4),d.hij(" ",o.language.Bsp_Default_Micro_Primary," "),d.xp6(3),d.Udp("background",o.bspForm.value.defaultPrimaryColor),d.Q6J("colorPicker",o.bspForm.value.defaultPrimaryColor)("ngModel",o.bspForm.value.defaultPrimaryColor)("cpOutputFormat","hex")("ngClass",d.kEZ(77,de,o.bspFormSubmitted&&o.bspForm.get("defaultPrimaryColor").errors,o.getColorByBgColor(o.bspForm.value.defaultPrimaryColor),!o.getColorByBgColor(o.bspForm.value.defaultPrimaryColor))),d.xp6(1),d.Q6J("ngIf",o.bspFormSubmitted&&o.bspForm.get("defaultPrimaryColor").errors),d.xp6(3),d.hij(" ",o.language.Bsp_Default_Micro_Secondary," "),d.xp6(3),d.Udp("background",o.bspForm.value.defaultSecondaryColor),d.Q6J("ngModel",o.bspForm.value.defaultSecondaryColor)("colorPicker",o.bspForm.value.defaultSecondaryColor)("cpOutputFormat","hex")("ngClass",d.kEZ(81,de,o.bspFormSubmitted&&o.bspForm.get("defaultSecondaryColor").errors,o.getColorByBgColor(o.bspForm.value.defaultSecondaryColor),!o.getColorByBgColor(o.bspForm.value.defaultSecondaryColor))),d.xp6(1),d.Q6J("ngIf",o.bspFormSubmitted&&o.bspForm.get("defaultSecondaryColor").errors),d.xp6(4),d.Q6J("ngIf",!o.bspId),d.xp6(1),d.Q6J("ngIf",o.bspId),d.xp6(2),d.Q6J("ngIf",o.BspData),d.xp6(2),d.Q6J("ngIf",o.BspData&&0===(null==o.tableData?null:o.tableData.length)),d.xp6(1),d.Q6J("ngIf",o.BspData&&0!==(null==o.tableData?null:o.tableData.length))}}function ce(e,i){if(1&e&&(d.TgZ(0,"div",9),d.TgZ(1,"div",10),d.TgZ(2,"div",11),d.TgZ(3,"span",12),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var t=d.oxw(2);d.xp6(4),d.Oqu(t.language.Loading)}}function ge(e,i){if(1&e){var t=d.EpF();d.TgZ(0,"div",97),d.TgZ(1,"span",14),d._UZ(2,"img",15),d.qZA(),d._UZ(3,"div",98),d.TgZ(4,"button",16),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).closeAlert()}),d._UZ(5,"span"),d.qZA(),d.qZA()}if(2&e){var o=d.oxw(2);d.xp6(3),d.Q6J("innerHtml",o.errorInfoMicrosite,d.oJD)}}function me(e,i){if(1&e){var t=d.EpF();d.TgZ(0,"button",99),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).AddBspProvider()}),d._uU(1),d.qZA()}if(2&e){var o=d.oxw(2);d.xp6(1),d.Oqu(o.language.Save)}}function pe(e,i){if(1&e){var t=d.EpF();d.YNc(0,ce,5,1,"div",1),d.YNc(1,ge,6,1,"div",84),d.TgZ(2,"div",85),d.TgZ(3,"button",86),d.NdJ("click",function(){return d.CHM(t).$implicit.dismiss("Cross click")}),d._UZ(4,"span"),d.qZA(),d.qZA(),d.TgZ(5,"div",87),d.TgZ(6,"div",88),d.TgZ(7,"div",89),d._UZ(8,"img",90),d.qZA(),d.TgZ(9,"div",91),d.TgZ(10,"h1",92),d._uU(11),d.qZA(),d.TgZ(12,"ul",93),d.TgZ(13,"li"),d._uU(14),d.qZA(),d.TgZ(15,"li"),d._uU(16),d.qZA(),d.qZA(),d.TgZ(17,"p"),d._uU(18),d.qZA(),d.TgZ(19,"div",94),d.YNc(20,me,2,1,"button",95),d.TgZ(21,"button",96),d.NdJ("click",function(){return d.CHM(t).$implicit.close("Close click")}),d._uU(22),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var o=d.oxw();d.Q6J("ngIf",o.bsploader),d.xp6(1),d.Q6J("ngIf",o.iserror),d.xp6(10),d.Oqu(o.language["Verify the following BSP Information"]),d.xp6(3),d.Oqu(o.language.Service_Providers_Short_Name),d.xp6(2),d.hij("",o.language.Bsp_Wifi," "),d.xp6(2),d.Oqu(o.language.BSP_Information_Verify_Msg),d.xp6(2),d.Q6J("ngIf",!o.bspId),d.xp6(2),d.Oqu(o.language.cancel)}}function fe(e,i){if(1&e){var t=d.EpF();d.TgZ(0,"div",85),d.TgZ(1,"button",86),d.NdJ("click",function(){return d.CHM(t).$implicit.dismiss("Cross click")}),d._UZ(2,"span"),d.qZA(),d.qZA(),d.TgZ(3,"div",87),d.TgZ(4,"div",88),d.TgZ(5,"div",89),d._UZ(6,"img",100),d.qZA(),d.TgZ(7,"div",91),d.TgZ(8,"h1",92),d._uU(9),d.qZA(),d.TgZ(10,"p"),d._uU(11),d.qZA(),d.TgZ(12,"div",94),d.TgZ(13,"button",101),d.NdJ("click",function(){return d.CHM(t).$implicit.close("Save click")}),d._uU(14),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var o=d.oxw();d.xp6(9),d.Oqu(o.language.Cannot_Reset_BSP_Information),d.xp6(2),d.Oqu(o.language.Reset_BSP_Information_Msg),d.xp6(3),d.Oqu(o.language.Okay)}}function he(e,i){if(1&e&&(d.TgZ(0,"div",9),d.TgZ(1,"div",10),d.TgZ(2,"div",11),d.TgZ(3,"span",12),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var t=d.oxw(2);d.xp6(4),d.Oqu(t.language.Loading)}}function ve(e,i){if(1&e){var t=d.EpF();d.TgZ(0,"div",97),d.TgZ(1,"span",14),d._UZ(2,"img",15),d.qZA(),d._UZ(3,"div",98),d.TgZ(4,"button",16),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).closeAlert()}),d._UZ(5,"span"),d.qZA(),d.qZA()}if(2&e){var o=d.oxw(2);d.xp6(3),d.Q6J("innerHtml",o.errorInfoMicrosite,d.oJD)}}function be(e,i){if(1&e){var t=d.EpF();d.YNc(0,he,5,1,"div",1),d.YNc(1,ve,6,1,"div",84),d.TgZ(2,"div",85),d.TgZ(3,"button",86),d.NdJ("click",function(){return d.CHM(t).$implicit.dismiss("Cross click")}),d._UZ(4,"span"),d.qZA(),d.qZA(),d.TgZ(5,"div",87),d.TgZ(6,"div",88),d.TgZ(7,"div",89),d._UZ(8,"img",102),d.qZA(),d.TgZ(9,"div",91),d.TgZ(10,"h1",92),d._uU(11),d.qZA(),d.TgZ(12,"p"),d._uU(13),d.qZA(),d.TgZ(14,"div",94),d.TgZ(15,"button",103),d.NdJ("click",function(){return d.CHM(t),d.oxw().DeleteBSP()}),d._uU(16),d.qZA(),d.TgZ(17,"button",104),d.NdJ("click",function(){return d.CHM(t).$implicit.close("Close click")}),d._uU(18),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var o=d.oxw();d.Q6J("ngIf",o.bsploader),d.xp6(1),d.Q6J("ngIf",o.iserror),d.xp6(10),d.Oqu(o.language.sure_reset_BSP_Information),d.xp6(2),d.Oqu(o.language["This action cannot be undone"]),d.xp6(3),d.Oqu(o.language.Yes_reset_Btn),d.xp6(2),d.Oqu(o.language.No_cancel_Btn)}}function ye(e,i){if(1&e&&(d.TgZ(0,"li"),d._uU(1),d.qZA()),2&e){var t=i.$implicit;d.xp6(1),d.Oqu(null==t?null:t.name)}}function Ze(e,i){if(1&e){var t=d.EpF();d.TgZ(0,"div",85),d.TgZ(1,"button",86),d.NdJ("click",function(){return d.CHM(t).$implicit.dismiss("Cross click")}),d._UZ(2,"span"),d.qZA(),d.qZA(),d.TgZ(3,"div",87),d.TgZ(4,"div",88),d.TgZ(5,"div",14),d._UZ(6,"img",15),d.qZA(),d.TgZ(7,"div",91),d.TgZ(8,"h1",92),d._uU(9),d.qZA(),d.TgZ(10,"p",105),d._uU(11),d.qZA(),d.TgZ(12,"ul",93),d.YNc(13,ye,2,1,"li",106),d.qZA(),d.TgZ(14,"p"),d._uU(15),d.qZA(),d.TgZ(16,"div",94),d.TgZ(17,"button",107),d.NdJ("click",function(){return d.CHM(t).$implicit.close("Save click")}),d._uU(18),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var o=d.oxw();d.xp6(9),d.AsE("",o.language.Cannot_Delete," ",o.micrositeName,""),d.xp6(2),d.Oqu(o.language.VerifyMicrositeTitle),d.xp6(2),d.Q6J("ngForOf",o.workFlowData),d.xp6(2),d.hij("",o.language.To_delete_this_microsite_msg,"."),d.xp6(3),d.Oqu(o.language.Okay)}}var xe,Ce=((xe=function(){function i(e,t,o,n,a,d,u,c,g){var m=this;!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.translateService=e,this.router=t,this.titleService=o,this.sso=n,this.formBuilder=a,this.dialogService=d,this.commonOrgService=u,this.communityService=c,this.validatorService=g,this.timeZoneList=r.c,this.timeZoneValueList=r.E,this.bspFormSubmitted=!1,this.submitted=!1,this.addMicroSiteFormSubmitted=!1,this.minimumErr={community:!1,bsp:!1,wifi:!1,description:!1,friendlyName:!1},this.communityError={community:!1,bsp:!1},this.dtOptions={pagingType:"full_numbers",dom:"tipr",lengthChange:!1,pageLength:10,destroy:!0,processing:!1,columnDefs:[{orderable:!1,targets:[5]},{targets:[0],orderable:!0}],order:[0,"asc"],drawCallback:function(e){m._iDisplayStart=e._iDisplayStart,e.aoData.length<=e._iDisplayLength&&$(e.nTableWrapper).find("#".concat(e.sTableId,"_last")).addClass("disabled")}},this.dtTrigger=new s.xQ,this.tableData=[],this.buttonText="Bsp_Add_Microsite",this.refreshBack=!1,this.frTable=this.translateService.fr,this.esTable=this.translateService.es,this.de_DETable=this.translateService.de_DE,this.ORG_ID=this.sso.getOrgId(),this.MODULE=this.sso.getRedirectModule(this.router.url),this.commonOrgService.currentPageAdder("SmartTown Wi-Fi"),(0,l.F)(3e4).subscribe(function(e){setTimeout(function(){!m.ShowMicrosite&&m.saveBSP&&m.GetBspProvider()},0)})}var t,o,a;return t=i,(o=[{key:"ngOnInit",value:function(){var e=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(i){e.language=i,e.tableDataAvailable=!1,e.tableLanguageOptions(),e.titleService.setTitle("".concat(e.language.Bsp_Info," - ").concat(e.language.myCommunityIQ," - ").concat("systemAdministration"===e.MODULE?e.language["System Administration"]:e.language.administration," - ").concat(e.language["Calix Cloud"])),setTimeout(function(){e.tableDataAvailable=!0},100)}),this.titleService.setTitle("".concat(this.language.Bsp_Info," - ").concat(this.language.myCommunityIQ," - ").concat("systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration," - ").concat(this.language["Calix Cloud"])),this.GetBspProvider(),this.GetMicrosites(),this.getPredefinedCommunities(),this.bspForm=this.formBuilder.group({shortName:["",[n.kI.required,n.kI.pattern(/^\S*$/)]],timezone:[null,[n.kI.required]],wifiNetworkName:["",n.kI.required],defaultLogo:[""],defaultPrimaryColor:["#0279FF",n.kI.required],defaultSecondaryColor:["#CCCCCC",n.kI.required],defaultTerms:["",[n.kI.required,n.kI.pattern(/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/)]],friendlyName:[""]}),this.addMicroSite=this.formBuilder.group({isPredefinedCommunity:[!0],communityType:["Permanent"],brandingType:["Default"],communityName:[null,[n.kI.required]],communityDesc:[""],logo:[""],primaryColor:["#0279FF",n.kI.required],secondaryColor:["#CCCCCC",n.kI.required]})}},{key:"tableLanguageOptions",value:function(){"fr"==this.language.fileLanguage?this.dtOptions.language=this.frTable:"es"==this.language.fileLanguage?this.dtOptions.language=this.esTable:"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.de_DETable:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}},{key:"urlValidation",value:function(e){if(e){var i=this.validatorService.urlValidation(e);this.UrLError=i.error}else this.UrLError=!!(e="")}},{key:"clsAlphaNoOnly",value:function(e,i){if("community"===i){var t=new RegExp("^[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$"),o=e.substring(0,2);this.communityError.community=!t.test(e)||"c-"===o}else t=new RegExp("^[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$"),this.communityError.bsp=!t.test(e)}},{key:"checkMaxMin",value:function(e,i){"community"===i?e.length>0&&(this.minimumErr.community=!(e.length>=4&&e.length<=31)):"bsp"===i?e.length>0&&(this.minimumErr.bsp=!(e.length>=4&&e.length<=31)):"description"===i?e.length>0&&(this.minimumErr.description=!(e.length<=32)):"friendlyName"===i?this.minimumErr.friendlyName=e.length>0&&!(e.length>=3&&e.length<=32):e.length>0&&(this.minimumErr.wifi=!(e.length>=3&&e.length<=32))}},{key:"checkSpace",value:function(e){0==e.value.toString().replace(/\ /g,"").length&&32==e.which&&e.preventDefault()}},{key:"rerender",value:function(){this.tableDataAvailable=!1;var e=this;this.dtElements.forEach(function(i,t){var o;i.dtInstance&&(null===(o=i.dtInstance)||void 0===o||o.then(function(i){i.clear(),i.destroy(),1==t&&e.reload()}))})}},{key:"reload",value:function(){var e=this;setTimeout(function(){e.dtTrigger.next(),e.tableDataAvailable=!0},50)}},{key:"patchCommunityDescription",value:function(e){this.communityDesc=e.description}},{key:"convertIntoFileBase",value:function(e){var i=this;if(this.Micrositelogo="",$("#logo-customimage-view").attr("src"," "),(null==e?void 0:e.files)&&(null==e?void 0:e.files[0])){var t=new FileReader;t.onload=function(e){$("#logo-customimage-view").attr("src",e.target.result),i.logo=e.target.result,e.target.result},t.readAsDataURL(null==e?void 0:e.files[0])}}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe()}},{key:"AddBspProvider",value:function(){var e,i=this;this.bspFormSubmitted=!0,this.error=!1,this.iserror=!1;var t,o=new FormData;if(null==(t=null===(e=$("input[name='logo']").get(0))||void 0===e?void 0:e.files)?void 0:t.length){var r=t[0].name.split(".").pop(),n=t[0].size/1024,a=["jpeg","JPEG","PNG","png","jpg","JPG"];if(-1==a.indexOf(r)){var s=a.join(", ");return void this.addError(this.language.Image_extension_will_be+s+this.language.file_format)}if(n>400)return void this.addError(this.language.LogoImage_uploaderror+" 400 KB");$.each(t,function(e,i){o.append("defaultLogo",i),o.append("updateLogo","true")})}else o.append("defaultLogo",""),o.append("updateLogo","false");!this.bspForm.value.timezone||!this.bspForm.value.shortName||!this.bspForm.value.wifiNetworkName||!this.bspForm.value.defaultPrimaryColor||!this.bspForm.value.defaultSecondaryColor||!this.bspForm.value.defaultTerms||(this.bspForm.value.defaultTerms&&this.urlValidation(this.bspForm.value.defaultTerms),(!this.bspForm.value.defaultTerms||!this.UrLError)&&(this.bspForm.value.shortName&&(this.checkMaxMin(this.bspForm.value.shortName,"bsp"),this.checkMaxMin(this.bspForm.value.wifiNetworkName,"wifi"),this.clsAlphaNoOnly(this.bspForm.value.shortName,"bsp")),(!this.bspForm.value.friendlyName||(this.checkMaxMin(this.bspForm.value.friendlyName,"friendlyName"),!this.minimumErr.friendlyName))&&(this.minimumErr.bsp||this.minimumErr.wifi||this.communityError.bsp||(this.bsploader=!0,o.append("orgId ",this.ORG_ID),o.append("shortName",this.bspForm.value.shortName),o.append("name",localStorage.getItem("calix.org_name")),o.append("timezone",this.bspForm.value.timezone),o.append("wifiNetworkName",this.bspForm.value.wifiNetworkName),o.append("defaultPrimaryColor",this.bspForm.value.defaultPrimaryColor),o.append("defaultSecondaryColor",this.bspForm.value.defaultSecondaryColor),o.append("defaultTerms",this.bspForm.value.defaultTerms),this.bspForm.value.friendlyName&&o.append("friendlyName",this.bspForm.value.friendlyName),this.addBspsub=this.communityService.AddBspInfo(o).subscribe(function(e){i.saveBSP=!0,i.GetBspProvider(),i.closeAllModal()},function(e){i.pageErrorHandle(e,!0),i.bsploader=!1})))))}},{key:"GetBspProvider",value:function(){var e=this;this.loader=!this.refreshBack,this.addBspsub=this.communityService.GetBspproviderInfo().subscribe(function(i){var t,o,r,n;e.BspData=i||{},e.bspId=null==i?void 0:i.id,e.BspData&&(e.refreshBack=!0,e.loader=!1),e.status=null==i?void 0:i.status,e.ShowMicrosite="READY"===e.status,e.bspForm.patchValue(e.BspData),e.bspForm.patchValue({friendlyName:"undefined"!==(null===(t=e.BspData)||void 0===t?void 0:t.friendlyName)&&"null"!==(null===(o=e.BspData)||void 0===o?void 0:o.friendlyName)?null===(r=e.BspData)||void 0===r?void 0:r.friendlyName:""}),e.defaultLogo=null===(n=e.BspData)||void 0===n?void 0:n.defaultLogo,e.bsploader=!1,e.loader=!1},function(i){e.loader=!1,e.bspId="",e.BspData="",e.status="",e.tableData=[],e.ShowMicrosite=!1,e.bspFormSubmitted=!1,e.defaultLogo="",e.bspForm.reset({shortName:null,timezone:"",wifiNetworkName:"",defaultLogo:"",defaultPrimaryColor:"#0279FF",defaultSecondaryColor:"#CCCCCC",defaultTerms:""}),e.bsploader=!1})}},{key:"GetMicrosites",value:function(){var e=this;this.micrositeloader=!0,this.addBspsub=this.communityService.GetMicrosite().subscribe(function(i){e.tableDataAvailable=!1,e.tableData=i||[],e.tableData||setTimeout(function(){e.showNoDataAvailable()},300),e.dtOptions={pagingType:"full_numbers",dom:"tipr",lengthChange:!1,pageLength:10,destroy:!0,processing:!0,displayStart:e._iDisplayStart?e._iDisplayStart:0,columnDefs:[{orderable:!1,targets:[5]},{targets:[0],orderable:!0}],order:[0,"asc"],drawCallback:function(i){e._iDisplayStart=i._iDisplayStart,i.aoData.length<=i._iDisplayLength&&$(i.nTableWrapper).find("#".concat(i.sTableId,"_last")).addClass("disabled")}},e.micrositeloader=!1,e.closeAllModal(),e.loadArloTables()},function(i){e.micrositeloader=!1,e.loadArloTables(),404==i.status&&setTimeout(function(){e.showNoDataAvailable()},300),e.pageErrorHandle(i,!0)})}},{key:"BSPPreview",value:function(){var e;localStorage.setItem("calix.micrositeDetails",JSON.stringify(this.BspData)),null===(e=this.router.navigate([]))||void 0===e||e.then(function(e){window.open("/microsite_preview","_blank")})}},{key:"AddMicrositePreview",value:function(){var e,i,t,o={communityDesc:this.addMicroSite.value.communityDesc&&!this.addMicroSite.value.isPredefinedCommunity?this.addMicroSite.value.communityDesc:this.communityDesc&&this.addMicroSite.value.isPredefinedCommunity?this.communityDesc:this.addMicroSite.value.communityDesc,logo:this.logo?this.logo:"Custom"!==this.addMicroSite.value.brandingType?this.defaultLogo:"",primaryColor:"Custom"===this.addMicroSite.value.brandingType?this.addMicroSite.value.primaryColor:null===(e=this.BspData)||void 0===e?void 0:e.defaultPrimaryColor,secondaryColor:"Custom"===this.addMicroSite.value.brandingType?this.addMicroSite.value.secondaryColor:null===(i=this.BspData)||void 0===i?void 0:i.defaultSecondaryColor};localStorage.setItem("calix.micrositeDetails",JSON.stringify(o)),null===(t=this.router.navigate([]))||void 0===t||t.then(function(e){window.open("/microsite_preview","_blank")})}},{key:"EditMicroPreview",value:function(){var e,i,t,o={communityDesc:this.communityDesc?this.communityDesc:this.addMicroSite.value.communityDesc,logo:this.logo?this.logo:"Custom"===this.addMicroSite.value.brandingType?this.Micrositelogo:this.defaultLogo,primaryColor:"Custom"===this.addMicroSite.value.brandingType?this.addMicroSite.value.primaryColor:null===(e=this.BspData)||void 0===e?void 0:e.defaultPrimaryColor,secondaryColor:"Custom"===this.addMicroSite.value.brandingType?this.addMicroSite.value.secondaryColor:null===(i=this.BspData)||void 0===i?void 0:i.defaultSecondaryColor};localStorage.setItem("calix.micrositeDetails",JSON.stringify(o)),null===(t=this.router.navigate([]))||void 0===t||t.then(function(e){window.open("/microsite_preview","_blank")})}},{key:"EditMicrositePreview",value:function(e){var i=this;this.editLoader=!0,this.addBspsub=this.communityService.GetMicrositeForEdit(null==e?void 0:e.id).subscribe(function(e){var t;i.MicrositeData=e||{},i.editLoader=!1,localStorage.setItem("calix.micrositeDetails",JSON.stringify(i.MicrositeData)),null===(t=i.router.navigate([]))||void 0===t||t.then(function(e){window.open("/microsite_preview","_blank")})},function(e){i.pageErrorHandle(e,!1),i.editLoader=!1})}},{key:"loadArloTables",value:function(){var e=this;this.tableLanguageOptions(),setTimeout(function(){e.tableDataAvailable=!0},0)}},{key:"getPredefinedCommunities",value:function(){var e=this;this.loading=!0,this.addBspsub=this.communityService.GetpredefinedCommunities().subscribe(function(i){var t;e.communityArr=i||[],0===(null===(t=e.communityArr)||void 0===t?void 0:t.length)?(e.disableCommunity=!0,e.addMicroSite.patchValue({isPredefinedCommunity:!1})):e.disableCommunity=!1,e.loading=!1},function(i){e.loader=!1})}},{key:"EditBspProvider",value:function(){var e,i=this;this.bspFormSubmitted=!0,this.error=!1,this.iserror=!1;var t,o=new FormData;if(null==(t=null===(e=$("input[name='logo']").get(0))||void 0===e?void 0:e.files)?void 0:t.length){var r=t[0].name.split(".").pop(),n=t[0].size/1024,a=["jpeg","JPEG","PNG","png","jpg","JPG"];if(-1==a.indexOf(r)){var s=a.join(", ");return void this.addError(this.language.Image_extension_will_be+s+this.language.file_format)}if(n>400)return void this.addError(this.language.LogoImage_uploaderror+" 400 KB");$.each(t,function(e,i){o.append("defaultLogo",i),o.append("updateLogo","true")})}else o.append("defaultLogo",""),o.append("updateLogo","false");this.bspForm.value.defaultTerms&&this.urlValidation(this.bspForm.value.defaultTerms),(!this.bspForm.value.defaultTerms||!this.UrLError)&&(this.bspForm.value.friendlyName&&(this.checkMaxMin(this.bspForm.value.friendlyName,"friendlyName"),this.minimumErr.friendlyName)||(this.bsploader=!0,o.append("timezone",this.bspForm.value.timezone),o.append("defaultPrimaryColor",this.bspForm.value.defaultPrimaryColor),o.append("defaultSecondaryColor",this.bspForm.value.defaultSecondaryColor),o.append("defaultTerms",this.bspForm.value.defaultTerms),this.bspForm.value.friendlyName&&o.append("friendlyName",this.bspForm.value.friendlyName),this.addBspsub=this.communityService.EditBspInfo(o).subscribe(function(e){i.GetBspProvider(),i.closeAllModal()},function(e){i.pageErrorHandle(e,!0),i.bsploader=!1})))}},{key:"showNoDataAvailable",value:function(){setTimeout(function(){var e=document.querySelector(".dataTables_empty");e&&(e.style.display="table-cell",e.classList.add("text-center"))},100)}},{key:"addError",value:function(e,i){i?(this.errorInfoMicrosite=e,this.iserror=!0,this.error=!1):(this.errorInfo=e,this.error=!0,this.iserror=!1),this.micrositeloader=!1,$("html, body").animate({scrollTop:0},"slow")}},{key:"getColorByBgColor",value:function(e){return!e||parseInt(e.replace("#",""),16)>8388607.5}},{key:"onSubmit",value:function(){var e,i,t=this;this.addMicroSiteFormSubmitted=!0;var o=new FormData;if(this.EditmicrositeId){if(!this.addMicroSite.value.isPredefinedCommunity&&!this.addMicroSite.value.communityDesc||this.minimumErr.description)return;if("Custom"===this.addMicroSite.value.brandingType){var r;if(this.micrositeloader=!0,null==(r=null===(e=$("input[name='white_logo']").get(0))||void 0===e?void 0:e.files)?void 0:r.length){var n=r[0].name.split(".").pop(),a=r[0].size/1024;if(-1==(d=["jpeg","JPEG","PNG","png","jpg","JPG"]).indexOf(n)){var s=d.join(", ");return void this.addError(this.language.Image_extension_will_be+s+this.language.file_format,!0)}if(a>400)return void this.addError(this.language.LogoImage_uploaderror+" 400 KB",!0);$.each(r,function(e,i){o.append("logo",i),o.append("updateLogo","true")})}else o.append("logo",""),o.append("updateLogo","false");o.append("primaryColor",this.addMicroSite.value.primaryColor),o.append("secondaryColor",this.addMicroSite.value.secondaryColor),o.append("brandingType",this.addMicroSite.value.brandingType),o.append("communityDesc",this.addMicroSite.value.communityDesc)}else o.append("logo",""),o.append("updateLogo","false"),o.append("primaryColor",""),o.append("secondaryColor",""),o.append("communityDesc",this.addMicroSite.value.communityDesc),o.append("brandingType",this.addMicroSite.value.brandingType)}else{if(!this.addMicroSite.value.brandingType||!this.addMicroSite.value.communityName||!this.addMicroSite.value.isPredefinedCommunity&&!this.addMicroSite.value.communityDesc)return;if(this.micrositeloader=!0,"Custom"===this.addMicroSite.value.brandingType){var l;if(null==(l=null===(i=$("input[name='white_logo']").get(0))||void 0===i?void 0:i.files)?void 0:l.length){var d;if(n=l[0].name.split(".").pop(),a=l[0].size/1024,-1==(d=["jpeg","JPEG","PNG","png","jpg","JPG"]).indexOf(n))return s=d.join(", "),void this.addError(this.language.Image_extension_will_be+s+this.language.file_format,!0);if(a>400)return void this.addError(this.language.LogoImage_uploaderror+" 400 KB",!0);$.each(l,function(e,i){o.append("logo",i),o.append("updateLogo","true")})}else o.append("logo",""),o.append("updateLogo","false");o.append("primaryColor",this.addMicroSite.value.primaryColor),o.append("secondaryColor",this.addMicroSite.value.secondaryColor)}else o.append("logo",""),o.append("updateLogo","false"),o.append("primaryColor",""),o.append("secondaryColor","");if(this.addMicroSite.value.isPredefinedCommunity)o.append("communityDesc","");else if(o.append("communityDesc",this.addMicroSite.value.communityDesc),this.clsAlphaNoOnly(this.addMicroSite.value.communityName),this.checkMaxMin(this.addMicroSite.value.communityName,"community"),this.communityError.community||this.minimumErr.community||this.minimumErr.description)return void(this.micrositeloader=!1);o.append("isPredefinedCommunity",this.addMicroSite.value.isPredefinedCommunity),o.append("brandingType",this.addMicroSite.value.brandingType),o.append("communityName",this.addMicroSite.value.communityName.toLowerCase()),o.append("communityType",this.addMicroSite.value.communityType)}this.addBspsub=this.EditmicrositeId?this.communityService.EditMicrosite(o,this.EditmicrositeId).subscribe(function(e){t.closeAllModal(),t.GetMicrosites(),t.getPredefinedCommunities()},function(e){t.pageErrorHandle(e,!0),t.micrositeloader=!1}):this.communityService.AddMicrosite(o).subscribe(function(e){t.closeAllModal(),t.GetMicrosites(),t.getPredefinedCommunities()},function(e){t.pageErrorHandle(e,!0),t.micrositeloader=!1})}},{key:"closeAllModal",value:function(){this.error=!1,this.iserror=!1,this.dialogService.dismissAll()}},{key:"editMicroSite",value:function(e,i){var t=this;this.error=!1,this.logo="",this.iserror=!1,this.EditmicrositeId=e.id,this.disblemicrosite=!0,this.disableCommunity=!0,this.minimumErr.description=!1,this.minimumErr.community=!1,this.editLoader=!0,this.addBspsub=this.communityService.GetMicrositeForEdit(this.EditmicrositeId).subscribe(function(e){t.addMicroSite.patchValue(e),t.Micrositelogo=null==e?void 0:e.logo,t.editLoader=!1,t.dialogService.open(t.microSiteModal)},function(e){t.pageErrorHandle(e,!1),t.editLoader=!1}),this.editIndex=i}},{key:"checkColor",value:function(){"Default"===this.addMicroSite.value.brandingType&&this.addMicroSite.patchValue({primaryColor:"#0279FF",secondaryColor:"#CCCCCC"})}},{key:"addMicroSiteValue",value:function(){var e;this.disblemicrosite=!1,this.error=!1,this.iserror=!1,this.logo="",this.addMicroSiteFormSubmitted=!1,this.EditmicrositeId="",this.minimumErr.community=!1,this.minimumErr.description=!1,this.communityDesc="",this.communityError.community=!1,this.Micrositelogo="",0===(null===(e=this.communityArr)||void 0===e?void 0:e.length)?(this.disableCommunity=!0,this.addMicroSite.patchValue({isPredefinedCommunity:!1})):this.disableCommunity=!1,this.addMicroSite.reset({shortName:null,communityType:"Permanent",isPredefinedCommunity:!this.disableCommunity,brandingType:"Default",communityName:null,communityDesc:"",logo:null,primaryColor:"#0279FF",secondaryColor:"#CCCCCC"}),this.dialogService.open(this.microSiteModal)}},{key:"deleteMicrosite",value:function(e,i,t){this.micrositeId=e.id,this.dialogService.open(t,{size:"md"})}},{key:"DeleteMicrosite",value:function(){var e=this,i=this.micrositeId;this.micrositeloader=!0,this.addBspsub=this.communityService.DeleteMicrosite(i).subscribe(function(i){e.GetMicrosites(),e.getPredefinedCommunities()},function(i){e.pageErrorHandle(i,!1),e.micrositeloader=!1})}},{key:"WarToDelMicrosite",value:function(e){var i=this;this.micrositeId=e.id,this.micrositeName=null==e?void 0:e.communityName;var t=this.micrositeId;this.micrositeloader=!0,this.addBspsub=this.communityService.WarToDelMicrosite(this.ORG_ID,JSON.stringify({orgId:this.ORG_ID,"actions.passpointConfig.communities.micrositeId":t})).subscribe(function(e){i.workFlowData=e||[],i.micrositeloader=!1,0!==(null==e?void 0:e.length)?i.dialogService.open(i.verifyMicrositeModel,{windowClass:"custom-alert-warn"}):i.dialogService.open(i.deleteModal)},function(e){i.pageErrorHandle(e,!1),i.dialogService.open(i.deleteModal),i.micrositeloader=!1})}},{key:"DeleteBSP",value:function(){var e=this;this.bsploader=!0,this.addBspsub=this.communityService.DeleteBspInfo().subscribe(function(i){e.GetBspProvider(),e.closeAllModal()},function(i){e.pageErrorHandle(i,!0),e.bsploader=!1,e.micrositeloader=!1})}},{key:"pageErrorHandle",value:function(e,i){i?(this.iserror=!0,this.errorInfoMicrosite=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e)):(this.error=!0,this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e))}},{key:"readURL",value:function(e){if(this.defaultLogo="",$("#logo-image-view").attr("src"," "),(null==e?void 0:e.files)&&(null==e?void 0:e.files[0])){var i=new FileReader;i.onload=function(e){$("#logo-image-view").attr("src",e.target.result),e.target.result},i.readAsDataURL(null==e?void 0:e.files[0]),this.defaultLogo=null==e?void 0:e.files[0].name}}},{key:"closeAlert",value:function(){this.error=!1,this.iserror=!1,this.success=!1}},{key:"removeCommunity",value:function(){this.addMicroSite.patchValue({communityName:null,description:null})}},{key:"verifyBSPInfoModal",value:function(){var e;this.bspFormSubmitted=!0,this.error=!1,this.iserror=!1;var i=null===(e=$("input[name='logo']").get(0))||void 0===e?void 0:e.files;if(null==i?void 0:i.length){var t=i[0].name.split(".").pop(),o=i[0].size/1024,r=["jpeg","JPEG","PNG","png","jpg","JPG"];if(-1==r.indexOf(t)){var n=r.join(", ");return void this.addError(this.language.Image_extension_will_be+n+this.language.file_format)}if(o>400)return void this.addError(this.language.LogoImage_uploaderror+" 400 KB")}!this.bspForm.value.timezone||!this.bspForm.value.shortName||!this.bspForm.value.wifiNetworkName||!this.bspForm.value.defaultPrimaryColor||!this.bspForm.value.defaultSecondaryColor||!this.bspForm.value.defaultTerms||(this.bspForm.value.defaultTerms&&this.urlValidation(this.bspForm.value.defaultTerms),(!this.bspForm.value.defaultTerms||!this.UrLError)&&(this.bspForm.value.shortName&&(this.checkMaxMin(this.bspForm.value.shortName,"bsp"),this.checkMaxMin(this.bspForm.value.wifiNetworkName,"wifi"),this.clsAlphaNoOnly(this.bspForm.value.shortName,"bsp")),(!this.bspForm.value.friendlyName||(this.checkMaxMin(this.bspForm.value.friendlyName,"friendlyName"),!this.minimumErr.friendlyName))&&(this.minimumErr.bsp||this.minimumErr.wifi||this.communityError.bsp||this.dialogService.open(this.verifyBSPModal,{windowClass:"custom-alert-info"}))))}},{key:"BSPresetErrorModal",value:function(){this.dialogService.open(this.bspResetErrorModal,{windowClass:"custom-alert-error"})}},{key:"BSPInfoWarnModal",value:function(){this.iserror=!1,this.dialogService.open(this.bspInfoWarnModal,{windowClass:"custom-alert-warn"})}}])&&e(t.prototype,o),a&&e(t,a),Object.defineProperty(t,"prototype",{writable:!1}),i}()).\u0275fac=function(e){return new(e||xe)(d.Y36(u.s),d.Y36(c.F0),d.Y36(g.Dx),d.Y36(m.t6),d.Y36(n.qu),d.Y36(p.FF),d.Y36(f.v),d.Y36(h.l),d.Y36(v.o))},xe.\u0275cmp=d.Xpm({type:xe,selectors:[["app-bsp-information"]],viewQuery:function(e,i){var t;1&e&&(d.Gf(C,7),d.Gf(_,7),d.Gf(M,7),d.Gf(T,7),d.Gf(w,7),d.Gf(q,7),d.Gf(a.G,5)),2&e&&(d.iGM(t=d.CRH())&&(i.deleteModal=t.first),d.iGM(t=d.CRH())&&(i.microSiteModal=t.first),d.iGM(t=d.CRH())&&(i.verifyBSPModal=t.first),d.iGM(t=d.CRH())&&(i.bspResetErrorModal=t.first),d.iGM(t=d.CRH())&&(i.bspInfoWarnModal=t.first),d.iGM(t=d.CRH())&&(i.verifyMicrositeModel=t.first),d.iGM(t=d.CRH())&&(i.dtElements=t))},decls:14,vars:5,consts:[[1,"container","position-relative"],["class","loader",4,"ngIf"],["class","w-100 alert alert-danger fade show",4,"ngIf"],["class","w-100 alert alert-success fade show",4,"ngIf"],[4,"ngIf"],["verifyBSPModal",""],["bspResetErrorModal",""],["bspInfoWarnModal",""],["verifyMicrositeModel",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert-success","fade","show"],[1,"success-img"],["src","./assets/img/success-icon.svg"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group","ccl-form"],["for","staticEmail",1,"col-form-label"],[1,"error"],[1,""],["type","text","formControlName","shortName","required","",1,"form-control",3,"placeholder","readonly","ngClass","title","keyup"],["inputPassword2",""],["class","ccl-error",4,"ngIf"],[1,"form-group"],["bindLabel","displayName","bindValue","value","formControlName","timezone","placeholder","",3,"items","ngClass"],["for","defaultTerms",1,"col-form-label"],["type","text","formControlName","defaultTerms","id","defaultTerms","required","","placeholder","https://","trimSpace","",1,"form-control",3,"ngClass","formValue","keyup"],["url",""],["for","FriendlyName","data-toggle","tooltip","data-placement","top",1,"col-form-label","pointer",3,"title"],["type","text","formControlName","friendlyName","trimSpace","",1,"form-control",3,"placeholder","ngClass","formValue","keyup"],["FriendlyName",""],["class","form-group ccl-form",4,"ngIf"],[1,"passpoint-config-title"],["type","text","formControlName","wifiNetworkName","required","",1,"form-control",3,"readonly","placeholder","ngClass","title","keyup"],["inputPassword3",""],[1,"pb-4","relative-position"],[1,"form-input-field"],[1,"input-field"],["id","logo-image-view-div",1,"logo-image-view"],["id","logo-image-view",1,"default-microsite-image",3,"src"],["for","logo",1,"primary","m-0","pointer"],[1,"btn-default","btn-dft"],["type","file","name","logo","required","","id","logo",1,"type-file",3,"ngClass","change"],["logo",""],[1,"logo-guidelines"],[1,"row","mt-2"],[1,"col-md-5"],[1,"mb-3"],[1,"form-input-field","ccl-form","mt-3"],[1,"input-field","color-input","w-75"],["formControlName","defaultPrimaryColor","id","defaultPrimaryColor",1,"form-control",2,"color","#faf9f5",3,"colorPicker","ngModel","cpOutputFormat","ngClass","colorPickerChange","ngModelChange"],["formControlName","defaultSecondaryColor","id","defaultSecondaryColor",1,"form-control","ng-untouched","ng-pristine","ng-valid",2,"color","#faf9f5",3,"ngModel","colorPicker","cpOutputFormat","ngClass","ngModelChange","colorPickerChange"],[1,"col-md-12"],[1,"microsite-configuration-container"],[1,"col-md-12","save-bsp"],["class","btn-default primary px-3 mr-2","id","bsp-save",3,"click",4,"ngIf"],[1,"d-inline-flex","ml-1"],["class","text-decoration-none  cursor-pointer btn-default btn-dft",3,"click",4,"ngIf"],[1,"d-inline-flex","ml-3"],["class","text-decoration-none primary cursor-pointer ",3,"click",4,"ngIf"],["class","text-decoration-none primary cursor-pointer",3,"click",4,"ngIf"],[1,"ccl-error"],[1,"d-inline-flex"],["class","active-but",4,"ngIf"],["class","draft-but",4,"ngIf"],["class","error-but",4,"ngIf"],[1,"active-but"],[1,"dot"],[1,"pl-1"],[1,"draft-but"],[1,"error-but"],["id","bsp-save",1,"btn-default","primary","px-3","mr-2",3,"click"],[1,"text-decoration-none","cursor-pointer","btn-default","btn-dft",3,"click"],[1,"f-size-16px"],["src","./assets/images/gray-preview-icon.svg"],[1,"text-decoration-none","primary","cursor-pointer",3,"click"],["class","w-100 alert alert-danger fade show d-flex align-items-center",4,"ngIf"],[1,"modal-header","my-2"],["type","button","aria-label","Close",1,"close","custom-close-btn",3,"click"],[1,"modal-body"],[1,"d-flex"],[1,"alert-type-icon"],["src","../../../assets/img/ic_info_outline.svg"],[1,"custom-alert-content"],[1,"cco-secondary-title"],[1,"list-disc-type"],[1,"w-100","my-3"],["type","button","class","btn-default btn-primary mr-2","id","BSPInfoSaveBtn",3,"click",4,"ngIf"],["type","button","id","BSPInfoCancelBtn",1,"btn-default","btn-dft",3,"click"],[1,"w-100","alert","alert-danger","fade","show","d-flex","align-items-center"],[1,"d-inline-flex","w-80",3,"innerHtml"],["type","button","id","BSPInfoSaveBtn",1,"btn-default","btn-primary","mr-2",3,"click"],["src","../../../assets/img/ic_error-outline.svg"],["type","button","id","BSPErrorOkayBtn",1,"btn-default","btn-primary","mr-2",3,"click"],["src","../../../assets/img/warning-icon-36px.svg"],["type","button","id","BSPWarnOkayBtn",1,"btn-default","btn-primary","mr-2",3,"click"],["type","button","id","BSPWarnCancelBtn",1,"btn-default","btn-dft","mr-2",3,"click"],[1,"mb-0"],[4,"ngFor","ngForOf"],["type","button","id","microErrorOkayBtn",1,"btn-default","btn-primary","mr-2",3,"click"]],template:function(e,i){1&e&&(d.TgZ(0,"div",0),d.YNc(1,A,5,1,"div",1),d.YNc(2,S,6,1,"div",2),d.YNc(3,P,6,1,"div",3),d.YNc(4,N,1,0,"div",4),d.YNc(5,ue,105,85,"div",4),d.qZA(),d.YNc(6,pe,23,8,"ng-template",null,5,d.W1O),d.YNc(8,fe,15,3,"ng-template",null,6,d.W1O),d.YNc(10,be,19,6,"ng-template",null,7,d.W1O),d.YNc(12,Ze,19,6,"ng-template",null,8,d.W1O)),2&e&&(d.xp6(1),d.Q6J("ngIf",i.loader||i.micrositeloader||i.loading||i.editLoader||i.bsploader),d.xp6(1),d.Q6J("ngIf",i.error),d.xp6(1),d.Q6J("ngIf",i.success),d.xp6(1),d.Q6J("ngIf",i.loader&&!i.refreshBack),d.xp6(1),d.Q6J("ngIf",!i.loader))},directives:[b.O5,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.Q7,b.mk,y.w9,Z.f,x.Kk,b.sg],styles:[".microsite-configuration-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.microsite-configuration-item[_ngcontent-%COMP%]{flex:0 18%;margin-bottom:1%}.microsite-configuration-item[_ngcontent-%COMP%] + .microsite-configuration-item[_ngcontent-%COMP%]{margin-left:28px}.ccl-form-2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:6px!important}.microsites-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.microsites-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc}.microsites-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px 5px;text-align:left;border:0px}.microsites-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 5px;text-align:left;border:0px;word-break:break-all}.microsites-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f8f8fa}.modal-info-title[_ngcontent-%COMP%]{font-family:Source Sans Pro;font-style:normal;font-weight:300;font-size:42px;display:flex;align-items:center;color:#1a1f22}[_ngcontent-%COMP%]::-moz-placeholder{font-weight:400;font-size:16px;line-height:20px}[_ngcontent-%COMP%]::placeholder{font-weight:400;font-size:16px;line-height:20px}.add-microsite-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.add-microsite-item[_ngcontent-%COMP%]{flex:1 25%;margin-bottom:2%}.add-microsite-item[_ngcontent-%COMP%] + .add-microsite-item[_ngcontent-%COMP%]{margin-left:28px}.text-area-style[_ngcontent-%COMP%]{width:100%;border:1px solid #ddd;border-radius:17px 17px 2px;background:#f8f8fa;padding:10px 15px}.relative-position[_ngcontent-%COMP%]{position:relative!important}.grayScal[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background-color:#d3d3d3;opacity:.4}.type-file[_ngcontent-%COMP%]{display:none}.bsp-short-name[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:20px;display:flex;align-items:center;color:gray}.white-logo-image-box[_ngcontent-%COMP%]{background-color:#dedede;padding:10px}.branding-input[_ngcontent-%COMP%]{padding-top:calc(.375rem + 1px)}.logo-image-view[_ngcontent-%COMP%]{display:inline-block;margin-top:8px}.logo-image-view[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:-moz-max-content;width:max-content}.logo-customimage-view[_ngcontent-%COMP%]{display:inline-block}.logo-customimage-view[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:-moz-max-content;width:max-content}.color-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #D9D9D9}.Action-column[_ngcontent-%COMP%]{width:80px;max-width:80px}.w-70[_ngcontent-%COMP%]{width:70%}.w-28[_ngcontent-%COMP%]{width:28%}.passpoint-config-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px;line-height:20px;display:flex;align-items:center;color:#1a1f22;margin-top:24px;margin-bottom:8px}.save-bsp[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:32px}.default-microsite-image[_ngcontent-%COMP%]{background-color:#ebeaef;margin-bottom:10px;padding:10px;max-width:200px;max-height:150px;display:block;min-width:200px;min-height:150px}.microsites-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), .microsites-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){max-width:200px}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:7px;list-style:disc}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;margin:0 5px;color:#4c4c4c}  .custom-alert-info .modal-dialog,   .custom-alert-warn .modal-dialog{max-width:47.47%!important}  .custom-alert-error .modal-dialog{max-width:42.68%!important}  .custom-alert-info .modal-content{background-color:#f5faff!important;padding:26px 36px!important}  .custom-alert-error .modal-content{background-color:#fff5f5!important;padding:26px 36px!important}  .custom-alert-warn .modal-content{background-color:#fff9f5!important;padding:26px 36px!important}.alert-type-icon[_ngcontent-%COMP%]{padding-right:26px}.alert-type-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px}.custom-alert-content[_ngcontent-%COMP%]{width:calc(100% - 74px);color:#4c4c4c}.custom-close-btn[_ngcontent-%COMP%]{position:relative;right:0;top:0}.list-disc-type[_ngcontent-%COMP%]{list-style-type:disc;color:#4c4c4c;padding-left:30px;max-height:200px;overflow-x:auto}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 5px 15px #80808040;-webkit-box-shadow:0px 5px 15px rgba(128,128,128,.25);border-color:#0000000d!important}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button.dropdown-item[_ngcontent-%COMP%]{width:100%!important;border-radius:0!important;text-align:left;line-height:24px;height:34px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#edf5ff!important}.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{padding:0;height:auto!important;outline:none!important;border:none!important;box-shadow:none!important}.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:hover{background:transparent!important;color:#0279ff!important}.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:before{display:none!important;border:0!important}.add-logo-img[_ngcontent-%COMP%]{max-width:240px;background-color:#ebeaef;margin-bottom:10px;padding:10px;max-height:150px}ul.list-disc-type[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:normal}input.inp-disabled[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}"]}),xe)}}])}();