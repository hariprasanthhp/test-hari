"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[7750],{38218:function(e,t,l){l.d(t,{m:function(){return g}});var s=l(37716),a=l(92340),i=l(91841),n=l(89097),o=l(7450),r=l(49342),c=l(38583);function u(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"button",1),s.NdJ("click",function(){s.CHM(e);const t=s.oxw();return t.doAck(null==t.fullData||null==t.fullData.subject?null:t.fullData.subject.ccoAck)}),s._uU(2),s.qZA(),s.TgZ(3,"button",1),s.NdJ("click",function(){s.CHM(e);const t=s.oxw();return t.doShelve(null==t.fullData||null==t.fullData.subject?null:t.fullData.subject.ccoShelved)}),s._uU(4),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(1),s.Q6J("disabled",e.disableAckBtn),s.xp6(1),s.Oqu(e.fullData&&e.fullData.subject&&e.fullData.subject.ccoAck?e.language.Unacknowledge:e.language.Acknowledge),s.xp6(1),s.Q6J("disabled",e.disableShelveBtn),s.xp6(1),s.Oqu(e.fullData&&e.fullData.subject&&e.fullData.subject.ccoShelved?e.language.Unshelve:e.language.Shelve)}}function d(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"button",2),s.NdJ("click",function(){s.CHM(e);const t=s.oxw();return t.doShelve(null==t.fullData||null==t.fullData.subject?null:t.fullData.subject.ccoShelved)}),s._uU(2),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(1),s.Q6J("disabled",e.disableShelveBtn),s.xp6(1),s.Oqu(e.fullData&&e.fullData.subject&&e.fullData.subject.ccoShelved?e.language.Unshelve:"")}}let g=(()=>{class e{constructor(e,t,l,a){this.http=e,this.sso=t,this.translateService=l,this.commonOrgService=a,this.ackShelveData=new s.vpe,this.disableAckBtn=!1,this.disableShelveBtn=!1,this.enableLoader=new s.vpe,this.errorMessage=new s.vpe}ngOnInit(){this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e})}doAck(e){var t,l;this.disableAckBtn=!0,this.enableLoader.emit(!0),e?this.deleteAck():this.http.put(`${a.N.API_BASE_URL}analytics-engine/${null===(l=null===(t=this.fullData)||void 0===t?void 0:t.subject)||void 0===l?void 0:l.alarmId}/ack?ccoAck=true&ccoAckUser=${this.sso.getUsername()}`,{}).subscribe(e=>{this.fullData.subject.ccoAck=!0,this.fullData.subject.ccoAckUser=this.sso.getUsername(),this.disableAckBtn=!1,this.ackShelveData.emit({ack:!0})},e=>{this.disableAckBtn=!1,this.resetActions(),this.handleError(e)},()=>{this.resetActions()})}deleteAck(){var e,t;this.enableLoader.emit(!0),this.http.delete(`${a.N.API_BASE_URL}analytics-engine/${null===(t=null===(e=this.fullData)||void 0===e?void 0:e.subject)||void 0===t?void 0:t.alarmId}/ack?ccoAck=true&ccoAckUser=${this.sso.getUsername()}`,{}).subscribe(e=>{this.fullData.subject.ccoAck=!1,this.disableAckBtn=!1,this.ackShelveData.emit({ack:!1})},e=>{this.disableAckBtn=!1,this.resetActions(),this.handleError(e)},()=>{this.resetActions()})}doShelve(e){var t,l;this.disableShelveBtn=!0,this.enableLoader.emit(!0),e?this.deleteShelve():this.http.put(`${a.N.API_BASE_URL}analytics-engine/${null===(l=null===(t=this.fullData)||void 0===t?void 0:t.subject)||void 0===l?void 0:l.alarmId}/shelve?ccoShelved=true`,{}).subscribe(e=>{this.fullData.subject.ccoShelved=!0,this.disableShelveBtn=!1,this.ackShelveData.emit({shelve:!0})},e=>{this.disableShelveBtn=!1,this.resetActions(),this.handleError(e)},()=>{this.resetActions()})}deleteShelve(){var e,t;this.enableLoader.emit(!0),this.http.delete(`${a.N.API_BASE_URL}analytics-engine/${null===(t=null===(e=this.fullData)||void 0===e?void 0:e.subject)||void 0===t?void 0:t.alarmId}/shelve?ccoShelved=true`,{}).subscribe(e=>{this.fullData.subject.ccoShelved=!1,this.disableShelveBtn=!1,this.ackShelveData.emit({shelve:!1})},e=>{this.disableShelveBtn=!1,this.resetActions(),this.handleError(e)},()=>{this.resetActions()})}resetActions(){this.enableLoader.emit(!1),this.errorMessage.emit("")}handleError(e){this.errorMessage.emit(this.commonOrgService.pageErrorHandle(e))}ngOnDestroy(){var e;null===(e=this.languageSubject)||void 0===e||e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(i.eN),s.Y36(n.t6),s.Y36(o.s),s.Y36(r.v))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-alarm-ack-shelve"]],inputs:{fullData:"fullData"},outputs:{ackShelveData:"ackShelveData",enableLoader:"enableLoader",errorMessage:"errorMessage"},decls:2,vars:2,consts:[[4,"ngIf"],["type","button",1,"btn-default","btn-dft","mr-3",3,"disabled","click"],["type","button",1,"btn-default","btn-dft",3,"disabled","click"]],template:function(e,t){1&e&&(s.YNc(0,u,5,4,"div",0),s.YNc(1,d,3,2,"div",0)),2&e&&(s.Q6J("ngIf",!(null!=t.fullData&&t.fullData.isHistoryAlarmFromUI)),s.xp6(1),s.Q6J("ngIf",(null==t.fullData?null:t.fullData.isHistoryAlarmFromUI)&&(null==t.fullData||null==t.fullData.subject?null:t.fullData.subject.ccoShelved)))},directives:[c.O5],styles:[""]}),e})()},87582:function(e,t,l){l.d(t,{M:function(){return y}});var s=l(38583),a=l(37716),i=l(7450),n=l(21693),o=l(38218);function r(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",28),a.TgZ(1,"span",29),a._UZ(2,"img",30),a.qZA(),a.TgZ(3,"button",31),a.NdJ("click",function(){return a.CHM(e),a.oxw().errorMsg=""}),a._UZ(4,"span"),a.qZA(),a._UZ(5,"div",32),a.qZA()}if(2&e){const e=a.oxw();a.xp6(5),a.Q6J("innerHtml",e.errorMsg,a.oJD)}}function c(e,t){if(1&e&&(a.TgZ(0,"div",33),a.TgZ(1,"div",34),a.TgZ(2,"div",35),a.TgZ(3,"span",36),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(4),a.Oqu(e.language.Loading)}}function u(e,t){if(1&e&&(a.TgZ(0,"div",37),a.TgZ(1,"div"),a._UZ(2,"span",38),a._uU(3),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.Tol(e.fullData.subject&&e.fullData.subject.perceivedSeverity&&e.colorClass[e.fullData.subject.perceivedSeverity]?e.colorClass[e.fullData.subject.perceivedSeverity]:"black clear-sev-but"),a.xp6(2),a.hij(" ",e.fullData.subject?e.language[e.fullData.subject.perceivedSeverity]||e.fullData.subject.perceivedSeverity:""," ")}}function d(e,t){if(1&e&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.fullData.type," ")}}function g(e,t){if(1&e&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.fullData&&e.fullData.subject?e.fullData.subject.alarmType:""," ")}}function h(e,t){if(1&e&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.language.Acknowledger),a.xp6(2),a.Oqu(e.fullData&&e.fullData.subject&&e.fullData.subject.ccoAckUser?e.fullData.subject.ccoAckUser:"")}}function m(e,t){if(1&e&&(a.TgZ(0,"div",40),a._uU(1),a.qZA()),2&e){const e=a.oxw(2);a.xp6(1),a.hij(" ",e.fullData.subject.source," ")}}function p(e,t){if(1&e&&(a.TgZ(0,"div",40),a._uU(1),a.qZA()),2&e){const e=a.oxw(2);a.xp6(1),a.hij(" ",e.fullData&&e.fullData.subject?e.fullData.subject.source:"","")}}function f(e,t){if(1&e&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a.YNc(4,m,2,1,"div",39),a.YNc(5,p,2,1,"div",39),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.language.Source),a.xp6(2),a.Q6J("ngIf",e.fullData&&e.fullData.subject&&e.fullData.subject.transformedAlarms),a.xp6(1),a.Q6J("ngIf",!(e.fullData&&e.fullData.subject&&e.fullData.subject.transformedAlarms))}}function v(e,t){if(1&e&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a.TgZ(4,"div",41),a._uU(5),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.language["Impacted ONTs Count"]),a.xp6(3),a.hij(" ",null==e.fullData.subject?null:e.fullData.subject.impacted_onts_count_ui,"")}}function b(e,t){if(1&e&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._UZ(4,"div",42),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.language["Related Alarms"]),a.xp6(2),a.Q6J("innerHtml",null==e.fullData.subject?null:e.fullData.subject.relatedAlarmsStr,a.oJD)}}function A(e,t){if(1&e&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.language.Notes),a.xp6(2),a.Oqu(e.fullData&&e.fullData.subject?e.fullData.subject.notes:"")}}function Z(e,t){if(1&e&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.qZA()),2&e){const e=t.$implicit;a.xp6(2),a.Oqu(e.key),a.xp6(2),a.Oqu(e.value)}}function x(e,t){if(1&e&&(a.TgZ(0,"table",22),a.TgZ(1,"tbody"),a.YNc(2,Z,5,2,"tr",43),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.Q6J("ngForOf",e.fullData.subject.customAdditionalAttributes)}}function _(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"app-alarm-ack-shelve",44),a.NdJ("ackShelveData",function(t){return a.CHM(e),a.oxw().onAckShelve(t)})("enableLoader",function(t){return a.CHM(e),a.oxw().onEnableLoader(t)})("errorMessage",function(t){return a.CHM(e),a.oxw().onErrorMsg(t)}),a.qZA()}if(2&e){const e=a.oxw();a.Q6J("fullData",e.fullData)}}let y=(()=>{class e{constructor(e,t){this.translateService=e,this.issueService=t,this.transformedAlarms=["multiple-onts-down-network","multiple-onts-down-pon","multiple-onts-down-olt"],this.ackShelveData=new a.vpe,this.refreshAckShelveBtn=new a.vpe,this.loader=!1,this.errorMsg="",this.colors={MINOR:"#F3B426",MAJOR:"#FC7235",CRITICAL:"#C70000",WARNING:"#f7e9c1",INFO:"#7cb5ec"},this.colorClass={MINOR:"minor-but",MAJOR:"major-but",CRITICAL:"critical-but",WARNING:"warning-but",INFO:"severity-info-but"}}set fullData(e){var t,l,s,a,i,n,o,r,c;console.log(e),e||(e={}),e.subject||(e.subject={});let u=[];if(e&&e.subject&&"object"==typeof e.subject.additionalAttributes&&e.subject.additionalAttributes){let l=Object.keys(e.subject.additionalAttributes),s=["phys-pon-shelf","phys-pon-slot","phys-pon-port","phys-dsl-shelf","phys-dsl-slot","phys-dsl-port"];const a={"phys-pon-shelf":"phys-shelf","phys-pon-slot":"phys-slot","phys-pon-port":"phys-port"};null===(t=null==l?void 0:l.sort())||void 0===t||t.forEach(t=>{"index"!==t&&-1===s.indexOf(t)&&u.push({key:t,value:"object"==typeof e.subject.additionalAttributes[t]?e.subject.additionalAttributes[t].value:e.subject.additionalAttributes[t]})}),null==s||s.forEach(t=>{e.subject.additionalAttributes[t]&&u.push({key:"AEONT"===(null==e?void 0:e.type)?a[t]:t,value:"object"==typeof e.subject.additionalAttributes[t]?e.subject.additionalAttributes[t].value:e.subject.additionalAttributes[t]})})}if(e.subject.resourceForUI=this.issueService.generateResourceForUI(e,"EXA"===e.type),e.subject.customAdditionalAttributes=u,"multiple-onts-down-network"===(null===(l=e.subject)||void 0===l?void 0:l.alarmEventName)&&!(null===(s=e.subject)||void 0===s?void 0:s.source)&&(this.hideSource=!0),null===(a=e.subject)||void 0===a?void 0:a.transformedAlarms){let t="";null===(n=null===(i=e.subject)||void 0===i?void 0:i.relatedAlarms)||void 0===n||n.forEach(e=>{t+=`${e.deviceName} ${e.ontId} ${e.ponPort}<br>`}),e.subject.relatedAlarmsStr=t||(null===(o=e.subject)||void 0===o?void 0:o.transformedAlarms),e.subject.impacted_onts_count_ui=(null===(c=null===(r=e.subject)||void 0===r?void 0:r.relatedAlarms)||void 0===c?void 0:c.length)?e.subject.relatedAlarms.length:0}this._fullData=e}get fullData(){return this._fullData}ngOnInit(){var e,t;this.timeZone=null===(t=null===(e=(new Date).toString())||void 0===e?void 0:e.split(" ")[5])||void 0===t?void 0:t.replace(/(.{2})$/,":$1"),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e})}onAckShelve(e){console.log(e),this.ackShelveData.emit(e)}convertToDateTime(e){return e?(e=Number(e),new s.uU("en-US").transform(new Date(e),"short")):void 0}refreshAckShelve(){this.refreshAckShelveBtn.emit(),this.showAckShelveBtn=!1,this.errorMsg=""}onEnableLoader(e){this.loader=e}onErrorMsg(e){this.errorMsg=e}ngOnDestroy(){var e;null===(e=this.languageSubject)||void 0===e||e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(i.s),a.Y36(n.v))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-alarm-details"]],inputs:{showAckShelveBtn:"showAckShelveBtn",hasWriteAccess:"hasWriteAccess",hideSource:"hideSource",connected:"connected",showNotes:"showNotes",clickedAlarmType:"clickedAlarmType",alarmType:"alarmType",fullData:"fullData"},outputs:{ackShelveData:"ackShelveData",refreshAckShelveBtn:"refreshAckShelveBtn"},decls:96,vars:38,consts:[[1,"modole-content-spacing"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],["class","loader",4,"ngIf"],[1,"row"],[1,"col-12","px-0","text-right"],["aria-hidden","true","src","assets/img/ic_close-44px.svg","data-dismiss","modal","aria-label","Close",1,"pointer",3,"click"],[1,"col-12","d-inline-flex","align-items-center"],[1,"ccl-admin-title","d-inline-flex","pr-4"],["class","d-inline-flex align-items-center pt-2",4,"ngIf"],[1,"col-12","d-flex","flex-wrap","px-0","my-2"],[1,"col-auto","kbi-col"],[1,"kbi-content"],[1,"cco-list-label","mb-0"],[1,"stats-value","stats-value-24"],[1,"device-text"],[1,"col-12","kbi-col"],[1,"stats-value","stats-value-24",3,"innerHtml"],[1,"col-md-12","ccl-tabs"],["id","myTabContent",1,"tab-content"],["id","Title-1","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],[1,"col-lg-12","col-xl-12","col-md-12","col-sm-12"],[1,"support-key-value","pl-12"],[1,"table","table-borderless","mb-0"],[4,"ngIf"],[1,"white-space-preline"],["class","table table-borderless mb-0",4,"ngIf"],[1,"button-padding"],[3,"fullData","ackShelveData","enableLoader","errorMessage",4,"ngIf"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"d-inline-flex","align-items-center","pt-2"],[1,"dot"],["class","source-overflow-auto",4,"ngIf"],[1,"source-overflow-auto"],[1,"maxh-overflow-auto"],[1,"maxh-overflow-auto",3,"innerHtml"],[4,"ngFor","ngForOf"],[3,"fullData","ackShelveData","enableLoader","errorMessage"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.YNc(1,r,6,1,"div",1),a.YNc(2,c,5,1,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"div",4),a.TgZ(5,"img",5),a.NdJ("click",function(){return t.refreshAckShelve()}),a.qZA(),a.qZA(),a.TgZ(6,"div",6),a.TgZ(7,"div",7),a._uU(8),a.qZA(),a.YNc(9,u,4,4,"div",8),a.qZA(),a.qZA(),a.TgZ(10,"div",3),a.TgZ(11,"div",9),a.TgZ(12,"div",10),a.TgZ(13,"div",11),a.TgZ(14,"label",12),a._uU(15),a.qZA(),a.TgZ(16,"h3",13),a._uU(17),a.qZA(),a.TgZ(18,"div",14),a._uU(19),a.qZA(),a.qZA(),a.qZA(),a.TgZ(20,"div",10),a.TgZ(21,"div",11),a.TgZ(22,"label",12),a._uU(23),a.qZA(),a.TgZ(24,"h3",13),a._uU(25),a.qZA(),a.TgZ(26,"div",14),a._uU(27),a.qZA(),a.qZA(),a.qZA(),a.TgZ(28,"div",10),a.TgZ(29,"div",11),a.TgZ(30,"label",12),a._uU(31),a.qZA(),a.TgZ(32,"h3",13),a._uU(33),a.qZA(),a.qZA(),a.qZA(),a.TgZ(34,"div",15),a.TgZ(35,"div",11),a.TgZ(36,"label",12),a._uU(37),a.qZA(),a._UZ(38,"h3",16),a.qZA(),a.qZA(),a.qZA(),a.TgZ(39,"div",17),a.TgZ(40,"div",18),a.TgZ(41,"div",19),a.TgZ(42,"div",3),a.TgZ(43,"div",20),a.TgZ(44,"div",21),a.TgZ(45,"table",22),a.TgZ(46,"tbody"),a.TgZ(47,"tr"),a.TgZ(48,"td"),a._uU(49),a.qZA(),a.TgZ(50,"td"),a.YNc(51,d,2,1,"div",23),a.YNc(52,g,2,1,"div",23),a.qZA(),a.qZA(),a.TgZ(53,"tr"),a.TgZ(54,"td"),a._uU(55),a.qZA(),a.TgZ(56,"td"),a._uU(57),a.qZA(),a.qZA(),a.TgZ(58,"tr"),a.TgZ(59,"td"),a._uU(60),a.qZA(),a.TgZ(61,"td",24),a._uU(62),a.qZA(),a.qZA(),a.TgZ(63,"tr"),a.TgZ(64,"td"),a._uU(65),a.qZA(),a.TgZ(66,"td"),a._uU(67),a.qZA(),a.qZA(),a.YNc(68,h,5,2,"tr",23),a.TgZ(69,"tr"),a.TgZ(70,"td"),a._uU(71),a.qZA(),a.TgZ(72,"td"),a._uU(73),a.qZA(),a.qZA(),a.TgZ(74,"tr"),a.TgZ(75,"td"),a._uU(76),a.qZA(),a.TgZ(77,"td"),a._uU(78),a.qZA(),a.qZA(),a.TgZ(79,"tr"),a.TgZ(80,"td"),a._uU(81),a.qZA(),a.TgZ(82,"td"),a._uU(83),a.qZA(),a.qZA(),a.TgZ(84,"tr"),a.TgZ(85,"td"),a._uU(86),a.qZA(),a.TgZ(87,"td"),a._uU(88),a.qZA(),a.qZA(),a.YNc(89,f,6,3,"tr",23),a.YNc(90,v,6,2,"tr",23),a.YNc(91,b,5,2,"tr",23),a.YNc(92,A,5,2,"tr",23),a.qZA(),a.qZA(),a.YNc(93,x,3,1,"table",25),a.qZA(),a.TgZ(94,"div",26),a.YNc(95,_,1,1,"app-alarm-ack-shelve",27),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(1),a.Q6J("ngIf",t.errorMsg),a.xp6(1),a.Q6J("ngIf",t.loader),a.xp6(6),a.hij(" ",t.fullData.subject?t.fullData.subject.alarmEventName:""," "),a.xp6(1),a.Q6J("ngIf","Alarm"===t.clickedAlarmType&&"Event"!==t.alarmType),a.xp6(6),a.hij("",t.language["Reported Time"]," "),a.xp6(2),a.Oqu(t.fullData.subject&&t.fullData.subject.timeRaised?t.convertToDateTime(t.fullData.subject.timeRaised):""),a.xp6(2),a.hij("(UTC/",t.timeZone,")"),a.xp6(4),a.Oqu(t.language["Synced Time"]),a.xp6(2),a.hij(" ",t.fullData.time?t.convertToDateTime(t.fullData.time):""," "),a.xp6(2),a.hij("(UTC/",t.timeZone,")"),a.xp6(4),a.hij(" ",t.language.Category," "),a.xp6(2),a.hij(" ",t.fullData.subject?t.fullData.subject.category:""," "),a.xp6(4),a.Oqu(t.language.Resource),a.xp6(1),a.Q6J("innerHtml",t.fullData.subject&&t.fullData.subject.resourceForUI?t.fullData.subject.resourceForUI:"",a.oJD),a.xp6(11),a.Oqu(t.language.Type),a.xp6(2),a.Q6J("ngIf",t.fullData.subject&&t.fullData.subject.transformedAlarms),a.xp6(1),a.Q6J("ngIf",!(t.fullData.subject&&t.fullData.subject.transformedAlarms)),a.xp6(3),a.Oqu(t.language.Description),a.xp6(2),a.Oqu(t.fullData&&t.fullData.subject?t.fullData.subject.description:""),a.xp6(3),a.Oqu(t.language.Details),a.xp6(2),a.Oqu(t.fullData&&t.fullData.subject?t.fullData.subject.details:""),a.xp6(3),a.Oqu(t.language["Cloud Acknowledged"]),a.xp6(2),a.Oqu(t.fullData&&t.fullData.subject&&t.fullData.subject.ccoAck?"Yes":"No"),a.xp6(1),a.Q6J("ngIf",null==t.fullData||null==t.fullData.subject?null:t.fullData.subject.ccoAck),a.xp6(3),a.Oqu(t.language["Cloud Shelved"]),a.xp6(2),a.Oqu(t.fullData&&t.fullData.subject&&t.fullData.subject.ccoShelved?"Yes":"No"),a.xp6(3),a.Oqu(t.language["Repair Action"]),a.xp6(2),a.Oqu(t.fullData&&t.fullData.subject?t.fullData.subject.repairAction:""),a.xp6(3),a.Oqu(t.language["Service Affecting"]),a.xp6(2),a.Oqu(t.fullData&&t.fullData.subject&&t.fullData.subject.serviceAffecting?"Yes":"No"),a.xp6(3),a.Oqu(t.language["Service Impacting"]),a.xp6(2),a.Oqu(t.fullData&&t.fullData.subject&&t.fullData.subject.serviceImpacting?"Yes":"No"),a.xp6(1),a.Q6J("ngIf",!t.hideSource),a.xp6(1),a.Q6J("ngIf",null==t.fullData.subject?null:t.fullData.subject.impacted_onts_count_ui),a.xp6(1),a.Q6J("ngIf",null==t.fullData.subject?null:t.fullData.subject.relatedAlarmsStr),a.xp6(1),a.Q6J("ngIf",t.showNotes),a.xp6(1),a.Q6J("ngIf",t.fullData&&t.fullData.subject&&t.fullData.subject.customAdditionalAttributes),a.xp6(2),a.Q6J("ngIf",t.hasWriteAccess&&t.showAckShelveBtn&&t.connected))},directives:[s.O5,s.sg,o.m],styles:[".stats-value-24[_ngcontent-%COMP%]{font-size:24px!important}.kbi-col[_ngcontent-%COMP%]{margin-right:23px;margin-bottom:16px}.kbi-col[_ngcontent-%COMP%]   .kbi-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;border-left:1px solid #EBEAEF;padding-left:12px}.support-key-value[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 12px 0 0!important;line-height:24px}.pl-12[_ngcontent-%COMP%]{padding-left:12px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1){padding-right:0!important;width:153px!important}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){padding-left:56px!important;width:calc(100% - 153px)}.modole-content-spacing[_ngcontent-%COMP%]{padding:17px 62px 44px}.button-padding[_ngcontent-%COMP%]{margin-top:11px}.white-space-preline[_ngcontent-%COMP%]{white-space:pre-line}"]}),e})()},77750:function(e,t,l){l.d(t,{r:function(){return r}});var s=l(38583),a=(l(38218),l(87582),l(35194),l(37716)),i=(l(40205),l(88002),l(5304),l(92340),l(91841),l(3679)),n=(l(14541),l(7450),l(21693),l(89097),l(49342),l(48483),l(18638)),o=l(86640);let r=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[s.ez,o.A0,i.UX,n._8]]}),e})()},35194:function(e,t,l){l.d(t,{s:function(){return D}});var s=l(37716),a=l(40205),i=l(88002),n=l(5304),o=l(92340),r=l(91841),c=l(3679),u=l(14541),d=l(7450),g=l(21693),h=l(89097),m=l(39895),p=l(49342),f=l(86640),v=l(38583);function b(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",18),s.TgZ(1,"label",5),s._uU(2),s.qZA(),s.TgZ(3,"div",19),s.TgZ(4,"ng-select",20),s.NdJ("change",function(t){return s.CHM(e),s.oxw().onAlarmGroupChange(t)}),s.TgZ(5,"ng-option",21),s._uU(6),s.qZA(),s.TgZ(7,"ng-option",22),s._uU(8,"ONT"),s.qZA(),s.TgZ(9,"ng-option",23),s._uU(10,"OLT"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(2),s.Oqu(e.language["System Type"]),s.xp6(2),s.Q6J("searchable",!1)("multiple",!1)("clearable",!1),s.xp6(2),s.Oqu(e.language.All)}}function A(e,t){if(1&e&&(s.TgZ(0,"small",26),s._uU(1),s.qZA()),2&e){const e=s.oxw(2);s.xp6(1),s.Oqu(e.language["Invalid FSAN"])}}function Z(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",18),s.TgZ(1,"label",5),s._uU(2),s.qZA(),s.TgZ(3,"div",19),s.TgZ(4,"input",24),s.NdJ("keypress",function(t){return s.CHM(e),s.oxw().removespecialcharacter(t)})("keyup",function(t){return s.CHM(e),s.oxw().validateFSAN(t)}),s.qZA(),s.YNc(5,A,2,1,"small",25),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(2),s.Oqu(e.language.FSAN),s.xp6(2),s.s9C("placeholder",e.language.FSAN),s.xp6(1),s.Q6J("ngIf",!e.fsanvalid)}}function x(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"label",5),s._uU(2),s.qZA(),s.TgZ(3,"div",27),s.TgZ(4,"ng-select",28),s.NdJ("add",function(t){return s.CHM(e),s.oxw().validateAlarmName(t)})("remove",function(t){return s.CHM(e),s.oxw().validateAlarmName(t)}),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(2),s.Oqu(e.language["Exclude Alarms"]),s.xp6(2),s.s9C("placeholder",e.language["Alarm Name"]),s.Q6J("searchable",!0)("clearable",!1)("multiple",!0)("items",e.alarmNames)}}function _(e,t){if(1&e&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&e){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.language.New_Profile_Validation2," ")}}function y(e,t){if(1&e&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&e){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.language["Please enter the display limit"]," ")}}function T(e,t){if(1&e&&(s.TgZ(0,"div",32),s.YNc(1,_,2,1,"div",33),s.YNc(2,y,2,1,"div",33),s.qZA()),2&e){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==e.filtersForm||null==e.filtersForm.controls||null==e.filtersForm.controls.limit.errors?null:e.filtersForm.controls.limit.errors.invalidNumber),s.xp6(1),s.Q6J("ngIf",null==e.filtersForm||null==e.filtersForm.controls||null==e.filtersForm.controls.limit.errors?null:e.filtersForm.controls.limit.errors.isrequired)}}function q(e,t){if(1&e&&(s.TgZ(0,"div",18),s.TgZ(1,"label",5),s._uU(2),s.TgZ(3,"span",29),s._uU(4,"*"),s.qZA(),s.qZA(),s.TgZ(5,"div",19),s._UZ(6,"input",30),s.YNc(7,T,3,2,"div",31),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(2),s.hij("",e.language["Display Limit"]," "),s.xp6(4),s.s9C("placeholder",e.language["Display Limit"]),s.xp6(1),s.Q6J("ngIf",(null==e.filtersForm||null==e.filtersForm.controls?null:e.filtersForm.controls.limit.invalid)&&((null==e.filtersForm||null==e.filtersForm.controls?null:e.filtersForm.controls.limit.dirty)||(null==e.filtersForm||null==e.filtersForm.controls?null:e.filtersForm.controls.limit.touched)))}}let D=(()=>{class e{constructor(e,t,l,a,i,n,o,r,c){this.http=e,this.fb=t,this.chartOptionService=l,this.translateService=a,this.issueService=i,this.ssoService=n,this.route=o,this.commonOrgService=r,this.router=c,this.filterData=new s.vpe,this.filtersForm=this.fb.group({region:[""],location:[""],system:[""],limit:[20,[M]],systemStatus:"connected",alarmEventName:[""],fsan_serialno:"",device_type:"ALL"}),this.regionsDataArray=["All"],this.locationDataArray=["All"],this.systemDataArray=["All"],this.geoMapFilters=!1,this.activeTab="alarms",this.geoMapIssue="false",this.alarmNames=[],this.hasScopeAccess=!1,this.showFSAN=!0,this.fsanvalid=!0,this.urls=this.router.url}ngOnInit(){this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e}),this.filtersForm.patchValue({region:["All"],location:["All"],system:["All"],limit:20,systemStatus:"connected",fsan_serialno:"",device_type:"ALL"}),this.regionsApiLoader();let e=this.ssoService.getScopes();if(o.N.VALIDATE_SCOPE){let t=Object.keys(e);if(t)for(let e=0;e<t.length;e++)if(-1!==t[e].indexOf("cloud.rbac.coc.issues.current")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.hasScopeAccess?(this.ssoService.setPageAccess(!0),this.route.queryParams.subscribe(e=>{var t,l,s;this.geoMapIssue=e.geoMapIssue&&"true"==e.geoMapIssue?e.geoMapIssue:"false","true"==this.geoMapIssue&&(this.homeGeoMapFilters=this.issueService.getgeoMapHomeFilterParams(),this.issuesGeoMapFilters=this.homeGeoMapFilters?this.homeGeoMapFilters.geoMapFilterParams:{},this.issuesGeoMapFilters&&(this.filtersForm.get("device_type").setValue(this.issuesGeoMapFilters.device_type?null===(t=this.issuesGeoMapFilters.device_type)||void 0===t?void 0:t.toUpperCase():"ALL"),this.onAlarmGroupChange(this.filtersForm.get("device_type").value),("ONT"==(null===(l=this.issuesGeoMapFilters.device_type)||void 0===l?void 0:l.toUpperCase())||"ALL"==(null===(s=this.issuesGeoMapFilters.device_type)||void 0===s?void 0:s.toUpperCase()))&&this.filtersForm.get("fsan_serialno").setValue(this.issuesGeoMapFilters.fsan_serialno?this.issuesGeoMapFilters.fsan_serialno:"")))}),this.geoMapfilterSubscription=this.issueService.homegeomapNavigation$.subscribe(()=>{this.gotoHomeGeomap()}),this.urls.includes("/cco/issues/device/realtime/current-issues")?this.urls.includes("geoMapIssue=true")?setTimeout(()=>{this.getAlarmNames()},2e3):this.getAlarmNames():this.generateParams()):this.ssoService.setPageAccess(!1)}regionsApiLoader(){this.systemSelected="All",this.regionsSubject=this.issueService.getRegions().subscribe(e=>{var t,l,s;if(e&&e.length&&(e=this.issueService.appendFqn(e)),this.chartOptionService.setRegionsInfo(e),e.sort(),this.regionsDataArray=[...this.regionsDataArray,...e],"true"==this.geoMapIssue&&this.issuesGeoMapFilters){let e=["All"],a=["All"],i=["All"];this.issuesGeoMapFilters&&this.issuesGeoMapFilters.region&&(e=null===(t=this.issuesGeoMapFilters.region)||void 0===t?void 0:t.split(",")),this.issuesGeoMapFilters&&this.issuesGeoMapFilters.location&&(a=null===(l=this.issuesGeoMapFilters.location)||void 0===l?void 0:l.split(",")),this.issuesGeoMapFilters&&this.issuesGeoMapFilters.system&&(i=null===(s=this.issuesGeoMapFilters.system)||void 0===s?void 0:s.split(",")),this.filtersForm.get("region").setValue(e),setTimeout(()=>{this.filtersForm.get("location").setValue(a),this.loadLocationValue(""),setTimeout(()=>{this.filtersForm.get("system").setValue(i),this.selectSystem(""),this.loadSystemValue()},200)},200)}},e=>{})}loadLocationValue(e){this.systemSelected="All";let t=this.filtersForm.get("region").value,l=this.filtersForm.get("location").value;if(t){let e="";if(t.length&&t!==["All"]){if(-1!==t.indexOf("All"))return this.regionName=null,this.locationName=null,this.systemName=null,this.locationDataArray=["All"],void(this.systemDataArray=["All"]);t.forEach(t=>{"All"!=t&&(e+=`&region=${t}`)}),this.locationsSubject=this.http.get(`${o.N.API_BASE_URL}nfa/locations?tenant=0${e}`).pipe((0,i.U)(e=>(e.sort((e,t)=>(e.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})),this.issueService.appendFqn(e))),(0,n.K)(this.handleError)).subscribe(e=>{if(this.chartOptionService.setLocationsInfo(e),this.locationDataArray=["All"],this.locationDataArray=[...this.locationDataArray,...e],l&&l.length){let e=this.chartOptionService.getLocationsObj(),t=Object.keys(e).length?Object.keys(e):[],s=[];l.forEach(e=>{-1!==t.indexOf(e)&&s.push(e)}),s.length||(s=["All"]),this.filtersForm.get("location").setValue(s),this.loadSystemValue()}},e=>{}),this.regionName=t}else this.filtersForm.get("region").setValue(["All"]),this.filtersForm.get("location").setValue(["All"]),this.filtersForm.get("system").setValue(["All"]),this.regionName=null,this.locationName=null,this.systemName=null,this.locationDataArray=["All"],this.systemDataArray=["All"]}}handleError(e){return(0,a._)(e)}loadSystemValue(e){this.clickedLocation="";let t=this.filtersForm.get("region").value,l=this.filtersForm.get("location").value,s=this.filtersForm.get("system").value;if(this.systemSelected=["All"],t.length&&l.length&&-1===l.indexOf("All")){let e="";t.forEach(t=>{"All"!=t&&(e+=`&region=${t}`)});let a="";l.forEach(e=>{"All"!=e&&(a+=`&location=${e}`)}),this.systemsSubject=this.http.get(`${o.N.API_BASE_URL}nfa/systems?tenant=0${e}${a}`).pipe((0,i.U)(e=>(e.sort((e,t)=>(e.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})),e)),(0,n.K)(this.handleError)).subscribe(e=>{if(this.chartOptionService.setSystemsInfo(e),this.systemDataArray=["All"],this.systemDataArray=[...this.systemDataArray,...e],s&&s.length){let e=this.chartOptionService.getSystemsObj(),t=Object.keys(e).length?Object.keys(e):[],l=[];s.forEach(e=>{-1!==t.indexOf(e)&&l.push(e)}),l.length||(l=["All"],this.systemName=null),this.filtersForm.get("system").setValue(l)}},e=>{}),this.locationName=l}else l.length||(this.filtersForm.get("location").setValue(["All"]),this.filtersForm.get("system").setValue(["All"]),this.locationName=null,this.systemName=null,this.systemDataArray=["All"])}clearFilter(){this.locationDataArray=["All"],this.systemDataArray=["All"],this.filtersForm.patchValue({region:["All"],location:["All"],system:["All"],limit:20,systemStatus:"connected",alarmEventName:["All"],fsan_serialno:"",device_type:"ALL"}),this.clickedRegion=void 0,this.clickedLocation=void 0,this.locationName=void 0,this.regionName=void 0,this.systemName=void 0,this.issueService.setCurrentIssuesFilterParams({alarmCount:20},this.geoMapFilters)}validateRegion(e){let t=this.filtersForm.get("region").value;if("All"===e)t=["All"];else{let e=t.indexOf("All");e>-1&&t.splice(e,1)}this.filtersForm.get("region").setValue(t),this.loadLocationValue("")}validateLocation(e){let t=this.filtersForm.get("location").value;if("All"===e)this.clickedLocation=void 0,this.locationName=void 0,t=["All"];else{let e=t.indexOf("All");e>-1&&t.splice(e,1)}this.filtersForm.get("location").setValue(t),this.loadSystemValue("")}validateSystem(e){let t=this.filtersForm.get("system").value;if(t.length)if("All"===e)this.clickedSystem=void 0,this.systemName=void 0,t=["All"];else{let e=t.indexOf("All");e>-1&&t.splice(e,1)}else t=["All"];this.filtersForm.get("system").setValue(t)}isNumber(e){let t=this.filtersForm.get("limit").value;return/^\d*\.?\d*$/.test(t)}validateAlarmName(e){let t=this.filtersForm.get("alarmEventName").value;if(t.length)if("All"===e)t=["All"];else{let e=t.indexOf("All");e>-1&&t.splice(e,1)}else t=["All"];this.filtersForm.get("alarmEventName").setValue(t)}selectSystem(e){let t=this.filtersForm.get("system").value;this.systemName=t,"All"==t&&(this.systemName=null)}getAlarmNames(){this.http.get(`${o.N.API_BASE_URL}analytics-engine/alarmEvent?historyalarm=false&notificationType=Alarm`).subscribe(e=>{let t=[{id:"All",name:"None"}],l=e.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});l&&l.forEach(e=>{!e||"multiple-onts-down"!==e&&t.push({id:e,name:e})}),this.alarmNames=t,this.urls.includes("/cco/issues/device/realtime/current-issues")&&this.getCustomAlarmsFunc()})}getCustomAlarmsFunc(){this.http.get(`${o.N.API_BASE_URL}analytics-engine/customAlarms/false`).subscribe(e=>{if(e&&e.length>0&&this.urls.includes("/cco/issues/device/realtime/current-issues")){let t=this.alarmNames.filter(t=>-1!=e.findIndex(e=>e.alarmName==t.name)).map(e=>e.id);t&&t.length>0&&this.filtersForm.get("alarmEventName").setValue(t)}else this.filtersForm.get("alarmEventName").setValue(["All"]);this.generateParams()},e=>{this.error=!0,this.pageErrorHandle(e),this.filtersForm.get("alarmEventName").setValue(["All"]),this.generateParams()})}pageErrorHandle(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.error=!0,this.loading=!1}closeAlert(){this.error=!1}onAlarmGroupChange(e){this.showFSAN="OLT"!==e}validateFSAN(e){e?(0===this.filtersForm.get("fsan_serialno").value.length||12===this.filtersForm.get("fsan_serialno").value.length)&&(this.fsanvalid=!0):(this.fsanvalid=!0,0!==this.filtersForm.get("fsan_serialno").value.length&&12!==this.filtersForm.get("fsan_serialno").value.length&&(this.fsanvalid=!1))}removespecialcharacter(e){var t;return(t=e.keyCode)>47&&t<58||t>64&&t<91||t>96&&t<123}changeTab(e){this.issueService.fromMapNavigation(!1),this.activeTab=e,this.generateParams()}generateParams(e){var t,l,s,a;if((null===(l=null===(t=this.filtersForm)||void 0===t?void 0:t.controls)||void 0===l?void 0:l.limit.invalid)||(this.validateFSAN(),!this.fsanvalid))return;let i="";this.systemName=this.filtersForm.get("system").value,i=this.systemName&&this.systemName.length&&-1===this.systemName.indexOf("All")?this.systemName.filter(function(e){return e&&e.length&&"All"!==e}):void 0;let n={region:this.clickedRegion||this.regionName,location:this.clickedLocation||this.locationName,system:i,alarmCount:this.filtersForm.get("limit").value?this.filtersForm.get("limit").value:0};if(this.urls.includes("/cco/issues/device/realtime/current-issues")){n.fsan_serialno=this.filtersForm.get("fsan_serialno").value,n.device_type=this.filtersForm.get("device_type").value,"OLT"===this.filtersForm.get("device_type").value&&delete n.fsan_serialno;let e=[];null===(a=null===(s=this.filtersForm.get("alarmEventName"))||void 0===s?void 0:s.value)||void 0===a||a.forEach(t=>{"All"!=t&&e.push(t)}),n.alarmEventName=e.join(",")}this.appliedParams=n,"disconncted"==this.activeTab&&(this.geoMapFilters=!1),this.issueService.setCurrentIssuesFilterParams(n,this.geoMapFilters,e)}gotoHomeGeomap(){let e={},t=Object.assign({},this.issueService.getCurrentIssuesFilterParams());e.geoMapFilterParams=Object.assign({},t),e.fromIssuesGeoMap="homeGeomap",e.reStoreMapViewDetails=this.homeGeoMapFilters&&this.homeGeoMapFilters.reStoreMapViewDetails?this.homeGeoMapFilters.reStoreMapViewDetails:{},e.geoMapFilterParams.show_only_ont_outage_systems=this.issuesGeoMapFilters&&(this.issuesGeoMapFilters.show_only_ont_outage_systems||0==this.issuesGeoMapFilters.show_only_ont_outage_systems)?this.issuesGeoMapFilters.show_only_ont_outage_systems:void 0,e.geoMapFilterParams.showAllSystems=this.issuesGeoMapFilters&&(this.issuesGeoMapFilters.showAllSystems||0==this.issuesGeoMapFilters.showAllSystems)?this.issuesGeoMapFilters.showAllSystems:void 0,e.geoMapFilterParams.modelNames=this.issuesGeoMapFilters&&this.issuesGeoMapFilters.modelNames?this.issuesGeoMapFilters.modelNames:void 0,e.geoMapFilterParams.vendorId=this.issuesGeoMapFilters&&this.issuesGeoMapFilters.vendorId?this.issuesGeoMapFilters.vendorId:"All",this.issueService.setgeoMapHomeFilterParams(e,!0,!0),this.router.navigate(["cco/home/active-systems-geomap"])}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.eN),s.Y36(c.qu),s.Y36(u.t),s.Y36(d.s),s.Y36(g.v),s.Y36(h.t6),s.Y36(m.gz),s.Y36(p.v),s.Y36(m.F0))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-common-realtime-filter"]],inputs:{geoMapFilters:"geoMapFilters",activeTab:"activeTab"},outputs:{filterData:"filterData"},decls:31,vars:25,consts:[[3,"formGroup"],[1,"row"],[1,"col-md-12","pl-0","pr-0"],[1,"current-issue-menu-container","flex-wrap"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-3","col-lg-3"],["for","Name",1,"col-form-label","select-font"],["id","current-issues-interval",1,"w-100"],["formControlName","region","bindValue","id","bindLabel","name",1,"selectboxwidth",3,"multiple","items","clearable","searchable","placeholder","add","remove"],["formControlName","location","bindValue","id","bindLabel","name",1,"selectboxwidth",3,"multiple","items","placeholder","clearable","searchable","add","remove"],["formControlName","system","bindValue","uuid","bindLabel","name",1,"selectboxwidth",3,"multiple","items","placeholder","clearable","searchable","add","remove"],["class","current-issue-menu-item col-12 col-sm-6 col-md-3 col-lg-3",4,"ngIf"],["class","current-issue-menu-item col-12 col-sm-12 col-md-3 col-lg-3",4,"ngIf"],[1,"current-issue-menu-container"],[1,"row","mt-1"],[1,"col-md-12","text-left"],[1,"d-inline-flex"],["type","button",1,"btn-default","primary","btn-sm-primary",3,"click"],["type","button",1,"btn-transparent","ml-2",3,"click"],[1,"current-issue-menu-item","col-12","col-sm-6","col-md-3","col-lg-3"],["id","current-issues-interval",1,"w-100","ccl-form"],["formControlName","device_type",3,"searchable","multiple","clearable","change"],["value","ALL"],["value","ONT"],["value","OLT"],["formControlName","fsan_serialno","type","text","maxlength","12",1,"form-control",3,"placeholder","keypress","keyup"],["class","vald-tag red",4,"ngIf"],[1,"vald-tag","red"],["id","current-issues-interval",1,"custom-selectbox","w-100"],["formControlName","alarmEventName","id","alarmEventName","bindValue","id","bindLabel","name",3,"searchable","clearable","multiple","placeholder","items","add","remove"],[1,"error"],["formControlName","limit","type","number","min","1",1,"form-control",3,"placeholder"],["class","errorMessage",4,"ngIf"],[1,"errorMessage"],[4,"ngIf"]],template:function(e,t){1&e&&(s.TgZ(0,"form",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"label",5),s._uU(6),s.qZA(),s.TgZ(7,"div",6),s.TgZ(8,"ng-select",7),s.NdJ("add",function(e){return t.validateRegion(e)})("remove",function(e){return t.loadLocationValue(e)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"div",4),s.TgZ(10,"label",5),s._uU(11),s.qZA(),s.TgZ(12,"div",6),s.TgZ(13,"ng-select",8),s.NdJ("add",function(e){return t.validateLocation(e)})("remove",function(e){return t.loadSystemValue(e)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(14,"div",4),s.TgZ(15,"label",5),s._uU(16),s.qZA(),s.TgZ(17,"div",6),s.TgZ(18,"ng-select",9),s.NdJ("add",function(e){return t.validateSystem(e)})("remove",function(e){return t.validateSystem(e)}),s.qZA(),s.qZA(),s.qZA(),s.YNc(19,b,11,5,"div",10),s.YNc(20,Z,6,3,"div",10),s.YNc(21,x,5,6,"div",11),s.YNc(22,q,8,3,"div",10),s.qZA(),s._UZ(23,"div",12),s.qZA(),s.qZA(),s.TgZ(24,"div",13),s.TgZ(25,"div",14),s.TgZ(26,"div",15),s.TgZ(27,"button",16),s.NdJ("click",function(){return t.generateParams()}),s._uU(28),s.qZA(),s.TgZ(29,"button",17),s.NdJ("click",function(){return t.clearFilter()}),s._uU(30),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.Q6J("formGroup",t.filtersForm),s.xp6(6),s.Oqu(t.language.region),s.xp6(2),s.s9C("placeholder",t.language.region),s.Q6J("multiple",!0)("items",t.regionsDataArray)("clearable",!1)("searchable",!0),s.xp6(3),s.Oqu(t.language.Location),s.xp6(2),s.s9C("placeholder",t.language.Location),s.Q6J("multiple",!0)("items",t.locationDataArray)("clearable",!1)("searchable",!0),s.xp6(3),s.Oqu(t.language.System),s.xp6(2),s.s9C("placeholder",t.language.System),s.Q6J("multiple",!0)("items",t.systemDataArray)("clearable",!1)("searchable",!0),s.xp6(1),s.Q6J("ngIf","alarms"===t.activeTab&&t.urls.includes("/cco/issues/device/realtime/current-issues")),s.xp6(1),s.Q6J("ngIf",t.showFSAN&&"alarms"===t.activeTab&&t.urls.includes("/cco/issues/device/realtime/current-issues")),s.xp6(1),s.Q6J("ngIf","alarms"===t.activeTab&&!t.geoMapFilters&&t.urls.includes("/cco/issues/device/realtime/current-issues")),s.xp6(1),s.Q6J("ngIf",!t.geoMapFilters),s.xp6(6),s.hij(" ",t.language.apply," "),s.xp6(2),s.hij(" ",t.language.Clear_Filters," "))},directives:[c._Y,c.JL,c.sg,f.w9,c.JJ,c.u,v.O5,f.xv,c.Fj,c.nD,c.wV,c.qQ],styles:['@charset "UTF-8";.red[_ngcontent-%COMP%]{color:#c70000}.issue-left-menu[_ngcontent-%COMP%]{width:100%}.issue-right-content[_ngcontent-%COMP%]{width:100%;border-left:1px solid #dedede;padding:10px}.current-issue-menu-item[_ngcontent-%COMP%]{flex-grow:0}.btn-secondary[_ngcontent-%COMP%]{color:#5f6165!important;background-color:#f7f8fa!important;border-color:#888!important}.current-issues-table[_ngcontent-%COMP%]{width:100%}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:14px}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{font-size:14px}.btn-secondary[_ngcontent-%COMP%]{color:#5f6165!important;background-color:#f8f8fa!important;border-color:#f8f8fa!important;padding:3px \\200b 10px}.undo-icon[_ngcontent-%COMP%]{background-color:#f8f8fa;padding:3px;color:#9e9e9e;border-radius:15px;margin:2px;font-size:17px;cursor:pointer;width:30px;height:30px;text-align:center}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600!important;font-size:16px}.cco-secondary-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.mw-170[_ngcontent-%COMP%]{min-width:170px}.current-issue-menu-container[_ngcontent-%COMP%]{display:flex;margin:20px 0 0;align-items:center;flex-wrap:wrap;justify-self:start}.test-container[_ngcontent-%COMP%]{display:flex;width:100%}.item[_ngcontent-%COMP%]{flex-grow:1;border-left:1px solid #EBEAEF;padding-left:12px;width:calc(100% / 4)}.item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:2%}@media screen and (max-width: 767px){.mpl[_ngcontent-%COMP%]{padding-left:15px!important}.current-issue-menu-container[_ngcontent-%COMP%]{display:block}.current-issue-menu-item[_ngcontent-%COMP%]{margin-top:10px;margin-left:0!important}.mt-center[_ngcontent-%COMP%]{text-align:center!important}#current-issue-table[_ngcontent-%COMP%]{overflow-x:scroll}#current-issue-table[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}#current-issue-table[_ngcontent-%COMP%]::-webkit-scrollbar-track{height:5px;background:#f1f1f1}#current-issue-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{height:5px;background:#ddd}}@media screen and (min-width: 768px) and (max-width: 1140px){#current-issue-table[_ngcontent-%COMP%]{overflow-x:scroll}#current-issue-table[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}#current-issue-table[_ngcontent-%COMP%]::-webkit-scrollbar-track{height:5px;background:#f1f1f1}#current-issue-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{height:5px;background:#ddd}}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:26px;max-width:70%!important}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:120px!important}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:120px!important}.max-w-90[_ngcontent-%COMP%]{max-width:90px}.col-recom[_ngcontent-%COMP%]{min-width:300px}.col-recom[_ngcontent-%COMP%]   .subj-text[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.col-resource[_ngcontent-%COMP%]{max-width:400px!important}.col-resource[_ngcontent-%COMP%]   .col-res-data[_ngcontent-%COMP%]{min-width:400px;max-width:400px;word-break:break-all}.btn-transparent[_ngcontent-%COMP%]{color:#0279ff;border:none;background:none;font-size:14px}.btn-transparent[_ngcontent-%COMP%]:hover{color:#0054b2}.btn-sm-primary[_ngcontent-%COMP%]{height:24px;line-height:16px!important;padding:3px 20px!important;font-size:14px}']}),e})();function M(e){return 0==(null==e?void 0:e.value)?(null==e||e.setValue(20),null):(null==e?void 0:e.value)?(null==e?void 0:e.value)>1e4?(null==e||e.setValue(1e4),null):(null==e?void 0:e.value)<1?(null==e||e.setValue(Math.abs(e.value)),null):/^\s*(\d{1,5}|-\d+)?\s*$/.test(e.value)?null:{invalidNumber:!0}:{isrequired:!0}}}}]);