"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[6242],{36242:function(e,t,i){i.r(t),i.d(t,{DevicesModule:function(){return Oe}});var s=i(38583),a=i(39895),n=i(91704),o=i(23771),l=i(79765),r=i(35758),d=i(37716),c=i(404),h=i(7616),g=i(13149),p=i(93822),u=i(7450),v=i(38048),m=i(12664),f=i(49342),I=i(39075),b=i(20904);const Z=["infoModal"],T=["deleteModal"],D=["multiDeleteModal"],x=["importModal"],A=function(){return["active"]};function w(e,t){if(1&e&&(d.TgZ(0,"li",3),d.TgZ(1,"a",4),d._uU(2),d.qZA(),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.s9C("id",e.title),d.s9C("routerLink",e.link),d.Q6J("routerLinkActive",d.DdM(4,A)),d.xp6(1),d.Oqu(e.title)}}const O=i(91704);let _=(()=>{class e{constructor(e,t,i,s,a,n,o,r,d,c,h){this.commonFunctionsService=e,this.api=t,this.exportExcel=i,this.dataTablecreatorService=s,this.translateService=a,this.router=n,this.sso=o,this.dialogService=r,this.commonOrgService=d,this.titleService=c,this.common=h,this.infoTitle="",this.infoBody="",this.pageAvailable=!1,this.formVisible=!1,this.buttonVisible=!0,this.dataAvailable=!1,this.showingDeviceIpv6=null,this.selectOptions=[{name:"No",value:!1},{name:"Yes",value:!0}],this.flowType=[{name:"netflow"},{name:"cflow"},{name:"sflow"}],this.importTableOptions={pagingType:"full_numbers",pageLength:10,order:[0,"asc"],scrollX:!0,dom:"tipr"},this.statusTableOptions={pagingType:"full_numbers",pageLength:10},this.tablePreview=!1,this.currentTableRowCount=0,this.tableOptions={pagingType:"full_numbers",pageLength:10,rowId:"_id",scrollX:!0,stateSave:!0,order:[1,"asc"],columnDefs:[{targets:[0],orderable:!1}],drawCallback:e=>{this.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(()=>{this.resetDelete()},0),this.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength&&O(e.nTableWrapper).find(`#${e.sTableId}_last`).addClass("disabled")}},this.deviceData=[],this.deviceIPError=!1,this.deviceIP6Error=!1,this.ignoreUpStream=!1,this.ignoreDownStream=!1,this.ignoreLocal=!1,this.samplingLimitError=!1,this.geoCoordinateError=!1,this.addressError=!1,this.validation=!1,this.empty={"Device IPv4":"","Device IPv6":"",Sampling:"","Receiving Port":"","Ignore Upstream":"","Ignore Downstream":"","Host Name":"","Ignore Local":"",Name:"","Rate Limit":"","Flow Type":""},this.loading=!0,this.dtOptions={},this.dtTrigger=new l.xQ,this.isRerender=!1,this.editIgnoreUpStream=!1,this.editIgnoreDownStream=!1,this.editIgnoreLocal=!1,this.storageData={},this.errorInfo="",this.successInfo="",this.importUpdateASCreate=[],this.sortData={column:1,type:"asc"},this.columnName={deviceIpV4:"Device IPv4",deviceIpV6:"Device IPv6",samplingRate:"Sampling",receivingPort:"Receiving Port",ignoreUpstream:"Ignore Upstream",ignoreDownstream:"Ignore Downstream",hostName:"Host Name",ignoreInternal:"Ignore Local",name:"Name",rateLimit:"Rate Limit"},this.invalidImportDevice=[],this.menus=[],this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.language=this.translateService.defualtLanguage,this.language&&(this.pageAvailable=!0),this.menus=[{title:this.language.Configuration,link:"devices-configuration",subMenuLink:`/${this.MODULE}/flowAnalyze/network/devices/devices-configuration`},{title:this.language.status,link:"devices-status",subMenuLink:`/${this.MODULE}/flowAnalyze/network/devices/devices-status`}],this.translateSubscribe=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.menus[0].title=this.language.Configuration,this.menus[1].title=this.language.status,this.dataAvailable=!1,this.isRerender=!0,this.titleService.setTitle(`${this.language.devices} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`),this.tableCreator("language")}),this.commonOrgService.closeAlert();let g=this.router.url;this.frTable=this.translateService.fr,this.ORG_ID=this.sso.getOrganizationID(g),this.MODULE=this.sso.getRedirectModule(g),this.titleService.setTitle(`${this.language.devices} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}ngOnInit(){this.apiLoader(),this.tableLanguageOptions();const e=JSON.parse(localStorage.getItem("calix.login_data"));this.storageData.clientIp=null==e?void 0:e.clientIp,this.storageData.UserId=null==e?void 0:e.UserId,this.closeAlert(),this.removeState()}ngAfterViewInit(){this.loaded=!0}ngOnDestroy(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSubscribe&&this.translateSubscribe.unsubscribe(),this.subscription&&this.subscription.unsubscribe(),this.deviceListSubs&&this.deviceListSubs.unsubscribe(),this.deviceAddSubs&&this.deviceAddSubs.unsubscribe(),this.deviceUpdateSubs&&this.deviceUpdateSubs.unsubscribe(),this.deviceDeleteSubs&&this.deviceDeleteSubs.unsubscribe(),this.deviceExportSubs&&this.deviceExportSubs.unsubscribe(),this.deviceImportSubs&&this.deviceImportSubs.unsubscribe()}apiLoader(){this.deviceListSubs=this.api.DeviceList(this.ORG_ID).subscribe(e=>{this.deviceData=[...e],this.deviceData&&(this.deviceData=this.dataConvertor(this.deviceData),this.deviceData=[...this.deviceData],this.tableCreator(),this.isRerender?(this.rerender(),this.isRerender=!1):(this.dtTrigger.next(),this.loading=!1),setTimeout(()=>{this.resetDelete()},100))},e=>{this.pageErrorHandle(e),this.deviceData=[],this.tableCreator(),this.isRerender?(this.rerender(),this.isRerender=!1):(this.dtTrigger.next(),this.loading=!1)})}dataConvertor(e){return(0,n.isArray)(e)&&e.forEach(e=>{e.deviceIp=null==e.deviceIpV4||""==e.deviceIpV4?null==e.deviceIpV6||""==e.deviceIpV6?"":e.deviceIpV6:e.deviceIpV4,e.address=e.address?e.address:"",e.flowType=e.flowType?e.flowType:"",e.observationName=""}),e}tableCreator(e){let t=this;this.tableOptions={pagingType:"full_numbers",pageLength:10,rowId:"_id",scrollX:!0,stateSave:!0,order:[t.sortData.column,t.sortData.type],columnDefs:[{targets:[0],orderable:!1}],drawCallback:e=>{t.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(()=>{this.resetDelete()},0),this.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength?O(e.nTableWrapper).find("#device-table_last").addClass("disabled"):O(e.nTableWrapper).find("#device-table_last").removeClass("disabled")}},this.tableLanguageOptions(),e&&"language"==e?setTimeout(()=>{this.dataAvailable=!0,this.rerender()},200):setTimeout(()=>{this.dataAvailable=!0,this.loading=!1},500)}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.tableOptions.language=this.frTable:"es"==this.language.fileLanguage?this.tableOptions.language=this.translateService.es:"de_DE"==this.language.fileLanguage?this.tableOptions.language=this.translateService.de_DE:"en"==this.language.fileLanguage&&this.tableOptions.language&&delete this.tableOptions.language}rerender(){this.dtElement.dtInstance.then(e=>{e.destroy(),this.tableOptions.order=[this.sortData.column,this.sortData.type],setTimeout(()=>{this.dtTrigger.next()},10)})}search(e){this.dtElement.dtInstance.then(t=>{t.search(e).draw()})}create(){this.buttonVisible=!1,this.formVisible=!0}submit(){if(this.validation=!1,this.deviceIPError=!1,this.deviceIP6Error=!1,this.ipv4=void 0,this.ipv6=void 0,this.name=this.name?this.name.trim():"",this.name.length&&this.name.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody=`${this.language["Invalid Device Name"]} - Name should not exceed 64 characters.`,void this.openInfoModal(!1);if(this.deviceIPV4&&this.deviceIpValidatorIpv4(this.deviceIPV4),this.deviceIPV6&&this.deviceIpValidatorIpv6(this.deviceIPV6),this.deviceIPError||this.deviceIP6Error||!this.deviceIPV4&&!this.deviceIPV6)return this.infoTitle=this.language["Invalid request"],this.infoBody=this.language["Invalid IP address"],void this.openInfoModal(!1);if(this.samplingRateValidator(this.samplingLimit),this.samplingLimitError)return this.infoTitle=this.language["Invalid value"],this.infoBody=this.language["The sampling rate should be an integer value greater than 0 and less than 65536."],void this.openInfoModal(!1);let e={deviceIpV4:this.ipv4?this.ipv4:"",deviceIpV6:this.ipv6?this.ipv6:"",ignoreDownstream:this.ignoreDownStream,ignoreInternal:this.ignoreLocal,ignoreUpstream:this.ignoreUpStream,orgId:this.ORG_ID?this.ORG_ID:50,samplingRate:+this.samplingLimit,name:this.name?this.name.trim():"",rateLimit:0,receivingPort:2058,tenantId:0,address:this.address?this.address.trim():""};this.loading=!0,this.deviceAddSubs=this.api.DeviceAdd(e,this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.cancel(),this.apiLoader()},e=>{this.pageErrorHandle(e)})}cancel(){this.formVisible=!1,this.buttonVisible=!0,this.tablePreview=!1,this.reset()}edit(e){var t;this.editData=e,this.editOnValue=e._id,this.editName=e.name?e.name:"",this.editHostName=e.hostName?e.hostName:"",this.editDeviceIPV4=e.deviceIpV4,this.editDeviceIPV6=e.deviceIpV6,this.editIgnoreUpStream=!!e.ignoreUpstream,this.editIgnoreDownStream=!!e.ignoreDownstream,this.editIgnoreLocal=!!e.ignoreInternal,this.editSamplingLimit=e.samplingRate,this.editGeoCoordinate=e.tenantId;let i=null!==(t=e.deviceIpV4)&&void 0!==t?t:e.deviceIpV6;if(-1!==this.deleteIds.indexOf(e._id)){this.deleteIds.splice(this.deleteIds.indexOf(e._id),1),this.deviceIps.splice(this.deviceIps.indexOf(i),1),this.deleteDevices=this.deleteDevices.filter(t=>t._id!==e._id);let t=O('input[name^="delete_device_id"]').length;this.deleteIds.length?this.deleteIds.length!=t?(O("#selectDeselectAll").prop("checked",!1),O("#selectDeselectAll-span").show()):O("#selectDeselectAll-span").hide():(O("#selectDeselectAll").prop("checked",!1),O("#selectDeselectAll-span").hide())}}updateSave(){if(this.deviceIPError=!1,this.deviceIP6Error=!1,this.ipv4="",this.ipv6="",this.editDeviceIPV6=this.editDeviceIPV6?this.editDeviceIPV6.trim():"",this.editDeviceIPV4=this.editDeviceIPV4?this.editDeviceIPV4.trim():"",this.editName=this.editName?this.editName.trim():"",this.editName.length&&this.editName.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody=`${this.language["Invalid Device Name"]} - Name should not exceed 64 characters.`,void this.openInfoModal(!1);if(this.editDeviceIPV6&&this.deviceIpValidatorIpv6(this.editDeviceIPV6),this.editDeviceIPV4&&this.deviceIpValidatorIpv4(this.editDeviceIPV4),this.deviceIPError||this.deviceIP6Error||!this.editDeviceIPV4&&!this.editDeviceIPV6)return this.infoTitle=this.language["Invalid request"],this.infoBody=this.language["Invalid IP address"],this.closeModal(),void(this.modalRef=this.dialogService.open(this.infoModal));if(this.samplingRateValidator(this.editSamplingLimit),this.samplingLimitError)return this.infoTitle=this.language["Invalid value"],this.infoBody=this.language["The sampling rate should be an integer value greater than 0 and less than 65536."],void this.openInfoModal(!1);let e={_id:this.editData._id,deviceIpV4:this.ipv4?this.ipv4:"",deviceIpV6:this.ipv6?this.ipv6:"",ignoreDownstream:this.editIgnoreDownStream,ignoreInternal:this.editIgnoreLocal,ignoreUpstream:this.editIgnoreUpStream,orgId:this.ORG_ID?this.ORG_ID:50,samplingRate:+this.editSamplingLimit,name:this.editName?this.editName.trim():"",rateLimit:0,receivingPort:this.editData.receivingPort?this.editData.receivingPort:0,tenantId:0,flowType:this.editData.flowType?this.editData.flowType:""};this.loading=!0,this.deviceUpdateSubs=this.api.DeviceUpdate(this.editData._id,e,this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.apiLoader(),this.cancel(),this.editOnValue=void 0},e=>{this.pageErrorHandle(e)})}updateCancel(){this.editOnValue=void 0}hideShow(e){this.showingDeviceIp=this.showingDeviceIp==e?void 0:e}hideShowV6(e){this.showingDeviceIpv6=this.showingDeviceIpv6==e?void 0:e}delete(e){let t="";t=e.deviceIpV4?e.deviceIpV4:e.deviceIpV6,this.deleteData=e,e.name=e.name?this.strSub(e.name):"",e.hostName=e.hostName?this.strSub(e.hostName):"",this.infoTitle=this.language["Delete device?"],this.closeModal(),this.modalRef=this.dialogService.open(this.deleteModal,{backdrop:"static",keyboard:!1})}confirmDelete(){let e=this.deleteData._id;this.loading=!0,this.closeModal(),this.deviceDeleteSubs=this.api.DeviceDelete(e,this.ORG_ID).subscribe(e=>{this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.isRerender=!0,this.apiLoader()},e=>{this.pageErrorHandle(e)})}cancelDelete(){this.deleteData=void 0,this.closeModal()}getDeleteIds(e,t){let i="";i=t.deviceIpV4?t.deviceIpV4:t.deviceIpV6;let s=this.deleteDevices;if(e.target.checked){if(-1===this.deleteIds.indexOf(t._id)){this.deleteIds.push(t._id),this.deviceIps.push(i),this.deleteDevices.push(t);let e=O('input[name^="delete_device_id"]').length;this.deleteIds.length==e?(O("#selectDeselectAll").prop("checked",!0),O("#selectDeselectAll-span").hide()):O("#selectDeselectAll-span").show()}}else{this.deleteIds.splice(this.deleteIds.indexOf(t._id),1),this.deviceIps.splice(this.deviceIps.indexOf(i),1),s=s.filter(function(e){return e._id!==t._id}),this.deleteDevices=s;let e=O('input[name^="delete_device_id"]').length;this.deleteIds.length?this.deleteIds.length!=e?(O("#selectDeselectAll").prop("checked",!1),O("#selectDeselectAll-span").show()):O("#selectDeselectAll-span").hide():(O("#selectDeselectAll").prop("checked",!1),O("#selectDeselectAll-span").hide())}}selectDeselectAll(e){let t=0,i=O('input[name^="delete_device_id"]').length;var s=this;s.deleteIds=[],s.deviceIps=[],s.deleteDevices=[],e?O('input[name^="delete_device_id"]').each(function(){if(t>=i)return!1;O(this).prop("checked",!0);let e=O(this).attr("class").split(" ")[0].substring("delete_device_id_".length),a=s.deviceData.filter(t=>t._id===e),n="";n=a[0].deviceIpV4?a[0].deviceIpV4:a[0].deviceIpV6,s.deleteIds.push(e),s.deviceIps.push(n),s.deleteDevices.push(a[0]),t++}):O('input[name^="delete_device_id"]').each(function(){if(t>=i)return!1;O(this).prop("checked",!1),s.deleteIds=[],s.deviceIps=[],s.deleteDevices=[],t++})}deleteAllSelected(){if(this.deviceIps){this.infoTitle=this.language[1===this.deviceIps.length?"Delete selected device?":"Delete selected devices?"];let e="";for(let t=0;t<this.deviceIps.length;t++)this.deleteDevices[t].name=this.deleteDevices[t].name?this.strSub(this.deleteDevices[t].name):"",this.deleteDevices[t].hostName=this.deleteDevices[t].hostName?this.strSub(this.deleteDevices[t].hostName):"",e+=`<tr><td>${this.deleteDevices[t].name&&this.deleteDevices[t].name.length>20?this.deleteDevices[t].name.slice(0,20)+"...":this.deleteDevices[t].name}</td><td>${this.deviceIps[t]}</td><td>${this.deleteDevices[t].hostName&&this.deleteDevices[t].hostName.length>20?this.deleteDevices[t].hostName.slice(0,20)+"...":this.deleteDevices[t].hostName}</td></tr><br>`;this.infoBody=e,this.closeModal(),this.modalRef=this.dialogService.open(this.multiDeleteModal,{backdrop:"static",keyboard:!1})}}confirmDeleteSecleted(){this.closeModal();const e=[];this.deleteIds.forEach(t=>{e.push(this.api.DeviceDelete(t,this.ORG_ID))}),(0,r.D)(e).subscribe(e=>{this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.isRerender=!0,this.cancel(),this.apiLoader()},e=>{this.pageErrorHandle(e)})}showAllInnerCheckBox(e){O("#"+e.target.id).hide(),O("#selectDeselectAll").prop("checked",!0),this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.selectDeselectAll(!0)}resetDelete(){this.selectDeselectAll(!1),O("#selectDeselectAll").prop("checked",!1),O("#selectDeselectAll-span").hide(),this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[]}exportDataConvertor(e){return Array.isArray(e)&&e.forEach(e=>{for(const t in e)"boolean"==typeof e[t]&&(e[t]=1==e[t]?"Yes":"No");delete(e=this.commonFunctionsService.columnNameFromKeys(e,this.columnName)).flowType,delete e.observationId,delete e.orgId,delete e.tenantId,delete e._id}),e}export(){this.deviceExportSubs=this.api.Export("devices",this.ORG_ID).subscribe(e=>{let t=this.commonFunctionsService.generateExportName("device_file_export",!0),i=this.exportDataConvertor(e);this.exportExcel.downLoadCSV(t,i.length?i:[this.empty])},e=>{this.pageErrorHandle(e)})}fullImportUpload(){this.infoTitle=this.language.fullImport,this.infoBody=this.language.fullImportPrompt,this.closeModal(),this.modalRef=this.dialogService.open(this.importModal,{backdrop:"static",keyboard:!1})}proceedImport(){this.closeModal(),O("#fullImportUpload").click()}fullImport(e,t){sessionStorage.setItem("importType",e),this.dataTablecreatorService.generateJsonFromCsv(t,this.deviceData)}tableDataRecreate(e){let t,i=[],s=[],a=[],n=Object.assign([],this.deviceData);n.forEach(e=>{e.deviceIpV4&&e.deviceIpV4.trim()?i.push(e.deviceIpV4):(e.deviceIpV4="",i.push("@@@$@@@")),e.deviceIpV6&&e.deviceIpV6.trim()?i.push(e.deviceIpV6):(e.deviceIpV6="",i.push("@@@$@@@"))});const o=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,l=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;e.forEach((e,t)=>{let r=i.indexOf(e.deviceIpV4)>-1?i.indexOf(e.deviceIpV4):i.indexOf(e.deviceIpV6)>-1?i.indexOf(e.deviceIpV6):-1;(""!=e.deviceIpV4.trim()||""!=e.deviceIpV6.trim())&&r+1?(r=r%2!=0?(r-1)/2:r/2,""!=e.receivingPort&&e.receivingPort>0&&e.receivingPort!=n[r].receivingPort&&2058!=e.receivingPort&&(e.action="Invalid receiving port, it should be 2058"),e.flowType&&e.flowType.trim()&&!["netflow","cflow","sflow"].includes(e.flowType)&&(e.action="Invalid flow type, it should be [netflow, cflow, sflow]"),(s.includes(e.deviceIpV4)||s.includes(e.deviceIpV6))&&(e.action="Device Ip already exist in File .This will be ignored."),(""!=e.deviceIpV4.trim()&&!o.test(e.deviceIpV4)||""!=e.deviceIpV6.trim()&&!l.test(e.deviceIpV6))&&(e.action="Invalid Device IP"),e.hasOwnProperty("action")||Object.keys(e).forEach(t=>{!0===n[r][t]?n[r][t]="Yes":!1===n[r][t]&&(n[r][t]="No"),e[t]!=n[r][t]&&(e.action="Update",e._id=n[r]._id)}),e.hasOwnProperty("action")||a.push(t),this.previewTableHeader.forEach(t=>{e[`old_${t}`]=n[r][t]}),n[r].deviceIpV4.trim()&&s.push(n[r].deviceIpV4),n[r].deviceIpV6.trim()&&s.push(n[r].deviceIpV6),i.splice(2*r,2),n.splice(r,1)):(e.flowType&&e.flowType.trim()&&!["netflow","cflow","sflow"].includes(e.flowType)&&(e.action="Invalid flow type, it should be [netflow, cflow, sflow]"),(""!=e.deviceIpV4.trim()&&!o.test(e.deviceIpV4)||""!=e.deviceIpV6.trim()&&!l.test(e.deviceIpV6))&&(e.action="Invalid Device IP"),e.hasOwnProperty("action")||(e.action="Create"),e.deviceIpV4.trim()&&s.push(e.deviceIpV4),e.deviceIpV6.trim()&&s.push(e.deviceIpV6),this.previewTableHeader.forEach(t=>{e[`old_${t}`]=""}));for(const[i,s]of Object.entries(e))!0===s?e[i]="Yes":!1===s&&(e[i]="No")}),t=Object.assign([],e);let r=Object.assign([],e);return a=a.sort(function(e,t){return t-e}),a.forEach(e=>{r.splice(e,1)}),n.length&&"IncImport"!=sessionStorage.getItem("importType")&&n.forEach(e=>{e.action="Delete";for(const[t,i]of Object.entries(e))!0===i?e[t]="Yes":!1===i&&(e[t]="No");r.push(e)}),this.recreateTable=t,r}appendOldPrefix(e){return`old_${e}`}previewHeader(){this.previewHeaderValue=[]}importSubmit(e=!1){let t,i=sessionStorage.getItem("importType"),s={clientIP:this.storageData.clientIp,dry_run:e,full_import:"FullImport"==i,import_data:[],orgId:this.ORG_ID,userId:this.storageData.UserId},a=[],n=[];if(e?(t="Create",this.recreateTable.forEach(e=>{((null==e?void 0:e.deviceIpV4)||(null==e?void 0:e.deviceIpV6))&&a.push(this.importTemplate(e,"Create"))})):this.recreateTable.forEach(e=>{a.push(this.importTemplate(e))}),e){const e=a.length;this.deviceData.forEach(t=>{let o=!1;for(let s=0;s<e;s++)(t.deviceIpV4&&t.deviceIpV4==a[s].deviceIpV4||t.deviceIpV6&&t.deviceIpV6==a[s].deviceIpV6)&&(o=!0,"FullImport"==i?(a[s].action="Create",this.importUpdateASCreate.push(t)):a[s].action="Update");if(!o&&s.full_import){const e=Object.assign({},t);n.push(this.importTemplate(e,"Delete"))}})}else if(a=a.filter(e=>{if(["Create","Update"].includes(e.action))return e}),0==a.length)return void this.cancel();if(!a.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",void this.openInfoModal(!1);s.import_data=a,this.deviceImportSubs=this.api.Import("devices",s,this.ORG_ID).subscribe(t=>{e?(this.enableImportSubmit=!1,t=t.map(e=>(e.action="ok"==e.validationResult.toLowerCase()?e.action:e.validationResult,"ok"==e.validationResult.toLowerCase()&&(this.enableImportSubmit=!0),e)),this.recreateTable=t,this.previewOrder([...t,...n]),this.buttonVisible=!1,this.tablePreview=!0):(sessionStorage.removeItem("importType"),this.cancel(),this.isRerender=!0,this.apiLoader())},t=>{400==t.status?(e?(this.infoTitle=this.language.objectNotFound,this.infoBody="",this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)):(sessionStorage.removeItem("importType"),this.pageErrorHandle(t)),this.loading=!1):this.pageErrorHandle(t)})}importTemplate(e,t){return{action:t||e.action,deviceIpV4:e.deviceIpV4,deviceIpV6:e.deviceIpV6,orgId:this.ORG_ID,tenantId:0,ignoreDownstream:"Yes"===e.ignoreDownstream||!0===e.ignoreDownstream,ignoreInternal:"Yes"===e.ignoreInternal||!0===e.ignoreInternal,ignoreUpstream:"Yes"===e.ignoreUpstream||!0===e.ignoreUpstream,name:e.name,rateLimit:e.rateLimit,receivingPort:e.receivingPort,samplingRate:e.samplingRate}}previewOrder(e){if(!e||0==e.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",this.closeModal(),void(this.modalRef=this.dialogService.open(this.infoModal));let t=[];const i=["ignoreDownstream","ignoreInternal","ignoreUpstream"],s=["validationResult"],a=["action","deviceIpV4","deviceIpV6"];e.forEach(e=>{let n={};Object.keys(e).forEach(t=>{s.includes(t)||(n[t]=i.includes(t)&&("true"===e[t]||!0===e[t]||e[t]&&"Y"==e[t].toString().toUpperCase)?"Yes":i.includes(t)&&("false"===e[t]||!1===e[t]||e[t]&&"N"==e[t].toString().toUpperCase)?"No":e[t],a.includes(t)||(n["Old "+t]=""))}),this.deviceData.forEach(t=>{if(e.deviceIpV4==t.deviceIpV4&&e.deviceIpV6==t.deviceIpV6){for(const[e,s]of Object.entries(n))if(e.includes("Old")){const s=e.replace("Old ","");n[e]=i.includes(s)&&(t[s]||"Y"==t[s].toString().toUpperCase)?"Yes":!i.includes(s)||t[s]&&"N"!=t[s].toString().toUpperCase?t[s]:"No"}return"Create"==n.action&&(n.action="Update"),!1}}),t.push(n)}),this.previewTableBody=t}cancelImport(){}reset(){this.name=void 0,this.hostName=void 0,this.deviceIPV4=void 0,this.deviceIPV6=void 0,this.ignoreDownStream=!1,this.ignoreUpStream=!1,this.ignoreLocal=!1,this.geoCoordinate=void 0,this.address=void 0,this.samplingLimit=void 0}resetEdit(){this.editName="",this.editHostName="",this.editDeviceIPV4="",this.editDeviceIPV6="",this.editIgnoreUpStream=!1,this.editIgnoreDownStream=!1,this.editIgnoreLocal=!1,this.editSamplingLimit=void 0,this.editGeoCoordinate=void 0}samplingRateValidator(e){this.samplingLimitError=!1,this.samplingLimitError=!Number.isInteger(e)||!(e>0&&e<=65535)}deviceIpValidatorIpv4(e){e&&""!=e.trim()?(e=e.trim(),this.commonFunctionsService.isValidIpV4Addr(e)?(this.ipv4=e,this.deviceIPError=!1):this.deviceIPError=!0):this.deviceIPError=!0}deviceIpValidatorIpv6(e){e&&""!=e.trim()?(e=e.trim(),this.commonFunctionsService.isValidIpV6Addr(e)?(this.ipv6=e,this.deviceIP6Error=!1):this.deviceIP6Error=!0):this.deviceIPError=!0}sortingTable(e,t){setTimeout(()=>{this.sortColumn=e,this.sortType=O(t.target).hasClass("sorting_asc")?"asc":"desc"},500)}closeAlert(){this.error=!1,this.success=!1}closeModal(){this.modalRef&&this.modalRef.close()}strSub(e,t){return e.length<=20?e:`${e.substr(0,t||20)}...`}pageErrorHandle(e){var t,i,s,a,n,o,l,r,d;if(400==e.status){let c=(null==e?void 0:e.error)?this.commonOrgService.pageInvalidRqstErrorHandle(e):"";this.infoBody="object_already_exists"==c?`${this.language["Conflict found with existing devices"]} ${(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.info)?null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.info:""}`:"Bad Request"===c&&((null===(a=null===(s=null==e?void 0:e.error)||void 0===s?void 0:s.message)||void 0===a?void 0:a.split(":").length)&&"object_already_exists"===(null===(o=null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.message)||void 0===o?void 0:o.split(":")[0])||"invalid_request"===(null===(r=null===(l=null==e?void 0:e.error)||void 0===l?void 0:l.message)||void 0===r?void 0:r.split(":")[0]))?null===(d=null==e?void 0:e.error)||void 0===d?void 0:d.message.split(":")[1]:c,this.infoTitle=this.language["Invalid request"],this.loading=!1,this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)}else this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(this.errorInfo),this.commonOrgService.pageScrollTop(),this.loading=!1}openInfoModal(e){e||(this.invalidImportDevice=[]),this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1})}removeState(){localStorage.getItem(`DataTables_device-table_/${this.MODULE}/flowAnalyze/network/devices`)&&localStorage.removeItem(`DataTables_device-table_/${this.MODULE}/flowAnalyze/network/devices`)}inputValidator(e){var t=null==e?void 0:e.keyCode;return t>64&&t<91||t>96&&t<123||8==t||32==t||t>=48&&t<=57}removeUnwantedSpace(e,t){this[e]=this.common.trimSpaceFromNonObjectInputs(t)}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(c.i),d.Y36(h.v),d.Y36(g.O),d.Y36(p.L),d.Y36(u.s),d.Y36(a.F0),d.Y36(v.t6),d.Y36(m.FF),d.Y36(f.v),d.Y36(I.Dx),d.Y36(b.i))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-devices"]],viewQuery:function(e,t){if(1&e&&(d.Gf(Z,7),d.Gf(T,7),d.Gf(D,5),d.Gf(x,7),d.Gf(o.G,5)),2&e){let e;d.iGM(e=d.CRH())&&(t.infoModal=e.first),d.iGM(e=d.CRH())&&(t.deleteModal=e.first),d.iGM(e=d.CRH())&&(t.multiDeleteModal=e.first),d.iGM(e=d.CRH())&&(t.importModal=e.first),d.iGM(e=d.CRH())&&(t.dtElement=e.first)}},decls:4,vars:1,consts:[[1,"container","px-0","position-relative"],["id","deviceTabs","role","tablist",1,"nav","nav-tabs","nav-tab-list"],["class","nav-item","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"nav-item"],["role","tab","aria-controls","device-configuration","aria-selected","true",1,"btn","btn-default",3,"id","routerLink","routerLinkActive"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"ul",1),d.YNc(2,w,3,5,"li",2),d.qZA(),d._UZ(3,"router-outlet"),d.qZA()),2&e&&(d.xp6(2),d.Q6J("ngForOf",t.menus))},directives:[s.sg,a.lC,a.yS,a.Od],styles:[".modal-scrll[_ngcontent-%COMP%]{overflow-y:auto;max-height:500px}.list-two[_ngcontent-%COMP%]{list-style-type:disc;margin-left:30px}.min-w-250[_ngcontent-%COMP%]{min-width:250px}.min-w-170[_ngcontent-%COMP%]{min-width:170px}.min-w-130[_ngcontent-%COMP%]{min-width:130px}.w-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.w-nowrap-150[_ngcontent-%COMP%]{white-space:nowrap;min-width:150px}.f-size13[_ngcontent-%COMP%]{font-size:13px}.w-200px[_ngcontent-%COMP%]{width:200px}.w-150px[_ngcontent-%COMP%]{width:150px}.w-100px[_ngcontent-%COMP%]{width:100px}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:3px 20px!important;border:1px solid #0279FF;color:#0279ff;font-size:14px;line-height:16.67px!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(.active):hover{background-color:#0279ff;color:#fff}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn.active[_ngcontent-%COMP%]{background-color:#0279ff;color:#fff}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-radius:0!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:first-child   .btn[_ngcontent-%COMP%]{border-top-left-radius:12px!important;border-bottom-left-radius:12px!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child   .btn[_ngcontent-%COMP%]{border-top-right-radius:12px!important;border-bottom-right-radius:12px!important}.line-height-normal[_ngcontent-%COMP%]{line-height:normal}"]}),e})();var q=i(5304),M=i(25917),S=i(89044),C=i(91841);const V=["infoModal"];function y(e,t){1&e&&(d.TgZ(0,"div",7),d.TgZ(1,"div",8),d.TgZ(2,"div",9),d.TgZ(3,"span",10),d._uU(4,"Loading..."),d.qZA(),d.qZA(),d.qZA(),d.qZA())}function U(e,t){if(1&e&&(d.TgZ(0,"div",11),d.TgZ(1,"div",12),d.TgZ(2,"label",13),d._uU(3),d.qZA(),d.TgZ(4,"div",14),d._uU(5),d.qZA(),d.qZA(),d.TgZ(6,"div",12),d.TgZ(7,"label",13),d._uU(8),d.qZA(),d.TgZ(9,"div",14),d._uU(10),d.qZA(),d.qZA(),d.TgZ(11,"div",15),d.TgZ(12,"label",13),d._uU(13),d.qZA(),d.TgZ(14,"div",14),d._uU(15),d.qZA(),d.qZA(),d.qZA()),2&e){const e=d.oxw();d.xp6(3),d.Oqu(e.language.discoveredCount),d.xp6(2),d.Oqu(e.counts.discoveredCount),d.xp6(3),d.Oqu(e.language.mappedCount),d.xp6(2),d.Oqu(e.counts.mappedCount),d.xp6(3),d.Oqu(e.language.mappedPercent),d.xp6(2),d.hij("",e.mappedPercentage,"%")}}function P(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"tr",17),d.TgZ(1,"td"),d.TgZ(2,"a",18),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw(2).routeToDevicePlaceholder(t.device_ip)}),d._uU(3),d.qZA(),d.qZA(),d.TgZ(4,"td"),d._uU(5),d.qZA(),d.TgZ(6,"td"),d._uU(7),d.qZA(),d.TgZ(8,"td"),d._uU(9),d.qZA(),d.TgZ(10,"td"),d._uU(11),d.qZA(),d.qZA()}if(2&e){const e=t.$implicit,i=d.oxw(2);d.s9C("id",e._id),d.xp6(3),d.Oqu(e.device_ip||""),d.xp6(2),d.Oqu(e.flow_rate||"0"),d.xp6(2),d.Oqu(e.packet_rate||"0"),d.xp6(2),d.Oqu(e.virtual_packet_rate?i.formatPacket(e.virtual_packet_rate):"0 pps"),d.xp6(2),d.Oqu(e.virtual_bit_rate?i.formatBytes(e.virtual_bit_rate):"0 bps")}}function N(e,t){if(1&e&&(d.TgZ(0,"tbody"),d.YNc(1,P,12,6,"tr",16),d.qZA()),2&e){const e=d.oxw();d.xp6(1),d.Q6J("ngForOf",e.deviceStatusData)}}function E(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",19),d.TgZ(1,"h4",20),d._uU(2),d.qZA(),d.TgZ(3,"button",21),d.NdJ("click",function(){return d.CHM(e),d.oxw().closeModal()}),d._UZ(4,"span",22),d.qZA(),d.qZA(),d.TgZ(5,"div",23),d.TgZ(6,"div",24),d.TgZ(7,"p",25),d._uU(8),d.qZA(),d.qZA(),d.qZA(),d.TgZ(9,"div",26),d.TgZ(10,"button",27),d.NdJ("click",function(){return d.CHM(e),d.oxw().closeModal()}),d._uU(11),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(2),d.Oqu(e.infoTitle),d.xp6(6),d.Oqu(e.infoBody),d.xp6(3),d.hij(" ",e.language.Okay," ")}}let L=(()=>{class e{constructor(e,t,i,s,a,n,o,r,d){this.translateService=e,this.commonOrgService=t,this.titleService=i,this.router=s,this.sso=a,this.endpointManagementService=n,this.http=o,this.networkDeviceApiService=r,this.dialogService=d,this.statusTableOptions={pageLength:10,pagingType:"full_numbers",stateSave:!1,order:[0,"asc"],columnDefs:[{targets:[1,2,3,4],orderable:!1}],lengthChange:!0,ordering:!0,searching:!0},this.dtTrigger=new l.xQ,this.counts={discoveredCount:null,mappedCount:null},this.show={count:!1,loading:!1},this.mappedPercentage=0,this.deviceStatusData=[],this.language=this.translateService.defualtLanguage;const c=this.router.url;this.commonOrgService.closeAlert(),this.MODULE=this.sso.getRedirectModule(c),this.ORG_ID=this.sso.getOrganizationID(c),this.translateSub=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.titleService.setTitle(`${this.language.Bsp_Microsite_Status} - ${this.language.devices} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`),this.reloadCurrentRoute()}),this.titleService.setTitle(`${this.language.Bsp_Microsite_Status} - ${this.language.devices} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`),this.commonOrgService.setKey("deviceIp",null)}ngOnInit(){this.getCounts(),this.getDeviceStatusList()}ngOnDestroy(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSub&&this.translateSub.unsubscribe(),this.countSub&&this.countSub.unsubscribe()}getDeviceStatusList(){this.show.loading=!0,this.getDeviceStatusListSub=this.networkDeviceApiService.DeviceStatusList(this.ORG_ID).subscribe(e=>{this.show.loading=!1,e&&e.metrics&&e.metrics.length&&(this.deviceStatusData=e.metrics),this.tableLanguageOptions(),this.dtTrigger.next()},e=>{this.show.loading=!1,this.rerender(),this.pageErrorHandle(e)})}getCounts(){const e={};e.mappedCount=this.endpointManagementService.getMappedcount(this.ORG_ID).pipe((0,q.K)(e=>(0,M.of)(e))),e.unmappedCount=this.endpointManagementService.getUnmappedcount(this.ORG_ID).pipe((0,q.K)(e=>(0,M.of)(e))),this.countSub=(0,r.D)(e).subscribe(e=>{this.counts.discoveredCount=(null==e?void 0:e.mappedCount)+(null==e?void 0:e.unmappedCount),this.counts.mappedCount=null==e?void 0:e.mappedCount,this.getMappedPercentage(),this.show.count=!0})}getMappedPercentage(){this.mappedPercentage=this.counts.mappedCount/this.counts.discoveredCount*100,this.mappedPercentage=this.mappedPercentage?this.mappedPercentage.toFixed(2):0}routeToDevicePlaceholder(e){this.commonOrgService.setKey("deviceIp",e),this.router.navigate([`${this.MODULE}/devices-name-placeholder`],{state:{data:e}})}setTableOptions(e){this.tableLanguageOptions(),setTimeout(()=>{this.show.loading=!1},200)}rerender(){this.dtTrigger.next()}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.statusTableOptions.language=this.translateService.fr:"es"==this.language.fileLanguage?this.statusTableOptions.language=this.translateService.es:"de_DE"==this.language.fileLanguage?this.statusTableOptions.language=this.translateService.de_DE:"en"==this.language.fileLanguage&&this.statusTableOptions.language&&delete this.statusTableOptions.language}openInfoModal(){this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)}closeModal(){this.modalRef&&this.modalRef.close()}pageErrorHandle(e,t){var i,s,a;let n="";404!==(null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.code)&&(400==e.status||417==e.status?(this.infoBody=417==e.status&&(null===(s=null==e?void 0:e.error)||void 0===s?void 0:s.message)?null===(a=null==e?void 0:e.error)||void 0===a?void 0:a.message:this.commonOrgService.pageInvalidRqstErrorHandle(e),this.infoTitle=t||"Error",this.openInfoModal(),this.show.loading=!1):(n=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(n),this.commonOrgService.pageScrollTop(),this.show.loading=!1,setTimeout(()=>{this.commonOrgService.closeAlert()},3e3)))}formatBytes(e,t=2){if(!+e)return"0 Bits";const i=t<0?0:t,s=Math.floor(Math.log(e)/Math.log(1e3));return`${parseFloat((e/Math.pow(1e3,s)).toFixed(i))} ${["Bits","Kbps","Mbps","Gbps","Tbps","Pbps","Ebps","Zbps","Ybps"][s]}`}formatPacket(e,t=2){if(!+e)return"0 pps";const i=t<0?0:t,s=Math.floor(Math.log(e)/Math.log(1e3));return`${parseFloat((e/Math.pow(1e3,s)).toFixed(i))} ${["pps","Kpps","Mpps","Gpps","Tbps","Ppps","Epps","Zpps","Ypsps"][s]}`}reloadCurrentRoute(){let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(u.s),d.Y36(f.v),d.Y36(I.Dx),d.Y36(a.F0),d.Y36(v.t6),d.Y36(S.U),d.Y36(C.eN),d.Y36(h.v),d.Y36(m.FF))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-devices-status"]],viewQuery:function(e,t){if(1&e&&(d.Gf(V,7),d.Gf(o.G,5)),2&e){let e;d.iGM(e=d.CRH())&&(t.infoModal=e.first),d.iGM(e=d.CRH())&&(t.dtElement=e.first)}},decls:20,vars:14,consts:[["class","loader",4,"ngIf"],["class","d-flex align-items-start w-100 my-3",4,"ngIf"],[1,"row"],[1,"col-12","col-lg-12"],["width","100%","id","statusDataTable","datatable","",1,"table","w-100",3,"dtTrigger","dtOptions"],[4,"ngIf"],["infoModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"d-flex","align-items-start","w-100","my-3"],[1,"border-left","line-height-normal","px-3","mr-3"],[1,"stats-label","mb-0"],[1,"stats-value"],[1,"border-left","line-height-normal","px-3"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[1,"primary","cursor-pointer","text-decoration-none","text-break",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","modal-scrll"],[1,"w-100"],[1,"f-size-16px"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"]],template:function(e,t){1&e&&(d.YNc(0,y,5,0,"div",0),d.YNc(1,U,16,6,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"table",4),d.TgZ(5,"thead"),d.TgZ(6,"tr"),d.TgZ(7,"th"),d._uU(8),d.qZA(),d.TgZ(9,"th"),d._uU(10),d.qZA(),d.TgZ(11,"th"),d._uU(12),d.qZA(),d.TgZ(13,"th"),d._uU(14),d.qZA(),d.TgZ(15,"th"),d._uU(16),d.qZA(),d.qZA(),d.qZA(),d.YNc(17,N,2,1,"tbody",5),d.qZA(),d.qZA(),d.qZA(),d.YNc(18,E,12,3,"ng-template",null,6,d.W1O)),2&e&&(d.Q6J("ngIf",null==t.show?null:t.show.loading),d.xp6(1),d.Q6J("ngIf",t.show.count),d.xp6(3),d.Q6J("dtTrigger",t.dtTrigger)("dtOptions",t.statusTableOptions),d.xp6(4),d.Oqu(t.language.deviceIP),d.xp6(2),d.AsE("",t.language.flowRate," (",t.language.perSecond,")"),d.xp6(2),d.AsE("",t.language.packetRate," (",t.language.perSecond,")"),d.xp6(2),d.AsE("",t.language.virtualPacketRate," (",t.language.perSecond,")"),d.xp6(2),d.AsE("",t.language.virtualBitRate," (",t.language.perSecond,")"),d.xp6(1),d.Q6J("ngIf",null==t.deviceStatusData?null:t.deviceStatusData.length))},directives:[s.O5,o.G,s.sg],styles:[""]}),e})();var k=i(3679),R=i(86640);const F=["infoModal"],J=["deleteModal"],H=["multiDeleteModal"],$=["importModal"];function Y(e,t){1&e&&(d.TgZ(0,"div",24),d.TgZ(1,"div",25),d.TgZ(2,"div",26),d.TgZ(3,"span",27),d._uU(4,"Loading..."),d.qZA(),d.qZA(),d.qZA(),d.qZA())}function G(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",28),d.TgZ(1,"div",29),d.TgZ(2,"div",30),d.TgZ(3,"div"),d.TgZ(4,"button",31),d.NdJ("click",function(){return d.CHM(e),d.oxw().create()}),d._uU(5),d.qZA(),d.qZA(),d.TgZ(6,"div"),d.TgZ(7,"button",32),d.NdJ("click",function(){return d.CHM(e),d.oxw().export()}),d._uU(8),d.qZA(),d.qZA(),d.TgZ(9,"div",33),d.TgZ(10,"button",34),d.NdJ("click",function(){return d.CHM(e),d.oxw().fullImportUpload()}),d._uU(11),d.qZA(),d.TgZ(12,"input",35,36),d.NdJ("click",function(){return d.CHM(e),d.MAs(13).value=null})("change",function(t){return d.CHM(e),d.oxw().fullImport("FullImport",t)}),d.qZA(),d.qZA(),d.TgZ(14,"div",33),d.TgZ(15,"label",37),d._uU(16),d.qZA(),d.TgZ(17,"input",38,39),d.NdJ("click",function(){return d.CHM(e),d.MAs(18).value=null})("change",function(t){return d.CHM(e),d.oxw().fullImport("IncImport",t)}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(19,"div",40),d.TgZ(20,"div",41),d._UZ(21,"input",42),d.TgZ(22,"button",43),d._UZ(23,"i",44),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(5),d.Oqu(e.language.create),d.xp6(3),d.Oqu(e.language.export),d.xp6(3),d.Oqu(e.language.fullImport),d.xp6(5),d.hij("",e.language.incrementalImport," ")}}const Q=function(){return{standalone:!0}};function j(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"section"),d.TgZ(1,"div",4),d.TgZ(2,"div",45),d.TgZ(3,"form"),d.TgZ(4,"div",46),d.TgZ(5,"label",47),d._uU(6),d.qZA(),d.TgZ(7,"div",48),d.TgZ(8,"input",49),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().name=t})("blur",function(){d.CHM(e);const t=d.oxw();return t.removeUnwantedSpace("name",t.name)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(9,"div",46),d.TgZ(10,"label",50),d._uU(11),d.TgZ(12,"span"),d._UZ(13,"i",51),d.qZA(),d.qZA(),d.TgZ(14,"div",48),d.TgZ(15,"input",52),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().deviceIPV4=t})("blur",function(){d.CHM(e);const t=d.oxw();return t.removeUnwantedSpace("deviceIPV4",t.deviceIPV4)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(16,"div",46),d.TgZ(17,"label",53),d._uU(18),d.TgZ(19,"span"),d._UZ(20,"i",51),d.qZA(),d.qZA(),d.TgZ(21,"div",48),d.TgZ(22,"input",54),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().deviceIPV6=t})("blur",function(){d.CHM(e);const t=d.oxw();return t.removeUnwantedSpace("deviceIPV6",t.deviceIPV6)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(23,"div",46),d.TgZ(24,"label",55),d._uU(25),d.TgZ(26,"span"),d._UZ(27,"i",51),d.qZA(),d.qZA(),d.TgZ(28,"div",48),d.TgZ(29,"ng-select",56),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().ignoreUpStream=t}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(30,"div",46),d.TgZ(31,"label",57),d._uU(32),d.TgZ(33,"span"),d._UZ(34,"i",51),d.qZA(),d.qZA(),d.TgZ(35,"div",48),d.TgZ(36,"ng-select",58),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().ignoreDownStream=t}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(37,"div",46),d.TgZ(38,"label",59),d._uU(39),d.TgZ(40,"span"),d._UZ(41,"i",51),d.qZA(),d.qZA(),d.TgZ(42,"div",48),d.TgZ(43,"ng-select",60),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().ignoreLocal=t}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(44,"div",46),d.TgZ(45,"label",61),d._uU(46),d.TgZ(47,"span",62),d._uU(48,"*"),d.qZA(),d.TgZ(49,"span"),d._UZ(50,"i",51),d.qZA(),d.qZA(),d.TgZ(51,"div",48),d.TgZ(52,"input",63),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw().samplingLimit=t})("keypress",function(t){return d.CHM(e),d.oxw().inputValidator(t)}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(53,"div",64),d.TgZ(54,"div",65),d.TgZ(55,"button",66),d.NdJ("click",function(){return d.CHM(e),d.oxw().submit()}),d._uU(56),d.qZA(),d.TgZ(57,"button",67),d.NdJ("click",function(){return d.CHM(e),d.oxw().cancel()}),d._uU(58),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(6),d.Oqu(e.language.name),d.xp6(2),d.Q6J("ngModel",e.name)("ngModelOptions",d.DdM(41,Q)),d.xp6(3),d.hij("",e.language.deviceipv4," "),d.xp6(2),d.s9C("title",e.language.deviceiptooltip),d.xp6(2),d.Q6J("ngModel",e.deviceIPV4)("ngModelOptions",d.DdM(42,Q)),d.xp6(3),d.hij("",e.language.deviceipv6," "),d.xp6(2),d.s9C("title",e.language.deviceiptooltip),d.xp6(2),d.Q6J("ngModel",e.deviceIPV6)("ngModelOptions",d.DdM(43,Q)),d.xp6(3),d.hij("",e.language.ignoreUpstream," "),d.xp6(2),d.s9C("title",e.language.ignoreupstreamtooltip),d.xp6(2),d.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.ignoreUpStream)("ngModelOptions",d.DdM(44,Q))("clearable",!1)("searchable",!1),d.xp6(3),d.hij("",e.language.ignoreDownstream," "),d.xp6(2),d.s9C("title",e.language.ignoredownstreamtooltip),d.xp6(2),d.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.ignoreDownStream)("ngModelOptions",d.DdM(45,Q))("clearable",!1)("searchable",!1),d.xp6(3),d.hij("",e.language.ignoreLocal," "),d.xp6(2),d.s9C("title",e.language.ignoreinternal),d.xp6(2),d.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.ignoreLocal)("ngModelOptions",d.DdM(46,Q))("clearable",!1)("searchable",!1),d.xp6(3),d.hij("",e.language.sampling," "),d.xp6(4),d.s9C("title",e.language.samplingRateToolTip),d.xp6(2),d.Q6J("ngModel",e.samplingLimit)("ngModelOptions",d.DdM(47,Q)),d.xp6(4),d.Oqu(e.language.submit),d.xp6(2),d.Oqu(e.language.Cancel)}}function B(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._uU(12),d.qZA(),d.TgZ(13,"td"),d._uU(14),d.qZA(),d.TgZ(15,"td"),d._uU(16),d.qZA(),d.TgZ(17,"td"),d._uU(18),d.qZA(),d.TgZ(19,"td"),d._uU(20),d.qZA(),d.TgZ(21,"td"),d._uU(22),d.qZA(),d.TgZ(23,"td"),d._uU(24),d.qZA(),d.TgZ(25,"td"),d._uU(26),d.qZA(),d.TgZ(27,"td"),d._uU(28),d.qZA(),d.TgZ(29,"td"),d._uU(30),d.qZA(),d.TgZ(31,"td"),d._uU(32),d.qZA(),d.TgZ(33,"td"),d._uU(34),d.qZA(),d.TgZ(35,"td"),d._uU(36),d.qZA(),d.qZA()),2&e){const e=t.$implicit;d.xp6(2),d.Oqu(e.action),d.xp6(2),d.Oqu(e.name),d.xp6(2),d.Oqu(e["Old name"]),d.xp6(2),d.Oqu(e.deviceIpV4),d.xp6(2),d.Oqu(e.deviceIpV6),d.xp6(2),d.Oqu(e.samplingRate),d.xp6(2),d.Oqu(e["Old samplingRate"]),d.xp6(2),d.Oqu(e["Old hostName"]),d.xp6(2),d.Oqu(e.receivingPort),d.xp6(2),d.Oqu(e["Old receivingPort"]),d.xp6(2),d.Oqu(e.flowType),d.xp6(2),d.Oqu(e["Old flowType"]),d.xp6(2),d.Oqu(e.ignoreUpstream),d.xp6(2),d.Oqu(e["Old ignoreUpstream"]),d.xp6(2),d.Oqu(e.ignoreDownstream),d.xp6(2),d.Oqu(e["Old ignoreDownstream"]),d.xp6(2),d.Oqu(e.ignoreInternal),d.xp6(2),d.Oqu(e["Old ignoreInternal"])}}function z(e,t){if(1&e&&(d.TgZ(0,"div",4),d.TgZ(1,"div",70),d.TgZ(2,"table",71),d.TgZ(3,"thead"),d.TgZ(4,"tr"),d.TgZ(5,"th"),d._uU(6),d.qZA(),d.TgZ(7,"th"),d._uU(8),d.qZA(),d.TgZ(9,"th"),d._uU(10),d.qZA(),d.TgZ(11,"th"),d._uU(12),d.qZA(),d.TgZ(13,"th"),d._uU(14),d.qZA(),d.TgZ(15,"th"),d._uU(16),d.qZA(),d.TgZ(17,"th"),d._uU(18),d.qZA(),d.TgZ(19,"th"),d._uU(20),d.qZA(),d.TgZ(21,"th"),d._uU(22),d.qZA(),d.TgZ(23,"th"),d._uU(24),d.qZA(),d.TgZ(25,"th"),d._uU(26),d.qZA(),d.TgZ(27,"th"),d._uU(28),d.qZA(),d.TgZ(29,"th"),d._uU(30),d.qZA(),d.TgZ(31,"th"),d._uU(32),d.qZA(),d.TgZ(33,"th"),d._uU(34),d.qZA(),d.TgZ(35,"th"),d._uU(36),d.qZA(),d.TgZ(37,"th"),d._uU(38),d.qZA(),d.TgZ(39,"th"),d._uU(40),d.qZA(),d.qZA(),d.qZA(),d.TgZ(41,"tbody"),d.YNc(42,B,37,18,"tr",72),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){const e=d.oxw(2);d.xp6(2),d.Q6J("dtOptions",e.importTableOptions),d.xp6(4),d.Oqu(e.language.action),d.xp6(2),d.Oqu(e.language.name),d.xp6(2),d.AsE("",e.language.old," ",e.language.name,""),d.xp6(2),d.Oqu(e.language.deviceipv4),d.xp6(2),d.Oqu(e.language.deviceipv6),d.xp6(2),d.Oqu(e.language.sampling),d.xp6(2),d.AsE("",e.language.old," ",e.language.sampling,""),d.xp6(2),d.Oqu(e.language.hostName),d.xp6(2),d.Oqu(e.language.listeningPort),d.xp6(2),d.AsE("",e.language.old," ",e.language.listeningPort,""),d.xp6(2),d.Oqu(e.language.flowType),d.xp6(2),d.AsE("",e.language.old," ",e.language.flowType,""),d.xp6(2),d.Oqu(e.language.ignoreUpstream),d.xp6(2),d.AsE("",e.language.old," ",e.language.ignoreUpstream,""),d.xp6(2),d.Oqu(e.language.ignoreDownstream),d.xp6(2),d.AsE("",e.language.old," ",e.language.ignoreDownstream,""),d.xp6(2),d.Oqu(e.language.ignoreLocal),d.xp6(2),d.AsE("",e.language.old," ",e.language.ignoreLocal,""),d.xp6(2),d.Q6J("ngForOf",e.previewTableBody)}}function W(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"section"),d.YNc(1,z,43,27,"div",68),d.TgZ(2,"div",64),d.TgZ(3,"div",65),d.TgZ(4,"button",69),d.NdJ("click",function(){return d.CHM(e),d.oxw().importSubmit()}),d._uU(5),d.qZA(),d.TgZ(6,"button",67),d.NdJ("click",function(){return d.CHM(e),d.oxw().cancel()}),d._uU(7),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",e.tablePreview),d.xp6(3),d.Q6J("disabled",!e.enableImportSubmit),d.xp6(1),d.Oqu(e.language.submit),d.xp6(2),d.Oqu(e.language.Cancel)}}function X(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",80),d.TgZ(1,"div",81),d.TgZ(2,"span",82),d.TgZ(3,"div",83),d.NdJ("click",function(){d.CHM(e);const t=d.oxw().$implicit;return d.oxw().edit(t)}),d._UZ(4,"i",84),d.qZA(),d.qZA(),d.TgZ(5,"span",82),d.TgZ(6,"input",85),d.NdJ("click",function(t){d.CHM(e);const i=d.oxw().$implicit;return d.oxw().getDeleteIds(t,i)}),d.qZA(),d.qZA(),d.TgZ(7,"span",82),d.TgZ(8,"div",83),d.NdJ("click",function(){d.CHM(e);const t=d.oxw().$implicit;return d.oxw().delete(t)}),d._UZ(9,"i",15),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw();d.xp6(3),d.MGl("id","edit-btn",e._id,""),d.s9C("title",t.language.Edit),d.xp6(3),d.Gre("delete_device_id_",e._id,""),d.s9C("value",e._id),d.MGl("name","delete_device_id_",e._id,""),d.MGl("id","delete_deviceip_",e._id,""),d.s9C("title",t.language.Select),d.xp6(2),d.MGl("id","delete-btn",e._id,""),d.s9C("title",t.language.Delete)}}function K(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",86),d.TgZ(1,"div",81),d.TgZ(2,"span",87),d.TgZ(3,"div",88),d.NdJ("click",function(){return d.CHM(e),d.oxw(2).updateSave()}),d._UZ(4,"i",89),d.qZA(),d.qZA(),d.TgZ(5,"span",87),d.TgZ(6,"div",90),d.NdJ("click",function(){return d.CHM(e),d.oxw(2).updateCancel()}),d._UZ(7,"i",91),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.oxw().$implicit;d.xp6(3),d.MGl("id","save-btn",e._id,""),d.xp6(3),d.MGl("id","cancel-btn",e._id,"")}}function ee(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){const e=d.oxw().$implicit;d.xp6(1),d.hij(" ",e.name," ")}}function te(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",41),d.TgZ(1,"input",92),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2).editName=t})("blur",function(){d.CHM(e);const t=d.oxw(2);return t.removeUnwantedSpace("editName",t.editName)}),d.qZA(),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw();d.xp6(1),d.s9C("value",e.name),d.Q6J("ngModel",t.editName)("ngModelOptions",d.DdM(3,Q))}}function ie(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){const e=d.oxw().$implicit;d.xp6(1),d.hij(" ",e.deviceIpV4," \xa0 ")}}function se(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",41),d.TgZ(1,"input",92),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2).editDeviceIPV4=t})("blur",function(){d.CHM(e);const t=d.oxw(2);return t.removeUnwantedSpace("editDeviceIPV4",t.editDeviceIPV4)}),d.qZA(),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw();d.xp6(1),d.s9C("value",e.deviceIpV4),d.Q6J("ngModel",t.editDeviceIPV4)("ngModelOptions",d.DdM(3,Q))}}function ae(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){const e=d.oxw().$implicit;d.xp6(1),d.hij(" ",e.deviceIpV6," \xa0 ")}}function ne(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",41),d.TgZ(1,"input",92),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2).editDeviceIPV6=t})("blur",function(){d.CHM(e);const t=d.oxw(2);return t.removeUnwantedSpace("editDeviceIPV6",t.editDeviceIPV6)}),d.qZA(),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw();d.xp6(1),d.s9C("value",e.deviceIpV6),d.Q6J("ngModel",t.editDeviceIPV6)("ngModelOptions",d.DdM(3,Q))}}function oe(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){const e=d.oxw().$implicit;d.xp6(1),d.hij(" ",e.samplingRate," ")}}function le(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",41),d.TgZ(1,"input",93),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2).editSamplingLimit=t}),d.qZA(),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw();d.xp6(1),d.s9C("value",e.samplingRate),d.Q6J("ngModel",t.editSamplingLimit)("ngModelOptions",d.DdM(3,Q))}}function re(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){const e=d.oxw().$implicit;d.xp6(1),d.hij(" ",e.ignoreUpstream?"Yes":"No"," ")}}function de(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"ng-select",94),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2).editIgnoreUpStream=t}),d.qZA(),d.qZA()}if(2&e){const e=d.oxw(2);d.xp6(1),d.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.editIgnoreUpStream)("ngModelOptions",d.DdM(6,Q))("clearable",!1)("searchable",!1)}}function ce(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){const e=d.oxw().$implicit;d.xp6(1),d.hij(" ",e.ignoreDownstream?"Yes":"No"," ")}}function he(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"ng-select",94),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2).editIgnoreDownStream=t}),d.qZA(),d.qZA()}if(2&e){const e=d.oxw(2);d.xp6(1),d.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.editIgnoreDownStream)("ngModelOptions",d.DdM(6,Q))("clearable",!1)("searchable",!1)}}function ge(e,t){if(1&e&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&e){const e=d.oxw().$implicit;d.xp6(1),d.hij(" ",e.ignoreInternal?"Yes":"No"," ")}}function pe(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"ng-select",94),d.NdJ("ngModelChange",function(t){return d.CHM(e),d.oxw(2).editIgnoreLocal=t}),d.qZA(),d.qZA()}if(2&e){const e=d.oxw(2);d.xp6(1),d.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.editIgnoreLocal)("ngModelOptions",d.DdM(6,Q))("clearable",!1)("searchable",!1)}}function ue(e,t){if(1&e&&(d.TgZ(0,"tr",73),d.TgZ(1,"td",74),d.YNc(2,X,10,11,"div",75),d.YNc(3,K,8,2,"div",76),d.qZA(),d.TgZ(4,"td",77),d.YNc(5,ee,2,1,"div",3),d.YNc(6,te,2,4,"div",78),d.qZA(),d.TgZ(7,"td",79),d.YNc(8,ie,2,1,"div",3),d.YNc(9,se,2,4,"div",78),d.qZA(),d.TgZ(10,"td",79),d.YNc(11,ae,2,1,"div",3),d.YNc(12,ne,2,4,"div",78),d.qZA(),d.TgZ(13,"td"),d.YNc(14,oe,2,1,"div",3),d.YNc(15,le,2,4,"div",78),d.qZA(),d.TgZ(16,"td"),d._uU(17),d.qZA(),d.TgZ(18,"td"),d._uU(19),d.qZA(),d.TgZ(20,"td"),d._uU(21),d.qZA(),d.TgZ(22,"td"),d.YNc(23,re,2,1,"div",3),d.YNc(24,de,2,7,"div",3),d.qZA(),d.TgZ(25,"td"),d.YNc(26,ce,2,1,"div",3),d.YNc(27,he,2,7,"div",3),d.qZA(),d.TgZ(28,"td"),d.YNc(29,ge,2,1,"div",3),d.YNc(30,pe,2,7,"div",3),d.qZA(),d.qZA()),2&e){const e=t.$implicit,i=d.oxw();d.s9C("id",e._id),d.xp6(2),d.Q6J("ngIf",i.editOnValue!=e._id),d.xp6(1),d.Q6J("ngIf",i.editOnValue==e._id),d.xp6(2),d.Q6J("ngIf",i.editOnValue!=e._id),d.xp6(1),d.Q6J("ngIf",i.editOnValue==e._id),d.xp6(2),d.Q6J("ngIf",i.editOnValue!=e._id),d.xp6(1),d.Q6J("ngIf",i.editOnValue==e._id),d.xp6(2),d.Q6J("ngIf",i.editOnValue!=e._id),d.xp6(1),d.Q6J("ngIf",i.editOnValue==e._id),d.xp6(2),d.Q6J("ngIf",i.editOnValue!=e._id),d.xp6(1),d.Q6J("ngIf",i.editOnValue==e._id),d.xp6(2),d.AsE(" ",e.hostName?e.hostName.slice(0,25):"","",e.hostName&&e.hostName.length>25?"...":""," "),d.xp6(2),d.hij(" ",e.receivingPort||0==e.receivingPort?e.receivingPort:""," "),d.xp6(2),d.hij(" ",e.flowType?e.flowType:""," "),d.xp6(2),d.Q6J("ngIf",i.editOnValue!=e._id),d.xp6(1),d.Q6J("ngIf",i.editOnValue==e._id),d.xp6(2),d.Q6J("ngIf",i.editOnValue!=e._id),d.xp6(1),d.Q6J("ngIf",i.editOnValue==e._id),d.xp6(2),d.Q6J("ngIf",i.editOnValue!=e._id),d.xp6(1),d.Q6J("ngIf",i.editOnValue==e._id)}}function ve(e,t){if(1&e&&(d.TgZ(0,"li",77),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.Oqu(e.name)}}function me(e,t){if(1&e&&(d.TgZ(0,"ul",105),d.YNc(1,ve,2,1,"li",106),d.qZA()),2&e){const e=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",e.invalidImportDevice)}}function fe(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",95),d.TgZ(1,"h4",96),d._uU(2),d.qZA(),d.TgZ(3,"button",97),d.NdJ("click",function(){return d.CHM(e),d.oxw().closeModal()}),d._UZ(4,"span",98),d.qZA(),d.qZA(),d.TgZ(5,"div",99),d.TgZ(6,"p",100),d._uU(7),d.qZA(),d.TgZ(8,"div",101),d.TgZ(9,"p",100),d._uU(10),d.qZA(),d.YNc(11,me,2,1,"ul",102),d.qZA(),d.qZA(),d.TgZ(12,"div",103),d.TgZ(13,"button",104),d.NdJ("click",function(){return d.CHM(e),d.oxw().closeModal()}),d._uU(14),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(2),d.Oqu(e.infoTitle),d.xp6(5),d.hij("",e.invalidImportDevice.length?e.language.Note+" - "+e.language["No device imported"]:""," "),d.xp6(3),d.Oqu(e.infoBody),d.xp6(1),d.Q6J("ngIf",e.invalidImportDevice.length),d.xp6(3),d.Oqu(e.language.Okay)}}function Ie(e,t){if(1&e){const e=d.EpF();d.ynx(0),d.TgZ(1,"div",95),d.TgZ(2,"h4",96),d._uU(3),d.qZA(),d.TgZ(4,"button",97),d.NdJ("click",function(){return d.CHM(e),d.oxw().cancelDelete()}),d._UZ(5,"span",98),d.qZA(),d.qZA(),d.TgZ(6,"div",99),d.TgZ(7,"table",101),d.TgZ(8,"tr"),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._uU(12),d.qZA(),d.TgZ(13,"td"),d._uU(14),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(15,"div",103),d.TgZ(16,"button",104),d.NdJ("click",function(){return d.CHM(e),d.oxw().confirmDelete()}),d._uU(17),d.qZA(),d.TgZ(18,"button",107),d.NdJ("click",function(){return d.CHM(e),d.oxw().cancelDelete()}),d._uU(19),d.qZA(),d.qZA(),d.BQk()}if(2&e){const e=d.oxw();d.xp6(3),d.Oqu(e.infoTitle),d.xp6(7),d.Oqu(e.deleteData.name?e.deleteData.name:""),d.xp6(2),d.hij("",e.deleteData.deviceIpV4?e.deleteData.deviceIpV4:e.deleteData.deviceIpV6?e.deleteData.deviceIpV6:""," "),d.xp6(2),d.Oqu(e.deleteData.hostName?e.deleteData.hostName:""),d.xp6(3),d.Oqu(e.language.Okay),d.xp6(2),d.Oqu(e.language.Cancel)}}function be(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"td",108),d._uU(2),d.qZA(),d.TgZ(3,"td",108),d._uU(4),d.qZA(),d.TgZ(5,"td",108),d._uU(6),d.qZA(),d.qZA()),2&e){const e=t.$implicit,i=t.index,s=d.oxw(2);d.xp6(2),d.Oqu(s.deleteDevices[i].name?s.deleteDevices[i].name:""),d.xp6(2),d.Oqu(e||""),d.xp6(2),d.Oqu(s.deleteDevices[i].hostName?s.deleteDevices[i].hostName:"")}}function Ze(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",95),d.TgZ(1,"h4",96),d._uU(2),d.qZA(),d.TgZ(3,"button",97),d.NdJ("click",function(){return d.CHM(e),d.oxw().closeModal()}),d._UZ(4,"span",98),d.qZA(),d.qZA(),d.TgZ(5,"div",99),d.TgZ(6,"table",101),d.YNc(7,be,7,3,"tr",72),d.qZA(),d.qZA(),d.TgZ(8,"div",103),d.TgZ(9,"button",104),d.NdJ("click",function(){return d.CHM(e),d.oxw().confirmDeleteSecleted()}),d._uU(10),d.qZA(),d.TgZ(11,"button",107),d.NdJ("click",function(){return d.CHM(e),d.oxw().closeModal()}),d._uU(12),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(2),d.Oqu(e.infoTitle),d.xp6(5),d.Q6J("ngForOf",e.deviceIps),d.xp6(3),d.Oqu(e.language.Okay),d.xp6(2),d.Oqu(e.language.Cancel)}}function Te(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",95),d.TgZ(1,"h4",96),d._uU(2),d.qZA(),d.TgZ(3,"button",97),d.NdJ("click",function(){return d.CHM(e),d.oxw().closeModal()}),d._UZ(4,"span",98),d.qZA(),d.qZA(),d.TgZ(5,"div",99),d._UZ(6,"table",109),d.qZA(),d.TgZ(7,"div",103),d.TgZ(8,"button",104),d.NdJ("click",function(){return d.CHM(e),d.oxw().proceedImport()}),d._uU(9),d.qZA(),d.TgZ(10,"button",107),d.NdJ("click",function(){return d.CHM(e),d.oxw().closeModal()}),d._uU(11),d.qZA(),d.qZA()}if(2&e){const e=d.oxw();d.xp6(2),d.Oqu(e.infoTitle),d.xp6(4),d.Q6J("innerHtml",e.infoBody,d.oJD),d.xp6(3),d.Oqu(e.language.Okay),d.xp6(2),d.Oqu(e.language.Cancel)}}const De=i(91704),xe=[{path:"",component:_,children:[{path:"devices-status",component:L,data:{title:"Calix Cloud - Flow Configuration"}},{path:"devices-configuration",component:(()=>{class e{constructor(e,t,i,s,a,n,o,r,d,c,h){this.commonFunctionsService=e,this.api=t,this.exportExcel=i,this.dataTablecreatorService=s,this.translateService=a,this.router=n,this.sso=o,this.dialogService=r,this.commonOrgService=d,this.titleService=c,this.common=h,this.infoTitle="",this.infoBody="",this.formVisible=!1,this.buttonVisible=!0,this.dataAvailable=!1,this.showingDeviceIpv6=null,this.selectOptions=[{name:"No",value:!1},{name:"Yes",value:!0}],this.flowType=[{name:"netflow"},{name:"cflow"},{name:"sflow"}],this.importTableOptions={pagingType:"full_numbers",pageLength:10,order:[0,"asc"],scrollX:!0,dom:"tipr"},this.statusTableOptions={pagingType:"full_numbers",pageLength:10},this.tablePreview=!1,this.currentTableRowCount=0,this.tableOptions={pagingType:"full_numbers",pageLength:10,rowId:"_id",scrollX:!0,stateSave:!1,order:[1,"asc"],columnDefs:[{targets:[0],orderable:!1}],drawCallback:e=>{this.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(()=>{this.resetDelete()},0),this.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength&&De(e.nTableWrapper).find(`#${e.sTableId}_last`).addClass("disabled")}},this.deviceData=[],this.deviceIPError=!1,this.deviceIP6Error=!1,this.ignoreUpStream=!1,this.ignoreDownStream=!1,this.ignoreLocal=!1,this.samplingLimitError=!1,this.geoCoordinateError=!1,this.addressError=!1,this.validation=!1,this.empty={"Device IPv4":"","Device IPv6":"",Sampling:"","Receiving Port":"","Ignore Upstream":"","Ignore Downstream":"","Host Name":"","Ignore Local":"",Name:"","Rate Limit":"","Flow Type":""},this.loading=!0,this.dtOptions={},this.dtTrigger=new l.xQ,this.isRerender=!1,this.editIgnoreUpStream=!1,this.editIgnoreDownStream=!1,this.editIgnoreLocal=!1,this.storageData={},this.errorInfo="",this.successInfo="",this.importUpdateASCreate=[],this.sortData={column:1,type:"asc"},this.columnName={deviceIpV4:"Device IPv4",deviceIpV6:"Device IPv6",samplingRate:"Sampling",receivingPort:"Receiving Port",ignoreUpstream:"Ignore Upstream",ignoreDownstream:"Ignore Downstream",hostName:"Host Name",ignoreInternal:"Ignore Local",name:"Name",rateLimit:"Rate Limit"},this.invalidImportDevice=[],this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.language=this.translateService.defualtLanguage,this.exportColoumnNames={deviceIpV4:this.language.deviceipv4,deviceIpV6:this.language.deviceipv6,samplingRate:this.language.sampling,receivingPort:this.language.receivingport,ignoreUpstream:this.language.ignoreUpstream,ignoreDownstream:this.language.ignoreDownstream,hostName:this.language.Host_Name,ignoreInternal:"Ignore Local",name:this.language.Name,rateLimit:this.language.rateLimit},this.translateSubscribe=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.reloadCurrentRoute(),this.exportColoumnNames={deviceIpV4:this.language.deviceipv4,deviceIpV6:this.language.deviceipv6,samplingRate:this.language.sampling,receivingPort:this.language.receivingport,ignoreUpstream:this.language.ignoreUpstream,ignoreDownstream:this.language.ignoreDownstream,hostName:this.language.Host_Name,ignoreInternal:"Ignore Local",name:this.language.Name,rateLimit:this.language.rateLimit},this.dataAvailable=!1,this.isRerender=!0,this.titleService.setTitle(`${this.language.Configuration} - ${this.language.devices} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`),this.tableCreator("language")}),this.commonOrgService.closeAlert();let g=this.router.url;this.frTable=this.translateService.fr,this.ORG_ID=this.sso.getOrganizationID(g),this.MODULE=this.sso.getRedirectModule(g),this.titleService.setTitle(`${this.language.Configuration} - ${this.language.devices} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}ngOnInit(){this.apiLoader(),this.tableLanguageOptions();const e=JSON.parse(localStorage.getItem("calix.login_data"));this.storageData.clientIp=null==e?void 0:e.clientIp,this.storageData.UserId=null==e?void 0:e.UserId,this.subscription=this.dataTablecreatorService.tableOptionsData.subscribe(e=>{this.invalidImportDevice=[];try{let t=!0;(e||[]).forEach(e=>(this.commonFunctionsService.keysFromColumnName(e,this.exportColoumnNames),e.name.length&&e.name.length>64?(this.invalidImportDevice.push(e),this.infoTitle=this.language["Invalid Value"],this.infoBody=`${this.language["Invalid Device Name"]} - Name should not exceed 64 characters.`,t=!1,void this.openInfoModal(!0)):e.samplingRate&&(this.samplingRateValidator(Number(e.samplingRate)),this.samplingLimitError)?(this.infoTitle=this.language["Invalid value"],this.infoBody=this.language["The sampling rate should be an integer value greater than 0 and less than 65536."],t=!1,void this.openInfoModal(!1)):void 0)),t&&(this.recreateTable=e,this.importSubmit(!0))}catch(t){}}),this.closeAlert(),this.removeState()}ngAfterViewInit(){this.loaded=!0}ngOnDestroy(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSubscribe&&this.translateSubscribe.unsubscribe(),this.subscription&&this.subscription.unsubscribe(),this.deviceListSubs&&this.deviceListSubs.unsubscribe(),this.deviceAddSubs&&this.deviceAddSubs.unsubscribe(),this.deviceUpdateSubs&&this.deviceUpdateSubs.unsubscribe(),this.deviceDeleteSubs&&this.deviceDeleteSubs.unsubscribe(),this.deviceExportSubs&&this.deviceExportSubs.unsubscribe(),this.deviceImportSubs&&this.deviceImportSubs.unsubscribe()}apiLoader(){this.deviceListSubs=this.api.DeviceList(this.ORG_ID).subscribe(e=>{this.deviceData=[...e],this.deviceData&&(this.deviceData=this.dataConvertor(this.deviceData),this.deviceData=[...this.deviceData],this.tableCreator(),this.isRerender?(this.rerender(),this.isRerender=!1):(this.dtTrigger.next(),this.loading=!1),setTimeout(()=>{this.resetDelete()},100))},e=>{this.pageErrorHandle(e),this.deviceData=[],this.tableCreator(),this.isRerender?(this.rerender(),this.isRerender=!1):(this.dtTrigger.next(),this.loading=!1)})}dataConvertor(e){return(0,n.isArray)(e)&&e.forEach(e=>{e.deviceIp=null==e.deviceIpV4||""==e.deviceIpV4?null==e.deviceIpV6||""==e.deviceIpV6?"":e.deviceIpV6:e.deviceIpV4,e.address=e.address?e.address:"",e.flowType=e.flowType?e.flowType:"",e.observationName=""}),e}tableCreator(e){let t=this;this.tableOptions={pagingType:"full_numbers",pageLength:10,rowId:"_id",scrollX:!0,stateSave:!1,order:[t.sortData.column,t.sortData.type],columnDefs:[{targets:[0],orderable:!1}],drawCallback:e=>{t.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(()=>{this.resetDelete()},0),this.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength?De(e.nTableWrapper).find("#device-table_last").addClass("disabled"):De(e.nTableWrapper).find("#device-table_last").removeClass("disabled")}},this.tableLanguageOptions(),e&&"language"==e?setTimeout(()=>{this.dataAvailable=!0,this.rerender()},200):setTimeout(()=>{this.dataAvailable=!0,this.loading=!1},500)}tableLanguageOptions(){"fr"==this.language.fileLanguage?(this.tableOptions.language=this.frTable,this.importTableOptions.language=this.frTable):"es"==this.language.fileLanguage?(this.tableOptions.language=this.translateService.es,this.importTableOptions.language=this.translateService.es):"de_DE"==this.language.fileLanguage?(this.tableOptions.language=this.translateService.de_DE,this.importTableOptions.language=this.translateService.de_DE):("en"==this.language.fileLanguage&&this.tableOptions.language||"en"==this.language.fileLanguage&&this.importTableOptions.language)&&(delete this.tableOptions.language,delete this.importTableOptions.language)}rerender(){this.dtElement.dtInstance.then(e=>{e.destroy(),this.tableOptions.order=[this.sortData.column,this.sortData.type],setTimeout(()=>{this.dtTrigger.next()},10)})}search(e){this.dtElement.dtInstance.then(t=>{t.search(e).draw()})}create(){this.buttonVisible=!1,this.formVisible=!0}submit(){if(this.validation=!1,this.deviceIPError=!1,this.deviceIP6Error=!1,this.ipv4=void 0,this.ipv6=void 0,this.name=this.name?this.name.trim():"",this.name.length&&this.name.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody=`${this.language["Invalid Device Name"]} - Name should not exceed 64 characters.`,void this.openInfoModal(!1);if(this.deviceIPV4&&this.deviceIpValidatorIpv4(this.deviceIPV4),this.deviceIPV6&&this.deviceIpValidatorIpv6(this.deviceIPV6),this.deviceIPError||this.deviceIP6Error||!this.deviceIPV4&&!this.deviceIPV6)return this.infoTitle=this.language["Invalid request"],this.infoBody=this.language["Invalid IP address"],void this.openInfoModal(!1);if(this.samplingRateValidator(this.samplingLimit),this.samplingLimitError)return this.infoTitle=this.language["Invalid value"],this.infoBody=this.language["The sampling rate should be an integer value greater than 0 and less than 65536."],void this.openInfoModal(!1);let e={deviceIpV4:this.ipv4?this.ipv4:"",deviceIpV6:this.ipv6?this.ipv6:"",ignoreDownstream:this.ignoreDownStream,ignoreInternal:this.ignoreLocal,ignoreUpstream:this.ignoreUpStream,orgId:this.ORG_ID?this.ORG_ID:50,samplingRate:+this.samplingLimit,name:this.name?this.name.trim():"",rateLimit:0,receivingPort:2058,tenantId:0,address:this.address?this.address.trim():""};this.loading=!0,this.deviceAddSubs=this.api.DeviceAdd(e,this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.cancel(),this.apiLoader()},e=>{this.pageErrorHandle(e)})}cancel(){this.formVisible=!1,this.buttonVisible=!0,this.tablePreview=!1,this.reset()}edit(e){var t;this.editData=e,this.editOnValue=e._id,this.editName=e.name?e.name:"",this.editHostName=e.hostName?e.hostName:"",this.editDeviceIPV4=e.deviceIpV4,this.editDeviceIPV6=e.deviceIpV6,this.editIgnoreUpStream=!!e.ignoreUpstream,this.editIgnoreDownStream=!!e.ignoreDownstream,this.editIgnoreLocal=!!e.ignoreInternal,this.editSamplingLimit=e.samplingRate,this.editGeoCoordinate=e.tenantId;let i=null!==(t=e.deviceIpV4)&&void 0!==t?t:e.deviceIpV6;if(-1!==this.deleteIds.indexOf(e._id)){this.deleteIds.splice(this.deleteIds.indexOf(e._id),1),this.deviceIps.splice(this.deviceIps.indexOf(i),1),this.deleteDevices=this.deleteDevices.filter(t=>t._id!==e._id);let t=De('input[name^="delete_device_id"]').length;this.deleteIds.length?this.deleteIds.length!=t?(De("#selectDeselectAll").prop("checked",!1),De("#selectDeselectAll-span").show()):De("#selectDeselectAll-span").hide():(De("#selectDeselectAll").prop("checked",!1),De("#selectDeselectAll-span").hide())}}updateSave(){if(this.deviceIPError=!1,this.deviceIP6Error=!1,this.ipv4="",this.ipv6="",this.editDeviceIPV6=this.editDeviceIPV6?this.editDeviceIPV6.trim():"",this.editDeviceIPV4=this.editDeviceIPV4?this.editDeviceIPV4.trim():"",this.editName=this.editName?this.editName.trim():"",this.editName.length&&this.editName.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody=`${this.language["Invalid Device Name"]} - Name should not exceed 64 characters.`,void this.openInfoModal(!1);if(this.editDeviceIPV6&&this.deviceIpValidatorIpv6(this.editDeviceIPV6),this.editDeviceIPV4&&this.deviceIpValidatorIpv4(this.editDeviceIPV4),this.deviceIPError||this.deviceIP6Error||!this.editDeviceIPV4&&!this.editDeviceIPV6)return this.infoTitle=this.language["Invalid request"],this.infoBody=this.language["Invalid IP address"],this.closeModal(),void(this.modalRef=this.dialogService.open(this.infoModal));if(this.samplingRateValidator(this.editSamplingLimit),this.samplingLimitError)return this.infoTitle=this.language["Invalid value"],this.infoBody=this.language["The sampling rate should be an integer value greater than 0 and less than 65536."],void this.openInfoModal(!1);let e={_id:this.editData._id,deviceIpV4:this.ipv4?this.ipv4:"",deviceIpV6:this.ipv6?this.ipv6:"",ignoreDownstream:this.editIgnoreDownStream,ignoreInternal:this.editIgnoreLocal,ignoreUpstream:this.editIgnoreUpStream,orgId:this.ORG_ID?this.ORG_ID:50,samplingRate:+this.editSamplingLimit,name:this.editName?this.editName.trim():"",rateLimit:0,receivingPort:this.editData.receivingPort?this.editData.receivingPort:0,tenantId:0,flowType:this.editData.flowType?this.editData.flowType:""};this.loading=!0,this.deviceUpdateSubs=this.api.DeviceUpdate(this.editData._id,e,this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.apiLoader(),this.cancel(),this.editOnValue=void 0},e=>{this.pageErrorHandle(e)})}updateCancel(){this.editOnValue=void 0}hideShow(e){this.showingDeviceIp=this.showingDeviceIp==e?void 0:e}hideShowV6(e){this.showingDeviceIpv6=this.showingDeviceIpv6==e?void 0:e}delete(e){let t="";t=e.deviceIpV4?e.deviceIpV4:e.deviceIpV6,this.deleteData=e,e.name=e.name?this.strSub(e.name):"",e.hostName=e.hostName?this.strSub(e.hostName):"",this.infoTitle=this.language["Delete device?"],this.closeModal(),this.modalRef=this.dialogService.open(this.deleteModal,{backdrop:"static",keyboard:!1})}confirmDelete(){let e=this.deleteData._id;this.loading=!0,this.closeModal(),this.deviceDeleteSubs=this.api.DeviceDelete(e,this.ORG_ID).subscribe(e=>{this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.isRerender=!0,this.apiLoader()},e=>{this.pageErrorHandle(e)})}cancelDelete(){this.deleteData=void 0,this.closeModal()}getDeleteIds(e,t){let i="";i=t.deviceIpV4?t.deviceIpV4:t.deviceIpV6;let s=this.deleteDevices;if(e.target.checked){if(-1===this.deleteIds.indexOf(t._id)){this.deleteIds.push(t._id),this.deviceIps.push(i),this.deleteDevices.push(t);let e=De('input[name^="delete_device_id"]').length;this.deleteIds.length==e?(De("#selectDeselectAll").prop("checked",!0),De("#selectDeselectAll-span").hide()):De("#selectDeselectAll-span").show()}}else{this.deleteIds.splice(this.deleteIds.indexOf(t._id),1),this.deviceIps.splice(this.deviceIps.indexOf(i),1),s=s.filter(function(e){return e._id!==t._id}),this.deleteDevices=s;let e=De('input[name^="delete_device_id"]').length;this.deleteIds.length?this.deleteIds.length!=e?(De("#selectDeselectAll").prop("checked",!1),De("#selectDeselectAll-span").show()):De("#selectDeselectAll-span").hide():(De("#selectDeselectAll").prop("checked",!1),De("#selectDeselectAll-span").hide())}}selectDeselectAll(e){let t=0,i=De('input[name^="delete_device_id"]').length;var s=this;s.deleteIds=[],s.deviceIps=[],s.deleteDevices=[],e?De('input[name^="delete_device_id"]').each(function(){if(t>=i)return!1;De(this).prop("checked",!0);let e=De(this).attr("class").split(" ")[0].substring("delete_device_id_".length),a=s.deviceData.filter(t=>t._id===e),n="";n=a[0].deviceIpV4?a[0].deviceIpV4:a[0].deviceIpV6,s.deleteIds.push(e),s.deviceIps.push(n),s.deleteDevices.push(a[0]),t++}):De('input[name^="delete_device_id"]').each(function(){if(t>=i)return!1;De(this).prop("checked",!1),s.deleteIds=[],s.deviceIps=[],s.deleteDevices=[],t++})}deleteAllSelected(){if(this.deviceIps){this.infoTitle=this.language[1===this.deviceIps.length?"Delete selected device?":"Delete selected devices?"];let e="";for(let t=0;t<this.deviceIps.length;t++)this.deleteDevices[t].name=this.deleteDevices[t].name?this.strSub(this.deleteDevices[t].name):"",this.deleteDevices[t].hostName=this.deleteDevices[t].hostName?this.strSub(this.deleteDevices[t].hostName):"",e+=`<tr><td>${this.deleteDevices[t].name&&this.deleteDevices[t].name.length>20?this.deleteDevices[t].name.slice(0,20)+"...":this.deleteDevices[t].name}</td><td>${this.deviceIps[t]}</td><td>${this.deleteDevices[t].hostName&&this.deleteDevices[t].hostName.length>20?this.deleteDevices[t].hostName.slice(0,20)+"...":this.deleteDevices[t].hostName}</td></tr><br>`;this.infoBody=e,this.closeModal(),this.modalRef=this.dialogService.open(this.multiDeleteModal,{backdrop:"static",keyboard:!1})}}confirmDeleteSecleted(){this.closeModal();const e=[];this.deleteIds.forEach(t=>{e.push(this.api.DeviceDelete(t,this.ORG_ID))}),(0,r.D)(e).subscribe(e=>{this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.isRerender=!0,this.cancel(),this.apiLoader()},e=>{this.pageErrorHandle(e)})}showAllInnerCheckBox(e){De("#"+e.target.id).hide(),De("#selectDeselectAll").prop("checked",!0),this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.selectDeselectAll(!0)}resetDelete(){this.selectDeselectAll(!1),De("#selectDeselectAll").prop("checked",!1),De("#selectDeselectAll-span").hide(),this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[]}exportDataConvertor(e){return Array.isArray(e)&&e.forEach(e=>{for(const t in e)"boolean"==typeof e[t]&&(e[t]=1==e[t]?"Yes":"No");delete(e=this.commonFunctionsService.columnNameFromKeys(e,this.exportColoumnNames)).flowType,delete e.observationId,delete e.orgId,delete e.tenantId,delete e._id}),e}export(){this.deviceExportSubs=this.api.Export("devices",this.ORG_ID).subscribe(e=>{let t=this.commonFunctionsService.generateExportName("device_file_export",!0),i=this.exportDataConvertor(e);this.exportExcel.downLoadCSV(t,i.length?i:[this.empty])},e=>{this.pageErrorHandle(e)})}fullImportUpload(){this.infoTitle=this.language.fullImport,this.infoBody=this.language.fullImportPrompt,this.closeModal(),this.modalRef=this.dialogService.open(this.importModal)}proceedImport(){this.closeModal(),De("#fullImportUpload").click()}fullImport(e,t){sessionStorage.setItem("importType",e),this.dataTablecreatorService.generateJsonFromCsv(t,this.deviceData)}tableDataRecreate(e){let t,i=[],s=[],a=[],n=Object.assign([],this.deviceData);n.forEach(e=>{e.deviceIpV4&&e.deviceIpV4.trim()?i.push(e.deviceIpV4):(e.deviceIpV4="",i.push("@@@$@@@")),e.deviceIpV6&&e.deviceIpV6.trim()?i.push(e.deviceIpV6):(e.deviceIpV6="",i.push("@@@$@@@"))});const o=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,l=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;e.forEach((e,t)=>{let r=i.indexOf(e.deviceIpV4)>-1?i.indexOf(e.deviceIpV4):i.indexOf(e.deviceIpV6)>-1?i.indexOf(e.deviceIpV6):-1;(""!=e.deviceIpV4.trim()||""!=e.deviceIpV6.trim())&&r+1?(r=r%2!=0?(r-1)/2:r/2,""!=e.receivingPort&&e.receivingPort>0&&e.receivingPort!=n[r].receivingPort&&2058!=e.receivingPort&&(e.action="Invalid receiving port, it should be 2058"),e.flowType&&e.flowType.trim()&&!["netflow","cflow","sflow"].includes(e.flowType)&&(e.action="Invalid flow type, it should be [netflow, cflow, sflow]"),(s.includes(e.deviceIpV4)||s.includes(e.deviceIpV6))&&(e.action="Device Ip already exist in File .This will be ignored."),(""!=e.deviceIpV4.trim()&&!o.test(e.deviceIpV4)||""!=e.deviceIpV6.trim()&&!l.test(e.deviceIpV6))&&(e.action="Invalid Device IP"),e.hasOwnProperty("action")||Object.keys(e).forEach(t=>{!0===n[r][t]?n[r][t]="Yes":!1===n[r][t]&&(n[r][t]="No"),e[t]!=n[r][t]&&(e.action="Update",e._id=n[r]._id)}),e.hasOwnProperty("action")||a.push(t),this.previewTableHeader.forEach(t=>{e[`old_${t}`]=n[r][t]}),n[r].deviceIpV4.trim()&&s.push(n[r].deviceIpV4),n[r].deviceIpV6.trim()&&s.push(n[r].deviceIpV6),i.splice(2*r,2),n.splice(r,1)):(e.flowType&&e.flowType.trim()&&!["netflow","cflow","sflow"].includes(e.flowType)&&(e.action="Invalid flow type, it should be [netflow, cflow, sflow]"),(""!=e.deviceIpV4.trim()&&!o.test(e.deviceIpV4)||""!=e.deviceIpV6.trim()&&!l.test(e.deviceIpV6))&&(e.action="Invalid Device IP"),e.hasOwnProperty("action")||(e.action="Create"),e.deviceIpV4.trim()&&s.push(e.deviceIpV4),e.deviceIpV6.trim()&&s.push(e.deviceIpV6),this.previewTableHeader.forEach(t=>{e[`old_${t}`]=""}));for(const[i,s]of Object.entries(e))!0===s?e[i]="Yes":!1===s&&(e[i]="No")}),t=Object.assign([],e);let r=Object.assign([],e);return a=a.sort(function(e,t){return t-e}),a.forEach(e=>{r.splice(e,1)}),n.length&&"IncImport"!=sessionStorage.getItem("importType")&&n.forEach(e=>{e.action="Delete";for(const[t,i]of Object.entries(e))!0===i?e[t]="Yes":!1===i&&(e[t]="No");r.push(e)}),this.recreateTable=t,r}appendOldPrefix(e){return`old_${e}`}previewHeader(){this.previewHeaderValue=[]}importSubmit(e=!1){let t,i=sessionStorage.getItem("importType"),s={clientIP:this.storageData.clientIp,dry_run:e,full_import:"FullImport"==i,import_data:[],orgId:this.ORG_ID,userId:this.storageData.UserId},a=[],n=[];if(e?(t="Create",this.recreateTable.forEach(e=>{((null==e?void 0:e.deviceIpV4)||(null==e?void 0:e.deviceIpV6))&&a.push(this.importTemplate(e,"Create"))})):this.recreateTable.forEach(e=>{a.push(this.importTemplate(e))}),e){const e=a.length;this.deviceData.forEach(t=>{let o=!1;for(let s=0;s<e;s++)(t.deviceIpV4&&t.deviceIpV4==a[s].deviceIpV4||t.deviceIpV6&&t.deviceIpV6==a[s].deviceIpV6)&&(o=!0,"FullImport"==i?(a[s].action="Create",this.importUpdateASCreate.push(t)):a[s].action="Update");if(!o&&s.full_import){const e=Object.assign({},t);n.push(this.importTemplate(e,"Delete"))}})}else if(a=a.filter(e=>{if(["Create","Update"].includes(e.action))return e}),0==a.length)return void this.cancel();if(!a.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",void this.openInfoModal(!1);s.import_data=a,this.deviceImportSubs=this.api.Import("devices",s,this.ORG_ID).subscribe(t=>{e?(this.enableImportSubmit=!1,t=t.map(e=>(e.action="ok"==e.validationResult.toLowerCase()?e.action:e.validationResult,"ok"==e.validationResult.toLowerCase()&&(this.enableImportSubmit=!0),e)),this.recreateTable=t,this.previewOrder([...t,...n]),this.buttonVisible=!1,this.tablePreview=!0):(sessionStorage.removeItem("importType"),this.cancel(),this.isRerender=!0,this.apiLoader())},t=>{400==t.status?(e?(this.infoTitle=this.language.objectNotFound,this.infoBody="",this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)):(sessionStorage.removeItem("importType"),this.pageErrorHandle(t)),this.loading=!1):this.pageErrorHandle(t)})}importTemplate(e,t){return{action:t||e.action,deviceIpV4:e.deviceIpV4,deviceIpV6:e.deviceIpV6,orgId:this.ORG_ID,tenantId:0,ignoreDownstream:"Yes"===e.ignoreDownstream||!0===e.ignoreDownstream,ignoreInternal:"Yes"===e.ignoreInternal||!0===e.ignoreInternal,ignoreUpstream:"Yes"===e.ignoreUpstream||!0===e.ignoreUpstream,name:e.name,rateLimit:e.rateLimit,receivingPort:e.receivingPort,samplingRate:e.samplingRate}}previewOrder(e){if(!e||0==e.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",this.closeModal(),void(this.modalRef=this.dialogService.open(this.infoModal));let t=[];const i=["ignoreDownstream","ignoreInternal","ignoreUpstream"],s=["validationResult"],a=["action","deviceIpV4","deviceIpV6"];e.forEach(e=>{let n={};Object.keys(e).forEach(t=>{s.includes(t)||(n[t]=i.includes(t)&&("true"===e[t]||!0===e[t]||e[t]&&"Y"==e[t].toString().toUpperCase)?"Yes":i.includes(t)&&("false"===e[t]||!1===e[t]||e[t]&&"N"==e[t].toString().toUpperCase)?"No":e[t],a.includes(t)||(n["Old "+t]=""))}),this.deviceData.forEach(t=>{if(e.deviceIpV4==t.deviceIpV4&&e.deviceIpV6==t.deviceIpV6){for(const[e,s]of Object.entries(n))if(e.includes("Old")){const s=e.replace("Old ","");n[e]=i.includes(s)&&(t[s]||"Y"==t[s].toString().toUpperCase)?"Yes":!i.includes(s)||t[s]&&"N"!=t[s].toString().toUpperCase?t[s]:"No"}return"Create"==n.action&&(n.action="Update"),!1}}),t.push(n)}),this.previewTableBody=t}cancelImport(){}reset(){this.name=void 0,this.hostName=void 0,this.deviceIPV4=void 0,this.deviceIPV6=void 0,this.ignoreDownStream=!1,this.ignoreUpStream=!1,this.ignoreLocal=!1,this.geoCoordinate=void 0,this.address=void 0,this.samplingLimit=void 0}resetEdit(){this.editName="",this.editHostName="",this.editDeviceIPV4="",this.editDeviceIPV6="",this.editIgnoreUpStream=!1,this.editIgnoreDownStream=!1,this.editIgnoreLocal=!1,this.editSamplingLimit=void 0,this.editGeoCoordinate=void 0}samplingRateValidator(e){this.samplingLimitError=!1,this.samplingLimitError=!Number.isInteger(e)||!(e>0&&e<=65535)}deviceIpValidatorIpv4(e){e&&""!=e.trim()?(e=e.trim(),this.commonFunctionsService.isValidIpV4Addr(e)?(this.ipv4=e,this.deviceIPError=!1):this.deviceIPError=!0):this.deviceIPError=!0}deviceIpValidatorIpv6(e){e&&""!=e.trim()?(e=e.trim(),this.commonFunctionsService.isValidIpV6Addr(e)?(this.ipv6=e,this.deviceIP6Error=!1):this.deviceIP6Error=!0):this.deviceIPError=!0}sortingTable(e,t){setTimeout(()=>{this.sortColumn=e,this.sortType=De(t.target).hasClass("sorting_asc")?"asc":"desc"},500)}closeAlert(){this.error=!1,this.success=!1}closeModal(){this.modalRef&&this.modalRef.close()}strSub(e,t){return e.length<=20?e:`${e.substr(0,t||20)}...`}pageErrorHandle(e){var t,i,s,a,n,o,l,r,d;if(400==e.status){let c=(null==e?void 0:e.error)?this.commonOrgService.pageInvalidRqstErrorHandle(e):"";this.infoBody="object_already_exists"==c?`${this.language["Conflict found with existing devices"]} ${(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.info)?null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.info:""}`:"Bad Request"===c&&((null===(a=null===(s=null==e?void 0:e.error)||void 0===s?void 0:s.message)||void 0===a?void 0:a.split(":").length)&&"object_already_exists"===(null===(o=null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.message)||void 0===o?void 0:o.split(":")[0])||"invalid_request"===(null===(r=null===(l=null==e?void 0:e.error)||void 0===l?void 0:l.message)||void 0===r?void 0:r.split(":")[0]))?null===(d=null==e?void 0:e.error)||void 0===d?void 0:d.message.split(":")[1]:c,this.infoTitle=this.language["Invalid request"],this.loading=!1,this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)}else this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(this.errorInfo),this.commonOrgService.pageScrollTop(),this.loading=!1}openInfoModal(e){e||(this.invalidImportDevice=[]),this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1})}removeState(){localStorage.getItem(`DataTables_device-table_/${this.MODULE}/flowAnalyze/network/devices`)&&localStorage.removeItem(`DataTables_device-table_/${this.MODULE}/flowAnalyze/network/devices`)}inputValidator(e){var t=null==e?void 0:e.keyCode;return t>64&&t<91||t>96&&t<123||8==t||32==t||t>=48&&t<=57}removeUnwantedSpace(e,t){this[e]=this.common.trimSpaceFromNonObjectInputs(t)}reloadCurrentRoute(){let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(c.i),d.Y36(h.v),d.Y36(g.O),d.Y36(p.L),d.Y36(u.s),d.Y36(a.F0),d.Y36(v.t6),d.Y36(m.FF),d.Y36(f.v),d.Y36(I.Dx),d.Y36(b.i))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-devices-configuration"]],viewQuery:function(e,t){if(1&e&&(d.Gf(F,7),d.Gf(J,7),d.Gf(H,5),d.Gf($,7),d.Gf(o.G,5)),2&e){let e;d.iGM(e=d.CRH())&&(t.infoModal=e.first),d.iGM(e=d.CRH())&&(t.deleteModal=e.first),d.iGM(e=d.CRH())&&(t.multiDeleteModal=e.first),d.iGM(e=d.CRH())&&(t.importModal=e.first),d.iGM(e=d.CRH())&&(t.dtElement=e.first)}},decls:51,vars:24,consts:[[1,"container","px-0","position-relative"],["class","loader",4,"ngIf"],["class","row py-4",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-md-12","ccl-admin-table",3,"hidden"],["id","device-table","width","100%","datatable","",1,"row-border","hover","table-alter",3,"dtTrigger","dtOptions"],[1,"w-nowrap-150"],[1,"d-flex","justify-content-end"],[1,"d-flex","align-items-center"],[1,"addOrg",3,"hidden"],["type","checkbox","value","","id","selectDeselectAll",1,"",3,"disabled","change"],["id","selectDeselectAll-span",1,"checkbox-ui",2,"display","none",3,"click"],[1,"text-center","justify-content-center",3,"hidden"],["id","delete-selected-btn",1,"btn-default","primary","px-2","mx-2",3,"disabled","title","click"],[1,"far","fa-trash-alt"],[1,"min-w-250"],[1,"min-w-170"],[1,"min-w-130"],[3,"id",4,"ngFor","ngForOf"],["infoModal",""],["deleteModal",""],["multiDeleteModal",""],["importModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"row","py-4"],[1,"col-md-9"],[1,"d-flex"],["id","create-btn",1,"btn-default","primary","mr-2","px-2",3,"click"],["id","export-btn",1,"btn-default","primary","mx-2","px-2",3,"click"],[1,"upload-btn-wrapper"],[1,"btn-default","primary","mx-2","px-2",3,"click"],["type","file","accept",".csv","id","fullImportUpload",2,"display","none",3,"click","change"],["fullImportValue",""],["for","inc-import",1,"btn-default","primary","mx-2","px-2","cursor-pointer"],["type","file","id","inc-import","accept",".csv",2,"display","none",3,"click","change"],["incrementalImportValue",""],[1,"col-sm-3","align-self-end","d-none"],[1,"ccl-form"],["type","search","name","searchbox","placeholder","",1,"input-sm"],[1,"serach-but","btn-default","primary","btn-icon-md","inline"],["aria-hidden","true",1,"fa","fa-search"],[1,"col-md-8","offset-md-2"],[1,"ccl-form","row","my-2"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","name","type","text","trimSpace","",1,"",3,"ngModel","ngModelOptions","ngModelChange","blur"],["for","deviceIPV4",1,"col-sm-4","col-form-label"],[1,"fas","fa-info-circle",3,"title"],["id","deviceIPV4","type","text","trimSpace","",1,"",3,"ngModel","ngModelOptions","ngModelChange","blur"],["for","deviceIPV6",1,"col-sm-4","col-form-label"],["id","deviceIPV6","type","text","trimSpace","",1,"",3,"ngModel","ngModelOptions","ngModelChange","blur"],["for","ignoreUpStream",1,"col-sm-4","col-form-label","text-nowrap"],["id","ignoreUpStream","bindLabel","name","bindValue","value","placeholder","",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["for","ignoreDownStream",1,"col-sm-4","col-form-label","text-nowrap"],["id","ignoreDownStream","bindLabel","name","bindValue","value","placeholder","",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["for","ignoreLocal",1,"col-sm-4","col-form-label"],["id","ignoreLocal","bindLabel","name","bindValue","value","placeholder","",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["for","samplingLimit",1,"col-sm-4","col-form-label"],[1,"error"],["id","samplingLimit","type","number","min","1","max","65535",1,"",3,"ngModel","ngModelOptions","ngModelChange","keypress"],[1,"row","my-4"],[1,"col-md-8","offset-md-4"],[1,"btn-default","primary","px-3","mx-3",3,"click"],[1,"btn-default","btn-dft","py-1","px-3",3,"click"],["class","row",4,"ngIf"],[1,"btn-default","primary","px-3","mx-3",3,"disabled","click"],[1,"col-md-12","my-3","ccl-admin-table"],["id","example","datatable","",1,"row-border","hover","table-alter",3,"dtOptions"],[4,"ngFor","ngForOf"],[3,"id"],[1,"w-nowrap"],["class","editable-td text-center f-size13",4,"ngIf"],["class","save-cancel-btn-group d-flex justify-content-center",4,"ngIf"],[1,"text-break"],["class","ccl-form",4,"ngIf"],[1,"textnowrap"],[1,"editable-td","text-center","f-size13"],[1,"ccl-fc-table-icon"],[1,"pr-2"],[1,"primary",3,"id","title","click"],[1,"fas","fa-pencil-alt"],["type","checkbox",3,"value","name","id","title","click"],[1,"save-cancel-btn-group","d-flex","justify-content-center"],[1,"pr-1"],[1,"primary","mx-3",3,"id","click"],[1,"fas","fa-check"],[1,"primary",3,"id","click"],[1,"fas","fa-times"],["type","text","trimSpace","",1,"edit-text","w-200px",3,"ngModel","ngModelOptions","value","ngModelChange","blur"],["type","number","min","0","max","65535",1,"edit-text","w-150px",3,"value","ngModel","ngModelOptions","ngModelChange"],["bindLabel","name","bindValue","value","placeholder","","appendTo","body",1,"select-custom-top","w-100px",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"f-size-16px"],[1,"w-100"],["class","list-two",4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"],[1,"list-two"],["class","text-break",4,"ngFor","ngForOf"],["type","button","data-dismiss","modal",1,"btn-default","btn-dft","py-1","px-3",3,"click"],["width","33%"],[3,"innerHtml"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.YNc(1,Y,5,0,"div",1),d.YNc(2,G,24,4,"div",2),d.YNc(3,j,59,48,"section",3),d.YNc(4,W,8,4,"section",3),d.TgZ(5,"div",4),d.TgZ(6,"div",5),d.TgZ(7,"table",6),d.TgZ(8,"thead"),d.TgZ(9,"tr"),d.TgZ(10,"th",7),d.TgZ(11,"div",8),d.TgZ(12,"div",9),d.TgZ(13,"div",10),d.TgZ(14,"input",11),d.NdJ("change",function(e){return t.selectDeselectAll(e.target.checked)}),d.qZA(),d.TgZ(15,"span",12),d.NdJ("click",function(e){return t.showAllInnerCheckBox(e)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(16,"div"),d.TgZ(17,"div",13),d.TgZ(18,"button",14),d.NdJ("click",function(){return t.deleteAllSelected()}),d._UZ(19,"i",15),d._uU(20),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"th",16),d._uU(22),d.qZA(),d.TgZ(23,"th",16),d._uU(24),d.qZA(),d.TgZ(25,"th",16),d._uU(26),d.qZA(),d.TgZ(27,"th",17),d._uU(28),d.qZA(),d.TgZ(29,"th",16),d._uU(30),d.qZA(),d.TgZ(31,"th",18),d._uU(32),d.qZA(),d.TgZ(33,"th",18),d._uU(34),d.qZA(),d.TgZ(35,"th",18),d._uU(36),d.qZA(),d.TgZ(37,"th",18),d._uU(38),d.qZA(),d.TgZ(39,"th",18),d._uU(40),d.qZA(),d.qZA(),d.qZA(),d.TgZ(41,"tbody"),d.YNc(42,ue,31,21,"tr",19),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(43,fe,15,5,"ng-template",null,20,d.W1O),d.YNc(45,Ie,20,6,"ng-template",null,21,d.W1O),d.YNc(47,Ze,13,4,"ng-template",null,22,d.W1O),d.YNc(49,Te,12,4,"ng-template",null,23,d.W1O)),2&e&&(d.xp6(1),d.Q6J("ngIf",t.loading),d.xp6(1),d.Q6J("ngIf",t.buttonVisible),d.xp6(1),d.Q6J("ngIf",t.formVisible),d.xp6(1),d.Q6J("ngIf",t.tablePreview),d.xp6(2),d.Q6J("hidden",!t.dataAvailable),d.xp6(1),d.Q6J("dtTrigger",t.dtTrigger)("dtOptions",t.tableOptions),d.xp6(6),d.Q6J("hidden",t.editOnValue),d.xp6(1),d.Q6J("disabled",0==(null==t.deviceData?null:t.deviceData.length)||0==t.currentTableRowCount),d.xp6(3),d.Q6J("hidden",t.editOnValue),d.xp6(1),d.s9C("title",t.language["Delete selected"]),d.Q6J("disabled",!(null!=t.deviceData&&t.deviceData.length&&null!=t.deleteIds&&t.deleteIds.length)),d.xp6(2),d.hij(" ",t.language.selected," "),d.xp6(2),d.Oqu(t.language.name),d.xp6(2),d.Oqu(t.language.deviceipv4),d.xp6(2),d.Oqu(t.language.deviceipv6),d.xp6(2),d.Oqu(t.language.sampling),d.xp6(2),d.Oqu(t.language.hostName),d.xp6(2),d.Oqu(t.language.listeningPort),d.xp6(2),d.Oqu(t.language.flowType),d.xp6(2),d.Oqu(t.language.ignoreUpstream),d.xp6(2),d.Oqu(t.language.ignoreDownstream),d.xp6(2),d.Oqu(t.language.ignoreLocal),d.xp6(2),d.Q6J("ngForOf",t.deviceData))},directives:[s.O5,o.G,s.sg,k._Y,k.JL,k.F,k.Fj,k.JJ,k.On,R.w9,k.qQ,k.Fd,k.wV],styles:[".modal-scrll[_ngcontent-%COMP%]{overflow-y:auto;max-height:500px}.list-two[_ngcontent-%COMP%]{list-style-type:disc;margin-left:30px}.min-w-250[_ngcontent-%COMP%]{min-width:250px}.min-w-170[_ngcontent-%COMP%]{min-width:170px}.min-w-130[_ngcontent-%COMP%]{min-width:130px}.w-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.w-nowrap-150[_ngcontent-%COMP%]{white-space:nowrap;min-width:150px}.f-size13[_ngcontent-%COMP%]{font-size:13px}.w-200px[_ngcontent-%COMP%]{width:200px}.w-150px[_ngcontent-%COMP%]{width:150px}.w-100px[_ngcontent-%COMP%]{width:100px}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:3px 20px!important;border:1px solid #0279FF;color:#0279ff;font-size:14px;line-height:16.67px!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(.active):hover{background-color:#0279ff;color:#fff}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn.active[_ngcontent-%COMP%]{background-color:#0279ff;color:#fff}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-radius:0!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:first-child   .btn[_ngcontent-%COMP%]{border-top-left-radius:12px!important;border-bottom-left-radius:12px!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child   .btn[_ngcontent-%COMP%]{border-top-right-radius:12px!important;border-bottom-right-radius:12px!important}.line-height-normal[_ngcontent-%COMP%]{line-height:normal}"]}),e})(),data:{title:"Calix Cloud - Flow Configuration"}},{path:"",redirectTo:"devices-configuration",pathMatch:"full",data:{title:"Calix Cloud - Flow Configuration"}}]}];let Ae=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[a.Bz.forChild(xe)],a.Bz]}),e})();var we=i(23830);let Oe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[s.ez,Ae,o.T,R.A0,we.o,k.u5]]}),e})()}}]);