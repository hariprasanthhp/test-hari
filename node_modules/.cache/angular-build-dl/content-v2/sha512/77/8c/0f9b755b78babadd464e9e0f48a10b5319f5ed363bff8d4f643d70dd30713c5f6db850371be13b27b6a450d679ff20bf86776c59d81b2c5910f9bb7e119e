!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,s=void 0,"symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?s:String(s)),n)}var o,s}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[8215],{88215:function(t,n,o){o.r(n),o.d(n,{ConfigurationsModule:function(){return U}});var s=o(38583),r=o(39895),a=o(92340),c=o(37716),u=o(7450),l=o(89097);function g(e,t){if(1&e&&(c.TgZ(0,"li",3),c.TgZ(1,"a",10),c.NdJ("Click",function(e){return e.preventDefault()}),c._uU(2),c.qZA(),c.qZA()),2&e){var i=c.oxw();c.xp6(2),c.Oqu(i.language.Site_Scan)}}function d(e,t){if(1&e&&(c.TgZ(0,"li",3),c.TgZ(1,"a",11),c.NdJ("Click",function(e){return e.preventDefault()}),c._uU(2),c.qZA(),c.qZA()),2&e){var i=c.oxw();c.xp6(2),c.Oqu(i.language.Speed_Test)}}var p,f=function(e){return[e]},b=((p=function(){function t(i,n,o){e(this,t),this.translateService=i,this.router=n,this.sso=o,this.showSiteScan=!1,this.showEdgeSuite=!1}return i(t,[{key:"ngOnInit",value:function(){var e=this,t=this.sso.getScopes(),i=this.sso.getEntitlements();(i[118]||i[120])&&t&&void 0!==t["cloud.rbac.csc.netops.config.site_scan"]&&-1!==t["cloud.rbac.csc.netops.config.site_scan"].indexOf("read")&&(this.showSiteScan=!0),a.N.VALIDATE_SCOPE?(t["cloud.rbac.coc.operations.subscriber.operations.edgesuitesbulkprovisioning"]=t["cloud.rbac.csc.netops.config.edgesuitesbulkprovisioning"]||[],t&&t["cloud.rbac.coc.operations.subscriber.operations.edgesuitesbulkprovisioning"]&&-1!==t["cloud.rbac.coc.operations.subscriber.operations.edgesuitesbulkprovisioning"].indexOf("read")&&(this.showEdgeSuite=!0)):this.showEdgeSuite=!0,this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t})}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe()}}]),t}()).\u0275fac=function(e){return new(e||p)(c.Y36(u.s),c.Y36(r.F0),c.Y36(l.t6))},p.\u0275cmp=c.Xpm({type:p,selectors:[["app-configurations"]],decls:23,vars:11,consts:[[1,"ccl-tabs"],["id","tabs",1,"nav","nav-tabs","sub-tab"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/dial-plan","id","dialPlanTabId","routerLinkActive","active",1,"nav-link",3,"Click"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/external-file-server-list","id","externalFileServerTabId","routerLinkActive","active",1,"nav-link",3,"ngClass","Click"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/secure-onboarding","id","secureOnboardingTabId","routerLinkActive","active",1,"nav-link",3,"Click"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/self-heal","id","selfHealTabId","routerLinkActive","active",1,"nav-link",3,"Click"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/stale-device-purge","id","staleDeviceOurgeTabId","routerLinkActive","active",1,"nav-link",3,"Click"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/subnet-configuration","id","subnetConfigTabId","routerLinkActive","active",1,"nav-link",3,"Click"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/background-site-scan","id","autoSiteScanTabId","routerLinkActive","active",1,"nav-link",3,"Click"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/speed-test","id","speedTestTabId","routerLinkActive","active",1,"nav-link",3,"Click"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"ul",1),c.YNc(2,g,3,1,"li",2),c.TgZ(3,"li",3),c.TgZ(4,"a",4),c.NdJ("Click",function(e){return e.preventDefault()}),c._uU(5),c.qZA(),c.qZA(),c.TgZ(6,"li",3),c.TgZ(7,"a",5),c.NdJ("Click",function(e){return e.preventDefault()}),c._uU(8),c.qZA(),c.qZA(),c.TgZ(9,"li",3),c.TgZ(10,"a",6),c.NdJ("Click",function(e){return e.preventDefault()}),c._uU(11),c.qZA(),c.qZA(),c.TgZ(12,"li",3),c.TgZ(13,"a",7),c.NdJ("Click",function(e){return e.preventDefault()}),c._uU(14),c.qZA(),c.qZA(),c.TgZ(15,"li",3),c.TgZ(16,"a",8),c.NdJ("Click",function(e){return e.preventDefault()}),c._uU(17),c.qZA(),c.qZA(),c.TgZ(18,"li",3),c.TgZ(19,"a",9),c.NdJ("Click",function(e){return e.preventDefault()}),c._uU(20),c.qZA(),c.qZA(),c.YNc(21,d,3,1,"li",2),c.qZA(),c.qZA(),c._UZ(22,"router-outlet")),2&e&&(c.xp6(2),c.Q6J("ngIf",t.showSiteScan),c.xp6(3),c.Oqu(t.language.Dial_Plan),c.xp6(2),c.Q6J("ngClass",c.VKq(9,f,t.router.url.includes("external-file-server-list")||t.router.url.includes("external-file-server-form")?"active":"")),c.xp6(1),c.Oqu(t.language.External_File_Server),c.xp6(3),c.Oqu(t.language.Secure_Onboarding),c.xp6(3),c.Oqu(t.language.Self_Heal),c.xp6(3),c.Oqu(t.language["Stale System Purge"]),c.xp6(3),c.Oqu(t.language.Subnet_Configuration),c.xp6(1),c.Q6J("ngIf",t.sso.getEntitlementsArr().indexOf("118")>-1))},directives:[s.O5,r.yS,r.Od,s.mk,r.lC],styles:[".ccl-tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc!important}.ccl-tabs[_ngcontent-%COMP%]{overflow-x:auto!important}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;white-space:nowrap}#tabs.nav-tabs[_ngcontent-%COMP%]{display:inline-flex;flex-wrap:nowrap;width:100%}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]{padding:0 10px}"]}),p),v=o(45048),h=o(19718),Z=o(82572),C=o(16624),m=o(14306),x=o(93385),A=o(84388),w=o(5399),T=o(35781),k=o(61012),q=o(3679),S=o(12664),O=o(96045),I=o(39075);function _(e,t){if(1&e&&(c.TgZ(0,"div",10),c.TgZ(1,"div",11),c.TgZ(2,"div",12),c.TgZ(3,"div",13),c.TgZ(4,"span",14),c._uU(5),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var i=c.oxw();c.xp6(5),c.Oqu(i.language.Loading)}}function y(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",15),c.TgZ(1,"span",16),c._UZ(2,"img",17),c.qZA(),c.TgZ(3,"button",18),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeAlert()}),c._UZ(4,"span"),c.qZA(),c._UZ(5,"div",19),c.qZA()}if(2&e){var n=c.oxw();c.xp6(5),c.Q6J("innerHtml",n.errorInfo,c.oJD)}}function E(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",20),c.TgZ(1,"span",21),c._UZ(2,"img",22),c.qZA(),c.TgZ(3,"button",18),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeAlert()}),c._UZ(4,"span"),c.qZA(),c._UZ(5,"div",19),c.qZA()}if(2&e){var n=c.oxw();c.xp6(5),c.Q6J("innerHtml",n.successInfo,c.oJD)}}function J(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",23),c.TgZ(1,"label",24),c._uU(2),c.qZA(),c.TgZ(3,"div",25),c.TgZ(4,"div",26),c.TgZ(5,"label",27),c.TgZ(6,"input",28),c.NdJ("change",function(){return c.CHM(i),c.oxw().changeForm()}),c.qZA(),c.TgZ(7,"span"),c._UZ(8,"small"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(2),c.hij(" ","ProtectIQ",""),c.xp6(2),c.Q6J("ngClass",n.allowSubnetConfig&&n.hasWriteAccess?"":"switch-disabled"),c.xp6(2),c.uIk("disabled",!n.hasWriteAccess||!n.allowSubnetConfig||null)}}function N(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",23),c.TgZ(1,"label",24),c._uU(2),c.qZA(),c.TgZ(3,"div",25),c.TgZ(4,"div",26),c.TgZ(5,"label",29),c.TgZ(6,"input",30),c.NdJ("change",function(){return c.CHM(i),c.oxw().changeForm()}),c.qZA(),c.TgZ(7,"span"),c._UZ(8,"small"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(2),c.hij(" ","ExperienceIQ",""),c.xp6(2),c.Q6J("ngClass",n.allowSubnetConfig&&n.hasWriteAccess?"":"switch-disabled"),c.xp6(2),c.uIk("disabled",!n.hasWriteAccess||!n.allowSubnetConfig||null)}}function P(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",23),c.TgZ(1,"div",31),c.TgZ(2,"button",32),c.NdJ("click",function(){return c.CHM(i),c.oxw().reset()}),c._uU(3),c.qZA(),c.TgZ(4,"button",33),c.NdJ("click",function(){return c.CHM(i),c.oxw().save()}),c._uU(5),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(3),c.Oqu(n.language.reset),c.xp6(2),c.Oqu(n.language.submit)}}var F=[{path:"",component:b,children:[{path:"background-site-scan",component:v.L,data:{title:"Calix Cloud - Flow Configuration"}},{path:"dial-plan",component:h.U,data:{title:"Calix Cloud - Flow Configuration"},children:[{path:"add",component:Z.t,data:{title:"Calix Cloud - Flow Configuration"}},{path:":id",component:Z.t,data:{title:"Calix Cloud - Flow Configuration"}}]},{path:"external-file-server-list",component:C.X,data:{title:"Calix Cloud - Flow Configuration"}},{path:"secure-onboarding",component:m.i,data:{title:"Calix Cloud - Flow Configuration"}},{path:"self-heal",component:x.u,data:{title:"Calix Cloud - Flow Configuration"}},{path:"stale-device-purge",component:w.m,data:{title:"Calix Cloud - Flow Configuration"}},{path:"subnet-configuration",component:A.B,data:{title:"Calix Cloud - Flow Configuration"}},{path:"dial-plan-new",component:Z.t,data:{title:"Calix Cloud - Flow Configuration"}},{path:"edge-suites",component:function(){var t=function(){function t(i,n,o,s,r,c){var u,l,g=this;e(this,t),this.translateService=i,this.dialogService=n,this.sso=o,this.service=s,this.router=r,this.titleService=c,this.showSaveButtons=!1,this.settings={subscribedToProtectIq:!1,subscribedToExperienceIq:!1},this.hasWriteAccess=!1,this.allowSubnetConfig=!0,this.ORG_ID=this.sso.getOrgId(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){g.language=e});var d=this.sso.getScopes();a.N.VALIDATE_SCOPE&&a.N.VALIDATE_FOUNDATION_SCOPE?(d["cloud.rbac.csc.netops.config.edgesuitesbulkprovisioning"]=d["cloud.rbac.csc.netops.config.edgesuitesbulkprovisioning"]?d["cloud.rbac.csc.netops.config.edgesuitesbulkprovisioning"]:[],d&&(null===(u=d["cloud.rbac.csc.netops.config.edgesuitesbulkprovisioning"])||void 0===u?void 0:u.includes("write"))&&(this.hasWriteAccess=!0),d&&(null===(l=d["cloud.rbac.coc.operations.subscriber.configurations"])||void 0===l?void 0:l.includes("write"))&&(this.hasWriteAccess=!0)):this.hasWriteAccess=!0;var p=this.sso.getEntitlements();this.router.url.includes("cco/operations")&&p[210]&&!p[102]&&(this.allowSubnetConfig=!1)}return i(t,[{key:"ngOnInit",value:function(){this.settingsForm=new q.cw({subscribedToProtectIq:new q.NI(!1),subscribedToExperienceIq:new q.NI(!1)}),this.router.url.includes("cco/operations/cco-subscriber-operations")?this.titleService.setTitle("Edge Suites Bulk Provisioning - Configurations - Subscriber Operations - Operations - Operations - Calix Cloud"):this.router.url.includes("/support/netops-management")&&this.titleService.setTitle("Edge Suites Bulk Provisioning - Configurations - Netops - Service - Calix Cloud"),this.closeAlert(),this.getSettings()}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe(),this.getListSubs&&this.getListSubs.unsubscribe(),this.updateListSubs&&this.updateListSubs.unsubscribe()}},{key:"getSettings",value:function(){var e=this;this.loading=!0,this.showSaveButtons=!1,this.getListSubs=this.service.getIqSuites(this.ORG_ID).subscribe(function(t){t&&0!==Object.keys(t).length?(e.settings=t,e.loading=!1):e.settings={subscribedToProtectIq:!1,subscribedToExperienceIq:!1},e.settingsForm.patchValue(e.settings)},function(t){e.pageErrorHandle(t),e.settings={subscribedToProtectIq:!1,subscribedToExperienceIq:!1},e.settingsForm.patchValue(e.settings),e.loading=!1})}},{key:"changeForm",value:function(){var e=JSON.stringify(this.settingsForm.value),t=JSON.stringify(this.settings);this.showSaveButtons=e!==t}},{key:"reset",value:function(){this.getSettings()}},{key:"save",value:function(){var e=this;this.loading=!0,this.updateListSubs=this.service.updateIQSuitesConfigs(this.ORG_ID,this.settingsForm.value).subscribe(function(t){e.getSettings()},function(t){e.pageErrorHandle(t),e.loading=!1})}},{key:"pageErrorHandle",value:function(e){var t=this;this.errorInfo=401==e.status?this.language["Access Denied"]:this.sso.pageErrorHandle(e),setTimeout(function(){t.error=!0,t.loading=!1},500)}},{key:"closeAlert",value:function(){this.error=!1,this.success=!1}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(u.s),c.Y36(S.FF),c.Y36(l.t6),c.Y36(O.A),c.Y36(r.F0),c.Y36(I.Dx))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-edge-suite"]],decls:12,vars:7,consts:[[1,"loader-wrapper","position-relative"],["class","loader-wrapper-info",4,"ngIf"],["class","w-100 alert alert-danger fade show",4,"ngIf"],["class","w-100 alert alert-success fade show",4,"ngIf"],[1,"container","sys-contain"],[1,"ccl-form","needs-validation",3,"formGroup"],[1,"row"],[1,"col-md-10","col-md-4","col-sm-12","pr-5","pl-0"],[1,"ccl-form","mt-3","needs-validation","mt-3"],["class","form-group inline-input row",4,"ngIf"],[1,"loader-wrapper-info"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert-success","fade","show"],[1,"success-img"],["src","./assets/img/success-icon.svg"],[1,"form-group","inline-input","row"],[1,"col-md-3","col-form-label"],[1,"col-md-6"],[1,"toggle-swtbtn","checkbox","switcher",3,"ngClass"],["for","subscribedToProtectIq"],["type","checkbox","id","subscribedToProtectIq","formControlName","subscribedToProtectIq",3,"change"],["for","subscribedToExperienceIq"],["type","checkbox","id","subscribedToExperienceIq","formControlName","subscribedToExperienceIq",3,"change"],[1,"col-md-10","offset-md-2","text-right"],[1,"btn-default","primary","md-btn","mr-2",3,"click"],[1,"btn-default","primary","md-btn","px-0",3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.YNc(1,_,6,1,"div",1),c.YNc(2,y,6,1,"div",2),c.YNc(3,E,6,1,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"form",5),c.TgZ(6,"div",6),c.TgZ(7,"div",7),c.TgZ(8,"div",8),c.YNc(9,J,9,3,"div",9),c.YNc(10,N,9,3,"div",9),c.qZA(),c.qZA(),c.qZA(),c.YNc(11,P,6,2,"div",9),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngIf",t.loading),c.xp6(1),c.Q6J("ngIf",t.error),c.xp6(1),c.Q6J("ngIf",t.success),c.xp6(2),c.Q6J("formGroup",t.settingsForm),c.xp6(4),c.Q6J("ngIf",t.sso.getEntitlementsArr().indexOf("203")>-1||t.sso.getEntitlementsArr().indexOf("205")>-1),c.xp6(1),c.Q6J("ngIf",t.sso.getEntitlementsArr().indexOf("204")>-1||t.sso.getEntitlementsArr().indexOf("205")>-1),c.xp6(1),c.Q6J("ngIf",t.showSaveButtons&&t.hasWriteAccess))},directives:[s.O5,q._Y,q.JL,q.sg,s.mk,q.Wl,q.JJ,q.u],styles:[".opacity-50[_ngcontent-%COMP%]{opacity:.5}.switch-disabled[_ngcontent-%COMP%]{opacity:.5}.switch-disabled[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:not-allowed}"]}),t}(),data:{title:"Calix Cloud - Bulk IQ suites"}},{path:"external-file-server-form",component:T.A,data:{title:"Calix Cloud - Flow Configuration"}},{path:"speed-test",component:k.U,data:{title:"Calix Cloud - Flow Configuration"}},{path:"",redirectTo:"background-site-scan",pathMatch:"full"}]}],L=function(){var t=i(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[r.Bz.forChild(F)],r.Bz]}),t}(),U=function(){var t=i(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[s.ez,L]]}),t}()}}])}();