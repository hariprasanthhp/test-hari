"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[6242],{36242:function(e,t,i){i.r(t),i.d(t,{DevicesModule:function(){return _e}});var s=i(38583),a=i(39895),n=i(91704),o=i(23771),l=i(79765),d=i(35758),r=i(37716),c=i(404),h=i(7616),g=i(13149),p=i(93822),u=i(7450),v=i(89097),m=i(12664),f=i(49342),I=i(39075),b=i(20904);const Z=["infoModal"],T=["deleteModal"],D=["multiDeleteModal"],x=["importModal"],A=function(){return["active"]};function w(e,t){if(1&e&&(r.TgZ(0,"li",3),r.TgZ(1,"a",4),r._uU(2),r.qZA(),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.s9C("id",e.title),r.s9C("routerLink",e.link),r.Q6J("routerLinkActive",r.DdM(4,A)),r.xp6(1),r.Oqu(e.title)}}const O=i(91704);let _=(()=>{class e{constructor(e,t,i,s,a,n,o,d,r,c,h){this.commonFunctionsService=e,this.api=t,this.exportExcel=i,this.dataTablecreatorService=s,this.translateService=a,this.router=n,this.sso=o,this.dialogService=d,this.commonOrgService=r,this.titleService=c,this.common=h,this.infoTitle="",this.infoBody="",this.pageAvailable=!1,this.formVisible=!1,this.buttonVisible=!0,this.dataAvailable=!1,this.showingDeviceIpv6=null,this.selectOptions=[{name:"No",value:!1},{name:"Yes",value:!0}],this.flowType=[{name:"netflow"},{name:"cflow"},{name:"sflow"}],this.importTableOptions={pagingType:"full_numbers",pageLength:10,order:[0,"asc"],scrollX:!0,dom:"tipr"},this.statusTableOptions={pagingType:"full_numbers",pageLength:10},this.tablePreview=!1,this.currentTableRowCount=0,this.tableOptions={pagingType:"full_numbers",pageLength:10,rowId:"_id",scrollX:!0,stateSave:!0,order:[1,"asc"],columnDefs:[{targets:[0],orderable:!1}],drawCallback:e=>{this.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(()=>{this.resetDelete()},0),this.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength&&O(e.nTableWrapper).find(`#${e.sTableId}_last`).addClass("disabled")}},this.deviceData=[],this.deviceIPError=!1,this.deviceIP6Error=!1,this.ignoreUpStream=!1,this.ignoreDownStream=!1,this.ignoreLocal=!1,this.samplingLimitError=!1,this.geoCoordinateError=!1,this.addressError=!1,this.validation=!1,this.empty={"Device IPv4":"","Device IPv6":"",Sampling:"","Receiving Port":"","Ignore Upstream":"","Ignore Downstream":"","Host Name":"","Ignore Local":"",Name:"","Rate Limit":"","Flow Type":""},this.loading=!0,this.dtOptions={},this.dtTrigger=new l.xQ,this.isRerender=!1,this.editIgnoreUpStream=!1,this.editIgnoreDownStream=!1,this.editIgnoreLocal=!1,this.storageData={},this.errorInfo="",this.successInfo="",this.importUpdateASCreate=[],this.sortData={column:1,type:"asc"},this.columnName={deviceIpV4:"Device IPv4",deviceIpV6:"Device IPv6",samplingRate:"Sampling",receivingPort:"Receiving Port",ignoreUpstream:"Ignore Upstream",ignoreDownstream:"Ignore Downstream",hostName:"Host Name",ignoreInternal:"Ignore Local",name:"Name",rateLimit:"Rate Limit"},this.invalidImportDevice=[],this.menus=[],this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.language=this.translateService.defualtLanguage,this.language&&(this.pageAvailable=!0),this.menus=[{title:this.language.Configuration,link:"devices-configuration",subMenuLink:`/${this.MODULE}/flowAnalyze/network/devices/devices-configuration`},{title:this.language.status,link:"devices-status",subMenuLink:`/${this.MODULE}/flowAnalyze/network/devices/devices-status`}],this.translateSubscribe=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.menus[0].title=this.language.Configuration,this.menus[1].title=this.language.status,this.dataAvailable=!1,this.isRerender=!0,this.titleService.setTitle(`${this.language.devices} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`),this.tableCreator("language")}),this.commonOrgService.closeAlert();let g=this.router.url;this.frTable=this.translateService.fr,this.ORG_ID=this.sso.getOrganizationID(g),this.MODULE=this.sso.getRedirectModule(g),this.titleService.setTitle(`${this.language.devices} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}ngOnInit(){this.apiLoader(),this.tableLanguageOptions();const e=JSON.parse(localStorage.getItem("calix.login_data"));this.storageData.clientIp=null==e?void 0:e.clientIp,this.storageData.UserId=null==e?void 0:e.UserId,this.closeAlert(),this.removeState()}ngAfterViewInit(){this.loaded=!0}ngOnDestroy(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSubscribe&&this.translateSubscribe.unsubscribe(),this.subscription&&this.subscription.unsubscribe(),this.deviceListSubs&&this.deviceListSubs.unsubscribe(),this.deviceAddSubs&&this.deviceAddSubs.unsubscribe(),this.deviceUpdateSubs&&this.deviceUpdateSubs.unsubscribe(),this.deviceDeleteSubs&&this.deviceDeleteSubs.unsubscribe(),this.deviceExportSubs&&this.deviceExportSubs.unsubscribe(),this.deviceImportSubs&&this.deviceImportSubs.unsubscribe()}apiLoader(){this.deviceListSubs=this.api.DeviceList(this.ORG_ID).subscribe(e=>{this.deviceData=[...e],this.deviceData&&(this.deviceData=this.dataConvertor(this.deviceData),this.deviceData=[...this.deviceData],this.tableCreator(),this.isRerender?(this.rerender(),this.isRerender=!1):(this.dtTrigger.next(),this.loading=!1),setTimeout(()=>{this.resetDelete()},100))},e=>{this.pageErrorHandle(e),this.deviceData=[],this.tableCreator(),this.isRerender?(this.rerender(),this.isRerender=!1):(this.dtTrigger.next(),this.loading=!1)})}dataConvertor(e){return(0,n.isArray)(e)&&e.forEach(e=>{e.deviceIp=null==e.deviceIpV4||""==e.deviceIpV4?null==e.deviceIpV6||""==e.deviceIpV6?"":e.deviceIpV6:e.deviceIpV4,e.address=e.address?e.address:"",e.flowType=e.flowType?e.flowType:"",e.observationName=""}),e}tableCreator(e){let t=this;this.tableOptions={pagingType:"full_numbers",pageLength:10,rowId:"_id",scrollX:!0,stateSave:!0,order:[t.sortData.column,t.sortData.type],columnDefs:[{targets:[0],orderable:!1}],drawCallback:e=>{t.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(()=>{this.resetDelete()},0),this.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength?O(e.nTableWrapper).find("#device-table_last").addClass("disabled"):O(e.nTableWrapper).find("#device-table_last").removeClass("disabled")}},this.tableLanguageOptions(),e&&"language"==e?setTimeout(()=>{this.dataAvailable=!0,this.rerender()},200):setTimeout(()=>{this.dataAvailable=!0,this.loading=!1},500)}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.tableOptions.language=this.frTable:"es"==this.language.fileLanguage?this.tableOptions.language=this.translateService.es:"de_DE"==this.language.fileLanguage?this.tableOptions.language=this.translateService.de_DE:"en"==this.language.fileLanguage&&this.tableOptions.language&&delete this.tableOptions.language}rerender(){this.dtElement.dtInstance.then(e=>{e.destroy(),this.tableOptions.order=[this.sortData.column,this.sortData.type],setTimeout(()=>{this.dtTrigger.next()},10)})}search(e){this.dtElement.dtInstance.then(t=>{t.search(e).draw()})}create(){this.buttonVisible=!1,this.formVisible=!0}submit(){if(this.validation=!1,this.deviceIPError=!1,this.deviceIP6Error=!1,this.ipv4=void 0,this.ipv6=void 0,this.name=this.name?this.name.trim():"",this.name.length&&this.name.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody=`${this.language["Invalid Device Name"]} - Name should not exceed 64 characters.`,void this.openInfoModal(!1);if(this.deviceIPV4&&this.deviceIpValidatorIpv4(this.deviceIPV4),this.deviceIPV6&&this.deviceIpValidatorIpv6(this.deviceIPV6),this.deviceIPError||this.deviceIP6Error||!this.deviceIPV4&&!this.deviceIPV6)return this.infoTitle=this.language["Invalid request"],this.infoBody=this.language["Invalid IP address"],void this.openInfoModal(!1);if(this.samplingRateValidator(this.samplingLimit),this.samplingLimitError)return this.infoTitle=this.language["Invalid value"],this.infoBody=this.language["The sampling rate should be an integer value greater than 0 and less than 65536."],void this.openInfoModal(!1);let e={deviceIpV4:this.ipv4?this.ipv4:"",deviceIpV6:this.ipv6?this.ipv6:"",ignoreDownstream:this.ignoreDownStream,ignoreInternal:this.ignoreLocal,ignoreUpstream:this.ignoreUpStream,orgId:this.ORG_ID?this.ORG_ID:50,samplingRate:+this.samplingLimit,name:this.name?this.name.trim():"",rateLimit:0,receivingPort:2058,tenantId:0,address:this.address?this.address.trim():""};this.loading=!0,this.deviceAddSubs=this.api.DeviceAdd(e,this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.cancel(),this.apiLoader()},e=>{this.pageErrorHandle(e)})}cancel(){this.formVisible=!1,this.buttonVisible=!0,this.tablePreview=!1,this.reset()}edit(e){var t;this.editData=e,this.editOnValue=e._id,this.editName=e.name?e.name:"",this.editHostName=e.hostName?e.hostName:"",this.editDeviceIPV4=e.deviceIpV4,this.editDeviceIPV6=e.deviceIpV6,this.editIgnoreUpStream=!!e.ignoreUpstream,this.editIgnoreDownStream=!!e.ignoreDownstream,this.editIgnoreLocal=!!e.ignoreInternal,this.editSamplingLimit=e.samplingRate,this.editGeoCoordinate=e.tenantId;let i=null!==(t=e.deviceIpV4)&&void 0!==t?t:e.deviceIpV6;if(-1!==this.deleteIds.indexOf(e._id)){this.deleteIds.splice(this.deleteIds.indexOf(e._id),1),this.deviceIps.splice(this.deviceIps.indexOf(i),1),this.deleteDevices=this.deleteDevices.filter(t=>t._id!==e._id);let t=O('input[name^="delete_device_id"]').length;this.deleteIds.length?this.deleteIds.length!=t?(O("#selectDeselectAll").prop("checked",!1),O("#selectDeselectAll-span").show()):O("#selectDeselectAll-span").hide():(O("#selectDeselectAll").prop("checked",!1),O("#selectDeselectAll-span").hide())}}updateSave(){if(this.deviceIPError=!1,this.deviceIP6Error=!1,this.ipv4="",this.ipv6="",this.editDeviceIPV6=this.editDeviceIPV6?this.editDeviceIPV6.trim():"",this.editDeviceIPV4=this.editDeviceIPV4?this.editDeviceIPV4.trim():"",this.editName=this.editName?this.editName.trim():"",this.editName.length&&this.editName.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody=`${this.language["Invalid Device Name"]} - Name should not exceed 64 characters.`,void this.openInfoModal(!1);if(this.editDeviceIPV6&&this.deviceIpValidatorIpv6(this.editDeviceIPV6),this.editDeviceIPV4&&this.deviceIpValidatorIpv4(this.editDeviceIPV4),this.deviceIPError||this.deviceIP6Error||!this.editDeviceIPV4&&!this.editDeviceIPV6)return this.infoTitle=this.language["Invalid request"],this.infoBody=this.language["Invalid IP address"],this.closeModal(),void(this.modalRef=this.dialogService.open(this.infoModal));if(this.samplingRateValidator(this.editSamplingLimit),this.samplingLimitError)return this.infoTitle=this.language["Invalid value"],this.infoBody=this.language["The sampling rate should be an integer value greater than 0 and less than 65536."],void this.openInfoModal(!1);let e={_id:this.editData._id,deviceIpV4:this.ipv4?this.ipv4:"",deviceIpV6:this.ipv6?this.ipv6:"",ignoreDownstream:this.editIgnoreDownStream,ignoreInternal:this.editIgnoreLocal,ignoreUpstream:this.editIgnoreUpStream,orgId:this.ORG_ID?this.ORG_ID:50,samplingRate:+this.editSamplingLimit,name:this.editName?this.editName.trim():"",rateLimit:0,receivingPort:this.editData.receivingPort?this.editData.receivingPort:0,tenantId:0,flowType:this.editData.flowType?this.editData.flowType:""};this.loading=!0,this.deviceUpdateSubs=this.api.DeviceUpdate(this.editData._id,e,this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.apiLoader(),this.cancel(),this.editOnValue=void 0},e=>{this.pageErrorHandle(e)})}updateCancel(){this.editOnValue=void 0}hideShow(e){this.showingDeviceIp=this.showingDeviceIp==e?void 0:e}hideShowV6(e){this.showingDeviceIpv6=this.showingDeviceIpv6==e?void 0:e}delete(e){let t="";t=e.deviceIpV4?e.deviceIpV4:e.deviceIpV6,this.deleteData=e,e.name=e.name?this.strSub(e.name):"",e.hostName=e.hostName?this.strSub(e.hostName):"",this.infoTitle=this.language["Delete device?"],this.closeModal(),this.modalRef=this.dialogService.open(this.deleteModal,{backdrop:"static",keyboard:!1})}confirmDelete(){let e=this.deleteData._id;this.loading=!0,this.closeModal(),this.deviceDeleteSubs=this.api.DeviceDelete(e,this.ORG_ID).subscribe(e=>{this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.isRerender=!0,this.apiLoader()},e=>{this.pageErrorHandle(e)})}cancelDelete(){this.deleteData=void 0,this.closeModal()}getDeleteIds(e,t){let i="";i=t.deviceIpV4?t.deviceIpV4:t.deviceIpV6;let s=this.deleteDevices;if(e.target.checked){if(-1===this.deleteIds.indexOf(t._id)){this.deleteIds.push(t._id),this.deviceIps.push(i),this.deleteDevices.push(t);let e=O('input[name^="delete_device_id"]').length;this.deleteIds.length==e?(O("#selectDeselectAll").prop("checked",!0),O("#selectDeselectAll-span").hide()):O("#selectDeselectAll-span").show()}}else{this.deleteIds.splice(this.deleteIds.indexOf(t._id),1),this.deviceIps.splice(this.deviceIps.indexOf(i),1),s=s.filter(function(e){return e._id!==t._id}),this.deleteDevices=s;let e=O('input[name^="delete_device_id"]').length;this.deleteIds.length?this.deleteIds.length!=e?(O("#selectDeselectAll").prop("checked",!1),O("#selectDeselectAll-span").show()):O("#selectDeselectAll-span").hide():(O("#selectDeselectAll").prop("checked",!1),O("#selectDeselectAll-span").hide())}}selectDeselectAll(e){let t=0,i=O('input[name^="delete_device_id"]').length;var s=this;s.deleteIds=[],s.deviceIps=[],s.deleteDevices=[],e?O('input[name^="delete_device_id"]').each(function(){if(t>=i)return!1;O(this).prop("checked",!0);let e=O(this).attr("class").split(" ")[0].substring("delete_device_id_".length),a=s.deviceData.filter(t=>t._id===e),n="";n=a[0].deviceIpV4?a[0].deviceIpV4:a[0].deviceIpV6,s.deleteIds.push(e),s.deviceIps.push(n),s.deleteDevices.push(a[0]),t++}):O('input[name^="delete_device_id"]').each(function(){if(t>=i)return!1;O(this).prop("checked",!1),s.deleteIds=[],s.deviceIps=[],s.deleteDevices=[],t++})}deleteAllSelected(){if(this.deviceIps){this.infoTitle=this.language[1===this.deviceIps.length?"Delete selected device?":"Delete selected devices?"];let e="";for(let t=0;t<this.deviceIps.length;t++)this.deleteDevices[t].name=this.deleteDevices[t].name?this.strSub(this.deleteDevices[t].name):"",this.deleteDevices[t].hostName=this.deleteDevices[t].hostName?this.strSub(this.deleteDevices[t].hostName):"",e+=`<tr><td>${this.deleteDevices[t].name&&this.deleteDevices[t].name.length>20?this.deleteDevices[t].name.slice(0,20)+"...":this.deleteDevices[t].name}</td><td>${this.deviceIps[t]}</td><td>${this.deleteDevices[t].hostName&&this.deleteDevices[t].hostName.length>20?this.deleteDevices[t].hostName.slice(0,20)+"...":this.deleteDevices[t].hostName}</td></tr><br>`;this.infoBody=e,this.closeModal(),this.modalRef=this.dialogService.open(this.multiDeleteModal,{backdrop:"static",keyboard:!1})}}confirmDeleteSecleted(){this.closeModal();const e=[];this.deleteIds.forEach(t=>{e.push(this.api.DeviceDelete(t,this.ORG_ID))}),(0,d.D)(e).subscribe(e=>{this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.isRerender=!0,this.cancel(),this.apiLoader()},e=>{this.pageErrorHandle(e)})}showAllInnerCheckBox(e){O("#"+e.target.id).hide(),O("#selectDeselectAll").prop("checked",!0),this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.selectDeselectAll(!0)}resetDelete(){this.selectDeselectAll(!1),O("#selectDeselectAll").prop("checked",!1),O("#selectDeselectAll-span").hide(),this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[]}exportDataConvertor(e){return Array.isArray(e)&&e.forEach(e=>{for(const t in e)"boolean"==typeof e[t]&&(e[t]=1==e[t]?"Yes":"No");delete(e=this.commonFunctionsService.columnNameFromKeys(e,this.columnName)).flowType,delete e.observationId,delete e.orgId,delete e.tenantId,delete e._id}),e}export(){this.deviceExportSubs=this.api.Export("devices",this.ORG_ID).subscribe(e=>{let t=this.commonFunctionsService.generateExportName("device_file_export",!0),i=this.exportDataConvertor(e);this.exportExcel.downLoadCSV(t,i.length?i:[this.empty])},e=>{this.pageErrorHandle(e)})}fullImportUpload(){this.infoTitle=this.language.fullImport,this.infoBody=this.language.fullImportPrompt,this.closeModal(),this.modalRef=this.dialogService.open(this.importModal,{backdrop:"static",keyboard:!1})}proceedImport(){this.closeModal(),O("#fullImportUpload").click()}fullImport(e,t){sessionStorage.setItem("importType",e),this.dataTablecreatorService.generateJsonFromCsv(t,this.deviceData)}tableDataRecreate(e){let t,i=[],s=[],a=[],n=Object.assign([],this.deviceData);n.forEach(e=>{e.deviceIpV4&&e.deviceIpV4.trim()?i.push(e.deviceIpV4):(e.deviceIpV4="",i.push("@@@$@@@")),e.deviceIpV6&&e.deviceIpV6.trim()?i.push(e.deviceIpV6):(e.deviceIpV6="",i.push("@@@$@@@"))});const o=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,l=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;e.forEach((e,t)=>{let d=i.indexOf(e.deviceIpV4)>-1?i.indexOf(e.deviceIpV4):i.indexOf(e.deviceIpV6)>-1?i.indexOf(e.deviceIpV6):-1;(""!=e.deviceIpV4.trim()||""!=e.deviceIpV6.trim())&&d+1?(d=d%2!=0?(d-1)/2:d/2,""!=e.receivingPort&&e.receivingPort>0&&e.receivingPort!=n[d].receivingPort&&2058!=e.receivingPort&&(e.action="Invalid receiving port, it should be 2058"),e.flowType&&e.flowType.trim()&&!["netflow","cflow","sflow"].includes(e.flowType)&&(e.action="Invalid flow type, it should be [netflow, cflow, sflow]"),(s.includes(e.deviceIpV4)||s.includes(e.deviceIpV6))&&(e.action="Device Ip already exist in File .This will be ignored."),(""!=e.deviceIpV4.trim()&&!o.test(e.deviceIpV4)||""!=e.deviceIpV6.trim()&&!l.test(e.deviceIpV6))&&(e.action="Invalid Device IP"),e.hasOwnProperty("action")||Object.keys(e).forEach(t=>{!0===n[d][t]?n[d][t]="Yes":!1===n[d][t]&&(n[d][t]="No"),e[t]!=n[d][t]&&(e.action="Update",e._id=n[d]._id)}),e.hasOwnProperty("action")||a.push(t),this.previewTableHeader.forEach(t=>{e[`old_${t}`]=n[d][t]}),n[d].deviceIpV4.trim()&&s.push(n[d].deviceIpV4),n[d].deviceIpV6.trim()&&s.push(n[d].deviceIpV6),i.splice(2*d,2),n.splice(d,1)):(e.flowType&&e.flowType.trim()&&!["netflow","cflow","sflow"].includes(e.flowType)&&(e.action="Invalid flow type, it should be [netflow, cflow, sflow]"),(""!=e.deviceIpV4.trim()&&!o.test(e.deviceIpV4)||""!=e.deviceIpV6.trim()&&!l.test(e.deviceIpV6))&&(e.action="Invalid Device IP"),e.hasOwnProperty("action")||(e.action="Create"),e.deviceIpV4.trim()&&s.push(e.deviceIpV4),e.deviceIpV6.trim()&&s.push(e.deviceIpV6),this.previewTableHeader.forEach(t=>{e[`old_${t}`]=""}));for(const[i,s]of Object.entries(e))!0===s?e[i]="Yes":!1===s&&(e[i]="No")}),t=Object.assign([],e);let d=Object.assign([],e);return a=a.sort(function(e,t){return t-e}),a.forEach(e=>{d.splice(e,1)}),n.length&&"IncImport"!=sessionStorage.getItem("importType")&&n.forEach(e=>{e.action="Delete";for(const[t,i]of Object.entries(e))!0===i?e[t]="Yes":!1===i&&(e[t]="No");d.push(e)}),this.recreateTable=t,d}appendOldPrefix(e){return`old_${e}`}previewHeader(){this.previewHeaderValue=[]}importSubmit(e=!1){let t,i=sessionStorage.getItem("importType"),s={clientIP:this.storageData.clientIp,dry_run:e,full_import:"FullImport"==i,import_data:[],orgId:this.ORG_ID,userId:this.storageData.UserId},a=[],n=[];if(e?(t="Create",this.recreateTable.forEach(e=>{((null==e?void 0:e.deviceIpV4)||(null==e?void 0:e.deviceIpV6))&&a.push(this.importTemplate(e,"Create"))})):this.recreateTable.forEach(e=>{a.push(this.importTemplate(e))}),e){const e=a.length;this.deviceData.forEach(t=>{let o=!1;for(let s=0;s<e;s++)(t.deviceIpV4&&t.deviceIpV4==a[s].deviceIpV4||t.deviceIpV6&&t.deviceIpV6==a[s].deviceIpV6)&&(o=!0,"FullImport"==i?(a[s].action="Create",this.importUpdateASCreate.push(t)):a[s].action="Update");if(!o&&s.full_import){const e=Object.assign({},t);n.push(this.importTemplate(e,"Delete"))}})}else if(a=a.filter(e=>{if(["Create","Update"].includes(e.action))return e}),0==a.length)return void this.cancel();if(!a.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",void this.openInfoModal(!1);s.import_data=a,this.deviceImportSubs=this.api.Import("devices",s,this.ORG_ID).subscribe(t=>{e?(this.enableImportSubmit=!1,t=t.map(e=>(e.action="ok"==e.validationResult.toLowerCase()?e.action:e.validationResult,"ok"==e.validationResult.toLowerCase()&&(this.enableImportSubmit=!0),e)),this.recreateTable=t,this.previewOrder([...t,...n]),this.buttonVisible=!1,this.tablePreview=!0):(sessionStorage.removeItem("importType"),this.cancel(),this.isRerender=!0,this.apiLoader())},t=>{400==t.status?(e?(this.infoTitle=this.language.objectNotFound,this.infoBody="",this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)):(sessionStorage.removeItem("importType"),this.pageErrorHandle(t)),this.loading=!1):this.pageErrorHandle(t)})}importTemplate(e,t){return{action:t||e.action,deviceIpV4:e.deviceIpV4,deviceIpV6:e.deviceIpV6,orgId:this.ORG_ID,tenantId:0,ignoreDownstream:"Yes"===e.ignoreDownstream||!0===e.ignoreDownstream,ignoreInternal:"Yes"===e.ignoreInternal||!0===e.ignoreInternal,ignoreUpstream:"Yes"===e.ignoreUpstream||!0===e.ignoreUpstream,name:e.name,rateLimit:e.rateLimit,receivingPort:e.receivingPort,samplingRate:e.samplingRate}}previewOrder(e){if(!e||0==e.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",this.closeModal(),void(this.modalRef=this.dialogService.open(this.infoModal));let t=[];const i=["ignoreDownstream","ignoreInternal","ignoreUpstream"],s=["validationResult"],a=["action","deviceIpV4","deviceIpV6"];e.forEach(e=>{let n={};Object.keys(e).forEach(t=>{s.includes(t)||(n[t]=i.includes(t)&&("true"===e[t]||!0===e[t]||e[t]&&"Y"==e[t].toString().toUpperCase)?"Yes":i.includes(t)&&("false"===e[t]||!1===e[t]||e[t]&&"N"==e[t].toString().toUpperCase)?"No":e[t],a.includes(t)||(n["Old "+t]=""))}),this.deviceData.forEach(t=>{if(e.deviceIpV4==t.deviceIpV4&&e.deviceIpV6==t.deviceIpV6){for(const[e,s]of Object.entries(n))if(e.includes("Old")){const s=e.replace("Old ","");n[e]=i.includes(s)&&(t[s]||"Y"==t[s].toString().toUpperCase)?"Yes":!i.includes(s)||t[s]&&"N"!=t[s].toString().toUpperCase?t[s]:"No"}return"Create"==n.action&&(n.action="Update"),!1}}),t.push(n)}),this.previewTableBody=t}cancelImport(){}reset(){this.name=void 0,this.hostName=void 0,this.deviceIPV4=void 0,this.deviceIPV6=void 0,this.ignoreDownStream=!1,this.ignoreUpStream=!1,this.ignoreLocal=!1,this.geoCoordinate=void 0,this.address=void 0,this.samplingLimit=void 0}resetEdit(){this.editName="",this.editHostName="",this.editDeviceIPV4="",this.editDeviceIPV6="",this.editIgnoreUpStream=!1,this.editIgnoreDownStream=!1,this.editIgnoreLocal=!1,this.editSamplingLimit=void 0,this.editGeoCoordinate=void 0}samplingRateValidator(e){this.samplingLimitError=!1,this.samplingLimitError=!Number.isInteger(e)||!(e>0&&e<=65535)}deviceIpValidatorIpv4(e){e&&""!=e.trim()?(e=e.trim(),this.commonFunctionsService.isValidIpV4Addr(e)?(this.ipv4=e,this.deviceIPError=!1):this.deviceIPError=!0):this.deviceIPError=!0}deviceIpValidatorIpv6(e){e&&""!=e.trim()?(e=e.trim(),this.commonFunctionsService.isValidIpV6Addr(e)?(this.ipv6=e,this.deviceIP6Error=!1):this.deviceIP6Error=!0):this.deviceIPError=!0}sortingTable(e,t){setTimeout(()=>{this.sortColumn=e,this.sortType=O(t.target).hasClass("sorting_asc")?"asc":"desc"},500)}closeAlert(){this.error=!1,this.success=!1}closeModal(){this.modalRef&&this.modalRef.close()}strSub(e,t){return e.length<=20?e:`${e.substr(0,t||20)}...`}pageErrorHandle(e){var t,i,s,a,n,o,l,d,r;if(400==e.status){let c=(null==e?void 0:e.error)?this.commonOrgService.pageInvalidRqstErrorHandle(e):"";this.infoBody="object_already_exists"==c?`${this.language["Conflict found with existing devices"]} ${(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.info)?null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.info:""}`:"Bad Request"===c&&((null===(a=null===(s=null==e?void 0:e.error)||void 0===s?void 0:s.message)||void 0===a?void 0:a.split(":").length)&&"object_already_exists"===(null===(o=null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.message)||void 0===o?void 0:o.split(":")[0])||"invalid_request"===(null===(d=null===(l=null==e?void 0:e.error)||void 0===l?void 0:l.message)||void 0===d?void 0:d.split(":")[0]))?null===(r=null==e?void 0:e.error)||void 0===r?void 0:r.message.split(":")[1]:c,this.infoTitle=this.language["Invalid request"],this.loading=!1,this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)}else this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(this.errorInfo),this.commonOrgService.pageScrollTop(),this.loading=!1}openInfoModal(e){e||(this.invalidImportDevice=[]),this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1})}removeState(){localStorage.getItem(`DataTables_device-table_/${this.MODULE}/flowAnalyze/network/devices`)&&localStorage.removeItem(`DataTables_device-table_/${this.MODULE}/flowAnalyze/network/devices`)}inputValidator(e){var t=null==e?void 0:e.keyCode;return t>64&&t<91||t>96&&t<123||8==t||32==t||t>=48&&t<=57}removeUnwantedSpace(e,t){this[e]=this.common.trimSpaceFromNonObjectInputs(t)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(c.i),r.Y36(h.v),r.Y36(g.O),r.Y36(p.L),r.Y36(u.s),r.Y36(a.F0),r.Y36(v.t6),r.Y36(m.FF),r.Y36(f.v),r.Y36(I.Dx),r.Y36(b.i))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-devices"]],viewQuery:function(e,t){if(1&e&&(r.Gf(Z,7),r.Gf(T,7),r.Gf(D,5),r.Gf(x,7),r.Gf(o.G,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.infoModal=e.first),r.iGM(e=r.CRH())&&(t.deleteModal=e.first),r.iGM(e=r.CRH())&&(t.multiDeleteModal=e.first),r.iGM(e=r.CRH())&&(t.importModal=e.first),r.iGM(e=r.CRH())&&(t.dtElement=e.first)}},decls:4,vars:1,consts:[[1,"container","px-0","position-relative"],["id","deviceTabs","role","tablist",1,"nav","nav-tabs","nav-tab-list"],["class","nav-item","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"nav-item"],["role","tab","aria-controls","device-configuration","aria-selected","true",1,"btn","btn-default",3,"id","routerLink","routerLinkActive"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"ul",1),r.YNc(2,w,3,5,"li",2),r.qZA(),r._UZ(3,"router-outlet"),r.qZA()),2&e&&(r.xp6(2),r.Q6J("ngForOf",t.menus))},directives:[s.sg,a.lC,a.yS,a.Od],styles:[".modal-scrll[_ngcontent-%COMP%]{overflow-y:auto;max-height:500px}.list-two[_ngcontent-%COMP%]{list-style-type:disc;margin-left:30px}.min-w-250[_ngcontent-%COMP%]{min-width:250px}.min-w-170[_ngcontent-%COMP%]{min-width:170px}.min-w-130[_ngcontent-%COMP%]{min-width:130px}.w-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.w-nowrap-150[_ngcontent-%COMP%]{white-space:nowrap;min-width:150px}.f-size13[_ngcontent-%COMP%]{font-size:13px}.w-200px[_ngcontent-%COMP%]{width:200px}.w-150px[_ngcontent-%COMP%]{width:150px}.w-100px[_ngcontent-%COMP%]{width:100px}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:3px 20px!important;border:1px solid #0279FF;color:#0279ff;font-size:14px;line-height:16.67px!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(.active):hover{background-color:#0279ff;color:#fff}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn.active[_ngcontent-%COMP%]{background-color:#0279ff;color:#fff}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-radius:0!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:first-child   .btn[_ngcontent-%COMP%]{border-top-left-radius:12px!important;border-bottom-left-radius:12px!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child   .btn[_ngcontent-%COMP%]{border-top-right-radius:12px!important;border-bottom-right-radius:12px!important}.line-height-normal[_ngcontent-%COMP%]{line-height:normal}"]}),e})();var q=i(5304),M=i(25917),S=i(89044),V=i(91841);const C=["infoModal"];function y(e,t){1&e&&(r.TgZ(0,"div",7),r.TgZ(1,"div",8),r.TgZ(2,"div",9),r.TgZ(3,"span",10),r._uU(4,"Loading..."),r.qZA(),r.qZA(),r.qZA(),r.qZA())}function P(e,t){if(1&e&&(r.TgZ(0,"div",11),r.TgZ(1,"div",12),r.TgZ(2,"label",13),r._uU(3),r.qZA(),r.TgZ(4,"div",14),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"div",12),r.TgZ(7,"label",13),r._uU(8),r.qZA(),r.TgZ(9,"div",14),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"div",15),r.TgZ(12,"label",13),r._uU(13),r.qZA(),r.TgZ(14,"div",14),r._uU(15),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(3),r.Oqu(e.language.discoveredCount),r.xp6(2),r.Oqu(e.counts.discoveredCount),r.xp6(3),r.Oqu(e.language.mappedCount),r.xp6(2),r.Oqu(e.counts.mappedCount),r.xp6(3),r.Oqu(e.language.mappedPercent),r.xp6(2),r.hij("",e.mappedPercentage,"%")}}function U(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr",17),r.TgZ(1,"td"),r.TgZ(2,"a",18),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw(2).routeToDevicePlaceholder(t.device_ip)}),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"td"),r._uU(5),r.qZA(),r.TgZ(6,"td"),r._uU(7),r.qZA(),r.TgZ(8,"td"),r._uU(9),r.qZA(),r.TgZ(10,"td"),r._uU(11),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,i=r.oxw(2);r.s9C("id",e._id),r.xp6(3),r.Oqu(e.device_ip||""),r.xp6(2),r.Oqu(e.flow_rate||"0"),r.xp6(2),r.Oqu(e.packet_rate||"0"),r.xp6(2),r.Oqu(e.virtual_packet_rate?i.formatPacket(e.virtual_packet_rate):"0 pps"),r.xp6(2),r.Oqu(e.virtual_bit_rate?i.formatBytes(e.virtual_bit_rate):"0 bps")}}function N(e,t){if(1&e&&(r.TgZ(0,"tbody"),r.YNc(1,U,12,6,"tr",16),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.deviceStatusData)}}function E(e,t){if(1&e&&(r.TgZ(0,"tbody"),r.TgZ(1,"tr"),r.TgZ(2,"td",19),r._uU(3),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(3),r.Oqu(e.language["No data available in table"])}}function L(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",20),r.TgZ(1,"h4",21),r._uU(2),r.qZA(),r.TgZ(3,"button",22),r.NdJ("click",function(){return r.CHM(e),r.oxw().closeModal()}),r._UZ(4,"span",23),r.qZA(),r.qZA(),r.TgZ(5,"div",24),r.TgZ(6,"div",25),r.TgZ(7,"p",26),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",27),r.TgZ(10,"button",28),r.NdJ("click",function(){return r.CHM(e),r.oxw().closeModal()}),r._uU(11),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.Oqu(e.infoTitle),r.xp6(6),r.Oqu(e.infoBody),r.xp6(3),r.hij(" ",e.language.Okay," ")}}let k=(()=>{class e{constructor(e,t,i,s,a,n,o,d,r){this.translateService=e,this.commonOrgService=t,this.titleService=i,this.router=s,this.sso=a,this.endpointManagementService=n,this.http=o,this.networkDeviceApiService=d,this.dialogService=r,this.statusTableOptions={pageLength:10,pagingType:"full_numbers",stateSave:!1,order:[0,"asc"],columnDefs:[{targets:[1,2,3,4],orderable:!1}],lengthChange:!0,ordering:!0,searching:!0},this.dtTrigger=new l.xQ,this.counts={discoveredCount:null,mappedCount:null},this.show={count:!1,loading:!1},this.mappedPercentage=0,this.deviceStatusData=[],this.language=this.translateService.defualtLanguage;const c=this.router.url;this.commonOrgService.closeAlert(),this.MODULE=this.sso.getRedirectModule(c),this.ORG_ID=this.sso.getOrganizationID(c),this.translateSub=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.setTableOptions("language"),this.titleService.setTitle(`${this.language.Bsp_Microsite_Status} - ${this.language.devices} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`${this.language.Bsp_Microsite_Status} - ${this.language.devices} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}ngOnInit(){this.getCounts(),this.getDeviceStatusList()}ngOnDestroy(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSub&&this.translateSub.unsubscribe(),this.countSub&&this.countSub.unsubscribe()}getDeviceStatusList(){this.show.loading=!0,this.getDeviceStatusListSub=this.networkDeviceApiService.DeviceStatusList(this.ORG_ID).subscribe(e=>{this.show.loading=!1,this.rerender(),e&&e.metrics&&e.metrics.length&&(this.deviceStatusData=e.metrics,this.dtTrigger.next())},e=>{this.show.loading=!1,this.rerender(),this.pageErrorHandle(e)})}getCounts(){const e={};e.mappedCount=this.endpointManagementService.getMappedcount(this.ORG_ID).pipe((0,q.K)(e=>(0,M.of)(e))),e.unmappedCount=this.endpointManagementService.getUnmappedcount(this.ORG_ID).pipe((0,q.K)(e=>(0,M.of)(e))),this.countSub=(0,d.D)(e).subscribe(e=>{this.counts.discoveredCount=(null==e?void 0:e.mappedCount)+(null==e?void 0:e.unmappedCount),this.counts.mappedCount=null==e?void 0:e.mappedCount,this.getMappedPercentage(),this.show.count=!0})}getMappedPercentage(){this.mappedPercentage=this.counts.mappedCount/this.counts.discoveredCount*100,this.mappedPercentage=this.mappedPercentage?this.mappedPercentage.toFixed(2):0}routeToDevicePlaceholder(e){this.router.navigate([`${this.MODULE}/devices-name-placeholder`],{state:{deviceIp:e}})}setTableOptions(e){this.statusTableOptions={pagingType:"full_numbers",order:[0,"asc"],columnDefs:[{targets:[1,2,3,4],orderable:!1}],stateSave:!1,pageLength:10,lengthChange:!0,ordering:!0,searching:!0},this.tableLanguageOptions(),e&&"language"==e?setTimeout(()=>{this.rerender(),this.show.loading=!1},200):setTimeout(()=>{this.show.loading=!1},200)}rerender(){var e;!(null===(e=this.dtElement)||void 0===e?void 0:e.dtInstance)||this.dtElement.dtInstance.then(e=>{e.destroy(),this.dtTrigger.next()})}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.statusTableOptions.language=this.translateService.fr:"es"==this.language.fileLanguage?this.statusTableOptions.language=this.translateService.es:"de_DE"==this.language.fileLanguage?this.statusTableOptions.language=this.translateService.de_DE:"en"==this.language.fileLanguage&&this.statusTableOptions.language&&delete this.statusTableOptions.language}openInfoModal(){this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)}closeModal(){this.modalRef&&this.modalRef.close()}pageErrorHandle(e,t){var i,s,a;let n="";404!==(null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.code)&&(400==e.status||417==e.status?(this.infoBody=417==e.status&&(null===(s=null==e?void 0:e.error)||void 0===s?void 0:s.message)?null===(a=null==e?void 0:e.error)||void 0===a?void 0:a.message:this.commonOrgService.pageInvalidRqstErrorHandle(e),this.infoTitle=t||"Error",this.openInfoModal(),this.show.loading=!1):(n=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(n),this.commonOrgService.pageScrollTop(),this.show.loading=!1,setTimeout(()=>{this.commonOrgService.closeAlert()},3e3)))}formatBytes(e,t=2){if(!+e)return"0 Bits";const i=t<0?0:t,s=Math.floor(Math.log(e)/Math.log(1e3));return`${parseFloat((e/Math.pow(1e3,s)).toFixed(i))} ${["Bits","Kbps","Mbps","Gbps","Tbps","Pbps","Ebps","Zbps","Ybps"][s]}`}formatPacket(e,t=2){if(!+e)return"0 pps";const i=t<0?0:t,s=Math.floor(Math.log(e)/Math.log(1e3));return`${parseFloat((e/Math.pow(1e3,s)).toFixed(i))} ${["pps","Kpps","Mpps","Gpps","Tbps","Ppps","Epps","Zpps","Ypsps"][s]}`}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(u.s),r.Y36(f.v),r.Y36(I.Dx),r.Y36(a.F0),r.Y36(v.t6),r.Y36(S.U),r.Y36(V.eN),r.Y36(h.v),r.Y36(m.FF))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-devices-status"]],viewQuery:function(e,t){if(1&e&&(r.Gf(C,7),r.Gf(o.G,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.infoModal=e.first),r.iGM(e=r.CRH())&&(t.dtElement=e.first)}},decls:21,vars:15,consts:[["class","loader",4,"ngIf"],["class","d-flex align-items-start w-100 my-3",4,"ngIf"],[1,"row"],[1,"col-12","col-lg-12"],["width","100%","id","statusDataTable","datatable","",1,"table","w-100",3,"dtTrigger","dtOptions"],[4,"ngIf"],["infoModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"d-flex","align-items-start","w-100","my-3"],[1,"border-left","line-height-normal","px-3","mr-3"],[1,"stats-label","mb-0"],[1,"stats-value"],[1,"border-left","line-height-normal","px-3"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[1,"primary","cursor-pointer","text-decoration-none","text-break",3,"click"],["colspan","5",1,"no-data-available"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","modal-scrll"],[1,"w-100"],[1,"f-size-16px"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"]],template:function(e,t){1&e&&(r.YNc(0,y,5,0,"div",0),r.YNc(1,P,16,6,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"table",4),r.TgZ(5,"thead"),r.TgZ(6,"tr"),r.TgZ(7,"th"),r._uU(8),r.qZA(),r.TgZ(9,"th"),r._uU(10),r.qZA(),r.TgZ(11,"th"),r._uU(12),r.qZA(),r.TgZ(13,"th"),r._uU(14),r.qZA(),r.TgZ(15,"th"),r._uU(16),r.qZA(),r.qZA(),r.qZA(),r.YNc(17,N,2,1,"tbody",5),r.YNc(18,E,4,1,"tbody",5),r.qZA(),r.qZA(),r.qZA(),r.YNc(19,L,12,3,"ng-template",null,6,r.W1O)),2&e&&(r.Q6J("ngIf",null==t.show?null:t.show.loading),r.xp6(1),r.Q6J("ngIf",t.show.count),r.xp6(3),r.Q6J("dtTrigger",t.dtTrigger)("dtOptions",t.statusTableOptions),r.xp6(4),r.Oqu(t.language.deviceIP),r.xp6(2),r.AsE("",t.language.flowRate," (",t.language.perSecond,")"),r.xp6(2),r.AsE("",t.language.packetRate," (",t.language.perSecond,")"),r.xp6(2),r.AsE("",t.language.virtualPacketRate," (",t.language.perSecond,")"),r.xp6(2),r.AsE("",t.language.virtualBitRate," (",t.language.perSecond,")"),r.xp6(1),r.Q6J("ngIf",null==t.deviceStatusData?null:t.deviceStatusData.length),r.xp6(1),r.Q6J("ngIf",!(null!=t.deviceStatusData&&t.deviceStatusData.length)))},directives:[s.O5,o.G,s.sg],styles:[""]}),e})();var R=i(3679),F=i(86640);const J=["infoModal"],H=["deleteModal"],$=["multiDeleteModal"],Y=["importModal"];function G(e,t){1&e&&(r.TgZ(0,"div",24),r.TgZ(1,"div",25),r.TgZ(2,"div",26),r.TgZ(3,"span",27),r._uU(4,"Loading..."),r.qZA(),r.qZA(),r.qZA(),r.qZA())}function Q(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",28),r.TgZ(1,"div",29),r.TgZ(2,"div",30),r.TgZ(3,"div"),r.TgZ(4,"button",31),r.NdJ("click",function(){return r.CHM(e),r.oxw().create()}),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"div"),r.TgZ(7,"button",32),r.NdJ("click",function(){return r.CHM(e),r.oxw().export()}),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"div",33),r.TgZ(10,"button",34),r.NdJ("click",function(){return r.CHM(e),r.oxw().fullImportUpload()}),r._uU(11),r.qZA(),r.TgZ(12,"input",35,36),r.NdJ("click",function(){return r.CHM(e),r.MAs(13).value=null})("change",function(t){return r.CHM(e),r.oxw().fullImport("FullImport",t)}),r.qZA(),r.qZA(),r.TgZ(14,"div",33),r.TgZ(15,"label",37),r._uU(16),r.qZA(),r.TgZ(17,"input",38,39),r.NdJ("click",function(){return r.CHM(e),r.MAs(18).value=null})("change",function(t){return r.CHM(e),r.oxw().fullImport("IncImport",t)}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"div",40),r.TgZ(20,"div",41),r._UZ(21,"input",42),r.TgZ(22,"button",43),r._UZ(23,"i",44),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(5),r.Oqu(e.language.create),r.xp6(3),r.Oqu(e.language.export),r.xp6(3),r.Oqu(e.language.fullImport),r.xp6(5),r.hij("",e.language.incrementalImport," ")}}const j=function(){return{standalone:!0}};function B(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"section"),r.TgZ(1,"div",4),r.TgZ(2,"div",45),r.TgZ(3,"form"),r.TgZ(4,"div",46),r.TgZ(5,"label",47),r._uU(6),r.qZA(),r.TgZ(7,"div",48),r.TgZ(8,"input",49),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().name=t})("blur",function(){r.CHM(e);const t=r.oxw();return t.removeUnwantedSpace("name",t.name)}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",46),r.TgZ(10,"label",50),r._uU(11),r.TgZ(12,"span"),r._UZ(13,"i",51),r.qZA(),r.qZA(),r.TgZ(14,"div",48),r.TgZ(15,"input",52),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().deviceIPV4=t})("blur",function(){r.CHM(e);const t=r.oxw();return t.removeUnwantedSpace("deviceIPV4",t.deviceIPV4)}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"div",46),r.TgZ(17,"label",53),r._uU(18),r.TgZ(19,"span"),r._UZ(20,"i",51),r.qZA(),r.qZA(),r.TgZ(21,"div",48),r.TgZ(22,"input",54),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().deviceIPV6=t})("blur",function(){r.CHM(e);const t=r.oxw();return t.removeUnwantedSpace("deviceIPV6",t.deviceIPV6)}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(23,"div",46),r.TgZ(24,"label",55),r._uU(25),r.TgZ(26,"span"),r._UZ(27,"i",51),r.qZA(),r.qZA(),r.TgZ(28,"div",48),r.TgZ(29,"ng-select",56),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().ignoreUpStream=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(30,"div",46),r.TgZ(31,"label",57),r._uU(32),r.TgZ(33,"span"),r._UZ(34,"i",51),r.qZA(),r.qZA(),r.TgZ(35,"div",48),r.TgZ(36,"ng-select",58),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().ignoreDownStream=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(37,"div",46),r.TgZ(38,"label",59),r._uU(39),r.TgZ(40,"span"),r._UZ(41,"i",51),r.qZA(),r.qZA(),r.TgZ(42,"div",48),r.TgZ(43,"ng-select",60),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().ignoreLocal=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(44,"div",46),r.TgZ(45,"label",61),r._uU(46),r.TgZ(47,"span",62),r._uU(48,"*"),r.qZA(),r.TgZ(49,"span"),r._UZ(50,"i",51),r.qZA(),r.qZA(),r.TgZ(51,"div",48),r.TgZ(52,"input",63),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().samplingLimit=t})("keypress",function(t){return r.CHM(e),r.oxw().inputValidator(t)}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(53,"div",64),r.TgZ(54,"div",65),r.TgZ(55,"button",66),r.NdJ("click",function(){return r.CHM(e),r.oxw().submit()}),r._uU(56),r.qZA(),r.TgZ(57,"button",67),r.NdJ("click",function(){return r.CHM(e),r.oxw().cancel()}),r._uU(58),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(6),r.Oqu(e.language.name),r.xp6(2),r.Q6J("ngModel",e.name)("ngModelOptions",r.DdM(41,j)),r.xp6(3),r.hij("",e.language.deviceipv4," "),r.xp6(2),r.s9C("title",e.language.deviceiptooltip),r.xp6(2),r.Q6J("ngModel",e.deviceIPV4)("ngModelOptions",r.DdM(42,j)),r.xp6(3),r.hij("",e.language.deviceipv6," "),r.xp6(2),r.s9C("title",e.language.deviceiptooltip),r.xp6(2),r.Q6J("ngModel",e.deviceIPV6)("ngModelOptions",r.DdM(43,j)),r.xp6(3),r.hij("",e.language.ignoreUpstream," "),r.xp6(2),r.s9C("title",e.language.ignoreupstreamtooltip),r.xp6(2),r.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.ignoreUpStream)("ngModelOptions",r.DdM(44,j))("clearable",!1)("searchable",!1),r.xp6(3),r.hij("",e.language.ignoreDownstream," "),r.xp6(2),r.s9C("title",e.language.ignoredownstreamtooltip),r.xp6(2),r.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.ignoreDownStream)("ngModelOptions",r.DdM(45,j))("clearable",!1)("searchable",!1),r.xp6(3),r.hij("",e.language.ignoreLocal," "),r.xp6(2),r.s9C("title",e.language.ignoreinternal),r.xp6(2),r.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.ignoreLocal)("ngModelOptions",r.DdM(46,j))("clearable",!1)("searchable",!1),r.xp6(3),r.hij("",e.language.sampling," "),r.xp6(4),r.s9C("title",e.language.samplingRateToolTip),r.xp6(2),r.Q6J("ngModel",e.samplingLimit)("ngModelOptions",r.DdM(47,j)),r.xp6(4),r.Oqu(e.language.submit),r.xp6(2),r.Oqu(e.language.Cancel)}}function z(e,t){if(1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td"),r._uU(16),r.qZA(),r.TgZ(17,"td"),r._uU(18),r.qZA(),r.TgZ(19,"td"),r._uU(20),r.qZA(),r.TgZ(21,"td"),r._uU(22),r.qZA(),r.TgZ(23,"td"),r._uU(24),r.qZA(),r.TgZ(25,"td"),r._uU(26),r.qZA(),r.TgZ(27,"td"),r._uU(28),r.qZA(),r.TgZ(29,"td"),r._uU(30),r.qZA(),r.TgZ(31,"td"),r._uU(32),r.qZA(),r.TgZ(33,"td"),r._uU(34),r.qZA(),r.TgZ(35,"td"),r._uU(36),r.qZA(),r.qZA()),2&e){const e=t.$implicit;r.xp6(2),r.Oqu(e.action),r.xp6(2),r.Oqu(e.name),r.xp6(2),r.Oqu(e["Old name"]),r.xp6(2),r.Oqu(e.deviceIpV4),r.xp6(2),r.Oqu(e.deviceIpV6),r.xp6(2),r.Oqu(e.samplingRate),r.xp6(2),r.Oqu(e["Old samplingRate"]),r.xp6(2),r.Oqu(e["Old hostName"]),r.xp6(2),r.Oqu(e.receivingPort),r.xp6(2),r.Oqu(e["Old receivingPort"]),r.xp6(2),r.Oqu(e.flowType),r.xp6(2),r.Oqu(e["Old flowType"]),r.xp6(2),r.Oqu(e.ignoreUpstream),r.xp6(2),r.Oqu(e["Old ignoreUpstream"]),r.xp6(2),r.Oqu(e.ignoreDownstream),r.xp6(2),r.Oqu(e["Old ignoreDownstream"]),r.xp6(2),r.Oqu(e.ignoreInternal),r.xp6(2),r.Oqu(e["Old ignoreInternal"])}}function W(e,t){if(1&e&&(r.TgZ(0,"div",4),r.TgZ(1,"div",70),r.TgZ(2,"table",71),r.TgZ(3,"thead"),r.TgZ(4,"tr"),r.TgZ(5,"th"),r._uU(6),r.qZA(),r.TgZ(7,"th"),r._uU(8),r.qZA(),r.TgZ(9,"th"),r._uU(10),r.qZA(),r.TgZ(11,"th"),r._uU(12),r.qZA(),r.TgZ(13,"th"),r._uU(14),r.qZA(),r.TgZ(15,"th"),r._uU(16),r.qZA(),r.TgZ(17,"th"),r._uU(18),r.qZA(),r.TgZ(19,"th"),r._uU(20),r.qZA(),r.TgZ(21,"th"),r._uU(22),r.qZA(),r.TgZ(23,"th"),r._uU(24),r.qZA(),r.TgZ(25,"th"),r._uU(26),r.qZA(),r.TgZ(27,"th"),r._uU(28),r.qZA(),r.TgZ(29,"th"),r._uU(30),r.qZA(),r.TgZ(31,"th"),r._uU(32),r.qZA(),r.TgZ(33,"th"),r._uU(34),r.qZA(),r.TgZ(35,"th"),r._uU(36),r.qZA(),r.TgZ(37,"th"),r._uU(38),r.qZA(),r.TgZ(39,"th"),r._uU(40),r.qZA(),r.qZA(),r.qZA(),r.TgZ(41,"tbody"),r.YNc(42,z,37,18,"tr",72),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(2),r.Q6J("dtOptions",e.importTableOptions),r.xp6(4),r.Oqu(e.language.action),r.xp6(2),r.Oqu(e.language.name),r.xp6(2),r.AsE("",e.language.old," ",e.language.name,""),r.xp6(2),r.Oqu(e.language.deviceipv4),r.xp6(2),r.Oqu(e.language.deviceipv6),r.xp6(2),r.Oqu(e.language.sampling),r.xp6(2),r.AsE("",e.language.old," ",e.language.sampling,""),r.xp6(2),r.Oqu(e.language.hostName),r.xp6(2),r.Oqu(e.language.listeningPort),r.xp6(2),r.AsE("",e.language.old," ",e.language.listeningPort,""),r.xp6(2),r.Oqu(e.language.flowType),r.xp6(2),r.AsE("",e.language.old," ",e.language.flowType,""),r.xp6(2),r.Oqu(e.language.ignoreUpstream),r.xp6(2),r.AsE("",e.language.old," ",e.language.ignoreUpstream,""),r.xp6(2),r.Oqu(e.language.ignoreDownstream),r.xp6(2),r.AsE("",e.language.old," ",e.language.ignoreDownstream,""),r.xp6(2),r.Oqu(e.language.ignoreLocal),r.xp6(2),r.AsE("",e.language.old," ",e.language.ignoreLocal,""),r.xp6(2),r.Q6J("ngForOf",e.previewTableBody)}}function X(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"section"),r.YNc(1,W,43,27,"div",68),r.TgZ(2,"div",64),r.TgZ(3,"div",65),r.TgZ(4,"button",69),r.NdJ("click",function(){return r.CHM(e),r.oxw().importSubmit()}),r._uU(5),r.qZA(),r.TgZ(6,"button",67),r.NdJ("click",function(){return r.CHM(e),r.oxw().cancel()}),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.tablePreview),r.xp6(3),r.Q6J("disabled",!e.enableImportSubmit),r.xp6(1),r.Oqu(e.language.submit),r.xp6(2),r.Oqu(e.language.Cancel)}}function K(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",80),r.TgZ(1,"div",81),r.TgZ(2,"span",82),r.TgZ(3,"div",83),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw().edit(t)}),r._UZ(4,"i",84),r.qZA(),r.qZA(),r.TgZ(5,"span",82),r.TgZ(6,"input",85),r.NdJ("click",function(t){r.CHM(e);const i=r.oxw().$implicit;return r.oxw().getDeleteIds(t,i)}),r.qZA(),r.qZA(),r.TgZ(7,"span",82),r.TgZ(8,"div",83),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw().delete(t)}),r._UZ(9,"i",15),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().$implicit,t=r.oxw();r.xp6(3),r.MGl("id","edit-btn",e._id,""),r.s9C("title",t.language.Edit),r.xp6(3),r.Gre("delete_device_id_",e._id,""),r.s9C("value",e._id),r.MGl("name","delete_device_id_",e._id,""),r.MGl("id","delete_deviceip_",e._id,""),r.s9C("title",t.language.Select),r.xp6(2),r.MGl("id","delete-btn",e._id,""),r.s9C("title",t.language.Delete)}}function ee(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",86),r.TgZ(1,"div",81),r.TgZ(2,"span",87),r.TgZ(3,"div",88),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).updateSave()}),r._UZ(4,"i",89),r.qZA(),r.qZA(),r.TgZ(5,"span",87),r.TgZ(6,"div",90),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).updateCancel()}),r._UZ(7,"i",91),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().$implicit;r.xp6(3),r.MGl("id","save-btn",e._id,""),r.xp6(3),r.MGl("id","cancel-btn",e._id,"")}}function te(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.name," ")}}function ie(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",41),r.TgZ(1,"input",92),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).editName=t})("blur",function(){r.CHM(e);const t=r.oxw(2);return t.removeUnwantedSpace("editName",t.editName)}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().$implicit,t=r.oxw();r.xp6(1),r.s9C("value",e.name),r.Q6J("ngModel",t.editName)("ngModelOptions",r.DdM(3,j))}}function se(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.deviceIpV4," \xa0 ")}}function ae(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",41),r.TgZ(1,"input",92),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).editDeviceIPV4=t})("blur",function(){r.CHM(e);const t=r.oxw(2);return t.removeUnwantedSpace("editDeviceIPV4",t.editDeviceIPV4)}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().$implicit,t=r.oxw();r.xp6(1),r.s9C("value",e.deviceIpV4),r.Q6J("ngModel",t.editDeviceIPV4)("ngModelOptions",r.DdM(3,j))}}function ne(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.deviceIpV6," \xa0 ")}}function oe(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",41),r.TgZ(1,"input",92),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).editDeviceIPV6=t})("blur",function(){r.CHM(e);const t=r.oxw(2);return t.removeUnwantedSpace("editDeviceIPV6",t.editDeviceIPV6)}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().$implicit,t=r.oxw();r.xp6(1),r.s9C("value",e.deviceIpV6),r.Q6J("ngModel",t.editDeviceIPV6)("ngModelOptions",r.DdM(3,j))}}function le(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.samplingRate," ")}}function de(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",41),r.TgZ(1,"input",93),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).editSamplingLimit=t}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().$implicit,t=r.oxw();r.xp6(1),r.s9C("value",e.samplingRate),r.Q6J("ngModel",t.editSamplingLimit)("ngModelOptions",r.DdM(3,j))}}function re(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.ignoreUpstream?"Yes":"No"," ")}}function ce(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"ng-select",94),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).editIgnoreUpStream=t}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.editIgnoreUpStream)("ngModelOptions",r.DdM(6,j))("clearable",!1)("searchable",!1)}}function he(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.ignoreDownstream?"Yes":"No"," ")}}function ge(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"ng-select",94),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).editIgnoreDownStream=t}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.editIgnoreDownStream)("ngModelOptions",r.DdM(6,j))("clearable",!1)("searchable",!1)}}function pe(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.ignoreInternal?"Yes":"No"," ")}}function ue(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"ng-select",94),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).editIgnoreLocal=t}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("items",e.selectOptions)("multiple",!1)("ngModel",e.editIgnoreLocal)("ngModelOptions",r.DdM(6,j))("clearable",!1)("searchable",!1)}}function ve(e,t){if(1&e&&(r.TgZ(0,"tr",73),r.TgZ(1,"td",74),r.YNc(2,K,10,11,"div",75),r.YNc(3,ee,8,2,"div",76),r.qZA(),r.TgZ(4,"td",77),r.YNc(5,te,2,1,"div",3),r.YNc(6,ie,2,4,"div",78),r.qZA(),r.TgZ(7,"td",79),r.YNc(8,se,2,1,"div",3),r.YNc(9,ae,2,4,"div",78),r.qZA(),r.TgZ(10,"td",79),r.YNc(11,ne,2,1,"div",3),r.YNc(12,oe,2,4,"div",78),r.qZA(),r.TgZ(13,"td"),r.YNc(14,le,2,1,"div",3),r.YNc(15,de,2,4,"div",78),r.qZA(),r.TgZ(16,"td"),r._uU(17),r.qZA(),r.TgZ(18,"td"),r._uU(19),r.qZA(),r.TgZ(20,"td"),r._uU(21),r.qZA(),r.TgZ(22,"td"),r.YNc(23,re,2,1,"div",3),r.YNc(24,ce,2,7,"div",3),r.qZA(),r.TgZ(25,"td"),r.YNc(26,he,2,1,"div",3),r.YNc(27,ge,2,7,"div",3),r.qZA(),r.TgZ(28,"td"),r.YNc(29,pe,2,1,"div",3),r.YNc(30,ue,2,7,"div",3),r.qZA(),r.qZA()),2&e){const e=t.$implicit,i=r.oxw();r.s9C("id",e._id),r.xp6(2),r.Q6J("ngIf",i.editOnValue!=e._id),r.xp6(1),r.Q6J("ngIf",i.editOnValue==e._id),r.xp6(2),r.Q6J("ngIf",i.editOnValue!=e._id),r.xp6(1),r.Q6J("ngIf",i.editOnValue==e._id),r.xp6(2),r.Q6J("ngIf",i.editOnValue!=e._id),r.xp6(1),r.Q6J("ngIf",i.editOnValue==e._id),r.xp6(2),r.Q6J("ngIf",i.editOnValue!=e._id),r.xp6(1),r.Q6J("ngIf",i.editOnValue==e._id),r.xp6(2),r.Q6J("ngIf",i.editOnValue!=e._id),r.xp6(1),r.Q6J("ngIf",i.editOnValue==e._id),r.xp6(2),r.AsE(" ",e.hostName?e.hostName.slice(0,25):"","",e.hostName&&e.hostName.length>25?"...":""," "),r.xp6(2),r.hij(" ",e.receivingPort||0==e.receivingPort?e.receivingPort:""," "),r.xp6(2),r.hij(" ",e.flowType?e.flowType:""," "),r.xp6(2),r.Q6J("ngIf",i.editOnValue!=e._id),r.xp6(1),r.Q6J("ngIf",i.editOnValue==e._id),r.xp6(2),r.Q6J("ngIf",i.editOnValue!=e._id),r.xp6(1),r.Q6J("ngIf",i.editOnValue==e._id),r.xp6(2),r.Q6J("ngIf",i.editOnValue!=e._id),r.xp6(1),r.Q6J("ngIf",i.editOnValue==e._id)}}function me(e,t){if(1&e&&(r.TgZ(0,"li",77),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.Oqu(e.name)}}function fe(e,t){if(1&e&&(r.TgZ(0,"ul",105),r.YNc(1,me,2,1,"li",106),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("ngForOf",e.invalidImportDevice)}}function Ie(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",95),r.TgZ(1,"h4",96),r._uU(2),r.qZA(),r.TgZ(3,"button",97),r.NdJ("click",function(){return r.CHM(e),r.oxw().closeModal()}),r._UZ(4,"span",98),r.qZA(),r.qZA(),r.TgZ(5,"div",99),r.TgZ(6,"p",100),r._uU(7),r.qZA(),r.TgZ(8,"div",101),r.TgZ(9,"p",100),r._uU(10),r.qZA(),r.YNc(11,fe,2,1,"ul",102),r.qZA(),r.qZA(),r.TgZ(12,"div",103),r.TgZ(13,"button",104),r.NdJ("click",function(){return r.CHM(e),r.oxw().closeModal()}),r._uU(14),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.Oqu(e.infoTitle),r.xp6(5),r.hij("",e.invalidImportDevice.length?e.language.Note+" - "+e.language["No device imported"]:""," "),r.xp6(3),r.Oqu(e.infoBody),r.xp6(1),r.Q6J("ngIf",e.invalidImportDevice.length),r.xp6(3),r.Oqu(e.language.Okay)}}function be(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"div",95),r.TgZ(2,"h4",96),r._uU(3),r.qZA(),r.TgZ(4,"button",97),r.NdJ("click",function(){return r.CHM(e),r.oxw().cancelDelete()}),r._UZ(5,"span",98),r.qZA(),r.qZA(),r.TgZ(6,"div",99),r.TgZ(7,"table",101),r.TgZ(8,"tr"),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"div",103),r.TgZ(16,"button",104),r.NdJ("click",function(){return r.CHM(e),r.oxw().confirmDelete()}),r._uU(17),r.qZA(),r.TgZ(18,"button",107),r.NdJ("click",function(){return r.CHM(e),r.oxw().cancelDelete()}),r._uU(19),r.qZA(),r.qZA(),r.BQk()}if(2&e){const e=r.oxw();r.xp6(3),r.Oqu(e.infoTitle),r.xp6(7),r.Oqu(e.deleteData.name?e.deleteData.name:""),r.xp6(2),r.hij("",e.deleteData.deviceIpV4?e.deleteData.deviceIpV4:e.deleteData.deviceIpV6?e.deleteData.deviceIpV6:""," "),r.xp6(2),r.Oqu(e.deleteData.hostName?e.deleteData.hostName:""),r.xp6(3),r.Oqu(e.language.Okay),r.xp6(2),r.Oqu(e.language.Cancel)}}function Ze(e,t){if(1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td",108),r._uU(2),r.qZA(),r.TgZ(3,"td",108),r._uU(4),r.qZA(),r.TgZ(5,"td",108),r._uU(6),r.qZA(),r.qZA()),2&e){const e=t.$implicit,i=t.index,s=r.oxw(2);r.xp6(2),r.Oqu(s.deleteDevices[i].name?s.deleteDevices[i].name:""),r.xp6(2),r.Oqu(e||""),r.xp6(2),r.Oqu(s.deleteDevices[i].hostName?s.deleteDevices[i].hostName:"")}}function Te(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",95),r.TgZ(1,"h4",96),r._uU(2),r.qZA(),r.TgZ(3,"button",97),r.NdJ("click",function(){return r.CHM(e),r.oxw().closeModal()}),r._UZ(4,"span",98),r.qZA(),r.qZA(),r.TgZ(5,"div",99),r.TgZ(6,"table",101),r.YNc(7,Ze,7,3,"tr",72),r.qZA(),r.qZA(),r.TgZ(8,"div",103),r.TgZ(9,"button",104),r.NdJ("click",function(){return r.CHM(e),r.oxw().confirmDeleteSecleted()}),r._uU(10),r.qZA(),r.TgZ(11,"button",107),r.NdJ("click",function(){return r.CHM(e),r.oxw().closeModal()}),r._uU(12),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.Oqu(e.infoTitle),r.xp6(5),r.Q6J("ngForOf",e.deviceIps),r.xp6(3),r.Oqu(e.language.Okay),r.xp6(2),r.Oqu(e.language.Cancel)}}function De(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",95),r.TgZ(1,"h4",96),r._uU(2),r.qZA(),r.TgZ(3,"button",97),r.NdJ("click",function(){return r.CHM(e),r.oxw().closeModal()}),r._UZ(4,"span",98),r.qZA(),r.qZA(),r.TgZ(5,"div",99),r._UZ(6,"table",109),r.qZA(),r.TgZ(7,"div",103),r.TgZ(8,"button",104),r.NdJ("click",function(){return r.CHM(e),r.oxw().proceedImport()}),r._uU(9),r.qZA(),r.TgZ(10,"button",107),r.NdJ("click",function(){return r.CHM(e),r.oxw().closeModal()}),r._uU(11),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.Oqu(e.infoTitle),r.xp6(4),r.Q6J("innerHtml",e.infoBody,r.oJD),r.xp6(3),r.Oqu(e.language.Okay),r.xp6(2),r.Oqu(e.language.Cancel)}}const xe=i(91704),Ae=[{path:"",component:_,children:[{path:"devices-status",component:k,data:{title:"Calix Cloud - Flow Configuration"}},{path:"devices-configuration",component:(()=>{class e{constructor(e,t,i,s,a,n,o,d,r,c,h){this.commonFunctionsService=e,this.api=t,this.exportExcel=i,this.dataTablecreatorService=s,this.translateService=a,this.router=n,this.sso=o,this.dialogService=d,this.commonOrgService=r,this.titleService=c,this.common=h,this.infoTitle="",this.infoBody="",this.formVisible=!1,this.buttonVisible=!0,this.dataAvailable=!1,this.showingDeviceIpv6=null,this.selectOptions=[{name:"No",value:!1},{name:"Yes",value:!0}],this.flowType=[{name:"netflow"},{name:"cflow"},{name:"sflow"}],this.importTableOptions={pagingType:"full_numbers",pageLength:10,order:[0,"asc"],scrollX:!0,dom:"tipr"},this.statusTableOptions={pagingType:"full_numbers",pageLength:10},this.tablePreview=!1,this.currentTableRowCount=0,this.tableOptions={pagingType:"full_numbers",pageLength:10,rowId:"_id",scrollX:!0,stateSave:!1,order:[1,"asc"],columnDefs:[{targets:[0],orderable:!1}],drawCallback:e=>{this.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(()=>{this.resetDelete()},0),this.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength&&xe(e.nTableWrapper).find(`#${e.sTableId}_last`).addClass("disabled")}},this.deviceData=[],this.deviceIPError=!1,this.deviceIP6Error=!1,this.ignoreUpStream=!1,this.ignoreDownStream=!1,this.ignoreLocal=!1,this.samplingLimitError=!1,this.geoCoordinateError=!1,this.addressError=!1,this.validation=!1,this.empty={"Device IPv4":"","Device IPv6":"",Sampling:"","Receiving Port":"","Ignore Upstream":"","Ignore Downstream":"","Host Name":"","Ignore Local":"",Name:"","Rate Limit":"","Flow Type":""},this.loading=!0,this.dtOptions={},this.dtTrigger=new l.xQ,this.isRerender=!1,this.editIgnoreUpStream=!1,this.editIgnoreDownStream=!1,this.editIgnoreLocal=!1,this.storageData={},this.errorInfo="",this.successInfo="",this.importUpdateASCreate=[],this.sortData={column:1,type:"asc"},this.columnName={deviceIpV4:"Device IPv4",deviceIpV6:"Device IPv6",samplingRate:"Sampling",receivingPort:"Receiving Port",ignoreUpstream:"Ignore Upstream",ignoreDownstream:"Ignore Downstream",hostName:"Host Name",ignoreInternal:"Ignore Local",name:"Name",rateLimit:"Rate Limit"},this.invalidImportDevice=[],this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.language=this.translateService.defualtLanguage,this.translateSubscribe=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.dataAvailable=!1,this.isRerender=!0,this.titleService.setTitle(`${this.language.Configuration} - ${this.language.devices} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`),this.tableCreator("language")}),this.commonOrgService.closeAlert();let g=this.router.url;this.frTable=this.translateService.fr,this.ORG_ID=this.sso.getOrganizationID(g),this.MODULE=this.sso.getRedirectModule(g),this.titleService.setTitle(`${this.language.Configuration} - ${this.language.devices} - ${this.language.Network} - ${this.language.flowconfiguration} - ${"systemAdministration"===this.MODULE?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}ngOnInit(){this.apiLoader(),this.tableLanguageOptions();const e=JSON.parse(localStorage.getItem("calix.login_data"));this.storageData.clientIp=null==e?void 0:e.clientIp,this.storageData.UserId=null==e?void 0:e.UserId,this.subscription=this.dataTablecreatorService.tableOptionsData.subscribe(e=>{this.invalidImportDevice=[];try{let t=!0;(e||[]).forEach(e=>(this.commonFunctionsService.keysFromColumnName(e,this.columnName),e.name.length&&e.name.length>64?(this.invalidImportDevice.push(e),this.infoTitle=this.language["Invalid Value"],this.infoBody=`${this.language["Invalid Device Name"]} - Name should not exceed 64 characters.`,t=!1,void this.openInfoModal(!0)):e.samplingRate&&(this.samplingRateValidator(Number(e.samplingRate)),this.samplingLimitError)?(this.infoTitle=this.language["Invalid value"],this.infoBody=this.language["The sampling rate should be an integer value greater than 0 and less than 65536."],t=!1,void this.openInfoModal(!1)):void 0)),t&&(this.recreateTable=e,this.importSubmit(!0))}catch(t){}}),this.closeAlert(),this.removeState()}ngAfterViewInit(){this.loaded=!0}ngOnDestroy(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSubscribe&&this.translateSubscribe.unsubscribe(),this.subscription&&this.subscription.unsubscribe(),this.deviceListSubs&&this.deviceListSubs.unsubscribe(),this.deviceAddSubs&&this.deviceAddSubs.unsubscribe(),this.deviceUpdateSubs&&this.deviceUpdateSubs.unsubscribe(),this.deviceDeleteSubs&&this.deviceDeleteSubs.unsubscribe(),this.deviceExportSubs&&this.deviceExportSubs.unsubscribe(),this.deviceImportSubs&&this.deviceImportSubs.unsubscribe()}apiLoader(){this.deviceListSubs=this.api.DeviceList(this.ORG_ID).subscribe(e=>{this.deviceData=[...e],this.deviceData&&(this.deviceData=this.dataConvertor(this.deviceData),this.deviceData=[...this.deviceData],this.tableCreator(),this.isRerender?(this.rerender(),this.isRerender=!1):(this.dtTrigger.next(),this.loading=!1),setTimeout(()=>{this.resetDelete()},100))},e=>{this.pageErrorHandle(e),this.deviceData=[],this.tableCreator(),this.isRerender?(this.rerender(),this.isRerender=!1):(this.dtTrigger.next(),this.loading=!1)})}dataConvertor(e){return(0,n.isArray)(e)&&e.forEach(e=>{e.deviceIp=null==e.deviceIpV4||""==e.deviceIpV4?null==e.deviceIpV6||""==e.deviceIpV6?"":e.deviceIpV6:e.deviceIpV4,e.address=e.address?e.address:"",e.flowType=e.flowType?e.flowType:"",e.observationName=""}),e}tableCreator(e){let t=this;this.tableOptions={pagingType:"full_numbers",pageLength:10,rowId:"_id",scrollX:!0,stateSave:!1,order:[t.sortData.column,t.sortData.type],columnDefs:[{targets:[0],orderable:!1}],drawCallback:e=>{t.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(()=>{this.resetDelete()},0),this.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength?xe(e.nTableWrapper).find("#device-table_last").addClass("disabled"):xe(e.nTableWrapper).find("#device-table_last").removeClass("disabled")}},this.tableLanguageOptions(),e&&"language"==e?setTimeout(()=>{this.dataAvailable=!0,this.rerender()},200):setTimeout(()=>{this.dataAvailable=!0,this.loading=!1},500)}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.tableOptions.language=this.frTable:"es"==this.language.fileLanguage?this.tableOptions.language=this.translateService.es:"de_DE"==this.language.fileLanguage?this.tableOptions.language=this.translateService.de_DE:"en"==this.language.fileLanguage&&this.tableOptions.language&&delete this.tableOptions.language}rerender(){this.dtElement.dtInstance.then(e=>{e.destroy(),this.tableOptions.order=[this.sortData.column,this.sortData.type],setTimeout(()=>{this.dtTrigger.next()},10)})}search(e){this.dtElement.dtInstance.then(t=>{t.search(e).draw()})}create(){this.buttonVisible=!1,this.formVisible=!0}submit(){if(this.validation=!1,this.deviceIPError=!1,this.deviceIP6Error=!1,this.ipv4=void 0,this.ipv6=void 0,this.name=this.name?this.name.trim():"",this.name.length&&this.name.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody=`${this.language["Invalid Device Name"]} - Name should not exceed 64 characters.`,void this.openInfoModal(!1);if(this.deviceIPV4&&this.deviceIpValidatorIpv4(this.deviceIPV4),this.deviceIPV6&&this.deviceIpValidatorIpv6(this.deviceIPV6),this.deviceIPError||this.deviceIP6Error||!this.deviceIPV4&&!this.deviceIPV6)return this.infoTitle=this.language["Invalid request"],this.infoBody=this.language["Invalid IP address"],void this.openInfoModal(!1);if(this.samplingRateValidator(this.samplingLimit),this.samplingLimitError)return this.infoTitle=this.language["Invalid value"],this.infoBody=this.language["The sampling rate should be an integer value greater than 0 and less than 65536."],void this.openInfoModal(!1);let e={deviceIpV4:this.ipv4?this.ipv4:"",deviceIpV6:this.ipv6?this.ipv6:"",ignoreDownstream:this.ignoreDownStream,ignoreInternal:this.ignoreLocal,ignoreUpstream:this.ignoreUpStream,orgId:this.ORG_ID?this.ORG_ID:50,samplingRate:+this.samplingLimit,name:this.name?this.name.trim():"",rateLimit:0,receivingPort:2058,tenantId:0,address:this.address?this.address.trim():""};this.loading=!0,this.deviceAddSubs=this.api.DeviceAdd(e,this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.cancel(),this.apiLoader()},e=>{this.pageErrorHandle(e)})}cancel(){this.formVisible=!1,this.buttonVisible=!0,this.tablePreview=!1,this.reset()}edit(e){var t;this.editData=e,this.editOnValue=e._id,this.editName=e.name?e.name:"",this.editHostName=e.hostName?e.hostName:"",this.editDeviceIPV4=e.deviceIpV4,this.editDeviceIPV6=e.deviceIpV6,this.editIgnoreUpStream=!!e.ignoreUpstream,this.editIgnoreDownStream=!!e.ignoreDownstream,this.editIgnoreLocal=!!e.ignoreInternal,this.editSamplingLimit=e.samplingRate,this.editGeoCoordinate=e.tenantId;let i=null!==(t=e.deviceIpV4)&&void 0!==t?t:e.deviceIpV6;if(-1!==this.deleteIds.indexOf(e._id)){this.deleteIds.splice(this.deleteIds.indexOf(e._id),1),this.deviceIps.splice(this.deviceIps.indexOf(i),1),this.deleteDevices=this.deleteDevices.filter(t=>t._id!==e._id);let t=xe('input[name^="delete_device_id"]').length;this.deleteIds.length?this.deleteIds.length!=t?(xe("#selectDeselectAll").prop("checked",!1),xe("#selectDeselectAll-span").show()):xe("#selectDeselectAll-span").hide():(xe("#selectDeselectAll").prop("checked",!1),xe("#selectDeselectAll-span").hide())}}updateSave(){if(this.deviceIPError=!1,this.deviceIP6Error=!1,this.ipv4="",this.ipv6="",this.editDeviceIPV6=this.editDeviceIPV6?this.editDeviceIPV6.trim():"",this.editDeviceIPV4=this.editDeviceIPV4?this.editDeviceIPV4.trim():"",this.editName=this.editName?this.editName.trim():"",this.editName.length&&this.editName.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody=`${this.language["Invalid Device Name"]} - Name should not exceed 64 characters.`,void this.openInfoModal(!1);if(this.editDeviceIPV6&&this.deviceIpValidatorIpv6(this.editDeviceIPV6),this.editDeviceIPV4&&this.deviceIpValidatorIpv4(this.editDeviceIPV4),this.deviceIPError||this.deviceIP6Error||!this.editDeviceIPV4&&!this.editDeviceIPV6)return this.infoTitle=this.language["Invalid request"],this.infoBody=this.language["Invalid IP address"],this.closeModal(),void(this.modalRef=this.dialogService.open(this.infoModal));if(this.samplingRateValidator(this.editSamplingLimit),this.samplingLimitError)return this.infoTitle=this.language["Invalid value"],this.infoBody=this.language["The sampling rate should be an integer value greater than 0 and less than 65536."],void this.openInfoModal(!1);let e={_id:this.editData._id,deviceIpV4:this.ipv4?this.ipv4:"",deviceIpV6:this.ipv6?this.ipv6:"",ignoreDownstream:this.editIgnoreDownStream,ignoreInternal:this.editIgnoreLocal,ignoreUpstream:this.editIgnoreUpStream,orgId:this.ORG_ID?this.ORG_ID:50,samplingRate:+this.editSamplingLimit,name:this.editName?this.editName.trim():"",rateLimit:0,receivingPort:this.editData.receivingPort?this.editData.receivingPort:0,tenantId:0,flowType:this.editData.flowType?this.editData.flowType:""};this.loading=!0,this.deviceUpdateSubs=this.api.DeviceUpdate(this.editData._id,e,this.ORG_ID).subscribe(e=>{this.isRerender=!0,this.apiLoader(),this.cancel(),this.editOnValue=void 0},e=>{this.pageErrorHandle(e)})}updateCancel(){this.editOnValue=void 0}hideShow(e){this.showingDeviceIp=this.showingDeviceIp==e?void 0:e}hideShowV6(e){this.showingDeviceIpv6=this.showingDeviceIpv6==e?void 0:e}delete(e){let t="";t=e.deviceIpV4?e.deviceIpV4:e.deviceIpV6,this.deleteData=e,e.name=e.name?this.strSub(e.name):"",e.hostName=e.hostName?this.strSub(e.hostName):"",this.infoTitle=this.language["Delete device?"],this.closeModal(),this.modalRef=this.dialogService.open(this.deleteModal,{backdrop:"static",keyboard:!1})}confirmDelete(){let e=this.deleteData._id;this.loading=!0,this.closeModal(),this.deviceDeleteSubs=this.api.DeviceDelete(e,this.ORG_ID).subscribe(e=>{this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.isRerender=!0,this.apiLoader()},e=>{this.pageErrorHandle(e)})}cancelDelete(){this.deleteData=void 0,this.closeModal()}getDeleteIds(e,t){let i="";i=t.deviceIpV4?t.deviceIpV4:t.deviceIpV6;let s=this.deleteDevices;if(e.target.checked){if(-1===this.deleteIds.indexOf(t._id)){this.deleteIds.push(t._id),this.deviceIps.push(i),this.deleteDevices.push(t);let e=xe('input[name^="delete_device_id"]').length;this.deleteIds.length==e?(xe("#selectDeselectAll").prop("checked",!0),xe("#selectDeselectAll-span").hide()):xe("#selectDeselectAll-span").show()}}else{this.deleteIds.splice(this.deleteIds.indexOf(t._id),1),this.deviceIps.splice(this.deviceIps.indexOf(i),1),s=s.filter(function(e){return e._id!==t._id}),this.deleteDevices=s;let e=xe('input[name^="delete_device_id"]').length;this.deleteIds.length?this.deleteIds.length!=e?(xe("#selectDeselectAll").prop("checked",!1),xe("#selectDeselectAll-span").show()):xe("#selectDeselectAll-span").hide():(xe("#selectDeselectAll").prop("checked",!1),xe("#selectDeselectAll-span").hide())}}selectDeselectAll(e){let t=0,i=xe('input[name^="delete_device_id"]').length;var s=this;s.deleteIds=[],s.deviceIps=[],s.deleteDevices=[],e?xe('input[name^="delete_device_id"]').each(function(){if(t>=i)return!1;xe(this).prop("checked",!0);let e=xe(this).attr("class").split(" ")[0].substring("delete_device_id_".length),a=s.deviceData.filter(t=>t._id===e),n="";n=a[0].deviceIpV4?a[0].deviceIpV4:a[0].deviceIpV6,s.deleteIds.push(e),s.deviceIps.push(n),s.deleteDevices.push(a[0]),t++}):xe('input[name^="delete_device_id"]').each(function(){if(t>=i)return!1;xe(this).prop("checked",!1),s.deleteIds=[],s.deviceIps=[],s.deleteDevices=[],t++})}deleteAllSelected(){if(this.deviceIps){this.infoTitle=this.language[1===this.deviceIps.length?"Delete selected device?":"Delete selected devices?"];let e="";for(let t=0;t<this.deviceIps.length;t++)this.deleteDevices[t].name=this.deleteDevices[t].name?this.strSub(this.deleteDevices[t].name):"",this.deleteDevices[t].hostName=this.deleteDevices[t].hostName?this.strSub(this.deleteDevices[t].hostName):"",e+=`<tr><td>${this.deleteDevices[t].name&&this.deleteDevices[t].name.length>20?this.deleteDevices[t].name.slice(0,20)+"...":this.deleteDevices[t].name}</td><td>${this.deviceIps[t]}</td><td>${this.deleteDevices[t].hostName&&this.deleteDevices[t].hostName.length>20?this.deleteDevices[t].hostName.slice(0,20)+"...":this.deleteDevices[t].hostName}</td></tr><br>`;this.infoBody=e,this.closeModal(),this.modalRef=this.dialogService.open(this.multiDeleteModal,{backdrop:"static",keyboard:!1})}}confirmDeleteSecleted(){this.closeModal();const e=[];this.deleteIds.forEach(t=>{e.push(this.api.DeviceDelete(t,this.ORG_ID))}),(0,d.D)(e).subscribe(e=>{this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.isRerender=!0,this.cancel(),this.apiLoader()},e=>{this.pageErrorHandle(e)})}showAllInnerCheckBox(e){xe("#"+e.target.id).hide(),xe("#selectDeselectAll").prop("checked",!0),this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[],this.selectDeselectAll(!0)}resetDelete(){this.selectDeselectAll(!1),xe("#selectDeselectAll").prop("checked",!1),xe("#selectDeselectAll-span").hide(),this.deleteIds=[],this.deviceIps=[],this.deleteDevices=[]}exportDataConvertor(e){return Array.isArray(e)&&e.forEach(e=>{for(const t in e)"boolean"==typeof e[t]&&(e[t]=1==e[t]?"Yes":"No");delete(e=this.commonFunctionsService.columnNameFromKeys(e,this.columnName)).flowType,delete e.observationId,delete e.orgId,delete e.tenantId,delete e._id}),e}export(){this.deviceExportSubs=this.api.Export("devices",this.ORG_ID).subscribe(e=>{let t=this.commonFunctionsService.generateExportName("device_file_export",!0),i=this.exportDataConvertor(e);this.exportExcel.downLoadCSV(t,i.length?i:[this.empty])},e=>{this.pageErrorHandle(e)})}fullImportUpload(){this.infoTitle=this.language.fullImport,this.infoBody=this.language.fullImportPrompt,this.closeModal(),this.modalRef=this.dialogService.open(this.importModal)}proceedImport(){this.closeModal(),xe("#fullImportUpload").click()}fullImport(e,t){sessionStorage.setItem("importType",e),this.dataTablecreatorService.generateJsonFromCsv(t,this.deviceData)}tableDataRecreate(e){let t,i=[],s=[],a=[],n=Object.assign([],this.deviceData);n.forEach(e=>{e.deviceIpV4&&e.deviceIpV4.trim()?i.push(e.deviceIpV4):(e.deviceIpV4="",i.push("@@@$@@@")),e.deviceIpV6&&e.deviceIpV6.trim()?i.push(e.deviceIpV6):(e.deviceIpV6="",i.push("@@@$@@@"))});const o=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,l=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;e.forEach((e,t)=>{let d=i.indexOf(e.deviceIpV4)>-1?i.indexOf(e.deviceIpV4):i.indexOf(e.deviceIpV6)>-1?i.indexOf(e.deviceIpV6):-1;(""!=e.deviceIpV4.trim()||""!=e.deviceIpV6.trim())&&d+1?(d=d%2!=0?(d-1)/2:d/2,""!=e.receivingPort&&e.receivingPort>0&&e.receivingPort!=n[d].receivingPort&&2058!=e.receivingPort&&(e.action="Invalid receiving port, it should be 2058"),e.flowType&&e.flowType.trim()&&!["netflow","cflow","sflow"].includes(e.flowType)&&(e.action="Invalid flow type, it should be [netflow, cflow, sflow]"),(s.includes(e.deviceIpV4)||s.includes(e.deviceIpV6))&&(e.action="Device Ip already exist in File .This will be ignored."),(""!=e.deviceIpV4.trim()&&!o.test(e.deviceIpV4)||""!=e.deviceIpV6.trim()&&!l.test(e.deviceIpV6))&&(e.action="Invalid Device IP"),e.hasOwnProperty("action")||Object.keys(e).forEach(t=>{!0===n[d][t]?n[d][t]="Yes":!1===n[d][t]&&(n[d][t]="No"),e[t]!=n[d][t]&&(e.action="Update",e._id=n[d]._id)}),e.hasOwnProperty("action")||a.push(t),this.previewTableHeader.forEach(t=>{e[`old_${t}`]=n[d][t]}),n[d].deviceIpV4.trim()&&s.push(n[d].deviceIpV4),n[d].deviceIpV6.trim()&&s.push(n[d].deviceIpV6),i.splice(2*d,2),n.splice(d,1)):(e.flowType&&e.flowType.trim()&&!["netflow","cflow","sflow"].includes(e.flowType)&&(e.action="Invalid flow type, it should be [netflow, cflow, sflow]"),(""!=e.deviceIpV4.trim()&&!o.test(e.deviceIpV4)||""!=e.deviceIpV6.trim()&&!l.test(e.deviceIpV6))&&(e.action="Invalid Device IP"),e.hasOwnProperty("action")||(e.action="Create"),e.deviceIpV4.trim()&&s.push(e.deviceIpV4),e.deviceIpV6.trim()&&s.push(e.deviceIpV6),this.previewTableHeader.forEach(t=>{e[`old_${t}`]=""}));for(const[i,s]of Object.entries(e))!0===s?e[i]="Yes":!1===s&&(e[i]="No")}),t=Object.assign([],e);let d=Object.assign([],e);return a=a.sort(function(e,t){return t-e}),a.forEach(e=>{d.splice(e,1)}),n.length&&"IncImport"!=sessionStorage.getItem("importType")&&n.forEach(e=>{e.action="Delete";for(const[t,i]of Object.entries(e))!0===i?e[t]="Yes":!1===i&&(e[t]="No");d.push(e)}),this.recreateTable=t,d}appendOldPrefix(e){return`old_${e}`}previewHeader(){this.previewHeaderValue=[]}importSubmit(e=!1){let t,i=sessionStorage.getItem("importType"),s={clientIP:this.storageData.clientIp,dry_run:e,full_import:"FullImport"==i,import_data:[],orgId:this.ORG_ID,userId:this.storageData.UserId},a=[],n=[];if(e?(t="Create",this.recreateTable.forEach(e=>{((null==e?void 0:e.deviceIpV4)||(null==e?void 0:e.deviceIpV6))&&a.push(this.importTemplate(e,"Create"))})):this.recreateTable.forEach(e=>{a.push(this.importTemplate(e))}),e){const e=a.length;this.deviceData.forEach(t=>{let o=!1;for(let s=0;s<e;s++)(t.deviceIpV4&&t.deviceIpV4==a[s].deviceIpV4||t.deviceIpV6&&t.deviceIpV6==a[s].deviceIpV6)&&(o=!0,"FullImport"==i?(a[s].action="Create",this.importUpdateASCreate.push(t)):a[s].action="Update");if(!o&&s.full_import){const e=Object.assign({},t);n.push(this.importTemplate(e,"Delete"))}})}else if(a=a.filter(e=>{if(["Create","Update"].includes(e.action))return e}),0==a.length)return void this.cancel();if(!a.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",void this.openInfoModal(!1);s.import_data=a,this.deviceImportSubs=this.api.Import("devices",s,this.ORG_ID).subscribe(t=>{e?(this.enableImportSubmit=!1,t=t.map(e=>(e.action="ok"==e.validationResult.toLowerCase()?e.action:e.validationResult,"ok"==e.validationResult.toLowerCase()&&(this.enableImportSubmit=!0),e)),this.recreateTable=t,this.previewOrder([...t,...n]),this.buttonVisible=!1,this.tablePreview=!0):(sessionStorage.removeItem("importType"),this.cancel(),this.isRerender=!0,this.apiLoader())},t=>{400==t.status?(e?(this.infoTitle=this.language.objectNotFound,this.infoBody="",this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)):(sessionStorage.removeItem("importType"),this.pageErrorHandle(t)),this.loading=!1):this.pageErrorHandle(t)})}importTemplate(e,t){return{action:t||e.action,deviceIpV4:e.deviceIpV4,deviceIpV6:e.deviceIpV6,orgId:this.ORG_ID,tenantId:0,ignoreDownstream:"Yes"===e.ignoreDownstream||!0===e.ignoreDownstream,ignoreInternal:"Yes"===e.ignoreInternal||!0===e.ignoreInternal,ignoreUpstream:"Yes"===e.ignoreUpstream||!0===e.ignoreUpstream,name:e.name,rateLimit:e.rateLimit,receivingPort:e.receivingPort,samplingRate:e.samplingRate}}previewOrder(e){if(!e||0==e.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",this.closeModal(),void(this.modalRef=this.dialogService.open(this.infoModal));let t=[];const i=["ignoreDownstream","ignoreInternal","ignoreUpstream"],s=["validationResult"],a=["action","deviceIpV4","deviceIpV6"];e.forEach(e=>{let n={};Object.keys(e).forEach(t=>{s.includes(t)||(n[t]=i.includes(t)&&("true"===e[t]||!0===e[t]||e[t]&&"Y"==e[t].toString().toUpperCase)?"Yes":i.includes(t)&&("false"===e[t]||!1===e[t]||e[t]&&"N"==e[t].toString().toUpperCase)?"No":e[t],a.includes(t)||(n["Old "+t]=""))}),this.deviceData.forEach(t=>{if(e.deviceIpV4==t.deviceIpV4&&e.deviceIpV6==t.deviceIpV6){for(const[e,s]of Object.entries(n))if(e.includes("Old")){const s=e.replace("Old ","");n[e]=i.includes(s)&&(t[s]||"Y"==t[s].toString().toUpperCase)?"Yes":!i.includes(s)||t[s]&&"N"!=t[s].toString().toUpperCase?t[s]:"No"}return"Create"==n.action&&(n.action="Update"),!1}}),t.push(n)}),this.previewTableBody=t}cancelImport(){}reset(){this.name=void 0,this.hostName=void 0,this.deviceIPV4=void 0,this.deviceIPV6=void 0,this.ignoreDownStream=!1,this.ignoreUpStream=!1,this.ignoreLocal=!1,this.geoCoordinate=void 0,this.address=void 0,this.samplingLimit=void 0}resetEdit(){this.editName="",this.editHostName="",this.editDeviceIPV4="",this.editDeviceIPV6="",this.editIgnoreUpStream=!1,this.editIgnoreDownStream=!1,this.editIgnoreLocal=!1,this.editSamplingLimit=void 0,this.editGeoCoordinate=void 0}samplingRateValidator(e){this.samplingLimitError=!1,this.samplingLimitError=!Number.isInteger(e)||!(e>0&&e<=65535)}deviceIpValidatorIpv4(e){e&&""!=e.trim()?(e=e.trim(),this.commonFunctionsService.isValidIpV4Addr(e)?(this.ipv4=e,this.deviceIPError=!1):this.deviceIPError=!0):this.deviceIPError=!0}deviceIpValidatorIpv6(e){e&&""!=e.trim()?(e=e.trim(),this.commonFunctionsService.isValidIpV6Addr(e)?(this.ipv6=e,this.deviceIP6Error=!1):this.deviceIP6Error=!0):this.deviceIPError=!0}sortingTable(e,t){setTimeout(()=>{this.sortColumn=e,this.sortType=xe(t.target).hasClass("sorting_asc")?"asc":"desc"},500)}closeAlert(){this.error=!1,this.success=!1}closeModal(){this.modalRef&&this.modalRef.close()}strSub(e,t){return e.length<=20?e:`${e.substr(0,t||20)}...`}pageErrorHandle(e){var t,i,s,a,n,o,l,d,r;if(400==e.status){let c=(null==e?void 0:e.error)?this.commonOrgService.pageInvalidRqstErrorHandle(e):"";this.infoBody="object_already_exists"==c?`${this.language["Conflict found with existing devices"]} ${(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.info)?null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.info:""}`:"Bad Request"===c&&((null===(a=null===(s=null==e?void 0:e.error)||void 0===s?void 0:s.message)||void 0===a?void 0:a.split(":").length)&&"object_already_exists"===(null===(o=null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.message)||void 0===o?void 0:o.split(":")[0])||"invalid_request"===(null===(d=null===(l=null==e?void 0:e.error)||void 0===l?void 0:l.message)||void 0===d?void 0:d.split(":")[0]))?null===(r=null==e?void 0:e.error)||void 0===r?void 0:r.message.split(":")[1]:c,this.infoTitle=this.language["Invalid request"],this.loading=!1,this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)}else this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(this.errorInfo),this.commonOrgService.pageScrollTop(),this.loading=!1}openInfoModal(e){e||(this.invalidImportDevice=[]),this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1})}removeState(){localStorage.getItem(`DataTables_device-table_/${this.MODULE}/flowAnalyze/network/devices`)&&localStorage.removeItem(`DataTables_device-table_/${this.MODULE}/flowAnalyze/network/devices`)}inputValidator(e){var t=null==e?void 0:e.keyCode;return t>64&&t<91||t>96&&t<123||8==t||32==t||t>=48&&t<=57}removeUnwantedSpace(e,t){this[e]=this.common.trimSpaceFromNonObjectInputs(t)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(c.i),r.Y36(h.v),r.Y36(g.O),r.Y36(p.L),r.Y36(u.s),r.Y36(a.F0),r.Y36(v.t6),r.Y36(m.FF),r.Y36(f.v),r.Y36(I.Dx),r.Y36(b.i))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-devices-configuration"]],viewQuery:function(e,t){if(1&e&&(r.Gf(J,7),r.Gf(H,7),r.Gf($,5),r.Gf(Y,7),r.Gf(o.G,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.infoModal=e.first),r.iGM(e=r.CRH())&&(t.deleteModal=e.first),r.iGM(e=r.CRH())&&(t.multiDeleteModal=e.first),r.iGM(e=r.CRH())&&(t.importModal=e.first),r.iGM(e=r.CRH())&&(t.dtElement=e.first)}},decls:51,vars:24,consts:[[1,"container","px-0","position-relative"],["class","loader",4,"ngIf"],["class","row py-4",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-md-12","ccl-admin-table",3,"hidden"],["id","device-table","width","100%","datatable","",1,"row-border","hover","table-alter",3,"dtTrigger","dtOptions"],[1,"w-nowrap-150"],[1,"d-flex","justify-content-end"],[1,"d-flex","align-items-center"],[1,"addOrg",3,"hidden"],["type","checkbox","value","","id","selectDeselectAll",1,"",3,"disabled","change"],["id","selectDeselectAll-span",1,"checkbox-ui",2,"display","none",3,"click"],[1,"text-center","justify-content-center",3,"hidden"],["id","delete-selected-btn",1,"btn-default","primary","px-2","mx-2",3,"disabled","title","click"],[1,"far","fa-trash-alt"],[1,"min-w-250"],[1,"min-w-170"],[1,"min-w-130"],[3,"id",4,"ngFor","ngForOf"],["infoModal",""],["deleteModal",""],["multiDeleteModal",""],["importModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"row","py-4"],[1,"col-md-9"],[1,"d-flex"],["id","create-btn",1,"btn-default","primary","mr-2","px-2",3,"click"],["id","export-btn",1,"btn-default","primary","mx-2","px-2",3,"click"],[1,"upload-btn-wrapper"],[1,"btn-default","primary","mx-2","px-2",3,"click"],["type","file","accept",".csv","id","fullImportUpload",2,"display","none",3,"click","change"],["fullImportValue",""],["for","inc-import",1,"btn-default","primary","mx-2","px-2","cursor-pointer"],["type","file","id","inc-import","accept",".csv",2,"display","none",3,"click","change"],["incrementalImportValue",""],[1,"col-sm-3","align-self-end","d-none"],[1,"ccl-form"],["type","search","name","searchbox","placeholder","",1,"input-sm"],[1,"serach-but","btn-default","primary","btn-icon-md","inline"],["aria-hidden","true",1,"fa","fa-search"],[1,"col-md-8","offset-md-2"],[1,"ccl-form","row","my-2"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","name","type","text","trimSpace","",1,"",3,"ngModel","ngModelOptions","ngModelChange","blur"],["for","deviceIPV4",1,"col-sm-4","col-form-label"],[1,"fas","fa-info-circle",3,"title"],["id","deviceIPV4","type","text","trimSpace","",1,"",3,"ngModel","ngModelOptions","ngModelChange","blur"],["for","deviceIPV6",1,"col-sm-4","col-form-label"],["id","deviceIPV6","type","text","trimSpace","",1,"",3,"ngModel","ngModelOptions","ngModelChange","blur"],["for","ignoreUpStream",1,"col-sm-4","col-form-label","text-nowrap"],["id","ignoreUpStream","bindLabel","name","bindValue","value","placeholder","",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["for","ignoreDownStream",1,"col-sm-4","col-form-label","text-nowrap"],["id","ignoreDownStream","bindLabel","name","bindValue","value","placeholder","",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["for","ignoreLocal",1,"col-sm-4","col-form-label"],["id","ignoreLocal","bindLabel","name","bindValue","value","placeholder","",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["for","samplingLimit",1,"col-sm-4","col-form-label"],[1,"error"],["id","samplingLimit","type","number","min","1","max","65535",1,"",3,"ngModel","ngModelOptions","ngModelChange","keypress"],[1,"row","my-4"],[1,"col-md-8","offset-md-4"],[1,"btn-default","primary","px-3","mx-3",3,"click"],[1,"btn-default","btn-dft","py-1","px-3",3,"click"],["class","row",4,"ngIf"],[1,"btn-default","primary","px-3","mx-3",3,"disabled","click"],[1,"col-md-12","my-3","ccl-admin-table"],["id","example","datatable","",1,"row-border","hover","table-alter",3,"dtOptions"],[4,"ngFor","ngForOf"],[3,"id"],[1,"w-nowrap"],["class","editable-td text-center f-size13",4,"ngIf"],["class","save-cancel-btn-group d-flex justify-content-center",4,"ngIf"],[1,"text-break"],["class","ccl-form",4,"ngIf"],[1,"textnowrap"],[1,"editable-td","text-center","f-size13"],[1,"ccl-fc-table-icon"],[1,"pr-2"],[1,"primary",3,"id","title","click"],[1,"fas","fa-pencil-alt"],["type","checkbox",3,"value","name","id","title","click"],[1,"save-cancel-btn-group","d-flex","justify-content-center"],[1,"pr-1"],[1,"primary","mx-3",3,"id","click"],[1,"fas","fa-check"],[1,"primary",3,"id","click"],[1,"fas","fa-times"],["type","text","trimSpace","",1,"edit-text","w-200px",3,"ngModel","ngModelOptions","value","ngModelChange","blur"],["type","number","min","0","max","65535",1,"edit-text","w-150px",3,"value","ngModel","ngModelOptions","ngModelChange"],["bindLabel","name","bindValue","value","placeholder","","appendTo","body",1,"select-custom-top","w-100px",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"f-size-16px"],[1,"w-100"],["class","list-two",4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"],[1,"list-two"],["class","text-break",4,"ngFor","ngForOf"],["type","button","data-dismiss","modal",1,"btn-default","btn-dft","py-1","px-3",3,"click"],["width","33%"],[3,"innerHtml"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.YNc(1,G,5,0,"div",1),r.YNc(2,Q,24,4,"div",2),r.YNc(3,B,59,48,"section",3),r.YNc(4,X,8,4,"section",3),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r.TgZ(7,"table",6),r.TgZ(8,"thead"),r.TgZ(9,"tr"),r.TgZ(10,"th",7),r.TgZ(11,"div",8),r.TgZ(12,"div",9),r.TgZ(13,"div",10),r.TgZ(14,"input",11),r.NdJ("change",function(e){return t.selectDeselectAll(e.target.checked)}),r.qZA(),r.TgZ(15,"span",12),r.NdJ("click",function(e){return t.showAllInnerCheckBox(e)}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"div"),r.TgZ(17,"div",13),r.TgZ(18,"button",14),r.NdJ("click",function(){return t.deleteAllSelected()}),r._UZ(19,"i",15),r._uU(20),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(21,"th",16),r._uU(22),r.qZA(),r.TgZ(23,"th",16),r._uU(24),r.qZA(),r.TgZ(25,"th",16),r._uU(26),r.qZA(),r.TgZ(27,"th",17),r._uU(28),r.qZA(),r.TgZ(29,"th",16),r._uU(30),r.qZA(),r.TgZ(31,"th",18),r._uU(32),r.qZA(),r.TgZ(33,"th",18),r._uU(34),r.qZA(),r.TgZ(35,"th",18),r._uU(36),r.qZA(),r.TgZ(37,"th",18),r._uU(38),r.qZA(),r.TgZ(39,"th",18),r._uU(40),r.qZA(),r.qZA(),r.qZA(),r.TgZ(41,"tbody"),r.YNc(42,ve,31,21,"tr",19),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(43,Ie,15,5,"ng-template",null,20,r.W1O),r.YNc(45,be,20,6,"ng-template",null,21,r.W1O),r.YNc(47,Te,13,4,"ng-template",null,22,r.W1O),r.YNc(49,De,12,4,"ng-template",null,23,r.W1O)),2&e&&(r.xp6(1),r.Q6J("ngIf",t.loading),r.xp6(1),r.Q6J("ngIf",t.buttonVisible),r.xp6(1),r.Q6J("ngIf",t.formVisible),r.xp6(1),r.Q6J("ngIf",t.tablePreview),r.xp6(2),r.Q6J("hidden",!t.dataAvailable),r.xp6(1),r.Q6J("dtTrigger",t.dtTrigger)("dtOptions",t.tableOptions),r.xp6(6),r.Q6J("hidden",t.editOnValue),r.xp6(1),r.Q6J("disabled",0==(null==t.deviceData?null:t.deviceData.length)||0==t.currentTableRowCount),r.xp6(3),r.Q6J("hidden",t.editOnValue),r.xp6(1),r.s9C("title",t.language["Delete selected"]),r.Q6J("disabled",!(null!=t.deviceData&&t.deviceData.length&&null!=t.deleteIds&&t.deleteIds.length)),r.xp6(2),r.hij(" ",t.language.selected," "),r.xp6(2),r.Oqu(t.language.name),r.xp6(2),r.Oqu(t.language.deviceipv4),r.xp6(2),r.Oqu(t.language.deviceipv6),r.xp6(2),r.Oqu(t.language.sampling),r.xp6(2),r.Oqu(t.language.hostName),r.xp6(2),r.Oqu(t.language.listeningPort),r.xp6(2),r.Oqu(t.language.flowType),r.xp6(2),r.Oqu(t.language.ignoreUpstream),r.xp6(2),r.Oqu(t.language.ignoreDownstream),r.xp6(2),r.Oqu(t.language.ignoreLocal),r.xp6(2),r.Q6J("ngForOf",t.deviceData))},directives:[s.O5,o.G,s.sg,R._Y,R.JL,R.F,R.Fj,R.JJ,R.On,F.w9,R.qQ,R.Fd,R.wV],styles:[".modal-scrll[_ngcontent-%COMP%]{overflow-y:auto;max-height:500px}.list-two[_ngcontent-%COMP%]{list-style-type:disc;margin-left:30px}.min-w-250[_ngcontent-%COMP%]{min-width:250px}.min-w-170[_ngcontent-%COMP%]{min-width:170px}.min-w-130[_ngcontent-%COMP%]{min-width:130px}.w-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.w-nowrap-150[_ngcontent-%COMP%]{white-space:nowrap;min-width:150px}.f-size13[_ngcontent-%COMP%]{font-size:13px}.w-200px[_ngcontent-%COMP%]{width:200px}.w-150px[_ngcontent-%COMP%]{width:150px}.w-100px[_ngcontent-%COMP%]{width:100px}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:3px 20px!important;border:1px solid #0279FF;color:#0279ff;font-size:14px;line-height:16.67px!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(.active):hover{background-color:#0279ff;color:#fff}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn.active[_ngcontent-%COMP%]{background-color:#0279ff;color:#fff}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-radius:0!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:first-child   .btn[_ngcontent-%COMP%]{border-top-left-radius:12px!important;border-bottom-left-radius:12px!important}.nav-tab-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child   .btn[_ngcontent-%COMP%]{border-top-right-radius:12px!important;border-bottom-right-radius:12px!important}.line-height-normal[_ngcontent-%COMP%]{line-height:normal}"]}),e})(),data:{title:"Calix Cloud - Flow Configuration"}},{path:"",redirectTo:"devices-configuration",pathMatch:"full",data:{title:"Calix Cloud - Flow Configuration"}}]}];let we=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[a.Bz.forChild(Ae)],a.Bz]}),e})();var Oe=i(23830);let _e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[s.ez,we,o.T,F.A0,Oe.o,R.u5]]}),e})()}}]);