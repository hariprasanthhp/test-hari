"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[6922],{35560:function(e,t,a){a.d(t,{w:function(){return p}});var n=a(92340),i=a(16738),s=a(37716),o=a(91841),r=a(38048),l=a(39895);let p=(()=>{class e{constructor(e,t,a){this.httpClient=e,this.sso=t,this.router=a,this.orgId=this.sso.getOrganizationID(this.router.url)}getTraffic(e){let t=new Date(e.startDate),a=new Date(e.endDate);t=this.getISOStartOfDay(t),a=this.getISOEndOfDay(a);let s=e.criteriaSelected?e.criteriaSelected:"usage",o=this.getGranularity(t,a,"traffic",s);if(t=this.getStartUTCDate(e.startDate,0),a=this.getEndUTCDate(e.endDate),"usage"!=s){e.startTime=e.startTime-1,e.endTime=e.endTime-1;let n=i(a).diff(i(t),"hour"),s=i(a).diff(i(t),"days");if(o=s<=31?"1hour":"24hour",n<=72&&s<=3){let n=new Date(e.startDate);t=this.getStartUTCDate(e.startDate,e.startTime),a=this.getStartUTCDate(n,e.endTime),o="1min",e.APIStartDate=t,e.APIendDate=a}}else"usage"==s&&(t=this.getISOStartOfDay(e.startDate),a=this.getISOEndOfDay(e.endDate));return this.httpClient.get(`${n.N.CCO_REPORTS_BASE_URL}timeseries?org=${this.orgId}&tenant=0&granularity=${o}&startTime=${t}&endTime=${a}&output=${s}&direction=both`)}getTopLocations(e,t){var a,i;let s=new Date(e.startDate),o=new Date(e.endDate),r=e.criteriaSelected?e.criteriaSelected:"usage",l=e.limit?e.limit:10,p=e.directionSelected?e.directionSelected:"both";s=this.getISOStartOfDay(s),o=this.getISOEndOfDay(o);let c=this.getGranularity(s,o,"topLocations");"usage"!==r&&(s=this.getStartUTCDate(e.startDate,0),o=this.getEndUTCDate(e.endDate));let g=`${n.N.CCO_REPORTS_BASE_URL}reports/toplocations?org=${this.orgId}&tenant=0&granularity=${c}&startTime=${s}&endTime=${o}&output=${r}&count=${l}&direction=${p}`;if(t&&"apps-top-locations"==t){let t="";(null===(a=e.applicationsSelected)||void 0===a?void 0:a.length)>0?(e.applicationsSelected.forEach(e=>{t+=`&application=${e}`}),g=`${g}${t}`):(null===(i=e.applicationGroupSelected)||void 0===i?void 0:i.length)>0&&(e.applicationGroupSelected.forEach(e=>{t+=`&applicationgroup=${e}`}),g=`${g}${t}`)}return this.httpClient.get(g)}TopApplication(e,t){let a=new Date(e.startDate),i=new Date(e.endDate),s=e.criteriaSelected?e.criteriaSelected:"usage",o=e.limit?e.limit:10,r=e.directionSelected?e.directionSelected:"both",l="yes"==e.groupSelected;a=this.getISOStartOfDay(a),i=this.getISOEndOfDay(i);let p=this.getGranularity(a,i,"topApplications");"usage"!==s&&(a=this.getStartUTCDate(e.startDate,0),i=this.getEndUTCDate(e.endDate));let c="";return c=l?`${n.N.CCO_REPORTS_BASE_URL}reports/topapplicationgroups?org=${this.orgId}&tenant=0&granularity=${p}&startTime=${a}&endTime=${i}&output=${s}&count=${o}&direction=${r}`:`${n.N.CCO_REPORTS_BASE_URL}reports/topapplications?org=${this.orgId}&tenant=0&granularity=${p}&startTime=${a}&endTime=${i}&output=${s}&count=${o}&direction=${r}&groupApplications=${l}`,this.httpClient.get(c)}makeIsoDate(e){let t=e.split(".")[0].split(":");return t.pop(),t.join(":")+":00Z"}getISODate(e){let t=new Date(e),a=t.getFullYear(),n=`${t.getMonth()+1}`,i=`${t.getDate()}`;return n.length<2&&(n=`0${n}`),i.length<2&&(i=`0${i}`),`${a}-${n}-${i}T00:00:00Z`}getAppTraffic(e){let t=new Date(e.startDate),a=new Date(e.endDate);return t=this.getISOStartOfDay(t),a=this.getISOEndOfDay(a),this.getGranularity(t,a),t=this.getStartUTCDate(e.startDate,0),a=this.getEndUTCDate(e.endDate),this.httpClient.get(`${n.N.CCO_REPORTS_BASE_URL}timeseries?org=${this.orgId}&tenant=0&granularity=1hour&startTime=${t}&endTime=${a}&output=rate&direction=both&groupBy=application&count=${e.limit}`)}getTopSubdata(e,t){var a,i;let s=new Date(e.startDate),o=new Date(e.endDate),r=e.criteriaSelected?e.criteriaSelected:"usage",l=e.limit?e.limit:10,p=e.directionSelected?e.directionSelected:"both";s=this.getISOStartOfDay(s),o=this.getISOEndOfDay(o);let c=this.getGranularity(s,o,"topSubscribers");"usage"!==r&&(s=this.getStartUTCDate(e.startDate,0),o=this.getEndUTCDate(e.endDate));let g=`${n.N.CCO_REPORTS_BASE_URL}/reports/topsubscribers?org=${this.orgId}&tenant=0&granularity=${c}&startTime=${s}&endTime=${o}&output=${r}&count=${l}&direction=${p}`,f="";"location"===t&&e.locationsSelected&&!e.locationsSelected.includes("All")?(e.locationsSelected.forEach(e=>{f+="&location="+e}),g=`${g}${f}`):f="";let d="";"application"===t&&(null===(a=e.applicationsSelected)||void 0===a?void 0:a.length)>0?(e.applicationsSelected.forEach(e=>{d+="&application="+e}),g=`${g}${d}`):(null===(i=e.applicationGroupSelected)||void 0===i?void 0:i.length)>0?(e.applicationGroupSelected.forEach(e=>{d+=`&applicationgroup=${e}`}),g=`${g}${d}`):d="";let h="";return"location"===t&&e.type&&"location"===e.type&&(h="&eliminateUnknown=location",g=`${g}${h}`),this.httpClient.get(g)}getPowerUsers(e,t){let a=new Date,i=e.periodSelected?parseInt(e.periodSelected):-1,s=new Date(a.getFullYear(),a.getMonth()+i,1),o=new Date(a.getFullYear(),a.getMonth(),0),r=this.getISODate(s),l=this.getISODate(o),p=e.directionSelected?e.directionSelected:"both",c=parseInt(e.peakRateFrom)>0?1048576*parseInt(e.peakRateFrom):0,g=parseInt(e.peakRateTo)>0?1048576*parseInt(e.peakRateTo):0;return r=this.getStartUTCDate(s,0),l=this.getEndUTCDate(o),this.httpClient.get(`${n.N.CCO_REPORTS_BASE_URL}reports/powerusers?org=${this.orgId}&tenant=0&granularity=24hour&startTime=${r}&endTime=${l}&direction=${p}&minPeak=${c}&maxPeak=${g}`)}getDatePrevMonth(e){let t=new Date;return{start:new Date(t.getFullYear(),t.getMonth()+e,1),end:new Date(t.getFullYear(),t.getMonth(),0)}}getGranularity(e,t,a="",n=""){let s="";if("traffic"==a){let a=i(t).diff(i(e),"hour"),o=i(t).diff(i(e),"days");s="usage"!=n?a<=72&&o<=3?"1min":o<=31&&a>72?"1hour":"24hour":a<=24?"1hour":"24hour"}return("topSubscribers"==a||"topApplications"==a||"topLocations"==a)&&(s=i(t).diff(i(e),"hour")<=72?"1hour":"24hour"),s}checkSameDate(e){return new Date(e.startDate).setHours(0,0,0,0)==new Date(e.endDate).setHours(0,0,0,0)}getStartDate(e,t,a){let n=new Date(e);3===a&&t<48&&t>=24?n.setDate(new Date(n).getDate()+1):3===a&&t>=48&&n.setDate(new Date(n).getDate()+2),2===a&&t>=24&&n.setDate(new Date(n).getDate()+1),t>=48?t-=48:t>=24&&(t-=24);let i=`${n.getFullYear()}`,s=`${n.getMonth()+1}`,o=`${n.getDate()}`;return s.length<2&&(s=`0${s}`),o.length<2&&(o=`0${o}`),`${i}-${s}-${o}T${t>9?t:"0"+t}:00:00Z`}getEndDate(e,t,a){let n=new Date(e);3==a&&t<=48&&t>24?n.setDate(new Date(n).getDate()-1):3==a&&t<=24&&n.setDate(new Date(n).getDate()-2),2==a&&t<=24&&n.setDate(new Date(n).getDate()-1),(24===t||48===t||72===t)&&(n.setDate(new Date(n).getDate()+1),t=0),t>=48?t-=48:t>=24&&(t-=24);let i=`${n.getFullYear()}`,s=`${n.getMonth()+1}`,o=`${n.getDate()}`;return s.length<2&&(s=`0${s}`),o.length<2&&(o=`0${o}`),`${i}-${s}-${o}T${t>9?t:"0"+t}:00:00Z`}getStartUTCDate(e,t){let a=new Date(e);a.setHours(t,0,0,0);let n=a.getUTCFullYear(),i=`${a.getUTCMonth()+1}`,s=`${a.getUTCDate()}`,o=`${a.getUTCHours()}`,r=`${a.getUTCMinutes()}`;return i.length<2&&(i=`0${i}`),s.length<2&&(s=`0${s}`),o.length<2&&(o=`0${o}`),r.length<2&&(r=`0${r}`),`${n}-${i}-${s}T${o}:${r}:00Z`}getEndUTCDate(e){let t=new Date(e);t.setHours(0,0,0,0),t.setDate(new Date(t).getDate()+1);let a=t.getUTCFullYear(),n=`${t.getUTCMonth()+1}`,i=`${t.getUTCDate()}`,s=`${t.getUTCHours()}`,o=`${t.getUTCMinutes()}`;return n.length<2&&(n=`0${n}`),i.length<2&&(i=`0${i}`),s.length<2&&(s=`0${s}`),o.length<2&&(o=`0${o}`),`${a}-${n}-${i}T${s}:${o}:00Z`}getISOStartEndDate(e,t,a){let n=new Date(e),i=new Date;t?n.setHours(23,59,0,0):n.setHours(0,0,0,0);let s=n.getUTCFullYear(),o=`${n.getUTCMonth()+1}`,r=`${n.getUTCDate()}`,l=`${n.getUTCHours()}`,p=`${n.getUTCMinutes()}`;return o.length<2&&(o=`0${o}`),r.length<2&&(r=`0${r}`),t&&new Date(n)>i&&(l=`${(new Date).getUTCHours()}`,p=`${(new Date).getUTCMinutes()}`),l.length<2&&(l=`0${l}`),p.length<2&&(p=`0${p}`),`${s}-${o}-${r}T${l}:${p}:00Z`}getISOStartOfDay(e){let t=new Date(e),a=t.getFullYear(),n=`${t.getMonth()+1}`,i=`${t.getDate()}`;return n.length<2&&(n=`0${n}`),i.length<2&&(i=`0${i}`),`${a}-${n}-${i}T00:00:00Z`}getISOEndOfDay(e){let t=new Date(e);t.setDate(new Date(t).getDate()+1);let a=t.getFullYear(),n=`${t.getMonth()+1}`,i=`${t.getDate()}`;return n.length<2&&(n=`0${n}`),i.length<2&&(i=`0${i}`),`${a}-${n}-${i}T00:00:00Z`}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.eN),s.LFG(r.t6),s.LFG(l.F0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},86922:function(e,t,a){a.d(t,{h:function(){return x}});var n=a(38583),i=a(16738),s=a(55429),o=a(1282),r=a(92340),l=a(37716),p=a(94690),c=a(48483),g=a(13149),f=a(30900),d=a(49342),h=a(18921),u=a(39895),y=a(38048),m=a(35560);let x=(()=>{class e{constructor(e,t,a,n,i,s,o,r,l){this.utils=e,this.dateUtils=t,this.excel=a,this.customTranslateService=n,this.commonOrgService=i,this.convert=s,this.router=o,this.sso=r,this.service=l,this.btnDisabled=!1,this.language=this.customTranslateService.defualtLanguage,this.customTranslateService.selectedLanguage.subscribe(e=>{this.language=e})}makeOptionsForNWTraffic(e,t,a){var i,s;let o,r,l=this,p=[],c=[],g=[],f=0,d=0,h=new n.uU("en-US"),u=/\((.*)\)/.exec((new Date).toString())[1],y="",m="",$="",x=this.getGranularity(t.startDate,t.endDate);if(u="Coordinated Universal Time",e.length)for(let n=0;n<e.length;n++){let t=this.getDateTime(e[n].startPeriodSec,!1,"MM/dd/yyyy");"1hour"===x&&(t=this.getDateTime(e[n].startPeriodSec,!1,"MM/dd HH:mm")),p.push(t),c.push(e[n].usOctets&&-1!==e[n].usOctets?e[n].usOctets:null),g.push(e[n].dsOctets&&-1!==e[n].dsOctets?e[n].dsOctets:null),f+=e[n].usOctets&&-1!==e[n].usOctets?e[n].usOctets:0,d+=e[n].dsOctets&&-1!==e[n].dsOctets?e[n].dsOctets:0}let S=this.getStackedUnit(f),D=this.getStackedUnit(d);if(o=(f/S[0]).toFixed(2)+" "+S[1],r=(d/D[0]).toFixed(2)+" "+D[1],a&&"locations"==a){$="Location_Traffic",y=this.language.locationsTrafficTitle;let e="";e=this.getTitleLocationNames(t.locationsSelectedNames),m=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.location}: ${e}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.criteria}: ${this.language[t.criteriaSelected]}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${h.transform(t.startDate,"MM/dd/yyyy")} to ${h.transform(t.endDate,"MM/dd/yyyy")} [${u}]</span>\n    <br><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.upUsageTitle}: ${o}</span> <span style="font-size:16px; color:#ffffff">...</span> <span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.downUsageTitle}: ${r}</span>`}else if(a&&"applications"==a&&(null===(i=t.applicationsSelectedNames)||void 0===i?void 0:i.length)>0){$="Application_Traffic",y=this.language["Application Traffic"];let e="",a="";e=this.getTitleLocationNames(t.locationsSelectedNames),a=this.getTitleApplicationNames(t.applicationsSelectedNames),m=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.application}: ${a}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.location}: ${e}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.criteria}: ${this.language[t.criteriaSelected]}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${h.transform(t.startDate,"MM/dd/yyyy")} to ${h.transform(t.endDate,"MM/dd/yyyy")} [${u}]</span>\n    <br><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.upUsageTitle}: ${o}</span> <span style="font-size:16px; color:#ffffff">...</span> <span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.downUsageTitle}: ${r}</span>`}else if(a&&"applications"==a&&(null===(s=t.applicationGroupSelectedNames)||void 0===s?void 0:s.length)>0){$="Application_Groups_Traffic",y=this.language["Application Groups Traffic"];let e="",a="";e=this.getTitleLocationNames(t.locationsSelectedNames),a=this.getTitleApplicationNames(t.applicationGroupSelectedNames),m=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.applicationGroup}: ${a}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.location}: ${e}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.criteria}: ${this.language[t.criteriaSelected]}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${h.transform(t.startDate,"MM/dd/yyyy")} to ${h.transform(t.endDate,"MM/dd/yyyy")} [${u}]</span>\n    <br><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.upUsageTitle}: ${o}</span> <span style="font-size:16px; color:#ffffff">...</span> <span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.downUsageTitle}: ${r}</span>`}else $="Network_Traffic",y=this.language.networkTrafficTitle,m=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.criteria}: ${this.language[t.criteriaSelected]}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${h.transform(t.startDate,"MM/dd/yyyy")} to ${h.transform(t.endDate,"MM/dd/yyyy")} [${u}]</span>\n    <br><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.upUsageTitle}: ${o}</span> <span style="font-size:16px; color:#ffffff">...</span> <span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.downUsageTitle}: ${r}</span>`;return{chart:{type:"column",zoomType:"xy"},title:{text:y},subtitle:{text:m},xAxis:{categories:p,labels:{style:{textOverflow:"ellipsis"}}},yAxis:{min:0,title:{text:""},opposite:!1,tickLength:2,minRange:1,labels:{formatter:function(){let e=this;var t=e.axis.series[0].dataMax,a=t>1e12?[1e12,"TB"]:t>1e9?[1e9,"GB"]:t>1e6?[1e6,"MB"]:t>1e3?[1e3,"KB"]:[1,"B"];return(e.value/a[0]).toFixed(1)+(e.isFirst?" ":" "+a[1])}}},legend:{reversed:!1},lang:{noData:this.language["No Data Available"]},plotOptions:{column:{stacking:"normal"},series:{minPointLength:3,colors:["#0027FF","#5ACFEA"]}},tooltip:{formatter:function(){var e=l.getStackedUnit(this.y);return`<b>  ${this.x} </b><br/>\n          <p> ${this.series.name} <span>: <b>${(this.y/e[0]).toFixed(2)+" "+e[1]}</b><br/></span></p>`}},series:[{name:this.language["Up Usage"]?this.language["Up Usage"]:"Up Usage",data:c,color:"#0027FF"},{name:this.language["Down Usage"]?this.language["Down Usage"]:"Down Usage",data:g,color:"#5ACFEA"}],exporting:{filename:$,buttons:{contextButton:{menuItems:[{textKey:"downloadPDF",text:this.language.exportPDF||"Export PDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadCSV",text:this.language.exportCsv||"Export CSV",onclick:function(){var n,i;let s=[],p="";p=a&&"locations"==a?`Locations Traffic\r\nLocations: ${t.locationsSelectedNames}\r\nCriteria: ${l.language[t.criteriaSelected]}\r\n${l.language.time_win}: ${h.transform(t.startDate,"MM/dd/yyyy")} - ${h.transform(t.endDate,"MM/dd/yyyy")} [${u}]\r\nUp Usage: ${o},Down Usage: ${r}\r\n`:a&&"applications"==a&&(null===(n=t.applicationsSelectedNames)||void 0===n?void 0:n.length)>0?`Applications Traffic\r\nApplications: ${t.applicationsSelectedNames}\r\nLocations: ${t.locationsSelectedNames}\r\nCriteria: ${l.language[t.criteriaSelected]}\r\n${l.language.time_win}: ${h.transform(t.startDate,"MM/dd/yyyy")} - ${h.transform(t.endDate,"MM/dd/yyyy")} [${u}]\r\nUp Usage: ${o},Down Usage: ${r}\n                  \r\n`:a&&"applications"==a&&(null===(i=t.applicationGroupSelectedNames)||void 0===i?void 0:i.length)>0?`Application Groups Traffic\r\nApplication Groups: ${t.applicationGroupSelectedNames}\r\nLocations: ${t.locationsSelectedNames}\r\nCriteria: ${l.language[t.criteriaSelected]}\r\n${l.language.time_win}: ${h.transform(t.startDate,"MM/dd/yyyy")} - ${h.transform(t.endDate,"MM/dd/yyyy")} [${u}]\r\nUp Usage: ${o},Down Usage: ${r}\n                  \r\n`:`Network Traffic\r\nCriteria: ${l.language[t.criteriaSelected]}\r\n${l.language.time_win}: ${h.transform(t.startDate,"MM/dd/yyyy")} - ${h.transform(t.endDate,"MM/dd/yyyy")} [${u}] \r\nUp Usage: ${o},Down Usage: ${r}\n                  \r\n`;for(var c=0;c<e.length;c++)s.push({"Date Time":l.getDateTime(e[c].startPeriodSec,!1,"1hour"===x?"MM/dd HH:mm":"MM/dd/yyyy"),"Up Usage(Bytes)":e[c].usOctets&&-1!==e[c].usOctets?e[c].usOctets.toLocaleString():0,"Down Usage(Bytes)":e[c].dsOctets&&-1!==e[c].dsOctets?e[c].dsOctets.toLocaleString():0});l.excel.downLoadCSV($,s,p)}}],text:l.language.export}}},credits:{enabled:!1}}}makeOptionsForLineChart(e,t,a){var s,o;let r,l,p=this.language.max_up_rate,c=this.language.maxDownRate,g=this,f=[],d=[],h=[],u="",y=0,m=0,$=1,x=new n.uU("en-US");for(let n=0;n<e.length;n++)(e[n].peakUsRate&&-1!==e[n].peakUsRate||e[n].peakDsRate&&-1!==e[n].peakDsRate)&&(f.push(this.getDateTime(e[n].startPeriodSec,!0,"MM/dd/yyyy HH:mm")),d.push(e[n].peakUsRate&&-1!==e[n].peakUsRate?e[n].peakUsRate:null),h.push(e[n].peakDsRate&&-1!==e[n].peakDsRate?e[n].peakDsRate:null)),y+=e[n].usOctets&&-1!==e[n].usOctets?e[n].usOctets:0,m+=e[n].dsOctets&&-1!==e[n].dsOctets?e[n].dsOctets:0;f&&f.length<=45?$=1:f&&f.length>45&&($=Math.floor(f.length/45));let S=this.getStackedUnit(y),D=this.getStackedUnit(m);r=(y/S[0]).toFixed(2)+" "+S[1],l=(m/D[0]).toFixed(2)+" "+D[1];let b,M=/\((.*)\)/.exec((new Date).toString())[1],w="",T="",U="",v=this.service.getStartUTCDate(t.startDate,0),L=this.service.getEndUTCDate(t.endDate),k=i(L).diff(i(v),"days");if("usage"!=t.criteriaSelected&&k<=3&&(T=t.startTime>=48?t.startTime-48:t.startTime>=24?t.startTime-24:t.startTime,U=t.endTime>48?t.endTime-48:t.endTime>24?t.endTime-24:t.endTime,T=T.toString().length<2?`0${T}:00`:`${T}:00`,U=U.toString().length<2?`0${U}:00`:`${U}:00`,t.startDate=t.APIStartDate,t.endDate=this.getISOEndOfDay(t.APIendDate,U)),a&&"locations"==a){u="Location_Traffic",b=this.language.locationsTrafficTitle;let e="";e=this.getTitleLocationNames(t.locationsSelectedNames),w=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.location}: ${e}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.criteria}: ${this.language[t.criteriaSelected]}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${x.transform(t.startDate,"MM/dd/yyyy")} ${T} to ${x.transform(t.endDate,"MM/dd/yyyy")} ${U} [${M}]</span>\n    <br><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.upUsageTitle}: ${r}</span> <span style="font-size:16px; color:#ffffff">...</span> <span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.downUsageTitle}: ${l}</span>`}else if(a&&"applications"==a&&(null===(s=t.applicationsSelectedNames)||void 0===s?void 0:s.length)>0){u="Application_Traffic",b=this.language["Application Traffic"];let e="",a="";e=this.getTitleLocationNames(t.locationsSelectedNames),a=this.getTitleApplicationNames(t.applicationsSelectedNames),w=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.application}: ${a}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.location}: ${e}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.criteria}: ${this.language[t.criteriaSelected]}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${x.transform(t.startDate,"MM/dd/yyyy")} ${T} to ${x.transform(t.endDate,"MM/dd/yyyy")} ${U} [${M}]</span>\n    <br><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.upUsageTitle}: ${r}</span> <span style="font-size:16px; color:#ffffff">...</span> <span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.downUsageTitle}: ${l}</span>`}else if(a&&"applications"==a&&(null===(o=t.applicationGroupSelectedNames)||void 0===o?void 0:o.length)>0){u="Application_Groups_Traffic",b=this.language["Application Groups Traffic"];let e="",a="";e=this.getTitleLocationNames(t.locationsSelectedNames),a=this.getTitleApplicationNames(t.applicationGroupSelectedNames),w=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.application}: ${a}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.location}: ${e}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.criteria}: ${this.language[t.criteriaSelected]}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${x.transform(t.startDate,"MM/dd/yyyy")} ${T} to ${x.transform(t.endDate,"MM/dd/yyyy")} ${U} [${M}]</span>\n    <br><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.upUsageTitle}: ${r}</span> <span style="font-size:16px; color:#ffffff">...</span> <span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.downUsageTitle}: ${l}</span>`}else u="Network_Traffic",b=this.language.networkTrafficTitle,w=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.criteria}: ${this.language[t.criteriaSelected]}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${x.transform(t.startDate,"MM/dd/yyyy")} ${T} to ${x.transform(t.endDate,"MM/dd/yyyy")} ${U} [${M}]</span>\n    <br><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.upUsageTitle}: ${r}</span> <span style="font-size:16px; color:#ffffff">...</span> <span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.downUsageTitle}: ${l}</span>`;return{chart:{type:"line",zoomType:"xy"},time:{useUTC:!1},title:{text:b},subtitle:{text:w},mapNavigation:{enableMouseWheelZoom:!0},xAxis:{categories:f||[],tickInterval:$,labels:{style:{textOverflow:"ellipsis"},allowOverlap:!1,maxStaggerLines:1,formatter:function(){let e=this.value;return this.isLast&&(e=this.axis.categories[this.axis.categories.length-1]),e}}},yAxis:{title:{text:""},labels:{formatter:function(){return g.bitsToSize(this.value,!1)}},min:0,minRange:1},legend:{align:"center",verticalAlign:"bottom",layout:"horizontal",symbolRadius:0},tooltip:{formatter:function(){var e=g.utils.bitsToSize(this.y,!1);return`<b>${this.x}</b><br/>\n          <p>${this.series.name} <span>:<b> ${e} </b><br/></span></p>`}},lang:{noData:this.language["No Data Available"]},plotOptions:{series:{marker:{enabled:1==(null==d?void 0:d.length)||1==(null==h?void 0:h.length)}},column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[{name:p,color:"#0027FF",data:d||[]},{name:c,color:"#5ACFEA",data:h||[]}],exporting:{filename:u,buttons:{contextButton:{menuItems:[{textKey:"downloadPDF",text:this.language.exportPDF||"Export PDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadCSV",text:this.language.exportCsv||"Export CSV",onclick:function(){var n,i;let s=[],o="";o=a&&"locations"==a?`Locations Traffic\r\nLocations: ${t.locationsSelectedNames}\r\nCriteria: ${g.language[t.criteriaSelected]}\r\n${g.language.time_win}: ${x.transform(t.startDate,"MM/dd/yyyy")} ${T} - ${x.transform(t.endDate,"MM/dd/yyyy")} ${U} [${M}]\r\nUp Usage: ${r},Down Usage: ${l}\r\n`:a&&"applications"==a&&(null===(n=t.applicationsSelectedNames)||void 0===n?void 0:n.length)>0?`Applications Traffic\r\nApplications: ${t.applicationsSelectedNames}\r\nLocations: ${t.locationsSelectedNames}\r\nCriteria: ${g.language[t.criteriaSelected]}\r\n${g.language.time_win}: ${x.transform(t.startDate,"MM/dd/yyyy")} ${T} - ${x.transform(t.endDate,"MM/dd/yyyy")} ${U} [${M}]\r\nUp Usage: ${r},Down Usage: ${l}\n                  \r\n`:a&&"applications"==a&&(null===(i=t.applicationGroupSelectedNames)||void 0===i?void 0:i.length)>0?`Application Groups Traffic\r\nApplication Groups: ${t.applicationGroupSelectedNames}\r\nLocations: ${t.locationsSelectedNames}\r\nCriteria: ${g.language[t.criteriaSelected]}\r\n${g.language.time_win}: ${x.transform(t.startDate,"MM/dd/yyyy")} ${T} - ${x.transform(t.endDate,"MM/dd/yyyy")} ${U} [${M}]\r\nUp Usage: ${r},Down Usage: ${l}\n                  \r\n`:`Network Traffic\r\nCriteria: ${g.language[t.criteriaSelected]}\r\n${g.language.time_win}: ${x.transform(t.startDate,"MM/dd/yyyy")} ${T} - ${x.transform(t.endDate,"MM/dd/yyyy")} ${U} [${M}] \r\nUp Usage: ${r},Down Usage: ${l}\n                  \r\n`;for(var p=0;p<e.length;p++)s.push({"Date Time":g.getDateTime(e[p].startPeriodSec,!0,"MM/dd/yyyy HH:mm"),"Max Up Rate(bps)":e[p].peakUsRate&&-1!==e[p].peakUsRate?e[p].peakUsRate.toLocaleString():0,"Max Down Rate(bps)":e[p].peakDsRate&&-1!==e[p].peakDsRate?e[p].peakDsRate.toLocaleString():0});g.excel.downLoadCSV(u,s,o)}}],text:g.language.export}}},credits:{enabled:!1}}}makeOptionsForApplications(e,t,a,i){let s=this,o=[],r=[],l="",p="",c=new n.uU("en-US"),g=/\((.*)\)/.exec((new Date).toString())[1];"usage"==a.criteriaSelected&&(g="Coordinated Universal Time");let f="",d="";if(l=this.getSelectDirectionName(a.directionSelected),i&&"locations"==i){p="no"==a.groupSelected?"Location_Top_Applications":"Location_Top_Application_Groups",f=this.language.location+" "+("no"==a.groupSelected?this.language.Top_Appln:this.language.Top_Application+" "+this.language.Groups);let e="";e=this.getTitleLocationNames(a.locationsSelectedNames),d=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.criteria}: ${this.language[a.criteriaSelected]}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.location}: ${e}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${c.transform(a.startDate,"MM/dd/yyyy")} to ${c.transform(a.endDate,"MM/dd/yyyy")} [${g}]</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.direction}: ${a.directionSelected?l:""}</span>`}else p="no"==a.groupSelected?"Network_Top_Applications":"Network_Top_Application_Groups",f=this.language.network+" "+("no"==a.groupSelected?this.language.Top_Appln:this.language.Top_Application+" "+this.language.Groups),d=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.criteria}: ${this.language[a.criteriaSelected]}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${c.transform(a.startDate,"MM/dd/yyyy")} to ${c.transform(a.endDate,"MM/dd/yyyy")} [${g}]</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.direction}: ${a.directionSelected?l:""}</span>`;let h=this.arraysObjectsPercentageCalculator,u={chart:{type:t,zoomType:"xy",events:{load:function(){s.axisLabelClickEvent(this)}}},title:{text:f},subtitle:{text:d},xAxis:{categories:o,labels:{style:{textOverflow:"ellipsis",overflow:"hidden",fontSize:"13px",fontWeight:500},formatter:function(){return s.showLabel(this.value)},events:{click:function(){s.navigateByUrl(e,this.axis.categories[this.pos],a,"App")}}}},yAxis:{labels:{formatter:function(){let e=this;var t,n=e.axis.series[0].dataMax;if("usage"==a.criteriaSelected)t=(e.value/(i=n>1e12?[1e12,"TB"]:n>1e9?[1e9,"GB"]:n>1e6?[1e6,"MB"]:n>1e3?[1e3,"KB"]:[1,"B"])[0]).toFixed(1)+(e.isFirst?" "+i[1]:"");else{var i=n>1e12?[1e12,"Tbps"]:n>1e9?[1e9,"Gbps"]:n>1e6?[1e6,"Mbps"]:n>1e3?[1e3,"Kbps"]:[1,"bps"];t=(e.isFirst?0:(e.value/i[0]).toFixed(1))+(e.isFirst?" "+i[1]:"")}return t}},min:0,title:{text:""}},lang:{noData:this.language["No Data Available"]},legend:{reversed:!1},credits:{enabled:!1},plotOptions:{series:{minPointLength:3,color:"#0027FF",point:{events:{mouseOver:function(){let e="bar"===t?this.category:this.name;"Unknown"!==e&&"Unknown Application"!==e&&"Unknown and Other"!==e&&"00000000-0000-0000-0000-000000000000"!==e&&"Unclassified Applications"!==e&&this.graphic.attr({cursor:"pointer"})},click:function(){s.navigateByUrl(e,"bar"===t?this.category:this.name,a,"App")}}}}},tooltip:{formatter:function(){var e,t,n=this.y;return"usage"==a.criteriaSelected?(e=s.getStackedUnit(n),t=`<b> ${this.key} </b><br/>\n              <p>${this.series.name}<span>: <b>${(this.y/e[0]).toFixed(2)+" "+e[1]}</b><br/></span></p>`):(e=s.utils.bitsToSize(n,!1),t=`<b> ${this.key} </b><br/>\n              <p>${this.series.name}<span>: <b>${e}</b><br/></span></p>`),t}},series:[],exporting:{filename:p,buttons:{contextButton:{menuItems:[{textKey:"downloadPDF",text:this.language.exportPDF||"Export PDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadCSV",text:this.language.exportCsv||"Export CSV",onclick:function(){let t=[],n="";n=i&&"locations"==i?`${"no"==a.groupSelected?"Locations Top Applications":"Locations Top Application Groups"}\r\nLocations: ${a.locationsSelectedNames}\r\nCriteria: ${s.language[a.criteriaSelected]}\r\n${s.language.time_win}: ${c.transform(a.startDate,"MM/dd/yyyy")} - ${c.transform(a.endDate,"MM/dd/yyyy")} [${g}]\r\nDirection: ${a.directionSelected?l:""}\n                  \r\n`:`${"no"==a.groupSelected?"Network Top Applications":"Network Top Application Groups"}\r\nCriteria: ${s.language[a.criteriaSelected]}\r\n${s.language.time_win}: ${c.transform(a.startDate,"MM/dd/yyyy")} - ${c.transform(a.endDate,"MM/dd/yyyy")} [${g}]\r\nDirection: ${a.directionSelected?l:""}\n                  \r\n`;for(var o=0;o<e.length;o++)t.push("usage"==a.criteriaSelected?{Name:e[o].name?e[o].name:e[o].key,"Up Usage(Byte)":e[o].usOctets?e[o].usOctets.toLocaleString():0,"Down Usage(Byte)":e[o].dsOctets?e[o].dsOctets.toLocaleString():0,"Both(Down+Up) Usage(Byte)":e[o].totalOctets?e[o].totalOctets.toLocaleString():0}:{Name:e[o].name?e[o].name:e[o].key,"Up Max Rate(bps)":e[o].peakUsRate?e[o].peakUsRate.toLocaleString():0,"Up Average Rate(bps)":e[o].usRate?e[o].usRate.toLocaleString():0,"Down Max Rate(bps)":e[o].peakDsRate?e[o].peakDsRate.toLocaleString():0,"Down Average Rate(bps)":e[o].dsRate?e[o].dsRate.toLocaleString():0});s.excel.downLoadCSV(p,t,n)}}],text:s.language.export}}}};if("bar"===t){if("usage"==a.criteriaSelected)for(let t=0;t<e.length;t++)o.push(e[t].name?e[t].name:e[t].key),r.push("both"==a.directionSelected?e[t].dsOctets+e[t].usOctets:"Down"==a.directionSelected?e[t].dsOctets:e[t].usOctets);else for(let t=0;t<e.length;t++)o.push(e[t].name?e[t].name:e[t].key),r.push("Down"==a.directionSelected?e[t].dsRate:e[t].usRate);u.series=[{name:l+" "+s.language[a.criteriaSelected],data:r}]}else if("pie"===t){if("usage"==a.criteriaSelected)for(let t=0;t<e.length;t++)r.push("both"==a.directionSelected?{name:e[t].name?e[t].name:e[t].key,y:e[t].dsOctets+e[t].usOctets}:"Down"==a.directionSelected?{name:e[t].name?e[t].name:e[t].key,y:e[t].dsOctets}:{name:e[t].name?e[t].name:e[t].key,y:e[t].usOctets});else for(let t=0;t<e.length;t++)r.push("Down"==a.directionSelected?{name:e[t].name?e[t].name:e[t].key,y:e[t].dsRate}:{name:e[t].name?e[t].name:e[t].key,y:e[t].usRate});u.series=[{data:r,name:s.language[a.directionSelected]}],u.plotOptions.pie={size:"80%",allowPointSelect:!0,cursor:"pointer",showInLegend:!0,colors:["#f3722c","#f94144","#f9c74f","#f8961e","#f9844a","#90be6d","#43aa8b","#4d908e","#577590","#277da1","#4361ee","#bc4749","#affc41","#d4a373","#8d99ae","#c9ada7","#735d78","#403d39","#d8d78f","#43bccd","#E87B00","#44367D","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"],dataLabels:{enabled:!0,formatter:function(){let e=[];return r.forEach(t=>{e.push(+t.y)}),`<b>${r[this.point.x].name} ${h(e,r[this.point.x].y,1)} % </b> <br/>`}}}}return u}makeOptionsForLocations(e,t,a,i){var s,o;let r=this,l=[],p=[],c=this.language.DOWN,g=new n.uU("en-US"),f=/\((.*)\)/.exec((new Date).toString())[1];"usage"==a.criteriaSelected&&(f="Coordinated Universal Time");let d="",h="",u="";if("both"==a.directionSelected?(e=this.commonOrgService.sortByColumn(e,"desc","totalOctets",!0),c=this.language["Both(Down+Up)"]):"Down"==a.directionSelected?(e=this.commonOrgService.sortByColumn(e,"desc","dsOctets",!0),c=this.language.Down):(e=this.commonOrgService.sortByColumn(e,"desc","usOctets",!0),c=this.language.Up),i&&"applications"==i&&(null===(s=a.applicationsSelectedNames)||void 0===s?void 0:s.length)>0){u="Application_Top_Locations",d=this.language.Application+" "+this.language.appsTopLocsTitle;let e="";e=this.getTitleApplicationNames(a.applicationsSelectedNames),h=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.application}: ${e}</span>\n      <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.criteria}: ${this.language[a.criteriaSelected]}</span>\n      <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${g.transform(a.startDate,"MM/dd/yyyy")} to ${g.transform(a.endDate,"MM/dd/yyyy")} [${f}]</span>\n      <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.direction}: ${c||""}</span>`}else if(i&&"applications"==i&&(null===(o=a.applicationGroupSelectedNames)||void 0===o?void 0:o.length)>0){u="Application_Groups_Top_Locations",d=this.language.applicationgroups+" "+this.language.appsTopLocsTitle;let e="";e=this.getTitleApplicationNames(a.applicationGroupSelectedNames),h=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.applicationgroups}: ${e}</span>\n      <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.criteria}: ${this.language[a.criteriaSelected]}</span>\n      <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${g.transform(a.startDate,"MM/dd/yyyy")} to ${g.transform(a.endDate,"MM/dd/yyyy")} [${f}]</span>\n      <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.direction}: ${c||""}</span>`}else u="Network_Top_Locations",d=this.language.network+" "+this.language.networkTopLocsTitle,h=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.criteria}: ${this.language[a.criteriaSelected]}</span>\n      <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${g.transform(a.startDate,"MM/dd/yyyy")} to ${g.transform(a.endDate,"MM/dd/yyyy")} [${f}]</span>\n      <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.direction}: ${c||""}</span>`;let y={chart:{type:t,zoomType:"xy",events:{load:function(){r.axisLabelClickEvent(this)}}},title:{text:d},subtitle:{text:h},xAxis:{categories:l,labels:{style:{textOverflow:"ellipsis",overflow:"hidden",fontSize:"13px",fontWeight:500},formatter:function(){return r.showLabel(this.value)},events:{click:function(){r.navigateByUrl(e,this.axis.categories[this.pos],a,"Loc")}}}},yAxis:{labels:{formatter:function(){let e=this;var t,n=e.axis.series[0].dataMax;if("usage"==a.criteriaSelected)t=(e.value/(i=n>1e12?[1e12,"TB"]:n>1e9?[1e9,"GB"]:n>1e6?[1e6,"MB"]:n>1e3?[1e3,"KB"]:[1,"B"])[0]).toFixed(1)+(e.isFirst?" "+i[1]:"");else{var i=n>1e12?[1e12,"Tbps"]:n>1e9?[1e9,"Gbps"]:n>1e6?[1e6,"Mbps"]:n>1e3?[1e3,"Kbps"]:[1,"bps"];t=(e.isFirst?0:(e.value/i[0]).toFixed(1))+(e.isFirst?" "+i[1]:"")}return t}},min:0,title:{text:""},minRange:1},legend:{reversed:!0},credits:{enabled:!1},lang:{noData:this.language["No Data Available"]},plotOptions:{series:{minPointLength:3,color:"#0027FF",point:{events:{mouseOver:function(){let e="bar"===t?this.category:this.name;"Unknown"!==e&&"Unknown Location"!==e&&"Unknown and Other"!==e&&"00000000-0000-0000-0000-000000000000"!==e&&this.graphic.attr({cursor:"pointer"})},click:function(){r.navigateByUrl(e,"bar"===t?this.category:this.name,a,"Loc")}}}}},tooltip:{formatter:function(){var e,t,n=this.y;return"usage"==a.criteriaSelected?(e=r.getStackedUnit(n),t=`<b> ${this.key} </b><br/>\n                <p>${this.series.name}<span>: <b>${(this.y/e[0]).toFixed(2)+" "+e[1]}</b><br/></span></p>`):(e=r.utils.bitsToSize(n,!1),t=`<b> ${this.key} </b><br/>\n                <p>${this.series.name}<span>: <b>${e}</b><br/></span></p>`),t}},series:[],exporting:{filename:u,buttons:{contextButton:{menuItems:[{textKey:"downloadPDF",text:this.language.exportPDF||"Export PDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadCSV",text:this.language.exportCsv||"Export CSV",onclick:function(){var t,n;let s=[],o="";o=i&&"applications"==i&&(null===(t=a.applicationsSelectedNames)||void 0===t?void 0:t.length)>0?`Applications Top Locations\r\nApplications: ${a.applicationsSelectedNames}\r\nCriteria: ${r.language[a.criteriaSelected]}\r\n${r.language.time_win}: ${g.transform(a.startDate,"MM/dd/yyyy")} - ${g.transform(a.endDate,"MM/dd/yyyy")} [${f}]\r\nDirection: ${c||""}\n                  \r\n`:i&&"applications"==i&&(null===(n=a.applicationGroupSelectedNames)||void 0===n?void 0:n.length)>0?`Application Groups Top Locations\r\nApplication Group: ${a.applicationGroupSelectedNames}\r\nCriteria: ${r.language[a.criteriaSelected]}\r\n${r.language.time_win}: ${g.transform(a.startDate,"MM/dd/yyyy")} - ${g.transform(a.endDate,"MM/dd/yyyy")} [${f}]\r\nDirection: ${c||""}\n                  \r\n`:`Network Top Locations\r\nCriteria: ${r.language[a.criteriaSelected]}\r\n${r.language.time_win}: ${g.transform(a.startDate,"MM/dd/yyyy")} - ${g.transform(a.endDate,"MM/dd/yyyy")} [${f}]\r\nDirection: ${c||""}\n                  \r\n`;for(var l=0;l<e.length;l++)s.push("usage"==a.criteriaSelected?{Name:e[l].name?e[l].name:"","Up Usage(Byte)":e[l].usOctets?e[l].usOctets.toLocaleString():0,"Down Usage(Byte)":e[l].dsOctets?e[l].dsOctets.toLocaleString():0,"Both(Down+Up) Usage(Byte)":e[l].totalOctets?e[l].totalOctets.toLocaleString():0,SubnetIPv4:e[l].subnets?e[l].subnets:"",SubnetIPv6:e[l].subnetsV6?e[l].subnetsV6:""}:{Name:e[l].name?e[l].name:e[l].key,"Up Max Rate(bps)":e[l].peakUsRate?e[l].peakUsRate.toLocaleString():0,"Up Average Rate(bps)":e[l].usRate?e[l].usRate.toLocaleString():0,"Down Max Rate(bps)":e[l].peakDsRate?e[l].peakDsRate.toLocaleString():0,"Down Average Rate(bps)":e[l].dsRate?e[l].dsRate.toLocaleString():0,SubnetIPv4:e[l].subnets?e[l].subnets:"",SubnetIPv6:e[l].subnetsV6?e[l].subnetsV6:""});r.excel.downLoadCSV(u,s,o)}}],text:r.language.export}}}};if("bar"===t){if("usage"==a.criteriaSelected)for(let t=0;t<e.length;t++)l.push(e[t].name?e[t].name:e[t].key),p.push("both"==a.directionSelected?e[t].totalOctets:"Down"==a.directionSelected?e[t].dsOctets:e[t].usOctets);else for(let t=0;t<e.length;t++)l.push(e[t].name?e[t].name:e[t].key),p.push("Down"==a.directionSelected?e[t].dsRate:e[t].usRate);y.series=[{name:c+" "+r.language[a.criteriaSelected],data:p}]}else if("pie"===t){if("usage"==a.criteriaSelected)for(let t=0;t<e.length;t++)p.push("both"==a.directionSelected?{name:e[t].name,y:e[t].dsOctets+e[t].usOctets}:"Down"==a.directionSelected?{name:e[t].name,y:e[t].dsOctets}:{name:e[t].name,y:e[t].usOctets});else for(let t=0;t<e.length;t++)p.push("Down"==a.directionSelected?{name:e[t].name?e[t].name:e[t].key,y:e[t].dsRate}:{name:e[t].name?e[t].name:e[t].key,y:e[t].usRate});y.series=[{data:p,name:c}],y.plotOptions.pie={allowPointSelect:!0,cursor:"pointer"}}return y}convertDate(e){var t=new Date(e),a=t.getMonth().toString(),n=t.getDate().toString(),i=a.split(""),s=n.split("");return(i[1]?a:"0"+i[0])+"/"+(s[1]?n:"0"+s[0])}topSub_ChartOptions(e,t){var a,i;let s=this,o=[],r=[],l=this.getSelectDirectionName(t.directionSelected);if(e.length)if("usage"==t.criteriaSelected)for(let n=0;n<e.length;n++)o.push(e[n].name?e[n].name:e[n].title?e[n].title:e[n].key),r.push("both"==t.directionSelected?e[n].dsOctets+e[n].usOctets:"Down"==t.directionSelected?e[n].dsOctets:e[n].usOctets);else for(let n=0;n<e.length;n++)o.push(e[n].name?e[n].name:e[n].key),r.push("Down"==t.directionSelected?e[n].dsRate:e[n].usRate);let p="network",c="",g="",f="",d="",h="Network_Top_Subscribers";"Applications"===t.From&&(null===(a=t.applicationsSelectedNames)||void 0===a?void 0:a.length)>0?(h="Application_Top_Subscribers",f=this.getTitleApplicationNames(t.applicationsSelectedNames),c=`<span style="font-size:16px; color:#ffffff" >...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.Application}: ${f} </span >`,p="Application"):"Applications"===t.From&&(null===(i=t.applicationGroupSelectedNames)||void 0===i?void 0:i.length)>0?(h="Application_Groups_Top_Subscribers",f=this.getTitleApplicationNames(t.applicationGroupSelectedNames),c=`<span style="font-size:16px; color:#ffffff" >...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.applicationGroup}: ${f} </span >`,p="applicationGroup"):"Locations"===t.From&&(h="Location_Top_Subscribers",d=this.getTitleLocationNames(t.locationsSelectedNames),g=`<span style="font-size:16px; color:#ffffff" >...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.Location}: ${d} </span >`,p="Location");let u,y=new n.uU("en-US"),m=/\((.*)\)/.exec((new Date).toString())[1];"usage"==t.criteriaSelected&&(m="Coordinated Universal Time");let $=`<span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.criteria}: ${this.language[t.criteriaSelected]}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${y.transform(t.startDate,"MM/dd/yyyy")} to ${y.transform(t.endDate,"MM/dd/yyyy")} [${m}]  </span>\n    <br><span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.limit}: ${t.limit} </span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.direction}: ${t.directionSelected?l:""} </span>`;u=c?c+$:g?g+$:$;let x={chart:{type:"bar",zoomType:"xy",events:{load:function(){s.axisLabelClickEvent(this)}}},title:{text:this.language[p]+" "+this.language.networkTopSubsTitle},subtitle:{text:u},xAxis:{categories:o,labels:{style:{textOverflow:"ellipsis",overflow:"hidden",fontSize:"13px",fontWeight:500},formatter:function(){return s.showLabel(this.value)},events:{click:function(e){}}}},yAxis:{labels:{formatter:function(){let e=this;var a,n=e.axis.series[0].dataMax;if("usage"==t.criteriaSelected)a=(e.value/(i=n>1e12?[1e12,"TB"]:n>1e9?[1e9,"GB"]:n>1e6?[1e6,"MB"]:n>1e3?[1e3,"KB"]:[1,"B"])[0]).toFixed(1)+(e.isFirst?" "+i[1]:"");else{var i=n>1e12?[1e12,"Tbps"]:n>1e9?[1e9,"Gbps"]:n>1e6?[1e6,"Mbps"]:n>1e3?[1e3,"Kbps"]:[1,"bps"];a=(e.isFirst?0:(e.value/i[0]).toFixed(1))+(e.isFirst?" "+i[1]:"")}return a}},min:0,title:{text:""},opposite:!1,tickLength:2,minRange:1},legend:{reversed:!1},lang:{noData:this.language["No Data Available"]},plotOptions:{column:{stacking:"normal"},series:{minPointLength:3,color:"#0027FF",point:{events:{mouseOver:function(){"Unknown"!==this.category&&"Unknown and Other"!==this.category&&"00000000-0000-0000-0000-000000000000"!==this.category&&this.graphic.attr({cursor:"pointer"})},click:function(){s.navigateByUrl(e,this.category,t,"Sub",e[this.index].key)}}}}},tooltip:{formatter:function(){let a,n,i,o;e.forEach(e=>{(e.name===this.x||e.title===this.x||e.key===this.x)&&(a=e.ipAddress?e.ipAddress:"",n=e.macAddress?e.macAddress:"",i=e.serialNumber?e.serialNumber:"",o=e.mappedBy?e.mappedBy:"")});var r,l,p=this.y;let c=a?`<p>IP Address<span>: <b>${a}</b><br/></span></p> <br/>`:"";return c+=i?`<p> Serial Number<span>: <b>${i}</b><br/></span></p> <br/>`:"",c+=n?`<p> MAC Address<span>: <b>${n}</b><br/></span></p> <br/>`:"",c+=o?`<p> Mapped By<span>: <b>${o}</b><br/></span></p> <br/>`:"","usage"==t.criteriaSelected?(r=s.getStackedUnit(p),l=`<b> ${this.key} </b><br/>\n                <p>${this.series.name} <span>: <b>${(this.y/r[0]).toFixed(2)+" "+r[1]}</b><br/></span></p> <br/>\n                ${c}`):(r=s.utils.bitsToSize(p,!1),l=`<b> ${this.key} </b><br/>\n                <p>${this.series.name} <span>: <b>${r}</b><br/></span></p> <br/>\n                ${c}`),l}},series:[],exporting:{filename:h,buttons:{contextButton:{menuItems:[{textKey:"downloadPDF",text:this.language.exportPDF||"Export PDF",onclick:function(){this.setSize(this.chartWidth,this.chartHeight),this.exportChart({type:"application/pdf"})}},{textKey:"downloadCSV",text:this.language.exportCsv||"Export CSV",onclick:function(){var a,n;let i=[],o="";o="Applications"===t.From&&(null===(a=t.applicationsSelectedNames)||void 0===a?void 0:a.length)>0?`Applications Top Subscribers\r\nApplications : ${t.applicationsSelectedNames}\r\nCriteria: ${s.language[t.criteriaSelected]}\r\n${s.language.time_win}: ${y.transform(t.startDate,"MM/dd/yyyy")} - ${y.transform(t.endDate,"MM/dd/yyyy")} [${m}]\r\nLimit: ${t.limit}\r\nDirection: ${t.directionSelected?l:""}\r\n\r\n`:"Applications"===t.From&&(null===(n=t.applicationGroupSelectedNames)||void 0===n?void 0:n.length)>0?`Application Groups Top Subscribers\r\nApplication Groups : ${t.applicationGroupSelectedNames}\r\nCriteria: ${s.language[t.criteriaSelected]}\r\n${s.language.time_win}: ${y.transform(t.startDate,"MM/dd/yyyy")} - ${y.transform(t.endDate,"MM/dd/yyyy")} [${m}]\r\nLimit: ${t.limit}\r\nDirection: ${t.directionSelected?l:""}\r\n\r\n`:"Locations"===t.From?`nLocations Top Subscribers\r\nLocations: ${t.locationsSelectedNames}\r\nCriteria: ${s.language[t.criteriaSelected]}\r\n${s.language.time_win}: ${y.transform(t.startDate,"MM/dd/yyyy")} - ${y.transform(t.endDate,"MM/dd/yyyy")} [${m}]\r\nLimit: ${t.limit}\r\nDirection: ${t.directionSelected?l:""}\r\n\r\n`:`Top Subscribers\r\nCriteria: ${s.language[t.criteriaSelected]}\r\n${s.language.time_win}: ${y.transform(t.startDate,"MM/dd/yyyy")} - ${y.transform(t.endDate,"MM/dd/yyyy")} [${m}]\r\nLimit: ${t.limit}\r\nDirection: ${t.directionSelected?l:""}\r\n\r\n`;for(var r=0;r<e.length;r++)i.push("usage"==t.criteriaSelected?{Name:e[r].name?e[r].name:e[r].title?e[r].title:e[r].key,"Up Usage(Byte)":e[r].usOctets?e[r].usOctets.toLocaleString():0,"Down Usage(Byte)":e[r].dsOctets?e[r].dsOctets.toLocaleString():0,"Both(Down+Up) Usage":e[r].totalOctets?e[r].totalOctets.toLocaleString():0,"IP Address":e[r].ipAddress?e[r].ipAddress:"","Mapped By":e[r].mappedBy?e[r].mappedBy:"","Endpoint Title":e[r].title?e[r].title:"","Mapped Name":e[r].mappedName?e[r].mappedName:"","Radius  User Name":e[r].radiusName?e[r].radiusName:"","Serial Number":e[r].serialNumber?e[r].serialNumber:"","MAC Address":e[r].macAddress?e[r].macAddress:""}:{Name:e[r].name?e[r].name:e[r].key,"Up Max Rate(bps)":e[r].peakUsRate?e[r].peakUsRate.toLocaleString():0,"Up Average Rate(bps)":e[r].usRate?e[r].usRate.toLocaleString():0,"Down Max Rate(bps)":e[r].peakDsRate?e[r].peakDsRate.toLocaleString():0,"Down Average Rate(bps)":e[r].dsRate?e[r].dsRate.toLocaleString():0,"IP Address":e[r].ipAddress?e[r].ipAddress:"","Mapped By":e[r].mappedBy?e[r].mappedBy:"","Endpoint Title":e[r].title?e[r].title:"","Mapped Name":e[r].mappedName?e[r].mappedName:"","Radius  User Name":e[r].radiusName?e[r].radiusName:"","Serial Number":e[r].serialNumber?e[r].serialNumber:"","MAC Address":e[r].macAddress?e[r].macAddress:""});s.excel.downLoadCSV(h,i,o)}}],text:s.language.export}}},credits:{enabled:!1}};return x.series=[{name:l+" "+s.language[t.criteriaSelected],data:r}],x}monthlyUsageByAppChartOptions(e,t){let a=this;var i=[];let s="",o=this.getMonthlyUsageDates(),r=o.startDate,l=o.endDate;s="both"==t.directionSelected?this.language["Both(Down+Up)"]+" Usage":"Down"==t.directionSelected?this.language.Down+" Usage":this.language.Up+" Usage";var p=[],c=[];e.length&&e.forEach(e=>{e.name||(e.name=e.key),-1===i.indexOf(e.name)&&i.push(e.name);let t=this.getUTCDateFormatFromUTCTime(e.startPeriodSec,!0,"MM/yyyy");c.includes(t)||c.push(t)});let g={};e.forEach(e=>{g[e.startPeriodSec]||(g[e.startPeriodSec]=[]);let a=0,n=e.name?e.name:e.key;a="both"==t.directionSelected?e.totalOctets&&-1!==e.totalOctets?e.totalOctets:null:"Down"==t.directionSelected?e.dsOctets&&-1!==e.dsOctets?e.dsOctets:null:e.usOctets&&-1!==e.usOctets?e.usOctets:null,0===g[e.startPeriodSec].filter(e=>e.name===n).length&&g[e.startPeriodSec].push({name:n,value:a})});let f={};i.forEach(e=>{Object.keys(g).forEach(t=>{f[e]||(f[e]=[]);let a=!1;g[t].forEach(t=>{e===t.name&&(a=!0,f[e].push(t.value))}),a||f[e].push(null)})}),Object.keys(f).forEach(e=>{p.push({name:e,data:f[e]})});let d="";d=this.getTitleLocationNames(t.locationsSelectedNames);let h=this.getSelectDirectionName(t.directionSelected),u=new n.uU("en-US"),y="Coordinated Universal Time",m=`<span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${u.transform(r,"MM/dd/yyyy")} to ${u.transform(l,"MM/dd/yyyy")} [${y}]  </span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.direction}: ${t.directionSelected?h:""} </span>`;"location"===t.type&&(m=`<span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.Location}: ${d}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${u.transform(r,"MM/dd/yyyy")} to ${u.transform(l,"MM/dd/yyyy")} [${y}]  </span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.direction}: ${t.directionSelected?h:""} </span>`),0==p.length&&(p=[{name:s,data:[]}]);let $=this.monthlyUsagebyAppColors(),x=`${this.language.network} ${this.language.monthusageapp} (Top 5)`;return"location"===t.type&&(x=`${this.language.location} ${this.language.monthusageapp} (Top 5)`),{chart:{type:"column",zoomType:"xy"},title:{text:x},subtitle:{text:m},xAxis:{categories:c,tickPositions:[0,1,2,3,4,5,6,7,8,9,10,11],alignTicks:!1,labels:{style:{textOverflow:"ellipsis"}}},lang:{noData:this.language["No Data Available"]},yAxis:{labels:{formatter:function(){let e=this;var t=e.axis.series[0].dataMax,a=t>1e12?[1e12,"TB"]:t>1e9?[1e9,"GB"]:t>1e6?[1e6,"MB"]:t>1e3?[1e3,"KB"]:[1,"B"];return(e.value/a[0]).toFixed(1)+(e.isFirst?" "+a[1]:"")}},min:0,title:{text:""},opposite:!1,tickLength:2},legend:{reversed:!1},tooltip:{formatter:function(){var e=a.getStackedUnit(this.y);return`<b> ${this.series.name} </b><br/>\n          <p> ${s} <span>: <b>${(this.y/e[0]).toFixed(2)+" "+e[1]}</b><br/></span></p>`}},plotOptions:{column:{stacking:"normal"},series:{minPointLength:3,colors:["#0027FF","#5ACFEA","#FF8238","#F7C343","#B926F0","#FF489D","#E51A1A"]}},series:p,colors:$,exporting:{filename:"location"===t.type?"Location_Monthly_Usage_By_Application":"Network_Monthly_Usage_By_Application",buttons:{contextButton:{menuItems:[{textKey:"downloadPDF",text:this.language.exportPDF||"Export PDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadCSV",text:this.language.exportCsv||"Export CSV",onclick:function(){let n=[],i="",s="location"===t.type?"Location_Monthly_Usage_By_Application":"Network_Monthly_Usage_By_Application";i=`Network Monthly Usage By Application\r\n${a.language.time_win}: ${u.transform(r,"MM/dd/yyyy")} - ${u.transform(l,"MM/dd/yyyy")} [${y}]\r\nDirection: ${t.directionSelected?h:""}\r\n`,"location"===t.type&&(i=`Location Monthly Usage By Application\r\n${a.language.time_win}: ${u.transform(r,"MM/dd/yyyy")} - ${u.transform(l,"MM/dd/yyyy")} [${y}]\r\nLocation : ${t.locationsSelectedNames}\r\nDirection: ${t.directionSelected?h:""}\r\n`);for(var o=0;o<e.length;o++)n.push({"Date Time":a.getUTCDateFormatFromUTCTime(e[o].startPeriodSec,!0,"MM/dd/yyyy"),"Application Name":e[o].name?e[o].name:e[o].key,"Monthly Usage (Byte)":a.getCSVData(e[o],t.directionSelected)});a.excel.downLoadCSV(s,n,i)}}],text:a.language.export}}},credits:{enabled:!1}}}monthlyUsageByServiceChartOptions(e,t){let a=this;var i=[];let s="",o=this.getMonthlyUsageDates(),r=o.startDate,l=o.endDate;s="both"==t.directionSelected?this.language["Both(Down+Up)"]+` ${this.language.Usage}`:"Down"==t.directionSelected?this.language["Down Usage"]:this.language["Up Usage"],e.length&&e.forEach(e=>{e.name||(e.name=e.key),-1===i.indexOf(e.name)&&i.push(e.name)});var p=[],c=[];$.each(i,(a,n)=>{var i={};i.name=n,i.data=[],$.each(e,(e,a)=>{a.key||(a.name=a.key),a.name===n&&(i.data.push("both"==t.directionSelected?a.totalOctets&&-1!==a.totalOctets?a.totalOctets:null:"Down"==t.directionSelected?a.dsOctets&&-1!==a.dsOctets?a.dsOctets:null:a.usOctets&&-1!==a.usOctets?a.usOctets:null),c.push(this.getUTCDateFormatFromUTCTime(a.startPeriodSec,!0,"MM/yyyy")))}),p.push(i)});let g="";g=this.getTitleLocationNames(t.locationsSelectedNames);let f=this.getSelectDirectionName(t.directionSelected),d=new n.uU("en-US"),h="Coordinated Universal Time",u=`<span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${d.transform(r,"MM/dd/yyyy")} to ${d.transform(l,"MM/dd/yyyy")} [${h}]  </span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.direction}: ${t.directionSelected?f:""} </span>`;"location"===t.type&&(u=`<span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.Location}: ${g}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${d.transform(r,"MM/dd/yyyy")} to ${d.transform(l,"MM/dd/yyyy")} [${h}]  </span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.direction}: ${t.directionSelected?f:""} </span>`),0==p.length&&(p=[{name:s,data:[]}]);let y=this.monthlyUsagebyAppColors(),m=`${this.language.network} ${this.language.locationMenuMonthlyUsageByServiceCategory}`;return"location"===t.type&&(m=`${this.language.location} ${this.language.locationMenuMonthlyUsageByServiceCategory}`),{chart:{type:"column",zoomType:"xy"},title:{text:m},subtitle:{text:u},xAxis:{categories:c,labels:{style:{textOverflow:"ellipsis"}}},yAxis:{labels:{formatter:function(){let e=this;var t=e.axis.series[0].dataMax,a=t>1e12?[1e12,"TB"]:t>1e9?[1e9,"GB"]:t>1e6?[1e6,"MB"]:t>1e3?[1e3,"KB"]:[1,"B"];return(e.value/a[0]).toFixed(1)+(e.isFirst?" "+a[1]:"")}},min:0,title:{text:""},opposite:!1,tickLength:2},lang:{noData:this.language["No Data Available"]},legend:{reversed:!1},tooltip:{formatter:function(){var e=a.getStackedUnit(this.y);return`<b> ${this.series.name} </b><br/>\n          <p> ${s} <span>: <b>${(this.y/e[0]).toFixed(2)+" "+e[1]}</b><br/></span></p>`}},plotOptions:{column:{stacking:"normal"},series:{minPointLength:3,colors:["#0027FF","#5ACFEA","#FF8238","#F7C343","#B926F0","#FF489D","#E51A1A"],cursor:"pointer",point:{events:{}}}},series:p,colors:y,exporting:{enabled:!1},credits:{enabled:!1}}}monthlyUsageByServiceChartOptions1(e,t){let a=this,i=[],s=[],o=[];if(e.length)for(let n=0;n<e.length;n++){let a=this.convertDate(e[n].startPeriodSec);i.push(a),"both"==t.directionSelected?(s.push(e[n].usOctets),o.push(e[n].dsOctets)):"Down"==t.directionSelected?o.push(e[n].dsOctets):s.push(e[n].usOctets)}let r=new n.uU("en-US"),l="Coordinated Universal Time",p=`<span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.Location}: ${t.locationsSelected}</span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${r.transform(t.startDate,"MM/dd/yyyy")} to ${r.transform(t.endDate,"MM/dd/yyyy")} [${l}]  </span>\n    <span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.direction}: ${t.directionSelected} </span>\n    <br><span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.upUsageTitle}: 28.85019 TB</span> <span style="font-size:16px; color:#ffffff">...</span> <span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.downUsageTitle}: 125.85019 TB</span>`,c={chart:{type:"bar",zoomType:"xy"},title:{text:this.language.monthusageservice},subtitle:{text:p},xAxis:{categories:i,labels:{style:{textOverflow:"ellipsis"}}},yAxis:{min:0,title:{text:""},opposite:!1,tickLength:2,minRange:1},legend:{reversed:!1},lang:{noData:this.language["No Data Available"]},plotOptions:{column:{stacking:"normal"},series:{colors:["#0027FF","#5ACFEA","#FF8238","#F7C343","#B926F0","#FF489D","#E51A1A"],cursor:"pointer",point:{events:{}}}},series:[],exporting:{buttons:{contextButton:{menuItems:[{textKey:"downloadPDF",text:this.language.exportPDF||"Export PDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadCSV",text:this.language.exportCsv||"Export CSV",onclick:function(){let e=[],n="";n=`Monthly Usage By Service Category\r\n${a.language.time_win}: ${r.transform(t.startDate,"MM/dd/yyyy")} - ${r.transform(t.endDate,"MM/dd/yyyy")} [${l}]\r\nLocation : ${t.locationsSelected}\r\nDirection: ${t.directionSelected}\r\n`;for(var i=0;i<10;i++)e.push({Name:"Testing","Date Time":a.dateUtils.getChartFormat(t.startDate)});a.excel.downLoadCSV("Monthly_Usage_By_Service",e,n)}}],text:a.language.export}}},credits:{enabled:!1}};return s.length>0&&c.series.push({name:this.language["Up Usage"]?this.language["Up Usage"]:"Up Usage",data:s,color:"#0027FF"}),o.length>0&&c.series.push({name:this.language["Down Usage"]?this.language["Down Usage"]:"Down Usage",data:o,color:"#5ACFEA"}),c}subDistributionChartOption(e,t){let a=[],i=[],s=[];if(e.length)for(let n=0;n<e.length;n++)a.push(e[n].strInterval),i.push(parseFloat(e[n].strSubPercent)),s.push(parseFloat(e[n].strBytePercent));new n.uU("en-US");let o="";o="both"==t.directionSelected?this.language["Both Direction"]:"Down"==t.directionSelected?this.language.Downstream:this.language.Upstream;let r="";r=this.getTitleLocationNames(t.locationsSelectedNames);const l=this;let p={chart:{type:"column"},title:{text:(r||"All")+" - "+o},subtitle:{text:""},xAxis:{categories:a,labels:{style:{textOverflow:"ellipsis"}}},yAxis:{min:0,title:{text:this.language.Percentage+" %"},opposite:!1,minRange:1},legend:{reversed:!1},lang:{noData:this.language["No Data Available"]},plotOptions:{series:{colors:["#0027FF","#5ACFEA"],cursor:"pointer"}},tooltip:{formatter:function(){return`<b> ${this.key} </b><br/>\n          <p> ${l.language.Percentage}: ${this.y}% <br/></span></p>`}},exporting:{enabled:!1},series:[],credits:{enabled:!1}};return i.length>0&&p.series.push({name:this.language["% of Subscribers"],data:i,color:"#0027FF"}),s.length>0&&p.series.push({name:this.language["% of Bytes"],data:s,color:"#5ACFEA"}),p}makeOptionsEndpointTopApp(e,t,a,i){let s=this.language.Subscriber+" "+i.title,o=this,r=new n.uU("en-US"),l=(new n.rS,/\((.*)\)/.exec((new Date).toString())[1]);"usage"==a.criteriaSelected&&(l="Coordinated Universal Time");let p=[],c=[],g=this.language.Down;g="both"==a.directionSelected?this.language["Both(Down+Up)"]:"Down"==a.directionSelected?this.language.Down:this.language.Up;let f="";this.sso.getTrafficReportChartSubscriberInfo()&&(f=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.Subscriber}: ${this.sso.getTrafficReportChartSubscriberInfo()}</span><span style="font-size:16px; color:#ffffff">...</span>`);let d=`${f}<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.criteria}: ${this.language[a.criteriaSelected]}</span><span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${r.transform(a.startDate,"MM/dd/yyyy")} to ${r.transform(a.endDate,"MM/dd/yyyy")} [${l}]</span><span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.direction}: ${g}</span>`,h={chart:{type:t,zoomType:"xy"},title:{text:s},subtitle:{text:d},xAxis:{categories:p},yAxis:{min:0,title:{text:""},labels:{formatter:function(){let e=this;var t,n=e.axis.series[0].dataMax;if("usage"==a.criteriaSelected)t=(e.value/(i=n>1e12?[1e12,"TB"]:n>1e9?[1e9,"GB"]:n>1e6?[1e6,"MB"]:n>1e3?[1e3,"KB"]:[1,"B"])[0]).toFixed(1)+(e.isFirst?" "+i[1]:"");else{var i=n>1e12?[1e12,"Tbps"]:n>1e9?[1e9,"Gbps"]:n>1e6?[1e6,"Mbps"]:n>1e3?[1e3,"Kbps"]:[1,"bps"];t=(e.isFirst?0:(e.value/i[0]).toFixed(1))+(e.isFirst?" "+i[1]:"")}return t}}},lang:{noData:o.language["No Data Available"]},legend:{reversed:!0},plotOptions:{series:{color:"#0279FF",point:{events:{}}}},tooltip:{formatter:function(){var e,t,n=this.y;return"usage"==a.criteriaSelected?(e=o.getStackedUnit(n),t=`<b> ${this.key} </b><br/>\n              <p>${this.series.name}<span>: <b>${(this.y/e[0]).toFixed(2)+" "+e[1]}</b><br/></span></p>`):(e=o.utils.bitsToSize(n,!1),t=`<b> ${this.key} </b><br/>\n              <p>${this.series.name}<span>: <b>${e}</b><br/></span></p>`),t}},series:[],exporting:{filename:"Subscriber "+i.title,buttons:{contextButton:{menuItems:[{textKey:"downloadPDF",text:this.language.exportPDF||"Export PDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadCSV",text:this.language.exportCsv||"Export CSV",onclick:function(){let t=[];for(var n=0;n<e.length;n++)t.push("usage"==a.criteriaSelected?{Name:e[n].name?e[n].name:"","Up Usage(Byte)":e[n].usOctets?e[n].usOctets.toLocaleString():0,"Down Usage(Byte)":e[n].dsOctets?e[n].dsOctets.toLocaleString():0,"Both(Down+Up) Usage(Byte)":e[n].totalOctets?e[n].totalOctets.toLocaleString():0}:{Name:e[n].name?e[n].name:e[n].key,"Up Max Rate(bps)":e[n].peakUsRate?e[n].peakUsRate.toLocaleString():0,"Up Average Rate(bps)":e[n].usRate?e[n].usRate.toLocaleString():0,"Down Max Rate(bps)":e[n].peakDsRate?e[n].peakDsRate.toLocaleString():0,"Down Average Rate(bps)":e[n].dsRate?e[n].dsRate.toLocaleString():0});let p="",c="";o.sso.getTrafficReportChartSubscriberInfo()&&(c=`${o.language.Subscriber}: ${o.sso.getTrafficReportChartSubscriberInfo()}\r\n`),p=`${s}\r\n ${c}Criteria: ${o.language[a.criteriaSelected]} \r\n ${o.language.time_win}: ${r.transform(a.startDate,"MM/dd/yyyy")} - ${r.transform(a.endDate,"MM/dd/yyyy")} [${l}]\r\n Direction: ${g} \r\n`;let f="";f="Top Application Groups"==i.title?"Subscriber_Top_Application_Groups":"Subscriber_Top_Applications",o.excel.downLoadCSV(f,t,p)}}],text:this.language.export}}},credits:{enabled:!1}};if("bar"===t){for(let t=0;t<e.length;t++)e[t].name?p.push(e[t].name):(e[t].key||(e[t].key="others"),p.push(e[t].key)),"usage"==a.criteriaSelected?c.push("both"==a.directionSelected?e[t].totalOctets:"Down"==a.directionSelected?e[t].dsOctets:e[t].usOctets):"rate"==a.criteriaSelected&&c.push("both"==a.directionSelected?e[t].dsRate+e[t].usRate:"Down"==a.directionSelected?e[t].dsRate:e[t].usRate);h.series=[{name:`${"both"==a.directionSelected?this.language["Both(Down+Up)"]:this.language[a.directionSelected]} ${this.language[a.criteriaSelected]}`,data:c}]}else if("pie"===t){for(let t=0;t<e.length;t++)c.push("Both(Down+Up)"==a.directionSelected?{name:e[t].name,y:e[t].dsOctets+e[t].usOctets}:"Down"==a.directionSelected?{name:e[t].name,y:e[t].dsOctets}:{name:e[t].name,y:e[t].usOctets});h.series=[{data:c,name:a.directionSelected}],h.plotOptions.pie={allowPointSelect:!0,cursor:"pointer"}}return h}makeOptionsForRateChart(e,t){let a=this.language.max_up_rate,i=this.language.max_down_rate,s=this,o=[],r=[],l=[];"Average"==t.rateSelected&&(a=this.language.avg_up_rate,i=this.language.avg_down_rate);let p=new n.uU("en-US");for(let n=0;n<e.length;n++)o.push(this.getDateTime(e[n].startPeriodSec,!0,"MM/dd/yyyy HH:mm"));let c=/\((.*)\)/.exec((new Date).toString())[1],g=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.Subscriber}: ${this.sso.getTrafficReportChartSubscriberInfo()}</span><span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">Rate: ${this.language[t.rateSelected]}</span><span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${p.transform(t.startDate,"MM/dd/yyyy")} to ${p.transform(t.endDate,"MM/dd/yyyy")} [${c}]</span>`,f={chart:{type:"line"},time:{useUTC:!1},title:{text:this.language.subscriberRate},subtitle:{text:g},xAxis:{categories:[],labels:{formatter:function(){let e=this.value;return this.isLast&&(e=this.axis.categories[this.axis.categories.length-1]),e}}},yAxis:{title:{text:""},labels:{formatter:function(){return s.utils.bitsToSize(this.value,!0)}}},lang:{noData:s.language["No Data Available"]},legend:{align:"center",verticalAlign:"bottom",layout:"horizontal",symbolRadius:0},tooltip:{formatter:function(){return"<b>"+this.x+"<b><br/>"+this.series.name+": <b>"+s.utils.bitsToSize(this.y,!1)+"</b>"}},plotOptions:{series:{marker:{enabled:!1}},column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[{name:a,color:"#82BF00",data:[]},{name:i,color:"#0279FF",data:[]}],exporting:{filename:"Subscriber_Rate",buttons:{contextButton:{menuItems:[{textKey:"downloadPDF",text:this.language.exportPDF||"Export PDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadCSV",text:this.language.exportCsv||"Export CSV",onclick:function(){let a=[],n="";n=`Subscriber Rate\r\n${s.language.Subscriber}: ${s.sso.getTrafficReportChartSubscriberInfo()}\r\n${s.language.time_win}: ${p.transform(t.startDate,"MM/dd/yyyy")} - ${p.transform(t.endDate,"MM/dd/yyyy")} [${c}]\r\nRate: ${t.rateSelected}\r\n`;for(var i=0;i<e.length;i++)a.push({"Date Time":s.dateUtils.getUTCDateFormatFromUTCTime(e[i].startPeriodSec,!0,"MM/dd HH:mm"),"Max Up Rate(bps)":e[i].peakUsRate?e[i].peakUsRate:0,"Max Down Rate(bps)":e[i].peakDsRate?e[i].peakDsRate:0,"Average Up Rate(bps)":e[i].usRate?e[i].usRate:0,"Average Down Rate(bps)":e[i].dsRate?e[i].dsRate:0});s.excel.downLoadCSV("Subscriber_Rate",a,n)}}],text:s.language.export}}},credits:{enabled:!1}};for(let n=0;n<e.length;n++)o.push(this.getDateTime(e[n].startPeriodSec,!0,"MM/dd/yyyy HH:mm")),"Average"==t.rateSelected?(r.push(e[n].usRate),l.push(e[n].dsRate)):(r.push(e[n].peakUsRate),l.push(e[n].peakDsRate));return f.xAxis.categories=o,o&&o.length<=45?f.xAxis.tickInterval=1:o&&o.length>45&&(f.xAxis.tickInterval=Math.floor(o.length/45)),f.series[0].data=r,f.series[1].data=l,f}makeOptionsForEPLineChart(e,t){let a=this.language.max_up_rate,s=this.language.max_down_rate,o=this,r=[],l=[],p=[];"Average"==t.rateSelected&&(a=this.language.Average_Up_Rate,s=this.language.Average_Down_Rate);let c=new n.uU("en-US"),g=/\((.*)\)/.exec((new Date).toString())[1],f="",d="",h="";i(t.endDate).diff(i(t.startDate),"days")<3&&(d=t.startTime>=48?t.startTime-48:t.startTime>=24?t.startTime-24:t.startTime,h=t.endTime>48?t.endTime-48:t.endTime>24?t.endTime-24:t.endTime,d=d.toString().length<2?`0${d}:00`:`${d}:00`,h=h.toString().length<2?`0${h}:00`:`${h}:00`,t.startDate=t.APIStartDate,t.endDate=this.getISOEndOfDay(t.APIendDate,h)),this.sso.getTrafficReportChartSubscriberInfo()&&(f=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.Subscriber}: ${this.sso.getTrafficReportChartSubscriberInfo()}</span><span style="font-size:16px; color:#ffffff">...</span>`);let u=`${f}<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.Rate}: ${this.language[t.rateSelected]}</span><span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${c.transform(t.startDate,"MM/dd/yyyy")} ${d} to ${c.transform(t.endDate,"MM/dd/yyyy")} ${h} [${g}]</span>`,y={chart:{type:"line"},time:{useUTC:!1},title:{text:this.language.subscriberRate},subtitle:{text:u},xAxis:{categories:[],labels:{rotation:-65,formatter:function(){let e=this.value;return this.isLast&&(e=this.axis.categories[this.axis.categories.length-1]),e}}},yAxis:{title:{text:""},labels:{formatter:function(){return o.utils.bitsToSize(this.value,!0)}},min:0,minRange:1},lang:{noData:o.language["No Data Available"]},legend:{align:"center",verticalAlign:"bottom",layout:"horizontal",symbolRadius:0},tooltip:{formatter:function(){return"<p><b>"+this.x+"</b> <br/>"+this.series.name+": <b>"+o.utils.bitsToSize(this.y,!1)+"</b></p>"}},plotOptions:{series:{marker:{enabled:1===e.length}},column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[{name:a,color:"#82BF00",data:[]},{name:s,color:"#0279FF",data:[]}],exporting:{filename:"Subscriber_Rate",buttons:{contextButton:{menuItems:[{textKey:"downloadPDF",text:this.language.exportPDF||"Export PDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadCSV",text:this.language.exportCsv||"Export CSV",onclick:function(){let a=[],n="",i="";o.sso.getTrafficReportChartSubscriberInfo()&&(i=`${o.language.Subscriber}: ${o.sso.getTrafficReportChartSubscriberInfo()}\r\n`),n=`Subscriber Rate\r\n${i}${o.language.time_win}: ${c.transform(t.startDate,"MM/dd/yyyy")} ${d} - ${c.transform(t.endDate,"MM/dd/yyyy")} ${h} [${g}]\r\nRate: ${t.rateSelected}\r\n`;for(var s=0;s<e.length;s++)a.push({"Date Time":o.getDateTime(e[s].startPeriodSec,!0,"MM/dd HH:mm"),"Max Up Rate(bps)":e[s].peakUsRate&&-1!==e[s].peakUsRate?e[s].peakUsRate.toLocaleString():0,"Max Down Rate(bps)":e[s].peakDsRate&&-1!==e[s].peakDsRate?e[s].peakDsRate.toLocaleString():0,"Average Up Rate(bps)":e[s].usRate&&-1!==e[s].usRate?e[s].usRate.toLocaleString():0,"Average Down Rate(bps)":e[s].dsRate&&-1!==e[s].dsRate?e[s].dsRate.toLocaleString():0});o.excel.downLoadCSV("Subscriber_Rate",a,n)}}],text:o.language.export}}},credits:{enabled:!1}};for(let n=0;n<e.length;n++)"Average"==t.rateSelected?(e[n].usRate&&-1!==e[n].usRate||e[n].dsRate&&-1!==e[n].dsRate)&&(l.push(e[n].usRate&&-1!==e[n].usRate?e[n].usRate:null),p.push(e[n].dsRate&&-1!==e[n].dsRate?e[n].dsRate:null),r.push(this.getDateTime(e[n].startPeriodSec,!0,"MM/dd HH:mm"))):(e[n].peakUsRate&&-1!==e[n].peakUsRate||e[n].peakDsRate&&-1!==e[n].peakDsRate)&&(l.push(e[n].peakUsRate&&-1!==e[n].peakUsRate?e[n].peakUsRate:null),p.push(e[n].peakDsRate&&-1!==e[n].peakDsRate?e[n].peakDsRate:null),r.push(this.getDateTime(e[n].startPeriodSec,!0,"MM/dd HH:mm")));return y.xAxis.categories=r,r&&r.length<=45?y.xAxis.tickInterval=1:r&&r.length>45&&(y.xAxis.tickInterval=Math.floor(r.length/45)),y.plotOptions.series.marker.enabled=1===l.length||1===p.length,y.series[0].data=l,y.series[1].data=p,y}sortByNumber(e,t){return e.sort(function(e,a){return e[t]=e[t]?parseInt(e[t]):0,a[t]=a[t]?parseInt(a[t]):0,e[t]-a[t]}),e}sortByColumn(e,t,a,n){return this.commonOrgService.sortByColumn(e,t,a,n)}monthlyUsagebyAppColors(){return["#0027FF","#5ACFEA","#FF8238","#F7C343","#B926F0","#FF489D","#E51A1A","#90be6d","#277da1"]}makeIsoDate(e){let t=e.split(".")[0].split(":");return t.pop(),t.join(":")+":00Z"}arraysObjectsPercentageCalculator(e,t,a){let n=e;return"object"==typeof e&&(n=Object.values(e)),(100*t/n.reduce((e,t)=>e+t,0)).toFixed(a||2)}getGranularity(e,t){let a="24hour";return a=i(t).diff(i(e),"hour")<=24?"1hour":"24hour",a}getDateTime(e,t,a){let n=60*(new Date).getTimezoneOffset()*-1;e=t?1e3*parseInt(e+n):1e3*parseInt(e);let i=s.ou.fromMillis(e),o="";return o=a?i.toUTC().toFormat(a):i.toUTC().toFormat("MM/dd/yyyy"),o}getUTCDateFormatFromUTCTime(e,t,a){t&&(e=1e3*parseInt(e));let n=s.ou.fromMillis(e),i="";return i=a?n.toUTC().toFormat(a):n.toUTC().toFormat("MM/dd/yyyy"),i}bitsToSize(e,t){let a=e,n=["bps","Kbps","Mbps","Gbps","Tbps","pbps","ebps"];if(0==a)return"0";var i=Math.floor(Math.log(a)/Math.log(1e3));if(t)return Math.round(a/Math.pow(1e3,i))+" "+n[i];i<0&&(i=0);let s=1;return Number.isInteger(+o.numberFormat(Math.abs(a/Math.pow(1e3,i)),1))&&(s=0),o.numberFormat(Math.abs(a/Math.pow(1e3,i)),s)+" "+n[i]}getStackedUnit(e){let t;return t=e>1e12?[1e12,"TB"]:e>1e9?[1e9,"GB"]:e>1e6?[1e6,"MB"]:e>1e3?[1e3,"KB"]:[1,"KB"],t}getTitleLocationNames(e){let t="";return e&&(e.forEach((e,a)=>{a<3&&(t+=`${0==a?"":","} ${e}`)}),e.length>3&&(t+=", ...")),t}getTitleApplicationNames(e){let t="";return e&&(e.forEach((e,a)=>{a<3&&(t+=`${0==a?"":","} ${e}`)}),e.length>3&&(t+=", ...")),t}getSelectDirectionName(e){let t="";return t="both"==e?this.language["Both(Down+Up)"]:"Down"==e?this.language.Down:this.language.Up,t}navigateByUrl(e,t,a,n,s=""){if("Unknown"===t||"Unknown and Other"===t||"00000000-0000-0000-0000-000000000000"===t||"Unclassified Applications"===t||"Unknown Application"===t||"Unknown Location"===t)return;let o="",l=[],p=[],c=[],g=[],f=t;if("App"===n){for(let a=0;a<e.length;a++)(e[a].name===t||e[a].key===t)&&(c.push(e[a].key),l.push(e[a].name?e[a].name:e[a].key));o="/cco/traffic/applications/reports",window.location.pathname.indexOf("/cco/traffic/")>-1||(o=this.router.url.indexOf(`/${r.N.SYS_ADMIN_ROUTE}/`)>-1?"/systemAdministration/flowAnalyze/traffic/application/reports":"/organization-admin/flowAnalyze/traffic/application/reports")}else if("Loc"===n){for(let a=0;a<e.length;a++)(e[a].name===t||e[a].key===t)&&(g.push(e[a].key),p.push(e[a].name?e[a].name:e[a].key));o="/cco/traffic/locations/reports",window.location.pathname.indexOf("/cco/traffic/")>-1||(o=this.router.url.indexOf(`/${r.N.SYS_ADMIN_ROUTE}/`)>-1?"/systemAdministration/flowAnalyze/traffic/location/reports":"/organization-admin/flowAnalyze/traffic/location/reports")}else if("Sub"===n){window.sessionStorage.setItem("traffic_TopSub_Endpoint_filters",JSON.stringify(a));for(let a=0;a<e.length;a++)s?e[a].key===s&&(f=e[a].key,window.sessionStorage.setItem("endpointName",e[a].name)):(e[a].name===t||e[a].title===t)&&(f=e[a].key,window.sessionStorage.setItem("endpointName",e[a].name));this.sso.setEPRredirectFrom(window.location.pathname),o="/cco/traffic/endpoints/realtime",window.location.pathname.indexOf("/cco/traffic/")>-1||(o=this.router.url.indexOf(`/${r.N.SYS_ADMIN_ROUTE}/`)>-1?"/systemAdministration/flowAnalyze/traffic/endpoint/realtime":"/organization-admin/flowAnalyze/traffic/endpoint/realtime")}let d={startDate:i(a.startDate).format("YYYY-MM-DD"),endDate:i(a.endDate).format("YYYY-MM-DD"),criteria:a.criteriaSelected,applicationsSelected:c,locationsSelected:g,typeSelected:"traffic",isApplicationGroup:a.groupSelected,applicationsNames:l,locationNames:p};this.router.navigate([o],{queryParams:"Sub"===n?{id:f}:d})}showLabel(e){let t=!1;return"Unknown"!==e&&"Unknown and Other"!==e&&"00000000-0000-0000-0000-000000000000"!==e&&"Unclassified Applications"!==e&&"Unknown Application"!==e&&"Unknown Location"!==e&&(t=!0),`<span  class="text-primary axis_label" title="${e}" style="cursor:${t?"pointer":""}">${e}</span>`}getISOEndOfDay(e,t){let a=new Date(e);a.setDate(new Date(a).getDate()-(24===parseInt(t)?1:0));let n=a.getFullYear(),i=`${a.getMonth()+1}`,s=`${a.getDate()}`;return i.length<2&&(i=`0${i}`),s.length<2&&(s=`0${s}`),`${n}-${i}-${s}T00:00:00Z`}getMonthlyUsageDates(){let e=new Date,t=new Date(e.getFullYear()-1,e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth(),0),n=new Date(t).toISOString();n=this.makeIsoDate(n);let i=new Date(a).toISOString();return i=this.makeIsoDate(i),{startDate:n,endDate:i}}getCSVData(e,t){let a=0;return a="both"==t?e.totalOctets&&-1!==e.totalOctets?e.totalOctets.toLocaleString():0:"Down"==t?e.dsOctets&&-1!==e.dsOctets?e.dsOctets.toLocaleString():0:e.usOctets&&-1!==e.usOctets?e.usOctets.toLocaleString():0,a}axisLabelClickEvent(e){var t=e.xAxis[0].ticks;e.series[0].points.forEach(function(e,a){t[a]&&(t[a].label.element.onclick=function(){e.firePointEvent("click")})})}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(p.e),l.LFG(c.s),l.LFG(g.O),l.LFG(f.d),l.LFG(d.v),l.LFG(h.R),l.LFG(u.F0),l.LFG(y.t6),l.LFG(m.w))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},18921:function(e,t,a){a.d(t,{R:function(){return i}});var n=a(37716);let i=(()=>{class e{constructor(){}bytes(e,t,a){var n,i,s,o=[];return 0==e?0:(a&&(n=0),i=Math.floor(Math.log(e)/Math.log(1024)),s=(e/Math.pow(1024,Math.floor(i))).toFixed(2),o[n]=s,n>0&&Math.abs(o[n-1]-o[n])<1e-4&&(s=(e/Math.pow(1024,Math.floor(--i))).toFixed(2)),i=i<0?-i:i,t&&(s+=" "+["b","KB","MB","GB","TB","PB"][i]),n++,s)}bits(e,t,a){var n,i,s,o=[];return 0==e?0:(a&&(n=0),i=Math.floor(Math.log(e)/Math.log(1024)),s=(e/Math.pow(1024,Math.floor(i))).toFixed(2),o[n]=s,n>0&&Math.abs(o[n-1]-o[n])<1e-4&&(s=(e/Math.pow(1024,Math.floor(--i))).toFixed(2)),i=i<0?-i:i,t&&(s+=" "+["bps","Kbps","Mbps","Gbps","Tbps","Pbps"][i]),n++,s)}getStackedUnit(e){let t;return t=e>1099511627776?[1099511627776,"TB"]:e>1073741824?[1073741824,"GB"]:e>1048576?[1048576,"MB"]:e>1024?[1024,"KB"]:[1,"KB"],t}getStackedUnitUpdate(e){let t;return t=e>1099511627776?[1099511627776,"T"]:e>1073741824?[1073741824,"G"]:e>1048576?[1048576,"M"]:e>1024?[1024,"K"]:[1,""],t}kbpsTO(e,t,a){let n,i=[];return(e=parseInt(e))>1e9?(n=(e/1e9).toFixed(2)+"T",i=[(e/1e9).toFixed(2),"T"]):e>1e6?(n=(e/1e6).toFixed(2)+"G",i=[(e/1e6).toFixed(2),"G"]):e>1e3?(n=(e/1e3).toFixed(2)+"M",i=[(e/1e3).toFixed(2),"M"]):(n=e+"K",i=[e,"K"]),t?i[0]:a?i[1]:n}getByteInfo(e,t){let a;a=t?this.getStackedUnitUpdate(e):this.getStackedUnit(e);let n=(e/a[0]).toFixed(2);return("0.00"==n?"0":n)+" "+a[1]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);