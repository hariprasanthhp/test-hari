"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[2146],{62146:function(e,t,i){i.r(t),i.d(t,{NetworkReportsModule:function(){return ki}});var a=i(38583),n=i(39895),s=i(92340),o=i(16738),r=i(88002),l=i(5304),c=i(25917),h=i(9112),p=i(37716),g=i(30900),d=i(89097),u=i(82707),f=i(12664),m=i(49342),b=i(86922),w=i(51071),x=i(39075),v=i(94196),A=i(91841),T=i(20904),S=i(20408),Z=i(48483),C=i(86640),y=i(3679),D=i(18638),M=i(74062),O=i(94555),_=i(11067),k=i(38432),I=i.n(k),q=i(35560);function U(e,t){if(1&e&&(p.TgZ(0,"div",2),p._uU(1),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.hij(" ",e.language["Access denied due to RBAC. Please consult your Organization Administrator for access."],"\n")}}function N(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",11),p.TgZ(1,"span",12),p._UZ(2,"img",13),p.qZA(),p.TgZ(3,"button",14),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).closeAlert()}),p._UZ(4,"span"),p.qZA(),p._UZ(5,"div",15),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(5),p.Q6J("innerHtml",e.errorInfo,p.oJD)}}function H(e,t){if(1&e&&(p.TgZ(0,"div",16),p.TgZ(1,"div",17),p.TgZ(2,"div",18),p.TgZ(3,"span",19),p._uU(4),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw(2);p.xp6(4),p.Oqu(e.language.Loading)}}function R(e,t){if(1&e&&(p.TgZ(0,"div",3),p.YNc(1,N,6,1,"div",4),p.TgZ(2,"div",5),p.TgZ(3,"div",6),p.YNc(4,H,5,1,"div",7),p.TgZ(5,"div",8),p.TgZ(6,"div",9),p._UZ(7,"div",10),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.Q6J("ngIf",e.error),p.xp6(3),p.Q6J("ngIf",e.loading),p.xp6(1),p.Q6J("ngClass",e.loading?"d-none":"d-block")}}const J=i(65424),E=i(53363);J(_),E(_),i(86295)(_),I()(_);let Y=(()=>{class e{constructor(e,t,i,a,n){this.customTranslateService=e,this.commonOrgService=t,this.service=i,this.options=a,this.sso=n,this.pageAvailable=!1,this.loading=!1,this.Highcharts=_,this.upUsage="",this.downUsage="",this.errorInfo="",this.renderOnce=!1,this.hasScopeAccess=!1,this.showTimeRange=!0,this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0,this.upUsage=this.language.upUsageTitle,this.downUsage=this.language.downUsageTitle),this.languageSubs=this.customTranslateService.selectedLanguage.subscribe(e=>{this.language=e,this.upUsage=e.upUsageTitle,this.downUsage=e.downUsageTitle,this.renderOnce&&this.renderChart()})}ngOnInit(){let e=this.sso.getScopes();if(s.N.VALIDATE_SCOPE&&window.location.pathname.indexOf("/cco/traffic/")>-1){let t=Object.keys(e);if(t)for(let e=0;e<t.length;e++)if(-1!==t[e].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.closeAlert()}ngOnDestroy(){this.subscribe&&this.subscribe.unsubscribe(),this.languageSubs&&this.languageSubs.unsubscribe()}loadChartData(e){this.options.btnDisabled=!0,this.error=!1,this.filters=e,this.loading=!0,this.trafficChartOptions=null,this.trafficRateOtions=null,this.subscribe=this.service.getTraffic(e).subscribe(t=>{this.data=t,this.options.btnDisabled=!1,this.trafficChartOptions="usage"==e.criteriaSelected?this.options.makeOptionsForNWTraffic(t,e):this.options.makeOptionsForLineChart(t,e),document.getElementById("container")&&this.Highcharts.chart("container",this.trafficChartOptions),this.loading=!1,this.options.btnDisabled=!1,this.renderOnce=!0},t=>{this.options.btnDisabled=!1,this.loading=!1,this.trafficChartOptions="usage"==e.criteriaSelected?this.options.makeOptionsForNWTraffic([],e):this.options.makeOptionsForLineChart([],e),document.getElementById("container")&&this.Highcharts.chart("container",this.trafficChartOptions),this.pageErrorHandle(t),this.options.btnDisabled=!1,this.renderOnce=!0})}renderChart(){this.trafficChartOptions=null,this.trafficChartOptions="usage"==this.filters.criteriaSelected?this.options.makeOptionsForNWTraffic(this.data,this.filters):this.options.makeOptionsForLineChart(this.data,this.filters),document.getElementById("container")&&this.Highcharts.chart("container",this.trafficChartOptions)}pageErrorHandle(e){401==e.status?this.errorInfo=this.language["Access Denied"]:(this.errorInfo=this.commonOrgService.pageErrorHandle(e),this.errorInfo.includes("endTime must be greater than startTime")&&(this.errorInfo="Start time should be earlier than end time")),this.showError(this.errorInfo),this.loading=!1}closeAlert(){this.error=!1}showError(e){this.closeAlert(),this.errorInfo=e,this.error=!0,$("html, body").animate({scrollTop:0},"slow")}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(g.d),p.Y36(m.v),p.Y36(q.w),p.Y36(b.h),p.Y36(d.t6))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-traffic"]],decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","col-md-12 mt-4 px-0",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12","mt-4","px-0"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"",2,"height","auto"],["id","fa-chart-wrapper",1,"fa-chart-wrapper","chart-min-h"],["class","loader",4,"ngIf"],[1,"chart-sec",3,"ngClass"],[1,"fa-chart-container","mt-5"],["id","container",1,"cco-traffic-reports-container"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){1&e&&(p.YNc(0,U,2,1,"div",0),p.YNc(1,R,8,3,"div",1)),2&e&&(p.Q6J("ngIf",!t.hasScopeAccess),p.xp6(1),p.Q6J("ngIf",t.pageAvailable&&t.hasScopeAccess))},directives:[a.O5,a.mk],styles:[".export_menu[_ngcontent-%COMP%]   image[_ngcontent-%COMP%]{transform:translate(2px)}"]}),e})();function P(e,t){1&e&&(p.TgZ(0,"div",2),p._uU(1," Access denied due to RBAC. Please consult your Organization Administrator for access.\n"),p.qZA())}function F(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",18),p.TgZ(1,"span",19),p._UZ(2,"img",20),p.qZA(),p.TgZ(3,"button",21),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).closeAlert()}),p._UZ(4,"span"),p.qZA(),p._UZ(5,"div",22),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(5),p.Q6J("innerHtml",e.errorInfo,p.oJD)}}function L(e,t){if(1&e&&(p.TgZ(0,"div",23),p.TgZ(1,"div",24),p.TgZ(2,"div",25),p.TgZ(3,"span",26),p._uU(4),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw(2);p.xp6(4),p.Oqu(e.language.Loading)}}const Q=function(e){return{height:e}};function B(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",3),p.YNc(1,F,6,1,"div",4),p.TgZ(2,"div",5),p.TgZ(3,"div",6),p.TgZ(4,"div",7),p.TgZ(5,"div",8),p.TgZ(6,"button",9),p.TgZ(7,"p",10),p._uU(8),p.qZA(),p.qZA(),p.TgZ(9,"div",11),p.TgZ(10,"button",12),p.NdJ("click",function(){return p.CHM(e),p.oxw().changeChartType("bar")}),p.TgZ(11,"span"),p._uU(12),p.qZA(),p.qZA(),p.TgZ(13,"button",12),p.NdJ("click",function(){return p.CHM(e),p.oxw().changeChartType("pie")}),p.TgZ(14,"span"),p._uU(15),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(16,"div",13),p.YNc(17,L,5,1,"div",14),p.TgZ(18,"div",15),p.TgZ(19,"div",16),p._UZ(20,"div",17),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=p.oxw();p.xp6(1),p.Q6J("ngIf",e.error),p.xp6(7),p.hij(" ",e.language.chartType," "),p.xp6(4),p.Oqu(e.language.bar),p.xp6(3),p.Oqu(e.language.pie),p.xp6(2),p.Q6J("ngIf",e.loading),p.xp6(1),p.Q6J("ngClass",e.loading?"d-none":"d-block"),p.xp6(2),p.Q6J("ngStyle",p.VKq(7,Q,e.chartHeight))}}const j=i(65424),z=i(53363);j(_),z(_),i(86295)(_);let G=(()=>{class e{constructor(e,t,i,a,n){this.customTranslateService=e,this.commonOrgService=t,this.service=i,this.options=a,this.sso=n,this.pageAvailable=!1,this.loading=!1,this.Highcharts=_,this.upUsage="",this.downUsage="",this.errorInfo="",this.chartHeight="600px",this.height=500,this.renderOnce=!1,this.hasScopeAccess=!1,this.isUUID=!1,this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0,this.upUsage=this.language.upUsageTitle,this.downUsage=this.language.downUsageTitle),this.languageSubs=this.customTranslateService.selectedLanguage.subscribe(e=>{this.language=e,this.upUsage=e.upUsageTitle,this.downUsage=e.downUsageTitle,this.renderOnce&&this.renderChart()}),this.chartType="bar"}ngOnInit(){let e=this.sso.getScopes();if(s.N.VALIDATE_SCOPE&&window.location.pathname.indexOf("/cco/traffic/")>-1){let t=Object.keys(e);if(t)for(let e=0;e<t.length;e++)if(-1!==t[e].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.closeAlert()}ngOnDestroy(){this.subscribe&&this.subscribe.unsubscribe(),this.languageSubs&&this.languageSubs.unsubscribe()}loadChartData(e){this.error=!1,this.options.btnDisabled=!0,e.groupBy="application",this.topAppsPieChartOptions=null,this.topAppsChartOptions=null,this.filters=e,this.loading=!0,this.height=500,this.chartHeight=this.height.toString()+"px",this.subscribe=this.service.TopApplication(e,"top-applications").subscribe(t=>{if(this.data=t,"bar"!==this.chartType)for(let e=20;e<this.data.length;e++)if(!this.data[e].name){this.isUUID=!0;break}for(let e=20;e<this.data.length;e++)this.height=this.height+(this.isUUID?100:200),e+=9;this.chartHeight=this.height.toString()+"px",setTimeout(()=>{"bar"==this.chartType?(this.topAppsChartOptions=this.options.makeOptionsForApplications(t,this.chartType,e),document.getElementById("container")&&this.Highcharts.chart("container",this.topAppsChartOptions)):(this.topAppsPieChartOptions=this.options.makeOptionsForApplications(t,this.chartType,e),this.topAppsPieChartOptions.exporting.chartOptions={plotOptions:{pie:{size:"45%"}},chart:{height:this.height+(this.data.length>10?150:0)},legend:{navigation:{enabled:!1}}},document.getElementById("container")&&this.Highcharts.chart("container",this.topAppsPieChartOptions)),this.loading=!1,this.options.btnDisabled=!1,this.renderOnce=!0},1500)},t=>{"bar"==this.chartType?(this.topAppsChartOptions=this.options.makeOptionsForApplications([],this.chartType,e),document.getElementById("container")&&this.Highcharts.chart("container",this.topAppsChartOptions)):(this.topAppsPieChartOptions=this.options.makeOptionsForApplications([],this.chartType,e),document.getElementById("container")&&this.Highcharts.chart("container",this.topAppsPieChartOptions)),this.options.btnDisabled=!1,this.renderOnce=!0,this.pageErrorHandle(t)})}renderChart(){this.topAppsChartOptions=null,"bar"==this.chartType?(this.topAppsChartOptions=this.options.makeOptionsForApplications(this.data,this.chartType,this.filters),document.getElementById("container")&&this.Highcharts.chart("container",this.topAppsChartOptions)):(this.topAppsPieChartOptions=this.options.makeOptionsForApplications(this.data,this.chartType,this.filters),this.topAppsPieChartOptions.exporting.chartOptions={plotOptions:{pie:{size:"45%"}},chart:{height:this.height+(this.data.length>10?150:0)},legend:{navigation:{enabled:!1}}},document.getElementById("container")&&this.Highcharts.chart("container",this.topAppsPieChartOptions))}changeChartType(e){if((this.topAppsChartOptions||this.topAppsPieChartOptions)&&(this.loading=!0),"pie"==e){this.height=500;for(let e=20;e<this.data.length;e++)this.height=this.height+(this.isUUID?100:200),e+=9;this.chartHeight=this.height.toString()+"px"}else{if(!this.topAppsChartOptions){this.height=500;for(let e=20;e<this.data.length;e++)this.height=this.height+200,e+=9}this.chartHeight=this.height.toString()+"px"}this.error=!1,this.chartType=e,(this.topAppsChartOptions||this.topAppsPieChartOptions)&&setTimeout(()=>{this.topAppsChartOptions=null,this.topAppsPieChartOptions=null,"bar"==this.chartType?(this.topAppsChartOptions=this.options.makeOptionsForApplications(this.data,this.chartType,this.filters),document.getElementById("container")&&this.Highcharts.chart("container",this.topAppsChartOptions)):(this.topAppsPieChartOptions=this.options.makeOptionsForApplications(this.data,this.chartType,this.filters),this.topAppsPieChartOptions.exporting.chartOptions={plotOptions:{pie:{size:"45%"}},chart:{height:this.height+(this.data.length>10?150:0)},legend:{navigation:{enabled:!1}}},document.getElementById("container")&&this.Highcharts.chart("container",this.topAppsPieChartOptions)),this.loading=!1},2e3)}pageErrorHandle(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.showError(this.errorInfo),this.loading=!1}closeAlert(){this.error=!1}showError(e){this.closeAlert(),this.errorInfo=e,this.error=!0,$("html, body").animate({scrollTop:0},"slow")}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(g.d),p.Y36(m.v),p.Y36(q.w),p.Y36(b.h),p.Y36(d.t6))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-top-applications"]],decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","col-md-12 mt-4",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12","mt-4"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"",2,"height","auto"],[1,"row","justify-content-end","mb-2"],[1,"col-md-3","px-0","text-right"],["ngbDropdown","",1,"cus-dd","dropdown-button","custom-dropdown","float-right"],["id","dropdownExchange","ngbDropdownToggle","",1,"float-right"],[1,"listdata","mb0"],["ngbDropdownMenu","","aria-labelledby","dropdownExchange","id","supportListId"],["ngbDropdownItem","",1,"greyaa",3,"click"],["id","fa-chart-wrapper",1,"fa-chart-wrapper","chart-min-h"],["class","loader",4,"ngIf"],[1,"chart-sec",3,"ngClass"],[1,"fa-chart-container","mt-5"],["id","container",3,"ngStyle"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){1&e&&(p.YNc(0,P,2,0,"div",0),p.YNc(1,B,21,9,"div",1)),2&e&&(p.Q6J("ngIf",!t.hasScopeAccess),p.xp6(1),p.Q6J("ngIf",t.pageAvailable&&t.hasScopeAccess))},directives:[a.O5,f.jt,f.iD,f.Vi,f.TH,a.mk,a.PC],styles:[".export_menu[_ngcontent-%COMP%]   image[_ngcontent-%COMP%]{transform:translate(2px)}.cus-dd.dropdown-button.show[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{width:140px;top:10px!important;left:0px!important;border-radius:15px;z-index:5!important;padding-top:5px;box-shadow:0 5px 15px #00000021;border:0;padding-bottom:5px}.cus-dd[_ngcontent-%COMP%]   .listdata[_ngcontent-%COMP%]{background:#f8f8fa;box-shadow:3px 3px 5px #ccc;width:-moz-fit-content;width:fit-content;padding:4px 25px;border-radius:10px}.dropdown-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important;display:block;border:0;background:transparent;position:relative}"]}),e})();function V(e,t){if(1&e&&(p.TgZ(0,"div",2),p._uU(1),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.hij(" ",e.language["Access denied due to RBAC. Please consult your Organization Administrator for access."],"\n")}}function W(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",11),p.TgZ(1,"span",12),p._UZ(2,"img",13),p.qZA(),p.TgZ(3,"button",14),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).closeAlert()}),p._UZ(4,"span"),p.qZA(),p._UZ(5,"div",15),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(5),p.Q6J("innerHtml",e.errorInfo,p.oJD)}}function K(e,t){if(1&e&&(p.TgZ(0,"div",16),p.TgZ(1,"div",17),p.TgZ(2,"div",18),p.TgZ(3,"span",19),p._uU(4),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw(2);p.xp6(4),p.Oqu(e.language.Loading)}}const X=function(e){return{height:e}};function ee(e,t){if(1&e&&(p.TgZ(0,"div",3),p.YNc(1,W,6,1,"div",4),p.TgZ(2,"div",5),p.TgZ(3,"div",6),p.YNc(4,K,5,1,"div",7),p.TgZ(5,"div",8),p.TgZ(6,"div",9),p._UZ(7,"div",10),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.Q6J("ngIf",e.error),p.xp6(3),p.Q6J("ngIf",e.loading),p.xp6(1),p.Q6J("ngClass",e.loading?"d-none":"d-block"),p.xp6(2),p.Q6J("ngStyle",p.VKq(4,X,e.chartHeight))}}const te=i(65424),ie=i(53363);te(_),ie(_),i(86295)(_);let ae=(()=>{class e{constructor(e,t,i,a,n){this.customTranslateService=e,this.commonOrgService=t,this.service=i,this.options=a,this.sso=n,this.pageAvailable=!1,this.loading=!1,this.Highcharts=_,this.updateFlag=!1,this.upUsage="",this.downUsage="",this.errorInfo="",this.chartHeight="600px",this.height=500,this.renderOnce=!1,this.hasScopeAccess=!1,this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0,this.upUsage=this.language.upUsageTitle,this.downUsage=this.language.downUsageTitle),this.languageSubs=this.customTranslateService.selectedLanguage.subscribe(e=>{this.language=e,this.upUsage=e.upUsageTitle,this.downUsage=e.downUsageTitle,this.renderOnce&&this.renderChart()})}ngOnInit(){let e=this.sso.getScopes();if(s.N.VALIDATE_SCOPE&&window.location.pathname.indexOf("/cco/traffic/")>-1){let t=Object.keys(e);if(t)for(let e=0;e<t.length;e++)if(-1!==t[e].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.closeAlert()}ngOnDestroy(){this.subscribe&&this.subscribe.unsubscribe(),this.languageSubs&&this.languageSubs.unsubscribe()}loadChartData(e){this.error=!1,this.options.btnDisabled=!0,this.filters=e,e.groupBy="location",this.chartOptions=null,this.loading=!0,this.height=500,this.chartHeight=this.height.toString()+"px",this.subscribe=this.service.getTopLocations(e).subscribe(t=>{this.data=t;for(let e=20;e<this.data.length;e++)this.height=this.height+200,e+=10;this.chartHeight=this.height.toString()+"px",setTimeout(()=>{this.chartOptions=this.options.makeOptionsForLocations(t,"bar",e),document.getElementById("top-locations-container")&&this.Highcharts.chart("top-locations-container",this.chartOptions),this.loading=!1,this.options.btnDisabled=!1,this.renderOnce=!0},1500)},t=>{this.chartOptions=this.options.makeOptionsForLocations([],"bar",e),document.getElementById("top-locations-container")&&this.Highcharts.chart("top-locations-container",this.chartOptions),this.pageErrorHandle(t),this.options.btnDisabled=!1,this.renderOnce=!0})}renderChart(){this.chartOptions=null,this.chartOptions=this.options.makeOptionsForLocations(this.data,"bar",this.filters),document.getElementById("top-locations-container")&&this.Highcharts.chart("top-locations-container",this.chartOptions)}pageErrorHandle(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.showError(this.errorInfo),this.loading=!1}closeAlert(){this.error=!1}showError(e){this.closeAlert(),this.errorInfo=e,this.error=!0,$("html, body").animate({scrollTop:0},"slow")}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(g.d),p.Y36(m.v),p.Y36(q.w),p.Y36(b.h),p.Y36(d.t6))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-top-locations"]],decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","col-md-12 mt-4",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12","mt-4"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"",2,"height","auto"],["id","fa-chart-wrapper",1,"fa-chart-wrapper","chart-min-h"],["class","loader",4,"ngIf"],[1,"chart-sec",3,"ngClass"],[1,"fa-chart-container","mt-5"],["id","top-locations-container",3,"ngStyle"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){1&e&&(p.YNc(0,V,2,1,"div",0),p.YNc(1,ee,8,6,"div",1)),2&e&&(p.Q6J("ngIf",!t.hasScopeAccess),p.xp6(1),p.Q6J("ngIf",t.pageAvailable&&t.hasScopeAccess))},directives:[a.O5,a.mk,a.PC],styles:[""]}),e})();var ne=i(26877);function se(e,t){1&e&&(p.TgZ(0,"div",2),p._uU(1," Access denied due to RBAC. Please consult your Organization Administrator for access.\n"),p.qZA())}function oe(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",11),p.TgZ(1,"span",12),p._UZ(2,"img",13),p.qZA(),p.TgZ(3,"button",14),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).closeAlert()}),p._UZ(4,"span"),p.qZA(),p._UZ(5,"div",15),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(5),p.Q6J("innerHtml",e.errorInfo,p.oJD)}}function re(e,t){if(1&e&&(p.TgZ(0,"div",16),p.TgZ(1,"div",17),p.TgZ(2,"div",18),p.TgZ(3,"span",19),p._uU(4),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw(2);p.xp6(4),p.Oqu(e.language.Loading)}}const le=function(e){return{height:e}};function ce(e,t){if(1&e&&(p.TgZ(0,"div",3),p.YNc(1,oe,6,1,"div",4),p.TgZ(2,"div",5),p.TgZ(3,"div",6),p.YNc(4,re,5,1,"div",7),p.TgZ(5,"div",8),p.TgZ(6,"div",9),p._UZ(7,"div",10),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.Q6J("ngIf",e.error),p.xp6(3),p.Q6J("ngIf",e.loading),p.xp6(1),p.Q6J("ngClass",e.loading?"d-none":"d-block"),p.xp6(2),p.Q6J("ngStyle",p.VKq(4,le,e.chartHeight))}}const he=i(65424),pe=i(53363);he(_),pe(_),i(86295)(_);let ge=(()=>{class e{constructor(e,t,i,a,n){this.customTranslateService=e,this.commonOrgService=t,this.networkService=i,this.chartOptionService=a,this.sso=n,this.pageAvailable=!1,this.loading=!1,this.Highcharts=_,this.upUsage="",this.downUsage="",this.errorInfo="",this.chartHeight="600px",this.height=500,this.renderOnce=!1,this.hasScopeAccess=!1,this.isUUID=!1,this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0,this.upUsage=this.language.upUsageTitle,this.downUsage=this.language.downUsageTitle),this.languageSubs=this.customTranslateService.selectedLanguage.subscribe(e=>{this.language=e,this.upUsage=e.upUsageTitle,this.downUsage=e.downUsageTitle,this.renderOnce&&this.renderChart()}),window.sessionStorage.getItem("traffic_TopSub_Endpoint_filters")&&window.sessionStorage.removeItem("traffic_TopSub_Endpoint_filters")}ngOnInit(){let e=this.sso.getScopes();if(s.N.VALIDATE_SCOPE&&window.location.pathname.indexOf("/cco/traffic/")>-1){let t=Object.keys(e);if(t)for(let e=0;e<t.length;e++)if(-1!==t[e].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.closeAlert()}ngOnDestroy(){this.subscribe&&this.subscribe.unsubscribe(),this.languageSubs&&this.languageSubs.unsubscribe()}loadChartData(e){this.error=!1,this.chartOptionService.btnDisabled=!0,e.From="Network",this.filters=e,this.loading=!0,this.tobSubChartOptions=null,this.height=500,this.chartHeight=this.height.toString()+"px",this.subscribe=this.networkService.getTopSubdata(e,"network").subscribe(t=>{this.data=t,"true"!=sessionStorage.getItem("showSensitiveInfo")&&this.data&&this.data.forEach(e=>e.name=(0,ne.C)(e.name));for(let e=0;e<this.data.length;e++)if(!this.data[e].name){this.isUUID=!0;break}for(let e=20;e<this.data.length;e++)this.height=this.height+200,e+=10;this.chartHeight=this.height.toString()+"px",setTimeout(()=>{if(this.tobSubChartOptions=this.chartOptionService.topSub_ChartOptions(t,e),this.isUUID){let e=50;for(let t=12;t<this.data.length;t++)e+=100,t+=5;this.tobSubChartOptions.exporting.chartOptions={chart:{height:this.height+e}}}document.getElementById("container")&&this.Highcharts.chart("container",this.tobSubChartOptions),this.loading=!1,this.chartOptionService.btnDisabled=!1,this.renderOnce=!0},1500)},t=>{this.tobSubChartOptions=this.chartOptionService.topSub_ChartOptions([],e),document.getElementById("container")&&this.Highcharts.chart("container",this.tobSubChartOptions),this.pageErrorHandle(t),this.chartOptionService.btnDisabled=!1,this.renderOnce=!0})}renderChart(){this.tobSubChartOptions=null,this.tobSubChartOptions=this.chartOptionService.topSub_ChartOptions(this.data,this.filters),document.getElementById("container")&&this.Highcharts.chart("container",this.tobSubChartOptions)}pageErrorHandle(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.showError(this.errorInfo),this.loading=!1}closeAlert(){this.error=!1}showError(e){this.closeAlert(),this.errorInfo=e,this.error=!0,$("html, body").animate({scrollTop:0},"slow")}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(g.d),p.Y36(m.v),p.Y36(q.w),p.Y36(b.h),p.Y36(d.t6))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-top-subscribers"]],decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","col-md-12 mt-4",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12","mt-4"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"",2,"height","auto"],["id","fa-chart-wrapper",1,"fa-chart-wrapper","chart-min-h"],["class","loader",4,"ngIf"],[1,"chart-sec",3,"ngClass"],[1,"fa-chart-container","mt-5"],["id","container",3,"ngStyle"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){1&e&&(p.YNc(0,se,2,0,"div",0),p.YNc(1,ce,8,6,"div",1)),2&e&&(p.Q6J("ngIf",!t.hasScopeAccess),p.xp6(1),p.Q6J("ngIf",t.pageAvailable&&t.hasScopeAccess))},directives:[a.O5,a.mk,a.PC],styles:[""]}),e})();var de=i(23771),ue=i(79765),fe=i(72163),me=i(46481),be=i.n(me),we=i(404),xe=i(13149);function ve(e,t){1&e&&(p.TgZ(0,"div",2),p._uU(1," Access denied due to RBAC. Please consult your Organization Administrator for access.\n"),p.qZA())}function Ae(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",12),p.TgZ(1,"span",13),p._UZ(2,"img",14),p.qZA(),p.TgZ(3,"button",15),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).closeAlert()}),p._UZ(4,"span"),p.qZA(),p._UZ(5,"div",16),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(5),p.Q6J("innerHtml",e.errorInfo,p.oJD)}}function Te(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",17),p.TgZ(1,"div",18),p.TgZ(2,"div",19),p.TgZ(3,"button",20),p.TgZ(4,"p",21),p._UZ(5,"i",22),p._uU(6),p.qZA(),p.qZA(),p.TgZ(7,"div",23),p.TgZ(8,"button",24),p.TgZ(9,"span",25),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).downloadPdf()}),p._uU(10),p.qZA(),p.qZA(),p.TgZ(11,"button",24),p.TgZ(12,"span",25),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).downloadCSV()}),p._uU(13),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(6),p.hij("",e.language.export," "),p.xp6(4),p.Oqu(e.language.exportPdf),p.xp6(3),p.Oqu(e.language.exportCsv)}}function Se(e,t){if(1&e&&(p.TgZ(0,"span"),p._uU(1),p.ALo(2,"date"),p.qZA()),2&e){const e=p.oxw(3);p.xp6(1),p.Oqu(p.xi3(2,1,e.startEndDates.start,"MM/dd/yyyy"))}}function Ze(e,t){if(1&e&&(p.TgZ(0,"span"),p._uU(1),p.ALo(2,"date"),p.qZA()),2&e){const e=p.oxw(3);p.xp6(1),p.Oqu(p.xi3(2,1,e.startEndDates.end,"MM/dd/yyyy"))}}function Ce(e,t){if(1&e&&(p.TgZ(0,"div",26),p.TgZ(1,"p",27),p._uU(2),p.qZA(),p.TgZ(3,"p",28),p._uU(4),p.qZA(),p.TgZ(5,"p",29),p._uU(6),p.YNc(7,Se,3,4,"span",30),p._uU(8),p.YNc(9,Ze,3,4,"span",30),p._uU(10),p.qZA(),p.qZA()),2&e){const e=p.oxw(2);p.xp6(2),p.hij(" ",e.language.powerUsersTitle," "),p.xp6(2),p.gL8(" ",e.language.direction,": ",e.filters.directionSelected?e.language[e.filters.directionSelected]:""," \xa0 ",e.language.bandwidth,": ",e.filters.peakRateFrom>=0?e.filters.peakRateFrom:""," Mbps ",e.language.to," ",e.filters.peakRateFrom>=0?e.filters.peakRateTo:""," Mbps"),p.xp6(2),p.hij(" ",e.language.timeWindow,": "),p.xp6(1),p.Q6J("ngIf",e.startEndDates&&(null==e.startEndDates?null:e.startEndDates.start)),p.xp6(1),p.hij(" ",e.language.to," "),p.xp6(1),p.Q6J("ngIf",e.startEndDates&&(null==e.startEndDates?null:e.startEndDates.end)),p.xp6(1),p.hij(" [",e.timezoneName,"] ")}}function ye(e,t){if(1&e&&(p.TgZ(0,"div",31),p.TgZ(1,"div",32),p.TgZ(2,"div",33),p.TgZ(3,"span",34),p._uU(4),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw(2);p.xp6(4),p.Oqu(e.language.Loading)}}function De(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",35),p.TgZ(1,"div",36),p.TgZ(2,"div",37),p.TgZ(3,"div",38),p._UZ(4,"div",39),p.TgZ(5,"div",40),p.TgZ(6,"div",41),p.TgZ(7,"input",42),p.NdJ("keyup",function(t){return p.CHM(e),p.oxw(2).search(t.target.value)})("search",function(t){return p.CHM(e),p.oxw(2).search(t.target.value)}),p.qZA(),p.TgZ(8,"button",43),p._UZ(9,"i",44),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(7),p.s9C("placeholder",e.language.searchAdmins)}}function Me(e,t){if(1&e&&(p.TgZ(0,"tr",50),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.qZA()),2&e){const e=t.$implicit,i=p.oxw(4);p.s9C("id",e._id),p.xp6(2),p.Oqu(e.name?e.name:""),p.xp6(2),p.Oqu(e.maxBps?i.convertBytes(e.maxBps):""),p.xp6(2),p.Oqu(e.hitCount?e.hitCount:"")}}function Oe(e,t){if(1&e&&(p.TgZ(0,"tbody"),p.YNc(1,Me,7,4,"tr",49),p.qZA()),2&e){const e=p.oxw(3);p.xp6(1),p.Q6J("ngForOf",e.tableData)}}function _e(e,t){if(1&e&&(p.TgZ(0,"div",45),p.TgZ(1,"div",46),p.TgZ(2,"table",47),p.TgZ(3,"thead",48),p.TgZ(4,"tr"),p.TgZ(5,"th"),p._uU(6),p.qZA(),p.TgZ(7,"th"),p._uU(8),p.qZA(),p.TgZ(9,"th"),p._uU(10),p.qZA(),p.qZA(),p.qZA(),p.YNc(11,Oe,2,1,"tbody",30),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw(2);p.xp6(2),p.Q6J("hidden",!e.dataAvailable)("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),p.xp6(4),p.Oqu(e.language.Subscriber),p.xp6(2),p.hij("",e.language.maxRate,"(Mbps)"),p.xp6(2),p.Oqu(e.language.hitCount),p.xp6(1),p.Q6J("ngIf",0!=(null==e.tableData?null:e.tableData.length))}}function ke(e,t){if(1&e&&(p.TgZ(0,"div",3),p.YNc(1,Ae,6,1,"div",4),p.TgZ(2,"div",5),p.YNc(3,Te,14,3,"div",6),p.YNc(4,Ce,11,12,"div",7),p.TgZ(5,"div",8),p.YNc(6,ye,5,1,"div",9),p.YNc(7,De,10,1,"div",10),p.YNc(8,_e,12,7,"div",11),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.Q6J("ngIf",e.error),p.xp6(2),p.Q6J("ngIf",e.dataAvailable),p.xp6(1),p.Q6J("ngIf",e.runClicked),p.xp6(2),p.Q6J("ngIf",e.loading),p.xp6(1),p.Q6J("ngIf",0),p.xp6(1),p.Q6J("ngIf",e.pageAvailable)}}let Ie=(()=>{class e{constructor(e,t,i,a,n,s,o){this.customTranslateService=e,this.commonOrgService=t,this.sso=i,this.commonFunctionsService=a,this.exportExcel=n,this.service=s,this.options=o,this.pageAvailable=!1,this.loading=!1,this.errorInfo="",this.tableData=[],this.filterCount=0,this.dtOptions={},this.dtTrigger=new ue.xQ,this.url="",this.emptyData={Subscriber:"","Max Rate(bps)":"","Hit Count":""},this.startEndDates={},this.hasScopeAccess=!1,this.timezoneName="Coordinated Universal Time",this.ORG_ID=this.sso.getOrgId(),this.language=this.customTranslateService.defualtLanguage,this.frTable=this.customTranslateService.fr,this.esTable=this.customTranslateService.es,this.language&&(this.pageAvailable=!0),this.languageSubs=this.customTranslateService.selectedLanguage.subscribe(e=>{this.language=e,setTimeout(()=>{this.renderedOnce&&this.renderTable(!0)},500)})}ngOnInit(){let e=this.sso.getScopes();if(s.N.VALIDATE_SCOPE&&window.location.pathname.indexOf("/cco/traffic/")>-1){let t=Object.keys(e);if(t)for(let e=0;e<t.length;e++)if(-1!==t[e].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.renderedOnce=!1,this.dtOptions={pagingType:"full_numbers",pageLength:20,lengthChange:!1,processing:!1,dom:"tipr",order:[]},this.closeAlert(),this.tableLanguageOptions(),this.columnDefs=[{headerName:this.language.Subscriber,field:"name"},{headerName:this.language.maxRate+"(bps)",field:"maxBps"},{headerName:this.language.hitCount,field:"hitCount"}]}ngOnDestroy(){this.subscribe&&this.subscribe.unsubscribe(),this.languageSubs&&this.languageSubs.unsubscribe()}loadChartData(e){this.error=!1,this.filters=e,this.runClicked=!0,this.loading=!0,this.options.btnDisabled=!0,this.runClicked=!0;let t=e.periodSelected?parseInt(e.periodSelected):-1;this.startEndDates=this.service.getDatePrevMonth(t),this.getData(!1)}getData(e){this.timezoneName=/\((.*)\)/.exec((new Date).toString())[1],this.subscribe=this.service.getPowerUsers(this.filters).subscribe(t=>{this.tableData=t||[],this.exportData=this.tableData&&this.tableData.length?this.tableData.slice(0):[],this.renderTable(e),this.options.btnDisabled=!1},t=>{this.tableData=[],this.exportData=[],this.renderTable(e),this.pageErrorHandle(t),this.options.btnDisabled=!1})}renderTable(e){this.tableLanguageOptions(),e||this.renderedOnce?(this.rerender(),this.dataAvailable=!0,setTimeout(()=>{this.loading=!1},1e3)):(this.dtTrigger.next(),this.renderedOnce=!0,this.dataAvailable=!0,setTimeout(()=>{this.loading=!1},1e3))}rerender(){this.dtElement.dtInstance.then(e=>{e.destroy(),this.dtTrigger.next()})}search(e){this.dtElement.dtInstance.then(t=>{t.search(e).draw()})}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.dtOptions.language=this.frTable:"es"==this.language.fileLanguage?this.dtOptions.language=this.esTable:"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.customTranslateService.de_DE:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}downloadCSV(){this.doCSVDownload()}doCSVDownload(){let e=new a.uU("en-US"),t=this.exportDataConvertor(this.exportData),i=new Date,n=new Date(i.getFullYear(),i.getMonth(),0),s=`Power Users\r\nDirection : ${this.filters.directionSelected}\r\n${this.language.Bandwidth}   : ${this.filters.peakRateFrom?this.filters.peakRateFrom:""} Mbps to ${this.filters.peakRateTo?this.filters.peakRateTo:""} Mbps\r\n${this.language.time_win}: ${e.transform(this.startEndDates.start,"MM/dd/yyyy")} - ${e.transform(n,"MM/dd/yyyy")} [${this.timezoneName}]\r\n`;this.exportExcel.downLoadCSV("Power_Users",t.length?t:[Object.assign({},this.emptyData)],s)}downloadPdf(){this.doPDFDownload()}doPDFDownload(){let e=this.exportData;const t=[],i=this.columnDefs.map(e=>e.headerName);e.forEach(e=>{const i=[];this.columnDefs.forEach(t=>{i.push(e[t.field]?e[t.field]:"")}),t.push(i)});const a=new fe.default,n=a.internal.pageSize.width||a.internal.pageSize.getWidth();a.text("Power Users",n/2-20,10),a.setFontSize(10),(document.getElementById("criteriaTextLine1")||document.getElementById("criteriaTextLine2"))&&(a.text(document.getElementById("criteriaTextLine1").innerText,n/2-40,20),a.text(document.getElementById("criteriaTextLine2").innerText,n/2-50,25)),be()(a,{margin:{top:5,right:5,bottom:5,left:5},startY:30,showHead:"everyPage",pageBreak:"auto",theme:"striped",head:[i],body:t}),a.save("Power_Users.pdf")}exportDataConvertor(e){let t=Array.isArray(e),i=[];return t&&e.forEach(e=>{i.push({Subscriber:e.name?e.name:"","Max Rate(bps)":e.maxBps?e.maxBps:"","Hit Count":e.hitCount?e.hitCount:""})}),i}pageErrorHandle(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.showError(this.errorInfo),this.loading=!1}closeAlert(){this.error=!1}showError(e){this.closeAlert(),this.errorInfo=e,this.error=!0,$("html, body").animate({scrollTop:0},"slow")}convertBytes(e){return(e/1e6).toFixed(2)}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(g.d),p.Y36(m.v),p.Y36(d.t6),p.Y36(we.i),p.Y36(xe.O),p.Y36(q.w),p.Y36(b.h))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-power-users"]],viewQuery:function(e,t){if(1&e&&p.Gf(de.G,5),2&e){let e;p.iGM(e=p.CRH())&&(t.dtElement=e.first)}},decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","col-md-12 mt-4",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12","mt-4"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"h-auto"],["class","row justify-content-end ",4,"ngIf"],["class","text-margin-30",4,"ngIf"],["id","fa-chart-wrapper",1,"fa-chart-wrapper","chart-min-h"],["class","loader",4,"ngIf"],["class","row my-3",4,"ngIf"],["class","row my-3 min-height-65",4,"ngIf"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"row","justify-content-end"],[1,"col-md-3","px-0","text-right"],["placement","bottom-right","ngbDropdown","",1,"cus-dd","dropdown-button","float-right"],["id","dropdownExchange","ngbDropdownToggle","",1,"float-right"],[1,"listdata","bar-label","mb0"],[1,"fa","fa-bars","mr-2"],["ngbDropdownMenu","","aria-labelledby","dropdownExchange","id","supportListId"],["ngbDropdownItem","",1,"greyaa"],[3,"click"],[1,"text-margin-30"],[1,"chart-main-title"],["id","criteriaTextLine1",1,"hc-chart-subtitle"],["id","criteriaTextLine2",1,"hc-chart-subtitle"],[4,"ngIf"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"row","my-3"],[1,"col-md-6","offset-md-6"],[1,"text-right","flat-right"],[1,"row"],[1,"col-md-4"],[1,"col-md-8"],[1,"ccl-form"],["type","search","name","searchbox",1,"input-sm",3,"placeholder","keyup","search"],[1,"serach-but","btn-default","primary","btn-icon-md","inline"],["aria-hidden","true",1,"fa","fa-search"],[1,"row","my-3","min-height-65"],[1,"col"],["id","power-users-table","width","100%","datatable","",1,"row-border","hover","table-alter",3,"hidden","dtOptions","dtTrigger"],[1,""],["class","testing",3,"id",4,"ngFor","ngForOf"],[1,"testing",3,"id"]],template:function(e,t){1&e&&(p.YNc(0,ve,2,0,"div",0),p.YNc(1,ke,9,6,"div",1)),2&e&&(p.Q6J("ngIf",!t.hasScopeAccess),p.xp6(1),p.Q6J("ngIf",t.pageAvailable&&t.hasScopeAccess))},directives:[a.O5,f.jt,f.iD,f.Vi,f.TH,de.G,a.sg],pipes:[a.uU],styles:['.export_menu[_ngcontent-%COMP%]   image[_ngcontent-%COMP%]{transform:translate(2px)}.cus-dd.dropdown-button.show[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{width:auto;min-width:74.59px;top:-1px!important;left:-8px!important;border-radius:0!important;z-index:5!important;margin:0;padding:5px 0;box-shadow:#888 3px 3px 10px;border:1px solid #999999;background:white}.cus-dd.dropdown-button.show[_ngcontent-%COMP%]   .listdata[_ngcontent-%COMP%]{font-weight:bold;color:#000;background-color:#e6ebf5}.cus-dd.dropdown-button.show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px!important;line-height:15px;font-size:11px!important}.cus-dd.dropdown-button.show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background:#335cad}.cus-dd[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none!important}.cus-dd[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{width:auto!important}.cus-dd[_ngcontent-%COMP%]   .listdata[_ngcontent-%COMP%]{padding:0 8px 4px 4px;border-radius:0}.cus-dd[_ngcontent-%COMP%]   .listdata[_ngcontent-%COMP%]:hover{background-color:#e6e6e6}.bar-label[_ngcontent-%COMP%]{font-size:12px;font-family:"Lucida Grande","Lucida Sans Unicode",Arial,Helvetica,sans-serif;color:#333}.bar-label[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:18px;color:#666;margin-bottom:2px}.text-margin-30[_ngcontent-%COMP%]{text-align:center;margin-top:30px}.chart-main-title[_ngcontent-%COMP%]{font-family:"Source Sans Pro",sans-serif;font-size:18px;color:#333;line-height:1.1640625}.hc-chart-subtitle[_ngcontent-%COMP%], .hc-chart-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato;color:#000;font-size:12px;line-height:1.1640625}.min-height-65[_ngcontent-%COMP%]{min-height:65vh}']}),e})();var qe=i(84549),Ue=i(67009),Ne=i(6581),He=i(92330),Re=i(74747),Je=i(83880),Ee=i(49457),Ye=i(91704);function Pe(e,t){1&e&&(p.TgZ(0,"div",2),p._uU(1," Access denied due to RBAC. Please consult your Organization Administrator for access.\n"),p.qZA())}function Fe(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",13),p.TgZ(1,"span",14),p._UZ(2,"img",15),p.qZA(),p.TgZ(3,"button",16),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).closeAlert()}),p._UZ(4,"span"),p.qZA(),p._UZ(5,"div",17),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(5),p.Q6J("innerHtml",e.errorInfo,p.oJD)}}function Le(e,t){if(1&e&&(p.TgZ(0,"div",18),p.TgZ(1,"div",19),p.TgZ(2,"div",20),p.TgZ(3,"span",21),p._uU(4),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw(2);p.xp6(4),p.Oqu(e.language.Loading)}}const Qe=function(){return{height:"450px"}};function $e(e,t){if(1&e&&(p.TgZ(0,"div",3),p.YNc(1,Fe,6,1,"div",4),p.TgZ(2,"div",5),p.TgZ(3,"div",6),p.YNc(4,Le,5,1,"div",7),p.TgZ(5,"div",8),p.TgZ(6,"div",9),p.TgZ(7,"div",10),p._UZ(8,"div",11),p.qZA(),p.TgZ(9,"div",10),p._UZ(10,"div",12),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.Q6J("ngIf",e.error),p.xp6(3),p.Q6J("ngIf",e.loading),p.xp6(1),p.Q6J("ngClass",e.loading?"d-none":"d-block"),p.xp6(3),p.Q6J("ngStyle",p.DdM(4,Qe))}}const Be=i(65424),je=i(53363);var ze;Be(_),je(_),i(86295)(_),(ze=_).exportCharts=function(e,t){(t=ze.merge(ze.getOptions().exporting,t)).url=s.N.highchartExportURL,ze.post(t.url,{filename:t.filename||"Network-Top-Application-Traffic",type:t.type,scale:1.9,svg:ze.getSVG(e)})},ze.getSVG=function(e){var t=[],i=0,a=0;return e.forEach(e=>{const n=e.chartWidth,s=e.chartHeight;e.setSize(n,s+(100*e.legend.pages.length|0)),e.options.legend.navigation.enabled=!1;var o=e.getSVG(),r=+o.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1],l=+o.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1];o=(o=o.replace("<svg",'<g transform="translate(0,'+i+')" ')).replace("</svg>","</g>"),i+=l,a=Math.max(a,r),t.push(o),e.options.legend.navigation.enabled=!0,e.setSize(n,s)}),'<svg height="'+i+'" width="'+a+'" version="1.1" xmlns="http://www.w3.org/2000/svg">'+t.join("")+"</svg>"};let Ge=(()=>{class e{constructor(e,t,i,a,n,s){this.router=e,this.customTranslateService=t,this.service=i,this.commonOrgService=a,this.sso=n,this.options=s,this.errorInfo="",this.pageAvailable=!1,this.loading=!1,this.Highcharts=_,this.upUsage="",this.downUsage="",this.renderOnce=!1,this.hasScopeAccess=!1,this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0,this.upUsage=this.language.upUsageTitle,this.downUsage=this.language.downUsageTitle),this.customTranslateService.selectedLanguage.subscribe(e=>{this.language=e,this.upUsage=e.upUsageTitle,this.downUsage=e.downUsageTitle,this.renderOnce&&this.renderChart()})}ngOnInit(){let e=this.sso.getScopes();if(s.N.VALIDATE_SCOPE&&window.location.pathname.indexOf("/cco/traffic/")>-1){let t=Object.keys(e);if(t)for(let e=0;e<t.length;e++)if(-1!==t[e].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0}loadChartData(e){let t,i;this.error=!1,e.groupBy="application",this.filters=e,this.loading=!0,this.options.btnDisabled=!0,this.subscribe=this.service.getAppTraffic(e).subscribe(a=>{this.data=a,"Average"==e.rateSelected?(t=this.makeAreaChartOptions(this.getData(a,"usRate"),"usRate","Up",e),i=this.makeAreaChartOptions(this.getData(a,"dsRate"),"dsRate","Down",e)):(e.rateSelected="Max",t=this.makeAreaChartOptions(this.getData(a,"peakUsRate"),"peakUsRate","Up",e),i=this.makeAreaChartOptions(this.getData(a,"peakDsRate"),"peakDsRate","Down",e)),document.getElementById("container-up")&&document.getElementById("container-up")&&(this.upChart=this.Highcharts.chart("container-up",t),this.downChart=this.Highcharts.chart("container-down",i)),this.loading=!1,this.options.btnDisabled=!1,this.renderOnce=!0},e=>{this.pageErrorHandle(e),this.options.btnDisabled=!1})}renderChart(){let e,t;"Average"==this.filters.rateSelected?(e=this.makeAreaChartOptions(this.getData(this.data,"usRate"),"usRate","Up",this.filters),t=this.makeAreaChartOptions(this.getData(this.data,"dsRate"),"dsRate","Down",this.filters)):(this.filters.rateSelected="Max",e=this.makeAreaChartOptions(this.getData(this.data,"peakUsRate"),"peakUsRate","Up",this.filters),t=this.makeAreaChartOptions(this.getData(this.data,"peakDsRate"),"peakDsRate","Down",this.filters)),document.getElementById("container-up")&&document.getElementById("container-up")&&(this.upChart=this.Highcharts.chart("container-up",e),this.downChart=this.Highcharts.chart("container-down",t))}makeAreaChartOptions(e,t,i,n){let r=this,l=new a.uU("en-US"),c=/\((.*)\)/.exec((new Date).toString())[1],h=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">Rate: ${"Max"===n.rateSelected?this.language.Peak:this.language.Average}</span><span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${l.transform(n.startDate,"MM/dd/yyyy")} to ${l.transform(n.endDate,"MM/dd/yyyy")} [${c}]</span><span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.limit}: ${n.limit}</span><span style="font-size:16px; color:#ffffff">...</span>`;var p=[];e.length&&e.forEach(e=>{-1===e[t]&&(e[t]=0),e.name||(e.name=e.key),e.name&&-1===p.indexOf(e.name)&&p.push(e.name)});var g=[],d=[];Ye.each(p,(i,a)=>{var n={};n.name=a,n.data=[],Ye.each(e,(e,i)=>{i.name||(i.name=i.key),i.name===a&&(n.key=i.key,n.data.push(i[t]),d.push(this.options.getDateTime(i.startPeriodSec,!0,"MM/dd HH:mm")))}),g.push(n)});let u=g.length>0?""==this.language[i]?i:this.language[i]:"";0==g.length&&(g=[{name:i+" Rate",data:[]}]);let f=this.topApplicationTrafficColors(),m={credits:{enabled:!1},time:{useUTC:!1},chart:{type:"area",zoomType:"xy"},title:{text:"Down"===i?"":this.language["Network Top Application Traffic"]},subtitle:{text:"Down"===i?"":h},xAxis:{categories:d,labels:{formatter:function(){return this.value.length>23?this.value.substring(0,19)+"...":this.value},isFunction:!0},tickInterval:function(){let e=Math.floor(d.length/p.length),t=1;return t=e<=10?1:e>10&&e<20?2:Math.floor(e/8)?Math.floor(e/8):1,t}()},yAxis:{labels:{formatter:function(){let e=this;var t=e.axis.series[0].dataMax,i=t>1e12?[1e12,"Tbps"]:t>1e9?[1e9,"Gbps"]:t>1e6?[1e6,"Mbps"]:t>1e3?[1e3,"Kbps"]:[1,"bps"];return(e.value/i[0]).toFixed(1)+(e.isFirst?" "+i[1]:"")}},title:{text:u},stackLabels:{enabled:!1,style:{fontWeight:"bold"}},tickPixelInterval:55},tooltip:{formatter:function(){let e=r.topApplicationTrafficTooltip(this.y)[0];return"<p><strong>"+this.series.name+"</strong><br/><strong>"+this.x+"</strong><br/><span>"+n.rateSelected+" "+i+" Rate: <strong>"+(this.y/e).toFixed(2)+" "+r.topApplicationTrafficTooltip(this.y)[1]+"</strong><br/></span></p>"}},lang:{noData:this.language["No Data Available"]},plotOptions:{area:{stacking:"normal",lineColor:"#ffffff",lineWidth:1,marker:{lineWidth:1,lineColor:"#ffffff"}},series:{cursor:"pointer",point:{events:{click:function(){let e=[];e.push(g[this.series.index].key);let t=n.locationsSelected?n.locationsSelected:[],i={startDate:o(n.startDate).format("YYYY-MM-DD"),endDate:o(n.endDate).format("YYYY-MM-DD"),criteria:"rate",applicationsSelected:e,locationsSelected:t,typeSelected:"traffic",isApplicationGroup:"no"},a="/cco/traffic/applications/reports";window.location.pathname.indexOf("/cco/traffic/")>-1||(a=r.router.url.indexOf(`/${s.N.SYS_ADMIN_ROUTE}/`)>-1?"/systemAdministration/flowAnalyze/traffic/application/reports":"/organization-admin/flowAnalyze/traffic/application/reports"),r.router.navigate([a],{queryParams:i})}}}}},series:g,legend:{align:"center",verticalAlign:"bottom",x:0,y:0,lineHeight:10},interactive:!0,datetimeSupported:!0,treemapSupported:!0,colors:f};return m.exporting="Down"!==i?{filename:"Network_Top_Application_Traffic",buttons:{contextButton:{menuItems:[{textKey:"downloadPDF",text:this.language.exportPDF,onclick:function(){r.exportTrafficChart()}},{textKey:"downloadCSV",text:this.language.exportCsv,onclick:function(){let t=[],i=[],a="",s="";a=`Network Top Application Traffic\r\nRate: ${"Max"==n.rateSelected?"Peak":n.rateSelected}\r\nTime Window: ${l.transform(n.startDate,"MM/dd/yyyy")} - ${l.transform(n.endDate,"MM/dd/yyyy")} [${c}]\r\nLimit: ${n.limit}\r\nUpstream Traffic\r\n`,s="\r\nDownstream Traffic\r\n";for(var o=0;o<e.length;o++)e[o].name&&t.push({"Date Time":r.options.getDateTime(e[o].startPeriodSec,!0,"MM/dd HH:mm"),Name:e[o].name?e[o].name:"Other","Usage(Byte)":e[o].usOctets&&-1!==e[o].usOctets?e[o].usOctets:0,"Max Up Rate(bps)":e[o].peakUsRate&&-1!==e[o].peakUsRate?e[o].peakUsRate:0,"Average Up Rate(bps)":e[o].usRate&&-1!==e[o].usRate?e[o].usRate:0});for(o=0;o<e.length;o++)e[o].name&&i.push({"Date Time":r.options.getDateTime(e[o].startPeriodSec,!0,"MM/dd HH:mm"),Name:e[o].name?e[o].name:"Other","Usage(Byte)":e[o].dsOctets&&-1!==e[o].dsOctets?e[o].dsOctets:0,"Max Down Rate(bps)":e[o].peakDsRate&&-1!==e[o].peakDsRate?e[o].peakDsRate:0,"Average Down Rate(bps)":e[o].dsRate&&-1!==e[o].dsRate?e[o].dsRate:0});r.downLoadCSV("Network_Top_Application_Traffic",t,i,a,"\r\nDownstream Traffic\r\n")}}],text:r.language.export,className:"export_menu"}}}:{enabled:!1},m}topApplicationTrafficTooltip(e){return e>1e12?[1e12,"Tbps"]:e>1e9?[1e9,"Gbps"]:e>1e6?[1e6,"Mbps"]:e>1e3?[1e3,"Kbps"]:[1,"bps"]}topApplicationTrafficColors(){return["#E87B00","#44367D","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"]}pageErrorHandle(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.closeAlert(),this.error=!0,this.loading=!1,Ye("html, body").animate({scrollTop:0},"slow")}closeAlert(){this.error=!1}showError(e){this.closeAlert(),this.errorInfo=e,this.error=!0}exportTrafficChart(){_.exportCharts([this.upChart,this.downChart],{type:"application/pdf"})}ngOnDestroy(){this.subscribe&&this.subscribe.unsubscribe()}getSize(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}downLoadCSV(e,t,i,a,n){let s=t,o=[],r=0,l=0,c=0;for(let f of s){let e=this.getSize(f);e>r&&(r=e,l=c),c++}for(let f in s[l])-1===o.indexOf(f)&&o.push(f);let h=[];for(let f in i[l])-1===h.indexOf(f)&&h.push(f);let p=e+".csv",g=this.ConvertToCSV(s,o),d=this.ConvertToCSV(i,h);var u=new Blob([a+g+n+d],{type:"text/csv;charset=utf-8"});(0,Ee.saveAs)(u,p)}ConvertToCSV(e,t){let i="object"!=typeof e?JSON.parse(e):e,a="",n="";for(let s in t)n+=t[s]+",";n=n.slice(0,-1),a+=n+"\r\n";for(let s=0;s<i.length;s++){let e="";for(let a in t){let n=t[a];e+='"'+(null!=i[s][n]?i[s][n]:"")+'",'}a+=e+"\r\n"}return a}getData(e,t){return Array.isArray(e)&&e.length>0&&e.some(e=>e[t]>0)?e:[]}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(n.F0),p.Y36(g.d),p.Y36(q.w),p.Y36(m.v),p.Y36(d.t6),p.Y36(b.h))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-top-application-traffic"]],decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","col-md-12 mt-4",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12","mt-4"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"",2,"height","auto"],["id","fa-chart-wrapper",1,"fa-chart-wrapper","chart-min-h"],["class","loader",4,"ngIf"],[1,"chart-sec",3,"ngClass"],[1,"fa-chart-container","mt-5"],[1,"fa-chart-container"],["id","container-up",3,"ngStyle"],["id","container-down"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){1&e&&(p.YNc(0,Pe,2,0,"div",0),p.YNc(1,$e,11,5,"div",1)),2&e&&(p.Q6J("ngIf",!t.hasScopeAccess),p.xp6(1),p.Q6J("ngIf",t.pageAvailable&&t.hasScopeAccess))},directives:[a.O5,a.mk,a.PC],styles:[""]}),e})();function Ve(e,t){1&e&&(p.TgZ(0,"div",2),p._uU(1," Access denied due to RBAC. Please consult your Organization Administrator for access.\n"),p.qZA())}function We(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",13),p.TgZ(1,"span",14),p._UZ(2,"img",15),p.qZA(),p.TgZ(3,"button",16),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).closeAlert()}),p._UZ(4,"span"),p.qZA(),p._UZ(5,"div",17),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(5),p.Q6J("innerHtml",e.errorInfo,p.oJD)}}function Ke(e,t){if(1&e&&(p.TgZ(0,"div",18),p.TgZ(1,"div",19),p.TgZ(2,"div",20),p.TgZ(3,"span",21),p._uU(4),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw(2);p.xp6(4),p.Oqu(e.language.Loading)}}const Xe=function(){return{height:"450px"}};function et(e,t){if(1&e&&(p.TgZ(0,"div",3),p.YNc(1,We,6,1,"div",4),p.TgZ(2,"div",5),p.TgZ(3,"div",6),p.YNc(4,Ke,5,1,"div",7),p.TgZ(5,"div",8),p.TgZ(6,"div",9),p.TgZ(7,"div",10),p._UZ(8,"div",11),p.qZA(),p.TgZ(9,"div",10),p._UZ(10,"div",12),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.Q6J("ngIf",e.error),p.xp6(3),p.Q6J("ngIf",e.loading),p.xp6(1),p.Q6J("ngClass",e.loading?"d-none":"d-block"),p.xp6(3),p.Q6J("ngStyle",p.DdM(4,Xe))}}const tt=i(65424),it=i(53363);tt(_),it(_),i(86295)(_),function(e){e.exportCharts=function(t,i){(i=e.merge(e.getOptions().exporting,i)).url=s.N.highchartExportURL,e.post(i.url,{filename:i.filename||"Network-Top-Application-Traffic",type:i.type,scale:1.9,svg:e.getSVG(t)})},e.getSVG=function(e){var t=[],i=0,a=0;return e.forEach(e=>{const n=e.chartWidth,s=e.chartHeight;e.setSize(n,s+(100*e.legend.pages.length|0)),e.options.legend.navigation.enabled=!1;var o=e.getSVG(),r=+o.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1],l=+o.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1];o=(o=o.replace("<svg",'<g transform="translate(0,'+i+')" ')).replace("</svg>","</g>"),i+=l,a=Math.max(a,r),t.push(o),e.options.legend.navigation.enabled=!0,e.setSize(n,s)}),'<svg height="'+i+'" width="'+a+'" version="1.1" xmlns="http://www.w3.org/2000/svg">'+t.join("")+"</svg>"}}(_);let at=(()=>{class e{constructor(e,t,i,a,n,s){this.router=e,this.customTranslateService=t,this.service=i,this.commonOrgService=a,this.sso=n,this.options=s,this.errorInfo="",this.pageAvailable=!1,this.loading=!1,this.Highcharts=_,this.upUsage="",this.downUsage="",this.renderOnce=!1,this.hasScopeAccess=!1,this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0,this.upUsage=this.language.upUsageTitle,this.downUsage=this.language.downUsageTitle),this.customTranslateService.selectedLanguage.subscribe(e=>{this.language=e,this.upUsage=e.upUsageTitle,this.downUsage=e.downUsageTitle,this.renderOnce&&this.renderChart()})}ngOnInit(){let e=this.sso.getScopes();if(s.N.VALIDATE_SCOPE){let t=Object.keys(e);if(t)for(let e=0;e<t.length;e++)if(-1!==t[e].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0}loadChartData(e){let t,i;this.error=!1,e.groupBy="application",this.filters=e,this.loading=!0,this.options.btnDisabled=!0,this.subscribe=this.service.getAppTraffic(e).subscribe(a=>{this.data=a,"Average"==e.rateSelected?(t=this.makeAreaChartOptions(a,"usRate","Up",e),i=this.makeAreaChartOptions(a,"dsRate","Down",e)):(e.rateSelected="Max",t=this.makeAreaChartOptions(a,"peakUsRate","Up",e),i=this.makeAreaChartOptions(a,"peakDsRate","Down",e)),document.getElementById("container-up")&&document.getElementById("container-up")&&(this.upChart=this.Highcharts.chart("container-up",t),this.downChart=this.Highcharts.chart("container-down",i)),this.loading=!1,this.options.btnDisabled=!1,this.renderOnce=!0},e=>{this.pageErrorHandle(e),this.options.btnDisabled=!1})}renderChart(){let e,t;"Average"==this.filters.rateSelected?(e=this.makeAreaChartOptions(this.data,"usRate","Up",this.filters),t=this.makeAreaChartOptions(this.data,"dsRate","Down",this.filters)):(this.filters.rateSelected="Max",e=this.makeAreaChartOptions(this.data,"peakUsRate","Up",this.filters),t=this.makeAreaChartOptions(this.data,"peakDsRate","Down",this.filters)),document.getElementById("container-up")&&document.getElementById("container-up")&&(this.upChart=this.Highcharts.chart("container-up",e),this.downChart=this.Highcharts.chart("container-down",t))}makeAreaChartOptions(e,t,i,n){let r=this,l=new a.uU("en-US"),c=/\((.*)\)/.exec((new Date).toString())[1],h=`<span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">Rate: ${"Max"===n.rateSelected?this.language.Peak:this.language.Average}</span><span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;"> ${this.language.time_win}: ${l.transform(n.startDate,"MM/dd/yyyy")} to ${l.transform(n.endDate,"MM/dd/yyyy")} [${c}]</span><span style="font-size:16px; color:#ffffff">...</span><span style="font-family: Lato; color: #000000; font-size: 12px; line-height: 1.1640625;">${this.language.limit}: ${n.limit}</span><span style="font-size:16px; color:#ffffff">...</span>`;var p=[];e.length&&e.forEach(e=>{-1===e[t]&&(e[t]=0),e.name||(e.name=e.key),e.name&&-1===p.indexOf(e.name)&&p.push(e.name)});var g=[],d=[];Ye.each(p,(i,a)=>{var n={};n.name=a,n.data=[],Ye.each(e,(e,i)=>{i.name||(i.name=i.key),i.name===a&&(n.key=i.key,n.data.push(i[t]),d.push(this.options.getDateTime(i.startPeriodSec,!0,"MM/dd HH:mm")))}),g.push(n)});let u=g.length>0?""==this.language[i]?i:this.language[i]:"";0==g.length&&(g=[{name:i+" Rate",data:[]}]);let f=this.topApplicationTrafficColors(),m={credits:{enabled:!1},time:{useUTC:!1},chart:{type:"area",zoomType:"xy"},title:{text:"Down"===i?"":this.language["Network Top Application Traffic"]},subtitle:{text:"Down"===i?"":h},xAxis:{categories:d,labels:{formatter:function(){return this.value.length>23?this.value.substring(0,19)+"...":this.value},isFunction:!0},tickInterval:function(){let e=Math.floor(d.length/p.length),t=1;return t=e<=10?1:e>10&&e<20?2:Math.floor(e/8)?Math.floor(e/8):1,t}()},yAxis:{labels:{formatter:function(){let e=this;var t=e.axis.series[0].dataMax,i=t>1e12?[1e12,"Tbps"]:t>1e9?[1e9,"Gbps"]:t>1e6?[1e6,"Mbps"]:t>1e3?[1e3,"Kbps"]:[1,"bps"];return(e.value/i[0]).toFixed(1)+(e.isFirst?" "+i[1]:"")}},title:{text:u},stackLabels:{enabled:!1,style:{fontWeight:"bold"}},tickPixelInterval:55},tooltip:{formatter:function(){let e=r.topApplicationTrafficTooltip(this.y)[0];return"<p><strong>"+this.series.name+"</strong><br/><strong>"+this.x+"</strong><br/><span>"+n.rateSelected+" "+i+" Rate: <strong>"+(this.y/e).toFixed(2)+" "+r.topApplicationTrafficTooltip(this.y)[1]+"</strong><br/></span></p>"}},lang:{noData:this.language["No Data Available"]},plotOptions:{area:{stacking:"normal",lineColor:"#ffffff",lineWidth:1,marker:{lineWidth:1,lineColor:"#ffffff"}},series:{cursor:"pointer",point:{events:{click:function(){let e=[];e.push(g[this.series.index].key);let t=n.locationsSelected?n.locationsSelected:[],i={startDate:o(n.startDate).format("YYYY-MM-DD"),endDate:o(n.endDate).format("YYYY-MM-DD"),criteria:"rate",applicationsSelected:e,locationsSelected:t,typeSelected:"traffic",isApplicationGroup:"no"},a="/cco/traffic/applications/reports";window.location.pathname.indexOf("/cco/traffic/")>-1||(a=this.router.url.indexOf(`/${s.N.SYS_ADMIN_ROUTE}/`)>-1?"/systemAdministration/flowAnalyze/traffic/application/reports":"/organization-admin/flowAnalyze/traffic/application/reports"),r.router.navigate([a],{queryParams:i})}}}}},series:g,legend:{align:"center",verticalAlign:"bottom",x:0,y:0,lineHeight:10},interactive:!0,datetimeSupported:!0,treemapSupported:!0,colors:f};return m.exporting="Down"!==i?{filename:"Network_Top_Application_Traffic",buttons:{contextButton:{menuItems:[{textKey:"downloadPDF",text:"Export PDF",onclick:function(){r.exportTrafficChart()}},{textKey:"downloadCSV",text:this.language.exportCsv,onclick:function(){let t=[],i=[],a="",s="";a=`Top Application Traffic\r\n Rate: ${"Max"==n.rateSelected?"Peak":n.rateSelected}\r\nTime Window: ${l.transform(n.startDate,"MM/dd/yyyy")} - ${l.transform(n.endDate,"MM/dd/yyyy")} [${c}]\r\nLimit: ${n.limit}\r\nUpStream Traffic\r\n`,s="\r\nDownStream Traffic\r\n";for(var o=0;o<e.length;o++)e[o].name&&t.push({"Date Time":r.options.getDateTime(e[o].startPeriodSec,!0,"MM/dd HH:mm"),Name:e[o].name?e[o].name:"Other","Usage(Byte)":e[o].usOctets?e[o].usOctets:0,"Max Up Rate(bps)":e[o].peakUsRate?e[o].peakUsRate:0,"Average Up Rate(bps)":e[o].usRate?e[o].usRate:0});for(o=0;o<e.length;o++)e[o].name&&i.push({"Date Time":r.options.getDateTime(e[o].startPeriodSec,!0,"MM/dd HH:mm"),Name:e[o].name?e[o].name:"Other","Usage(Byte)":e[o].dsOctets?e[o].dsOctets:0,"Max Down Rate(bps)":e[o].peakDsRate?e[o].peakDsRate:0,"Average Down Rate(bps)":e[o].dsRate?e[o].dsRate:0});r.downLoadCSV("Network_Top_Application_Traffic",t,i,a,"\r\nDownStream Traffic\r\n")}}],text:r.language.export,className:"export_menu"}}}:{enabled:!1},m}topApplicationTrafficTooltip(e){return e>1e12?[1e12,"Tbps"]:e>1e9?[1e9,"Gbps"]:e>1e6?[1e6,"Mbps"]:e>1e3?[1e3,"Kbps"]:[1,"bps"]}topApplicationTrafficColors(){return["#E87B00","#44367D","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"]}pageErrorHandle(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.closeAlert(),this.error=!0,this.loading=!1,Ye("html, body").animate({scrollTop:0},"slow")}closeAlert(){this.error=!1}showError(e){this.closeAlert(),this.errorInfo=e,this.error=!0}exportTrafficChart(){_.exportCharts([this.upChart,this.downChart],{type:"application/pdf"})}ngOnDestroy(){this.subscribe&&this.subscribe.unsubscribe()}getSize(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}downLoadCSV(e,t,i,a,n){let s=t,o=[],r=0,l=0,c=0;for(let u of s){let e=this.getSize(u);e>r&&(r=e,l=c),c++}for(let u in s[l])-1===o.indexOf(u)&&o.push(u);let h=e+".csv",p=this.ConvertToCSV(s,o),g=this.ConvertToCSV(i,o);var d=new Blob([a+p+n+g],{type:"text/csv;charset=utf-8"});(0,Ee.saveAs)(d,h)}ConvertToCSV(e,t){let i="object"!=typeof e?JSON.parse(e):e,a="",n="";for(let s in t)n+=t[s]+",";n=n.slice(0,-1),a+=n+"\r\n";for(let s=0;s<i.length;s++){let e="";for(let a in t){let n=t[a];e+='"'+(null!=i[s][n]?i[s][n]:"")+'",'}a+=e+"\r\n"}return a}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(n.F0),p.Y36(g.d),p.Y36(q.w),p.Y36(m.v),p.Y36(d.t6),p.Y36(b.h))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-application-traffic"]],decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","col-md-12 mt-4",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"col-md-12","mt-4"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],[1,"",2,"height","auto"],["id","fa-chart-wrapper",1,"fa-chart-wrapper","chart-min-h"],["class","loader",4,"ngIf"],[1,"chart-sec",3,"ngClass"],[1,"fa-chart-container","mt-5"],[1,"fa-chart-container"],["id","container-up",3,"ngStyle"],["id","container-down"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){1&e&&(p.YNc(0,Ve,2,0,"div",0),p.YNc(1,et,11,5,"div",1)),2&e&&(p.Q6J("ngIf",!t.hasScopeAccess),p.xp6(1),p.Q6J("ngIf",t.pageAvailable&&t.hasScopeAccess))},directives:[a.O5,a.mk,a.PC],styles:[""]}),e})();const nt=["TrafficComponent"],st=["TopApplicationsComponent"],ot=["TopLocationsComponent"],rt=["TopSubscribersComponent"],lt=["PowerUsersComponent"],ct=["TopApplicationTrafficComponent"],ht=["ApplicationTrafficComponent"],pt=["SubscriberDistributionComponent"],gt=["MonthlyUsageByserviceCategoryComponent"],dt=["MonthlyUsageByapplicationComponent"],ut=["MaxDailyRateComponent"],ft=["AverageSubscriberRateComponent"],mt=["ActiveSubscribersComponent"],bt=["showInfoModal"],wt=["scheduleReportModal"];function xt(e,t){if(1&e&&(p.TgZ(0,"div",3),p.TgZ(1,"div",4),p.TgZ(2,"div",5),p.TgZ(3,"span",6),p._uU(4),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(4),p.Oqu(e.language.Loading)}}function vt(e,t){if(1&e&&p._uU(0),2&e){const e=t.item,i=p.oxw(2);p.hij(" ",i.language[e.name]||e.name," ")}}function At(e,t){if(1&e&&p._uU(0),2&e){const e=t.item,i=p.oxw(2);p.hij(" ",i.language[e.name]||e.name," ")}}function Tt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",51),p.NdJ("click",function(){p.CHM(e),p.oxw();const t=p.MAs(4);p.oxw();const i=p.MAs(4);return p.oxw(2).clearSearch(t,i)}),p._UZ(1,"img",52),p.qZA()}}function St(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",45),p.TgZ(1,"div",46),p._UZ(2,"img",47),p.qZA(),p.TgZ(3,"input",48,49),p.NdJ("input",function(t){return p.CHM(e),p.oxw(),p.MAs(4).filter(t.target.value)})("ngModelChange",function(t){return p.CHM(e),p.oxw(3).searchInputText=t}),p.qZA(),p.YNc(5,Tt,2,0,"div",50),p.qZA()}if(2&e){const e=p.MAs(4),t=p.oxw(3);p.xp6(3),p.s9C("placeholder",t.language.Search),p.Q6J("ngModel",t.searchInputText),p.xp6(2),p.Q6J("ngIf",e.value)}}function Zt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",54),p.TgZ(1,"input",55),p.NdJ("click",function(t){return p.CHM(e),p.oxw(4).selectAllApplication(t)}),p.qZA(),p.TgZ(2,"label",56),p._uU(3),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(4);p.xp6(1),p.Q6J("indeterminate",(null==e.applicationsSelected?null:e.applicationsSelected.length)>0&&(null==e.applicationsSelected?null:e.applicationsSelected.length)<(null==e.applications?null:e.applications.length))("checked",(null==e.applicationsSelected?null:e.applicationsSelected.length)===(null==e.applications?null:e.applications.length)),p.xp6(2),p.AsE("",e.language.All," (",null==e.applications?null:e.applications.length,")")}}function Ct(e,t){if(1&e&&p.YNc(0,Zt,4,4,"div",53),2&e){const e=p.oxw(3);p.Q6J("ngIf","all"==e.searchInputText.toLowerCase()||""==e.searchInputText)}}function yt(e,t){if(1&e&&(p.TgZ(0,"div",57),p._UZ(1,"input",58),p.TgZ(2,"span",59),p._uU(3),p.qZA(),p.qZA()),2&e){const e=t.item,i=t.item$,a=t.index,n=p.oxw(3);p.xp6(1),p.MGl("id","item-",a,""),p.Q6J("indeterminate",n.getIndeterminateGroup(i))("ngModel",i.selected),p.xp6(1),p.s9C("title",e.groupName),p.xp6(1),p.Oqu(e.groupName)}}function Dt(e,t){if(1&e&&(p.TgZ(0,"div",60),p._UZ(1,"input",61),p.TgZ(2,"span",59),p._uU(3),p.qZA(),p.qZA()),2&e){const e=t.item,i=t.item$,a=t.index;p.xp6(1),p.MGl("id","item-",a,""),p.Q6J("ngModel",i.selected),p.xp6(1),p.s9C("title",e.label),p.xp6(1),p.Oqu(e.label)}}function Mt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",66),p.TgZ(1,"span",67),p.NdJ("click",function(){return p.CHM(e),p.oxw(4).dropDownAppItemsClear(!1)})("click",function(){return p.CHM(e),p.oxw(4).applicationsSelected=[]}),p._uU(2,"x"),p.qZA(),p.TgZ(3,"span",68),p._uU(4),p.qZA(),p.qZA()}if(2&e){const e=p.oxw().items;p.xp6(4),p.Oqu(e[0].label)}}function Ot(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",69),p.TgZ(1,"span",67),p.NdJ("click",function(){return p.CHM(e),p.oxw(4).dropDownAppItemsClear(!1)})("click",function(){return p.CHM(e),p.oxw(4).applicationsSelected=[]}),p._uU(2,"x"),p.qZA(),p.TgZ(3,"span",68),p._uU(4),p.qZA(),p.qZA()}if(2&e){const e=p.oxw().items;p.xp6(4),p.hij("",e.length," applications")}}function _t(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",70),p.TgZ(1,"span",67),p.NdJ("click",function(){return p.CHM(e),p.oxw(4).dropDownAppItemsClear(!1)})("click",function(){return p.CHM(e),p.oxw(4).applicationsSelected=[]}),p._uU(2,"x"),p.qZA(),p.TgZ(3,"span",68),p._uU(4),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(4);p.xp6(4),p.Oqu(e.language.All)}}function kt(e,t){if(1&e&&(p.TgZ(0,"div",62),p.YNc(1,Mt,5,1,"div",63),p.YNc(2,Ot,5,1,"div",64),p.YNc(3,_t,5,1,"div",65),p.qZA()),2&e){const e=t.items,i=p.oxw(3);p.xp6(1),p.Q6J("ngIf",1===e.length&&e.length!==(null==i.applications?null:i.applications.length)),p.xp6(1),p.Q6J("ngIf",e.length>1&&e.length!==(null==i.applications?null:i.applications.length)),p.xp6(1),p.Q6J("ngIf",e.length===(null==i.applications?null:i.applications.length))}}const It=function(){return{standalone:!0}};function qt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",38),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"ng-select",39,40),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).applicationsSelected=t})("change",function(){return p.CHM(e),p.oxw(2).changeApplication()})("open",function(){return p.CHM(e),p.oxw(2).searchInputText=""}),p.YNc(5,St,6,3,"ng-template",41),p.YNc(6,Ct,1,1,"ng-template",42),p.YNc(7,yt,4,5,"ng-template",43),p.YNc(8,Dt,4,4,"ng-template",15),p.YNc(9,kt,4,3,"ng-template",44),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language.application),p.xp6(1),p.s9C("placeholder",e.language["None Selected"]),p.Q6J("items",e.applications)("multiple",!0)("ngModel",e.applicationsSelected)("ngModelOptions",p.DdM(15,It))("clearable",!0)("searchable",!1)("closeOnSelect",!0)("clearSearchOnAdd",!1)("selectableGroup",!0)("selectableGroupAsModel",!1)("searchFn",e.websocketservice.customAppSearch)("closeOnSelect",!1)("clearOnBackspace",!1)}}function Ut(e,t){if(1&e&&p._uU(0),2&e){const e=t.item,i=p.oxw(3);p.hij(" ",i.language[e.name]||e.name," ")}}function Nt(e,t){if(1&e&&p._uU(0),2&e){const e=t.item,i=p.oxw(3);p.hij(" ",i.language[e.name]||e.name," ")}}function Ht(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",10),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"ng-select",71),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).criteriaSelected=t})("change",function(){return p.CHM(e),p.oxw(2).changeCriteria()}),p.YNc(4,Ut,1,1,"ng-template",14),p.YNc(5,Nt,1,1,"ng-template",15),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language.criteria),p.xp6(1),p.s9C("placeholder",e.language["None Selected"]),p.Q6J("items",e.criteria)("multiple",!1)("ngModel",e.criteriaSelected)("ngModelOptions",p.DdM(8,It))("clearable",!1)("searchable",!1)}}function Rt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",10),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"ng-select",72),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).scopeSelected=t}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language.scope),p.xp6(1),p.s9C("placeholder",e.language["None Selected"]),p.Q6J("items",e.scope)("multiple",!1)("ngModel",e.scopeSelected)("ngModelOptions",p.DdM(8,It))("clearable",!1)("searchable",!1)}}function Jt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",10),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"ng-select",73),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).monthSelected=t})("change",function(){return p.CHM(e),p.oxw(2).changeFilter()}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language.month_title),p.xp6(1),p.s9C("placeholder",e.language["None Selected"]),p.Q6J("items",e.month)("multiple",!1)("ngModel",e.monthSelected)("ngModelOptions",p.DdM(8,It))("clearable",!1)("searchable",!1)}}function Et(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",74),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"input",75),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).monthCount=t})("change",function(){return p.CHM(e),p.oxw(2).changeFilter()}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language.month_title),p.xp6(1),p.Q6J("ngModel",e.monthCount)}}function Yt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",10),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"ng-select",76),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).rateSelected=t})("change",function(){return p.CHM(e),p.oxw(2).changeFilter()}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language.rate),p.xp6(1),p.s9C("placeholder",e.language["None Selected"]),p.Q6J("items",e.rate)("multiple",!1)("ngModel",e.rateSelected)("ngModelOptions",p.DdM(8,It))("clearable",!1)("searchable",!1)}}const Pt=function(){return{width:"100%",height:"36px"}},Ft=function(){return{height:"36px"}};function Lt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",77),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"p-calendar",78),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).startDate=t})("onSelect",function(){return p.CHM(e),p.oxw(2).changeDate()})("onInput",function(){return p.CHM(e),p.oxw(2).changeDate()}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language["From Date"]),p.xp6(1),p.Akn(p.DdM(11,Pt)),p.s9C("placeholder",e.language["Select Date"]),p.Q6J("inputStyle",p.DdM(12,Ft))("autoZIndex",!0)("ngModel",e.startDate)("showIcon",!0)("ngModelOptions",p.DdM(13,It))("maxDate",e.maxDate)("minDate",e.minDate)}}function Qt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",77),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"p-calendar",79),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).endDate=t})("onSelect",function(){return p.CHM(e),p.oxw(2).changeDate()})("onInput",function(){return p.CHM(e),p.oxw(2).changeDate()}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language["To Date"]),p.xp6(1),p.Akn(p.DdM(11,Pt)),p.s9C("placeholder",e.language["Select Date"]),p.Q6J("inputStyle",p.DdM(12,Ft))("autoZIndex",!0)("ngModel",e.endDate)("showIcon",!0)("ngModelOptions",p.DdM(13,It))("maxDate",e.maxDate)("minDate",e.startDate)}}function $t(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",80),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"input",81),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).startHour=t})("change",function(){return p.CHM(e),p.oxw(2).changeFilter()}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.hij("",e.language.start_hour,"(0-23)"),p.xp6(1),p.Q6J("ngModel",e.startHour)}}function Bt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",80),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"input",82),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).endHour=t})("change",function(){return p.CHM(e),p.oxw(2).changeFilter()}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.hij("",e.language.end_hour,"(0-23)"),p.xp6(1),p.Q6J("ngModel",e.endHour)}}function jt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",80),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"input",83),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).limit=t})("blur",function(){return p.CHM(e),p.oxw(2).changelimit()}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language.limit),p.xp6(1),p.s9C("placeholder",e.language.limit),p.Q6J("ngModel",e.limit)}}function zt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",84),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"ng-select",85),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).groupSelected=t})("change",function(){return p.CHM(e),p.oxw(2).changeFilter()}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language.group),p.xp6(1),p.s9C("placeholder",e.language["None Selected"]),p.Q6J("items",e.groups)("multiple",!1)("ngModel",e.groupSelected)("ngModelOptions",p.DdM(8,It))("clearable",!1)("searchable",!1)}}function Gt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",10),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"ng-select",86),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).directionSelected=t})("change",function(){return p.CHM(e),p.oxw(2).changeFilter()}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language.direction),p.xp6(1),p.s9C("placeholder",e.language["None Selected"]),p.Q6J("items",e.directions)("multiple",!1)("ngModel",e.directionSelected)("ngModelOptions",p.DdM(8,It))("clearable",!1)("searchable",!1)}}function Vt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",87),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"input",88),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).treshold=t})("change",function(){return p.CHM(e),p.oxw(2).changeFilter()})("blur",function(){p.CHM(e);const t=p.oxw(2);return t.removeUnwantedSpace("treshold",t.treshold)}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.AsE("",e.language.treshold," (","active-subcribers"==e.pageDetails.sub_route?"Bytes":"KB",")"),p.xp6(1),p.Q6J("ngModel",e.treshold)}}function Wt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",87),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"input",89),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).peakRateFrom=t})("change",function(){return p.CHM(e),p.oxw(2).changeFilter()})("blur",function(){p.CHM(e);const t=p.oxw(2);return t.removeUnwantedSpace("peakRateFrom",t.peakRateFrom)}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.hij("",e.language.peakRateFrom,"(Mbps)"),p.xp6(1),p.Q6J("ngModel",e.peakRateFrom)}}function Kt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",87),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"input",90),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).peakRateTo=t})("change",function(){return p.CHM(e),p.oxw(2).changeFilter()})("blur",function(){p.CHM(e);const t=p.oxw(2);return t.removeUnwantedSpace("peakRateTo",t.peakRateTo)}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.hij("",e.language.peakRateTo,"(Mbps)"),p.xp6(1),p.Q6J("ngModel",e.peakRateTo)}}function Xt(e,t){if(1&e&&p._uU(0),2&e){const e=t.item,i=p.oxw(3);p.hij(" ",i.language[e.name]||e.name," ")}}function ei(e,t){if(1&e&&p._uU(0),2&e){const e=t.item,i=p.oxw(3);p.hij(" ",i.language[e.name]||e.name," ")}}function ti(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",10),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"ng-select",91),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).periodSelected=t})("change",function(){return p.CHM(e),p.oxw(2).changeFilter()}),p.YNc(4,Xt,1,1,"ng-template",14),p.YNc(5,ei,1,1,"ng-template",15),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language.period),p.xp6(1),p.s9C("placeholder",e.language["None Selected"]),p.Q6J("items",e.period)("multiple",!1)("ngModel",e.periodSelected)("ngModelOptions",p.DdM(8,It))("clearable",!1)("searchable",!1)}}function ii(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",10),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"ng-select",92),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).aggregateSelected=t})("change",function(){return p.CHM(e),p.oxw(2).changeFilter()}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language.aggre),p.xp6(1),p.s9C("placeholder",e.language["None Selected"]),p.Q6J("items",e.aggregate)("multiple",!1)("ngModel",e.aggregateSelected)("ngModelOptions",p.DdM(8,It))("clearable",!1)("searchable",!1)}}function ai(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",10),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"ng-select",93),p.NdJ("change",function(){return p.CHM(e),p.oxw(2).changeFilter()})("ngModelChange",function(t){return p.CHM(e),p.oxw(2).eliminateUnknownSelected=t}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language.elim),p.xp6(1),p.s9C("placeholder",e.language["None Selected"]),p.Q6J("items",e.eliminateUnknown)("multiple",!1)("ngModel",e.eliminateUnknownSelected)("ngModelOptions",p.DdM(8,It))("clearable",!1)("searchable",!1)}}function ni(e,t){if(1&e&&p._uU(0),2&e){const e=t.item,i=p.oxw(3);p.hij(" ",i.language[e.name]||e.name," ")}}function si(e,t){if(1&e&&p._uU(0),2&e){const e=t.item,i=p.oxw(3);p.hij(" ",i.language[e.name]||e.name," ")}}function oi(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",10),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"ng-select",94),p.NdJ("change",function(){return p.CHM(e),p.oxw(2).changeFilter()})("ngModelChange",function(t){return p.CHM(e),p.oxw(2).thresholdTypeSelected=t}),p.YNc(4,ni,1,1,"ng-template",14),p.YNc(5,si,1,1,"ng-template",15),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language.thres),p.xp6(1),p.s9C("placeholder",e.language["None Selected"]),p.Q6J("items",e.thresholdType)("multiple",!1)("ngModel",e.thresholdTypeSelected)("ngModelOptions",p.DdM(8,It))("clearable",!1)("searchable",!1)}}function ri(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",10),p.TgZ(1,"label",11),p._uU(2),p.qZA(),p.TgZ(3,"ng-select",95),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).metricSelected=t})("change",function(){return p.CHM(e),p.oxw(2).changeFilter()}),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.language.Metric),p.xp6(1),p.s9C("placeholder",e.language["None Selected"]),p.Q6J("items",e.metric)("multiple",!1)("ngModel",e.metricSelected)("ngModelOptions",p.DdM(8,It))("clearable",!1)("searchable",!1)}}function li(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",96),p.TgZ(1,"div",97),p.TgZ(2,"div",98),p._uU(3),p.TgZ(4,"ngx-slider",99),p.NdJ("valueChange",function(t){return p.CHM(e),p.oxw(2).startTime=t})("highValueChange",function(t){return p.CHM(e),p.oxw(2).endTime=t})("valueChange",function(){return p.CHM(e),p.oxw(2).changeTimeRange()}),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(3),p.AsE(" ",e.language["Time Range (Hours)"],": ",e.timeRange," "),p.xp6(1),p.Q6J("value",e.startTime)("highValue",e.endTime)("options",e.slideOptions)}}function ci(e,t){1&e&&p._UZ(0,"app-traffic",null,100)}function hi(e,t){1&e&&p._UZ(0,"app-top-applications",null,101)}function pi(e,t){1&e&&p._UZ(0,"app-top-locations",null,102)}function gi(e,t){1&e&&p._UZ(0,"app-top-subscribers",null,103)}function di(e,t){1&e&&p._UZ(0,"app-power-users",null,104)}function ui(e,t){1&e&&p._UZ(0,"app-subscriber-distribution",null,105)}function fi(e,t){1&e&&p._UZ(0,"app-monthly-usage-byservice-category",null,106)}function mi(e,t){1&e&&p._UZ(0,"app-monthly-usage-byapplication",null,107)}function bi(e,t){1&e&&p._UZ(0,"app-max-daily-rate",null,108)}function wi(e,t){1&e&&p._UZ(0,"app-average-subscriber-rate",null,109)}function xi(e,t){1&e&&p._UZ(0,"app-active-subscribers",null,110)}function vi(e,t){1&e&&p._UZ(0,"app-top-application-traffic",null,111)}function Ai(e,t){1&e&&p._UZ(0,"app-application-traffic",null,112)}function Ti(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",113),p.TgZ(1,"h5",114),p._uU(2),p.qZA(),p.TgZ(3,"div"),p._uU(4),p.qZA(),p.TgZ(5,"button",115),p.NdJ("click",function(){return p.CHM(e).$implicit.dismiss("Cross click")}),p._UZ(6,"span",116),p.qZA(),p.qZA(),p.TgZ(7,"div",117),p.TgZ(8,"button",118),p.NdJ("click",function(){return p.CHM(e).$implicit.close("Save click")}),p._uU(9),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(2),p.Oqu(e.modalTitle),p.xp6(2),p.hij(" ",e.modalInfo," "),p.xp6(5),p.hij(" ",e.language.Ok," ")}}function Si(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",119),p.TgZ(1,"button",120),p.NdJ("click",function(){const t=p.CHM(e).$implicit;return p.oxw(2).sensitiveModalCancel(t)}),p._UZ(2,"span",116),p.qZA(),p.TgZ(3,"div",121),p.TgZ(4,"div",122),p.TgZ(5,"div",123),p._UZ(6,"span"),p.qZA(),p.TgZ(7,"div",124),p.TgZ(8,"div",125),p._uU(9),p.qZA(),p.TgZ(10,"div",126),p.TgZ(11,"div",127),p._UZ(12,"input",128,129),p.qZA(),p.TgZ(14,"div",130),p.TgZ(15,"label",131),p._uU(16),p.qZA(),p.qZA(),p.qZA(),p.TgZ(17,"div",132),p.TgZ(18,"button",133),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).confirmShow()}),p._uU(19),p.qZA(),p.TgZ(20,"button",134),p.NdJ("click",function(){const t=p.CHM(e).$implicit;return p.oxw(2).sensitiveModalCancel(t)}),p._uU(21),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=p.MAs(13),t=p.oxw(2);p.xp6(9),p.hij(" ",t.language["Identifiable information msg"]," "),p.xp6(7),p.hij(" ",t.language["Access confirm msg"]," "),p.xp6(2),p.Q6J("disabled",!e.checked),p.xp6(1),p.hij(" ",t.language.Confirm," "),p.xp6(2),p.hij(" ",t.language.Cancel," ")}}function Zi(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",7),p.TgZ(1,"div",8),p.TgZ(2,"div",9),p.TgZ(3,"div",10),p.TgZ(4,"label",11),p._uU(5),p.TgZ(6,"span",12),p._uU(7,"*"),p.qZA(),p.qZA(),p.TgZ(8,"ng-select",13),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().typeSelected=t})("change",function(){return p.CHM(e),p.oxw().changeType()}),p.YNc(9,vt,1,1,"ng-template",14),p.YNc(10,At,1,1,"ng-template",15),p.qZA(),p.qZA(),p.YNc(11,qt,10,16,"div",16),p.YNc(12,Ht,6,9,"div",17),p.YNc(13,Rt,4,9,"div",17),p.YNc(14,Jt,4,9,"div",17),p.YNc(15,Et,4,2,"div",18),p.YNc(16,Yt,4,9,"div",17),p.YNc(17,Lt,4,14,"div",19),p.YNc(18,Qt,4,14,"div",19),p.YNc(19,$t,4,2,"div",20),p.YNc(20,Bt,4,2,"div",20),p.YNc(21,jt,4,3,"div",20),p.YNc(22,zt,4,9,"div",21),p.YNc(23,Gt,4,9,"div",17),p.YNc(24,Vt,4,3,"div",22),p.YNc(25,Wt,4,2,"div",22),p.YNc(26,Kt,4,2,"div",22),p.YNc(27,ti,6,9,"div",17),p.YNc(28,ii,4,9,"div",17),p.YNc(29,ai,4,9,"div",17),p.YNc(30,oi,6,9,"div",17),p.YNc(31,ri,4,9,"div",17),p.TgZ(32,"div",23),p.TgZ(33,"div",24),p.TgZ(34,"label",25),p._uU(35),p.qZA(),p.TgZ(36,"div",26),p.TgZ(37,"div"),p.TgZ(38,"input",27,28),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().sensitiveChecked=t}),p.qZA(),p.TgZ(40,"label",29),p._uU(41),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(42,"div",30),p.TgZ(43,"button",31),p.NdJ("click",function(){p.CHM(e);const t=p.MAs(39),i=p.MAs(64);return p.oxw().loadChartDataOrModal(t.checked,i)}),p._uU(44),p.qZA(),p.TgZ(45,"button",32),p.NdJ("click",function(){return p.CHM(e),p.oxw().clearFilter()}),p._uU(46),p.qZA(),p.qZA(),p.qZA(),p.YNc(47,li,5,5,"div",33),p.qZA(),p.YNc(48,ci,2,0,"app-traffic",34),p.YNc(49,hi,2,0,"app-top-applications",34),p.YNc(50,pi,2,0,"app-top-locations",34),p.YNc(51,gi,2,0,"app-top-subscribers",34),p.YNc(52,di,2,0,"app-power-users",34),p.YNc(53,ui,2,0,"app-subscriber-distribution",34),p.YNc(54,fi,2,0,"app-monthly-usage-byservice-category",34),p.YNc(55,mi,2,0,"app-monthly-usage-byapplication",34),p.YNc(56,bi,2,0,"app-max-daily-rate",34),p.YNc(57,wi,2,0,"app-average-subscriber-rate",34),p.YNc(58,xi,2,0,"app-active-subscribers",34),p.YNc(59,vi,2,0,"app-top-application-traffic",34),p.YNc(60,Ai,2,0,"app-application-traffic",34),p.YNc(61,Ti,10,3,"ng-template",35,36,p.W1O),p.YNc(63,Si,22,5,"ng-template",null,37,p.W1O),p.qZA()}if(2&e){const e=p.oxw();p.xp6(5),p.hij("",e.language.type," "),p.xp6(3),p.s9C("placeholder",e.language["None Selected"]),p.Q6J("items",e.types)("searchable",!1)("ngModel",e.typeSelected)("ngModelOptions",p.DdM(49,It)),p.xp6(3),p.Q6J("ngIf",e.pageDetails.showApplication&&"active-subcribers"==e.pageDetails.sub_route),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showCriteria),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showScope),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showMonth),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showMonthCount),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showRate),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showStartDate),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showEndDate),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showStartHour),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showEndHour),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showLimit),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showGroup),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showDirection),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showTreshold),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showPeakRateFrom),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showPeakRateTo),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showPeriod),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showAggregate),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showEliminateUnknown),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showThresholdType),p.xp6(1),p.Q6J("ngIf",e.pageDetails.showMetric),p.xp6(1),p.Q6J("hidden","active_subscribers"!=e.typeSelected&&"top_subscribers"!=e.typeSelected),p.xp6(3),p.hij(" ",e.language.Privacy," "),p.xp6(3),p.Q6J("ngModel",e.sensitiveChecked),p.xp6(3),p.Oqu(e.language["Show sensitive information"]),p.xp6(2),p.Q6J("disabled",1==e.service.btnDisabled),p.xp6(1),p.hij("",e.language.run," "),p.xp6(1),p.Q6J("disabled",1==e.service.btnDisabled),p.xp6(1),p.hij("",e.language.Clear_Filters," "),p.xp6(1),p.Q6J("ngIf","traffic"==e.typeSelected&&e.isRate&&e.isOneDate),p.xp6(1),p.Q6J("ngIf","traffic"==e.typeSelected),p.xp6(1),p.Q6J("ngIf","top_applications"==e.typeSelected),p.xp6(1),p.Q6J("ngIf","top_locations"==e.typeSelected),p.xp6(1),p.Q6J("ngIf","top_subscribers"==e.typeSelected),p.xp6(1),p.Q6J("ngIf","power_users"==e.typeSelected),p.xp6(1),p.Q6J("ngIf","subscriber_distribution"==e.typeSelected),p.xp6(1),p.Q6J("ngIf","monthly_usage_byservice_category"==e.typeSelected),p.xp6(1),p.Q6J("ngIf","monthly_usage_byapplication"==e.typeSelected),p.xp6(1),p.Q6J("ngIf","max_daily_rate"==e.typeSelected),p.xp6(1),p.Q6J("ngIf","average_subscriber_rate"==e.typeSelected),p.xp6(1),p.Q6J("ngIf","active_subscribers"==e.typeSelected),p.xp6(1),p.Q6J("ngIf","top_application_traffic"==e.typeSelected),p.xp6(1),p.Q6J("ngIf","application_traffic"==e.typeSelected)}}const Ci=[{path:"",component:(()=>{class e{constructor(e,t,i,a,n,o,r,l,c,h,p,g,d,u,f){this.customTranslateService=e,this.sso=t,this.canlenderConfig=i,this.dialogService=a,this.commonOrgService=n,this.service=o,this.websocketservice=r,this.router=l,this.titleService=c,this.route=h,this.apiService=p,this.http=g,this.CommonFunctionsService=d,this.callOutComeService=u,this.dateUtils=f,this.pageAvailable=!1,this.locations=[],this.locationsSelected=[],this.applications=[],this.applicationsSelected=[],this.criteria=[],this.minDate=new Date,this.maxDate=new Date,this.startDate=new Date,this.endDate=new Date,this.groups=[],this.directions=[],this.Initialloading=!1,this.searchInputText="",this.peakRateFrom=4,this.peakRateTo=5,this.period=[{name:"Last month",value:"-1"},{name:"Last 3 months",value:"-3"},{name:"Last 6 months",value:"-6"},{name:"Last year",value:"-12"}],this.periodSelected="-1",this.scope=[{name:"Overall",value:"1"},{name:"Within Location",value:"2"},{name:"Out of Location",value:"3"}],this.scopeSelected="1",this.treshold="0",this.thresholdTypeSelected="AllEndpoints",this.eliminateUnknownSelected="no",this.aggregateSelected="false",this.endHour=23,this.startHour=0,this.monthSelected="2020-06-01",this.rateSelected="Average",this.monthCount=3,this.sensitiveChecked=!1,this.metricSelected="Rate",this.month=[],this.rate=[{name:"Average",value:"Average"},{name:"Peak",value:"Peak"}],this.aggregate=[{name:"No",value:"false"},{name:"Yes",value:"true"}],this.eliminateUnknown=[],this.thresholdType=[{name:"All Endpoints",value:"AllEndpoints"},{name:"Unresolvable Endpoints",value:"UnresolvableEndpoints"}],this.metric=[{name:"Rate",value:"Rate"},{name:"Packets",value:"Packets"}],this.startTime=0,this.endTime=25,this.isRate=!1,this.isOneDate=!1,this.timeRange="0 - 24",this.slideOptions={floor:1,ceil:25,translate:(e,t)=>`<b>${e<=73&&e>=1?e-1:24}</b>`},this.types=[],this.typeSelected="traffic",this.hasScopeAccess=!1,this.hasClickRun=!1,this.appObj={},this.route.queryParams.subscribe(e=>{e.traffic&&(this.typeSelected=e.traffic)}),this.isDev=`${s.N.API_BASE}`.indexOf("/dev.api.calix.ai")>-1,this.websocketservice.previousURL=this.router.url,this.Initialloading=!0;let m=new Date;this.startDate=new Date(m.getTime()-5184e5),this.minDate=new Date(m.getTime()-23328e6),this.language=this.customTranslateService.defualtLanguage,this.setHideShowFilter(),this.customTranslateService.selectedLanguage.subscribe(e=>{this.language=e,this.changeClenderlang(),this.intializeValues(),this.setTitle(this.router.url)}),this.setMonthData(),this.service.btnDisabled=!1}setTitle(e){e.includes("cco/traffic/network/reports")?this.titleService.setTitle(`${this.language.Reports} - ${this.language.Network} - ${this.language.Traffic} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`):e.includes("organization-admin/flowAnalyze/traffic/network/reports")?this.titleService.setTitle(`${this.language.Reports} - ${this.language.Network} - ${this.language.Traffic} - ${this.language.flowconfiguration} - ${this.language.administration} - ${this.language["Calix Cloud"]}`):e.includes("systemAdministration/flowAnalyze/traffic/network/reports")&&this.titleService.setTitle(`${this.language.Reports} - ${this.language.Network} - ${this.language.Traffic} - ${this.language.flowconfiguration} - ${this.language["System Administration"]} - ${this.language["Calix Cloud"]}`)}ngOnInit(){var e;this.sensitiveChecked="true"==sessionStorage.getItem("showSensitiveInfo"),this.setTitle(this.router.url);let t=this.sso.getScopes();if(s.N.VALIDATE_SCOPE&&window.location.pathname.indexOf("/cco/traffic/")>-1){let e=Object.keys(t);if(e)for(let t=0;t<e.length;t++)if(-1!==e[t].indexOf("cloud.rbac.coc.traffic.network.report")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;if(!this.hasScopeAccess)return this.sso.setPageAccess(!1),void(this.websocketservice.previousURL="");if(this.sso.setPageAccess(!0),this.getApps(),setTimeout(()=>{this.Initialloading=!1},500),this.criteriaSelected="usage",this.intializeValues(),this.limit=10,this.groupSelected="no",this.directionSelected="Down",window.sessionStorage.getItem("traffic_TopSub_Endpoint_filters")){let e=JSON.parse(window.sessionStorage.getItem("traffic_TopSub_Endpoint_filters"));this.typeSelected="top_subscribers",this.startDate=new Date(e.startDate),this.endDate=new Date(e.endDate),this.criteriaSelected=e.criteriaSelected,this.limit=e.limit,this.directionSelected=e.directionSelected,this.setHideShowFilter()}this.orgidfromlocal=null!==(e=localStorage.getItem("calix.org_id"))&&void 0!==e?e:" ",this.loginData=localStorage.getItem("calix.login_data")?JSON.parse(localStorage.getItem("calix.login_data")):"",this.secureAccessRole=sessionStorage.getItem("Orgacceforssid")?"Calix":"BSP"}ngOnDestroy(){}clearSearch(e,t){e.value="",t.filter(""),this.searchInputText=""}dropDownAppItemsClear(e){this.applicationsSelected=[],e&&(this.service.btnDisabled=!1)}selectAllApplication(e){e.target.checked?(this.applicationsSelected=[...new Set(this.applications.map(e=>e.value))],this.applicationsSelectedNames=["All"]):(this.applicationsSelected=[],this.applicationsSelectedNames=[])}intializeValues(){this.types=[{name:"Traffic",value:"traffic"},{name:"Top Applications",value:"top_applications"},{name:"Top Locations",value:"top_locations"},{name:"Top Subscribers",value:"top_subscribers"},{name:"Power Users",value:"power_users"},{name:"Active Subscribers",value:"active_subscribers"},{name:"Subscriber Distribution",value:"subscriber_distribution"},{name:"Monthly Usage By Application",value:"monthly_usage_byapplication"},{name:"Monthly Usage By Service Category",value:"monthly_usage_byservice_category"},{name:"Max Daily Rate",value:"max_daily_rate"},{name:"Average Subscriber Rate",value:"average_subscriber_rate"},{name:"Top Application Traffic",value:"top_application_traffic"}],this.rate=[{name:this.language.Average,value:"Average"},{name:this.language.Peak,value:"Peak"}],this.criteria=[{name:this.language.usage,value:"usage"},{name:this.language.rate,value:"rate"}],this.groups=[{name:this.language.Yes,value:"yes"},{name:this.language.No,value:"no"}],this.directions=[{name:this.language.Down,value:"Down"},{name:this.language.Up,value:"Up"},{name:this.language["Both(Down+Up)"],value:"both"}],"power_users"==this.typeSelected&&(this.directions=[{name:this.language.Down,value:"Down"},{name:this.language.Up,value:"Up"}]),"application_traffic"==this.typeSelected&&(this.types=[{name:"Application Traffic",value:"application_traffic"}]),this.eliminateUnknown=[{name:this.language.No,value:"no"},{name:this.language.Yes,value:"yes"}]}dropDownItemsClear(e,t){t&&(this.service.btnDisabled=!1)}changeDate(){let e=o(this.getISOEndOfDay(this.endDate)).diff(o(this.getISODate(this.startDate)),"hour");if(e>0)this.slideChangeDate(e);else{this.isOneDate=!1;let t=new Date(this.startDate);this.endDate=new Date(t.getTime()+864e5),this.endDate>this.maxDate&&(this.endDate=this.maxDate),e=o(this.getISOEndOfDay(this.endDate)).diff(o(this.getISODate(this.startDate)),"hour"),this.slideChangeDate(e)}}slideChangeDate(e){if(e<=72){this.isOneDate=!0;const t=Object.assign({},this.slideOptions);t.ceil=24==e?25:48==e?49:72==e?73:25,this.startTime=1,this.endTime=24==e?25:48==e?49:72==e?73:25,this.timeRange=24==e?"0 - 24":48==e?"0 - 48":72==e?"0 - 72":"0 - 24",this.slideOptions=t}else this.isOneDate=!1}changeFilter(){}changeCriteria(){"rate"===this.criteriaSelected?(this.isRate=!0,this.directions=[{name:this.language.Down,value:"Down"},{name:this.language.Up,value:"Up"}],this.directionSelected="Down"):(this.isRate=!1,this.directions=[{name:this.language.Down,value:"Down"},{name:this.language.Up,value:"Up"},{name:this.language["Both(Down+Up)"],value:"both"}])}confirmShow(){var e;const t={accessType:this.secureAccessRole,accountId:"",accountName:"",action:"pii",actionTimestamp:this.dateUtils.currentDateToUTC(),deviceId:"",deviceType:"",objectType:"Traffic/Top Endpoints",orgId:this.orgidfromlocal,originator:null===(e=this.loginData)||void 0===e?void 0:e.username,description:"Show PII subscriber data"};this.callOutComeService.Savepasspharseauditlog(t).subscribe(e=>{e&&(this.loading=!1)},e=>{}),sessionStorage.setItem("showSensitiveInfo","true"),this.loadChartData(),setTimeout(()=>this.dialogService.dismissAll(),200)}sensitiveModalCancel(e){e.close(""),this.sensitiveChecked=!1}loadChartDataOrModal(e,t){e&&"true"!=sessionStorage.getItem("showSensitiveInfo")?this.modalOpener(t):(sessionStorage.setItem("showSensitiveInfo",e?"true":"false"),this.loadChartData())}loadChartData(){var e,t,i,a,n,s,o,r,l,c,h,p,g;if(!this.typeSelected)return this.modalTitle=this.language["Invalid input"],this.modalInfo=this.language.Select_Type_Reports,void this.openModalInfo();if(!this.validateStartEndDates())return this.modalTitle=this.language.Time_Period,void this.openModalInfo();if(!this.validatePeakRate())return this.modalTitle=this.language["Invalid input"],this.modalInfo="Please enter the valid input Rates",void this.openModalInfo();if(!this.validatePeakRateLimit())return this.modalTitle=this.language["Invalid input"],this.modalInfo="Rates must be below 8796093022207 Mbps",void this.openModalInfo();this.limit>500&&(this.limit=500);let d={};d.locationsSelected=this.locationsSelected&&this.locationsSelected.length>0&&this.locationsSelected.length===this.locations.length?["All"]:this.locationsSelected,d.locationsSelectedNames=this.locationsSelectedNames,d.applicationsSelected=this.applicationsSelected&&this.applicationsSelected.length>0&&this.applicationsSelected.length===this.applications.length?["All"]:this.applicationsSelected,d.applicationsSelectedNames=this.applicationsSelectedNames,d.criteriaSelected=this.criteriaSelected,d.startDate=this.startDate,d.endDate=this.endDate,d.limit=0==this.limit||this.limit?this.limit:10,d.groupSelected=this.groupSelected,d.directionSelected=this.directionSelected,d.rateSelected=this.rateSelected,d.monthCount=this.monthCount,d.threshold=this.treshold,d.metric=this.metricSelected,d.monthSelected=this.monthSelected,d.eliminateUnknownSelected=this.eliminateUnknownSelected,d.aggregateSelected=this.aggregateSelected,d.thresholdTypeSelected=this.thresholdTypeSelected,d.scopeSelected=this.scopeSelected,d.startHour=this.startHour,d.endHour=this.endHour,d.periodSelected=this.periodSelected,d.peakRateFrom=this.peakRateFrom,d.peakRateTo=this.peakRateTo,d.startTime=this.startTime,d.endTime=this.endTime,d.showTimeRange="traffic"==this.typeSelected,d.type="network",this.service.btnDisabled=!0,this.hasClickRun=!0,"traffic"==this.typeSelected?null===(e=this.TrafficComponent)||void 0===e||e.loadChartData(d):"top_applications"==this.typeSelected?null===(t=this.TopApplicationsComponent)||void 0===t||t.loadChartData(d):"top_locations"==this.typeSelected?null===(i=this.TopLocationsComponent)||void 0===i||i.loadChartData(d):"top_subscribers"==this.typeSelected?null===(a=this.TopSubscribersComponent)||void 0===a||a.loadChartData(d):"power_users"==this.typeSelected?null===(n=this.PowerUsersComponent)||void 0===n||n.loadChartData(d):"top_application_traffic"==this.typeSelected?null===(s=this.TopApplicationTrafficComponent)||void 0===s||s.loadChartData(d):"application_traffic"==this.typeSelected?null===(o=this.ApplicationTrafficComponent)||void 0===o||o.loadChartData(d):"subscriber_distribution"==this.typeSelected?null===(r=this.SubscriberDistributionComponent)||void 0===r||r.loadChartData(d):"monthly_usage_byservice_category"==this.typeSelected?null===(l=this.MonthlyUsageByserviceCategoryComponent)||void 0===l||l.loadChartData(d):"monthly_usage_byapplication"==this.typeSelected?null===(c=this.MonthlyUsageByapplicationComponent)||void 0===c||c.loadChartData(d):"max_daily_rate"==this.typeSelected?null===(h=this.MaxDailyRateComponent)||void 0===h||h.loadChartData(d):"average_subscriber_rate"==this.typeSelected?null===(p=this.AverageSubscriberRateComponent)||void 0===p||p.loadChartData(d):"active_subscribers"==this.typeSelected&&(null===(g=this.ActiveSubscribersComponent)||void 0===g||g.loadChartData(d))}getIndeterminateGroup(e){return e.children&&e.children.some(e=>e.selected)&&!e.children.every(e=>e.selected)}setMonthData(){this.month=[];var e=new Date;this.month.push({name:this.formatDate(e),value:this.formatDateFull(e)});for(let t=0;t<3;t++){let t=new Date(e.getFullYear()-(e.getMonth()>0?0:1),(e.getMonth()-1+12)%12,1);this.month.push({name:this.formatDate(t),value:this.formatDateFull(t)}),e=t}this.monthSelected=this.month[0].value}formatDateFull(e){return e.getFullYear()+"-"+this.formatDateComponent(e.getMonth()+1)+"-"+this.formatDateComponent(e.getDate())}formatDate(e){return e.getFullYear()+"-"+this.formatDateComponent(e.getMonth()+1)}formatDateComponent(e){return(e<10?"0":"")+e}changeClenderlang(){sessionStorage.getItem("defaultLanguage")&&"fr"==sessionStorage.getItem("defaultLanguage")?this.canlenderConfig.setTranslation({monthNames:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","D\xe9cembre"],dayNamesMin:["D","L","M","M","J","V","S"]}):sessionStorage.getItem("defaultLanguage")&&"en"==sessionStorage.getItem("defaultLanguage")&&this.canlenderConfig.setTranslation({monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],dayNamesMin:["S","M","T","W","T","F","S"]})}validateStartEndDates(){return!(this.pageDetails.showStartDate&&this.pageDetails.showEndDate&&(this.startDate&&this.endDate?this.getISODate(this.startDate)>this.getISODate(this.endDate)&&(this.modalInfo=this.language["Time range not valid, end time should be later than start time."],1):(this.modalInfo="Please enter the valid input dates.",1)))}validatePeakRate(){return!this.pageDetails.showPeakRateFrom||!this.pageDetails.showPeakRateTo||!(null===this.peakRateFrom||null===this.peakRateTo||parseInt(this.peakRateFrom)<0||parseInt(this.peakRateTo)<0||parseInt(this.peakRateFrom)>parseInt(this.peakRateTo))}validatePeakRateLimit(){if(this.pageDetails.showPeakRateFrom&&this.pageDetails.showPeakRateTo){let e=1048576*parseInt(this.peakRateFrom),t=1048576*parseInt(this.peakRateTo);return!(e>922337203685477e4||t>922337203685477e4)}return!0}openModalInfo(){this.modalRef=this.dialogService.open(this.showInfoModal,{size:"lg",centered:!0,windowClass:"custom-modal"})}changelimit(){this.limit<3&&(this.limit=3),this.limit>500&&(this.limit=500)}pageErrorHandle(e){let t="";t=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(t),this.commonOrgService.pageScrollTop(),this.loading=!1}getISODate(e){let t=new Date(e),i=t.getFullYear(),a=`${t.getMonth()+1}`,n=`${t.getDate()}`;return a.length<2&&(a=`0${a}`),n.length<2&&(n=`0${n}`),new Date(`${i}-${a}-${n}T00:00:00Z`)}getISOEndOfDay(e){let t=new Date(e);t.setDate(new Date(t).getDate()+1);let i=t.getFullYear(),a=`${t.getMonth()+1}`,n=`${t.getDate()}`;return a.length<2&&(a=`0${a}`),n.length<2&&(n=`0${n}`),`${i}-${a}-${n}T00:00:00Z`}changeTimeRange(){setTimeout(()=>{this.timeRange=(this.startTime-1).toString()+" - "+(this.endTime-1).toString()},500)}changeType(){this.hasClickRun=!1,this.service.btnDisabled&&(this.service.btnDisabled=!1),this.setHideShowFilter()}setHideShowFilter(){let e=new Date;this.startDate=new Date(e.getTime()-5184e5),this.endDate=new Date,"traffic"==this.typeSelected?this.pageDetails={main_route:"network",sub_route:"traffic",showLocation:!1,showApplication:!1,showCriteria:!0,showStartDate:!0,showEndDate:!0,showLimit:!1}:"top_applications"==this.typeSelected?this.pageDetails={main_route:"network",sub_route:"top-applications",showCriteria:!0,showStartDate:!0,showEndDate:!0,showLimit:!0,showGroup:!0,showDirection:!0,showRate:!1}:"top_locations"==this.typeSelected?this.pageDetails={main_route:"network",sub_route:"top-locations",showCriteria:!0,showStartDate:!0,showEndDate:!0,showLimit:!0,showGroup:!1,showDirection:!0,showRate:!1}:"top_subscribers"==this.typeSelected?this.pageDetails={main_route:"network",sub_route:"top-subscribers",showCriteria:!0,showStartDate:!0,showEndDate:!0,showLimit:!0,showGroup:!1,showDirection:!0,showRate:!1}:"power_users"==this.typeSelected?this.pageDetails={main_route:"network",sub_route:"power-users",showLimit:!1,showGroup:!1,showDirection:!0,showRate:!1,showPeakRateFrom:!0,showPeakRateTo:!0,showPeriod:!0}:"top_application_traffic"==this.typeSelected?this.pageDetails={main_route:"network",sub_route:"top-applications-traffic",showCriteria:!1,showStartDate:!0,showEndDate:!0,showLimit:!0,showGroup:!1,showDirection:!1,showRate:!0}:"active_subscribers"==this.typeSelected?this.pageDetails={main_route:"locations",sub_route:"active-subcribers",showLocation:!0,showApplication:!0,showStartDate:!0,showEndDate:!0,showTreshold:!0,showEliminateUnknown:!0,showThresholdType:!0}:"subscriber_distribution"==this.typeSelected?this.pageDetails={main_route:"locations",sub_route:"subscriber-distribution",showLocation:!1,showMonth:!0,showDirection:!0,showTreshold:!0,showAggregate:!1,showEliminateUnknown:!0,showThresholdType:!0}:"monthly_usage_byapplication"==this.typeSelected?this.pageDetails={main_route:"locations",sub_route:"monthly-usage-by-application",showLocation:!1,showDirection:!0,showRate:!1,showTreshold:!1}:"monthly_usage_byservice_category"==this.typeSelected?this.pageDetails={main_route:"locations",sub_route:"monthly-usage-by-service",showLocation:!1,showLimit:!1,showGroup:!1,showDirection:!0}:"max_daily_rate"==this.typeSelected?(this.pageDetails={main_route:"locations",sub_route:"max-daily-rate",showLocation:!1,showApplication:!1,showStartDate:!0,showAggregate:!1,showEliminateUnknown:!0},this.startDate=new Date):"average_subscriber_rate"==this.typeSelected?this.pageDetails={main_route:"locations",sub_route:"average-subscriber-rate",showLocation:!1,showStartDate:!0,showEndDate:!0,showStartHour:!0,showEndHour:!0,showAggregate:!1,showEliminateUnknown:!0}:"application_traffic"==this.typeSelected&&(this.pageDetails={main_route:"network",sub_route:"applications-traffic",showCriteria:!1,showStartDate:!0,showEndDate:!0,showLimit:!0,showGroup:!1,showDirection:!1,showRate:!0}),"power_users"==this.typeSelected?(this.directions=[{name:this.language.Down,value:"Down"},{name:this.language.Up,value:"Up"}],this.directionSelected="Down"):this.changeCriteria()}newTrafficWorkFlow(){this.modalRef&&this.modalRef.close()}viewScheduleReport(){this.modalRef=this.dialogService.open(this.scheduleReportModal,{size:"lg",windowClass:"custom-lg-modal",backdrop:"static",keyboard:!1})}getApps(){const e=[`${s.N.faAdminURL}application?org-id=0`,`${s.N.faAdminURL}application?org-id=${this.sso.getOrganizationID(this.router.url)}`,`${s.N.faAdminURL}application-group?org-id=0`,`${s.N.faAdminURL}application-group?org-id=${this.sso.getOrganizationID(this.router.url)}`],t=[];e.forEach(e=>{const i=this.apiService.callRestApi(e).pipe((0,r.U)(e=>e),(0,l.K)(e=>(0,c.of)(e)));t.push(i)}),this.combineLatest=(0,h.aj)(t),this.makeParallelRequest()}makeParallelRequest(){this.parallelReqSubscribtion=this.combineLatest.subscribe(e=>{this.globalApps=e[0],this.curOrgApps=e[1];let t=[];(Array.isArray(e[2])||Array.isArray(e[3]))&&(t=[...e[2],...e[3]]),this.applications=[],Array.isArray(this.combineApps())&&(this.applications=[...this.combineApps()]),this.applications.forEach(e=>{t.forEach(t=>{e._id===t.applicationId&&(e.groupName=t.trafficTypeName)})}),this.applications.sort((e,t)=>(e.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})).sort((e,t)=>(e.groupName||"").toString().localeCompare((t.groupName||"").toString(),"en",{numeric:!1}));let i=this.applications.filter(e=>{if(e.groupName)return e}),a=this.applications.filter(e=>{if(!e.groupName)return e}),n=[];(Array.isArray(i)||Array.isArray(a))&&(n=[...a,...i]),this.applications=[...n].filter((e,t,i)=>t===i.findIndex(t=>t.value===e.value))})}combineApps(){let e=this.curOrgApps?this.curOrgApps:[],t=this.globalApps?this.globalApps:[];e&&Array.isArray(e)&&(e=e.map(e=>{if(e)return e.type="Local",e.type="Global",e.label=e.name,e.value=e._id,e.app=e.name,this.appObj[e._id]=e.name,e}));let i=e.length?e.slice(0):[];if(t&&t.length){let a="";e&&Array.isArray(e)&&(a=e.map(e=>e.name)),t=t.map(t=>{if(t){const n=a.indexOf(t.name);return-1==n?(t.type="Global",t.label=t.name,t.value=t._id,t.app=t.name,this.appObj[t._id]=t.name):(t=e[n],i.splice(n,1)),t}}),t=[...t,...i]}else e.length&&(t=e);return t}changeApplication(){if(this.applicationsSelected.length>1&&this.applicationsSelected.includes("All"))if(0===this.applicationsSelected.indexOf("All")){let e=Object.assign([],this.applicationsSelected),t=e.indexOf("All");e.splice(t,1),this.applicationsSelected=e}else this.applicationsSelected.indexOf("All")>0&&(this.applicationsSelected=["All"]);this.getApplicationNames()}getApplicationNames(){this.applicationsSelectedNames=[],this.applicationsSelected&&this.applicationsSelected.length?this.applicationsSelected.length===this.applications.length?this.applicationsSelectedNames=["All"]:this.applicationsSelected.forEach(e=>{let t=this.applications.filter(t=>t.value===e);t.length&&this.applicationsSelectedNames.push(t[0].label)}):this.applicationsSelectedNames=["All"]}clearFilter(){this.peakRateFrom=4,this.peakRateTo=5,this.periodSelected="-1",this.scopeSelected="1",this.treshold="0",this.thresholdTypeSelected="AllEndpoints",this.eliminateUnknownSelected="no",this.aggregateSelected="false",this.endHour=23,this.startHour=0,this.monthSelected=this.month[0].value,this.rateSelected="Average",this.monthCount=3,this.metricSelected="Rate",this.timeRange="0 - 24",this.criteriaSelected="usage",this.limit=10,this.groupSelected="no",this.directionSelected="Down",this.startTime=0,this.endTime=25,this.isRate=!1,this.isOneDate=!1;let e=new Date;this.startDate=new Date(e.getTime()-5184e5),this.maxDate=new Date,this.endDate=new Date,this.locationsSelected=this.locations.map(e=>e.value),this.applicationsSelected=this.applications.map(e=>e.value),this.locationsSelectedNames=["All"],this.applicationsSelectedNames=["All"],this.setHideShowFilter(),this.hasClickRun&&this.loadChartData()}removeUnwantedSpace(e,t){this[e]=this.CommonFunctionsService.trimSpaceFromNonObjectInputs(t)}modalOpener(e){this.dialogService.open(e,{centered:!0,windowClass:"custom-warning-modal clx-custom-modal"})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(g.d),p.Y36(d.t6),p.Y36(u.b4),p.Y36(f.FF),p.Y36(m.v),p.Y36(b.h),p.Y36(w.i),p.Y36(n.F0),p.Y36(x.Dx),p.Y36(n.gz),p.Y36(v.W),p.Y36(A.eN),p.Y36(T.i),p.Y36(S.K),p.Y36(Z.s))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-network-reports"]],viewQuery:function(e,t){if(1&e&&(p.Gf(nt,5),p.Gf(st,5),p.Gf(ot,5),p.Gf(rt,5),p.Gf(lt,5),p.Gf(ct,5),p.Gf(ht,5),p.Gf(pt,5),p.Gf(gt,5),p.Gf(dt,5),p.Gf(ut,5),p.Gf(ft,5),p.Gf(mt,5),p.Gf(bt,7),p.Gf(wt,7)),2&e){let e;p.iGM(e=p.CRH())&&(t.TrafficComponent=e.first),p.iGM(e=p.CRH())&&(t.TopApplicationsComponent=e.first),p.iGM(e=p.CRH())&&(t.TopLocationsComponent=e.first),p.iGM(e=p.CRH())&&(t.TopSubscribersComponent=e.first),p.iGM(e=p.CRH())&&(t.PowerUsersComponent=e.first),p.iGM(e=p.CRH())&&(t.TopApplicationTrafficComponent=e.first),p.iGM(e=p.CRH())&&(t.ApplicationTrafficComponent=e.first),p.iGM(e=p.CRH())&&(t.SubscriberDistributionComponent=e.first),p.iGM(e=p.CRH())&&(t.MonthlyUsageByserviceCategoryComponent=e.first),p.iGM(e=p.CRH())&&(t.MonthlyUsageByapplicationComponent=e.first),p.iGM(e=p.CRH())&&(t.MaxDailyRateComponent=e.first),p.iGM(e=p.CRH())&&(t.AverageSubscriberRateComponent=e.first),p.iGM(e=p.CRH())&&(t.ActiveSubscribersComponent=e.first),p.iGM(e=p.CRH())&&(t.showInfoModal=e.first),p.iGM(e=p.CRH())&&(t.scheduleReportModal=e.first)}},decls:3,vars:2,consts:[[1,"col-md-12","mt-4"],["class","loader",4,"ngIf"],["class","main-div",4,"ngIf"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"main-div"],[1,"filter-section","filter-elemnts","pt-2"],[1,"filter-wrapper","mb-3"],[1,"custom-selectbox","col-12","ele-wrap","col-sm-6","col-md-3","col-lg-3"],[1,"filter-label"],[1,"error"],["id","type","bindLabel","name","bindValue","value",3,"items","placeholder","searchable","ngModel","ngModelOptions","ngModelChange","change"],["ng-label-tmp",""],["ng-option-tmp",""],["class","custom-selectbox custom-multiselect-ui col-12 ele-wrap col-sm-6 col-md-3 col-lg-3",4,"ngIf"],["class","custom-selectbox col-12 ele-wrap col-sm-6 col-md-3 col-lg-3",4,"ngIf"],["class","ccl-form",4,"ngIf"],["class","cal-pick col-12 ele-wrap col-sm-6 col-md-3 col-lg-3",4,"ngIf"],["class","round-corner  col-12 ele-wrap col-sm-6 col-md-3 col-lg-3",4,"ngIf"],["class","custom-selectbox col-12 ele-wrap col-sm-6 col-md-3 col-lg-3 w-10",4,"ngIf"],["class","ccl-form col-12 ele-wrap col-sm-6 col-md-3 col-lg-3",4,"ngIf"],[1,"custom-selectbox",3,"hidden"],[1,"current-issue-menu-item"],[1,"col-form-label","label-subtile","pt-0"],[1,"col-sm-12","p-0","mb-4","form-check"],["id","showSensitive","type","checkbox",1,"mr-1",3,"ngModel","ngModelChange"],["showSensitive",""],["for","showSensitive",1,"pb-0","mb-0"],[1,"col-md-12"],["id","filter-submit-btn","type","button",1,"btn-default","primary",3,"disabled","click"],["type","button",1,"btn-default","btn-dft","ml-2",3,"disabled","click"],["class","container",4,"ngIf"],[4,"ngIf"],["class","col-md-12"],["showInfoModal",""],["warningModalConfirmation",""],[1,"custom-selectbox","custom-multiselect-ui","col-12","ele-wrap","col-sm-6","col-md-3","col-lg-3"],["id","application","bindLabel","label","bindValue","value","groupBy","groupName",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","closeOnSelect","clearSearchOnAdd","selectableGroup","selectableGroupAsModel","searchFn","clearOnBackspace","ngModelChange","change","open"],["applicationSelect",""],["ng-footer-tmp",""],["ng-header-tmp",""],["ng-optgroup-tmp",""],["ng-multi-label-tmp",""],[1,"d-inline-flex","w-100","search-box-input","mb-2"],[1,"search-box-icon"],["src","../../../../../assets/img/ic_search_blue.svg",1,"search-icon"],["type","text",3,"placeholder","ngModel","input","ngModelChange"],["applicationSearch",""],["class","clear-box ml-auto",3,"click",4,"ngIf"],[1,"clear-box","ml-auto",3,"click"],["src","assets/img/close-icon.svg"],["class","d-flex w-100 select-all-holder",4,"ngIf"],[1,"d-flex","w-100","select-all-holder"],["id","item-all-applications","type","checkbox",1,"select-all-opt",3,"indeterminate","checked","click"],["for","item-all-applications",1,"cursor-pointer","m-0"],[1,"dropdown-item-gr"],["type","checkbox",1,"mr-1",3,"id","indeterminate","ngModel"],[3,"title"],[1,"dropdown-item-ch"],["type","checkbox",1,"mr-1",3,"id","ngModel"],[1,"d-inline-flex"],["class","ng-value 1",4,"ngIf"],["class","ng-value 2",4,"ngIf"],["class","ng-value 3",4,"ngIf"],[1,"ng-value","1"],[1,"ng-value-icon","left",3,"click"],[1,"ng-value-label"],[1,"ng-value","2"],[1,"ng-value","3"],["id","usage_criteria","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],["id","scope","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["id","month","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],[1,"ccl-form"],["id","monthCount","name","monthCount","type","number","min","1","max","12",1,"",3,"ngModel","ngModelChange","change"],["id","rate","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],[1,"cal-pick","col-12","ele-wrap","col-sm-6","col-md-3","col-lg-3"],["id","start_date","appendTo","body","dateFormat","mm-dd-yy",3,"inputStyle","autoZIndex","placeholder","ngModel","showIcon","ngModelOptions","maxDate","minDate","ngModelChange","onSelect","onInput"],["id","end_date","appendTo","body","dateFormat","mm-dd-yy",3,"inputStyle","autoZIndex","ngModel","placeholder","showIcon","ngModelOptions","maxDate","minDate","ngModelChange","onSelect","onInput"],[1,"round-corner","col-12","ele-wrap","col-sm-6","col-md-3","col-lg-3"],["id","startHour","name","startHour","type","number",1,"form-control",3,"ngModel","ngModelChange","change"],["id","endHour","name","endHour","type","number",1,"form-control",3,"ngModel","ngModelChange","change"],["id","limit","name","limit","type","number","min","3","max","500",1,"form-control",3,"placeholder","ngModel","ngModelChange","blur"],[1,"custom-selectbox","col-12","ele-wrap","col-sm-6","col-md-3","col-lg-3","w-10"],["id","group","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],["id","direction","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],[1,"ccl-form","col-12","ele-wrap","col-sm-6","col-md-3","col-lg-3"],["id","treshold","name","treshold","type","text","trimSpace","",1,"form-control",3,"ngModel","ngModelChange","change","blur"],["id","peakRateFrom","name","peakRateFrom","type","text","placeholder","Mbps","trimSpace","",1,"ccl-form",3,"ngModel","ngModelChange","change","blur"],["id","peakRateTo","name","peakRateTo","type","text","placeholder","Mbps","trimSpace","",1,"ccl-form",3,"ngModel","ngModelChange","change","blur"],["id","period","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],["id","aggregate","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],["id","eliminateUnknown","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","change","ngModelChange"],["id","thresholdType","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","change","ngModelChange"],["id","metric","bindLabel","name","bindValue","value",3,"items","multiple","placeholder","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],[1,"container"],[1,"row","mt-2"],[1,"col-md-12","px-0"],[3,"value","highValue","options","valueChange","highValueChange"],["TrafficComponent",""],["TopApplicationsComponent",""],["TopLocationsComponent",""],["TopSubscribersComponent",""],["PowerUsersComponent",""],["SubscriberDistributionComponent",""],["MonthlyUsageByserviceCategoryComponent",""],["MonthlyUsageByapplicationComponent",""],["MaxDailyRateComponent",""],["AverageSubscriberRateComponent",""],["ActiveSubscribersComponent",""],["TopApplicationTrafficComponent",""],["ApplicationTrafficComponent",""],[1,"modal-header","d-block"],["id","showInfoModal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","add-device-model"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3","px-3",3,"click"],[1,"modal-body"],["type","button","data-dismiss","modal","aria-label","Close",1,"clx-modal-dismiss",3,"click"],[1,"modal-body-content"],[1,"clx-warning-wrapper"],[1,"clx-warning-icon"],[1,"clx-warning-content"],[1,"text-break","cco-secondary-title","mb-3"],[1,"d-flex","w-100"],[1,"radio-check","mr-2","pt-1"],["type","checkbox","id","checkSensitiveModal"],["checkSensitive",""],[1,"text-break"],["for","checkSensitiveModal"],[1,"mt-3"],["type","button",1,"btn-default","btn-primary","mr-3",3,"disabled","click"],["type","button","aria-label","Close",1,"btn-default","btn-dft",3,"click"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.YNc(1,xt,5,1,"div",1),p.qZA(),p.YNc(2,Zi,65,50,"div",2)),2&e&&(p.xp6(1),p.Q6J("ngIf",t.Initialloading),p.xp6(1),p.Q6J("ngIf",!t.Initialloading))},directives:[a.O5,C.w9,y.JJ,y.On,C.bb,C.Z2,y.Wl,C.x0,C.A3,C.mD,C.Yi,y.Fj,y.qQ,y.Fd,y.wV,D.f,M.f,O.w5,Y,G,ae,ge,Ie,qe.c,Ue.W,Ne.B,He.Z,Re.s,Je.C,Ge,at],styles:[".run-btn[_ngcontent-%COMP%]{background-color:#6c757d!important;color:#fff!important}.run-btn-active[_ngcontent-%COMP%]{background-color:#0173bc!important;color:#fff!important}label[_ngcontent-%COMP%]{font-weight:normal!important}.filter-wrapper[_ngcontent-%COMP%]{min-width:250px;width:100%;display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-start}.filter-wrapper[_ngcontent-%COMP%]   .ele-wrap[_ngcontent-%COMP%]{margin-bottom:20px}@media screen and (min-width: 1140px){.filter-wrapper[_ngcontent-%COMP%]   .ele-wrap[_ngcontent-%COMP%]:nth-child(4n+4){padding-right:0}}.custom-btn[_ngcontent-%COMP%]{background-color:#0173bc;border:1px solid #44367D;color:#fff;font-weight:bold;min-width:82px;height:2.4em;padding:0 15px;border-radius:20px;font-size:14px}.custom-btn[_ngcontent-%COMP%]:disabled{background-color:#6a6b6f;border:1px solid #44367D}.filter-section[_ngcontent-%COMP%]   .w-15[_ngcontent-%COMP%]{width:15%!important;min-width:18%!important;max-width:15%!important}.filter-elemnts[_ngcontent-%COMP%]{padding-left:15px!important}.filter-elemnts[_ngcontent-%COMP%]   .round-corner[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff!important}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:26px;max-width:75%!important}.schedule-modal-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:22px;letter-spacing:0em;text-align:left}.w-200px[_ngcontent-%COMP%]{width:200px}.label-subtile[_ngcontent-%COMP%]{position:relative;top:-5px}"]}),e})()}];let yi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[a.ez,n.Bz.forChild(Ci)],n.Bz]}),e})();var Di=i(25317),Mi=i(23830),Oi=i(43555),_i=i(44466);let ki=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[a.ez,yi,C.A0,y.u5,D._8,Di.l,Mi.o,f.IJ,de.T,O.kx,Oi.LocationReportsModule,_i.m]]}),e})()}}]);