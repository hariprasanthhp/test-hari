!function(){function t(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,r,a,l=[],s=!0,c=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(l.push(i.value),l.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||n(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,r=void 0,"symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"))?r:String(r)),i)}var o,r}function a(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[2610],{72161:function(t){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=109)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(17),o=n(18),r=n(19),a=n(45),l=n(46),s=n(47),c=n(48),u=n(49),d=n(12),p=n(32),g=n(33),f=n(31),h=n(1);e.default={Scope:h.Scope,create:h.create,find:h.find,query:h.query,register:h.register,Container:i.default,Format:o.default,Leaf:r.default,Embed:c.default,Scroll:a.default,Block:s.default,Inline:l.default,Text:u.default,Attributor:{Attribute:d.default,Class:p.default,Style:g.default,Store:f.default}}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e){var n=this;return(n=t.call(this,e="[Parchment] "+e)||this).message=e,n.name=n.constructor.name,n}return o(e,t),e}(Error);e.ParchmentError=r;var a,l={},s={},c={},u={};function d(t,e){var n;if(void 0===e&&(e=a.ANY),"string"==typeof t)n=u[t]||l[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)n=u.text;else if("number"==typeof t)t&a.LEVEL&a.BLOCK?n=u.block:t&a.LEVEL&a.INLINE&&(n=u.inline);else if(t instanceof HTMLElement){var i=(t.getAttribute("class")||"").split(/\s+/);for(var o in i)if(n=s[i[o]])break;n=n||c[t.tagName]}return null==n?null:e&a.LEVEL&n.scope&&e&a.TYPE&n.scope?n:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(a=e.Scope||(e.Scope={})),e.create=function(t,e){var n=d(t);if(null==n)throw new r("Unable to create "+t+" blot");var i=n,o=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:i.create(e);return new i(o,e)},e.find=function t(n,i){return void 0===i&&(i=!1),null==n?null:null!=n[e.DATA_KEY]?n[e.DATA_KEY].blot:i?t(n.parentNode,i):null},e.query=d,e.register=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map(function(e){return t(e)});var i=e[0];if("string"!=typeof i.blotName&&"string"!=typeof i.attrName)throw new r("Invalid definition");if("abstract"===i.blotName)throw new r("Cannot register abstract class");return u[i.blotName||i.attrName]=i,"string"==typeof i.keyName?l[i.keyName]=i:(null!=i.className&&(s[i.className]=i),null!=i.tagName&&(i.tagName=Array.isArray(i.tagName)?i.tagName.map(function(t){return t.toUpperCase()}):i.tagName.toUpperCase(),(Array.isArray(i.tagName)?i.tagName:[i.tagName]).forEach(function(t){(null==c[t]||null==i.className)&&(c[t]=i)}))),i}},function(t,e,n){var i=n(51),o=n(11),r=n(3),a=n(20),l=String.fromCharCode(0),s=function(t){this.ops=Array.isArray(t)?t:null!=t&&Array.isArray(t.ops)?t.ops:[]};s.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},s.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},s.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},s.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=r(!0,{},t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&"object"!=typeof(n=this.ops[(e-=1)-1]))return this.ops.unshift(t),this;if(o(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},s.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},s.prototype.filter=function(t){return this.ops.filter(t)},s.prototype.forEach=function(t){this.ops.forEach(t)},s.prototype.map=function(t){return this.ops.map(t)},s.prototype.partition=function(t){var e=[],n=[];return this.forEach(function(i){(t(i)?e:n).push(i)}),[e,n]},s.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},s.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+a.length(e):e.delete?t-e.delete:t},0)},s.prototype.length=function(){return this.reduce(function(t,e){return t+a.length(e)},0)},s.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var n=[],i=a.iterator(this.ops),o=0;o<e&&i.hasNext();){var r;o<t?r=i.next(t-o):(r=i.next(e-o),n.push(r)),o+=a.length(r)}return new s(n)},s.prototype.compose=function(t){var e=a.iterator(this.ops),n=a.iterator(t.ops),i=[],r=n.peek();if(null!=r&&"number"==typeof r.retain&&null==r.attributes){for(var l=r.retain;"insert"===e.peekType()&&e.peekLength()<=l;)l-=e.peekLength(),i.push(e.next());r.retain-l>0&&n.next(r.retain-l)}for(var c=new s(i);e.hasNext()||n.hasNext();)if("insert"===n.peekType())c.push(n.next());else if("delete"===e.peekType())c.push(e.next());else{var u=Math.min(e.peekLength(),n.peekLength()),d=e.next(u),p=n.next(u);if("number"==typeof p.retain){var g={};"number"==typeof d.retain?g.retain=u:g.insert=d.insert;var f=a.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(f&&(g.attributes=f),c.push(g),!n.hasNext()&&o(c.ops[c.ops.length-1],g)){var h=new s(e.rest());return c.concat(h).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&c.push(p)}return c.chop()},s.prototype.concat=function(t){var e=new s(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},s.prototype.diff=function(t,e){if(this.ops===t.ops)return new s;var n=[this,t].map(function(e){return e.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:l;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")}).join("")}),r=new s,c=i(n[0],n[1],e),u=a.iterator(this.ops),d=a.iterator(t.ops);return c.forEach(function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case i.INSERT:n=Math.min(d.peekLength(),e),r.push(d.next(n));break;case i.DELETE:n=Math.min(e,u.peekLength()),u.next(n),r.delete(n);break;case i.EQUAL:n=Math.min(u.peekLength(),d.peekLength(),e);var l=u.next(n),s=d.next(n);o(l.insert,s.insert)?r.retain(n,a.attributes.diff(l.attributes,s.attributes)):r.push(s).delete(n)}e-=n}}),r.chop()},s.prototype.eachLine=function(t,e){e=e||"\n";for(var n=a.iterator(this.ops),i=new s,o=0;n.hasNext();){if("insert"!==n.peekType())return;var r=n.peek(),l=a.length(r)-n.peekLength(),c="string"==typeof r.insert?r.insert.indexOf(e,l)-l:-1;if(c<0)i.push(n.next());else if(c>0)i.push(n.next(c));else{if(!1===t(i,n.next(1).attributes||{},o))return;o+=1,i=new s}}i.length()>0&&t(i,{},o)},s.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var n=a.iterator(this.ops),i=a.iterator(t.ops),o=new s;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!e&&"insert"===i.peekType())if("insert"===i.peekType())o.push(i.next());else{var r=Math.min(n.peekLength(),i.peekLength()),l=n.next(r),c=i.next(r);if(l.delete)continue;c.delete?o.push(c):o.retain(r,a.attributes.transform(l.attributes,c.attributes,e))}else o.retain(a.length(n.next()));return o.chop()},s.prototype.transformPosition=function(t,e){e=!!e;for(var n=a.iterator(this.ops),i=0;n.hasNext()&&i<=t;){var o=n.peekLength(),r=n.peekType();n.next(),"delete"!==r?("insert"===r&&(i<t||!e)&&(t+=o),i+=o):t-=Math.min(o,t-i)}return t},t.exports=s},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},l=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e,o=n.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!o&&!r)return!1;for(e in t);return void 0===e||n.call(t,e)},s=function(t,e){o&&"__proto__"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},c=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(r)return r(t,e).value}return t[e]};t.exports=function t(){var e,n,i,o,r,u,d=arguments[0],p=1,g=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<g;++p)if(null!=(e=arguments[p]))for(n in e)i=c(d,n),d!==(o=c(e,n))&&(f&&o&&(l(o)||(r=a(o)))?(r?(r=!1,u=i&&a(i)?i:[]):u=i&&l(i)?i:{},s(d,{name:n,newValue:t(f,u,o)})):void 0!==o&&s(d,{name:n,newValue:o}));return d}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},r=d(n(3)),a=d(n(2)),l=d(n(0)),s=d(n(16)),c=d(n(6)),u=d(n(7));function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return p(this,e),g(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),i(e,[{key:"attach",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new l.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,r.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=l.default.query(t,l.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,i){this.format(n,i)}},{key:"insertAt",value:function(t,n,i){if("string"==typeof n&&n.endsWith("\n")){var r=l.default.create(v.blotName);this.parent.insertBefore(r,0===t?this:this.next),r.insertAt(0,n.slice(0,-1))}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i)}}]),e}(l.default.Embed);h.scope=l.default.Scope.BLOCK_BLOT;var v=function(t){function e(t){p(this,e);var n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return f(e,t),i(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(l.default.Leaf).reduce(function(t,e){return 0===e.length()?t:t.insert(e.value(),m(e))},new a.default).insert("\n",m(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,i,r){n<=0||(l.default.query(i,l.default.Scope.BLOCK)?t+n===this.length()&&this.format(i,r):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),i,r),this.cache={})}},{key:"insertAt",value:function(t,n,i){if(null!=i)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i);if(0!==n.length){var r=n.split("\n"),a=r.shift();a.length>0&&(t<this.length()-1||null==this.children.tail?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var l=this;r.reduce(function(t,e){return(l=l.split(t,!0)).insertAt(0,e),e.length},t+a.length)}}},{key:"insertBefore",value:function(t,n){var i=this.children.head;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),i instanceof s.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-1)){var i=this.clone();return 0===t?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var r=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},r}}]),e}(l.default.Block);function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t||("function"==typeof t.formats&&(e=(0,r.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope)?e:m(t.parent,e)}v.blotName="block",v.tagName="P",v.defaultChild="break",v.allowedChildren=[c.default,l.default.Embed,u.default],e.bubbleFormats=m,e.BlockEmbed=h,e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(s){o=!0,r=s}finally{try{!i&&l.return&&l.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(50);var a=v(n(2)),l=v(n(14)),s=v(n(8)),c=v(n(9)),u=v(n(0)),d=n(15),p=v(d),g=v(n(3)),f=v(n(10)),h=v(n(34));function v(t){return t&&t.__esModule?t:{default:t}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var y=(0,f.default)("quill"),Z=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(this,t),this.options=x(e,i),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new s.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new l.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(s.default.events.EDITOR_CHANGE,function(t){t===s.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())}),this.emitter.on(s.default.events.SCROLL_UPDATE,function(t,e){var i=n.selection.lastRange,o=i&&0===i.length?i.index:void 0;_.call(n,function(){return n.editor.update(null,e,o)},t)});var r=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(r),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return r(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),f.default.level(t)}},{key:"find",value:function(t){return t.__quill||u.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&y.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var o=t.attrName||t.blotName;"string"==typeof o?this.register("formats/"+o,t,e):Object.keys(t).forEach(function(i){n.register(i,t[i],e)})}else null!=this.imports[t]&&!i&&y.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?u.default.register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}}]),r(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var i=this,r=A(t,e,n),a=o(r,4);return _.call(this,function(){return i.editor.deleteText(t,e)},n=a[3],t=a[0],-1*(e=a[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this;return _.call(this,function(){var i=n.getSelection(!0),o=new a.default;if(null==i)return o;if(u.default.query(t,u.default.Scope.BLOCK))o=n.editor.formatLine(i.index,i.length,m({},t,e));else{if(0===i.length)return n.selection.format(t,e),o;o=n.editor.formatText(i.index,i.length,m({},t,e))}return n.setSelection(i,s.default.sources.SILENT),o},arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.sources.API)}},{key:"formatLine",value:function(t,e,n,i,r){var a,l=this,s=A(t,e,n,i,r),c=o(s,4);return e=c[1],a=c[2],_.call(this,function(){return l.editor.formatLine(t,e,a)},r=c[3],t=c[0],0)}},{key:"formatText",value:function(t,e,n,i,r){var a,l=this,s=A(t,e,n,i,r),c=o(s,4);return e=c[1],a=c[2],_.call(this,function(){return l.editor.formatText(t,e,a)},r=c[3],t=c[0],0)}},{key:"getBounds",value:function(t){var e=void 0;e="number"==typeof t?this.selection.getBounds(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(t.index,t.length);var n=this.container.getBoundingClientRect();return{bottom:e.bottom-n.top,height:e.height,left:e.left-n.left,right:e.right-n.left,top:e.top-n.top,width:e.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=A(t,e),i=o(n,2);return this.editor.getContents(t=i[0],e=i[1])}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof t?this.editor.getFormat(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=A(t,e),i=o(n,2);return this.editor.getText(t=i[0],e=i[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,i){var o=this;return _.call(this,function(){return o.editor.insertEmbed(e,n,i)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API,e)}},{key:"insertText",value:function(t,e,n,i,r){var a,l=this,s=A(t,0,n,i,r),c=o(s,4);return a=c[2],_.call(this,function(){return l.editor.insertText(t,e,a)},r=c[3],t=c[0],e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var i=this,r=A(t,e,n),a=o(r,4);return e=a[1],_.call(this,function(){return i.editor.removeFormat(t,e)},n=a[3],t=a[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this;return _.call(this,function(){t=new a.default(t);var n=e.getLength(),i=e.editor.deleteText(0,n),o=e.editor.applyDelta(t),r=o.ops[o.ops.length-1];return null!=r&&"string"==typeof r.insert&&"\n"===r.insert[r.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),o.delete(1)),i.compose(o)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API)}},{key:"setSelection",value:function(e,n,i){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var r=A(e,n,i),a=o(r,4);i=a[3],this.selection.setRange(new d.Range(e=a[0],n=a[1]),i),i!==s.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API,n=(new a.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API;return _.call(this,function(){return t=new a.default(t),e.editor.applyDelta(t,n)},n,!0)}}]),t}();function x(t,e){if((e=(0,g.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==Z.DEFAULTS.theme){if(e.theme=Z.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=h.default;var n=(0,g.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach(function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach(function(e){!0===t.modules[e]&&(t.modules[e]={})})});var i=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce(function(t,e){var n=Z.import("modules/"+e);return null==n?y.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t},{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,g.default)(!0,{},Z.DEFAULTS,{modules:i},n,e),["bounds","container","scrollingContainer"].forEach(function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),e.modules=Object.keys(e.modules).reduce(function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t},{}),e}function _(t,e,n,i){if(this.options.strict&&!this.isEnabled()&&e===s.default.sources.USER)return new a.default;var o=null==n?null:this.getSelection(),r=this.editor.delta,l=t();if(null!=o&&(!0===n&&(n=o.index),null==i?o=T(o,l,e):0!==i&&(o=T(o,n,i,e)),this.setSelection(o,s.default.sources.SILENT)),l.length()>0){var c,u,d=[s.default.events.TEXT_CHANGE,l,r,e];(c=this.emitter).emit.apply(c,[s.default.events.EDITOR_CHANGE].concat(d)),e!==s.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}return l}function A(t,e,n,o,r){var a={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(r=o,o=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(r=o,o=n,n=e,e=0),"object"===(void 0===n?"undefined":i(n))?(a=n,r=o):"string"==typeof n&&(null!=o?a[n]=o:r=n),[t,e,a,r=r||s.default.sources.API]}function T(t,e,n,i){if(null==t)return null;var r=void 0,l=void 0;if(e instanceof a.default){var c=[t.index,t.index+t.length].map(function(t){return e.transformPosition(t,i!==s.default.sources.USER)}),u=o(c,2);r=u[0],l=u[1]}else{var p=[t.index,t.index+t.length].map(function(t){return t<e||t===e&&i===s.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)}),g=o(p,2);r=g[0],l=g[1]}return new d.Range(r,l-r)}Z.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},Z.events=s.default.events,Z.sources=s.default.sources,Z.version="1.3.7",Z.imports={delta:a.default,parchment:u.default,"core/module":c.default,"core/theme":h.default},e.expandConfig=x,e.overload=A,e.default=Z},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},r=l(n(7)),a=l(n(0));function l(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return s(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"formatAt",value:function(t,n,i,r){if(e.compare(this.statics.blotName,i)<0&&a.default.query(i,a.default.Scope.BLOT)){var l=this.isolate(t,n);r&&l.wrap(i,r)}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,i,r)}},{key:"optimize",value:function(t){if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(t,n){var i=e.order.indexOf(t),o=e.order.indexOf(n);return i>=0||o>=0?i-o:t===n?0:t<n?-1:1}}]),e}(a.default.Inline);u.allowedChildren=[u,a.default.Embed,r.default],u.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=u},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var r,a=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}((r=n(0),r&&r.__esModule?r:{default:r}).default.Text);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},r=a(n(54));function a(t){return t&&t.__esModule?t:{default:t}}var l=(0,a(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(t){document.addEventListener(t,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)})})});var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",l.error),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"emit",value:function(){l.log.apply(l,arguments),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(this.listeners[t.type]||[]).forEach(function(e){var i=e.node,o=e.handler;(t.target===i||i.contains(t.target))&&o.apply(void 0,[t].concat(n))})}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}(r.default);s.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},s.sources={API:"api",SILENT:"silent",USER:"user"},e.default=s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.quill=e,this.options=n};o.DEFAULTS={},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=["error","warn","log","info"],o="warn";function r(t){if(i.indexOf(t)<=i.indexOf(o)){for(var e,n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(e=console)[t].apply(e,r)}}function a(t){return i.reduce(function(e,n){return e[n]=r.bind(console,n,t),e},{})}r.level=a.level=function(t){o=t},e.default=a},function(t,e,n){var i=Array.prototype.slice,o=n(52),r=n(53),a=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var c,u;if(l(t)||l(e)||t.prototype!==e.prototype)return!1;if(r(t))return!!r(e)&&(t=i.call(t),e=i.call(e),a(t,e,n));if(s(t)){if(!s(e)||t.length!==e.length)return!1;for(c=0;c<t.length;c++)if(t[c]!==e[c])return!1;return!0}try{var d=o(t),p=o(e)}catch(g){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),c=d.length-1;c>=0;c--)if(d[c]!=p[c])return!1;for(c=d.length-1;c>=0;c--)if(!a(t[u=d[c]],e[u],n))return!1;return typeof t==typeof e}(t,e,n))};function l(t){return null==t}function s(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e,this.scope=null!=n.scope?n.scope&i.Scope.LEVEL|i.Scope.TYPE&i.Scope.ATTRIBUTE:i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,function(t){return t.name})},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=i.query(t,i.Scope.BLOT&(this.scope|i.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(s){o=!0,r=s}finally{try{!i&&l.return&&l.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},a=d(n(2)),l=d(n(0)),s=d(n(4)),c=d(n(6)),u=d(n(7));function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return p(this,e),g(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),e}(c.default);h.blotName="code",h.tagName="CODE";var v=function(t){function e(){return p(this,e),g(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),o(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce(function(e,n){return e.insert(n).insert("\n",t.formats())},new a.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var o=this.descendant(u.default,this.length()-1),a=i(o,1)[0];null!=a&&a.deleteAt(a.length()-1,1),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,i,o){if(0!==n&&null!=l.default.query(i,l.default.Scope.BLOCK)&&(i!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var r=this.newlineIndex(t);if(!(r<0||r>=t+n)){var a=this.newlineIndex(t,!0)+1,s=r-a+1,c=this.isolate(a,s),u=c.next;c.format(i,o),u instanceof e&&u.formatAt(0,t-a+n-s,i,o)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var o=this.descendant(u.default,t),r=i(o,2);r[0].insertAt(r[1],e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var e=this.domNode.textContent.slice(t).indexOf("\n");return e>-1?t+e:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(l.default.create("text","\n")),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(t){var e=l.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof l.default.Embed?e.remove():e.unwrap()})}}],[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),e}(s.default);v.blotName="code-block",v.tagName="PRE",v.TAB="  ",e.Code=h,e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(s){o=!0,r=s}finally{try{!i&&l.return&&l.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=m(n(2)),l=m(n(20)),s=m(n(0)),c=m(n(13)),u=m(n(24)),d=n(4),p=m(d),g=m(n(16)),f=m(n(21)),h=m(n(11)),v=m(n(3));function m(t){return t&&t.__esModule?t:{default:t}}var b=/^[ -~]*$/,y=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.scroll=e,this.delta=this.getDelta()}return r(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var r=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce(function(t,e){if(1===e.insert){var n=(0,f.default)(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null!=e.attributes&&(!0===e.attributes.list||!0===e.attributes.bullet)&&((e=(0,f.default)(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var i=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(i,e.attributes)}return t.push(e)},new a.default)}(t)).reduce(function(t,a){var c=a.retain||a.delete||a.insert.length||1,u=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var g=a.insert;g.endsWith("\n")&&n&&(n=!1,g=g.slice(0,-1)),t>=r&&!g.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,g);var f=e.scroll.line(t),h=o(f,2),m=h[0],b=h[1],y=(0,v.default)({},(0,d.bubbleFormats)(m));if(m instanceof p.default){var Z=m.descendant(s.default.Leaf,b),x=o(Z,1);y=(0,v.default)(y,(0,d.bubbleFormats)(x[0]))}u=l.default.attributes.diff(y,u)||{}}else if("object"===i(a.insert)){var _=Object.keys(a.insert)[0];if(null==_)return t;e.scroll.insertAt(t,_,a.insert[_])}r+=c}return Object.keys(u).forEach(function(n){e.scroll.formatAt(t,c,n,u[n])}),t+c},0),t.reduce(function(t,n){return"number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)},0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new a.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach(function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var r=n.scroll.lines(t,Math.max(e,1)),a=e;r.forEach(function(e){var r=e.length();if(e instanceof c.default){var l=t-e.offset(n.scroll),s=e.newlineIndex(l+a)-l+1;e.formatAt(l,s,o,i[o])}else e.format(o,i[o]);a-=r})}}),this.scroll.optimize(),this.update((new a.default).retain(t).retain(e,(0,f.default)(i)))}},{key:"formatText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach(function(o){n.scroll.formatAt(t,e,o,i[o])}),this.update((new a.default).retain(t).retain(e,(0,f.default)(i)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(t,e){return t.concat(e.delta())},new a.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===e?this.scroll.path(t).forEach(function(t){var e=o(t,1)[0];e instanceof p.default?n.push(e):e instanceof s.default.Leaf&&i.push(e)}):(n=this.scroll.lines(t,e),i=this.scroll.descendants(s.default.Leaf,t,e));var r=[n,i].map(function(t){if(0===t.length)return{};for(var e=(0,d.bubbleFormats)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=Z((0,d.bubbleFormats)(n),e)}return e});return v.default.apply(v.default,r)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter(function(t){return"string"==typeof t.insert}).map(function(t){return t.insert}).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new a.default).retain(t).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(i).forEach(function(o){n.scroll.formatAt(t,e.length,o,i[o])}),this.update((new a.default).retain(t).insert(e,(0,f.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return!(t.statics.blotName!==p.default.blotName||t.children.length>1)&&t.children.head instanceof g.default}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),i=this.scroll.line(t+e),r=o(i,2),l=r[0],s=r[1],u=0,d=new a.default;null!=l&&(u=l instanceof c.default?l.newlineIndex(s)-s+1:l.length()-s,d=l.delta().slice(s,s+u-1).insert("\n"));var p=this.getContents(t,e+u).diff((new a.default).insert(n).concat(d)),g=(new a.default).retain(t).concat(p);return this.applyDelta(g)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(b)&&s.default.find(e[0].target)){var o=s.default.find(e[0].target),r=(0,d.bubbleFormats)(o),l=o.offset(this.scroll),c=e[0].oldValue.replace(u.default.CONTENTS,""),p=(new a.default).insert(c),g=(new a.default).insert(o.value());t=(new a.default).retain(l).concat(p.diff(g,n)).reduce(function(t,e){return e.insert?t.insert(e.insert,r):t.push(e)},new a.default),this.delta=i.compose(t)}else this.delta=this.getDelta(),(!t||!(0,h.default)(i.compose(t),this.delta))&&(t=i.diff(this.delta,n));return t}}]),t}();function Z(t,e){return Object.keys(e).reduce(function(n,i){return null==t[i]||(e[i]===t[i]?n[i]=e[i]:Array.isArray(e[i])?e[i].indexOf(t[i])<0&&(n[i]=e[i].concat([t[i]])):n[i]=[e[i],t[i]]),n},{})}e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(s){o=!0,r=s}finally{try{!i&&l.return&&l.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=c(n(0)),a=c(n(21)),l=c(n(11)),s=c(n(8));function c(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var p=(0,c(n(10)).default)("quill:selection"),g=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,t),this.index=e,this.length=n},f=function(){function t(e,n){var i=this;d(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=r.default.create("cursor",this),this.lastRange=this.savedRange=new g(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){i.mouseDown||setTimeout(i.update.bind(i,s.default.sources.USER),1)}),this.emitter.on(s.default.events.EDITOR_CHANGE,function(t,e){t===s.default.events.TEXT_CHANGE&&e.length()>0&&i.update(s.default.sources.SILENT)}),this.emitter.on(s.default.events.SCROLL_BEFORE_UPDATE,function(){if(i.hasFocus()){var t=i.getNativeRange();null!=t&&t.start.node!==i.cursor.textNode&&i.emitter.once(s.default.events.SCROLL_UPDATE,function(){try{i.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(e){}})}}),this.emitter.on(s.default.events.SCROLL_OPTIMIZE,function(t,e){if(e.range){var n=e.range;i.setNativeRange(n.startNode,n.startOffset,n.endNode,n.endOffset)}}),this.update(s.default.sources.SILENT)}return o(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",function(){t.composing=!0}),this.root.addEventListener("compositionend",function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout(function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,function(){t.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){t.mouseDown=!1,t.update(s.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!r.default.query(t,r.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=r.default.find(n.start.node,!1);if(null==i)return;if(i instanceof r.default.Leaf){var o=i.split(n.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var o=void 0,r=this.scroll.leaf(t),a=i(r,2),l=a[0],s=a[1];if(null==l)return null;var c=l.position(s,!0),u=i(c,2);o=u[0],s=u[1];var d=document.createRange();if(e>0){d.setStart(o,s);var p=this.scroll.leaf(t+e),g=i(p,2);if(null==(l=g[0]))return null;var f=l.position(s=g[1],!0),h=i(f,2);return d.setEnd(o=h[0],s=h[1]),d.getBoundingClientRect()}var v="left",m=void 0;return o instanceof Text?(s<o.data.length?(d.setStart(o,s),d.setEnd(o,s+1)):(d.setStart(o,s-1),d.setEnd(o,s),v="right"),m=d.getBoundingClientRect()):(m=l.domNode.getBoundingClientRect(),s>0&&(v="right")),{bottom:m.top+m.height,height:m.height,left:m[v],right:m[v],top:m.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return p.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var o=n.map(function(t){var n=i(t,2),o=n[0],a=n[1],l=r.default.find(o,!0),s=l.offset(e.scroll);return 0===a?s:l instanceof r.default.Container?s+l.length():s+l.index(o,a)}),a=Math.min(Math.max.apply(Math,u(o)),this.scroll.length()-1),l=Math.min.apply(Math,[a].concat(u(o)));return new g(l,a-l)}},{key:"normalizeNative",value:function(t){if(!h(this.root,t.startContainer)||!t.collapsed&&!h(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n}),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],o=[],r=this.scroll.length();return n.forEach(function(t,n){t=Math.min(r-1,t);var a=e.scroll.leaf(t),l=i(a,2),s=l[1],c=l[0].position(s,0!==n),u=i(c,2);o.push(u[0],s=u[1])}),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var o=this.scroll.length()-1,r=this.scroll.line(Math.min(e.index,o)),a=i(r,1)[0],l=a;if(e.length>0){var s=this.scroll.line(Math.min(e.index+e.length,o));l=i(s,1)[0]}if(null!=a&&null!=l){var c=t.getBoundingClientRect();n.top<c.top?t.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(t.scrollTop+=n.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",t,e,n,i),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var r=document.getSelection();if(null!=r)if(null!=t){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||t!==a.startContainer||e!==a.startOffset||n!==a.endContainer||i!==a.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var l=document.createRange();l.setStart(t,e),l.setEnd(n,i),r.removeAllRanges(),r.addRange(l)}}else r.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.sources.API;if("string"==typeof e&&(n=e,e=!1),p.info("setRange",t),null!=t){var i=this.rangeToNative(t);this.setNativeRange.apply(this,u(i).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.sources.USER,e=this.lastRange,n=this.getRange(),o=i(n,2),r=o[1];if(this.lastRange=o[0],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,l.default)(e,this.lastRange)){var c;!this.composing&&null!=r&&r.native.collapsed&&r.start.node!==this.cursor.textNode&&this.cursor.restore();var u,d=[s.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(e),t];(c=this.emitter).emit.apply(c,[s.default.events.EDITOR_CHANGE].concat(d)),t!==s.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}}}]),t}();function h(t,e){return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=g,e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)};function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l,s=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"insertInto",value:function(t,n){0===t.children.length?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}((l=n(0),l&&l.__esModule?l:{default:l}).default.Embed);s.blotName="break",s.tagName="BR",e.default=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(44),a=n(30),l=n(1),s=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return o(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.build=function(){var t=this;this.children=new r.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(e){try{var n=c(e);t.insertBefore(n,t.children.head||void 0)}catch(i){if(i instanceof l.ParchmentError)return;throw i}})},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,function(t,e,n){t.deleteAt(e,n)})},e.prototype.descendant=function(t,n){var i=this.children.find(n),o=i[0],r=i[1];return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,r]:o instanceof e?o.descendant(t,r):[null,-1]},e.prototype.descendants=function(t,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var o=[],r=i;return this.children.forEachAt(n,i,function(n,i,a){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&o.push(n),n instanceof e&&(o=o.concat(n.descendants(t,i,r))),r-=a}),o},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,i){this.children.forEachAt(t,e,function(t,e,o){t.formatAt(e,o,n,i)})},e.prototype.insertAt=function(t,e,n){var i=this.children.find(t),o=i[0];if(o)o.insertAt(i[1],e,n);else{var r=null==n?l.create("text",e):l.create(e,n);this.appendChild(r)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(e){return t instanceof e}))throw new l.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce(function(t,e){return t+e.length()},0)},e.prototype.moveChildren=function(t,e){this.children.forEach(function(n){t.insertBefore(n,e)})},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=l.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var i=this.children.find(t,n),o=i[0],r=i[1],a=[[this,t]];return o instanceof e?a.concat(o.path(r,n)):(null!=o&&a.push([o,r]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),function(t,i,o){t=t.split(i,e),n.appendChild(t)}),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,i=[],o=[];t.forEach(function(t){t.target===n.domNode&&"childList"===t.type&&(i.push.apply(i,t.addedNodes),o.push.apply(o,t.removedNodes))}),o.forEach(function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=l.find(t);null!=e&&(null==e.domNode.parentNode||e.domNode.parentNode===n.domNode)&&e.detach()}}),i.filter(function(t){return t.parentNode==n.domNode}).sort(function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(t){var e=null;null!=t.nextSibling&&(e=l.find(t.nextSibling));var i=c(t);(i.next!=e||null==i.next)&&(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,e||void 0))})},e}(a.default);function c(t){var e=l.find(t);if(null==e)try{e=l.create(t)}catch(n){e=l.create(l.Scope.INLINE),[].slice.call(t.childNodes).forEach(function(t){e.domNode.appendChild(t)}),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),a=n(31),l=n(17),s=n(1),c=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new a.default(n.domNode),n}return o(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=s.query(t);n instanceof r.default?this.attributes.attribute(n,e):e&&null!=n&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var i=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(i),i},e.prototype.update=function(e,n){var i=this;t.prototype.update.call(this,e,n),e.some(function(t){return t.target===i.domNode&&"attributes"===t.type})&&this.attributes.build()},e.prototype.wrap=function(n,i){var o=t.prototype.wrap.call(this,n,i);return o instanceof e&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},e}(l.default);e.default=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(30),a=n(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=a.Scope.INLINE_BLOT,e}(r.default);e.default=l},function(t,e,n){var i=n(11),o=n(3),r={attributes:{compose:function(t,e,n){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var i=o(!0,{},e);for(var r in n||(i=Object.keys(i).reduce(function(t,e){return null!=i[e]&&(t[e]=i[e]),t},{})),t)void 0!==t[r]&&void 0===e[r]&&(i[r]=t[r]);return Object.keys(i).length>0?i:void 0},diff:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce(function(n,o){return i(t[o],e[o])||(n[o]=void 0===e[o]?null:e[o]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var i=Object.keys(e).reduce(function(n,i){return void 0===t[i]&&(n[i]=e[i]),n},{});return Object.keys(i).length>0?i:void 0}}},iterator:function(t){return new a(t)},length:function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};function a(t){this.ops=t,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,i=r.length(e);if(t>=i-n?(t=i-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:o.insert="string"==typeof e.insert?e.insert.substr(n,t):e.insert,o}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?r.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(i)}return[]},t.exports=r},function(t,e){var n=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,i;try{e=Map}catch(l){e=function(){}}try{n=Set}catch(l){n=function(){}}try{i=Promise}catch(l){i=function(){}}function o(r,l,s,c,u){"object"==typeof l&&(s=l.depth,c=l.prototype,u=l.includeNonEnumerable,l=l.circular);var d=[],p=[],g="undefined"!=typeof Buffer;return void 0===l&&(l=!0),void 0===s&&(s=1/0),function r(s,f){if(null===s)return null;if(0===f)return s;var h,v;if("object"!=typeof s)return s;if(t(s,e))h=new e;else if(t(s,n))h=new n;else if(t(s,i))h=new i(function(t,e){s.then(function(e){t(r(e,f-1))},function(t){e(r(t,f-1))})});else if(o.__isArray(s))h=[];else if(o.__isRegExp(s))h=new RegExp(s.source,a(s)),s.lastIndex&&(h.lastIndex=s.lastIndex);else if(o.__isDate(s))h=new Date(s.getTime());else{if(g&&Buffer.isBuffer(s))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(h),h;t(s,Error)?h=Object.create(s):void 0===c?(v=Object.getPrototypeOf(s),h=Object.create(v)):(h=Object.create(c),v=c)}if(l){var m=d.indexOf(s);if(-1!=m)return p[m];d.push(s),p.push(h)}for(var b in t(s,e)&&s.forEach(function(t,e){var n=r(e,f-1),i=r(t,f-1);h.set(n,i)}),t(s,n)&&s.forEach(function(t){var e=r(t,f-1);h.add(e)}),s){var y;v&&(y=Object.getOwnPropertyDescriptor(v,b)),(!y||null!=y.set)&&(h[b]=r(s[b],f-1))}if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(s);for(b=0;b<Z.length;b++){var x=Z[b];(A=Object.getOwnPropertyDescriptor(s,x))&&!A.enumerable&&!u||(h[x]=r(s[x],f-1),A.enumerable||Object.defineProperty(h,x,{enumerable:!1}))}}if(u){var _=Object.getOwnPropertyNames(s);for(b=0;b<_.length;b++){var A,T=_[b];(A=Object.getOwnPropertyDescriptor(s,T))&&A.enumerable||(h[T]=r(s[T],f-1),Object.defineProperty(h,T,{enumerable:!1}))}}return h}(r,s)}function r(t){return Object.prototype.toString.call(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=r,o.__isDate=function(t){return"object"==typeof t&&"[object Date]"===r(t)},o.__isArray=function(t){return"object"==typeof t&&"[object Array]"===r(t)},o.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===r(t)},o.__getRegExpFlags=a,o}();"object"==typeof t&&t.exports&&(t.exports=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(s){o=!0,r=s}finally{try{!i&&l.return&&l.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},a=g(n(0)),l=g(n(8)),s=n(4),c=g(s),u=g(n(16)),d=g(n(13)),p=g(n(25));function g(t){return t&&t.__esModule?t:{default:t}}function f(t){return t instanceof c.default||t instanceof s.BlockEmbed}var h=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.emitter=n.emitter,Array.isArray(n.whitelist)&&(i.whitelist=n.whitelist.reduce(function(t,e){return t[e]=!0,t},{})),i.domNode.addEventListener("DOMNodeInserted",function(){}),i.optimize(),i.enable(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,n){var o=this.line(t),a=i(o,2),l=a[0],c=a[1],p=this.line(t+n),g=i(p,1)[0];if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=g&&l!==g&&c>0){if(l instanceof s.BlockEmbed||g instanceof s.BlockEmbed)return void this.optimize();if(l instanceof d.default){var f=l.newlineIndex(l.length(),!0);if(f>-1&&(l=l.split(f+1))===g)return void this.optimize()}else if(g instanceof d.default){var h=g.newlineIndex(0);h>-1&&g.split(h+1)}l.moveChildren(g,g.children.head instanceof u.default?null:g.children.head),l.remove()}this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(t,n,i,o){null!=this.whitelist&&!this.whitelist[i]||(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,i,o),this.optimize())}},{key:"insertAt",value:function(t,n,i){if(null==i||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==i||null==a.default.query(n,a.default.Scope.BLOCK)){var o=a.default.create(this.statics.defaultChild);this.appendChild(o),null==i&&n.endsWith("\n")&&(n=n.slice(0,-1)),o.insertAt(0,n,i)}else{var l=a.default.create(n,i);this.appendChild(l)}else r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===a.default.Scope.INLINE_BLOT){var i=a.default.create(this.statics.defaultChild);i.appendChild(t),t=i}r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(f,t)}},{key:"lines",value:function(){return function t(e,n,i){var o=[],r=i;return e.children.forEachAt(n,i,function(e,n,i){f(e)?o.push(e):e instanceof a.default.Container&&(o=o.concat(t(e,n,r))),r-=i}),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(l.default.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=l.default.sources.USER;"string"==typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(l.default.events.SCROLL_BEFORE_UPDATE,n,t),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(l.default.events.SCROLL_UPDATE,n,t)}}}]),e}(a.default.Scroll);h.blotName="scroll",h.className="ql-editor",h.tagName="DIV",h.defaultChild="block",h.allowedChildren=[c.default,s.BlockEmbed,p.default],e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(s){o=!0,r=s}finally{try{!i&&l.return&&l.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=h(n(21)),l=h(n(11)),s=h(n(3)),c=h(n(2)),u=h(n(20)),d=h(n(0)),p=h(n(5)),g=h(n(10)),f=h(n(9));function h(t){return t&&t.__esModule?t:{default:t}}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=(0,g.default)("quill:keyboard"),b=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",y=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.bindings={},Object.keys(i.options.bindings).forEach(function(e){"list autofill"===e&&null!=t.scroll.whitelist&&!t.scroll.whitelist.list||i.options.bindings[e]&&i.addBinding(i.options.bindings[e])}),i.addBinding({key:e.keys.ENTER,shiftKey:null},T),i.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},x),i.addBinding({key:e.keys.DELETE},{collapsed:!0},_)):(i.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},x),i.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},_)),i.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},A),i.addBinding({key:e.keys.DELETE},{collapsed:!1},A),i.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},x),i.listen(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,null,[{key:"match",value:function(t,e){return e=C(e),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!e[n]!==t[n]&&null!==e[n]})&&e.key===(t.which||t.keyCode)}}]),r(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=C(t);if(null==i||null==i.key)return m.warn("Attempted to add invalid keyboard binding",i);"function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),i=(0,s.default)(i,e,n),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var r=(t.bindings[n.which||n.keyCode]||[]).filter(function(t){return e.match(n,t)});if(0!==r.length){var a=t.quill.getSelection();if(null!=a&&t.quill.hasFocus()){var s=t.quill.getLine(a.index),c=o(s,2),u=c[0],p=c[1],g=t.quill.getLeaf(a.index),f=o(g,2),h=f[0],v=f[1],m=0===a.length?[h,v]:t.quill.getLeaf(a.index+a.length),b=o(m,2),y=b[0],Z=b[1],x=h instanceof d.default.Text?h.value().slice(0,v):"",_=y instanceof d.default.Text?y.value().slice(Z):"",A={collapsed:0===a.length,empty:0===a.length&&u.length()<=1,format:t.quill.getFormat(a),offset:p,prefix:x,suffix:_};r.some(function(e){if(null!=e.collapsed&&e.collapsed!==A.collapsed||null!=e.empty&&e.empty!==A.empty||null!=e.offset&&e.offset!==A.offset)return!1;if(Array.isArray(e.format)){if(e.format.every(function(t){return null==A.format[t]}))return!1}else if("object"===i(e.format)&&!Object.keys(e.format).every(function(t){return!0===e.format[t]?null!=A.format[t]:!1===e.format[t]?null==A.format[t]:(0,l.default)(e.format[t],A.format[t])}))return!1;return!(null!=e.prefix&&!e.prefix.test(A.prefix)||null!=e.suffix&&!e.suffix.test(A.suffix))&&!0!==e.handler.call(t,a,A)})&&n.preventDefault()}}}})}}]),e}(f.default);function Z(t,e){var n;return v(n={key:t,shiftKey:e,altKey:null},t===y.keys.LEFT?"prefix":"suffix",/^$/),v(n,"handler",function(n){var i=n.index;t===y.keys.RIGHT&&(i+=n.length+1);var r=this.quill.getLeaf(i);return!(o(r,1)[0]instanceof d.default.Embed&&(t===y.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index-1,p.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index+n.length+1,p.default.sources.USER),1))}),n}function x(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),i=o(n,1)[0],r={};if(0===e.offset){var a=this.quill.getLine(t.index-1),l=o(a,1)[0];if(null!=l&&l.length()>1){var s=i.formats(),c=this.quill.getFormat(t.index-1,1);r=u.default.attributes.diff(s,c)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-d,d,p.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index-d,d,r,p.default.sources.USER),this.quill.focus()}}function _(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var i={},r=0,a=this.quill.getLine(t.index),l=o(a,1)[0];if(e.offset>=l.length()-1){var s=this.quill.getLine(t.index+1),c=o(s,1)[0];if(c){var d=l.formats(),g=this.quill.getFormat(t.index,1);i=u.default.attributes.diff(d,g)||{},r=c.length()}}this.quill.deleteText(t.index,n,p.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index+r-1,n,i,p.default.sources.USER)}}function A(t){var e=this.quill.getLines(t),n={};if(e.length>1){var i=e[0].formats(),o=e[e.length-1].formats();n=u.default.attributes.diff(o,i)||{}}this.quill.deleteText(t,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,p.default.sources.USER),this.quill.setSelection(t.index,p.default.sources.SILENT),this.quill.focus()}function T(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var i=Object.keys(e.format).reduce(function(t,n){return d.default.query(n,d.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t},{});this.quill.insertText(t.index,"\n",i,p.default.sources.USER),this.quill.setSelection(t.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach(function(t){null==i[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],p.default.sources.USER))})}function q(t){return{key:y.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=d.default.query("code-block"),i=e.index,r=e.length,a=this.quill.scroll.descendant(n,i),l=o(a,2),s=l[0],c=l[1];if(null!=s){var u=this.quill.getIndex(s),g=s.newlineIndex(c,!0)+1,f=s.newlineIndex(u+c+r),h=s.domNode.textContent.slice(g,f).split("\n");c=0,h.forEach(function(e,o){t?(s.insertAt(g+c,n.TAB),c+=n.TAB.length,0===o?i+=n.TAB.length:r+=n.TAB.length):e.startsWith(n.TAB)&&(s.deleteAt(g+c,n.TAB.length),c-=n.TAB.length,0===o?i-=n.TAB.length:r-=n.TAB.length),c+=e.length+1}),this.quill.update(p.default.sources.USER),this.quill.setSelection(i,r,p.default.sources.SILENT)}}}}function w(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],p.default.sources.USER)}}}function C(t){if("string"==typeof t||"number"==typeof t)return C({key:t});if("object"===(void 0===t?"undefined":i(t))&&(t=(0,a.default)(t,!1)),"string"==typeof t.key)if(null!=y.keys[t.key.toUpperCase()])t.key=y.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[b]=t.shortKey,delete t.shortKey),t}y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},y.DEFAULTS={bindings:{bold:w("bold"),italic:w("italic"),underline:w("underline"),indent:{key:y.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":q(!0),"outdent code-block":q(!1),"remove tab":{key:y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,p.default.sources.USER)}},tab:{key:y.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new c.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,p.default.sources.SILENT)}},"list empty enter":{key:y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,p.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),i=n[0],r=n[1],a=(0,s.default)({},i.formats(),{list:"checked"}),l=(new c.default).retain(t.index).insert("\n",a).retain(i.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(l,p.default.sources.USER),this.quill.setSelection(t.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),i=o(n,2),r=i[0],a=i[1],l=(new c.default).retain(t.index).insert("\n",e.format).retain(r.length()-a-1).retain(1,{header:null});this.quill.updateContents(l,p.default.sources.USER),this.quill.setSelection(t.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,i=this.quill.getLine(t.index),r=o(i,2),a=r[0],l=r[1];if(l>n)return!0;var s=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(t.index," ",p.default.sources.USER),this.quill.history.cutoff();var u=(new c.default).retain(t.index-l).delete(n+1).retain(a.length()-2-l).retain(1,{list:s});this.quill.updateContents(u,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,p.default.sources.SILENT)}},"code exit":{key:y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),i=n[0],r=n[1],a=(new c.default).retain(t.index+i.length()-r-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,p.default.sources.USER)}},"embed left":Z(y.keys.LEFT,!1),"embed left shift":Z(y.keys.LEFT,!0),"embed right":Z(y.keys.RIGHT,!1),"embed right shift":Z(y.keys.RIGHT,!0)}},e.default=y,e.SHORTKEY=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=l(n(0)),a=l(n(7));function l(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.selection=n,i.textNode=document.createTextNode(e.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,null,[{key:"value",value:function(){}}]),o(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);for(var o=this,a=0;null!=o&&o.statics.scope!==r.default.Scope.BLOCK_BLOT;)a+=o.offset(o.parent),o=o.parent;null!=o&&(this._length=e.CONTENTS.length,o.optimize(),o.formatAt(a,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),i=void 0,o=void 0,l=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var s=[t,n.start.offset,n.end.offset];i=s[0],o=s[1],l=s[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var c=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof a.default?(i=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=e.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(r.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var u=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(c){o=!0,r=c}finally{try{!i&&l.return&&l.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([o,l].map(function(t){return Math.max(0,Math.min(i.data.length,t-1))}),2);return{startNode:i,startOffset:o=u[0],endNode:i,endOffset:l=u[1]}}}}},{key:"update",value:function(t,e){var n=this;if(t.some(function(t){return"characterData"===t.type&&t.target===n.textNode})){var i=this.restore();i&&(e.range=i)}}},{key:"value",value:function(){return""}}]),e}(r.default.Embed);s.blotName="cursor",s.className="ql-cursor",s.tagName="span",s.CONTENTS="\ufeff",e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(0)),o=n(4),r=a(o);function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return l(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.default.Container);c.allowedChildren=[r.default,o.BlockEmbed,c],e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},a=(i=n(0))&&i.__esModule?i:{default:i};function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return l(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"value",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?"#"+(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(t){return("00"+parseInt(t).toString(16)).slice(-2)}).join(""):n}}]),e}(a.default.Attributor.Style),u=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),d=new c("color","color",{scope:a.default.Scope.INLINE});e.ColorAttributor=c,e.ColorClass=u,e.ColorStyle=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)};function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l,s=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return c(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}((l=n(6),l&&l.__esModule?l:{default:l}).default);function c(t,e){var n=document.createElement("a");n.href=t;var i=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(i)>-1}s.blotName="link",s.tagName="A",s.SANITIZED_URL="about:blank",s.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=s,e.sanitize=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=l(n(23)),a=l(n(107));function l(t){return t&&t.__esModule?t:{default:t}}var s=0;function c(t,e){t.setAttribute(e,"true"!==t.getAttribute(e))}var u=function(){function t(e){var n=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.togglePicker()}),this.label.addEventListener("keydown",function(t){switch(t.keyCode){case r.default.keys.ENTER:n.togglePicker();break;case r.default.keys.ESCAPE:n.escape(),t.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return o(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",function(){e.selectItem(n,!0)}),n.addEventListener("keydown",function(t){switch(t.keyCode){case r.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case r.default.keys.ESCAPE:e.escape(),t.preventDefault()}}),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=a.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+s,s+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach(function(n){var i=t.buildItem(n);e.appendChild(i),!0===n.selected&&t.selectItem(i)}),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach(function(e){t.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout(function(){return t.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":i(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=m(n(0)),o=m(n(5)),r=n(4),a=m(r),l=m(n(16)),s=m(n(25)),c=m(n(24)),u=m(n(35)),d=m(n(6)),p=m(n(22)),g=m(n(7)),f=m(n(55)),h=m(n(42)),v=m(n(23));function m(t){return t&&t.__esModule?t:{default:t}}o.default.register({"blots/block":a.default,"blots/block/embed":r.BlockEmbed,"blots/break":l.default,"blots/container":s.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":g.default,"modules/clipboard":f.default,"modules/history":h.default,"modules/keyboard":v.default}),i.default.register(a.default,l.default,c.default,d.default,p.default,g.default),e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=function(){function t(t){this.domNode=t,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return i.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,o){var r=this.isolate(t,e);if(null!=i.query(n,i.Scope.BLOT)&&o)r.wrap(n,o);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var a=i.create(this.statics.scope);r.wrap(a),a.format(n,o)}},t.prototype.insertAt=function(t,e,n){var o=null==n?i.create("text",e):i.create(e,n),r=this.split(t);this.parent.insertBefore(o,r)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),(this.domNode.parentNode!=t.domNode||this.domNode.nextSibling!=n)&&t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?i.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"==typeof t?i.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),o=n(32),r=n(33),a=n(1),l=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=i.default.keys(this.domNode),n=o.default.keys(this.domNode),l=r.default.keys(this.domNode);e.concat(n).concat(l).forEach(function(e){var n=a.query(e,a.Scope.ATTRIBUTE);n instanceof i.default&&(t.attributes[n.attrName]=n)})},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach(function(n){var i=e.attributes[n].value(e.domNode);t.format(n,i)})},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce(function(e,n){return e[n]=t.attributes[n].value(t.domNode),e},{})},t}();e.default=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function r(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(function(t){return 0===t.indexOf(e+"-")})}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){r(t,this.keyName).forEach(function(e){t.classList.remove(e)}),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(r(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function r(t){var e=t.split("-"),n=e.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return e[0]+n}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map(function(t){return t.split(":")[0].trim()})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[r(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[r(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[r(this.keyName)];return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.quill=e,this.options=n,this.modules={}}return i(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach(function(e){null==t.modules[e]&&t.addModule(e)})}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();o.DEFAULTS={modules:{}},o.themes={default:o},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},r=l(n(0)),a=l(n(7));function l(t){return t&&t.__esModule?t:{default:t}}var s="\ufeff",c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(t){n.contentNode.appendChild(t)}),n.leftGuard=document.createTextNode(s),n.rightGuard=document.createTextNode(s),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,i=t.data.split(s).join("");if(t===this.leftGuard)if(this.prev instanceof a.default){var o=this.prev.length();this.prev.insertAt(o,i),e={startNode:this.prev.domNode,startOffset:o+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(r.default.create(n),this),e={startNode:n,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof a.default?(this.next.insertAt(0,i),e={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(r.default.create(n),this.next),e={startNode:n,startOffset:i.length}));return t.data=s,e}},{key:"update",value:function(t,e){var n=this;t.forEach(function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var i=n.restore(t.target);i&&(e.range=i)}})}}]),e}(r.default.Embed);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var i,o=(i=n(0))&&i.__esModule?i:{default:i},r={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new o.default.Attributor.Attribute("align","align",r),l=new o.default.Attributor.Class("align","ql-align",r),s=new o.default.Attributor.Style("align","text-align",r);e.AlignAttribute=a,e.AlignClass=l,e.AlignStyle=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var i,o=(i=n(0))&&i.__esModule?i:{default:i},r=n(26),a=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),l=new r.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});e.BackgroundClass=a,e.BackgroundStyle=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var i,o=(i=n(0))&&i.__esModule?i:{default:i},r={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},a=new o.default.Attributor.Attribute("direction","dir",r),l=new o.default.Attributor.Class("direction","ql-direction",r),s=new o.default.Attributor.Style("direction","direction",r);e.DirectionAttribute=a,e.DirectionClass=l,e.DirectionStyle=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},a=(i=n(0))&&i.__esModule?i:{default:i};function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},u=new a.default.Attributor.Class("font","ql-font",c),d=new(function(t){function e(){return l(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"value",value:function(t){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}(a.default.Attributor.Style))("font","font-family",c);e.FontStyle=d,e.FontClass=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var i,o=(i=n(0))&&i.__esModule?i:{default:i},r=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=r,e.SizeStyle=a},function(t,e,n){"use strict";t.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=a(n(0)),r=a(n(5));function a(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(r.default.events.EDITOR_CHANGE,function(t,e,n,o){t!==r.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&o!==r.default.sources.USER?i.transform(e):i.record(e,n))}),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],r.default.sources.USER),this.ignoreChange=!1;var i=s(n[t]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),t=o.redo.compose(t)}else this.lastRecorded=i;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}),this.stack.redo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(a(n(9)).default);function s(t){var e=t.reduce(function(t,e){return t+(e.delete||0)},0),n=t.length()-e;return function(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some(function(t){return null!=o.default.query(t,o.default.Scope.BLOCK)}))}(t)&&(n-=1),n}l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=l,e.getLastChangeIndex=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},r=f(n(3)),a=f(n(2)),l=f(n(8)),s=f(n(23)),c=f(n(34)),u=f(n(59)),d=f(n(60)),p=f(n(28)),g=f(n(61));function f(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=[!1,"center","right","justify"],y=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Z=[!1,"serif","monospace"],x=["1","2","3",!1],_=["small",!1,"large","huge"],A=function(t){function e(t,n){h(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return t.emitter.listenDOM("click",document.body,function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null!=i.tooltip&&!i.tooltip.root.contains(n.target)&&document.activeElement!==i.tooltip.textbox&&!i.quill.hasFocus()&&i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach(function(t){t.container.contains(n.target)||t.close()})}),i}return m(e,t),i(e,[{key:"addModule",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach(function(t){(t.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n].rtl;else if("string"==typeof e[n])t.innerHTML=e[n];else{var i=t.value||"";null!=i&&e[n][i]&&(t.innerHTML=e[n][i])}})})}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map(function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&q(t,b),new d.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&q(t,y,"background"===n?"#ffffff":"#000000"),new u.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?q(t,Z):t.classList.contains("ql-header")?q(t,x):t.classList.contains("ql-size")&&q(t,_)),new p.default(t)}),this.quill.on(l.default.events.EDITOR_CHANGE,function(){n.pickers.forEach(function(t){t.update()})})}}]),e}(c.default);A.DEFAULTS=(0,r.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var i=t.quill.getSelection(!0);t.quill.updateContents((new a.default).retain(i.index).delete(i.length).insert({image:n.target.result}),l.default.sources.USER),t.quill.setSelection(i.index+1,l.default.sources.SILENT),e.value=""},n.readAsDataURL(e.files[0])}}),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var T=function(t){function e(t,n){h(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return m(e,t),i(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",function(e){s.default.match(e,"enter")?(t.save(),e.preventDefault()):s.default.match(e,"escape")&&(t.cancel(),e.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,l.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,l.default.sources.USER)),this.quill.root.scrollTop=e;break;case"video":t=function(t){var e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0":(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/":t}(t);case"formula":if(!t)break;var n=this.quill.getSelection(!0);if(null!=n){var i=n.index+n.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),t,l.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",l.default.sources.USER),this.quill.setSelection(i+2,l.default.sources.USER)}}this.textbox.value="",this.hide()}}]),e}(g.default);function q(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach(function(e){var i=document.createElement("option");e===n?i.setAttribute("selected","selected"):i.setAttribute("value",e),t.appendChild(i)})}e.BaseTooltip=T,e.default=A},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){!t||(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){!this.contains(t)||(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,i=this.iterator();n=i();){var o=n.length();if(t<o||e&&t===o&&(null==n.next||0!==n.next.length()))return[n,t];t-=o}return[null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();)t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var i,o=this.find(t),r=t-o[1],a=this.iterator(o[0]);(i=a())&&r<t+e;){var l=i.length();t>r?n(i,t-r,Math.min(e,r+l-t)):n(i,0,Math.min(l,t+e-r)),r+=l}},t.prototype.map=function(t){return this.reduce(function(e,n){return e.push(t(n)),e},[])},t.prototype.reduce=function(t,e){for(var n,i=this.iterator();n=i();)e=t(e,n);return e},t}();e.default=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),a=n(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver(function(t){n.update(t)}),n.observer.observe(n.domNode,l),n.attach(),n}return o(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach(function(t){t.remove()}):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,i,o){this.update(),t.prototype.formatAt.call(this,e,n,i,o)},e.prototype.insertAt=function(e,n,i){this.update(),t.prototype.insertAt.call(this,e,n,i)},e.prototype.optimize=function(e,n){var i=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)e.push(o.pop());for(var l=function t(e,n){void 0===n&&(n=!0),null!=e&&e!==i&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),n&&t(e.parent))},s=function t(e){null==e.domNode[a.DATA_KEY]||null==e.domNode[a.DATA_KEY].mutations||(e instanceof r.default&&e.children.forEach(t),e.optimize(n))},c=e,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(t){var e=a.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(l(a.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,function(t){var e=a.find(t,!1);l(e,!1),e instanceof r.default&&e.children.forEach(function(t){l(t,!1)})})):"attributes"===t.type&&l(e.prev)),l(e))}),this.children.forEach(s),o=(c=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)e.push(o.pop())}},e.prototype.update=function(e,n){var i=this;void 0===n&&(n={}),(e=e||this.observer.takeRecords()).map(function(t){var e=a.find(t.target,!0);return null==e?null:null==e.domNode[a.DATA_KEY].mutations?(e.domNode[a.DATA_KEY].mutations=[t],e):(e.domNode[a.DATA_KEY].mutations.push(t),null)}).forEach(function(t){null==t||t===i||null==t.domNode[a.DATA_KEY]||t.update(t.domNode[a.DATA_KEY].mutations||[],n)}),null!=this.domNode[a.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="DIV",e}(r.default);e.default=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),a=n(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,i){var o=this;n!==this.statics.blotName||i?t.prototype.format.call(this,n,i):(this.children.forEach(function(t){t instanceof r.default||(t=t.wrap(e.blotName,!0)),o.attributes.copy(t)}),this.unwrap())},e.prototype.formatAt=function(e,n,i,o){null!=this.formats()[i]||a.query(i,a.Scope.ATTRIBUTE)?this.isolate(e,n).format(i,o):t.prototype.formatAt.call(this,e,n,i,o)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var o=this.next;o instanceof e&&o.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(i,o.formats())&&(o.moveChildren(this),o.remove())},e.blotName="inline",e.scope=a.Scope.INLINE_BLOT,e.tagName="SPAN",e}(r.default);e.default=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),a=n(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){var i=a.query(e.blotName).tagName;if(n.tagName!==i)return t.formats.call(this,n)},e.prototype.format=function(n,i){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||i?t.prototype.format.call(this,n,i):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,i,o){null!=a.query(i,a.Scope.BLOCK)?this.format(i,o):t.prototype.formatAt.call(this,e,n,i,o)},e.prototype.insertAt=function(e,n,i){if(null==i||null!=a.query(n,a.Scope.INLINE))t.prototype.insertAt.call(this,e,n,i);else{var o=this.split(e),r=a.create(n,i);o.parent.insertBefore(r,o)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="P",e}(r.default);e.default=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,i,o){0===e&&n===this.length()?this.format(i,o):t.prototype.formatAt.call(this,e,n,i,o)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(n(19).default);e.default=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),a=n(1),l=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return o(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,i){null==i?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,i)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=a.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some(function(t){return"characterData"===t.type&&t.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=a.Scope.INLINE_BLOT,e}(r.default);e.default=l},function(t,e,n){"use strict";var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)==!e?e:o.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(e=e||0,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length);var i=n.indexOf(t,e-=t.length);return-1!==i&&i===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,o=arguments[1],r=0;r<i;r++)if(t.call(o,e=n[r],r,n))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,e){var n=-1;function i(t,e,s){if(t==e)return t?[[0,t]]:[];(s<0||t.length<s)&&(s=null);var u=r(t,e),d=t.substring(0,u);u=a(t=t.substring(u),e=e.substring(u));var p=t.substring(t.length-u),g=function(t,e){var l;if(!t)return[[1,e]];if(!e)return[[n,t]];var s=t.length>e.length?t:e,c=t.length>e.length?e:t,u=s.indexOf(c);if(-1!=u)return l=[[1,s.substring(0,u)],[0,c],[1,s.substring(u+c.length)]],t.length>e.length&&(l[0][0]=l[2][0]=n),l;if(1==c.length)return[[n,t],[1,e]];var d=function(t,e){var n=t.length>e.length?t:e,i=t.length>e.length?e:t;if(n.length<4||2*i.length<n.length)return null;function o(t,e,n){for(var i,o,l,s,c=t.substring(n,n+Math.floor(t.length/4)),u=-1,d="";-1!=(u=e.indexOf(c,u+1));){var p=r(t.substring(n),e.substring(u)),g=a(t.substring(0,n),e.substring(0,u));d.length<g+p&&(d=e.substring(u-g,u)+e.substring(u,u+p),i=t.substring(0,n-g),o=t.substring(n+p),l=e.substring(0,u-g),s=e.substring(u+p))}return 2*d.length>=t.length?[i,o,l,s,d]:null}var l,s,c,u,d,p=o(n,i,Math.ceil(n.length/4)),g=o(n,i,Math.ceil(n.length/2));return p||g?(l=g?p&&p[4].length>g[4].length?p:g:p,t.length>e.length?(s=l[0],c=l[1],u=l[2],d=l[3]):(u=l[0],d=l[1],s=l[2],c=l[3]),[s,c,u,d,l[4]]):null}(t,e);if(d){var p=d[1],g=d[3],f=d[4],h=i(d[0],d[2]),v=i(p,g);return h.concat([[0,f]],v)}return function(t,e){for(var i=t.length,r=e.length,a=Math.ceil((i+r)/2),l=a,s=2*a,c=new Array(s),u=new Array(s),d=0;d<s;d++)c[d]=-1,u[d]=-1;c[l+1]=0,u[l+1]=0;for(var p=i-r,g=p%2!=0,f=0,h=0,v=0,m=0,b=0;b<a;b++){for(var y=-b+f;y<=b-h;y+=2){for(var Z=l+y,x=(w=y==-b||y!=b&&c[Z-1]<c[Z+1]?c[Z+1]:c[Z-1]+1)-y;w<i&&x<r&&t.charAt(w)==e.charAt(x);)w++,x++;if(c[Z]=w,w>i)h+=2;else if(x>r)f+=2;else if(g&&(T=l+p-y)>=0&&T<s&&-1!=u[T]&&w>=(A=i-u[T]))return o(t,e,w,x)}for(var _=-b+v;_<=b-m;_+=2){for(var A,T=l+_,q=(A=_==-b||_!=b&&u[T-1]<u[T+1]?u[T+1]:u[T-1]+1)-_;A<i&&q<r&&t.charAt(i-A-1)==e.charAt(r-q-1);)A++,q++;if(u[T]=A,A>i)m+=2;else if(q>r)v+=2;else if(!g){var w;if((Z=l+p-_)>=0&&Z<s&&-1!=c[Z]&&(x=l+(w=c[Z])-Z,w>=(A=i-A)))return o(t,e,w,x)}}}return[[n,t],[1,e]]}(t,e)}(t=t.substring(0,t.length-u),e=e.substring(0,e.length-u));return d&&g.unshift([0,d]),p&&g.push([0,p]),l(g),null!=s&&(g=function(t,e){var i=function(t,e){if(0===e)return[0,t];for(var i=0,o=0;o<t.length;o++){var r=t[o];if(r[0]===n||0===r[0]){var a=i+r[1].length;if(e===a)return[o+1,t];if(e<a){t=t.slice();var l=e-i,s=[r[0],r[1].slice(0,l)],c=[r[0],r[1].slice(l)];return t.splice(o,1,s,c),[o+1,t]}i=a}}throw new Error("cursor_pos is out of bounds!")}(t,e),o=i[1],r=i[0],a=o[r],l=o[r+1];if(null==a)return t;if(0!==a[0])return t;if(null!=l&&a[1]+l[1]===l[1]+a[1])return o.splice(r,2,l,a),c(o,r,2);if(null!=l&&0===l[1].indexOf(a[1])){o.splice(r,2,[l[0],a[1]],[0,a[1]]);var s=l[1].slice(a[1].length);return s.length>0&&o.splice(r+2,0,[l[0],s]),c(o,r,3)}return t}(g,s)),function(t){for(var e=!1,i=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},o=function(t){return t.charCodeAt(t.length-1)>=55296&&t.charCodeAt(t.length-1)<=56319},r=2;r<t.length;r+=1)0===t[r-2][0]&&o(t[r-2][1])&&t[r-1][0]===n&&i(t[r-1][1])&&1===t[r][0]&&i(t[r][1])&&(e=!0,t[r-1][1]=t[r-2][1].slice(-1)+t[r-1][1],t[r][1]=t[r-2][1].slice(-1)+t[r][1],t[r-2][1]=t[r-2][1].slice(0,-1));if(!e)return t;var a=[];for(r=0;r<t.length;r+=1)t[r][1].length>0&&a.push(t[r]);return a}(g)}function o(t,e,n,o){var r=t.substring(0,n),a=e.substring(0,o),l=t.substring(n),s=e.substring(o),c=i(r,a),u=i(l,s);return c.concat(u)}function r(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,i=Math.min(t.length,e.length),o=i,r=0;n<o;)t.substring(r,o)==e.substring(r,o)?r=n=o:i=o,o=Math.floor((i-n)/2+n);return o}function a(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,i=Math.min(t.length,e.length),o=i,r=0;n<o;)t.substring(t.length-o,t.length-r)==e.substring(e.length-o,e.length-r)?r=n=o:i=o,o=Math.floor((i-n)/2+n);return o}function l(t){t.push([0,""]);for(var e,i=0,o=0,s=0,c="",u="";i<t.length;)switch(t[i][0]){case 1:s++,u+=t[i][1],i++;break;case n:o++,c+=t[i][1],i++;break;case 0:o+s>1?(0!==o&&0!==s&&(0!==(e=r(u,c))&&(i-o-s>0&&0==t[i-o-s-1][0]?t[i-o-s-1][1]+=u.substring(0,e):(t.splice(0,0,[0,u.substring(0,e)]),i++),u=u.substring(e),c=c.substring(e)),0!==(e=a(u,c))&&(t[i][1]=u.substring(u.length-e)+t[i][1],u=u.substring(0,u.length-e),c=c.substring(0,c.length-e))),0===o?t.splice(i-s,o+s,[1,u]):0===s?t.splice(i-o,o+s,[n,c]):t.splice(i-o-s,o+s,[n,c],[1,u]),i=i-o-s+(o?1:0)+(s?1:0)+1):0!==i&&0==t[i-1][0]?(t[i-1][1]+=t[i][1],t.splice(i,1)):i++,s=0,o=0,c="",u=""}""===t[t.length-1][1]&&t.pop();var d=!1;for(i=1;i<t.length-1;)0==t[i-1][0]&&0==t[i+1][0]&&(t[i][1].substring(t[i][1].length-t[i-1][1].length)==t[i-1][1]?(t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length),t[i+1][1]=t[i-1][1]+t[i+1][1],t.splice(i-1,1),d=!0):t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]&&(t[i-1][1]+=t[i+1][1],t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1],t.splice(i+1,1),d=!0)),i++;d&&l(t)}var s=i;function c(t,e,n){for(var i=e+n-1;i>=0&&i>=e-1;i--)if(i+1<t.length){var o=t[i],r=t[i+1];o[0]===r[1]&&t.splice(i,2,[o[0],o[1]+r[1]])}return t}s.INSERT=1,s.DELETE=n,s.EQUAL=0,t.exports=s},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?i:o).supported=i,e.unsupported=o},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,e,o=[];if(0===this._eventsCount)return o;for(e in t=this._events)n.call(t,e)&&o.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t,e){var n=this._events[i?i+t:t];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,a=new Array(r);o<r;o++)a[o]=n[o].fn;return a},a.prototype.emit=function(t,e,n,o,r,a){var l=i?i+t:t;if(!this._events[l])return!1;var s,c,u=this._events[l],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,o),!0;case 5:return u.fn.call(u.context,e,n,o,r),!0;case 6:return u.fn.call(u.context,e,n,o,r,a),!0}for(c=1,s=new Array(d-1);c<d;c++)s[c-1]=arguments[c];u.fn.apply(u.context,s)}else{var p,g=u.length;for(c=0;c<g;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,o);break;default:if(!s)for(p=1,s=new Array(d-1);p<d;p++)s[p-1]=arguments[p];u[c].fn.apply(u[c].context,s)}}return!0},a.prototype.on=function(t,e,n){var o=new r(e,n||this),a=i?i+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.once=function(t,e,n){var o=new r(e,n||this,!0),a=i?i+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.removeListener=function(t,e,n,r){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var l=this._events[a];if(l.fn)l.fn===e&&(!r||l.once)&&(!n||l.context===n)&&(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var s=0,c=[],u=l.length;s<u;s++)(l[s].fn!==e||r&&!l[s].once||n&&l[s].context!==n)&&c.push(l[s]);c.length?this._events[a]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},a.prototype.removeAllListeners=function(t){var e;return t?this._events[e=i?i+t:t]&&(0==--this._eventsCount?this._events=new o:delete this._events[e]):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,void 0!==t&&(t.exports=a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(s){o=!0,r=s}finally{try{!i&&l.return&&l.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=y(n(3)),l=y(n(2)),s=y(n(0)),c=y(n(5)),u=y(n(10)),d=y(n(9)),p=n(36),g=n(37),f=y(n(13)),h=n(26),v=n(38),m=n(39),b=n(40);function y(t){return t&&t.__esModule?t:{default:t}}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=(0,u.default)("quill:clipboard"),_="__ql-matcher",A=[[Node.TEXT_NODE,j],[Node.TEXT_NODE,N],["br",function(t,e){return S(e,"\n")||e.insert("\n"),e}],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,U],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,function(t,e){var n={},i=t.style||{};return i.fontStyle&&"italic"===O(t).fontStyle&&(n.italic=!0),i.fontWeight&&(O(t).fontWeight.startsWith("bold")||parseInt(O(t).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=C(e,n)),parseFloat(i.textIndent||0)>0&&(e=(new l.default).insert("\t").concat(e)),e}],["li",function(t,e){var n=s.default.query(t);if(null==n||"list-item"!==n.blotName||!S(e,"\n"))return e;for(var i=-1,o=t.parentNode;!o.classList.contains("ql-clipboard");)"list"===(s.default.query(o)||{}).blotName&&(i+=1),o=o.parentNode;return i<=0?e:e.compose((new l.default).retain(e.length()-1).retain(1,{indent:i}))}],["b",E.bind(E,"bold")],["i",E.bind(E,"italic")],["style",function(){return new l.default}]],T=[p.AlignAttribute,v.DirectionAttribute].reduce(function(t,e){return t[e.keyName]=e,t},{}),q=[p.AlignStyle,g.BackgroundStyle,h.ColorStyle,v.DirectionStyle,m.FontStyle,b.SizeStyle].reduce(function(t,e){return t[e.keyName]=e,t},{}),w=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],A.concat(i.options.matchers).forEach(function(t){var e=o(t,2),r=e[1];!n.matchVisual&&r===U||i.addMatcher(e[0],r)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[f.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new l.default).insert(n,Z({},f.default.blotName,e[f.default.blotName]))}var i=this.prepareMatching(),r=o(i,2),a=M(this.container,r[0],r[1]);return S(a,"\n")&&null==a.ops[a.ops.length-1].attributes&&(a=a.compose((new l.default).retain(a.length()-1).delete(1))),x.log("convert",this.container.innerHTML,a),this.container.innerHTML="",a}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,c.default.sources.SILENT);else{var i=this.convert(e);this.quill.updateContents((new l.default).retain(t).concat(i),n),this.quill.setSelection(t+i.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=(new l.default).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout(function(){i=i.concat(e.convert()).delete(n.length),e.quill.updateContents(i,c.default.sources.USER),e.quill.setSelection(i.length()-n.length,c.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=o,e.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach(function(i){var r=o(i,2),a=r[0],l=r[1];switch(a){case Node.TEXT_NODE:n.push(l);break;case Node.ELEMENT_NODE:e.push(l);break;default:[].forEach.call(t.container.querySelectorAll(a),function(t){t[_]=t[_]||[],t[_].push(l)})}}),[e,n]}}]),e}(d.default);function C(t,e,n){return"object"===(void 0===e?"undefined":i(e))?Object.keys(e).reduce(function(t,n){return C(t,n,e[n])},t):t.reduce(function(t,i){return i.attributes&&i.attributes[e]?t.push(i):t.insert(i.insert,(0,a.default)({},Z({},e,n),i.attributes))},new l.default)}function O(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};var e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function S(t,e){for(var n="",i=t.ops.length-1;i>=0&&n.length<e.length;--i){var o=t.ops[i];if("string"!=typeof o.insert)break;n=o.insert+n}return n.slice(-1*e.length)===e}function k(t){if(0===t.childNodes.length)return!1;var e=O(t);return["block","list-item"].indexOf(e.display)>-1}function M(t,e,n){return t.nodeType===t.TEXT_NODE?n.reduce(function(e,n){return n(t,e)},new l.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],function(i,o){var r=M(o,e,n);return o.nodeType===t.ELEMENT_NODE&&(r=e.reduce(function(t,e){return e(o,t)},r),r=(o[_]||[]).reduce(function(t,e){return e(o,t)},r)),i.concat(r)},new l.default):new l.default}function E(t,e,n){return C(n,t,!0)}function P(t,e){var n=s.default.Attributor.Attribute.keys(t),i=s.default.Attributor.Class.keys(t),o=s.default.Attributor.Style.keys(t),r={};return n.concat(i).concat(o).forEach(function(e){var n=s.default.query(e,s.default.Scope.ATTRIBUTE);null!=n&&(r[n.attrName]=n.value(t),r[n.attrName])||(null!=(n=T[e])&&(n.attrName===e||n.keyName===e)&&(r[n.attrName]=n.value(t)||void 0),null!=(n=q[e])&&(n.attrName===e||n.keyName===e)&&(r[(n=q[e]).attrName]=n.value(t)||void 0))}),Object.keys(r).length>0&&(e=C(e,r)),e}function I(t,e){var n=s.default.query(t);if(null==n)return e;if(n.prototype instanceof s.default.Embed){var i={},o=n.value(t);null!=o&&(i[n.blotName]=o,e=(new l.default).insert(i,n.formats(t)))}else"function"==typeof n.formats&&(e=C(e,n.blotName,n.formats(t)));return e}function N(t,e){return S(e,"\n")||(k(t)||e.length()>0&&t.nextSibling&&k(t.nextSibling))&&e.insert("\n"),e}function U(t,e){if(k(t)&&null!=t.nextElementSibling&&!S(e,"\n\n")){var n=t.offsetHeight+parseFloat(O(t).marginTop)+parseFloat(O(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function j(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!O(t.parentNode).whiteSpace.startsWith("pre")){var i=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==t.previousSibling&&k(t.parentNode)||null!=t.previousSibling&&k(t.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==t.nextSibling&&k(t.parentNode)||null!=t.nextSibling&&k(t.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return e.insert(n)}w.DEFAULTS={matchers:[],matchVisual:!0},e.default=w,e.matchAttributor=P,e.matchBlot=I,e.matchNewline=N,e.matchSpacing=U,e.matchText=j},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)};function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l,s=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}((l=n(6),l&&l.__esModule?l:{default:l}).default);s.blotName="bold",s.tagName=["STRONG","B"],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(s){o=!0,r=s}finally{try{!i&&l.return&&l.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=u(n(2)),a=u(n(0)),l=u(n(5)),s=u(n(10)),c=u(n(9));function u(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var p=(0,s.default)("quill:toolbar"),g=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o,r=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(r.options.container)){var a=document.createElement("div");h(a,r.options.container),t.container.parentNode.insertBefore(a,t.container),r.container=a}else r.container="string"==typeof r.options.container?document.querySelector(r.options.container):r.options.container;return r.container instanceof HTMLElement?(r.container.classList.add("ql-toolbar"),r.controls=[],r.handlers={},Object.keys(r.options.handlers).forEach(function(t){r.addHandler(t,r.options.handlers[t])}),[].forEach.call(r.container.querySelectorAll("button, select"),function(t){r.attach(t)}),r.quill.on(l.default.events.EDITOR_CHANGE,function(t,e){t===l.default.events.SELECTION_CHANGE&&r.update(e)}),r.quill.on(l.default.events.SCROLL_OPTIMIZE,function(){var t=r.quill.selection.getRange(),e=i(t,1);r.update(e[0])}),r):(o=p.error("Container required for toolbar",r.options),d(r,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,function(t){return 0===t.indexOf("ql-")});if(n){if(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void p.warn("ignoring attaching to disabled format",n,t);if(null==a.default.query(n))return void p.warn("ignoring attaching to nonexistent format",n,t)}t.addEventListener("SELECT"===t.tagName?"change":"click",function(o){var s=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var c=t.options[t.selectedIndex];s=!c.hasAttribute("selected")&&(c.value||!1)}else s=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),o.preventDefault();e.quill.focus();var u=e.quill.selection.getRange(),d=i(u,1)[0];if(null!=e.handlers[n])e.handlers[n].call(e,s);else if(a.default.query(n).prototype instanceof a.default.Embed){if(!(s=prompt("Enter "+n)))return;e.quill.updateContents((new r.default).retain(d.index).delete(d.length).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,s)),l.default.sources.USER)}else e.quill.format(n,s,l.default.sources.USER);e.update(d)}),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach(function(n){var o=i(n,2),r=o[0],a=o[1];if("SELECT"===a.tagName){var l=void 0;if(null==t)l=null;else if(null==e[r])l=a.querySelector("option[selected]");else if(!Array.isArray(e[r])){var s=e[r];"string"==typeof s&&(s=s.replace(/\"/g,'\\"')),l=a.querySelector('option[value="'+s+'"]')}null==l?(a.value="",a.selectedIndex=-1):l.selected=!0}else if(null==t)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var c=e[r]===a.getAttribute("value")||null!=e[r]&&e[r].toString()===a.getAttribute("value")||null==e[r]&&!a.getAttribute("value");a.classList.toggle("ql-active",c)}else a.classList.toggle("ql-active",null!=e[r])})}}]),e}(c.default);function f(t,e,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+e),null!=n&&(i.value=n),t.appendChild(i)}function h(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(function(t){if("string"==typeof t)f(n,t);else{var e=Object.keys(t)[0],i=t[e];Array.isArray(i)?function(t,e,n){var i=document.createElement("select");i.classList.add("ql-"+e),n.forEach(function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),i.appendChild(e)}),t.appendChild(i)}(n,e,i):f(n,e,i)}}),t.appendChild(n)})}g.DEFAULTS={},g.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(e){null!=a.default.query(e,a.default.Scope.INLINE)&&t.quill.format(e,!1)})}else this.quill.removeFormat(e,l.default.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",l.default.sources.USER):!t&&"right"===e&&this.quill.format("align",!1,l.default.sources.USER),this.quill.format("direction",t,l.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),i=parseInt(n.indent||0);if("+1"===t||"-1"===t){var o="+1"===t?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",i+o,l.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,l.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);this.quill.format("list","check"===t?"checked"!==n.list&&"unchecked"!==n.list&&"unchecked":t,l.default.sources.USER)}}},e.default=g,e.addControls=h},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(t){t.classList.add("ql-primary")}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"buildItem",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var i=this.label.querySelector(".ql-color-label"),o=t&&t.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=o:i.style.fill=o)}}]),e}((i=n(28),i&&i.__esModule?i:{default:i}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),function(t){t.innerHTML=n[t.getAttribute("data-value")||""]}),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"selectItem",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),this.label.innerHTML=(t=t||this.defaultItem).innerHTML}}]),e}((i=n(28),i&&i.__esModule?i:{default:i}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n){var i=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"}),this.hide()}return i(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),r=0;return o.right>i.right&&(this.root.style.left=e+(r=i.right-o.right)+"px"),o.left<i.left&&(this.root.style.left=e+(r=i.left-o.left)+"px"),o.bottom>i.bottom&&(this.root.style.top=n-(t.bottom-t.top+(o.bottom-o.top))+"px",this.root.classList.add("ql-flip")),r}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=p(n(3)),a=p(n(8)),l=n(43),s=p(l),c=p(n(27)),u=n(15),d=p(n(41));function p(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],m=function(t){function e(t,n){g(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=v);var i=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.container.classList.add("ql-snow"),i}return h(e,t),o(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),d.default),this.tooltip=new b(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(e,n){t.handlers.link.call(t,!n.format.link)})}}]),e}(s.default);m.DEFAULTS=(0,r.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var b=function(t){function e(t,n){g(this,e);var i=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.preview=i.root.querySelector("a.ql-preview"),i}return h(e,t),o(e,[{key:"listen",value:function(){var t=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,a.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()}),this.quill.on(a.default.events.SELECTION_CHANGE,function(e,n,i){if(null!=e){if(0===e.length&&i===a.default.sources.USER){var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done)&&(n.push(l.value),!e||n.length!==e);i=!0);}catch(r){o=!0,a=r}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(t.quill.scroll.descendant(c.default,e.index),2),r=o[0];if(null!=r){t.linkRange=new u.Range(e.index-o[1],r.length());var l=c.default.formats(r.domNode);return t.preview.textContent=l,t.preview.setAttribute("href",l),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}})}},{key:"show",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}(l.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=N(n(29)),o=n(36),r=n(38),a=n(64),l=N(n(65)),s=N(n(66)),c=n(67),u=N(c),d=n(37),p=n(26),g=n(39),f=n(40),h=N(n(56)),v=N(n(68)),m=N(n(27)),b=N(n(69)),y=N(n(70)),Z=N(n(71)),x=N(n(72)),_=N(n(73)),A=n(13),T=N(A),q=N(n(74)),w=N(n(75)),C=N(n(57)),O=N(n(41)),S=N(n(28)),k=N(n(59)),M=N(n(60)),E=N(n(61)),P=N(n(108)),I=N(n(62));function N(t){return t&&t.__esModule?t:{default:t}}i.default.register({"attributors/attribute/direction":r.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":r.DirectionClass,"attributors/class/font":g.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":r.DirectionStyle,"attributors/style/font":g.FontStyle,"attributors/style/size":f.SizeStyle},!0),i.default.register({"formats/align":o.AlignClass,"formats/direction":r.DirectionClass,"formats/indent":a.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":g.FontClass,"formats/size":f.SizeClass,"formats/blockquote":l.default,"formats/code-block":T.default,"formats/header":s.default,"formats/list":u.default,"formats/bold":h.default,"formats/code":A.Code,"formats/italic":v.default,"formats/link":m.default,"formats/script":b.default,"formats/strike":y.default,"formats/underline":Z.default,"formats/image":x.default,"formats/video":_.default,"formats/list/item":c.ListItem,"modules/formula":q.default,"modules/syntax":w.default,"modules/toolbar":C.default,"themes/bubble":P.default,"themes/snow":I.default,"ui/icons":O.default,"ui/picker":S.default,"ui/icon-picker":M.default,"ui/color-picker":k.default,"ui/tooltip":E.default},!0),e.default=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},a=(i=n(0))&&i.__esModule?i:{default:i};function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=new(function(t){function e(){return l(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var i=this.value(t)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(t),!0):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}(a.default.Attributor.Class))("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=c},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var r,a=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}((r=n(4),r&&r.__esModule?r:{default:r}).default);a.blotName="blockquote",a.tagName="blockquote",e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var a,l=function(t){function e(){return o(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}((a=n(4),a&&a.__esModule?a:{default:a}).default);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"],e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},r=s(n(0)),a=s(n(4)),l=s(n(25));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),i(e,[{key:"format",value:function(t,n){t!==g.blotName||n?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(r.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:o(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}(a.default);p.blotName="list-item",p.tagName="LI";var g=function(t){function e(t){c(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i=function(e){if(e.target.parentNode===t){var i=n.statics.formats(t),o=r.default.find(e.target);"checked"===i?o.format("list","unchecked"):"unchecked"===i&&o.format("list","checked")}};return t.addEventListener("touchstart",i),t.addEventListener("mousedown",i),n}return d(e,t),i(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",i=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return("checked"===t||"unchecked"===t)&&i.setAttribute("data-checked","checked"===t),i}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),i(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(t,n){if(t instanceof p)o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var i=null==n?this.length():n.offset(this),r=this.split(i);r.parent.insertBefore(t,r)}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=r.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}(l.default);g.blotName="list",g.scope=r.default.Scope.BLOCK_BLOT,g.tagName=["OL","UL"],g.defaultChild="list-item",g.allowedChildren=[p],e.ListItem=p,e.default=g},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var r,a=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}((r=n(56),r&&r.__esModule?r:{default:r}).default);a.blotName="italic",a.tagName=["EM","I"],e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)};function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l,s=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}((l=n(6),l&&l.__esModule?l:{default:l}).default);s.blotName="script",s.tagName=["SUB","SUP"],e.default=s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var r,a=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}((r=n(6),r&&r.__esModule?r:{default:r}).default);a.blotName="strike",a.tagName="S",e.default=a},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var r,a=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}((r=n(6),r&&r.__esModule?r:{default:r}).default);a.blotName="underline",a.tagName="U",e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},a=(i=n(0))&&i.__esModule?i:{default:i},l=n(27);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=["alt","height","width"],d=function(t){function e(){return s(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"format",value:function(t,n){u.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return u.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,l.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(a.default.Embed);d.blotName="image",d.tagName="IMG",e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},a=n(4),l=(i=n(27))&&i.__esModule?i:{default:i};function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=["height","width"],d=function(t){function e(){return s(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"format",value:function(t,n){u.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return u.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"sanitize",value:function(t){return l.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(a.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},r=s(n(35)),a=s(n(5)),l=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),i(e,null,[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(r.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var g=function(t){function e(){c(this,e);var t=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return d(e,t),i(e,null,[{key:"register",value:function(){a.default.register(p,!0)}}]),e}(l.default);e.FormulaBlot=p,e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},r=s(n(0)),a=s(n(5)),l=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),i(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}(s(n(13)).default);p.className="ql-syntax";var g=new r.default.Attributor.Class("token","hljs",{scope:r.default.Scope.INLINE}),f=function(t){function e(t,n){c(this,e);var i=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!=typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return i.quill.on(a.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(o),o=setTimeout(function(){i.highlight(),o=null},i.options.interval)}),i.highlight(),i}return d(e,t),i(e,null,[{key:"register",value:function(){a.default.register(g,!0),a.default.register(p,!0)}}]),i(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(a.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(p).forEach(function(e){e.highlight(t.options.highlight)}),this.quill.update(a.default.sources.SILENT),null!=e&&this.quill.setSelection(e,a.default.sources.SILENT)}}}]),e}(l.default);f.DEFAULTS={highlight:null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value},interval:1e3},e.CodeBlock=p,e.CodeToken=g,e.default=f},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var i=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=d(n(3)),a=d(n(8)),l=n(43),s=d(l),c=n(15),u=d(n(41));function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],v=function(t){function e(t,n){p(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=h);var i=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.container.classList.add("ql-bubble"),i}return f(e,t),o(e,[{key:"extendToolbar",value:function(t){this.tooltip=new m(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),u.default)}}]),e}(s.default);v.DEFAULTS=(0,r.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var m=function(t){function e(t,n){p(this,e);var i=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.on(a.default.events.EDITOR_CHANGE,function(t,e,n,o){if(t===a.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&o===a.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var r=i.quill.getLines(e.index,e.length);if(1===r.length)i.position(i.quill.getBounds(e));else{var l=r[r.length-1],s=i.quill.getIndex(l),u=Math.min(l.length()-1,e.index+e.length-s),d=i.quill.getBounds(new c.Range(s,u));i.position(d)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()}),i}return f(e,t),o(e,[{key:"listen",value:function(){var t=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){t.root.classList.remove("ql-editing")}),this.quill.on(a.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===n)return n;o.style.marginLeft=-1*n-o.offsetWidth/2+"px"}}]),e}(l.BaseTooltip);m.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=m,e.default=v},function(t,e,n){t.exports=n(63)}]).default},60943:function(t,e,n){"use strict";n.d(e,{P:function(){return l}});var i,r=n(37716),l=((i=function(){function t(){o(this,t)}return a(t,[{key:"transform",value:function(t){if(void 0===t)return t;var e;switch(String(t)){case"IPS":e="Intrusion";break;case"AV":e="Virus";break;case"WG":e="Web Threat"}return e}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275pipe=r.Yjl({name:"alertType",type:i,pure:!0}),i)},35132:function(t,e,n){"use strict";n.d(e,{q:function(){return l}});var i,r=n(37716),l=((i=function(){function t(){o(this,t)}return a(t,[{key:"transform",value:function(t){if(void 0===t)return t;var e;switch(String(t)){case"0":e="Other";break;case"1":e="Phone";break;case"2":e="Computer";break;case"3":e="Console";break;case"4":e="Media player";break;case"5":e="Printer";break;case"6":e="Television";break;case"7":e="Network";break;case"8":e="Camera";break;case"9":e="Tablet";break;case"10":e="VoIP";break;case"11":e="IoT"}return e}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275pipe=r.Yjl({name:"catogry",type:i,pure:!0}),i)},86911:function(t,e,n){"use strict";n.d(e,{g:function(){return l}});var i,r=n(37716),l=((i=function(){function t(){o(this,t)}return a(t,[{key:"transform",value:function(t){if(void 0===t)return t;var e;switch(String(t)){case"0":e="../../../../assets/img/question_mark_blue_icon.png";break;case"1":e="../../../../assets/img/phone_blue_icon.png";break;case"2":e="../../../../assets/img/computer_blue_icon.png";break;case"3":e="../../../../assets/img/console_blue_icon.png";break;case"4":e="../../../../assets/img/media_player_blue_icon.png";break;case"5":e="../../../../assets/img/printer_blue_icon.png";break;case"6":e="../../../../assets/img/television_blue_icon.png";break;case"7":e="../../../../assets/img/network_blue_icon.png";break;case"8":e="../../../../assets/img/camera_blue_icon.png";break;case"9":e="../../../../assets/img/tablet_blue_icon.png";break;case"10":e="../../../../assets/img/voip_blue.png";break;case"11":e="../../../../assets/img/iot_blue.png"}return e}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275pipe=r.Yjl({name:"catogryImg",type:i,pure:!0}),i)},27351:function(t,n,i){"use strict";i.d(n,{a:function(){return h}});var r,l=i(26215),s=i(79765),c=i(40205),u=i(5304),d=i(92340),p=i(37716),g=i(91841),f=i(89097),h=((r=function(){function t(e,n){o(this,t),this.http=e,this.Sso=n,this.routerOnboardInfo=new l.X({}),this.currentAvailabilityInfo=new l.X({}),this.availabilityInfo=new s.xQ,this.subscribtionStatus=new s.xQ}return a(t,[{key:"getNotification",value:function(t){return this.http.get("".concat(d.N.SUPPORT_URL,"/security/proof/notification?userId=").concat(t)).pipe((0,u.K)(this.handleError))}},{key:"getSecurityList",value:function(t){return this.http.get("".concat(d.N.SUPPORT_URL,"/security/settings/list?userId=").concat(t)).pipe((0,u.K)(this.handleError))}},{key:"getAlerts",value:function(t,e){return this.http.get("".concat(d.N.SUPPORT_URL,"/notification/iq?userId=").concat(t,"&iqType=protectIQ").concat("All"==e?"":"&type="+e),{observe:"response"}).pipe((0,u.K)(this.handleError))}},{key:"setSecuritySettings",value:function(t){return this.http.post("".concat(d.N.SUPPORT_URL,"/security/settings/set"),t).pipe((0,u.K)(this.handleError))}},{key:"addWhitelistDetails",value:function(t){return this.http.post("".concat(d.N.SUPPORT_URL,"/security/log/whitelist/add"),t).pipe((0,u.K)(this.handleError))}},{key:"getTrustList",value:function(t,e,n,i){var o;return o=""==t||"All"==t?n?"".concat(d.N.SUPPORT_URL,"/security/").concat("primary-network"==n?"":"rolepolicy/","log/whitelist?userId=").concat(e).concat("primary-network"==n?"":i?"&roleId="+i:""):"".concat(d.N.SUPPORT_URL,"/security/log/whitelist?userId=").concat(e):n?"".concat(d.N.SUPPORT_URL,"/security/").concat("primary-network"==n?"":"rolepolicy/","log/whitelist?userId=").concat(e,"&type=").concat(t).concat("primary-network"==n?"":i?"&roleId="+i:""):"".concat(d.N.SUPPORT_URL,"/security/log/whitelist?userId=").concat(e,"&type=").concat(t),this.http.get(o,{observe:"response"}).pipe((0,u.K)(this.handleError))}},{key:"removeItemInTrustList",value:function(t,e,n,i){return n?this.http.delete("".concat(d.N.SUPPORT_URL,"/security/log/whitelist/remove?userId=").concat(e,"&roleId=1&signatureId=").concat(t)).pipe((0,u.K)(this.handleError)):this.http.delete("".concat(d.N.SUPPORT_URL,"/security/log/whitelist/remove?userId=").concat(e,"&signatureId=").concat(t)).pipe((0,u.K)(this.handleError))}},{key:"getSkipList",value:function(t){return this.http.get("".concat(d.N.SUPPORT_URL,"/security/skip/station/list?userId=").concat(t)).pipe((0,u.K)(this.handleError))}},{key:"updateSkipStatus",value:function(t){return this.http.post("".concat(d.N.SUPPORT_URL,"/security/skip/station/set"),t).pipe((0,u.K)(this.handleError))}},{key:"setAllSkipStatus",value:function(t){return this.http.post("".concat(d.N.SUPPORT_URL,"/security/skip/station/set/all"),t).pipe((0,u.K)(this.handleError))}},{key:"getUserId",value:function(t){return this.http.get("".concat(d.N.SUPPORT_URL,"/router/onboarded?sn=").concat(t)).pipe((0,u.K)(this.handleError))}},{key:"getFeatureAvailability",value:function(t){return this.http.get("".concat(d.N.SUPPORT_URL,"/feature/availability?userId=").concat(t)).pipe((0,u.K)(this.handleError))}},{key:"getDeviceStatus",value:function(t,e){return this.http.get("".concat(d.N.SUPPORT_URL,"/device/app/status?fsn=").concat(t,"&appName=").concat(e)).pipe((0,u.K)(this.handleError))}},{key:"setInstall",value:function(t){return this.http.post("".concat(d.N.SUPPORT_URL,"/device/app/install"),t).pipe((0,u.K)(this.handleError))}},{key:"setUnInstall",value:function(t){return this.http.post("".concat(d.N.SUPPORT_URL,"/device/app/uninstall"),t).pipe((0,u.K)(this.handleError))}},{key:"setEnabled",value:function(t){return this.http.post("".concat(d.N.SUPPORT_URL,"/app/enablement/enable"),t).pipe((0,u.K)(this.handleError))}},{key:"setUnEnabled",value:function(t){return this.http.post("".concat(d.N.SUPPORT_URL,"/app/enablement/disable"),t).pipe((0,u.K)(this.handleError))}},{key:"handleError",value:function(t){return(0,c._)(t)}},{key:"subscribeStatus",value:function(t,e,n){var i=this.Sso.getOrg(t);n=n||"";var o="".concat(d.N.SUPPORT_URL,"/device/appServices/").concat(e,"?").concat(i,"subscriberLocationId=").concat(encodeURIComponent(n));return this.http.get(o)}},{key:"subscribeStatuswithoutsubscriber",value:function(t,e){var n=this.Sso.getOrg(t);return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems?").concat(n,"systemId=").concat(e,"&includeEnabledStatus=true"))}},{key:"toggleAppSubscriptionwithoutsubscriber",value:function(t,e,n){var i=this.Sso.getOrg(t);return this.http.put("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/edge-suites?").concat(i,"systemId=").concat(e),n)}},{key:"toggleAppSubscription",value:function(t,e,n,i){n=n||"";var o="/device/appServices/".concat(e,"?").concat(this.Sso.getOrg(t),"subscriberLocationId=").concat(encodeURIComponent(n));return this.http.put("".concat(d.N.SUPPORT_URL).concat(o),{subscribe:i})}},{key:"tileStatus",value:function(t,e,n){var i=this.Sso.getOrg(t);return this.http.get("".concat(d.N.SUPPORT_URL,"/device/suites/summary?").concat(i,"serialNumber=").concat(e,"&subscriberId=").concat(n))}},{key:"getArloAccount",value:function(t,e,n){var i=this.Sso.getOrg(t);return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems?").concat(i).concat(1==n?"systemId=".concat(e):"subscriberId=".concat(e),"&includeEnabledStatus=true"))}},{key:"getArloOverallStatus",value:function(){return this.http.get("".concat(d.N.SUPPORT_URL,"/partner/feature/arlo/health"))}},{key:"getArloDevice",value:function(t){return this.http.get("".concat(d.N.SUPPORT_URL,"/partner/feature/arlo/devices?userId=").concat(t))}},{key:"updateArloDevice",value:function(t){return this.http.get("".concat(d.N.SUPPORT_URL,"/partner/feature/arlo/device/health?deviceId=").concat(t))}},{key:"updateArloPostDevice",value:function(t){return this.http.post("".concat(d.N.SUPPORT_URL,"/partner/feature/arlo/device/health"),{deviceId:t})}},{key:"setEnableStatus",value:function(t,e,n){var i=this.Sso.getOrg(t);return this.http.put("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/edge-suites/iq-suites/container?").concat(i,"systemId=").concat(e),n)}},{key:"getUserEmail",value:function(t){return this.http.get("".concat(d.N.API_BASE_URL,"/admin/user/").concat(t)).pipe((0,u.K)(this.handleError))}},{key:"sendEmail",value:function(t){var n=e(t,4),i=n[0],o=n[1],r=n[2],a=n[3];return this.http.post("".concat(d.N.SUPPORT_URL,"/filemanage/email"),{to:i,subject:o,content:r,replyTo:a}).pipe((0,u.K)(this.handleError))}},{key:"pageErrorHandle",value:function(t){var e,n,i;return"string"==typeof t&&t?t:"undefined"!=(i=(null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.errorDesc)?"".concat(null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.errorDesc):null!=t.error&&null!=t.error&&"string"==typeof t.error?"".concat(t.error):null!=t.error&&"object"==typeof t.error&&null!=t.error.error&&"string"==typeof t.error.error?"".concat(t.error.error):null!=t.error&&"object"==typeof t.error&&null!=t.error.fault&&"string"==typeof t.error.fault?"".concat(t.error.fault):null!=t.error&&"object"==typeof t.error&&null!=t.error.fault&&"object"==typeof t.error.fault&&null!=t.error.fault.faultstring&&"string"==typeof t.error.fault.faultstring?"".concat(t.error.fault.faultstring):t.error&&t.error.errorMessage?t.error.errorMessage:"Unknown Error"==t.statusText&&"0"==t.status?"An unknown error has occurred. Refresh the page to try again":null!=t.error?"".concat(t.error.message):"".concat(t.message))&&i.length?i:Object.values(this.flatten(t)).join(" - ")}},{key:"traverseAndFlatten",value:function(t,e,n){for(var i in t)if(t.hasOwnProperty(i)){var o;o=void 0===n?i:n+"."+i;var r=t[i];"object"==typeof r?this.traverseAndFlatten(r,e,o):e[o]=r}}},{key:"flatten",value:function(t){var e={};try{this.traverseAndFlatten(t,e)}catch(n){e={}}return e}},{key:"getdevices",value:function(t,e){var n=this.Sso.getOrg(e);return this.http.get(d.N.SUPPORT_URL+"/device/client/all?".concat(n,"serialNumber=").concat(t)).pipe((0,u.K)(this.handleError))}},{key:"getSecurityListByRole",value:function(t,e){return this.http.get("".concat(d.N.SUPPORT_URL,"/security/rolepolicy/settings/list?userId=").concat(t,"&roleId=").concat(e)).pipe((0,u.K)(this.handleError))}},{key:"setSecuritySettingsByRole",value:function(t){return this.http.post("".concat(d.N.SUPPORT_URL,"/security/rolepolicy/setting/set"),t).pipe((0,u.K)(this.handleError))}},{key:"errorHandler",value:function(t){return 401===(null==t?void 0:t.status)?"Access Denied":504===(null==t?void 0:t.status)?"This alert is already trusted and requires no further action.":(null==t?void 0:t.status)?this.Sso.pageErrorHandle(t):void 0}}]),t}()).\u0275fac=function(t){return new(t||r)(p.LFG(g.eN),p.LFG(f.t6))},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},32610:function(n,i,r){"use strict";r.r(i),r.d(i,{SupportApplicationModule:function(){return Gi}});var l=r(38583),s=r(65681),c=r(23771),u=r(39895),d=r(92340),p=r(35758),g=r(37716),f=r(7450),h=r(89097),v=r(94802),m=r(91841),b=r(67798),y=r(27351),Z=r(4350);function x(t,e){if(1&t&&(g.TgZ(0,"div",4),g.TgZ(1,"div",5),g.TgZ(2,"div",6),g.TgZ(3,"span",7),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(4),g.Oqu(n.language.Loading)}}function _(t,e){if(1&t&&(g.TgZ(0,"div",15),g.TgZ(1,"span",16),g._uU(2),g.qZA(),g.qZA()),2&t){var n=g.oxw(3);g.xp6(2),g.Oqu(null!=n.customAppName&&n.customAppName.ProtectIQ_Name?null==n.customAppName?null:n.customAppName.ProtectIQ_Name:n.language.Protect_IQ)}}var A=function(){return["./protect-iq"]};function T(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"li",12),g.TgZ(1,"a",13),g.NdJ("click",function(){return g.CHM(n),g.oxw(2).setActiveTab("protectIQ")}),g._uU(2),g.YNc(3,_,3,1,"div",14),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(1),g.Q6J("routerLink",g.DdM(3,A)),g.xp6(1),g.hij(" ",i.language.Security," "),g.xp6(1),g.Q6J("ngIf",!i.ssoService.isSmbEnabled(!1,!0))}}function q(t,e){if(1&t&&(g.TgZ(0,"div",15),g.TgZ(1,"span",16),g._uU(2),g.qZA(),g.qZA()),2&t){var n=g.oxw(3);g.xp6(2),g.Oqu(null!=n.customAppName&&n.customAppName.ExperienceIQ_Name?null==n.customAppName?null:n.customAppName.ExperienceIQ_Name:n.language.Experience_IQ)}}var w=function(){return["./experienceIQ"]};function C(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"li",12),g.TgZ(1,"a",17),g.NdJ("click",function(){return g.CHM(n),g.oxw(2).setActiveTab("experienceIQ")}),g._uU(2),g.YNc(3,q,3,1,"div",14),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(1),g.Q6J("routerLink",g.DdM(3,w)),g.xp6(1),g.hij(" ",i.language.Restrictions," "),g.xp6(1),g.Q6J("ngIf",!i.ssoService.isSmbEnabled(!1,!0))}}var O=function(){return["./smartbiz"]};function S(t,e){if(1&t&&(g.TgZ(0,"li",12),g.TgZ(1,"a",18),g._uU(2),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.Q6J("routerLink",g.DdM(2,O)),g.xp6(1),g.hij(" ",n.language.SmartBiz," ")}}var k=function(){return["./arlo-smart"]};function M(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"li",12),g.TgZ(1,"a",19),g.NdJ("click",function(){return g.CHM(n),g.oxw(2).setActiveTab("arlo-smart")}),g._uU(2),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(1),g.Q6J("routerLink",g.DdM(2,k)),g.xp6(1),g.hij(" ",i.language.Arlo_Secure," ")}}var E=function(){return["./servify-care"]};function P(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"li",12),g.TgZ(1,"a",20),g.NdJ("click",function(){return g.CHM(n),g.oxw(2).setActiveTab("servify-care")}),g._uU(2),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(1),g.Q6J("routerLink",g.DdM(2,E)),g.xp6(1),g.hij(" ",i.language.ServifyCare," ")}}var I=function(){return["./SmartTownWiFi"]};function N(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"li",12),g.TgZ(1,"a",21),g.NdJ("click",function(){return g.CHM(n),g.oxw(2).setActiveTab("MyCommunityIQ")}),g._uU(2),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(1),g.Q6J("routerLink",g.DdM(2,I)),g.xp6(1),g.hij(" ",i.language.myCommunityIQ," ")}}var U=function(){return["./bark"]};function j(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"li",12),g.TgZ(1,"a",21),g.NdJ("click",function(){return g.CHM(n),g.oxw(2).setActiveTab("bark")}),g._uU(2),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(1),g.Q6J("routerLink",g.DdM(2,U)),g.xp6(1),g.hij(" ",i.language.Bark," ")}}var D=function(){return["218"]},L=function(){return["206","212","213"]},R=function(){return["207","215","216","217"]},F=function(){return["214"]},H=function(){return["219","220"]};function J(t,e){if(1&t&&(g.TgZ(0,"div",8),g.TgZ(1,"div",9),g.TgZ(2,"ul",10),g.YNc(3,T,4,4,"li",11),g.YNc(4,C,4,4,"li",11),g.YNc(5,S,3,3,"li",11),g.YNc(6,M,3,3,"li",11),g.YNc(7,P,3,3,"li",11),g.YNc(8,N,3,3,"li",11),g.YNc(9,j,3,3,"li",11),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(3),g.Q6J("ngIf",(n.ssoService.getEntitlementsArr().indexOf("203")>-1||n.ssoService.getEntitlementsArr().indexOf("205")>-1||n.ssoService.getEntitlementsArr().includes("218")&&n.ssoService.isSmbEnabled())&&n.scopeFlag.protectiq&&n.containGS),g.xp6(1),g.Q6J("ngIf",(n.ssoService.getEntitlementsArr().indexOf("204")>-1||n.ssoService.getEntitlementsArr().indexOf("205")>-1||n.ssoService.getEntitlementsArr().includes("218")&&n.ssoService.isSmbEnabled())&&n.scopeFlag.experienceiq&&n.containGS),g.xp6(1),g.Q6J("ngIf",n.isSmbEnabled()&&n.isSectionAvailable("isSmartBiz",g.DdM(7,D))),g.xp6(1),g.Q6J("ngIf",n.isSectionAvailable("isArlo",g.DdM(8,L))&&n.scopeFlag.arlo),g.xp6(1),g.Q6J("ngIf",n.scopeFlag.servify&&n.isSectionAvailable("isServify",g.DdM(9,R))),g.xp6(1),g.Q6J("ngIf",n.scopeFlag.mycommunityiq&&n.isSectionAvailable("isMyComm",g.DdM(10,F))),g.xp6(1),g.Q6J("ngIf",n.scopeFlag.bark&&n.isSectionAvailable("isBark",g.DdM(11,H)))}}function Q(t,e){1&t&&g._UZ(0,"router-outlet")}var B,Y=((B=function(){function t(e,n,i,r,a,l,s){o(this,t),this.translateService=e,this.ssoService=n,this.dataService=i,this.router=r,this.http=a,this.service=l,this.protectIqService=s,this.scopeFlag={},this.containGS=0,this.hasSubscriber=!1,this.loader=!1,this.customAppName={},this.tabSelection()}return a(t,[{key:"ngOnInit",value:function(){var t=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){t.language=e}),this.getScopes(),this.getEiq_PiqActiveStatus(),this.apiCallDone=!0;var e=0;this.loader=!0;var n=setInterval(function(){e++,"isLoaded"==sessionStorage.getItem("overviewStatus")?(t.showTab(),t.loader=!1,clearInterval(n)):200==e&&(t.loader=!1,clearInterval(n))},200)}},{key:"showTab",value:function(){var t,e,n,i=this,o=JSON.parse(sessionStorage.getItem("calix.deviceData")),r=o.filter(function(t){return"RG"==t.opMode&&t.hasOwnProperty("modelName")&&i.ssoService.acceptGSModel(t.modelName)});r=r.length?r:o.map(function(t){return t.deviceId}).includes(sessionStorage.getItem("undiscoveredSn"))?[{deviceId:sessionStorage.getItem("undiscoveredSn")}]:[],this.containGS=parseInt((null===(t=history.state)||void 0===t?void 0:t.containGS)||"0")||r.length,this.hasSubscriber=(null===(e=history.state)||void 0===e?void 0:e.hasSubscriber)||sessionStorage.getItem("calix.subscriberId")&&"undefined"!=sessionStorage.getItem("calix.subscriberId"),(null===(n=history.state)||void 0===n?void 0:n.iseiqfromissue)?(this.router.navigate(["/support/application/experienceIQ"],{state:{ispriorities:!0}}),this.setActiveTab("experienceIQ")):(this.ssoService.getEntitlementsArr().includes("203")||this.ssoService.getEntitlementsArr().includes("205")||this.ssoService.getEntitlementsArr().includes("218")&&this.ssoService.isSmbEnabled())&&this.scopeFlag.protectiq&&this.containGS?(this.router.navigate(["/support/application/protect-iq"]),this.setActiveTab("protect-iq")):(this.ssoService.getEntitlementsArr().includes("204")||this.ssoService.getEntitlementsArr().includes("205")||this.ssoService.getEntitlementsArr().includes("218")&&this.ssoService.isSmbEnabled())&&this.scopeFlag.experienceiq&&this.containGS?(this.router.navigate(["/support/application/experienceIQ"]),this.setActiveTab("experienceIQ")):(this.ssoService.getEntitlementsArr().includes("206")||this.ssoService.getEntitlementsArr().includes("213")||this.ssoService.getEntitlementsArr().includes("212"))&&this.isSectionAvailable("isArlo")&&this.scopeFlag.arlo?(this.router.navigate(["/support/application/arlo-smart"]),this.setActiveTab("arlo-smart")):this.ssoService.getEntitlementsArr().includes("207")&&this.scopeFlag.servify&&this.isSectionAvailable("isServify")?(this.router.navigate(["/support/application/servify-care"]),this.setActiveTab("servify-care")):this.ssoService.getEntitlementsArr().includes("214")&&this.scopeFlag.mycommunityiq&&this.isSectionAvailable("isMyComm")?(this.router.navigate(["/support/application/SmartTownWiFi"]),this.setActiveTab("MyCommunityIQ")):(this.ssoService.getEntitlementsArr().includes("219")||this.ssoService.getEntitlementsArr().includes("220"))&&this.scopeFlag.bark&&this.isSectionAvailable("isBark")?(this.router.navigate(["/support/application/bark"]),this.setActiveTab("bark")):this.isCaptivePortAvail()&&this.ssoService.getEntitlementsArr().includes("218")&&this.router.navigate(["/support/application/customer-portal"])}},{key:"isCaptivePortAvail",value:function(){for(var t=0,e=0;e<=15;e++){if(this.dataService.getStoredSubscriberInfo()){t=this.ssoService.isSmbEnabled()?1:0;break}this.ssoService.sleep(1e3)}return t}},{key:"tabSelection",value:function(){this.router.url.includes("protect-iq")?this.setActiveTab("protect-iq"):this.router.url.includes("experienceIQ")?this.setActiveTab("experienceIQ"):this.router.url.includes("arlo-smart")?this.setActiveTab("arlo-smart"):this.router.url.includes("servify-care")?(this.router.navigate(["/support/application/servify-care"]),this.setActiveTab("servify-care")):this.router.url.includes("SmartTownWiFi")?(this.router.navigate(["/support/application/SmartTownWiFi"]),this.setActiveTab("MyCommunityIQ")):this.router.url.includes("bark")&&(this.router.navigate(["/support/application/bark"]),this.setActiveTab("bark"))}},{key:"getScopes",value:function(){var t=this.ssoService.getScopes();if(d.N.VALIDATE_SCOPE){var e=Object.keys(t);if(e)for(var n=0;n<e.length;n++)-1!==e[n].indexOf("cloud.rbac.csc.apps.experienceiq")&&t["cloud.rbac.csc.apps.experienceiq.configuration"]?this.scopeFlag.experienceiq=!0:-1!==e[n].indexOf("cloud.rbac.csc.apps.protectiq")&&t["cloud.rbac.csc.apps.protectiq.configuration"]?this.scopeFlag.protectiq=!0:-1===e[n].indexOf("cloud.rbac.csc.apps.arlo")?-1===e[n].indexOf("cloud.rbac.csc.apps.servify")?-1===e[n].indexOf("cloud.rbac.csc.apps.mycommunityiq")?-1===e[n].indexOf("cloud.rbac.csc.apps.bark")||(this.scopeFlag.bark=!0):this.scopeFlag.mycommunityiq=!0:this.scopeFlag.servify=!0:this.scopeFlag.arlo=!0}else this.scopeFlag.experienceiq=!0,this.scopeFlag.protectiq=!0,this.scopeFlag.arlo=!0,this.scopeFlag.servify=!0,this.scopeFlag.mycommunityiq=!0,this.scopeFlag.bark=!0}},{key:"setActiveTab",value:function(t){this.activeTab=t}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe(),this.getEIQandPIQNameAPI&&this.getEIQandPIQNameAPI.unsubscribe(),this.protectIqService.currentAvailabilityInfo&&this.protectIqService.currentAvailabilityInfo.next({})}},{key:"onPopState",value:function(t){this.tabSelection(),(!this.containGS||!this.hasSubscriber)&&history.go(-2)}},{key:"isSectionAvailable",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=n.filter(function(t){return e.ssoService.getEntitlementsArr().includes(t)}).length;return $("#applicationTabId").attr(t)&&(!n.length||i)}},{key:"isSmbEnabled",value:function(){var t=JSON.parse(sessionStorage.getItem("calix.subscriberInfo"));return((null==t?void 0:t.devices)||[]).filter(function(t){return t.bSmbMode}).length&&(null==t?void 0:t.isSmbOnboarded)}},{key:"getEiq_PiqActiveStatus",value:function(){var t=this,e=JSON.parse(sessionStorage.getItem("calix.subscriberInfo"));((null==e?void 0:e.devices)||[]).filter(function(t){return t.bSmbMode}).length>0||(this.spId=this.ssoService.getSPID(),this.service.whiteLabellist(this.spId).subscribe(function(e){var n;(null===(n=null==e?void 0:e.body)||void 0===n?void 0:n.isActive)&&t.getEIQandPIQName()}))}},{key:"getEIQandPIQName",value:function(){var t=this;this.spId=this.ssoService.getSPID();var n=[];n.push(this.http.get("".concat(d.N.apiHost,"/admin/application/custom/name?spid=").concat(this.spId,"&appName=CIES")).pipe(),this.http.get("".concat(d.N.apiHost,"/admin/application/custom/name?spid=").concat(this.spId,"&appName=CIEP")).pipe()),this.getEIQandPIQNameAPI=(0,p.D)(n).subscribe(function(n){var i=e(n,2),o=i[0],r=i[1];o[0].customAppName&&(t.customAppName.ProtectIQ_Name=o[0].customAppName),r[0].customAppName&&(t.customAppName.ExperienceIQ_Name=r[0].customAppName)})}}]),t}()).\u0275fac=function(t){return new(t||B)(g.Y36(f.s),g.Y36(h.t6),g.Y36(v.Q),g.Y36(u.F0),g.Y36(m.eN),g.Y36(b.E),g.Y36(y.a))},B.\u0275cmp=g.Xpm({type:B,selectors:[["app-support-application"]],hostBindings:function(t,e){1&t&&g.NdJ("popstate",function(t){return e.onPopState(t)},!1,g.Jf7)},decls:5,vars:4,consts:[[3,"responseFromIssuse"],["class","loader",4,"ngIf"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"row"],[1,"col-md-12","ccl-tabs"],["id","tabs",1,"nav","nav-tabs","nav-application"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["href","javascript:void(0)","data-toggle","tab","routerLinkActive","active","id","edge-Protect-IQ",1,"pl-0","nav-link","small",3,"routerLink","click"],["class","",4,"ngIf"],[1,""],[1,"f-s-12px"],["href","javascript:void(0)","data-toggle","tab","routerLinkActive","active","id","edge-Experience-IQ",1,"nav-link","small",3,"routerLink","click"],["href","javascript:void(0)","data-toggle","tab","routerLinkActive","active","id","smartbiz",1,"nav-link","small",3,"routerLink"],["href","javascript:void(0)","data-toggle","tab","routerLinkActive","active","id","edge-arlo-secure",1,"nav-link","small",3,"routerLink","click"],["href","javascript:void(0)","data-toggle","tab","routerLinkActive","active",1,"nav-link","small",3,"routerLink","click"],["href","javascript:void(0)","data-toggle","tab","routerLinkActive","active","id","edge-bark",1,"nav-link","small",3,"routerLink","click"]],template:function(t,e){1&t&&(g._UZ(0,"app-subscriber-menu",0),g.TgZ(1,"section"),g.YNc(2,x,5,1,"div",1),g.YNc(3,J,10,12,"div",2),g.qZA(),g.YNc(4,Q,1,0,"router-outlet",3)),2&t&&(g.Q6J("responseFromIssuse",e.apiCallDone),g.xp6(2),g.Q6J("ngIf",e.loader),g.xp6(1),g.Q6J("ngIf",!e.loader),g.xp6(1),g.Q6J("ngIf",!e.loader))},directives:[Z.e,l.O5,u.yS,u.Od,u.lC],styles:['.nav-tabs[_ngcontent-%COMP%]{border-bottom:none}a[_ngcontent-%COMP%]{color:#333}.nav-link[_ngcontent-%COMP%]{font-size:18px;border-bottom:1px solid transparent;cursor:pointer}.ccl-no[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:20px;background-color:#0279ff;text-align:center;color:#fff}.card-shadow[_ngcontent-%COMP%]{box-shadow:0 0 5px #5d5d5d47}[type=radio][_ngcontent-%COMP%]:checked, [type=radio][_ngcontent-%COMP%]:not(:checked){position:absolute;left:-9999px}[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], [type=radio][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{position:relative;padding-left:20px;cursor:pointer;line-height:10px;display:inline-block}[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before, [type=radio][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;width:12px;height:12px;border:2px solid #0279FF;border-radius:100%;background:#fff}[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after, [type=radio][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:after{content:"";width:6px;height:6px;background:#0279FF;position:absolute;top:3px;left:3px;border-radius:100%;transition:all .2s ease}[type=radio][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:after{opacity:0;transform:scale(0)}[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{opacity:1;transform:scale(1)}.nav-application[_ngcontent-%COMP%] > .nav-item[_ngcontent-%COMP%]{min-height:42px}.nav-application[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{min-height:42px;display:inline-flex;flex-direction:column;align-items:center;justify-content:center;line-height:normal}div[_ngcontent-%COMP%]{line-height:8px;padding-bottom:6px}']}),B),z=r(39075),G=r(3679),W=r(86640),K=r(60943),V=r(86911),X=r(35132);function tt(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"a",18),g.NdJ("click",function(){g.CHM(n);var t=g.oxw(3);return t.showSkipDevices(),t.sectionToShow="skipped",t.isError=!1}),g._uU(1),g.qZA()}if(2&t){var i=g.oxw(3);g.xp6(1),g.Oqu(i.language.Skipped_Devices)}}function et(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"a",19),g.NdJ("click",function(){g.CHM(n);var t=g.oxw(3);return t.showSecuritySettings(),t.sectionToShow="security",t.isError=!1}),g._uU(1),g.qZA()}if(2&t){var i=g.oxw(3);g.s9C("title",i.language.Security_Settings),g.xp6(1),g.Oqu(i.language.Security_Settings)}}function nt(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"ul",11),g.TgZ(1,"li",12),g.TgZ(2,"a",13),g.NdJ("click",function(){g.CHM(n);var t=g.oxw(2);return t.showStatusNotification(),t.sectionToShow="details",t.isError=!1}),g._uU(3),g.qZA(),g.qZA(),g.TgZ(4,"li",12),g.TgZ(5,"a",14),g.NdJ("click",function(){g.CHM(n);var t=g.oxw(2);return t.showAlerts(!0),t.sectionToShow="alert",t.isError=!1}),g._uU(6),g.qZA(),g.qZA(),g.TgZ(7,"li",12),g.TgZ(8,"a",15),g.NdJ("click",function(){g.CHM(n);var t=g.oxw(2);return t.showTrustList(!0),t.sectionToShow="trusted",t.isError=!1}),g._uU(9),g.qZA(),g.qZA(),g.TgZ(10,"li",12),g.YNc(11,tt,2,1,"a",16),g.qZA(),g.TgZ(12,"li",12),g.YNc(13,et,2,2,"a",17),g.qZA(),g.qZA()}if(2&t){g.oxw();var i=g.MAs(6),o=g.oxw();g.xp6(3),g.Oqu(o.language.Details),g.xp6(3),g.Oqu(o.language.Alerts),g.xp6(3),g.Oqu(o.language.Trusted_List),g.xp6(2),g.Q6J("ngIf",o.showSkippedDevice)("ngIfElse",i),g.xp6(2),g.Q6J("ngIf",o.showSecuritySetting)("ngIfElse",i)}}function it(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"ul",20),g.TgZ(1,"li",12),g.TgZ(2,"a",13),g.NdJ("click",function(){return g.CHM(n),g.oxw(2).sectionToShow="details"}),g._uU(3),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(3),g.Oqu(i.language.Details)}}function ot(t,e){1&t&&g._UZ(0,"div")}function rt(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",21),g.TgZ(1,"div",22),g._UZ(2,"img",23),g.qZA(),g._UZ(3,"div",24),g.TgZ(4,"button",25),g.NdJ("click",function(){return g.CHM(n),g.oxw(2).isError=!1}),g._uU(5),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(3),g.Q6J("innerHtml",i.warningMessage,g.oJD),g.xp6(2),g.hij(" ",i.language.OK," ")}}var at=function(t){return{toggleDisabled:t}};function lt(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"th",30),g._uU(2),g.qZA(),g.TgZ(3,"td",31),g.TgZ(4,"div",32),g.TgZ(5,"label",37),g.TgZ(6,"input",38),g.NdJ("change",function(){return g.CHM(n),g.oxw(3).onPSDClick()})("ngModelChange",function(t){return g.CHM(n),g.oxw(3).securitySettingPSD=t}),g.qZA(),g.TgZ(7,"span",35),g._UZ(8,"small"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(3);g.xp6(2),g.hij(" ",i.language["IPS Port Scan Defense"]," "),g.xp6(4),g.Q6J("disabled",!i.scopeFlag.configWrite)("checked",i.securitySettingPSD)("ngModel",i.securitySettingPSD),g.xp6(1),g.Q6J("ngClass",g.VKq(5,at,!i.scopeFlag.configWrite))}}function st(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",26),g.TgZ(1,"div",27),g.TgZ(2,"div",28),g.TgZ(3,"table",29),g.TgZ(4,"tbody"),g.TgZ(5,"tr"),g.TgZ(6,"th",30),g._uU(7),g.qZA(),g.TgZ(8,"td",31),g.TgZ(9,"div",32),g.TgZ(10,"label",33),g.TgZ(11,"input",34),g.NdJ("change",function(){return g.CHM(n),g.oxw(2).onPAClick()})("ngModelChange",function(t){return g.CHM(n),g.oxw(2).securitySettingPA=t}),g.qZA(),g.TgZ(12,"span",35),g._UZ(13,"small"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(14,lt,9,7,"tr",36),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(7),g.hij(" ",i.language["IPS Protocol Anomaly"]," "),g.xp6(4),g.Q6J("disabled",!i.scopeFlag.configWrite)("checked",i.securitySettingPA)("ngModel",i.securitySettingPA),g.xp6(1),g.Q6J("ngClass",g.VKq(6,at,!i.scopeFlag.configWrite)),g.xp6(2),g.Q6J("ngIf",i.deviceSubscription)}}function ct(t,e){if(1&t&&(g.TgZ(0,"div",39),g.TgZ(1,"div",40),g.TgZ(2,"div",41),g.TgZ(3,"span",42),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(4),g.Oqu(n.language.Loading)}}function ut(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"th",30),g._uU(2),g.qZA(),g.TgZ(3,"td",31),g.TgZ(4,"div",35),g.TgZ(5,"label",60),g.TgZ(6,"input",61),g.NdJ("change",function(){return g.CHM(n),g.oxw(3).toggleSubscription(!0)})("ngModelChange",function(t){return g.CHM(n),g.oxw(3).deviceSubscription=t}),g.qZA(),g.TgZ(7,"span",35),g._UZ(8,"small"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(3);g.xp6(2),g.Oqu(i.language.Subscribed),g.xp6(2),g.Q6J("ngClass",i.deviceSubscription?"toggle-swtbtn checkbox switcher mb-2":"toggle-swtbtn checkbox switcher-disabld mb-2"),g.xp6(2),g.Q6J("checked",i.deviceSubscription)("ngModel",i.deviceSubscription)("disabled",!i.scopeFlag.configWrite),g.xp6(1),g.Q6J("ngClass",i.scopeFlag.configWrite?"":"toggleDisabled")}}function dt(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"th",30),g._uU(2),g.qZA(),g.TgZ(3,"td",31),g.TgZ(4,"div",35),g.TgZ(5,"label",62),g.TgZ(6,"input",63),g.NdJ("change",function(){return g.CHM(n),g.oxw(3).onSubscription(!0)})("ngModelChange",function(t){return g.CHM(n),g.oxw(3).deviceSubscription=t}),g.qZA(),g.TgZ(7,"span",64),g._UZ(8,"small"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(3);g.xp6(2),g.Oqu(i.language.enabled),g.xp6(2),g.Q6J("ngClass",i.deviceStatus?"toggle-swtbtn checkbox switcher mb-2":"toggle-swtbtn checkbox switcher-disabld mb-2"),g.xp6(2),g.Q6J("checked",i.deviceSubscription)("ngModel",i.deviceSubscription)("disabled",!0)}}function pt(t,e){1&t&&g._UZ(0,"tr")}function gt(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",27),g.TgZ(1,"div",28),g.TgZ(2,"div",65),g.TgZ(3,"div",66),g._uU(4),g.qZA(),g.TgZ(5,"a",67),g.NdJ("click",function(){return g.CHM(n),g.oxw(3).showStatusNotification()}),g._UZ(6,"i",68),g.qZA(),g.qZA(),g.TgZ(7,"table",69),g.TgZ(8,"tbody"),g.TgZ(9,"tr"),g.TgZ(10,"th",30),g._uU(11),g.qZA(),g.TgZ(12,"td",31),g._uU(13),g.qZA(),g.qZA(),g.TgZ(14,"tr"),g.TgZ(15,"th",70),g._uU(16),g.qZA(),g.TgZ(17,"td"),g._uU(18),g.ALo(19,"date"),g.qZA(),g.qZA(),g.TgZ(20,"tr"),g.TgZ(21,"th",70),g._uU(22),g.qZA(),g.TgZ(23,"td"),g._uU(24),g.qZA(),g.qZA(),g.TgZ(25,"tr"),g.TgZ(26,"th",70),g._uU(27),g.qZA(),g.TgZ(28,"td"),g._uU(29),g.qZA(),g.qZA(),g.TgZ(30,"tr"),g.TgZ(31,"th",70),g._uU(32),g.qZA(),g.TgZ(33,"td"),g._uU(34),g.qZA(),g.qZA(),g.TgZ(35,"tr"),g.TgZ(36,"th",70),g._uU(37),g.qZA(),g.TgZ(38,"td"),g._uU(39),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(3);g.xp6(4),g.Oqu(i.language.Status),g.xp6(7),g.hij("",i.language.Uptime,":"),g.xp6(2),g.Oqu(i.loading?"-":i.protectIQ_Uptime),g.xp6(3),g.hij("",i.language.Last_Updated,":"),g.xp6(2),g.Oqu(i.loading?"-":g.xi3(19,13,i.lastUpdated,"MMM dd yyyy, hh:mm:ss a")),g.xp6(4),g.hij("",i.language.Packets_Analyzed_Today,":"),g.xp6(2),g.Oqu(i.loading?"-":i.packetsAnalyzedToday),g.xp6(3),g.hij("",i.language.Total_Virus_Detected,":"),g.xp6(2),g.Oqu(i.loading?"-":i.totalVirusDetected),g.xp6(3),g.hij("",i.language.Total_Intrusions,":"),g.xp6(2),g.Oqu(i.loading?"-":i.totalIntrusions),g.xp6(3),g.hij("",i.language.Total_Web_Threats,":"),g.xp6(2),g.Oqu(i.loading?"-":i.totalWebThreats)}}function ft(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",26),g.TgZ(1,"div",43),g.TgZ(2,"div",28),g.TgZ(3,"div",44),g.TgZ(4,"div",45),g._uU(5),g.qZA(),g.qZA(),g.TgZ(6,"div",46),g._uU(7),g.qZA(),g.TgZ(8,"div",47),g.TgZ(9,"div",48),g.TgZ(10,"input",49),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw(2).deviceSubscription=t})("click",function(){return g.CHM(n),g.oxw(2).toggleSubscription(!0)}),g.qZA(),g.TgZ(11,"label",50),g._uU(12),g.qZA(),g.qZA(),g.TgZ(13,"div",48),g.TgZ(14,"input",51),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw(2).deviceSubscription=t})("click",function(){return g.CHM(n),g.oxw(2).toggleSubscription(!1)}),g.qZA(),g.TgZ(15,"label",52),g._uU(16),g.qZA(),g.qZA(),g.qZA(),g.TgZ(17,"div",46),g._uU(18,"Service"),g.qZA(),g.TgZ(19,"div",47),g.TgZ(20,"div",48),g.TgZ(21,"input",53),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw(2).deviceStatus=t})("click",function(){return g.CHM(n),g.oxw(2).toggleEnable(!0)}),g.qZA(),g.TgZ(22,"label",54),g._uU(23),g.qZA(),g.qZA(),g.TgZ(24,"div",48),g.TgZ(25,"input",55),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw(2).deviceStatus=t})("click",function(){return g.CHM(n),g.oxw(2).toggleEnable(!1)}),g.qZA(),g.TgZ(26,"label",56),g._uU(27),g.qZA(),g.qZA(),g.qZA(),g.TgZ(28,"table",57),g.TgZ(29,"tbody"),g.YNc(30,ut,9,6,"tr",36),g.YNc(31,dt,9,5,"tr",36),g.YNc(32,pt,1,0,"ng-template",null,58,g.W1O),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(34,gt,40,16,"div",59),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(5),g.Oqu(i.language.Settings),g.xp6(2),g.Oqu(i.language.Subscription),g.xp6(3),g.Q6J("ngModel",i.deviceSubscription)("value",!0)("disabled",!i.scopeFlag.configWrite||i.smbEnabled),g.xp6(2),g.Oqu(i.language.Subscribed),g.xp6(2),g.Q6J("ngModel",i.deviceSubscription)("value",!1)("disabled",!i.scopeFlag.configWrite||!i.isSmartTownActivated&&i.smbOrSmarttownEnabled||i.smbEnabled),g.xp6(2),g.Oqu(i.language.Unsubscribed),g.xp6(5),g.Q6J("ngModel",i.deviceStatus)("value",!0)("disabled",!i.scopeFlag.enableWrite||!i.deviceSubscription||!i.deviceInfo||i.isSmartTownActivated||i.smbEnabled),g.xp6(2),g.Oqu(i.language.enabled),g.xp6(2),g.Q6J("ngModel",i.deviceStatus)("value",!1)("disabled",!i.scopeFlag.enableWrite||!i.deviceSubscription||!i.deviceInfo||i.isSmartTownActivated||i.smbOrSmarttownEnabled||i.smbEnabled),g.xp6(2),g.Oqu(i.language.Disabled),g.xp6(3),g.Q6J("ngIf",i.scopeFlag.configRead),g.xp6(1),g.Q6J("ngIf",i.scopeFlag.configRead),g.xp6(3),g.Q6J("ngIf",i.showDetail&&i.deviceStatus&&i.deviceSubscription)}}function ht(t,e){if(1&t&&(g.TgZ(0,"div",39),g.TgZ(1,"div",40),g.TgZ(2,"div",41),g.TgZ(3,"span",42),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(4),g.Oqu(n.language.Loading)}}function vt(t,e){if(1&t&&g._uU(0),2&t){var n=e.item,i=g.oxw(3);g.hij(" ",i.language[n.viewValue]||n.viewValue," ")}}function mt(t,e){if(1&t&&g._uU(0),2&t){var n=e.item,i=g.oxw(3);g.hij(" ",i.language[n.viewValue]," ")}}function bt(t,e){1&t&&(g.TgZ(0,"span",99),g._uU(1,"+"),g.qZA())}function yt(t,e){if(1&t&&(g.TgZ(0,"span",100),g._uU(1,"-"),g.qZA()),2&t){var n=g.oxw().index;g.uIk("id","symbolMinus"+n)}}function Zt(t,e){if(1&t&&(g.TgZ(0,"div"),g._uU(1),g.qZA()),2&t){var n=g.oxw().$implicit;g.xp6(1),g.AsE(" ",null==n||null==n.securityAlarm?null:n.securityAlarm.message," was ",null==n||null==n.securityAlarm?null:n.securityAlarm.action,"ED ")}}function xt(t,e){if(1&t&&g._uU(0),2&t){var n=g.oxw().$implicit;g.AsE(" ",null==n||null==n.securityAlarm?null:n.securityAlarm.url," was ",null==n||null==n.securityAlarm?null:n.securityAlarm.action,"ED ")}}function _t(t,e){if(1&t&&(g.TgZ(0,"div",101),g.TgZ(1,"table",102),g.TgZ(2,"tbody"),g.TgZ(3,"tr"),g._UZ(4,"th",73),g.TgZ(5,"th",103),g.TgZ(6,"table",104),g.TgZ(7,"tbody"),g.TgZ(8,"tr"),g.TgZ(9,"th",30),g._uU(10),g.qZA(),g.TgZ(11,"td",31),g._uU(12),g.ALo(13,"date"),g.qZA(),g.qZA(),g.TgZ(14,"tr"),g.TgZ(15,"th",30),g._uU(16),g.qZA(),g.TgZ(17,"td",31),g._uU(18),g.qZA(),g.qZA(),g.TgZ(19,"tr"),g.TgZ(20,"th",70),g._uU(21),g.qZA(),g.TgZ(22,"td"),g._uU(23),g.qZA(),g.qZA(),g.TgZ(24,"tr"),g.TgZ(25,"th",70),g._uU(26),g.qZA(),g.TgZ(27,"td"),g._uU(28),g.qZA(),g.qZA(),g.TgZ(29,"tr"),g.TgZ(30,"th",70),g._uU(31),g.qZA(),g.TgZ(32,"td"),g._uU(33),g.qZA(),g.qZA(),g.TgZ(34,"tr"),g.TgZ(35,"th",70),g._uU(36,"URL:"),g.qZA(),g.TgZ(37,"td"),g._uU(38),g.qZA(),g.qZA(),g.TgZ(39,"tr"),g.TgZ(40,"th",70),g._uU(41,"File:"),g.qZA(),g.TgZ(42,"td"),g._uU(43),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(),i=n.index,o=n.$implicit,r=g.oxw(3);g.Q6J("id","collapseA"+i),g.xp6(10),g.hij(" ",r.language.Time," : "),g.xp6(2),g.hij(" ",g.xi3(13,13,o.timestamp,"MMM dd yyyy, hh:mm:s a")," "),g.xp6(4),g.hij(" ",r.language.Type," : "),g.xp6(2),g.hij(" ",r.alertTypes[null==o||null==o.securityAlarm?null:o.securityAlarm.type]||"-"," "),g.xp6(3),g.hij(" ",r.language.Source_IP," : "),g.xp6(2),g.hij(" ",(null==o||null==o.securityAlarm?null:o.securityAlarm.sourceIp)||"-"," "),g.xp6(3),g.hij(" ",r.language.Action," : "),g.xp6(2),g.hij(" ",(null==o||null==o.securityAlarm?null:o.securityAlarm.action)||"-"," "),g.xp6(3),g.hij(" ",r.language["Client Device"]," : "),g.xp6(2),g.hij(" ",(null==o||null==o.securityAlarm?null:o.securityAlarm.targetStaName)||"-"," "),g.xp6(5),g.hij(" ",(null==o||null==o.securityAlarm?null:o.securityAlarm.url)||"-"," "),g.xp6(5),g.hij(" ",(null==o||null==o.securityAlarm?null:o.securityAlarm.file)||"-"," ")}}function At(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td",81),g.TgZ(2,"div",82),g.TgZ(3,"div",83),g.TgZ(4,"div",84),g.TgZ(5,"div",85),g.TgZ(6,"div",86),g.TgZ(7,"ul",87),g.NdJ("click",function(){var t=g.CHM(n).index,e=g.oxw(3);return e.isExpanded[t]=!e.isExpanded[t]}),g.TgZ(8,"li",88),g.TgZ(9,"div",89),g.TgZ(10,"span",90),g.YNc(11,bt,2,0,"span",91),g.YNc(12,yt,2,1,"ng-template",null,92,g.W1O),g.qZA(),g._uU(14),g.ALo(15,"date"),g.qZA(),g.qZA(),g.TgZ(16,"li",93),g.YNc(17,Zt,2,2,"div",94),g.YNc(18,xt,1,2,"ng-template",null,95,g.W1O),g.qZA(),g.TgZ(20,"li",96),g.TgZ(21,"button",97),g.NdJ("click",function(t){var e=g.CHM(n).$implicit;return g.oxw(3).addTrustList(e,t)}),g._uU(22),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(23,_t,44,16,"div",98),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=e.$implicit,o=e.index,r=g.MAs(13),a=g.MAs(19),l=g.oxw(3);g.xp6(11),g.Q6J("ngIf",!l.isExpanded[o])("ngIfElse",r),g.xp6(3),g.hij(" ",g.xi3(15,8,i.timestamp,"MMM dd yyyy, hh:mm:s a")," "),g.xp6(3),g.Q6J("ngIf","WG"!=(null==i||null==i.securityAlarm?null:i.securityAlarm.type))("ngIfElse",a),g.xp6(4),g.Q6J("id","whitelabelbtn"+o),g.xp6(1),g.hij(" ",l.language.Add_To_trust," "),g.xp6(1),g.Q6J("ngIf",l.isExpanded[o])}}function Tt(t,e){if(1&t&&(g.TgZ(0,"tbody"),g.TgZ(1,"tr"),g.TgZ(2,"td",105),g._uU(3),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(3);g.xp6(3),g.hij(" ",n.language["No data available"]," ")}}function qt(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",71),g.TgZ(1,"div",28),g.TgZ(2,"table",72),g.TgZ(3,"thead"),g.TgZ(4,"th",73),g.TgZ(5,"div",74),g._uU(6),g.qZA(),g.qZA(),g.TgZ(7,"th",73),g.TgZ(8,"div",75),g._uU(9),g.qZA(),g.qZA(),g.TgZ(10,"th",76),g.TgZ(11,"ng-select",77),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw(2).selectedType=t})("change",function(){g.CHM(n);var t=g.oxw(2);return t.isError=!1,t.showAlerts()}),g.YNc(12,vt,1,1,"ng-template",78),g.YNc(13,mt,1,1,"ng-template",79),g.qZA(),g.qZA(),g.qZA(),g.TgZ(14,"tbody"),g.YNc(15,At,24,11,"tr",80),g.qZA(),g.YNc(16,Tt,4,1,"tbody",36),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(6),g.Oqu(i.language.Occurred),g.xp6(3),g.Oqu(i.language.Alert_Details),g.xp6(2),g.Q6J("ngModel",i.selectedType)("items",i.alerts)("searchable",!1),g.xp6(4),g.Q6J("ngForOf",i.alertDetails),g.xp6(1),g.Q6J("ngIf",0==i.alertDetails.length)}}function wt(t,e){if(1&t&&(g.TgZ(0,"div",39),g.TgZ(1,"div",40),g.TgZ(2,"div",41),g.TgZ(3,"span",42),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(4),g.Oqu(n.language.Loading)}}function Ct(t,e){if(1&t&&g._uU(0),2&t){var n=e.item,i=g.oxw(3);g.hij(" ",i.language[n.viewValue]||n.viewValue," ")}}function Ot(t,e){if(1&t&&g._uU(0),2&t){var n=e.item,i=g.oxw(3);g.hij(" ",i.language[n.viewValue]," ")}}function St(t,e){if(1&t&&(g.TgZ(0,"span",99),g._uU(1,"+"),g.qZA()),2&t){var n=g.oxw().index;g.uIk("id","symbolPlus"+n)}}function kt(t,e){if(1&t&&(g.TgZ(0,"span",100),g._uU(1,"-"),g.qZA()),2&t){var n=g.oxw().index;g.uIk("id","symbolMinus"+n)}}function Mt(t,e){if(1&t&&(g.TgZ(0,"div",118),g.TgZ(1,"table",102),g.TgZ(2,"tbody"),g.TgZ(3,"tr"),g._UZ(4,"th",73),g.TgZ(5,"th",103),g.TgZ(6,"table",119),g.TgZ(7,"tbody"),g.TgZ(8,"tr"),g.TgZ(9,"th",30),g._uU(10),g.qZA(),g.TgZ(11,"td",31),g._uU(12),g.ALo(13,"date"),g.qZA(),g.qZA(),g.TgZ(14,"tr"),g.TgZ(15,"th",30),g._uU(16),g.qZA(),g.TgZ(17,"td",31),g._uU(18),g.ALo(19,"alertType"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(),i=n.index,o=n.$implicit,r=g.oxw(3);g.uIk("id","collapseOne_"+i),g.xp6(10),g.hij(" ",r.language.Time," : "),g.xp6(2),g.hij(" ",g.xi3(13,5,o.created,"MMM dd yyyy, hh:mm:s a")," "),g.xp6(4),g.hij(" ",r.language.Type," : "),g.xp6(2),g.hij(" ",g.lcZ(19,8,o.type)," ")}}function Et(t,e){if(1&t&&(g._uU(0),g.ALo(1,"alertType")),2&t){var n=g.oxw().$implicit,i=g.oxw(3);g.AsE("",i.language["No Data is available for "]," ",g.lcZ(1,2,n.type)," type")}}function Pt(t,e){if(1&t){var n=g.EpF();g.ynx(0),g.TgZ(1,"tr",111),g.TgZ(2,"td",81),g.TgZ(3,"ul",112),g.NdJ("click",function(){var t=g.CHM(n).index,e=g.oxw(3);return e.isExpanded[t]=!e.isExpanded[t]}),g.TgZ(4,"li",88),g.TgZ(5,"div",89),g.TgZ(6,"span",113),g.NdJ("click",function(){var t=g.CHM(n).index;return g.oxw(3).accordianChange(t)}),g.YNc(7,St,2,1,"span",91),g.YNc(8,kt,2,1,"ng-template",null,92,g.W1O),g.qZA(),g.TgZ(10,"div",114),g._uU(11),g.qZA(),g.qZA(),g.qZA(),g.TgZ(12,"li",88),g._UZ(13,"div",89),g.qZA(),g.TgZ(14,"li",88),g._UZ(15,"div",89),g.qZA(),g.TgZ(16,"li",96),g.TgZ(17,"button",115),g.NdJ("click",function(){var t=g.CHM(n).$implicit;return g.oxw(3).deleteWhiteListItem(t.signatureId)}),g._uU(18),g.qZA(),g.qZA(),g.qZA(),g.YNc(19,Mt,20,10,"div",116),g.qZA(),g.qZA(),g.YNc(20,Et,2,4,"ng-template",null,117,g.W1O),g.BQk()}if(2&t){var i=e.$implicit,o=e.index,r=g.MAs(9),a=g.oxw(3);g.xp6(1),g.uIk("id","accordion_"+o),g.xp6(6),g.Q6J("ngIf",!a.isExpanded[o])("ngIfElse",r),g.xp6(4),g.hij(" ",i.msg," "),g.xp6(6),g.Q6J("id","whitelabelbtn"+o),g.xp6(1),g.hij(" ",a.language.delete," "),g.xp6(1),g.Q6J("ngIf",a.isExpanded[o])}}function It(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td",105),g._uU(2),g.qZA(),g.qZA()),2&t){var n=g.oxw(3);g.xp6(2),g.hij(" ",n.language["No data available"]," ")}}function Nt(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",71),g.TgZ(1,"div",106),g.TgZ(2,"table",107),g.TgZ(3,"thead"),g.TgZ(4,"tr"),g.TgZ(5,"th",73),g.TgZ(6,"div",108),g._uU(7),g.qZA(),g.qZA(),g.TgZ(8,"th",73),g.TgZ(9,"div",109),g._uU(10),g.qZA(),g.qZA(),g.TgZ(11,"th",110),g.TgZ(12,"ng-select",77),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw(2).selectedType=t})("change",function(){g.CHM(n);var t=g.oxw(2);return t.isError=!1,t.showTrustList()}),g.YNc(13,Ct,1,1,"ng-template",78),g.YNc(14,Ot,1,1,"ng-template",79),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(15,"tbody"),g.YNc(16,Pt,22,7,"ng-container",80),g.YNc(17,It,3,1,"tr",36),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(7),g.Oqu(i.language.Name),g.xp6(3),g.Oqu(i.language.Trusted_List),g.xp6(2),g.Q6J("ngModel",i.selectedType)("items",i.alerts)("searchable",!1),g.xp6(4),g.Q6J("ngForOf",i.trustListDetails.whitelist),g.xp6(1),g.Q6J("ngIf",0==i.trustListDetails.whitelist)}}function Ut(t,e){if(1&t&&(g.TgZ(0,"div",39),g.TgZ(1,"div",40),g.TgZ(2,"div",41),g.TgZ(3,"span",42),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(4),g.Oqu(n.language.Loading)}}function jt(t,e){1&t&&(g.TgZ(0,"span",99),g._uU(1,"+"),g.qZA())}function Dt(t,e){if(1&t&&(g.TgZ(0,"span",100),g._uU(1,"-"),g.qZA()),2&t){var n=g.oxw().index;g.uIk("id","symbolMinus"+n)}}function Lt(t,e){if(1&t&&(g.TgZ(0,"td",144),g._uU(1),g.qZA()),2&t){var n=g.oxw(6);g.xp6(1),g.hij(" ",n.language.Scanning," ")}}function Rt(t,e){if(1&t&&(g.TgZ(0,"td",144),g._uU(1),g.qZA()),2&t){var n=g.oxw(6);g.xp6(1),g.hij(" ",n.language.Skipping," ")}}function Ft(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",145),g.TgZ(1,"button",146),g.NdJ("click",function(){g.CHM(n);var t=g.oxw().$implicit;return g.oxw(5).changeSkipStatus(t.deviceId,t.skip)}),g._uU(2),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(6);g.xp6(1),g.Q6J("disabled",!i.scopeFlag.configWrite)("ngClass",i.scopeFlag.configWrite?"":"toggleDisabled"),g.xp6(1),g.hij(" ",i.language.Skipping," ")}}function Ht(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"td",128),g.TgZ(1,"div",145),g.TgZ(2,"button",146),g.NdJ("click",function(){g.CHM(n);var t=g.oxw().$implicit;return g.oxw(5).changeSkipStatus(t.deviceId,t.skip)}),g._uU(3),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(6);g.xp6(2),g.Q6J("disabled",!i.scopeFlag.configWrite)("ngClass",i.scopeFlag.configWrite?"":"toggleDisabled"),g.xp6(1),g.hij(" ",i.language.Scanning," ")}}function Jt(t,e){if(1&t&&(g.TgZ(0,"tbody"),g.TgZ(1,"tr"),g.TgZ(2,"th",137),g.TgZ(3,"div",138),g.TgZ(4,"h6"),g._UZ(5,"img",139),g.ALo(6,"catogryImg"),g._uU(7),g.qZA(),g.TgZ(8,"p"),g._uU(9),g.qZA(),g.qZA(),g.qZA(),g.YNc(10,Lt,2,1,"td",140),g.YNc(11,Rt,2,1,"ng-template",null,141,g.W1O),g.TgZ(13,"td",128),g.YNc(14,Ft,3,3,"div",142),g.qZA(),g.YNc(15,Ht,4,3,"ng-template",null,143,g.W1O),g.qZA(),g.qZA()),2&t){var n=e.$implicit,i=g.MAs(12),o=g.MAs(16),r=g.oxw(2).$implicit;g.xp6(5),g.Q6J("src",g.lcZ(6,7,r.key),g.LSH),g.xp6(2),g.hij(" ",n.name," "),g.xp6(2),g.Oqu(n.mac),g.xp6(1),g.Q6J("ngIf",!n.skip)("ngIfElse",i),g.xp6(4),g.Q6J("ngIf",!n.skip)("ngIfElse",o)}}function Qt(t,e){if(1&t&&(g.TgZ(0,"div",135),g.TgZ(1,"table",136),g.YNc(2,Jt,17,9,"tbody",80),g.qZA(),g.qZA()),2&t){var n=g.oxw(),i=n.$implicit;g.Q6J("id","collapse"+n.index),g.xp6(2),g.Q6J("ngForOf",i.value)}}function Bt(t,e){if(1&t){var n=g.EpF();g.ynx(0),g.TgZ(1,"tbody"),g.TgZ(2,"tr",111),g.TgZ(3,"td",81),g.TgZ(4,"div",82),g.TgZ(5,"div",83),g.TgZ(6,"div",84),g.TgZ(7,"div",129),g.NdJ("click",function(){var t=g.CHM(n).index,e=g.oxw(3);return e.isExpandedSkipDevice[t]=!e.isExpandedSkipDevice[t]}),g.TgZ(8,"div",130),g.TgZ(9,"div",89),g.TgZ(10,"span",131),g.NdJ("click",function(){var t=g.CHM(n).index;return g.oxw(3).accordianChange(t)}),g.YNc(11,jt,2,0,"span",91),g.YNc(12,Dt,2,1,"ng-template",null,92,g.W1O),g.qZA(),g.TgZ(14,"span",132),g._UZ(15,"img",133),g.ALo(16,"catogryImg"),g.qZA(),g._uU(17),g.ALo(18,"catogry"),g.qZA(),g.qZA(),g.qZA(),g.YNc(19,Qt,3,2,"div",134),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.BQk()}if(2&t){var i=e.$implicit,o=e.index,r=g.MAs(13),a=g.oxw(3);g.xp6(2),g.uIk("id","accordion_"+o),g.xp6(9),g.Q6J("ngIf",!a.isExpandedSkipDevice[o])("ngIfElse",r),g.xp6(4),g.Q6J("src",g.lcZ(16,6,i.key),g.LSH),g.xp6(2),g.hij(" ",g.lcZ(18,8,i.key)," "),g.xp6(2),g.Q6J("ngIf",a.isExpandedSkipDevice[o])}}function Yt(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",71),g.TgZ(1,"div",28),g.TgZ(2,"div",120),g.TgZ(3,"button",121),g.NdJ("click",function(){return g.CHM(n),g.oxw(2).skipStatusChangeAll(!0)}),g._uU(4),g.qZA(),g.TgZ(5,"button",122),g.NdJ("click",function(){return g.CHM(n),g.oxw(2).skipStatusChangeAll(!1)}),g._uU(6),g.qZA(),g.qZA(),g.TgZ(7,"table",123),g.TgZ(8,"thead"),g.TgZ(9,"th",124),g.TgZ(10,"div",125),g._uU(11),g.qZA(),g.qZA(),g.TgZ(12,"th",126),g.TgZ(13,"div",127),g._uU(14),g.qZA(),g.qZA(),g._UZ(15,"th",128),g.qZA(),g.YNc(16,Bt,20,10,"ng-container",80),g.ALo(17,"keyvalue"),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(3),g.Q6J("disabled",!i.scopeFlag.configWrite)("ngClass",i.scopeFlag.configWrite?"":"toggleDisabled"),g.xp6(1),g.hij(" ",i.language.Skip_All," "),g.xp6(1),g.Q6J("disabled",!i.scopeFlag.configWrite)("ngClass",i.scopeFlag.configWrite?"":"toggleDisabled"),g.xp6(1),g.hij(" ",i.language.Scan_All," "),g.xp6(5),g.Oqu(i.language.device),g.xp6(3),g.Oqu(i.language.Status),g.xp6(2),g.Q6J("ngForOf",g.lcZ(17,9,i.skipDevicesDetails))}}function zt(t,e){if(1&t&&(g.TgZ(0,"div",1),g.TgZ(1,"div",2),g.YNc(2,nt,14,7,"ul",3),g.YNc(3,it,4,1,"ng-template",null,4,g.W1O),g.YNc(5,ot,1,0,"ng-template",null,5,g.W1O),g.qZA(),g.TgZ(7,"div",6),g.YNc(8,rt,6,2,"div",7),g.YNc(9,st,15,8,"div",8),g.TgZ(10,"section"),g.YNc(11,ct,5,1,"div",9),g.qZA(),g.YNc(12,ft,35,21,"div",8),g.TgZ(13,"section"),g.YNc(14,ht,5,1,"div",9),g.qZA(),g.YNc(15,qt,17,7,"div",10),g.TgZ(16,"section"),g.YNc(17,wt,5,1,"div",9),g.qZA(),g.YNc(18,Nt,18,7,"div",10),g.TgZ(19,"section"),g.YNc(20,Ut,5,1,"div",9),g.qZA(),g.YNc(21,Yt,18,11,"div",10),g.qZA(),g.qZA()),2&t){var n=g.MAs(4),i=g.oxw();g.xp6(2),g.Q6J("ngIf",i.deviceSubscription&&i.deviceStatus)("ngIfElse",n),g.xp6(6),g.Q6J("ngIf",i.isError),g.xp6(1),g.Q6J("ngIf","security"==i.sectionToShow),g.xp6(2),g.Q6J("ngIf",i.loading||i.advLoading),g.xp6(1),g.Q6J("ngIf","details"==i.sectionToShow),g.xp6(2),g.Q6J("ngIf",i.loading&&"alert"==i.sectionToShow),g.xp6(1),g.Q6J("ngIf","alert"==i.sectionToShow),g.xp6(2),g.Q6J("ngIf",i.loading&&"trusted"==i.sectionToShow),g.xp6(1),g.Q6J("ngIf","trusted"==i.sectionToShow),g.xp6(2),g.Q6J("ngIf",i.loading&&"skipped"==i.sectionToShow),g.xp6(1),g.Q6J("ngIf","skipped"==i.sectionToShow)}}var Gt=function(){var t=function(){function t(e,n,i,r,a,l){var s,c;o(this,t),this.translateService=e,this.protectIqservices=n,this.ssoService=i,this.dataService=r,this.router=a,this.titleService=l,this.sectionToShow="details",this.isWFHAvailable=!1,this.srlNum=sessionStorage.getItem("calix.deviceData")&&(null===(c=null===(s=JSON.parse(sessionStorage.getItem("calix.deviceData")))||void 0===s?void 0:s[0])||void 0===c?void 0:c.serialNumber)||"",this.securityDetails={},this.selecedAType="Select A Type",this.isExpanded=[],this.isExpandedSkipDevice=[],this.deviceStatus=!1,this.deviceSubscription=!1,this.loading=!1,this.alerts=[{value:"All",viewValue:"All"},{value:"IPS",viewValue:"Intrusion"},{value:"AV",viewValue:"Virus"},{value:"WG",viewValue:"Web Threat"}],this.alertTypes={All:"All",IPS:"Intrusion",AV:"Virus",WG:"Web Threat"},this.selectedType="All",this.scopeFlag={},this.isError=!1,this.newData={},this.undiscoveredGS=!1,this.subscriptionUpdated=!1,this.enabledUpdated=!1,this.advLoading=!1,this.smbEnabled=!0,this.smbOrSmarttownEnabled=!1,this.isSmartTownActivated=!1}return a(t,[{key:"ngOnInit",value:function(){var t=this;this.ssoService.setActionLog("CSC","pageHit","Application",this.router.url,"Application protectIQ page is loaded"),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){t.language=e,t.titleService.setTitle("".concat(t.language.Security," - ").concat(t.language["Managed Services"]," - ").concat(t.language.Service," - ").concat(t.language["Calix Cloud"]))}),this.titleService.setTitle("".concat(this.language.Security," - ").concat(this.language["Managed Services"]," - ").concat(this.language.Service," - ").concat(this.language["Calix Cloud"])),this.getScopes();var e=0,n=setInterval(function(){e++,"isLoaded"==sessionStorage.getItem("overviewStatus")?(t.loadContent(),clearInterval(n)):200==e&&clearInterval(n)},200);this.undiscoveredSn=sessionStorage.getItem("undiscoveredSn")}},{key:"loadContent",value:function(){var t,e,n=this;this.deviceInfo=JSON.parse(sessionStorage.getItem("calix.deviceData"));var i=this.deviceInfo.filter(function(t){return"RG"==t.opMode&&t.hasOwnProperty("modelName")&&n.ssoService.acceptGSModel(t.modelName)});i=i.length?i:this.deviceInfo.map(function(t){return t.deviceId}).includes(sessionStorage.getItem("undiscoveredSn"))?[{deviceId:sessionStorage.getItem("undiscoveredSn")}]:[],i=parseInt((null===(t=history.state)||void 0===t?void 0:t.containGS)||"0")||i.length,this.hasSubscriber=(null===(e=history.state)||void 0===e?void 0:e.hasSubscriber)||sessionStorage.getItem("calix.subscriberId")&&"undefined"!=sessionStorage.getItem("calix.subscriberId"),i?-1!=this.ssoService.getEntitlementsArr().indexOf("203")||-1!=this.ssoService.getEntitlementsArr().indexOf("205")||this.scopeFlag.protectiq?(this.ssoService.getEntitlementsArr().includes("203")||this.ssoService.getEntitlementsArr().includes("205"))&&this.scopeFlag.protectiq&&i?(this.undiscoveredGS=!this.deviceInfo.filter(function(t){return"RG"==t.opMode&&t.hasOwnProperty("modelName")&&n.ssoService.acceptGSModel(t.modelName)}).length&&this.deviceInfo.filter(function(t){return!t.hasOwnProperty("modelName")}).length,this.deviceInfo=this.deviceInfo.filter(function(t){return"RG"==t.opMode}),this.deviceInfo=this.deviceInfo&&this.deviceInfo.length?this.deviceInfo[0].serialNumber:"",this.orgId=this.ssoService.getOrgId(),this.subscriberStructure=this.dataService.getStoredSubscriberInfo()||{subscriberLocationId:sessionStorage.getItem("calix.subLocationId"),_id:sessionStorage.getItem("calix.subscriberId")},this.getSubscribedStatus(),this.getDeviceStatus()):(this.ssoService.getEntitlementsArr().includes("204")||this.ssoService.getEntitlementsArr().includes("205"))&&this.scopeFlag.experienceiq&&i?this.router.navigate(["/support/application/experienceIQ"]):(this.ssoService.getEntitlementsArr().includes("206")||this.ssoService.getEntitlementsArr().includes("213")||this.ssoService.getEntitlementsArr().includes("212"))&&this.scopeFlag.arlo?this.router.navigate(["/support/application/arlo-smart"]):this.ssoService.getEntitlementsArr().includes("207")&&this.scopeFlag.servify?this.router.navigate(["/support/application/servify-care"]):this.ssoService.getEntitlementsArr().includes("214")&&this.scopeFlag.mycommunityiq?this.router.navigate(["/support/application/SmartTownWiFi"]):(this.ssoService.getEntitlementsArr().includes("219")||this.ssoService.getEntitlementsArr().includes("220"))&&this.scopeFlag.bark?this.router.navigate(["/support/application/bark"]):this.isCaptivePortAvail()&&this.router.navigate(["/support/application/customer-portal"]):this.ssoService.getEntitlementsArr().indexOf("204")>-1&&this.scopeFlag.experienceiq?this.router.navigate(["/support/application/experienceIQ"]):this.router.navigate(["/support/application/arlo-smart"]):this.router.navigate(["/support/application/arlo-smart"])}},{key:"isCaptivePortAvail",value:function(){for(var t=0,e=0;e<=15;e++){if(this.dataService.getStoredSubscriberInfo()){t=this.ssoService.isSmbEnabled()?1:0;break}this.ssoService.sleep(1e3)}return t}},{key:"getSubscribedStatus",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0;var n=sessionStorage.getItem("calix.subscriberId"),i=this.deviceInfo?1:n?2:0;!i||this.protectIqservices.getArloAccount(this.orgId,1==i?this.deviceInfo:n,i).subscribe(function(n){var i,o,r,a,l,s,c,u,d,p,g,f,h,v,m,b,y,Z,x,_,A,T,q,w,C,O,S,k,M,E;if(t.experienceiqstatus=null===(o=null===(i=null==n?void 0:n.edgeSuites)||void 0===i?void 0:i.experienceIQ)||void 0===o?void 0:o.subscribed,t.smbOrSmarttownEnabled=(null===(l=null===(a=null===(r=null==n?void 0:n.edgeSuites)||void 0===r?void 0:r.myCommunityIQ)||void 0===a?void 0:a.passpoint)||void 0===l?void 0:l.enable)&&"failed"!==(null===(d=null===(u=null===(c=null===(s=null==n?void 0:n.edgeSuites)||void 0===s?void 0:s.myCommunityIQ)||void 0===c?void 0:c.passpoint)||void 0===u?void 0:u.status)||void 0===d?void 0:d.result)||(null===(f=null===(g=null===(p=null==n?void 0:n.edgeSuites)||void 0===p?void 0:p.myCommunityIQ)||void 0===g?void 0:g.eduroam)||void 0===f?void 0:f.enable)&&"failed"!==(null===(b=null===(m=null===(v=null===(h=null==n?void 0:n.edgeSuites)||void 0===h?void 0:h.myCommunityIQ)||void 0===v?void 0:v.eduroam)||void 0===m?void 0:m.status)||void 0===b?void 0:b.result)||(null===(Z=null===(y=null==n?void 0:n.edgeSuites)||void 0===y?void 0:y.smallBizIQ)||void 0===Z?void 0:Z.enable)&&"failed"!==(null===(A=null===(_=null===(x=null==n?void 0:n.edgeSuites)||void 0===x?void 0:x.smallBizIQ)||void 0===_?void 0:_.status)||void 0===A?void 0:A.result),t.isSmartTownActivated=(null===(w=null===(q=null===(T=null==n?void 0:n.edgeSuites)||void 0===T?void 0:T.myCommunityIQ)||void 0===q?void 0:q.passpoint)||void 0===w?void 0:w.enable)&&["pending","succeeded"].includes(null===(k=null===(S=null===(O=null===(C=null==n?void 0:n.edgeSuites)||void 0===C?void 0:C.myCommunityIQ)||void 0===O?void 0:O.passpoint)||void 0===S?void 0:S.status)||void 0===k?void 0:k.result),t.smbEnabled=null===(E=null===(M=null==n?void 0:n.edgeSuites)||void 0===M?void 0:M.smallBizIQ)||void 0===E?void 0:E.enable,t.loading=!1,n){if(e)return void(t.subscriptionUpdated=t.deviceSubscription==n.edgeSuites.protectIQ.subscribed);t.deviceSubscription=n.edgeSuites.protectIQ.subscribed,n.edgeSuites.protectIQ.subscribed&&!t.undiscoveredGS&&(t.deviceStatus=n.edgeSuites.protectIQ.enabled)}},function(e){t.loading=!1,t.pageErrorHandle(e)})}},{key:"getDeviceStatus",value:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0,this.deviceInfo?this.protectIqservices.getDeviceStatus(this.deviceInfo,"CIES").subscribe(function(t){if(e.loading=!1,n)return e.enabledUpdated=e.deviceStatus==t.status.installed,void(e.tempDeviceStatus=t.status.installed);e.deviceStatus=t.status.installed,e.newData.userId?e.deviceStatus&&(e.showStatusNotification(),e.showFeatureAvailability()):e.onBoardedCheck()},function(t){e.pageErrorHandle(t),e.loading=!1}):this.deviceStatus=(null===(t=JSON.parse(sessionStorage.getItem("iqStatus")))||void 0===t?void 0:t.protectIQEnabled)||!1}},{key:"onBoardedCheck",value:function(){var t=this;this.protectIqservices.getUserId(this.deviceInfo).subscribe(function(e){t.loading=!1,e&&e.userId&&(t.newData=e,t.deviceStatus&&(t.showStatusNotification(),t.showFeatureAvailability()))},function(e){t.loading=!1,t.pageErrorHandle(e)})}},{key:"getScopes",value:function(){var t=this.ssoService.getScopes();if(d.N.VALIDATE_SCOPE){var e=Object.keys(t);if(e)for(var n=0;n<e.length;n++)-1===e[n].indexOf("cloud.rbac.csc.apps.experienceiq")?-1===e[n].indexOf("cloud.rbac.csc.apps.protectiq")||(this.scopeFlag.protectiq=!0):this.scopeFlag.experienceiq=!0;t["cloud.rbac.csc.apps.protectiq.configuration"]=t["cloud.rbac.csc.apps.protectiq.configuration"]?t["cloud.rbac.csc.apps.protectiq.configuration"]:[],t["cloud.rbac.csc.apps.protectiq.enablement"]=t["cloud.rbac.csc.apps.protectiq.enablement"]?t["cloud.rbac.csc.apps.protectiq.enablement"]:[],t&&t["cloud.rbac.csc.apps.protectiq.configuration"]&&(-1!==t["cloud.rbac.csc.apps.protectiq.configuration"].indexOf("read")&&(this.scopeFlag.configRead=!0),-1!==t["cloud.rbac.csc.apps.protectiq.configuration"].indexOf("write")&&(this.scopeFlag.configWrite=!0)),t&&t["cloud.rbac.csc.apps.protectiq.enablement"]&&(-1!==t["cloud.rbac.csc.apps.protectiq.enablement"].indexOf("read")&&(this.scopeFlag.enableRead=!0),-1!==t["cloud.rbac.csc.apps.protectiq.enablement"].indexOf("write")&&(this.scopeFlag.enableWrite=!0))}else this.scopeFlag.configRead=!0,this.scopeFlag.configWrite=!0,this.scopeFlag.enableRead=!0,this.scopeFlag.enableWrite=!0,this.scopeFlag.experienceiq=!0,this.scopeFlag.protectiq=!0}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe()}},{key:"showStatusNotification",value:function(){var t=this;this.loading=!0,this.notificationUserId=this.newData.userId,this.protectIqservices.getNotification(this.notificationUserId).subscribe(function(e){t.loading=!1,t.protectIQ_Uptime=t.timeConvert(e.active_since),t.myDate=new Date(e.last_updated),t.lastUpdated=t.myDate.toLocaleString(),t.packetsAnalyzedToday=e.packet_analyzed_today,t.totalVirusDetected=e.virus_detected,t.totalIntrusions=e.intrusions,t.totalWebThreats=e.web_based_threats},function(e){t.pageErrorHandle(e),t.loading=!1})}},{key:"timeConvert",value:function(t){var e=Math.floor(t/1440),n=Math.floor((t-1440*e)/60),i=Math.round(t%60);return e>0?e+" Days "+n+" Hrs , "+i+" Mins":n+(n>1?" Hrs ":" Hr, ")+i+" Mins"}},{key:"showAlerts",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isExpanded=[],this.loading=!0,this.alertDetails=[],e&&(this.selectedType="All"),this.protectIqservices.getAlerts(this.newData.userId,this.selectedType).subscribe(function(e){var n;t.loading=!1,t.alertDetails=(null===(n=null==e?void 0:e.body)||void 0===n?void 0:n.datas)||[],t.alertDetails.forEach(function(e){t.isExpanded.push(!1)})},function(e){404!=(null==e?void 0:e.status)&&t.pageErrorHandle(e),t.loading=!1})}},{key:"onPAClick",value:function(){var t=this;this.securityType=1,this.protectIqservices.setSecuritySettings({userId:this.newData.userId,securitySettings:[{type:this.securityType,enabled:this.securitySettingPA}]}).subscribe(function(e){t.showSecuritySettings()},function(e){t.pageErrorHandle(e)})}},{key:"onPSDClick",value:function(){var t=this;this.securityType=2,this.protectIqservices.setSecuritySettings({userId:this.newData.userId,securitySettings:[{type:this.securityType,enabled:this.securitySettingPSD}]}).subscribe(function(e){t.showSecuritySettings()},function(e){t.pageErrorHandle(e)})}},{key:"showSecuritySettings",value:function(){var t=this;this.loading=!0,this.notificationUserId=this.newData.userId,this.protectIqservices.getSecurityList(this.notificationUserId).subscribe(function(e){t.loading=!1,"PA"==e.securitySettings.data[0].name&&(t.securitySettingPA=e.securitySettings.data[0].enabled),"PSD"==e.securitySettings.data[1].name&&(t.securitySettingPSD=e.securitySettings.data[1].enabled)},function(e){t.pageErrorHandle(e),t.loading=!1})}},{key:"addTrustList",value:function(t,e){var n,i,o,r,a=this;e.stopPropagation(),e.preventDefault(),this.loading=!0;var l={userId:this.newData.userId,type:null===(n=null==t?void 0:t.securityAlarm)||void 0===n?void 0:n.type,signatureId:null===(i=null==t?void 0:t.securityAlarm)||void 0===i?void 0:i.signatureId,url:null===(o=null==t?void 0:t.securityAlarm)||void 0===o?void 0:o.url,message:null===(r=null==t?void 0:t.securityAlarm)||void 0===r?void 0:r.message,notifId:null==t?void 0:t.notifId};this.protectIqservices.addWhitelistDetails(l).subscribe(function(t){a.loading=!1,a.showAlerts()},function(t){a.pageErrorHandle(t),a.loading=!1})}},{key:"showTrustList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isExpanded=[],this.loading=!0,this.trustListDetails={whitelist:[]},e&&(this.selectedType="All"),this.protectIqservices.getTrustList(this.selectedType,this.newData.userId).subscribe(function(e){var n;t.loading=!1,t.trustListDetails=null==e?void 0:e.body,null===(n=t.trustListDetails)||void 0===n||n.whitelist.forEach(function(e){t.isExpanded.push(!1)})},function(e){404!=(null==e?void 0:e.status)&&t.pageErrorHandle(e),t.loading=!1})}},{key:"deleteWhiteListItem",value:function(t){var e=this;this.loading=!0,this.protectIqservices.removeItemInTrustList(t,this.newData.userId).subscribe(function(t){e.loading=!1,e.showTrustList()},function(t){e.pageErrorHandle(t),e.loading=!1})}},{key:"showSkipDevices",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loading=!0,e&&(this.isExpandedSkipDevice=[]),this.protectIqservices.getSkipList(this.newData.userId).subscribe(function(e){t.loading=!1,t.skipDevicesDetails=e,Object.keys(t.skipDevicesDetails).forEach(function(e){t.isExpandedSkipDevice.push(!1)})},function(e){t.pageErrorHandle(e),t.loading=!1})}},{key:"changeSkipStatus",value:function(t,e){var n=this;this.loading=!0,this.protectIqservices.updateSkipStatus({userId:this.newData.userId,deviceId:t,skip:!e}).subscribe(function(t){n.loading=!1,n.showSkipDevices(!1)},function(t){n.pageErrorHandle(t),n.loading=!1})}},{key:"skipStatusChangeAll",value:function(t){var e=this;this.loading=!0,this.protectIqservices.setAllSkipStatus({userId:this.newData.userId,skip:t}).subscribe(function(t){e.showSkipDevices(!1),e.loading=!1},function(t){e.pageErrorHandle(t),e.loading=!1})}},{key:"showFeatureAvailability",value:function(){var t=this;this.loading=!0,this.protectIqservices.getFeatureAvailability(this.newData.userId).subscribe(function(e){t.loading=!1,t.showSkippedDevice=e.psd,t.showSecuritySetting=e.securityByPass,t.showDetail=e.proofService},function(e){t.pageErrorHandle(e),t.loading=!1})}},{key:"toggleEnable",value:function(t){var e=this;this.deviceStatus!=t&&(this.deviceStatus=t,this.advLoading=!0,this.protectIqservices.setEnableStatus(this.orgId,this.deviceInfo,{app:"protectIQ",enable:this.deviceStatus}).subscribe(function(t){setTimeout(function(){var t=0;e.getDeviceStatus(!0);var n=setInterval(function(){t++,e.enabledUpdated?(e.advLoading=!1,clearInterval(n),e.updateAppTile(),e.getDeviceStatus()):12==t?(e.advLoading=!1,e.deviceStatus=!e.deviceStatus,clearInterval(n)):e.getDeviceStatus(!0)},1e4)},1e3*((null==t?void 0:t.estimatedDelay)||0)+2e3)},function(t){var n,i;e.deviceStatus=!1,(null===(i=null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.error)||void 0===i?void 0:i.msg.includes("not communicating with router"))?e.pageErrorHandle("Device is offline"):e.pageErrorHandle(t),e.advLoading=!1}))}},{key:"onSubscription",value:function(t){var e=this;if(this.deviceStatus!=t){this.deviceStatus=t,this.advLoading=!0;var n={fsn:this.deviceInfo,appName:"CIES",orderId:this.newData.userId};this.deviceStatus?this.protectIqservices.setInstall(n).subscribe(function(t){var n=0;e.getDeviceStatus(!0);var i=setInterval(function(){n++,e.enabledUpdated?(e.advLoading=!1,clearInterval(i),e.updateAppTile(),e.getDeviceStatus()):12==n?(e.advLoading=!1,e.deviceStatus=!e.deviceStatus,clearInterval(i)):e.getDeviceStatus(!0)},1e4)},function(t){var n,i;e.deviceStatus=!1,(null===(i=null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.error)||void 0===i?void 0:i.msg.includes("not communicating with router"))?e.pageErrorHandle("Device is offline"):e.pageErrorHandle(t),e.advLoading=!1}):this.protectIqservices.setUnInstall(n).subscribe(function(t){var n=0;e.getDeviceStatus(!0);var i=setInterval(function(){n++,e.enabledUpdated?(e.advLoading=!1,clearInterval(i),e.updateAppTile(),e.getDeviceStatus()):12==n?(e.advLoading=!1,e.deviceStatus=!e.deviceStatus,clearInterval(i)):e.getDeviceStatus(!0)},1e4)},function(t){var n,i;e.deviceStatus=!0,(null===(i=null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.error)||void 0===i?void 0:i.msg.includes("not communicating with router"))?e.pageErrorHandle("Device is offline"):e.pageErrorHandle(t),e.advLoading=!1})}}},{key:"toggleSubscription",value:function(t){var e=this;if(this.deviceSubscription!=t)if(this.deviceSubscription=t,this.advLoading=!0,this.hasSubscriber)this.protectIqservices.toggleAppSubscription(this.orgId,"ProtectIQ",this.subscriberStructure.subscriberLocationId,this.deviceSubscription).subscribe(function(t){var n=0;e.getSubscribedStatus(!0);var i=setInterval(function(){n++,e.subscriptionUpdated&&(e.undiscoveredGS||e.deviceSubscription==e.tempDeviceStatus)?(e.advLoading=!1,clearInterval(i),e.updateAppTile(),e.undiscoveredGS||e.getDeviceStatus()):12==n?(e.advLoading=!1,clearInterval(i),e.updateAppTile()):e.subscriptionUpdated?e.getDeviceStatus(!0):e.getSubscribedStatus(!0)},1e4)},function(t){var n,i;e.deviceSubscription=!e.deviceSubscription,e.advLoading=!1,(null===(i=null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.error)||void 0===i?void 0:i.msg.includes("not communicating with router"))?e.pageErrorHandle("Device is offline"):e.pageErrorHandle(t)});else{var n={protectIQ:{},experienceIQ:{}};n.experienceIQ={subscribed:this.experienceiqstatus},n.protectIQ={subscribed:this.deviceSubscription},this.protectIqservices.toggleAppSubscriptionwithoutsubscriber(this.orgId,this.deviceInfo,n).subscribe(function(t){var n=0,i=2e3;t&&t.estimatedDelay&&(i+=1e3*t.estimatedDelay),setTimeout(function(){e.getSubscribedStatus(!0)},i);var o=setInterval(function(){n++,e.subscriptionUpdated&&(e.undiscoveredGS||e.deviceSubscription==e.tempDeviceStatus)?(e.advLoading=!1,clearInterval(o),e.updateAppTile(),e.undiscoveredGS||e.getDeviceStatus()):12==n?(e.advLoading=!1,clearInterval(o),e.updateAppTile()):e.subscriptionUpdated?e.getDeviceStatus(!0):e.getSubscribedStatus(!0)},1e4)},function(t){var n,i;e.deviceSubscription=!e.deviceSubscription,e.advLoading=!1,(null===(i=null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.error)||void 0===i?void 0:i.msg.includes("not communicating with router"))?e.pageErrorHandle("Device is offline"):e.pageErrorHandle(t)})}}},{key:"onEnabled",value:function(){var t=this;this.loading=!0;var e={sn:this.deviceInfo,appName:"CIES"};!0===this.deviceSubscription?this.protectIqservices.setEnabled(e).subscribe(function(e){t.loading=!1,t.getDeviceStatus()},function(e){t.pageErrorHandle(e),t.loading=!1,t.deviceSubscription=!1}):!1===this.deviceSubscription&&this.protectIqservices.setUnEnabled(e).subscribe(function(e){setTimeout(function(){t.loading=!1,t.getDeviceStatus()},2e4)},function(e){t.pageErrorHandle(e),t.loading=!1})}},{key:"updateAppTile",value:function(){var t=this;this.advLoading=!0;var e=this.deviceInfo||sessionStorage.getItem("undiscoveredSn")||"";e&&this.protectIqservices.tileStatus(this.orgId,e,this.subscriberStructure._id).subscribe(function(e){var n,i,o,r,a,l,s,c,u,d,p,g,f,h,v,m,b,y,Z;t.advLoading=!1,e=e||{};var x=0,_=t.ssoService.getScopes(),A=(null===(i=null===(n=null==e?void 0:e.app)||void 0===n?void 0:n.servifyCare)||void 0===i?void 0:i.email)&&(t.getEntitlemnt("207")||t.getEntitlemnt("215")||t.getEntitlemnt("216")||t.getEntitlemnt("217"))&&_["cloud.rbac.csc.apps.servify"]?1:0,T=(null===(r=null===(o=null==e?void 0:e.app)||void 0===o?void 0:o.arloSmart)||void 0===r?void 0:r.email)&&(t.getEntitlemnt("206")||t.getEntitlemnt("212")||t.getEntitlemnt("213"))&&_["cloud.rbac.csc.apps.arlo"]?1:0,q=(null===(s=null===(l=null===(a=null==e?void 0:e.app)||void 0===a?void 0:a.myCommunityIQ)||void 0===l?void 0:l.subscriber)||void 0===s?void 0:s.enable)&&t.getEntitlemnt("214")&&_["cloud.rbac.csc.apps.mycommunityiq"]?1:0,w=(null===(u=null===(c=null==e?void 0:e.app)||void 0===c?void 0:c.bark)||void 0===u?void 0:u.email)&&(t.getEntitlemnt("219")||t.getEntitlemnt("220"))&&_["cloud.rbac.csc.apps.bark"]?1:0;(t.getEntitlemnt("203")||t.getEntitlemnt("205"))&&_["cloud.rbac.csc.apps.protectiq"]&&(null===(p=null===(d=null==e?void 0:e.app)||void 0===d?void 0:d.protectIQ)||void 0===p?void 0:p.subscribed)&&x++,(t.getEntitlemnt("204")||t.getEntitlemnt("205"))&&_["cloud.rbac.csc.apps.experienceiq"]&&(null===(f=null===(g=null==e?void 0:e.app)||void 0===g?void 0:g.experienceIQ)||void 0===f?void 0:f.subscribed)&&x++,$("#commandIQEmailId").text((null===(h=null==e?void 0:e.commandIQ)||void 0===h?void 0:h.fduser)?"-":(null===(v=null==e?void 0:e.commandIQ)||void 0===v?void 0:v.email)||"-"),$("#appSubscribedId").text(x+A+T+q+w!=0?x+A+T+q+w:"-"),$("#appInstalledId").text(null!=(null===(m=null==e?void 0:e.installed)||void 0===m?void 0:m.count)?null===(b=null==e?void 0:e.installed)||void 0===b?void 0:b.count:"-");var C=t.dataService.getSubscriberTabInfoData()||{};(null===(y=null==C?void 0:C.networkStatus)||void 0===y?void 0:y.appCount)||(C.networkStatus={appCount:{}}),C.networkStatus.appCount={subscriberAppCount:x+A+T+q+w,enabledAppCount:null===(Z=null==e?void 0:e.installed)||void 0===Z?void 0:Z.count},t.dataService.setSubscriberTabInfoData(C)},function(e){t.pageErrorHandle(e),t.advLoading=!1})}},{key:"getEntitlemnt",value:function(t){return this.ssoService.getEntitlementsArr().includes(t)}},{key:"accordianChange",value:function(t){}},{key:"pageErrorHandle",value:function(t){this.isError=!0,this.warningMessage=401===t.status?this.language["Access Denied"]:504===t.status?this.language["This alert is already trusted and requires no further action."]:this.ssoService.pageErrorHandle(t)}},{key:"formValueChanges",value:function(){}},{key:"isWfhAvailable",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0,this.dataService.fetchMetaDatavaluesNew(this.orgId,this.deviceInfo,e).subscribe(function(e){t.loading=!1,e["secondary-ssid"].forEach(function(e,n){2==e.type&&(t.isWFHAvailable=!0)})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.Y36(f.s),g.Y36(y.a),g.Y36(h.t6),g.Y36(v.Q),g.Y36(u.F0),g.Y36(z.Dx))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-protect-iq"]],decls:1,vars:1,consts:[["class","row my-3",4,"ngIf"],[1,"row","my-3"],[1,"col-lg-2","col-md-3","col-sm-12","tab-sec","border-right","smy-2"],["id","tabs","class","w-100 nav nav-tabs sub-tab vertical-tab",4,"ngIf","ngIfElse"],["tabElseBlock",""],["noFeatureAvailability",""],[1,"col-lg-10","col-md-9","col-sm-12","details-sec"],["class","w-100 alert alert alert-danger fade show d-flex justify-content-between align-items-center",4,"ngIf"],["class","row","id","details","role","tab","aria-labelledby","details",4,"ngIf"],["class","loader",4,"ngIf"],["class","col-12 px-0","id","alert","role","tab","aria-labelledby","alert",4,"ngIf"],["id","tabs",1,"w-100","nav","nav-tabs","sub-tab","vertical-tab"],[1,"nav-item"],["data-toggle","tab","href","javascript:void(0)","id","details",1,"nav-link","small","active",3,"click"],["data-toggle","tab","href","javascript:void(0)","id","alert",1,"nav-link","small",3,"click"],["data-toggle","tab","href","javascript:void(0)","id","piq-Trusted-List",1,"nav-link","small",3,"click"],["data-toggle","tab","class","nav-link small","href","javascript:void(0)","id","piq-skip-device",3,"click",4,"ngIf","ngIfElse"],["data-toggle","tab","class","nav-link small text-truncate","href","javascript:void(0)","id","piq-security-settings",3,"title","click",4,"ngIf","ngIfElse"],["data-toggle","tab","href","javascript:void(0)","id","piq-skip-device",1,"nav-link","small",3,"click"],["data-toggle","tab","href","javascript:void(0)","id","piq-security-settings",1,"nav-link","small","text-truncate",3,"title","click"],["id","tabs2",1,"nav","nav-tabs","sub-tab","vertical-tab","w-100"],[1,"w-100","alert","alert","alert-danger","fade","show","d-flex","justify-content-between","align-items-center"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],[1,"d-inline-flex","wrn-msg",3,"innerHtml"],["type","button",1,"btn-default","primary","ok",3,"click"],["id","details","role","tab","aria-labelledby","details",1,"row"],[1,"col-lg-6","col-md-12","col-sm-12"],[1,"Protect-iq-table"],[1,"detail-list","mt-3"],["scope","row",1,""],[1,""],[1,"toggle-swtbtn","checkbox","switcher","mb-2"],["for","selfHealbox"],["type","checkbox","id","selfHealbox",3,"disabled","checked","ngModel","change","ngModelChange"],[3,"ngClass"],[4,"ngIf"],["for","selfHealbox1"],["type","checkbox","id","selfHealbox1",3,"disabled","checked","ngModel","change","ngModelChange"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"col-lg-6","px-0","col-md-12","col-sm-12"],[1,"border-bottom"],["id","detail-settings",1,"ccl-Secondary-title"],[1,"col-12","col-lg-12","pl-1","mt-3","font-weight-bold"],[1,"col-12","col-lg-12","pl-1"],[1,"form-check","form-check-inline"],["type","radio","id","materialInline3","name","subscribed",3,"ngModel","value","disabled","ngModelChange","click"],["for","materialInline3",1,"form-check-label","mx-2"],["type","radio","id","materialInline4","name","subscribed",3,"ngModel","value","disabled","ngModelChange","click"],["for","materialInline4",1,"form-check-label","mx-2"],["type","radio","id","materialInline10","name","enabled",3,"ngModel","value","disabled","ngModelChange","click"],["for","materialInline10",1,"form-check-label","mx-2"],["type","radio","id","materialInline11","name","enabled",3,"ngModel","value","disabled","ngModelChange","click"],["for","materialInline11",1,"form-check-label","mx-2"],[1,"detail-list","mt-3","d-none"],["noSubScription",""],["class","col-lg-6 col-md-12 col-sm-12",4,"ngIf"],["for","selfHealCheckbox"],["type","checkbox","id","selfHealCheckbox",3,"checked","ngModel","disabled","change","ngModelChange"],["for","selfHealCheckbox1"],["type","checkbox","id","selfHealCheckbox1",3,"checked","ngModel","disabled","change","ngModelChange"],[1,"toggleDisabled"],[1,"flex-space-between","border-bottom"],["id","details-status",1,"ccl-Secondary-title"],["href","javascript:void(0)",3,"click"],[1,"fas","fa-sync","refreshicon"],["id","Protect-iq-status-table",1,"detail-list","detail-list-table"],["scope","row"],["id","alert","role","tab","aria-labelledby","alert",1,"col-12","px-0"],["id","protect-iq-alert-table",1,"detail-list","skip-device"],[1,"w-30"],["id","alert-occurred",1,"ccl-Secondary-title","user-name"],["id","alert-details",1,"ccl-Secondary-title","user-name"],[1,"w-20","ccl-form"],["name","alert","bindLabel","viewValue","bindValue","value",1,"my-2",3,"ngModel","items","searchable","ngModelChange","change"],["ng-label-tmp",""],["ng-option-tmp",""],[4,"ngFor","ngForOf"],["colspan","3"],[1,"protect-iq-accordion"],["id","accordion"],[1,"card"],["id","alert-carc"],[1,"row","mb-0"],[1,"alert-ul",3,"click"],[1,"occurr-date"],[1,"Protect-iq-info"],[1,"plus-minus-toggle","mr-2"],["class","plus",4,"ngIf","ngIfElse"],["expanded",""],[1,"alert-details"],[4,"ngIf","ngIfElse"],["showUrl",""],[1,"alert-btn","opacityCheck"],[1,"btn","default-btn",3,"id","click"],[3,"id",4,"ngIf"],[1,"plus"],[1,"minus"],[3,"id"],[1,"table","table-borderless"],[1,"w-60","p-0"],[1,"detail-list","protectiq-alerts-table"],["colspan","5",1,"no-data-available"],[1,"Protect-iq-table","px-0"],["id","protect-iq-trusted-list",1,"detail-list","skip-device"],["id","protect-iq-trusted-name",1,"ccl-Secondary-title","user-name"],["id","protect-trustedList",1,"ccl-Secondary-title","user-name"],[1,"w-20"],["id","accordionTable",1,"accordion-toggle","collapsed"],[1,"px-0","dropdown-toggle","alert-ul",3,"click"],[1,"plus-minus-toggle","mr-2",3,"click"],[1,"trusted-title-info"],[1,"btn","btn-danger",3,"id","click"],["class","in p-3",4,"ngIf"],["showInfoMsg",""],[1,"in","p-3"],[1,"detail-list","protectiq-trusted-list-table"],[1,"flex","skip-btns"],["type","button","id","sd-skip-all",1,"btn","btn-primary","br-26","b-none","mr-3",3,"disabled","ngClass","click"],["type","button","id","sd-scan-all",1,"btn","btn-primary","br-26","b-none",3,"disabled","ngClass","click"],["id","piq-skipped-device",1,"detail-list","skip-device","mt-4"],[1,"w-40"],["id","sd-device",1,"ccl-Secondary-title","user-name"],[1,"w-50"],["id","sd-status",1,"ccl-Secondary-title","user-name"],[1,"w-10"],[1,"dropdown-toggle","align-middle",3,"click"],[1,"mb-0"],[1,"plus-minus-toggle",3,"click"],[1,"lap-icon"],["alt","",3,"src"],["aria-labelledby","headingThree","data-parent","#accordion",3,"id",4,"ngIf"],["aria-labelledby","headingThree","data-parent","#accordion",3,"id"],[1,"table","device-detail","table-borderless","protectiq-skipped-table"],["scope","row",1,"w-40"],[1,"about-device"],["alt","",2,"width","25px","height","25px",3,"src"],["class","w-50","style","padding-top: 30px",4,"ngIf","ngIfElse"],["elseBlock",""],["class","skip-sec",4,"ngIf","ngIfElse"],["checkSkipping",""],[1,"w-50",2,"padding-top","30px"],[1,"skip-sec"],["type","button",1,"btn-default","primary","skip-btn",3,"disabled","ngClass","click"]],template:function(t,e){1&t&&g.YNc(0,zt,22,12,"div",0),2&t&&g.Q6J("ngIf",e.scopeFlag.configRead)},directives:[l.O5,G.Wl,G.JJ,G.On,l.mk,G._,G.Fj,W.w9,W.bb,W.Z2,l.sg],pipes:[l.uU,K.P,l.Nd,V.g,X.q],styles:['@charset "UTF-8";.Protect-iq-card[_ngcontent-%COMP%]{border-radius:10px;border:1px solid #f5f5f5;padding:10px 18px!important;box-shadow:0 0 2px #ccccccb8;cursor:pointer;width:100%}.Protect-iq-card[_ngcontent-%COMP%]:hover{border-radius:10px;background-color:#f5f5f5;padding:10px;box-shadow:0 0 2px #ccccccb8;cursor:pointer}.refreshicon[_ngcontent-%COMP%]{width:16px;height:16px}.flex-space-between[_ngcontent-%COMP%]{padding-bottom:0}.Protect-iq-card.selected[_ngcontent-%COMP%]{border-radius:10px;background-color:#f5f5f5;padding:10px;box-shadow:0 0 2px #ccccccb8;cursor:pointer}.Protect-iq-active[_ngcontent-%COMP%]{border-radius:10px;background-color:#f5f5f5;padding:10px;box-shadow:0 0 2px #ccccccb8;cursor:pointer}.protect-iq-accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none}.protect-iq-accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#fff;box-shadow:none;border:none}.plus-minus-toggle[_ngcontent-%COMP%]{border:2px solid #000;width:18px;height:18px;display:flex;align-items:center;justify-content:center;border-radius:2px;font-size:20px;font-weight:600}.device-detail[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f2f2f2}.device-detail[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .skip-sec[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:all .3s}.device-detail[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .skip-sec[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:all .3s}.lap-icon[_ngcontent-%COMP%]{margin:0 10px;width:3%}.skip-device[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.Protect-iq-table[_ngcontent-%COMP%]{padding:0 10px;width:100%}.Protect-iq-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.detail-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;padding:0}.detail-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #EBEAEF;line-height:24px;padding:0 10px}.detail-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 10px}.detail-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0 10px}.detail-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;margin-bottom:0}.detail-list[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600}.Protect-iq-info[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.device-detail.table-borderless[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .device-detail.table-borderless[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px 0}.device-detail.table-borderless[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:70px}.card-header[_ngcontent-%COMP%]   .ccl-accordion-icon[_ngcontent-%COMP%]:after{content:"\\f078";font-family:FontAwesome;font-style:normal;font-weight:normal;text-decoration:inherit;color:#9e9e9e;font-size:18px;padding-right:.5em;position:absolute;top:10px;left:50px}.card-header.collapsed[_ngcontent-%COMP%]   .ccl-accordion-icon[_ngcontent-%COMP%]:after{transform:scaleY(-1)}.protectiq-alerts-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 0}.protectiq-alerts-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 0;width:70%;word-break:break-all}.protectiq-alerts-table[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]{box-sizing:border-box!important;font-weight:normal!important;font-size:14px!important}.protectiq-trusted-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 0}.protectiq-trusted-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 0}.protectiq-skipped-table[_ngcontent-%COMP%]{margin:10px 0}.protectiq-skipped-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{padding:10px 0}.protectiq-skipped-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 0;vertical-align:unset!important}.protectiq-skipped-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 0}.table-borderless[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding-top:15px}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.ccl-form-group[_ngcontent-%COMP%]{display:block;margin-bottom:15px}.ccl-form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0;height:auto;height:initial;width:auto;width:initial;margin-bottom:0;display:none;cursor:pointer}.ccl-form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.ccl-form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{content:"";-webkit-appearance:none;background-color:transparent;border:2px solid #0079bf;box-shadow:0 1px 2px #0000000d,inset 0 -15px 10px -12px #0000000d;padding:10px;display:inline-block;position:relative;vertical-align:middle;cursor:pointer;margin-right:5px}.ccl-form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;top:6px;left:9px;width:6px;height:14px;border:solid #0079bf;border-width:0 2px 2px 0;transform:rotate(45deg)}.protect-iq-menu-card[_ngcontent-%COMP%]{width:25%;padding:0 5px;cursor:pointer}.protect-iq-menu-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0 10px;white-space:nowrap}.protect-iq-accordion[_ngcontent-%COMP%]{width:100%}.accordion[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:after{font-family:"FontAwesome";content:"\\f068";float:right}.accordion[_ngcontent-%COMP%]   .card-header.collapsed[_ngcontent-%COMP%]:after{content:"\\f067"}.btn-danger[_ngcontent-%COMP%]{color:#000}.btn-danger[_ngcontent-%COMP%]:hover{color:#fff}.alert-ul[_ngcontent-%COMP%]{font-size:16px;padding:10px}.trusted-title-info[_ngcontent-%COMP%]{word-break:break-all;white-space:break-spaces;min-width:690px}.alert-ul[_ngcontent-%COMP%]   .alert-details[_ngcontent-%COMP%]{width:50%;word-break:break-all}.alert-btn.opacityCheck[_ngcontent-%COMP%]{opacity:1!important}.toggleDisabled[_ngcontent-%COMP%]{opacity:.5}.nav-tabs[_ngcontent-%COMP%]   a.nav-link.active[_ngcontent-%COMP%]{font-weight:normal!important}.wrn-msg[_ngcontent-%COMP%]{width:85%}']}),t}(),Wt=r(72161),Kt=r(40205),Vt=r(5304),$t=function(){var t=function(){function t(e,n){o(this,t),this.http=e,this.sso=n}return a(t,[{key:"getServifyInfo",value:function(t,e){var n=this.sso.getOrg(t);return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"/subscriber-systems/edge-suites/servify-contract?").concat(n,"subscriberId=").concat(e)).pipe((0,Vt.K)(this.handleError))}},{key:"getServifyClaims",value:function(t){return this.http.get("".concat(d.N.SUPPORT_URL,"/partner/feature/servify/claims?userId=").concat(t)).pipe((0,Vt.K)(this.handleError))}},{key:"getServifyHealth",value:function(){return this.http.get("".concat(d.N.SUPPORT_URL,"/partner/feature/servify/health")).pipe((0,Vt.K)(this.handleError))}},{key:"getUserEmail",value:function(t){return this.http.get("".concat(d.N.API_BASE_URL,"/admin/user/").concat(t)).pipe((0,Vt.K)(this.handleError))}},{key:"sendEmail",value:function(t){var n=e(t,4),i=n[0],o=n[1],r=n[2],a=n[3];return this.http.post("".concat(d.N.SUPPORT_URL,"/filemanage/email"),{to:i,subject:o,content:r,replyTo:a}).pipe((0,Vt.K)(this.handleError))}},{key:"handleError",value:function(t){return(0,Kt._)(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.LFG(m.eN),g.LFG(h.t6))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Xt=r(20408),te=r(12664),ee=r(20904),ne=r(74062),ie=["escalationProcessModal"],oe=["escalationProcessEditor"];function re(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",25),g.TgZ(1,"span",26),g._UZ(2,"img",27),g.qZA(),g.TgZ(3,"button",28),g.NdJ("click",function(){return g.CHM(n),g.oxw().isError=!1}),g._uU(4),g.qZA(),g._UZ(5,"span",29),g.qZA()}if(2&t){var i=g.oxw();g.xp6(4),g.hij(" ",i.language.OK," "),g.xp6(1),g.Q6J("innerHtml",i.alertMessage,g.oJD)}}function ae(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"button",30),g.NdJ("click",function(){return g.CHM(n),g.oxw().escalationProcessEditorModal()}),g._uU(1),g.qZA()}if(2&t){var i=g.oxw();g.xp6(1),g.hij(" ",i.language["Escalate to Servify"]," ")}}function le(t,e){if(1&t&&(g.TgZ(0,"div",31),g.TgZ(1,"div",32),g.TgZ(2,"div",33),g.TgZ(3,"span",34),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(4),g.Oqu(n.language.Loading)}}function se(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.ALo(5,"date"),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(2),g.Oqu(n.language["Subscription Start"]),g.xp6(2),g.Oqu(n.accountDetailsLoading?"-":g.xi3(5,2,null==n.servifyInfo?null:n.servifyInfo.planPurchaseDate,"MM/dd/Y")||"-")}}var ce=function(t,e){return[t,e]};function ue(t,e){if(1&t&&(g._UZ(0,"p",39),g.ALo(1,"lowercase"),g.ALo(2,"date")),2&t){var n=g.oxw(2);g.Q6J("innerHtml",n.language.planChangeServify(g.WLB(6,ce,g.lcZ(1,1,((null==n.servifyInfo||null==n.servifyInfo.planChange?null:n.servifyInfo.planChange.newPlanCode)||"").replace("SERVIFYCARE","")),g.xi3(2,3,null==n.servifyInfo||null==n.servifyInfo.planChange?null:n.servifyInfo.planChange.requested,"MMMM d, y"))),g.oJD)}}function de(t,e){if(1&t&&(g.TgZ(0,"p",40),g._uU(1),g.TgZ(2,"span",41),g._uU(3),g.ALo(4,"date"),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["The changeover is expected to take place on"]," "),g.xp6(2),g.Oqu(g.xi3(4,2,null==n.servifyInfo||null==n.servifyInfo.planChange?null:n.servifyInfo.planChange.effective,"MMMM d, y"))}}function pe(t,e){if(1&t&&(g.TgZ(0,"p",42),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",null==n.servifyInfo||null==n.servifyInfo.planChange?null:n.servifyInfo.planChange.message,"")}}function ge(t,e){if(1&t&&(g.TgZ(0,"p",40),g._uU(1),g.TgZ(2,"span",41),g._uU(3),g.ALo(4,"date"),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language.servifyPlanEffectiveFrom," "),g.xp6(2),g.hij(" ",g.xi3(4,2,null==n.servifyInfo||null==n.servifyInfo.planChange?null:n.servifyInfo.planChange.effective,"MMMM d, y")," ")}}function fe(t,e){if(1&t&&(g.TgZ(0,"p",40),g._uU(1),g.TgZ(2,"b"),g._uU(3),g.ALo(4,"date"),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["This subscriber's service was cancelled on"]," "),g.xp6(2),g.Oqu(g.xi3(4,2,null==n.servifyInfo?null:n.servifyInfo.cancelDate,"MMMM d, y"))}}function he(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td",35),g.YNc(2,ue,3,9,"p",36),g.YNc(3,de,5,5,"p",37),g.YNc(4,pe,2,1,"p",38),g.YNc(5,ge,5,5,"p",37),g.YNc(6,fe,5,5,"p",37),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(2),g.Q6J("ngIf",!n.cancelledStatus),g.xp6(1),g.Q6J("ngIf",!n.cancelledStatus&&"requested"===(null==n.servifyInfo||null==n.servifyInfo.planChange?null:n.servifyInfo.planChange.status)&&(null==n.servifyInfo||null==n.servifyInfo.planChange?null:n.servifyInfo.planChange.effective)),g.xp6(1),g.Q6J("ngIf",!n.cancelledStatus&&"denied"===(null==n.servifyInfo||null==n.servifyInfo.planChange?null:n.servifyInfo.planChange.status)),g.xp6(1),g.Q6J("ngIf",!n.cancelledStatus&&"accepted"===(null==n.servifyInfo||null==n.servifyInfo.planChange?null:n.servifyInfo.planChange.status)&&(null==n.servifyInfo||null==n.servifyInfo.planChange?null:n.servifyInfo.planChange.effective)),g.xp6(1),g.Q6J("ngIf",n.cancelledStatus&&(null==n.servifyInfo?null:n.servifyInfo.cancelDate))}}function ve(t,e){if(1&t&&(g.TgZ(0,"div",31),g.TgZ(1,"div",32),g.TgZ(2,"div",33),g.TgZ(3,"span",34),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(4),g.Oqu(n.language.Loading)}}function me(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td",14),g._uU(4),g.qZA(),g.qZA()),2&t){var n=e.$implicit,i=g.oxw();g.xp6(2),g.Oqu(i.language[n.health_name]||n.health_name),g.xp6(1),g.Q6J("ngClass",n.status?"highlightGreen":"highlightRed"),g.xp6(1),g.hij(" ",i.servifyStatusLoading?"-":n.status?i.language.Up:i.language.Down," ")}}function be(t,e){if(1&t&&(g.TgZ(0,"div",31),g.TgZ(1,"div",32),g.TgZ(2,"div",33),g.TgZ(3,"span",34),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(4),g.Oqu(n.language.Loading)}}function ye(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"th"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.ALo(5,"date"),g.qZA(),g.TgZ(6,"td"),g._uU(7),g.qZA(),g.TgZ(8,"td"),g._uU(9),g.qZA(),g._uU(10),g.TgZ(11,"td"),g.TgZ(12,"div",43),g._UZ(13,"span",44),g._uU(14),g.qZA(),g.qZA(),g.TgZ(15,"td"),g._uU(16),g.qZA(),g.qZA()),2&t){var n=e.$implicit,i=g.oxw();g.xp6(2),g.Oqu(null==n?null:n.claimId),g.xp6(2),g.Oqu(g.xi3(5,8,null==n?null:n.created,"MMM d, y")),g.xp6(3),g.Oqu(null==n?null:n.deviceName),g.xp6(2),g.Oqu(null==n?null:n.serialNumber),g.xp6(1),g.hij(" ",i.showClaimStatus(n.claimStatus)," "),g.xp6(2),g.Q6J("ngClass",i.claimStatusClass),g.xp6(2),g.hij(" ",i.claimStatusinText," "),g.xp6(2),g.Oqu(n.claimStatusDetail)}}function Ze(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td",45),g._uU(2),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(2),g.hij(" ",n.language["No Data Available"]," ")}}function xe(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",46),g.TgZ(1,"button",47),g.NdJ("click",function(){return g.CHM(n).$implicit.dismiss("Cross click")}),g._UZ(2,"img",48),g.qZA(),g.qZA(),g.TgZ(3,"div",2),g.TgZ(4,"div",49),g.TgZ(5,"div",50),g.TgZ(6,"div",51),g.TgZ(7,"h5",52),g._uU(8),g.qZA(),g.qZA(),g.TgZ(9,"div",53),g.TgZ(10,"div",2),g.TgZ(11,"div",54),g.TgZ(12,"div",51),g.TgZ(13,"div",55),g._uU(14),g.qZA(),g.qZA(),g.TgZ(15,"div",56),g.TgZ(16,"ol"),g.TgZ(17,"li"),g._uU(18),g.qZA(),g.TgZ(19,"li"),g._uU(20),g.qZA(),g.TgZ(21,"li"),g._uU(22),g.qZA(),g.TgZ(23,"li"),g._uU(24),g.TgZ(25,"a",57),g._uU(26,"calixpartnersupport@servifycare.com"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(27,"ul"),g.TgZ(28,"li"),g._uU(29),g.qZA(),g.TgZ(30,"li"),g._uU(31," *"),g._UZ(32,"span",58),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(33,"div",54),g.TgZ(34,"div",51),g.TgZ(35,"div",59),g._uU(36),g.qZA(),g.qZA(),g.TgZ(37,"div",51),g.TgZ(38,"div"),g.TgZ(39,"span",60),g._uU(40),g.qZA(),g.qZA(),g.TgZ(41,"div",61),g._uU(42),g.TgZ(43,"span"),g._uU(44),g.qZA(),g.qZA(),g.TgZ(45,"div",62),g.TgZ(46,"span",60),g._uU(47),g.qZA(),g.qZA(),g.TgZ(48,"div"),g.TgZ(49,"ul",63),g.TgZ(50,"li"),g._uU(51),g.TgZ(52,"span",64),g._uU(53),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(54,"div",65),g.TgZ(55,"button",66),g.NdJ("click",function(){return g.CHM(n),g.oxw().copyToClipboard()}),g._uU(56),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.xp6(8),g.Oqu(i.language["Escalation Process"]),g.xp6(6),g.Oqu(i.language.Instructions),g.xp6(4),g.hij("",i.language["Open your preferred email client and paste the following email template"]," "),g.xp6(2),g.hij("",i.language["Update the subject line with a summary of the issue being experienced"]," "),g.xp6(2),g.Oqu(i.language["Add the requested information to each line in the body of the email"]),g.xp6(2),g.hij("",i.language["Send the email to"]," "),g.xp6(5),g.hij(" *",i.language["Do not modify this template as it will result in a delay of handling the escalation."]," "),g.xp6(3),g.Q6J("innerHTML",i.language["The BSP email address will be used as the email sender ID and all replies will be sent to this ID only. If any other recepients are required, please CC them."],g.oJD),g.xp6(4),g.Oqu(i.language["Email Template"]),g.xp6(4),g.hij("",i.language.subject,":"),g.xp6(2),g.hij(" ",i.language["Calix Partner Escalation"],": "),g.xp6(2),g.lnq(" ","<","",i.language["BSP Name"],"",">",""),g.xp6(3),g.hij("",i.language.Body,":"),g.xp6(4),g.hij(" ",i.language["Short Description of the Problem"]," "),g.xp6(2),g.hij(" ",i.language["(it is recommended not to include any personally identifiable information (PII) in the description):"]," "),g.xp6(3),g.hij(" ",i.language["Copy to clipboard"],"")}}function _e(t,e){if(1&t&&(g.TgZ(0,"div",31),g.TgZ(1,"div",32),g.TgZ(2,"div",33),g.TgZ(3,"span",34),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(4),g.Oqu(n.language.Loading)}}function Ae(t,e){if(1&t&&(g.TgZ(0,"small",120),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["This field is required"],". ")}}function Te(t,e){if(1&t&&(g.TgZ(0,"small",120),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["Please enter a valid email address"],". ")}}function qe(t,e){if(1&t&&(g.TgZ(0,"small",120),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["This field is required"],". ")}}function we(t,e){if(1&t&&(g.TgZ(0,"small",120),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["Please enter a valid email address"],". ")}}function Ce(t,e){if(1&t&&(g.TgZ(0,"small",120),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["This field is required"],". ")}}var Oe=function(t){return{redoDisablity:t}};function Se(t,e){if(1&t){var n=g.EpF();g.YNc(0,_e,5,1,"div",7),g.TgZ(1,"div",2),g.TgZ(2,"div",67),g.TgZ(3,"div",68),g._uU(4),g.qZA(),g.TgZ(5,"div",69),g.NdJ("click",function(){return g.CHM(n).$implicit.dismiss("Cross click")}),g._UZ(6,"img",70),g.qZA(),g.qZA(),g.TgZ(7,"div",71),g.TgZ(8,"div",72),g.TgZ(9,"div",73),g.TgZ(10,"label"),g._uU(11),g.qZA(),g.qZA(),g.TgZ(12,"div",74),g._UZ(13,"input",75),g.qZA(),g.qZA(),g.TgZ(14,"div",72),g.TgZ(15,"div",73),g.TgZ(16,"label"),g._uU(17),g.qZA(),g.qZA(),g.TgZ(18,"div",74),g.TgZ(19,"input",76),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().replyTo=t})("blur",function(){g.CHM(n);var t=g.oxw();return t.removeUnwantedSpace("replyTo",t.replyTo)}),g.qZA(),g.YNc(20,Ae,2,1,"small",77),g.YNc(21,Te,2,1,"small",77),g.qZA(),g.qZA(),g.TgZ(22,"div",72),g.TgZ(23,"div",73),g.TgZ(24,"label"),g._uU(25),g.qZA(),g.qZA(),g.TgZ(26,"div",74),g.TgZ(27,"input",76),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().sendTo=t})("blur",function(){g.CHM(n);var t=g.oxw();return t.removeUnwantedSpace("sendTo",t.sendTo)}),g.qZA(),g.YNc(28,qe,2,1,"small",77),g.YNc(29,we,2,1,"small",77),g.qZA(),g.qZA(),g.TgZ(30,"div",72),g.TgZ(31,"div",73),g.TgZ(32,"label"),g._uU(33),g.qZA(),g.qZA(),g.TgZ(34,"div",74),g.TgZ(35,"input",78),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().mailSubject=t})("blur",function(){g.CHM(n);var t=g.oxw();return t.removeUnwantedSpace("mailSubject",t.mailSubject)}),g.qZA(),g.YNc(36,Ce,2,1,"small",77),g.qZA(),g.qZA(),g.qZA(),g.TgZ(37,"div",79),g.TgZ(38,"div",80),g.TgZ(39,"div",81),g.TgZ(40,"div",82),g.TgZ(41,"div",73),g.TgZ(42,"span",83),g._UZ(43,"button",84),g._UZ(44,"button",85),g.qZA(),g.qZA(),g.TgZ(45,"div",74),g.TgZ(46,"span",86),g.TgZ(47,"span",87),g.TgZ(48,"select",88),g.TgZ(49,"option",89),g._uU(50,"Sans Serif"),g.qZA(),g.TgZ(51,"option",90),g._uU(52,"Serif"),g.qZA(),g.TgZ(53,"option",91),g._uU(54,"Monospace"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(55,"span",83),g.TgZ(56,"select",92),g.TgZ(57,"option",93),g._uU(58,"12"),g.qZA(),g.TgZ(59,"option",94),g._uU(60,"14"),g.qZA(),g.TgZ(61,"option",95),g._uU(62,"16"),g.qZA(),g.TgZ(63,"option",96),g._uU(64,"18"),g.qZA(),g.TgZ(65,"option",97),g._uU(66,"20"),g.qZA(),g.TgZ(67,"option",98),g._uU(68,"22"),g.qZA(),g.TgZ(69,"option",99),g._uU(70,"24"),g.qZA(),g.TgZ(71,"option",100),g._uU(72,"26"),g.qZA(),g.TgZ(73,"option",101),g._uU(74,"28"),g.qZA(),g.TgZ(75,"option",102),g._uU(76,"36"),g.qZA(),g.TgZ(77,"option",103),g._uU(78,"40"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(79,"span",83),g._UZ(80,"button",104),g._UZ(81,"button",105),g._UZ(82,"button",106),g._UZ(83,"button",107),g.qZA(),g.TgZ(84,"span",83),g._UZ(85,"button",108),g._UZ(86,"button",109),g.qZA(),g.qZA(),g.qZA(),g.TgZ(87,"div",110),g.TgZ(88,"div",111),g.TgZ(89,"p"),g._uU(90),g.qZA(),g.qZA(),g.TgZ(91,"div",74),g.TgZ(92,"div",112),g._UZ(93,"div",113,114),g.qZA(),g.TgZ(95,"div",115),g.TgZ(96,"label",116),g.TgZ(97,"input",117),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().saveCallOutCome=t}),g.qZA(),g.TgZ(98,"span",118),g._uU(99),g.qZA(),g.qZA(),g.TgZ(100,"div",119),g.TgZ(101,"button",66),g.NdJ("click",function(){return g.CHM(n),g.oxw().sendEmail()}),g._uU(102),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.Q6J("ngIf",i.modalLoader),g.xp6(4),g.hij(" ",i.language["Escalation Email"]," "),g.xp6(7),g.Oqu(i.language.From),g.xp6(2),g.Q6J("value",i.servifyMail),g.xp6(4),g.Oqu(i.language["Reply To"]),g.xp6(2),g.s9C("placeholder","CSR Email Address"),g.Q6J("ngModel",i.replyTo),g.xp6(1),g.Q6J("ngIf",i.mailSubmit&&!i.replyTo),g.xp6(1),g.Q6J("ngIf",i.mailSubmit&&!i.patternCheck(i.replyTo)),g.xp6(4),g.Oqu(i.language["Send To"]),g.xp6(2),g.s9C("placeholder","Partner Escalation Email Address, CSR Email Address"),g.Q6J("ngModel",i.sendTo),g.xp6(1),g.Q6J("ngIf",i.mailSubmit&&!i.sendTo),g.xp6(1),g.Q6J("ngIf",i.mailSubmit&&!i.patternCheck(i.sendTo)),g.xp6(4),g.Oqu(i.language.subject),g.xp6(2),g.Q6J("ngModel",i.mailSubject),g.xp6(1),g.Q6J("ngIf",i.mailSubmit&&!i.mailSubject),g.xp6(7),g.Q6J("ngClass",g.VKq(22,Oe,!i.changescount)),g.xp6(47),g.Oqu(i.language.Body),g.xp6(7),g.Q6J("ngModel",i.saveCallOutCome),g.xp6(2),g.Oqu(i.language["Save as Call Outcome"]),g.xp6(3),g.Oqu(i.language["Send Email"])}}var ke=function(){var t=function(){function t(e,n,i,r,a,l,s,c){o(this,t),this.servifyService=e,this.sso=n,this.dataService=i,this.translateService=r,this.callOutComeService=a,this.modalService=l,this.titleService=s,this.CommonFunctionsService=c,this.accountDetailsLoading=!0,this.servifyStatusLoading=!0,this.recentClaimsLoading=!0,this.servifyInfo={},this.servifyClaims=[],this.ClaimEligible=!1,this.saveCallOutCome=!0,this.emailLoader=!0,this.mailSubmit=!1,this.fSize=Wt.import("attributors/style/size"),this.fFamily=Wt.import("attributors/style/font"),this.modalLoader=!1,this.replyTo="",this.sendTo="",this.CSR_Data=JSON.parse(localStorage.getItem("calix.login_data")),this.BSP_Data=JSON.parse(sessionStorage.getItem("calix.subscriberInfo")),this.mailSubject="Calix Partner Escalation from ".concat(this.CSR_Data.firstName," ").concat(this.CSR_Data.lastName," at ").concat(this.CSR_Data.OrgName),this.alertMessage="",this.isError=!1,this.showUndo=!1,this.servifyMail="noreply@",this.valueInserted=!1,this.changescount=0}return a(t,[{key:"ngOnInit",value:function(){var t=this;this.fSize.whitelist=["12px","14px","16px","18px","20px","22px","24px","26px","28px","36px","40px"],this.fFamily.whitelist=["sans-serif","serif","monospace"],Wt.register(this.fFamily,!0),Wt.register(this.fSize,!0),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){t.language=e,t.titleService.setTitle("".concat(t.language.ServifyCare," - ").concat(t.language["Managed Services"]," - ").concat(t.language.Service," - ").concat(t.language["Calix Cloud"]))}),this.titleService.setTitle("".concat(this.language.ServifyCare," - ").concat(this.language["Managed Services"]," - ").concat(this.language.Service," - ").concat(this.language["Calix Cloud"])),this.initialLoad(),d.N.SUMMARY_URL.includes("stg")?this.servifyMail+="partnersupport.stg.calix.com":d.N.SUMMARY_URL.includes("dev.calix.com")?this.servifyMail+="partnersupport.dev.calix.com":d.N.SUMMARY_URL.includes("devfunc.calix.com")?this.servifyMail+="partnersupport.devf.calix.com":this.servifyMail+="partnersupport.calix.com"}},{key:"initialLoad",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.accountDetailsLoading=!0,this.servifyService.getServifyInfo(this.sso.getOrgId(),this.sso.getCSCSubscriberId()).subscribe(function(n){t.servifyInfo=n,t.userId=n.userId,t.accountDetailsLoading=!1,e||(t.getClaims(n.userId),t.getHealth(),t.ClaimsEligible(t.servifyInfo.planPurchaseDate,t.servifyInfo.cancelDate,t.servifyInfo.planChange))},function(n){t.accountDetailsLoading=!1,t.recentClaimsLoading=!1,e||t.getHealth(),404!==n.status&&t.pageErrorHandle(n)})}},{key:"ClaimsEligible",value:function(t,e,n){var i,o,r,a,l=new Date(t),s=new Date(l.setDate(l.getDate())),c=new Date,u=c.getFullYear(),d=new Date(s),p=(c.getTime()-d.getTime())/864e5,g=Math.round(p),f=(new Date).toJSON().slice(0,10).split("-"),h=t.split("-"),v=new Date(h[0],parseInt(h[1])-1,h[2]),m=new Date(f[0],parseInt(f[1])-1,f[2]);if(e){this.cancelledStatus=!0,o=(i=e.split("-"))[1],r=new Date(i[0],parseInt(i[1])-1,i[2]);var b=h[2]-1,y=this.monthDiff(v,m);v.setDate(v.getDate()-1),v.setMonth(v.getMonth()+y);var Z=m.getTime()>v.getTime()?1:0;this.subscriptionEndDt=u+"-"+(parseInt(f[1])+Z)+"-"+b;var x=this.subscriptionEndDt.split("-");if(a=new Date(x[0],parseInt(x[1])-1,x[2]),g>30)this.ClaimEligible=m>=r&&m<=a;else{this.subscribedStatus=!1,this.ClaimEligible=!1,this.subscriptionEndDt=e;var _=this.subscriptionEndDt.split("-");a=new Date(_[0],parseInt(_[1])-1,_[2])}}else{if(this.cancelledStatus=!1,o=c.getMonth()+1,f[2]>=h[2]){var A=h[2]-1,T=c.getMonth()+2;this.subscriptionEndDt=u+"-"+T+"-"+A;var q=this.subscriptionEndDt.split("-");a=new Date(q[0],parseInt(q[1])-1,q[2])}else{this.subscriptionEndDt=u+"-"+o+"-"+(h[2]-1);var w=this.subscriptionEndDt.split("-");a=new Date(w[0],parseInt(w[1])-1,w[2])}this.ClaimEligible=g>30}this.subscribedStatus=!(e&&g<30||e&&g>30&&m>a)}},{key:"monthDiff",value:function(t,e){var n;return n=12*(e.getFullYear()-t.getFullYear()),n-=t.getMonth(),(n+=e.getMonth())<=0?0:n}},{key:"getClaims",value:function(t){var e=this;this.recentClaimsLoading=!0,t?this.servifyService.getServifyClaims(t).subscribe(function(t){e.recentClaimsLoading=!1;var n=[];e.servifyClaims=((null==t?void 0:t.claims)||[]).sort(function(t,e){return e.created-t.created}).filter(function(t){return!n.includes(t.claimId)&&(n.push(t.claimId),!0)})},function(t){e.recentClaimsLoading=!1,e.pageErrorHandle(t)}):this.recentClaimsLoading=!1}},{key:"showClaimStatus",value:function(t){"SC0059"==t||"SC0100"==t?(this.claimStatusinText="Open",this.claimStatusClass="progress-but"):"SC0004"==t||"SC0003"==t?(this.claimStatusinText="Closed",this.claimStatusClass="complete-but"):(this.claimStatusinText="In Progress",this.claimStatusClass="suspended-but")}},{key:"getHealth",value:function(){var t=this;this.servifyStatusLoading=!0,this.servifyService.getServifyHealth().subscribe(function(e){var n;t.servifyStatusLoading=!1,t.health=null===(n=(null==e?void 0:e.healths)?e.healths:e||[])||void 0===n?void 0:n.filter(function(t){return t.health_name.includes("(US)")}),t.overallStatus=t.health.filter(function(t){return!t.status}).length},function(e){t.servifyStatusLoading=!1,t.pageErrorHandle(e)})}},{key:"pageErrorHandle",value:function(t){this.alertMessage=401===t.status?t.error.errorMessage?t.error.errorMessage:"Unknown Error":this.sso.pageErrorHandle(t),this.isError=!0}},{key:"escalationProcessModalOpen",value:function(){this.modalService.open(this.escalationProcessEditor,{windowClass:"custom-large-modal"})}},{key:"copyToClipboard",value:function(){var t="Subject:\n";t+="".concat(document.getElementById("servifyTemplateSubject").textContent.trim(),"\n\nBody:\n"),document.querySelectorAll("#servifyTemplateBody li").forEach(function(e){t+=e.textContent.trim()+"\n"}),navigator.clipboard?navigator.clipboard.writeText(t).then(function(){},function(t){}):this.copyForOldBrowser(t)}},{key:"copyForOldBrowser",value:function(t){var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=t,document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")}catch(n){}document.body.removeChild(e)}},{key:"escalationProcessEditorModal",value:function(){var t=this,e=this;e.valueInserted=!1,e.changescount=0,this.saveCallOutCome=!0,this.mailSubject="".concat(this.language["Calix Partner Escalation from"]," ").concat(this.CSR_Data.firstName," ").concat(this.CSR_Data.lastName," at ").concat(this.sso.getOrgName());var n=localStorage.getItem("calix.userId");this.servifyService.getUserEmail(n).subscribe(function(e){t.replyTo=e.email,t.sendTo="calixpartnersupport@servifycare.com,"+e.email,t.emailLoader=!1},function(e){t.loading=!1,t.pageErrorHandle(e)}),this.modalService.open(this.escalationProcessEditor,{windowClass:"arlo-editor-modal"}),this.quillnew=new Wt("#editor-container",{modules:{toolbar:{container:"#toolbar-toolbar",handlers:{redo:function(){this.quill.history.redo()},undo:function(){this.quill.history.undo(),e.changescount--,1==this.quill.history.stack.undo.length&&(e.changescount=0)}}}},theme:"snow"}),this.quillnew.on("text-change",function(t){for(var n,i,o=document.querySelectorAll(".ql-editor li"),r=0;r<o.length;r++)""==o[r].textContent&&(o[r].textContent="  "),o[r].children[0]&&(null===(n=o[r].children[0].attributes.getNamedItem("style"))||void 0===n?void 0:n.textContent.includes("font-size"))&&(i=o[r].children[0].attributes.getNamedItem("style").textContent,o[r].children[0].parentElement.setAttribute("style",i)),"  "==o[r].textContent&&o[r].setAttribute("style",i);e.showUndo=e.defaultMail.value!=document.querySelector(".arlo-mail-body").textContent,t.ops.forEach(function(n){var i,o;n.delete&&(e.changescount=1),n.attributes&&Object.keys(null==n?void 0:n.attributes).forEach(function(t){n.attributes[t]&&e.changescount++,n.attributes.italic&&e.changescount++}),(n.delete||n.insert)&&e.valueInserted&&e.changescount++,e.valueInserted=!0,(null===(o=null===(i=t.ops[1])||void 0===i?void 0:i.attributes)||void 0===o?void 0:o.italic)&&"(it is recommended not to include any personally identifiable information (PII) in the description):"==n.insert&&(e.changescount=0,e.valueInserted=!1)})}),document.querySelector("#editor-container .ql-editor").innerHTML=this.emailTemplate().replace(/\n/g,""),this.defaultMail=Object.assign({},{value:document.querySelector(".arlo-mail-body").textContent})}},{key:"sendEmail",value:function(){var t=this;if(this.sendTo&&this.mailSubject&&document.querySelector("#editor-container > *")&&this.patternCheck(this.sendTo)&&this.patternCheck(this.replyTo)){this.modalLoader=!0,document.querySelector("#editor-container input").remove();var e=document.querySelector("#editor-container").innerHTML,n="<p></p><p></p><p>-".concat(this.language["Sent by Calix on behalf of"]," ").concat(localStorage.getItem("calix.org_name"),"</p>");e=e.substring(0,e.length-6)+n+"</div>",this.servifyService.sendEmail([this.sendTo,this.mailSubject,e,this.replyTo]).subscribe(function(e){t.modalLoader=!1;var n=document.querySelector("#editor-container > *").innerText;t.modalService.dismissAll(),t.setCallOutCome(n),t.CommonFunctionsService.trackPendoEvents("Subscriber","Escalation to Servify is created")},function(e){(400==e.error.errorCode||401==e.error.errorCode||500==e.error.errorCode)&&(t.alertMessage=e.error.errorMessage?e.error.errorMessage:"Unknown Error",t.isError=!0),t.modalLoader=!1,t.modalService.dismissAll(),t.pageErrorHandle(e)})}else this.mailSubmit=!0}},{key:"setCallOutCome",value:function(t){this.saveCallOutCome&&(t="".concat(this.language.From,": ").concat(this.servifyMail,"\n").concat(this.language.sent,": ").concat((new Date).toLocaleString("default",{dateStyle:"full",timeStyle:"medium"}),"\n").concat(this.language.To,": ").concat(this.sendTo,"\n").concat(this.language.subject,": ").concat(this.mailSubject,"\n\n").concat(t.replace(/\n\n/g,"\n").replace(/\n\n\n/g,"\n\n")),document.querySelector("#callOutcomeBtnId").click(),this.callOutComeService.escalationEmail=t)}},{key:"patternCheck",value:function(t){var e=!0;return t.split(",").forEach(function(t){/^[a-z0-9A-Z._%+-]+@[a-z0-9A-Z.-]+\.[a-zA-Z]{2,}$/.test(t)||(e=!1)}),e}},{key:"emailTemplate",value:function(){return"<p>".concat(this.language["Short Description of the Problem"],"<em>").concat(this.language["(it is recommended not to include any personally identifiable information (PII) in the description):"],"</em></p>")}},{key:"removeUnwantedSpace",value:function(t,e){this[t]=this.CommonFunctionsService.trimSpaceFromNonObjectInputs(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.Y36($t),g.Y36(h.t6),g.Y36(v.Q),g.Y36(f.s),g.Y36(Xt.K),g.Y36(te.FF),g.Y36(z.Dx),g.Y36(ee.i))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-servify-care"]],viewQuery:function(t,e){var n;(1&t&&(g.Gf(ie,7),g.Gf(oe,7)),2&t)&&(g.iGM(n=g.CRH())&&(e.escalationProcessModal=n.first),g.iGM(n=g.CRH())&&(e.escalationProcessEditor=n.first))},decls:97,vars:41,consts:[[1,"position-relative","my-3"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],[1,"row"],[1,"col-md-12"],["class","btn-default primary",3,"click",4,"ngIf"],[1,"row","mt-2"],[1,"col-sm-12","col-md-12","col-lg-3","col-xl-3"],["class","loader load",4,"ngIf"],[1,"d-flex","justify-content-between","border-bottom","mb-2"],[1,"cco-secondary-title"],[1,"cco-secondary-title","wh-cursor"],["src","assets/img/Refresh-icon.svg",1,"refresh-icon",3,"click"],[1,"servify-care-table"],[1,"table"],[3,"ngClass"],[4,"ngIf"],[1,"change-case"],["src","assets/img/Refresh-icon.svg",1,"primary",3,"click"],[1,"table","border-top-none"],[4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-12","col-lg-6","col-xl-6"],[1,"servify-care-devices-table"],[1,"table","table-striped"],["escalationProcessModal",""],["escalationProcessEditor",""],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img","error-img-w"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"btn-default","primary","ok","float-right",3,"click"],[1,"d-inline-flex","alert-msg-w",3,"innerHtml"],[1,"btn-default","primary",3,"click"],[1,"loader","load"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["colspan","2",1,"text-muted","font-italic"],["class","m-0",3,"innerHtml",4,"ngIf"],["class","m-0",4,"ngIf"],["class","m-0","class","req-text",4,"ngIf"],[1,"m-0",3,"innerHtml"],[1,"m-0"],[1,"bold"],[1,"req-text"],[1,"mt-2",3,"ngClass"],[1,"dot"],["colspan","6",1,"align-center"],[1,"modal-header","justify-content-end"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["src","../../../../assets/img/ic_close-44px.svg"],[1,"col-md-12","center-space","px-5","pt-2"],[1,"modal-body"],[1,"w-100"],["id","EscalationProcess",1,"ccl-admin-title"],[1,"w-100","mt-4","pl-12"],[1,"col-sm-12","col-md-6","col-lg-6","col-xl-6"],["id","EscalationProcess",1,"ccl-secondary-title","border-bottom"],[1,"escalate-list"],["href","mailto:calixpartnersupport@servifycare.com"],[3,"innerHTML"],["id","EmailTemplate",1,"ccl-secondary-title","border-bottom"],[1,"gray-text"],["id","servifyTemplateSubject"],[1,"mt-3"],["id","servifyTemplateBody"],[1,"email-body-text"],[1,""],["type","button",1,"btn-default","primary",3,"click"],[1,"col-12","d-flex","justify-content-between"],[1,"ccl-admin-title","mb-2"],["aria-label","Close",3,"click"],["src","../../../../assets/img/close-icon.svg","alt","",1,"pointer"],[1,"col-12","ccl-form"],[1,"d-flex","w-100","mb-3"],[1,"col-auto-width"],[1,"col"],["type","text","disabled","true",1,"mail-disable","w-100",3,"value"],["type","text","trimSpace","",1,"w-100",3,"placeholder","ngModel","ngModelChange","blur"],["class","highlightRed",4,"ngIf"],["type","text","trimSpace","",1,"w-100",3,"ngModel","ngModelChange","blur"],[1,"col-12"],[1,"d-flex","w-100","border-top"],["id","editor-new",1,"w-100","mb-3"],["id","toolbar-toolbar",1,"toolbar","d-flex","w-100","border-none"],[1,"ql-formats"],["type","button","value","undo",1,"ql-undo","mr-3",3,"ngClass"],["type","button","value","redo",1,"ql-redo"],[1,"ql-format-group"],[1,"ql-formats","ql-font-family"],[1,"ql-font"],["value","sans-serif","selected",""],["value","serif"],["value","monospace"],["title","Font Size",1,"ql-size"],["value","12px","selected",""],["value","14px"],["value","16px"],["value","18px"],["value","20px"],["value","22px"],["value","24px"],["value","26px"],["value","28px"],["value","36px"],["value","40px"],["aria-label","Bold",1,"ql-bold"],["aria-label","Italic",1,"ql-italic"],["aria-label","Underline",1,"ql-underline"],["aria-label","Strike",1,"ql-strike"],["type","button","aria-label","List","value","ordered",1,"ql-list"],["type","button","aria-label","Bullet","value","bullet",1,"ql-list"],[1,"d-flex","w-100"],[1,"col-auto-width","pl-2"],[1,"arlo-mail-body"],["id","editor-container",1,"border-none","capital"],["content",""],[1,"w-100","editor-footer","my-3"],[1,"d-inline-flex","align-items-center"],["type","checkbox","checked","saveCallOutCome",3,"ngModel","ngModelChange"],[1,"pl-2"],[1,"mt-2"],[1,"highlightRed"]],template:function(t,e){1&t&&(g.TgZ(0,"section",0),g.YNc(1,re,6,2,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.YNc(4,ae,2,1,"button",4),g.qZA(),g.qZA(),g.TgZ(5,"div",5),g.TgZ(6,"div",6),g.YNc(7,le,5,1,"div",7),g.TgZ(8,"div",8),g.TgZ(9,"div",9),g._uU(10),g.qZA(),g.TgZ(11,"div",10),g.TgZ(12,"img",11),g.NdJ("click",function(){return e.loading=!0,e.initialLoad(!0)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(13,"div",12),g.TgZ(14,"table",13),g.TgZ(15,"tbody"),g.TgZ(16,"tr"),g.TgZ(17,"td"),g._uU(18),g.qZA(),g.TgZ(19,"td",14),g._uU(20),g.qZA(),g.qZA(),g.YNc(21,se,6,5,"tr",15),g.TgZ(22,"tr"),g.TgZ(23,"td"),g._uU(24),g.qZA(),g.TgZ(25,"td"),g._uU(26),g.ALo(27,"date"),g.qZA(),g.qZA(),g.TgZ(28,"tr"),g.TgZ(29,"td"),g._uU(30),g.qZA(),g.TgZ(31,"td",14),g._uU(32),g.qZA(),g.qZA(),g.TgZ(33,"tr"),g.TgZ(34,"td"),g._uU(35),g.qZA(),g.TgZ(36,"td"),g._uU(37),g.qZA(),g.qZA(),g.TgZ(38,"tr"),g.TgZ(39,"td"),g._uU(40),g.qZA(),g.TgZ(41,"td",16),g._uU(42),g.ALo(43,"lowercase"),g.qZA(),g.qZA(),g.YNc(44,he,7,5,"tr",15),g.TgZ(45,"tr"),g.TgZ(46,"td"),g._uU(47),g.qZA(),g.TgZ(48,"td"),g._uU(49),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(50,"div",6),g.YNc(51,ve,5,1,"div",7),g.TgZ(52,"div",8),g.TgZ(53,"div",9),g._uU(54),g.qZA(),g.TgZ(55,"div",10),g.TgZ(56,"img",17),g.NdJ("click",function(){return e.loading=!0,e.getHealth()}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(57,"div",12),g.TgZ(58,"table",18),g.TgZ(59,"tbody"),g.TgZ(60,"tr"),g.TgZ(61,"td"),g._uU(62),g.qZA(),g.TgZ(63,"td",14),g._uU(64),g.qZA(),g.qZA(),g.YNc(65,me,5,3,"tr",19),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(66,"div",20),g.YNc(67,be,5,1,"div",7),g.TgZ(68,"div",8),g.TgZ(69,"div",9),g._uU(70),g.qZA(),g.TgZ(71,"div",10),g.TgZ(72,"img",17),g.NdJ("click",function(){return e.getClaims(e.userId)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(73,"div",21),g.TgZ(74,"table",22),g.TgZ(75,"thead"),g.TgZ(76,"tr"),g.TgZ(77,"th"),g._uU(78),g.qZA(),g.TgZ(79,"th"),g._uU(80),g.qZA(),g.TgZ(81,"th"),g._uU(82),g.qZA(),g.TgZ(83,"th"),g._uU(84),g.qZA(),g.TgZ(85,"th"),g._uU(86),g.qZA(),g.TgZ(87,"th"),g._uU(88),g.qZA(),g.qZA(),g.qZA(),g.TgZ(89,"tbody"),g.YNc(90,ye,17,11,"tr",19),g.qZA(),g.TgZ(91,"tfoot"),g.YNc(92,Ze,3,1,"tr",15),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(93,xe,57,18,"ng-template",null,23,g.W1O),g.YNc(95,Se,103,24,"ng-template",null,24,g.W1O)),2&t&&(g.xp6(1),g.Q6J("ngIf",e.isError),g.xp6(3),g.Q6J("ngIf",e.userId),g.xp6(3),g.Q6J("ngIf",e.accountDetailsLoading),g.xp6(3),g.Oqu(e.language["Account Details"]),g.xp6(8),g.hij("",e.language["Subscription Status"]," "),g.xp6(1),g.Q6J("ngClass",e.subscribedStatus?"highlightGreen":"highlightRed"),g.xp6(1),g.hij(" ",e.accountDetailsLoading?"-":e.subscribedStatus?e.language.Subscribed:e.language.Unsubscribed," "),g.xp6(1),g.Q6J("ngIf",!e.cancelledStatus),g.xp6(3),g.Oqu(e.language["Subscription End"]),g.xp6(2),g.Oqu(e.accountDetailsLoading?"-":g.xi3(27,36,e.subscriptionEndDt,"MM/dd/Y")||"-"),g.xp6(4),g.Oqu(e.language["Claims Eligible"]),g.xp6(1),g.Q6J("ngClass",e.ClaimEligible?"highlightGreen":"highlightRed"),g.xp6(1),g.hij(" ",e.accountDetailsLoading?"-":e.ClaimEligible?e.language.Yes:null!=e.servifyInfo&&e.servifyInfo.planCode?e.language.No:"-"," "),g.xp6(3),g.Oqu(e.language["Account Email"]),g.xp6(2),g.Oqu(e.accountDetailsLoading?"-":(null==e.servifyInfo?null:e.servifyInfo.email)||"-"),g.xp6(3),g.Oqu(e.language.Plan),g.xp6(2),g.hij(" ",e.accountDetailsLoading?"-":g.lcZ(43,39,((null==e.servifyInfo?null:e.servifyInfo.planCode)||"-").replace("SERVIFYCARE",""))," "),g.xp6(2),g.Q6J("ngIf",!e.accountDetailsLoading&&(null==e.servifyInfo||null==e.servifyInfo.planChange?null:e.servifyInfo.planChange.newPlanCode)||e.cancelledStatus),g.xp6(3),g.Oqu(e.language["Total Claims"]),g.xp6(2),g.Oqu(e.accountDetailsLoading?"-":e.servifyClaims.length),g.xp6(2),g.Q6J("ngIf",e.servifyStatusLoading),g.xp6(3),g.Oqu(e.language["Servify Status"]),g.xp6(8),g.Oqu(e.language["Overall Status"]),g.xp6(1),g.Q6J("ngClass",e.overallStatus?"highlightRed":"highlightGreen"),g.xp6(1),g.hij(" ",e.servifyStatusLoading?"-":e.overallStatus&&e.overallStatus<=4?e.language.DEGRADED:e.overallStatus?e.language.Down:e.language.Up," "),g.xp6(1),g.Q6J("ngForOf",e.health),g.xp6(2),g.Q6J("ngIf",e.recentClaimsLoading),g.xp6(3),g.Oqu(e.language["Recent Claims"]),g.xp6(8),g.hij("",e.language.Claim,"#"),g.xp6(2),g.Oqu(e.language["Date Opened"]),g.xp6(2),g.Oqu(e.language.device),g.xp6(2),g.Oqu(e.language["Serial No"]),g.xp6(2),g.Oqu(e.language.Status),g.xp6(2),g.Oqu(e.language["Status Details"]),g.xp6(2),g.Q6J("ngForOf",e.servifyClaims),g.xp6(2),g.Q6J("ngIf",!e.servifyClaims.length))},directives:[l.O5,l.mk,l.sg,G.Fj,ne.f,G.JJ,G.On,G.YN,G.Kr,G.Wl],pipes:[l.uU,l.i8],styles:[".servify-care-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0 10px;border-bottom:1px solid #EBEAEF!important;line-height:32px;border-top:none}.servify-care-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 10px;border-bottom:1px solid #EBEAEF!important;border-top:none!important;line-height:32px;word-break:break-word;width:150px}.redoDisablity[_ngcontent-%COMP%]{pointer-events:none;opacity:.6!important}.servify-care-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0 10px;border-top:none}.servify-care-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .servify-care-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 10px;line-height:32px}.servify-care-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.error[_ngcontent-%COMP%]{color:#c70000}.servify-care-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.success[_ngcontent-%COMP%]{color:#82bf00}.refresh-icon[_ngcontent-%COMP%]{fill:#0279ff;width:24px;cursor:pointer}.change-case[_ngcontent-%COMP%]{text-transform:capitalize}.highlightRed[_ngcontent-%COMP%]{color:#c70000}.highlightGreen[_ngcontent-%COMP%]{color:green}  .custom-large-modal .modal-dialog{max-width:75%!important}  .custom-large-modal .modal-body{min-height:500px}.escalate-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:30px;list-style:none}.escalate-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.escalate-list[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-left:15px}.escalate-list[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.btn-close[_ngcontent-%COMP%]{background:transparent;border:none}.btn-close[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.5}.btn-close[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:1}.gray-text[_ngcontent-%COMP%]{color:gray}.border-top-none[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:0}.wh-cursor[_ngcontent-%COMP%]{width:24px;cursor:pointer}.ccl-secondary-title[_ngcontent-%COMP%]{font-weight:300;font-size:24px;line-height:30px;color:#1a1f22;margin-bottom:17px;padding-bottom:8px}.email-body-text[_ngcontent-%COMP%]{font-style:italic}.mail-disable[_ngcontent-%COMP%]{background-color:transparent;cursor:not-allowed;border:none}.col-auto-width[_ngcontent-%COMP%]{min-width:100px}.align-center[_ngcontent-%COMP%]{text-align:center}"]}),t}(),Me=["escalationProcessEditor"];function Ee(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",49),g.TgZ(1,"span",50),g._UZ(2,"img",51),g.qZA(),g.TgZ(3,"button",52),g.NdJ("click",function(){return g.CHM(n),g.oxw().isError=!1}),g._uU(4),g.qZA(),g._UZ(5,"span",53),g.qZA()}if(2&t){var i=g.oxw();g.xp6(4),g.hij(" ",i.language.OK," "),g.xp6(1),g.Q6J("innerHtml",i.alertMessage,g.oJD)}}function Pe(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",54),g.TgZ(1,"span",55),g._UZ(2,"img",56),g.qZA(),g.TgZ(3,"button",57),g.NdJ("click",function(){return g.CHM(n),g.oxw().warningMsg=""}),g._UZ(4,"img",58),g.qZA(),g.TgZ(5,"span"),g._uU(6),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.xp6(6),g.Oqu(i.warningMsg)}}function Ie(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"button",59),g.NdJ("click",function(){return g.CHM(n),g.oxw().escalationProcessEditorModal()}),g._uU(1),g.qZA()}if(2&t){var i=g.oxw();g.xp6(1),g.hij(" ",i.language["Escalate to Arlo"]," ")}}function Ne(t,e){if(1&t&&(g.TgZ(0,"div",60),g.TgZ(1,"div",61),g.TgZ(2,"div",62),g.TgZ(3,"span",63),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(4),g.Oqu(n.language.Loading)}}function Ue(t,e){if(1&t&&(g.TgZ(0,"div",60),g.TgZ(1,"div",61),g.TgZ(2,"div",62),g.TgZ(3,"span",63),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(4),g.Oqu(n.language.Loading)}}function je(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td",64),g._uU(2),g.qZA(),g.TgZ(3,"td",65),g._uU(4),g.qZA(),g.qZA()),2&t){var n=e.$implicit,i=g.oxw();g.xp6(2),g.Oqu(i.language[n.health_name]||n.health_name),g.xp6(1),g.Q6J("ngClass",n.status?"highlightGreen":"highlightRed"),g.xp6(1),g.hij(" ",i.healthLoader?"-":n.status?i.language.Up:i.language.Down," ")}}function De(t,e){if(1&t&&(g.TgZ(0,"div",60),g.TgZ(1,"div",61),g.TgZ(2,"div",62),g.TgZ(3,"span",63),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(4),g.Oqu(n.language.Loading)}}function Le(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",68),g.TgZ(1,"img",19),g.NdJ("click",function(){g.CHM(n);var t=g.oxw(),e=t.$implicit,i=t.index;return g.oxw().updateDeviceInfo(e.deviceId,i)}),g.qZA(),g.qZA()}}var Re=function(t){return{"text-primary":t}};function Fe(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"tr",66),g.NdJ("click",function(){var t=g.CHM(n).$implicit;return g.oxw().viewDeviceDetails(t.macAddress)}),g.TgZ(1,"td",22),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td",22),g._uU(8),g.qZA(),g.TgZ(9,"td"),g._uU(10),g.qZA(),g.TgZ(11,"td"),g._uU(12),g.ALo(13,"date"),g.qZA(),g.TgZ(14,"td"),g.YNc(15,Le,2,0,"div",67),g.qZA(),g.qZA()}if(2&t){var i=e.$implicit,o=g.oxw();g.xp6(1),g.Q6J("ngClass",g.VKq(12,Re,i.hasMacMatched)),g.xp6(1),g.Oqu(i.deviceName),g.xp6(2),g.Oqu(i.modelId),g.xp6(2),g.Oqu(i.deviceId),g.xp6(1),g.Q6J("ngClass","Low"==i.battery?"highlightRed":""),g.xp6(1),g.Oqu(i.battery),g.xp6(2),g.Oqu(i.deviceType),g.xp6(2),g.Oqu(g.xi3(13,9,i.updated||i.created,"MMM dd, y HH:mm")),g.xp6(3),g.Q6J("ngIf",!o.accountLoader)}}function He(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td",69),g._uU(2),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(2),g.hij(" ",n.language["No Data Available"]," ")}}function Je(t,e){if(1&t&&(g.TgZ(0,"div",124),g.TgZ(1,"div",61),g.TgZ(2,"div",62),g.TgZ(3,"span",63),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(4),g.Oqu(n.language.Loading)}}function Qe(t,e){if(1&t&&(g.TgZ(0,"small",125),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["This field is required"],". ")}}function Be(t,e){if(1&t&&(g.TgZ(0,"small",125),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["Please enter a valid email address"],". ")}}function Ye(t,e){if(1&t&&(g.TgZ(0,"small",125),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["This field is required"],". ")}}function ze(t,e){if(1&t&&(g.TgZ(0,"small",125),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["Please enter a valid email address"],". ")}}function Ge(t,e){if(1&t&&(g.TgZ(0,"small",125),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["This field is required"],". ")}}var We=function(t){return{redoDisablity:t}};function Ke(t,e){if(1&t){var n=g.EpF();g.YNc(0,Je,5,1,"div",70),g.TgZ(1,"div",3),g.TgZ(2,"div",71),g.TgZ(3,"div",72),g._uU(4),g.qZA(),g.TgZ(5,"div",73),g.NdJ("click",function(){return g.CHM(n).$implicit.dismiss("Cross click")}),g._UZ(6,"img",74),g.qZA(),g.qZA(),g.TgZ(7,"div",75),g.TgZ(8,"div",76),g.TgZ(9,"div",77),g.TgZ(10,"label"),g._uU(11),g.qZA(),g.qZA(),g.TgZ(12,"div",78),g._UZ(13,"input",79),g.qZA(),g.qZA(),g.TgZ(14,"div",76),g.TgZ(15,"div",77),g.TgZ(16,"label"),g._uU(17),g.qZA(),g.qZA(),g.TgZ(18,"div",78),g.TgZ(19,"input",80),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().replyTo=t})("blur",function(){g.CHM(n);var t=g.oxw();return t.removeUnwantedSpace("replyTo",t.replyTo)}),g.qZA(),g.YNc(20,Qe,2,1,"small",81),g.YNc(21,Be,2,1,"small",81),g.qZA(),g.qZA(),g.TgZ(22,"div",76),g.TgZ(23,"div",77),g.TgZ(24,"label"),g._uU(25),g.qZA(),g.qZA(),g.TgZ(26,"div",78),g.TgZ(27,"input",80),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().sendTo=t})("blur",function(){g.CHM(n);var t=g.oxw();return t.removeUnwantedSpace("sendTo",t.sendTo)}),g.qZA(),g.YNc(28,Ye,2,1,"small",81),g.YNc(29,ze,2,1,"small",81),g.qZA(),g.qZA(),g.TgZ(30,"div",76),g.TgZ(31,"div",77),g.TgZ(32,"label"),g._uU(33),g.qZA(),g.qZA(),g.TgZ(34,"div",78),g.TgZ(35,"input",82),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().mailSubject=t})("blur",function(){g.CHM(n);var t=g.oxw();return t.removeUnwantedSpace("mailSubject",t.mailSubject)}),g.qZA(),g.YNc(36,Ge,2,1,"small",81),g.qZA(),g.qZA(),g.qZA(),g.TgZ(37,"div",83),g.TgZ(38,"div",84),g.TgZ(39,"div",85),g.TgZ(40,"div",86),g.TgZ(41,"div",77),g.TgZ(42,"span",87),g._UZ(43,"button",88),g._UZ(44,"button",89),g.qZA(),g.qZA(),g.TgZ(45,"div",78),g.TgZ(46,"span",90),g.TgZ(47,"span",91),g.TgZ(48,"select",92),g.TgZ(49,"option",93),g._uU(50,"Sans Serif"),g.qZA(),g.TgZ(51,"option",94),g._uU(52,"Serif"),g.qZA(),g.TgZ(53,"option",95),g._uU(54,"Monospace"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(55,"span",87),g.TgZ(56,"select",96),g.TgZ(57,"option",97),g._uU(58,"12"),g.qZA(),g.TgZ(59,"option",98),g._uU(60,"14"),g.qZA(),g.TgZ(61,"option",99),g._uU(62,"16"),g.qZA(),g.TgZ(63,"option",100),g._uU(64,"18"),g.qZA(),g.TgZ(65,"option",101),g._uU(66,"20"),g.qZA(),g.TgZ(67,"option",102),g._uU(68,"22"),g.qZA(),g.TgZ(69,"option",103),g._uU(70,"24"),g.qZA(),g.TgZ(71,"option",104),g._uU(72,"26"),g.qZA(),g.TgZ(73,"option",105),g._uU(74,"28"),g.qZA(),g.TgZ(75,"option",106),g._uU(76,"36"),g.qZA(),g.TgZ(77,"option",107),g._uU(78,"40"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(79,"span",87),g._UZ(80,"button",108),g._UZ(81,"button",109),g._UZ(82,"button",110),g._UZ(83,"button",111),g.qZA(),g.TgZ(84,"span",87),g._UZ(85,"button",112),g._UZ(86,"button",113),g.qZA(),g.qZA(),g.qZA(),g.TgZ(87,"div",114),g.TgZ(88,"div",115),g.TgZ(89,"p"),g._uU(90),g.qZA(),g.qZA(),g.TgZ(91,"div",78),g.TgZ(92,"div",116),g._UZ(93,"div",117,118),g.qZA(),g.TgZ(95,"div",119),g.TgZ(96,"label",120),g.TgZ(97,"input",121),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().saveCallOutCome=t}),g.qZA(),g.TgZ(98,"span",122),g._uU(99),g.qZA(),g.qZA(),g.TgZ(100,"div",123),g.TgZ(101,"button",47),g.NdJ("click",function(){return g.CHM(n),g.oxw().sendEmail()}),g._uU(102),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.Q6J("ngIf",i.modalLoader),g.xp6(4),g.hij(" ",i.language["Escalation Email"]," "),g.xp6(7),g.Oqu(i.language.From),g.xp6(2),g.Q6J("value",i.arloMail),g.xp6(4),g.Oqu(i.language["Reply To"]),g.xp6(2),g.s9C("placeholder","CSR Email Address"),g.Q6J("ngModel",i.replyTo),g.xp6(1),g.Q6J("ngIf",i.mailSubmit&&!i.replyTo),g.xp6(1),g.Q6J("ngIf",i.mailSubmit&&!i.patternCheck(i.replyTo)),g.xp6(4),g.Oqu(i.language["Send To"]),g.xp6(2),g.s9C("placeholder","Partner Escalation Email Address, CSR Email Address"),g.Q6J("ngModel",i.sendTo),g.xp6(1),g.Q6J("ngIf",i.mailSubmit&&!i.sendTo),g.xp6(1),g.Q6J("ngIf",i.mailSubmit&&!i.patternCheck(i.sendTo)),g.xp6(4),g.Oqu(i.language.subject),g.xp6(2),g.Q6J("ngModel",i.mailSubject),g.xp6(1),g.Q6J("ngIf",i.mailSubmit&&!i.mailSubject),g.xp6(7),g.Q6J("ngClass",g.VKq(22,We,!i.changescount)),g.xp6(47),g.Oqu(i.language.Body),g.xp6(7),g.Q6J("ngModel",i.saveCallOutCome),g.xp6(2),g.Oqu(i.language["Save as Call Outcome"]),g.xp6(3),g.Oqu(i.language["Send Email"])}}var Ve=function(){var t=function(){function t(e,n,i,r,a,l,s,c){o(this,t),this.service=e,this.sso=n,this.translateService=i,this.router=r,this.titleService=a,this.modalService=l,this.callOutComeService=s,this.CommonFunctionsService=c,this.account={},this.health=[],this.devices=[],this.alertMessage="",this.isError=!1,this.accountLoader=!1,this.healthLoader=!1,this.deviceLoader=!1,this.orgId="",this.overallStatus=1,this.RG=[],this.isRefresh=!1,this.replyTo="",this.sendTo="",this.CSR_Data=JSON.parse(localStorage.getItem("calix.login_data")),this.BSP_Data=JSON.parse(sessionStorage.getItem("calix.subscriberInfo")),this.mailSubject="Calix Partner Escalation from ".concat(this.CSR_Data.firstName," ").concat(this.CSR_Data.lastName," at ").concat(this.CSR_Data.OrgName),this.saveCallOutCome=!0,this.mailSubmit=!1,this.fSize=Wt.import("attributors/style/size"),this.fFamily=Wt.import("attributors/style/font"),this.modalLoader=!1,this.emailLoader=!1,this.showUndo=!1,this.arloMail="noreply@",this.valueInserted=!1,this.changescount=0}return a(t,[{key:"ngOnInit",value:function(){var t=this;this.fSize.whitelist=["12px","14px","16px","18px","20px","22px","24px","26px","28px","36px","40px"],this.fFamily.whitelist=["sans-serif","serif","monospace"],Wt.register(this.fFamily,!0),Wt.register(this.fSize,!0),this.orgId=localStorage.getItem("calix.org_id"),this.RG=sessionStorage.getItem("calix.deviceData")?JSON.parse(sessionStorage.getItem("calix.deviceData")).filter(function(t){return"RG"==t.opMode}):[],this.getAccount(),this.getHealth(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){t.language=e,t.titleService.setTitle("".concat(t.language.Arlo_Secure," - ").concat(t.language["Managed Services"]," - ").concat(t.language.Service," - ").concat(t.language["Calix Cloud"]))}),this.titleService.setTitle("".concat(this.language.Arlo_Secure," - ").concat(this.language["Managed Services"]," - ").concat(this.language.Service," - ").concat(this.language["Calix Cloud"])),d.N.SUMMARY_URL.includes("stg")?this.arloMail+="partnersupport.stg.calix.com":d.N.SUMMARY_URL.includes("dev.calix.com")?this.arloMail+="partnersupport.dev.calix.com":d.N.SUMMARY_URL.includes("devfunc.calix.com")?this.arloMail+="partnersupport.devf.calix.com":this.arloMail+="partnersupport.calix.com"}},{key:"getAccount",value:function(){var t=this,e=sessionStorage.getItem("calix.subscriberId"),n=this.RG.length?1:e?2:0;!n||(this.accountLoader=!0,this.service.getArloAccount(this.orgId,1==n?this.RG[0].serialNumber:e,n).subscribe(function(e){var n;t.accountLoader=!1,t.account=e&&(null===(n=null==e?void 0:e.edgeSuites)||void 0===n?void 0:n.arloSmart)?e.edgeSuites.arloSmart:{},t.account.arloPlan=["PARTNER_UNLIMITED_CANADA","PARTNER_UNLIMITED"].includes(t.account.plan)?"Unlimited":["PARTNER_UNLIMITED_PLUS","PARTNER_UNLIMITED_PLUS_CANADA"].includes(t.account.plan)?"Unlimited Plus":["PARTNER_REGULAR","PARTNER_REGULAR_CANADA"].includes(t.account.plan)?t.account["2kCameras"]||"0":"-",t.account.userId&&t.getDevices(t.account.userId)},function(e){t.accountLoader=!1,t.pageErrorHandle(e)}))}},{key:"getDevices",value:function(t){var e=this;this.deviceLoader=!0;var n=[this.service.getArloDevice(t)];this.RG.length&&n.push(this.service.getdevices(this.RG[0].serialNumber,this.orgId)),(0,p.D)(n).subscribe(function(t){var n;e.deviceLoader=!1;var i=(t[1]||[]).filter(function(t){return t.MACAddress}).map(function(t){return t.MACAddress});e.devices=((null===(n=t[0])||void 0===n?void 0:n.devices)?t[0].devices:t[0]?t[0]:[]).map(function(t){return i.includes(t.macAddress)&&(t.hasMacMatched=!0),t})},function(t){e.deviceLoader=!1,e.pageErrorHandle(t)})}},{key:"getHealth",value:function(){var t=this;this.healthLoader=!0,this.service.getArloOverallStatus().subscribe(function(e){t.healthLoader=!1,t.health=(null==e?void 0:e.healths)?e.healths:e||[],t.overallStatus=t.health.filter(function(t){return!t.status}).length},function(e){t.healthLoader=!1,t.pageErrorHandle(e)})}},{key:"updateDeviceInfo",value:function(t,e){var n=this;this.isRefresh=!0,this.deviceLoader=!0,this.service.updateArloPostDevice(t).subscribe(function(i){setTimeout(function(){n.service.updateArloDevice(t).subscribe(function(t){var i,o,r;n.deviceLoader=!1,n.isRefresh=!1,n.devices[e].battery=null===(i=null==t?void 0:t.health)||void 0===i?void 0:i.batteryStatus,n.devices[e].updated=null===(o=null==t?void 0:t.health)||void 0===o?void 0:o.updated,n.devices[e].created=null===(r=null==t?void 0:t.health)||void 0===r?void 0:r.created},function(t){n.deviceLoader=!1,n.pageErrorHandle(t)})},3e4)},function(t){n.deviceLoader=!1,n.pageErrorHandle(t)})}},{key:"pageErrorHandle",value:function(t){this.alertMessage=401===t.status?t.error.errorMessage?t.error.errorMessage:"Unknown Error":this.sso.pageErrorHandle(t),this.isError=!0}},{key:"copyToClipboard",value:function(){var t="Subject:\n";t+="".concat($("#arloTemplateSubject").text().trim(),"\n\nBody:\n"),$("#arloTemplateBody > *").each(function(){t+="LI"==$(this).prop("tagName")?$(this).text().trim()+"\n":"\n"}),navigator.clipboard?navigator.clipboard.writeText(t).then(function(){},function(t){}):this.copyForOldBrowser(t)}},{key:"copyForOldBrowser",value:function(t){var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=t,document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")}catch(n){}document.body.removeChild(e)}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe()}},{key:"viewDeviceDetails",value:function(t){t?this.isRefresh||this.router.navigate(["./support/device"],{state:{isDataModel:!0,serialNumber:this.RG[0].serialNumber,macAddress:t}}):this.warningMsg="Device is not available to show a detailed view"}},{key:"escalationProcessEditorModal",value:function(){var t=this,e=this;e.valueInserted=!1,e.changescount=0,this.saveCallOutCome=!0,this.mailSubject="".concat(this.language["Calix Partner Escalation from"]," ").concat(this.CSR_Data.firstName," ").concat(this.CSR_Data.lastName," at ").concat(this.sso.getOrgName());var n=localStorage.getItem("calix.userId");this.service.getUserEmail(n).subscribe(function(e){t.replyTo=e.email,t.sendTo=d.N.SUMMARY_URL.includes("stg")||d.N.SUMMARY_URL.includes("dev.calix.com")||d.N.SUMMARY_URL.includes("devfunc.calix.com")?e.email:"calixpartnersupport@arlo.com,"+e.email,t.emailLoader=!1},function(e){t.modalLoader=!1,t.pageErrorHandle(e)}),this.modalService.open(this.escalationProcessEditor,{windowClass:"arlo-editor-modal"}),this.quillnew=new Wt("#editor-container",{modules:{toolbar:{container:"#toolbar-toolbar",handlers:{redo:function(){this.quill.history.redo()},undo:function(){this.quill.history.undo(),e.changescount--,1==this.quill.history.stack.undo.length&&(e.changescount=0)}}}},theme:"snow"}),this.quillnew.on("text-change",function(t){for(var n,i,o=document.querySelectorAll(".ql-editor li"),r=0;r<o.length;r++)""==o[r].textContent&&(o[r].textContent="  "),o[r].children[0]&&(null===(n=o[r].children[0].attributes.getNamedItem("style"))||void 0===n?void 0:n.textContent.includes("font-size"))&&(i=o[r].children[0].attributes.getNamedItem("style").textContent,o[r].children[0].parentElement.setAttribute("style",i)),"  "==o[r].textContent&&o[r].setAttribute("style",i);e.showUndo=e.defaultMail.value!=document.querySelector(".arlo-mail-body").textContent,t.ops.forEach(function(t){t.attributes&&Object.keys(null==t?void 0:t.attributes).forEach(function(n){t.attributes[n]&&e.changescount++}),(t.delete||t.insert)&&e.valueInserted&&e.changescount++,e.valueInserted=!0})}),document.querySelector("#editor-container .ql-editor").innerHTML=this.emailTemplate().replace(/\n/g,""),this.defaultMail=Object.assign({},{value:document.querySelector(".arlo-mail-body").textContent})}},{key:"emailTemplate",value:function(){var t,e;return"<p>".concat(this.language["Escalation Details"],"</p>\n<p></p>\n<p>").concat(this.language["broadband service providor name"],": ").concat(this.sso.getOrgName(),"</p>\n<p>").concat(this.language["Broadband Service Provider Case Number"],": </p>\n<p>").concat(this.language["Broadband Service Provider Support Agent Name"],": </p>\n<p>").concat(this.language["Broadband Service Provider Support Agent Email"],": </p>\n<p>").concat(this.language["Broadband Service Provider Support Agent Phone"],": </p>\n<p>").concat(this.language["subscriber first name"],": ").concat(this.BSP_Data.name,"</p>\n<p>").concat(this.language["subscriber last name"],": </p>\n<p>").concat(this.language["Subscriber Email"],": ").concat((null===(t=this.account)||void 0===t?void 0:t.email)?null===(e=this.account)||void 0===e?void 0:e.email:"","</p>\n<p>").concat(this.language["Subscriber Phone"],": ").concat(this.BSP_Data.phone,"</p>\n<p>").concat(this.language["Subscriber Availability"],": </p>\n<p></p>\n<p>").concat(this.language["subscriber device model number"],": </p>\n<p>").concat(this.language["subscriber device serial number"],": </p>\n<p>").concat(this.language["Subscriber Case Description"],": </p> \n<p></p>\n<p>").concat(this.language["Short Description of the Problem"],"</p>")}},{key:"sendEmail",value:function(){var t=this;if(this.sendTo&&this.mailSubject&&document.querySelector("#editor-container > *")&&this.patternCheck(this.sendTo)&&this.patternCheck(this.replyTo)){this.modalLoader=!0,document.querySelector("#editor-container input").remove();var e=document.querySelector("#editor-container").innerHTML,n="<p></p><p></p><p>-".concat(this.language["Sent by Calix on behalf of"]," ").concat(localStorage.getItem("calix.org_name"),"</p>");e=e.substring(0,e.length-6)+n+"</div>",this.service.sendEmail([this.sendTo,this.mailSubject,e,this.replyTo]).subscribe(function(e){t.modalLoader=!1;var n=document.querySelector("#editor-container > *").innerText;t.modalService.dismissAll(),t.setCallOutCome(n),t.CommonFunctionsService.trackPendoEvents("Subscriber","Escalation to Arlo is created")},function(e){(400==e.error.errorCode||401==e.error.errorCode||500==e.error.errorCode)&&(t.alertMessage=e.error.errorMessage?e.error.errorMessage:"Unknown Error",t.isError=!0),t.modalLoader=!1,t.modalService.dismissAll(),t.pageErrorHandle(e)})}else this.mailSubmit=!0}},{key:"setCallOutCome",value:function(t){this.saveCallOutCome&&(t="".concat(this.language.From,": ").concat(this.arloMail,"\n      ").concat(this.language.sent,": ").concat((new Date).toLocaleString("default",{dateStyle:"full",timeStyle:"medium"}),"\n      ").concat(this.language.To,": ").concat(this.sendTo,"\n      ").concat(this.language.subject,": ").concat(this.mailSubject,"\n      ").concat(t.replace(/\n\n/g,"\n").replace(/\n\n\n/g,"\n\n"),"\n    "),document.querySelector("#callOutcomeBtnId").click(),this.callOutComeService.escalationEmail=t)}},{key:"patternCheck",value:function(t){var e=!0;return t.split(",").forEach(function(t){/^[a-z0-9A-Z._%+-]+@[a-z0-9A-Z.-]+\.[a-zA-Z]{2,}$/.test(t)||(e=!1)}),e}},{key:"appendSubscriberDeviceData",value:function(t){var e=[];return this.BSP_Data.devices.forEach(function(n){e.push("model"==t?n.modelName:n.serialNumber)}),e.join(", ")}},{key:"removeUnwantedSpace",value:function(t,e){this[t]=this.CommonFunctionsService.trimSpaceFromNonObjectInputs(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.Y36(y.a),g.Y36(h.t6),g.Y36(f.s),g.Y36(u.F0),g.Y36(z.Dx),g.Y36(te.FF),g.Y36(Xt.K),g.Y36(ee.i))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-arlo-smart"]],viewQuery:function(t,e){var n;(1&t&&g.Gf(Me,7),2&t)&&(g.iGM(n=g.CRH())&&(e.escalationProcessEditor=n.first))},decls:155,vars:60,consts:[[1,"position-relative","my-3"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],["class","w-100 alert warning-msg fade show",4,"ngIf"],[1,"row"],[1,"col-md-4"],["class","btn-default primary",3,"click",4,"ngIf"],[1,"row","mt-3"],[1,"col-sm-12","col-md-12","col-lg-3","col-xl-3"],["class","loader",4,"ngIf"],[1,"d-flex","justify-content-between","border-bottom","mb-2"],["id","arlo-account-details",1,"cco-secondary-title"],[1,"cco-secondary-title","w-24-cursor"],["src","assets/img/Refresh-icon.svg",1,"refresh-icon",3,"click"],[1,"arlo-smart-table"],["id","arlo-subs-status",1,"table"],[1,"w-40"],[1,"w-60",3,"ngClass"],[1,"w-60"],["id","arlo-arlo-cloud-status",1,"cco-secondary-title"],["src","assets/img/Refresh-icon.svg",1,"primary",3,"click"],["id","arlo-overall-status",1,"table"],[1,"border-top-0"],[3,"ngClass"],[4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-12","col-lg-6","col-xl-6"],["id","arlo-device",1,"cco-secondary-title"],[1,"arlo-smart-devices-table"],["id","arlo-device-tabel",1,"table","table-striped"],["class","cursor-pointer",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],["id","escalation-process-modal","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg-escalate"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"cco-title","d-inline-flex"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"row","mt-4"],[1,"col-md-6","pl-0"],[1,"cco-secondary-title","escalation-process-sub"],[1,"escalate-list"],["href","mailto:calixpartnersupport@arlo.com"],[1,"col-md-6","pr-0"],[1,""],[1,"blast-grey"],["id","arloTemplateSubject",1,""],[1,"mt-3"],["id","arloTemplateBody"],["type","button",1,"btn-default","primary",3,"click"],["escalationProcessEditor",""],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"btn-default","primary","ok","float-right",3,"click"],[1,"d-inline-flex","d-inline-error",3,"innerHtml"],[1,"w-100","alert","warning-msg","fade","show"],[1,"success-img","succ-img-w"],["src","./assets/img/warning-icon.svg"],["type","button",1,"close","ml-2",3,"click"],["src","assets/img/ic_close-44px.svg"],[1,"btn-default","primary",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-50"],[1,"w-50",3,"ngClass"],[1,"cursor-pointer",3,"click"],["class","cco-secondary-title ref-icon",4,"ngIf"],[1,"cco-secondary-title","ref-icon"],["colspan","7",1,"align-center"],["class","loader load",4,"ngIf"],[1,"col-12","d-flex","justify-content-between"],[1,"ccl-admin-title","mb-2"],["aria-label","Close",3,"click"],["src","../../../../assets/img/close-icon.svg","alt","",1,"pointer"],[1,"col-12","ccl-form"],[1,"d-flex","w-100","mb-3"],[1,"col-auto-width"],[1,"col"],["type","text","disabled","true",1,"mail-disable","w-100",3,"value"],["type","text","trimSpace","",1,"w-100",3,"placeholder","ngModel","ngModelChange","blur"],["class","highlightRed",4,"ngIf"],["type","text","trimSpace","",1,"w-100",3,"ngModel","ngModelChange","blur"],[1,"col-12"],[1,"d-flex","w-100","border-top"],["id","editor-new",1,"w-100","mb-3"],["id","toolbar-toolbar",1,"toolbar","d-flex","w-100","border-none"],[1,"ql-formats"],["type","button","value","undo",1,"ql-undo","mr-3",3,"ngClass"],["type","button","value","redo",1,"ql-redo"],[1,"ql-format-group"],[1,"ql-formats","ql-font-family"],[1,"ql-font"],["value","sans-serif","selected",""],["value","serif"],["value","monospace"],["title","Font Size",1,"ql-size"],["value","12px","selected",""],["value","14px"],["value","16px"],["value","18px"],["value","20px"],["value","22px"],["value","24px"],["value","26px"],["value","28px"],["value","36px"],["value","40px"],["aria-label","Bold",1,"ql-bold"],["aria-label","Italic",1,"ql-italic"],["aria-label","Underline",1,"ql-underline"],["aria-label","Strike",1,"ql-strike"],["type","button","aria-label","List","value","ordered",1,"ql-list"],["type","button","aria-label","Bullet","value","bullet",1,"ql-list"],[1,"d-flex","w-100"],[1,"col-auto-width","pl-2"],[1,"arlo-mail-body"],["id","editor-container",1,"border-none","capital"],["content",""],[1,"w-100","editor-footer","my-3"],[1,"d-inline-flex","align-items-center"],["type","checkbox","checked","saveCallOutCome",3,"ngModel","ngModelChange"],[1,"pl-2"],[1,"mt-2"],[1,"loader","load"],[1,"highlightRed"]],template:function(t,e){1&t&&(g.TgZ(0,"section",0),g.YNc(1,Ee,6,2,"div",1),g.YNc(2,Pe,7,1,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"div",4),g.YNc(5,Ie,2,1,"button",5),g.qZA(),g.qZA(),g.TgZ(6,"div",6),g.TgZ(7,"div",7),g.YNc(8,Ne,5,1,"div",8),g.TgZ(9,"div",9),g.TgZ(10,"div",10),g._uU(11),g.qZA(),g.TgZ(12,"div",11),g.TgZ(13,"img",12),g.NdJ("click",function(){return e.getAccount()}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(14,"div",13),g.TgZ(15,"table",14),g._UZ(16,"thead"),g.TgZ(17,"tbody"),g.TgZ(18,"tr"),g.TgZ(19,"td",15),g._uU(20),g.qZA(),g.TgZ(21,"td",16),g._uU(22),g.qZA(),g.qZA(),g.TgZ(23,"tr"),g.TgZ(24,"td",15),g._uU(25),g.qZA(),g.TgZ(26,"td",17),g._uU(27),g.qZA(),g.qZA(),g.TgZ(28,"tr"),g.TgZ(29,"td",15),g._uU(30),g.qZA(),g.TgZ(31,"td",17),g._uU(32),g.qZA(),g.qZA(),g.TgZ(33,"tr"),g.TgZ(34,"td",15),g._uU(35),g.qZA(),g.TgZ(36,"td",17),g._uU(37),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(38,"div",7),g.YNc(39,Ue,5,1,"div",8),g.TgZ(40,"div",9),g.TgZ(41,"div",18),g._uU(42),g.qZA(),g.TgZ(43,"div",11),g.TgZ(44,"img",19),g.NdJ("click",function(){return e.getHealth()}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(45,"div",13),g.TgZ(46,"table",20),g.TgZ(47,"tbody"),g.TgZ(48,"tr"),g.TgZ(49,"td",21),g._uU(50),g.qZA(),g.TgZ(51,"td",22),g._uU(52),g.qZA(),g.qZA(),g.YNc(53,je,5,3,"tr",23),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(54,"div",24),g.YNc(55,De,5,1,"div",8),g.TgZ(56,"div",9),g.TgZ(57,"div",25),g._uU(58),g.qZA(),g.qZA(),g.TgZ(59,"div",26),g.TgZ(60,"table",27),g.TgZ(61,"thead"),g.TgZ(62,"tr"),g.TgZ(63,"th"),g._uU(64),g.qZA(),g.TgZ(65,"th"),g._uU(66),g.qZA(),g.TgZ(67,"th"),g._uU(68),g.qZA(),g.TgZ(69,"th"),g._uU(70),g.qZA(),g.TgZ(71,"th"),g._uU(72),g.qZA(),g.TgZ(73,"th"),g._uU(74),g.qZA(),g._UZ(75,"th"),g.qZA(),g.qZA(),g.TgZ(76,"tbody"),g.YNc(77,Fe,16,14,"tr",28),g.qZA(),g.TgZ(78,"tfoot"),g.YNc(79,He,3,1,"tr",29),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(80,"div",30),g.TgZ(81,"div",31),g.TgZ(82,"div",32),g.TgZ(83,"div",3),g.TgZ(84,"div",33),g._uU(85),g.qZA(),g.TgZ(86,"button",34),g._UZ(87,"span",35),g.qZA(),g.qZA(),g.TgZ(88,"div",36),g.TgZ(89,"div",37),g.TgZ(90,"div",38),g._uU(91),g.qZA(),g.TgZ(92,"div",39),g.TgZ(93,"ol"),g.TgZ(94,"li"),g._uU(95),g.qZA(),g.TgZ(96,"li"),g._uU(97),g.qZA(),g.TgZ(98,"li"),g._uU(99),g.qZA(),g.TgZ(100,"li"),g._uU(101),g.TgZ(102,"a",40),g._uU(103,"calixpartnersupport@arlo.com"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(104,"ul"),g.TgZ(105,"li"),g._uU(106),g.qZA(),g.TgZ(107,"li"),g._uU(108),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(109,"div",41),g.TgZ(110,"div",38),g._uU(111),g.qZA(),g.TgZ(112,"div",42),g.TgZ(113,"span",43),g._uU(114),g.qZA(),g.qZA(),g.TgZ(115,"div",44),g._uU(116),g.qZA(),g.TgZ(117,"div",45),g.TgZ(118,"span",43),g._uU(119),g.qZA(),g.qZA(),g.TgZ(120,"div",42),g.TgZ(121,"ul",46),g.TgZ(122,"li"),g._uU(123),g.qZA(),g.TgZ(124,"li"),g._uU(125),g.qZA(),g.TgZ(126,"li"),g._uU(127),g.qZA(),g.TgZ(128,"li"),g._uU(129),g.qZA(),g.TgZ(130,"li"),g._uU(131),g.qZA(),g._UZ(132,"br"),g.TgZ(133,"li"),g._uU(134),g.qZA(),g.TgZ(135,"li"),g._uU(136),g.qZA(),g.TgZ(137,"li"),g._uU(138),g.qZA(),g.TgZ(139,"li"),g._uU(140),g.qZA(),g.TgZ(141,"li"),g._uU(142),g.qZA(),g._UZ(143,"br"),g.TgZ(144,"li"),g._uU(145),g.qZA(),g.TgZ(146,"li"),g._uU(147),g.qZA(),g.TgZ(148,"li"),g._uU(149),g.qZA(),g.qZA(),g.qZA(),g.TgZ(150,"div",42),g.TgZ(151,"button",47),g.NdJ("click",function(){return e.copyToClipboard()}),g._uU(152),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(153,Ke,103,24,"ng-template",null,48,g.W1O)),2&t&&(g.xp6(1),g.Q6J("ngIf",e.isError),g.xp6(1),g.Q6J("ngIf",e.warningMsg),g.xp6(3),g.Q6J("ngIf",null==e.account?null:e.account.userId),g.xp6(3),g.Q6J("ngIf",e.accountLoader),g.xp6(3),g.hij(" ",e.language["Account Details"]," "),g.xp6(9),g.Oqu(e.language["Subscription Status"]),g.xp6(1),g.Q6J("ngClass",e.account.email?"highlightGreen":"highlightRed"),g.xp6(1),g.hij(" ",e.accountLoader?"-":e.account.email?e.language.Arlo_Subscribed:e.language.Unsubscribed," "),g.xp6(3),g.Oqu(e.language["Arlo Account Email"]),g.xp6(2),g.Oqu(e.accountLoader?"-":(null==e.account?null:e.account.email)||"-"),g.xp6(3),g.Oqu(e.language["Arlo Smart 2K Plan"]),g.xp6(2),g.Oqu(e.accountLoader?"-":e.account.arloPlan||"-"),g.xp6(3),g.Oqu(e.language.Devices),g.xp6(2),g.Oqu(e.accountLoader?"-":e.devices.length),g.xp6(2),g.Q6J("ngIf",e.healthLoader),g.xp6(3),g.Oqu(e.language["Arlo Cloud Status"]),g.xp6(8),g.Oqu(e.language["Overall Status"]),g.xp6(1),g.Q6J("ngClass",e.overallStatus?"highlightRed":"highlightGreen"),g.xp6(1),g.hij(" ",e.healthLoader?"-":e.overallStatus&&e.overallStatus<=4?e.language.DEGRADED:e.overallStatus?e.language.Down:e.language.Up," "),g.xp6(1),g.Q6J("ngForOf",e.health),g.xp6(2),g.Q6J("ngIf",e.deviceLoader),g.xp6(3),g.Oqu(e.language.Devices),g.xp6(6),g.Oqu(e.language.Camera),g.xp6(2),g.Oqu(e.language.Model),g.xp6(2),g.Oqu(e.language["Serial Number"]),g.xp6(2),g.Oqu(e.language["Battery Status"]),g.xp6(2),g.Oqu(e.language["Device Type"]),g.xp6(2),g.Oqu(e.language.Last_Updated),g.xp6(3),g.Q6J("ngForOf",e.devices),g.xp6(2),g.Q6J("ngIf",!e.devices.length),g.xp6(6),g.Oqu(e.language["Escalation Process"]),g.xp6(6),g.Oqu(e.language.Instructions),g.xp6(4),g.hij("",e.language["Open your preferred email client and paste the following email template"]," "),g.xp6(2),g.hij("",e.language["Update the subject line with a summary of the issue being experienced"]," "),g.xp6(2),g.hij("",e.language["Add the requested information to each line in the body of the email"]," "),g.xp6(2),g.hij("",e.language["Send the email to"]," "),g.xp6(5),g.hij(" * ",e.language["Do not modify this template as it will result in a delay of handling the escalation."]," "),g.xp6(2),g.hij(" * ",e.language["All fields are mandatory in order to process the escalation."]," "),g.xp6(3),g.Oqu(e.language["Email Template"]),g.xp6(3),g.hij("",e.language.subject,":"),g.xp6(2),g.xDo(" ",e.language["Calix Partner Escalation"],": ",e.language.Summary,": ","[","",e.language["up to 200 characters"],"","]"," "),g.xp6(3),g.hij("",e.language.Body,":"),g.xp6(4),g.hij("",e.language["broadband service providor name"],": "),g.xp6(2),g.hij(" ",e.language["Broadband Service Provider Case Number"],": "),g.xp6(2),g.hij(" ",e.language["Broadband Service Provider Support Agent Name"],": "),g.xp6(2),g.hij(" ",e.language["Broadband Service Provider Support Agent Email"],": "),g.xp6(2),g.hij(" ",e.language["Broadband Service Provider Support Agent Phone"],": "),g.xp6(3),g.hij(" ",e.language["subscriber first name"],": "),g.xp6(2),g.hij(" ",e.language["subscriber last name"],": "),g.xp6(2),g.hij(" ",e.language["Subscriber Email"],": "),g.xp6(2),g.hij(" ",e.language["Subscriber Phone"],": "),g.xp6(2),g.hij(" ",e.language["Subscriber Availability"],": "),g.xp6(3),g.hij(" ",e.language["subscriber device model number"],": "),g.xp6(2),g.hij(" ",e.language["subscriber device serial number"],": "),g.xp6(2),g.hij("",e.language["Subscriber Case Description"],": "),g.xp6(3),g.Oqu(e.language["Copy to clipboard"]))},directives:[l.O5,l.mk,l.sg,G.Fj,ne.f,G.JJ,G.On,G.YN,G.Kr,G.Wl],pipes:[l.uU],styles:[".arlo-smart-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0 10px;border-bottom:1px solid #EBEAEF!important;line-height:32px;border-top:none}.arlo-smart-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #EBEAEF!important}.arlo-smart-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 10px;border:0px solid #EBEAEF!important;line-height:24px}.arlo-smart-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0 10px 6px;border-top:none;font-size:16px;font-style:normal;font-weight:400;line-height:16px;letter-spacing:0em}.arlo-smart-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#fff!important}.arlo-smart-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .arlo-smart-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 10px;background-color:#fff!important;line-height:24px}.arlo-smart-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.error[_ngcontent-%COMP%]{color:#c70000}.arlo-smart-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.success[_ngcontent-%COMP%]{color:#82bf00}.arlo-smart-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6){width:140px}.refresh-icon[_ngcontent-%COMP%]{fill:#0279ff;width:24px;cursor:pointer}.highlightRed[_ngcontent-%COMP%]{color:#c70000}.highlightGreen[_ngcontent-%COMP%]{color:green}.escalate-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:30px;list-style:disc}.escalate-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;list-style:none}.escalate-list[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-left:15px}.escalate-list[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:26px;max-width:75%}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:42px 62px}.escalation-process-sub[_ngcontent-%COMP%]{font-weight:300;margin-bottom:17px;border-bottom:1px solid #ccc;padding-bottom:8px}.blast-grey[_ngcontent-%COMP%]{color:gray}.succ-img-w[_ngcontent-%COMP%]{width:40px;float:left;height:100%}.d-inline-error[_ngcontent-%COMP%]{width:85%;height:100%}.w-24-cursor[_ngcontent-%COMP%]{width:24px;cursor:pointer}.border-top-0[_ngcontent-%COMP%]{border-top:0px}.ref-icon[_ngcontent-%COMP%]{width:24px;cursor:pointer;line-height:unset}.col-auto-width[_ngcontent-%COMP%]{min-width:100px}.arlo-mail-body[_ngcontent-%COMP%]{overflow:auto;max-height:300px}.mail-disable[_ngcontent-%COMP%]{background-color:transparent;cursor:not-allowed;border:none}.align-center[_ngcontent-%COMP%]{text-align:center}"]}),t}(),$e=function(){var t=function(){function t(e,n){o(this,t),this.http=e,this.sso=n}return a(t,[{key:"getBarkAccount",value:function(t,e){var n=this.sso.getOrg(t);return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"/subscriber-systems/edge-suites?").concat(n,"subscriberId=").concat(e,"&includeEnabledStatus=true")).pipe((0,Vt.K)(this.handleError))}},{key:"getBarkHealth",value:function(){return this.http.get("".concat(d.N.SUPPORT_URL,"/partner/feature/bark/health")).pipe((0,Vt.K)(this.handleError))}},{key:"getUserEmail",value:function(t){return this.http.get("".concat(d.N.API_BASE_URL,"/admin/user/").concat(t)).pipe((0,Vt.K)(this.handleError))}},{key:"sendEmail",value:function(t){var n=e(t,4),i=n[0],o=n[1],r=n[2],a=n[3];return this.http.post("".concat(d.N.SUPPORT_URL,"/filemanage/email"),{to:i,subject:o,content:r,replyTo:a}).pipe((0,Vt.K)(this.handleError))}},{key:"getBarkAccountSetup",value:function(t){return this.http.get("".concat(d.N.SUPPORT_URL,"/partner/feature/bark/subscription?userId=").concat(t)).pipe((0,Vt.K)(this.handleError))}},{key:"handleError",value:function(t){return(0,Kt._)(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.LFG(m.eN),g.LFG(h.t6))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Xe=["escalationProcessModal"],tn=["escalationProcessEditor"];function en(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",17),g.TgZ(1,"span",18),g._UZ(2,"img",19),g.qZA(),g.TgZ(3,"button",20),g.NdJ("click",function(){return g.CHM(n),g.oxw().isError=!1}),g._uU(4),g.qZA(),g._UZ(5,"span",21),g.qZA()}if(2&t){var i=g.oxw();g.xp6(4),g.hij(" ",i.language.OK," "),g.xp6(1),g.Q6J("innerHtml",i.alertMessage,g.oJD)}}function nn(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"button",22),g.NdJ("click",function(){return g.CHM(n),g.oxw().escalationProcessEditorModal()}),g._uU(1),g.qZA()}if(2&t){var i=g.oxw();g.xp6(1),g.hij(" ",i.language["Escalate to Bark"]," ")}}function on(t,e){if(1&t&&(g.TgZ(0,"div",23),g.TgZ(1,"div",24),g.TgZ(2,"div",25),g.TgZ(3,"span",26),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(4),g.Oqu(n.language.Loading)}}function rn(t,e){if(1&t&&(g.TgZ(0,"div",23),g.TgZ(1,"div",24),g.TgZ(2,"div",25),g.TgZ(3,"span",26),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(4),g.Oqu(n.language.Loading)}}function an(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",27),g.TgZ(1,"button",28),g.NdJ("click",function(){return g.CHM(n).$implicit.dismiss("Cross click")}),g._UZ(2,"img",29),g.qZA(),g.qZA(),g.TgZ(3,"div",30),g.TgZ(4,"div",31),g.TgZ(5,"div",32),g.TgZ(6,"div",33),g.TgZ(7,"h5",34),g._uU(8),g.qZA(),g.qZA(),g.TgZ(9,"div",35),g.TgZ(10,"div",30),g.TgZ(11,"div",36),g.TgZ(12,"div",33),g.TgZ(13,"h5",37),g._uU(14),g.qZA(),g.qZA(),g.TgZ(15,"div",38),g.TgZ(16,"ol"),g.TgZ(17,"li"),g._uU(18),g.qZA(),g.TgZ(19,"li"),g._uU(20),g.qZA(),g.TgZ(21,"li"),g._uU(22),g.qZA(),g.TgZ(23,"li"),g._uU(24),g.TgZ(25,"a",39),g._uU(26,"help@bark.us"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(27,"ul"),g.TgZ(28,"li"),g._uU(29),g.qZA(),g.TgZ(30,"li"),g._uU(31),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(32,"div",36),g.TgZ(33,"div",33),g.TgZ(34,"h5",40),g._uU(35),g.qZA(),g.qZA(),g.TgZ(36,"div",33),g.TgZ(37,"div"),g.TgZ(38,"span",41),g._uU(39),g.qZA(),g.qZA(),g.TgZ(40,"div",42),g._uU(41),g.qZA(),g.TgZ(42,"div",43),g.TgZ(43,"span",41),g._uU(44),g.qZA(),g.qZA(),g.TgZ(45,"div"),g.TgZ(46,"ul",44),g.TgZ(47,"li"),g._uU(48),g.qZA(),g.TgZ(49,"li"),g._uU(50),g.qZA(),g.TgZ(51,"li"),g._uU(52),g.qZA(),g.TgZ(53,"li"),g._uU(54),g.qZA(),g.qZA(),g.qZA(),g.TgZ(55,"div"),g.TgZ(56,"button",45),g.NdJ("click",function(){return g.CHM(n),g.oxw().copyToClipboard()}),g._uU(57),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.xp6(8),g.Oqu(i.language["Escalation Process"]),g.xp6(6),g.Oqu(i.language.Instructions),g.xp6(4),g.hij("",i.language["Open your preferred email client and paste the following email template"]," "),g.xp6(2),g.hij("",i.language["Update the subject line with a summary of the issue being experienced"]," "),g.xp6(2),g.hij(" ",i.language["Add the requested information to each line in the body of the email"]," "),g.xp6(2),g.hij("",i.language["Send the email to"]," "),g.xp6(5),g.hij(" *",i.language["Do not modify this template as it will result in a delay of handling the escalation."]," "),g.xp6(2),g.hij(" *",i.language["All fields are mandatory in order to process the escalation."]," "),g.xp6(4),g.Oqu(i.language["Email Template"]),g.xp6(4),g.hij("",i.language.subject,":"),g.xp6(2),g.hij(" ",i.language["Calix Partner Escalation"]," "),g.xp6(3),g.hij("",i.language.Body,":"),g.xp6(4),g.hij(" ",i.language["Broadband Service Provider Name:"]," "),g.xp6(2),g.hij(" ",i.language["Subscribers\u2019 First and Last Name:"]," "),g.xp6(2),g.hij(" ",i.language["Subscribers\u2019 Email Address:"]," "),g.xp6(2),g.hij(" ",i.language["Short Description of the Problem"]," "),g.xp6(3),g.Oqu(i.language["Copy to clipboard"])}}function ln(t,e){if(1&t&&(g.TgZ(0,"div",23),g.TgZ(1,"div",24),g.TgZ(2,"div",25),g.TgZ(3,"span",26),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(4),g.Oqu(n.language.Loading)}}function sn(t,e){if(1&t&&(g.TgZ(0,"small",100),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["This field is required"],". ")}}function cn(t,e){if(1&t&&(g.TgZ(0,"small",100),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["Please enter a valid email address"],". ")}}function un(t,e){if(1&t&&(g.TgZ(0,"small",100),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["This field is required"],". ")}}function dn(t,e){if(1&t&&(g.TgZ(0,"small",100),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["Please enter a valid email address"],". ")}}function pn(t,e){if(1&t&&(g.TgZ(0,"small",100),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["This field is required"],". ")}}var gn=function(t){return{redoDisablity:t}};function fn(t,e){if(1&t){var n=g.EpF();g.YNc(0,ln,5,1,"div",5),g.TgZ(1,"div",30),g.TgZ(2,"div",46),g.TgZ(3,"div",47),g._uU(4),g.qZA(),g.TgZ(5,"div",48),g.NdJ("click",function(){return g.CHM(n).$implicit.dismiss("Cross click")}),g._UZ(6,"img",49),g.qZA(),g.qZA(),g.TgZ(7,"div",50),g.TgZ(8,"div",51),g.TgZ(9,"div",52),g.TgZ(10,"label"),g._uU(11),g.qZA(),g.qZA(),g.TgZ(12,"div",53),g._UZ(13,"input",54),g.qZA(),g.qZA(),g.TgZ(14,"div",51),g.TgZ(15,"div",52),g.TgZ(16,"label"),g._uU(17),g.qZA(),g.qZA(),g.TgZ(18,"div",53),g.TgZ(19,"input",55),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().replyTo=t})("blur",function(){g.CHM(n);var t=g.oxw();return t.removeUnwantedSpace("replyTo",t.replyTo)}),g.qZA(),g.YNc(20,sn,2,1,"small",56),g.YNc(21,cn,2,1,"small",56),g.qZA(),g.qZA(),g.TgZ(22,"div",51),g.TgZ(23,"div",52),g.TgZ(24,"label"),g._uU(25),g.qZA(),g.qZA(),g.TgZ(26,"div",53),g.TgZ(27,"input",55),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().sendTo=t})("blur",function(){g.CHM(n);var t=g.oxw();return t.removeUnwantedSpace("sendTo",t.sendTo)}),g.qZA(),g.YNc(28,un,2,1,"small",56),g.YNc(29,dn,2,1,"small",56),g.qZA(),g.qZA(),g.TgZ(30,"div",51),g.TgZ(31,"div",52),g.TgZ(32,"label"),g._uU(33),g.qZA(),g.qZA(),g.TgZ(34,"div",53),g.TgZ(35,"input",57),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().mailSubject=t})("blur",function(){g.CHM(n);var t=g.oxw();return t.removeUnwantedSpace("mailSubject",t.mailSubject)}),g.qZA(),g.YNc(36,pn,2,1,"small",56),g.qZA(),g.qZA(),g.qZA(),g.TgZ(37,"div",58),g.TgZ(38,"div",59),g.TgZ(39,"div",60),g._UZ(40,"hr",61),g.TgZ(41,"div",62),g.TgZ(42,"div",52),g.TgZ(43,"span",63),g._UZ(44,"button",64),g._UZ(45,"button",65),g.qZA(),g.qZA(),g.TgZ(46,"div",53),g.TgZ(47,"span",66),g.TgZ(48,"span",67),g.TgZ(49,"select",68),g.TgZ(50,"option",69),g._uU(51,"Sans Serif"),g.qZA(),g.TgZ(52,"option",70),g._uU(53,"Serif"),g.qZA(),g.TgZ(54,"option",71),g._uU(55,"Monospace"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(56,"span",63),g.TgZ(57,"select",72),g.TgZ(58,"option",73),g._uU(59,"12"),g.qZA(),g.TgZ(60,"option",74),g._uU(61,"14"),g.qZA(),g.TgZ(62,"option",75),g._uU(63,"16"),g.qZA(),g.TgZ(64,"option",76),g._uU(65,"18"),g.qZA(),g.TgZ(66,"option",77),g._uU(67,"20"),g.qZA(),g.TgZ(68,"option",78),g._uU(69,"22"),g.qZA(),g.TgZ(70,"option",79),g._uU(71,"24"),g.qZA(),g.TgZ(72,"option",80),g._uU(73,"26"),g.qZA(),g.TgZ(74,"option",81),g._uU(75,"28"),g.qZA(),g.TgZ(76,"option",82),g._uU(77,"36"),g.qZA(),g.TgZ(78,"option",83),g._uU(79,"40"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(80,"span",63),g._UZ(81,"button",84),g._UZ(82,"button",85),g._UZ(83,"button",86),g._UZ(84,"button",87),g.qZA(),g.TgZ(85,"span",63),g._UZ(86,"button",88),g._UZ(87,"button",89),g.qZA(),g.qZA(),g.qZA(),g.TgZ(88,"div",90),g.TgZ(89,"div",91),g.TgZ(90,"p"),g._uU(91),g.qZA(),g.qZA(),g.TgZ(92,"div",53),g.TgZ(93,"div",92),g._UZ(94,"div",93,94),g.qZA(),g.TgZ(96,"div",95),g.TgZ(97,"label",96),g.TgZ(98,"input",97),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().saveCallOutCome=t}),g.qZA(),g.TgZ(99,"span",98),g._uU(100),g.qZA(),g.qZA(),g.TgZ(101,"div",99),g.TgZ(102,"button",45),g.NdJ("click",function(){return g.CHM(n),g.oxw().sendEmail()}),g._uU(103),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.Q6J("ngIf",i.modalLoader),g.xp6(4),g.hij(" ",i.language["Escalation Email"]," "),g.xp6(7),g.Oqu(i.language.From),g.xp6(2),g.Q6J("value",i.barkMail),g.xp6(4),g.Oqu(i.language["Reply To"]),g.xp6(2),g.s9C("placeholder","CSR Email Address"),g.Q6J("ngModel",i.replyTo),g.xp6(1),g.Q6J("ngIf",i.mailSubmit&&!i.replyTo),g.xp6(1),g.Q6J("ngIf",i.mailSubmit&&!i.patternCheck(i.replyTo)),g.xp6(4),g.Oqu(i.language["Send To"]),g.xp6(2),g.s9C("placeholder","Partner Escalation Email Address, CSR Email Address"),g.Q6J("ngModel",i.sendTo),g.xp6(1),g.Q6J("ngIf",i.mailSubmit&&!i.sendTo),g.xp6(1),g.Q6J("ngIf",i.mailSubmit&&!i.patternCheck(i.sendTo)),g.xp6(4),g.Oqu(i.language.subject),g.xp6(2),g.Q6J("ngModel",i.mailSubject),g.xp6(1),g.Q6J("ngIf",i.mailSubmit&&!i.mailSubject),g.xp6(8),g.Q6J("ngClass",g.VKq(22,gn,!i.changescount)),g.xp6(47),g.Oqu(i.language.Body),g.xp6(7),g.Q6J("ngModel",i.saveCallOutCome),g.xp6(2),g.Oqu(i.language["Save as Call Outcome"]),g.xp6(3),g.Oqu(i.language["Send Email"])}}var hn=function(){var t=function(){function t(e,n,i,r,a,l,s,c,u){o(this,t),this.translateService=e,this.dataService=n,this.modalService=i,this.sso=r,this.titleService=a,this.callOutComeService=l,this.CommonFunctionsService=s,this.service=c,this.protectIqservices=u,this.accountDetailsLoading=!0,this.healthDetailsLoading=!0,this.isError=!1,this.alertMessage="",this.account={},this.res={},this.orgId="",this.RG=[],this.barkMail="noreply@",this.replyTo="",this.sendTo="",this.CSR_Data=JSON.parse(localStorage.getItem("calix.login_data")),this.BSP_Data=JSON.parse(sessionStorage.getItem("calix.subscriberInfo")),this.mailSubject="Calix Partner Escalation from ".concat(this.CSR_Data.firstName," ").concat(this.CSR_Data.lastName," at ").concat(this.CSR_Data.OrgName),this.saveCallOutCome=!0,this.modalLoader=!1,this.fSize=Wt.import("attributors/style/size"),this.fFamily=Wt.import("attributors/style/font"),this.mailSubmit=!1,this.emailLoader=!1,this.showUndo=!1,this.valueInserted=!1,this.changescount=0,this.orgId=localStorage.getItem("calix.org_id")}return a(t,[{key:"ngOnInit",value:function(){var t=this;this.fSize.whitelist=["12px","14px","16px","18px","20px","22px","24px","26px","28px","36px","40px"],this.fFamily.whitelist=["sans-serif","serif","monospace"],Wt.register(this.fFamily,!0),Wt.register(this.fSize,!0),this.orgId=localStorage.getItem("calix.org_id"),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){t.language=e,t.titleService.setTitle("".concat(t.language.Bark," - ").concat(t.language["Managed Services"]," - ").concat(t.language.Service," - ").concat(t.language["Calix Cloud"]))}),this.titleService.setTitle("".concat(this.language.Bark," - ").concat(this.language["Managed Services"]," - ").concat(this.language.Service," - ").concat(this.language["Calix Cloud"])),this.deviceInfo=JSON.parse(sessionStorage.getItem("calix.deviceData")),this.deviceInfo=this.deviceInfo.filter(function(t){return"RG"==t.opMode}),this.deviceInfo=this.deviceInfo&&this.deviceInfo.length?this.deviceInfo[0].serialNumber:"",this.getAccount(),this.getHealth(),d.N.SUMMARY_URL.includes("stg")?this.barkMail+="partnersupport.stg.calix.com":d.N.SUMMARY_URL.includes("dev.calix.com")?this.barkMail+="partnersupport.dev.calix.com":d.N.SUMMARY_URL.includes("devfunc.calix.com")?this.barkMail+="partnersupport.devf.calix.com":this.barkMail+="partnersupport.calix.com"}},{key:"getAccount",value:function(){var t=this;this.accountDetailsLoading=!0;var e=sessionStorage.getItem("calix.subscriberId"),n=this.deviceInfo?1:e?2:0;!n||this.protectIqservices.getArloAccount(this.orgId,1==n?this.deviceInfo:e,n).subscribe(function(e){var n,i,o,r,a,l,s;t.accountDetailsLoading=!1,t.account=(null==e?void 0:e.edgeSuites)&&(null===(n=e.edgeSuites)||void 0===n?void 0:n.bark)?null===(i=e.edgeSuites)||void 0===i?void 0:i.bark:{},t.userId=null===(o=e.edgeSuites.bark)||void 0===o?void 0:o.userId,(null===(r=t.account)||void 0===r?void 0:r.userId)&&t.getBarkAccountSetup(null===(a=t.account)||void 0===a?void 0:a.userId),t.BarkPlan="bark_premium"===(null===(l=t.account)||void 0===l?void 0:l.planCode)?"Premium - Monthly":"bark_junior"===(null===(s=t.account)||void 0===s?void 0:s.planCode)?"Junior - Monthly":""},function(e){t.accountDetailsLoading=!1,t.pageErrorHandle(e)})}},{key:"getHealth",value:function(){var t=this;this.healthDetailsLoading=!0,this.service.getBarkHealth().subscribe(function(e){t.healthDetailsLoading=!1,t.health=(null==e?void 0:e.healths)?e.healths:e||[],console.log("health is ",t.health),t.overallStatus=t.health.filter(function(t){return!t.status}).length},function(e){t.healthDetailsLoading=!1,t.pageErrorHandle(e)})}},{key:"getBarkAccountSetup",value:function(t){var e=this;this.loading=!0,null!=this.userId?(console.log(" this.userId",this.userId),this.service.getBarkAccountSetup(t).subscribe(function(t){var n,i;e.loading=!1,e.accountSetup=(null==t?void 0:t.healths)?t.healths:t||[],console.log("account setup is ",e.accountSetup),e.AccountSetupBark="completed"===(null===(n=e.accountSetup)||void 0===n?void 0:n.status)?"Completed":"not completed"===(null===(i=e.accountSetup)||void 0===i?void 0:i.status)?"Not Completed":""},function(t){e.loading=!1,e.pageErrorHandle(t)})):this.AccountSetupBark=""}},{key:"escalationProcessModalOpen",value:function(){this.modalService.open(this.escalationProcessModal,{windowClass:"custom-large-modal"})}},{key:"escalationProcessEditorModal",value:function(){var t=this,e=this;e.valueInserted=!1,e.valueInserted=!1,e.changescount=0,this.saveCallOutCome=!0,this.mailSubject="".concat(this.language["Calix Partner Escalation from"]," ").concat(this.CSR_Data.firstName," ").concat(this.CSR_Data.lastName," at ").concat(this.sso.getOrgName());var n=localStorage.getItem("calix.userId");this.service.getUserEmail(n).subscribe(function(e){t.replyTo=e.email,t.sendTo="help@bark.us,"+e.email,t.emailLoader=!1},function(e){t.loading=!1,t.pageErrorHandle(e)}),this.modalService.open(this.escalationProcessEditor,{windowClass:"bark-large-modal"}),this.quillnew=new Wt("#editor-container",{modules:{toolbar:{container:"#toolbar-toolbar",handlers:{redo:function(){this.quill.history.redo()},undo:function(){this.quill.history.undo(),e.changescount--,1==this.quill.history.stack.undo.length&&(e.changescount=0)}}}},theme:"snow"}),this.quillnew.on("text-change",function(t){for(var n,i,o=document.querySelectorAll(".ql-editor li"),r=0;r<o.length;r++)""==o[r].textContent&&(o[r].textContent="  "),o[r].children[0]&&(null===(n=o[r].children[0].attributes.getNamedItem("style"))||void 0===n?void 0:n.textContent.includes("font-size"))&&(i=o[r].children[0].attributes.getNamedItem("style").textContent,o[r].children[0].parentElement.setAttribute("style",i)),"  "==o[r].textContent&&o[r].setAttribute("style",i);e.showUndo=e.defaultMail.value!=document.querySelector(".bark-mail-body").textContent,t.ops.forEach(function(t){t.attributes&&Object.keys(null==t?void 0:t.attributes).forEach(function(n){t.attributes[n]&&e.changescount++}),(t.delete||t.insert)&&e.valueInserted&&e.changescount++,e.valueInserted=!0})}),document.querySelector("#editor-container .ql-editor").innerHTML=this.emailTemplate().replace(/\n/g,""),this.defaultMail=Object.assign({},{value:document.querySelector(".bark-mail-body").textContent})}},{key:"emailTemplate",value:function(){var t,e;return"<p>".concat(this.language["Escalation Details"],"</p>\n<p></p>\n<p>").concat(this.language["Broadband Service Provider Name:"]," ").concat(this.sso.getOrgName(),"</p>\n<p>").concat(this.language["Subscribers\u2019 First and Last Name:"]," ").concat(this.BSP_Data.name,"</p>\n<p>").concat(this.language["Subscribers\u2019 Email Address:"]," ").concat((null===(t=this.account)||void 0===t?void 0:t.email)?null===(e=this.account)||void 0===e?void 0:e.email:"","</p>\n<p></p>\n<p>").concat(this.language["Short Description of the Problem"],"</p>")}},{key:"copyToClipboard",value:function(){var t="Subject:\n";t+="".concat(document.getElementById("arloTemplateSubject").textContent.trim(),"\n\nBody:\n"),document.querySelectorAll("#barkTemplateBody li").forEach(function(e){t+=e.textContent.trim()+"\n"}),navigator.clipboard?navigator.clipboard.writeText(t).then(function(){},function(t){}):this.copyForOldBrowser(t)}},{key:"copyForOldBrowser",value:function(t){var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=t,document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")}catch(n){}document.body.removeChild(e)}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe()}},{key:"pageErrorHandle",value:function(t){this.alertMessage=401===t.status?t.error.errorMessage?t.error.errorMessage:"Unknown Error":this.sso.pageErrorHandle(t),this.isError=!0}},{key:"sendEmail",value:function(){var t=this;if(this.sendTo&&this.mailSubject&&document.querySelector("#editor-container > *")&&this.patternCheck(this.sendTo)&&this.patternCheck(this.replyTo)){this.modalLoader=!0,document.querySelector("#editor-container input").remove();var e=document.querySelector("#editor-container").innerHTML,n="<p></p><p></p><p>-".concat(this.language["Sent by Calix on behalf of"]," ").concat(localStorage.getItem("calix.org_name"),"</p>");e=e.substring(0,e.length-6)+n+"</div>",this.service.sendEmail([this.sendTo,this.mailSubject,e,this.replyTo]).subscribe(function(e){t.modalLoader=!1;var n=document.querySelector("#editor-container > *").innerText;t.modalService.dismissAll(),t.setCallOutCome(n),t.CommonFunctionsService.trackPendoEvents("Subscriber","Escalation to Bark is created")},function(e){(400==e.error.errorCode||401==e.error.errorCode||500==e.error.errorCode)&&(t.alertMessage=e.error.errorMessage?e.error.errorMessage:"Unknown Error",t.isError=!0),t.modalLoader=!1,t.modalService.dismissAll(),t.pageErrorHandle(e)})}else this.mailSubmit=!0}},{key:"setCallOutCome",value:function(t){this.saveCallOutCome&&(t="".concat(this.language.From,": ").concat(this.barkMail,"\n").concat(this.language.sent,": ").concat((new Date).toLocaleString("default",{dateStyle:"full",timeStyle:"medium"}),"\n").concat(this.language.To,": ").concat(this.sendTo,"\n").concat(this.language.subject,": ").concat(this.mailSubject,"\n\n").concat(t.replace(/\n\n/g,"\n").replace(/\n\n\n/g,"\n\n")),document.querySelector("#callOutcomeBtnId").click(),this.callOutComeService.escalationEmail=t)}},{key:"patternCheck",value:function(t){var e=!0;return t.split(",").forEach(function(t){/^[a-z0-9A-Z._%+-]+@[a-z0-9A-Z.-]+\.[a-zA-Z]{2,}$/.test(t)||(e=!1)}),e}},{key:"removeUnwantedSpace",value:function(t,e){this[t]=this.CommonFunctionsService.trimSpaceFromNonObjectInputs(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.Y36(f.s),g.Y36(v.Q),g.Y36(te.FF),g.Y36(h.t6),g.Y36(z.Dx),g.Y36(Xt.K),g.Y36(ee.i),g.Y36($e),g.Y36(y.a))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-bark"]],viewQuery:function(t,e){var n;(1&t&&(g.Gf(Xe,7),g.Gf(tn,7)),2&t)&&(g.iGM(n=g.CRH())&&(e.escalationProcessModal=n.first),g.iGM(n=g.CRH())&&(e.escalationProcessEditor=n.first))},decls:57,vars:19,consts:[[1,"row","my-3","position-relative"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],[1,"col-12","mb-4"],["class","btn-default primary",3,"click",4,"ngIf"],[1,"col-sm-12","col-md-12","col-lg-4","col-xl-4"],["class","loader load",4,"ngIf"],[1,"d-flex","justify-content-between","border-bottom","mb-3"],["id","bark-account-details",1,"cco-secondary-title"],[1,"w-24"],["src","assets/img/Refresh-icon.svg",1,"refresh-icon",3,"click"],[1,"bark-table","pl-3"],["id","bark-acc-details",1,"table"],[3,"ngClass"],["id","bark-account-status",1,"cco-secondary-title"],["id","bark-status",1,"table"],["escalationProcessModal",""],["escalationProcessEditor",""],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img","error-img-w"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"btn-default","primary","ok","float-right",3,"click"],[1,"d-inline-flex","alert-msg-w",3,"innerHtml"],[1,"btn-default","primary",3,"click"],[1,"loader","load"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"modal-header","justify-content-end"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["src","../../../../assets/img/ic_close-44px.svg"],[1,"row"],[1,"col-md-12","center-space","px-5","pt-2"],[1,"modal-body"],[1,"w-100"],["id","EscalationProcess",1,"ccl-admin-title"],[1,"w-100","mt-4","pl-12"],[1,"col-sm-12","col-md-6","col-lg-6","col-xl-6"],["id","EscalationProcess",1,"ccl-secondary-title","border-bottom"],[1,"escalate-list"],["href","mailto:help@bark.us"],["id","EmailTemplate",1,"ccl-secondary-title","border-bottom"],[1,"gray-text"],["id","arloTemplateSubject"],[1,"mt-3"],["id","barkTemplateBody"],["type","button",1,"btn-default","primary",3,"click"],[1,"col-12","d-flex","justify-content-between"],[1,"ccl-admin-title","mb-2"],["aria-label","Close",3,"click"],["src","../../../../assets/img/close-icon.svg","alt","",1,"pointer"],[1,"col-12","ccl-form"],[1,"d-flex","w-100","mb-3"],[1,"col-auto-width"],[1,"col"],["type","text","disabled","true",1,"mail-disable","w-100",3,"value"],["type","text","trimSpace","",1,"w-100",3,"placeholder","ngModel","ngModelChange","blur"],["class","highlightRed",4,"ngIf"],["type","text","trimSpace","",1,"w-100",3,"ngModel","ngModelChange","blur"],[1,"col-12"],[1,"d-flex","w-100","border-top"],["id","editor-new",1,"w-100","mb-3"],[1,"ma-0"],["id","toolbar-toolbar",1,"toolbar","d-flex","w-100","border-none"],[1,"ql-formats"],["type","button","value","undo",1,"ql-undo","mr-3",3,"ngClass"],["type","button","value","redo",1,"ql-redo"],[1,"ql-format-group"],[1,"ql-formats","ql-font-family"],[1,"ql-font"],["value","sans-serif","selected",""],["value","serif"],["value","monospace"],["title","Font Size",1,"ql-size"],["value","12px","selected",""],["value","14px"],["value","16px"],["value","18px"],["value","20px"],["value","22px"],["value","24px"],["value","26px"],["value","28px"],["value","36px"],["value","40px"],["aria-label","Bold",1,"ql-bold"],["aria-label","Italic",1,"ql-italic"],["aria-label","Underline",1,"ql-underline"],["aria-label","Strike",1,"ql-strike"],["type","button","aria-label","List","value","ordered",1,"ql-list"],["type","button","aria-label","Bullet","value","bullet",1,"ql-list"],[1,"d-flex","w-100"],[1,"col-auto-width","pl-2"],[1,"bark-mail-body"],["id","editor-container",1,"border-none","capital"],["content",""],[1,"w-100","editor-footer","my-3"],[1,"d-inline-flex","align-items-center"],["type","checkbox","checked","saveCallOutCome",3,"ngModel","ngModelChange"],[1,"pl-2"],[1,"mt-2"],[1,"highlightRed"]],template:function(t,e){1&t&&(g._UZ(0,"section"),g.TgZ(1,"div",0),g.YNc(2,en,6,2,"div",1),g.TgZ(3,"div",2),g.YNc(4,nn,2,1,"button",3),g.qZA(),g.TgZ(5,"div",4),g.YNc(6,on,5,1,"div",5),g.TgZ(7,"div",6),g.TgZ(8,"div",7),g._uU(9),g.qZA(),g.TgZ(10,"div",8),g.TgZ(11,"img",9),g.NdJ("click",function(){return e.getAccount()}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(12,"div",10),g.TgZ(13,"table",11),g.TgZ(14,"tbody"),g.TgZ(15,"tr"),g.TgZ(16,"td"),g._uU(17),g.qZA(),g.TgZ(18,"td"),g.TgZ(19,"span",12),g._uU(20),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"tr"),g.TgZ(22,"td"),g._uU(23),g.qZA(),g.TgZ(24,"td"),g._uU(25),g.qZA(),g.qZA(),g.TgZ(26,"tr"),g.TgZ(27,"td"),g._uU(28),g.qZA(),g.TgZ(29,"td"),g._uU(30),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(31,"div",4),g.YNc(32,rn,5,1,"div",5),g.TgZ(33,"div",6),g.TgZ(34,"div",13),g._uU(35),g.qZA(),g.TgZ(36,"div",8),g.TgZ(37,"img",9),g.NdJ("click",function(){return e.getHealth(),e.getBarkAccountSetup(e.userId)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(38,"div",10),g.TgZ(39,"table",14),g.TgZ(40,"tbody"),g.TgZ(41,"tr"),g.TgZ(42,"td"),g._uU(43),g.qZA(),g.TgZ(44,"td"),g.TgZ(45,"span",12),g._uU(46),g.qZA(),g.qZA(),g.qZA(),g.TgZ(47,"tr"),g.TgZ(48,"td"),g._uU(49),g.qZA(),g.TgZ(50,"td"),g.TgZ(51,"span",12),g._uU(52),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(53,an,58,17,"ng-template",null,15,g.W1O),g.YNc(55,fn,104,24,"ng-template",null,16,g.W1O)),2&t&&(g.xp6(2),g.Q6J("ngIf",e.isError),g.xp6(2),g.Q6J("ngIf",null==e.account?null:e.account.userId),g.xp6(2),g.Q6J("ngIf",e.accountDetailsLoading),g.xp6(3),g.Oqu(e.language["Account Details"]),g.xp6(8),g.Oqu(e.language["Subscription Status"]),g.xp6(2),g.Q6J("ngClass",e.account.email?"highlightGreen":"highlightRed"),g.xp6(1),g.hij(" ",e.accountDetailsLoading?"-":e.account.email?e.language.Bark_Subscribed:e.language.Unsubscribed," "),g.xp6(3),g.Oqu(e.language.Email),g.xp6(2),g.Oqu(e.accountDetailsLoading?"-":null!=e.account&&e.account.email?null==e.account?null:e.account.email:"-"),g.xp6(3),g.Oqu(e.language.Plan),g.xp6(2),g.Oqu(e.accountDetailsLoading?"-":e.BarkPlan?e.BarkPlan:"-"),g.xp6(2),g.Q6J("ngIf",e.healthDetailsLoading),g.xp6(3),g.Oqu(e.language["Bark Status"]),g.xp6(8),g.Oqu(e.language["Overall Status"]),g.xp6(2),g.Q6J("ngClass",e.overallStatus?"highlightRed":"highlightGreen"),g.xp6(1),g.hij(" ",e.healthDetailsLoading?"-":e.overallStatus&&e.overallStatus<=4?e.language.DEGRADED:e.overallStatus?e.language.Down:e.language.Up,""),g.xp6(3),g.Oqu(e.language["Account Setup"]),g.xp6(2),g.Q6J("ngClass","completed"==(null==e.accountSetup?null:e.accountSetup.status)?"highlightGreen":"not completed"==(null==e.accountSetup?null:e.accountSetup.status)?"highlightRed":""),g.xp6(1),g.hij(" ",e.healthDetailsLoading?"-":e.AccountSetupBark?e.language[e.AccountSetupBark]||e.AccountSetupBark:"-"," "))},directives:[l.O5,l.mk,G.Fj,ne.f,G.JJ,G.On,G.YN,G.Kr,G.Wl],styles:[".bark-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;font-size:15px;line-height:24px;color:#4c4c4c;padding:0 10px 0 0}.bark-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:0}.redoDisablity[_ngcontent-%COMP%]{pointer-events:none;opacity:.6!important}.highlightRed[_ngcontent-%COMP%]{color:#c70000!important}.highlightGreen[_ngcontent-%COMP%]{color:green}  .custom-large-modal .modal-dialog{max-width:75%!important}  .custom-large-modal .modal-body{min-height:500px}.escalate-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:30px;list-style:none}.escalate-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.escalate-list[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-left:15px}.escalate-list[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.btn-close[_ngcontent-%COMP%]{background:transparent;border:none}.btn-close[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.5}.btn-close[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:1}.ccl-secondary-title[_ngcontent-%COMP%]{font-weight:300;font-size:24px;line-height:30px;color:#1a1f22;margin-bottom:17px;padding-bottom:8px}.change-case[_ngcontent-%COMP%]{text-transform:capitalize}.gray-text[_ngcontent-%COMP%]{color:gray}.w-24[_ngcontent-%COMP%]{width:24px;cursor:pointer}.error-img-w[_ngcontent-%COMP%]{width:50px;float:left;height:100%}.alert-msg-w[_ngcontent-%COMP%]{width:85%;height:100%}.col-auto-width[_ngcontent-%COMP%]{min-width:100px}.bark-mail-body[_ngcontent-%COMP%]{overflow:auto;max-height:300px}.mail-disable[_ngcontent-%COMP%]{background-color:transparent;cursor:not-allowed;border:none}"]}),t}(),vn=r(79765),mn=function(){var t=function(){function t(e,n){o(this,t),this.http=e,this.sso=n}return a(t,[{key:"getMicrosites",value:function(t){return this.http.get("".concat(d.N.API_BASE_URL,"/mycommunityiq/bsp-provider/microsite?micrositeId=").concat(t)).pipe((0,Vt.K)(this.handleError))}},{key:"getRadiusStatus",value:function(){return this.http.get("".concat(d.N.API_BASE_URL,"csc/partner/feature/eleven/health"))}},{key:"getMyCommunityStatus",value:function(t,e){var n=this.sso.getOrg(t);return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"/subscriber-systems/edge-suites?").concat(n,"subscriberId=").concat(e)).pipe((0,Vt.K)(this.handleError))}},{key:"resetMyCommPasswrd",value:function(t,e){var n=this.sso.getOrg(t);return this.http.post("".concat(d.N.FOUNDATION_BASE_URL,"/subscriber-systems/edge-suites/mycommunityiq/subscriber/password/reset-email?").concat(n,"subscriberId=").concat(e),{}).pipe((0,Vt.K)(this.handleError))}},{key:"myCommWelcomeMail",value:function(t,e,n){var i=this.sso.getOrg(t);return this.http.post("".concat(d.N.FOUNDATION_BASE_URL,"/subscriber-systems/edge-suites/mycommunityiq/subscriber/community/welcome-email?").concat(i,"subscriberId=").concat(e).concat("All"==n?"":"&micrositeId=".concat(n)),{}).pipe((0,Vt.K)(this.handleError))}},{key:"getSubscriberInfo",value:function(t,e){var n=this.sso.getOrg(t);return this.http.get("".concat(d.N.SUPPORT_URL,"/subscriber-summary/").concat(e,"?").concat(n)).pipe((0,Vt.K)(this.handleError))}},{key:"GetOnboardedDevices",value:function(t){var e=(new m.LE).set("providerId",t.providerId).set("subscriber",t.subscriber).set("limit",t.limit).set("pageNumber",t.pageNumber);return this.http.get("".concat(d.N.SUPPORT_URL,"/partner/report/eleven/deviceAuthentications?"),{params:e}).pipe((0,Vt.K)(this.handleError))}},{key:"GetOnboardedDevicesApi",value:function(t){return(new m.LE).set("providerId",t.providerId).set("subscriber",t.subscriber).set("limit",t.limit),this.http.get("".concat(d.N.SUPPORT_URL,"/partner/report/eleven/deviceAuthentications?providerId=").concat(t.providerId,"&subscriber=").concat(encodeURIComponent(t.subscriber),"&limit=").concat(t.limit)).pipe((0,Vt.K)(this.handleError))}},{key:"handleError",value:function(t){return(0,Kt._)(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.LFG(m.eN),g.LFG(h.t6))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),bn=r(86451),yn=["escalationModal"];function Zn(t,e){if(1&t&&(g.TgZ(0,"div",17),g.TgZ(1,"div",18),g.TgZ(2,"div",19),g.TgZ(3,"span",20),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(4),g.Oqu(n.language.Loading)}}function xn(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",21),g.TgZ(1,"span",22),g._UZ(2,"img",23),g.qZA(),g.TgZ(3,"button",24),g.NdJ("click",function(){return g.CHM(n),g.oxw().errorMsg=""}),g._UZ(4,"span"),g.qZA(),g._UZ(5,"div",25),g.qZA()}if(2&t){var i=g.oxw();g.xp6(5),g.Q6J("innerHtml",i.errorMsg,g.oJD)}}function _n(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",26),g.TgZ(1,"span",27),g._UZ(2,"img",28),g.qZA(),g.TgZ(3,"span",29),g._uU(4),g.qZA(),g.TgZ(5,"div",30),g.TgZ(6,"button",31),g.NdJ("click",function(){return g.CHM(n),g.oxw().hideSuccess()}),g._UZ(7,"span"),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.xp6(4),g.Oqu(i.language["Welcome Email Sent Successfully"])}}function An(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",26),g.TgZ(1,"span",27),g._UZ(2,"img",28),g.qZA(),g.TgZ(3,"span",29),g._uU(4),g.qZA(),g.TgZ(5,"div",30),g.TgZ(6,"button",31),g.NdJ("click",function(){return g.CHM(n),g.oxw().hideSuccess1()}),g._UZ(7,"span"),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.xp6(4),g.Oqu(i.language["Successfully sent Reset Password email!"])}}function Tn(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"button",39),g.NdJ("click",function(){return g.CHM(n),g.oxw(2).escalationModalOpen()}),g._uU(1),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(1),g.Oqu(i.language.Escalate)}}function qn(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"ng-select",40),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw(2).community=t})("change",function(){return g.CHM(n),g.oxw(2).communityChange()}),g.qZA()}if(2&t){var i=g.oxw(2);g.Q6J("items",i.communities)("searchable",!1)("clearable",!1)("ngModel",i.community)("disabled",!(null!=i.myCommStatus&&null!=i.myCommStatus.myCommunityIQ&&null!=i.myCommStatus.myCommunityIQ.subscriber&&i.myCommStatus.myCommunityIQ.subscriber.enable||i.communities.length))}}function wn(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",32),g.TgZ(1,"div",33),g.YNc(2,Tn,2,1,"button",34),g.TgZ(3,"div",35),g.YNc(4,qn,1,5,"ng-select",36),g.TgZ(5,"button",37),g.NdJ("click",function(){return g.CHM(n),g.oxw().myCommWelcomeMail()}),g._uU(6),g.qZA(),g.TgZ(7,"button",38),g.NdJ("click",function(){return g.CHM(n),g.oxw().resetMyCommPasswrd()}),g._uU(8),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.xp6(2),g.Q6J("ngIf",!1),g.xp6(2),g.Q6J("ngIf","Communities"==i.sectionToShow),g.xp6(1),g.Q6J("disabled",!(null!=i.myCommStatus&&null!=i.myCommStatus.myCommunityIQ&&null!=i.myCommStatus.myCommunityIQ.subscriber&&i.myCommStatus.myCommunityIQ.subscriber.enable||i.communities.length)),g.xp6(1),g.hij(" ",i.language["Send Welcome Email"]," "),g.xp6(1),g.Q6J("disabled",!(null!=i.myCommStatus&&null!=i.myCommStatus.myCommunityIQ&&null!=i.myCommStatus.myCommunityIQ.subscriber&&i.myCommStatus.myCommunityIQ.subscriber.enable)),g.xp6(1),g.hij(" ",i.language["Reset Password"]," ")}}function Cn(t,e){if(1&t&&(g.TgZ(0,"div",54),g.TgZ(1,"div",18),g.TgZ(2,"div",19),g.TgZ(3,"span",20),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(4),g.Oqu(n.language.Loading)}}function On(t,e){if(1&t&&(g.TgZ(0,"div",54),g.TgZ(1,"div",18),g.TgZ(2,"div",19),g.TgZ(3,"span",20),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(4),g.Oqu(n.language.Loading)}}function Sn(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td",61),g._uU(2),g.qZA(),g.TgZ(3,"td",62),g._uU(4),g.qZA(),g.TgZ(5,"td",63),g._uU(6),g.qZA(),g.qZA()),2&t){var n=e.$implicit,i=g.oxw(3);g.xp6(2),g.Oqu(null==n?null:n.communityName),g.xp6(2),g.Oqu(null==n?null:n.communityDesc),g.xp6(1),g.Q6J("ngClass","READY"==(null==n?null:n.status)?"highlightGreen":"highlightRed"),g.xp6(1),g.Oqu("READY"==(null==n?null:n.status)?i.language.Active:i.language.Error)}}function kn(t,e){if(1&t&&(g.TgZ(0,"div",55),g.TgZ(1,"table",56),g.TgZ(2,"thead"),g.TgZ(3,"tr"),g.TgZ(4,"th",57),g._uU(5),g.qZA(),g.TgZ(6,"th",58),g._uU(7),g.qZA(),g.TgZ(8,"th",59),g._uU(9),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"tbody"),g.YNc(11,Sn,7,4,"tr",60),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(5),g.Oqu(n.language.Bsp_Microsite_Name),g.xp6(2),g.Oqu(n.language.Description),g.xp6(2),g.Oqu(n.language.status),g.xp6(2),g.Q6J("ngForOf",n.microsites)}}function Mn(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",41),g.TgZ(1,"div",42),g.YNc(2,Cn,5,1,"div",43),g.TgZ(3,"div",44),g.TgZ(4,"div",45),g._uU(5),g.qZA(),g.TgZ(6,"div",46),g.TgZ(7,"img",47),g.NdJ("click",function(){return g.CHM(n),g.oxw().getMyCommunityStatus(!0)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(8,"div",48),g.TgZ(9,"table",49),g.TgZ(10,"tbody"),g.TgZ(11,"tr"),g.TgZ(12,"td"),g._uU(13),g.qZA(),g.TgZ(14,"td"),g.TgZ(15,"span",50),g._uU(16),g.qZA(),g.qZA(),g.qZA(),g.TgZ(17,"tr"),g.TgZ(18,"td"),g._uU(19),g.qZA(),g.TgZ(20,"td"),g._uU(21),g.qZA(),g.qZA(),g.TgZ(22,"tr"),g.TgZ(23,"td"),g._uU(24,"Eduroam"),g.qZA(),g.TgZ(25,"td",50),g._uU(26),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(27,"div",51),g.YNc(28,On,5,1,"div",43),g.TgZ(29,"div",44),g.TgZ(30,"div",52),g._uU(31),g.qZA(),g.TgZ(32,"div",46),g.TgZ(33,"img",47),g.NdJ("click",function(){return g.CHM(n),g.oxw().getMyCommunityStatus()}),g.qZA(),g.qZA(),g.qZA(),g.YNc(34,kn,12,4,"div",53),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.xp6(2),g.Q6J("ngIf",i.loading),g.xp6(3),g.Oqu(i.language["Account Details"]),g.xp6(8),g.Oqu(i.language["Subscription Status"]),g.xp6(2),g.Q6J("ngClass",null!=i.myCommStatus&&null!=i.myCommStatus.myCommunityIQ&&null!=i.myCommStatus.myCommunityIQ.subscriber&&i.myCommStatus.myCommunityIQ.subscriber.enable?"highlightGreen":"highlightRed"),g.xp6(1),g.hij(" ",null!=i.myCommStatus&&null!=i.myCommStatus.myCommunityIQ&&null!=i.myCommStatus.myCommunityIQ.subscriber&&i.myCommStatus.myCommunityIQ.subscriber.enable?i.language.Subscribed:i.language.Unsubscribed," "),g.xp6(3),g.Oqu(i.language["Account Email"]),g.xp6(2),g.Oqu(null!=i.subInfo&&i.subInfo.email?null==i.subInfo?null:i.subInfo.email:"-"),g.xp6(4),g.Q6J("ngClass",null!=i.myCommStatus&&null!=i.myCommStatus.myCommunityIQ&&null!=i.myCommStatus.myCommunityIQ.eduroam&&i.myCommStatus.myCommunityIQ.eduroam.enable&&"failed"!==(null==i.myCommStatus||null==i.myCommStatus.myCommunityIQ||null==i.myCommStatus.myCommunityIQ.eduroam||null==i.myCommStatus.myCommunityIQ.eduroam.status?null:i.myCommStatus.myCommunityIQ.eduroam.status.result)?"highlightGreen":"highlightRed"),g.xp6(1),g.hij(" ",null!=i.myCommStatus&&null!=i.myCommStatus.myCommunityIQ&&null!=i.myCommStatus.myCommunityIQ.eduroam&&i.myCommStatus.myCommunityIQ.eduroam.enable?"failed"===(null==i.myCommStatus||null==i.myCommStatus.myCommunityIQ||null==i.myCommStatus.myCommunityIQ.eduroam||null==i.myCommStatus.myCommunityIQ.eduroam.status?null:i.myCommStatus.myCommunityIQ.eduroam.status.result)?i.language.EnableFailed:i.language.enabled:i.language.Disabled," "),g.xp6(2),g.Q6J("ngIf",i.microLoading),g.xp6(3),g.Oqu(i.language.myCommCloud),g.xp6(3),g.Q6J("ngIf",i.microsites.length)}}function En(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",64),g.TgZ(1,"button",65),g.NdJ("click",function(){return g.CHM(n).$implicit.dismiss("Cross click")}),g._UZ(2,"img",66),g.qZA(),g.qZA(),g.TgZ(3,"div",7),g.TgZ(4,"div",67),g.TgZ(5,"div",68),g.TgZ(6,"div",69),g.TgZ(7,"h5",70),g._uU(8),g.qZA(),g.qZA(),g.TgZ(9,"div",71),g.TgZ(10,"div",7),g.TgZ(11,"div",72),g.TgZ(12,"div",73),g.TgZ(13,"h5",74),g._uU(14),g.qZA(),g.qZA(),g.TgZ(15,"div",75),g.TgZ(16,"ol"),g.TgZ(17,"li"),g._uU(18),g.qZA(),g.TgZ(19,"li"),g._uU(20),g.qZA(),g.TgZ(21,"li"),g._uU(22),g.TgZ(23,"a",76),g._uU(24,"calixpartnersupport@mycommunityiq.com"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(25,"ul"),g.TgZ(26,"li"),g._uU(27),g.qZA(),g.TgZ(28,"li"),g._uU(29),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(30,"div",72),g.TgZ(31,"div",73),g.TgZ(32,"h5",77),g._uU(33),g.qZA(),g.qZA(),g.TgZ(34,"div",69),g.TgZ(35,"div"),g.TgZ(36,"span",78),g._uU(37),g.qZA(),g.qZA(),g.TgZ(38,"div",79),g._uU(39),g.qZA(),g.TgZ(40,"div",80),g.TgZ(41,"span",78),g._uU(42),g.qZA(),g.qZA(),g.TgZ(43,"div"),g.TgZ(44,"ul",81),g.TgZ(45,"li"),g._uU(46),g.qZA(),g.TgZ(47,"li"),g._uU(48),g.qZA(),g.TgZ(49,"li"),g._uU(50),g.qZA(),g.TgZ(51,"li"),g._uU(52),g.qZA(),g.TgZ(53,"li"),g._uU(54),g.qZA(),g.TgZ(55,"li"),g._uU(56),g.qZA(),g.qZA(),g.qZA(),g.TgZ(57,"div",82),g.TgZ(58,"button",83),g.NdJ("click",function(){return g.CHM(n),g.oxw().sso.copyToClipboard("#myComIQTemplateSubject","#myComIQTemplateBody li")}),g._uU(59),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.xp6(8),g.Oqu(i.language["Escalation Process"]),g.xp6(6),g.hij(" ",i.language.Instructions," "),g.xp6(4),g.Oqu(i.language["Open your preferred email client and paste the following email template"]),g.xp6(2),g.Oqu(i.language["Fill in all required fields contained inside the <> symbols found in the subject line and the body of the email"]),g.xp6(2),g.hij("",i.language["Send the email to"]," "),g.xp6(5),g.hij(" *",i.language["Do not modify this template as it will result in a delay of handling the escalation."]," "),g.xp6(2),g.hij(" *",i.language["All fields are mandatory in order to process the escalation."]," "),g.xp6(4),g.hij("",i.language["Email Template"]," "),g.xp6(4),g.hij("",i.language.subject,":"),g.xp6(2),g.AsE(" ",i.language["Calix Partner Escalation"],":",i.language["Calix Partner Escalation"]," "),g.xp6(3),g.hij("",i.language.Body,":"),g.xp6(4),g.HOy(" ",i.language["Calix Partner Name"]," : ","<","",i.language["broadband service providor name"],"","> "," "),g.xp6(2),g.HOy(" ",i.language["Calix Partner Customer First Name"]," : "," <","",i.language["subscriber first name"],"",">"," "),g.xp6(2),g.HOy(" ",i.language["Calix Partner Customer Last Name"]," : "," <","",i.language["subscriber last name"],"",">"," "),g.xp6(2),g.HOy(" ",i.language["Calix Partner Customer Email"]," : "," <","",i.language["subscriber email address"],"",">"," "),g.xp6(2),g.HOy(" ",i.language["Calix Partner Customer Phone"]," : "," <","",i.language["subscriber phone number"],"",">"," "),g.xp6(2),g.HOy(" ",i.language["Calix Partner Customer Issue-Concern"]," : "," <","",i.language["subscriber issue or concern"],"",">"," "),g.xp6(3),g.hij(" ",i.language["Copy to clipboard"]," ")}}function Pn(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",21),g.TgZ(1,"span",22),g._UZ(2,"img",23),g.qZA(),g.TgZ(3,"button",24),g.NdJ("click",function(){return g.CHM(n),g.oxw().hideError()}),g._UZ(4,"span"),g.qZA(),g._UZ(5,"div",25),g.qZA()}if(2&t){var i=g.oxw();g.xp6(5),g.Q6J("innerHtml",i.errorMsg,g.oJD)}}function In(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g.TgZ(4,"span",50),g._uU(5),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(2),g.Oqu(n.language["SmartTown Wi-Fi Hotspot"]),g.xp6(2),g.Q6J("ngClass",null!=n.myCommStatus&&null!=n.myCommStatus.myCommunityIQ&&null!=n.myCommStatus.myCommunityIQ.passpoint&&n.myCommStatus.myCommunityIQ.passpoint.enable&&"succeeded"==(null==n.myCommStatus||null==n.myCommStatus.myCommunityIQ||null==n.myCommStatus.myCommunityIQ.passpoint||null==n.myCommStatus.myCommunityIQ.passpoint.status?null:n.myCommStatus.myCommunityIQ.passpoint.status.result)?"highlightGreen":"highlightRed"),g.xp6(1),g.hij(" ",n.RGHotspot?n.RGHotspot:"-"," ")}}function Nn(t,e){if(1&t&&(g.TgZ(0,"span",50),g._uU(1),g.qZA()),2&t){var n=g.oxw(3);g.Q6J("ngClass",null!=n.myCommStatus&&null!=n.myCommStatus.myCommunityIQ&&n.myCommStatus.myCommunityIQ.prioritizeTraffic?"highlightGreen":"highlightRed"),g.xp6(1),g.hij(" ",n.myCommunityStatusLoading?"-":null!=n.myCommStatus&&null!=n.myCommStatus.myCommunityIQ&&n.myCommStatus.myCommunityIQ.prioritizeTraffic?n.language.enabled:n.language.Disabled," ")}}function Un(t,e){1&t&&(g.TgZ(0,"span",95),g._uU(1,"-"),g.qZA())}function jn(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g.YNc(4,Nn,2,2,"span",93),g.YNc(5,Un,2,0,"ng-template",null,94,g.W1O),g.qZA(),g.qZA()),2&t){var n=g.MAs(6),i=g.oxw(2);g.xp6(2),g.Oqu(i.language["Subscriber Traffic Prioritization"]),g.xp6(2),g.Q6J("ngIf",i.getPrioritizeTraffic())("ngIfElse",n)}}function Dn(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td",50),g._uU(4),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(2),g.Oqu(n.language.Eduroam),g.xp6(1),g.Q6J("ngClass",null!=n.myCommStatus&&null!=n.myCommStatus.myCommunityIQ&&null!=n.myCommStatus.myCommunityIQ.eduroam&&n.myCommStatus.myCommunityIQ.eduroam.enable&&"failed"!==(null==n.myCommStatus||null==n.myCommStatus.myCommunityIQ||null==n.myCommStatus.myCommunityIQ.eduroam||null==n.myCommStatus.myCommunityIQ.eduroam.status?null:n.myCommStatus.myCommunityIQ.eduroam.status.result)?"highlightGreen":"highlightRed"),g.xp6(1),g.hij(" ",n.myCommunityStatusLoading?"-":null!=n.myCommStatus&&null!=n.myCommStatus.myCommunityIQ&&n.myCommStatus.myCommunityIQ.eduroam?null!=n.myCommStatus&&null!=n.myCommStatus.myCommunityIQ&&null!=n.myCommStatus.myCommunityIQ.eduroam&&n.myCommStatus.myCommunityIQ.eduroam.enable?"failed"===(null==n.myCommStatus||null==n.myCommStatus.myCommunityIQ||null==n.myCommStatus.myCommunityIQ.eduroam||null==n.myCommStatus.myCommunityIQ.eduroam.status?null:n.myCommStatus.myCommunityIQ.eduroam.status.result)?n.language.Disabled:n.language.enabled:n.language.Disabled:"-"," ")}}function Ln(t,e){if(1&t&&(g.TgZ(0,"div",54),g.TgZ(1,"div",18),g.TgZ(2,"div",19),g.TgZ(3,"span",20),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(4),g.Oqu(n.language.Loading)}}function Rn(t,e){if(1&t&&(g.TgZ(0,"span",96),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.Oqu(n.healthLoader?"-":n.language.DEGRADED)}}function Fn(t,e){if(1&t&&(g.TgZ(0,"span",97),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.Oqu(n.language.Up)}}function Hn(t,e){if(1&t&&(g.TgZ(0,"span",96),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.Oqu(n.language.Down)}}function Jn(t,e){1&t&&(g.TgZ(0,"span",96),g._uU(1,"-"),g.qZA())}function Qn(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"i",98),g.NdJ("click",function(){return g.CHM(n),g.oxw(2).moreStatusInfo()}),g.qZA()}}function Bn(t,e){if(1&t&&(g.TgZ(0,"tr"),g._UZ(1,"td",57),g.TgZ(2,"td",99),g._uU(3),g.qZA(),g.qZA()),2&t){var n=e.$implicit,i=g.oxw(3);g.xp6(3),g.Oqu(i.healthLoader?"-":n)}}function Yn(t,e){if(1&t&&(g.ynx(0),g.YNc(1,Bn,4,1,"tr",60),g.BQk()),2&t){var n=g.oxw(2);g.xp6(1),g.Q6J("ngForOf",n.overalldesc)}}function zn(t,e){if(1&t&&(g.TgZ(0,"td",102),g._uU(1),g.qZA()),2&t){var n=g.oxw().$implicit,i=g.oxw(2);g.Q6J("ngClass",n.status?"highlightGreen":"highlightRed"),g.xp6(1),g.hij(" ",i.healthLoader?"-":n.status?i.language.Up:i.language.Down," ")}}function Gn(t,e){1&t&&(g.TgZ(0,"td",96),g._uU(1,"-"),g.qZA())}function Wn(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td",57),g._uU(2),g.qZA(),g.YNc(3,zn,2,2,"td",100),g.YNc(4,Gn,2,0,"td",101),g.qZA()),2&t){var n=e.$implicit,i=g.oxw(2);g.xp6(2),g.Oqu(n.health_name.includes("RADIUS")?i.language.radiusserver+" "+i.usDirection(n.health_name):""),g.xp6(1),g.Q6J("ngIf",i.health.length&&n.health_name.includes("RADIUS")),g.xp6(1),g.Q6J("ngIf",!i.health.length)}}function Kn(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",84),g.TgZ(1,"div",85),g.TgZ(2,"div",44),g.TgZ(3,"div",86),g._uU(4),g.qZA(),g.TgZ(5,"div",46),g.TgZ(6,"img",47),g.NdJ("click",function(){return g.CHM(n),g.oxw().getMyCommunityStatus(!0)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(7,"div",48),g.TgZ(8,"table",87),g.TgZ(9,"tbody"),g.TgZ(10,"tr"),g.TgZ(11,"td"),g._uU(12),g.qZA(),g.TgZ(13,"td"),g.TgZ(14,"span",50),g._uU(15),g.qZA(),g.qZA(),g.qZA(),g.TgZ(16,"tr"),g.TgZ(17,"td"),g._uU(18),g.qZA(),g.TgZ(19,"td"),g._uU(20),g.qZA(),g.qZA(),g.YNc(21,In,6,3,"tr",88),g.YNc(22,jn,7,3,"tr",88),g.YNc(23,Dn,5,3,"tr",88),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(24,"div",85),g.YNc(25,Ln,5,1,"div",43),g.TgZ(26,"div",44),g.TgZ(27,"div",86),g._uU(28),g.qZA(),g.TgZ(29,"div",46),g.TgZ(30,"img",47),g.NdJ("click",function(){g.CHM(n);var t=g.oxw();return t.getHealth(),t.moreStatusInfoFlag=!1,t.health=[]}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(31,"div",48),g.TgZ(32,"table",87),g.TgZ(33,"tbody"),g.TgZ(34,"tr"),g.TgZ(35,"td",57),g._uU(36),g.qZA(),g.TgZ(37,"td",89),g.YNc(38,Rn,2,1,"span",90),g.YNc(39,Fn,2,1,"span",91),g.YNc(40,Hn,2,1,"span",90),g.YNc(41,Jn,2,0,"span",90),g.YNc(42,Qn,1,0,"i",92),g.qZA(),g.qZA(),g.YNc(43,Yn,2,1,"ng-container",88),g.YNc(44,Wn,5,3,"tr",60),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.xp6(4),g.Oqu(i.language["Account Details"]),g.xp6(8),g.Oqu(i.language.Subscriber_Membership),g.xp6(2),g.Q6J("ngClass",null!=i.myCommStatus&&null!=i.myCommStatus.myCommunityIQ&&null!=i.myCommStatus.myCommunityIQ.subscriber&&i.myCommStatus.myCommunityIQ.subscriber.enable?"highlightGreen":"highlightRed"),g.xp6(1),g.hij(" ",i.myCommunityStatusLoading?"-":null!=i.myCommStatus&&null!=i.myCommStatus.myCommunityIQ&&null!=i.myCommStatus.myCommunityIQ.subscriber&&i.myCommStatus.myCommunityIQ.subscriber.enable?i.language.Subscribed:i.language.Unsubscribed," "),g.xp6(3),g.Oqu(i.language["Account Email"]),g.xp6(2),g.Oqu(i.myCommunityStatusLoading?"-":null!=i.subInfo&&i.subInfo.email?null==i.subInfo?null:i.subInfo.email:"-"),g.xp6(1),g.Q6J("ngIf",i.zyxelHotspopt),g.xp6(1),g.Q6J("ngIf",i.zyxelHotspopt),g.xp6(1),g.Q6J("ngIf",i.zyxelHotspopt),g.xp6(2),g.Q6J("ngIf",i.healthLoader),g.xp6(3),g.Oqu(i.language["Cloud Health Status"]),g.xp6(8),g.Oqu(i.language["Overall Status"]),g.xp6(2),g.Q6J("ngIf",(null==i.health?null:i.health.length)&&(null==i.overalldesc?null:i.overalldesc.length)&&(null==i.health?null:i.health.length)!=(null==i.overalldesc?null:i.overalldesc.length)),g.xp6(1),g.Q6J("ngIf",(null==i.health?null:i.health.length)&&!(null!=i.overalldesc&&i.overalldesc.length)),g.xp6(1),g.Q6J("ngIf",(null==i.health?null:i.health.length)&&(null==i.health?null:i.health.length)==(null==i.overalldesc?null:i.overalldesc.length)),g.xp6(1),g.Q6J("ngIf",!(null!=i.health&&i.health.length||null!=i.overalldesc&&i.overalldesc.length)),g.xp6(1),g.Q6J("ngIf",(null==i.overallStatus?null:i.overallStatus.length)<=3&&(null==i.overalldesc?null:i.overalldesc.length)),g.xp6(1),g.Q6J("ngIf",(null==i.health?null:i.health.length)&&i.moreStatusInfoFlag&&(null==i.overallStatus?null:i.overallStatus.length)<=3),g.xp6(1),g.Q6J("ngForOf",i.radiusFiltered)}}function Vn(t,e){if(1&t&&(g.TgZ(0,"div",109),g.TgZ(1,"div",18),g.TgZ(2,"div",19),g.TgZ(3,"span",20),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(4),g.Oqu(n.language.Loading)}}function $n(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.ALo(9,"date"),g.qZA(),g.qZA()),2&t){var n=e.$implicit,i=g.oxw(3);g.xp6(2),g.Oqu(i.subscriberName.name),g.xp6(2),g.Oqu(n.comunityName),g.xp6(2),g.Oqu(n.callingStationId.replaceAll("-",":")),g.xp6(2),g.Oqu(g.xi3(9,4,n.firstAuthenticated,"MMM dd,YYYY"))}}function Xn(t,e){if(1&t&&(g.TgZ(0,"tbody"),g.ynx(1),g.YNc(2,$n,10,7,"tr",60),g.BQk(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(2),g.Q6J("ngForOf",n.users)}}function ti(t,e){if(1&t&&(g.TgZ(0,"tfoot"),g.TgZ(1,"tr"),g.TgZ(2,"td",110),g._uU(3),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(3),g.hij("",n.language["No Data Available"]," ")}}function ei(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",103),g._UZ(1,"div",104),g.TgZ(2,"div",105),g.TgZ(3,"div",44),g.TgZ(4,"div",86),g._uU(5),g.qZA(),g.TgZ(6,"div",46),g.TgZ(7,"img",47),g.NdJ("click",function(){g.CHM(n);var t=g.oxw();return t.onboardDeviceApiCall(t.myCommStatus,!0)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(8,"div",106),g.YNc(9,Vn,5,1,"div",107),g.TgZ(10,"table",108),g.TgZ(11,"thead"),g.TgZ(12,"tr"),g.TgZ(13,"th"),g._uU(14),g.qZA(),g.TgZ(15,"th"),g._uU(16),g.qZA(),g.TgZ(17,"th"),g._uU(18),g.qZA(),g.TgZ(19,"th"),g._uU(20," Onboarded Date "),g.qZA(),g.qZA(),g.qZA(),g.YNc(21,Xn,3,1,"tbody",88),g.YNc(22,ti,4,1,"tfoot",88),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.xp6(5),g.Oqu(i.language["Onboarded Devices"]),g.xp6(4),g.Q6J("ngIf",i.usersLoading),g.xp6(1),g.Q6J("dtOptions",i.dtOptions),g.xp6(4),g.hij(" ",i.language.userName," "),g.xp6(2),g.hij(" ",i.language.Bsp_Microsite_Name," "),g.xp6(2),g.hij(" ",i.language.MAC_Address," "),g.xp6(3),g.Q6J("ngIf",(null==i.myCommStatus?null:i.myCommStatus.myCommunityIQ)&&(null==i.myCommStatus||null==i.myCommStatus.myCommunityIQ||null==i.myCommStatus.myCommunityIQ.subscriber?null:i.myCommStatus.myCommunityIQ.subscriber.enable)&&!i.usersLoading),g.xp6(1),g.Q6J("ngIf",!(i.users.length&&null!=i.myCommStatus&&null!=i.myCommStatus.myCommunityIQ&&null!=i.myCommStatus.myCommunityIQ.subscriber&&i.myCommStatus.myCommunityIQ.subscriber.enable||i.usersLoading))}}function ni(t,e){if(1&t&&(g.TgZ(0,"div",54),g.TgZ(1,"div",18),g.TgZ(2,"div",19),g.TgZ(3,"span",20),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(4),g.Oqu(n.language.Loading)}}function ii(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td",61),g._uU(2),g.qZA(),g.TgZ(3,"td",63),g._uU(4),g.qZA(),g.qZA()),2&t){var n=e.$implicit,i=g.oxw(2);g.xp6(2),g.Oqu(null==n?null:n.communityName),g.xp6(1),g.Q6J("ngClass","READY"==(null==n?null:n.status)?"highlightGreen":"highlightRed"),g.xp6(1),g.hij(" ",i.microLoading?"-":"READY"==(null==n?null:n.status)?i.language.Up:i.language.down," ")}}function oi(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",84),g.TgZ(1,"div",111),g.TgZ(2,"div",44),g.TgZ(3,"div",86),g._uU(4),g.qZA(),g.TgZ(5,"div",46),g.TgZ(6,"img",47),g.NdJ("click",function(){g.CHM(n);var t=g.oxw();return t.micrositesList.length>0?t.micrositeApiForm(t.communityIds):""}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(7,"div",48),g.YNc(8,ni,5,1,"div",43),g.TgZ(9,"table",87),g.TgZ(10,"tbody"),g.YNc(11,ii,5,3,"tr",60),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.xp6(4),g.hij("",i.language.Communities," "),g.xp6(4),g.Q6J("ngIf",i.microLoading),g.xp6(3),g.Q6J("ngForOf",i.micrositesList)}}var ri=function(t){return[t]},ai=r(23815),li=function(){var e=function(){function e(t,n,i,r,a,l,s,c,u){o(this,e),this.translateService=t,this.el=n,this.myCommService=i,this.modalService=r,this.sso=a,this.router=l,this.communityService=s,this.service=c,this.titleService=u,this.myCommunityStatusLoading=!0,this.successWelcome=!1,this.successReset=!1,this.microsites=[],this.micrositesList=[],this.myCommStatus={},this.subInfo={},this.communities=[],this.community="All",this.sectionToShow="details",this.overalldesc=[],this.users=[],this.RG=[],this.dtTrigger=new vn.xQ,this.isRerender=!1,this.dtOptions={pagingType:"full_numbers",pageLength:10,serverSide:!0,processing:!1,ordering:!1,dom:"tip"},this.isReload=!1,this.comunityName=[],this.regionString=[],this.totalLoader=!1,this.totalMicroLoader=!1,this.tableLoading=!1,this.zyxelHotspopt=!0,this.frTable=this.translateService.fr,this.esTable=this.translateService.es,this.de_DETable=this.translateService.de_DE}return a(e,[{key:"ngOnInit",value:function(){var t=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){t.language=e,t.titleService.setTitle("".concat(t.language.myCommunityIQ," - ").concat(t.language["Managed Services"]," - ").concat(t.language.Service," - ").concat(t.language["Calix Cloud"])),t.getMyCommunityStatus(!0)}),"ZYXEL"==JSON.parse(sessionStorage.getItem("calix.deviceData")).filter(function(t){return"RG"==t.opMode})[0].manufacturer&&(this.zyxelHotspopt=!1),this.titleService.setTitle("".concat(this.language.myCommunityIQ," - ").concat(this.language["Managed Services"]," - ").concat(this.language.Service," - ").concat(this.language["Calix Cloud"])),this.RG=sessionStorage.getItem("calix.deviceData")?JSON.parse(sessionStorage.getItem("calix.deviceData")).filter(function(t){return"RG"==t.opMode}):[],this.subInfo=this.sso.getSubscriberInfo(),this.getMyCommunityStatus(),this.initDataTable(),this.getHealth(),this.fetchSoftwareImageList()}},{key:"getMyCommunityStatus",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.myCommunityStatusLoading=!0;var i=this.sso.getCSCSubscriberId();this.totalLoader=!0;var o=this.RG.length?1:i?2:0;if(o){var r=[this.service.getArloAccount(this.sso.getOrgId(),1==o?this.RG[0].serialNumber:i,o)];n&&i&&r.push(this.myCommService.getSubscriberInfo(this.sso.getOrgId(),i)),(0,p.D)(r).subscribe(function(i){var o,r,a,l,s,c,u,d,p,g,f,h,v,m,b,y,Z,x,_,A,T,q,w,C,O,S,k,M,E,P,I,N,U,j,D,L,R,F,H,J,Q,B,Y,z,G;if(e.totalLoader=!1,e.successWelcome=!1,e.successReset=!1,e.myCommStatus=i[0].edgeSuites,e.sN=null===(o=i[0])||void 0===o?void 0:o.systemId,e.rgStatus=(null===(s=null===(l=null===(a=null===(r=e.myCommStatus)||void 0===r?void 0:r.myCommunityIQ)||void 0===a?void 0:a.passpoint)||void 0===l?void 0:l.status)||void 0===s?void 0:s.result)?null===(p=null===(d=null===(u=null===(c=e.myCommStatus)||void 0===c?void 0:c.myCommunityIQ)||void 0===u?void 0:u.passpoint)||void 0===d?void 0:d.status)||void 0===p?void 0:p.result:"",null===(h=null===(f=null===(g=e.myCommStatus)||void 0===g?void 0:g.myCommunityIQ)||void 0===f?void 0:f.passpoint)||void 0===h?void 0:h.enable){if(null===(b=null===(m=null===(v=e.myCommStatus)||void 0===v?void 0:v.myCommunityIQ)||void 0===m?void 0:m.passpoint)||void 0===b?void 0:b.enable){var W=(null===(x=null===(Z=null===(y=e.myCommStatus)||void 0===y?void 0:y.myCommunityIQ)||void 0===Z?void 0:Z.network)||void 0===x?void 0:x.type)+" Service";e.RGHotspot=(null===(T=null===(A=null===(_=e.myCommStatus)||void 0===_?void 0:_.myCommunityIQ)||void 0===A?void 0:A.passpoint)||void 0===T?void 0:T.enable)&&"succeeded"==e.rgStatus?"".concat(e.language.Enabled)?"".concat(e.language.Enabled,", ")+((null===(C=null===(w=null===(q=e.myCommStatus)||void 0===q?void 0:q.myCommunityIQ)||void 0===w?void 0:w.network)||void 0===C?void 0:C.type)?"Policy_Route"==(null===(k=null===(S=null===(O=e.myCommStatus)||void 0===O?void 0:O.myCommunityIQ)||void 0===S?void 0:S.network)||void 0===k?void 0:k.type)?e.language["Routed on Secondary VLAN Service"]:W?e.language[W]:"":"")+((null===(P=null===(E=null===(M=e.myCommStatus)||void 0===M?void 0:M.myCommunityIQ)||void 0===E?void 0:E.network)||void 0===P?void 0:P.vlanId)?", "+e.language.VLAN+" "+(null===(U=null===(N=null===(I=e.myCommStatus)||void 0===I?void 0:I.myCommunityIQ)||void 0===N?void 0:N.network)||void 0===U?void 0:U.vlanId):""):"":(null===(L=null===(D=null===(j=e.myCommStatus)||void 0===j?void 0:j.myCommunityIQ)||void 0===D?void 0:D.passpoint)||void 0===L?void 0:L.enable)&&"failed"==e.rgStatus?"".concat(e.language.EnableFailed):"-"}}else e.RGHotspot=e.sN?"".concat(e.language.Disabled):"-";e.totalLoader=!1,e.myCommunityStatusLoading=!1,e.onboardDeviceApiCall(e.myCommStatus),e.tableLoading=!1;var K=[];n&&(e.subInfo=i[1]),((null===(H=null===(F=null===(R=i[0].edgeSuites)||void 0===R?void 0:R.myCommunityIQ)||void 0===F?void 0:F.subscriber)||void 0===H?void 0:H.communities)||[]).length?(e.communities=[{micrositeId:"All",label:"".concat(e.language["All Communities"])}].concat(t(((null===(B=null===(Q=null===(J=i[0].edgeSuites)||void 0===J?void 0:J.myCommunityIQ)||void 0===Q?void 0:Q.subscriber)||void 0===B?void 0:B.communities)||[]).map(function(t){return{micrositeId:t.micrositeId,label:t.micrositeId}}))),K=t(null===(G=null===(z=null===(Y=i[0].edgeSuites)||void 0===Y?void 0:Y.myCommunityIQ)||void 0===z?void 0:z.subscriber)||void 0===G?void 0:G.communities),e.totalMicroLoader=!0,e.addBspsub=e.communityService.GetMicrosite().subscribe(function(t){var n,i,o,r,a,l;if(e.totalMicroLoader=!1,e.micrositescheck=t?null==t?void 0:t.filter(function(t){return"READY"===t.status}):[],null===(n=e.micrositescheck)||void 0===n||n.sort(function(t,e){return t.communityName.localeCompare(e.communityName)}),e.micrositescheck){var s=[];null===(i=e.micrositescheck)||void 0===i||i.forEach(function(t){s.push(t.id)}),null===(l=null===(a=null===(r=null===(o=e.myCommStatus)||void 0===o?void 0:o.myCommunityIQ)||void 0===r?void 0:r.subscriber)||void 0===a?void 0:a.communities)||void 0===l||l.forEach(function(t){var n,i;s.includes(t.micrositeId)||(null===(n=e.communities)||void 0===n||n.splice(null===(i=e.communities)||void 0===i?void 0:i.findIndex(function(e){return e.micrositeId==t.micrositeId}),1),K.splice(K.findIndex(function(e){return e.micrositeId==t.micrositeId}),1))})}},function(t){e.totalMicroLoader=!1,e.pageErrorHandle(t)}),e.loading=!0,e.communityIds=K,setTimeout(function(){e.micrositeApiForm(K)},4e3)):e.microsites=[]},function(t){e.totalLoader=!1,e.myCommunityStatusLoading=!1,e.pageErrorHandle(t)})}}},{key:"getPrioritizeTraffic",value:function(){var t,e;return!(!(null===(t=this.myCommStatus)||void 0===t?void 0:t.hasOwnProperty("myCommunityIQ"))||!(null===(e=this.myCommStatus)||void 0===e?void 0:e.myCommunityIQ.hasOwnProperty("prioritizeTraffic")))}},{key:"onTabChange",value:function(t){switch(t){case"details":this.sectionToShow="details",this.showError=!1,this.showSuccess=!1;break;case"OnboardedDevices":this.sectionToShow="OnboardedDevices",this.showError=!1,this.showSuccess=!1;break;case"Communities":this.sectionToShow="Communities",Object.assign(this.micrositesList,this.microsites),this.community="All",this.showError=!1,this.showSuccess=!1}}},{key:"hideError",value:function(){this.showError=!1,this.errorMsg=""}},{key:"getHealth",value:function(){var t=this;this.healthLoader=!0,this.overalldesc=[],this.myCommService.getRadiusStatus().subscribe(function(e){t.loading=!1,t.healthLoader=!1,t.health=(null==e?void 0:e.healths)?e.healths:e||[],t.healthFiltered=t.health.filter(function(t){return"Eleven Passpoint API Status (us-east-1)"!==t.health_name}),t.radiusFiltered=t.health.filter(function(t){return t.health_name.includes("Eleven Passpoint RADIUS Status")}),t.overallStatus=t.health.filter(function(e){0==e.status&&t.overalldesc.push(e.desc)})},function(e){t.healthLoader=!1,t.pageErrorHandle(e)})}},{key:"usDirection",value:function(t){var e=t.substring(t.indexOf("(")+1).replace(/[()-]/g," ").split(" ");return e.unshift(e.splice(0,1)[0].toUpperCase()),e.splice(1,1,e[1].charAt(0).toUpperCase()+e[1].substr(1))," ".concat(e.join(" "))}},{key:"moreStatusInfo",value:function(){this.moreStatusInfoFlag=!this.moreStatusInfoFlag;var t=document.getElementById("moreInfo");t.classList.toggle("fa-caret-down"),t.classList.toggle("fa-caret-up")}},{key:"micrositeApiForm",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.loading=!0,e.length&&(this.loading=!1,this.getMicrosites((0,p.D)(e.map(function(e){return t.myCommService.getMicrosites(e.micrositeId)}))))}},{key:"getMicrosites",value:function(e){var n=this;this.loading=!0,this.microLoading=!0,e.subscribe(function(e){n.loading=!1,n.microLoading=!1,n.microsites=e,Object.assign(n.micrositesList,n.microsites),n.communities=[{micrositeId:"All",label:"".concat(n.language["All Communities"])}].concat(t(n.microsites.map(function(t){return{micrositeId:t.id,label:t.communityName}}))),n.communityChange()},function(t){n.microLoading=!1,n.pageErrorHandle(t)})}},{key:"communityChange",value:function(){this.micrositesList=this.microsites}},{key:"fetchSoftwareImageList",value:function(){this.loading=!0}},{key:"initDataTable",value:function(){var t=$(this.el.nativeElement).find("table");$.fn.dataTable.ext.errMode="throw",$(t).DataTable({})}},{key:"onboardDeviceApiCall",value:function(t){var e,n,i,o=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.tableLoading=!0,this.loading=!0,this.usersLoading=!0,this.users=[],this.comunityName=[];var a=this.sso.getSPID();this.details=null===(n=null===(e=null==t?void 0:t.myCommunityIQ)||void 0===e?void 0:e.subscriber)||void 0===n?void 0:n.communities,null===(i=this.details)||void 0===i||i.forEach(function(t,e){o.loading=!0,o.usersLoading=!0;var n={providerId:a,subscriber:t.elevenSubId,limit:10},i=[o.myCommService.getMicrosites(t.micrositeId)];i.push(o.myCommService.GetOnboardedDevicesApi(n)),(0,p.D)(i).subscribe(function(t){var n;o.tableLoading=!1,o.comunityName=t[0].communityName,o.subscriberName=o.sso.getSubscriberInfo();var i=t[1];if(o.limit=i.totalHits,o.totalLimits=i.totalHits,i.hits.filter(function(t){return""!==t.callingStationId}),i.totalHits>10)r?null===(n=o.dtElement)||void 0===n||n.dtInstance.then(function(t){t.clear(),t.ajax.reload()}):o.getOnboardedDevices();else{var a=ai.groupBy(i.hits,function(t){return t.callingStationId});Object.values(a).forEach(function(e){var n=e.shift();n.comunityName=[],n.comunityName.push(t[0].communityName),o.users.push(n)}),e+1==o.details.length&&setTimeout(function(){o.usersLoading=!1,o.loading=!1},2e3)}},function(t){o.users=[],o.usersLoading=!1,o.tableLoading=!1,o.loading=!1,o.pageErrorHandle(t)}),o.loading=!1,o.usersLoading=!1}),setTimeout(function(){o.usersLoading&&(o.usersLoading=!1)},2500)}},{key:"getOnboardedDevices",value:function(){var t,e=this;this.loading=!0,this.usersLoading=!0;var n,i=this.sso.getSPID(),o=this;this.dtOptions={pagingType:"full_numbers",pageLength:10,serverSide:!0,processing:!1,ordering:!1,dom:"tip",responsive:!0,ajax:function(t,r){var a,l,s,c,u,d;e.loading=!0,e.usersLoading=!0,n=0==t.start?0:t.start/t.length,e.details=null===(u=null===(c=null===(s=null===(l=null===(a=JSON.parse(sessionStorage.getItem("responseofoverview")))||void 0===a?void 0:a.networkStatus)||void 0===l?void 0:l.app)||void 0===s?void 0:s.myCommunityIQ)||void 0===c?void 0:c.subscriber)||void 0===u?void 0:u.communities,null===(d=e.details)||void 0===d||d.forEach(function(t){var a,l,s,c,u,d={providerId:i,subscriber:t.elevenSubId,limit:10*(n+1)>e.limit?Math.abs(10*n-e.limit):10,pageNumber:"".concat(n+1)};if(null===(u=null===(c=null===(s=null===(l=null===(a=JSON.parse(sessionStorage.getItem("responseofoverview")))||void 0===a?void 0:a.networkStatus)||void 0===l?void 0:l.app)||void 0===s?void 0:s.myCommunityIQ)||void 0===c?void 0:c.subscriber)||void 0===u?void 0:u.enable){var g=[e.myCommService.getMicrosites(t.micrositeId)];g.push(e.myCommService.GetOnboardedDevicesApi(d)),(0,p.D)(g).subscribe(function(t){var i=t[1];o.subscriberName=e.sso.getSubscriberInfo();var a=i.hits.filter(function(t){return""!==t.callingStationId});if(e.users=[],a.length>0){var l=ai.groupBy(i.hits,function(t){return t.callingStationId});Object.values(l).forEach(function(n){var i=n.shift();i.comunityName=[],i.comunityName.push(t[0].communityName),e.users.push(i)}),e.usersLoading=!1,e.loading=!1,e.users.length<10&&e.totalLimits<=10&&(document.getElementById("DataTables_Table_0_paginate").style.display="none",document.getElementById("DataTables_Table_0_info").style.display="none")}else e.users=[],e.usersLoading=!1,e.loading=!1,0==n&&e.totalLimits<=10&&(document.getElementById("DataTables_Table_0_paginate").remove(),document.getElementById("DataTables_Table_0_info").remove());r({recordsTotal:i.totalHits,recordsFiltered:i.totalHits,data:[]}),e.usersLoading=!1,e.loading=!1,e.newResponse=i,e.loading=!1})}else e.usersLoading=!1,e.loading=!1})},drawCallback:function(t){e.changeTableStatusLanguage(t),t._iRecordsDisplay<=t._iDisplayLength&&$(t.nTableWrapper).find("#users-table_last").addClass("disabled")}},null===(t=this.dtElement)||void 0===t||t.dtInstance.then(function(t){t.destroy(),e.dtTrigger.next()})}},{key:"changeTableStatusLanguage",value:function(t){var e=new Intl.NumberFormat;this.tableCounts={total:t._iRecordsTotal,displayCount:t._iDisplayLength,displayed:t._iRecordsDisplay,start:t._iDisplayStart};var n="fr"==sessionStorage.getItem("defaultLanguage"),i="es"==sessionStorage.getItem("defaultLanguage"),o="de_DE"==sessionStorage.getItem("defaultLanguage"),r=t.oPreviousSearch.sSearch.replace(/\s+/g,"")?n?"(filtr\xe9es \xe0 partir des ".concat(e.format(t._iRecordsTotal)," entr\xe9es totales)"):i?"(filtrado de un total de ".concat(e.format(t._iRecordsTotal)," entradas)"):o?"(gefiltert aus ".concat(e.format(t._iRecordsTotal)," Eintr\xe4gen)"):"(filtered from ".concat(e.format(t._iRecordsTotal)," total entries)"):"",a=0==t._iRecordsDisplay?-1:t._iDisplayStart,l=t._iDisplayStart+t._iDisplayLength>t._iRecordsDisplay?t._iRecordsDisplay:t._iDisplayStart+t._iDisplayLength;$('div [role="status"]').text(n?"Affichage de ".concat(e.format(a+1)," \xe0 ").concat(e.format(l)," des ").concat(e.format(t._iRecordsDisplay)," entr\xe9es ").concat(r):i?"Se muestran del ".concat(e.format(a+1)," al ").concat(e.format(l)," de ").concat(e.format(t._iRecordsDisplay)," resultados ").concat(r):o?"Angezeigt ".concat(e.format(a+1)," bis ").concat(e.format(l)," von ").concat(e.format(t._iRecordsDisplay)," ergebnissen ").concat(r):"Showing ".concat(e.format(a+1)," to ").concat(e.format(l)," of ").concat(e.format(t._iRecordsDisplay)," entries ").concat(r)),$(".first").text(n?"Le d\xe9but":i?"Primero":o?"Erste Seite":"First"),$(".previous").text(n?"Pr\xe9c\xe9dent":i?"Anterior":o?"Letzte":"Previous"),$(".next").text(n?"Suivant":i?"Siguiente":o?"Weiter":"Next"),$(".last").text(n?"Derni\xe8re":i?"\xdaltimo":o?"Zur\xfcck":"Last")}},{key:"redraw",value:function(){this.dtElement.dtInstance.then(function(t){t.draw()})}},{key:"tableLanguageOptions",value:function(t){"fr"==this.language.fileLanguage?this.dtOptions.language=this.frTable:"es"==this.language.fileLanguage?this.dtOptions.language=this.esTable:"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.de_DETable:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}},{key:"resetMyCommPasswrd",value:function(){var t=this;this.loading=!0,this.myCommService.resetMyCommPasswrd(this.sso.getOrgId(),this.sso.getCSCSubscriberId()).subscribe(function(e){t.loading=!1,t.successReset=!0,t.successWelcome=!1},function(e){t.loading=!1,t.pageErrorHandle(e)})}},{key:"myCommWelcomeMail",value:function(){var t=this;this.loading=!0,this.myCommService.myCommWelcomeMail(this.sso.getOrgId(),this.sso.getCSCSubscriberId(),this.community).subscribe(function(e){t.loading=!1,t.successWelcome=!0,t.successReset=!1},function(e){t.loading=!1,t.pageErrorHandle(e)})}},{key:"hideSuccess",value:function(){this.successWelcome=!1}},{key:"hideSuccess1",value:function(){this.successReset=!1}},{key:"pageErrorHandle",value:function(t){this.errorMsg=401===t.status?this.language["Access Denied"]:500===t.status?t.error.msg||this.language.internalServerError:this.sso.pageErrorHandle(t)}},{key:"escalationModalOpen",value:function(){this.modalService.open(this.escalationModal,{windowClass:"custom-large-modal"})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(f.s),g.Y36(g.SBq),g.Y36(mn),g.Y36(te.FF),g.Y36(h.t6),g.Y36(u.F0),g.Y36(bn.l),g.Y36(y.a),g.Y36(z.Dx))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-my-community-iq"]],viewQuery:function(t,e){var n;(1&t&&(g.Gf(yn,7),g.Gf(c.G,5)),2&t)&&(g.iGM(n=g.CRH())&&(e.escalationModal=n.first),g.iGM(n=g.CRH())&&(e.dtElement=n.first))},decls:27,vars:22,consts:[[1,"container","px-0","my-3","position-relative"],["class","loader","id","tabLoader",4,"ngIf"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],["class","alert alert-success w-100 alert-dismissible fade show","role","alert",4,"ngIf"],["class","col-md-12 px-0 pb-3",4,"ngIf"],["class","row mt-2",4,"ngIf"],["escalationModal",""],[1,"row"],[1,"col-md-2"],["id","tabs",1,"w-100","nav","flex-column","left-menu","tab-view-style"],[1,"nav-item",3,"click"],["data-toggle","tab","id","details",1,"nav-link",3,"ngClass"],["data-toggle","tab","id","OnboardedDevices",1,"nav-link",3,"ngClass"],["data-toggle","tab","id","Communities",1,"nav-link",3,"ngClass"],[1,"col-md-10"],["class","smart-town-container",4,"ngIf"],["class","connected-devices-wrapper mb-2",4,"ngIf"],["id","tabLoader",1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button","id","hide-error-btn",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],["role","alert",1,"alert","alert-success","w-100","alert-dismissible","fade","show"],[1,"mr-2"],["src","./assets/img/success-icon.svg",1,"width-height-20"],[1,"alert-title-24"],[1,"d-inline-flex"],["type","button",1,"close",3,"click"],[1,"col-md-12","px-0","pb-3"],[1,"d-flex"],["type","button","class","btn btn-primary mr-3",3,"click",4,"ngIf"],[1,"mycommunity-more","mycommunity-edge-more","flex-wrap"],["id","group","class","mr-3 mt-n1 min-w-200x","bindLabel","label","bindValue","micrositeId",3,"items","searchable","clearable","ngModel","disabled","ngModelChange","change",4,"ngIf"],["href"," javascript:void(0)",1,"btn-default","btn-dft","mr-3",3,"disabled","click"],["href"," javascript:void(0)",1,"btn-default","btn-dft",3,"disabled","click"],["type","button",1,"btn","btn-primary","mr-3",3,"click"],["id","group","bindLabel","label","bindValue","micrositeId",1,"mr-3","mt-n1","min-w-200x",3,"items","searchable","clearable","ngModel","disabled","ngModelChange","change"],[1,"row","mt-2"],[1,"col-sm-12","col-md-12","col-lg-4","col-xl-4"],["class","loader load",4,"ngIf"],[1,"d-flex","justify-content-between","border-bottom","mb-3"],["id","bark-account-details",1,"cco-secondary-title"],[1,"w-24"],["src","../../../../assets/img/Refresh-icon.svg",1,"refresh-icon",3,"click"],[1,"mycommunity-table","pl-3"],["id","mycommunity-acc-details",1,"table"],[3,"ngClass"],[1,"col-sm-12","col-md-12","col-lg-8","col-xl-8"],["id","bark-account-status",1,"cco-secondary-title"],["class","mycommunity-onboarded-table pl-3",4,"ngIf"],[1,"loader","load"],[1,"mycommunity-onboarded-table","pl-3"],["id","mycommunity-status",1,"table"],[1,"w-40"],[1,"w-45"],[1,"w-15"],[4,"ngFor","ngForOf"],[1,"w-40","text-break"],[1,"w-45","text-break","pr-4"],[1,"w-15",3,"ngClass"],[1,"modal-header","justify-content-end"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["src","../../../../assets/img/ic_close-44px.svg"],[1,"col-md-12","center-space","px-5","pt-2"],[1,"modal-body"],[1,"w-100"],["id","EscalationProcessTitle",1,"ccl-admin-title"],[1,"w-100","mt-4","pl-12"],[1,"col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"w-100","border-bottom"],["id","MycommunitIqInstructions",1,"ccl-secondary-title"],[1,"escalate-list"],["href","mailto:calixpartnersupport@mycommunityiq.com"],["id","EmailTemplate",1,"ccl-secondary-title"],[1,"gray-text"],["id","myComIQTemplateSubject"],[1,"mt-3"],["id","myComIQTemplateBody"],[1,""],["type","button","id","myComIQclipboard",1,"btn-default","primary",3,"click"],[1,"smart-town-container"],[1,"col-sm-12","col-md-12","col-lg-6","col-xl-6"],["id","",1,"cco-secondary-title"],["id","",1,"table"],[4,"ngIf"],[1,"border-top-0"],["class","highlightRed",4,"ngIf"],["class","highlightGreen",4,"ngIf"],["class","fas fa-caret-down highlightRed pointer","id","moreInfo",3,"click",4,"ngIf"],[3,"ngClass",4,"ngIf","ngIfElse"],["priority",""],["Class","highlightRed"],[1,"highlightRed"],[1,"highlightGreen"],["id","moreInfo",1,"fas","fa-caret-down","highlightRed","pointer",3,"click"],[1,"w-60"],["class","w-60",3,"ngClass",4,"ngIf"],["class","w-60","class","highlightRed",4,"ngIf"],[1,"w-60",3,"ngClass"],[1,"connected-devices-wrapper","mb-2"],[1,"connected-devices-info"],[1,"onboarded-devices","ju"],[1,"onboarded-devices-table"],["class","loader",4,"ngIf"],["datatable","",1,"table","table-borderless",3,"dtOptions"],[1,"loader"],["colspan","4",1,"text-center"],[1,"smart-town-item"]],template:function(t,e){1&t&&(g.TgZ(0,"div",0),g.YNc(1,Zn,5,1,"div",1),g.YNc(2,xn,6,1,"div",2),g.YNc(3,_n,8,1,"div",3),g.YNc(4,An,8,1,"div",3),g.YNc(5,wn,9,6,"div",4),g.YNc(6,Mn,35,12,"div",5),g.YNc(7,En,60,37,"ng-template",null,6,g.W1O),g.TgZ(9,"section"),g.TgZ(10,"div",7),g.TgZ(11,"div",8),g.TgZ(12,"ul",9),g.TgZ(13,"li",10),g.NdJ("click",function(){return e.onTabChange("details")}),g.TgZ(14,"a",11),g._uU(15),g.qZA(),g.qZA(),g.TgZ(16,"li",10),g.NdJ("click",function(){return e.onTabChange("OnboardedDevices")}),g.TgZ(17,"a",12),g._uU(18),g.qZA(),g.qZA(),g.TgZ(19,"li",10),g.NdJ("click",function(){return e.onTabChange("Communities")}),g.TgZ(20,"a",13),g._uU(21),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(22,"div",14),g.YNc(23,Pn,6,1,"div",2),g.YNc(24,Kn,45,19,"div",15),g.YNc(25,ei,23,8,"div",16),g.YNc(26,oi,12,3,"div",15),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t&&(g.xp6(1),g.Q6J("ngIf",e.totalLoader||e.totalMicroLoader||e.tableLoading),g.xp6(1),g.Q6J("ngIf",e.errorMsg),g.xp6(1),g.Q6J("ngIf",e.successWelcome),g.xp6(1),g.Q6J("ngIf",e.successReset),g.xp6(1),g.Q6J("ngIf","Communities"==e.sectionToShow),g.xp6(1),g.Q6J("ngIf",!1),g.xp6(8),g.Q6J("ngClass",g.VKq(16,ri,"details"==e.sectionToShow?"active":"")),g.xp6(1),g.Oqu(e.language.Details),g.xp6(2),g.Q6J("ngClass",g.VKq(18,ri,"OnboardedDevices"==e.sectionToShow?"active":"")),g.xp6(1),g.hij("",e.language["Onboarded Devices"]," "),g.xp6(2),g.Q6J("ngClass",g.VKq(20,ri,"Communities"==e.sectionToShow?"active":"")),g.xp6(1),g.Oqu(e.language.Communities),g.xp6(2),g.Q6J("ngIf",e.showError),g.xp6(1),g.Q6J("ngIf","details"==e.sectionToShow),g.xp6(1),g.Q6J("ngIf","OnboardedDevices"==e.sectionToShow),g.xp6(1),g.Q6J("ngIf","Communities"==e.sectionToShow))},directives:[l.O5,l.mk,W.w9,G.JJ,G.On,l.sg,c.G],pipes:[l.uU],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.mycommunity-more[_ngcontent-%COMP%]{margin-left:0;display:inline-flex}.mycommunity-more[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#ebeaef;width:32px;height:32px;border-radius:26px;color:gray;text-align:center;cursor:pointer;border:1px solid #CCCCCC}.mycommunity-more[_ngcontent-%COMP%]   .btn-dft[_ngcontent-%COMP%]{padding:3px 20px!important;height:24px;line-height:16px!important;font-size:14px;font-weight:400;color:#1a1f22}.mycommunity-more[_ngcontent-%COMP%]   .btn-dft[_ngcontent-%COMP%]:disabled{opacity:.5;border-color:#f8f8fa!important;cursor:not-allowed;background:#f8f8fa!important}.dropdown-item[_ngcontent-%COMP%]:focus, .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#edf5ff!important}.mycommunity-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;font-size:15px;line-height:24px;color:#4c4c4c;padding:0 10px 0 0}.mycommunity-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:0}.mycommunity-onboarded-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:18px;border-bottom:1px solid #CCCCCC}.mycommunity-onboarded-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0;border:none}.mycommunity-onboarded-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;font-size:15px;line-height:24px;color:#4c4c4c;padding:0 10px 0 0;border:none}.mycommunity-onboarded-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{font-weight:400;font-size:15px;line-height:24px}.mycommunity-onboarded-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f8f8fa}.mycommunity-onboarded-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:0}.w-24[_ngcontent-%COMP%]{width:24px;cursor:pointer}.dropdown-menu.show[_ngcontent-%COMP%]{display:block;border:0!important;border-radius:16px;box-shadow:0 5px 15px #80808040}.eleven-status-inside-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #EBEAEF}.eleven-status-inside-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 0 0 34px;border:0px}.highlightRed[_ngcontent-%COMP%]{color:#c70000!important}.highlightGreen[_ngcontent-%COMP%]{color:green!important}  .custom-large-modal .modal-dialog{max-width:93%!important}  .custom-large-modal .modal-body{min-height:480px}.escalate-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:30px;list-style:none}.escalate-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.escalate-list[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-left:15px}.escalate-list[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.btn-close[_ngcontent-%COMP%]{background:transparent;border:none}.btn-close[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.5}.btn-close[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:1}.noAction[_ngcontent-%COMP%]{cursor:no-drop!important}.success[_ngcontent-%COMP%]{color:green!important}.width-height-20[_ngcontent-%COMP%]{width:26px;height:26px;margin-top:-8px}.alert-title-24[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.w-45[_ngcontent-%COMP%]{width:45%}.w-15[_ngcontent-%COMP%]{width:15%}.min-w-200x[_ngcontent-%COMP%]{min-width:200px}.smart-town-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.smart-town-container[_ngcontent-%COMP%]   .smart-town-item[_ngcontent-%COMP%]{flex:0 48%}.connected-devices-wrapper[_ngcontent-%COMP%]{width:100%}.connected-devices-wrapper[_ngcontent-%COMP%]   .onboarded-devices[_ngcontent-%COMP%]{margin-top:27px}.connected-devices-wrapper[_ngcontent-%COMP%]   .onboarded-devices-table[_ngcontent-%COMP%]{margin-top:20px}.connected-devices-wrapper[_ngcontent-%COMP%]   .onboarded-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.connected-devices-wrapper[_ngcontent-%COMP%]   .onboarded-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:18px;margin-bottom:5px;border-bottom:1px solid #CCCCCC;padding:5px}.connected-devices-wrapper[_ngcontent-%COMP%]   .onboarded-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;font-size:15px;line-height:24px;padding:5px}.connected-devices-wrapper[_ngcontent-%COMP%]   .onboarded-devices-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f8f8fa}.connected-devices-info[_ngcontent-%COMP%]{border-left:solid 1px #EBEAEF;padding-left:12px}.connected-devices-info[_ngcontent-%COMP%]   .devices-info-list[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:16px}.connected-devices-info[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-weight:300;font-size:30px;line-height:32px;display:flex;align-items:center;color:#0054b2}  table.dataTable td.dataTables_empty{display:none}.left-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{margin-right:-3px;margin-left:2px}"]}),e}(),si=r(87949),ci=r(96718),ui=r(18638),di=["deleteImg"];function pi(t,e){if(1&t&&(g.TgZ(0,"div",22),g.TgZ(1,"div",23),g.TgZ(2,"div",24),g.TgZ(3,"span",25),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw();g.xp6(4),g.Oqu(n.language.Loading)}}function gi(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",26),g.TgZ(1,"span",27),g._UZ(2,"img",28),g.qZA(),g.TgZ(3,"button",29),g.NdJ("click",function(){return g.CHM(n),g.oxw().warningMessage=""}),g._UZ(4,"span"),g.qZA(),g._UZ(5,"div",30),g.qZA()}if(2&t){var i=g.oxw();g.xp6(5),g.Q6J("innerHtml",i.warningMessage,g.oJD)}}function fi(t,e){if(1&t&&(g.TgZ(0,"div",57),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.Oqu(n.language["Character length should not exceed 64 characters"])}}function hi(t,e){if(1&t&&(g.TgZ(0,"span",58),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.Oqu(n.language["Upload valid image file"])}}function vi(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"span",59),g.NdJ("click",function(){return g.CHM(n),g.oxw(2).removeImg(!0,"coverImage")}),g.TgZ(1,"a",60),g._uU(2),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(2),g.Oqu(i.language.delete)}}function mi(t,e){if(1&t&&(g.TgZ(0,"span",61),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.Oqu(n.language["Please Enter a valid URL"])}}function bi(t,e){if(1&t&&(g.TgZ(0,"div",57),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.Oqu(n.language["Character length should not exceed 90 characters"])}}function yi(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",31),g.TgZ(1,"div",32),g.TgZ(2,"form"),g.TgZ(3,"div",33),g.TgZ(4,"label",34),g._uU(5),g.qZA(),g.TgZ(6,"input",35),g.NdJ("blur",function(){return g.CHM(n),g.oxw().setCaptivePortal()})("ngModelChange",function(t){return g.CHM(n),g.oxw().portalDetail.title=t}),g.qZA(),g.YNc(7,fi,2,1,"div",36),g.qZA(),g.qZA(),g.TgZ(8,"div",37),g.TgZ(9,"div",38),g.TgZ(10,"div"),g._uU(11),g.TgZ(12,"div",39),g.TgZ(13,"div",40),g.TgZ(14,"div",41),g._UZ(15,"img",42),g.qZA(),g.YNc(16,hi,2,1,"span",43),g.qZA(),g.TgZ(17,"div",44),g.TgZ(18,"label",45),g._uU(19),g.qZA(),g.TgZ(20,"input",46),g.NdJ("change",function(t){return g.CHM(n),g.oxw().uploadImg(t,"coverImage")}),g.qZA(),g.qZA(),g.YNc(21,vi,3,1,"span",47),g.qZA(),g.qZA(),g.qZA(),g.TgZ(22,"div",48),g._uU(23),g.TgZ(24,"div",49),g.TgZ(25,"ul"),g.TgZ(26,"li"),g.TgZ(27,"span",50),g._uU(28),g.qZA(),g._uU(29,":20MB "),g.qZA(),g.TgZ(30,"li"),g._uU(31),g.qZA(),g.TgZ(32,"li"),g._uU(33),g.qZA(),g.TgZ(34,"li"),g._uU(35),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(36,"div",32),g.TgZ(37,"form",null,51),g.TgZ(39,"div",33),g.TgZ(40,"label",52),g._uU(41),g.qZA(),g.TgZ(42,"input",53),g.NdJ("keyup",function(t){return g.CHM(n),g.oxw().checkUrlIsValid(t)})("blur",function(t){return g.CHM(n),g.oxw().validateUrl(t)}),g.qZA(),g.YNc(43,mi,2,1,"span",54),g.qZA(),g.TgZ(44,"div",33),g.TgZ(45,"label",55),g._uU(46),g.qZA(),g.TgZ(47,"input",56),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().portalDetail.buttonText=t})("blur",function(){return g.CHM(n),g.oxw().setCaptivePortal()}),g.qZA(),g.YNc(48,bi,2,1,"div",36),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.xp6(5),g.Oqu(i.language.Message),g.xp6(1),g.Q6J("ngModel",i.portalDetail.title)("formValue",i.portalDetail),g.xp6(1),g.Q6J("ngIf",i.portalDetail.title&&i.portalDetail.title.length>64),g.xp6(4),g.hij(" ",i.language["Cover Photo"]," "),g.xp6(4),g.Q6J("src",i.portalDetail.coverImage||" ",g.LSH),g.xp6(1),g.Q6J("ngIf",i.errorValidation.coverImage),g.xp6(2),g.s9C("title",i.language["Upload Image"]),g.xp6(1),g.Oqu(i.language["Upload Image"]),g.xp6(2),g.Q6J("ngIf",i.portalDetail.coverImage),g.xp6(2),g.hij(" ",i.language["Cover Photo Guidelines"]," "),g.xp6(5),g.Oqu(i.language["Max File size"]),g.xp6(3),g.hij("",i.language["Max Width"],":1080px"),g.xp6(2),g.hij("",i.language["Max Height"],":360px"),g.xp6(2),g.hij("",i.language["Supported Formats"],": .png, .jpeg/.jpg"),g.xp6(6),g.Oqu(i.language["Terms of Service"]),g.xp6(1),g.Q6J("value",i.portalDetail.termsUrl||"")("formValue",i.portalDetail),g.xp6(1),g.Q6J("ngIf",!i.checkUrl),g.xp6(3),g.Oqu(i.language["Submit Button Text"]),g.xp6(1),g.Q6J("ngModel",i.portalDetail.buttonText)("formValue",i.portalDetail),g.xp6(1),g.Q6J("ngIf",i.portalDetail.buttonText&&i.portalDetail.buttonText.length>90)}}function Zi(t,e){if(1&t&&(g.TgZ(0,"span",80),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.Oqu(n.language["Upload valid image file"])}}function xi(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"span",81),g.NdJ("click",function(){return g.CHM(n),g.oxw(2).removeImg(!0,"logoImage")}),g.TgZ(1,"a",60),g._uU(2),g.qZA(),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(2),g.Oqu(i.language.delete)}}function _i(t,e){if(1&t&&(g.TgZ(0,"div",57),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.Oqu(n.language.capitive_portal_color_validate)}}function Ai(t,e){if(1&t&&(g.TgZ(0,"div",57),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.Oqu(n.language.capitive_portal_color_validate)}}function Ti(t,e){if(1&t&&(g.TgZ(0,"div",57),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language.capitive_portal_color_validate,"")}}function qi(t,e){if(1&t&&(g.TgZ(0,"div",57),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.Oqu(n.language.capitive_portal_color_validate)}}function wi(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",62),g.TgZ(1,"div",63),g.TgZ(2,"div",64),g.TgZ(3,"div",37),g.TgZ(4,"div",38),g.TgZ(5,"div"),g._uU(6),g.TgZ(7,"div",65),g.TgZ(8,"div",40),g.TgZ(9,"div",41),g._UZ(10,"img",42),g.qZA(),g.YNc(11,Zi,2,1,"span",66),g.qZA(),g.TgZ(12,"div",67),g.TgZ(13,"label",68),g._uU(14),g.qZA(),g.TgZ(15,"input",69),g.NdJ("change",function(t){return g.CHM(n),g.oxw().uploadImg(t,"logoImage")}),g.qZA(),g.qZA(),g.YNc(16,xi,3,1,"span",70),g.qZA(),g.qZA(),g.qZA(),g.TgZ(17,"div",48),g._uU(18),g.TgZ(19,"div",49),g.TgZ(20,"ul"),g.TgZ(21,"li"),g.TgZ(22,"span",50),g._uU(23),g.qZA(),g._uU(24,":20MB"),g.qZA(),g.TgZ(25,"li"),g._uU(26),g.qZA(),g.TgZ(27,"li"),g._uU(28),g.qZA(),g.TgZ(29,"li"),g._uU(30),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(31,"div",64),g.TgZ(32,"div",71),g.TgZ(33,"label"),g._uU(34),g.qZA(),g.TgZ(35,"div",72),g.TgZ(36,"div",73),g.TgZ(37,"input",74),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().portalDetail.bgColor=t})("blur",function(){return g.CHM(n),g.oxw().setCaptivePortal()}),g.qZA(),g.YNc(38,_i,2,1,"div",36),g.qZA(),g.TgZ(39,"input",75),g.NdJ("colorPickerChange",function(t){return g.CHM(n),g.oxw().portalDetail.bgColor=t})("ngModelChange",function(t){return g.CHM(n),g.oxw().portalDetail.bgColor=t})("cpToggleChange",function(t){return g.CHM(n),g.oxw().colorPickerEvent(t)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(40,"div",71),g.TgZ(41,"label"),g._uU(42),g.qZA(),g.TgZ(43,"div",72),g.TgZ(44,"div",73),g.TgZ(45,"input",74),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().portalDetail.pbColor=t})("blur",function(){return g.CHM(n),g.oxw().setCaptivePortal()}),g.qZA(),g.YNc(46,Ai,2,1,"div",36),g.qZA(),g.TgZ(47,"input",76),g.NdJ("colorPickerChange",function(t){return g.CHM(n),g.oxw().portalDetail.pbColor=t})("ngModelChange",function(t){return g.CHM(n),g.oxw().portalDetail.pbColor=t})("cpToggleChange",function(t){return g.CHM(n),g.oxw().colorPickerEvent(t)}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(48,"div",64),g.TgZ(49,"div",71),g.TgZ(50,"label"),g._uU(51),g.qZA(),g.TgZ(52,"div",72),g.TgZ(53,"div",73),g.TgZ(54,"input",74),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().portalDetail.fColor=t})("blur",function(){return g.CHM(n),g.oxw().setCaptivePortal()}),g.qZA(),g.YNc(55,Ti,2,1,"div",36),g.qZA(),g.TgZ(56,"input",77),g.NdJ("colorPickerChange",function(t){return g.CHM(n),g.oxw().portalDetail.fColor=t})("ngModelChange",function(t){return g.CHM(n),g.oxw().portalDetail.fColor=t})("cpToggleChange",function(t){return g.CHM(n),g.oxw().colorPickerEvent(t)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(57,"div",78),g.TgZ(58,"label"),g._uU(59),g.qZA(),g.TgZ(60,"div",72),g.TgZ(61,"div",73),g.TgZ(62,"input",74),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().portalDetail.bfColor=t})("blur",function(){return g.CHM(n),g.oxw().setCaptivePortal()}),g.qZA(),g.YNc(63,qi,2,1,"div",36),g.qZA(),g.TgZ(64,"input",79),g.NdJ("colorPickerChange",function(t){return g.CHM(n),g.oxw().portalDetail.bfColor=t})("ngModelChange",function(t){return g.CHM(n),g.oxw().portalDetail.bfColor=t})("cpToggleChange",function(t){return g.CHM(n),g.oxw().colorPickerEvent(t)}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.xp6(6),g.hij(" ",i.language.Logo," "),g.xp6(4),g.Q6J("src",i.portalDetail.logoImage||" ",g.LSH),g.xp6(1),g.Q6J("ngIf",i.errorValidation.logoImage),g.xp6(3),g.Oqu(i.language["Upload Image"]),g.xp6(2),g.Q6J("ngIf",i.portalDetail.logoImage),g.xp6(2),g.hij(" ",i.language.Logo_Guidelines," "),g.xp6(5),g.Oqu(i.language["Max File size"]),g.xp6(3),g.hij("",i.language["Max Width"],":400px"),g.xp6(2),g.hij("",i.language["Max Height"],":400px"),g.xp6(2),g.hij("",i.language["Supported Formats"],": .png, .jpeg/.jpg"),g.xp6(4),g.Oqu(i.language.Background),g.xp6(3),g.Q6J("ngModel",i.portalDetail.bgColor)("value",i.portalDetail.bgColor),g.xp6(1),g.Q6J("ngIf",!i.sso.validateHexCode(i.portalDetail.bgColor)),g.xp6(1),g.Udp("background",i.portalDetail.bgColor),g.Q6J("colorPicker",i.portalDetail.bgColor)("ngModel",i.portalDetail.bgColor)("cpOutputFormat","hex")("cpPosition","top-left"),g.xp6(3),g.Oqu(i.language["Primary Button"]),g.xp6(3),g.Q6J("ngModel",i.portalDetail.pbColor)("value",i.portalDetail.pbColor),g.xp6(1),g.Q6J("ngIf",!i.sso.validateHexCode(i.portalDetail.pbColor)),g.xp6(1),g.Udp("background",i.portalDetail.pbColor),g.Q6J("colorPicker",i.portalDetail.pbColor)("ngModel",i.portalDetail.pbColor)("cpOutputFormat","hex")("cpPosition","top-left"),g.xp6(4),g.Oqu(i.language.Font),g.xp6(3),g.Q6J("ngModel",i.portalDetail.fColor)("value",i.portalDetail.fColor),g.xp6(1),g.Q6J("ngIf",!i.sso.validateHexCode(i.portalDetail.fColor)),g.xp6(1),g.Udp("background",i.portalDetail.fColor),g.Q6J("colorPicker",i.portalDetail.fColor)("ngModel",i.portalDetail.fColor)("cpOutputFormat","hex")("cpPosition","top-left"),g.xp6(3),g.Oqu(i.language["Button Font"]),g.xp6(3),g.Q6J("ngModel",i.portalDetail.bfColor)("value",i.portalDetail.bfColor),g.xp6(1),g.Q6J("ngIf",!i.sso.validateHexCode(i.portalDetail.bfColor)),g.xp6(1),g.Udp("background",i.portalDetail.bfColor),g.Q6J("colorPicker",i.portalDetail.bfColor)("ngModel",i.portalDetail.bfColor)("cpOutputFormat","hex")("cpPosition","top-left")}}function Ci(t,e){if(1&t&&(g.TgZ(0,"div",57),g._uU(1),g.qZA()),2&t){var n=g.oxw(3);g.xp6(1),g.hij(" ",n.language["Please select a day"]," ")}}function Oi(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",84),g.TgZ(1,"label"),g._uU(2),g.qZA(),g.TgZ(3,"ng-select",91),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw(2).addNetwork.day=t})("change",function(){return g.CHM(n),g.oxw(2).validateDays()}),g.qZA(),g.YNc(4,Ci,2,1,"div",36),g.qZA()}if(2&t){var i=g.oxw(2);g.xp6(2),g.Oqu(i.language["Select Day(s)"]),g.xp6(1),g.Q6J("items",i.days)("ngModel",i.addNetwork.day)("multiple",!0)("closeOnSelect",!1)("searchable",!1),g.xp6(1),g.Q6J("ngIf",!i.matchedCriteria&&!i.addNetwork.day.length)}}function Si(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"p-calendar",97),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw(3).addNetwork.startTime=t})("onSelect",function(t){return g.CHM(n),g.oxw(3).setEndTime(t)}),g.qZA()}if(2&t){var i=g.oxw(3);g.Q6J("ngModel",i.addNetwork.startTime)("showIcon",!0)("hourFormat",12)("showIcon",!0)("disabled",i.disablefield())}}function ki(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"p-calendar",98),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw(3).addNetwork.startTime=t})("onSelect",function(t){return g.CHM(n),g.oxw(3).setEndTimeEveryday(t)}),g.qZA()}if(2&t){var i=g.oxw(3);g.Q6J("ngModel",i.addNetwork.startTime)("showIcon",!0)("hourFormat",12)("showIcon",!0)}}function Mi(t,e){if(1&t&&(g.TgZ(0,"div",92),g.TgZ(1,"div",93),g._uU(2),g.qZA(),g.TgZ(3,"div",94),g.YNc(4,Si,1,5,"p-calendar",95),g.YNc(5,ki,1,4,"p-calendar",96),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(2),g.Oqu(n.language["Start Time"]),g.xp6(2),g.Q6J("ngIf","Custom"==n.addNetwork.networkAccess),g.xp6(1),g.Q6J("ngIf","Everyday"==n.addNetwork.networkAccess)}}function Ei(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"p-calendar",101),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw(3).addNetwork.stopTime=t})("onSelect",function(){return g.CHM(n),g.oxw(3).validateDays()}),g.qZA()}if(2&t){var i=g.oxw(3);g.Q6J("ngModel",i.addNetwork.stopTime)("showIcon",!0)("minDate",i.addNetwork.startTime)("hourFormat",12)("disabled",i.disablefield())}}function Pi(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"p-calendar",102),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw(3).addNetwork.stopTime=t}),g.qZA()}if(2&t){var i=g.oxw(3);g.Q6J("ngModel",i.addNetwork.stopTime)("showIcon",!0)("minDate",i.addNetwork.startTime)("hourFormat",12)}}function Ii(t,e){if(1&t&&(g.TgZ(0,"div",92),g.TgZ(1,"div",93),g._uU(2),g.qZA(),g.TgZ(3,"div",94),g.YNc(4,Ei,1,5,"p-calendar",99),g.YNc(5,Pi,1,4,"p-calendar",100),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(2),g.Oqu(n.language["End Time"]),g.xp6(2),g.Q6J("ngIf","Custom"==n.addNetwork.networkAccess),g.xp6(1),g.Q6J("ngIf","Everyday"==n.addNetwork.networkAccess)}}function Ni(t,e){if(1&t&&(g.TgZ(0,"div",57),g._uU(1),g.qZA()),2&t){var n=g.oxw(2);g.xp6(1),g.hij(" ",n.language["The selected date and time is already Added"]," ")}}function Ui(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"button",103),g.NdJ("click",function(){return g.CHM(n),g.oxw(2).addNetworkAccess()}),g._uU(1),g.qZA()}if(2&t){var i=g.oxw(2);g.Q6J("disabled",i.addtimedisabled[i.addNetwork.networkAccess]),g.xp6(1),g.hij(" + ",i.language["Add Time"]," ")}}function ji(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g.TgZ(8,"img",107),g.NdJ("click",function(){var t=g.CHM(n).$implicit;return g.oxw(3).deleteAccess(t)}),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=e.$implicit,o=g.oxw(3);g.xp6(2),g.Oqu(i.weekDays),g.xp6(2),g.Oqu("00"==o.parseTime(i.startTime).toString().substring(0,2)?"12"+o.parseTime(i.startTime).toString().substring(2):o.parseTime(i.startTime)),g.xp6(2),g.Oqu("00"==o.parseTime(i.stopTime).toString().substring(0,2)?"12"+o.parseTime(i.stopTime).toString().substring(2):o.parseTime(i.stopTime)),g.xp6(2),g.s9C("title",o.language.Delete)}}function Di(t,e){if(1&t&&(g.TgZ(0,"div",32),g.TgZ(1,"div",104),g._uU(2),g.qZA(),g.TgZ(3,"div",105),g.TgZ(4,"table"),g.TgZ(5,"thead"),g.TgZ(6,"th"),g._uU(7),g.qZA(),g.TgZ(8,"th"),g._uU(9),g.qZA(),g.TgZ(10,"th"),g._uU(11),g.qZA(),g._UZ(12,"th"),g.qZA(),g.TgZ(13,"tbody"),g.YNc(14,ji,9,4,"tr",106),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(2),g.hij("",n.language["Custom Hours"]," "),g.xp6(5),g.Oqu(n.language.Day_s),g.xp6(2),g.Oqu(n.language["Start Time"]),g.xp6(2),g.Oqu(n.language["End Time"]),g.xp6(3),g.Q6J("ngForOf",n.customHours)}}function Li(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",82),g.TgZ(1,"div",83),g.TgZ(2,"div",84),g.TgZ(3,"label"),g._uU(4),g.qZA(),g.TgZ(5,"ng-select",85),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().addNetwork.networkAccess=t})("change",function(t){g.CHM(n);var e=g.oxw();return e.networkChange(t),e.warningMessage=""}),g.qZA(),g.qZA(),g.YNc(6,Oi,5,7,"div",86),g.YNc(7,Mi,6,3,"div",87),g.YNc(8,Ii,6,3,"div",87),g.TgZ(9,"div"),g.YNc(10,Ni,2,1,"div",36),g.qZA(),g.YNc(11,Ui,2,2,"button",88),g.qZA(),g._UZ(12,"div",89),g.YNc(13,Di,15,5,"div",90),g.qZA()}if(2&t){var i=g.oxw();g.xp6(4),g.Oqu(i.language["Network Access"]),g.xp6(1),g.Q6J("items",i.networkAccess)("ngModel",i.addNetwork.networkAccess)("searchable",!1),g.xp6(1),g.Q6J("ngIf","Custom"==i.addNetwork.networkAccess),g.xp6(1),g.Q6J("ngIf","Always"!=i.addNetwork.networkAccess),g.xp6(1),g.Q6J("ngIf","Always"!=i.addNetwork.networkAccess),g.xp6(2),g.Q6J("ngIf",i.addtimedisabled[i.addNetwork.networkAccess]),g.xp6(1),g.Q6J("ngIf","Custom"==i.addNetwork.networkAccess||"Everyday"==i.addNetwork.networkAccess),g.xp6(2),g.Q6J("ngIf","Always"!=i.addNetwork.networkAccess||i.customHours.length)}}function Ri(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",108),g.TgZ(1,"p",109),g._uU(2),g.qZA(),g.TgZ(3,"div",110),g.TgZ(4,"label",111),g._uU(5),g.qZA(),g.TgZ(6,"div",112),g.TgZ(7,"ng-select",113),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().portalDetail.loginRetentionDays=t})("change",function(){return g.CHM(n),g.oxw().setCaptivePortal()}),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.xp6(2),g.hij(" ",i.language.login_retention_description," "),g.xp6(3),g.Oqu(i.language["Login Retention"]),g.xp6(2),g.Q6J("searchable",!1)("items",i.RetentionDays)("clearable",!1)("ngModel",i.portalDetail.loginRetentionDays)}}function Fi(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.qZA()),2&t){var n=e.$implicit,i=g.oxw(3);g.xp6(2),g.Oqu(n.weekDays),g.xp6(2),g.Oqu("00"==i.parseTime(null==n.timeRanges[0]?null:n.timeRanges[0].startTime).toString().substring(0,2)?"12"+i.parseTime(null==n.timeRanges[0]?null:n.timeRanges[0].startTime).toString().substring(2):i.parseTime(null==n.timeRanges[0]?null:n.timeRanges[0].startTime)),g.xp6(2),g.Oqu("00"==i.parseTime(null==n.timeRanges[0]?null:n.timeRanges[0].stopTime).toString().substring(0,2)?"12"+i.parseTime(null==n.timeRanges[0]?null:n.timeRanges[0].stopTime).toString().substring(2):i.parseTime(null==n.timeRanges[0]?null:n.timeRanges[0].stopTime))}}function Hi(t,e){if(1&t&&(g.TgZ(0,"div",104),g.TgZ(1,"div",105),g.TgZ(2,"table"),g.TgZ(3,"thead"),g.TgZ(4,"th"),g._uU(5),g.qZA(),g.TgZ(6,"th"),g._uU(7),g.qZA(),g.TgZ(8,"th"),g._uU(9),g.qZA(),g._UZ(10,"th"),g.qZA(),g.TgZ(11,"tbody"),g.YNc(12,Fi,7,3,"tr",106),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var n=g.oxw(2);g.xp6(5),g.Oqu(n.language.Day_s),g.xp6(2),g.Oqu(n.language["Start Time"]),g.xp6(2),g.Oqu(n.language["End Time"]),g.xp6(3),g.Q6J("ngForOf",n.portalDetail.schedules)}}function Ji(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",114),g._uU(1),g.qZA(),g.TgZ(2,"div",115),g.TgZ(3,"button",116),g.NdJ("click",function(){return g.CHM(n).$implicit.dismiss("Cross click")}),g._UZ(4,"span",117),g.qZA(),g.qZA(),g.TgZ(5,"div",118),g.TgZ(6,"div",119),g.TgZ(7,"div",120),g.TgZ(8,"div",121),g._uU(9),g.qZA(),g.TgZ(10,"div",122),g.TgZ(11,"div",123),g.TgZ(12,"div",124),g._uU(13),g.qZA(),g.TgZ(14,"div",125),g.TgZ(15,"h3"),g._uU(16),g.qZA(),g.qZA(),g.qZA(),g.TgZ(17,"div",123),g.TgZ(18,"div",124),g._uU(19),g.qZA(),g.TgZ(20,"div",126),g.TgZ(21,"div",127),g._UZ(22,"img",128),g.qZA(),g.qZA(),g.qZA(),g.TgZ(23,"div",123),g.TgZ(24,"div",124),g._uU(25),g.qZA(),g.TgZ(26,"div",125),g.TgZ(27,"h3"),g._uU(28),g.qZA(),g.qZA(),g.qZA(),g.TgZ(29,"div",123),g.TgZ(30,"div",124),g._uU(31),g.qZA(),g.TgZ(32,"div",125),g.TgZ(33,"h3"),g._uU(34),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(35,"div",119),g.TgZ(36,"div",120),g.TgZ(37,"div",121),g._uU(38),g.qZA(),g.TgZ(39,"div",122),g.TgZ(40,"div",123),g.TgZ(41,"div",124),g._uU(42),g.qZA(),g.TgZ(43,"div",125),g.TgZ(44,"div",127),g._UZ(45,"img",128),g.qZA(),g.qZA(),g.qZA(),g.TgZ(46,"div",123),g.TgZ(47,"div",124),g._uU(48),g.qZA(),g.TgZ(49,"div",125),g.TgZ(50,"h3"),g._uU(51),g.qZA(),g.qZA(),g.qZA(),g.TgZ(52,"div",123),g.TgZ(53,"div",124),g._uU(54),g.qZA(),g.TgZ(55,"div",125),g.TgZ(56,"h3"),g._uU(57),g.qZA(),g.qZA(),g.qZA(),g.TgZ(58,"div",123),g.TgZ(59,"div",124),g._uU(60),g.qZA(),g.TgZ(61,"div",125),g.TgZ(62,"h3"),g._uU(63),g.qZA(),g.qZA(),g.qZA(),g.TgZ(64,"div",123),g.TgZ(65,"div",124),g._uU(66),g.qZA(),g.TgZ(67,"div",125),g.TgZ(68,"h3"),g._uU(69),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(70,"div",119),g.TgZ(71,"div",120),g.TgZ(72,"div",121),g._uU(73),g.qZA(),g.qZA(),g.qZA(),g.YNc(74,Hi,13,4,"div",129),g.qZA()}if(2&t){var i=g.oxw();g.xp6(1),g.hij(" ",i.language["Captive Preview"],""),g.xp6(8),g.hij(" ",i.language.Content," "),g.xp6(4),g.hij("",i.language.Message," "),g.xp6(3),g.hij(" ",i.previewData.title," "),g.xp6(3),g.hij("",i.language["Cover Photo"]," "),g.xp6(3),g.s9C("src",i.previewData.coverImage,g.LSH),g.xp6(3),g.Oqu(i.language["Terms of Service"]),g.xp6(3),g.hij(" ",i.previewData.termsUrl," "),g.xp6(3),g.Oqu(i.language["Submit Button Text"]),g.xp6(3),g.hij(" ",i.previewData.buttonText," "),g.xp6(4),g.hij(" ",i.language.Bsp_Add_Micro__Branding," "),g.xp6(4),g.hij("",i.language.Logo," "),g.xp6(3),g.s9C("src",i.previewData.logoImage,g.LSH),g.xp6(3),g.Oqu(i.language.Background),g.xp6(3),g.hij(" ",i.previewData.bgColor," "),g.xp6(3),g.hij("",i.language.Font," "),g.xp6(3),g.hij(" ",i.previewData.fColor," "),g.xp6(3),g.Oqu(i.language["Primary Button"]),g.xp6(3),g.hij(" ",i.previewData.pbColor," "),g.xp6(3),g.Oqu(i.language["Button Font"]),g.xp6(3),g.hij(" ",i.previewData.bfColor," "),g.xp6(4),g.hij(" ",i.language["Network Access"]," "),g.xp6(1),g.Q6J("ngIf","Always"!=i.addNetwork.networkAccess)}}function Qi(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div"),g.TgZ(1,"div",130),g.TgZ(2,"button",131),g.TgZ(3,"span",132),g.NdJ("click",function(){return g.CHM(n).$implicit.close("cancel")}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(4,"div",133),g.TgZ(5,"div",134),g.TgZ(6,"div",135),g.TgZ(7,"div",136),g._UZ(8,"img",137),g.qZA(),g.TgZ(9,"div",138),g.TgZ(10,"div",139),g.TgZ(11,"div",140),g._uU(12),g.qZA(),g.TgZ(13,"p"),g._uU(14),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(15,"button",141),g.NdJ("click",function(){g.CHM(n);var t=g.oxw();return t.removeImg(!1,t.imgType)}),g._uU(16),g.qZA(),g.TgZ(17,"button",142),g.NdJ("click",function(){return g.CHM(n).$implicit.close("cancel")}),g._uU(18),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var i=g.oxw();g.xp6(12),g.hij(" ",i.language["Are you sure you want to delete image?"]," "),g.xp6(2),g.Oqu(i.language["This action cannot be undone"]),g.xp6(2),g.hij(" ",i.language.Confirm," "),g.xp6(2),g.hij(" ",i.language.cancel," ")}}var Bi=[{path:"",component:Y,children:[{path:"protectIQ",component:Gt,data:{title:"Calix Suppport Cloud - rg"}},{path:"protect-iq",loadChildren:function(){return r.e(6125).then(r.bind(r,66125)).then(function(t){return t.ProtectIqNewModule})}},{path:"experienceIQ",loadChildren:function(){return Promise.all([r.e(1020),r.e(8849),r.e(7207),r.e(2908)]).then(r.bind(r,42908)).then(function(t){return t.ExperienceIqModule})}},{path:"arlo-smart",component:Ve,data:{title:"Calix Suppport Cloud"}},{path:"servify-care",component:ke,data:{title:"Calix Suppport Cloud"}},{path:"bark",component:hn,data:{title:"Calix Suppport Cloud"}},{path:"SmartTownWiFi",component:li,data:{title:"calix support cloud"}},{path:"customer-portal",component:function(){var t=function(){function t(e,n,i,r,a,l){o(this,t),this.service=e,this.translateService=n,this.modalService=i,this.sanitizer=r,this.router=a,this.sso=l,this.portalDetail={},this.tabSelected="content",this.bgColor="#cdcdcd",this.fontColor="#cdcdcd",this.PfColor="#cdcdcd",this.bfColor="#cdcdcd",this.days=[],this.networkAccess=[],this.currentTime=new Date,this.addNetwork={networkAccess:"Always",day:[],startTime:new Date,stopTime:new Date((new Date).setMinutes((new Date).getMinutes()+1))},this.weekDays=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],this.weekDaysFormat={Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6,Sun:7},this.count={Mon:0,Tue:0,Wed:0,Thu:0,Fri:0,Sat:0,Sun:0},this.previewData={},this.customHours=[],this.matchedCriteria=!0,this.loader=!1,this.warningMessage="",this.errorValidation={},this.checkUrl=!0,this.RetentionDays=[{id:"1 day",value:1},{id:"15 days",value:15},{id:"30 days",value:30},{id:"60 days",value:60},{id:"90 days",value:90}],this.imgType="",this.addtimedisabled={Everyday:!1,Custom:!1,Always:!1}}return a(t,[{key:"ngOnInit",value:function(){var t=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){t.language=e,t.RetentionDays=[{id:"1 "+t.language.Day,value:1},{id:"15 "+t.language.Days,value:15},{id:"30 "+t.language.Days,value:30},{id:"60 "+t.language.Days,value:60},{id:"90 "+t.language.Days,value:90}],t.changeLanguage(),t.warningMessage=t.warningMessage?"".concat(t.language["Sorry, you can only set time limits up to 5 per day"]):""}),this.changeLanguage(),this.getCaptivePortal()}},{key:"changeLanguage",value:function(){this.networkAccess=[{id:"Always",name:"Always On",label:this.language.Always_On},{id:"Everyday",name:"Everyday",label:this.language.Everyday},{id:"Custom",name:"Custom",label:this.language.Custom}],this.days=[{id:"mon",name:"Monday",label:this.language.Monday},{id:"tue",name:"Tuesday",label:this.language.Tuesday},{id:"wed",name:"Wednesday",label:this.language.Wednesday},{id:"thu",name:"Thursday",label:this.language.Thursday},{id:"fri",name:"Friday",label:this.language.Friday},{id:"sat",name:"Saturday",label:this.language.Saturday},{id:"sun",name:"Sunday",label:this.language.Sunday}]}},{key:"getCaptivePortal",value:function(){var t=this;this.loader=!0,this.service.getCaptivePortal(localStorage.getItem("ciquserid")).subscribe(function(e){t.loader=!1,t.portalDetail=e;var n={userId:localStorage.getItem("ciquserid"),portalId:t.portalDetail.portalId&&"null"!=t.portalDetail.portalId?t.portalDetail.portalId:"",ssid:t.portalDetail.ssid&&"null"!=t.portalDetail.ssid?t.portalDetail.ssid:"Customer Wi-fi",title:t.portalDetail.title&&"null"!=t.portalDetail.title?t.portalDetail.title:"Join Wi-Fi Network",smbWifiNetworkType:t.portalDetail.smbWifiNetworkType&&"null"!=t.portalDetail.smbWifiNetworkType?t.portalDetail.smbWifiNetworkType:3,termsUrl:t.portalDetail.termsUrl&&"null"!=t.portalDetail.termsUrl?t.portalDetail.termsUrl:"",buttonText:t.portalDetail.buttonText&&"null"!=t.portalDetail.buttonText?t.portalDetail.buttonText:"Connect",bgColor:t.portalDetail.bgColor&&"null"!=t.portalDetail.bgColor?t.portalDetail.bgColor:"#FAFAFA",fColor:t.portalDetail.fColor&&"null"!=t.portalDetail.fColor?t.portalDetail.fColor:"#111111",pbColor:t.portalDetail.pbColor&&"null"!=t.portalDetail.pbColor?t.portalDetail.pbColor:"#00A3FF",bfColor:t.portalDetail.bfColor&&t.portalDetail.bfColor?t.portalDetail.bfColor:"#111111",coverImage:t.portalDetail.coverImage&&"null"!=t.portalDetail.coverImage?t.portalDetail.coverImage:"",logoImage:t.portalDetail.logoImage&&"null"!=t.portalDetail.logoImage?t.portalDetail.logoImage:"",loginRetentionDays:t.portalDetail.loginRetentionDays&&"null"!=t.portalDetail.loginRetentionDays?t.portalDetail.loginRetentionDays:30,schedules:t.portalDetail.schedules&&"null"!=t.portalDetail.schedules?t.portalDetail.schedules:[]};t.portalDetail=n,t.previewData=JSON.parse(JSON.stringify(t.portalDetail)),t.customHours=t.scheduleDisplayStructure((null==e?void 0:e.schedules)||[]),t.addNetwork.networkAccess=0==t.customHours.length?"Always":1==t.customHours.length&&7==t.customHours[0].weekDays.length?"Everyday":"Custom","Everyday"==t.addNetwork.networkAccess&&(t.customHours[0].weekDays=t.weekDays.join(","));var i=function(e){t.customHours.forEach(function(n){n.weekDays.includes(e)&&t.count[e]<=5&&(t.count[e]+=1)})};for(var o in t.count)i(o)},function(e){t.loader=!1,t.warningMessage=t.sso.pageErrorHandle(e)})}},{key:"createCaptivePortal",value:function(){var t=this;this.portalDetail.coverImage instanceof Object&&Object.keys(this.portalDetail.coverImage).length&&Object.values(this.portalDetail.coverImage).join(""),this.portalDetail.logoImage instanceof Object&&Object.keys(this.portalDetail.logoImage).length&&Object.values(this.portalDetail.logoImage).join("");var e={userId:localStorage.getItem("ciquserid"),ssid:this.portalDetail.ssid||"Customer Wi-Fi",title:this.portalDetail.title||"Join Wi-Fi Network",smbWifiNetworkType:3,termsUrl:this.portalDetail.termsUrl||"",buttonText:this.portalDetail.buttonText||"Connect",bgColor:this.portalDetail.bgColor||"#FAFAFA",fColor:this.portalDetail.fColor||"#111111",pbColor:this.portalDetail.pbColor||"#00A3FF",bfColor:this.portalDetail.bfColor||"#111111",loginRetentionDays:this.portalDetail.loginRetentionDays||30,schedules:JSON.stringify(this.portalDetail.schedules||[])},n=new FormData;Object.keys(e).forEach(function(t){n.append(t,e[t])}),n.append("coverImage",this.imageBase64ToBinary("coverImage")),n.append("logoImage",this.imageBase64ToBinary("logoImage")),this.loader=!0,this.service.createCaptivePortal(n).subscribe(function(e){t.loader=!1,e.coverImage=e.coverImage?"".concat(e.coverImage,"?").concat((new Date).getTime()):"",e.logoImage=e.logoImage?"".concat(e.logoImage,"?").concat((new Date).getTime()):"",t.portalDetail=e,t.previewData=JSON.parse(JSON.stringify(t.portalDetail)),t.customHours=t.scheduleDisplayStructure(null==e?void 0:e.schedules)},function(e){t.loader=!1,t.warningMessage=t.sso.pageErrorHandle(e)})}},{key:"setCaptivePortal",value:function(){var t=this;if(this.sso.validateHexCode(this.portalDetail.bgColor)&&this.sso.validateHexCode(this.portalDetail.fColor)&&this.sso.validateHexCode(this.portalDetail.bfColor)&&this.sso.validateHexCode(this.portalDetail.pbColor)&&!((this.portalDetail.buttonText||"").length>90)&&!((this.portalDetail.title||"").length>64))if(this.portalDetail.portalId){this.portalDetail.coverImage instanceof Object&&Object.keys(this.portalDetail.coverImage).length&&Object.values(this.portalDetail.coverImage).join(""),this.portalDetail.logoImage instanceof Object&&Object.keys(this.portalDetail.logoImage).length&&Object.values(this.portalDetail.logoImage).join("");var e={userId:localStorage.getItem("ciquserid"),portalId:this.portalDetail.portalId,ssid:this.portalDetail.ssid||"Customer Wi-Fi",title:this.portalDetail.title||"Join Wi-Fi Network",smbWifiNetworkType:3,termsUrl:this.portalDetail.termsUrl||"",buttonText:this.portalDetail.buttonText||"Connect",bgColor:this.portalDetail.bgColor||"#FAFAFA",fColor:this.portalDetail.fColor||"#111111",pbColor:this.portalDetail.pbColor||"#00A3FF",bfColor:this.portalDetail.bfColor||"#111111",loginRetentionDays:this.portalDetail.loginRetentionDays||30,schedules:JSON.stringify(this.portalDetail.schedules||[])},n=new FormData;Object.keys(e).forEach(function(t){n.append(t,e[t])}),n.append("coverImage",this.imageBase64ToBinary("coverImage")),n.append("logoImage",this.imageBase64ToBinary("logoImage")),this.loader=!0,this.service.setCaptivePortal(n).subscribe(function(e){t.loader=!1,e.coverImage=e.coverImage?"".concat(e.coverImage,"?").concat((new Date).getTime()):"",e.logoImage=e.logoImage?"".concat(e.logoImage,"?").concat((new Date).getTime()):"",t.portalDetail=e,t.previewData=JSON.parse(JSON.stringify(t.portalDetail)),t.customHours=t.scheduleDisplayStructure(null==e?void 0:e.schedules)},function(e){t.loader=!1,t.warningMessage=t.sso.pageErrorHandle(e)})}else this.createCaptivePortal()}},{key:"validateTime",value:function(t){var e=this,n=t.getHours().toString()+t.getMinutes().toString();this.portalDetail.schedules.forEach(function(t){t.weekDays==e.addNetwork.day?t.timeRanges.forEach(function(t){e.addtimedisabled[e.addNetwork.networkAccess]=t.startTime==n}):e.addtimedisabled[e.addNetwork.networkAccess]=!1})}},{key:"setEndTime",value:function(t){var e=new Date(t);this.addNetwork.stopTime=new Date(e.setMinutes(e.getMinutes()+1)),this.validateDays()}},{key:"setEndTimeEveryday",value:function(t){var e=new Date(t);this.addNetwork.stopTime=new Date(e.setMinutes(e.getMinutes()+1))}},{key:"disablefield",value:function(){return"Everyday"==this.addNetwork.networkAccess&&this.customHours.length>0}},{key:"addNetworkAccess",value:function(){var t,e=this;if("Everyday"==this.addNetwork.networkAccess&&(this.addNetwork.day="Everyday"==this.addNetwork.networkAccess?["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]:[]),this.addNetwork.day.length){this.validateDays(),this.count={Mon:0,Tue:0,Wed:0,Thu:0,Fri:0,Sat:0,Sun:0};var n=function(n){null===(t=e.customHours)||void 0===t||t.forEach(function(t){t.weekDays.includes(n)&&e.count[n]<=5&&(e.count[n]+=1)})};for(var i in this.count)n(i);if(0!=this.addtimedisabled[this.addNetwork.networkAccess]||"Everyday"==this.addNetwork.networkAccess||(this.addNetwork.day.map(function(t){for(var n in t=t.charAt(0).toUpperCase()+t.substr(1),e.count)if(t.includes(n)&&(e.count[n]<=5&&(e.count[n]+=1),e.count[n]>5))return e.warningMessage="".concat(e.language["Sorry, you can only set time limits up to 5 per day"]),e.addtimedisabled[e.addNetwork.networkAccess]=!0,void(e.count[n]-=1)}),!this.addtimedisabled[this.addNetwork.networkAccess])){if("Everyday"==this.addNetwork.networkAccess&&(this.addtimedisabled[this.addNetwork.networkAccess]=!1),this.portalDetail.schedules=this.portalDetail.schedules||[],"Everyday"==this.addNetwork.networkAccess){var o=this.addNetwork.day.map(function(t){return e.scheduleFormat(t)});this.portalDetail.schedules=o,this.customHours=this.scheduleDisplayStructure(o)}else 0==this.customHours.length&&(this.portalDetail.schedules=[]),this.addNetwork.day.forEach(function(t){var n=e.addNetwork.startTime.getHours()<10?"0"+e.addNetwork.startTime.getHours().toString():e.addNetwork.startTime.getHours().toString(),i=e.addNetwork.stopTime.getHours()<10?"0"+e.addNetwork.stopTime.getHours().toString():e.addNetwork.stopTime.getHours().toString(),o=e.addNetwork.startTime?n+e.addNetwork.startTime.getMinutes().toString():"",r=e.addNetwork.stopTime?i+e.addNetwork.stopTime.getMinutes().toString():"",a=e.addNetwork.startTime.getMinutes(),l=e.addNetwork.stopTime.getMinutes();a<10&&(o=n+"0"+a.toString()),l<10&&(r=i+"0"+l.toString());var s=!1;e.portalDetail.schedules.forEach(function(n){var i;if(n.weekDays==t){s=!0;var a=!1;n.timeRanges.forEach(function(t){t.startTime==o&&t.stopTime==r&&(a=!0)}),a||n.timeRanges.push(null===(i=e.scheduleFormat(t))||void 0===i?void 0:i.timeRanges[0])}}),s||e.portalDetail.schedules.push(e.scheduleFormat(t))}),this.customHours=this.scheduleDisplayStructure(this.portalDetail.schedules);this.setCaptivePortal(),console.log("count",this.count)}}else this.matchedCriteria=!1}},{key:"scheduleDisplayStructure",value:function(t){var e=this,n=[],i=JSON.parse(JSON.stringify(t));i.forEach(function(t){t.timeRanges.forEach(function(t){var e=String(t.startTime)+String(t.stopTime);n.includes(e)||n.push(e)})});var o=[];return n.forEach(function(t){var n=[];i.forEach(function(e){e.timeRanges.forEach(function(i){t==String(i.startTime)+String(i.stopTime)&&n.push(e.weekDays)})}),o.push({startTime:t.substring(0,8==t.length?4:3),stopTime:8==t.length?t.substring(4,8):t.substring(3,7),weekDays:n.map(function(t){return t.charAt(0).toUpperCase()+t.substr(1)}).sort(function(t,n){return e.weekDaysFormat[t]-e.weekDaysFormat[n]})})}),o}},{key:"scheduleFormat",value:function(t){return{timeRanges:[{startTime:this.scheduleTimeFormat(this.addNetwork.startTime),stopTime:this.scheduleTimeFormat(this.addNetwork.stopTime)}],weekDays:t}}},{key:"validateDays",value:function(){var t=this;this.addtimedisabled[this.addNetwork.networkAccess]=!1;var e=this.addNetwork.startTime.getHours()<10?"0"+this.addNetwork.startTime.getHours().toString():this.addNetwork.startTime.getHours().toString(),n=this.addNetwork.stopTime.getHours()<10?"0"+this.addNetwork.stopTime.getHours().toString():this.addNetwork.stopTime.getHours().toString(),i=this.addNetwork.startTime?e+this.addNetwork.startTime.getMinutes().toString():"",o=this.addNetwork.stopTime?n+this.addNetwork.stopTime.getMinutes().toString():"",r=this.addNetwork.startTime.getMinutes(),a=this.addNetwork.stopTime.getMinutes();r<10&&(i=e+"0"+r.toString()),a<10&&(o=n+"0"+a.toString()),this.addNetwork.day.forEach(function(e){t.customHours.forEach(function(n){var r=n.weekDays;(r="string"==typeof r?r.split(","):r).forEach(function(r){if(e.charAt(0).toUpperCase()+e.substr(1)===r){var a=n.startTime,l=n.stopTime;t.addtimedisabled[t.addNetwork.networkAccess]=i>=a&&i<=l||o>=a&&o<=l||a>=i&&a<=o||l>=i&&l<=o}})})}),this.addNetwork.day.map(function(e){for(var n in e=e.charAt(0).toUpperCase()+e.substr(1),t.count)e.includes(n)&&t.count[n]>5&&(t.warningMessage="".concat(t.language["Sorry, you can only set time limits up to 5 per day"]),t.addtimedisabled[t.addNetwork.networkAccess]=!0)})}},{key:"scheduleTimeFormat",value:function(t){return t.toLocaleString("en-GB",{timeStyle:"short"}).replace(":","")}},{key:"parseTime",value:function(t){var e=t.substring(0,4==t.length?2:1),n=parseInt(e)>12?parseInt(e)-12:parseInt(e);return"".concat(n=n>9?n:"0"+n,":").concat(4==t.length?t.substring(2,4):t.substring(1,3)," ").concat(parseInt(e)<12?"AM":"PM")}},{key:"uploadImg",value:function(t,e){var n=this,i=t.target.files[0].name.split(".");if(t.target.files&&t.target.files[0]&&["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"].includes(i[i.length-1])){this.errorValidation[e]=!1;var o=new FileReader;o.onload=function(t){n.portalDetail[e]=t.target.result,n.setCaptivePortal()},o.readAsDataURL(t.target.files[0])}else this.errorValidation[e]=!0}},{key:"imageBase64ToBinary",value:function(t){var e="";if(document.querySelector("#".concat(t))){var n=document.querySelector("#".concat(t)).files;n.length&&$.each(n,function(t,n){e=n})}return e||this.portalDetail[t]}},{key:"previewModalOpen",value:function(t){this.modalService.open(t,{windowClass:"captive-large-modal"})}},{key:"colorPickerEvent",value:function(t){t||this.setCaptivePortal()}},{key:"networkChange",value:function(t){for(var e in this.addNetwork.day="Everyday"==this.addNetwork.networkAccess?["Mon","Tue","wed","thu","fri","sat","sun"]:[],this.customHours=[],this.matchedCriteria=!0,"Always"==this.addNetwork.networkAccess&&(this.portalDetail.schedules=[],this.setCaptivePortal()),this.addtimedisabled={},this.addNetwork.day.map(function(t){return t.charAt(0).toUpperCase()+t.substr(1)}),this.count)"Everyday"==this.addNetwork.networkAccess||"Custom"==this.addNetwork.networkAccess?this.count[e]>0&&(this.count[e]=0):"Always"==this.addNetwork.networkAccess&&this.count[e]>0&&(this.count[e]=0)}},{key:"formatDays",value:function(t){return t.split(",").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join(", ")}},{key:"deleteAccess",value:function(t){for(var e=[],n=this.portalDetail.schedules.length-1;n>=0;n--){for(var i=this.portalDetail.schedules[n],o=i.timeRanges.length-1;o>=0;o--)i.timeRanges[o].startTime==t.startTime&&i.timeRanges[o].stopTime==t.stopTime&&(i.timeRanges.splice(o,1),e.push(i.weekDays.charAt(0).toUpperCase()+i.weekDays.substr(1)));this.portalDetail.schedules[n]=i,i.timeRanges.length||this.portalDetail.schedules.splice(n,1)}for(var r in this.count)e.includes(r)&&(this.count[r]>0&&(this.count[r]-=1),this.count[r]<5&&(this.addtimedisabled[this.addNetwork.networkAccess]=!1));this.portalDetail.schedules.length<=0&&(this.addtimedisabled[this.addNetwork.networkAccess]=!1),this.customHours=this.scheduleDisplayStructure(this.portalDetail.schedules),this.validateDays(),this.setCaptivePortal()}},{key:"clearInput",value:function(t){this.portalDetail[t]=""}},{key:"showPreview",value:function(){localStorage.setItem("captivePreview",JSON.stringify(this.previewData)),window.open("/customer-portal/preview","_blank")}},{key:"validateUrl",value:function(t){this.loader=!0,/((h|H)ttp(s)?:\/\/)+(www\.)?(([^www\.][-a-zA-Z0-9@:%._\+~#=]{2,236})\.[a-z]{2,6})\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(t.target.value)||!t.target.value?(this.checkUrl=!0,this.loader=!1,this.portalDetail.termsUrl=t.target.value,this.setCaptivePortal()):(this.checkUrl=!1,this.loader=!1)}},{key:"checkUrlIsValid",value:function(t){this.checkUrl=!(!/((h|H)ttp(s)?:\/\/)+(www\.)?(([^www\.][-a-zA-Z0-9@:%._\+~#=]{2,236})\.[a-z]{2,6})\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(t.target.value)&&t.target.value)}},{key:"removeImg",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;e?(this.modalService.open(this.deleteImg,{size:"lg",windowClass:"deleteImg-info",centered:!0}),this.imgType=n):(this.portalDetail[n]="",document.querySelector("#".concat(n)).value="",this.service.deleteUploadedImg("coverImage"==n?"cover":"logo",localStorage.getItem("ciquserid")).subscribe(function(e){t.loader=!1,t.modalService.dismissAll(),t.getCaptivePortal()},function(e){t.loader=!1,t.modalService.dismissAll(),t.warningMessage=t.sso.pageErrorHandle(e)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.Y36(si.H),g.Y36(f.s),g.Y36(te.FF),g.Y36(z.H7),g.Y36(u.F0),g.Y36(h.t6))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-captive-portal"]],viewQuery:function(t,e){var n;(1&t&&g.Gf(di,7),2&t)&&(g.iGM(n=g.CRH())&&(e.deleteImg=n.first))},decls:34,vars:16,consts:[[1,"position-relative"],["class","loader load",4,"ngIf"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],[1,"preview-button"],["type","button","id","CP-Preview-Btn",1,"btn-default","btn-dft","pointer"],["href","javascript:void(0)","target","_blank",3,"click"],["src","../../../../assets/img/External Link.svg","alt",""],[1,"container"],[1,"row","my-4"],[1,"col-lg-2","col-md-3","col-sm-12","ccl-tabs","pl-0"],["id","netops-list-menu",1,"nav","flex-column","left-menu","tab-view-style"],[1,"nav-item"],["id","","href","javascript:void(0)",1,"list-group-item","list-group-item-action",3,"ngClass","click"],[1,"col-lg-10","col-md-9","col-sm-12",3,"ngClass"],["class","row",4,"ngIf"],["class","row mb-5",4,"ngIf"],["class","row ccl-form",4,"ngIf"],["class","mb-5",4,"ngIf"],["class",""],["previewModal",""],["class","col-md-12"],["deleteImg",""],[1,"loader","load"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"row"],[1,"col-md-6"],[1,"ccl-form","form-group"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","name","message","aria-describedby","emailHelp","trimSpace","",1,"form-control",3,"ngModel","formValue","blur","ngModelChange"],["class","error",4,"ngIf"],[1,"d-flex"],[1,"w-50","mr-2"],[1,"form-input-field"],[1,"input-field"],["id","logo-image-view-div",1,"logo-image-view"],["id","logo-image-view",1,"default-cover-image",3,"src"],["class","error","id","coverUploadError",4,"ngIf"],[1,"upload-btn-wrapper","mt-2","pointer"],["for","coverImage",1,"btn",3,"title"],["type","file","id","coverImage","accept",".jpeg, .JPEG, .PNG, .jpg, .png, .JPG, .img, .IMG, .bin, .BIN",3,"change"],["class","ml-2 mt-2 position-absolute",3,"click",4,"ngIf"],[1,"w-50"],[1,"guidelines"],[1,"text-capitalize"],["myForm","ngForm"],["for","exampleInputEmail11"],["type","text","id","exampleInputEmail11","name","termsService","aria-describedby","emailHelp","trimSpace","",1,"form-control",3,"value","formValue","keyup","blur"],["class","error","id","tosError",4,"ngIf"],["for","exampleInputEmail12"],["type","text","id","exampleInputEmail12","name","btnTxt","aria-describedby","emailHelp","trimSpace","",1,"form-control",3,"ngModel","formValue","ngModelChange","blur"],[1,"error"],["id","coverUploadError",1,"error"],[1,"ml-2","mt-2","position-absolute",3,"click"],["href","javascript:void(0)",1,"primary","link-pointer"],["id","tosError",1,"error"],[1,"row","mb-5"],[1,"branding-container"],[1,"branding-item"],[1,"form-input-field","mt-1"],["class","error","id","logoUploadError",4,"ngIf"],[1,"upload-btn-wrapper"],["for","logoImage",1,"btn"],["type","file","id","logoImage","accept",".jpeg, .JPEG, .PNG, .jpg, .png, .JPG, .img, .IMG, .bin, .BIN",3,"change"],["class","ml-3 position-absolute",3,"click",4,"ngIf"],[1,"form-group","color-picker-custom"],[1,"d-flex","w-100"],[1,"position-relative","ccl-form","min-w-135"],["type","text",1,"clearable-input",3,"ngModel","value","ngModelChange","blur"],["name","primaryColor","id","bgColor","autocomplete","off",1,"form-control","color-box",3,"colorPicker","ngModel","cpOutputFormat","cpPosition","colorPickerChange","ngModelChange","cpToggleChange"],["name","pbColor","id","pbColor","autocomplete","off",1,"form-control","color-box",3,"colorPicker","ngModel","cpOutputFormat","cpPosition","colorPickerChange","ngModelChange","cpToggleChange"],["name","fColor","id","fColor","autocomplete","off",1,"form-control","color-box",3,"colorPicker","ngModel","cpOutputFormat","cpPosition","colorPickerChange","ngModelChange","cpToggleChange"],[1,"form-group","color-picker-custom","mt-3"],["name","bfColor","id","bfColor","autocomplete","off",1,"form-control","color-box",3,"colorPicker","ngModel","cpOutputFormat","cpPosition","colorPickerChange","ngModelChange","cpToggleChange"],["id","logoUploadError",1,"error"],[1,"ml-3","position-absolute",3,"click"],[1,"row","ccl-form"],[1,"col-md-4"],[1,"mb-2"],["bindLabel","label","bindValue","id",3,"items","ngModel","searchable","ngModelChange","change"],["class","mb-2",4,"ngIf"],["class","captive-time mb-2",4,"ngIf"],["type","button","class","btn-default primary btn-sm-primary mt-2",3,"disabled","click",4,"ngIf"],[1,"col-md-1"],["class","col-md-6",4,"ngIf"],["bindLabel","label","bindValue","id",3,"items","ngModel","multiple","closeOnSelect","searchable","ngModelChange","change"],[1,"captive-time","mb-2"],["for",""],[1,"captive-time-item","position-relative"],["timeOnly","true","showTime","true",3,"ngModel","showIcon","hourFormat","disabled","ngModelChange","onSelect",4,"ngIf"],["timeOnly","true","showTime","true",3,"ngModel","showIcon","hourFormat","ngModelChange","onSelect",4,"ngIf"],["timeOnly","true","showTime","true",3,"ngModel","showIcon","hourFormat","disabled","ngModelChange","onSelect"],["timeOnly","true","showTime","true",3,"ngModel","showIcon","hourFormat","ngModelChange","onSelect"],["timeOnly","true","showTime","true",3,"ngModel","showIcon","minDate","hourFormat","disabled","ngModelChange","onSelect",4,"ngIf"],["timeOnly","true","showTime","true",3,"ngModel","showIcon","minDate","hourFormat","ngModelChange",4,"ngIf"],["timeOnly","true","showTime","true",3,"ngModel","showIcon","minDate","hourFormat","disabled","ngModelChange","onSelect"],["timeOnly","true","showTime","true",3,"ngModel","showIcon","minDate","hourFormat","ngModelChange"],["type","button",1,"btn-default","primary","btn-sm-primary","mt-2",3,"disabled","click"],[1,""],[1,"captive-hours-table"],[4,"ngFor","ngForOf"],["src","../../../../assets/img/net-delete.svg",1,"net-delete","pointer",3,"title","click"],[1,"mb-5"],[1,"p-0"],[1,"d-flex","mt-2"],[1,"pr-3","pb-0","pt-2"],[1,"w-100px"],["bindLabel","id","bindValue","value",3,"searchable","items","clearable","ngModel","ngModelChange","change"],[1,"cco-secondary-title","mb-3"],[1,"modal-header","justify-content-end"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"preview-content-warpper"],[1,"row","mb-2"],[1,"col-md-12"],[1,"cco-secondary-title-system","border-bottom"],[1,"preview-container"],[1,"preview-item"],[1,"preview-list-label"],[1,"preview-list-info"],[1,"preview-list-info","logo-image-view"],[1,"default-cover-image"],["alt","",3,"src"],["class","",4,"ngIf"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true",3,"click"],[1,"modal-body"],[1,"alert","modal-warning","alert-warning","alert-dismissible","fade","show"],[1,"modal-warning-info","d-flex","justify-content-between"],[1,"icon"],["src","../../../../assets/img/warning-icon-36px.svg","alt",""],[1,"Warning-content"],[1,"warn-confirm","pb-2"],[1,"content-title"],["type","button","id","removeImgConfirm",1,"btn-default","primary","px-3","mr-3","mt-5",3,"click"],["type","button","id","removeImgCancel",1,"btn-default","default","btn-dft","px-3","mr-3","mt-5",3,"click"]],template:function(t,e){1&t&&(g.TgZ(0,"section"),g.TgZ(1,"div",0),g.YNc(2,pi,5,1,"div",1),g.YNc(3,gi,6,1,"div",2),g.TgZ(4,"div",3),g.TgZ(5,"button",4),g.TgZ(6,"a",5),g.NdJ("click",function(){return e.showPreview()}),g._uU(7),g._UZ(8,"img",6),g.qZA(),g.qZA(),g.qZA(),g.TgZ(9,"div",7),g.TgZ(10,"div",8),g.TgZ(11,"div",9),g.TgZ(12,"ul",10),g.TgZ(13,"li",11),g.TgZ(14,"a",12),g.NdJ("click",function(){return e.tabSelected="content",e.errorValidation.logoImage?e.errorValidation.logoImage=!1:""}),g._uU(15),g.qZA(),g.qZA(),g.TgZ(16,"li",11),g.TgZ(17,"a",12),g.NdJ("click",function(){return e.tabSelected="branding",e.errorValidation.coverImage?e.errorValidation.coverImage=!1:""}),g._uU(18),g.qZA(),g.qZA(),g.TgZ(19,"li",11),g.TgZ(20,"a",12),g.NdJ("click",function(){return e.tabSelected="network",e.errorValidation={}}),g._uU(21),g.qZA(),g.qZA(),g.TgZ(22,"li",11),g.TgZ(23,"a",12),g.NdJ("click",function(){return e.tabSelected="Visitors",e.errorValidation={}}),g._uU(24),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(25,"div",13),g.YNc(26,yi,49,23,"div",14),g.YNc(27,wi,65,50,"div",15),g.YNc(28,Li,14,10,"div",16),g.YNc(29,Ri,8,6,"div",17),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(30,Ji,75,23,"ng-template",18,19,g.W1O),g.YNc(32,Qi,19,4,"ng-template",20,21,g.W1O)),2&t&&(g.xp6(2),g.Q6J("ngIf",e.loader),g.xp6(1),g.Q6J("ngIf",e.warningMessage),g.xp6(4),g.hij(" ",e.language.Preview," "),g.xp6(7),g.Q6J("ngClass","content"==e.tabSelected?"active":""),g.xp6(1),g.hij(" ",e.language.Content," "),g.xp6(2),g.Q6J("ngClass","branding"==e.tabSelected?"active":""),g.xp6(1),g.hij(" ",e.language.Bsp_Add_Micro__Branding," "),g.xp6(2),g.Q6J("ngClass","network"==e.tabSelected?"active":""),g.xp6(1),g.Oqu(e.language["Network Access"]),g.xp6(2),g.Q6J("ngClass","Visitors"==e.tabSelected?"active":""),g.xp6(1),g.hij("",e.language["Customer Portal Visitors"]," "),g.xp6(1),g.Q6J("ngClass","Visitors"==e.tabSelected?"mb-5":""),g.xp6(1),g.Q6J("ngIf","content"==e.tabSelected),g.xp6(1),g.Q6J("ngIf","branding"==e.tabSelected),g.xp6(1),g.Q6J("ngIf","network"==e.tabSelected),g.xp6(1),g.Q6J("ngIf","Visitors"==e.tabSelected))},directives:[l.O5,l.mk,G._Y,G.JL,G.F,G.Fj,ne.f,G.JJ,G.On,ci.Kk,W.w9,ui.f,l.sg],styles:['.wh-cursor[_ngcontent-%COMP%]{width:24px;cursor:pointer}.captive-portal-kpi[_ngcontent-%COMP%]{display:flex;width:100%;margin:26px 0}.captive-portal-kpi[_ngcontent-%COMP%]   .captive-portal-kpi-item[_ngcontent-%COMP%]{border-left:1px solid #cdcdcd;padding-left:22px;width:-moz-max-content;width:max-content;padding-right:15px}.captive-portal-kpi[_ngcontent-%COMP%]   .captive-portal-kpi-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1a1f22;font-weight:400;font-size:14px;line-height:16px}.captive-portal-kpi[_ngcontent-%COMP%]   .captive-portal-kpi-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:300;font-size:30px;line-height:32px;color:#0054b2!important;margin-bottom:0!important}.captive-portal-kpi[_ngcontent-%COMP%]   .captive-portal-kpi-item[_ngcontent-%COMP%]   .past-hours[_ngcontent-%COMP%]{color:#9e9e9e;font-size:12px;font-weight:400;line-height:12px;padding-top:5px}.logo-image-view[_ngcontent-%COMP%]{background:#EBEAEF;border-radius:6px;width:100%;min-height:100px;max-height:180px;display:inline-flex;align-items:center;justify-content:center;border:1px solid #dad9de;position:relative}.logo-image-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;min-height:100px;max-height:100px}.logo-image-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:is([src=" "]){display:none}.upload-btn-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}.btn[_ngcontent-%COMP%]{border:1px solid #CCCCCC;color:#1a1f22;background:#F8F8FA;padding:3px 20px;border-radius:8px;font-weight:400;font-size:14px;line-height:18px}.upload-btn-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;position:absolute;left:0;top:0;opacity:0;cursor:pointer;display:none}.captive-time[_ngcontent-%COMP%]{position:relative}.captive-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:11px;top:35px;width:20px}.captive-hours-table[_ngcontent-%COMP%]{width:100%;margin-top:16px}.captive-hours-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.captive-hours-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-bottom:1px solid #CCCCCC}.captive-hours-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:18px}.captive-hours-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){padding-left:16px}.captive-hours-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;font-size:15px;line-height:24px}.captive-hours-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1){padding-left:16px}.captive-hours-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#F8F8FA}.captive-time-item[_ngcontent-%COMP%]{width:100%}  .p-calendar{display:flex!important}.time-item[_ngcontent-%COMP%]{width:100%}.branding-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.branding-container[_ngcontent-%COMP%]   .branding-item[_ngcontent-%COMP%]{width:40%;margin:0 1%}.branding-container[_ngcontent-%COMP%]   .branding-item[_ngcontent-%COMP%] + .branding-item[_ngcontent-%COMP%]{width:27%;margin:0 1%}.preview-button[_ngcontent-%COMP%]{display:flex;margin:16px 0 0}.preview-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1a1f22}.preview-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.preview-button[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{padding:2px 10px!important}.cco-secondary-title-system[_ngcontent-%COMP%]{font-size:24px;line-height:30px;font-weight:300;padding-bottom:8px;margin-bottom:16px}.preview-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.preview-container[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]{width:23%;margin-bottom:2%;margin-right:2%}.preview-container[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-list-label[_ngcontent-%COMP%]{margin-bottom:14px}.preview-list-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:300;line-height:20px;color:#0054b2;margin-bottom:0%}  .captive-large-modal .modal-dialog{max-width:75%!important}  .deleteImg-info .modal-dialog{max-width:33%!important}  .deleteImg-info .modal-dialog .modal-content{background-color:#fff9f5;padding:34px}  .deleteImg-info .modal-dialog .modal-content .modal-warning-info{width:100%}  .deleteImg-info .modal-dialog .modal-content .modal-warning-info .icon{width:12%}  .deleteImg-info .modal-dialog .modal-content .modal-warning-info .Warning-content{width:88%}  .deleteImg-info .modal-dialog .modal-content .modal-warning-info .Warning-content .content-title{font-weight:400;font-size:24px;line-height:30px;color:#1a1f22;margin-bottom:8px}  .deleteImg-info .modal-dialog .modal-content .modal-warning-info .Warning-content p{font-weight:400;font-size:16px;line-height:20px;margin:0;color:#4c4c4c}.preview-content-warpper[_ngcontent-%COMP%]{padding:10px 24px}.highlightRed[_ngcontent-%COMP%]{color:#c70000!important}.btn-custom-close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px}.color-box[_ngcontent-%COMP%]{cursor:default!important;min-width:50px;max-width:77px;height:36px;border-radius:3px!important;font-size:0;box-shadow:none!important;margin-left:12px}.ccl-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;min-height:38px;max-height:42px;line-height:inherit;border-radius:26px;background:#f8f8fa;padding:0 15px;font-size:14px;font-weight:400;color:#646363;border:1px solid #f8f8fa!important}.ccl-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .ccl-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active{border:1px solid #0278ff!important}.img-remove[_ngcontent-%COMP%]{float:right}.img-remove[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;cursor:pointer;max-height:auto;margin:5px}.logo-img-remove[_ngcontent-%COMP%]{float:right}.logo-img-remove[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;cursor:pointer;max-height:auto;margin:5px}.guidelines[_ngcontent-%COMP%]{margin-left:15px;padding-top:6px}.guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:10px}.guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;list-style-type:disc;padding-left:0;color:#4c4c4c}.link-pointer[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:26px;max-width:580px!important}.modal-close-icon[_ngcontent-%COMP%]{width:30px;height:30px;position:relative;z-index:1;left:450px;top:-16px}.modal-header[_ngcontent-%COMP%]{height:20px}  .color-picker-custom .color-picker.open{margin-top:-45px;margin-left:84px}  .color-picker-custom .arrow.arrow-top-left{transform:rotate(90deg);margin-bottom:-23px;margin-right:20px}.net-delete[_ngcontent-%COMP%]{width:12px}  .captive-time-item .p-calendar-w-btn .p-datepicker-trigger .p-button-icon.pi.pi-calendar{background:url(clock.257649ad24994256bc09.svg)!important;background-repeat:no-repeat!important;background-size:20px!important;display:inline-block;width:20px;height:20px}  .captive-time-item .p-calendar-w-btn .p-datepicker-trigger .p-button-icon.pi.pi-calendar:before{display:none!important}.w-100px[_ngcontent-%COMP%]{width:100px}']}),t}(),data:{title:"calix support cloud"}},{path:"smartbiz",loadChildren:function(){return r.e(1959).then(r.bind(r,61959)).then(function(t){return t.SmartbizModule})}},{path:"",redirectTo:"protect-iq",pathMatch:"full"}]}],Yi=function(){var t=a(function t(){o(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[u.Bz.forChild(Bi)],u.Bz]}),t}(),zi=r(44466),Gi=function(){var t=a(function t(){o(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[c.T,l.ez,Yi,s.m,te.IJ,G.u5,G.UX,W.A0,ui._8,ci.e4,zi.m]]}),t}()}}])}();