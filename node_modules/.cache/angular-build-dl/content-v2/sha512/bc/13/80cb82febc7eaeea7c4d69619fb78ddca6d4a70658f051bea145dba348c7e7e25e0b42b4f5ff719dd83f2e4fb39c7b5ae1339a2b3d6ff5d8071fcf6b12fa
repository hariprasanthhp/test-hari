!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,i)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,r=void 0,"symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"))?r:String(r)),n)}var a,r}function a(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[6763],{35781:function(e,t,n){n.d(t,{A:function(){return M}});var r=n(54341),o=n(89097),s=n(17615),l=n(37651),c=n(92340),d=n(37716),u=n(7450),g=n(39895),p=n(39075),h=n(38583),f=n(3679),v=n(26329),m=n(77351),Z=n(74062),b=["myForm"];function T(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",32),d.TgZ(1,"span",33),d._UZ(2,"img",34),d.qZA(),d.TgZ(3,"button",35),d.NdJ("click",function(){return d.CHM(i),d.oxw().hideError()}),d._UZ(4,"span"),d.qZA(),d._UZ(5,"div",36),d.qZA()}if(2&e){var n=d.oxw();d.xp6(5),d.Q6J("innerHtml",n.errorMsg,d.oJD)}}function x(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",37),d.TgZ(1,"div",38),d.TgZ(2,"strong"),d._UZ(3,"div",39),d.qZA(),d.qZA(),d.TgZ(4,"div",38),d.TgZ(5,"button",40),d.NdJ("click",function(){return d.CHM(i),d.oxw().hideSuccess()}),d._UZ(6,"span"),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw();d.xp6(3),d.Q6J("innerHtml",n.successMsg,d.oJD)}}function A(e,t){if(1&e&&(d.TgZ(0,"div",41),d.TgZ(1,"div",42),d.TgZ(2,"div",43),d.TgZ(3,"span",44),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw();d.xp6(4),d.Oqu(i.language.Loading)}}function _(e,t){if(1&e&&(d.TgZ(0,"span",45),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language.Name_required_validation,"")}}function w(e,t){if(1&e&&(d.TgZ(0,"span",45),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language.Name_required_validation1,"")}}function S(e,t){if(1&e&&(d.TgZ(0,"span",45),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language.Name_required_validation2,"")}}function q(e,t){if(1&e&&(d.TgZ(0,"span",46),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language.File_Validation,"")}}function y(e,t){if(1&e&&(d.TgZ(0,"span",46),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language.File_Validation1,"")}}function O(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",47),d.NdJ("click",function(){return d.CHM(i),d.oxw().gotoExternalFileServer()}),d.TgZ(1,"button",48),d._uU(2),d.qZA(),d.qZA()}if(2&e){var n=d.oxw();d.xp6(2),d.Oqu(n.language.cancel)}}var D,C=function(e){return[e]},M=((D=function(){function e(t,n,a,r,o){i(this,e),this.translateService=t,this.router=n,this.titleService=a,this.ssoAuthService=r,this.externalFileService=o,this.disableSubmit=!1,this.externalFileServerObj=new s.h,this.showError=!1,this.showSuccess=!1,this.urlPattern=l.O,this.loading=!1,this.hasWriteAccess=!1,this.isPwdVisble=!0,this.orgId=this.ssoAuthService.getOrgId(),this.scopes=this.ssoAuthService.getScopes()}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t,e.successMsg=e.language["successfully updated"]}),this.router.url.includes("cco/operations/cco-subscriber-operations")?this.titleService.setTitle("".concat(this.language["External File Server"]," - ").concat(this.language.Configuration," - ").concat(this.language.Subscriber_Operations," - ").concat(this.language.Operations," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"])):this.router.url.includes("/support/netops-management")&&this.titleService.setTitle("".concat(this.language["External File Server"]," - ").concat(this.language.Configurations," - ").concat(this.language.NetOps," - ").concat(this.language.Support," - ").concat(this.language["Calix Cloud"])),this.router.url.includes("/cco/services/configuration")?c.N.VALIDATE_SCOPE?this.scopes&&this.scopes["cloud.rbac.coc.services.configuration.externalfileserver"].includes("write")&&(this.hasWriteAccess=!0):this.hasWriteAccess=!0:(c.N.VALIDATE_SCOPE?(this.scopes["cloud.rbac.csc.netops.config.ext_file_server"]=this.scopes["cloud.rbac.csc.netops.config.ext_file_server"]?this.scopes["cloud.rbac.csc.netops.config.ext_file_server"]:[],this.scopes&&this.scopes["cloud.rbac.csc.netops.config.ext_file_server"]&&-1!==this.scopes["cloud.rbac.csc.netops.config.ext_file_server"].indexOf("write")&&(this.hasWriteAccess=!0)):this.hasWriteAccess=!0,this.scopes["cloud.rbac.csc.netops.config.ext_file_server"]=this.scopes["cloud.rbac.csc.netops.config.ext_file_server"]?this.scopes["cloud.rbac.csc.netops.config.ext_file_server"]:[],this.scopes&&this.scopes["cloud.rbac.csc.netops.config.ext_file_server"]&&-1!==this.scopes["cloud.rbac.csc.netops.config.ext_file_server"].indexOf("write")&&(this.hasWriteAccess=!0)),this.fetchExternalFileServer()}},{key:"fetchExternalFileServer",value:function(){var e=this;this.loading=!0,this.externalFileService.getExternalFileServer(this.orgId).subscribe(function(t){e.loading=!1},function(t){e.loading=!1,e.errorMsg=t.error.error,e.showError=!0})}},{key:"formValidate",value:function(){this.disableSubmit="INVALID"==this.form.form.status}},{key:"onSubmit",value:function(){var e=this;"INVALID"==this.form.form.status?this.disableSubmit=!0:(this.disableSubmit=!1,this.loading=!0,this.externalFileService.postExternalFileServer(this.externalFileServerObj).subscribe(function(t){var i;e.loading=!1,e.showSuccess=!0,e.successMsg=e.language["successfully updated"],-1===(null===(i=window.location.href)||void 0===i?void 0:i.indexOf("/cco/services/configuration/external-file-server-form"))?e.ssoAuthService.redirectByUrl(["/support/netops-management/configuration/external-file-server-list","/cco/operations/cco-system-operations/external-file-server","","/cco/operations/cco-subscriber-operations/configurations/external-file-server-list"]):e.router.navigate(["./cco/services/configuration/external-file-server-list"])},function(t){e.loading=!1,e.errorMsg=t.error.error,e.showError=!0}))}},{key:"hideError",value:function(){this.showError=!1,this.errorMsg=""}},{key:"hideSuccess",value:function(){this.showSuccess=!1,this.successMsg=""}},{key:"gotoExternalFileServer",value:function(){var e;-1===(null===(e=window.location.href)||void 0===e?void 0:e.indexOf("/cco/services/configuration/external-file-server-form"))?this.ssoAuthService.redirectByUrl(["/support/netops-management/configuration/external-file-server-list","/cco/operations/cco-system-operations/external-file-server","","/cco/operations/cco-subscriber-operations/configurations/external-file-server-list"]):this.router.navigate(["./cco/services/configuration/external-file-server-list"])}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||D)(d.Y36(u.s),d.Y36(g.F0),d.Y36(p.Dx),d.Y36(o.t6),d.Y36(r.o))},D.\u0275cmp=d.Xpm({type:D,selectors:[["app-external-file-server-form"]],viewQuery:function(e,t){var i;1&e&&d.Gf(b,5),2&e&&d.iGM(i=d.CRH())&&(t.form=i.first)},features:[d._Bn([r.o,o.t6])],decls:51,vars:39,consts:[["class","w-100 alert alert alert-danger  fade show",4,"ngIf"],["class","w-100 alert alert alert-success  fade show",4,"ngIf"],["class","loader",4,"ngIf"],[1,"row"],[1,"col-md-12","mt-4"],["id","external-file-server-form","novalidate","",1,"form-group","ccl-form",3,"ngSubmit"],["myForm","ngForm"],[1,"form-group","row","ccl-form","required"],["for","name",1,"col-sm-3","col-form-label"],[1,"error"],[1,"col-sm-9",3,"ngClass"],["type","text","id","name","name","name","customMin","4","customMax","20","required","","aria-required","true","aria-describedby","name-error","aria-invalid","true","autocomplete","new-password","pattern","^[a-zA-Z0-9_\\s]+$","trimSpace","",1,"form-control",3,"ngModel","placeholder","formValue","ngModelChange","keyup"],["name","ngModel"],["class","pl-3","id","name-error",4,"ngIf"],[1,"form-group","row"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","id","Description","id","description","name","description","trimSpace","",1,"form-control",3,"ngModel","placeholder","formValue","ngModelChange"],["for","baseUrl",1,"col-sm-3","col-form-label"],["type","url","name","baseUrl","id","baseUrl","placeholder","URL","required","","aria-required","true","aria-describedby","baseUrl-error","aria-invalid","true","autocomplete","new-password","trimSpace","",1,"form-control",3,"pattern","ngModel","formValue","ngModelChange","keyup"],["baseUrl","ngModel"],["class","pl-3","id","baseUrl-error",4,"ngIf"],["for","userName",1,"col-sm-3","col-form-label"],["type","text","autocomplete","new-password","id","userName","name","userName","trimSpace","",1,"form-control",3,"ngModel","placeholder","formValue","ngModelChange"],[1,"col-sm-9","position-relative"],[1,"cursor-pointer",3,"ngClass","click"],["autocomplete","new-password","id","password","name","password",1,"form-control",3,"type","ngModel","placeholder","ngModelChange"],[1,"d-inline-flex","justify-content-start","align-item-center","col-md-12"],["role","toolbar","aria-label","Toolbar with button groups",1,"btn-toolbar"],["role","group","aria-label","First group",1,"btn-group","mr-2"],["type","submit","id","submit-btn",1,"btn-default","primary","px-3",3,"disabled"],["class","btn-group mr-2","role","group","aria-label","First group",3,"click",4,"ngIf"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button","id","hide-error-btn",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert","alert-success","fade","show"],[1,"d-inline"],[1,"pl-2","d-inline",3,"innerHtml"],["type","button","id","hide-success-btn",1,"close",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["id","name-error",1,"pl-3"],["id","baseUrl-error",1,"pl-3"],["role","group","aria-label","First group",1,"btn-group","mr-2",3,"click"],["type","submit","id","cancel-btn",1,"btn-default","transparant"]],template:function(e,t){if(1&e&&(d.YNc(0,T,6,1,"div",0),d.YNc(1,x,7,1,"div",1),d.YNc(2,A,5,1,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"form",5,6),d.NdJ("ngSubmit",function(){return t.onSubmit()}),d.TgZ(7,"div",7),d.TgZ(8,"label",8),d._uU(9),d.TgZ(10,"span",9),d._uU(11,"*"),d.qZA(),d.qZA(),d.TgZ(12,"div",10),d.TgZ(13,"input",11,12),d.NdJ("ngModelChange",function(e){return t.externalFileServerObj.name=e})("keyup",function(){return t.formValidate()}),d.qZA(),d.YNc(15,_,2,1,"span",13),d.YNc(16,w,2,1,"span",13),d.YNc(17,S,2,1,"span",13),d.qZA(),d.qZA(),d.TgZ(18,"div",14),d.TgZ(19,"label",15),d._uU(20),d.qZA(),d.TgZ(21,"div",16),d.TgZ(22,"input",17),d.NdJ("ngModelChange",function(e){return t.externalFileServerObj.description=e}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(23,"div",7),d.TgZ(24,"label",18),d._uU(25),d.TgZ(26,"span",9),d._uU(27,"*"),d.qZA(),d.qZA(),d.TgZ(28,"div",10),d.TgZ(29,"input",19,20),d.NdJ("ngModelChange",function(e){return t.externalFileServerObj.baseUrl=e})("keyup",function(){return t.formValidate()}),d.qZA(),d.YNc(31,q,2,1,"span",21),d.YNc(32,y,2,1,"span",21),d.qZA(),d.qZA(),d.TgZ(33,"div",14),d.TgZ(34,"label",22),d._uU(35),d.qZA(),d.TgZ(36,"div",16),d.TgZ(37,"input",23),d.NdJ("ngModelChange",function(e){return t.externalFileServerObj.username=e}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(38,"div",14),d.TgZ(39,"label",15),d._uU(40),d.qZA(),d.TgZ(41,"div",24),d.TgZ(42,"span",25),d.NdJ("click",function(){return t.isPwdVisble=!t.isPwdVisble}),d.qZA(),d.TgZ(43,"input",26),d.NdJ("ngModelChange",function(e){return t.externalFileServerObj.password=e}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(44,"div",14),d.TgZ(45,"div",27),d.TgZ(46,"div",28),d.TgZ(47,"div",29),d.TgZ(48,"button",30),d._uU(49),d.qZA(),d.qZA(),d.YNc(50,O,3,1,"div",31),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.MAs(6),n=d.MAs(14),a=d.MAs(30);d.Q6J("ngIf",t.showError),d.xp6(1),d.Q6J("ngIf",t.showSuccess),d.xp6(1),d.Q6J("ngIf",t.loading),d.xp6(7),d.hij("",t.language.Name," "),d.xp6(3),d.Q6J("ngClass",d.VKq(35,C,(null!=n.errors&&n.errors.required||null!=n.errors&&n.errors.pattern||null!=n.errors&&n.errors.customMin||null!=n.errors&&n.errors.customMax)&&(i.submitted||n.touched)?"errorMessage":"")),d.xp6(1),d.s9C("placeholder",t.language.Name),d.Q6J("ngModel",t.externalFileServerObj.name)("formValue",t.externalFileServerObj),d.xp6(2),d.Q6J("ngIf",(n.touched||i.submitted)&&(null==n.errors?null:n.errors.required)),d.xp6(1),d.Q6J("ngIf",(n.touched||i.submitted)&&(null==n.errors?null:n.errors.pattern)),d.xp6(1),d.Q6J("ngIf",(n.touched||i.submitted)&&((null==n.errors?null:n.errors.customMin)||(null==n.errors?null:n.errors.customMax))),d.xp6(3),d.AsE("",t.language.description," ",t.language.optional,""),d.xp6(2),d.s9C("placeholder",t.language.description),d.Q6J("ngModel",t.externalFileServerObj.description)("formValue",t.externalFileServerObj),d.xp6(3),d.hij("",t.language.URL," "),d.xp6(3),d.Q6J("ngClass",d.VKq(37,C,(null!=a.errors&&a.errors.required||null!=a.errors&&a.errors.pattern)&&(i.submitted||a.touched)?"errorMessage":"")),d.xp6(1),d.Q6J("pattern",t.urlPattern)("ngModel",t.externalFileServerObj.baseUrl)("formValue",t.externalFileServerObj),d.xp6(2),d.Q6J("ngIf",(a.touched||i.submitted)&&(null==a.errors?null:a.errors.required)),d.xp6(1),d.Q6J("ngIf",(a.touched||i.submitted)&&(null==a.errors?null:a.errors.pattern)),d.xp6(3),d.Oqu(t.language.User_Name),d.xp6(2),d.s9C("placeholder",t.language.Http_Auth_Placeholder),d.Q6J("ngModel",t.externalFileServerObj.username)("formValue",t.externalFileServerObj),d.xp6(3),d.Oqu(t.language.Password),d.xp6(2),d.Q6J("ngClass",t.isPwdVisble?"password_hide":"password_view"),d.xp6(1),d.s9C("placeholder",t.language["Please enter the Password"]),d.Q6J("type",t.isPwdVisble?"password":"text")("ngModel",t.externalFileServerObj.password),d.xp6(5),d.Q6J("disabled",t.disableSubmit),d.xp6(1),d.Oqu(t.language.submit),d.xp6(1),d.Q6J("ngIf",t.hasWriteAccess)}},directives:[h.O5,f._Y,f.JL,f.F,h.mk,f.Fj,v.a,m.Z,f.Q7,f.c5,Z.f,f.JJ,f.On],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border-radius:20px;background:#F8F8FA}.br-20[_ngcontent-%COMP%]{border-radius:20px}.errorMsg[_ngcontent-%COMP%]{color:#c70000}.password_view[_ngcontent-%COMP%], .password_hide[_ngcontent-%COMP%]{right:30px;top:14px}"]}),D)},16624:function(e,t,n){n.d(t,{X:function(){return U}});var r=n(17615),o=n(79765),s=n(92340),l=n(37716),c=n(7450),d=n(89097),u=n(12664),g=n(54341),p=n(39075),h=n(49342),f=n(39895),v=n(38583),m=n(23771),Z=["deleteExternalFileServerModal"];function b(e,t){if(1&e&&(l.TgZ(0,"div",2),l._uU(1),l.qZA()),2&e){var i=l.oxw();l.xp6(1),l.hij(" ",i.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function T(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){return l.CHM(i),l.oxw(2).gotoExternalFileServer()}),l._uU(1),l.qZA()}if(2&e){var n=l.oxw(2);l.xp6(1),l.hij(" ",n.language.New_Ext_File,"")}}function x(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",15),l.TgZ(1,"span",16),l._UZ(2,"img",17),l.qZA(),l.TgZ(3,"button",18),l.NdJ("click",function(){return l.CHM(i),l.oxw(2).hideError()}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",19),l.qZA()}if(2&e){var n=l.oxw(2);l.xp6(5),l.Q6J("innerHtml",n.language[n.errorMsg]||n.errorMsg,l.oJD)}}function A(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",20),l.TgZ(1,"div",21),l.TgZ(2,"strong"),l._UZ(3,"div",22),l.qZA(),l.qZA(),l.TgZ(4,"div",21),l.TgZ(5,"button",23),l.NdJ("click",function(){return l.CHM(i),l.oxw(2).hideSuccess()}),l._UZ(6,"span"),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.oxw(2);l.xp6(3),l.Q6J("innerHtml",n.language[n.successMsg]||n.successMsg,l.oJD)}}function _(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",24),l.TgZ(1,"div",25),l.TgZ(2,"span",16),l._UZ(3,"img",26),l.qZA(),l.qZA(),l.TgZ(4,"div",25),l._uU(5),l.TgZ(6,"b"),l._uU(7),l.qZA(),l.qZA(),l.TgZ(8,"div",27),l.TgZ(9,"button",28),l.NdJ("click",function(){return l.CHM(i),l.oxw(2).deleteExternalFileServer()}),l._uU(10),l.qZA(),l.TgZ(11,"button",29),l.NdJ("click",function(){return l.CHM(i),l.oxw(2).closeModal()}),l._uU(12),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.oxw(2);l.xp6(5),l.hij(" ",n.language["Are you sure you want to delete"],"\xa0"),l.xp6(2),l.Oqu(n.modalInfo),l.xp6(3),l.hij(" ",n.language.Confirm," "),l.xp6(2),l.hij(" ",n.language.Cancel," ")}}function w(e,t){if(1&e&&(l.TgZ(0,"div",30),l.TgZ(1,"div",31),l.TgZ(2,"div",32),l.TgZ(3,"span",33),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var i=l.oxw(2);l.xp6(4),l.Oqu(i.language.Loading)}}function S(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"td"),l.TgZ(1,"span",40),l.NdJ("click",function(e){return l.CHM(i),l.oxw(4).deleteConfigFileModal(),e.stopPropagation()}),l.qZA(),l.qZA()}if(2&e){var n=l.oxw(4);l.xp6(1),l.s9C("title",n.language.delete)}}function q(e,t){1&e&&l._UZ(0,"td")}function y(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"tr",37),l.NdJ("click",function(){return l.CHM(i),l.oxw(3).ssoAuthService.redirectByUrl(["/support/netops-management/configuration/external-file-server-form","/cco/operations/cco-system-operations/external-file-server/external-file-server-form","","/cco/services/configuration/external-file-server-form"])}),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.YNc(9,S,2,1,"td",38),l.YNc(10,q,1,0,"ng-template",null,39,l.W1O),l.qZA()}if(2&e){var n=l.MAs(11),a=l.oxw(3);l.xp6(2),l.Oqu(a.externalFileServerObj.name),l.xp6(2),l.Oqu(a.externalFileServerObj.description),l.xp6(2),l.Oqu(a.externalFileServerObj.baseUrl),l.xp6(2),l.Oqu(a.externalFileServerObj.username),l.xp6(1),l.Q6J("ngIf",a.hasWriteAccess)("ngIfElse",n)}}function O(e,t){if(1&e&&(l.TgZ(0,"tbody"),l.TgZ(1,"tr"),l.TgZ(2,"td",41),l._uU(3),l.qZA(),l.qZA(),l.qZA()),2&e){var i=l.oxw(3);l.xp6(3),l.Oqu(i.language["No data available in table"])}}function D(e,t){if(1&e&&(l.TgZ(0,"table",34),l.TgZ(1,"thead"),l.TgZ(2,"tr"),l.TgZ(3,"th"),l._uU(4),l.qZA(),l.TgZ(5,"th"),l._uU(6),l.qZA(),l.TgZ(7,"th"),l._uU(8),l.qZA(),l.TgZ(9,"th"),l._uU(10),l.qZA(),l._UZ(11,"th"),l.qZA(),l.qZA(),l.TgZ(12,"tbody"),l.YNc(13,y,12,6,"tr",35),l.qZA(),l.YNc(14,O,4,1,"tbody",36),l.qZA()),2&e){var i=l.oxw(2);l.Q6J("dtOptions",i.tableOptions),l.xp6(4),l.Oqu(i.language.Name),l.xp6(2),l.Oqu(i.language.description),l.xp6(2),l.Oqu(i.language.URL),l.xp6(2),l.Oqu(i.language.User_Name),l.xp6(3),l.Q6J("ngIf",i.externalFileServerObj.name),l.xp6(1),l.Q6J("ngIf",!i.externalFileServerObj.name)}}function C(e,t){if(1&e&&(l.TgZ(0,"div",3),l.TgZ(1,"div",4),l._uU(2),l.qZA(),l.TgZ(3,"div",5),l.TgZ(4,"div",6),l.YNc(5,T,2,1,"button",7),l.qZA(),l.qZA(),l.TgZ(6,"div",8),l.YNc(7,x,6,1,"div",9),l.YNc(8,A,7,1,"div",10),l.YNc(9,_,13,4,"div",11),l.YNc(10,w,5,1,"div",12),l.YNc(11,D,15,7,"table",13),l.qZA(),l.qZA()),2&e){var i=l.oxw();l.xp6(2),l.hij(" ",i.language.External_File_Server,""),l.xp6(3),l.Q6J("ngIf",i.showExternalServerForm&&i.addExternalServerForm&&i.hasWriteAccess),l.xp6(2),l.Q6J("ngIf",i.showError),l.xp6(1),l.Q6J("ngIf",i.showSuccess),l.xp6(1),l.Q6J("ngIf",i.deleteData),l.xp6(1),l.Q6J("ngIf",i.loading),l.xp6(1),l.Q6J("ngIf",i.dtRendered)}}var M,U=((M=function(){function e(t,n,a,s,l,c,d,u){i(this,e),this.translateService=t,this.ssoAuthService=n,this.cdr=a,this.dialogService=s,this.externalFileServerService=l,this.titleService=c,this.commonOrgService=d,this.router=u,this.externalFileServerObj=new r.h,this.showError=!1,this.showSuccess=!1,this.tableOptions={pagingType:"full_numbers",pageLength:10,processing:!1,ordering:!1,dom:"t"},this.loading=!0,this.addExternalServerForm=!1,this.dtTrigger=new o.xQ,this.dtRendered=!0,this.hasWriteAccess=!1,this.showExternalServerForm=!0,this.hasScopeAccess=!1,this.scopes=this.ssoAuthService.getScopes()}return a(e,[{key:"setTitle",value:function(e){this.router.url.includes("cco/services/configuration/external-file-server-list")?this.titleService.setTitle("".concat(this.language["External File Server"]," - ").concat(this.language.Configuration," - ").concat(this.language.Services," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"])):this.router.url.includes("/support/netops-management")&&this.titleService.setTitle("".concat(this.language["External File Server"]," - ").concat(this.language.Configurations," - ").concat(this.language.NetOps," - ").concat(this.language.Support," - ").concat(this.language["Calix Cloud"]))}},{key:"ngOnInit",value:function(){var e,t,i=this;if(this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){i.language=e,i.successMsg="successfully Deleted!!",i.setTitle(i.router.url)}),this.setTitle(this.router.url),this.orgId=this.ssoAuthService.getOrgId(),this.router.url.includes("cco/services")){var n=this.ssoAuthService.getEntitlements();this.router.url.includes("cco/services")&&n[210]&&!n[102]&&(this.showExternalServerForm=!1),s.N.VALIDATE_SCOPE?((null===(e=this.scopes["cloud.rbac.coc.services.configuration.externalfileserver"])||void 0===e?void 0:e.length)&&(this.hasScopeAccess=!0),this.scopes&&(null===(t=this.scopes["cloud.rbac.coc.services.configuration.externalfileserver"])||void 0===t?void 0:t.includes("write"))&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0)}else s.N.VALIDATE_SCOPE?(this.scopes["cloud.rbac.csc.netops.config.ext_file_server"]=this.scopes["cloud.rbac.csc.netops.config.ext_file_server"]?this.scopes["cloud.rbac.csc.netops.config.ext_file_server"]:[],this.scopes["cloud.rbac.csc.netops.config.ext_file_server"].length&&(this.hasScopeAccess=!0),this.scopes&&this.scopes["cloud.rbac.csc.netops.config.ext_file_server"]&&-1!==this.scopes["cloud.rbac.csc.netops.config.ext_file_server"].indexOf("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0);this.hasScopeAccess?this.fetchExternalFileServerList():this.ssoAuthService.setPageAccess(!1)}},{key:"fetchExternalFileServerList",value:function(){var e=this;this.loading=!0,this.externalFileServerService.getExternalFileServer(this.orgId).subscribe(function(t){e.externalFileServerObj=t,e.externalFileServerObj.name?e.addExternalServerForm=!1:(e.dtRendered=!1,e.addExternalServerForm=!0,e.tableOptions={processing:!1,ordering:!1,dom:"t"},e.cdr.detectChanges(),e.dtRendered=!0,e.cdr.detectChanges()),e.dtTrigger.next(),e.loading=!1},function(t){e.loading=!1,e.pageErrorHandle(t)})}},{key:"pageErrorHandle",value:function(e){this.errorMsg=401==e.status?this.language["Access Denied"]:this.ssoAuthService.pageErrorHandle(e),503===e.status&&(this.errorMsg="Service Temporarily Unavailable"),this.showError=!0}},{key:"deleteExternalFileServer",value:function(){var e=this;this.closeModal(),this.loading=!0,this.externalFileServerService.deleteExternalFileServer(this.orgId).subscribe(function(t){e.loading=!1,e.deleteData="",e.showSuccess=!1,e.successMsg=e.language["successfully Deleted!!"],e.fetchExternalFileServerList()},function(t){e.loading=!1,e.deleteData="",e.errorMsg=t.error.error,e.showError=!0})}},{key:"deleteConfigFileModal",value:function(){this.deleteData=this.orgId,this.modalTitle="",this.modalInfo="the selected external file server?"}},{key:"closeModal",value:function(){this.deleteData="",this.modalRef&&this.modalRef.close()}},{key:"hideError",value:function(){this.showError=!1,this.errorMsg=""}},{key:"hideSuccess",value:function(){this.showSuccess=!1,this.successMsg=""}},{key:"gotoExternalFileServer",value:function(){var e;-1===(null===(e=window.location.href)||void 0===e?void 0:e.indexOf("/cco/services/configuration/external-file-server-list"))?this.ssoAuthService.redirectByUrl(["/support/netops-management/configuration/external-file-server-form","/cco/operations/cco-system-operations/external-file-server/external-file-server-form","","/cco/services/configuration/external-file-server-form"]):this.router.navigate(["./cco/services/configuration/external-file-server-form"])}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe(),this.dtTrigger.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||M)(l.Y36(c.s),l.Y36(d.t6),l.Y36(l.sBO),l.Y36(u.FF),l.Y36(g.o),l.Y36(p.Dx),l.Y36(h.v),l.Y36(f.F0))},M.\u0275cmp=l.Xpm({type:M,selectors:[["app-external-file-server-list"]],viewQuery:function(e,t){var i;1&e&&l.Gf(Z,7),2&e&&l.iGM(i=l.CRH())&&(t.deleteExternalFileServerModal=i.first)},decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["id","ext-file-server","class","tab-pane position-relative",4,"ngIf"],["role","alert",1,"alert","alert-warning"],["id","ext-file-server",1,"tab-pane","position-relative"],[1,"d-block","my-3","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],[1,"row","my-3"],[1,"col-md-6"],["type","button","id","New_Ext_File","class","btn-default primary px-3 mr-3 float-left","id","new-external-file-server-btn",3,"click",4,"ngIf"],[1,"pb-2"],["class","w-100 alert alert alert-danger  fade show",4,"ngIf"],["class","w-100 alert alert alert-success  fade show",4,"ngIf"],["class","py-3 warning-msg ",4,"ngIf"],["class","loader",4,"ngIf"],["datatable","","id","external-file-server-table","class","row-border hover table-alter",3,"dtOptions",4,"ngIf"],["type","button","id","New_Ext_File","id","new-external-file-server-btn",1,"btn-default","primary","px-3","mr-3","float-left",3,"click"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert","alert-success","fade","show"],[1,"d-inline"],[1,"pl-2","d-inline",3,"innerHtml"],["type","button","id","closebtn",1,"close",3,"click"],[1,"py-3","warning-msg"],[1,"d-inline-flex"],["src","./assets/img/warning-icon.svg"],[1,"float-right","text-right"],["id","confirmPFBtn",1,"btn-default","primary","mr-2",3,"click"],["id","cancelbtn",1,"btn-default","primary",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["datatable","","id","external-file-server-table",1,"row-border","hover","table-alter",3,"dtOptions"],[3,"click",4,"ngIf"],[4,"ngIf"],[3,"click"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"px-2","primary","cursor-pointer","fa","fa-trash-o",3,"title","click"],["colspan","5",1,"no-data-available"]],template:function(e,t){1&e&&(l.YNc(0,b,2,1,"div",0),l.YNc(1,C,12,7,"div",1)),2&e&&(l.Q6J("ngIf",!t.hasScopeAccess),l.xp6(1),l.Q6J("ngIf",t.hasScopeAccess))},directives:[v.O5,m.G],styles:["#ext-file-server[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}[_nghost-%COMP%]     .dataTables_empty{display:none}.no-data-available[_ngcontent-%COMP%]{text-align:center}"]}),M)},93385:function(e,t,n){n.d(t,{u:function(){return S}});var r,o=a(function e(t,n){i(this,e),this.selfHeal=t,this.enableTime=n}),s=n(92340),l=n(37716),c=n(7450),d=n(89097),u=n(40205),g=n(76149),p=n(5304),h=n(91841),f=((r=function(){function e(t){i(this,e),this.http=t}return a(e,[{key:"getSelfHeal",value:function(e){return this.http.get(g.nJ+"/"+e).pipe((0,p.K)(this.handleError))}},{key:"putSelfHeal",value:function(e,t){return this.http.put(g.bX+"/"+t,e).pipe((0,p.K)(this.handleError))}},{key:"handleError",value:function(e){return(0,u._)(e)}}]),e}()).\u0275fac=function(e){return new(e||r)(l.LFG(h.eN))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r),v=n(39075),m=n(39895),Z=n(38583),b=n(3679);function T(e,t){if(1&e&&(l.TgZ(0,"div",3),l._uU(1),l.qZA()),2&e){var i=l.oxw();l.xp6(1),l.hij(" ",i.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function x(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",19),l.TgZ(1,"span",20),l._UZ(2,"img",21),l.qZA(),l.TgZ(3,"button",22),l.NdJ("click",function(){return l.CHM(i),l.oxw(2).hideError()}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",23),l.qZA()}if(2&e){var n=l.oxw(2);l.xp6(5),l.Q6J("innerHtml",n.errorMsg,l.oJD)}}function A(e,t){if(1&e&&(l.TgZ(0,"div",24),l.TgZ(1,"div",25),l.TgZ(2,"div",26),l.TgZ(3,"span",27),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var i=l.oxw(2);l.xp6(4),l.Oqu(i.language.Loading)}}var _=function(e){return{"switcher-disabled":e}};function w(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",4),l.YNc(1,x,6,1,"div",5),l.YNc(2,A,5,1,"div",6),l.TgZ(3,"div",7),l._uU(4,"Self Heal"),l.qZA(),l.TgZ(5,"form",8),l.TgZ(6,"div",9),l.TgZ(7,"div",10),l.TgZ(8,"div",11),l.TgZ(9,"label",12),l.TgZ(10,"input",13),l.NdJ("change",function(){l.CHM(i);var e=l.oxw();return e.selfHealObj.selfHeal=!e.selfHealObj.selfHeal})("change",function(){return l.CHM(i),l.oxw().submitSelfHeal()}),l.qZA(),l.TgZ(11,"span",14),l._UZ(12,"small"),l.qZA(),l.qZA(),l.TgZ(13,"span",15),l._uU(14),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(15,"div",16),l.TgZ(16,"p",17),l._uU(17),l.TgZ(18,"b",18),l._uU(19),l.qZA(),l._uU(20),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(1),l.Q6J("ngIf",n.showError),l.xp6(1),l.Q6J("ngIf",n.loading),l.xp6(8),l.Q6J("ngClass",l.VKq(10,_,n.disableSelfHeal))("checked",n.selfHealObj.selfHeal)("disabled",!n.hasWriteAccess||n.disableSelfHeal),l.xp6(1),l.Q6J("ngClass",n.hasWriteAccess?"":"opacity-50"),l.xp6(3),l.hij("",n.selfHealObj.selfHeal?n.language.Enabled:n.language.Disabled," "),l.xp6(3),l.hij(" ",n.language["Self Healing is available for the"]," "),l.xp6(2),l.Oqu(n.language["Self Healing bold text"]),l.xp6(1),l.hij(" ",n.language["Self healing note content"]," ")}}var S=function(){var e=function(){function e(t,n,a,r,s){i(this,e),this.translateService=t,this.ssoAuthService=n,this.selfHealService=a,this.titleService=r,this.router=s,this.selfHealObj=new o,this.showError=!1,this.showSuccess=!1,this.loading=!1,this.hasWriteAccess=!1,this.disableSelfHeal=!1,this.hasScopeAccess=!1,this.orgId=this.ssoAuthService.getOrgId(),this.scopes=this.ssoAuthService.getScopes()}return a(e,[{key:"setTitle",value:function(e){this.router.url.includes("cco/operations/cco-subscriber-operations")?this.titleService.setTitle("".concat(this.language["Self Heal"]," - ").concat(this.language.Configurations," - ").concat(this.language.Subscriber_Operations," - ").concat(this.language.Operations," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"])):this.router.url.includes("/support/netops-management")&&this.titleService.setTitle("".concat(this.language["Self Heal"]," - ").concat(this.language.Configurations," - ").concat(this.language.NetOps," - ").concat(this.language.Support," - ").concat(this.language["Calix Cloud"]))}},{key:"ngOnInit",value:function(){var e=this,t=this.ssoAuthService.getEntitlements();this.router.url.includes("cco/operations")&&t[210]&&!t[102]&&(this.disableSelfHeal=!0),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t,e.successMsg=e.language["successfully updated"],e.setTitle(e.router.url)}),this.setTitle(this.router.url),this.router.url.includes("cco/operations/cco-subscriber-operations")?s.N.VALIDATE_SCOPE?(this.scopes["cloud.rbac.coc.operations.subscriber.configurations"]=this.scopes["cloud.rbac.coc.operations.subscriber.configurations"]?this.scopes["cloud.rbac.coc.operations.subscriber.configurations"]:[],this.scopes["cloud.rbac.coc.operations.subscriber.configurations"].length&&(this.hasScopeAccess=!0),this.scopes&&this.scopes["cloud.rbac.coc.operations.subscriber.configurations"].includes("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):s.N.VALIDATE_SCOPE?(this.scopes["cloud.rbac.csc.netops.config.self_heal"]=this.scopes["cloud.rbac.csc.netops.config.self_heal"]?this.scopes["cloud.rbac.csc.netops.config.self_heal"]:[],this.scopes["cloud.rbac.csc.netops.config.self_heal"].length&&(this.hasScopeAccess=!0),this.scopes&&this.scopes["cloud.rbac.csc.netops.config.self_heal"]&&-1!==this.scopes["cloud.rbac.csc.netops.config.self_heal"].indexOf("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0),this.hasScopeAccess?this.fetchSelfHeal():this.ssoAuthService.setPageAccess(!1)}},{key:"fetchSelfHeal",value:function(){var e=this;this.loading=!0,this.selfHealService.getSelfHeal(this.orgId).subscribe(function(t){e.selfHealObj=t,e.loading=!1},function(t){e.loading=!1,e.errorMsg=t.statusText,e.showError=!0})}},{key:"submitSelfHeal",value:function(){var e=this;if(this.selfHealObj.enableTime){var t=(new Date(this.selfHealObj.enableTime).getTime()/1e3).toFixed(0);this.selfHealObj.enableTime=t.toString()}else{var i=((new Date).getTime()/1e3).toFixed(0);this.selfHealObj.enableTime=i.toString()}this.loading=!0,this.selfHealService.putSelfHeal(this.selfHealObj,this.orgId).subscribe(function(t){e.loading=!1,e.showSuccess=!0,e.successMsg=e.language["successfully updated"],e.fetchSelfHeal()},function(t){e.loading=!1,e.errorMsg=t.statusText,e.showError=!0})}},{key:"onCancelSelfHeal",value:function(){this.fetchSelfHeal()}},{key:"hideError",value:function(){this.showError=!1,this.errorMsg=""}},{key:"hideSuccess",value:function(){this.showSuccess=!1,this.successMsg=""}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(c.s),l.Y36(d.t6),l.Y36(f),l.Y36(v.Dx),l.Y36(m.F0))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-self-heal"]],decls:3,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["id","self-heal",1,"tab-pane","position-relative"],["class","pb-2",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"pb-2"],["class","w-100 alert alert alert-danger  fade show",4,"ngIf"],["class","loader",4,"ngIf"],[1,"d-block","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],["id","self-heal-form"],[1,"row","p-0","my-3"],[1,"float-left","px-3"],[1,"checkbox","switcher"],["for","selfHealCheckbox"],["type","checkbox","id","selfHealCheckbox",3,"ngClass","checked","disabled","change"],[3,"ngClass"],[1,"mx-2"],[1,"text-md-left","mt-2"],[1,"self-heal-note-content"],[1,"bold-text"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button","id","hide-error-btn",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){1&e&&(l.YNc(0,T,2,1,"div",0),l.TgZ(1,"div",1),l.YNc(2,w,21,12,"div",2),l.qZA()),2&e&&(l.Q6J("ngIf",!t.hasScopeAccess),l.xp6(2),l.Q6J("ngIf",t.hasScopeAccess))},directives:[Z.O5,b._Y,b.JL,b.F,Z.mk],styles:['div.checkbox.switcher[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]{float:right}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0;cursor:pointer}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{vertical-align:middle}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:relative;display:inline-block;width:45px;height:25px;background:#ffffff;border:1px solid #0279ff;border-radius:50px;transition:all .3s ease-in-out;padding:5px}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{position:absolute;display:block;width:20px;height:19px;background:#0279ff;border-radius:50%;transition:all .3s ease-in-out;left:2px;top:2px}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{background:#269bff;border-color:#269bff}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{left:50%;background:#ffffff}.checkbox.switcher[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled + span[_ngcontent-%COMP%]{opacity:.5;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";filter:alpha(opacity=50);-moz-opacity:.5;-khtml-opacity:.5}.opacity-50[_ngcontent-%COMP%]{opacity:.5}.self-heal-note-content[_ngcontent-%COMP%]{font-size:14px;line-height:17.6px;font-weight:400;color:#4c4c4c}.bold-text[_ngcontent-%COMP%]{font-weight:600}']}),e}()},61012:function(e,t,n){n.d(t,{U:function(){return ie}});var r,o=a(function e(t,n,a,r,o,s,l){i(this,e),this.backgroundTestEnabled=t,this.defaultPingTarget=n,this.tr143Servers=a,this.calixTr143Servers=r,this.ooklaEndpoint=o,this.ooklaApply=s,this.calixnetspeed=l}),s=n(92340),l=n(37716),c=n(7450),d=n(40205),u=n(5304),g=n(91841),p=((r=function(){function e(t){i(this,e),this.http=t,this.API_URI="".concat(s.N.SUPPORT_URL)}return a(e,[{key:"updateCPESpeedTestDetails",value:function(e,t){return console.log("Url for SpeedTest : ".concat(this.API_URI,"/device-st/speed-test/config/").concat(t)),console.log(e),this.http.put("".concat(this.API_URI,"/device-st/speed-test/config/").concat(t),e).pipe((0,u.K)(this.handleError))}},{key:"speedTestDetails",value:function(e){return this.http.get("".concat(this.API_URI,"/device-st/speed-test/config/").concat(e)).pipe((0,u.K)(this.handleError))}},{key:"handleError",value:function(e){return(0,d._)(e)}}]),e}()).\u0275fac=function(e){return new(e||r)(l.LFG(g.eN))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r),h=n(94802),f=n(89097),v=n(39075),m=n(20904),Z=n(39895),b=n(38583),T=n(3679),x=n(74062);function A(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",41),l.TgZ(1,"button",42),l.NdJ("click",function(){return l.CHM(i),l.oxw().isSuccess=!1}),l._UZ(2,"span"),l.qZA(),l.TgZ(3,"strong"),l.TgZ(4,"div"),l._uU(5),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(5),l.Oqu(n.language.Operation_Successful)}}function _(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",43),l.TgZ(1,"span",44),l._UZ(2,"img",45),l.qZA(),l.TgZ(3,"button",46),l.NdJ("click",function(){return l.CHM(i),l.oxw().backgroundtestcheck=!1}),l._UZ(4,"img",47),l.qZA(),l.TgZ(5,"span",48),l._uU(6),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(6),l.Oqu(n.language.backgroundtestcheckwithooklaconfig)}}function w(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",49),l.TgZ(1,"span",50),l._UZ(2,"img",51),l.qZA(),l.TgZ(3,"button",42),l.NdJ("click",function(){return l.CHM(i),l.oxw().isError=!1}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",52),l.qZA()}if(2&e){var n=l.oxw();l.xp6(5),l.Q6J("innerHtml",n.alertMessage,l.oJD)}}function S(e,t){if(1&e&&(l.TgZ(0,"div",53),l.TgZ(1,"div",54),l.TgZ(2,"div",55),l.TgZ(3,"span",56),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var i=l.oxw();l.xp6(4),l.Oqu(i.language.Loading)}}function q(e,t){if(1&e&&(l.TgZ(0,"div",57),l._uU(1),l.qZA()),2&e){var i=l.oxw();l.xp6(1),l.hij(" ",i.language["Note: To view the results, go to a subscriber record in Support Cloud, select the Service title, and then select the Data tab"],"\n")}}function y(e,t){if(1&e&&(l.TgZ(0,"span",58),l._uU(1),l.qZA()),2&e){var i=l.oxw();l.xp6(1),l.Oqu(i.language.Host_Is_Invalid)}}function O(e,t){1&e&&l._UZ(0,"hr")}function D(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",11),l.TgZ(1,"div",59),l.TgZ(2,"b"),l._uU(3),l.qZA(),l.qZA(),l.TgZ(4,"div",13),l.TgZ(5,"div",60),l.TgZ(6,"input",61),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw().testEnabled=e})("change",function(e){return l.CHM(i),l.oxw().changeRadio(e)}),l.qZA(),l.TgZ(7,"label",62),l._uU(8),l.qZA(),l.TgZ(9,"input",63,64),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw().testEnabled=e})("change",function(e){return l.CHM(i),l.oxw().changeRadio(e)}),l.qZA(),l.TgZ(11,"label",65),l._uU(12),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(3),l.Oqu(n.language.BackgroundSpeed_Latency),l.xp6(3),l.Q6J("ngModel",n.testEnabled),l.xp6(2),l.Oqu(n.language.Enabled),l.xp6(1),l.Q6J("ngModel",n.testEnabled),l.xp6(3),l.Oqu(n.language.Disabled)}}function C(e,t){1&e&&l._UZ(0,"hr")}function M(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",66),l.TgZ(1,"div",67),l.TgZ(2,"label",68),l._uU(3),l.qZA(),l.TgZ(4,"div",69),l.TgZ(5,"div",70),l.TgZ(6,"input",71),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw().speediqradio=e})("change",function(e){return l.CHM(i),l.oxw().changespeedtesttype(e)}),l.qZA(),l.TgZ(7,"label",72),l._uU(8),l.qZA(),l.qZA(),l.TgZ(9,"div",73),l.TgZ(10,"input",74),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw().speediqradio=e})("change",function(e){return l.CHM(i),l.oxw().changespeedtesttype(e)}),l.qZA(),l.TgZ(11,"label",75),l._uU(12),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(3),l.Oqu(n.language.Speed_Test_Type),l.xp6(3),l.Q6J("ngModel",n.speediqradio),l.xp6(2),l.hij(" ",n.language.SpeedIQ_Ookla," "),l.xp6(2),l.Q6J("ngModel",n.speediqradio),l.xp6(2),l.hij(" ",n.language.Ookla_Only," ")}}function U(e,t){if(1&e&&(l.TgZ(0,"div",84),l._uU(1),l.qZA()),2&e){var i=l.oxw(2);l.xp6(1),l.hij(" ",i.language["Please enter Download URL"]," ")}}function k(e,t){1&e&&(l.TgZ(0,"div"),l._uU(1,"This field is required"),l.qZA())}function P(e,t){if(1&e&&(l.TgZ(0,"div",85),l.YNc(1,k,2,0,"div",17),l.qZA()),2&e){l.oxw();var i=l.MAs(10);l.xp6(1),l.Q6J("ngIf",i.errors.required)}}function I(e,t){if(1&e&&(l.TgZ(0,"div",84),l._uU(1),l.qZA()),2&e){var i=l.oxw(2);l.xp6(1),l.hij(" ",i.language["Please enter Upload URL"]," ")}}function J(e,t){1&e&&(l.TgZ(0,"div"),l._uU(1,"This field is required"),l.qZA())}function N(e,t){if(1&e&&(l.TgZ(0,"div",85),l.YNc(1,J,2,0,"div",17),l.qZA()),2&e){l.oxw();var i=l.MAs(20);l.xp6(1),l.Q6J("ngIf",i.errors.required)}}function E(e,t){if(1&e&&(l.TgZ(0,"div",84),l._uU(1),l.qZA()),2&e){var i=l.oxw(2);l.xp6(1),l.hij(" ",i.language["Please enter Upload Size"]," ")}}function F(e,t){if(1&e&&(l.TgZ(0,"span",58),l._uU(1),l.qZA()),2&e){var i=l.oxw(2);l.xp6(1),l.hij("",i.language.Not_A_Number," ")}}function Q(e,t){1&e&&(l.TgZ(0,"div"),l._uU(1,"This field is required"),l.qZA())}function H(e,t){if(1&e&&(l.TgZ(0,"div",85),l.YNc(1,Q,2,0,"div",17),l.qZA()),2&e){l.oxw();var i=l.MAs(30);l.xp6(1),l.Q6J("ngIf",i.errors.required)}}var Y=function(e){return{"is-invalid":e}};function j(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",66),l.TgZ(1,"div",20),l._uU(2),l.qZA(),l.TgZ(3,"div",67),l.TgZ(4,"label",76),l._uU(5),l.TgZ(6,"span",77),l._uU(7,"*"),l.qZA(),l.qZA(),l.TgZ(8,"div",69),l.TgZ(9,"input",78,79),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw().speediqDownloadUrl=e})("keyup",function(){return l.CHM(i),l.oxw().changespeediq()}),l.qZA(),l.YNc(11,U,2,1,"div",24),l.YNc(12,P,2,1,"div",25),l.qZA(),l.qZA(),l.TgZ(13,"div",67),l.TgZ(14,"label",76),l._uU(15),l.TgZ(16,"span",77),l._uU(17,"*"),l.qZA(),l.qZA(),l.TgZ(18,"div",69),l.TgZ(19,"input",80,81),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw().speediqUploadUrl=e})("keyup",function(){return l.CHM(i),l.oxw().changespeediq()}),l.qZA(),l.YNc(21,I,2,1,"div",24),l.YNc(22,N,2,1,"div",25),l.qZA(),l.qZA(),l.TgZ(23,"div",67),l.TgZ(24,"label",76),l._uU(25),l.TgZ(26,"span",77),l._uU(27,"*"),l.qZA(),l.qZA(),l.TgZ(28,"div",69),l.TgZ(29,"input",82,83),l.NdJ("ngModelChange",function(e){return l.CHM(i),l.oxw().speediquploadSize=e})("keyup",function(){return l.CHM(i),l.oxw().changespeediq()}),l.qZA(),l.YNc(31,E,2,1,"div",24),l.YNc(32,F,2,1,"span",16),l.YNc(33,H,2,1,"div",25),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.MAs(10),a=l.MAs(20),r=l.MAs(30),o=l.oxw(),s=l.MAs(11);l.xp6(2),l.Oqu(o.language.SpeedIQ),l.xp6(3),l.hij("",o.language.downURL," "),l.xp6(4),l.Q6J("ngModel",o.speediqDownloadUrl)("ngClass",l.VKq(18,Y,s.submitted&&n.invalid)),l.xp6(2),l.Q6J("ngIf",(n.touched||s.submitted||n.untouched)&&!o.speediqDownloadUrl&&o.speediqsaveDisable),l.xp6(1),l.Q6J("ngIf",s.submitted&&n.invalid),l.xp6(3),l.hij("",o.language.uploadURL," "),l.xp6(4),l.Q6J("ngModel",o.speediqUploadUrl)("ngClass",l.VKq(20,Y,s.submitted&&a.invalid)),l.xp6(2),l.Q6J("ngIf",(a.touched||s.submitted||a.untouched)&&!o.speediqUploadUrl&&o.speediqsaveDisable),l.xp6(1),l.Q6J("ngIf",s.submitted&&a.invalid),l.xp6(3),l.AsE("",o.language.uploadSize," (",o.language.bytes,") "),l.xp6(4),l.Q6J("ngModel",o.speediquploadSize)("ngClass",l.VKq(22,Y,s.submitted&&r.invalid)),l.xp6(2),l.Q6J("ngIf",(r.touched||s.submitted||r.untouched)&&!o.speediquploadSize&&o.speediqsaveDisable),l.xp6(1),l.Q6J("ngIf",(null==r.errors?null:r.errors.pattern)&&r.touched),l.xp6(1),l.Q6J("ngIf",s.submitted&&r.invalid)}}function L(e,t){if(1&e&&(l.TgZ(0,"div",84),l._uU(1),l.qZA()),2&e){var i=l.oxw();l.xp6(1),l.hij(" ",i.language["Please enter Download URL"]," ")}}function z(e,t){1&e&&(l.TgZ(0,"div"),l._uU(1,"This field is required"),l.qZA())}function R(e,t){if(1&e&&(l.TgZ(0,"div",85),l.YNc(1,z,2,0,"div",17),l.qZA()),2&e){l.oxw();var i=l.MAs(31);l.xp6(1),l.Q6J("ngIf",i.errors.required)}}function V(e,t){if(1&e&&(l.TgZ(0,"div",84),l._uU(1),l.qZA()),2&e){var i=l.oxw();l.xp6(1),l.hij(" ",i.language["Please enter Upload URL"]," ")}}function W(e,t){1&e&&(l.TgZ(0,"div"),l._uU(1,"This field is required"),l.qZA())}function B(e,t){if(1&e&&(l.TgZ(0,"div",85),l.YNc(1,W,2,0,"div",17),l.qZA()),2&e){l.oxw();var i=l.MAs(39);l.xp6(1),l.Q6J("ngIf",i.errors.required)}}function G(e,t){if(1&e&&(l.TgZ(0,"div",84),l._uU(1),l.qZA()),2&e){var i=l.oxw();l.xp6(1),l.hij(" ",i.language["Please enter Upload Size"]," ")}}function K(e,t){if(1&e&&(l.TgZ(0,"span",58),l._uU(1),l.qZA()),2&e){var i=l.oxw();l.xp6(1),l.hij("",i.language.Not_A_Number," ")}}function $(e,t){1&e&&(l.TgZ(0,"div"),l._uU(1,"This field is required"),l.qZA())}function X(e,t){if(1&e&&(l.TgZ(0,"div",85),l.YNc(1,$,2,0,"div",17),l.qZA()),2&e){l.oxw();var i=l.MAs(47);l.xp6(1),l.Q6J("ngIf",i.errors.required)}}function ee(e,t){if(1&e&&(l.TgZ(0,"div",84),l._uU(1),l.qZA()),2&e){var i=l.oxw();l.xp6(1),l.hij(" ",i.language["Please enter a valid Ookla Private Server Endpoint"]," ")}}function te(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",86),l.TgZ(1,"button",87),l._uU(2),l.qZA(),l.TgZ(3,"button",88),l.NdJ("click",function(){return l.CHM(i),l.oxw().getSpeedtestDetails()}),l._uU(4),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(1),l.Q6J("disabled",!n.speedTestWrite||n.saveDisable||n.speediqsaveDisable),l.xp6(1),l.Oqu(n.language.submit),l.xp6(2),l.Oqu(n.language.cancel)}}var ie=function(){var e=function(){function e(t,n,a,r,s,l,c){i(this,e),this.translateService=t,this.cpeSpeedSupportTestService=n,this.dataService=a,this.sso=r,this.titleService=s,this.CommonFunctionsService=l,this.router=c,this.show=!1,this.loading=!1,this.tr143ServersValid=!1,this.bgSpeedInfoValue="Enabled",this.bgSpeedTestValue="disabled",this.orgId=this.sso.getOrgId(),this.courseInfo=["Enabled","Disabled"],this.speediqradio="ooklaonly",this.speedTestObj=new o,this.isSuccess=!1,this.backgroundtestcheck=!1,this.isError=!1,this.speedTestRead=!1,this.speedTestWrite=!1,this.bgTest=!1,this.calixnetspeeddata="ookla",this.ooklaApply=!1,this.isDisableOoklaEndPoint=!1,this.isValidOoklaEndpoint=!0,this.allowSubnetConfig=!0,this.speediqsaveDisable=!1,this.speediqnoconfig=!1,this.saveDisable=!1}return a(e,[{key:"setTitle",value:function(e){this.router.url.includes("cco/services/configuration")?this.titleService.setTitle("".concat(this.language.Speed_Test," - ").concat(this.language.Configuration," - ").concat(this.language.Services," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"])):this.titleService.setTitle("".concat(this.language.Speed_Test," - ").concat(this.language.Configurations," - ").concat(this.language.NetOps," - ").concat(this.language.Support," - ").concat(this.language["Calix Cloud"]))}},{key:"ngOnInit",value:function(){var e=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t,e.setTitle(e.router.url)}),this.setTitle(this.router.url),this.getScopes(),this.getSpeedtestDetails(),this.show=!!this.router.url.includes("cco/services/configuration"),this.secureaccesscheck=!!sessionStorage.getItem("Orgacceforssid")&&sessionStorage.getItem("Orgacceforssid")}},{key:"getSpeedtestDetails",value:function(){var e=this;this.loading=!0,this.saveDisable=!1,this.cpeSpeedSupportTestService.speedTestDetails(this.orgId).subscribe(function(t){var i,n,a,r,o,s,l,c;e.loading=!1,e.resetTR143Fields(),e.resetspeediqFields(),e.bgTest=e.testEnabled=t.backgroundTestEnabled,e.ooklaApply=t.ooklaApply,e.testEnabled=!0===e.testEnabled?"enabled":"disabled",e.calixnetspeeddata=t.calixnetspeed,e.calixtr143datafromget=t.calixTr143Servers,"ookla"==e.calixnetspeeddata?(e.speediqradio="ooklaonly",e.calixnetspeeddata="ookla"):"calix_tr143"==e.calixnetspeeddata?(e.speediqradio="speediq",e.calixnetspeeddata="calix_tr143"):(e.speediqradio="ooklaonly",e.calixnetspeeddata="ookla"),e.testPingTarget=(null==t?void 0:t.defaultPingTarget)?null==t?void 0:t.defaultPingTarget:"",(null===(i=t.tr143Servers)||void 0===i?void 0:i.length)>=1&&(e.testServersDownloadUrl=null===(n=null==t?void 0:t.tr143Servers[0])||void 0===n?void 0:n.downloadUrl,e.testServerUploadUrl=null===(a=null==t?void 0:t.tr143Servers[0])||void 0===a?void 0:a.uploadUrl,e.testuploadSize=null===(r=null==t?void 0:t.tr143Servers[0])||void 0===r?void 0:r.uploadSize),(null===(o=t.calixTr143Servers)||void 0===o?void 0:o.length)>=1&&(e.speediqDownloadUrl=null===(s=null==t?void 0:t.calixTr143Servers[0])||void 0===s?void 0:s.downloadUrl,e.speediqUploadUrl=null===(l=null==t?void 0:t.calixTr143Servers[0])||void 0===l?void 0:l.uploadUrl,e.speediquploadSize=null===(c=null==t?void 0:t.calixTr143Servers[0])||void 0===c?void 0:c.uploadSize),e.testServerOoklaEndpoint=null==t?void 0:t.ooklaEndpoint,e.isDisableOoklaEndPoint=!(!e.ooklaApply||""==e.testServerOoklaEndpoint)},function(t){e.loading=!1})}},{key:"updateSpeedTest",value:function(e){var t=this;this.isError=!1,e.controls.downloadUrl.setValue(null!=e.value.downloadUrl?e.value.downloadUrl.trim():""),e.controls.uploadUrl.setValue(null!=e.value.uploadUrl?e.value.uploadUrl.trim():""),e.controls.uploadSize.setValue(null!=e.value.uploadSize?e.value.uploadSize.trim():""),e.controls.pingTarget.setValue(null!=e.value.pingTarget?e.value.pingTarget.trim():""),null!=e.value.SpeedIQ_DownloadURL&&null!=e.value.SpeedIQ_UploadURL&&null!=e.value.SpeedIQ_UploadSize&&(e.controls.SpeedIQ_DownloadURL.setValue(e.value.SpeedIQ_DownloadURL.trim()),e.controls.SpeedIQ_UploadURL.setValue(e.value.SpeedIQ_UploadURL.trim()),e.controls.SpeedIQ_UploadSize.setValue(e.value.SpeedIQ_UploadSize.trim())),this.tr143ServersValid=!1,!e.value.downloadUrl&&!e.value.uploadUrl&&!e.value.uploadSize||e.value.downloadUrl&&e.value.uploadUrl&&e.value.uploadSize?(this.tr143ServersValid=!1,this.loading=!0,this.isSuccess=!1,this.isError=!1,e.value.bgSpeedTest="enabled"===e.value.bgSpeedTest,""!==this.testServerOoklaEndpoint&&this.testServerOoklaEndpoint?this.backgroundtestcheck=!1:(1==this.bgTest&&(this.backgroundtestcheck=!0),this.bgTest=!1),this.speedSupportTest={backgroundTestEnabled:this.bgTest,defaultPingTarget:e.value.pingTarget,tr143Servers:[{downloadUrl:e.value.downloadUrl,uploadUrl:e.value.uploadUrl,uploadSize:e.value.uploadSize}],calixnetspeed:this.calixnetspeeddata,calixTr143Servers:[{downloadUrl:e.value.SpeedIQ_DownloadURL,uploadUrl:e.value.SpeedIQ_UploadURL,uploadSize:e.value.SpeedIQ_UploadSize}],ooklaEndpoint:this.testServerOoklaEndpoint?this.testServerOoklaEndpoint.trim():this.testServerOoklaEndpoint,ooklaApply:this.ooklaApply},e.value.downloadUrl||e.value.uploadUrl||e.value.uploadSize?document.getElementById("downloadUrl").setAttribute("required",""):delete this.speedSupportTest.tr143Servers,this.secureaccesscheck?!e.value.SpeedIQ_DownloadURL&&!e.value.SpeedIQ_UploadURL&&!e.value.SpeedIQ_UploadSize&&delete this.speedSupportTest.calixTr143Servers:this.speedSupportTest.calixTr143Servers=this.calixtr143datafromget,this.speedSupportTest.defaultPingTarget||delete this.speedSupportTest.defaultPingTarget,e.value.SpeedIQ_DownloadURL&&e.value.SpeedIQ_UploadURL&&e.value.SpeedIQ_UploadSize||"ookla"==this.speedSupportTest.calixnetspeed||!this.secureaccesscheck?(this.speediqnoconfig=!1,this.speediqsaveDisable=!1):(this.speediqnoconfig=!0,this.speediqsaveDisable=!0),this.backgroundtestcheck||this.speediqnoconfig?this.loading=!1:this.cpeSpeedSupportTestService.updateCPESpeedTestDetails(this.speedSupportTest,this.orgId).subscribe(function(e){t.loading=!1},function(e){t.loading=!1,t.isError=!0,t.alertMessage=t.dataService.pageErrorHandle(e)})):(e.value.downloadUrl||e.value.uploadUrl||e.value.uploadSize)&&(this.tr143ServersValid=!1,this.changeTR143())}},{key:"onPingUrlSubmit",value:function(e){}},{key:"changeRadio",value:function(e){this.speedTestObj.backgroundTestEnabled="enabled"==e.srcElement.id}},{key:"changespeedtesttype",value:function(e){"speediq"==e.srcElement.id?this.calixnetspeeddata="calix_tr143":(this.calixnetspeeddata="ookla",this.speediqsaveDisable=!1)}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe()}},{key:"pingDefaultValue",value:function(){}},{key:"getScopes",value:function(){var e=this.sso.getScopes();if(this.router.url.includes("cco/services/configuration")){if(!(this.sso.getEntitlementsArr().indexOf("118")>-1))return void this.router.navigate(["/cco"]);s.N.VALIDATE_SCOPE?(e&&void 0!==e["cloud.rbac.coc.services.configuration.speedtest"]&&-1!==e["cloud.rbac.coc.services.configuration.speedtest"].indexOf("read")&&(this.speedTestRead=!0),e&&void 0!==e["cloud.rbac.coc.services.configuration.speedtest"]&&-1!==e["cloud.rbac.coc.services.configuration.speedtest"].indexOf("write")&&(this.speedTestWrite=!0)):(this.speedTestRead=!0,this.speedTestWrite=!0)}else s.N.VALIDATE_SCOPE?(e["cloud.rbac.csc.netops.config.speed_test"]=e["cloud.rbac.csc.netops.config.speed_test"]?e["cloud.rbac.csc.netops.config.speed_test"]:[],e&&void 0!==e["cloud.rbac.csc.netops.config.speed_test"]&&-1!==e["cloud.rbac.csc.netops.config.speed_test"].indexOf("read")&&(this.speedTestRead=!0),e&&void 0!==e["cloud.rbac.csc.netops.config.speed_test"]&&-1!==e["cloud.rbac.csc.netops.config.speed_test"].indexOf("write")&&(this.speedTestWrite=!0)):(this.speedTestRead=!0,this.speedTestWrite=!0);var t=this.sso.getEntitlements();this.router.url.includes("cco/operations")&&t[210]&&!t[102]&&(this.allowSubnetConfig=!1)}},{key:"changeTR143",value:function(){this.testServersDownloadUrl=this.testServersDownloadUrl.trim(),this.testServerUploadUrl=this.testServerUploadUrl.trim(),this.testuploadSize=this.testuploadSize.trim(),this.saveDisable=!(this.testServersDownloadUrl&&this.testServerUploadUrl&&this.testuploadSize||!(this.testServersDownloadUrl||this.testServerUploadUrl||this.testuploadSize))}},{key:"changespeediq",value:function(){this.speediqDownloadUrl=this.speediqDownloadUrl.trim(),this.speediqUploadUrl=this.speediqUploadUrl.trim(),this.speediquploadSize=this.speediquploadSize.trim(),this.speediqsaveDisable=!(this.speediqDownloadUrl&&this.speediqUploadUrl&&this.speediquploadSize||!(this.speediqDownloadUrl||this.speediqUploadUrl||this.speediquploadSize))}},{key:"onChangeOokla",value:function(e){if(e.target.checked&&(""==this.testServerOoklaEndpoint||null==this.testServerOoklaEndpoint))return this.ooklaApply=!1,e.target.checked=!1;this.isDisableOoklaEndPoint=!(!e.target.checked||""==this.testServerOoklaEndpoint)}},{key:"onChangeOoklaEndpoint",value:function(){this.testServerOoklaEndpoint&&(null==this.testServerOoklaEndpoint.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g)?(this.isValidOoklaEndpoint=!1,this.saveDisable=!0):(this.isValidOoklaEndpoint=!0,this.saveDisable=!1)),""==this.testServerOoklaEndpoint&&(this.ooklaApply=!1,this.isValidOoklaEndpoint=!0,this.saveDisable=!1)}},{key:"avoidInitialSpacing",value:function(e){0===e.target.selectionStart&&"Space"===e.code&&e.preventDefault()}},{key:"resetTR143Fields",value:function(){this.testServersDownloadUrl="",this.testServerUploadUrl="",this.testuploadSize=""}},{key:"resetspeediqFields",value:function(){this.speediqDownloadUrl="",this.speediqUploadUrl="",this.speediquploadSize=""}},{key:"removeUnwantedSpace",value:function(e,t){this[e]=this.CommonFunctionsService.trimSpaceFromNonObjectInputs(t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(c.s),l.Y36(p),l.Y36(h.Q),l.Y36(f.t6),l.Y36(v.Dx),l.Y36(m.i),l.Y36(Z.F0))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-speed-test"]],decls:80,vars:49,consts:[[1,"position-relative"],["class","w-100 alert alert alert-success  fade show",4,"ngIf"],["class","w-100 alert warning-msg fade show",4,"ngIf"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],["class","loader",4,"ngIf"],[1,"row","no-gutters"],[1,"d-block","my-3","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],["class","speed-test-note mt-2",4,"ngIf"],["id","speed-test",1,"tab-pane","mt-3"],["id","lantencyTestForm","novalidate","",1,"form-group","ccl-form",3,"ngSubmit"],["f","ngForm"],[1,"form-group","row","ccl-form"],["for","name",1,"col-sm-3","col-form-label","pr-0"],[1,"col-sm-9"],["id","pingTarget","type","text","name","pingTarget","pattern","^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\\-]*[A-Za-z0-9])$|^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$","placeholder","0.0.0.0","trimSpace","",1,"form-control",3,"ngModel","ngModelChange","change","blur"],["pingTarget","ngModel"],["class","errorMessage",4,"ngIf"],[4,"ngIf"],["class","form-group row ccl-form",4,"ngIf"],["class","w-100",4,"ngIf"],[1,"f-w-600","mb-3"],["for","name",1,"col-sm-3","col-form-label"],["type","url","id","downloadUrl","name","downloadUrl","trimSpace","",1,"form-control",3,"ngModel","ngClass","ngModelChange","keyup"],["downloadUrl","ngModel"],["class","errorMessage","id","name-error",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["id","uploadUrl","type","url","name","uploadUrl","trimSpace","",1,"form-control",3,"ngModel","ngClass","ngModelChange","keyup"],["uploadUrl","ngModel"],["id","uploadSize","type","text","name","uploadSize","pattern","^[0-9]*$","trimSpace","",1,"form-control",3,"ngModel","ngClass","ngModelChange","keyup"],["uploadSize","ngModel"],["for","name",1,"col-sm-3","col-form-label","mb-0","pt-0"],["id","ooklaEndpoint","type","url","name","ooklaEndpoint","trimSpace","",1,"form-control",3,"disabled","ngModel","keyup","keydown","ngModelChange","blur"],["ooklaEndpoint","ngModel"],[1,"checkbox","switcher","col-sm-9"],["for","ooklaApply"],["type","checkbox","name","ooklaApply","id","ooklaApply",3,"ngModel","change","ngModelChange"],[1,"col-12","px-0"],["for","backgroundTesting"],["type","checkbox","name","backgroundTesting","id","backgroundTesting",3,"checked","ngModel","ngModelChange"],[1,"form-group","row"],["class","col-sm-12",4,"ngIf"],[1,"w-100","alert","alert","alert-success","fade","show"],["type","button",1,"close",3,"click"],[1,"w-100","alert","warning-msg","fade","show"],[1,"success-img","success-warn-icon","pr-2"],["src","./assets/img/warning-icon.svg"],["type","button",1,"close","ml-2",3,"click"],["src","assets/img/ic_close-44px.svg"],[1,"d-inline-block","mt-2"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"speed-test-note","mt-2"],[1,"errorMessage"],[1,"col-sm-3"],[1,"custom01"],["id","enabled","type","radio","value","enabled","name","bgSpeedTest","bgSpeedTest","ngModel",3,"ngModel","ngModelChange","change"],["for","enabled",1,"mr-3"],["id","disabled","type","radio","value","disabled","name","bgSpeedTest",3,"ngModel","ngModelChange","change"],["bgSpeedTest","ngModel"],["for","disabled",1,"mr-3"],[1,"w-100"],[1,"row","form-group","ccl-form"],[1,"col-md-3","mb-0","pt-1"],[1,"col-md-9"],[1,"d-inline-flex","align-items-center","pr-4"],["id","speediq","type","radio","value","speediq","name","speediq",3,"ngModel","ngModelChange","change"],["for","speediq",1,"mb-0","pt-1"],[1,"d-inline-flex","align-items-center"],["id","ooklaonly","type","radio","value","ooklaonly","name","ooklaonly",3,"ngModel","ngModelChange","change"],["for","ooklaonly",1,"mb-0","pt-1"],[1,"col-md-3"],[1,"error"],["type","url","id","SpeedIQ_DownloadURL","name","SpeedIQ_DownloadURL",1,"form-control",3,"ngModel","ngClass","ngModelChange","keyup"],["SpeedIQ_DownloadURL","ngModel"],["id","SpeedIQ_UploadURL","type","url","name","SpeedIQ_UploadURL",1,"form-control",3,"ngModel","ngClass","ngModelChange","keyup"],["SpeedIQ_UploadURL","ngModel"],["id","SpeedIQ_UploadSize","type","text","name","SpeedIQ_UploadSize","pattern","^[0-9]*$",1,"form-control",3,"ngModel","ngClass","ngModelChange","keyup"],["SpeedIQ_UploadSize","ngModel"],["id","name-error",1,"errorMessage"],[1,"invalid-feedback"],[1,"col-sm-12"],["type","submit","id","submit-btn",1,"btn-default","primary","px-3","mr-3",3,"disabled"],["type","button","id","cancel-btn",1,"btn-default","btn-dft",3,"click"]],template:function(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",0),l.YNc(1,A,6,1,"div",1),l.YNc(2,_,7,1,"div",2),l.YNc(3,w,6,1,"div",3),l.YNc(4,S,5,1,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"div",6),l._uU(7),l.qZA(),l.qZA(),l.YNc(8,q,2,1,"div",7),l.TgZ(9,"div",8),l.TgZ(10,"form",9,10),l.NdJ("ngSubmit",function(){l.CHM(i);var e=l.MAs(11);return e.form.valid&&t.updateSpeedTest(e)}),l.TgZ(12,"div",11),l.TgZ(13,"label",12),l._uU(14),l.qZA(),l.TgZ(15,"div",13),l.TgZ(16,"input",14,15),l.NdJ("ngModelChange",function(e){return t.testPingTarget=e})("change",function(){return t.pingDefaultValue()})("blur",function(){return t.removeUnwantedSpace("testPingTarget",t.testPingTarget)}),l.qZA(),l.YNc(18,y,2,1,"span",16),l.qZA(),l.qZA(),l.YNc(19,O,1,0,"hr",17),l.YNc(20,D,13,5,"div",18),l.YNc(21,C,1,0,"hr",17),l.YNc(22,M,13,5,"div",19),l.YNc(23,j,34,24,"div",19),l.TgZ(24,"p",20),l._uU(25),l.qZA(),l.TgZ(26,"div",11),l.TgZ(27,"label",21),l._uU(28),l.qZA(),l.TgZ(29,"div",13),l.TgZ(30,"input",22,23),l.NdJ("ngModelChange",function(e){return t.testServersDownloadUrl=e})("keyup",function(){return t.changeTR143()}),l.qZA(),l.YNc(32,L,2,1,"div",24),l.YNc(33,R,2,1,"div",25),l.qZA(),l.qZA(),l.TgZ(34,"div",11),l.TgZ(35,"label",21),l._uU(36),l.qZA(),l.TgZ(37,"div",13),l.TgZ(38,"input",26,27),l.NdJ("ngModelChange",function(e){return t.testServerUploadUrl=e})("keyup",function(){return t.changeTR143()}),l.qZA(),l.YNc(40,V,2,1,"div",24),l.YNc(41,B,2,1,"div",25),l.qZA(),l.qZA(),l.TgZ(42,"div",11),l.TgZ(43,"label",21),l._uU(44),l.qZA(),l.TgZ(45,"div",13),l.TgZ(46,"input",28,29),l.NdJ("ngModelChange",function(e){return t.testuploadSize=e})("keyup",function(){return t.changeTR143()}),l.qZA(),l.YNc(48,G,2,1,"div",24),l.YNc(49,K,2,1,"span",16),l.YNc(50,X,2,1,"div",25),l.qZA(),l.qZA(),l._UZ(51,"hr"),l.TgZ(52,"p",20),l._uU(53),l.qZA(),l.TgZ(54,"div",11),l.TgZ(55,"label",30),l._uU(56),l.qZA(),l.TgZ(57,"div",13),l.TgZ(58,"input",31,32),l.NdJ("keyup",function(){return t.onChangeOoklaEndpoint()})("keydown",function(e){return t.avoidInitialSpacing(e)})("ngModelChange",function(e){return t.testServerOoklaEndpoint=e})("blur",function(){return t.removeUnwantedSpace("testServerOoklaEndpoint",t.testServerOoklaEndpoint)}),l.qZA(),l.YNc(60,ee,2,1,"div",24),l.qZA(),l.qZA(),l.TgZ(61,"div",11),l.TgZ(62,"label",21),l._uU(63),l.qZA(),l.TgZ(64,"div",33),l.TgZ(65,"label",34),l.TgZ(66,"input",35),l.NdJ("change",function(e){return t.onChangeOokla(e)})("ngModelChange",function(e){return t.ooklaApply=e}),l.qZA(),l.TgZ(67,"span"),l._UZ(68,"small"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(69,"div",11),l.TgZ(70,"div",36),l.TgZ(71,"label",21),l._uU(72),l.qZA(),l.TgZ(73,"div",33),l.TgZ(74,"label",37),l.TgZ(75,"input",38),l.NdJ("ngModelChange",function(e){return t.bgTest=e}),l.qZA(),l.TgZ(76,"span"),l._UZ(77,"small"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(78,"div",39),l.YNc(79,te,5,3,"div",40),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.MAs(11),a=l.MAs(17),r=l.MAs(31),o=l.MAs(39),s=l.MAs(47);l.xp6(1),l.Q6J("ngIf",t.isSuccess),l.xp6(1),l.Q6J("ngIf",t.backgroundtestcheck),l.xp6(1),l.Q6J("ngIf",t.isError),l.xp6(1),l.Q6J("ngIf",t.loading),l.xp6(3),l.hij("",t.language["Background Testing"]," "),l.xp6(1),l.Q6J("ngIf",t.show),l.xp6(6),l.hij("",t.language.PING_Target," "),l.xp6(2),l.Q6J("ngModel",t.testPingTarget),l.xp6(2),l.Q6J("ngIf",(null==a.errors?null:a.errors.pattern)&&a.touched),l.xp6(1),l.Q6J("ngIf",!1),l.xp6(1),l.Q6J("ngIf",!1),l.xp6(1),l.Q6J("ngIf",!1),l.xp6(1),l.Q6J("ngIf",t.secureaccesscheck),l.xp6(1),l.Q6J("ngIf","speediq"==t.speediqradio&&t.secureaccesscheck),l.xp6(2),l.Oqu(t.language.Speed_Test_Config_TR143),l.xp6(3),l.hij("",t.language.downURL," "),l.xp6(2),l.Q6J("ngModel",t.testServersDownloadUrl)("ngClass",l.VKq(43,Y,n.submitted&&r.invalid)),l.xp6(2),l.Q6J("ngIf",(r.touched||n.submitted||r.untouched)&&!t.testServersDownloadUrl&&t.saveDisable),l.xp6(1),l.Q6J("ngIf",n.submitted&&r.invalid),l.xp6(3),l.hij("",t.language.uploadURL," "),l.xp6(2),l.Q6J("ngModel",t.testServerUploadUrl)("ngClass",l.VKq(45,Y,n.submitted&&o.invalid)),l.xp6(2),l.Q6J("ngIf",(o.touched||n.submitted||o.untouched)&&!t.testServerUploadUrl&&t.saveDisable),l.xp6(1),l.Q6J("ngIf",n.submitted&&o.invalid),l.xp6(3),l.AsE("",t.language.uploadSize," (",t.language.bytes,") "),l.xp6(2),l.Q6J("ngModel",t.testuploadSize)("ngClass",l.VKq(47,Y,n.submitted&&s.invalid)),l.xp6(2),l.Q6J("ngIf",(s.touched||n.submitted||s.untouched)&&!t.testuploadSize&&t.saveDisable),l.xp6(1),l.Q6J("ngIf",(null==s.errors?null:s.errors.pattern)&&s.touched),l.xp6(1),l.Q6J("ngIf",n.submitted&&s.invalid),l.xp6(3),l.Oqu(t.language["Test Configuration for Ookla capable CPE"]),l.xp6(3),l.Oqu(t.language["Ookla Private Server Endpoint"]),l.xp6(2),l.Q6J("disabled",t.isDisableOoklaEndPoint)("ngModel",t.testServerOoklaEndpoint),l.xp6(2),l.Q6J("ngIf",!t.isValidOoklaEndpoint),l.xp6(3),l.Oqu(t.language["Only Use Ookla Private Server for GigaSpire Speed Tests"]),l.xp6(3),l.Q6J("ngModel",t.ooklaApply),l.xp6(6),l.Oqu(t.language["Background Testing"]),l.xp6(3),l.Q6J("checked",t.bgTest)("ngModel",t.bgTest),l.xp6(4),l.Q6J("ngIf",t.allowSubnetConfig)}},directives:[b.O5,T._Y,T.JL,T.F,T.Fj,T.c5,x.f,T.JJ,T.On,b.mk,T.Wl,T._],styles:[".latencyForm[_ngcontent-%COMP%]{padding-left:25px;padding-top:25px;padding-bottom:25px}div.checkbox.switcher[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]{float:right}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0;cursor:pointer}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{vertical-align:middle}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:relative;display:inline-block;width:45px;height:25px;background:#ffffff;border:1px solid #0279ff;border-radius:50px;transition:all .3s ease-in-out;padding:5px}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{position:absolute;display:block;width:20px;height:19px;background:#0279ff;border-radius:50%;transition:all .3s ease-in-out;left:2px;top:2px}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{background:#269bff;border-color:#269bff}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{left:50%;background:#ffffff}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{border-radius:26px!important;background:#f8f8fa!important;border:1px solid #dfdfdf!important}.speed-test-note[_ngcontent-%COMP%]{color:#212529}.success-warn-icon[_ngcontent-%COMP%]{width:40px;float:left;height:100%}"]}),e}()},46529:function(e){function t(t,i,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n){n.d(t,{f:function(){return O}});var r=n(43566),o=(n(23815),n(92340)),s=n(37716),l=n(7450),c=n(89097),d=n(39075),u=n(68745),g=n(39895),p=n(38583),h=n(3679),f=n(86640),v=n(74062),m=["inputFile"],Z=["labelImport"];function b(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"div",35),s.TgZ(1,"span",36),s._UZ(2,"img",37),s.qZA(),s.TgZ(3,"button",38),s.NdJ("click",function(){return s.CHM(i),s.oxw().hideError()}),s._UZ(4,"span"),s.qZA(),s._UZ(5,"div",39),s.qZA()}if(2&e){var n=s.oxw();s.xp6(5),s.Q6J("innerHtml",n.errorMsg,s.oJD)}}function T(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"div",40),s.TgZ(1,"div",41),s.TgZ(2,"strong",41),s._UZ(3,"div",42),s.qZA(),s.qZA(),s.TgZ(4,"div",41),s.TgZ(5,"button",43),s.NdJ("click",function(){return s.CHM(i),s.oxw().hideSuccess()}),s._UZ(6,"span"),s.qZA(),s.qZA(),s.qZA()}if(2&e){var n=s.oxw();s.xp6(3),s.Q6J("innerHtml",n.successMsg,s.oJD)}}function x(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"div",44),s.TgZ(1,"span",36),s._UZ(2,"img",45),s.qZA(),s.TgZ(3,"div",41),s.TgZ(4,"strong",41),s._uU(5),s.qZA(),s._uU(6,"\xa0\xa0 "),s._UZ(7,"div",42),s.qZA(),s.TgZ(8,"div",46),s.TgZ(9,"button",47),s.NdJ("click",function(){return s.CHM(i),s.oxw().hideWarning()}),s._uU(10),s.qZA(),s.qZA(),s.qZA()}if(2&e){var n=s.oxw();s.xp6(5),s.hij("",n.language.warning,"!"),s.xp6(2),s.Q6J("innerHtml",n.errorMsg,s.oJD),s.xp6(3),s.hij(" ",n.language.ok," ")}}function A(e,t){1&e&&(s.TgZ(0,"div",48),s.TgZ(1,"div",49),s.TgZ(2,"div",50),s.TgZ(3,"span",51),s._uU(4,"Loading..."),s.qZA(),s.qZA(),s.qZA(),s.qZA())}function w(e,t){if(1&e&&(s.TgZ(0,"div",52),s._uU(1),s.qZA()),2&e){var i=s.oxw();s.xp6(1),s.hij(" ",i.language.Name_Is_Required," ")}}function S(e,t){if(1&e&&(s.TgZ(0,"button",53),s._uU(1),s.qZA()),2&e){var i=s.oxw(),n=s.MAs(6);s.Q6J("disabled",!(n.form.valid&&i.isFileValid)),s.xp6(1),s.Oqu(i.language.submit)}}var q,y=function(e){return[e]},O=((q=function(){function e(t,n,a,o,s){i(this,e),this.translateService=t,this.ssoAuthService=n,this.titleService=a,this.fileService=o,this.router=s,this.configFile=new r.E,this.showError=!1,this.showSuccess=!1,this.isFileValid=!1,this.fileType=[],this.fileToUpload=null,this.showWarning=!1,this.loading=!1,this.hasWriteAccess=!1,this.hasScopeAccess=!1,this.createConfiguration=function(){var e,t,i,n=this;this.fileToUpload&&((e=new FileReader).readAsDataURL(this.fileToUpload),e.onload=function(){null!=(i=/^data:.*;base64,(.*)$/.exec(e.result))&&(t=i[1]),n.configFile.binaryContent=t},e.onerror=function(){this.showError=!0,this.errorMsg="The file couldn't be loaded.",this.isFileValid=!1})},this.orgId=this.ssoAuthService.getOrgId(),this.fileType=o.getFileType(),this.scopes=this.ssoAuthService.getScopes()}return a(e,[{key:"setTitle",value:function(e){this.router.url.includes("cco-foundation")||this.router.url.includes("cco/operations/configuration")?this.router.url.includes("cco/operations/configuration")&&this.titleService.setTitle("".concat(this.language.Config_Files," - ").concat(this.language.Configuration," - ").concat(this.language.Operations," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"])):this.titleService.setTitle("".concat(this.language.Config_Files," - ").concat(this.language.Operations," - ").concat(this.language.NetOps," - ").concat(this.language.Support," - ").concat(this.language["Calix Cloud"]))}},{key:"ngOnInit",value:function(){var e,t,i,n=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){var t;n.language=e,n.setTitle(n.router.url),n.confilesize&&(n.errorMsg=n.language.invalidFileTypeErrorMsg(n.confilesize)),(null===(t=n.configFile)||void 0===t?void 0:t.type)&&(n.configFile.type=n.language["Configuration File"])}),this.setTitle(this.router.url),this.router.url.includes("cco/operations/configuration")?o.N.VALIDATE_SCOPE?((null===(t=null===(e=this.scopes)||void 0===e?void 0:e["cloud.rbac.coc.operations.configuration.configurationfiles"])||void 0===t?void 0:t.length)&&(this.hasScopeAccess=!0),this.scopes&&(null===(i=this.scopes["cloud.rbac.coc.operations.configuration.configurationfiles"])||void 0===i?void 0:i.includes("write"))&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):o.N.VALIDATE_SCOPE?(this.scopes["cloud.rbac.csc.netops.operations.config_files"]=this.scopes["cloud.rbac.csc.netops.operations.config_files"]?this.scopes["cloud.rbac.csc.netops.operations.config_files"]:[],this.scopes["cloud.rbac.csc.netops.operations.config_files"].length&&(this.hasScopeAccess=!0),this.scopes&&this.scopes["cloud.rbac.csc.netops.operations.config_files"]&&-1!==this.scopes["cloud.rbac.csc.netops.operations.config_files"].indexOf("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0),this.hasScopeAccess||this.ssoAuthService.setPageAccess(!1)}},{key:"onFileSubmit",value:function(){var e=this;this.loading=!0,this.hideWarning(),this.hideError(),this.hideWarning(),this.configFile.binaryContent?this.fileService.uploadConfigFile(this.configFile,this.orgId).subscribe(function(t){e.showSuccess=!0,e.successMsg="successfully updated",e.configFile=new r.E,e.loading=!1,e.gotoList()},function(t){e.loading=!1,409==t.status?(e.showWarning=!0,e.errorMsg='The configuration "'.concat(e.configFile.name,'" already exists. Please enter another name')):(e.errorMsg=t.error.error,e.showError=!0)}):(this.errorMsg="Invalid File Name!",this.showError=!0,this.loading=!1)}},{key:"onFileChange",value:function(e){var t=this;if(0!=e.length){this.labelImport.nativeElement.innerText=Array.from(e).map(function(e){return e.name}),this.fileToUpload=e.item(0);var i=this.fileToUpload.name,n=i.lastIndexOf(".");-1!=n&&(this.configFile.name=i.slice(0,n));var a=this.fileToUpload.size;if(a>2097152)return this.showError=!0,this.confilesize=a/1024/1024,this.errorMsg=this.language.invalidFileTypeErrorMsg(this.confilesize),void(this.isFileValid=!1);this.confilesize=0,this.configFile.version="";var r=new FileReader;r.onload=function(){var e=r.result.toString().split(/[\r\n]+/g);if(_.isArray(e)&&e.length>0){var i=!0,n=!1;t.isGoldenFile(e)?n=t.readVersionOfGoldenFile(e):t.readVersionOfSipFile(e)?n=!0:t.isTSeriesFile(e)?n=t.readVersionOfTSeriesFile(e):t.isTSeriesSipFile(e)?n=t.readVersionOfTSeriesSipFile(e):(i=!1,t.configFile.type=t.language["Configuration File"]),t.isFileValid=!0,i&&!n&&(t.showError=!0,t.errorMsg="Invalid configuration File: Cannot get Configuration file version",t.isFileValid=!1)}},r.onerror=function(){t.showError=!0,t.errorMsg="The file couldn't be loaded.",t.isFileValid=!1},r.readAsText(this.fileToUpload,"UTF-8"),this.createConfiguration()}}},{key:"isGoldenFile",value:function(e){var t,i=e[0],n=/<!--CalixVersion="(.+?)".+/,a=!1;return 0===i.indexOf("<")&&n.test(i)?(n=/<DslCpeConfig\s(.+?)">/,!((a=_.find(e,function(e){return!!(t=n.exec(e))}))||(t=/ type="(.+?)"/.exec(i),!_.isArray(t)||2!==t.length||"golden"!==t[1].toLowerCase()))||a):a}},{key:"readVersionOfGoldenFile",value:function(e){var t,i=!1,n=e[0];return t=/<!--CalixVersion="(.+?)".+type="(.+?)".+/.exec(n),_.isArray(t)?3===t.length&&"golden"===t[2].toLowerCase()&&(this.configFile.type="Configuration File",this.configFile.version=t[1],i=!0):(t=/<!--CalixVersion="(.+?)".+/.exec(n),_.isArray(t)&&(i=!0,2===t.length?(this.configFile.type="Configuration File",this.configFile.version=t[1]):this.configFile.type="Configuration File")),i}},{key:"readVersionOfSipFile",value:function(e){var t,i,n;return t=/;CalixVersion="(.+?)"/,!!_.find(e,function(e){return i=t.exec(e),!(!_.isArray(i)||2!==i.length||(n=i[1],0))})&&(this.configFile.type="SIP Configuration File",this.configFile.version=n,!0)}},{key:"readVersionOfTSeriesFile",value:function(e){var t,i,n;return t=/<Version>(.+?)<.+>/,!!_.find(e,function(e){return i=t.exec(e),!(!_.isArray(i)||2!==i.length||(n=i[1],0))})&&(this.configFile.type="Configuration File",this.configFile.version=n,!0)}},{key:"isTSeriesFile",value:function(e){var t=/<Project\s(.+?)">/,i=!1;return 0!==e[0].indexOf("<")||(i=_.find(e,function(e){return!!t.exec(e)})),i}},{key:"isTSeriesSipFile",value:function(e){var t=/VoIPProfileSigned/,i=!1;return 0!==e[0].indexOf("<")||(i=_.find(e,function(e){return!!t.exec(e)})),i}},{key:"readVersionOfTSeriesSipFile",value:function(e){var t,i,n;return t=/<ConfigVersion>(.+?)<.+>/,!!_.find(e,function(e){return i=t.exec(e),!(!_.isArray(i)||2!==i.length||(n=i[1],0))})&&(this.configFile.type="T Series SIP Configuration File",this.configFile.version=n,!0)}},{key:"hideError",value:function(){this.showError=!1,this.errorMsg=""}},{key:"hideSuccess",value:function(){this.showSuccess=!1,this.successMsg=""}},{key:"hideWarning",value:function(){this.showWarning=!1,this.errorMsg=""}},{key:"gotoList",value:function(){var e;-1===(null===(e=window.location.href)||void 0===e?void 0:e.indexOf("/cco/operations/configuration/configuration-files-form"))?this.ssoAuthService.redirectByUrl(["/support/netops-management/operations/configuration-files-list","/cco/operations/cco-system-operations/configuration-files","","/cco/operations/cco-subscriber-operations/operations/configuration-files-list"]):this.router.navigate(["./cco/operations/configuration/configuration-files-list"])}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||q)(s.Y36(l.s),s.Y36(c.t6),s.Y36(d.Dx),s.Y36(u.I),s.Y36(g.F0))},q.\u0275cmp=s.Xpm({type:q,selectors:[["app-configuration-files-form"]],viewQuery:function(e,t){var i;1&e&&(s.Gf(m,5),s.Gf(Z,5)),2&e&&(s.iGM(i=s.CRH())&&(t.InputFile=i.first),s.iGM(i=s.CRH())&&(t.labelImport=i.first))},decls:50,vars:30,consts:[[1,"mt-3"],["class","w-100 alert alert alert-danger  fade show",4,"ngIf"],["class","w-100 alert alert alert-success  fade show",4,"ngIf"],["class","py-3 warning-msg ",4,"ngIf"],["class","loader",4,"ngIf"],["id","config-files-form","novalidate","",1,"form-group","ccl-form",3,"ngSubmit"],["myForm","ngForm"],[1,"form-group","row","ccl-form","required"],[1,"input-group","mb-3"],[1,"col-sm-2","col-form-label"],[1,"required-field","error"],[1,"ccl-form","col-sm-10","position-relative"],[1,"browse-text"],["type","file","name","file","id","importFile","required","",1,"form-control","custom-file-input",3,"change"],["inputFile",""],["for","importFile",1,"custom-file-label"],["labelImport",""],[1,"form-group","row","ccl-form"],["for","fileType",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["id","fileType","name","fileType","readonly","","disabled","","searchable","false","bindLabel","name","bindValue","name","required","",3,"items","clearable","ngModel","ngModelChange"],[1,"form-group","ccl-form","row"],["for","inputVersion",1,"col-sm-2","col-form-label"],["type","text","id","Version","name","Version","trimSpace","",1,"form-control",3,"placeholder","ngModel","formValue","ngModelChange"],["for","inputName",1,"col-sm-2","col-form-label"],[1,"error"],[1,"col-sm-10",3,"ngClass"],["type","text","id","name","name","name","required","","aria-required","true","aria-describedby","name-error","aria-invalid","true","autocomplete","new-password","trimSpace","",1,"form-control",3,"ngModel","placeholder","formValue","ngModelChange"],["name","ngModel"],["class","errorMessage","id","name-error",4,"ngIf"],["for","inputdes",1,"col-sm-2","col-form-label"],["type","text","id","description","name","description","trimSpace","",3,"ngModel","placeholder","formValue","ngModelChange"],[1,"mt-3","mb-4"],["type","submit","id","submit-btn","class","btn-default primary px-3",3,"disabled",4,"ngIf"],["type","button","id","cancel-btn",1,"btn-default","btn-dft","py-1","ml-2","mr-3",3,"click"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button","id","hide-error-btn",1,"close","float-right",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert","alert-success","fade","show"],[1,"d-inline"],[1,"d-inline",3,"innerHtml"],["type","button","id","hide-success-btn",1,"close",3,"click"],[1,"py-3","warning-msg"],["src","./assets/img/warning-icon.svg"],[1,"btn-con-sec","float-right"],["id","warning-Btn",1,"btn","warn-btn","mr-2",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["id","name-error",1,"errorMessage"],["type","submit","id","submit-btn",1,"btn-default","primary","px-3",3,"disabled"]],template:function(e,t){if(1&e){var i=s.EpF();s.TgZ(0,"div",0),s.YNc(1,b,6,1,"div",1),s.YNc(2,T,7,1,"div",2),s.YNc(3,x,11,3,"div",3),s.YNc(4,A,5,0,"div",4),s.TgZ(5,"form",5,6),s.NdJ("ngSubmit",function(){return s.CHM(i),s.MAs(6).form.valid&&t.onFileSubmit()}),s.TgZ(7,"div",7),s.TgZ(8,"div",8),s.TgZ(9,"label",9),s._uU(10),s.TgZ(11,"span",10),s._uU(12,"*"),s.qZA(),s.qZA(),s.TgZ(13,"div",11),s.TgZ(14,"span",12),s._uU(15),s.qZA(),s.TgZ(16,"input",13,14),s.NdJ("change",function(e){return t.onFileChange(e.target.files)}),s.qZA(),s.TgZ(18,"label",15,16),s._uU(20),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(21,"div",17),s.TgZ(22,"label",18),s._uU(23),s.qZA(),s.TgZ(24,"div",19),s.TgZ(25,"ng-select",20),s.NdJ("ngModelChange",function(e){return t.configFile.type=e}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(26,"div",21),s.TgZ(27,"label",22),s._uU(28),s.qZA(),s.TgZ(29,"div",19),s.TgZ(30,"input",23),s.NdJ("ngModelChange",function(e){return t.configFile.version=e}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(31,"div",7),s.TgZ(32,"label",24),s._uU(33),s.TgZ(34,"span",25),s._uU(35,"*"),s.qZA(),s.qZA(),s.TgZ(36,"div",26),s.TgZ(37,"input",27,28),s.NdJ("ngModelChange",function(e){return t.configFile.name=e}),s.qZA(),s.YNc(39,w,2,1,"div",29),s.qZA(),s.qZA(),s.TgZ(40,"div",21),s.TgZ(41,"label",30),s._uU(42),s.qZA(),s.TgZ(43,"div",19),s.TgZ(44,"input",31),s.NdJ("ngModelChange",function(e){return t.configFile.description=e}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(45,"div"),s.TgZ(46,"div",32),s.YNc(47,S,2,2,"button",33),s.TgZ(48,"button",34),s.NdJ("click",function(){return t.gotoList()}),s._uU(49),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){var n=s.MAs(6),a=s.MAs(38);s.xp6(1),s.Q6J("ngIf",t.showError),s.xp6(1),s.Q6J("ngIf",t.showSuccess),s.xp6(1),s.Q6J("ngIf",t.showWarning),s.xp6(1),s.Q6J("ngIf",t.loading),s.xp6(6),s.hij("",t.language.File," "),s.xp6(5),s.Oqu(t.language.Browse),s.xp6(5),s.Oqu(t.language.File),s.xp6(3),s.Oqu(t.language.type),s.xp6(2),s.Q6J("items",t.fileType)("clearable",!1)("ngModel",t.configFile.type),s.xp6(3),s.Oqu(t.language.Version),s.xp6(2),s.s9C("placeholder",t.language.Version),s.Q6J("ngModel",t.configFile.version)("formValue",t.configFile),s.xp6(3),s.hij("",t.language.Name," "),s.xp6(3),s.Q6J("ngClass",s.VKq(28,y,null!=a.errors&&a.errors.required&&(n.submitted||a.touched)?"errorMessage":"")),s.xp6(1),s.s9C("placeholder",t.language.Name),s.Q6J("ngModel",t.configFile.name)("formValue",t.configFile),s.xp6(2),s.Q6J("ngIf",a.invalid&&(a.dirty||a.touched)),s.xp6(3),s.AsE("",t.language.description," ",t.language.optional,""),s.xp6(2),s.s9C("placeholder",t.language.Decription),s.Q6J("ngModel",t.configFile.description)("formValue",t.configFile),s.xp6(3),s.Q6J("ngIf",t.hasWriteAccess),s.xp6(2),s.Oqu(t.language.cancel)}},directives:[p.O5,h._Y,h.JL,h.F,f.w9,h.Q7,h.JJ,h.On,h.Fj,v.f,p.mk],styles:[".ng-input>input{cursor:not-allowed!important}.errorMsg[_ngcontent-%COMP%]{color:#c70000;margin-left:15px}.custom-file-label[_ngcontent-%COMP%]{position:absolute;top:0;right:0;left:0;z-index:1;height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-weight:400;line-height:1.5;color:#495057;background-color:#f8f8fa!important;border:1px solid #ced4da;border-radius:20px!important;margin:0 14px;font-size:14px}.custom-file-label[_ngcontent-%COMP%]:hover{border-color:#ccc}.custom-file-label[_ngcontent-%COMP%]:focus, .custom-file-label[_ngcontent-%COMP%]:active{border:1px solid #0278FF}.browse-text[_ngcontent-%COMP%]{position:absolute;top:1px;right:15px;bottom:0;z-index:2;display:block;height:33px;padding:.375rem .75rem;line-height:1.5;color:#495057;background-color:#e9ecef;border-left:inherit;border-radius:20px!important}.custom-file-label[_ngcontent-%COMP%]:after{display:none}.custom-file-input[_ngcontent-%COMP%]{cursor:pointer}"]}),q)}),37894:function(e,t,n){n.d(t,{s:function(){return U}});var r=n(47986),o=n(91841),s=n(75333),l=n(23771),c=n(92340),d=n(37716),u=n(7450),g=n(89097),p=n(68745),h=n(12664),f=n(39075),v=n(39895),m=n(38583),Z=["deleteConfiguratioModal"];function b(e,t){if(1&e&&(d.TgZ(0,"div",2),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function T(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",15),d.TgZ(1,"span",16),d._UZ(2,"img",17),d.qZA(),d.TgZ(3,"button",18),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).hideError()}),d._UZ(4,"span"),d.qZA(),d._UZ(5,"div",19),d.qZA()}if(2&e){var n=d.oxw(2);d.xp6(5),d.Q6J("innerHtml",n.language[n.errorMsg]||n.errorMsg,d.oJD)}}function x(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",20),d.TgZ(1,"span",21),d._UZ(2,"img",22),d.qZA(),d.TgZ(3,"button",23),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).hideSuccess()}),d._UZ(4,"span"),d.qZA(),d._UZ(5,"div",19),d.qZA()}if(2&e){var n=d.oxw(2);d.xp6(5),d.Q6J("innerHtml",n.successMsg,d.oJD)}}function A(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",24),d.TgZ(1,"span",16),d._UZ(2,"img",25),d.qZA(),d.TgZ(3,"span"),d._uU(4),d.TgZ(5,"b"),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"div",26),d.TgZ(8,"button",27),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).deleteConfigFile()}),d._uU(9),d.qZA(),d.TgZ(10,"button",28),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).closeModal()}),d._uU(11),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(2);d.xp6(4),d.hij("",n.language["Are you sure you want to delete the configuration"]," "),d.xp6(2),d.Oqu(n.modalInfo),d.xp6(3),d.hij(" ",n.language.Confirm," "),d.xp6(2),d.hij(" ",n.language.Cancel," ")}}function _(e,t){if(1&e&&(d.TgZ(0,"div",29),d.TgZ(1,"div",30),d.TgZ(2,"div",31),d.TgZ(3,"span",32),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw(2);d.xp6(4),d.Oqu(i.language.Loading)}}function w(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"button",33),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).gotoAdd()}),d._uU(1),d.qZA()}if(2&e){var n=d.oxw(2);d.xp6(1),d.Oqu(n.language.Add_Config_File)}}function S(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"td",41),d.TgZ(1,"a",42),d.NdJ("click",function(){d.CHM(i);var e=d.oxw().$implicit;return d.oxw(3).deleteConfigFileConfirm(e)}),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(4);d.xp6(1),d.s9C("title",n.language.delete)}}function q(e,t){1&e&&d._UZ(0,"td")}function y(e,t){if(1&e&&(d.TgZ(0,"tr",38),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.YNc(9,S,2,1,"td",39),d.YNc(10,q,1,0,"ng-template",null,40,d.W1O),d.qZA()),2&e){var i=t.$implicit,n=d.MAs(11),a=d.oxw(3);d.s9C("id",i._id),d.xp6(2),d.Oqu(i.name),d.xp6(2),d.Oqu(i.description),d.xp6(2),d.hij("",a.language[i.type]||i.type," "),d.xp6(2),d.Oqu(i.version),d.xp6(1),d.Q6J("ngIf",a.hasWriteAccess)("ngIfElse",n)}}function O(e,t){if(1&e&&(d.TgZ(0,"tbody"),d.TgZ(1,"tr"),d.TgZ(2,"td",43),d._uU(3),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw(3);d.xp6(3),d.Oqu(i.language["No data available in table"])}}function D(e,t){if(1&e&&(d.TgZ(0,"table",34),d.TgZ(1,"thead"),d.TgZ(2,"tr"),d.TgZ(3,"th",35),d._uU(4),d.qZA(),d.TgZ(5,"th",35),d._uU(6),d.qZA(),d.TgZ(7,"th",35),d._uU(8),d.qZA(),d.TgZ(9,"th",35),d._uU(10),d.qZA(),d._UZ(11,"th",35),d.qZA(),d.qZA(),d.TgZ(12,"tbody"),d.YNc(13,y,12,7,"tr",36),d.qZA(),d.YNc(14,O,4,1,"tbody",37),d.qZA()),2&e){var i=d.oxw(2);d.Q6J("dtOptions",i.tableOptions),d.xp6(4),d.Oqu(i.language.Name),d.xp6(2),d.Oqu(i.language.description),d.xp6(2),d.Oqu(i.language.type),d.xp6(2),d.Oqu(i.language.Version),d.xp6(3),d.Q6J("ngForOf",i.filesListObj),d.xp6(1),d.Q6J("ngIf",0==(null==i.filesListObj?null:i.filesListObj.length))}}function C(e,t){if(1&e&&(d.TgZ(0,"div",3),d.TgZ(1,"div",4),d._uU(2,"Configuration Files"),d.qZA(),d.TgZ(3,"div",5),d.YNc(4,T,6,1,"div",6),d.YNc(5,x,6,1,"div",7),d.YNc(6,A,12,4,"div",8),d.TgZ(7,"div",9),d.YNc(8,_,5,1,"div",10),d.TgZ(9,"div",11),d.TgZ(10,"div",12),d.YNc(11,w,2,1,"button",13),d.qZA(),d.qZA(),d.YNc(12,D,15,7,"table",14),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw();d.xp6(4),d.Q6J("ngIf",i.showError),d.xp6(1),d.Q6J("ngIf",i.showSuccess),d.xp6(1),d.Q6J("ngIf",null==i.deleteData?null:i.deleteData.name),d.xp6(2),d.Q6J("ngIf",i.loading),d.xp6(3),d.Q6J("ngIf",i.hasWriteAccess),d.xp6(1),d.Q6J("ngIf",i.dtRendered)}}var M,U=((M=function(){function e(t,n,a,r,o,s,l){i(this,e),this.translateService=t,this.http=n,this.ssoAuthService=a,this.fileService=r,this.dialogService=o,this.titleService=s,this.router=l,this.filesListObj=[],this.tableOptions={},this.showError=!1,this.showSuccess=!1,this.dtRendered=!1,this.loading=!1,this.hasWriteAccess=!1,this.hasScopeAccess=!1,this.orgId=this.ssoAuthService.getOrgId(),this.getConfigFilesListCout(),this.scopes=this.ssoAuthService.getScopes()}return a(e,[{key:"setTitle",value:function(e){this.router.url.includes("cco-foundation")||this.router.url.includes("cco/operations/configuration")?this.router.url.includes("cco/operations/configuration")&&this.titleService.setTitle("".concat(this.language.Config_Files," - ").concat(this.language.Configuration," - ").concat(this.language.Operations," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"])):this.titleService.setTitle("".concat(this.language.Config_Files," - ").concat(this.language.Operations," - ").concat(this.language.NetOps," - ").concat(this.language.Support," - ").concat(this.language["Calix Cloud"]))}},{key:"ngOnInit",value:function(){var e,t,i,n=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){n.language=e,n.redraw(),n.setTitle(n.router.url)}),this.setTitle(this.router.url),this.router.url.includes("cco/operations/configuration")?c.N.VALIDATE_SCOPE?((null===(t=null===(e=this.scopes)||void 0===e?void 0:e["cloud.rbac.coc.operations.configuration.configurationfiles"])||void 0===t?void 0:t.length)&&(this.hasScopeAccess=!0),this.scopes&&(null===(i=this.scopes["cloud.rbac.coc.operations.configuration.configurationfiles"])||void 0===i?void 0:i.includes("write"))&&(this.hasWriteAccess=!0)):(this.hasScopeAccess=!0,this.hasWriteAccess=!0):c.N.VALIDATE_SCOPE?(this.scopes["cloud.rbac.csc.netops.operations.config_files"]=this.scopes["cloud.rbac.csc.netops.operations.config_files"]?this.scopes["cloud.rbac.csc.netops.operations.config_files"]:[],this.scopes["cloud.rbac.csc.netops.operations.config_files"].length&&(this.hasScopeAccess=!0),this.scopes&&this.scopes["cloud.rbac.csc.netops.operations.config_files"]&&-1!==this.scopes["cloud.rbac.csc.netops.operations.config_files"].indexOf("write")&&(this.hasWriteAccess=!0)):(this.hasScopeAccess=!0,this.hasWriteAccess=!0),this.hasScopeAccess?(this.frTable=this.translateService.fr,this.fetchConfigurationList()):this.ssoAuthService.setPageAccess(!1)}},{key:"fetchConfigurationList",value:function(){var e=this;this.loading=!0;var t=this;this.tableOptions={pagingType:"full_numbers",pageLength:20,serverSide:!0,processing:!1,ordering:!1,dom:"tip",responsive:!0,ajax:function(i,n){var a=(new o.LE).set("skip",i.start).set("limit",i.length).set("type",r.r.Configuration_File);e.ssoAuthService.getOrg(e.orgId)&&a.set("orgId",e.orgId),t.http.get(s.Mb,{params:a}).subscribe(function(i){t.filesListObj=i,e.loading=!1,n({recordsTotal:e.count,recordsFiltered:e.count,data:[]})},function(t){e.loading=!1,e.errorMsg=t.error.error,e.showError=!0,500===t.status&&(e.errorMsg="Internal Server Error")})},drawCallback:function(t){e.changeTableStatusLanguage(t),t._iRecordsDisplay<=t._iDisplayLength&&$(t.nTableWrapper).find("#users-table_last").addClass("disabled")}}}},{key:"changeTableStatusLanguage",value:function(e){var t=new Intl.NumberFormat;this.tableCounts={searchText:e.oPreviousSearch.sSearch.replace(/\s+/g,""),total:e._iRecordsTotal,displayCount:e._iDisplayLength,displayed:e._iRecordsDisplay,start:e._iDisplayStart};var i="fr"==sessionStorage.getItem("defaultLanguage"),n="es"==sessionStorage.getItem("defaultLanguage"),a="de_DE"==sessionStorage.getItem("defaultLanguage"),r=e.oPreviousSearch.sSearch.replace(/\s+/g,"")?i?"(filtr\xe9es \xe0 partir des ".concat(t.format(e._iRecordsTotal)," entr\xe9es totales)"):n?"(filtrado de un total de ".concat(t.format(e._iRecordsTotal)," entradas)"):a?"(gefiltert aus ".concat(t.format(e._iRecordsTotal)," Eintr\xe4gen)"):"(filtered from ".concat(t.format(e._iRecordsTotal)," total entries)"):"",o=0==e._iRecordsDisplay?-1:e._iDisplayStart,s=e._iDisplayStart+e._iDisplayLength>e._iRecordsDisplay?e._iRecordsDisplay:e._iDisplayStart+e._iDisplayLength;$('div [role="status"]').text(i?"Affichage de ".concat(t.format(o+1)," \xe0 ").concat(t.format(s)," des ").concat(t.format(e._iRecordsDisplay)," entr\xe9es ").concat(r):n?"Se muestran del ".concat(t.format(o+1)," al ").concat(t.format(s)," de ").concat(t.format(e._iRecordsDisplay)," resultados ").concat(r):a?"Angezeigt ".concat(t.format(o+1)," bis ").concat(t.format(s)," von ").concat(t.format(e._iRecordsDisplay)," ergebnissen ").concat(r):"Showing ".concat(t.format(o+1)," to ").concat(t.format(s)," of ").concat(t.format(e._iRecordsDisplay)," entries ").concat(r)),$(".first").text(i?"Le d\xe9but":n?"Primero":a?"Erste Seite":"First"),$(".previous").text(i?"Pr\xe9c\xe9dent":n?"Anterior":a?"Zur\xfcck":"Previous"),$(".next").text(i?"Suivant":n?"Siguiente":a?"Weiter":"Next"),$(".last").text(i?"Derni\xe8re":n?"\xdaltimo":a?"Letzte":"Last")}},{key:"getConfigFilesListCout",value:function(){var e=this;this.fileService.getConfigFilesCount(this.orgId).subscribe(function(t){e.count=t.count,e.dtRendered=!0})}},{key:"deleteConfigFileConfirm",value:function(e){this.loading=!1,this.errorMsg="",this.showError=!1,this.deleteData=e,this.modalTitle="Warning!",this.modalInfo=" ".concat(e.name,"?"),$("html, body").animate({scrollTop:0},"slow")}},{key:"deleteConfigFile",value:function(){var e=this;this.loading=!0,this.fileService.deleteConfigFileById(this.deleteData._id).subscribe(function(t){e.loading=!1,e.showSuccess=!0,e.successMsg=e.language["successfully Deleted!!"],e.getConfigFilesListCout(),e.deleteData=new r.k,e.redraw()},function(t){e.loading=!1,e.deleteData=new r.k,e.errorMsg="Error! "+t.error.error,e.showError=!0})}},{key:"redraw",value:function(){var e;null===(e=this.dtElement)||void 0===e||e.dtInstance.then(function(e){e.draw()})}},{key:"closeModal",value:function(){this.deleteData=new r.k,this.modalRef&&this.modalRef.close()}},{key:"hideError",value:function(){this.showError=!1,this.errorMsg=""}},{key:"hideSuccess",value:function(){this.showSuccess=!1,this.successMsg=""}},{key:"gotoAdd",value:function(){var e;-1===(null===(e=window.location.href)||void 0===e?void 0:e.indexOf("/cco/operations/configuration/configuration-files-list"))?this.ssoAuthService.redirectByUrl(["/support/netops-management/operations/configuration-files-form","/cco/operations/cco-system-operations/configuration-files/configuration-files-form","","/cco/operations/configuration/configuration-files-form"]):this.router.navigate(["./cco/operations/configuration/configuration-files-form"])}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe()}},{key:"getConfigurationFileList",value:function(){var e=this,t=(new o.LE).set("orgId",this.orgId).set("skip",0).set("limit",10).set("type",r.r.Configuration_File);this.fileService.getConfigurationFileList(s.Mb,{params:t}).subscribe(function(t){e.filesListObj=t})}}]),e}()).\u0275fac=function(e){return new(e||M)(d.Y36(u.s),d.Y36(o.eN),d.Y36(g.t6),d.Y36(p.I),d.Y36(h.FF),d.Y36(f.Dx),d.Y36(v.F0))},M.\u0275cmp=d.Xpm({type:M,selectors:[["app-configuration-files-list"]],viewQuery:function(e,t){var i;1&e&&(d.Gf(Z,7),d.Gf(l.G,5)),2&e&&(d.iGM(i=d.CRH())&&(t.deleteConfiguratioModal=i.first),d.iGM(i=d.CRH())&&(t.dtElement=i.first))},decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["id","configure-filess","class","tab-pane",4,"ngIf"],["role","alert",1,"alert","alert-warning"],["id","configure-filess",1,"tab-pane"],[1,"d-block","my-3","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],[1,"pb-2"],["class","w-100 alert alert alert-danger  fade show",4,"ngIf"],["class","w-100 alert alert alert-success  fade show",4,"ngIf"],["class","py-3 warning-msg ",4,"ngIf"],[1,"table-responsive","configuration-files-table","position-relative"],["class","loader",4,"ngIf"],[1,"row"],[1,"col-md-6","my-3"],["type","button","id","add-config-btn","class","btn-default primary px-3 px-3",3,"click",4,"ngIf"],["id","configurationFilesTable","datatable","","class","\n table table-hover table-striped",3,"dtOptions",4,"ngIf"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button","id","hide-error-btn",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert","alert-success","fade","show"],[1,"success-img"],["src","./assets/img/success-icon.svg"],["type","button","id","hide-success-btn",1,"close",3,"click"],[1,"py-3","warning-msg"],["src","./assets/img/warning-icon.svg"],[1,"btn-con-sec","float-right"],["id","confirm-btn",1,"btn-default","btn-primary","px-3","mr-2",3,"click"],["id","cancel-btn",1,"btn-default","btn-dft","py-1",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["type","button","id","add-config-btn",1,"btn-default","primary","px-3","px-3",3,"click"],["id","configurationFilesTable","datatable","",1,"table","table-hover","table-striped",3,"dtOptions"],["scope","col"],[3,"id",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"id"],["class","actions",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"actions"],["aria-hidden","true",1,"fa","fa-trash-o",2,"cursor","pointer",3,"title","click"],["colspan","5",1,"no-data-available"]],template:function(e,t){1&e&&(d.YNc(0,b,2,1,"div",0),d.YNc(1,C,13,6,"div",1)),2&e&&(d.Q6J("ngIf",!t.hasScopeAccess),d.xp6(1),d.Q6J("ngIf",t.hasScopeAccess))},directives:[m.O5,l.G,m.sg],styles:["[_nghost-%COMP%]     .dataTables_empty{display:none}.no-data-available[_ngcontent-%COMP%]{text-align:center}.configuration-files-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%!important}.configuration-files-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{word-break:break-all}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#fff0!important}.table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd) > td[_ngcontent-%COMP%]{background-color:#fff!important}.actions[_ngcontent-%COMP%]   a.fa-trash-o[_ngcontent-%COMP%]{text-decoration:none}"]}),M)},42237:function(t,n,r){r.d(n,{d:function(){return Qt}});var o,s=r(23771),l=r(91704),c=r(79765),d=r(37716),u=r(25917),g=r(35758),p=r(5304),h=r(7450),f=r(92340),v=r(91841),m=r(89097),Z=((o=function(){function e(t,n){i(this,e),this.http=t,this.sso=n}return a(e,[{key:"GetPerformanceDataGrid",value:function(e){var t=this.sso.getOrg(e);return this.http.get("".concat(f.N.SUPPORT_URL,"/netops-perf-testing/cafIITest?").concat(t))}},{key:"GetServerDetails",value:function(e){return this.http.get("".concat(f.N.SUPPORT_URL,"/netops-perf-testing/ooklaServer"))}},{key:"save",value:function(e){var t=this.sso.getOrg(this.sso.getOrgId());return this.http.post("".concat(f.N.SUPPORT_URL,"/netops-perf-testing/cafIITest?").concat(t),e)}},{key:"delete",value:function(e){return this.http.delete("".concat(f.N.SUPPORT_URL,"/netops-perf-testing/cafIITest/").concat(e))}},{key:"suspend",value:function(e){return this.http.put("".concat(f.N.SUPPORT_URL,"/netops-perf-testing/cafIITest/").concat(e,"/suspend"),{})}},{key:"resume",value:function(e){return this.http.put("".concat(f.N.SUPPORT_URL,"/netops-perf-testing/cafIITest/").concat(e,"/resume"),{})}},{key:"view",value:function(e){return this.http.get("".concat(f.N.SUPPORT_URL,"/netops-perf-testing/cafIITest/").concat(e))}},{key:"update",value:function(e){return this.http.put("".concat(f.N.SUPPORT_URL,"/netops-perf-testing/cafIITest/").concat(e._id),e)}},{key:"getPerfTestByName",value:function(e){var t=this.sso.getOrg(this.sso.getOrgId());return this.http.get("".concat(f.N.SUPPORT_URL,"/netops-perf-testing/cafIITest?").concat(t,"name=").concat(e))}},{key:"checkdeviceCafCapabilityBySN",value:function(e){var t=this.sso.getOrg(this.sso.getOrgId());return this.http.get("".concat(f.N.SUPPORT_URL,"/netops-perf-testing/cafCapability?").concat(t,"deviceSn=").concat(e))}},{key:"checkdeviceBySN",value:function(e){var t=this.sso.getOrg(this.sso.getOrgId());return this.http.get("".concat(f.N.SUPPORT_URL,"/netops-perf-testing/checkdevice?").concat(t,"deviceSn=").concat(e))}},{key:"download",value:function(e){var t=this.sso.getOrg(this.sso.getOrgId());return this.http.get("".concat(f.N.SUPPORT_URL,"/netops-perf-testing/testResult/zip?").concat(t,"testId=").concat(e))}}]),e}()).\u0275fac=function(e){return new(e||o)(d.LFG(v.eN),d.LFG(m.t6))},o.\u0275prov=d.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o),b=r(39895),T=r(49342),x=r(38583),A=r(3679),_=r(74062),w=["device_input"];function S(e,t){if(1&e&&(d.TgZ(0,"div",28),d.TgZ(1,"div",29),d.TgZ(2,"div",30),d.TgZ(3,"span",31),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw();d.xp6(4),d.Oqu(i.language.Loading)}}function q(e,t){if(1&e&&(d.TgZ(0,"li"),d._uU(1),d.qZA()),2&e){var i=t.$implicit,n=d.oxw(3);d.xp6(1),d.Oqu(n.language[i]||i)}}function y(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",33),d.TgZ(1,"span",34),d._UZ(2,"img",35),d.qZA(),d.TgZ(3,"button",36),d.NdJ("click",function(){var e=d.CHM(i).index;return d.oxw(2).closeAlert(e)}),d._UZ(4,"span"),d.qZA(),d.TgZ(5,"div",37),d.TgZ(6,"h5"),d._uU(7),d.qZA(),d.TgZ(8,"ul",38),d.YNc(9,q,2,1,"li",39),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=t.$implicit,a=d.oxw(2);d.xp6(7),d.Oqu(a.language[n.title]||n.title),d.xp6(2),d.Q6J("ngForOf",n.body)}}function O(e,t){if(1&e&&(d.TgZ(0,"div"),d.YNc(1,y,10,2,"div",32),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Q6J("ngForOf",i.errors)}}function D(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",40),d._uU(1),d.TgZ(2,"button",41),d.NdJ("click",function(){return d.CHM(i),d.oxw().closeAlert()}),d._uU(3),d.qZA(),d.qZA()}if(2&e){var n=d.oxw();d.xp6(1),d.hij(" ",n.successInfo," "),d.xp6(2),d.hij(" ",n.language.Ok," ")}}function C(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",42),d.TgZ(1,"span",34),d._UZ(2,"img",43),d.qZA(),d.TgZ(3,"span"),d._uU(4),d.qZA(),d.TgZ(5,"div",44),d.TgZ(6,"button",45),d.NdJ("click",function(){return d.CHM(i),d.oxw().doDeleteDevieSN()}),d._uU(7),d.qZA(),d.TgZ(8,"button",46),d.NdJ("click",function(){return d.CHM(i),d.oxw().cancelDelete()}),d._uU(9),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw();d.xp6(4),d.AsE("",n.language.Delete_Confimation,' "',n.deviceSN,'" ?'),d.xp6(3),d.hij(" ",n.language.Confirm," "),d.xp6(2),d.hij(" ",n.language.Cancel," ")}}function M(e,t){if(1&e&&(d.TgZ(0,"div",28),d.TgZ(1,"div",29),d.TgZ(2,"div",30),d.TgZ(3,"span",31),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw();d.xp6(4),d.Oqu(i.language.Loading)}}function U(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",47),d._uU(1),d.TgZ(2,"span",48),d.NdJ("click",function(){var e=d.CHM(i).index;return d.oxw().removeData(e)}),d._UZ(3,"i",49),d.qZA(),d.qZA()}if(2&e){var n=t.$implicit;d.xp6(1),d.hij(" ",n," ")}}function k(e,t){if(1&e&&(d.TgZ(0,"div",50),d.TgZ(1,"p",51),d._uU(2),d.qZA(),d.qZA()),2&e){var i=d.oxw();d.xp6(2),d.hij(" ",i.language.Device_Serial_No_Validation," ")}}function P(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"tr",52),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d.TgZ(4,"div",53),d.TgZ(5,"a",54),d.NdJ("click",function(){var e=d.CHM(i),t=e.$implicit,n=e.index;return d.oxw().deleteDevice(t,n)}),d._UZ(6,"i",55),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=t.$implicit,a=d.oxw();d.s9C("id",n._id),d.xp6(2),d.hij(" ",n," "),d.xp6(3),d.s9C("title",a.language.Delete)}}function I(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"td",56),d.TgZ(2,"div",57),d._uU(3),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw();d.xp6(3),d.hij(" ",i.language["No data available in table"]," ")}}var J=function(){var t=function(){function t(e,n,a,r,o,s){var u=this;i(this,t),this.translateService=e,this.performanceService=n,this.router=a,this.commonOrgService=r,this.sso=o,this.cd=s,this.errorInfo="",this.successInfo="",this.loading=!1,this.tableRenderedOnce=!1,this.tableOptions={searching:!1,lengthChange:!1,paging:!1,info:!1,drawCallback:function(e){u.tableRenderedOnce=!0}},this.saveClicked=!1,this.formError=!1,this.deviceData=[],this.devicesAdded=[],this.outputdata=new d.vpe,this.activeTab=new d.vpe,this.dataAvailable=!1,this.dtOptions={},this.dtTrigger=new c.xQ,this.isRerender=!1,this.protocols=[],this.selectData=[],this.intialPaste=!0,this.errors=[],this.btnDisabled=!1,this.deviceSN="",this.inputBoxData="",l("body").on("paste","#device_input",function(e){})}return a(t,[{key:"getUniqueArr",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return l.each(e,function(e,i){-1===l.inArray(i,t)&&t.push(i)}),t}},{key:"ngOnInit",value:function(){var e,t,i,n=this;if(this.selectData=this.selectData?this.selectData:[],this.protocols=(null===(e=this.inputData)||void 0===e?void 0:e.protocols)?this.inputData.protocols:[],this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){n.language=e}),this.inputData&&this.inputData.verifyDevice){var a=(null===(t=this.inputData)||void 0===t?void 0:t.devices)?this.inputData.devices:[];a=a?this.removeDuplicates(a):[],this.inputData.devices=a,this.deviceData=a,this.devicesAdded=[],this.addDevices()}else this.devicesAdded=(null===(i=this.inputData)||void 0===i?void 0:i.devices)?this.inputData.devices:[];this.options={width:"300",multiple:!0,tags:!0,tokenSeparators:[","," ","\t"],selectOnClose:!0},this.showTable()}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe(),this.dtTrigger.unsubscribe()}},{key:"ngAfterViewInit",value:function(){document.getElementById("device_input").addEventListener("contextmenu",function(e){e.preventDefault()},!1)}},{key:"ngAfterViewChecked",value:function(){document.getElementById("device_input").addEventListener("contextmenu",function(e){e.preventDefault()},!1)}},{key:"showTable",value:function(){var e=this;this.tableRenderedOnce?this.rerender():setTimeout(function(){e.dtTrigger.next(),e.tableRenderedOnce=!0,e.dataAvailable=!0},100)}},{key:"validate",value:function(){this.formError=!1,this.devicesAdded.length||(this.formError=!0)}},{key:"addDevices",value:function(){var t=this;this.inputData.verifyDevice=!1,this.errors=[];var i=[];if(this.deviceData&&this.deviceData.length){this.btnDisabled=!0;var n=[],a=[];if(this.deviceData.forEach(function(e,i,r){-1!==t.devicesAdded.indexOf(e)&&a.push("".concat(e));var o=t.performanceService.checkdeviceCafCapabilityBySN(e).pipe((0,p.K)(function(e){return(0,u.of)(e.status)}));n.push(o)}),a.length)return i.push({title:"Device Serial Number(s) already added.",body:a}),this.error=!0,this.btnDisabled=!1,this.errors=i,this.deviceData=[],void(this.selectData=[]);n.length?(this.loading=!0,(0,g.D)(n).subscribe(function(n){t.loading=!1,t.btnDisabled=!1;var a=[],r=[];n.forEach(function(i,n){var o,s,l=[];"object"==typeof i?i&&i.supported?((null===(o=null==i?void 0:i.details)||void 0===o?void 0:o.protocol)&&t.protocols.push(null===(s=null==i?void 0:i.details)||void 0===s?void 0:s.protocol),l.push(t.deviceData[n])):r.push("".concat(t.deviceData[n])):a.push("".concat(t.deviceData[n])),setTimeout(function(){t.deviceData=[],t.devicesAdded=[].concat(e(t.devicesAdded),l),t.rerender()},100)}),t.deviceData=[],t.selectData=[],a.length&&(i.push({title:"No device found by the given device(s) serial number.",body:a}),t.error=!0,l("html, body").animate({scrollTop:0},"slow")),r.length&&(i.push({title:"Device(s) do(es) not support TR143 or Ookla.",body:r}),t.error=!0,l("html, body").animate({scrollTop:0},"slow")),t.errors=i,t.deviceData=[],t.selectData=[]},function(e){t.loading=!1},function(){t.deviceData=[],t.selectData=[]})):this.errors=i}else this.saveClicked=!0;this.cd.detectChanges()}},{key:"onChangeData",value:function(e){var t=this;if(localStorage.removeItem("intialPaste"),null!==e&&0===e.length)return this.deviceData=[],this.selectData=[],setTimeout(function(){t.clearInputs()},1e3),void this.cd.detectChanges();this.cd.detectChanges()}},{key:"clearInputs",value:function(){this.intialPaste=!0}},{key:"getArrIndexByValue",value:function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i].b==t)return i}},{key:"doDeleteDevieSN",value:function(){this.saveClicked=!1;var e=this.devicesAdded.indexOf(this.deviceSN);this.deviceSN="",-1!==e&&this.devicesAdded.splice(e,1),this.devicesAdded.length||this.outputdata.emit(this.inputData),this.rerender()}},{key:"deleteDevice",value:function(e,t){this.saveClicked=!1,this.deviceSN=e,l("html, body").animate({scrollTop:0},"slow")}},{key:"cancelDelete",value:function(){this.deviceSN=""}},{key:"go_next",value:function(){var e,t;if(this.saveClicked=!0,this.validate(),!this.formError)return this.inputData.devices=this.devicesAdded,this.inputData.levelPassed<=2&&(this.inputData.levelPassed=2),(null===(e=this.inputData)||void 0===e?void 0:e.levelPassed)>=3&&(null===(t=this.inputData)||void 0===t?void 0:t.protocols)&&-1===this.inputData.protocols.indexOf("TR143 1.0")&&-1!==this.protocols.indexOf("TR143 1.0")&&(this.inputData.levelPassed=2),this.inputData.protocols=this.protocols?this.removeDuplicates(this.protocols):[],this.outputdata.emit(this.inputData),this.activeTab.emit("TestServerDetails"),!0}},{key:"gotoPrevious",value:function(){var e,t;this.inputData.devices=this.devicesAdded,(null===(e=this.inputData)||void 0===e?void 0:e.levelPassed)>=3&&(null===(t=this.inputData)||void 0===t?void 0:t.protocols)&&-1===this.inputData.protocols.indexOf("TR143 1.0")&&-1!==this.protocols.indexOf("TR143 1.0")&&(this.inputData.levelPassed=2),this.inputData.protocols=this.protocols?this.removeDuplicates(this.protocols):this.inputData.protocols,this.outputdata.emit(this.inputData),this.activeTab.emit("TestInstance")}},{key:"rerender",value:function(){var e=this;this.tableRenderedOnce?this.dtElement.dtInstance.then(function(t){t.destroy(),e.dtTrigger.next()}):setTimeout(function(){e.dtTrigger.next(),e.tableRenderedOnce=!0,e.dataAvailable=!0},100)}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?"Access Denied":this.sso.pageErrorHandle(e),this.closeAlert(),this.error=!0,this.errors.push({title:this.errorInfo,body:""})}},{key:"closeAlert",value:function(t){this.error=!1,this.success=!1,this.errors.splice(t,1),this.errors=e(this.errors)}},{key:"showSuccess",value:function(e){this.closeAlert(),this.successInfo=e,this.success=!0}},{key:"showError",value:function(e){this.closeAlert(),this.errorInfo=e,this.error=!0}},{key:"reload",value:function(){var e;-1===(null===(e=window.location.href)||void 0===e?void 0:e.indexOf("/cco/operations/configuration/performance-testing"))?this.sso.redirectByUrl(["support/netops-management/operations/performance-testing","cco/operations/cco-system-operations/performance-testing","","/cco/operations/cco-subscriber-operations/operations/performance-testing"]):this.router.navigate(["./cco/operations/configuration/performance-testing"])}},{key:"removeDuplicates",value:function(e){var t=[];return l.each(e,function(e,i){i=i.trim(),-1===l.inArray(i,t)&&t.push(i)}),t}},{key:"pasteMakeList",value:function(e){e.preventDefault();var t=(e.clipboardData||window.clipboardData).getData("text");this.makeList(t)}},{key:"makeList",value:function(t){var i=this,n="";t?(t,n=t,l("#device_input").val("")):(this.inputBoxData,n=this.inputBoxData);var a=[];if(n=(n=(n=(n=(n=n.trim()).replace(/,/g," ")).replace(/,\s+/g," ")).replace(/\n/g," ")).replace(/\s\s+/g," "),this.inputBoxData="",Array.prototype.push.apply(a,n.split(" ")),(a=a.filter(function(e){return e})).length){var r=[];a.forEach(function(e){e&&r.push({id:e.trim(),text:e.trim()})}),a=this.getUniqueArr(a);var o=[];a.forEach(function(e){i.deviceData.includes(e)||o.push(e.trim())}),this.deviceData=[].concat(e(this.deviceData),o)}}},{key:"removeData",value:function(e){this.deviceData.splice(e,1)}},{key:"onCustomPasteClick",value:function(e){e.preventDefault(),this.device_input.nativeElement.focus()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(h.s),d.Y36(Z),d.Y36(b.F0),d.Y36(T.v),d.Y36(m.t6),d.Y36(d.sBO))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-devices-wizard"]],viewQuery:function(e,t){var i;(1&e&&(d.Gf(s.G,5),d.Gf(w,7)),2&e)&&(d.iGM(i=d.CRH())&&(t.dtElement=i.first),d.iGM(i=d.CRH())&&(t.device_input=i.first))},inputs:{inputData:"inputData"},outputs:{outputdata:"outputdata",activeTab:"activeTab"},decls:47,vars:22,consts:[["class","loader",4,"ngIf"],[4,"ngIf"],["class","w-100 alert alert-success fade show mt-3 flex-space-between",4,"ngIf"],["id","deviceWizard",1,"device-wizard"],[1,"per-titledeviceWizard"],[1,"mt-3"],["class","warning-msg",4,"ngIf"],[1,"form-group","ccl-form","row"],[1,"col-2","control-label"],[1,"error"],[1,"col-8"],[1,"custom-paste-input",3,"click"],["class","custom-paste-list",4,"ngFor","ngForOf"],["id","device_input","name","device_input","type","text","title","","required","","aria-required","true","aria-describedby","device_input-error","trimSpace","",3,"ngModel","ngModelChange","paste","click","keyup.Space","keyup.enter"],["device_input",""],[1,"small-p"],["id","device_input-error","class","errorMessage",4,"ngIf"],[1,"col-2"],["type","button","id","netops-add-device-btn",1,"btn-default","primary","float-right",3,"disabled","click"],["id","netops-show-add-devices-table-list",1,"mt-5",3,"hidden"],["datatable","",1,"row-border","hover","table-alter",3,"dtOptions","dtTrigger"],[3,"id",4,"ngFor","ngForOf"],[1,"d-inline-flex","justify-content-start","performance-testing-button"],["type","button","id","netops-perftest-add-device-previous-btn",1,"btn-arrow","btn-arr-prev","btn-grey",3,"click"],["src","assets/img/ic_chevronleft_grey.svg"],["type","button","id","netops-perftest-add-device-cancel-btn",1,"btn-default","btn-dft","mx-2",3,"click"],["type","button","id","netops-perftest-add-device-next-btn",1,"btn-arrow","btn-arr-nxt","primary",3,"click"],["src","assets/img/ic_chevron-r-w.svg"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["class","w-100 alert alert-danger fade show mt-4",4,"ngFor","ngForOf"],[1,"w-100","alert","alert-danger","fade","show","mt-4"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"error-info-sec","d-inline-flex"],[1,"device-ul"],[4,"ngFor","ngForOf"],[1,"w-100","alert","alert-success","fade","show","mt-3","flex-space-between"],[1,"btn-default","px-3","ok-btn",3,"click"],[1,"warning-msg"],["src","./assets/img/warning-icon.svg"],[1,"btn-con-sec","float-right"],["id","deletePFBtn",1,"btn","warn-btn","mr-2",3,"click"],[1,"btn","warn-btn",3,"click"],[1,"custom-paste-list"],["data-key","",1,"remove-input-btn","primary",3,"click"],[1,"fa","fa-times"],["id","device_input-error",1,"errorMessage"],[1,"pl-3"],[3,"id"],[1,"doc-dele-icon"],[1,"cursor-pointer",3,"title","click"],["aria-hidden","true",1,"fa","fa-trash-o"],["colspan","2"],[1,"text-center"]],template:function(e,t){1&e&&(d.YNc(0,S,5,1,"div",0),d.YNc(1,O,2,1,"div",1),d.YNc(2,D,4,2,"div",2),d.TgZ(3,"div",3),d._UZ(4,"h4",4),d.TgZ(5,"div",5),d.YNc(6,C,10,4,"div",6),d.YNc(7,M,5,1,"div",0),d.TgZ(8,"section"),d.TgZ(9,"div",7),d.TgZ(10,"label",8),d._uU(11),d.TgZ(12,"span",9),d._uU(13,"*"),d.qZA(),d.qZA(),d.TgZ(14,"div",10),d.TgZ(15,"div",11),d.NdJ("click",function(e){return t.onCustomPasteClick(e)}),d.YNc(16,U,4,1,"div",12),d.TgZ(17,"input",13,14),d.NdJ("ngModelChange",function(e){return t.inputBoxData=e})("paste",function(e){return t.pasteMakeList(e)})("click",function(){return t.makeList()})("keyup.Space",function(){return t.makeList()})("keyup.enter",function(){return t.makeList()}),d.qZA(),d.qZA(),d.TgZ(19,"p",15),d._uU(20),d.qZA(),d.YNc(21,k,3,1,"div",16),d.qZA(),d.TgZ(22,"div",17),d.TgZ(23,"button",18),d.NdJ("click",function(){return t.addDevices()}),d._uU(24),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(25,"div",19),d.TgZ(26,"table",20),d.TgZ(27,"thead"),d.TgZ(28,"tr"),d.TgZ(29,"th"),d._uU(30),d.qZA(),d.TgZ(31,"th"),d._uU(32),d.qZA(),d.qZA(),d.qZA(),d.TgZ(33,"tbody"),d.YNc(34,P,7,3,"tr",21),d.YNc(35,I,4,1,"tr",1),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(36,"div",22),d.TgZ(37,"div"),d.TgZ(38,"button",23),d.NdJ("click",function(){return t.gotoPrevious()}),d._UZ(39,"img",24),d._uU(40),d.qZA(),d.qZA(),d.TgZ(41,"div"),d.TgZ(42,"button",25),d.NdJ("click",function(){return t.reload()}),d._uU(43),d.qZA(),d.TgZ(44,"button",26),d.NdJ("click",function(){return t.go_next()}),d._uU(45),d._UZ(46,"img",27),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.Q6J("ngIf",t.loading),d.xp6(1),d.Q6J("ngIf",t.errors.length),d.xp6(1),d.Q6J("ngIf",t.success),d.xp6(4),d.Q6J("ngIf",t.deviceSN),d.xp6(1),d.Q6J("ngIf",t.loading),d.xp6(4),d.hij("",t.language.Device_ID," "),d.xp6(5),d.Q6J("ngForOf",t.deviceData),d.xp6(1),d.Q6J("ngModel",t.inputBoxData),d.xp6(3),d.Oqu(t.language.EXOS_Systems),d.xp6(1),d.Q6J("ngIf",t.saveClicked&&!t.devicesAdded.length),d.xp6(2),d.Q6J("disabled",t.btnDisabled),d.xp6(1),d.hij(" ",t.language.Add," "),d.xp6(1),d.Q6J("hidden",!t.dataAvailable),d.xp6(1),d.Q6J("dtOptions",t.tableOptions)("dtTrigger",t.dtTrigger),d.xp6(4),d.Oqu(t.language.Device_ID),d.xp6(2),d.Oqu(t.language.Action),d.xp6(2),d.Q6J("ngForOf",t.devicesAdded),d.xp6(1),d.Q6J("ngIf",!t.devicesAdded.length),d.xp6(5),d.hij(" ",t.language.Previous," "),d.xp6(3),d.hij(" ",t.language.cancel," "),d.xp6(2),d.hij(" ",t.language.Next," "))},directives:[x.O5,x.sg,A.Fj,A.Q7,_.f,A.JJ,A.On,s.G],styles:["ul.device-ul[_ngcontent-%COMP%]{margin-bottom:0;list-style:disc;margin-left:30px}.ng-select2[_ngcontent-%COMP%]{height:34px!important}.custom-paste-input[_ngcontent-%COMP%]{width:100%;min-height:38px;max-height:700px;line-height:inherit;border-radius:26px;background:#f8f8fa;padding:0 15px;font-size:14px;font-weight:400;color:#646363;border:1px solid transparent;cursor:text;display:flex;flex-direction:row;flex-wrap:wrap}.custom-paste-input[_ngcontent-%COMP%]   .custom-paste-list[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;min-height:29px;padding:3px 2px 0;font-size:14px;background-color:#e4e4e4;border:1px solid #aaa;border-radius:4px;cursor:default;margin:3px;word-break:break-all}.custom-paste-input[_ngcontent-%COMP%]   .custom-paste-list[_ngcontent-%COMP%]   .remove-input-btn[_ngcontent-%COMP%]{float:right;margin-right:5px;cursor:pointer}.custom-paste-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%!important;border:none}.custom-paste-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none!important}"]}),t}(),N=r(20904);function E(e,t){if(1&e&&(d.TgZ(0,"div",19),d.TgZ(1,"div",20),d.TgZ(2,"div",21),d.TgZ(3,"span",22),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw();d.xp6(4),d.Oqu(i.language.Loading)}}function F(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",23),d.TgZ(1,"span",24),d._UZ(2,"img",25),d.qZA(),d.TgZ(3,"button",26),d.NdJ("click",function(){return d.CHM(i),d.oxw().closeAlert()}),d._UZ(4,"span"),d.qZA(),d._UZ(5,"div",27),d.qZA()}if(2&e){var n=d.oxw();d.xp6(5),d.Q6J("innerHtml",n.errorInfo,d.oJD)}}function Q(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",28),d.TgZ(1,"button",26),d.NdJ("click",function(){return d.CHM(i),d.oxw().closeAlert()}),d._UZ(2,"span"),d.qZA(),d._UZ(3,"div",29),d.qZA()}if(2&e){var n=d.oxw();d.xp6(3),d.Q6J("innerHtml",n.successInfo,d.oJD)}}var H=function(e){return{"error-occure":e}},Y=function(){var e=function(){function e(t,n,a,r,o,s){i(this,e),this.translateService=t,this.performanceService=n,this.router=a,this.commonOrgService=r,this.CommonFunctionsService=o,this.sso=s,this.errorInfo="",this.successInfo="",this.saveClicked=!1,this.formError=!1,this.outputdata=new d.vpe,this.activeTab=new d.vpe,this.loading=!1,this.name=""}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.name=this.inputData.name,this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t})}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe()}},{key:"validate",value:function(){this.formError=!1,this.name=this.name.trim(),this.name||(this.formError=!0)}},{key:"go_next",value:function(){var e=this;if(this.saveClicked=!0,this.validate(),!this.formError){if(this.loading=!0,this.inputData._id&&this.inputData.name==this.name)return this.outputdata.emit(this.inputData),void this.activeTab.emit("Devices");this.inputData.name=this.name,this.performanceService.getPerfTestByName(this.inputData.name).subscribe(function(t){e.loading=!1,t&&t.length?e.showError('A test with the name "'.concat(e.inputData.name,'" already exists.')):(e.inputData.levelPassed<=1&&(e.inputData.levelPassed=1),e.outputdata.emit(e.inputData),e.activeTab.emit("Devices"))},function(t){e.pageErrorHandle(t),e.loading=!1})}}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.sso.pageErrorHandle(e),this.closeAlert(),this.error=!0,l("html, body").animate({scrollTop:0},"slow")}},{key:"closeAlert",value:function(){this.error=!1,this.success=!1}},{key:"showSuccess",value:function(e){this.closeAlert(),this.successInfo=e,this.success=!0}},{key:"showError",value:function(e){this.closeAlert(),this.errorInfo=e,this.error=!0}},{key:"reload",value:function(){var e;-1===(null===(e=window.location.href)||void 0===e?void 0:e.indexOf("/cco/operations/configuration/performance-testing"))?this.sso.redirectByUrl(["support/netops-management/operations/performance-testing","cco/operations/cco-system-operations/performance-testing","","/cco/operations/cco-subscriber-operations/operations/performance-testing"]):this.router.navigate(["./cco/operations/configuration/performance-testing"])}},{key:"removeUnwantedSpace",value:function(e,t){this[e]=this.CommonFunctionsService.trimSpaceFromNonObjectInputs(t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(h.s),d.Y36(Z),d.Y36(b.F0),d.Y36(T.v),d.Y36(N.i),d.Y36(m.t6))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-instance-wizard"]],inputs:{inputData:"inputData"},outputs:{outputdata:"outputdata",activeTab:"activeTab"},decls:33,vars:18,consts:[["class","loader",4,"ngIf"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],["class","w-100 alert alert-success fade show my-3",4,"ngIf"],[1,"margin-top-20"],[1,"form-group","ccl-form","row","m-0"],[1,"col-lg-2","col-md-2","control-label"],[1,"error"],[1,"col-lg-10","col-md-10","col-sm-10",3,"ngClass"],["id","name_input","name","name_input","type","text","required","","aria-required","true","aria-describedby","name_input-error","trimSpace","",3,"placeholder","ngModel","ngModelChange","blur"],["id","name_input-error",1,"errorMessage"],[1,"small-tag","small"],[1,"col-lg-10","col-md-10","col-sm-10"],["id","decription_input","name","description","type","text","trimSpace","",1,"",3,"placeholder","ngModel","formValue","ngModelChange"],[1,"d-inline-flex","justify-content-start","performance-testing-button"],["type","button","disabled","","id","netops-perftest-instance-wizard-previous-btn",1,"btn-arrow","btn-arr-prev","btn-grey"],["src","assets/img/ic_chevronleft_grey.svg"],["type","button","id","netops-perftest-instance-wizard-cancel-btn",1,"btn-default","btn-dft","mx-2",3,"click"],["type","button","id","netops-perftest-instance-wizard-next-btn",1,"btn-arrow","btn-arr-nxt","primary",3,"click"],["src","assets/img/ic_chevron-r-w.svg"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert-success","fade","show","my-3"],[3,"innerHtml"]],template:function(e,t){1&e&&(d.YNc(0,E,5,1,"div",0),d.YNc(1,F,6,1,"div",1),d.YNc(2,Q,4,1,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"section"),d.TgZ(5,"div",4),d.TgZ(6,"label",5),d._uU(7),d.TgZ(8,"span",6),d._uU(9,"*"),d.qZA(),d.qZA(),d.TgZ(10,"div",7),d.TgZ(11,"input",8),d.NdJ("ngModelChange",function(e){return t.name=e})("blur",function(){return t.removeUnwantedSpace("name",t.name)}),d.qZA(),d.TgZ(12,"div",9),d.TgZ(13,"p"),d._uU(14),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(15,"div",4),d.TgZ(16,"label",5),d._uU(17),d.TgZ(18,"span",10),d._uU(19),d.qZA(),d.qZA(),d.TgZ(20,"div",11),d.TgZ(21,"input",12),d.NdJ("ngModelChange",function(e){return t.inputData.description=e}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"div",13),d.TgZ(23,"div"),d.TgZ(24,"button",14),d._UZ(25,"img",15),d._uU(26),d.qZA(),d.qZA(),d.TgZ(27,"div"),d.TgZ(28,"button",16),d.NdJ("click",function(){return t.reload()}),d._uU(29),d.qZA(),d.TgZ(30,"button",17),d.NdJ("click",function(){return t.go_next()}),d._uU(31),d._UZ(32,"img",18),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.Q6J("ngIf",t.loading),d.xp6(1),d.Q6J("ngIf",t.error),d.xp6(1),d.Q6J("ngIf",t.success),d.xp6(5),d.hij("",t.language.Name," "),d.xp6(3),d.Q6J("ngClass",d.VKq(16,H,t.saveClicked&&!t.name)),d.xp6(1),d.s9C("placeholder",t.language.Name),d.Q6J("ngModel",t.name),d.xp6(3),d.hij(" ",t.language.Enter_A_Value," "),d.xp6(3),d.hij("",t.language.description," "),d.xp6(2),d.hij(" ",t.language.optional,""),d.xp6(2),d.s9C("placeholder",t.language.description),d.Q6J("ngModel",t.inputData.description)("formValue",t.inputData),d.xp6(5),d.Oqu(t.language.Previous),d.xp6(3),d.Oqu(t.language.cancel),d.xp6(2),d.hij("",t.language.Next," "))},directives:[x.O5,x.mk,A.Fj,A.Q7,_.f,A.JJ,A.On],styles:[".errorMessage[_ngcontent-%COMP%]{color:#c70000;visibility:hidden;opacity:0}.error-occure[_ngcontent-%COMP%]   .errorMessage[_ngcontent-%COMP%]{visibility:visible;opacity:1}.error-occure[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:#c70000}"]}),e}(),j=r(86640);function L(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",22),d.TgZ(1,"span",23),d._UZ(2,"img",24),d.qZA(),d.TgZ(3,"button",25),d.NdJ("click",function(){return d.CHM(i),d.oxw().closeAlert()}),d._UZ(4,"span"),d.qZA(),d._UZ(5,"div",26),d.qZA()}if(2&e){var n=d.oxw();d.xp6(5),d.Q6J("innerHtml",n.errorInfo,d.oJD)}}function z(e,t){if(1&e&&(d.TgZ(0,"div",27),d.TgZ(1,"div",28),d.TgZ(2,"div",29),d.TgZ(3,"span",30),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw();d.xp6(4),d.Oqu(i.language.Loading)}}function R(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"ng-select",41),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(2).primaryServer=e})("change",function(){return d.CHM(i),d.oxw(2).changePrimaryServer()}),d.qZA()}if(2&e){var n=d.oxw(2);d.Q6J("items",n.serverData)("ngModel",n.primaryServer)("searchable",!0)}}var V=function(e){return{"error-occur-sec":e}};function W(e,t){if(1&e&&(d.TgZ(0,"section"),d.TgZ(1,"div",31),d.TgZ(2,"label",32),d.TgZ(3,"div",33),d._uU(4),d.TgZ(5,"span",34),d._uU(6,"*"),d.qZA(),d.qZA(),d.TgZ(7,"p",35),d._uU(8),d.qZA(),d.qZA(),d.TgZ(9,"div",36),d.TgZ(10,"div",37),d.YNc(11,R,1,3,"ng-select",38),d.qZA(),d.TgZ(12,"p",39),d._uU(13),d.qZA(),d.TgZ(14,"div",40),d._uU(15),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Q6J("ngClass",d.VKq(6,V,i.error&&!i.primaryServer)),d.xp6(3),d.hij("",i.language.Primary_server," "),d.xp6(4),d.hij(" ",i.language.GigaSpire_desc," "),d.xp6(3),d.Q6J("ngIf",i.serverData.length),d.xp6(2),d.Oqu(i.language.Plan_Desc),d.xp6(2),d.hij(" ",i.language.select_value," ")}}function B(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"ng-select",45),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(2).secondaryServer=e})("change",function(){return d.CHM(i),d.oxw(2).changeSecondaryServer()}),d.qZA()}if(2&e){var n=d.oxw(2);d.Q6J("items",n.serverData)("ngModel",n.secondaryServer)("searchable",!0)}}function G(e,t){if(1&e&&(d.TgZ(0,"section"),d.TgZ(1,"div",5),d.TgZ(2,"label",42),d.TgZ(3,"div",33),d._uU(4),d.qZA(),d.TgZ(5,"p",35),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"div",43),d.TgZ(8,"div",37),d.YNc(9,B,1,3,"ng-select",44),d.qZA(),d.TgZ(10,"p",39),d._uU(11),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw();d.xp6(4),d.Oqu(i.language.Secondary_server),d.xp6(2),d.Oqu(i.language.GigaSpire_desc),d.xp6(3),d.Q6J("ngIf",i.serverData.length),d.xp6(2),d.Oqu(i.language.Plan_Desc)}}function K(e,t){if(1&e&&(d.TgZ(0,"div",40),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.language[i.downloadUrlError]," ")}}function $(e,t){if(1&e&&(d.TgZ(0,"div",40),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.language[i.uploadUrlError]," ")}}function X(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"section"),d.TgZ(2,"div",46),d.TgZ(3,"label",32),d.TgZ(4,"div",47),d._uU(5),d.qZA(),d.TgZ(6,"p",35),d._uU(7),d.qZA(),d.qZA(),d.TgZ(8,"div",36),d.TgZ(9,"input",48),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw().downloadUrl=e})("change",function(){return d.CHM(i),d.oxw().validateDownloadUrl()})("keyup",function(){return d.CHM(i),d.oxw().validateDownloadUrl()}),d.qZA(),d.TgZ(10,"p",39),d._uU(11),d.qZA(),d.YNc(12,K,2,1,"div",49),d.qZA(),d.qZA(),d.qZA(),d.TgZ(13,"section"),d.TgZ(14,"div",46),d.TgZ(15,"label",32),d.TgZ(16,"div",47),d._uU(17),d.qZA(),d.TgZ(18,"p",35),d._uU(19),d.qZA(),d.qZA(),d.TgZ(20,"div",36),d.TgZ(21,"input",50),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw().uploadUrl=e})("change",function(){return d.CHM(i),d.oxw().validateUploadUrl()})("keyup",function(){return d.CHM(i),d.oxw().validateUploadUrl()}),d.qZA(),d.TgZ(22,"p",39),d._uU(23),d.qZA(),d.YNc(24,$,2,1,"div",49),d.qZA(),d.qZA(),d.qZA(),d.TgZ(25,"section"),d.TgZ(26,"div",46),d.TgZ(27,"label",32),d.TgZ(28,"div",47),d._uU(29),d.qZA(),d.TgZ(30,"p",35),d._uU(31),d.qZA(),d.qZA(),d.TgZ(32,"div",36),d.TgZ(33,"input",51),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw().uploadFileSize=e})("change",function(){return d.CHM(i),d.oxw().validateUploadFileSize()})("keyup",function(){return d.CHM(i),d.oxw().validateUploadFileSize()}),d.qZA(),d.TgZ(34,"p",39),d._uU(35),d.qZA(),d.TgZ(36,"div",40),d._uU(37),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw();d.xp6(2),d.Q6J("ngClass",d.VKq(18,V,n.downloadUrlError)),d.xp6(3),d.Oqu(n.language.downURL),d.xp6(2),d.hij("(",n.language.TR_143_Only,")"),d.xp6(2),d.Q6J("ngModel",n.downloadUrl),d.xp6(2),d.Oqu(n.language.Plan_Desc),d.xp6(1),d.Q6J("ngIf",n.downloadUrlError),d.xp6(2),d.Q6J("ngClass",d.VKq(20,V,n.uploadUrlError)),d.xp6(3),d.Oqu(n.language.uploadURL),d.xp6(2),d.hij("(",n.language.TR_143_Only,")"),d.xp6(2),d.Q6J("ngModel",n.uploadUrl),d.xp6(2),d.Oqu(n.language.Plan_Desc),d.xp6(1),d.Q6J("ngIf",n.uploadUrlError),d.xp6(2),d.Q6J("ngClass",d.VKq(22,V,n.uploadFileSizeError)),d.xp6(3),d.hij(" ",n.language.Upload_File_Size_bytes," "),d.xp6(2),d.hij("(",n.language.TR_143_Only,")"),d.xp6(2),d.Q6J("ngModel",n.uploadFileSize),d.xp6(2),d.Oqu(n.language.Plan_Desc),d.xp6(2),d.hij(" ",n.language[n.uploadFileSizeError]," ")}}function ee(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"ng-select",63),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw(2).serviceTierSelectred=e}),d.qZA()}if(2&e){var n=d.oxw(2);d.Q6J("items",n.serviceTierOptions)("searchable",!0)("ngModel",n.serviceTierSelectred)}}function te(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",52),d.TgZ(1,"section"),d.TgZ(2,"div",5),d.TgZ(3,"label",53),d.TgZ(4,"div",33),d._uU(5),d.qZA(),d.TgZ(6,"p",35),d._uU(7),d.qZA(),d.qZA(),d.TgZ(8,"div",43),d.TgZ(9,"div",54),d.YNc(10,ee,1,3,"ng-select",55),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"section"),d.TgZ(12,"div",46),d.TgZ(13,"label",56),d.TgZ(14,"div",57),d._uU(15),d.TgZ(16,"span",34),d._uU(17,"*"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(18,"div",43),d.TgZ(19,"input",58),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw().serviceTierDownloadSpeed=e})("change",function(){return d.CHM(i),d.oxw().validateServiceTierDownloadSpeed()}),d.qZA(),d.TgZ(20,"div",59),d._uU(21),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"section"),d.TgZ(23,"div",46),d.TgZ(24,"label",56),d.TgZ(25,"div",57),d._uU(26),d.TgZ(27,"span",34),d._uU(28,"*"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(29,"div",43),d.TgZ(30,"input",60),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw().serviceTierUploadSpeed=e})("change",function(){return d.CHM(i),d.oxw().validateServiceTierUploadSpeed()}),d.qZA(),d.TgZ(31,"div",59),d._uU(32),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(33,"section"),d.TgZ(34,"div",46),d.TgZ(35,"label",56),d.TgZ(36,"div",57),d._uU(37),d.TgZ(38,"span",34),d._uU(39,"*"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(40,"div",43),d.TgZ(41,"input",61),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw().speedThreshold=e})("change",function(){return d.CHM(i),d.oxw().validatSpeedThreshold()}),d.qZA(),d.TgZ(42,"p",39),d._uU(43),d.qZA(),d.TgZ(44,"div",59),d._uU(45),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(46,"section"),d.TgZ(47,"div",46),d.TgZ(48,"label",56),d.TgZ(49,"div",57),d._uU(50),d.TgZ(51,"span",34),d._uU(52,"*"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(53,"div",43),d.TgZ(54,"input",62),d.NdJ("ngModelChange",function(e){return d.CHM(i),d.oxw().latencyThreshold=e})("change",function(){return d.CHM(i),d.oxw().validatLatencyThreshold()}),d.qZA(),d.TgZ(55,"p",39),d._uU(56),d.qZA(),d.TgZ(57,"div",59),d._uU(58),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw();d.xp6(5),d.Oqu(n.language.Service_Tier),d.xp6(2),d.Oqu(n.language.Down_Upldspeed),d.xp6(3),d.Q6J("ngIf",n.serviceTierOptions.length),d.xp6(2),d.Q6J("ngClass",d.VKq(21,V,n.error&&n.validateServiceTierDownloadSpeedMsg)),d.xp6(3),d.hij(" ",n.language.Download_Speed_TIER," "),d.xp6(4),d.Q6J("ngModel",n.serviceTierDownloadSpeed),d.xp6(2),d.hij(" ",n.language[n.validateServiceTierDownloadSpeedMsg]," "),d.xp6(2),d.Q6J("ngClass",d.VKq(23,V,n.error&&n.validateServiceTierUploadSpeedMsg)),d.xp6(3),d.hij(" ",n.language.Upload_Speed_TIER," "),d.xp6(4),d.Q6J("ngModel",n.serviceTierUploadSpeed),d.xp6(2),d.hij(" ",n.language[n.validateServiceTierUploadSpeedMsg]," "),d.xp6(2),d.Q6J("ngClass",d.VKq(25,V,n.error&&n.validatSpeedThresholdMsg)),d.xp6(3),d.hij(" ",n.language.Speed_Threshold," "),d.xp6(4),d.Q6J("ngModel",n.speedThreshold),d.xp6(2),d.hij("",n.language.In_percentage," (%)"),d.xp6(2),d.hij(" ",n.language[n.validatSpeedThresholdMsg]," "),d.xp6(2),d.Q6J("ngClass",d.VKq(27,V,n.error&&n.validatLatencyThresholdMsg)),d.xp6(3),d.hij(" ",n.language.Latency_Threshold," "),d.xp6(4),d.Q6J("ngModel",n.latencyThreshold),d.xp6(2),d.Oqu(n.language.In_milliseconds),d.xp6(2),d.hij(" ",n.language[n.validatLatencyThresholdMsg]," ")}}function ie(e,t){if(1&e&&(d.TgZ(0,"div",64),d.TgZ(1,"a",65),d._UZ(2,"img",66),d.qZA(),d.TgZ(3,"span",67),d.TgZ(4,"a",68),d._uU(5),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw();d.xp6(5),d.Oqu(i.language.OOKLA_Privacy_Policy)}}var ne=function(){var t=function(){function t(e,n,a,r,o){i(this,t),this.translateService=e,this.router=n,this.api=a,this.commonOrgService=r,this.sso=o,this.downloadUrl="",this.uploadUrl="",this.downloadUrlError="",this.uploadUrlError="",this.uploadFileSizeError="",this.latencyThreshold=100,this.speedThreshold=80,this.serviceTierOptions=[{id:"Kbps",name:"Kbps"},{id:"Mbps",name:"Mbps"}],this.serviceTierSelectred="Kbps",this.dataPbitInput=["0","1","2","4","5","6","7"],this.dataBwProfile=["BW_1G_1G","bw 100","bandwidth","bw_lai"],this.showservice=!1,this.serverDetails=[],this.speed_threshold=80,this.latency_threshold=100,this.test_threshold=!1,this.saveClicked=!1,this.formError=!1,this.primaryServer="",this.secondaryServer="",this.serverData=[],this.errorInfo="",this.successInfo="",this.protocols={ookla:!1,tr143:!1},this.validHostRegex=/((h|H)ttp(s)?:\/\/)+(www\.)?(([^www\.][-a-zA-Z0-9@:%._\+~#=]{2,236})\.[a-z]{2,6})\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi,this.outputdata=new d.vpe,this.activeTab=new d.vpe,this.serviceTierSpeedTreshChecked=!1,this.serviceTierSpeedTreshUnChecked=!0,this.loading=!0,this.validateServiceTierDownloadSpeedMsg="",this.validateServiceTierUploadSpeedMsg="",this.validatSpeedThresholdMsg="",this.validatLatencyThresholdMsg=""}return a(t,[{key:"ngOnInit",value:function(){var e,t,i=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){i.language=e}),this.getServerDetails(),this.inputData&&this.inputData.protocols&&this.inputData.protocols.forEach(function(e){var t=e.toLowerCase();-1!==t.indexOf("ookla")&&(i.protocols.ookla=!0),-1!==t.indexOf("tr143")&&(i.protocols.tr143=!0)}),this.inputData&&this.inputData.primaryOoklaServerId&&(this.protocols.ookla=!0),this.inputData&&this.inputData.downloadUrl&&(this.protocols.tr143=!0),this.serviceTierDownloadSpeed=this.inputData&&this.inputData.serviceTierDownloadSpeed?this.inputData.serviceTierDownloadSpeed:"",this.serviceTierUploadSpeed=this.inputData&&this.inputData.serviceTierUploadSpeed?this.inputData.serviceTierUploadSpeed:"",this.speedThreshold=this.inputData&&this.inputData.speedThreshold?this.inputData.speedThreshold:80,this.latencyThreshold=this.inputData&&this.inputData.latencyThreshold?this.inputData.latencyThreshold:100,this.serviceTierSelectred=this.inputData&&this.inputData.serviceTier?this.inputData.serviceTier:"Kbps",(this.serviceTierDownloadSpeed&&this.serviceTierUploadSpeed||(null===(e=this.inputData)||void 0===e?void 0:e.serviceTierandTrshldChecked))&&(l("#serviceTierSpeedTreshChecked").prop("checked",!0),this.serviceTierSpeedTreshChecked=!0,this.showservice=!0,this.inputData.serviceTierandTrshldChecked=!0),this.serviceTierSpeedTreshChecked=!!(null===(t=this.inputData)||void 0===t?void 0:t.serviceTierandTrshldChecked),this.inputData&&"Mbps"===this.inputData.serviceTier&&(this.serviceTierDownloadSpeed=this.serviceTierDownloadSpeed/1e3,this.serviceTierUploadSpeed=this.serviceTierUploadSpeed/1e3),this.protocols&&this.protocols.tr143&&(this.downloadUrl=this.inputData.downloadUrl,this.uploadUrl=this.inputData.uploadUrl,this.uploadFileSize=this.inputData.uploadFileSize)}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe()}},{key:"showform",value:function(e){e.target.checked&&"yes"===e.target.value&&(this.test_threshold=!0,this.showservice=!0)}},{key:"hideform",value:function(e){this.test_threshold=!1,this.showservice=!1}},{key:"getServerDetails",value:function(){var e=this;this.getAllServerData=this.api.GetServerDetails(!0).subscribe(function(t){t&&t.length&&t.forEach(function(e){e.optionDec="".concat(e.host," (located at ").concat(e.cityState," ) ASN: ").concat(e.asn),e.disabled=!1}),t.unshift({_id:"",fccDesignatedAsn:!0,host:"",cityState:"",optionDec:"",disabled:!1}),e.serverData=t,e.inputData&&e.inputData.primaryOoklaServerId&&(e.primaryServer=e.inputData.primaryOoklaServerId),e.inputData&&e.inputData.secondaryOoklaServerId&&(e.secondaryServer=e.inputData.secondaryOoklaServerId),e.setDefaultValue(),e.loading=!1},function(t){e.pageErrorHandle(t)})}},{key:"bindServerData",value:function(e){}},{key:"validate",value:function(){this.formError=!1,this.download_speed&&this.upload_speed||(this.formError=!0)}},{key:"validateServiceTierDownloadSpeed",value:function(){return this.validateServiceTierDownloadSpeedMsg="",""==this.serviceTierDownloadSpeed?(this.validateServiceTierDownloadSpeedMsg="Please enter a value",void this.showError()):!(this.serviceTierDownloadSpeed<1)||(this.validateServiceTierDownloadSpeedMsg="Please enter a value greater than or equal to 1.",void this.showError())}},{key:"validateServiceTierUploadSpeed",value:function(){return this.validateServiceTierUploadSpeedMsg="",""==this.serviceTierUploadSpeed?(this.validateServiceTierUploadSpeedMsg="Please enter a value",void this.showError()):!(this.serviceTierUploadSpeed<1)||(this.validateServiceTierUploadSpeedMsg="Please enter a value greater than or equal to 1.",void this.showError())}},{key:"validatSpeedThreshold",value:function(){return this.validatSpeedThresholdMsg="",""==this.speedThreshold?(this.validatSpeedThresholdMsg="Please enter a value",void this.showError()):this.speedThreshold<1?(this.validatSpeedThresholdMsg="Please enter a value greater than or equal to 1.",void this.showError()):!(this.speedThreshold>100)||(this.validatSpeedThresholdMsg="Please enter a value less than or equal to 100",void this.showError())}},{key:"validatLatencyThreshold",value:function(){return this.validatLatencyThresholdMsg="",""==this.latencyThreshold?(this.validatLatencyThresholdMsg="Please enter a value",void this.showError()):this.latencyThreshold<1?(this.validatLatencyThresholdMsg="Please enter a value greater than or equal to 1.",void this.showError()):!(this.latencyThreshold>100)||(this.validatLatencyThresholdMsg="Please enter a value less than or equal to 100",void this.showError())}},{key:"go_next",value:function(){if(this.protocols&&this.protocols.ookla&&!this.primaryServer)this.showError();else if(!this.protocols||!this.protocols.tr143||this.validateDownloadUrl()&&this.validateUploadUrl()&&this.validateUploadFileSize()){if(l("#serviceTierSpeedTreshChecked").prop("checked")){if(!this.validateServiceTierDownloadSpeed())return void this.showError();if(!this.validateServiceTierUploadSpeed())return void this.showError();if(!this.validatSpeedThreshold())return void this.showError();if(!this.validatLatencyThreshold())return void this.showError();this.inputData.serviceTierandTrshldChecked=!0,this.serviceTierSpeedTreshChecked=!0}else this.serviceTierDownloadSpeed=0,this.serviceTierUploadSpeed=0,this.inputData.serviceTierandTrshldChecked=!1,this.serviceTierSpeedTreshChecked=!1;var e=this.findObjByKeyValue(this.primaryServer,this.serverData),t=this.findObjByKeyValue(this.secondaryServer,this.serverData);return this.inputData.levelPassed<=3&&(this.inputData.levelPassed=3),this.protocols&&this.protocols.ookla&&(this.inputData.primaryOoklaServerId=e._id,this.inputData.primaryOoklaServerHostname=e.host,this.inputData.primaryOoklaServerCityState=e.cityState,this.inputData.primaryOoklaServerAsn=e.asn,this.inputData.secondaryOoklaServerId=t._id,this.inputData.secondaryOoklaServerHostname=t.host,this.inputData.secondaryOoklaServerCityState=t.cityState,this.inputData.secondaryOoklaServerAsn=t.asn),this.protocols&&this.protocols.tr143&&(this.inputData.downloadUrl=this.downloadUrl,this.inputData.uploadUrl=this.uploadUrl,this.inputData.uploadFileSize=this.uploadFileSize),this.inputData.serviceTierDownloadSpeed=this.serviceTierDownloadSpeed?this.serviceTierDownloadSpeed:0,this.inputData.serviceTierUploadSpeed=this.serviceTierUploadSpeed?this.serviceTierUploadSpeed:0,this.inputData.speedThreshold=this.speedThreshold,this.inputData.latencyThreshold=this.latencyThreshold,this.inputData.serviceTier=this.serviceTierSelectred,"Mbps"===this.inputData.serviceTier&&(this.inputData.serviceTierDownloadSpeed=1e3*this.inputData.serviceTierDownloadSpeed,this.inputData.serviceTierUploadSpeed=1e3*this.inputData.serviceTierUploadSpeed),this.outputdata.emit(this.inputData),this.activeTab.emit("TestSchedule"),!0}}},{key:"findObjByKeyValue",value:function(e,t){for(var i=0;i<t.length;i++)if(t[i]._id===e)return t[i];return!1}},{key:"findObjIndexByKeyValue",value:function(e,t){for(var i=0;i<t.length;i++)if(t[i]._id===e)return i;return-1}},{key:"closeAlert",value:function(){this.error=!1,this.success=!1}},{key:"showSuccess",value:function(){this.closeAlert(),this.success=!0}},{key:"showError",value:function(){this.closeAlert(),this.error=!0}},{key:"gotoPrevious",value:function(){l("#serviceTierSpeedTreshChecked").prop("checked")?(this.inputData.serviceTierandTrshldChecked=!0,this.serviceTierSpeedTreshChecked=!0):(this.serviceTierDownloadSpeed=0,this.serviceTierUploadSpeed=0,this.inputData.serviceTierandTrshldChecked=!1,this.serviceTierSpeedTreshChecked=!1);var e=this.findObjByKeyValue(this.primaryServer,this.serverData),t=this.findObjByKeyValue(this.secondaryServer,this.serverData);return this.protocols&&this.protocols.ookla&&(this.inputData.primaryOoklaServerId=e?e._id:"",this.inputData.primaryOoklaServerHostname=e?e.host:"",this.inputData.primaryOoklaServerCityState=e?e.cityState:"",this.inputData.primaryOoklaServerAsn=e?e.asn:"",this.inputData.secondaryOoklaServerId=t?t._id:"",this.inputData.secondaryOoklaServerHostname=t?t.host:"",this.inputData.secondaryOoklaServerCityState=t?t.cityState:"",this.inputData.secondaryOoklaServerAsn=t?t.asn:""),this.protocols&&this.protocols.tr143&&(this.inputData.downloadUrl=this.downloadUrl,this.inputData.uploadUrl=this.uploadUrl,this.inputData.uploadFileSize=this.uploadFileSize),this.inputData.serviceTierDownloadSpeed=this.serviceTierDownloadSpeed?this.serviceTierDownloadSpeed:0,this.inputData.serviceTierUploadSpeed=this.serviceTierUploadSpeed?this.serviceTierUploadSpeed:0,this.inputData.speedThreshold=this.speedThreshold,this.inputData.latencyThreshold=this.latencyThreshold,this.inputData.serviceTierandTrshldChecked=this.serviceTierSpeedTreshChecked,this.inputData.serviceTier=this.serviceTierSelectred,this.inputData&&"Mbps"===this.inputData.serviceTier&&(this.inputData.serviceTierDownloadSpeed=1e3*this.inputData.serviceTierDownloadSpeed,this.inputData.serviceTierUploadSpeed=1e3*this.inputData.serviceTierUploadSpeed),this.outputdata.emit(this.inputData),this.outputdata.emit(this.inputData),this.activeTab.emit("Devices"),!0}},{key:"setserviceTierandTrshldChecked",value:function(){this.inputData.serviceTierandTrshldChecked=!0,this.serviceTierSpeedTreshChecked=!0}},{key:"setserviceTierandTrshldUnChecked",value:function(){this.inputData.serviceTierandTrshldChecked=!1,this.serviceTierSpeedTreshChecked=!1}},{key:"changePrimaryServer",value:function(){var t=this;this.setDefaultValue(),setTimeout(function(){if(t.primaryServer){var e=t.findObjIndexByKeyValue(t.primaryServer,t.serverData),i=t.findObjByKeyValue(t.primaryServer,t.serverData);i.disabled=!0,t.serverData.splice(e,1,i)}},1e3),this.serverData=e(this.serverData)}},{key:"changeSecondaryServer",value:function(){var t=this;this.setDefaultValue(),setTimeout(function(){if(t.secondaryServer){var e=t.findObjIndexByKeyValue(t.primaryServer,t.serverData),i=t.findObjByKeyValue(t.primaryServer,t.serverData);i.disabled=!0,t.serverData.splice(e,1,i)}},1e3),this.serverData=e(this.serverData)}},{key:"setDefaultValue",value:function(){var t=this;this.serverData.forEach(function(e){e.disabled=!1,e._id&&(t.primaryServer==e._id||t.secondaryServer==e._id)&&(e.disabled=!0)}),this.serverData=e(this.serverData)}},{key:"reload",value:function(){var e;-1===(null===(e=window.location.href)||void 0===e?void 0:e.indexOf("/cco/operations/configuration/performance-testing"))?this.sso.redirectByUrl(["support/netops-management/operations/performance-testing","cco/operations/cco-system-operations/performance-testing","","/cco/operations/cco-subscriber-operations/operations/performance-testing"]):this.router.navigate(["./cco/operations/configuration/performance-testing"])}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.sso.pageErrorHandle(e),this.closeAlert(),this.error=!0,l("html, body").animate({scrollTop:0},"slow")}},{key:"clearError",value:function(){this.downloadUrlError="",this.uploadUrlError="",this.uploadFileSizeError=""}},{key:"extractHostname",value:function(e){return(e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]}},{key:"validateDownloadUrl",value:function(){if(this.downloadUrl){if(/^(http(s)?:\/\/)?(www\.)?([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}(:\d+)?)(\/[^\s]*)?$/.test(String(this.downloadUrl))){if(this.uploadUrl){if(this.extractHostname(this.uploadUrl)!==this.extractHostname(this.downloadUrl))return this.downloadUrlError="Please enter the same hostname in Download URL and Upload URL",void(this.uploadUrlError="Please enter the same hostname in Download URL and Upload URL");this.uploadUrlError=""}return this.downloadUrlError="",!0}this.downloadUrlError="Please enter a valid URL."}else this.downloadUrlError="Please enter a value"}},{key:"validateUploadUrl",value:function(){if(this.uploadUrl){if(/^(http(s)?:\/\/)?(www\.)?([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}(:\d+)?)(\/[^\s]*)?$/.test(String(this.uploadUrl))){if(this.downloadUrl){if(this.extractHostname(this.uploadUrl)!==this.extractHostname(this.downloadUrl))return this.downloadUrlError="Please enter the same hostname in Download URL and Upload URL",void(this.uploadUrlError="Please enter the same hostname in Download URL and Upload URL");this.downloadUrlError=""}return this.uploadUrlError="",!0}this.uploadUrlError="Please enter a valid URL."}else this.uploadUrlError="Please enter a value"}},{key:"validateUploadFileSize",value:function(){if(this.uploadFileSize){if(!isNaN(this.uploadFileSize))return this.uploadFileSizeError="",!0;this.uploadFileSizeError="The value is not an integer"}else this.uploadFileSizeError="Please enter a value"}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(h.s),d.Y36(b.F0),d.Y36(Z),d.Y36(T.v),d.Y36(m.t6))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-server-details-wizard"]],inputs:{inputData:"inputData"},outputs:{outputdata:"outputdata",activeTab:"activeTab"},decls:33,vars:15,consts:[["class","w-100 alert alert-danger fade show my-3",4,"ngIf"],[1,"margin-top-20"],["class","loader",4,"ngIf"],[1,"mt-2"],[4,"ngIf"],[1,"form-group","row"],[1,"col-12"],[1,"service-div","flex-start"],[1,"control-label","f-w-600","pr-2"],[1,"radio-inline","col-2","text-right"],["type","radio","id","serviceTierSpeedTreshChecked","name","serviceTierSpeedTreshChecked","value","yes",1,"mr-2",3,"checked","click"],[1,"radio-inline","col-2"],["type","radio","id","serviceTierSpeedTreshUnChecked","name","serviceTierSpeedTreshUnChecked","value","no",1,"mr-2",3,"checked","click"],["class","mt-4 mb-4",4,"ngIf"],[1,"col-12","mt-3"],["class","power-sec",4,"ngIf"],[1,"d-inline-flex","justify-content-start","performance-testing-button"],["type","button","id","netops-perftest-server-previous-btn",1,"btn-arrow","btn-arr-prev","btn-grey",3,"click"],["src","assets/img/ic_chevronleft_grey.svg"],["type","button","id","netops-perftest-server-cancel-btn",1,"btn-default","btn-dft","mx-2",3,"click"],["type","button","id","netops-perftest-server-next-btn",1,"btn-arrow","btn-arr-nxt","primary",3,"click"],["src","assets/img/ic_chevron-r-w.svg"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"form-group","row",3,"ngClass"],[1,"col-12","col-sm-12","col-lg-2","pr-0","control-label"],[1,"f-w-600"],[1,"error"],[1,"line-height"],[1,"col-12","col-sm-12","col-lg-10"],[1,"custom-selectbox-testing"],["bindLabel","optionDec","class","","id","primaryServer","bindValue","_id",3,"items","ngModel","searchable","ngModelChange","change",4,"ngIf"],[1,"small-p"],[1,"error-msg-p","pl-3"],["bindLabel","optionDec","id","primaryServer","bindValue","_id",1,"",3,"items","ngModel","searchable","ngModelChange","change"],["for","dataBwProfile",1,"col-12","col-lg-2","pr-0"],[1,"col-12","col-lg-10"],["bindLabel","optionDec","class","","id","secondaryServer","bindValue","_id",3,"items","ngModel","searchable","ngModelChange","change",4,"ngIf"],["bindLabel","optionDec","id","secondaryServer","bindValue","_id",1,"",3,"items","ngModel","searchable","ngModelChange","change"],[1,"form-group","ccl-form","row",3,"ngClass"],[1,"f-w-600","ser-error"],["id","downloadUrl","name","downloadUrl","type","text",3,"ngModel","ngModelChange","change","keyup"],["class","error-msg-p pl-3",4,"ngIf"],["id","uploadUrl","name","uploadUrl","type","text",3,"ngModel","ngModelChange","change","keyup"],["id","uploadFileSize","name","uploadFileSize","type","text",3,"ngModel","ngModelChange","change","keyup"],[1,"mt-4","mb-4"],["for","dataBwProfile",1,"col-12","col-lg-2","text-right","pr-0"],[1,"custom-selectbox"],["bindLabel","name","class","","id","dataBwProfile","bindValue","id",3,"items","searchable","ngModel","ngModelChange",4,"ngIf"],[1,"col-12","col-lg-2","control-label"],[1,"text-right","f-w-600"],["id","serviceTierDownloadSpeed","name","serviceTierDownloadSpeed","min","1","max","10000000","type","number",3,"ngModel","ngModelChange","change"],[1,"error-msg-p"],["id","serviceTierUploadSpeed","name","serviceTierUploadSpeed","min","1","max","10000000","type","number",3,"ngModel","ngModelChange","change"],["id","speedThreshold","name","speedThreshold","type","number","min","1","max","100",3,"ngModel","ngModelChange","change"],["id","latencyThreshold","name","latencyThreshold","min","1","max","100","type","number",3,"ngModel","ngModelChange","change"],["bindLabel","name","id","dataBwProfile","bindValue","id",1,"",3,"items","searchable","ngModel","ngModelChange"],[1,"power-sec"],["href","https://www.speedtest.net","target","_blank",1,"pointer"],["src","assets/img/speed_test_powered_icon.png"],[1,"x-small"],["href","https://www.speedtest.net/privacy","target","_blank"]],template:function(e,t){1&e&&(d.YNc(0,L,6,1,"div",0),d.TgZ(1,"div",1),d.YNc(2,z,5,1,"div",2),d.TgZ(3,"div",3),d.YNc(4,W,16,8,"section",4),d.YNc(5,G,12,4,"section",4),d.YNc(6,X,38,24,"div",4),d.TgZ(7,"section"),d.TgZ(8,"div",5),d.TgZ(9,"div",6),d.TgZ(10,"div",7),d.TgZ(11,"label",8),d._uU(12),d.qZA(),d.TgZ(13,"label",9),d.TgZ(14,"input",10),d.NdJ("click",function(e){return t.showform(e)})("click",function(){return t.setserviceTierandTrshldChecked()}),d.qZA(),d._uU(15),d.qZA(),d.TgZ(16,"label",11),d.TgZ(17,"input",12),d.NdJ("click",function(e){return t.hideform(e)})("click",function(){return t.setserviceTierandTrshldUnChecked()}),d.qZA(),d._uU(18),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(19,te,59,29,"div",13),d.qZA(),d.TgZ(20,"div",14),d.YNc(21,ie,6,1,"div",15),d.qZA(),d.qZA(),d.TgZ(22,"div",16),d.TgZ(23,"div"),d.TgZ(24,"button",17),d.NdJ("click",function(){return t.gotoPrevious()}),d._UZ(25,"img",18),d._uU(26),d.qZA(),d.qZA(),d.TgZ(27,"div"),d.TgZ(28,"button",19),d.NdJ("click",function(){return t.reload()}),d._uU(29),d.qZA(),d.TgZ(30,"button",20),d.NdJ("click",function(){return t.go_next()}),d._uU(31),d._UZ(32,"img",21),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.Q6J("ngIf",t.error&&t.errorInfo),d.xp6(2),d.Q6J("ngIf",t.loading),d.xp6(2),d.Q6J("ngIf",t.protocols.ookla),d.xp6(1),d.Q6J("ngIf",t.protocols.ookla),d.xp6(1),d.Q6J("ngIf",t.protocols.tr143),d.xp6(6),d.Oqu(t.language.Serv_Tierspeeds),d.xp6(2),d.Q6J("checked",t.serviceTierSpeedTreshChecked),d.xp6(1),d.hij("",t.language.Yes," "),d.xp6(2),d.Q6J("checked",!t.serviceTierSpeedTreshChecked),d.xp6(1),d.hij("",t.language.No," "),d.xp6(1),d.Q6J("ngIf",t.showservice),d.xp6(2),d.Q6J("ngIf",t.protocols.ookla),d.xp6(5),d.hij(" ",t.language.Previous," "),d.xp6(3),d.hij(" ",t.language.cancel," "),d.xp6(2),d.hij(" ",t.language.Next," "))},directives:[x.O5,x.mk,j.w9,A.JJ,A.On,A.Fj,A.qQ,A.Fd,A.wV],styles:[".f-w-600[_ngcontent-%COMP%]{font-weight:600}[type=radio][_ngcontent-%COMP%]:checked, [type=radio][_ngcontent-%COMP%]:not(:checked){position:relative!important;left:unset!important}.x-small[_ngcontent-%COMP%]{font-size:12px;color:#49a0db;padding-left:10px;cursor:pointer}.x-small[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#0b77fa}.line-height[_ngcontent-%COMP%]{font-size:12px;line-height:18px}.custom-selectbox-testing[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]{z-index:1;width:100%;padding-top:10px;padding-bottom:10px;border-radius:10px!important;min-height:auto;max-height:260px;overflow-y:auto;font-size:14px;transition:.5s ease}"]}),t}(),ae=r(71412),re=function(){var e=function(){function e(){i(this,e),this.timeZone=[{name:"Etc/GMT+12"},{name:"Pacific/Pago_Pago"},{name:"Pacific/Apia"},{name:"America/Adak"},{name:"Pacific/Honolulu"},{name:"Pacific/Marquesas"},{name:"Pacific/Gambier"},{name:"America/Anchorage"},{name:"America/Los_Angeles"},{name:"Pacific/Pitcairn"},{name:"America/Phoenix"},{name:"America/Denver"},{name:"America/Guatemala"},{name:"America/Chicago"},{name:"Pacific/Easter"},{name:"America/Bogota"},{name:"America/New_York"},{name:"America/Caracas"},{name:"America/Halifax"},{name:"America/Santo_Domingo"},{name:"America/Santiago"},{name:"America/St_Johns"},{name:"America/Godthab"},{name:"America/Argentina/Buenos_Aires"},{name:"America/Montevideo"},{name:"America/Noronha"},{name:"Atlantic/Azores"},{name:"Atlantic/Cape_Verde"},{name:"UTC"},{name:"Europe/London"},{name:"Europe/Berlin"},{name:"Africa/Lagos"},{name:"Africa/Windhoek"},{name:"Asia/Beirut"},{name:"Africa/Johannesburg"},{name:"Asia/Baghdad"},{name:"Europe/Moscow"},{name:"Asia/Tehran"},{name:"Asia/Dubai"},{name:"Asia/Baku"},{name:"Asia/Kabul"},{name:"Asia/Yekaterinburg"},{name:"Asia/Karachi"},{name:"Asia/Calcutta"},{name:"Asia/Kathmandu"},{name:"Asia/Dhaka"},{name:"Asia/Omsk"},{name:"Asia/Rangoon"},{name:"Asia/Krasnoyarsk"},{name:"Asia/Jakarta"},{name:"Asia/Shanghai"},{name:"Asia/Irkutsk"},{name:"Australia/Eucla"},{name:"Asia/Yakutsk"},{name:"Asia/Tokyo"},{name:"Australia/Darwin"},{name:"Australia/Adelaide"},{name:"Australia/Brisbane"},{name:"Asia/Vladivostok"},{name:"Australia/Sydney"},{name:"Australia/Lord_Howe"},{name:"Asia/Kamchatka"},{name:"Pacific/Noumea"},{name:"Pacific/Norfolk"},{name:"Pacific/Auckland"},{name:"Pacific/Majuro"},{name:"Pacific/Chatham"},{name:"Pacific/Tongatapu"},{name:"Pacific/Apia"},{name:"Pacific/Kiritimati"}]}return a(e,[{key:"getTimeZones",value:function(){var e=[];return this.timeZone.forEach(function(t){t.id=t.name,e.push(t)}),e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),oe=r(48483),se=r(82945),le=r(18638),ce=r(41099);function de(e,t){if(1&e&&(d.TgZ(0,"div",25),d.TgZ(1,"div",26),d.TgZ(2,"span",27),d._UZ(3,"img",28),d.qZA(),d.qZA(),d._UZ(4,"div",29),d.qZA()),2&e){var i=d.oxw();d.xp6(4),d.Q6J("innerHTML",i.language.upgrade_msg(i.errMsg),d.oJD)}}var ue=function(e){return{"error-occur-sec":e}},ge=function(){return{width:"100%",height:"36px","max-width":"unset",padding:"0"}},pe=function(){return{standalone:!0}},he=function(){return{width:"100%",height:"36px"}},fe=function(){return{height:"36px"}},ve=function(){var e=function(){function e(t,n,a,r,o){i(this,e),this.translateService=t,this.router=n,this.utils=a,this.dateUtils=r,this.sso=o,this.customStartRange=new Date,this.pTime=new Date,this.dataPbitInput=[{id:1,name:1},{id:2,name:2},{id:3,name:3},{id:4,name:4},{id:5,name:5},{id:6,name:6},{id:7,name:7}],this.dataHoursInp=[{id:1,name:1},{id:2,name:2},{id:3,name:3},{id:4,name:4},{id:5,name:5},{id:6,name:6}],this.today=new Date,this.outputdata=new d.vpe,this.activeTab=new d.vpe,this.startDate=new Date,this.noDays=7,this.numberOfHours=6,this.timezones=[],this.exportTime={hour:7,minute:15,meriden:"PM",format:24},this.maintenanceTuesdays=[],this.maintenancedaysforTopshow=[],this.isInCompleteDate=!1,this.timezone="America/Los_Angeles",this.errorInfo="",this.successInfo=""}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.timezones=this.utils.getTimeZones();var t=this.dateUtils.getLocalTimeZoneName();this.timezones.find(function(e){return e.name==t})||this.timezones.push({id:t,name:t}),this.timezones.unshift({id:"",name:""}),this.timezone=t,this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t}),this.inputData.timezone&&(this.timezone=this.inputData.timezone),this.inputData.startDate&&(this.startDate=this.inputData.startDate),this.inputData.numberOfDays&&(this.noDays=this.inputData.numberOfDays),this.startHour="".concat(this.inputData.startHour?this.inputData.startHour:"18",":00"),this.inputData.numberOfHours&&(this.numberOfHours=this.inputData.numberOfHours),new Date,this.getYearfromDate(this.startDate),this.checkMaintenanceWarning()}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe()}},{key:"go_next",value:function(){var e=new x.uU("en-US");if(this.timezone)if(this.startDate)if(this.noDays)if(this.startHour){if(this.numberOfHours){var t=this.startHour.split(":");return this.inputData.levelPassed<=4&&(this.inputData.levelPassed=4),this.inputData.timezone=this.timezone,this.inputData.startDate=e.transform(this.startDate,"yyyy-MM-dd"),this.inputData.numberOfDays=this.noDays,this.inputData.startHour=t[0],this.inputData.numberOfHours=this.numberOfHours,this.outputdata.emit(this.inputData),this.activeTab.emit("Review"),!0}this.showError()}else this.showError();else this.showError();else this.showError();else this.showError()}},{key:"closeAlert",value:function(){this.error=!1,this.success=!1}},{key:"showSuccess",value:function(){this.closeAlert(),this.success=!0}},{key:"showError",value:function(){this.closeAlert(),this.error=!0}},{key:"gotoPrevious",value:function(){var e=this.startHour.split(":"),t=new x.uU("en-US");this.inputData.timezone=this.timezone,this.inputData.startDate=t.transform(this.startDate,"yyyy-MM-dd"),this.inputData.numberOfDays=this.noDays,this.inputData.startHour=e[0],this.inputData.numberOfHours=this.numberOfHours,this.outputdata.emit(this.inputData),this.activeTab.emit("TestServerDetails")}},{key:"reload",value:function(){var e;-1===(null===(e=window.location.href)||void 0===e?void 0:e.indexOf("/cco/operations/configuration/performance-testing"))?this.sso.redirectByUrl(["support/netops-management/operations/performance-testing","cco/operations/cco-system-operations/performance-testing","","/cco/operations/cco-subscriber-operations/operations/performance-testing"]):this.router.navigate(["./cco/operations/configuration/performance-testing"])}},{key:"checkMaintenanceWarning",value:function(){var e,t=this;this.isInCompleteDate=!1;var i=ae(this.startDate).tz(this.timezone).toString(),n=ae(i).tz("America/Los_Angeles").toString();ae(n).tz("Asia/Calcutta").toString(),this.getYearfromDate(this.startDate),this.getMaintenanceDays(this.selectedYear);var a=parseInt(this.noDays),r=parseInt(this.numberOfHours),o=this.startHour.split(":");this.start_date=new Date(this.startDate);var s=new Date(this.start_date);s.setDate(s.getDate()+a),this.betweendatesStart=null===(e=this.getDates(this.start_date,s))||void 0===e?void 0:e.map(function(e){return e.toString()}),this.betweendatesStart.forEach(function(e){var i=new Date(e),n=new Date(i.setHours(parseInt(o[0]),parseInt(o[1]),parseInt("00"))),a=ae(new Date(n)).tz(t.timezone,!0).toString(),s=ae(a).tz("America/Los_Angeles");ae.utc(s).hour(),ae(s).set({hour:0,minute:0,second:0,millisecond:0}).toString();var l=new Date(i.setHours(i.getHours()+r)),c=ae(new Date(l)).tz(t.timezone,!0).toString(),d=ae(c).tz("America/Los_Angeles");ae.utc(d).hour(),ae(d).set({hour:0,minute:0,second:0,millisecond:0}).toString(),t.maintenanceTuesdays.forEach(function(e){var i=ae(new Date(e)).tz("America/Los_Angeles",!0).toString(),n=ae(i).set({hour:19,minute:30,second:0,millisecond:0}).tz("America/Los_Angeles",!0);ae(n).hour(),ae(n).set({hour:0,minute:0,second:0,millisecond:0}).toString();var a=ae(n).hour(),r=ae(i).set({hour:a+8,minute:30,second:0,millisecond:0}).tz("America/Los_Angeles",!0);ae(r).hour(),ae(r).set({hour:0,minute:0,second:0,millisecond:0}).toString(),ae(s).valueOf(),ae(n).valueOf();var o=ae(s).format("YYYY-MM-DD"),l=ae(n).format("YYYY-MM-DD"),c=ae(r).format("YYYY-MM-DD"),u=ae(d).format("YYYY-MM-DD");((ae(o).isSame(l)||ae(o).isSame(c))&&ae(s).valueOf()/1e3>=ae(n).valueOf()/1e3&&ae(r).valueOf()/1e3>=ae(s).valueOf()/1e3||(ae(u).isSame(l)||ae(u).isSame(c))&&ae(d).valueOf()/1e3>=ae(n).valueOf()/1e3&&ae(r).valueOf()/1e3>=ae(d).valueOf()/1e3)&&(new x.uU("en-US"),t.selectedDate=l,t.errMsg=t.selectedDate,t.isInCompleteDate=!0)})})}},{key:"convertTimeZone",value:function(e,t){return new Date(("string"==typeof e?new Date(e):e).toLocaleString("en-US",{timeZone:t}))}},{key:"getSecondTuesdays",value:function(e,t){var i=new Date(t,e,1),n=[];for(i.setDate(i.getDate()+(9-i.getDay())%7);i.getMonth()===e;)n.push(new Date(i.getTime())),i.setDate(i.getDate()+7);return n}},{key:"getDates",value:function(e,t){for(var i=[],n=e,a=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};n<t;)n.setHours("00"),n.setMinutes("00"),n.setSeconds("00"),i.push(n),n=a.call(n,1);return i}},{key:"getMaintenanceDays",value:function(e){this.maintenanceTuesdays=[];for(var t=1;t<12;t+=3){var i=this.getSecondTuesdays(t,e);this.maintenanceTuesdays.push(i[1])}}},{key:"getYearfromDate",value:function(e){var t=new Date(e);this.selectedYear=t.getFullYear()}},{key:"getCurrentHour",value:function(){return(new Date).getHours()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(h.s),d.Y36(b.F0),d.Y36(re),d.Y36(oe.s),d.Y36(m.t6))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-schedule-wizard"]],inputs:{inputData:"inputData"},outputs:{outputdata:"outputdata",activeTab:"activeTab"},decls:58,vars:70,consts:[[1,"mt-4"],["class","w-100 fade show d-flex align-items-start warning-msg pt-2","id","claimWarning",4,"ngIf"],[1,"form-group","row",3,"ngClass"],[1,"col-2","control-label","f-w-600","text-right"],[1,"col-10"],[1,"custom-selectbox"],["bindLabel","name","id","timeZone","autofocus","","bindValue","id",1,"col-lg-10","col-md-12","col-sm-12",3,"items","ngModel","ngModelOptions","searchable","change","ngModelChange"],[1,"error-msg-p"],[1,"form-group","ccl-form","row",3,"ngClass"],["for","Name","id","start_date_label",1,"col-2","control-label","f-w-600","text-right"],[1,"col-10","calender"],["id","start_date_2","appendTo","body","placeholder","Select Date","dateFormat","yy-mm-dd",3,"inputStyle","autoZIndex","ngModel","showIcon","ngModelOptions","minDate","onSelect","change","ngModelChange"],["bindLabel","name","id","noDays","bindValue","id",1,"col-lg-10","col-md-12","col-sm-12",3,"items","ngModel","ngModelOptions","searchable","change","ngModelChange"],["for","Name",1,"col-2","control-label","f-w-600","text-right"],["placeholder","24hr format","aria-label","24hr format","readonly","",3,"ngxTimepicker","format","hoursOnly","ngModel","value","ngModelChange"],[3,"hoursOnly","closed"],["fullTime",""],[1,"custom-selectbox-shedule"],["bindLabel","name","id","noOfHours","bindValue","id",1,"col-lg-12","col-md-12","col-sm-12",3,"items","ngModel","ngModelOptions","searchable","change","ngModelChange"],[1,"d-inline-flex","justify-content-start","performance-testing-button"],["type","button","id","netops-perftest-schedule-previous-btn",1,"btn-arrow","btn-arr-prev","btn-grey",3,"click"],["src","assets/img/ic_chevronleft_grey.svg"],["type","button","id","netops-perftest-schedule-cancel-btn",1,"btn-default","btn-dft","mx-2",3,"click"],["type","button","id","netops-perftest-schedule-next-btn",1,"btn-arrow","btn-arr-nxt","primary",3,"click"],["src","assets/img/ic_chevron-r-w.svg"],["id","claimWarning",1,"w-100","fade","show","d-flex","align-items-start","warning-msg","pt-2"],[1,"err-image"],[1,"error-img"],["src","./assets/img/warning-icon.svg"],[1,"err-msg","mt-1",3,"innerHTML"]],template:function(e,t){if(1&e&&(d.TgZ(0,"div",0),d.YNc(1,de,5,1,"div",1),d.TgZ(2,"section"),d.TgZ(3,"div",2),d.TgZ(4,"label",3),d._uU(5),d.qZA(),d.TgZ(6,"div",4),d.TgZ(7,"div",5),d.TgZ(8,"ng-select",6),d.NdJ("change",function(){return t.checkMaintenanceWarning()})("ngModelChange",function(e){return t.timezone=e}),d.qZA(),d.qZA(),d.TgZ(9,"div",7),d._uU(10),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"section"),d.TgZ(12,"div",8),d.TgZ(13,"label",9),d._uU(14),d.qZA(),d.TgZ(15,"div",10),d.TgZ(16,"p-calendar",11),d.NdJ("onSelect",function(){return t.checkMaintenanceWarning()})("change",function(){return t.checkMaintenanceWarning()})("ngModelChange",function(e){return t.startDate=e}),d.qZA(),d.TgZ(17,"div",7),d._uU(18),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(19,"section"),d.TgZ(20,"div",2),d.TgZ(21,"label",3),d._uU(22),d.qZA(),d.TgZ(23,"div",4),d.TgZ(24,"div",5),d.TgZ(25,"ng-select",12),d.NdJ("change",function(){return t.checkMaintenanceWarning()})("ngModelChange",function(e){return t.noDays=e}),d.qZA(),d.qZA(),d.TgZ(26,"div",7),d._uU(27),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(28,"section"),d.TgZ(29,"div",8),d.TgZ(30,"label",13),d._uU(31),d.qZA(),d.TgZ(32,"div",10),d.TgZ(33,"input",14),d.NdJ("ngModelChange",function(e){return t.startHour=e}),d.qZA(),d.TgZ(34,"ngx-material-timepicker",15,16),d.NdJ("closed",function(){return t.checkMaintenanceWarning()}),d.qZA(),d.TgZ(36,"div",7),d._uU(37),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(38,"section"),d.TgZ(39,"div",2),d.TgZ(40,"label",3),d._uU(41),d.qZA(),d.TgZ(42,"div",4),d.TgZ(43,"div",17),d.TgZ(44,"ng-select",18),d.NdJ("change",function(){return t.checkMaintenanceWarning()})("ngModelChange",function(e){return t.numberOfHours=e}),d.qZA(),d.qZA(),d.TgZ(45,"div",7),d._uU(46),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(47,"div",19),d.TgZ(48,"div"),d.TgZ(49,"button",20),d.NdJ("click",function(){return t.gotoPrevious()}),d._UZ(50,"img",21),d._uU(51),d.qZA(),d.qZA(),d.TgZ(52,"div"),d.TgZ(53,"button",22),d.NdJ("click",function(){return t.reload()}),d._uU(54),d.qZA(),d.TgZ(55,"button",23),d.NdJ("click",function(){return t.go_next()}),d._uU(56),d._UZ(57,"img",24),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.MAs(35);d.xp6(1),d.Q6J("ngIf",t.isInCompleteDate),d.xp6(2),d.Q6J("ngClass",d.VKq(51,ue,t.error&&!t.timezone)),d.xp6(2),d.Oqu(t.language.Timezone),d.xp6(3),d.Akn(d.DdM(53,ge)),d.Q6J("items",t.timezones)("ngModel",t.timezone)("ngModelOptions",d.DdM(54,pe))("searchable",!1),d.xp6(2),d.hij(" ",t.language.select_value," "),d.xp6(2),d.Q6J("ngClass",d.VKq(55,ue,t.error&&!t.startDate)),d.xp6(2),d.Oqu(t.language.startDate),d.xp6(2),d.Akn(d.DdM(57,he)),d.Q6J("inputStyle",d.DdM(58,fe))("autoZIndex",!0)("ngModel",t.startDate)("showIcon",!0)("ngModelOptions",d.DdM(59,pe))("minDate",t.today),d.xp6(2),d.hij(" ",t.language.select_value," "),d.xp6(2),d.Q6J("ngClass",d.VKq(60,ue,t.error&&!t.noDays)),d.xp6(2),d.Oqu(t.language.No_Of_days),d.xp6(3),d.Akn(d.DdM(62,ge)),d.Q6J("items",t.dataPbitInput)("ngModel",t.noDays)("ngModelOptions",d.DdM(63,pe))("searchable",!1),d.xp6(2),d.hij(" ",t.language.select_value," "),d.xp6(2),d.Q6J("ngClass",d.VKq(64,ue,t.error&&!t.startHour)),d.xp6(2),d.Oqu(t.language.Start_Hr),d.xp6(2),d.Q6J("ngxTimepicker",i)("format",24)("hoursOnly",!0)("ngModel",t.startHour)("value",t.startHour),d.xp6(1),d.Q6J("hoursOnly",!0),d.xp6(3),d.hij(" ",t.language.select_value," "),d.xp6(2),d.Q6J("ngClass",d.VKq(66,ue,t.error&&!t.numberOfHours)),d.xp6(2),d.Oqu(t.language.No_Of_hr),d.xp6(3),d.Akn(d.DdM(68,ge)),d.Q6J("items",t.dataHoursInp)("ngModel",t.numberOfHours)("ngModelOptions",d.DdM(69,pe))("searchable",!1),d.xp6(2),d.hij(" ",t.language.select_value," "),d.xp6(5),d.hij(" ",t.language.Previous," "),d.xp6(3),d.hij(" ",t.language.cancel," "),d.xp6(2),d.hij(" ",t.language.Next," ")}},directives:[x.O5,x.mk,j.w9,se.U,A.JJ,A.On,le.f,A.Fj,ce.I2,ce.ro],styles:[".form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-top-left-radius:25px;border-bottom-left-radius:25px}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{border-top-right-radius:25px;border-bottom-right-radius:25px}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}.custom-selectbox-shedule[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]{z-index:1;width:100%;padding-top:10px;padding-bottom:10px;border-radius:10px!important;min-height:auto;max-height:260px;overflow-y:auto;font-size:14px;transition:.5s ease}.error-image[_ngcontent-%COMP%]{max-width:46px;min-width:36px}.err-msg[_ngcontent-%COMP%]{width:90%}"]}),e}(),me=r(90048),Ze=r(39075);function be(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",17),d.TgZ(1,"div",18),d.TgZ(2,"span",19),d._UZ(3,"img",20),d.qZA(),d._UZ(4,"span",21),d.qZA(),d.TgZ(5,"span"),d.TgZ(6,"button",22),d.NdJ("click",function(){return d.CHM(i),d.oxw().closeAlert()}),d._UZ(7,"span"),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw();d.xp6(4),d.Q6J("innerHtml",n.errorInfo,d.oJD)}}function Te(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",23),d.TgZ(1,"span",24),d._UZ(2,"img",25),d.qZA(),d.TgZ(3,"button",22),d.NdJ("click",function(){return d.CHM(i),d.oxw().closeAlert()}),d._UZ(4,"span"),d.qZA(),d._UZ(5,"div",26),d.qZA()}if(2&e){var n=d.oxw();d.xp6(5),d.Q6J("innerHtml",n.successInfo,d.oJD)}}function xe(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.qZA()),2&e){var i=t.$implicit;d.xp6(2),d.Oqu(i)}}function Ae(e,t){if(1&e&&(d.TgZ(0,"tbody"),d.YNc(1,xe,3,1,"tr",27),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Q6J("ngForOf",i.inputData.devices)}}function _e(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language.Primary_ser_city," ")}}function we(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language.Primary_ser_host," ")}}function Se(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language.Sec_ser_city," ")}}function qe(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language.Sec_ser_host," ")}}function ye(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Oqu(i.language.downURL)}}function Oe(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Oqu(i.language.uploadURL)}}function De(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language.Upload_File_Size_bytes," ")}}function Ce(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language.Download_Speed_TIER," ")}}function Me(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language.Upload_Speed_TIER," ")}}function Ue(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language.Speed_Threshold," ")}}function ke(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language.Latency_Threshold," ")}}function Pe(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.inputData.primaryOoklaServerCityState," ")}}function Ie(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.inputData.primaryOoklaServerHostname," ")}}function Je(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.inputData.secondaryOoklaServerCityState," ")}}function Ne(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.inputData.secondaryOoklaServerHostname," ")}}function Ee(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Oqu(i.inputData.downloadUrl)}}function Fe(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Oqu(i.inputData.uploadUrl)}}function Qe(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Oqu(i.inputData.uploadFileSize)}}function He(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ","Mbps"===i.inputData.serviceTier?i.inputData.serviceTierDownloadSpeed/1e3+" Mbps":i.inputData.serviceTierDownloadSpeed+" Kbps"," ")}}function Ye(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ","Mbps"===i.inputData.serviceTier?i.inputData.serviceTierUploadSpeed/1e3+" Mbps":i.inputData.serviceTierUploadSpeed+" Kbps"," ")}}function je(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.inputData.speedThreshold," % ")}}function Le(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.inputData.latencyThreshold," ms ")}}var ze=function(){var e=function(){function e(t,n,a,r,o,s){i(this,e),this.translateService=t,this.service=n,this.router=a,this.commonOrgService=r,this.sso=o,this.dateUtilsService=s,this.tableOptions={searching:!1,lengthChange:!1,paging:!1,info:!1},this.errorInfo="",this.successInfo="",this.outputdata=new d.vpe,this.activeTab=new d.vpe,this.btnDisabled=!1}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.inputData.levelPassed=5,this.outputdata.emit(this.inputData),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t})}},{key:"save",value:function(){var e=this,t=this.buildParams(this.inputData);this.btnDisabled=!0,t._id?this.service.update(t).subscribe(function(i){e.successInfo="".concat(e.language.ptUpdatedText(t.name)),e.showSuccess(e.successInfo),setTimeout(function(){e.reload()},2e3)},function(t){e.pageErrorHandle(t),e.btnDisabled=!1}):(delete t.acsDeviceInfoMap,delete t.jobId,this.service.save(t).subscribe(function(i){e.successInfo="".concat(e.language.ptSuccessText(t.name)),e.showSuccess(e.successInfo),setTimeout(function(){e.reload()},2e3)},function(t){e.pageErrorHandle(t),e.btnDisabled=!1}))}},{key:"reload",value:function(){var e;-1===(null===(e=window.location.href)||void 0===e?void 0:e.indexOf("/cco/operations/configuration/performance-testing"))?this.sso.redirectByUrl(["support/netops-management/operations/performance-testing","cco/operations/cco-system-operations/performance-testing","","/cco/operations/cco-subscriber-operations/operations/performance-testing"]):this.router.navigate(["./cco/operations/configuration/performance-testing"])}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe()}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.sso.pageErrorHandle(e),this.closeAlert(),this.error=!0,l("html, body").animate({scrollTop:0},"slow")}},{key:"closeAlert",value:function(){this.error=!1,this.success=!1}},{key:"showSuccess",value:function(e){this.closeAlert(),this.successInfo=e,this.success=!0}},{key:"showError",value:function(e){this.closeAlert(),this.errorInfo=e,this.error=!0}},{key:"gotoPrevious",value:function(){this.outputdata.emit(this.inputData),this.activeTab.emit("TestSchedule")}},{key:"buildParams",value:function(e){var t={name:e.name,devices:e.devices,description:e.description,timezone:e.timezone,primaryOoklaServerId:e.primaryOoklaServerId,secondaryOoklaServerId:e.secondaryOoklaServerId,primaryOoklaServerHostname:e.primaryOoklaServerHostname,secondaryOoklaServerHostname:e.secondaryOoklaServerHostname,primaryOoklaServerCityState:e.primaryOoklaServerCityState,secondaryOoklaServerCityState:e.secondaryOoklaServerCityState,primaryOoklaServerAsn:e.primaryOoklaServerAsn,secondaryOoklaServerAsn:e.secondaryOoklaServerAsn,startDate:e.startDate,numberOfDays:e.numberOfDays,startHour:e.startHour,numberOfHours:e.numberOfHours,serviceTierDownloadSpeed:e.serviceTierDownloadSpeed,serviceTierUploadSpeed:e.serviceTierUploadSpeed,speedThreshold:e.speedThreshold,latencyThreshold:e.latencyThreshold,consumerDataRateThreshold:e.consumerDataRateThreshold,consumerDataRateThresholdUs:e.consumerDataRateThresholdUs,subscribers:e.subscribers,serviceTier:e.serviceTier,downloadUrl:e.downloadUrl,uploadUrl:e.uploadUrl,uploadFileSize:e.uploadFileSize};return!t.serviceTierDownloadSpeed&&!t.serviceTierUploadSpeed&&(delete t.serviceTierDownloadSpeed,delete t.serviceTierUploadSpeed,delete t.latencyThreshold,delete t.speedThreshold,delete t.consumerDataRateThreshold,delete t.consumerDataRateThresholdUs,delete t.subscribers),e._id&&(t.acsDeviceInfoMap=e.acsDeviceInfoMap,t.jobId=e.jobId,t._id=e._id),t}},{key:"getDate",value:function(e){return this.dateUtilsService.getUserDateTimeByTimeZone(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(h.s),d.Y36(Z),d.Y36(b.F0),d.Y36(T.v),d.Y36(m.t6),d.Y36(oe.s))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-review-wizard"]],inputs:{inputData:"inputData"},outputs:{outputdata:"outputdata",activeTab:"activeTab"},decls:95,vars:50,consts:[["class","w-100 alert alert-danger fade show my-3 d-flex justify-content-between",4,"ngIf"],["class","w-100 alert alert-success fade show my-3",4,"ngIf"],[1,"mt-4","performance-review-table"],[1,"table","row-border","dataTable","hover","table-alter"],[1,"review-table","performance-review-table"],[1,"net-ops-secondary-title","review-title"],[1,"performance-review-table","table","row-border","hover","dataTable","table-alter",2,"width","100%"],[1,"pl-2"],[4,"ngIf"],[1,"review-table","performance-review-table","overflow-auto"],[1,"table","row-border","dataTable","hover","table-alter","overflow-auto","performance-review-table"],[1,"d-inline-flex","justify-content-start","performance-testing-button"],["type","button","id","netops-perftest-review-previous-btn",1,"btn-arrow","btn-arr-prev","btn-grey",3,"click"],["src","assets/img/ic_chevronleft_grey.svg"],["type","button","id","netops-perftest-review-cancel-btn",1,"btn-default","btn-dft","mx-2",3,"click"],["type","button","id","netops-perftest-review-finish-btn",1,"btn-arrow","btn-arr-nxt","primary",3,"disabled","click"],["src","assets/img/ic_chevron-r-w.svg"],[1,"w-100","alert","alert-danger","fade","show","my-3","d-flex","justify-content-between"],[1,"d-flex","pr-3"],[1,"error-img","Min-w"],["src","./assets/img/ic_error-36px.svg"],[1,"",3,"innerHtml"],["type","button",1,"close",3,"click"],[1,"w-100","alert","alert-success","fade","show","my-3"],[1,"success-img"],["src","../../../../../assets/img/success-icon.svg"],[1,"d-inline-flex",3,"innerHtml"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(d.YNc(0,be,8,1,"div",0),d.YNc(1,Te,6,1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"table",3),d.TgZ(4,"thead"),d.TgZ(5,"tr"),d.TgZ(6,"th"),d._uU(7),d.qZA(),d.TgZ(8,"th"),d._uU(9),d.qZA(),d.qZA(),d.qZA(),d.TgZ(10,"tbody"),d.TgZ(11,"tr"),d.TgZ(12,"td"),d._uU(13),d.qZA(),d.TgZ(14,"td"),d._uU(15),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(16,"div",4),d.TgZ(17,"h3",5),d._uU(18),d.qZA(),d.TgZ(19,"table",6),d.TgZ(20,"thead"),d.TgZ(21,"tr"),d.TgZ(22,"th",7),d._uU(23),d.qZA(),d.qZA(),d.qZA(),d.YNc(24,Ae,2,1,"tbody",8),d.qZA(),d.qZA(),d.TgZ(25,"div",9),d.TgZ(26,"h3",5),d._uU(27),d.qZA(),d.TgZ(28,"table",10),d.TgZ(29,"thead"),d.TgZ(30,"tr"),d.YNc(31,_e,2,1,"th",8),d.YNc(32,we,2,1,"th",8),d.YNc(33,Se,2,1,"th",8),d.YNc(34,qe,2,1,"th",8),d.YNc(35,ye,2,1,"th",8),d.YNc(36,Oe,2,1,"th",8),d.YNc(37,De,2,1,"th",8),d.YNc(38,Ce,2,1,"th",8),d.YNc(39,Me,2,1,"th",8),d.YNc(40,Ue,2,1,"th",8),d.YNc(41,ke,2,1,"th",8),d.qZA(),d.qZA(),d.TgZ(42,"tbody"),d.TgZ(43,"tr"),d.YNc(44,Pe,2,1,"td",8),d.YNc(45,Ie,2,1,"td",8),d.YNc(46,Je,2,1,"td",8),d.YNc(47,Ne,2,1,"td",8),d.YNc(48,Ee,2,1,"td",8),d.YNc(49,Fe,2,1,"td",8),d.YNc(50,Qe,2,1,"td",8),d.YNc(51,He,2,1,"td",8),d.YNc(52,Ye,2,1,"td",8),d.YNc(53,je,2,1,"td",8),d.YNc(54,Le,2,1,"td",8),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(55,"div",4),d.TgZ(56,"h3",5),d._uU(57),d.qZA(),d.TgZ(58,"table",3),d.TgZ(59,"thead"),d.TgZ(60,"tr"),d.TgZ(61,"th"),d._uU(62),d.qZA(),d.TgZ(63,"th"),d._uU(64),d.qZA(),d.TgZ(65,"th"),d._uU(66),d.qZA(),d.TgZ(67,"th"),d._uU(68),d.qZA(),d.TgZ(69,"th"),d._uU(70),d.qZA(),d.qZA(),d.qZA(),d.TgZ(71,"tbody"),d.TgZ(72,"tr"),d.TgZ(73,"td"),d._uU(74),d.qZA(),d.TgZ(75,"td"),d._uU(76),d.ALo(77,"date"),d.qZA(),d.TgZ(78,"td"),d._uU(79),d.qZA(),d.TgZ(80,"td"),d._uU(81),d.qZA(),d.TgZ(82,"td"),d._uU(83),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(84,"div",11),d.TgZ(85,"div"),d.TgZ(86,"button",12),d.NdJ("click",function(){return t.gotoPrevious()}),d._UZ(87,"img",13),d._uU(88),d.qZA(),d.qZA(),d.TgZ(89,"div"),d.TgZ(90,"button",14),d.NdJ("click",function(){return t.reload()}),d._uU(91),d.qZA(),d.TgZ(92,"button",15),d.NdJ("click",function(){return t.save()}),d._uU(93),d._UZ(94,"img",16),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.Q6J("ngIf",t.error),d.xp6(1),d.Q6J("ngIf",t.success),d.xp6(6),d.Oqu(t.language.Name),d.xp6(2),d.Oqu(t.language.description),d.xp6(4),d.Oqu(t.inputData.name),d.xp6(2),d.Oqu(t.inputData.description),d.xp6(3),d.hij(" ",t.language.List_Devices," "),d.xp6(5),d.Oqu(t.language.Systems),d.xp6(1),d.Q6J("ngIf",t.inputData.devices&&t.inputData.devices.length),d.xp6(3),d.Oqu(t.language.Test_Server_Details),d.xp6(4),d.Q6J("ngIf",t.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",t.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",t.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",t.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",t.inputData.downloadUrl),d.xp6(1),d.Q6J("ngIf",t.inputData.downloadUrl),d.xp6(1),d.Q6J("ngIf",t.inputData.downloadUrl),d.xp6(1),d.Q6J("ngIf",t.inputData.serviceTierUploadSpeed&&t.inputData.serviceTierDownloadSpeed),d.xp6(1),d.Q6J("ngIf",t.inputData.serviceTierUploadSpeed&&t.inputData.serviceTierDownloadSpeed),d.xp6(1),d.Q6J("ngIf",t.inputData.serviceTierUploadSpeed&&t.inputData.serviceTierDownloadSpeed),d.xp6(1),d.Q6J("ngIf",t.inputData.serviceTierUploadSpeed&&t.inputData.serviceTierDownloadSpeed),d.xp6(3),d.Q6J("ngIf",t.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",t.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",t.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",t.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",t.inputData.downloadUrl),d.xp6(1),d.Q6J("ngIf",t.inputData.downloadUrl),d.xp6(1),d.Q6J("ngIf",t.inputData.downloadUrl),d.xp6(1),d.Q6J("ngIf",t.inputData.serviceTierUploadSpeed&&t.inputData.serviceTierDownloadSpeed),d.xp6(1),d.Q6J("ngIf",t.inputData.serviceTierUploadSpeed&&t.inputData.serviceTierDownloadSpeed),d.xp6(1),d.Q6J("ngIf",t.inputData.serviceTierUploadSpeed&&t.inputData.serviceTierDownloadSpeed),d.xp6(1),d.Q6J("ngIf",t.inputData.serviceTierUploadSpeed&&t.inputData.serviceTierDownloadSpeed),d.xp6(3),d.hij(" ",t.language.Test_Schedule_PT," "),d.xp6(5),d.Oqu(t.language.Timezone),d.xp6(2),d.Oqu(t.language.Start_Date),d.xp6(2),d.Oqu(t.language.No_Of_days),d.xp6(2),d.Oqu(t.language.start_hour),d.xp6(2),d.Oqu(t.language.No_Of_hr),d.xp6(4),d.Oqu(t.inputData.timezone),d.xp6(2),d.Oqu(d.xi3(77,47,t.getDate(t.inputData.startDate),"MM/dd/yyyy")),d.xp6(3),d.Oqu(t.inputData.numberOfDays),d.xp6(2),d.hij("",t.inputData.startHour,":00"),d.xp6(2),d.Oqu(t.inputData.numberOfHours),d.xp6(5),d.hij(" ",t.language.Previous," "),d.xp6(3),d.hij(" ",t.language.cancel," "),d.xp6(1),d.Q6J("disabled",t.btnDisabled),d.xp6(1),d.hij(" ",t.language.Finish,""))},directives:[x.O5,x.sg],pipes:[x.uU],styles:["table.dataTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-size:15px}table.dataTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   .sorting[_ngcontent-%COMP%], table.dataTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   .sorting_asc[_ngcontent-%COMP%], table.dataTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   .sorting_desc[_ngcontent-%COMP%]{padding-right:15px;background-image:none!important}.review-table[_ngcontent-%COMP%]{margin:10px 0}.Min-w[_ngcontent-%COMP%]{min-width:46px}"]}),e}();function Re(e,t){if(1&e&&(d.TgZ(0,"div",6),d._uU(1),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.hij(" ",i.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function Ve(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",7),d.TgZ(1,"span",8),d._UZ(2,"img",9),d.qZA(),d.TgZ(3,"button",10),d.NdJ("click",function(){return d.CHM(i),d.oxw().closeAlert()}),d._UZ(4,"span"),d.qZA(),d._UZ(5,"div",11),d.qZA()}if(2&e){var n=d.oxw();d.xp6(5),d.Q6J("innerHtml",n.errorInfo,d.oJD)}}function We(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",12),d.TgZ(1,"button",10),d.NdJ("click",function(){return d.CHM(i),d.oxw().closeAlert()}),d._UZ(2,"span"),d.qZA(),d._UZ(3,"div",13),d.qZA()}if(2&e){var n=d.oxw();d.xp6(3),d.Q6J("innerHtml",n.successInfo,d.oJD)}}function Be(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",31),d.TgZ(1,"span",8),d._UZ(2,"img",32),d.qZA(),d.TgZ(3,"span"),d._uU(4),d.qZA(),d.TgZ(5,"div",33),d.TgZ(6,"button",34),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).doDeleteTest()}),d._uU(7),d.qZA(),d.TgZ(8,"button",35),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).cancelDelete()}),d._uU(9),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(2);d.xp6(4),d.lnq(" ",n.language.Delete_Confimation,' "',n.testName,'" ',n.language.test,"? "),d.xp6(2),d.Q6J("disabled",n.btnDisabled),d.xp6(1),d.hij(" ",n.language.Confirm," "),d.xp6(2),d.hij(" ",n.language.Cancel," ")}}function Ge(e,t){if(1&e&&(d.TgZ(0,"div",36),d.TgZ(1,"div",37),d.TgZ(2,"div",38),d.TgZ(3,"span",39),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw(2);d.xp6(4),d.Oqu(i.language.Loading)}}function Ke(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"button",40),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).addForm()}),d._uU(1),d.qZA()}if(2&e){var n=d.oxw(2);d.xp6(1),d.hij(" ",n.language.New_Test," ")}}function $e(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",43),d.TgZ(1,"a",44),d.NdJ("click",function(){d.CHM(i);var e=d.oxw().$implicit;return d.oxw(2).cloneTest(e)}),d._UZ(2,"i",45),d.qZA(),d.TgZ(3,"a",44),d.NdJ("click",function(){d.CHM(i);var e=d.oxw().$implicit;return d.oxw(2).deleteTest(e)}),d._UZ(4,"i",46),d.qZA(),d.qZA()}if(2&e){var n=d.oxw(3);d.xp6(1),d.s9C("title",n.language.Clone),d.xp6(2),d.s9C("title",n.language.Delete)}}function Xe(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td",41),d.NdJ("click",function(){var e=d.CHM(i).$implicit;return d.oxw(2).gotoViewTest(e._id)}),d._uU(2),d.qZA(),d.TgZ(3,"td",41),d.NdJ("click",function(){var e=d.CHM(i).$implicit;return d.oxw(2).gotoViewTest(e._id)}),d._uU(4),d.qZA(),d.TgZ(5,"td",41),d.NdJ("click",function(){var e=d.CHM(i).$implicit;return d.oxw(2).gotoViewTest(e._id)}),d._uU(6),d.qZA(),d.TgZ(7,"td",41),d.NdJ("click",function(){var e=d.CHM(i).$implicit;return d.oxw(2).gotoViewTest(e._id)}),d._uU(8),d.qZA(),d.TgZ(9,"td",41),d.NdJ("click",function(){var e=d.CHM(i).$implicit;return d.oxw(2).gotoViewTest(e._id)}),d._uU(10),d.qZA(),d.TgZ(11,"td"),d.YNc(12,$e,5,2,"div",42),d.qZA(),d.qZA()}if(2&e){var n=t.$implicit,a=d.oxw(2);d.xp6(2),d.hij(" ",n.name?n.name:""," "),d.xp6(2),d.hij(" ",n.devices.length?n.devices.length:""," "),d.xp6(2),d.hij(" ",n.status?a.language[n.status]||n.status:""," "),d.xp6(2),d.hij(" ",n.startDate?n.startDate:""," "),d.xp6(2),d.hij(" ",n.numberOfDays?n.numberOfDays:""," "),d.xp6(2),d.Q6J("ngIf",a.hasWriteAccess)}}function et(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"td",47),d._uU(2),d.qZA(),d.qZA()),2&e){var i=d.oxw(2);d.xp6(2),d.Oqu(i.language["No data available in table"])}}function tt(e,t){if(1&e&&(d.TgZ(0,"div",14),d.YNc(1,Be,10,6,"div",15),d.TgZ(2,"div",16),d._uU(3,"Performance Testing"),d.qZA(),d.TgZ(4,"div",17),d.YNc(5,Ge,5,1,"div",18),d.TgZ(6,"div",19),d.YNc(7,Ke,2,1,"button",20),d.qZA(),d.TgZ(8,"div",21),d.TgZ(9,"table",22),d.TgZ(10,"thead"),d.TgZ(11,"tr"),d.TgZ(12,"th",23),d._uU(13),d.qZA(),d.TgZ(14,"th",24),d._uU(15),d.qZA(),d.TgZ(16,"th",25),d._uU(17),d.qZA(),d.TgZ(18,"th",26),d._uU(19),d.qZA(),d.TgZ(20,"th",27),d._uU(21),d.qZA(),d.TgZ(22,"th",28),d._uU(23),d.qZA(),d.qZA(),d.qZA(),d.TgZ(24,"tbody"),d.YNc(25,Xe,13,6,"tr",29),d.YNc(26,et,3,1,"tr",30),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Q6J("ngIf",i.deleteId),d.xp6(4),d.Q6J("ngIf",i.loading),d.xp6(2),d.Q6J("ngIf",i.hasWriteAccess),d.xp6(2),d.Q6J("dtOptions",i.dtOptions)("dtTrigger",i.dtTrigger),d.xp6(4),d.Oqu(i.language.Name),d.xp6(2),d.hij(" ",i.language.No_of_devices," "),d.xp6(2),d.hij(" ",i.language.Current_State," "),d.xp6(2),d.hij(" ",i.language.Start_Date," "),d.xp6(2),d.hij(" ",i.language.No_Of_days," "),d.xp6(2),d.Oqu(i.language.Action),d.xp6(2),d.Q6J("ngForOf",i.performanceDataGrid),d.xp6(1),d.Q6J("ngIf",!i.performanceDataGrid.length)}}function it(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"app-instance-wizard",57),d.NdJ("outputData",function(e){return d.CHM(i),d.oxw(2).getStartData(e)})("activeTab",function(e){return d.CHM(i),d.oxw(2).getCurrentTab(e)}),d.qZA()}if(2&e){var n=d.oxw(2);d.Q6J("inputData",n.inputData)}}function nt(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"app-devices-wizard",57),d.NdJ("outputData",function(e){return d.CHM(i),d.oxw(2).getDeviceData(e)})("activeTab",function(e){return d.CHM(i),d.oxw(2).getCurrentTab(e)}),d.qZA()}if(2&e){var n=d.oxw(2);d.Q6J("inputData",n.inputData)}}function at(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"app-server-details-wizard",57),d.NdJ("outputData",function(e){return d.CHM(i),d.oxw(2).getServerData(e)})("activeTab",function(e){return d.CHM(i),d.oxw(2).getCurrentTab(e)}),d.qZA()}if(2&e){var n=d.oxw(2);d.Q6J("inputData",n.inputData)}}function rt(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"app-schedule-wizard",57),d.NdJ("outputData",function(e){return d.CHM(i),d.oxw(2).getScheduleData(e)})("activeTab",function(e){return d.CHM(i),d.oxw(2).getCurrentTab(e)}),d.qZA()}if(2&e){var n=d.oxw(2);d.Q6J("inputData",n.inputData)}}function ot(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"app-review-wizard",57),d.NdJ("outputData",function(e){return d.CHM(i),d.oxw(2).getReviewData(e)})("activeTab",function(e){return d.CHM(i),d.oxw(2).getCurrentTab(e)}),d.qZA()}if(2&e){var n=d.oxw(2);d.Q6J("inputData",n.inputData)}}var st=function(e){return{"step-current":e}};function lt(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",48),d.TgZ(1,"section",49),d.TgZ(2,"ul",50),d.TgZ(3,"li"),d.TgZ(4,"button",51),d.NdJ("click",function(){return d.CHM(i),d.oxw().setActiveTab("TestInstance")}),d.TgZ(5,"span"),d._uU(6),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"li"),d.TgZ(8,"button",52),d.NdJ("click",function(){return d.CHM(i),d.oxw().setActiveTab("Devices")}),d.TgZ(9,"span"),d._uU(10),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"li"),d.TgZ(12,"button",53),d.NdJ("click",function(){return d.CHM(i),d.oxw().setActiveTab("TestServerDetails")}),d.TgZ(13,"span"),d._uU(14),d.qZA(),d.qZA(),d.qZA(),d.TgZ(15,"li"),d.TgZ(16,"button",54),d.NdJ("click",function(){return d.CHM(i),d.oxw().setActiveTab("TestSchedule")}),d.TgZ(17,"span"),d._uU(18),d.qZA(),d.qZA(),d.qZA(),d.TgZ(19,"li"),d.TgZ(20,"button",55),d.NdJ("click",function(){return d.CHM(i),d.oxw().setActiveTab("Review")}),d.TgZ(21,"span"),d._uU(22),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(23,"section"),d.YNc(24,it,1,1,"app-instance-wizard",56),d.YNc(25,nt,1,1,"app-devices-wizard",56),d.YNc(26,at,1,1,"app-server-details-wizard",56),d.YNc(27,rt,1,1,"app-schedule-wizard",56),d.YNc(28,ot,1,1,"app-review-wizard",56),d.qZA(),d.qZA()}if(2&e){var n=d.oxw();d.xp6(4),d.s9C("title",n.language.Test_Instance),d.Q6J("ngClass",d.VKq(20,st,"TestInstance"===n.activeTab)),d.xp6(2),d.Oqu(n.language.Test_Instance),d.xp6(2),d.s9C("title",n.language.List_Devices),d.Q6J("ngClass",d.VKq(22,st,"Devices"===n.activeTab)),d.xp6(2),d.Oqu(n.language.List_Devices),d.xp6(2),d.s9C("title",n.language.Test_Server_Details),d.Q6J("ngClass",d.VKq(24,st,"TestServerDetails"===n.activeTab)),d.xp6(2),d.Oqu(n.language.Test_Server_Details),d.xp6(2),d.s9C("title",n.language.Test_Schedule),d.Q6J("ngClass",d.VKq(26,st,"TestSchedule"===n.activeTab)),d.xp6(2),d.Oqu(n.language.Test_Schedule),d.xp6(2),d.s9C("title",n.language.Review),d.Q6J("ngClass",d.VKq(28,st,"Review"===n.activeTab)),d.xp6(2),d.hij(" ",n.language.Review,""),d.xp6(2),d.Q6J("ngIf","TestInstance"===n.activeTab),d.xp6(1),d.Q6J("ngIf","Devices"===n.activeTab),d.xp6(1),d.Q6J("ngIf","TestServerDetails"===n.activeTab),d.xp6(1),d.Q6J("ngIf","TestSchedule"===n.activeTab),d.xp6(1),d.Q6J("ngIf","Review"===n.activeTab)}}function ct(e,t){if(1&e&&(d.TgZ(0,"div",36),d.TgZ(1,"div",37),d.TgZ(2,"div",38),d.TgZ(3,"span",39),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var i=d.oxw(2);d.xp6(4),d.Oqu(i.language.Loading)}}function dt(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.qZA()),2&e){var i=t.$implicit;d.xp6(2),d.Oqu(i)}}function ut(e,t){if(1&e&&(d.TgZ(0,"tbody"),d.YNc(1,dt,3,1,"tr",29),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",i.inputData.devices)}}function gt(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.language.Primary_ser_city," ")}}function pt(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.language.Primary_ser_host," ")}}function ht(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.language.Sec_ser_city," ")}}function ft(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.language.Sec_ser_host," ")}}function vt(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.Oqu(i.language.downURL)}}function mt(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.Oqu(i.language.uploadURL)}}function Zt(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.language.Upload_File_Size_bytes," ")}}function bt(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.lnq(" ",i.language.Download," ",i.language.Speed," ",i.language.Tier," ")}}function Tt(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.lnq(" ",i.language.Upload," ",i.language.Speed," ",i.language.Tier," ")}}function xt(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.AsE(" ",i.language.Speed," ",i.language.Threshold," ")}}function At(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.AsE(" ",i.language.Latency," ",i.language.Threshold," ")}}function _t(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.inputData.primaryOoklaServerCityState," ")}}function wt(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.inputData.primaryOoklaServerHostname," ")}}function St(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.inputData.secondaryOoklaServerCityState," ")}}function qt(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.inputData.secondaryOoklaServerHostname," ")}}function yt(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.Oqu(i.inputData.downloadUrl)}}function Ot(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.Oqu(i.inputData.uploadUrl)}}function Dt(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.inputData.uploadFileSize," ")}}function Ct(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.inputData.serviceTierDownloadSpeed>=1e3&&i.inputData.serviceTierUploadSpeed>=1e3?i.inputData.serviceTierDownloadSpeed/1e3+" Mbps":i.inputData.serviceTierDownloadSpeed+" Kbps"," ")}}function Mt(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.inputData.serviceTierDownloadSpeed>=1e3&&i.inputData.serviceTierUploadSpeed>=1e3?i.inputData.serviceTierUploadSpeed/1e3+" Mbps":i.inputData.serviceTierUploadSpeed+" Kbps"," ")}}function Ut(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.inputData.speedThreshold," % ")}}function kt(e,t){if(1&e&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.hij(" ",i.inputData.latencyThreshold," ms ")}}function Pt(e,t){1&e&&(d.TgZ(0,"div",75),d.TgZ(1,"div",76),d.TgZ(2,"a",77),d._UZ(3,"img",78),d.qZA(),d.qZA(),d.qZA())}function It(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"button",84),d.NdJ("click",function(){return d.CHM(i),d.oxw(3).downloadReport()}),d._uU(1),d.qZA()}if(2&e){var n=d.oxw(3);d.Q6J("disabled",n.btnDisabled),d.xp6(1),d.hij(" ",n.language.Download_Report," ")}}function Jt(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"button",85),d.NdJ("click",function(){d.CHM(i);var e=d.oxw(3);return e.suspend(e.inputData._id)}),d._uU(1),d.qZA()}if(2&e){var n=d.oxw(3);d.Q6J("disabled",n.btnDisabled),d.xp6(1),d.hij(" ",n.language.Suspend," ")}}function Nt(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"button",86),d.NdJ("click",function(){d.CHM(i);var e=d.oxw(3);return e.resume(e.inputData._id)}),d._uU(1),d.qZA()}if(2&e){var n=d.oxw(3);d.Q6J("disabled",n.btnDisabled),d.xp6(1),d.hij(" ",n.language.Resume," ")}}function Et(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",79),d.TgZ(1,"button",80),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).editTest()}),d._uU(2),d.qZA(),d.YNc(3,It,2,2,"button",81),d.YNc(4,Jt,2,2,"button",82),d.YNc(5,Nt,2,2,"button",83),d.qZA()}if(2&e){var n=d.oxw(2);d.xp6(1),d.Q6J("disabled","Completed"===n.inputData.status||n.btnDisabled||"In Progress"==n.inputData.status),d.xp6(1),d.hij(" ",n.language.Edit," "),d.xp6(1),d.Q6J("ngIf",n.downloadAccess),d.xp6(1),d.Q6J("ngIf",!n.inputData.suspended&&"Completed"!==n.inputData.status),d.xp6(1),d.Q6J("ngIf",n.inputData.suspended&&"Completed"!==n.inputData.status)}}function Ft(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",58),d.TgZ(1,"div",17),d.YNc(2,ct,5,1,"div",18),d.qZA(),d.TgZ(3,"a",59),d.NdJ("click",function(){return d.CHM(i),d.oxw().sso.redirectByUrl(["support/netops-management/operations/performance-testing","cco/operations/cco-system-operations/performance-testing","","/cco/operations/configuration/performance-testing"])}),d.TgZ(4,"span",60),d._UZ(5,"i",61),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"div",62),d.TgZ(8,"div",63),d.TgZ(9,"h3",64),d._uU(10),d.qZA(),d.TgZ(11,"div",65),d.TgZ(12,"table",66),d.TgZ(13,"thead"),d.TgZ(14,"tr"),d.TgZ(15,"th"),d._uU(16),d.qZA(),d.TgZ(17,"th"),d._uU(18),d.qZA(),d.TgZ(19,"th"),d._uU(20),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"tbody"),d.TgZ(22,"tr"),d.TgZ(23,"td"),d._uU(24),d.qZA(),d.TgZ(25,"td"),d._uU(26),d.qZA(),d.TgZ(27,"td"),d._uU(28),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(29,"div",67),d.TgZ(30,"h3",68),d._uU(31),d.qZA(),d.TgZ(32,"table",69),d.TgZ(33,"thead"),d.TgZ(34,"tr"),d.TgZ(35,"th",70),d._uU(36),d.qZA(),d.qZA(),d.qZA(),d.YNc(37,ut,2,1,"tbody",30),d.qZA(),d.qZA(),d.TgZ(38,"div",71),d.TgZ(39,"h3",68),d._uU(40),d.qZA(),d.TgZ(41,"table",72),d.TgZ(42,"thead"),d.TgZ(43,"tr"),d.YNc(44,gt,2,1,"th",30),d.YNc(45,pt,2,1,"th",30),d.YNc(46,ht,2,1,"th",30),d.YNc(47,ft,2,1,"th",30),d.YNc(48,vt,2,1,"th",30),d.YNc(49,mt,2,1,"th",30),d.YNc(50,Zt,2,1,"th",30),d.YNc(51,bt,2,3,"th",30),d.YNc(52,Tt,2,3,"th",30),d.YNc(53,xt,2,2,"th",30),d.YNc(54,At,2,2,"th",30),d.qZA(),d.qZA(),d.TgZ(55,"tbody"),d.TgZ(56,"tr"),d.YNc(57,_t,2,1,"td",30),d.YNc(58,wt,2,1,"td",30),d.YNc(59,St,2,1,"td",30),d.YNc(60,qt,2,1,"td",30),d.YNc(61,yt,2,1,"td",30),d.YNc(62,Ot,2,1,"td",30),d.YNc(63,Dt,2,1,"td",30),d.YNc(64,Ct,2,1,"td",30),d.YNc(65,Mt,2,1,"td",30),d.YNc(66,Ut,2,1,"td",30),d.YNc(67,kt,2,1,"td",30),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(68,"div",67),d.TgZ(69,"h3",68),d._uU(70),d.qZA(),d.TgZ(71,"table",72),d.TgZ(72,"thead"),d.TgZ(73,"tr"),d.TgZ(74,"th"),d._uU(75),d.qZA(),d.TgZ(76,"th"),d._uU(77),d.qZA(),d.TgZ(78,"th"),d._uU(79),d.qZA(),d.TgZ(80,"th"),d._uU(81),d.qZA(),d.TgZ(82,"th"),d._uU(83),d.qZA(),d.qZA(),d.qZA(),d.TgZ(84,"tbody"),d.TgZ(85,"tr"),d.TgZ(86,"td"),d._uU(87),d.qZA(),d.TgZ(88,"td"),d._uU(89),d.ALo(90,"date"),d.qZA(),d.TgZ(91,"td"),d._uU(92),d.qZA(),d.TgZ(93,"td"),d._uU(94),d.qZA(),d.TgZ(95,"td"),d._uU(96),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(97,Pt,4,0,"div",73),d.qZA(),d.qZA(),d.YNc(98,Et,6,5,"div",74),d.qZA()}if(2&e){var n=d.oxw();d.xp6(2),d.Q6J("ngIf",n.loading),d.xp6(4),d.hij(" ",n.language.Back_Performance_Test,""),d.xp6(4),d.Oqu(n.language.Performance_Testing),d.xp6(6),d.Oqu(n.language.Name),d.xp6(2),d.Oqu(n.language.description),d.xp6(2),d.Oqu(n.language.Current_State),d.xp6(4),d.Oqu(n.inputData.name),d.xp6(2),d.Oqu(n.inputData.description),d.xp6(2),d.Oqu(n.language[n.inputData.status]||n.inputData.status),d.xp6(3),d.Oqu(n.language.List_Devices),d.xp6(5),d.Oqu(n.language.Systems),d.xp6(1),d.Q6J("ngIf",n.inputData.devices&&n.inputData.devices.length),d.xp6(3),d.Oqu(n.language.Test_Server_Details),d.xp6(4),d.Q6J("ngIf",n.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",n.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",n.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",n.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",n.inputData.downloadUrl),d.xp6(1),d.Q6J("ngIf",n.inputData.downloadUrl),d.xp6(1),d.Q6J("ngIf",n.inputData.downloadUrl),d.xp6(1),d.Q6J("ngIf",n.inputData.serviceTierUploadSpeed&&n.inputData.serviceTierDownloadSpeed),d.xp6(1),d.Q6J("ngIf",n.inputData.serviceTierUploadSpeed&&n.inputData.serviceTierDownloadSpeed),d.xp6(1),d.Q6J("ngIf",n.inputData.serviceTierUploadSpeed&&n.inputData.serviceTierDownloadSpeed),d.xp6(1),d.Q6J("ngIf",n.inputData.serviceTierUploadSpeed&&n.inputData.serviceTierDownloadSpeed),d.xp6(3),d.Q6J("ngIf",n.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",n.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",n.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",n.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",n.inputData.downloadUrl),d.xp6(1),d.Q6J("ngIf",n.inputData.downloadUrl),d.xp6(1),d.Q6J("ngIf",n.inputData.downloadUrl),d.xp6(1),d.Q6J("ngIf",n.inputData.serviceTierUploadSpeed&&n.inputData.serviceTierDownloadSpeed),d.xp6(1),d.Q6J("ngIf",n.inputData.serviceTierUploadSpeed&&n.inputData.serviceTierDownloadSpeed),d.xp6(1),d.Q6J("ngIf",n.inputData.serviceTierUploadSpeed&&n.inputData.serviceTierDownloadSpeed),d.xp6(1),d.Q6J("ngIf",n.inputData.serviceTierUploadSpeed&&n.inputData.serviceTierDownloadSpeed),d.xp6(3),d.Oqu(n.language["Test Schedule"]),d.xp6(5),d.Oqu(n.language.Timezone),d.xp6(2),d.Oqu(n.language.Start_Date),d.xp6(2),d.Oqu(n.language.No_Of_days),d.xp6(2),d.Oqu(n.language.start_hour),d.xp6(2),d.Oqu(n.language.No_Of_hr),d.xp6(4),d.Oqu(n.inputData.timezone),d.xp6(2),d.Oqu(d.xi3(90,48,n.getDate(n.inputData.startDate),"MM/dd/yyyy")),d.xp6(3),d.Oqu(n.inputData.numberOfDays),d.xp6(2),d.hij("",n.inputData.startHour,":00"),d.xp6(2),d.Oqu(n.inputData.numberOfHours),d.xp6(1),d.Q6J("ngIf",n.inputData.primaryOoklaServerHostname),d.xp6(1),d.Q6J("ngIf",n.hasWriteAccess)}}var Qt=function(){var e=function(){function e(t,n,a,r,o,s,l,d,u){i(this,e),this.router=t,this.route=n,this.translateService=a,this.performanceService=r,this.commonOrgService=o,this.sso=s,this.downloadService=l,this.dateUtilsService=d,this.titleService=u,this.errorInfo="",this.successInfo="",this.activeTab="TestInstance",this.performanceDataGrid=[],this.tableOptions={searching:!1,lengthChange:!1,ordering:!1},this.isRerender=!1,this.dtTrigger=new c.xQ,this.loading=!0,this.addPerformance=!1,this.inputData={name:"",devices:[],description:"",timezone:"",primaryOoklaServerId:0,secondaryOoklaServerId:0,primaryOoklaServerHostname:"",secondaryOoklaServerHostname:"",primaryOoklaServerCityState:"",secondaryOoklaServerCityState:"",primaryOoklaServerAsn:0,secondaryOoklaServerAsn:0,startDate:"",numberOfDays:0,startHour:0,numberOfHours:0,serviceTierDownloadSpeed:0,serviceTierUploadSpeed:0,speedThreshold:0,latencyThreshold:0,consumerDataRateThreshold:0,consumerDataRateThresholdUs:0,subscribers:[],levelPassed:0,status:"",serviceTierandTrshldChecked:!1,serviceTier:"",protocols:[],downloadUrl:"",uploadUrl:"",uploadFileSize:"",verifyDevice:!1},this.valid={TestInstance:1,Devices:2,TestServerDetails:3,TestSchedule:4,Review:5},this.validlevels={1:"TestInstance",2:"Devices",3:"TestServerDetails",4:"TestSchedule",5:"Review"},this.viewPerformanceTest=!1,this.hasWriteAccess=!1,this.dtOptions={},this.hasScopeAccess=!1,this.testId="",this.downloadAccess=!1,this.deleteId="",this.testName="",this.btnDisabled=!1,this.editTestFlag=!1,this.orgId=this.sso.getOrgId(),console.log(this.router.url),this.frTable=this.translateService.fr,this.enTable=this.translateService.en,this.esTable=this.translateService.es,this.germanTable=this.translateService.de_DE}return a(e,[{key:"setTitle",value:function(e){this.router.url.includes("cco-foundation")||this.router.url.includes("cco/operations/configuration/performance-testing")?this.router.url.includes("cco/operations/configuration/performance-testing")?this.titleService.setTitle("".concat(this.language["Performance Testing"]," - ").concat(this.language.Configuration," - ").concat(this.language.Operations," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"])):this.titleService.setTitle("".concat(this.language["Performance Testing"]," - ").concat(this.language["Workflow Prerequisites"]," - ").concat(this.language.configuration," - ").concat(this.language.Deployment," - ").concat(this.language["Calix Cloud"])):this.titleService.setTitle("".concat(this.language["Performance Testing"]," - ").concat(this.language.Operations," - ").concat(this.language.NetOps," - ").concat(this.language.Support," - ").concat(this.language["Calix Cloud"]))}},{key:"ngOnInit",value:function(){var e,t,i=this,n=this.route.snapshot.paramMap.get("id");n&&(this.testId=n,this.viewTest(n)),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){i.language=e,i.tableLanguageOptions(),setTimeout(function(){i.rerender()},500),i.setTitle(i.router.url)}),this.setTitle(this.router.url);var a=this.sso.getScopes();this.router.url.includes("cco/operations/configuration")?f.N.VALIDATE_SCOPE?((null===(e=null==a?void 0:a["cloud.rbac.coc.operations.configuration.performancetesting"])||void 0===e?void 0:e.length)&&(this.hasScopeAccess=!0),a&&(null===(t=a["cloud.rbac.coc.operations.configuration.performancetesting"])||void 0===t?void 0:t.includes("write"))&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):(f.N.VALIDATE_SCOPE||(this.hasWriteAccess=!0,this.hasScopeAccess=!0),a["cloud.rbac.csc.netops.operations.perf_testing"]=a["cloud.rbac.csc.netops.operations.perf_testing"]?a["cloud.rbac.csc.netops.operations.perf_testing"]:[],a["cloud.rbac.csc.netops.operations.perf_testing"].length&&(this.hasScopeAccess=!0),a&&a["cloud.rbac.csc.netops.operations.perf_testing"]&&-1!==a["cloud.rbac.csc.netops.operations.perf_testing"].indexOf("write")&&(this.hasWriteAccess=!0)),this.hasScopeAccess?(this.GetPerformanceDataGrid(),this.inputData.orgId=this.sso.getOrgId(),-1!==this.sso.getEntitlementsArr().indexOf("131")&&(this.downloadAccess=!0)):this.sso.setPageAccess(!1)}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe()}},{key:"rerender",value:function(){var e=this;this.dtElement.dtInstance.then(function(t){t.destroy(),e.dtTrigger.next()})}},{key:"redraw",value:function(){this.dtElement.dtInstance.then(function(e){e.draw()})}},{key:"GetPerformanceDataGrid",value:function(){var e=this;this.dtOptions={info:!1,paging:!1,lengthChange:!1,searching:!1,order:[[3,"asc"]],columnDefs:[{targets:[0,1,2,3,4],orderable:!0,searchable:!1},{targets:5,orderable:!1}]},this.performanceDataSubscribe=this.performanceService.GetPerformanceDataGrid(this.orgId).subscribe(function(t){if(t){var i=[];if(t)for(var n=t.length,a=0;a<n;a++)t[a].startDateNew=e.dateUtilsService.getUserDateTimeByTimeZone(t[a].startDate),i.push(t[a]);e.performanceDataGrid=i,e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):(e.dtTrigger.next(),setTimeout(function(){e.dataAvailable=!0},200))}},function(t){e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):(e.dtTrigger.next(),e.dataAvailable=!0),e.loading=!1,e.pageErrorHandle(t),e.commonOrgService.pageScrollTop()},function(){}),this.tableLanguageOptions()}},{key:"tableLanguageOptions",value:function(){"fr"==sessionStorage.getItem("defaultLanguage")?this.dtOptions.language=this.frTable:"es"==sessionStorage.getItem("defaultLanguage")?this.dtOptions.language=this.esTable:"de_DE"==sessionStorage.getItem("defaultLanguage")?this.dtOptions.language=this.germanTable:"en"==sessionStorage.getItem("defaultLanguage")&&this.dtOptions.language&&(this.dtOptions.language=this.enTable)}},{key:"setTableOptions",value:function(e){this.loading=!1}},{key:"getStartData",value:function(e){this.inputData=e,this.setValidation("TestInstance")}},{key:"getDeviceData",value:function(e){this.inputData=e,console.log("event",this.inputData),this.setValidation("Devices")}},{key:"getServerData",value:function(e){console.log("sdf",e),this.inputData=e,this.setValidation("TestServerDetails")}},{key:"getScheduleData",value:function(e){console.log("sdf",e),this.inputData=e,this.setValidation("TestSchedule")}},{key:"getReviewData",value:function(e){this.inputData=e,this.setValidation("Review")}},{key:"getCurrentTab",value:function(e){this.activeTab=e,this.setStepperColors(),console.log("event",this.inputData)}},{key:"addForm",value:function(){this.addPerformance=!0}},{key:"deleteTest",value:function(e){this.deleteId=e._id,this.testName=e.name,l("html, body").animate({scrollTop:0},"slow")}},{key:"doDeleteTest",value:function(){var e=this;this.btnDisabled=!0,this.performanceService.delete(this.deleteId).subscribe(function(t){console.log(t),e.btnDisabled=!1,e.deleteId="",e.isRerender=!0,e.GetPerformanceDataGrid()},function(t){e.btnDisabled=!1,e.deleteId="",console.log(t),e.pageErrorHandle(t)})}},{key:"cloneTest",value:function(e){this.addPerformance=!0,e.name="",delete e._id,e.serviceTierDownloadSpeed&&e.serviceTierDownloadSpeed>=1e3&&e.serviceTierUploadSpeed&&e.serviceTierUploadSpeed>=1e3&&(e.serviceTier="Mbps"),this.inputData=e,this.inputData.levelPassed=0,this.inputData.verifyDevice=!0,console.log(this.inputData)}},{key:"setValidation",value:function(e){}},{key:"setActiveTab",value:function(e){var t=this.valid[e];if("TestInstance"==this.activeTab)this.instanceWizardComponent.go_next();else if("Devices"==this.activeTab){if(!this.devicesWizardComponent.go_next())return}else if("TestServerDetails"==this.activeTab){if(!this.serverDetailsWizardComponent.go_next())return}else if("TestSchedule"==this.activeTab&&!this.scheduleWizardComponent.go_next())return;this.activeTab=this.inputData.levelPassed>=t-1?e:this.validlevels[this.inputData.levelPassed+1],this.setStepperColors()}},{key:"setStepperColors",value:function(){for(var e=this.valid[this.activeTab],t=1;t<=this.inputData.levelPassed;t++)l("#stepper-".concat(this.validlevels[t])).removeClass("step-current"),l("#stepper-".concat(this.validlevels[t])).removeClass("step-done"),e===t?l("#stepper-".concat(this.validlevels[t])).addClass("step-current"):l("#stepper-".concat(this.validlevels[t])).addClass("step-done");5===this.inputData.levelPassed&&5!==e&&(l("#stepper-Review").removeClass("step-done"),l("#stepper-Review").removeClass("step-current"))}},{key:"viewTest",value:function(e){var t=this;this.loading=!0,this.viewTestId=e,this.viewPerformanceTest=!0,this.performanceService.view(e).subscribe(function(e){t.loading=!1,e&&e.serviceTierDownloadSpeed&&e.serviceTierDownloadSpeed>=1e3&&e.serviceTierUploadSpeed&&e.serviceTierUploadSpeed>=1e3&&(e.serviceTier="Mbps"),t.inputData=e,t.inputData.levelPassed=5,t.btnDisabled=!1,console.log(t.inputData)},function(e){console.log(e),t.loading=!1,t.btnDisabled=!1,t.pageErrorHandle(e)})}},{key:"gotoViewTest",value:function(e){this.sso.redirectByUrl(["support/netops-management/operations/performance-testing/".concat(e),"./cco/operations/cco-system-operations/performance-testing/".concat(e),"","/cco/operations/configuration/performance-testing/".concat(e)])}},{key:"editTest",value:function(){"In Progress"!=this.inputData.status&&(this.viewPerformanceTest=!1,this.editTestFlag=!0,this.addPerformance=!0)}},{key:"suspend",value:function(e){var t=this;this.btnDisabled=!0,this.performanceService.suspend(e).subscribe(function(e){console.log(e),t.btnDisabled=!1,t.successInfo="Test ".concat(t.inputData.name," ").concat(t.language.Successfully_Suspended),t.showSuccess(t.successInfo),setTimeout(function(){t.reload()},2e3)},function(e){t.btnDisabled=!1,console.log(e),t.pageErrorHandle(e)})}},{key:"resume",value:function(e){var t=this;this.btnDisabled=!0,this.performanceService.resume(e).subscribe(function(e){console.log(e),t.btnDisabled=!1,t.successInfo="Test ".concat(t.inputData.name," ").concat(t.language.Successfully_Resumed),t.showSuccess(t.successInfo),setTimeout(function(){t.reload()},2e3)},function(e){t.btnDisabled=!1,console.log(e),t.pageErrorHandle(e)})}},{key:"reload",value:function(){var e=window.location.pathname;if(-1!==e.indexOf("/cco/operations/"))return this.router.navigate([e]),void setTimeout(function(){l("html, body").animate({scrollTop:l(document).height()},1e3)},200);this.sso.redirectByUrl([this.router.url.includes("/cco")?"":this.router.url,this.router.url.includes("/cco")?this.router.url:""]),setTimeout(function(){l("html, body").animate({scrollTop:l(document).height()},1e3)},200)}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.sso.pageErrorHandle(e),this.closeAlert(),this.error=!0}},{key:"closeAlert",value:function(){this.error=!1,this.success=!1}},{key:"showSuccess",value:function(e){this.closeAlert(),this.successInfo=e,this.success=!0}},{key:"showError",value:function(e){this.closeAlert(),this.errorInfo=e,this.error=!0}},{key:"cancelDelete",value:function(){this.deleteId=""}},{key:"downloadReport",value:function(){var e=this;this.performanceService.download(this.testId).subscribe(function(t){console.log(t),e.downloadService.saveToDisk(t.filename,"".concat(e.inputData.name,"-test-results-").concat(e.inputData.startDate))},function(t){console.log(t),e.pageErrorHandle(t)})}},{key:"getDate",value:function(e){return this.dateUtilsService.getUserDateTimeByTimeZone(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(b.F0),d.Y36(b.gz),d.Y36(h.s),d.Y36(Z),d.Y36(T.v),d.Y36(m.t6),d.Y36(me.K),d.Y36(oe.s),d.Y36(Ze.Dx))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-performance-testing"]],viewQuery:function(e,t){var i;(1&e&&(d.Gf(J,5),d.Gf(Y,5),d.Gf(ne,5),d.Gf(ve,5),d.Gf(s.G,5)),2&e)&&(d.iGM(i=d.CRH())&&(t.devicesWizardComponent=i.first),d.iGM(i=d.CRH())&&(t.instanceWizardComponent=i.first),d.iGM(i=d.CRH())&&(t.serverDetailsWizardComponent=i.first),d.iGM(i=d.CRH())&&(t.scheduleWizardComponent=i.first),d.iGM(i=d.CRH())&&(t.dtElement=i.first))},decls:7,vars:6,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","w-100 alert alert-danger fade show my-3",4,"ngIf"],["class","w-100 alert alert-success fade show my-3",4,"ngIf"],["id","performance-testing","class","tab-pane",4,"ngIf"],["class","performance-wizard","id","performanceWizard",4,"ngIf"],["class","revie-div",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert-success","fade","show","my-3"],[3,"innerHtml"],["id","performance-testing",1,"tab-pane"],["class","py-3 warning-msg dis-warning-msg",4,"ngIf"],[1,"d-block","my-3","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],[1,"w-100","position-relative"],["class","loader pt-5 align-items-start",4,"ngIf"],[1,"flex-start"],["type","button","id","addNew-test","class","btn-default primary px-3 mt-3",3,"click",4,"ngIf"],[1,"pb-2","mt-3"],["datatable","","id","workflow-table_last",1,"performance-testing-table-info","table","row-border","hover","dataTable","table-alter","mb-5",3,"dtOptions","dtTrigger"],[1,"performance-testing-name"],[1,"performance-testing-no-of-devices"],[1,"performance-testing-current-state"],[1,"performance-testing-start-date"],[1,"performance-testing-number-of-days"],[1,"performance-testing-state"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"py-3","warning-msg","dis-warning-msg"],["src","./assets/img/warning-icon.svg"],[1,"btn-con-sec","float-right"],["id","deletePFBtn",1,"btn-default","primary","mr-2",3,"disabled","click"],[1,"btn-default","btn-dft","py-1",3,"click"],[1,"loader","pt-5","align-items-start"],[1,"d-flex","align-items-start","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["type","button","id","addNew-test",1,"btn-default","primary","px-3","mt-3",3,"click"],[1,"pointer",3,"click"],["class","doc-dele-icon",4,"ngIf"],[1,"doc-dele-icon"],[1,"cursor-pointer",3,"title","click"],["aria-hidden","true",1,"fa","fa-files-o","mr-2"],["aria-hidden","true",1,"fa","fa-trash-o"],["colspan","6",1,"text-center"],["id","performanceWizard",1,"performance-wizard"],[1,"stepper-main","mt-4","mb-4"],[1,"stepper-ui"],["id","stepper-TestInstance",1,"step",3,"title","ngClass","click"],["id","stepper-Devices",1,"step",3,"title","ngClass","click"],["id","stepper-TestServerDetails",1,"step",3,"title","ngClass","click"],["id","stepper-TestSchedule",1,"step",3,"title","ngClass","click"],["id","stepper-Review",1,"step",3,"title","ngClass","click"],[3,"inputData","outputData","activeTab",4,"ngIf"],[3,"inputData","outputData","activeTab"],[1,"revie-div"],[1,"flex-end","back-to","pointer","mb-2",3,"click"],["id","netops-back-to-perf-test-btn ml1"],[1,"fa","fa-angle-left"],[1,"review-sec"],["id","netops-review-perf-test-table-container",1,"view-performace-test"],[1,"f-size-18","f-w-600"],[1,"device-div","mt-3"],[1,"table","dataTable","row-border","hover","table-alter"],[1,"device-div"],[1,"review-title"],[1,"table","row-border","dataTable","hover","table-alter","w-100"],[1,"pl-2"],[1,"device-div","performance-review-table","overflow-auto"],[1,"table","row-border","dataTable","hover","table-alter"],["class","d-inline-flex w-100 p-0 flex-start mt-3 mb-2",4,"ngIf"],["class","d-inline-flex w-100 p-0 flex-end mt-4 mb-5",4,"ngIf"],[1,"d-inline-flex","w-100","p-0","flex-start","mt-3","mb-2"],[1,"power-sec"],["href","https://www.speedtest.net","target","_blank",1,"pointer"],["src","assets/img/speed_test_powered_icon.png"],[1,"d-inline-flex","w-100","p-0","flex-end","mt-4","mb-5"],["type","button","id","netops-perf-test-edit-btn",1,"btn-default","primary","mr-3",3,"disabled","click"],["type","button","class","btn-default primary mr-3","id","netops-perf-test-download-btn",3,"disabled","click",4,"ngIf"],["type","button","class","btn-default primary mr-3 perfActionClass","id","netops-perf-test-suspend-btn",3,"disabled","click",4,"ngIf"],["type","button","class","btn-default primary mr-3 perfActionClass","id","netops-perf-test-resume-btn",3,"disabled","click",4,"ngIf"],["type","button","id","netops-perf-test-download-btn",1,"btn-default","primary","mr-3",3,"disabled","click"],["type","button","id","netops-perf-test-suspend-btn",1,"btn-default","primary","mr-3","perfActionClass",3,"disabled","click"],["type","button","id","netops-perf-test-resume-btn",1,"btn-default","primary","mr-3","perfActionClass",3,"disabled","click"]],template:function(e,t){1&e&&(d.YNc(0,Re,2,1,"div",0),d.YNc(1,Ve,6,1,"div",1),d.YNc(2,We,4,1,"div",2),d.YNc(3,tt,27,13,"div",3),d.TgZ(4,"div"),d.YNc(5,lt,29,30,"div",4),d.YNc(6,Ft,99,51,"div",5),d.qZA()),2&e&&(d.Q6J("ngIf",!t.hasScopeAccess),d.xp6(1),d.Q6J("ngIf",t.error&&t.hasScopeAccess),d.xp6(1),d.Q6J("ngIf",t.success&&t.hasScopeAccess),d.xp6(1),d.Q6J("ngIf",!t.addPerformance&&!t.viewPerformanceTest&&t.hasScopeAccess),d.xp6(2),d.Q6J("ngIf",t.addPerformance&&!t.viewPerformanceTest&&t.hasScopeAccess),d.xp6(1),d.Q6J("ngIf",t.viewPerformanceTest&&t.hasScopeAccess))},directives:[x.O5,s.G,x.sg,x.mk,Y,J,ne,ve,ze],pipes:[x.uU],styles:['.small-tag[_ngcontent-%COMP%]{font-size:12px;font-weight:300}.f-w-600[_ngcontent-%COMP%]{font-weight:600}.max-w-22[_ngcontent-%COMP%]{max-width:22.1%;width:22.1}.performance-wizard[_ngcontent-%COMP%]{padding:0;position:relative}.warning-msg[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:0}.btn-con-sec[_ngcontent-%COMP%]{display:flex}.btn-con-sec[_ngcontent-%COMP%]   .warn-btn[_ngcontent-%COMP%]{background:#f0ad4e;border:1px solid #f0ad4e;color:#fff;padding:5px 10px}.btn.warn-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.doc-dele-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{padding-left:10px}.doc-dele-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#4c4c4c}.doc-dele-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:red}.device-div[_ngcontent-%COMP%]{margin:40px 0}.review-sec[_ngcontent-%COMP%]{padding:20px 25px;border:1px solid #ccc;border-radius:5px}.review-sec[_ngcontent-%COMP%]   .review-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600}@media (max-width: 1291px){.stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{padding:10px 26px!important;font-size:14px}}@media (max-width: 991px){.performance-wizard[_ngcontent-%COMP%]{padding:0}}@media (max-width: 650px){#performanceWizard.performance-wizard[_ngcontent-%COMP%]   .stepper-main[_ngcontent-%COMP%]{overflow-x:auto}#performanceWizard.performance-wizard[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]{min-width:1280px}}.performance-testing-name[_ngcontent-%COMP%]{width:30%!important}.performance-testing-no-of-devices[_ngcontent-%COMP%]{width:13%!important;padding-right:30px!important}.performance-testing-current-state[_ngcontent-%COMP%]{width:15%!important}.performance-testing-start-date[_ngcontent-%COMP%]{width:15%!important}.performance-testing-number-of-days[_ngcontent-%COMP%]{width:15%!important}.performance-testing-state[_ngcontent-%COMP%]{width:12%!important}.performance-testing-table-info[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.stepper-main[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;flex-direction:column;position:relative}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 0 0 20px;color:#1a1f22;position:relative;height:32px;border-top:1px solid #0279ff;border-bottom:1px solid #0279ff;border-right:0px!important;border-left:0px!important;outline:none!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:2}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{content:"";width:30px;height:100%;background:transparent;position:absolute;top:0;right:-10px;transform:rotate(48deg);z-index:1;border:1px ridge transparent;border-top-color:#0279ff;border-right-color:#0279ff;border-top-right-radius:5px}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]{color:#fff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:after{background-color:#0279ff!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]{background-color:#82bf00!important;border-color:#82bf00}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:after{background-color:#82bf00!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:disabled{background-color:#82bf00!important;border-color:#82bf00!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:after{border-top-color:#fff!important;border-right-color:#fff!important;border-style:solid}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:after{border-top-color:#0279ff!important;border-right-color:#0279ff!important;border-style:solid}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   button[_ngcontent-%COMP%]{border-top-left-radius:30px;border-bottom-left-radius:30px}button[_ngcontent-%COMP%]:disabled{background:transparent!important;border-color:#0279ff!important;cursor:not-allowed;color:#4c4c4c}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f5faff;color:#0279ff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{background-color:#f5faff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:-1px;width:20px;height:32px;background-color:transparent;border-top:1px solid #0279ff;border-bottom:1px solid #0279ff;z-index:9}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#1a1f22}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled:after{background-color:#fff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%]{opacity:.8;color:#fff!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:before, .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:before{display:none}.stepper-ui[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0 0 10px;padding:0;overflow:hidden;width:100%}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-width:110px}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:110px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:block}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   #stepper-TestServerDetails[_ngcontent-%COMP%]{max-width:143px}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   #stepper-TestServerDetails[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:143px}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   #stepper-Devices[_ngcontent-%COMP%]{max-width:120px}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   #stepper-Devices[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:120px}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   #stepper-TestSchedule[_ngcontent-%COMP%]{max-width:114px}.dis-warning-msg[_ngcontent-%COMP%]{display:flow-root}']}),e}()},17615:function(e,t,n){n.d(t,{h:function(){return r}});var r=a(function e(t,n,a,r,o,s){i(this,e),this.name=t,this.baseUrl=n,this.password=r,this.username=o,this.description=s,this.isSubcriberUpdatedByCSC=a})},54341:function(e,t,n){n.d(t,{o:function(){return g}});var r,o=n(76149),s=n(91841),l=n(40205),c=n(5304),d=n(37716),u=n(89097),g=((r=function(){function e(t,n){i(this,e),this.http=t,this.sso=n}return a(e,[{key:"getExternalFileServer",value:function(e){var t=new s.LE;return this.sso.getOrg(e)&&t.set("orgId",e),this.http.get(o.gn,{params:t}).pipe((0,c.K)(this.handleError))}},{key:"postExternalFileServer",value:function(e){return this.http.post(o.ob,e).pipe((0,c.K)(this.handleError))}},{key:"deleteExternalFileServer",value:function(e){var t=new s.LE;return this.sso.getOrg(e)&&t.set("orgId",e),this.http.delete(o.z9,{params:t}).pipe((0,c.K)(this.handleError))}},{key:"handleError",value:function(e){return(0,l._)(e)}}]),e}()).\u0275fac=function(e){return new(e||r)(d.LFG(s.eN),d.LFG(u.t6))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)}}])}();