"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[8897],{58897:function(e,t,i){i.r(t),i.d(t,{CcoReportsModule:function(){return de}});var s=i(38583),n=i(39895),o=i(92340),a=i(37716),r=i(7450),l=i(89097);function c(e,t){if(1&e&&(a.TgZ(0,"li",5),a.TgZ(1,"a",6),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.hij(" ",e.language["Mapped Endpoint List"]," ")}}function d(e,t){if(1&e&&(a.TgZ(0,"li",5),a.TgZ(1,"a",7),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.hij(" ",e.language["Endpoint Count by Mapper"]," ")}}function g(e,t){if(1&e&&(a.TgZ(0,"li",5),a.TgZ(1,"a",8),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.hij(" ",e.language["ONT Systems"]," ")}}function h(e,t){if(1&e&&(a.TgZ(0,"li",5),a.TgZ(1,"a",9),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.hij(" ",e.language["Unmapped IPs"]," ")}}function u(e,t){if(1&e&&(a.TgZ(0,"li",5),a.TgZ(1,"a",10),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.language.Inventory_Report)}}function p(e,t){if(1&e&&(a.TgZ(0,"li",5),a.TgZ(1,"a",11),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.language["Unassociated Systems"])}}function m(e,t){if(1&e&&(a.TgZ(0,"li",5),a.TgZ(1,"a",12),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.language.Call_Outcome)}}function f(e,t){if(1&e&&(a.TgZ(0,"li",5),a.TgZ(1,"a",13),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.language.Audit_Report)}}let v=(()=>{class e{constructor(e,t){this.translateService=e,this.sso=t,this.showOntDevices=!1,this.showMappedeplists=!1,this.showEpcountbymapper=!1,this.unmappedIPsAccess=!1,this.inventoryReportAccess=!1,this.unassociatedSystemAccess=!1,this.calloutcomeReportAccess=!1,this.auditReportAccess=!1,this.allowReports=!0}ngOnInit(){this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e});let e=this.sso.getScopes(),t=this.sso.getEntitlements();if(t[210]&&!t[102]&&(this.allowReports=!1),o.N.VALIDATE_SCOPE){let t=Object.keys(e);if(e["cloud.rbac.coc.operations.report.calloutcomereports"]=e["cloud.rbac.coc.operations.report.calloutcomereports"]?e["cloud.rbac.coc.operations.report.calloutcomereports"]:[],e["cloud.rbac.coc.operations.report.auditreports"]=e["cloud.rbac.coc.operations.report.auditreports"]?e["cloud.rbac.coc.operations.report.auditreports"]:[],e["cloud.rbac.coc.operations.report.calloutcomereports"].length&&(this.calloutcomeReportAccess=!0),e["cloud.rbac.coc.operations.report.auditreports"].length&&(this.auditReportAccess=!0),t)for(let e=0;e<t.length;e++)-1!==t[e].indexOf("cloud.rbac.coc.operations.report.epcountbymapper")&&(this.showEpcountbymapper=!0),-1!==t[e].indexOf("cloud.rbac.coc.operations.report.mappedeplists")&&(this.showMappedeplists=!0),-1!==t[e].indexOf("cloud.rbac.coc.operations.report.ontdevices")&&(this.showOntDevices=!0),-1!==t[e].indexOf("cloud.rbac.coc.operations.report.unmappedips")&&(this.unmappedIPsAccess=!0),-1!==t[e].indexOf("cloud.rbac.coc.operations.report.invreports")&&(this.inventoryReportAccess=!0),-1!==t[e].indexOf("cloud.rbac.coc.operations.report.unassociatedsystems")&&(this.unassociatedSystemAccess=!0),-1!==t[e].indexOf("cloud.rbac.coc.operations.report.calloutcomereports")&&(this.calloutcomeReportAccess=!0),-1!==t[e].indexOf("cloud.rbac.coc.operations.report.auditreports")&&(this.auditReportAccess=!0)}else this.auditReportAccess=!0,this.showEpcountbymapper=!0,this.showMappedeplists=!0,this.showOntDevices=!0,this.unmappedIPsAccess=!0,this.inventoryReportAccess=!0,this.unassociatedSystemAccess=!0,this.calloutcomeReportAccess=!0}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(r.s),a.Y36(l.t6))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-cco-reports"]],decls:13,vars:8,consts:[[1,"row"],[1,"col-sm-12","col-md-2","col-lg-2","pr-0","ccl-tabs"],["id","netops-list-menu",1,"nav","flex-column","left-menu","tab-view-style"],["class","nav-item",4,"ngIf"],[1,"col-sm-12","col-md-10","col-lg-10","pl-4"],[1,"nav-item"],["id","mapped-endpoint-list","routerLink","./mapped-endpoint-list","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["id","endpoint-count-bymapper","routerLink","./endpoint-count-bymapper","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["id","ont-devices","routerLink","./ont-devices","routerLinkActive"," active",1,"list-group-item","list-group-item-action"],["id","Unmapped","routerLink","./unmapped-ips","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["routerLink","/cco/operations/cco-reports/inventory-report","id","inventoryReportTabId","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["routerLink","/cco/operations/cco-reports/unassociated-devices","id","unassociatedDevicesMenuId","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["routerLink","/cco/operations/cco-reports/call-outcome-report","id","callOutcomeReportTabId","routerLinkActive","active",1,"list-group-item","list-group-item-action"],["routerLink","/cco/operations/cco-reports/Audit-report","id","callOutcomeReportTabId","routerLinkActive","active",1,"list-group-item","list-group-item-action"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"ul",2),a.YNc(3,c,3,1,"li",3),a.YNc(4,d,3,1,"li",3),a.YNc(5,g,3,1,"li",3),a.YNc(6,h,3,1,"li",3),a.YNc(7,u,3,1,"li",3),a.YNc(8,p,3,1,"li",3),a.YNc(9,m,3,1,"li",3),a.YNc(10,f,3,1,"li",3),a.qZA(),a.qZA(),a.TgZ(11,"div",4),a._UZ(12,"router-outlet"),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.Q6J("ngIf",t.showMappedeplists),a.xp6(1),a.Q6J("ngIf",t.showEpcountbymapper),a.xp6(1),a.Q6J("ngIf",t.showOntDevices&&t.allowReports),a.xp6(1),a.Q6J("ngIf",t.unmappedIPsAccess),a.xp6(1),a.Q6J("ngIf",t.inventoryReportAccess),a.xp6(1),a.Q6J("ngIf",t.unassociatedSystemAccess),a.xp6(1),a.Q6J("ngIf",t.calloutcomeReportAccess),a.xp6(1),a.Q6J("ngIf",t.auditReportAccess))},directives:[s.O5,n.lC,n.yS,n.Od],styles:[".left-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{white-space:normal!important;padding-right:10px}"]}),e})();var A=i(32964),b=i(95139),x=i(17507),S=i(65355),y=i(56587),T=i(79765),Z=i(25917),D=i(35758),_=i(23771),C=i(5304),O=i(91704),E=i(12664),M=i(64432),w=i(49342),q=i(9534),I=i(13149),N=i(91841),P=i(48483),U=i(21693),$=i(39075),R=i(86640),L=i(3679),k=i(18638);const F=["deleteModal"],B=["deleteSuccessModal"],V=["calendar"];function J(e,t){if(1&e&&(a.TgZ(0,"div",40),a.TgZ(1,"div",41),a.TgZ(2,"div",42),a.TgZ(3,"span",43),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(4),a.Oqu(e.language.Loading)}}function j(e,t){if(1&e&&(a.TgZ(0,"div",44),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function Y(e,t){if(1&e&&a._uU(0),2&e){const e=t.item,i=a.oxw();a.hij(" ",i.language[e.name]," ")}}function H(e,t){if(1&e&&a._uU(0),2&e){const e=t.item,i=a.oxw();a.hij(" ",i.language[e.name]," ")}}function Q(e,t){if(1&e&&(a.TgZ(0,"small",45),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.AsE("",e.language["Invalid FSAN"],"/",e.language.MAC_Address,"")}}function G(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",46),a.TgZ(1,"span",47),a._UZ(2,"img",48),a.qZA(),a.TgZ(3,"button",49),a.NdJ("click",function(){return a.CHM(e),a.oxw().exportError=!1}),a._UZ(4,"span"),a.qZA(),a._UZ(5,"div",50),a.qZA()}if(2&e){const e=a.oxw();a.xp6(5),a.Q6J("innerHtml",e.errorInfo,a.oJD)}}function K(e,t){if(1&e&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(1),a.hij("/",e.location,"")}}function z(e,t){if(1&e&&(a.TgZ(0,"tr",58),a.TgZ(1,"td",58),a._uU(2),a.qZA(),a.TgZ(3,"td",58),a._uU(4),a.qZA(),a.TgZ(5,"td",58),a._uU(6),a.qZA(),a.TgZ(7,"td",58),a._uU(8),a.qZA(),a.TgZ(9,"td",58),a._uU(10),a.qZA(),a.TgZ(11,"td",58),a._uU(12),a.qZA(),a.TgZ(13,"td",58),a._uU(14),a.qZA(),a.TgZ(15,"td"),a._uU(16),a.qZA(),a.TgZ(17,"td"),a.TgZ(18,"span"),a._uU(19),a.qZA(),a.YNc(20,K,2,1,"span",56),a.qZA(),a.TgZ(21,"td"),a._uU(22),a.qZA(),a.TgZ(23,"td"),a._uU(24),a.qZA(),a.TgZ(25,"td"),a._uU(26),a.qZA(),a.qZA()),2&e){const e=t.$implicit,i=a.oxw(3);a.MGl("id","tr-",e.uuid,""),a.xp6(1),a.MGl("id","name-",e.uuid,""),a.xp6(1),a.hij("",e.ontId," "),a.xp6(1),a.MGl("id","Fsan-",e.uuid,""),a.xp6(1),a.Oqu(e.fsan),a.xp6(1),a.MGl("id","model-",e.uuid,""),a.xp6(1),a.Oqu(null==e?null:e.discoveredModel),a.xp6(1),a.MGl("id","regid-",null==e?null:e.uuid,""),a.xp6(1),a.Oqu(i.is_DEVICE_NEVER_CHECKED_IN?null==e?null:e.registrationId:null==e?null:e.discoveredRegistrationId),a.xp6(1),a.MGl("id","discoveredPonPort-",e.uuid,""),a.xp6(1),a.hij(" ",e.discoveredPonPort,""),a.xp6(1),a.MGl("id","discoveredMacAddress-",e.uuid,""),a.xp6(1),a.hij(" ",i.is_DEVICE_NEVER_CHECKED_IN?"00:00:00:00:00:00"==(null==e?null:e.macAddress)?"":null==e?null:e.macAddress:null==e?null:e.discoveredMacAddress,""),a.xp6(1),a.MGl("id","discoveredVersion-",e.uuid,""),a.xp6(1),a.hij(" ",e.discoveredVersion," "),a.xp6(2),a.Oqu(1==e.isRogue?"Yes":"No"),a.xp6(3),a.Oqu(e.region),a.xp6(1),a.Q6J("ngIf",e.location),a.xp6(2),a.Oqu(e.oltName),a.xp6(2),a.Oqu(null!=e&&e.firstPresentTime?i.convertToDateTime(e.firstPresentTime):""),a.xp6(2),a.Oqu(null!=e&&e.lastPresentTime?i.convertToDateTime(e.lastPresentTime):"")}}function X(e,t){if(1&e&&(a.TgZ(0,"tbody"),a.YNc(1,z,27,21,"tr",57),a.qZA()),2&e){const e=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",e.list)}}function W(e,t){if(1&e&&(a.TgZ(0,"tbody"),a.TgZ(1,"tr"),a.TgZ(2,"td",59),a._uU(3),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw(2);a.xp6(3),a.hij("",e.language["No data available in table"]," ")}}function ee(e,t){if(1&e&&(a.TgZ(0,"div",51),a.TgZ(1,"div",52),a.TgZ(2,"div",53),a.TgZ(3,"table",54),a.TgZ(4,"thead"),a.TgZ(5,"tr"),a.TgZ(6,"th"),a._uU(7),a.qZA(),a.TgZ(8,"th"),a._uU(9),a.qZA(),a.TgZ(10,"th"),a._uU(11),a.qZA(),a.TgZ(12,"th"),a._uU(13),a.qZA(),a.TgZ(14,"th"),a._uU(15),a.qZA(),a.TgZ(16,"th"),a._uU(17),a.qZA(),a.TgZ(18,"th"),a._uU(19),a.qZA(),a.TgZ(20,"th"),a._uU(21),a.qZA(),a.TgZ(22,"th"),a._uU(23),a.qZA(),a.TgZ(24,"th",55),a._uU(25),a.qZA(),a.TgZ(26,"th"),a._uU(27),a.qZA(),a.TgZ(28,"th"),a._uU(29),a.qZA(),a.qZA(),a.qZA(),a.YNc(30,X,2,1,"tbody",56),a.YNc(31,W,4,1,"tbody",56),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(3),a.Q6J("dtOptions",e.dtOptions),a.xp6(4),a.Oqu(e.language["ONU ID"]),a.xp6(2),a.Oqu(e.language.FSAN),a.xp6(2),a.Oqu(e.language.model),a.xp6(2),a.Oqu(e.language.Registration_ID),a.xp6(2),a.Oqu(e.language.Interface),a.xp6(2),a.Oqu(e.language["ONU Mac Address"]),a.xp6(2),a.Oqu(e.language.Version),a.xp6(2),a.Oqu(e.language.IsQuarantined),a.xp6(2),a.AsE("",e.language.Region,"/",e.language.Location,""),a.xp6(2),a.Oqu(e.language.System),a.xp6(2),a.Oqu(e.language["First discovered"]),a.xp6(2),a.Oqu(e.language["Last discovered"]),a.xp6(1),a.Q6J("ngIf",0!=(null==e.list?null:e.list.length)),a.xp6(1),a.Q6J("ngIf",!(null!=e.list&&e.list.length)||0==e.count)}}function te(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",60),a.TgZ(1,"h4",61),a._uU(2),a.qZA(),a.TgZ(3,"button",62),a.NdJ("click",function(){return a.CHM(e),a.oxw().close()}),a._UZ(4,"span",63),a.qZA(),a.qZA(),a.TgZ(5,"div",64),a.TgZ(6,"p"),a._uU(7),a.TgZ(8,"b"),a._uU(9),a.qZA(),a._uU(10," ? "),a.qZA(),a.qZA(),a.TgZ(11,"div",65),a.TgZ(12,"button",66),a.NdJ("click",function(){return a.CHM(e),a.oxw().close()}),a._uU(13),a.qZA(),a.TgZ(14,"button",67),a.NdJ("click",function(){return a.CHM(e),a.oxw().doDelete()}),a._uU(15),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.language.Delete),a.xp6(5),a.hij(" ",e.language["Are you sure you want to delete the System"]," "),a.xp6(2),a.Oqu(e.deleteName),a.xp6(4),a.hij(" ",e.language.Close," "),a.xp6(2),a.hij(" ",e.language.Yes," ")}}function ie(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",60),a.TgZ(1,"h4",61),a._uU(2),a.qZA(),a.TgZ(3,"button",62),a.NdJ("click",function(){return a.CHM(e),a.oxw().close()}),a._UZ(4,"span",63),a.qZA(),a.qZA(),a.TgZ(5,"div",64),a.TgZ(6,"p"),a._uU(7),a.qZA(),a.qZA(),a.TgZ(8,"div",65),a.TgZ(9,"button",66),a.NdJ("click",function(){return a.CHM(e),a.oxw().close()}),a._uU(10),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.language.Delete),a.xp6(5),a.Oqu(e.language["Deleted Successfully"]),a.xp6(3),a.hij(" ",e.language.Close," ")}}const se=function(){return{standalone:!0}};let ne=(()=>{class e{constructor(e,t,i,s,n,a,r,l,c,d,g,h,u,p,m){this.translateService=e,this.modalService=t,this.ccoCommonService=i,this.commonOrgService=s,this.service=n,this.exportExcel=a,this.router=r,this.http=l,this.dateUtilsService=c,this.dialogService=d,this.route=g,this.sso=h,this.issueService=u,this.exportExcelService=p,this.titleService=m,this.isDev=!1,this.errorInfo="",this.successInfo="",this.deleteId="",this.tableData=[],this.empty={serielNumber:"",type:"",model:"",name:"",region:"",location:"",connection_status:"",software_version:""},this.servicePlans=[],this.servicePlanSelected="1G",this.list=[],this.loading=!1,this.dataAvailable=!1,this.dtTrigger=new T.xQ,this.dtOptions={},this.isRerender=!1,this.types=[],this.typeSelected="DISCOVERED_DEVICE",this.showTable=!1,this.regionsDataArray=["All"],this.regionSelected="",this.locationSelected="",this.locationDataArray=["All"],this.systemDataArray=["All"],this.timePeriodSelected="first",this.maxForStartDate=new Date,this.hasScopeAccess=!1,this.name="",this.condition=!1,this.fmmaxlength=17,this.is_DEVICE_NEVER_CHECKED_IN=!1,this.sortBy=void 0,this.sortType=void 0,this.deleteName="",this.count=0,this.initLoad=!1,window,this.isDev=`${o.N.API_BASE}`.indexOf("/dev.api.calix.ai")>-1,this.ccoCommonService.currentPageAdder("system-table-view"),this.frTable=this.translateService.fr,this.esTable=this.translateService.es,this.language=this.translateService.defualtLanguage,this.tableLanguageOptions(),this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.tableLanguageOptions(),this.showTable=!1,setTimeout(()=>{this.showTable=!0,this.count=0,this.list=[],this.getCount()},100),this.titleService.setTitle(`${this.language["ONT Systems"]} - ${this.language.Reports} - ${this.language.Operations} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`)})}ngOnInit(){this.exportEventSubs=this.ccoCommonService.ccoPageExport.subscribe(e=>{e&&"network-system-table-list"==e&&this.export()}),this.titleService.setTitle(`${this.language["ONT Systems"]} - ${this.language.Reports} - ${this.language.Operations} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`),this.types=[{name:"All Systems",value:"DISCOVERED_DEVICE"},{name:"Systems Not Checked In",value:"DEVICE_NOT_CHECKED_IN"},{name:"Systems Checked In",value:"DEVICE_CHECKED_IN"},{name:"System Never Checked In",value:"DEVICE_NEVER_CHECKED_IN"}];let e=this.sso.getScopes();if(o.N.VALIDATE_SCOPE){let t=Object.keys(e);if(t)for(let e=0;e<t.length;e++)if(-1!==t[e].indexOf("cloud.rbac.coc.operations.report.ontdevices")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;this.hasScopeAccess?(this.getRegions(),this.getCount()):this.sso.setPageAccess(!1)}changeMAc(){(0==this.name.length||12==this.name.length&&!this.name.includes(":")||17==this.name.length&&!this.validateMAc())&&(this.fsanvalid=!1),this.name.length>0?(this.condition=!0,this.regionSelected="All",this.locationSelected="All",this.systemSelected="All"):(this.condition=!1,this.fsanvalid=!1),this.fmmaxlength=this.name.includes(":")||0==this.name.length?17:12}textselected(){this.fmmaxlength=17}fsanvalidated(e){var t;if(this.name.includes(":"))return!0;let i=null===(t=this.name)||void 0===t?void 0:t.length;return 0!=i&&i<12?(this.fsanvalid=!0,!0):(this.fsanvalid=!1,!1)}validateMAc(){const e=/^[x|X]$/,t=/^[x|X]{2}$/;let i=!1;if(!this.name.includes(":"))return!0;if(17!==this.name.length)return this.fsanvalid=!0,!0;let s=this.name.split(":");if(i=!1,6!==s.length)return this.fsanvalid=!0,!0;let n=!1;for(let o=0;o<6;o++){let a=s[o];if(2!==a.length){i=!0;break}if(n){if(!e.test(a[1])){i=!0;break}}else{let s=parseInt(a,16);if(isNaN(s)){if(!t.test(a)){i=!0;break}n=!0}else if(e.test(a[1])){i=!0;break}}}return this.fsanvalid=!!i,i}getRegions(){this.regionSelected="All",this.locationSelected="All",this.systemSelected="All",this.regionsSubject=this.http.get(`${o.N.API_BASE_URL}nfa/regions?tenant=0`).subscribe(e=>{let t={};e.forEach(e=>{t[e.name]=(t[e.name]||0)+1}),e.forEach((e,i)=>{var s;t[e.name]>1&&(e.name=e.name+" ("+(null===(s=e.fqn)||void 0===s?void 0:s.split("=")[1].split(",")[0])+")")}),e.sort((e,t)=>(e.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})),this.regionsDataArray=[...this.regionsDataArray,...e]},e=>{})}getLocations(){this.locationSelected="All",this.systemSelected="All",this.regionSelected&&"All"!=this.regionSelected&&(this.locationsSubject=this.http.get(`${o.N.API_BASE_URL}nfa/locations?tenant=0&region=${this.regionSelected}`).subscribe(e=>{e.sort((e,t)=>(e.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})),this.locationDataArray=["All"],this.locationDataArray=[...this.locationDataArray,...e]},e=>{})),"All"==this.regionSelected&&(this.locationDataArray=["All"],this.systemDataArray=["All"])}loadSystemValue(e){let t=this.regionSelected,i=this.locationSelected;this.systemSelected="All",this.locationSelected&&this.regionSelected&&"All"!=this.locationSelected&&(this.systemsSubject=this.issueService.getSystems(t,i).subscribe(e=>{e.sort((e,t)=>(e.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})),this.systemDataArray=["All"],this.systemDataArray=[...this.systemDataArray,...e]},e=>{})),"All"==this.locationSelected&&(this.systemDataArray=["All"])}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.dtOptions.language=this.frTable:"es"==this.language.fileLanguage?this.dtOptions.language=this.esTable:"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.translateService.de_DE:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}renderTable(e){e?this.rerender():this.dtTrigger.next(),setTimeout(()=>{this.dataAvailable=!0},800)}rerender(){this.dtElement.dtInstance.then(e=>{e.destroy(),this.dtTrigger.next()})}export(){let e=this.ccoCommonService.generateExportName("systems"),t=this.ccoCommonService.exportDataConvertor(this.tableData);this.exportExcel.downLoadCSV(e,t.length?t:[this.empty])}gotoSystem(e){this.router.navigate(["../cco-add-new-system/"+e.SN],{relativeTo:this.route})}updateService(){this.closeAllModal()}closeAllModal(){this.modalService.dismissAll()}goToSystemDetails(e){this.router.navigate(["../system-details/"+e.SN],{relativeTo:this.route})}getListNew(){this.loading=!0,this.dtOptions={paging:!1,lengthChange:!1,searching:!1,ordering:!1};const e={};["ONU"].forEach(t=>{const i=this.http.get(`${o.N.API_BASE_URL}cnap/invmgr/devices?type=${t}`).pipe((0,C.K)(e=>(0,Z.of)(e.status)));e[t]=i}),this.listObs=(0,D.D)(e).subscribe(e=>{this.loading=!1,this.list=e.ONU,this.loading=!1,this.isRerender?(this.rerender(),this.isRerender=!1):(this.dtTrigger.next(),setTimeout(()=>{this.dataAvailable=!0},200))},e=>{this.pageErrorHandle(e),this.dataAvailable=!0})}pageErrorHandle(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.closeAlert(),this.error=!0,this.loading=!1}closeAlert(){this.error=!1,this.success=!1}showSuccess(e){this.closeAlert(),this.successInfo=e,this.success=!0}showError(e){this.closeAlert(),this.errorInfo=e,this.error=!0}cancelDelete(){this.deleteId=""}ngOnDestroy(){this.listObs&&this.listObs.unsubscribe(),this.languageSubject&&this.languageSubject.unsubscribe(),this.exportEventSubs&&this.exportEventSubs.unsubscribe()}delete(e,t){this.deleteId=e,this.deleteName=t,this.modalRef&&this.close(),this.modalRef=this.dialogService.open(this.deleteModal)}close(){this.modalRef.close()}doDelete(){this.http.delete(`${o.N.API_BASE_URL}cnap/invmgr/devices/${this.deleteId}`).subscribe(e=>{this.close(),this.modalRef=this.dialogService.open(this.deleteSuccessModal),this.deleteId="",this.isRerender=!0,this.getListNew()},e=>{this.close(),this.pageErrorHandle(e)})}gotoEdit(e){this.router.navigate([`cco/system/cco-network-system/edit/${e}`])}refresh(e){this.http.get(`${o.N.API_BASE_URL}cnap/invmgr/devices/${e}`).subscribe(t=>{O(`#name-${e}`).html(`${t.onuId?t.onuId:""}`),O(`#macAddress-${e}`).html(`${t.macAddress?t.macAddress:""}`),O(`#deviceModel-${e}`).html(`${t.deviceModel?t.deviceModel:""}`),O(`#swVersion-${e}`).html(`${t.swVersion?t.swVersion:""}`),O(`#serialNumber-${e}`).html(`${t.serialNumber?t.serialNumber:""}`),O(`#communicationState-${e}`).html(`${t.protocolInfos&&t.protocolInfos[0]&&t.protocolInfos[0].communicationState?t.protocolInfos[0].communicationState:""}`),O(`#cmSyncFunction-${e}`).html(`${t.cmSyncFunction&&t.cmSyncFunction.syncStatus?t.cmSyncFunction.syncStatus:""}`),O(`#fmSyncFunction-${e}`).html(`${t.fmSyncFunction&&t.fmSyncFunction.syncStatus?t.fmSyncFunction.syncStatus:""}`)},e=>{this.pageErrorHandle(e)})}redraw(){this.dtElement.dtInstance.then(e=>{e.draw()})}getCount(){if(this.fsanvalidated("")&&this.validateMAc())return;this.loading=!0,this.exportError=!1,this.initLoad=!1,this.showTable=!1,this.firstDiscoverd&&(this.firstPresentTimeStart=this.firstDiscoverd[0]?this.firstDiscoverd[0]:void 0,this.firstPresentTimeEnd=this.firstDiscoverd[1]?this.firstDiscoverd[1]:new Date),this.lastDiscoverd&&(this.lastPresentTimeStart=this.lastDiscoverd[0]?this.lastDiscoverd[0]:void 0,this.lastPresentTimeEnd=this.lastDiscoverd[1]?this.lastDiscoverd[1]:new Date),this.is_DEVICE_NEVER_CHECKED_IN="DEVICE_NEVER_CHECKED_IN"==this.typeSelected;let e={reportType:this.typeSelected,tenant:0,region:"All"===this.regionSelected||this.name?void 0:this.regionSelected,location:"All"===this.locationSelected||this.name?void 0:this.locationSelected,system:"All"===this.systemSelected||this.name?void 0:this.systemSelected,firstPresentTimeStart:this.firstPresentTimeStart?this.dateUtilsService.getUtCMilliSecByDateObj(this.firstPresentTimeStart):void 0,firstPresentTimeEnd:this.firstPresentTimeEnd?this.dateUtilsService.getUtCMilliSecByDateObj(this.firstPresentTimeEnd,!0):void 0,lastPresentTimeStart:this.lastPresentTimeStart?this.dateUtilsService.getUtCMilliSecByDateObj(this.lastPresentTimeStart):void 0,lastPresentTimeEnd:this.lastPresentTimeEnd?this.dateUtilsService.getUtCMilliSecByDateObj(this.lastPresentTimeEnd,!0):void 0,fsanMac:this.name?this.name:void 0},t="";for(var i in e)null!=e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));this.http.get(`${o.N.API_BASE_URL}nfa/onts/count?${t}`).subscribe(e=>{this.showTable=!0,e&&void 0!==typeof e.count?(this.count=e.count,this.initLoad?this.redraw():this.getList()):this.loading=!1},e=>{this.loading=!1,this.pageErrorHandle(e)})}getList(){let e={reportType:this.typeSelected,tenant:0,region:"All"===this.regionSelected||this.name?void 0:this.regionSelected,location:"All"===this.locationSelected||this.name?void 0:this.locationSelected,system:"All"===this.systemSelected||this.name?void 0:this.systemSelected,firstPresentTimeStart:this.firstPresentTimeStart?this.dateUtilsService.getUtCMilliSecByDateObj(this.firstPresentTimeStart):void 0,firstPresentTimeEnd:this.firstPresentTimeEnd?this.dateUtilsService.getUtCMilliSecByDateObj(this.firstPresentTimeEnd,!0):void 0,lastPresentTimeStart:this.lastPresentTimeStart?this.dateUtilsService.getUtCMilliSecByDateObj(this.lastPresentTimeStart):void 0,lastPresentTimeEnd:this.lastPresentTimeEnd?this.dateUtilsService.getUtCMilliSecByDateObj(this.lastPresentTimeEnd,!0):void 0,fsanMac:this.name?this.name:void 0},t="";for(var i in e)null!=e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));this.exportquery=t,this.exportparams=e;const s=this;this.dtOptions={pagingType:"full_numbers",pageLength:10,serverSide:!0,processing:!1,searching:!1,ordering:!0,order:[],ajax:(i,n)=>{var a,r;let l=`${o.N.API_BASE_URL}nfa/onts?offset=${i.start}&limit=${i.length}&${t}`;this.sortBy=i.order&&i.order.length>0?null===(a=i.order[0])||void 0===a?void 0:a.column:void 0,this.sortType=i.order&&i.order.length>0?null===(r=i.order[0])||void 0===r?void 0:r.dir:void 0;let c=0==parseInt(this.sortBy)?"onuid":1==parseInt(this.sortBy)?"fsan":2==parseInt(this.sortBy)?"model":3==parseInt(this.sortBy)?"registrationid":4==parseInt(this.sortBy)?"discoveredPonPort":5==parseInt(this.sortBy)?"onumacaddr":6==parseInt(this.sortBy)?"currversion":7==parseInt(this.sortBy)?"isrogue":8==parseInt(this.sortBy)?"region":9==parseInt(this.sortBy)?"devicename":10==parseInt(this.sortBy)?"firstpresenttime":11==parseInt(this.sortBy)?"lastpresenttime":void 0;c&&(l+=`&sortBy=${c}&sortOrder=${this.sortType}`),s.http.get(l).subscribe(t=>{if(this.loading=!1,t&&t.ontDevices&&t.ontDevices.length){e.fsanMac&&(this.count=1),this.list=t.ontDevices;for(let e=0;e<this.list.length;e++)null==this.list[e].vendorId&&(this.list[e].vendorId=this.list[e].discoveredVendorId)}else this.list=[],e.fsanMac&&(this.count=0);this.initLoad=!0,this.loading=!1,n({recordsTotal:this.count?this.count:0,recordsFiltered:this.count?this.count:0,data:[]})},e=>{this.loading=!1,this.list=[],this.exportError=!0,this.pageErrorHandle(e),n({recordsTotal:0,recordsFiltered:0,data:[]})})},drawCallback:e=>{this.tableLanguageOptions(),e._iRecordsDisplay<=e._iDisplayLength&&O(e.nTableWrapper).find("#users-table_last").addClass("disabled")}},this.tableLanguageOptions(),this.Regionname(this.regionSelected),this.locationName(this.locationSelected),this.systemName(this.systemSelected)}clearFilter(){this.typeSelected="DISCOVERED_DEVICE",this.regionSelected="All",this.locationSelected="All",this.systemSelected="All",this.locationDataArray=["All"],this.systemDataArray=["All"],this.firstPresentTimeStart=void 0,this.firstPresentTimeEnd=void 0,this.lastPresentTimeEnd=void 0,this.lastPresentTimeStart=void 0,this.firstDiscoverd=void 0,this.lastDiscoverd=void 0,this.name="",this.condition=!1,this.exportError=!1,this.getCount()}getExportData(e){let t={};var i=0;if(0!=this.count){for(var s=0;s<Math.ceil(this.count/500);s++)t[s]=this.http.get(`${o.N.API_BASE_URL}nfa/onts?offset=${i}&limit=500&${this.exportquery}`),i+=500;(0,D.D)(t).subscribe(i=>{let s=Object.keys(t),n=[];s.map(e=>{let t=[];t=i[e].ontDevices,n.push(...t)}),this.Download(n,e)},e=>{this.exportError=!0,this.pageErrorHandle(e)})}else this.Download([],e)}Download(e,t){new s.uU("en-US");let i=`${this.language["ONT Systems Report"]} \r\n${this.language.type} : ${this.reportType(this.exportparams.reportType)}\r\n${this.language.region} : ${this.exportparams.region?this.RegionName:"All"}\r\n${this.language.location} : ${this.exportparams.location?this.LocationName:"All"}\r\n${this.language.System} : ${this.exportparams.system?this.SystemName:"All"}\r\n${this.language.FSAN}/${this.language.MAC_Address} : ${this.exportparams.fsanMac?this.exportparams.fsanMac:""}\r\n${this.language["First discovered"]} : ${this.exportparams.firstPresentTimeStart?this.startISODate(this.exportparams.firstPresentTimeStart,!1):""} - ${this.exportparams.firstPresentTimeEnd?this.startISODate(this.exportparams.firstPresentTimeEnd,!1):""}\r\n${this.language["Last discovered"]} : ${this.exportparams.lastPresentTimeStart?this.startISODate(this.exportparams.lastPresentTimeStart,!1):""} - ${this.exportparams.lastPresentTimeEnd?this.startISODate(this.exportparams.lastPresentTimeEnd,!1):""}\r\n\r\n`;O(t).addClass("spinnershow");let n,o=this.chartDataFraming(e);this.types.some(e=>{e.value===this.exportparams.reportType&&(n=e.name)});let a=this.generateDownloadName(this.language["ONT Systems"]+" ("+this.language[n]+")");e&&setTimeout(()=>{O(t).removeClass("spinnershow")},1e3),this.exportExcelService.downLoadCSV(a,o,i)}Regionname(e){this.RegionName="All",this.regionsDataArray.forEach(e=>{e.id==this.regionSelected&&(this.RegionName=e.name)})}locationName(e){this.LocationName="All",this.locationDataArray.forEach(e=>{e.id==this.locationSelected&&(this.LocationName=e.name)})}systemName(e){this.SystemName="All",this.systemDataArray.forEach(e=>{e.uuid==this.systemSelected&&(this.SystemName=e.name)})}reportType(e){switch(e){case"DISCOVERED_DEVICE":return this.language["All Systems"];case"DEVICE_NOT_CHECKED_IN":return this.language["Systems Not Checked In"];case"DEVICE_CHECKED_IN":return this.language["Systems Checked In"];case"DEVICE_NEVER_CHECKED_IN":return this.language["System Never Checked In"]}}chartDataFraming(e){let t=[];for(var i=0;i<(null==e?void 0:e.length);i++)t.push({[this.language["ONU ID"]]:e[i].ontId?e[i].ontId:"",[this.language.FSAN]:e[i].fsan?e[i].fsan:"",[this.language.model]:e[i].discoveredModel?e[i].discoveredModel:"",[this.language.Registration_ID]:e[i].discoveredRegistrationId?e[i].discoveredRegistrationId:"",[this.language.Interface]:e[i].discoveredPonPort?`"  "${e[i].discoveredPonPort}`:"",[this.language["ONU Mac Address"]]:e[i].discoveredMacAddress?e[i].discoveredMacAddress:"",[this.language.Version]:e[i].discoveredVersion?e[i].discoveredVersion:"",[this.language.IsQuarantined]:e[i].isRogue?"Yes":"No",[this.language.Region]:e[i].region?e[i].region:"",[this.language.Location]:e[i].location?e[i].location:"",[this.language.System]:e[i].oltName?e[i].oltName:"",[this.language["First discovered"]]:e[i].firstPresentTime?this.convertToDateTime(e[i].firstPresentTime):"",[this.language["Last discovered"]]:e[i].lastPresentTime?this.convertToDateTime(e[i].lastPresentTime):""});return t}generateDownloadName(e){let t=e.split(" ").join("_"),i=((new Date).getTime(),"");return this.formatTodayDate()&&this.formatTodayDate(),i+=t,i}formatTodayDate(){var e=new Date,t=""+(e.getMonth()+1),i=""+e.getDate(),s=e.getFullYear();return t.length<2&&(t="0"+t),i.length<2&&(i="0"+i),[s,t,i].join("-")}startISODate(e,t){if(null==e)return;let i,s=new Date(e),n=s.getFullYear(),o=`${s.getMonth()+1}`,a=`${s.getDate()}`;return o.length<2&&(o=`0${o}`),a.length<2&&(a=`0${a}`),i=t?`${n}-${o}-${a}T23:59:00Z`:`${n}-${o}-${a}T${s.getHours()}:${s.getMinutes()}:${s.getSeconds()}Z`,i}changeTableStatusLanguage(e){const t=new Intl.NumberFormat;this.tableCounts={searchText:e.oPreviousSearch.sSearch.trim(),total:e._iRecordsTotal,displayCount:e._iDisplayLength,displayed:e._iRecordsDisplay,start:e._iDisplayStart};const i="es"==sessionStorage.getItem("defaultLanguage"),s="fr"==sessionStorage.getItem("defaultLanguage"),n=e.oPreviousSearch.sSearch.trim()?s?`(filtr\xe9es \xe0 partir des ${t.format(e._iRecordsTotal)} entr\xe9es totales)`:`(filtered from ${t.format(e._iRecordsTotal)} total entries)`:"",o=0==e._iRecordsDisplay?-1:e._iDisplayStart,a=e._iDisplayStart+e._iDisplayLength>e._iRecordsDisplay?e._iRecordsDisplay:e._iDisplayStart+e._iDisplayLength;O('div [role="status"]').text(s?`Affichage de ${t.format(o+1)} \xe0 ${t.format(a)} des ${t.format(e._iRecordsDisplay)} entr\xe9es ${n}`:i?`Se muestran del ${t.format(o+1)} al ${t.format(a)} de ${t.format(e._iRecordsDisplay)} resultados ${n}`:`Showing ${t.format(o+1)} to ${t.format(a)} of ${t.format(e._iRecordsDisplay)} entries ${n}`),O(".first").text(s?"Le d\xe9but":i?"Primero":"First"),O(".previous").text(s?"Pr\xe9c\xe9dent":i?"Anterior":"Previous"),O(".next").text(s?"Suivant":i?"Siguiente":"Next"),O(".last").text(s?"Derni\xe8re":i?"\xdaltimo":"Last")}onSelect(){0==this.calendar.overlayVisible&&(this.firstDiscoverd?(this.firstDiscoverd[1]=this.firstDiscoverd[1]?this.firstDiscoverd[1]:new Date,this.firstDiscoverd=[this.firstDiscoverd[0],this.firstDiscoverd[1]]):this.firstDiscoverd||(this.firstPresentTimeStart=void 0,this.firstPresentTimeEnd=void 0,this.firstDiscoverd=void 0),this.lastDiscoverd?(this.lastDiscoverd[1]=this.lastDiscoverd[1]?this.lastDiscoverd[1]:new Date,this.lastDiscoverd=[this.lastDiscoverd[0],this.lastDiscoverd[1]]):this.lastDiscoverd||(this.lastPresentTimeEnd=void 0,this.lastPresentTimeStart=void 0,this.lastDiscoverd=void 0))}removespecialcharacter(e){var t;return(t=e.keyCode)>47&&t<59||t>64&&t<91||t>96&&t<123}convertToDateTime(e){return e?(e=Number(e),new s.uU("en-US").transform(new Date(e),"short")):void 0}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(r.s),a.Y36(E.FF),a.Y36(M.q),a.Y36(w.v),a.Y36(q.Q),a.Y36(I.O),a.Y36(n.F0),a.Y36(N.eN),a.Y36(P.s),a.Y36(E.FF),a.Y36(n.gz),a.Y36(l.t6),a.Y36(U.v),a.Y36(I.O),a.Y36($.Dx))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-ont-devices"]],viewQuery:function(e,t){if(1&e&&(a.Gf(F,7),a.Gf(B,7),a.Gf(_.G,5),a.Gf(V,5)),2&e){let e;a.iGM(e=a.CRH())&&(t.deleteModal=e.first),a.iGM(e=a.CRH())&&(t.deleteSuccessModal=e.first),a.iGM(e=a.CRH())&&(t.dtElement=e.first),a.iGM(e=a.CRH())&&(t.calendar=e.first)}},decls:58,vars:62,consts:[[1,"my-3"],["class","loader",4,"ngIf"],["role","alert","class","alert alert-warning",4,"ngIf"],[1,"filter-section","filter-elemnts","pt-2"],[1,"filter-wrapper","mb-3"],[1,"custom-selectbox","col-md-3"],[1,"filter-label"],["id","type","bindLabel","name","bindValue","value",3,"items","clearOnBackspace","placeholder","searchable","ngModel","ngModelOptions","ngModelChange"],["ng-label-tmp",""],["ng-option-tmp",""],["id","region",1,"custom-selectbox","col-md-3"],["for","Name",1,"filter-label"],["bindValue","id","bindLabel","name",1,"selectboxwidth",3,"ngModel","items","ngModelOptions","clearable","searchable","disabled","placeholder","ngModelChange"],["id","location",1,"custom-selectbox","col-md-3"],["bindValue","id","bindLabel","name",1,"selectboxwidth",3,"ngModel","items","placeholder","ngModelOptions","clearable","disabled","searchable","ngModelChange"],[1,"current-issue-menu-item","col-12","col-sm-6","col-md-3","col-lg-3"],["for","Name",1,"col-form-label","select-font"],["id","current-issues-interval",1,"w-100"],["bindValue","uuid","bindLabel","name",1,"selectboxwidth",3,"ngModel","items","placeholder","ngModelOptions","disabled","clearable","searchable","ngModelChange"],[1,"current-issue-menu-item","col-sm-12","col-md-12","col-lg-3","mpl-1","flex","current-issue-item-w"],["for","Name",1,"col-form-label","select-font","w-100"],[1,"ccl-form"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control",3,"ngModel","maxlength","placeholder","ngModelChange","keypress","change","keyup"],["class","vald-tag",4,"ngIf"],[1,"current-issue-menu-item","col-sm-12","col-md-12","col-lg-3","mpl-1","flex"],[1,"ccl-form","w-100","first-discovered"],["selectionMode","range","inputId","range",3,"ngModel","readonlyInput","showButtonBar","maxDate","showIcon","ngModelChange","onClose"],["calendar",""],[1,"current-issue-menu-item","col-sm-12","col-md-12","col-lg-3","mpl-1","flex","mw-120"],["selectionMode","range","inputId","range",3,"ngModel","readonlyInput","maxDate","showIcon","showButtonBar","minDate","ngModelChange","onClose"],[1,"current-issue-menu-item","col-sm-12","col-md-12","col-lg-5","mt-4","pt-2"],[1,"d-inline-flex"],["type","button",1,"btn-default","primary","mr-3",3,"click"],["type","button",1,"btn-default","btn-dft",3,"click"],[1,"current-issue-menu-item","col-sm-12","col-md-12","col-lg-7"],["type","button","id","export",1,"btn-default","btn-dft","float-right",3,"click"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],["class","container",4,"ngIf"],["deleteModal",""],["deleteSuccessModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["role","alert",1,"alert","alert-warning"],[1,"vald-tag"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"container"],[1,"row"],[1,"col-md-12","px-0","overflow-auto"],["datatable","",1,"table","table-borderless",3,"dtOptions"],[1,"mw-120"],[4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],["colspan","14",1,"no-data-available"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-primary","ml-2",3,"click"]],template:function(e,t){1&e&&(a.TgZ(0,"section",0),a.YNc(1,J,5,1,"div",1),a.qZA(),a.YNc(2,j,2,1,"div",2),a.TgZ(3,"section"),a.TgZ(4,"div",3),a.TgZ(5,"div",4),a.TgZ(6,"div",5),a.TgZ(7,"label",6),a._uU(8),a.qZA(),a.TgZ(9,"ng-select",7),a.NdJ("ngModelChange",function(e){return t.typeSelected=e}),a.YNc(10,Y,1,1,"ng-template",8),a.YNc(11,H,1,1,"ng-template",9),a.qZA(),a.qZA(),a.TgZ(12,"div",10),a.TgZ(13,"label",11),a._uU(14),a.qZA(),a.TgZ(15,"ng-select",12),a.NdJ("ngModelChange",function(e){return t.regionSelected=e})("ngModelChange",function(){return t.getLocations()}),a.qZA(),a.qZA(),a.TgZ(16,"div",13),a.TgZ(17,"label",11),a._uU(18),a.qZA(),a.TgZ(19,"ng-select",14),a.NdJ("ngModelChange",function(e){return t.locationSelected=e})("ngModelChange",function(e){return t.loadSystemValue(e)}),a.qZA(),a.qZA(),a.TgZ(20,"div",15),a.TgZ(21,"label",16),a._uU(22),a.qZA(),a.TgZ(23,"div",17),a.TgZ(24,"ng-select",18),a.NdJ("ngModelChange",function(e){return t.systemSelected=e}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(25,"div",19),a.TgZ(26,"label",20),a._uU(27),a.qZA(),a.TgZ(28,"div",21),a.TgZ(29,"input",22),a.NdJ("ngModelChange",function(e){return t.name=e})("keypress",function(e){return t.removespecialcharacter(e)})("change",function(){return t.textselected()})("keyup",function(){return t.changeMAc()}),a.qZA(),a.qZA(),a.YNc(30,Q,2,2,"small",23),a.qZA(),a.TgZ(31,"div",24),a.TgZ(32,"label",20),a._uU(33),a.qZA(),a.TgZ(34,"div",25),a.TgZ(35,"p-calendar",26,27),a.NdJ("ngModelChange",function(e){return t.firstDiscoverd=e})("onClose",function(){return t.onSelect()}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(37,"div",28),a.TgZ(38,"label",20),a._uU(39),a.qZA(),a.TgZ(40,"div",25),a.TgZ(41,"p-calendar",29,27),a.NdJ("ngModelChange",function(e){return t.lastDiscoverd=e})("onClose",function(){return t.onSelect()}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(43,"div",30),a.TgZ(44,"div",31),a.TgZ(45,"button",32),a.NdJ("click",function(){return t.getCount()}),a._uU(46),a.qZA(),a.TgZ(47,"button",33),a.NdJ("click",function(){return t.clearFilter()}),a._uU(48),a.qZA(),a.qZA(),a.qZA(),a.TgZ(49,"div",34),a.TgZ(50,"button",35),a.NdJ("click",function(){return t.getExportData("export")}),a._uU(51),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(52,G,6,1,"div",36),a.YNc(53,ee,32,16,"div",37),a.qZA(),a.YNc(54,te,16,5,"ng-template",null,38,a.W1O),a.YNc(56,ie,11,3,"ng-template",null,39,a.W1O)),2&e&&(a.xp6(1),a.Q6J("ngIf",t.loading),a.xp6(1),a.Q6J("ngIf",!t.hasScopeAccess),a.xp6(6),a.Oqu(t.language.type),a.xp6(1),a.s9C("placeholder",t.language["None Selected"]),a.Q6J("items",t.types)("clearOnBackspace",!1)("searchable",!1)("ngModel",t.typeSelected)("ngModelOptions",a.DdM(58,se)),a.xp6(5),a.Oqu(t.language.region),a.xp6(1),a.s9C("placeholder",t.language.region),a.Q6J("ngModel",t.regionSelected)("items",t.regionsDataArray)("ngModelOptions",a.DdM(59,se))("clearable",!1)("searchable",!0)("disabled",t.condition),a.xp6(3),a.Oqu(t.language.location),a.xp6(1),a.s9C("placeholder",t.language.Location),a.Q6J("ngModel",t.locationSelected)("items",t.locationDataArray)("ngModelOptions",a.DdM(60,se))("clearable",!1)("disabled",t.condition)("searchable",!0),a.xp6(3),a.Oqu(t.language.System),a.xp6(2),a.s9C("placeholder",t.language.System),a.Q6J("ngModel",t.systemSelected)("items",t.systemDataArray)("ngModelOptions",a.DdM(61,se))("disabled",t.condition)("clearable",!1)("searchable",!0),a.xp6(3),a.AsE("",t.language.FSAN,"/",t.language.MAC_Address,""),a.xp6(2),a.hYB("placeholder","",t.language.FSAN,"/",t.language.MAC_Address,""),a.Q6J("ngModel",t.name)("maxlength",t.fmmaxlength),a.xp6(1),a.Q6J("ngIf",t.fsanvalid),a.xp6(3),a.Oqu(t.language["First discovered"]),a.xp6(2),a.Q6J("ngModel",t.firstDiscoverd)("readonlyInput",!0)("showButtonBar",!0)("maxDate",t.maxForStartDate)("showIcon",!0),a.xp6(4),a.Oqu(t.language["Last discovered"]),a.xp6(2),a.Q6J("ngModel",t.lastDiscoverd)("readonlyInput",!0)("maxDate",t.maxForStartDate)("showIcon",!0)("showButtonBar",!0)("minDate",t.firstDiscoverd?t.firstDiscoverd[0]?t.firstDiscoverd[0]:t.firstDiscoverd[1]?t.firstDiscoverd[1]:void 0:void 0),a.xp6(5),a.hij(" ",t.language.run," "),a.xp6(2),a.hij(" ",t.language.Clear_Filters," "),a.xp6(3),a.hij(" ",t.language.Export," "),a.xp6(1),a.Q6J("ngIf",t.exportError),a.xp6(1),a.Q6J("ngIf",t.showTable))},directives:[s.O5,R.w9,L.JJ,L.On,R.bb,R.Z2,L.Fj,L.nD,k.f,_.G,s.sg],styles:[".current-issues-table[_ngcontent-%COMP%]{width:100%}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:14px}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{font-size:14px}.cco-pointer[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;font-size:16px;font-weight:400}.run-btn[_ngcontent-%COMP%]{background-color:#6c757d!important;color:#fff!important}.run-btn-active[_ngcontent-%COMP%]{background-color:#0173bc!important;color:#fff!important}label[_ngcontent-%COMP%]{font-weight:normal!important}.filter-wrapper[_ngcontent-%COMP%]{min-width:300px;display:flex;flex-wrap:wrap;align-items:flex-end}.filter-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-width:120px}.custom-btn[_ngcontent-%COMP%]{background-color:#0173bc;border:1px solid #44367D;color:#fff;font-weight:bold;min-width:82px;height:2.4em;padding:0 15px;border-radius:20px;font-size:14px}.custom-btn[_ngcontent-%COMP%]:disabled{background-color:#6a6b6f;border:1px solid #44367D}[_nghost-%COMP%]     table.dataTable td.dataTables_empty{display:none}.substep-title[_ngcontent-%COMP%]{font-size:12px;line-height:22px;font-weight:300;margin-bottom:5px}.first-discovered[_ngcontent-%COMP%]   .p-calendar[_ngcontent-%COMP%]{width:100%}.first-discovered[_ngcontent-%COMP%]   .p-calendar[_ngcontent-%COMP%]   .p-datepicker[_ngcontent-%COMP%]{min-width:inherit;width:auto;max-width:200px}.spinnershow[_ngcontent-%COMP%]{background-image:url(spinnersmall.8539076b5d15004b8953.svg)!important}  .p-calendar-w-btn .p-inputtext{padding-right:0!important}  .p-button.p-button-icon-only{max-width:24px;padding-left:0!important;padding-right:9px!important}.filter-elemnts[_ngcontent-%COMP%]{padding-left:15px!important;padding-right:15px!important}small[_ngcontent-%COMP%]{color:#c70000}small.vald-tag[_ngcontent-%COMP%]{position:absolute;bottom:-20px;padding-left:10px}.current-issue-item-w[_ngcontent-%COMP%]{min-width:120px;position:relative}.mw-120[_ngcontent-%COMP%]{min-width:120px}"]}),e})();var oe=i(17259),ae=i(55235);const re=[{path:"",component:v,children:[{path:"inventory-report",component:A.g,data:{title:"Calix Cloud - Flow Configuration"}},{path:"call-outcome-report",component:b.S,data:{title:"Calix Cloud - Flow Configuration"}},{path:"Audit-report",component:ae.m,data:{title:"Calix Cloud - Flow Configuration"}},{path:"unassociated-devices",component:x.k,data:{title:"Calix Cloud - Flow Configuration"}},{path:"mapped-endpoint-list",component:y.K,data:{title:"Calix Cloud"}},{path:"endpoint-count-bymapper",component:S.V,data:{title:"Calix Cloud"}},{path:"ont-devices",component:ne,data:{title:"Calix cloud"}},{path:"unmapped-ips",component:oe.k,data:{title:"Calix Cloud"}},{path:"",redirectTo:"mapped-endpoint-list",pathMatch:"full"}]}];let le=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[s.ez,n.Bz.forChild(re)],n.Bz]}),e})();var ce=i(25317);let de=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[s.ez,le,R.A0,k._8,_.T,L.u5,ce.l]]}),e})()}}]);