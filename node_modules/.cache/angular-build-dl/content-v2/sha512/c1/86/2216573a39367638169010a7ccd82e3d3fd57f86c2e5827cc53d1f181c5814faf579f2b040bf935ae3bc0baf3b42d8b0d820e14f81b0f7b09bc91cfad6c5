"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[7867],{37867:function(t,e,i){i.r(e),i.d(e,{NetworkTrendsModule:function(){return Ct}});var a=i(38583),n=i(39895),s=i(79765),r=i(25917),o=i(35758),c=i(5304),l=i(92340),u=i(11067),g=i(33439),d=i.n(g),p=i(23771),h=i(49457),b=i(37716),f=i(7450),m=i(91841),Z=i(48483),v=i(38048),x=i(96855),T=i(45834),A=i(14541),y=i(39075),_=i(49342),O=i(21693),q=i(86640),C=i(3679),w=i(65371);function D(t,e){if(1&t&&(b.TgZ(0,"div",3),b.TgZ(1,"div",4),b.TgZ(2,"div",5),b.TgZ(3,"span",6),b._uU(4),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&t){const t=b.oxw();b.xp6(4),b.Oqu(t.language.Loading)}}function S(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"div",7),b.TgZ(1,"span",8),b._UZ(2,"img",9),b.qZA(),b._UZ(3,"span",10),b.TgZ(4,"button",11),b.NdJ("click",function(){return b.CHM(t),b.oxw().closeAlert()}),b._UZ(5,"span"),b.qZA(),b.qZA()}if(2&t){const t=b.oxw();b.xp6(3),b.Q6J("innerHtml",t.errorInfo,b.oJD)}}function U(t,e){1&t&&(b.TgZ(0,"div",12),b.TgZ(1,"div",13),b._UZ(2,"div",14),b.qZA(),b.qZA())}function P(t,e){1&t&&(b.TgZ(0,"div",12),b.TgZ(1,"div",13),b._UZ(2,"div",15),b.qZA(),b.qZA())}let I=(()=>{class t{constructor(t,e,i){this.dataService=t,this.chartOptions=e,this.translateService=i,this.isDev=!1,this.Highcharts=u,this.loading=!0,this.error=!1,this.errorInfo="",this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t,this.loadChart()})}ngOnInit(){-1!==l.N.API_BASE_URL.indexOf("dev.api.calix.ai")&&(this.isDev=!0),this.loadChart()}ngOnChanges(t){t.data&&t.data.currentValue&&this.data&&this.loadChart()}loadChart(){this.chartDataOptions=this.chartOptions.getBarOptions(this.data,this.language["Number of PON ports"],!0),"fullscreen"===this.chsttype?setTimeout(()=>{this.Highcharts.chart("network-availability1",this.chartDataOptions),this.loading=!1},100):setTimeout(()=>{this.Highcharts.chart("network-availability",this.chartDataOptions),this.loading=!1},1e3)}closeAlert(){}}return t.\u0275fac=function(e){return new(e||t)(b.Y36(w.D),b.Y36(x.a),b.Y36(f.s))},t.\u0275cmp=b.Xpm({type:t,selectors:[["app-network-availability"]],inputs:{data:"data",chsttype:"chsttype"},features:[b.TTD],decls:4,vars:4,consts:[["class","loader",4,"ngIf"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],["class","row min-h-400",4,"ngIf"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"d-inline-flex","error-img"],["src","./assets/img/ic_error-36px.svg"],[1,"d-inline-flex",3,"innerHtml"],["type","button",1,"close",3,"click"],[1,"row","min-h-400"],[1,"col-md-12",3,"ngClass"],["id","network-availability",1,"h-400"],["id","network-availability1"]],template:function(t,e){1&t&&(b.YNc(0,D,5,1,"div",0),b.YNc(1,S,6,1,"div",1),b.YNc(2,U,3,0,"div",2),b.YNc(3,P,3,0,"div",2)),2&t&&(b.Q6J("ngIf",e.loading),b.xp6(1),b.Q6J("ngIf",0),b.xp6(1),b.Q6J("ngIf","fullscreen"!==e.chsttype),b.xp6(1),b.Q6J("ngIf","fullscreen"===e.chsttype))},directives:[a.O5,a.mk],styles:[".min-h-400[_ngcontent-%COMP%]{min-height:400px}.h-400[_ngcontent-%COMP%]{height:400px}#network-availability1[_ngcontent-%COMP%]{height:400px;overflow:hidden!important}"]}),t})();function N(t,e){if(1&t&&(b.TgZ(0,"div",3),b.TgZ(1,"div",4),b.TgZ(2,"div",5),b.TgZ(3,"span",6),b._uU(4),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&t){const t=b.oxw();b.xp6(4),b.Oqu(t.language.Loading)}}function M(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"div",7),b.TgZ(1,"span",8),b._UZ(2,"img",9),b.qZA(),b.TgZ(3,"button",10),b.NdJ("click",function(){return b.CHM(t),b.oxw().closeAlert()}),b._UZ(4,"span"),b.qZA(),b._UZ(5,"div",11),b.qZA()}if(2&t){const t=b.oxw();b.xp6(5),b.Q6J("innerHtml",t.errorInfo,b.oJD)}}function k(t,e){1&t&&(b.TgZ(0,"div",12),b.TgZ(1,"div",13),b._UZ(2,"div",14),b.qZA(),b.qZA())}function E(t,e){1&t&&(b.TgZ(0,"div",12),b.TgZ(1,"div",13),b._UZ(2,"div",15),b.qZA(),b.qZA())}let j=(()=>{class t{constructor(t,e,i,a){this.dataService=t,this.chartOptions=e,this.translateService=i,this.router=a,this.Highcharts=u,this.loading=!0,this.error=!1,this.errorInfo="",this.showDataTable=new b.vpe,this.barClicked=new b.vpe,this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t,this.loadChart()})}ngOnInit(){this.loadChart()}ngOnChanges(t){t.data&&t.data.currentValue&&this.data&&this.loadChart()}loadChart(){let t=this;this.chartDataOptions=this.chartOptions.getSubscriberBarOptions(this.data,"Number of Subscribers",!0),"fullscreen"===this.chsttype?(this.setSelectedBarBorder(),setTimeout(()=>{this.chartDataOptions.plotOptions.series.point.events={click:e=>{var i,a;e.preventDefault();let n=e.point.index;e.point.series.data.forEach(function(t){t.update(t.index===n?{borderColor:"#A9A9A9",borderWidth:2}:{borderColor:""})}),t.clickedIndexInShrinkView=null===(i=null==e?void 0:e.point)||void 0===i?void 0:i.index;let s=null===(a=null==e?void 0:e.point)||void 0===a?void 0:a.category;this.showDataTable.emit({date:s,selectedBar:t.clickedIndexInShrinkView})}},this.Highcharts.chart("subscriber-impacted-graph-div1",this.chartDataOptions),this.loading=!1},100)):setTimeout(()=>{this.chartDataOptions.plotOptions.series.point.events={click:e=>{var i,a;e.preventDefault(),t.clickedIndexInShrinkView=null===(i=null==e?void 0:e.point)||void 0===i?void 0:i.index;let n=null===(a=null==e?void 0:e.point)||void 0===a?void 0:a.category;this.barClicked.emit({date:n,selectedBar:t.clickedIndexInShrinkView})}},this.Highcharts.chart("subscriber-impacted-graph-div",this.chartDataOptions),this.loading=!1},1e3)}setSelectedBarBorder(){var t,e;let i=this;i.chartDataOptions.series&&i.chartDataOptions.series.length>0&&i.chartDataOptions.series[0].data&&i.chartDataOptions.series[0].data.length>0&&(i.chartDataOptions.series[0].data[null===(t=i.data)||void 0===t?void 0:t.selectedBar]={y:i.chartDataOptions.series[0].data[null===(e=i.data)||void 0===e?void 0:e.selectedBar],borderColor:"#A9A9A9",borderWidth:2})}closeAlert(){}}return t.\u0275fac=function(e){return new(e||t)(b.Y36(w.D),b.Y36(x.a),b.Y36(f.s),b.Y36(n.F0))},t.\u0275cmp=b.Xpm({type:t,selectors:[["app-subscribers-impacted"]],inputs:{data:"data",chsttype:"chsttype"},outputs:{showDataTable:"showDataTable",barClicked:"barClicked"},features:[b.TTD],decls:4,vars:4,consts:[["class","loader",4,"ngIf"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],["class","row min-h-400",4,"ngIf"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"row","min-h-400"],[1,"col-md-12",3,"ngClass"],["id","subscriber-impacted-graph-div",1,"h-400"],["id","subscriber-impacted-graph-div1"]],template:function(t,e){1&t&&(b.YNc(0,N,5,1,"div",0),b.YNc(1,M,6,1,"div",1),b.YNc(2,k,3,0,"div",2),b.YNc(3,E,3,0,"div",2)),2&t&&(b.Q6J("ngIf",e.loading),b.xp6(1),b.Q6J("ngIf",0),b.xp6(1),b.Q6J("ngIf","fullscreen"!==e.chsttype),b.xp6(1),b.Q6J("ngIf","fullscreen"===e.chsttype))},directives:[a.O5,a.mk],styles:[".min-h-400[_ngcontent-%COMP%]{min-height:400px}.h-400[_ngcontent-%COMP%]{height:400px}#subscriber-impacted-graph-div1[_ngcontent-%COMP%]{height:400px;overflow:hidden!important}"]}),t})();function Y(t,e){if(1&t&&(b.TgZ(0,"span",55),b._UZ(1,"i",56),b._uU(2),b.qZA()),2&t){const t=b.oxw(2);b.xp6(2),b.hij("",t.outageInfo.percent,"% ")}}function J(t,e){if(1&t&&(b.TgZ(0,"span",57),b._UZ(1,"i",58),b._uU(2),b.qZA()),2&t){const t=b.oxw(2);b.xp6(2),b.hij("",-1*t.outageInfo.percent,"% ")}}function L(t,e){1&t&&(b.TgZ(0,"span",57),b._uU(1,"0% "),b.qZA())}function B(t,e){if(1&t&&(b.TgZ(0,"span",59),b._UZ(1,"i",60),b._uU(2),b.qZA()),2&t){const t=b.oxw(2);b.xp6(2),b.hij("",t.PONCAPACITYpercent,"% ")}}function R(t,e){if(1&t&&(b.TgZ(0,"span",59),b._UZ(1,"i",61),b._uU(2),b.qZA()),2&t){const t=b.oxw(2);b.xp6(2),b.hij("",-1*t.PONCAPACITYpercent,"% ")}}function H(t,e){1&t&&(b.TgZ(0,"span",57),b._uU(1,"0% "),b.qZA())}function Q(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"div",41),b.TgZ(1,"div",42),b.TgZ(2,"span",43),b._uU(3),b.qZA(),b.TgZ(4,"div",44),b.NdJ("click",function(){return b.CHM(t),b.oxw().gotoIssues()}),b.TgZ(5,"h3"),b._uU(6),b.qZA(),b.YNc(7,Y,3,1,"span",45),b.YNc(8,J,3,1,"span",46),b.YNc(9,L,2,0,"span",46),b.qZA(),b.TgZ(10,"div",47),b._uU(11),b.qZA(),b.qZA(),b.TgZ(12,"div",48),b.TgZ(13,"span",49),b._uU(14),b.qZA(),b.TgZ(15,"div",44),b.NdJ("click",function(){return b.CHM(t),b.oxw().gotoHealthPON()}),b.TgZ(16,"h3"),b._uU(17),b.qZA(),b.YNc(18,B,3,1,"span",50),b.YNc(19,R,3,1,"span",50),b.YNc(20,H,2,0,"span",46),b.qZA(),b.TgZ(21,"div",47),b._uU(22),b.qZA(),b.qZA(),b.TgZ(23,"div",51),b.TgZ(24,"span",52),b._uU(25),b.qZA(),b.TgZ(26,"div",53),b.TgZ(27,"h3"),b._uU(28),b.qZA(),b.qZA(),b.qZA(),b.TgZ(29,"div",51),b.TgZ(30,"span",54),b._uU(31),b.qZA(),b.TgZ(32,"div",44),b.NdJ("click",function(){return b.CHM(t),b.oxw().gotoSystem("AXOS")}),b.TgZ(33,"h3"),b._uU(34),b.qZA(),b.qZA(),b.qZA(),b.TgZ(35,"div",51),b.TgZ(36,"span",54),b._uU(37),b.qZA(),b.TgZ(38,"div",44),b.NdJ("click",function(){return b.CHM(t),b.oxw().gotoSystem("cmsExa")}),b.TgZ(39,"h3"),b._uU(40),b.qZA(),b.qZA(),b.qZA(),b.qZA()}if(2&t){const t=b.oxw();b.xp6(3),b.Oqu(t.language.PONServiceDisruptions||"Loss of PON Alarms"),b.xp6(3),b.Oqu(t.outageInfo.count),b.xp6(1),b.Q6J("ngIf",t.outageInfo.percent&&t.outageInfo.percent>0),b.xp6(1),b.Q6J("ngIf",t.outageInfo.percent<0),b.xp6(1),b.Q6J("ngIf",!t.outageInfo.percent),b.xp6(2),b.hij(" ",t.language.Past_24_hours,""),b.xp6(3),b.hij(" ",t.language["PON Capacity Hits"],""),b.xp6(3),b.Oqu(t.PONCAPACITY?t.PONCAPACITY:0),b.xp6(1),b.Q6J("ngIf",t.PONCAPACITYpercent&&t.PONCAPACITYpercent>=0),b.xp6(1),b.Q6J("ngIf",t.PONCAPACITYpercent<0),b.xp6(1),b.Q6J("ngIf",!t.PONCAPACITYpercent),b.xp6(2),b.hij(" ",t.language.Past_24_hours,""),b.xp6(3),b.hij("",t.language["Total Systems"]," "),b.xp6(3),b.Oqu(t.newConnectedSystemsInfo.count),b.xp6(3),b.hij("",t.language["Unsynchronized AXOS Systems"]," "),b.xp6(3),b.Oqu(t.activeSystemsInfo.axos.count),b.xp6(3),b.hij("",t.language["Unsynchronized CMS/EXA Systems"]," "),b.xp6(3),b.Oqu(t.activeSystemsInfo.cmsExa.count)}}function F(t,e){if(1&t&&(b.TgZ(0,"div",62),b.TgZ(1,"div",63),b.TgZ(2,"div",64),b.TgZ(3,"div",65),b.TgZ(4,"span",66),b._uU(5),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&t){const t=b.oxw();b.xp6(5),b.Oqu(t.language.Loading)}}function z(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"div",67),b.TgZ(1,"label",68),b._uU(2),b.qZA(),b.TgZ(3,"div",69),b.TgZ(4,"ng-select",70),b.NdJ("ngModelChange",function(e){return b.CHM(t),b.oxw().filterDays=e})("change",function(){return b.CHM(t),b.oxw().getData()}),b.TgZ(5,"ng-option",71),b._uU(6),b.qZA(),b.TgZ(7,"ng-option",72),b._uU(8),b.qZA(),b.qZA(),b.qZA(),b.qZA()}if(2&t){const t=b.oxw();b.xp6(2),b.Oqu(t.language["Chart Timeframe"]),b.xp6(2),b.s9C("placeholder",t.language.Last_7_Days),b.Q6J("searchable",!1)("ngModel",t.filterDays)("clearable",!1),b.xp6(2),b.hij(" ",t.language.Last_7_Days,""),b.xp6(2),b.hij("",t.language.Last_30_Days," ")}}function W(t,e){if(1&t&&(b.TgZ(0,"span"),b._uU(1),b.qZA()),2&t){const t=b.oxw(2);b.xp6(1),b.Oqu(t.language.Last_7_Days)}}function V(t,e){if(1&t&&(b.TgZ(0,"span"),b._uU(1),b.qZA()),2&t){const t=b.oxw(2);b.xp6(1),b.Oqu(t.language.Last_30_Days)}}function K(t,e){if(1&t&&(b.TgZ(0,"div",73),b.TgZ(1,"label",68),b._uU(2),b.qZA(),b.TgZ(3,"div",74),b.YNc(4,W,2,1,"span",75),b.YNc(5,V,2,1,"span",75),b.qZA(),b.qZA()),2&t){const t=b.oxw();b.xp6(2),b.Oqu(t.language["Chart Timeframe"]),b.xp6(2),b.Q6J("ngIf","7"===t.filterDays),b.xp6(1),b.Q6J("ngIf","30"===t.filterDays)}}function G(t,e){if(1&t&&(b.TgZ(0,"div",76),b._uU(1),b.qZA()),2&t){const t=b.oxw();b.xp6(1),b.hij(" ",t.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function X(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"div",81),b.TgZ(1,"span",82),b._UZ(2,"img",83),b.qZA(),b.TgZ(3,"button",84),b.NdJ("click",function(){return b.CHM(t),b.oxw(2).errors.severity=""}),b._UZ(4,"span"),b.qZA(),b._UZ(5,"div",85),b.qZA()}if(2&t){const t=b.oxw(2);b.xp6(5),b.Q6J("innerHtml",t.errors.severity,b.oJD)}}function tt(t,e){if(1&t&&(b.TgZ(0,"div",77),b.TgZ(1,"div",78),b.TgZ(2,"div",79),b._uU(3," Active System Alarms "),b.qZA(),b.TgZ(4,"h5",14),b._uU(5),b.qZA(),b.YNc(6,X,6,1,"div",15),b._UZ(7,"div",80),b.qZA(),b.qZA()),2&t){const t=b.oxw();b.xp6(5),b.hij("",t.language.Home_Active_Alarm," "),b.xp6(1),b.Q6J("ngIf",t.errors.severity)}}function et(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"tr"),b.TgZ(1,"td",88),b._uU(2),b.qZA(),b.TgZ(3,"td"),b.TgZ(4,"a",90),b.NdJ("click",function(){const e=b.CHM(t).$implicit;return b.oxw(2).redirectToAlerts(e)}),b._uU(5),b.qZA(),b.qZA(),b.TgZ(6,"td"),b._uU(7),b.qZA(),b.qZA()}if(2&t){const t=e.$implicit;b.xp6(2),b.Oqu(t.alertTypeName),b.xp6(3),b.Oqu(t.count),b.xp6(2),b.hij("",t.percent,"%")}}function it(t,e){if(1&t&&(b.TgZ(0,"tbody"),b.TgZ(1,"tr"),b.TgZ(2,"td",91),b._uU(3),b.qZA(),b.qZA(),b.qZA()),2&t){const t=b.oxw(2);b.xp6(3),b.hij("",t.language["No data available in table"]," ")}}function at(t,e){if(1&t&&(b.TgZ(0,"div",77),b.TgZ(1,"div",78),b.TgZ(2,"div",86),b._uU(3),b.qZA(),b.TgZ(4,"h5",14),b._uU(5,"Select an alert type count to view the alarms for that alert type."),b.qZA(),b.TgZ(6,"div",78),b.TgZ(7,"table",87),b.TgZ(8,"thead"),b.TgZ(9,"tr"),b.TgZ(10,"th",88),b._uU(11),b.qZA(),b.TgZ(12,"th"),b._uU(13),b.qZA(),b.TgZ(14,"th"),b._uU(15),b.qZA(),b.qZA(),b.qZA(),b.TgZ(16,"tbody"),b.YNc(17,et,8,3,"tr",89),b.qZA(),b.YNc(18,it,4,1,"tbody",75),b._UZ(19,"tbody"),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&t){const t=b.oxw();b.xp6(3),b.hij(" ",t.language["Alert Type"]," "),b.xp6(4),b.Q6J("dtOptions",t.talertTypeDtOptions)("dtTrigger",t.dtTrigger),b.xp6(4),b.Oqu(t.language["Alert Type"]),b.xp6(2),b.Oqu(t.language.Count),b.xp6(2),b.Oqu(t.language["% of Alarms"]),b.xp6(2),b.Q6J("ngForOf",t.alertsTypeData),b.xp6(1),b.Q6J("ngIf",!(null!=t.alertsTypeData&&t.alertsTypeData.length))}}function nt(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"div",81),b.TgZ(1,"span",82),b._UZ(2,"img",83),b.qZA(),b.TgZ(3,"button",84),b.NdJ("click",function(){return b.CHM(t),b.oxw(2).errors["loss-of-pon"]=""}),b._UZ(4,"span"),b.qZA(),b._UZ(5,"div",85),b.qZA()}if(2&t){const t=b.oxw(2);b.xp6(5),b.Q6J("innerHtml",t.errors["loss-of-pon"],b.oJD)}}function st(t,e){if(1&t&&b._UZ(0,"app-network-availability",95),2&t){const t=b.oxw(2);b.Q6J("data",t.data)}}function rt(t,e){if(1&t&&(b.TgZ(0,"div",77),b.TgZ(1,"div",78),b.TgZ(2,"div",92),b.TgZ(3,"div",93),b._uU(4),b.qZA(),b.qZA(),b.TgZ(5,"h5",14),b._uU(6),b.qZA(),b.YNc(7,nt,6,1,"div",15),b.YNc(8,st,1,1,"app-network-availability",94),b.qZA(),b.qZA()),2&t){const t=b.oxw();b.xp6(4),b.hij(" ",t.language["Loss of PON Alarms"]," "),b.xp6(2),b.Oqu(t.language["Select a day to view Loss of PON Alarms for that day."]),b.xp6(1),b.Q6J("ngIf",t.errors["loss-of-pon"]),b.xp6(1),b.Q6J("ngIf",t.data)}}function ot(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"div",81),b.TgZ(1,"span",82),b._UZ(2,"img",83),b.qZA(),b.TgZ(3,"button",84),b.NdJ("click",function(){return b.CHM(t),b.oxw(2).errors.subscriber=""}),b._UZ(4,"span"),b.qZA(),b._UZ(5,"div",85),b.qZA()}if(2&t){const t=b.oxw(2);b.xp6(5),b.Q6J("innerHtml",t.errors.subscriber,b.oJD)}}function ct(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"app-subscribers-impacted",100),b.NdJ("barClicked",function(e){return b.CHM(t),b.oxw(2).fullScreenExpandOnBarClick(e)}),b.qZA()}if(2&t){const t=b.oxw(2);b.Q6J("data",t.data)}}function lt(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"div",77),b.TgZ(1,"div",78),b.TgZ(2,"div",92),b.TgZ(3,"div",96),b._uU(4),b.qZA(),b.TgZ(5,"div",97),b.TgZ(6,"button",98),b.NdJ("click",function(){return b.CHM(t),b.oxw().fullScreenExpand("new-subscriber-disruptions")}),b.qZA(),b.qZA(),b.qZA(),b.TgZ(7,"h5",14),b._uU(8),b.qZA(),b.YNc(9,ot,6,1,"div",15),b.YNc(10,ct,1,1,"app-subscribers-impacted",99),b.qZA(),b.qZA()}if(2&t){const t=b.oxw();b.xp6(3),b.s9C("title",t.language["Subscribers affected by ONT or PON Alarms"]),b.xp6(1),b.hij(" ",t.language["Subscribers affected by ONT or PON Alarms"]," "),b.xp6(2),b.s9C("title",t.language.subImpac_fullscreen_tip),b.xp6(2),b.Oqu(t.language["Select a day to view Subscribers affected by ONT or PON Alarms for that day."]),b.xp6(1),b.Q6J("ngIf",t.errors.subscriber),b.xp6(1),b.Q6J("ngIf",t.data)}}function ut(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"div",81),b.TgZ(1,"span",82),b._UZ(2,"img",83),b.qZA(),b.TgZ(3,"button",84),b.NdJ("click",function(){return b.CHM(t),b.oxw().errors.biperror=""}),b._UZ(4,"span"),b.qZA(),b._UZ(5,"div",85),b.qZA()}if(2&t){const t=b.oxw();b.xp6(5),b.Q6J("innerHtml",t.errors.biperror,b.oJD)}}function gt(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"tr",114),b.NdJ("click",function(){const e=b.CHM(t).$implicit;return b.oxw(3).viewDetails(e)}),b.TgZ(1,"td",115),b.TgZ(2,"div"),b._UZ(3,"span",31),b._uU(4),b.qZA(),b.qZA(),b.TgZ(5,"td",115),b._uU(6),b.qZA(),b.TgZ(7,"td",115),b._uU(8),b.qZA(),b.TgZ(9,"td",115),b._uU(10),b.qZA(),b.TgZ(11,"td",115),b._uU(12),b.qZA(),b.TgZ(13,"td",116),b.TgZ(14,"div",117),b._uU(15),b._UZ(16,"br"),b._uU(17),b.qZA(),b.qZA(),b.TgZ(18,"td"),b._uU(19),b.qZA(),b.TgZ(20,"td",118),b.TgZ(21,"div",119),b._uU(22),b.qZA(),b.qZA(),b.qZA()}if(2&t){const t=e.$implicit,i=b.oxw(3);b.xp6(2),b.Tol(t.subject&&t.subject.perceivedSeverity&&i.colorClass[t.subject.perceivedSeverity]?i.colorClass[t.subject.perceivedSeverity]:"black clear-sev-but"),b.xp6(2),b.hij(" ",t.subject?i.language[t.subject.perceivedSeverity]||t.subject.perceivedSeverity:""," "),b.xp6(2),b.Oqu(t.subject&&t.subject.timeRaised?i.convertToDateTime(t.subject.timeRaised):""),b.xp6(2),b.Oqu(t.time?i.convertToDateTime(t.time):""),b.xp6(2),b.Oqu(t.subject?t.subject.alarmEventName:""),b.xp6(2),b.Oqu(t.subject?t.subject.category:""),b.xp6(3),b.lnq(" (",t.subject?t.subject.region:"","/",t.subject?t.subject.location:"","/",t.subject?t.subject.deviceName:"",")"),b.xp6(2),b.hij("",t.subject.source?t.subject.source:""," "),b.xp6(2),b.Oqu(t&&t.subject&&t.subject.serviceAffecting?"Yes":"No"),b.xp6(3),b.Oqu(t.subject?t.subject.repairAction:"")}}function dt(t,e){if(1&t&&(b.TgZ(0,"tbody"),b.TgZ(1,"tr"),b.TgZ(2,"td",120),b._uU(3),b.qZA(),b.qZA(),b.qZA()),2&t){const t=b.oxw(3);b.xp6(3),b.hij("",t.language["No data available in table"]," ")}}function pt(t,e){if(1&t&&(b.TgZ(0,"div",104),b.TgZ(1,"div",107),b.TgZ(2,"table",108),b.TgZ(3,"thead"),b.TgZ(4,"tr"),b.TgZ(5,"th",109),b._uU(6),b.qZA(),b.TgZ(7,"th",110),b._uU(8),b.qZA(),b.TgZ(9,"th"),b._uU(10),b.qZA(),b.TgZ(11,"th"),b._uU(12),b.qZA(),b.TgZ(13,"th"),b._uU(14),b.qZA(),b.TgZ(15,"th",29),b._uU(16),b.qZA(),b.TgZ(17,"th",111),b._uU(18),b.qZA(),b.TgZ(19,"th",112),b._uU(20),b.qZA(),b.qZA(),b.qZA(),b.TgZ(21,"tbody"),b.YNc(22,gt,23,14,"tr",113),b.qZA(),b.YNc(23,dt,4,1,"tbody",75),b._UZ(24,"tbody"),b.qZA(),b.qZA(),b.qZA()),2&t){const t=b.oxw(2);b.xp6(2),b.Q6J("dtOptions",t.dtOptions),b.xp6(4),b.Oqu(t.language.Severity),b.xp6(2),b.AsE("",t.language["Reported Time"]," (UTC/",t.timeZone,") "),b.xp6(2),b.AsE("",t.language["Synced Time"]," (UTC/",t.timeZone,") "),b.xp6(2),b.Oqu(t.language["Alarm Name"]),b.xp6(2),b.Oqu(t.language["Alarm Category"]),b.xp6(2),b.Oqu(t.language.Resource),b.xp6(2),b.Oqu(t.language["Subscriber Impact"]),b.xp6(2),b.Oqu(t.language.Recommendation),b.xp6(2),b.Q6J("ngForOf",t.list),b.xp6(1),b.Q6J("ngIf",0===(null==t.list?null:t.list.length))}}function ht(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"div",2),b.TgZ(1,"div",3),b.TgZ(2,"div",101),b.TgZ(3,"div",102),b._uU(4),b.qZA(),b.TgZ(5,"div",97),b.TgZ(6,"button",103),b.NdJ("click",function(){return b.CHM(t),b.oxw().lossOfPonfullScreenMin()}),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(7,"div",3),b.TgZ(8,"div",104),b._UZ(9,"app-network-availability",105),b.qZA(),b.TgZ(10,"div",2),b.YNc(11,pt,25,13,"div",106),b.qZA(),b.qZA(),b.qZA()}if(2&t){const t=b.oxw();b.xp6(4),b.hij(" ",t.language["Loss of PON Alarms"]," "),b.xp6(2),b.s9C("title",t.language.lossofpon_fullscreen_close_tip),b.xp6(3),b.Q6J("data",t.data)("chsttype",t.chsttype),b.xp6(2),b.Q6J("ngIf",t.showTable)}}function bt(t,e){if(1&t){const t=b.EpF();b.ynx(0),b.TgZ(1,"a",90),b.NdJ("click",function(){b.CHM(t);const e=b.oxw().$implicit;return b.oxw(3).redirectToHistoryReport(e)}),b._uU(2),b.qZA(),b.BQk()}if(2&t){const t=b.oxw().$implicit;b.xp6(2),b.Oqu(t.cause?t.cause:"")}}function ft(t,e){if(1&t&&(b.ynx(0),b._uU(1),b.BQk()),2&t){const t=b.oxw().$implicit;b.xp6(1),b.hij(" ",t.cause?t.cause:""," ")}}function mt(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"tr",125),b.NdJ("click",function(){const e=b.CHM(t).$implicit;return b.oxw(3).viewDetails(e)}),b.TgZ(1,"td"),b._uU(2),b.qZA(),b.TgZ(3,"td"),b._uU(4),b.qZA(),b.TgZ(5,"td"),b._uU(6),b.qZA(),b.TgZ(7,"td"),b._uU(8),b.qZA(),b.TgZ(9,"td"),b._uU(10),b.qZA(),b.TgZ(11,"td"),b.YNc(12,bt,3,1,"ng-container",75),b.YNc(13,ft,2,1,"ng-container",75),b.qZA(),b.qZA()}if(2&t){const t=e.$implicit,i=b.oxw(3);b.xp6(2),b.Oqu(t.timeRaised?i.convertToDateTime(t.timeRaised):""),b.xp6(2),b.Oqu(t.fsan?t.fsan:""),b.xp6(2),b.Oqu(t.resource?t.resource:""),b.xp6(2),b.Oqu(t.subscriberName?t.subscriberName:""),b.xp6(2),b.Oqu(t.serviceAddress?t.serviceAddress:""),b.xp6(2),b.Q6J("ngIf","ont-missing"==t.cause),b.xp6(1),b.Q6J("ngIf","ont-missing"!=t.cause)}}function Zt(t,e){if(1&t&&(b.TgZ(0,"tbody"),b.TgZ(1,"tr"),b.TgZ(2,"td",126),b._uU(3),b.qZA(),b.qZA(),b.qZA()),2&t){const t=b.oxw(3);b.xp6(3),b.hij("",t.language["No data available in table"]," ")}}function vt(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"div",104),b.TgZ(1,"div",122),b.TgZ(2,"p"),b._uU(3),b.qZA(),b.TgZ(4,"button",123),b.NdJ("click",function(){return b.CHM(t),b.oxw(2).doExport()}),b._uU(5),b.qZA(),b.qZA(),b.TgZ(6,"div",107),b.TgZ(7,"table",108),b.TgZ(8,"thead"),b.TgZ(9,"tr"),b.TgZ(10,"th",109),b._uU(11),b.qZA(),b.TgZ(12,"th"),b._uU(13),b.qZA(),b.TgZ(14,"th"),b._uU(15),b.qZA(),b.TgZ(16,"th"),b._uU(17),b.qZA(),b.TgZ(18,"th"),b._uU(19),b.qZA(),b.TgZ(20,"th"),b._uU(21),b.qZA(),b.qZA(),b.qZA(),b.TgZ(22,"tbody"),b.YNc(23,mt,14,7,"tr",124),b.qZA(),b.YNc(24,Zt,4,1,"tbody",75),b._UZ(25,"tbody"),b.qZA(),b.qZA(),b.qZA()}if(2&t){const t=b.oxw(2);b.xp6(3),b.AsE("",t.language["Subscribers affected by ONT or PON Alarms"]," on ",t.subscriberImpactedClickedDate,""),b.xp6(1),b.Q6J("disabled",t.disableExprtBtn)("disabled",!t.subscriberDisrutionList||t.subscriberDisrutionList&&t.subscriberDisrutionList.length<=0),b.xp6(1),b.Oqu(t.language.Export),b.xp6(2),b.Q6J("dtOptions",t.dtOptions),b.xp6(4),b.Oqu(t.language.Date),b.xp6(2),b.Oqu(t.language.FSAN),b.xp6(2),b.Oqu(t.language.Resource),b.xp6(2),b.Oqu(t.language["Subscriber Name"]),b.xp6(2),b.Oqu(t.language["Service Address"]),b.xp6(2),b.Oqu(t.language.cause||"Cause"),b.xp6(2),b.Q6J("ngForOf",t.subscriberDisrutionList),b.xp6(1),b.Q6J("ngIf",!(null!=t.subscriberDisrutionList&&t.subscriberDisrutionList.length))}}function xt(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"div",2),b.TgZ(1,"div",3),b.TgZ(2,"div",101),b.TgZ(3,"div",102),b._uU(4),b.qZA(),b.TgZ(5,"div",97),b.TgZ(6,"button",103),b.NdJ("click",function(){return b.CHM(t),b.oxw().subImpfullScreenMin()}),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(7,"div",3),b.TgZ(8,"div",104),b.TgZ(9,"app-subscribers-impacted",121),b.NdJ("showDataTable",function(e){return b.CHM(t),b.oxw().showSubscriberImpactedDt(e)}),b.qZA(),b.qZA(),b.TgZ(10,"div",2),b.YNc(11,vt,26,14,"div",106),b.qZA(),b.qZA(),b.qZA()}if(2&t){const t=b.oxw();b.xp6(4),b.Oqu(t.language["Subscribers affected by ONT or PON Alarms"]),b.xp6(2),b.s9C("title",t.language.subImpac_fullscreen_close_tip),b.xp6(3),b.Q6J("data",t.data)("chsttype",t.chsttype),b.xp6(2),b.Q6J("ngIf",t.showTable)}}function Tt(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"div",127),b.TgZ(1,"h5",128),b._uU(2),b.qZA(),b.TgZ(3,"div"),b._uU(4),b.qZA(),b.TgZ(5,"button",129),b.NdJ("click",function(){return b.CHM(t).$implicit.dismiss("Cross click")}),b._UZ(6,"span",130),b.qZA(),b.qZA(),b.TgZ(7,"div",131),b.TgZ(8,"button",132),b.NdJ("click",function(){return b.CHM(t).$implicit.close("Save click")}),b._uU(9),b.qZA(),b.qZA()}if(2&t){const t=b.oxw();b.xp6(2),b.Oqu(t.modalTitle),b.xp6(2),b.hij(" ",t.modalInfo," "),b.xp6(5),b.hij(" ",t.language.Ok," ")}}function At(t,e){if(1&t&&(b.TgZ(0,"tr"),b.TgZ(1,"td"),b._uU(2),b.qZA(),b.TgZ(3,"td"),b._uU(4),b.qZA(),b.qZA()),2&t){const t=e.$implicit;b.xp6(2),b.Oqu(t.key),b.xp6(2),b.Oqu(t.value)}}function yt(t,e){if(1&t&&(b.TgZ(0,"table",28),b.TgZ(1,"tbody"),b.YNc(2,At,5,2,"tr",89),b.qZA(),b.qZA()),2&t){const t=b.oxw();b.xp6(2),b.Q6J("ngForOf",t.fullData.subject.customAdditionalAttributes)}}const _t=function(t){return{showHideBipError:t}};i(86295)(u),d()(u);const Ot=[{path:"",component:(()=>{class t{constructor(t,e,i,a,n,r,o,c,g,d,p){this.translateService=t,this.http=e,this.dateUtils=i,this.ssoService=a,this.chartOptnService=n,this.router=r,this.ccochatservice=o,this.alarmchartOptionService=c,this.titleService=g,this.commonOrgService=d,this.issueService=p,this.isDev=!1,this.dtOptions={},this.isRerender=!1,this.talertTypeDtOptions={paging:!1,lengthChange:!1,ordering:!0,order:[],searching:!1,info:!1,dom:"tipr",processing:!1},this.errors={severity:"","loss-of-pon":"",subscriber:"",biperror:"",alertTypes:""},this.baseUrl=`${l.N.API_BASE_URL}analytics-engine/`,this.loading=!1,this.filterDays="7",this.hasScopeAccess=!1,this.Highcharts=u,this.feature={activealarm:!1,biperrors:!1,activepons:!1,subscriberimpacted:!1,alertTypes:!1},this.PONCAPACITY=0,this.pPONCAPACITY=0,this.PONCAPACITYpercent=0,this.showLossofPons=!1,this.showsubImpacted=!1,this.fullscreen=!1,this.AlamBipWrapper=!0,this.LosPonsubImpWrapper=!0,this.renderOnce=!1,this.colors={MINOR:"#F3B426",MAJOR:"#FC7235",CRITICAL:"#C70000",WARNING:"#f7e9c1",INFO:"#7cb5ec"},this.colorClass={MINOR:"minor-but",MAJOR:"major-but",CRITICAL:"critical-but",WARNING:"warning-but",INFO:"severity-info-but"},this.ontusparam="ont-us-sdber",this.ontdsparam="ont-ds-sdber",this.alertsTypeData=[],this.alertTypes={"System Alarms":"system","Transform Alarms":"transformed","Health Alerts":"health","Cloud Connectivity":"connectivity","Service Disruptions":"disruption"},this.dtTrigger=new s.xQ,this.outageInfo={count:0,percent:0},this.activeSystemsInfo={axos:{count:0,percent:0},cmsExa:{count:0,percent:0}},this.newConnectedSystemsInfo={count:0},this.chartType="",this.fullData={}}ngOnInit(){-1!==l.N.API_BASE_URL.indexOf("dev.api.calix.ai")&&(this.isDev=!0),this.timeZone=(new Date).toString().split(" ")[5].replace(/(.{2})$/,":$1"),this.language=this.translateService.defualtLanguage,this.tableLanguageOptions(),this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{if(this.language=t,this.tableLanguageOptions(),this.fullscreen)return this.showTable=!1,void setTimeout(()=>{this.showTable=!0,this.getNewSubscriberDisruptions()},100);this.getData(),this.titleService.setTitle(`${this.language["Network Trends"]} - ${this.language.Home} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`${this.language["Network Trends"]} - ${this.language.Home} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`);let t=this.ssoService.getScopes();if(l.N.VALIDATE_SCOPE){let e=Object.keys(t);if(e)for(let t=0;t<e.length;t++)if(-1!==e[t].indexOf("cloud.rbac.coc.insights.networktrends")){this.hasScopeAccess=!0;break}t["cloud.rbac.coc.insights.networktrends"]&&(this.feature={activealarm:!0,biperrors:!0,activepons:!0,alertTypes:!0,subscriberimpacted:!0}),t["cloud.rbac.coc.insights.networktrends.activealarm"]&&(this.feature.activealarm=!0,this.feature.alertTypes=!0),t["cloud.rbac.coc.insights.networktrends.biperrors"]&&(this.feature.biperrors=!0),t["cloud.rbac.coc.insights.networktrends.activepons"]&&(this.feature.activepons=!0),t["cloud.rbac.coc.insights.networktrends.subscriberimpacted"]&&(this.feature.subscriberimpacted=!0)}else this.hasScopeAccess=!0;this.hasScopeAccess?(this.ssoService.setPageAccess(!0),this.getOutagesInfo(),this.getActiveSystemsInfo(),this.poncapcitycount(),this.getNewConnectedeSystemsInfo(),this.ssoService.isCcoTermsAccept()?(this.watchFilterDays(),this.getData()):this.tosSub=this.ssoService.ccoTos$.subscribe(t=>{this.watchFilterDays(),this.getData()})):this.loading=!1}ngAfterViewInit(){this.dtTrigger.next()}ngOnDestroy(){var t;null===(t=this.listObs)||void 0===t||t.unsubscribe(),this.languageSubject&&this.languageSubject.unsubscribe(),this.filterDaysSubscription&&this.filterDaysSubscription.unsubscribe(),this.tosSub&&this.tosSub.unsubscribe(),this.dtSub&&this.dtSub.unsubscribe(),this.dtSub1&&this.dtSub1.unsubscribe()}loadChart(){}getData(){var t;this.clearErrors();let e={startEpochTime:this.dateUtils.getStartUtcTimeByDays(this.filterDays-1),endEpochTime:this.dateUtils.getStartUtcTimeByDays(0),interval:"Days"},i="";for(var a in e)null!=e[a]&&(""!=i&&(i+="&"),i+=a+"="+encodeURIComponent(e[a]));const n={};let s=[];this.feature.activepons&&(s=["loss-of-pon"]);let l=[];this.feature.subscriberimpacted&&(l=[{name:"subscriber",value:"loss-of-pon"}]),s.length&&s.forEach(t=>{if("ont-us-sdber"===t){const e=this.http.get(`${this.baseUrl}alarmByName?${i}&alarmEventName=ont-ds-sdber OR ont-us-sdber`).pipe((0,c.K)(t=>(t["api-error"]=!0,(0,r.of)(t))));n[t]=e}else{const e=this.http.get(`${this.baseUrl}alarmByName?${i}&alarmEventName=${t}`).pipe((0,c.K)(t=>(t["api-error"]=!0,(0,r.of)(t))));n[t]=e}}),this.feature.activealarm&&(n["active-alarms"]=this.getActiveAlarmReq()),this.feature.biperrors&&(n.BipError=this.getBipError()),this.feature.alertTypes&&(n.alertTypes=this.getActiveAlertTypes()),l.length&&l.forEach(t=>{if("ont-us-sdber"===t.value){const i=this.http.get(`${this.baseUrl}subscriberCount?startEpochTime=${e.startEpochTime}&endEpochTime=${e.endEpochTime}`).pipe((0,c.K)(t=>(t["api-error"]=!0,(0,r.of)(t))));n[t.name]=i}else{const i=this.http.get(`${this.baseUrl}subscriberCount?startEpochTime=${e.startEpochTime}&endEpochTime=${e.endEpochTime}`).pipe((0,c.K)(t=>(t["api-error"]=!0,(0,r.of)(t))));n[t.name]=i}}),Object.keys(n).length&&(this.loading=!0),null===(t=this.listObs)||void 0===t||t.unsubscribe(),this.listObs=(0,o.D)(n).subscribe(t=>{if(this.loading=!1,t&&t["active-alarms"]&&!t["active-alarms"]["api-error"]){let i=this.alarmchartOptionService.severityChartOptions((t["active-alarms"].alarm?t["active-alarms"].alarm:t["active-alarms"]).raised,"Alarms Raised","active",e);i.plotOptions.series.point.events={click:t=>{t.preventDefault();let e=t.point.severity.toLowerCase();this.router.navigate(["/cco/alerts/system/active-reports"],{queryParams:{severity:e,days:this.filterDays}})}},this.Highcharts.chart("severityContainer",i)}else if(t["active-alarms"]&&t["active-alarms"]["api-error"])this.errors.severity=this.commonOrgService.pageErrorHandle(t["active-alarms"]);else if(void 0!==t["active-alarms"]){let t=this.alarmchartOptionService.severityChartOptions([],"Alarms Raised","active",e);this.Highcharts.chart("severityContainer",t)}if(t&&t.BipError&&!t.BipError["api-error"]){let e=this.singlecountsort(t.BipError,"count"),i=this.alarmchartOptionService.BIPErrorRateChart(e);i.plotOptions.series.point.events={mouseOver:function(){t.BipError.forEach(t=>{let e=!1;t.region==this.category&&(e=null==t?void 0:t.deleted,e||this.graphic.attr({cursor:"pointer"}))})},click:e=>{let i,a=!1;t.BipError.forEach(t=>{t.region!=e.point.category||(i=t.regionId,a=null==t?void 0:t.deleted)}),a||this.router.navigate(["cco/health/pon-utilization/overview/basic"],{state:{categoryname:e.point.category,categoryid:i,days:this.filterDays}})}},this.Highcharts.chart("BipContainer",i)}else if(t.BipError&&t.BipError["api-error"])this.errors.biperror=this.commonOrgService.pageErrorHandle(t.BipError);else if(void 0!==t.BipError){let t=this.alarmchartOptionService.BIPErrorRateChart([]);this.Highcharts.chart("BipContainer",t)}this.alertsTypeData=[],t&&t.alertTypes&&!t.alertTypes["api-error"]?(this.alertsTypeData=t.alertTypes,this.rerender()):(t.alertTypes&&t.alertTypes["api-error"]&&(this.errors.alertTypes=this.commonOrgService.pageErrorHandle(t.alertTypes)),this.rerender());let i={"loss-of-pon":[],"ont-us-sdber":[],subscriber:[],serviceDegrade:[]};s.every(e=>{var a;t&&(t[e]&&t[e]["api-error"]||!t[e])?t[e]&&t[e]["api-error"]&&(this.errors[e]=this.commonOrgService.pageErrorHandle(t[e])):null===(a=t[e])||void 0===a||a.forEach(t=>{i[e].push({epochtime:null==t?void 0:t.epochtime,count:null==t?void 0:t.count})})}),l.every(e=>{var a;if(t&&(t[e.name]&&t[e.name]["api-error"]||!t[e.name]))return void(t[e.name]&&t[e.name]["api-error"]&&(this.errors[e.name]=this.commonOrgService.pageErrorHandle(t[e.name])));let n,s;"serviceDegrade"==e.name?(n="serviceDegrade",s="subscriberCount"):(n=e.name,s="impactedSubscriberCnt"),null===(a=t[n])||void 0===a||a.forEach(t=>{i[e.name].push({epochtime:null==t?void 0:t.epochTime,count:null==t?void 0:t.impactedSubscriberCnt})})}),this.data=i,this.loading=!1},t=>{this.pageErrorHandle(t),this.loading=!1})}pageErrorHandle(t,e){this.errors[e]=401==t.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(t),this.loading=!1}findObject(t,e){let i={};if(t&&t.length)for(var a=0;a<t.length;a++)if(t[a].epochtime==e){i=t[a];break}return{hasTimestamp:!(!i||!Object.keys(i).length),count:i&&i.count?i.count:0}}findObjectBySubscriber(t,e,i){let a={};if(t&&t.length)for(var n=0;n<t.length;n++)if(t[n].epochTime==e){a=t[n];break}return{hasTimestamp:!(!a||!Object.keys(a).length),count:a&&a[i]?a[i]:0}}watchFilterDays(){this.filterDaysSubscription=this.chartOptnService.filterDays$.subscribe(t=>{this.filterDays=t,this.getData()})}getActiveAlarmReq(){let t={date:`${this.dateUtils.getStartUtcTimeByDays(this.filterDays-1)},${this.dateUtils.getStartUtcTimeByDays(0)}`,notificationType:"Alarm",historyReport:!1,cco_ack:"all",alertType:"SYSTEM"},e="";for(var i in t)null==t[i]||""==t[i]||(""!=e&&(e+="&"),e+=i+"="+encodeURIComponent(t[i]));return e+="&historyReport=false&cco_shelv=false",this.http.get(`${l.N.API_BASE_URL}analytics-engine/alarmbySeverity?${e}`).pipe((0,c.K)(t=>(t["api-error"]=!0,(0,r.of)(t))))}getBipError(){let t=this.filterDays-1,e=new Date,i=(new Date(e.getTime()-24*t*60*60*1e3),new Date,{startTime:""+this.dateUtils.getStartUtcTimeByDays(this.filterDays-1)/1e3,endTime:`${Math.ceil(this.dateUtils.getStartUtcTimeByDays(0)/1e3)}`,tenant:"0",granularity:"15min",countBy:"interface",groupBy:"region"}),a="";for(var n in i)null==i[n]||""==i[n]||(""!=a&&(a+="&"),a+=n+"="+encodeURIComponent(i[n]));return this.http.get(`${l.N.API_BASE_URL}health/reports/biperror/count?${a}`).pipe((0,c.K)(t=>(t["api-error"]=!0,(0,r.of)(t))))}startISODate(t,e){if(null==t)return;let i,a=new Date(t),n=a.getFullYear(),s=`${a.getMonth()+1}`,r=`${a.getDate()}`;return s.length<2&&(s=`0${s}`),r.length<2&&(r=`0${r}`),i=e?`${n}-${s}-${r}T23:59:00Z`:`${n}-${s}-${r}T00:00:00Z`,i}gotoIssues(){this.router.navigate(["/cco/alerts/system/active-reports"],{state:{last24hours:!0}})}gotoHealthPON(){this.router.navigate(["/cco/health/pon-utilization/overview/basic"],{state:{last24hours:!0}})}gotoSystem(t){this.router.navigate("cmsExa"==t?["/cco/operations/system-onboarding/cms-exa/list"]:["/cco/operations/system-onboarding/axos-callhome/axos/list"],{state:{state:"SYNCHRONIZED"}})}getOutagesInfo(){let t={startEpochTime:this.dateUtils.getStartUtcTimeByDays(0)-864e5,endEpochTime:this.dateUtils.getStartUtcTimeByDays(0)},e="";for(var i in t)null!=t[i]&&(""!=e&&(e+="&"),e+=i+"="+encodeURIComponent(t[i]));this.http.get(`${l.N.API_BASE_URL}analytics-engine/networkTrendOutages?${e}&alarmEventName=loss-of-pon`).subscribe(t=>{this.outageInfo.count=t.ponCount?t.ponCount.toLocaleString():0,this.outageInfo.percent=t.outageRate?t.outageRate:0,isNaN(this.outageInfo.percent)&&(this.outageInfo.percent=0),(!Number.isInteger(this.outageInfo.percent)||"Infinity"==this.outageInfo.percent)&&(this.outageInfo.percent=this.outageInfo.percent.toFixed(2))})}getActiveSystemsInfo(){let t={axos:this.http.get(`${l.N.API_BASE_URL}nfa/systems/count?configState=UNSYNCHRONIZED&axos=true`).pipe((0,c.K)(t=>(0,r.of)(t))),cmsExa:this.http.get(`${l.N.API_BASE_URL}nfa/systems/count?configState=UNSYNCHRONIZED&axos=false`).pipe((0,c.K)(t=>(0,r.of)(t)))};(0,o.D)(t).subscribe(t=>{var e,i;t&&t.axos&&t.axos.count&&(this.activeSystemsInfo.axos.count=null===(e=t.axos.count)||void 0===e?void 0:e.toLocaleString(),isNaN(this.activeSystemsInfo.axos.percent)&&(this.activeSystemsInfo.axos.percent=0)),t&&t.cmsExa&&t.cmsExa.count&&(this.activeSystemsInfo.cmsExa.count=null===(i=t.cmsExa.count)||void 0===i?void 0:i.toLocaleString(),isNaN(this.activeSystemsInfo.cmsExa.percent)&&(this.activeSystemsInfo.cmsExa.percent=0))})}getNewConnectedeSystemsInfo(){this.newConnectedSystemsInfo.count=0,this.http.get(`${l.N.API_BASE_URL}nfa/systems/count`).subscribe(t=>{var e;t&&t.count&&(this.newConnectedSystemsInfo.count=null===(e=null==t?void 0:t.count)||void 0===e?void 0:e.toLocaleString())})}poncapcitycount(){let t=Math.ceil((this.dateUtils.getStartUtcTimeByDaysseconds(0)-1728e5)/1e3);this.FromDate=Math.ceil((this.dateUtils.getStartUtcTimeByDaysseconds(0)-864e5)/1e3);let e=Math.ceil(this.dateUtils.getStartUtcTimeByDaysseconds(0)/1e3),i=`tenant=0&granularity=15min&startTime=${t}&endTime=${this.FromDate}`;(0,o.D)([this.ponutilizationchart=this.ccochatservice.Getutilizationthresholdexceededcount(`tenant=0&granularity=15min&startTime=${this.FromDate}&endTime=${e}`,"pon"),this.ponutilizationchart=this.ccochatservice.Getutilizationthresholdexceededcount(i,"pon")]).subscribe(t=>{var e;if(t[0]){let e=[];e=Object.values(t[0]),e.forEach(t=>{t.dsUtilExcCnt&&"undefined"!=t.dsUtilExcCnt&&(this.PONCAPACITY=this.PONCAPACITY+t.dsUtilExcCnt),t.usUtilExcCnt&&"undefined"!=t.usUtilExcCnt&&(this.PONCAPACITY=this.PONCAPACITY+t.usUtilExcCnt)})}if(t[1]){let e=[];e=Object.values(t[1]),e.forEach(t=>{t.dsUtilExcCnt&&"undefined"!=t.dsUtilExcCnt&&(this.pPONCAPACITY=this.pPONCAPACITY+t.dsUtilExcCnt),t.usUtilExcCnt&&"undefined"!=t.usUtilExcCnt&&(this.pPONCAPACITY=this.pPONCAPACITY+t.usUtilExcCnt)})}(this.PONCAPACITY||this.pPONCAPACITY)&&(this.PONCAPACITYpercent=this.pPONCAPACITY?(this.PONCAPACITY-this.pPONCAPACITY)/this.pPONCAPACITY*100:(this.PONCAPACITY-this.pPONCAPACITY)/1*100,Number.isInteger(this.PONCAPACITYpercent)||(this.PONCAPACITYpercent=this.PONCAPACITYpercent.toFixed(2)),this.PONCAPACITY=null===(e=this.PONCAPACITY)||void 0===e?void 0:e.toLocaleString())})}lossOfPonfullScreenMin(){this.fullscreen=!1,this.showLossofPons=!1,this.LosPonsubImpWrapper=!0,this.AlamBipWrapper=!0}subImpfullScreenMin(){this.fullscreen=!1,this.showsubImpacted=!1,this.LosPonsubImpWrapper=!0,this.AlamBipWrapper=!0,this.feature.biperrors=!0}fullScreenExpand(t){this.chsttype="fullscreen",this.chartType=t,this.fullscreen=!0,this.chartData=this.data,"new-subscriber-disruptions"==t?(this.loading=!1,this.showTable=!1):this.showTable=!0,"loss-of-pon"==t?(this.showLossofPons=!0,this.showsubImpacted=!1,this.LosPonsubImpWrapper=!1,this.AlamBipWrapper=!1,this.initLoad?this.redraw():this.getList(t)):(this.showLossofPons=!1,this.showsubImpacted=!0,this.LosPonsubImpWrapper=!1,this.AlamBipWrapper=!1,this.feature.biperrors=!1,this.initLoad&&this.redraw())}getList(t){this.loading=!0;let e={date:`${this.dateUtils.getStartUtcTimeByDays(this.filterDays-1)},${this.dateUtils.getStartUtcTimeByDays(0)}`,historyReport:!1},i="";for(var a in e)null!=e[a]&&(""!=i&&(i+="&"),i+=a+"="+encodeURIComponent(e[a]));const n=this;this.dtOptions={pagingType:"full_numbers",pageLength:10,serverSide:!0,processing:!1,searching:!0,lengthChange:!1,ordering:!1,autoWidth:!1,dom:"tipr",ajax:(t,e)=>{let a=`${l.N.API_BASE_URL}analytics-engine/notifications?${i}&alarmEventName=${this.chartType},${this.ontusparam},${this.ontdsparam}&from=${t.start}&size=${t.length}`;n.searchTerm&&(a+=`&searchField=alarmEventName&searchValue=${n.searchTerm}`),t.search.value&&(a=`${l.N.API_BASE_URL}analytics-engine/notifications?${i}&alarmEventName=${t.search.value}&from=${t.start}&size=${t.length}`),n.http.get(a).subscribe(i=>{let a=[];i&&i.alarms?(i.alarms.forEach(t=>{t&&t.subject&&t.subject.deviceName&&(t.subject.deviceName=t.subject.deviceName.replace("device=",""),t.subject.deviceName=t.subject.deviceName.replace("DEVICE=","")),a.push(t)}),this.list=i.alarms):i={},this.initLoad=!0,this.loading=!1,e({recordsTotal:i.totalCount?i.totalCount:0,recordsFiltered:t.search.value&&i?i.length:i.totalCount?i.totalCount:0,data:[]})},t=>{this.loading=!1})},drawCallback:t=>{this.tableLanguageOptions(),t._iRecordsDisplay<=t._iDisplayLength&&$(t.nTableWrapper).find("#users-table_last").addClass("disabled")}},this.tableLanguageOptions()}changeTableStatusLanguage(t){const e=new Intl.NumberFormat;this.tableCounts={searchText:t.oPreviousSearch.sSearch.trim(),total:t._iRecordsTotal,displayCount:t._iDisplayLength,displayed:t._iRecordsDisplay,start:t._iDisplayStart};const i="fr"==sessionStorage.getItem("defaultLanguage"),a=t.oPreviousSearch.sSearch.trim()?i?`(filtr\xe9es \xe0 partir des ${e.format(t._iRecordsTotal)} entr\xe9es totales)`:`(filtered from ${e.format(t._iRecordsTotal)} total entries)`:"",n=0==t._iRecordsDisplay?-1:t._iDisplayStart,s=t._iDisplayStart+t._iDisplayLength>t._iRecordsDisplay?t._iRecordsDisplay:t._iDisplayStart+t._iDisplayLength;$('div [role="status"]').text(i?`Affichage de ${e.format(n+1)} \xe0 ${e.format(s)} des ${e.format(t._iRecordsDisplay)} entr\xe9es ${a}`:`Showing ${e.format(n+1)} to ${e.format(s)} of ${e.format(t._iRecordsDisplay)} entries ${a}`),$(".first").text(i?"Le d\xe9but":"First"),$(".previous").text(i?"Pr\xe9c\xe9dent":"Previous"),$(".next").text(i?"Suivant":"Next"),$(".last").text(i?"Derni\xe8re":"Last")}redraw(){this.dtElements.forEach(t=>{t.dtInstance&&t.dtInstance.then(t=>{t.draw()})})}viewDetails(t){let e=[];t&&t.subject&&"object"==typeof t.subject.additionalAttributes&&Object.keys(t.subject.additionalAttributes).forEach(i=>{e.push({key:i,value:t.subject.additionalAttributes[i].value})}),t.subject.customAdditionalAttributes=e,this.fullData=t}close(){this.modalRef.close()}convertToDateTime(t){return t?(t=Number(t),new a.uU("en-US").transform(new Date(t),"short")):void 0}singlecountsort(t,e){let i=[],a=[],n="region";return null==t||t.sort((t,e)=>(t[n]||"").toString().localeCompare((e[n]||"").toString(),"en",{numeric:!1})),null==t||t.forEach(t=>{t[e]||0==t[e]?i.push(t):a.push(t)}),i.sort(function(t,i){return(i[e]?i[e]:0)-(t[e]?t[e]:0)}),[...i,...a]}getActiveAlertTypes(){let t=this.dateUtils.getStartUtcTimeByDays(this.filterDays-1),e=this.dateUtils.getStartUtcTimeByDays(0);return this.http.get(`${this.baseUrl}activeAlertTypeCount?startEpochTime=${t}&endEpochTime=${e}`).pipe((0,c.K)(t=>(t["api-error"]=!0,(0,r.of)(t))))}redirectToAlerts(t){this.router.navigate([`/cco/alerts/${this.alertTypes[t.alertTypeName]}/active-reports`],{queryParams:{days:this.filterDays}})}tableLanguageOptions(){"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.translateService.de_DE:"fr"==this.language.fileLanguage?this.dtOptions.language=this.translateService.fr:"es"==this.language.fileLanguage?this.dtOptions.language=this.translateService.es:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}getNewSubscriberDisruptions(){this.loading=!0;const t=this;this.dtOptions={pagingType:"full_numbers",pageLength:10,serverSide:!0,processing:!1,searching:!0,lengthChange:!1,ordering:!1,autoWidth:!1,dom:"tipr",ajax:(e,i)=>{this.loading=!0;let a={date:[new Date(this.subscriberImpactedClickedDate),new Date(this.subscriberImpactedClickedDate)]},n=this.issueService.getDateParam(a,!1);this.serviceDisruptedSelectedDate=null==n?void 0:n.split(",");let s={};s.pageNumber=0==e.start?1:e.start/e.length+1,this.serviceDisruptedSelectedDate&&this.serviceDisruptedSelectedDate.length>0&&(s.startEpochTime=this.serviceDisruptedSelectedDate[0],s.endEpochTime=this.serviceDisruptedSelectedDate[1]);let r="";for(var o in s)null!=s[o]&&(""!=r&&(r+="&"),r+=o+"="+encodeURIComponent(s[o]));let c=`${this.baseUrl}newSubscriberDisruptions?${r}`;t.searchTerm&&(c+=`&searchField=alarmEventName&searchValue=${t.searchTerm}`),e.search.value&&(c=`${this.baseUrl}newSubscriberDisruptions?${r}`),t.http.get(c).subscribe(t=>{t&&t.records?this.subscriberDisrutionList=t.records:(t={},this.subscriberDisrutionList=[]),this.initLoad=!0,this.loading=!1,i({recordsTotal:t.totalRecordCount?t.totalRecordCount:0,recordsFiltered:e.search.value&&t?t.length:t.totalRecordCount?t.totalRecordCount:0,data:[]})},t=>{this.loading=!1})},drawCallback:t=>{this.loading=!1,this.tableLanguageOptions(),t._iRecordsDisplay<=t._iDisplayLength&&$(t.nTableWrapper).find("#users-table_last").addClass("disabled")}},this.tableLanguageOptions()}showSubscriberImpactedDt(t){this.data.selectedBar=null==t?void 0:t.selectedBar,this.subscriberImpactedClickedDate=null==t?void 0:t.date,this.showTable=!0,this.initLoad?this.redraw():this.getNewSubscriberDisruptions()}rerender(t){this.dtElements.forEach(t=>{t.dtInstance&&t.dtInstance.then(t=>{t.destroy()})}),setTimeout(()=>{this.dtSub=this.dtTrigger.next()})}fullScreenExpandOnBarClick(t){this.fullScreenExpand("new-subscriber-disruptions"),this.showSubscriberImpactedDt(t)}clearErrors(){this.errors={severity:"","loss-of-pon":"",subscriber:"",biperror:"",alertTypes:""}}doExport(){this.disableExprtBtn=!0;const t=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1];let e=this.issueService.buildQuery({startEpochTime:this.serviceDisruptedSelectedDate[0],endEpochTime:this.serviceDisruptedSelectedDate[1]});e+=`&timeZone=${encodeURIComponent(t)}`,this.http.get(`${l.N.API_BASE_URL}analytics-engine/newSubscriberDisruptions/export?${e}`,{responseType:"text",observe:"response"}).subscribe(t=>{const e=this.issueService.getFileName(t,"subsciberDisruption"),i=new Blob([t.body],{type:"text/csv"});(0,h.saveAs)(i,e),this.disableExprtBtn=!1},t=>{this.disableExprtBtn=!1,this.pageErrorHandle(t,"export")})}redirectToHistoryReport(t){let e,i,a="",n={},s={date:[new Date(t.timeRaised),new Date(t.timeRaised)]},r=this.issueService.getDateParam(s,!1),o=null==r?void 0:r.split(",");o&&o.length>0&&(e=new Date(Number(o[0])),i=new Date(Number(o[1]))),n={date:[e,i],eventName:t.cause?[t.cause]:["ont-missing"],fsan:t.fsan},a="cco/alerts/system/history-reports",this.router.navigate(["cco/alerts/system/history-reports"],{state:{filters:n}})}}return t.\u0275fac=function(e){return new(e||t)(b.Y36(f.s),b.Y36(m.eN),b.Y36(Z.s),b.Y36(v.t6),b.Y36(x.a),b.Y36(n.F0),b.Y36(T.C),b.Y36(A.t),b.Y36(y.Dx),b.Y36(_.v),b.Y36(O.v))},t.\u0275cmp=b.Xpm({type:t,selectors:[["app-network-trends"]],viewQuery:function(t,e){if(1&t&&b.Gf(p.G,5),2&t){let t;b.iGM(t=b.CRH())&&(e.dtElements=t)}},decls:128,vars:60,consts:[[1,"loader-wrapper"],[1,"my-3"],[1,"container"],[1,"row"],["class","test-container",4,"ngIf"],["class","loader-wrapper-info",4,"ngIf"],["class","d-flex w-100 px-0 mt-2","id","current-issues-interval",4,"ngIf"],["class","d-flex w-100 px-0 mb-3","id","current-issues-interval",4,"ngIf"],[1,"network-trends-chart-container","mb-2","mt-14px",3,"hidden"],["role","alert","class","alert alert-warning",4,"ngIf"],["class","network-trends-chart-item",4,"ngIf"],[1,"row",3,"ngClass"],[1,"col-12"],["id","nw-bip-error-title",1,"cco-secondary-title","border-bottom","mb-2"],[1,"greyaa","mb0","heading-subtitle"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],["id","BipContainer",1,"chart-box"],[1,"mb-2",3,"ngClass"],["class","container",4,"ngIf"],["class","col-md-12"],["showInfoModal",""],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg","modal-large"],[1,"modal-content"],[1,"col-md-11"],[1,"ccl-Secondary-title"],[1,"col-md-1","text-right"],["aria-hidden","true","src","assets/img/ic_close-44px.svg","data-dismiss","modal","aria-label","Close",1,"pointer"],[1,"table","table-borderless"],[1,"col-resource"],[1,"col-res-data-modal"],[1,"dot"],[1,"col-md-12","ccl-tabs"],["id","myTabContent",1,"tab-content"],["id","Title-1","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],[1,"col-lg-12","col-xl-12","col-md-12","col-sm-12"],[1,"support-key-value"],[1,"white-space-preline"],["class","table table-borderless",4,"ngIf"],["id","Title-2","role","tabpanel","aria-labelledby","profile-tab",1,"tab-pane","fade"],["id","Title-3","role","tabpanel","aria-labelledby","contact-tab",1,"tab-pane","fade"],[1,"test-container"],["id","nw-trend-outages",1,"item"],["id","pendoOuttages"],[1,"d-flex","align-content-around","flex-wrap","pointer",3,"click"],["class","sub-menu-list-icon2",4,"ngIf"],["class","sub-menu-list-icon",4,"ngIf"],[1,"past-hours"],["id","nw-trend-pon",1,"item"],["id","pendoPONCapacityHits"],["class","sub-menu-list-icon3",4,"ngIf"],["id","nw-trend-active-sys",1,"item"],["id","newConnectedASystems"],[1,"d-flex","align-content-around","flex-wrap"],["id","pendoActiveSystems"],[1,"sub-menu-list-icon2"],[1,"gly-rotate-90_reversed"],[1,"sub-menu-list-icon"],[1,"gly-rotate-45_reversed"],[1,"sub-menu-list-icon3"],[1,"gly-rotate-90"],[1,"gly-rotate-45","mr-2"],[1,"loader-wrapper-info"],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"],["id","current-issues-interval",1,"d-flex","w-100","px-0","mt-2"],[1,"label-chart-timeframe"],[1,"min-w-170px","ml-2"],[3,"searchable","placeholder","ngModel","clearable","ngModelChange","change"],["value","7"],["value","30"],["id","current-issues-interval",1,"d-flex","w-100","px-0","mb-3"],[1,"custom-selectbox","w-100"],[4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"network-trends-chart-item"],[1,"w-100"],["id","nw-active-alarm-title",1,"cco-secondary-title","border-bottom","mb-2"],["id","severityContainer",1,"chart-box"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],["id","nw-alert-type-title",1,"cco-secondary-title","border-bottom","mb-2"],["datatable","",1,"w-100","table",3,"dtOptions","dtTrigger"],[1,"pl-2"],[4,"ngFor","ngForOf"],[1,"primary","text-decoration-none","cursor-pointer",3,"click"],["colspan","3",1,"no-data-available"],[1,"d-flex","justify-content-between","border-bottom","mb-2"],["id","pendoNewCCOLossOfPONs",1,"cco-secondary-title"],[3,"data",4,"ngIf"],[3,"data"],["id","pendoNewCCOSubscribersImpacted",1,"cco-secondary-title",3,"title"],[1,"mwc-btns","flex","align-items-center"],["id","SeverityExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand",3,"title","click"],[3,"data","barClicked",4,"ngIf"],[3,"data","barClicked"],[1,"d-flex","justify-content-between","border-bottom","mb-2","w-100"],[1,"cco-secondary-title"],["id","fullScreenExpandSection","data-toggle","tooltip",1,"btn-round","btn-small-24","btn-grey","btn-expand-inv",3,"title","click"],[1,"col-md-12","px-0"],[3,"data","chsttype"],["class","col-md-12 px-0",4,"ngIf"],[1,"col-md-12","px-0","overflow-auto"],["datatable","",1,"table","table-borderless",3,"dtOptions"],[1,"max-w-74px"],[1,"sorting-th-custom"],[1,"max-w-90px"],[1,"col-recom"],["class","pointer",3,"click",4,"ngFor","ngForOf"],[1,"pointer",3,"click"],["data-toggle","modal","data-target",".bd-example-modal-lg"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-resource","col-recom"],[1,"col-res-data","subj-text"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"col-recom"],[1,"subj-text"],["colspan","8",1,"no-data-available"],[3,"data","chsttype","showDataTable"],[1,"col-md-12","row","justify-content-between","align-items-center"],[1,"btn-default","btn-dft","h-24-btn",3,"disabled","click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["colspan","6",1,"no-data-available"],[1,"modal-header","d-block"],["id","showInfoModal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","add-device-model"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3","px-3",3,"click"]],template:function(t,e){1&t&&(b.TgZ(0,"div",0),b.TgZ(1,"section",1),b.TgZ(2,"div",2),b.TgZ(3,"div",3),b.YNc(4,Q,41,18,"div",4),b.qZA(),b.qZA(),b.qZA(),b.YNc(5,F,6,1,"div",5),b.YNc(6,z,9,7,"div",6),b.YNc(7,K,6,3,"div",7),b.TgZ(8,"div",8),b.YNc(9,G,2,1,"div",9),b.YNc(10,tt,8,2,"div",10),b.YNc(11,at,20,8,"div",10),b.YNc(12,rt,9,4,"div",10),b.YNc(13,lt,11,6,"div",10),b.qZA(),b.TgZ(14,"div",11),b.TgZ(15,"div",12),b.TgZ(16,"div",13),b._uU(17),b.qZA(),b.TgZ(18,"h5",14),b._uU(19),b.qZA(),b.YNc(20,ut,6,1,"div",15),b._UZ(21,"div",16),b.qZA(),b.qZA(),b.TgZ(22,"section",17),b.YNc(23,ht,12,5,"div",18),b.YNc(24,xt,12,5,"div",18),b.qZA(),b.YNc(25,Tt,10,3,"ng-template",19,20,b.W1O),b.TgZ(27,"div",21),b.TgZ(28,"div",22),b.TgZ(29,"div",23),b.TgZ(30,"div",3),b.TgZ(31,"div",24),b.TgZ(32,"div",25),b._uU(33),b.qZA(),b.qZA(),b.TgZ(34,"div",26),b._UZ(35,"img",27),b.qZA(),b.qZA(),b.TgZ(36,"div",3),b.TgZ(37,"table",28),b.TgZ(38,"thead"),b.TgZ(39,"tr"),b.TgZ(40,"th"),b._uU(41),b.qZA(),b.TgZ(42,"th"),b._uU(43),b.qZA(),b.TgZ(44,"th"),b._uU(45),b.qZA(),b.TgZ(46,"th"),b._uU(47),b.qZA(),b.TgZ(48,"th",29),b._uU(49),b.qZA(),b.TgZ(50,"th"),b._uU(51),b.qZA(),b.qZA(),b.qZA(),b.TgZ(52,"tbody"),b.TgZ(53,"td"),b._uU(54),b.qZA(),b.TgZ(55,"td"),b._uU(56),b.qZA(),b.TgZ(57,"td"),b._uU(58),b.qZA(),b.TgZ(59,"td"),b._uU(60),b.qZA(),b.TgZ(61,"td",29),b.TgZ(62,"div",30),b._uU(63),b._UZ(64,"br"),b._uU(65),b.qZA(),b.qZA(),b.TgZ(66,"td"),b.TgZ(67,"div"),b._UZ(68,"span",31),b._uU(69),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(70,"div",32),b.TgZ(71,"div",33),b.TgZ(72,"div",34),b.TgZ(73,"div",3),b.TgZ(74,"div",35),b.TgZ(75,"div",36),b.TgZ(76,"table",28),b.TgZ(77,"tbody"),b.TgZ(78,"tr"),b.TgZ(79,"td"),b._uU(80),b.qZA(),b.TgZ(81,"td"),b._uU(82),b.qZA(),b.qZA(),b.TgZ(83,"tr"),b.TgZ(84,"td"),b._uU(85),b.qZA(),b.TgZ(86,"td"),b._uU(87),b.qZA(),b.qZA(),b.TgZ(88,"tr"),b.TgZ(89,"td"),b._uU(90),b.qZA(),b.TgZ(91,"td",37),b._uU(92),b.qZA(),b.qZA(),b.TgZ(93,"tr"),b.TgZ(94,"td"),b._uU(95),b.qZA(),b.TgZ(96,"td"),b._uU(97),b.qZA(),b.qZA(),b.TgZ(98,"tr"),b.TgZ(99,"td"),b._uU(100),b.qZA(),b.TgZ(101,"td"),b._uU(102),b.qZA(),b.qZA(),b.TgZ(103,"tr"),b.TgZ(104,"td"),b._uU(105),b.qZA(),b.TgZ(106,"td"),b._uU(107),b.qZA(),b.qZA(),b.TgZ(108,"tr"),b.TgZ(109,"td"),b._uU(110),b.qZA(),b.TgZ(111,"td"),b._uU(112),b.qZA(),b.qZA(),b.TgZ(113,"tr"),b.TgZ(114,"td"),b._uU(115),b.qZA(),b.TgZ(116,"td"),b._uU(117),b.qZA(),b.qZA(),b.TgZ(118,"tr"),b.TgZ(119,"td"),b._uU(120),b.qZA(),b.TgZ(121,"td"),b._uU(122),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.YNc(123,yt,3,1,"table",38),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(124,"div",39),b._uU(125,"... "),b.qZA(),b.TgZ(126,"div",40),b._uU(127,"... "),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&t&&(b.xp6(4),b.Q6J("ngIf",e.hasScopeAccess),b.xp6(1),b.Q6J("ngIf",e.loading&&e.hasScopeAccess),b.xp6(1),b.Q6J("ngIf",e.hasScopeAccess&&!e.fullscreen),b.xp6(1),b.Q6J("ngIf",e.fullscreen),b.xp6(1),b.Q6J("hidden",!e.AlamBipWrapper)("hidden",!e.LosPonsubImpWrapper),b.xp6(1),b.Q6J("ngIf",!e.hasScopeAccess),b.xp6(1),b.Q6J("ngIf",e.feature.activealarm),b.xp6(1),b.Q6J("ngIf",e.hasScopeAccess),b.xp6(1),b.Q6J("ngIf",e.feature.activepons),b.xp6(1),b.Q6J("ngIf",e.feature.subscriberimpacted),b.xp6(1),b.Q6J("ngClass",b.VKq(58,_t,!e.feature.biperrors)),b.xp6(3),b.hij("",e.language["BIP Errors"]," "),b.xp6(2),b.hij("",e.language.HOME_Bip_Sub," "),b.xp6(1),b.Q6J("ngIf",e.errors.biperror),b.xp6(2),b.Q6J("ngClass",e.fullscreen?"d-block":"d-none"),b.xp6(1),b.Q6J("ngIf",e.showLossofPons),b.xp6(1),b.Q6J("ngIf",e.showsubImpacted),b.xp6(9),b.hij("",e.fullData.subject?e.fullData.subject.alarmEventName:""," "),b.xp6(8),b.AsE("",e.language["Reported Time"]," (UTC/",e.timeZone,")"),b.xp6(2),b.AsE("",e.language["Synced Time"]," (UTC/",e.timeZone,")"),b.xp6(2),b.Oqu(e.language["Alarm Name"]),b.xp6(2),b.Oqu(e.language["Alarm Category"]),b.xp6(2),b.Oqu(e.language.Resource),b.xp6(2),b.Oqu(e.language.Severity),b.xp6(3),b.Oqu(e.fullData.subject&&e.fullData.subject.timeRaised?e.convertToDateTime(e.fullData.subject.timeRaised):""),b.xp6(2),b.Oqu(e.fullData.time?e.convertToDateTime(e.fullData.time):""),b.xp6(2),b.Oqu(e.fullData.subject?e.fullData.subject.alarmEventName:""),b.xp6(2),b.Oqu(e.fullData.subject?e.fullData.subject.category:""),b.xp6(3),b.lnq("(",e.fullData.subject?e.fullData.subject.region:"","/",e.fullData.subject?e.fullData.subject.location:"","/",e.fullData.subject?e.fullData.subject.deviceName:"",")"),b.xp6(2),b.Oqu(e.fullData.subject&&e.fullData.subject.source?e.fullData.subject.source:""),b.xp6(2),b.Tol(e.fullData.subject&&e.fullData.subject.perceivedSeverity&&e.colorClass[e.fullData.subject.perceivedSeverity]?e.colorClass[e.fullData.subject.perceivedSeverity]:"black clear-sev-but"),b.xp6(2),b.hij(" ",e.fullData.subject?e.language[e.fullData.subject.perceivedSeverity]||e.fullData.subject.perceivedSeverity:""," "),b.xp6(11),b.Oqu(e.language.Type),b.xp6(2),b.Oqu(e.fullData&&e.fullData.subject?e.fullData.subject.alarmType:""),b.xp6(3),b.Oqu(e.language.Description),b.xp6(2),b.Oqu(e.fullData&&e.fullData.subject?e.fullData.subject.description:""),b.xp6(3),b.Oqu(e.language.Details),b.xp6(2),b.Oqu(e.fullData&&e.fullData.subject?e.fullData.subject.details:""),b.xp6(3),b.Oqu(e.language["Manual Acknowledged"]),b.xp6(2),b.hij("",e.fullData&&e.fullData.subject&&e.fullData.subject.manualAcknowledged?"Yes":"No"," "),b.xp6(3),b.Oqu(e.language["Manual Shelved"]),b.xp6(2),b.Oqu(e.fullData&&e.fullData.subject&&e.fullData.subject.manualShelved?"Yes":"No"),b.xp6(3),b.Oqu(e.language["Repair Action"]),b.xp6(2),b.Oqu(e.fullData&&e.fullData.subject?e.fullData.subject.repairAction:""),b.xp6(3),b.Oqu(e.language["Service Affecting"]),b.xp6(2),b.Oqu(e.fullData&&e.fullData.subject&&e.fullData.subject.serviceAffecting?"Yes":"No"),b.xp6(3),b.Oqu(e.language["Service Impacting"]),b.xp6(2),b.Oqu(e.fullData&&e.fullData.subject&&e.fullData.subject.serviceImpacting?"Yes":"No"),b.xp6(3),b.Oqu(e.language.Source),b.xp6(2),b.Oqu(e.fullData&&e.fullData.subject?e.fullData.subject.source:""),b.xp6(1),b.Q6J("ngIf",e.fullData&&e.fullData.subject&&e.fullData.subject.customAdditionalAttributes))},directives:[a.O5,a.mk,q.w9,C.JJ,C.On,q.xv,p.G,a.sg,I,j],styles:['.network-trends-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}.network-trends-item[_ngcontent-%COMP%]{width:48.5%}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     table.dataTable td.dataTables_empty{display:none}.search-close[_ngcontent-%COMP%]{position:absolute;right:110px;top:11px;color:#cdcdcd;cursor:pointer}@media screen and (max-width: 767px){.network-trends-wrapper[_ngcontent-%COMP%]{display:block}.network-trends-item[_ngcontent-%COMP%]{width:100%}.network-trends-item[_ngcontent-%COMP%] + .network-trends-item[_ngcontent-%COMP%]{margin-left:0}}@media screen and (min-width: 768px) and (max-width: 1140px){.network-trends-item[_ngcontent-%COMP%]{width:100%!important}.network-trends-wrapper[_ngcontent-%COMP%]{flex-wrap:wrap}}.sub-menu[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:start;width:100%}.sub-menu-list[_ngcontent-%COMP%]{flex:0 23%;margin:11px;border-left:3px solid #e2e2e2;padding:10px 10px 10px 20px}.sub-menu-list-icon3[_ngcontent-%COMP%]{font-weight:400;padding:0 10px 0 22px;border-radius:15px;font-size:15px;color:#000;position:relative}.sub-menu-list-icon[_ngcontent-%COMP%]{font-weight:400;padding:0 10px 0 22px;border-radius:15px;font-size:15px;color:#507500;position:relative}.sub-menu-list-icon2[_ngcontent-%COMP%]{font-weight:400;padding:0 10px 0 22px;border-radius:15px;font-size:14px;color:#c70000;position:relative}.gly-rotate-45[_ngcontent-%COMP%]{background:url(black_arrow.3efca4d5f42affdd119e.svg)}.gly-rotate-90[_ngcontent-%COMP%]{background:url(black_arrow_up.aca6287b7dea799827a2.svg)}.gly-rotate-45_reversed[_ngcontent-%COMP%]{background:url(green_arrow.02068dd066c3b8190639.svg);transform:rotate(90deg)}.gly-rotate-90_reversed[_ngcontent-%COMP%]{background:url(red_arrow.ded00ae0389de747fb56.svg);transform:rotate(-90deg)}i.gly-rotate-45[_ngcontent-%COMP%], i.gly-rotate-90_reversed[_ngcontent-%COMP%], i.gly-rotate-45_reversed[_ngcontent-%COMP%], i.gly-rotate-90[_ngcontent-%COMP%]{position:absolute;left:7px;top:5px;width:10px;height:10px;background-repeat:no-repeat;background-size:100% 100%}.test-container[_ngcontent-%COMP%]{display:flex;width:100%}.item[_ngcontent-%COMP%]{border-left:1px solid #cdcdcd;padding-left:22px;width:-moz-max-content;width:max-content;padding-right:15px}.item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{align-items:baseline}.item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:2%}.menu-info[_ngcontent-%COMP%]{display:flex;width:100%}.loader-wrapper[_ngcontent-%COMP%]{position:relative}.loader-wrapper-info[_ngcontent-%COMP%]{transform:translate(-50%,-50%);top:50%;left:50%;position:absolute;width:100%;z-index:100;height:100%}.past-hours[_ngcontent-%COMP%]{color:#9e9e9e;font-size:12px;font-weight:400;line-height:12px;padding-top:5px}@media screen and (max-width: 767px){.test-container[_ngcontent-%COMP%]{display:block}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex-grow:1;border-left:3px solid #cdcdcd;padding-left:20px;width:100%;margin-left:0;margin-top:10px}.custom-selectbox[_ngcontent-%COMP%]{margin:10px 0}}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:30px!important;color:#0054b2!important;line-height:32px!important;margin-bottom:0!important;font-weight:300}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#1a1f22;font-size:14px;line-height:16.4px}.cco-secondary-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.mwc-btns[_ngcontent-%COMP%]{justify-content:flex-end;width:120px}.mwc-btns[_ngcontent-%COMP%]   button.btn-small-24[_ngcontent-%COMP%]{width:24px;height:24px}.mwc-btns[_ngcontent-%COMP%]   button.btn-small-24.btn-grey[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat}.mwc-btns[_ngcontent-%COMP%]   button.btn-small-24.btn-grey[_ngcontent-%COMP%]:hover{background-position:center;background-repeat:no-repeat}.mwc-btns[_ngcontent-%COMP%]   button.btn-small-24.btn-grey[_ngcontent-%COMP%]:focus{background-position:center;background-repeat:no-repeat}.mwc-btns[_ngcontent-%COMP%]   button.btn-que[_ngcontent-%COMP%]{margin-right:15px;background-image:url(ic_info_grey.89b781511c1fde63583b.svg)}.mwc-btns[_ngcontent-%COMP%]   button.btn-que[_ngcontent-%COMP%]:hover{background-image:url(ic_info_grey.89b781511c1fde63583b.svg)}.mwc-btns[_ngcontent-%COMP%]   button.btn-que[_ngcontent-%COMP%]:focus{background-image:url(ic_info_grey.89b781511c1fde63583b.svg)}.mwc-btns[_ngcontent-%COMP%]   button.btn-dload[_ngcontent-%COMP%]{margin-right:6px;background-image:url(ic_download_grey.9f487628f7100a5a71b9.svg)}.mwc-btns[_ngcontent-%COMP%]   button.btn-dload[_ngcontent-%COMP%]:hover{background-image:url(ic_download_grey.9f487628f7100a5a71b9.svg)}.mwc-btns[_ngcontent-%COMP%]   button.btn-dload[_ngcontent-%COMP%]:focus{background-image:url(ic_download_grey.9f487628f7100a5a71b9.svg)}.mwc-btns[_ngcontent-%COMP%]   button.btn-expand[_ngcontent-%COMP%]{margin-right:6px;background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.mwc-btns[_ngcontent-%COMP%]   button.btn-expand[_ngcontent-%COMP%]:hover{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.mwc-btns[_ngcontent-%COMP%]   button.btn-expand[_ngcontent-%COMP%]:focus{background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg)}.mwc-btns[_ngcontent-%COMP%]   button.btn-expand-inv[_ngcontent-%COMP%]{margin-right:6px;background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg)}.mwc-btns[_ngcontent-%COMP%]   button.btn-expand-inv[_ngcontent-%COMP%]:hover{background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg)}.mwc-btns[_ngcontent-%COMP%]   button.btn-expand-inv[_ngcontent-%COMP%]:focus{background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg)}.modal-large[_ngcontent-%COMP%]{max-width:75%!important}.heading-subtitle[_ngcontent-%COMP%]{font-family:"Source Sans Pro"!important;font-size:14px!important;margin-bottom:5px;margin-top:15px}.label-chart-timeframe[_ngcontent-%COMP%]{min-width:140px;padding-top:5px;margin-bottom:0}.min-w-170px[_ngcontent-%COMP%]{min-width:170px}.label-chart-timeframe[_ngcontent-%COMP%]   .pointer[_ngcontent-%COMP%]{background-color:#f8f8fa;border-radius:29px;min-width:130px}.mt-14px[_ngcontent-%COMP%]{margin-top:14px}#severityContainer[_ngcontent-%COMP%], #BipContainer[_ngcontent-%COMP%]{height:300px}.max-w-74px[_ngcontent-%COMP%]{max-width:74px}.max-w-90px[_ngcontent-%COMP%]{max-width:90px}.custom-selectbox[_ngcontent-%COMP%]{padding:5px 8px}.col-recom[_ngcontent-%COMP%]{min-width:300px}.col-recom[_ngcontent-%COMP%]   .subj-text[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.col-resource[_ngcontent-%COMP%]{max-width:400px!important}.col-resource[_ngcontent-%COMP%]   .col-res-data[_ngcontent-%COMP%]{min-width:400px;max-width:400px;word-break:break-all}.col-res-data-modal[_ngcontent-%COMP%]{min-width:380px;max-width:380px;word-break:break-all}.white-space-preline[_ngcontent-%COMP%]{white-space:pre-line}.modal-large[_ngcontent-%COMP%]{max-width:85%!important}.network-trends-chart-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin:25px 0}.network-trends-chart-item[_ngcontent-%COMP%]{flex:0 49%;margin-bottom:2%;width:49%}.showHideBipError[_ngcontent-%COMP%]{display:none}.h-24-btn[_ngcontent-%COMP%]{height:24px;line-height:16px!important;padding:3px 20px!important;font-size:14px}']}),t})()}];let qt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.oAB({type:t}),t.\u0275inj=b.cJS({imports:[[n.Bz.forChild(Ot)],n.Bz]}),t})(),Ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.oAB({type:t}),t.\u0275inj=b.cJS({imports:[[a.ez,qt,C.u5,p.T,C.u5,q.A0]]}),t})()}}]);