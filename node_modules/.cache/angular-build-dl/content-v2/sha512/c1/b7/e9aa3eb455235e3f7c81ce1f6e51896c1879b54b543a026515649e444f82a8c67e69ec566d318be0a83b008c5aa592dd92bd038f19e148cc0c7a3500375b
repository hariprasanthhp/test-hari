"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[3861],{43861:function(e,s,i){i.r(s),i.d(s,{ServicesModule:function(){return Z}});var n=i(38583),t=i(39895),c=i(92340),r=i(37716),o=i(7450),u=i(64432),l=i(89097),a=i(34640),g=i(39075);function f(e,s){if(1&e&&(r.TgZ(0,"div",7),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij(" ",e.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function b(e,s){if(1&e&&(r.TgZ(0,"span",8),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij(" ",e.language.Services,"\n")}}const h=function(e){return{active:e}};function v(e,s){if(1&e&&(r.TgZ(0,"li",14),r.TgZ(1,"a",15),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("routerLink",null==e.menuConfig||null==e.menuConfig.subscribers||null==e.menuConfig.subscribers.urls?null:e.menuConfig.subscribers.urls[0])("ngClass",r.VKq(3,h,e.activeMenus.subscribers)),r.xp6(1),r.hij("",e.language.Subscribers," ")}}function d(e,s){if(1&e&&(r.TgZ(0,"li",14),r.TgZ(1,"a",16),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("routerLink",null==e.menuConfig||null==e.menuConfig.serviceprofiles||null==e.menuConfig.serviceprofiles.urls?null:e.menuConfig.serviceprofiles.urls[0])("ngClass",r.VKq(3,h,e.activeMenus["service-profiles"])),r.xp6(1),r.Oqu(e.language["ONT Services Profiles"])}}function p(e,s){if(1&e&&(r.TgZ(0,"li",14),r.TgZ(1,"a",17),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("routerLink",null==e.menuConfig||null==e.menuConfig.configuration||null==e.menuConfig.configuration.urls?null:e.menuConfig.configuration.urls[0])("ngClass",r.VKq(3,h,e.activeMenus.configuration)),r.xp6(1),r.Oqu(e.language.Configuration)}}function m(e,s){if(1&e&&(r.TgZ(0,"div",5),r.TgZ(1,"div",11),r.TgZ(2,"ul",12),r.YNc(3,v,3,5,"li",13),r.YNc(4,d,3,5,"li",13),r.YNc(5,p,3,5,"li",13),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(3),r.Q6J("ngIf",e.menus.subscribers),r.xp6(1),r.Q6J("ngIf",e.menus["service-profiles"]),r.xp6(1),r.Q6J("ngIf",e.menus.configuration)}}function x(e,s){if(1&e){const e=r.EpF();r.TgZ(0,"div",18),r.TgZ(1,"div",19),r.TgZ(2,"span",8),r._uU(3),r.qZA(),r.TgZ(4,"img",20),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).gotoServiceProfiles()}),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(3),r.AsE("",e.ccoSearchText," : ",e.language["Provisioned Subscribers"],"")}}function C(e,s){if(1&e&&(r.TgZ(0,"section"),r.TgZ(1,"div",4),r.YNc(2,m,6,3,"div",9),r.qZA(),r.YNc(3,x,5,2,"div",10),r.qZA()),2&e){const e=r.oxw();r.xp6(2),r.Q6J("ngIf",!e.isProvisioned),r.xp6(1),r.Q6J("ngIf",e.isProvisioned&&e.ccoSearchText)}}const S=[{path:"",component:(()=>{class e{constructor(e,s,i,n,t,r,o){var u;this.translateService=e,this.ccoCommonService=s,this.sso=i,this.router=n,this.subscriber=t,this.titleService=r,this.cdRef=o,this.isDev=!1,this.menus={subscribers:!1,"service-profiles":!1,configuration:!1},this.menuConfig={subscribers:{urls:[],scopes:["subscriberslist"]},serviceprofiles:{urls:[],scopes:["serviceprofiles","rgprofiles","rgdialplans"]},configuration:{urls:[],scopes:["ontconfigurations","externalfileserver","secureonboarding","stalesystempurge","subnetconfiguration","speedtest"]}},this.module="network",this.subscriberStepperInfo="",this.isSystemsMainPage=!1,this.showSubscriberSystems=!1,this.allowSubscriberSystems=!0,this.hasPageAccess=!0,this.TableView=!1,this.activeMenus={subscribers:!1,"service-profiles":!1,configuration:!1},this.ccoCommonService.currentPageData.subscribe(e=>{this.currentPage=e});let l=window.location.host;this.isDev=`${c.N.API_BASE}`.indexOf("/dev.api.calix.ai")>-1||l.indexOf("localhost")>-1,this.isDev=!0,this.isSystemsMainPage=!!(this.router.url&&(null===(u=this.router.url)||void 0===u?void 0:u.indexOf("system-table-view"))>-1)}ngOnInit(){var e,s;this.setActiveMenu(),this.subsSystemStepSubs=this.subscriber.subsSystemStep.subscribe(e=>{this.subscriberStepperInfo=e,this.cdRef.detectChanges()}),this.pageAcceesObs=this.sso.hasPageAccess$.subscribe(e=>{this.hasPageAccess=!!e.access});let i=this.sso.getEntitlements();i[210]&&!i[102]&&(this.allowSubscriberSystems=!1);let n=this.sso.getScopes(),t=this.sso.getCCOUrlInfo();if(c.N.VALIDATE_SCOPE){let e=Object.keys(n);if(e)for(let s=0;s<e.length;s++)-1===e[s].indexOf("cloud.rbac.coc.services.subscribers")?-1===e[s].indexOf("cloud.rbac.coc.services.serviceprofiles")?-1===e[s].indexOf("cloud.rbac.coc.services.configuration")||(this.menus.configuration=!0):this.menus["service-profiles"]=!0:this.menus.subscribers=!0}else this.menus={subscribers:!0,"service-profiles":!0,configuration:!0};for(let c in this.menuConfig)null===(s=null===(e=this.menuConfig[c])||void 0===e?void 0:e.scopes)||void 0===s||s.forEach(e=>{var s,i,r,o;n[`cloud.rbac.coc.services.${c}.${e}`]&&(null===(i=null===(s=this.menuConfig[c])||void 0===s?void 0:s.urls)||void 0===i||i.push(null===(o=null===(r=t.services)||void 0===r?void 0:r[`cloud.rbac.coc.services.${c}.${e}`])||void 0===o?void 0:o.path))});this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e}),this.ccoCommonService.textSearch.subscribe(e=>{this.ccoSearchText=e.searchText,this.isProvisioned=e.isProvisioned})}setActiveMenu(){for(let e in this.activeMenus)this.activeMenus[e]=this.sso.isMenuActive(e)}ngOnDestroy(){this.pageAcceesObs&&this.pageAcceesObs.unsubscribe(),this.languageSubject&&this.languageSubject.unsubscribe(),this.subsSystemStepSubs&&this.subsSystemStepSubs.unsubscribe()}gotoServiceProfiles(){this.router.navigate(["/cco/services/service-profiles/ONT-profile"])}}return e.\u0275fac=function(s){return new(s||e)(r.Y36(o.s),r.Y36(u.q),r.Y36(l.t6),r.Y36(t.F0),r.Y36(a.w),r.Y36(g.Dx),r.Y36(r.sBO))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-services"]],decls:8,vars:4,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","cco-title",4,"ngIf"],[4,"ngIf"],[3,"hidden"],[1,"container"],[1,"row"],[1,"col-md-12","px-0"],["role","alert",1,"alert","alert-warning"],[1,"cco-title"],["class","row",4,"ngIf"],["class","container ccl-tabs p-0",4,"ngIf"],[1,"col-md-12","px-0","ccl-tabs","my-3"],["id","tabs",1,"nav","nav-tabs"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["data-toggle","tab",1,"nav-link",3,"routerLink","ngClass"],["data-toggle","tab","id","subscriber-system",1,"nav-link","small",3,"routerLink","ngClass"],["data-toggle","tab",1,"nav-link","small",3,"routerLink","ngClass"],[1,"container","ccl-tabs","p-0"],[1,"nav-tabs","d-flex","justify-content-between","align-items-baseline"],["src","assets/img/ic_close-44px.svg","alt","",1,"mr-3","cursor-pointer",3,"click"]],template:function(e,s){1&e&&(r.YNc(0,f,2,1,"div",0),r.YNc(1,b,2,1,"span",1),r.YNc(2,C,4,2,"section",2),r.TgZ(3,"section",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"div",6),r._UZ(7,"router-outlet"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.Q6J("ngIf",!s.hasPageAccess),r.xp6(1),r.Q6J("ngIf",s.hasPageAccess&&!s.isProvisioned),r.xp6(1),r.Q6J("ngIf",s.hasPageAccess),r.xp6(1),r.Q6J("hidden",!s.hasPageAccess))},directives:[n.O5,t.lC,t.yS,n.mk],styles:[".current-issues-table[_ngcontent-%COMP%]{width:100%}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:14px}.current-issues-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{font-size:14px}.subscriber-name[_ngcontent-%COMP%]{font-size:42px;font-style:normal;font-weight:300;line-height:53px;letter-spacing:0em;text-align:left;color:#1a1f22}"]}),e})(),children:[{path:"subscribers",loadChildren:()=>Promise.all([i.e(8245),i.e(8264)]).then(i.bind(i,78264)).then(e=>e.SubscribersModule)},{path:"service-profiles",loadChildren:()=>Promise.all([i.e(9551),i.e(6646)]).then(i.bind(i,57578)).then(e=>e.ServiceProfilesModule)},{path:"configuration",loadChildren:()=>Promise.all([i.e(8592),i.e(4938)]).then(i.bind(i,34938)).then(e=>e.ConfigurationModule)}]}];let A=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[t.Bz.forChild(S)],t.Bz]}),e})(),Z=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[n.ez,A]]}),e})()}}]);