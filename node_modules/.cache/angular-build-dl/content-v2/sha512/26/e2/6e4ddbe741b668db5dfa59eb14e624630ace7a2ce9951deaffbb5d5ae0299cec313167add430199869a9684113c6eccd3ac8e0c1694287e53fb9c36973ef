!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,i)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?a:String(a)),n)}var o,a}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[5825],{15825:function(t,n,a){a.r(n),a.d(n,{RealtimeModule:function(){return ge}});var r=a(38583),s=a(86640),c=a(39895),l=a(1282),h=a(23771),u=a(79765),d=a(16628),g=a(92340),m=a(37716),p=a(7450),f=a(38048),b=a(51071),v=a(43673),S=a(18921),T=a(12664),y=a(39075),w=a(91703),Z=a(91841),P=a(49342),x=a(3679);function A(e,t){if(1&e&&m._UZ(0,"app-stream-chart",15),2&e){var i=m.oxw(2);m.Q6J("chartName",i.language.RATE)("yAxixTitle",i.rateUnit)("data",i.data.maxRate)("time",i.data.sendTime)("windowLen",i.windowLen)("selectedFilter",i.selectedTime)("history",i.cacheRateData)}}function k(e,t){if(1&e&&(m.TgZ(0,"div",12),m.TgZ(1,"div",13),m.YNc(2,A,1,7,"app-stream-chart",14),m.qZA(),m.qZA()),2&e){var i=m.oxw();m.xp6(2),m.Q6J("ngIf",i.data.maxRate&&i.showRealTime)}}function O(e,t){if(1&e&&m._UZ(0,"app-stream-chart",15),2&e){var i=m.oxw(2);m.Q6J("chartName",i.language.PACKET)("yAxixTitle",i.packetUnit)("data",i.data.packet)("time",i.data.sendTime)("windowLen",i.windowLen)("selectedFilter",i.selectedTime)("history",i.cachePacketData)}}function q(e,t){if(1&e&&(m.TgZ(0,"div",16),m.TgZ(1,"div",17),m.YNc(2,O,1,7,"app-stream-chart",14),m.qZA(),m.qZA()),2&e){var i=m.oxw();m.xp6(2),m.Q6J("ngIf",i.data.packet&&i.showRealTime)}}var _,I=((_=function(){function e(t,n,o){i(this,e),this.sso=t,this.webSocketService=n,this.translateService=o,this.monitorId="",this.regionUuid="",this.locationUuid="",this.systemUuid="",this.valueChange=new m.vpe,this.showRealTime=!0,this.WSRequestObj={orgId:"",monitorType:"PORT",networkId:"",monitorId:"",graphType:"TRF",region:"",location:"",system:"",port:"",regionUuid:"",locationUuid:"",systemUuid:""},this.data={maxRate:[],packet:[]},this.rateUnit="bps",this.packetUnit="pps",this.cachePacketData={},this.cacheRateData={},this.eventname=""}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.calculateSubscriptiontime(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t}),this.orgId=this.sso.getOrgId(),this.orgid_tenantid=this.orgId+"_0",this.WSRequestObj.orgId=this.orgId,this.WSRequestObj.monitorType="PORT",this.WSRequestObj.networkId=this.orgid_tenantid,this.WSRequestObj.monitorId=this.monitorId,this.WSRequestObj.region=this.region,this.WSRequestObj.location=this.location,this.WSRequestObj.system=this.system,this.WSRequestObj.port=this.ponPorts,this.WSRequestObj.regionUuid=this.regionUuid,this.WSRequestObj.locationUuid=this.locationUuid,this.WSRequestObj.systemUuid=this.systemUuid,this.WSRequestObj.startTime=(new Date).getTime(),this.replay&&(this.WSRequestObj.replay="true",this.WSRequestObj.startTime=this.startTime.toString(),this.WSRequestObj.endTime=(new Date).getTime(),this.eventname="IPFIX_REPLAY_"+this.monitorId,this.webSocketService.listenPonPorts(this.eventname)),this.IsDuplicate?this.getRtData():(this.getRtData(),this.send("IPFIX_PORT",this.WSRequestObj),this.webSocketService.listenPonPorts("IPFIX_PORT")),this.replay||this.webSocketService.setPonportsInfo({monitorId:this.monitorId,region:this.region,location:this.location,system:this.system,port:this.ponPorts,windowLen:this.windowLen,IsDuplicate:this.IsDuplicate,Position:this.Position,startTime:this.WSRequestObj.startTime,replay:!0,regionUuid:this.regionUuid,locationUuid:this.locationUuid,systemUuid:this.systemUuid});var t=this;document.addEventListener("visibilitychange",function(){if(!document.hidden){var e=t.webSocketService.getPonportsInfo().filter(function(e){if(e.monitorId===t.monitorId)return e}),i={orgId:t.orgId,monitorType:"PORT",networkId:t.orgid_tenantid,monitorId:e[0].monitorId,graphType:"TRF",replay:"true",port:e[0].monitorId,region:e[0].region,location:e[0].location,system:e[0].system,startTime:e[0].startTime,endTime:(new Date).getTime(),regionUuid:e[0].regionUuid,locationUuid:e[0].locationUuid,systemUuid:e[0].systemUuid};t.eventname="IPFIX_REPLAY_"+e[0].monitorId,t.webSocketService.listenPonPorts(t.eventname),t.send("IPFIX_PORT",i)}}),this.reConnectWebSocket()}},{key:"ngOnChanges",value:function(e){e.selectedTime&&e.selectedTime.currentValue&&(this.selectedTime=e.selectedTime.currentValue)}},{key:"ngOnDestroy",value:function(){this.streamSubscription&&this.streamSubscription.unsubscribe(),this.languageSubject&&this.languageSubject.unsubscribe(),this.cacheDataSubscription&&this.cacheDataSubscription.unsubscribe(),this.interval&&(clearInterval(this.interval),this.interval=null),this.reConnectSubscription&&this.reConnectSubscription.unsubscribe()}},{key:"closeChart",value:function(){this.valueChange.emit({monitorId:this.monitorId,Position:this.Position,region:this.region,location:this.location})}},{key:"send",value:function(e,t){this.webSocketService.emitPonports(e,t)}},{key:"getRtData",value:function(){var e=this;this.streamSubscription&&this.streamSubscription.unsubscribe(),this.streamSubscription=this.webSocketService.ponPortsStreamData$.subscribe(function(t){e.showRealTime=!0,t.ifName===e.monitorId&&t.region===e.region&&(e.lastSubscriptionTime=(new Date).getTime(),e.data=t)}),this.cacheDataSubscription=this.webSocketService.cachePonportData$.subscribe(function(t){t.monitorId===e.eventname&&(e.cachePacketData=t.packet,e.cacheRateData=t.rate)})}},{key:"calculateSubscriptiontime",value:function(){var e=this;this.interval=setInterval(function(){(new Date).getTime()-e.lastSubscriptionTime>=3e4&&(e.data.maxRate=[0,0],e.data.packet=[0,0])},15e3)}},{key:"reConnectWebSocket",value:function(){var e=this;this.reConnectSubscription&&this.reConnectSubscription.unsubscribe(),this.webSocketService.connectWS$.subscribe(function(t){if(t&&e.webSocketService.WebSocketServer.hasDisconnectedOnce){e.webSocketService.listenPonPorts("IPFIX_PORT"),e.send("IPFIX_PORT",e.WSRequestObj);var i=e.webSocketService.getPonportsInfo();console.log(i,"ponPortList");var n=i.filter(function(t){if(t.monitorId===e.monitorId)return t}),o={orgId:e.orgId,monitorType:"PORT",networkId:e.orgid_tenantid,monitorId:n[0].monitorId,graphType:"TRF",replay:"true",port:n[0].monitorId,region:n[0].region,location:n[0].location,system:n[0].system,startTime:n[0].startTime,endTime:(new Date).getTime(),regionUuid:n[0].regionUuid,locationUuid:n[0].locationUuid,systemUuid:n[0].systemUuid};e.eventname="IPFIX_REPLAY_"+n[0].monitorId,e.webSocketService.listenPonPorts(e.eventname),e.send("IPFIX_PORT",o)}})}}]),e}()).\u0275fac=function(e){return new(e||_)(m.Y36(f.t6),m.Y36(b.i),m.Y36(p.s))},_.\u0275cmp=m.Xpm({type:_,selectors:[["app-ponport-chart"]],inputs:{monitorId:"monitorId",windowLen:"windowLen",selectedTime:"selectedTime",IsDuplicate:"IsDuplicate",Position:"Position",location:"location",region:"region",system:"system",ponPorts:"ponPorts",startTime:"startTime",replay:"replay",regionUuid:"regionUuid",locationUuid:"locationUuid",systemUuid:"systemUuid"},outputs:{valueChange:"valueChange"},features:[m.TTD],decls:13,vars:8,consts:[[1,"row","mt-3",3,"id"],[1,"col-md-12","px-0"],[1,"mwc-header","flex","w-100","border-bottom","mb-2"],["data-toggle","tooltip","data-placement","top",1,"cco-secondary-title","title-tooltip",3,"title"],[1,"mwc-btns","flex","align-items-center"],["type","button","aria-label","Close",1,"close","m-2",3,"click"],["aria-hidden","true"],[1,"d-flex","justify-content-between","md-block"],[1,"col-12","col-md-12","pr-0","pl-0","col-lg-6","mpb-3"],["id","health-network-realtime-rate","class","card m-10",4,"ngIf"],[1,"col-12","col-md-12","pr-0","col-lg-6"],["id","health-network-realtime-packet","class","card m-10",4,"ngIf"],["id","health-network-realtime-rate",1,"card","m-10"],["id","ngx-stream-path-chart-rate",1,""],[3,"chartName","yAxixTitle","data","time","windowLen","selectedFilter","history",4,"ngIf"],[3,"chartName","yAxixTitle","data","time","windowLen","selectedFilter","history"],["id","health-network-realtime-packet",1,"card","m-10"],["id","ngx-stream-path-chart-packet",1,""]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"div",3),m._uU(4),m.qZA(),m.TgZ(5,"div",4),m.TgZ(6,"button",5),m.NdJ("click",function(){return t.closeChart()}),m._UZ(7,"span",6),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"div",7),m.TgZ(9,"div",8),m.YNc(10,k,3,1,"div",9),m.qZA(),m.TgZ(11,"div",10),m.YNc(12,q,3,1,"div",11),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.MGl("id","ponports-",t.ponPorts,""),m.xp6(3),m.s9C("title",t.ponPorts),m.xp6(1),m.HOy(" ",t.ponPorts," (",t.region,"/",t.location,"/",t.system,") "),m.xp6(6),m.Q6J("ngIf",t.data.maxRate.length||t.showRealTime),m.xp6(2),m.Q6J("ngIf",t.data.packet.length||t.showRealTime))},directives:[r.O5,d.Q],styles:[".cco-secondary-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.mwc-btns[_ngcontent-%COMP%]{justify-content:flex-end}.mwc-header[_ngcontent-%COMP%]{justify-content:space-between;margin-bottom:20px}"]}),_),N=["showInfoModal"];function C(e,t){if(1&e&&(m.TgZ(0,"div",7),m._uU(1),m.qZA()),2&e){var i=m.oxw();m.xp6(1),m.hij(" ",i.language["Access denied due to RBAC. Please consult your Organization Administrator for access."],"\n")}}function U(e,t){if(1&e&&(m.TgZ(0,"ng-option",31),m._uU(1),m.qZA()),2&e){var i=t.$implicit,n=m.oxw(2);m.Q6J("value",i.id),m.xp6(1),m.Oqu(n.language[i.name])}}function D(e,t){if(1&e&&(m.TgZ(0,"div",32),m._uU(1),m.qZA()),2&e){var i=t.item;m.s9C("title",i.name?i.name:i),m.xp6(1),m.hij("",i.name?i.name:i," ")}}function R(e,t){if(1&e&&(m.TgZ(0,"div",32),m._uU(1),m.qZA()),2&e){var i=t.item;m.s9C("title",i.name?i.name:i),m.xp6(1),m.hij("",i.name?i.name:i," ")}}function M(e,t){if(1&e&&(m.TgZ(0,"div",32),m._uU(1),m.qZA()),2&e){var i=t.item;m.s9C("title",i.name?i.name:i),m.xp6(1),m.hij("",i.name?i.name:i," ")}}function E(e,t){if(1&e&&(m.TgZ(0,"div",32),m._uU(1),m.qZA()),2&e){var i=t.item;m.s9C("title",i.name?i.name:i),m.xp6(1),m.hij("",i.name?i.name:i," ")}}function L(e,t){if(1&e&&(m.TgZ(0,"div",32),m._uU(1),m.qZA()),2&e){var i=t.item;m.s9C("title",i.name?i.name:i),m.xp6(1),m.hij("",i.name?i.name:i," ")}}function j(e,t){if(1&e&&(m.TgZ(0,"div",32),m._uU(1),m.qZA()),2&e){var i=t.item;m.s9C("title",i.name?i.name:i),m.xp6(1),m.hij("",i.name?i.name:i," ")}}var F=function(){return{standalone:!0}};function W(e,t){if(1&e){var i=m.EpF();m.TgZ(0,"div",8),m.TgZ(1,"div",9),m.TgZ(2,"div",10),m.TgZ(3,"div",11),m.TgZ(4,"div",12),m.TgZ(5,"div",13),m.TgZ(6,"label",14),m._uU(7),m.qZA(),m.TgZ(8,"div",15),m.TgZ(9,"ng-select",16),m.NdJ("ngModelChange",function(e){return m.CHM(i),m.oxw().selectedOption=e}),m.YNc(10,U,2,2,"ng-option",17),m.qZA(),m.qZA(),m.qZA(),m.TgZ(11,"div",13),m.TgZ(12,"label",14),m._uU(13),m.qZA(),m.TgZ(14,"div",18),m.TgZ(15,"ng-select",19),m.NdJ("ngModelChange",function(e){return m.CHM(i),m.oxw().regionSelected=e})("ngModelChange",function(e){return m.CHM(i),m.oxw().loadLocationValue(e)}),m.YNc(16,D,2,2,"ng-template",20),m.YNc(17,R,2,2,"ng-template",21),m.qZA(),m.qZA(),m.qZA(),m.TgZ(18,"div",13),m.TgZ(19,"label",14),m._uU(20),m.qZA(),m.TgZ(21,"div",22),m.TgZ(22,"ng-select",23),m.NdJ("ngModelChange",function(e){return m.CHM(i),m.oxw().locationSelected=e})("ngModelChange",function(e){return m.CHM(i),m.oxw().loadSystemValue(e)}),m.YNc(23,M,2,2,"ng-template",20),m.YNc(24,E,2,2,"ng-template",21),m.qZA(),m.qZA(),m.qZA(),m.TgZ(25,"div",13),m.TgZ(26,"label",14),m._uU(27),m.qZA(),m.TgZ(28,"div",24),m.TgZ(29,"ng-select",25),m.NdJ("ngModelChange",function(e){return m.CHM(i),m.oxw().systemSelected=e})("ngModelChange",function(e){return m.CHM(i),m.oxw().selectSystem(e)}),m.YNc(30,L,2,2,"ng-template",20),m.YNc(31,j,2,2,"ng-template",21),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(32,"div",26),m.TgZ(33,"div",27),m.TgZ(34,"button",28),m.NdJ("click",function(){return m.CHM(i),m.oxw().applyFilter()}),m._uU(35),m.qZA(),m.qZA(),m.TgZ(36,"div",29),m.TgZ(37,"button",30),m.NdJ("click",function(){return m.CHM(i),m.oxw().clearFilter()}),m._uU(38),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var n=m.oxw();m.xp6(7),m.hij(" ",n.language.TTimeFrame,""),m.xp6(2),m.s9C("placeholder",n.language.interval),m.Q6J("searchable",!1)("ngModel",n.selectedOption),m.xp6(1),m.Q6J("ngForOf",n.ddoptions),m.xp6(3),m.hij("",n.language.region," "),m.xp6(2),m.s9C("placeholder",n.language.region),m.Q6J("ngModel",n.regionSelected)("items",n.regionsDataArray)("ngModelOptions",m.DdM(28,F))("clearable",!1)("searchable",!0),m.xp6(5),m.hij("",n.language.Location," "),m.xp6(2),m.s9C("placeholder",n.language.Location),m.Q6J("ngModel",n.locationSelected)("items",n.locationDataArray)("ngModelOptions",m.DdM(29,F))("clearable",!1)("searchable",!0),m.xp6(5),m.Oqu(n.language.System),m.xp6(2),m.s9C("placeholder",n.language.System),m.Q6J("ngModel",n.systemSelected)("items",n.systemDataArray)("ngModelOptions",m.DdM(30,F))("clearable",!1)("searchable",!0),m.xp6(6),m.hij(" ",n.language.apply," "),m.xp6(3),m.hij(" ",n.language.Clear_Filters," ")}}function Y(e,t){if(1&e){var i=m.EpF();m.TgZ(0,"div",33),m.TgZ(1,"span",34),m._UZ(2,"img",35),m.qZA(),m.TgZ(3,"span"),m._uU(4),m.qZA(),m.TgZ(5,"button",36),m.NdJ("click",function(){return m.CHM(i),m.oxw().closeAlert()}),m._UZ(6,"span"),m.qZA(),m.qZA()}if(2&e){var n=m.oxw();m.xp6(4),m.Oqu(n.errorMessage)}}function J(e,t){if(1&e&&(m.TgZ(0,"div",39),m.TgZ(1,"div",40),m.TgZ(2,"div",41),m.TgZ(3,"span",42),m._uU(4),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e){var i=m.oxw(2);m.xp6(4),m.Oqu(i.language.Loading)}}function H(e,t){if(1&e&&(m.TgZ(0,"div",37),m.YNc(1,J,5,1,"div",38),m.qZA()),2&e){var i=m.oxw();m.xp6(1),m.Q6J("ngIf",i.loading)}}function Q(e,t){if(1&e){var i=m.EpF();m.TgZ(0,"tr"),m.TgZ(1,"td"),m._uU(2),m.qZA(),m.TgZ(3,"td"),m._uU(4),m.qZA(),m.TgZ(5,"td"),m._uU(6),m.qZA(),m.TgZ(7,"td"),m._uU(8),m.qZA(),m.TgZ(9,"td"),m._uU(10),m.TgZ(11,"div",82),m.TgZ(12,"span",83),m.TgZ(13,"i",84),m.NdJ("click",function(){var e=m.CHM(i).$implicit;return m.oxw(2).ponPortsChart(e,"shrinkView")}),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var n=t.$implicit,o=m.oxw(2);m.xp6(2),m.Oqu(n.system),m.xp6(2),m.Oqu(n.ifName),m.xp6(2),m.AsE("",n.region,"/",n.location,""),m.xp6(2),m.Oqu(o.bitsToSize(n.value,!1)),m.xp6(2),m.hij("",o.calculateDownPercentage(n)," ")}}function V(e,t){if(1&e&&(m.TgZ(0,"tr",85),m.TgZ(1,"td",86),m._uU(2),m.qZA(),m.qZA()),2&e){var i=m.oxw(2);m.xp6(2),m.Oqu(i.language["No data available"])}}function X(e,t){if(1&e){var i=m.EpF();m.TgZ(0,"tr"),m.TgZ(1,"td"),m._uU(2),m.qZA(),m.TgZ(3,"td"),m._uU(4),m.qZA(),m.TgZ(5,"td"),m._uU(6),m.qZA(),m.TgZ(7,"td"),m._uU(8),m.qZA(),m.TgZ(9,"td"),m._uU(10),m.TgZ(11,"div",82),m.TgZ(12,"span",83),m.TgZ(13,"i",84),m.NdJ("click",function(){var e=m.CHM(i).$implicit;return m.oxw(2).ponPortsChart(e,"shrinkView")}),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var n=t.$implicit,o=m.oxw(2);m.xp6(2),m.Oqu(n.system),m.xp6(2),m.Oqu(n.ifName),m.xp6(2),m.AsE("",n.region,"/",n.location,""),m.xp6(2),m.Oqu(o.bitsToSize(n.value,!1)),m.xp6(2),m.hij("",o.calculateUpPercentage(n)," ")}}function z(e,t){if(1&e&&(m.TgZ(0,"tr",85),m.TgZ(1,"td",86),m._uU(2),m.qZA(),m.qZA()),2&e){var i=m.oxw(2);m.xp6(2),m.Oqu(i.language["No data available"])}}function $(e,t){if(1&e&&m._uU(0),2&e){var i=t.item,n=m.oxw(2);m.hij(" ",n.language[i.name]," ")}}function G(e,t){if(1&e&&m._uU(0),2&e){var i=t.item,n=m.oxw(2);m.hij(" ",n.language[i.name]," ")}}function B(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var i=m.oxw(2);m.xp6(1),m.Oqu(i.language.Top_PON_Ports_by_Upstream_Capacity)}}function K(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var i=m.oxw(2);m.xp6(1),m.Oqu(i.language.Top_PON_Ports_by_Downstream_Capacity)}}function ee(e,t){if(1&e){var i=m.EpF();m.TgZ(0,"tr"),m.TgZ(1,"td"),m._uU(2),m.qZA(),m.TgZ(3,"td"),m._uU(4),m.qZA(),m.TgZ(5,"td"),m._uU(6),m.qZA(),m.TgZ(7,"td"),m._uU(8),m.qZA(),m.TgZ(9,"td"),m._uU(10),m.qZA(),m.TgZ(11,"td"),m._uU(12),m.TgZ(13,"div",82),m.TgZ(14,"span",83),m.TgZ(15,"i",84),m.NdJ("click",function(){var e=m.CHM(i).$implicit;return m.oxw(2).ponPortsChart(e,"expandedView")}),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var n=t.$implicit,o=m.oxw(2);m.xp6(2),m.Oqu(n.system),m.xp6(2),m.hij("",n.ifName," "),m.xp6(2),m.Oqu(n.region),m.xp6(2),m.Oqu(n.location),m.xp6(2),m.Oqu(o.bitsToSize(n.value,!1)),m.xp6(2),m.hij("","TPP_UP"==o.fsName?o.calculateUpPercentage(n):o.calculateDownPercentage(n)," ")}}function te(e,t){if(1&e&&(m.TgZ(0,"tr",85),m.TgZ(1,"td",87),m._uU(2),m.qZA(),m.qZA()),2&e){var i=m.oxw(2);m.xp6(2),m.hij("",i.language["No data available"]," ")}}function ie(e,t){if(1&e&&m._UZ(0,"app-stream-chart",91),2&e){var i=m.oxw(3);m.Q6J("chartName",i.language.RATE)("yAxixTitle",i.rateUnit)("data",i.data.maxRate)("time",i.data.sendTime)("windowLen",i.windowLen)("selectedFilter",i.selectedTime)("selectedRegion",i.selectedRegion)("selectedLocation",i.selectedLocation)("selectedSystem",i.selectedSystem)("history",i.cacheRateData)}}function ne(e,t){if(1&e&&(m.TgZ(0,"div",88),m.TgZ(1,"div",89),m.YNc(2,ie,1,10,"app-stream-chart",90),m.qZA(),m.qZA()),2&e){var i=m.oxw(2);m.xp6(2),m.Q6J("ngIf",i.data.maxRate&&i.showRealTime)}}function oe(e,t){if(1&e&&m._UZ(0,"app-stream-chart",91),2&e){var i=m.oxw(3);m.Q6J("chartName",i.language.PACKET)("yAxixTitle",i.packetUnit)("data",i.data.packet)("time",i.data.sendTime)("windowLen",i.windowLen)("selectedFilter",i.selectedTime)("selectedRegion",i.selectedRegion)("selectedLocation",i.selectedLocation)("selectedSystem",i.selectedSystem)("history",i.cachePacketData)}}function ae(e,t){if(1&e&&(m.TgZ(0,"div",92),m.TgZ(1,"div",93),m.YNc(2,oe,1,10,"app-stream-chart",90),m.qZA(),m.qZA()),2&e){var i=m.oxw(2);m.xp6(2),m.Q6J("ngIf",i.data.packet&&i.showRealTime)}}function re(e,t){if(1&e){var i=m.EpF();m.ynx(0),m.TgZ(1,"app-ponport-chart",95),m.NdJ("valueChange",function(e){return m.CHM(i),m.oxw(3).clearChartContainer(e)}),m.qZA(),m.BQk()}if(2&e){var n=m.oxw().$implicit,o=m.oxw(2);m.xp6(1),m.Q6J("windowLen",n.windowLen)("selectedTime",o.selectedTime)("monitorId",n.monitorId)("Position",n.Position)("region",n.region)("location",n.location)("system",n.system)("ponPorts",n.port)("IsDuplicate",n.IsDuplicate)("startTime",n.startTime)("replay",n.replay)("locationUuid",n.locationUuid)("regionUuid",n.regionUuid)("systemUuid",n.systemUuid)}}function se(e,t){if(1&e&&(m.TgZ(0,"div",94),m.YNc(1,re,2,14,"ng-container",68),m.qZA()),2&e){var i=t.$implicit,n=m.oxw(2);m.xp6(1),m.Q6J("ngIf",n.fsView?"expandedView"==i.viewType:"shrinkView"==i.viewType)}}function ce(e,t){if(1&e){var i=m.EpF();m.TgZ(0,"section",43),m.TgZ(1,"div",44),m.TgZ(2,"div",45),m.TgZ(3,"div",46),m.TgZ(4,"div",47),m.TgZ(5,"div",48),m._uU(6),m.qZA(),m.TgZ(7,"span",49),m.NdJ("click",function(){return m.CHM(i),m.oxw().fullscreen("TPP_DOWN")}),m.qZA(),m.qZA(),m.TgZ(8,"h5",50),m._uU(9),m.qZA(),m.TgZ(10,"div",51),m.TgZ(11,"table",52),m.TgZ(12,"thead"),m.TgZ(13,"tr"),m.TgZ(14,"th"),m._uU(15),m.qZA(),m.TgZ(16,"th"),m._uU(17),m.qZA(),m.TgZ(18,"th"),m._uU(19),m.qZA(),m.TgZ(20,"th",53),m._uU(21),m.qZA(),m.TgZ(22,"th"),m._uU(23),m.qZA(),m.qZA(),m.qZA(),m.TgZ(24,"tbody"),m.YNc(25,Q,14,6,"tr",54),m.YNc(26,V,3,1,"tr",55),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(27,"div",56),m.TgZ(28,"div",47),m.TgZ(29,"div",48),m._uU(30),m.qZA(),m.TgZ(31,"span",57),m.NdJ("click",function(){return m.CHM(i),m.oxw().fullscreen("TPP_UP")}),m.qZA(),m.qZA(),m.TgZ(32,"h5",50),m._uU(33),m.qZA(),m.TgZ(34,"div",51),m.TgZ(35,"table",58),m.TgZ(36,"thead"),m.TgZ(37,"tr"),m.TgZ(38,"th"),m._uU(39),m.qZA(),m.TgZ(40,"th"),m._uU(41),m.qZA(),m.TgZ(42,"th"),m._uU(43),m.qZA(),m.TgZ(44,"th",53),m._uU(45),m.qZA(),m.TgZ(46,"th"),m._uU(47),m.qZA(),m.qZA(),m.qZA(),m.TgZ(48,"tbody"),m.YNc(49,X,14,6,"tr",54),m.YNc(50,z,3,1,"tr",55),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(51,"div",59),m.TgZ(52,"div",37),m.TgZ(53,"div",60),m.TgZ(54,"div",61),m.TgZ(55,"div",62),m.TgZ(56,"div",37),m.TgZ(57,"div",63),m.TgZ(58,"div",64),m.TgZ(59,"ng-select",65),m.NdJ("ngModelChange",function(e){return m.CHM(i),m.oxw().selectedTopLength=e})("change",function(){return m.CHM(i),m.oxw().changeTopLength()}),m.YNc(60,$,1,1,"ng-template",20),m.YNc(61,G,1,1,"ng-template",21),m.qZA(),m.qZA(),m.qZA(),m.TgZ(62,"div",66),m.TgZ(63,"div",67),m.YNc(64,B,2,1,"span",68),m.YNc(65,K,2,1,"span",68),m.TgZ(66,"span",69),m.NdJ("click",function(){return m.CHM(i),m.oxw().closeFullscreen()}),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(67,"div",70),m.TgZ(68,"table",71),m.TgZ(69,"thead"),m.TgZ(70,"tr"),m.TgZ(71,"th"),m._uU(72),m.qZA(),m.TgZ(73,"th"),m._uU(74),m.qZA(),m.TgZ(75,"th"),m._uU(76),m.qZA(),m.TgZ(77,"th"),m._uU(78),m.qZA(),m.TgZ(79,"th",53),m._uU(80),m.qZA(),m.TgZ(81,"th"),m._uU(82),m.qZA(),m.qZA(),m.qZA(),m.TgZ(83,"tbody"),m.YNc(84,ee,16,6,"tr",54),m.YNc(85,te,3,1,"tr",55),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(86,"div",45),m.TgZ(87,"div",72),m._UZ(88,"div",73),m.TgZ(89,"div",74),m.TgZ(90,"h5",50),m._uU(91),m.qZA(),m.qZA(),m.TgZ(92,"div",75),m.TgZ(93,"div",76),m.YNc(94,ne,3,1,"div",77),m.qZA(),m.TgZ(95,"div",78),m.YNc(96,ae,3,1,"div",79),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(97,"div",80),m.YNc(98,se,2,1,"div",81),m.qZA(),m.qZA(),m.qZA()}if(2&e){var n=m.oxw();m.xp6(2),m.Q6J("hidden",n.fsView),m.xp6(3),m.s9C("title",n.language.Top_PON_Ports_by_Downstream_Capacity),m.xp6(1),m.hij(" ",n.language.Top_PON_Ports_by_Downstream_Capacity," "),m.xp6(1),m.s9C("title",n.language.lossofpon_fullscreen_tip),m.xp6(2),m.hij(" ",n.language["Health_Real Time_Top PON ports"],""),m.xp6(6),m.Oqu(n.language.System),m.xp6(2),m.Oqu(n.language.Pon_Port),m.xp6(2),m.AsE("",n.language.region,"/",n.language.Location,""),m.xp6(2),m.Oqu(n.language.Value),m.xp6(2),m.hij("%",n.language.HUtilization,""),m.xp6(2),m.Q6J("ngForOf",n.TPPDownStreamData),m.xp6(1),m.Q6J("ngIf",0==n.TPPDownStreamData.length),m.xp6(3),m.s9C("title",n.language.Top_PON_Ports_by_Upstream_Capacity),m.xp6(1),m.hij(" ",n.language.Top_PON_Ports_by_Upstream_Capacity," "),m.xp6(1),m.s9C("title",n.language.lossofpon_fullscreen_tip),m.xp6(2),m.hij(" ",n.language["Health_Real Time_Top PON ports"],""),m.xp6(6),m.Oqu(n.language.System),m.xp6(2),m.Oqu(n.language.Pon_Port),m.xp6(2),m.AsE("",n.language.region,"/",n.language.Location,""),m.xp6(2),m.Oqu(n.language.Value),m.xp6(2),m.hij("%",n.language.HUtilization,""),m.xp6(2),m.Q6J("ngForOf",n.TPPUpStreamData),m.xp6(1),m.Q6J("ngIf",0==n.TPPUpStreamData.length),m.xp6(1),m.Q6J("hidden",!n.fsView),m.xp6(8),m.Q6J("items",n.topLengths)("multiple",!1)("ngModel",n.selectedTopLength)("ngModelOptions",m.DdM(48,F))("clearable",!1)("searchable",!1),m.xp6(5),m.Q6J("ngIf","TPP_UP"==n.fsName),m.xp6(1),m.Q6J("ngIf","TPP_DOWN"==n.fsName),m.xp6(1),m.s9C("title",n.language.lossofpon_fullscreen_close_tip),m.xp6(6),m.Oqu(n.language.System),m.xp6(2),m.Oqu(n.language.Pon_Port),m.xp6(2),m.Oqu(n.language.region),m.xp6(2),m.Oqu(n.language.Location),m.xp6(2),m.Oqu(n.language.Value),m.xp6(2),m.hij("% ",n.language.HUtilization,""),m.xp6(2),m.Q6J("ngForOf",n.TPPStreamData),m.xp6(1),m.Q6J("ngIf",0==n.TPPStreamData.length),m.xp6(1),m.Q6J("hidden",n.fsView),m.xp6(5),m.Oqu(n.language.HealthPONRealtimeRateDelay),m.xp6(3),m.Q6J("ngIf",n.data.maxRate.length||n.showRealTime),m.xp6(2),m.Q6J("ngIf",n.data.packet.length||n.showRealTime),m.xp6(2),m.Q6J("ngForOf",n.ponPortsChartList)}}function le(e,t){if(1&e){var i=m.EpF();m.TgZ(0,"div",96),m.TgZ(1,"h5",97),m._uU(2),m.qZA(),m.TgZ(3,"div"),m._uU(4),m.qZA(),m.TgZ(5,"button",98),m.NdJ("click",function(){return m.CHM(i),m.oxw().close()}),m._UZ(6,"span",99),m.qZA(),m.qZA(),m.TgZ(7,"div",100),m.TgZ(8,"button",101),m.NdJ("click",function(){return m.CHM(i),m.oxw().close()}),m._uU(9),m.qZA(),m.qZA()}if(2&e){var n=m.oxw();m.xp6(2),m.Oqu(n.modalTitle),m.xp6(2),m.hij(" ",n.modalInfo," "),m.xp6(5),m.hij(" ",n.language.Ok," ")}}a(65424)(l);var he=[{path:"",component:function(){var t=function(){function t(e,n,o,a,r,s,c,h,d,g,m,p){i(this,t),this.translateService=e,this.sso=n,this.webSocketService=o,this.NfaService=a,this.chRef=r,this.convertor=s,this.dialogService=c,this.router=h,this.titleService=d,this.healthService=g,this.httpClient=m,this.commonOrgService=p,this.showChart=!1,this.showChart1=!1,this.dtTrigger=new u.xQ,this.dtTrigger1=new u.xQ,this.tableOptions={searching:!1,lengthChange:!1,lengthMenu:[5],pageLength:5,ordering:!1,retrieve:!0,paging:!1,info:!1},this.up="Up",this.down="Down",this.fsView=!1,this.fsChartDetails="",this.errorMessage="",this.pageAvailable=!1,this.applyRebuild=!1,this.Highcharts=l,this.rate="",this.packet="",this.windowLen=5,this.ddoptions=[{id:1,name:"5 minutes"},{id:2,name:"10 minutes"}],this.selectedOption=1,this.selectedTime=1,this.showRealTime=!0,this.loading=!0,this.data={maxRate:[],packet:[]},this.rateUnit="bps",this.packetUnit="pps",this.cachePacketData={},this.cacheRateData={},this.healthNetWSRequestObj={orgId:"",monitorType:"NET",networkId:"",monitorId:"",graphType:"TRF,TPP",region:"",location:"",regionUuid:"",locationUuid:""},this.regionsDataArray=["All"],this.locationDataArray=["All"],this.systemDataArray=["All"],this.TPPOverallData={UpStream:[],DownStream:[]},this.TPPUpStreamData=[],this.TPPDownStreamData=[],this.topLengths=[{name:"Top 5 PON Ports",value:5},{name:"Top 10 PON Ports",value:10},{name:"Top 20 PON Ports",value:20},{name:"Top 30 PON Ports",value:30}],this.selectedTopLength=5,this.TPPStreamData=[],this.systemRealtimeChartData=[],this.isRebuild=!1,this.ponPortsChartList=[],this.errorEventName="error_ipfix_NET",this.hasScopeAccess=!1,this.tPPData={},this.connectionError=!1,this.connectionErrorInfo="",this.frTable=this.translateService.fr}return o(t,[{key:"ngOnInit",value:function(){var e=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t,e.titleService.setTitle("".concat(e.language["Real Time"]," - ").concat(e.language.PON," - ").concat(e.language.Health," - ").concat(e.language.Operations," - ").concat(e.language["Calix Cloud"]))}),this.titleService.setTitle("".concat(this.language["Real Time"]," - ").concat(this.language.PON," - ").concat(this.language.Health," - ").concat(this.language.Operations," - ").concat(this.language["Calix Cloud"]));var t=this;document.addEventListener("visibilitychange",function(){if(!document.hidden){var e=t.webSocketService.getHealthMonitorType(),i=t.webSocketService.getHealthCurrentMonitorInfo(e);if(i){if(i&&i.monitorId){var n={orgId:i.orgId,monitorType:i.monitorType,networkId:i.networkId,monitorId:i.monitorId,graphType:"TRF",replay:"true",region:i.region,location:i.location,startTime:i.startTime,endTime:(new Date).getTime(),regionUuid:i.regionUuid,locationUuid:i.locationUuid};"SYS"==i.monitorType&&(n.system=i.system,n.systemUuid=i.systemUuid),t.send(t.currentEventName,n)}t.webSocketService.healthListen("IPFIX_REPLAY")}}});var i=this.sso.getScopes();if(g.N.VALIDATE_SCOPE?i["cloud.rbac.coc.health.pon.realtime"]&&(this.hasScopeAccess=!0):this.hasScopeAccess=!0,this.hasScopeAccess)if(this.sso.setPageAccess(!0),this.webSocketConnectionError(),this.calculateSubscriptiontime(),this.healthService.isReport&&(this.healthService.previousUrl.includes("/uplink")||this.healthService.previousUrl.includes("/ont")))this.router.navigate(["/cco/health/pon-utilization/overview/basic"]);else{this.healthService.isReport=!1,this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t,e.up=e.language.Up,e.down=e.language.Down,setTimeout(function(){e.reDraw()},200)}),this.showModalInfo(),this.tableLanguageOptions(),this.chRef.detectChanges(),this.dtTrigger.next(),this.dtTrigger1.next(),this.getRtData(),this.orgId=this.sso.getOrgId(),this.orgid_tenantid=this.orgId+"_0",this.currentEventName="IPFIX_NET",this.regionsApiLoader(),this.healthNetWSRequestObj.orgId=this.orgId,this.healthNetWSRequestObj.networkId=this.orgid_tenantid,this.healthNetWSRequestObj.monitorId=this.orgid_tenantid;var n=this.webSocketService.getPonportsInfo();n.length>0&&(this.ponPortsChartList=Object.assign([],n));var o=this.webSocketService.getHealthMonitorType();if(o&&this.webSocketService.getHealthCurrentMonitorInfo(o)){var a=this.webSocketService.getHealthCurrentMonitorInfo(o);if(a&&a.monitorId){var r={orgId:a.orgId,monitorType:a.monitorType,networkId:a.networkId,monitorId:a.monitorId,graphType:"TRF",replay:"true",region:a.region,location:a.location,startTime:a.startTime,endTime:(new Date).getTime(),regionUuid:a.regionUuid,locationUuid:a.locationUuid};"REG"==a.monitorType&&(this.currentEventName="IPFIX_REG"),"LOC"==a.monitorType&&(this.currentEventName="IPFIX_LOC"),"SYS"==a.monitorType&&(this.currentEventName="IPFIX_SYS",r.system=a.system,r.systemUuid=a.systemUuid);var s=this.webSocketService.getFilterValues();return s&&(this.selectedOption=s.selectedOption,this.selectedTime=this.selectedOption,this.regionName=s.regionName,this.regionSelected=s.regionId,s.regionId?(this.loadLocationValue(""),setTimeout(function(){e.locationName=s.locationName,e.locationSelected=s.locationId,s.regionId&&s.locationId?(e.loadSystemValue(""),setTimeout(function(){e.systemName=s.SYS,e.systemSelected=s.systemId,s.systemId||(e.systemSelected="All")},500)):e.locationSelected="All"},500)):this.regionSelected="All"),this.errorEventName="error",this.currentEventName.split("_").forEach(function(t){e.errorEventName="IPFIX"===t?e.errorEventName+"_"+t.toLowerCase():e.errorEventName+"_"+t}),this.webSocketService.healthListen(this.currentEventName),this.webSocketService.healthListen(this.errorEventName),this.selectedOption=this.selectedOption?this.selectedOption:1,this.selectedTime=this.selectedTime?this.selectedTime:1,this.send(this.currentEventName,r),this.webSocketService.healthListen("IPFIX_REPLAY"),void this.webSocketService.setHealthMonitorType(this.currentEventName.split("_").pop())}}else this.webSocketService.connectWS$.subscribe(function(t){t&&!e.webSocketService.WebSocketServer.hasDisconnectedOnce&&(e.send("remove","IPFIX_NET"),e.webSocketService.healthListen(e.currentEventName),e.webSocketService.healthListen("error_ipfix_NET"),e.send(e.currentEventName,e.healthNetWSRequestObj))}),this.webSocketService.setHealthMonitorType("NET");setTimeout(function(){e.webSocketService.setHealthWindowLen(e.selectedOption)},500),this.webSocketService.setFilterValues(this.selectedTime,this.selectedOption,"selectedTime","selectedOption"),this.reConnectWebSocket()}else this.sso.setPageAccess(!1)}},{key:"send",value:function(e,t){this.webSocketService.healthEmit(e,t)}},{key:"applyFilter",value:function(){var e,t,i,n=this;this.rtSubscription&&this.rtSubscription.unsubscribe(),this.ratePacketStreamSubscription&&this.ratePacketStreamSubscription.unsubscribe();var o=this.webSocketService.getHealthMonitorType(),a=Object.assign({},this.webSocketService.healthConnectionTypes[o]);this.selectedTime=this.selectedOption;var r=this.ponPortsChartList.filter(function(e){return n.systemSelected&&"All"!==n.systemSelected?e.region===n.regionName&&e.location===n.locationName&&e.system===n.systemName:n.locationSelected&&"All"!==n.locationSelected?e.region===n.regionName&&e.location===n.locationName:n.regionSelected&&"All"!==n.regionSelected?e.region===n.regionName:void 0});this.ponPortsChartList=[],this.webSocketService.ponPortsList=[],this.ponPortsChartList.length>0&&this.send("remove","IPFIX_PORT"),setTimeout(function(){n.ponPortsChartList=Object.assign([],r)},500),this.currentEventName="IPFIX_NET",this.healthNetWSRequestObj.region="",this.healthNetWSRequestObj.location="",this.healthNetWSRequestObj.system="",this.healthNetWSRequestObj.regionUuid="",this.healthNetWSRequestObj.locationUuid="",this.healthNetWSRequestObj.systemUuid="",this.healthNetWSRequestObj.monitorType="NET",this.healthNetWSRequestObj.monitorId=this.orgid_tenantid,this.webSocketService.setFilterValues(this.selectedTime,this.selectedOption,"selectedTime","selectedOption"),this.regionSelected&&"All"!==this.regionSelected?(this.healthNetWSRequestObj.region=this.regionName?this.regionName:"",this.healthNetWSRequestObj.regionUuid=null!==(e=this.regionSelected)&&void 0!==e?e:"",this.webSocketService.setFilterValues(this.regionName,this.regionSelected,"regionName","regionId"),this.healthNetWSRequestObj.monitorType="REG",this.healthNetWSRequestObj.monitorId=this.regionName,this.currentEventName="IPFIX_REG"):this.webSocketService.deleteFilterValues("regionName","regionId"),this.locationSelected&&"All"!==this.locationSelected?(this.healthNetWSRequestObj.location=this.locationName?this.locationName:"",this.healthNetWSRequestObj.locationUuid=null!==(t=this.locationSelected)&&void 0!==t?t:"",this.webSocketService.setFilterValues(this.locationName,this.locationSelected,"locationName","locationId"),this.healthNetWSRequestObj.monitorType="LOC",this.healthNetWSRequestObj.monitorId=this.locationName,this.currentEventName="IPFIX_LOC"):this.webSocketService.deleteFilterValues("locationName","locationId"),this.systemSelected&&"All"!==this.systemSelected?(this.healthNetWSRequestObj.monitorType="SYS",this.healthNetWSRequestObj.monitorId=this.systemName,this.healthNetWSRequestObj.system=this.systemName,this.healthNetWSRequestObj.systemUuid=null!==(i=this.systemSelected)&&void 0!==i?i:"",this.webSocketService.setFilterValues(this.systemName,this.systemSelected,"systemName","systemId"),this.currentEventName="IPFIX_SYS"):this.webSocketService.deleteFilterValues("systemName","systemId"),void 0===o&&(this.webSocketService.setHealthMonitorType(this.healthNetWSRequestObj.monitorType),this.send(this.currentEventName,this.healthNetWSRequestObj)),o!==this.healthNetWSRequestObj.monitorType||o===this.healthNetWSRequestObj.monitorType&&a.monitorId!==this.healthNetWSRequestObj.monitorId||!this.isSameFilters(this.healthNetWSRequestObj,a)?(this.webSocketService.getHealthMonitorType()&&this.send("remove","IPFIX_"+this.webSocketService.getHealthMonitorType()),this.webSocketService.setHealthMonitorType(this.healthNetWSRequestObj.monitorType),this.send(this.currentEventName,this.healthNetWSRequestObj)):(a.endTime=(new Date).getTime(),a.replay="true",this.send(this.currentEventName,a),this.webSocketService.healthListen("IPFIX_REPLAY")),this.webSocketService.setHealthWindowLen(this.selectedOption),this.errorEventName="error",this.currentEventName.split("_").forEach(function(e){n.errorEventName="IPFIX"===e?n.errorEventName+"_"+e.toLowerCase():n.errorEventName+"_"+e}),this.selectedRegion="IPFIX_REG"==this.currentEventName?this.regionSelected:"",this.selectedLocation="IPFIX_LOC"==this.currentEventName?this.locationSelected:"",this.selectedSystem="IPFIX_SYS"==this.currentEventName?this.systemSelected:"",this.webSocketService.healthListen(this.currentEventName),this.webSocketService.healthListen(this.errorEventName),this.applyRebuild&&(this.isRebuild=!0),this.getRtData(),setTimeout(function(){n.loading=!1},15e3)}},{key:"isSameFilters",value:function(e,t){return e.regionUuid==t.regionUuid&&e.locationUuid==t.locationUuid&&e.systemUuid==t.systemUuid}},{key:"clearFilter",value:function(){"All"!==this.regionSelected&&(this.isRebuild=!0),this.selectedOption=1,this.selectedTime=1,this.regionSelected="All",this.locationSelected="All",this.systemSelected="All",this.locationDataArray=["All"],this.systemDataArray=["All"],this.rtSubscription&&this.rtSubscription.unsubscribe(),this.ratePacketStreamSubscription&&this.ratePacketStreamSubscription.unsubscribe(),this.webSocketService.filterValues={},this.webSocketService.filterValues.selectedTime=1,this.webSocketService.filterValues.selectedOption=1,this.applyFilter()}},{key:"fullscreen",value:function(e){this.fsView=!0,this.fsName=e,this.makeTPPCurrentData()}},{key:"closeFullscreen",value:function(){this.selectedTopLength=5,this.fsView=!1,this.fsName="",this.ponPortsChartList.forEach(function(e){e.viewType="shrinkView"}),this.TPPUpStreamData=this.TPPOverallData.UpStream.slice(0,5),this.TPPDownStreamData=this.TPPOverallData.DownStream.slice(0,5)}},{key:"changeTopLength",value:function(){this.makeTPPCurrentData()}},{key:"makeTPPCurrentData",value:function(){this.TPPStreamData=("TPP_DOWN"==this.fsName?this.TPPOverallData.DownStream:this.TPPOverallData.UpStream).slice(0,this.selectedTopLength?this.selectedTopLength:5)}},{key:"regionsApiLoader",value:function(){var t=this;this.regionSelected="All",this.locationSelected="All",this.systemSelected="All",this.regionsSubject=this.NfaService.GetRegions().subscribe(function(i){t.regionsDataArray=["All"];var n={};i.forEach(function(e){n[e.name]=(n[e.name]||0)+1}),i.forEach(function(e,t){var i;e.regionName=e.name,n[e.name]>1&&(e.name=e.name+" ("+(null===(i=e.fqn)||void 0===i?void 0:i.split("=")[1].split(",")[0])+")")}),i.sort(function(e,t){return(e.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})}),t.regionsDataArray=[].concat(e(t.regionsDataArray),e(i))},function(e){})}},{key:"loadLocationValue",value:function(t){var i=this,n=this.regionSelected;this.locationSelected="All",this.systemSelected="All",this.locationDataArray=["All"],this.regionSelected&&"All"!=this.regionSelected&&(this.locationsSubject=this.NfaService.GetLocations(n).subscribe(function(t){i.locationDataArray=[].concat(e(i.locationDataArray),e(t))},function(e){})),this.regionsDataArray.forEach(function(e){e.id==i.regionSelected&&(i.regionName=e.regionName)}),"All"==this.regionSelected&&(this.regionName=null,this.locationName=null,this.systemName=null,this.regionSelected="All",this.locationSelected="All",this.systemSelected="All",this.locationDataArray=["All"],this.systemDataArray=["All"]),this.applyRebuild=!0}},{key:"loadSystemValue",value:function(t){var i=this;this.systemSelected="All",this.systemDataArray=["All"],this.locationSelected&&this.regionSelected&&"All"!=this.locationSelected&&(this.systemsSubject=this.NfaService.GetSystems(this.regionSelected,this.locationSelected,"pon").subscribe(function(t){i.systemDataArray=[].concat(e(i.systemDataArray),e(t))},function(e){})),this.locationDataArray.forEach(function(e){e.id==i.locationSelected&&(i.locationName=e.name)}),"All"==this.locationSelected&&(this.locationName=null,this.systemName=null,this.systemSelected="All",this.systemDataArray=["All"]),this.applyRebuild=!0}},{key:"selectSystem",value:function(e){var t=this;this.systemDataArray.forEach(function(e){e.uuid==t.systemSelected&&(t.systemName=e.name)}),"All"==this.systemSelected&&(this.systemName=null),this.applyRebuild=!0}},{key:"closeStreamChartscreen",value:function(e,t){var i=this.systemRealtimeChartData.findIndex(function(e){return e.index===t});i>-1&&this.systemRealtimeChartData.splice(i,1),0==this.systemRealtimeChartData.length&&(this.showChart=!1)}},{key:"tableLanguageOptions",value:function(){sessionStorage.getItem("defaultLanguage")&&"fr"==sessionStorage.getItem("defaultLanguage")?this.tableOptions.language=this.frTable:delete this.tableOptions.language}},{key:"reDraw",value:function(){}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe(),this.dtTrigger.unsubscribe(),this.dtTrigger1.unsubscribe(),this.rtSubscription&&this.rtSubscription.unsubscribe(),this.ratePacketStreamSubscription&&this.ratePacketStreamSubscription.unsubscribe(),this.cacheDataSubscription&&this.cacheDataSubscription.unsubscribe(),this.webSocketService.clearHealthReplayData(),window.location.pathname.includes("cco/health")||this.webSocketService.clearHealthInfo(),this.interval&&(clearInterval(this.interval),this.interval=null),this.reConnectSubscription&&this.reConnectSubscription.unsubscribe(),this.connectionErSubscription&&this.connectionErSubscription.unsubscribe(),this.webSocketService.shouldReflow=!1}},{key:"checkCurrentMonitorTypeData",value:function(e,t){return!e||!t||(e.confData.system=e.confData.system?e.confData.system:"",t.system=t.system?t.system:"",e.confData.region===t.region&&e.confData.location===t.location&&e.confData.system===t.system)}},{key:"getRtData",value:function(){var e=this;this.rtSubscription&&this.rtSubscription.unsubscribe(),this.ratePacketStreamSubscription&&this.ratePacketStreamSubscription.unsubscribe(),this.cacheDataSubscription&&this.cacheDataSubscription.unsubscribe(),this.cacheDataSubscription=this.webSocketService.healthCacheData$.subscribe(function(t){console.log("cache data subscription",t),e.cachePacketData=t.packet,e.cacheRateData=t.rate,e.connectionError=!1}),this.ratePacketStreamSubscription=this.webSocketService.healthRatePacketStreamData$.subscribe(function(t){console.log("subscription data ".concat(new Date),t),e.isRebuild&&(e.clearTPPdata(),e.isRebuild=!1,e.applyRebuild=!1,e.streamChild.forEach(function(e){e.removePrevious()})),e.showRealTime=!0;var i=e.webSocketService.getHealthMonitorType(),n=e.webSocketService.getHealthCurrentMonitorInfo(i);t.monitorType&&t.monitorType.includes(i)&&e.checkCurrentMonitorTypeData(t,n)&&"TRF"===t.graphType&&(e.loading=!1,e.connectionError=!1,e.data=t,e.lastSubscriptionTime=(new Date).getTime(),e.showRealTime=!0)}),setTimeout(function(){e.rtSubscription=e.webSocketService.healthRtData$.subscribe(function(t){var i=e.webSocketService.getHealthMonitorType(),n=e.webSocketService.getHealthCurrentMonitorInfo(i);t.monitorType&&t.monitorType.includes(i)&&e.checkCurrentMonitorTypeData(t,n)&&"TPP"==t.graphType&&(e.loading=!1,e.connectionError=!1,e.tPPData=t,e.makeTPPEvents(t))})},800)}},{key:"dataSplit",value:function(e){return e?(e.map(function(t,i){e[i].system=e[i].system.split("@")[1]?e[i].system.split("@")[1]:e[i].system}),e):[]}},{key:"makeTPPEvents",value:function(e){if(e){this.TPPOverallData.DownStream=e.downData.length>0?e.downData:[],this.TPPOverallData.UpStream=e.upData.length>0?e.upData:[];var t=this.selectedTopLength?this.selectedTopLength:5;this.TPPUpStreamData=this.TPPOverallData.UpStream.slice(0,t),this.TPPDownStreamData=this.TPPOverallData.DownStream.slice(0,t),this.fsView&&this.makeTPPCurrentData()}}},{key:"clearTPPdata",value:function(){this.TPPOverallData.DownStream=[],this.TPPOverallData.UpStream=[],this.TPPUpStreamData=this.TPPOverallData.DownStream,this.TPPDownStreamData=this.TPPOverallData.UpStream}},{key:"rerender",value:function(){var e=this;this.dtElements.forEach(function(t){t.dtInstance.then(function(t){t.destroy(),e.dtTrigger.next()})})}},{key:"bitsToSize",value:function(e,t){var i=e,n=["bps","Kbps","Mbps","Gbps","Tbps"];if(0==i)return"0 bps";var o=Math.floor(Math.log(i)/Math.log(1e3));return t?Math.round(i/Math.pow(1e3,o))+" "+n[o]:l.numberFormat(Math.abs(i/Math.pow(1e3,o)),2)+" "+n[o]}},{key:"showModalInfo",value:function(){var e=this;this.webSocketService.showModalInfo$.subscribe(function(t){e.router.url.includes("/cco/health/pon-utilization/realtime")&&(e.modalTitle=e.language["Internet Disconnected"],e.modalInfo=e.language["Please checking the network cables, modem, and router"],e.modalRef=e.dialogService.open(e.showInfoModal,{size:"lg",centered:!0,windowClass:"custom-modal",backdrop:"static",keyboard:!1}))})}},{key:"close",value:function(){this.modalRef.close(),window.location.reload()}},{key:"calculateDownPercentage",value:function(e){return(e.ifName.includes("gp")?e.value/2488e6*100:e.value/1e10*100).toFixed(2)}},{key:"calculateUpPercentage",value:function(e){return(e.ifName.includes("gp")?e.value/1244e6*100:e.value/1e10*100).toFixed(2)}},{key:"ponPortsChart",value:function(t,i){var n=this;this.httpClient.get("".concat(g.N.API_BASE_URL,"nfa/systems/details?offset=0&limit=100&name=").concat(t.system,"&exactNameMatch=true")).subscribe(function(o){var a=o.devices.find(function(e){return e.name===t.system}),r=!1,s=0;n.ponPortsChartList.length>0&&n.ponPortsChartList.forEach(function(e){e.monitorId===t.ifName&&e.region===t.region&&e.location===t.location&&(e.viewType=i,r=!0,s+=1)}),r||(n.ponPortsChartList.push({monitorId:t.ifName,region:t.region,location:t.location,system:t.system,port:t.ifName,windowLen:n.windowLen,IsDuplicate:r,Position:s,startTime:null,replay:!1,viewType:i,regionUuid:a.regionuuid,locationUuid:a.locationuuid,systemUuid:a.uuid}),n.ponPortsChartList=e(n.ponPortsChartList)),setTimeout(function(){document.getElementById("ponports-"+t.ifName).scrollIntoView({behavior:"smooth"})},500)},function(e){n.errorMessage=n.errorHandler(e)})}},{key:"errorHandler",value:function(e){return this.scrollTop(),this.errorMessage=e.error?e.error.errorDesc?e.error.errorDesc:500==e.error.status?"Internal Server Error":"Unknown Error"==e.error.statusText&&0==e.error.status?"An unknown error has occurred. Refresh the page to try again":e.error.status&&401==e.error.status?"User Unauthorized":e.error.message?e.error.message:e.error:this.commonOrgService.pageErrorHandle(e),this.errorMessage}},{key:"clearChartContainer",value:function(e){var t;(t=this.ponPortsChartList.findIndex(function(t){return t.monitorId===e.monitorId&&t.region===e.region&&t.location===e.location}))>-1&&this.ponPortsChartList.splice(t,1),(t=this.webSocketService.ponPortsList.findIndex(function(t){return t.monitorId===e.monitorId&&t.region===e.region&&t.location===e.location}))>-1&&this.webSocketService.ponPortsList.splice(t,1)}},{key:"calculateSubscriptiontime",value:function(){var e=this;this.interval=setInterval(function(){(new Date).getTime()-e.lastSubscriptionTime>=3e4&&(e.data.maxRate=[0,0],e.data.packet=[0,0],e.TPPUpStreamData=[],e.TPPDownStreamData=[],e.TPPOverallData.DownStream=[],e.TPPOverallData.UpStream=[],e.tPPData&&(e.tPPData.downData=[],e.tPPData.upData=[],e.webSocketService.healthRtData$.next(e.tPPData)))},15e3)}},{key:"webSocketConnectionError",value:function(){var e=this;this.connectionErSubscription&&this.connectionErSubscription.unsubscribe(),this.webSocketService.wsConnectionError$.subscribe(function(t){t&&!0===t&&(e.loading=!1,e.connectionError=!0,e.connectionErrorInfo="Web Socket connection failed")}),this.webSocketService.healthWSNoResponse$.subscribe(function(t){t&&!0===t.isError&&t.type===e.errorEventName&&(e.loading=!1,e.connectionError=!0,e.connectionErrorInfo="No Data Available")})}},{key:"closeAlert",value:function(){this.connectionError=!1,this.connectionErrorInfo="",this.errorMessage=""}},{key:"reConnectWebSocket",value:function(){var e=this;this.reConnectSubscription&&this.reConnectSubscription.unsubscribe(),this.webSocketService.connectWS$.subscribe(function(t){if(t&&e.webSocketService.WebSocketServer.hasDisconnectedOnce){e.webSocketService.healthListen(e.currentEventName),e.webSocketService.healthListen(e.errorEventName),e.webSocketService.healthListen("IPFIX_REPLAY"),e.send(e.currentEventName,e.healthNetWSRequestObj);var i=e.webSocketService.getHealthMonitorType(),n=e.webSocketService.getHealthCurrentMonitorInfo(i);if(n&&n&&n.monitorId){var o={orgId:n.orgId,monitorType:n.monitorType,networkId:n.networkId,monitorId:n.monitorId,graphType:"TRF",replay:"true",region:n.region,location:n.location,startTime:n.startTime,endTime:(new Date).getTime(),regionUuid:n.regionUuid,locationUuid:n.locationUuid};"SYS"==n.monitorType&&(o.system=n.system,o.systemUuid=n.systemUuid),e.send(e.currentEventName,o)}e.getRtData()}})}},{key:"scrollTop",value:function(){window.scroll({top:0,left:0,behavior:"smooth"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m.Y36(p.s),m.Y36(f.t6),m.Y36(b.i),m.Y36(v.w),m.Y36(m.sBO),m.Y36(S.R),m.Y36(T.FF),m.Y36(c.F0),m.Y36(y.Dx),m.Y36(w.z),m.Y36(Z.eN),m.Y36(P.v))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-realtime"]],viewQuery:function(e,t){var i;(1&e&&(m.Gf(N,7),m.Gf(h.G,5),m.Gf(d.Q,5)),2&e)&&(m.iGM(i=m.CRH())&&(t.showInfoModal=i.first),m.iGM(i=m.CRH())&&(t.dtElements=i),m.iGM(i=m.CRH())&&(t.streamChild=i))},decls:7,vars:5,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","container px-0","id","pon-Real-Time-filter",4,"ngIf"],["class","w-100 alert alert-danger fade show",4,"ngIf"],["class","row",4,"ngIf"],["class","mt-3",4,"ngIf"],["class","col-md-12"],["showInfoModal",""],["role","alert",1,"alert","alert-warning"],["id","pon-Real-Time-filter",1,"container","px-0"],[1,"filter-elemnts"],[1,"row","mb-1"],[1,"col-12","col-md-12","p-0"],[1,"current-issue-menu-container"],[1,"current-issue-menu-item","mt-4","col-12","col-sm-6","col-md-3","col-lg-3"],["for","Name",1,"col-form-label","select-font"],["id","current-issues-interval",1,"w-100"],[3,"searchable","placeholder","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","current-issues-region",1,"w-100"],["bindValue","id","bindLabel","name",1,"selectboxwidth",3,"ngModel","items","ngModelOptions","clearable","searchable","placeholder","ngModelChange"],["ng-label-tmp",""],["ng-option-tmp",""],["id","current-issues-location",1,"w-100"],["bindValue","id","bindLabel","name",1,"selectboxwidth",3,"ngModel","items","placeholder","ngModelOptions","clearable","searchable","ngModelChange"],["id","current-issues-System",1,"custom-selectbox","w-100"],["bindValue","uuid","bindLabel","name",1,"selectboxwidth",3,"ngModel","items","placeholder","ngModelOptions","clearable","searchable","ngModelChange"],[1,"col-12","col-md-12","text-left","mt-4"],[1,"d-inline-flex","mr-3"],["type","button",1,"btn-default","primary",3,"click"],[1,"d-inline-flex"],["type","button","id","#",1,"btn-default","btn-dft",3,"click"],[3,"value"],[1,"text-truncate",3,"title"],[1,"w-100","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close","mt-10",3,"click"],[1,"row"],["class","loader",4,"ngIf"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"mt-3"],[1,"container"],[1,"row",3,"hidden"],["id","pon-Real-Time-Downstream-Capacity",1,"col-sm-12","col-md-12","col-lg-6","col-xl-6"],[1,"cco-secondary-title","border-bottom","text-sm-ellipse"],[1,"overflw-title",3,"title"],["data-toggle","tooltip","id","open-fullscreen-tppdown",1,"top5-fullscreen","pointer","pull-right","expand-icon",3,"title","click"],[1,"heading-subtitle","my-2"],[1,"cco-health-table","overflow-auto"],[1,"table","table-hover","table-striped","w-100"],[1,"sorting-th-custom","sorting-th-alt"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["id","pon-Real-Time-Upstream-Capacity",1,"col-sm-12","col-md-12","col-lg-6","col-xl-6"],["data-toggle","tooltip","id","open-fullscreen-tpp-up",1,"top5-fullscreen","pointer","pull-right","expand-icon",3,"title","click"],[1,"table","table","table-hover","table-striped","w-100"],[1,"bg-light","h-auto",3,"hidden"],[1,"col-md-12","col-12"],[1,"card","h-auto"],[1,"board_head"],[1,"col-sm-12","col-md-12","col-lg-3","col-xl-3"],[1,"orange-text-wrapper","mt-2","pl-2"],["id","usage_criteria","bindLabel","name","bindValue","value","placeholder","",1,"realtime-custom-select",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],[1,"col-sm-12","col-md-12","col-lg-9","col-xl-9"],[1,"cco-secondary-title","mx-1"],[4,"ngIf"],["data-toggle","tooltip","id","close-fullscreen-top-endpoints",1,"top5-fullscreen","pointer","pull-right","mr-3","expand-inverted-icon","mt-2",3,"title","click"],[1,"card-body","row","board_body","no-gutters","overflow-auto","cco-health-table"],[1,"table","table-striped","row-border","hover","w-100"],[1,"col-md-12","mt-2"],[1,"cco-secondary-title","border-bottom"],[1,"w-100"],[1,"d-flex","justify-content-between","md-block"],[1,"col-12","col-md-12","pr-0","pl-0","col-lg-6","mpb-3"],["id","health-network-realtime-rate","class","card m-10",4,"ngIf"],[1,"col-12","col-md-12","pr-0","col-lg-6"],["id","health-network-realtime-packet","class","card m-10",4,"ngIf"],[1,"row","mt-5"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"test"],[1,"mx-2"],[1,"primary","fas","fa-plus",3,"click"],[1,"text-center"],["colspan","5"],["colspan","6"],["id","health-network-realtime-rate",1,"card","m-10"],["id","ngx-stream-path-chart-rate",1,""],[3,"chartName","yAxixTitle","data","time","windowLen","selectedFilter","selectedRegion","selectedLocation","selectedSystem","history",4,"ngIf"],[3,"chartName","yAxixTitle","data","time","windowLen","selectedFilter","selectedRegion","selectedLocation","selectedSystem","history"],["id","health-network-realtime-packet",1,"card","m-10"],["id","ngx-stream-path-chart-packet",1,""],[1,"col-md-12"],[3,"windowLen","selectedTime","monitorId","Position","region","location","system","ponPorts","IsDuplicate","startTime","replay","locationUuid","regionUuid","systemUuid","valueChange"],[1,"modal-header","d-block"],["id","showInfoModal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","add-device-model"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3","px-3",3,"click"]],template:function(e,t){1&e&&(m.YNc(0,C,2,1,"div",0),m.YNc(1,W,39,31,"div",1),m.YNc(2,Y,7,1,"div",2),m.YNc(3,H,2,1,"div",3),m.YNc(4,ce,99,49,"section",4),m.YNc(5,le,10,3,"ng-template",5,6,m.W1O)),2&e&&(m.Q6J("ngIf",!t.hasScopeAccess),m.xp6(1),m.Q6J("ngIf",t.hasScopeAccess),m.xp6(1),m.Q6J("ngIf",t.errorMessage),m.xp6(1),m.Q6J("ngIf",t.hasScopeAccess),m.xp6(1),m.Q6J("ngIf",t.hasScopeAccess))},directives:[r.O5,s.w9,x.JJ,x.On,r.sg,s.bb,s.Z2,s.xv,d.Q,I],styles:['@charset "UTF-8";.health-pon-menu-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:wrap;justify-content:space-between;align-items:center}.health-pon-menu-item[_ngcontent-%COMP%]{flex-grow:1;border-left:3px solid #cdcdcd}.health-pon-menu-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600}.health-pon-menu-item[_ngcontent-%COMP%]   .menu-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.health-pon-menu-item[_ngcontent-%COMP%]   .red[_ngcontent-%COMP%]{color:#ff3600}.health-pon-menu-item[_ngcontent-%COMP%]   .orange[_ngcontent-%COMP%]{color:#fc7235}.health-pon-menu-item[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]{color:#72b4ff}.health-pon-menu-item[_ngcontent-%COMP%]   .yellow[_ngcontent-%COMP%]{color:#f3b426}.health-pon-menu-item[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{color:#82bf00}.btn-secondary[_ngcontent-%COMP%]{color:#5f6165!important;background-color:#f8f8fa!important;border-color:#f8f8fa!important;padding:3px \\200b 10px}.all-icon[_ngcontent-%COMP%]{font-size:10px;color:#9c9c9c;line-height:31px}.undo-icon[_ngcontent-%COMP%]{background-color:#f8f8fa;padding:3px;color:#9e9e9e;border-radius:15px;margin:2px;font-size:17px;cursor:pointer;width:30px;height:30px;text-align:center}.current-issue-menu-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;aling-items:center;margin:0;justify-self:start}.current-issue-menu-item[_ngcontent-%COMP%]{flex-grow:0;width:16%}.subscriber-trends-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.subscriber-trends-item[_ngcontent-%COMP%]{flex-grow:1;width:calc(100% / 3)}.subscriber-trends-item[_ngcontent-%COMP%] + .subscriber-trends-item[_ngcontent-%COMP%]{margin-left:5%}.cco-health-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:none}.cco-health-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .test[_ngcontent-%COMP%]{display:block;font-size:13px;cursor:pointer;float:right}.cco-secondary-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}@media screen and (max-width: 767px){.subscriber-trends-wrapper[_ngcontent-%COMP%]{display:block}.subscriber-trends-item[_ngcontent-%COMP%]{width:100%}.subscriber-trends-item[_ngcontent-%COMP%] + .subscriber-trends-item[_ngcontent-%COMP%]{margin-left:0%!important}.md-block[_ngcontent-%COMP%]{display:block!important}.mpb-3[_ngcontent-%COMP%]{padding-bottom:15px}}@media screen and (min-width: 768px) and (max-width: 1140px){.subscriber-trends-wrapper[_ngcontent-%COMP%]{display:block}.subscriber-trends-item[_ngcontent-%COMP%]{width:100%}.subscriber-trends-item[_ngcontent-%COMP%] + .subscriber-trends-item[_ngcontent-%COMP%]{margin-left:0%!important}.md-block[_ngcontent-%COMP%]{display:block!important}.mpb-3[_ngcontent-%COMP%]{padding-bottom:15px}}.expand-icon[_ngcontent-%COMP%]{background-color:#ebeaef;color:#ebeaef;width:25px;height:25px;border-radius:20px;font-size:1px;text-align:center;line-height:24px;font-weight:normal;justify-content:center;background-image:url(ic_expand_grey.a00ec25dcedb0cff0b8c.svg);background-position:50%;background-repeat:no-repeat}.expand-inverted-icon[_ngcontent-%COMP%]{background-color:#ebeaef;color:#ebeaef;width:25px;height:25px;border-radius:20px;font-size:1px;text-align:center;line-height:24px;font-weight:normal;justify-content:center;background-image:url(ic_expand_inverted_grey.044960530517ee37a1a9.svg);background-position:50%;background-repeat:no-repeat}.text-sm-ellipse[_ngcontent-%COMP%]{position:relative}.text-sm-ellipse[_ngcontent-%COMP%]   .overflw-title[_ngcontent-%COMP%]{padding-right:30px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.text-sm-ellipse[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0px}.sorting-th-alt[_ngcontent-%COMP%]:after{bottom:8px!important;right:auto!important;margin-left:6px;height:16px!important}']}),t}()}],ue=function(){var e=o(function e(){i(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[c.Bz.forChild(he)],c.Bz]}),e}(),de=a(48292),ge=function(){var e=o(function e(){i(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[r.ez,s.A0,ue,h.T,de.m,x.u5]]}),e}()},48292:function(e,t,n){n.d(t,{m:function(){return p}});var a,r=n(38583),s=n(3679),c=n(18638),l=n(25317),h=n(23830),u=n(86640),d=n(94555),g=n(23771),m=n(37716),p=((a=o(function e(){i(this,e)})).\u0275fac=function(e){return new(e||a)},a.\u0275mod=m.oAB({type:a}),a.\u0275inj=m.cJS({imports:[[r.ez,u.A0,s.u5,c._8,l.l,h.o,d.kx,g.T]]}),a)}}])}();