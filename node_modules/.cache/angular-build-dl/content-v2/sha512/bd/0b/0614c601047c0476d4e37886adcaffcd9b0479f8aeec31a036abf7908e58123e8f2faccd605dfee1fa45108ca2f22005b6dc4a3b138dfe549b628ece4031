"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[1920],{51920:function(e,t,i){i.r(t),i.d(t,{SupportDeviceModule:function(){return vt}});var s=i(38583),n=i(65681),a=i(39895),r=i(23771),l=i(79765),o=i(23815),d=i.n(o),c=i(37716),h=i(7450),m=i(38048),g=i(20723),u=i(4030),v=i(94802),p=i(25193),f=i(5243),D=i(39075),M=i(4350),I=i(86640),x=i(3679);function b(e,t){if(1&e&&(c.TgZ(0,"td"),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(null!=e.index["Address-source"]?e.index["Address-source"].toUpperCase():"--")}}function T(e,t){if(1&e&&(c.TgZ(0,"td",14),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.hij(" ",null!=e.index["Address-source"]?e.index["Address-source"]:"--","")}}function Z(e,t){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"th",7),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(2),c.Oqu(e.language.SSID),c.xp6(2),c.hij("",null!=e.index.SSID?e.index.SSID:"--"," ")}}function _(e,t){1&e&&(c.TgZ(0,"span"),c._UZ(1,"img",16),c.qZA())}function A(e,t){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"th",7),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.TgZ(5,"span",15),c.YNc(6,_,2,0,"span",9),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(2),c.Oqu(e.language.Mode),c.xp6(2),c.hij("",null!=e.index.Mode&&""!=e.index.Mode?"802."+e.index.Mode:"--"," "),c.xp6(1),c.s9C("title",e.language.Issue_Reason4),c.xp6(1),c.Q6J("ngIf","rmode"==e.totalsymbol(e.index.MACAddress,"rmode"))}}function S(e,t){1&e&&(c.TgZ(0,"span"),c._uU(1," ("),c.qZA())}function y(e,t){if(1&e&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(e.selectedDevice.AccessPoint)}}function w(e,t){1&e&&(c.TgZ(0,"span"),c._uU(1,") "),c.qZA())}function C(e,t){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"th",7),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(2),c.Oqu(e.language.Band),c.xp6(2),c.Oqu(null!=e.index.Band?e.index.Band+"GHz":"--")}}function O(e,t){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"th",7),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(2),c.Oqu(e.language.Channel),c.xp6(2),c.Oqu(null!=e.index["Channel-number"]?e.index["Channel-number"]:"--")}}let q=(()=>{class e{constructor(e,t,i){var s;this.translateService=e,this.ssoAuthService=t,this.deviceService=i,this.index={},this.deviceData=[],this.station_mac_addr=null===(s=null==history?void 0:history.state)||void 0===s?void 0:s.stationMac}ngOnInit(){this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e}),null!=this.index["Lease-time-expiry"]&&""!=this.index["Lease-time-expiry"]&&"Unknown"!=this.index["Lease-time-expiry"]&&this.deviceReleaseDatecal(this.index["Lease-time-expiry"])}addZero(e){return e<10&&(e="0"+e),e}deviceReleaseDatecal(e){let t,i,s;var n;if(13==e.toString().length){let t=this.currentTime;n=(new Date(e).getTime()-t)/1e3,new Date(e).getSeconds(),n<0&&(n*=-1)}else n=e/1e3;t=Math.floor(n/86400),n-=3600*t*24,i=Math.floor(n/3600),n-=3600*i,s=Math.floor(n/60),n-=60*s,n=Math.floor(n),this.remainingdate=0!=t?t+"d "+i+"h "+s+"m "+n+"s ":i+"h "+s+"m "+n+"s "}getdetails(){this.orgId=this.ssoAuthService.getOrgId(),this.deviceData=JSON.parse(sessionStorage.getItem(`${this.ssoAuthService.getTabId()}calix.deviceData`)),this.deviceService.getDeviceDetails(this.orgId,this.deviceData[this.index].serialNumber,this.deviceData[this.index].macAddress).subscribe(e=>{this.deviceDetail=e})}ngOnDestroy(){this.languageSubject.unsubscribe()}totalsymbol(e,t){if(!this.rmode)return!1;for(var i of this.rmode)if(i.serialNumber==e&&i.warning==t)switch(i.warning){case"ssR":if("ssR"==t)return"ssR";case"dhyRW":if("dhyRW"==t)return"dhyRW";case"rmode":if("rmode"==t)return"rmode";case"LES":if("LES"==t)return"LES";default:return""}}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(h.s),c.Y36(m.t6),c.Y36(g.U))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-device"]],inputs:{index:"index",currentTime:"currentTime",rmode:"rmode",selectedDevice:"selectedDevice"},decls:76,vars:32,consts:[[1,"row"],[1,"col-md-6"],[1,"row","mr-3"],[1,"col-md-12","border-bottom","px-0"],["id","deviceDetails",1,"user-name.mb-0","ccl-Secondary-title"],[1,"col-md-12","support-key-value","px-0"],["id","Device-Details-list",1,""],["scope","row"],[3,"ngClass"],[4,"ngIf"],["class","text-transform-cap",4,"ngIf"],[1,"row","ml-3"],["id","Connectivity-Status",1,"user-name.mb-0","ccl-Secondary-title"],["id","Device-Details-Connection",1,""],[1,"text-transform-cap"],["tabindex","0","data-toggle","tooltip",1,"d-inline-block",3,"title"],["src","assets/img/outline-warning-orange.svg"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c._uU(5),c.qZA(),c.qZA(),c.TgZ(6,"div",5),c.TgZ(7,"table",6),c.TgZ(8,"tbody"),c.TgZ(9,"tr"),c.TgZ(10,"th",7),c._uU(11),c.qZA(),c.TgZ(12,"td",8),c._uU(13),c.qZA(),c.qZA(),c.TgZ(14,"tr"),c.TgZ(15,"th",7),c._uU(16),c.qZA(),c.TgZ(17,"td"),c._uU(18),c.qZA(),c.qZA(),c.TgZ(19,"tr"),c.TgZ(20,"th",7),c._uU(21),c.qZA(),c.YNc(22,b,2,1,"td",9),c.YNc(23,T,2,1,"td",10),c.qZA(),c.TgZ(24,"tr"),c.TgZ(25,"th",7),c._uU(26),c.qZA(),c.TgZ(27,"td"),c._uU(28),c.qZA(),c.qZA(),c.TgZ(29,"tr"),c.TgZ(30,"th",7),c._uU(31),c.qZA(),c.TgZ(32,"td"),c._uU(33),c.qZA(),c.qZA(),c.TgZ(34,"tr"),c.TgZ(35,"th",7),c._uU(36),c.qZA(),c.TgZ(37,"td"),c._uU(38),c.qZA(),c.qZA(),c.TgZ(39,"tr"),c.TgZ(40,"th",7),c._uU(41),c.qZA(),c.TgZ(42,"td"),c._uU(43),c.qZA(),c.qZA(),c.TgZ(44,"tr"),c.TgZ(45,"th",7),c._uU(46),c.qZA(),c.TgZ(47,"td"),c._uU(48),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(49,"div",1),c.TgZ(50,"div",11),c.TgZ(51,"div",3),c.TgZ(52,"div",12),c._uU(53),c.qZA(),c.qZA(),c.TgZ(54,"div",5),c.TgZ(55,"table",13),c.TgZ(56,"tbody"),c.TgZ(57,"tr"),c.TgZ(58,"th",7),c._uU(59),c.qZA(),c.TgZ(60,"td"),c._uU(61),c.qZA(),c.qZA(),c.YNc(62,Z,5,2,"tr",9),c.YNc(63,A,7,4,"tr",9),c.TgZ(64,"tr"),c.TgZ(65,"th",7),c._uU(66),c.qZA(),c.TgZ(67,"td"),c.TgZ(68,"span"),c._uU(69),c.qZA(),c.YNc(70,S,2,0,"span",9),c.YNc(71,y,2,1,"span",9),c.YNc(72,w,2,0,"span",9),c._uU(73),c.qZA(),c.qZA(),c.YNc(74,C,5,2,"tr",9),c.YNc(75,O,5,2,"tr",9),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(5),c.Oqu(t.language.Device_Details),c.xp6(6),c.Oqu(t.language.status),c.xp6(1),c.Q6J("ngClass","offline"==t.index.Status?"offlineDevice":"onlineDevice"),c.xp6(1),c.hij("",null!=t.index.Status?t.index.Status:"--"," "),c.xp6(3),c.Oqu(t.language.IP_Address),c.xp6(2),c.Oqu(null!=t.index.IPAddress?t.index.IPAddress:"--"),c.xp6(3),c.Oqu(t.language.Address_Source),c.xp6(1),c.Q6J("ngIf","dhcp"==t.index["Address-source"]),c.xp6(1),c.Q6J("ngIf","dhcp"!=t.index["Address-source"]),c.xp6(3),c.Oqu(t.language.MAC_Address),c.xp6(2),c.Oqu(null!=t.index.MACAddress?t.index.MACAddress?t.index.MACAddress:t.station_mac_addr:"--"),c.xp6(3),c.Oqu(t.language.Model),c.xp6(2),c.Oqu(null!=t.index.Model&&""!=t.index.Model&&" "!=t.index.Model&&"Unknown"!=t.index.Model?t.index.Model:" -- "),c.xp6(3),c.Oqu(t.language.Manufacturer),c.xp6(2),c.Oqu(null!=t.index.Manufacture&&""!=t.index.Manufacture&&" "!=t.index.Manufacture&&"Unknown"!=t.index.Manufacture?t.index.Manufacture:"--"),c.xp6(3),c.Oqu(t.language.Code_Version),c.xp6(2),c.Oqu(null!=t.index["Code-version"]&&""!=t.index["Code-version"]&&" "!=t.index["Code-version"]&&"Unknown"!=t.index["Code-version"]?t.index["Code-version"]:"--"),c.xp6(3),c.Oqu(t.language.Lease_Time_Remaining),c.xp6(2),c.Oqu(null!=t.remainingdate?t.remainingdate:"--"),c.xp6(5),c.hij(" ",t.language.Connection?t.language.Connection:t.language.Connectivity_Status,""),c.xp6(6),c.Oqu(t.language.Connection_Type),c.xp6(2),c.hij("",null!=t.index["Connection-type"]?t.index["Connection-type"]:"--"," "),c.xp6(1),c.Q6J("ngIf","LAN"!=t.index["Connection-type"]),c.xp6(1),c.Q6J("ngIf","LAN"!=t.index["Connection-type"]),c.xp6(3),c.Oqu(t.language.Access_Point),c.xp6(3),c.Oqu((null==t.selectedDevice?null:t.selectedDevice.AccessPointHostName)||""),c.xp6(1),c.Q6J("ngIf",null==t.selectedDevice?null:t.selectedDevice.AccessPoint),c.xp6(1),c.Q6J("ngIf",null==t.selectedDevice?null:t.selectedDevice.AccessPoint),c.xp6(1),c.Q6J("ngIf",null==t.selectedDevice?null:t.selectedDevice.AccessPoint),c.xp6(1),c.hij(" ",null!=(null==t.selectedDevice?null:t.selectedDevice.AccessPointSerialNumber)?null==t.selectedDevice?null:t.selectedDevice.AccessPointSerialNumber:"--"," "),c.xp6(1),c.Q6J("ngIf","LAN"!=t.index["Connection-type"]),c.xp6(1),c.Q6J("ngIf","LAN"!=t.index["Connection-type"]))},directives:[s.mk,s.O5],styles:[".onlineDevice[_ngcontent-%COMP%]{color:#82bf00;text-transform:capitalize}.offlineDevice[_ngcontent-%COMP%]{color:red;text-transform:capitalize}.text-transform-cap[_ngcontent-%COMP%]{text-transform:capitalize}"]}),e})();var k=i(40352),P=i(85569),H=i(1282),N=i(16738),L=i(18638),Y=i(94555);function U(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",15),c.TgZ(1,"span",16),c._UZ(2,"img",17),c._uU(3),c.qZA(),c.TgZ(4,"button",18),c.NdJ("click",function(){return c.CHM(e),c.oxw().isDateAreEqual=!1}),c._UZ(5,"span"),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(3),c.hij(" ",e.language["Both Start Time And End Time areSame"],"")}}function J(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",19),c.TgZ(1,"label",20),c._uU(2),c.qZA(),c.TgZ(3,"ng-select",21),c.NdJ("change",function(){return c.CHM(e),c.oxw().dropDownchange()})("ngModelChange",function(t){return c.CHM(e),c.oxw().TimeFrame=t}),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(2),c.Oqu(e.language.TTimeFrame),c.xp6(1),c.Q6J("clearable",!1)("searchable",!1)("items",e.Frame)("ngModel",e.TimeFrame)}}function E(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",22),c.TgZ(1,"label",20),c._uU(2,"Day(s)"),c.qZA(),c.TgZ(3,"ng-select",21),c.NdJ("change",function(){return c.CHM(e),c.oxw().dropDownchange()})("ngModelChange",function(t){return c.CHM(e),c.oxw().WeekFrame=t}),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(3),c.Q6J("clearable",!1)("searchable",!1)("items",e.WeekFramedata)("ngModel",e.WeekFrame)}}const F=function(){return{width:"100%",height:"38px"}},Q=function(){return{height:"36px"}},R=function(){return{standalone:!0}};function j(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",30),c.TgZ(1,"label"),c._uU(2,"Date"),c.qZA(),c.TgZ(3,"p-calendar",31),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw(2).weekDate=t}),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(3),c.Akn(c.DdM(7,F)),c.Q6J("inputStyle",c.DdM(8,Q))("autoZIndex",!0)("ngModel",e.weekDate)("showIcon",!0)("ngModelOptions",c.DdM(9,R))}}function V(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",32),c.TgZ(1,"label"),c._uU(2),c.qZA(),c.TgZ(3,"p-calendar",33),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw(2).startDate=t})("onSelect",function(){return c.CHM(e),c.oxw(2).startTimeUpdate()}),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(2),c.hij("",e.language["Start Time"]," "),c.xp6(1),c.Akn(c.DdM(11,F)),c.Q6J("ngModel",e.startDate)("stepMinute",e.stepMinuteVal)("inputStyle",c.DdM(12,Q))("autoZIndex",!0)("showIcon",!0)("ngModelOptions",c.DdM(13,R))("timeOnly",e.showHrs)("panelStyleClass",e.isLastDay15minSelected?"":"hideMin")}}function W(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",32),c.TgZ(1,"label"),c._uU(2),c.qZA(),c.TgZ(3,"p-calendar",34),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw(2).endDate=t})("onSelect",function(){return c.CHM(e),c.oxw(2).endTimeUpdate()}),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(2),c.hij("",e.language["End Time"]," "),c.xp6(1),c.Akn(c.DdM(12,F)),c.Q6J("stepMinute",e.stepMinuteVal)("inputStyle",c.DdM(13,Q))("autoZIndex",!0)("ngModel",e.endDate)("showIcon",!0)("ngModelOptions",c.DdM(14,R))("timeOnly",e.showHrs)("disabled",e.isEndDateDisabled)("panelStyleClass",e.isLastDay15minSelected?"":"hideMin")}}function B(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",6),c.TgZ(1,"div",23),c.TgZ(2,"label"),c._uU(3),c.qZA(),c.TgZ(4,"ng-select",24),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().onTimeFrameChange(t)})("ngModelChange",function(t){return c.CHM(e),c.oxw().TimeFrame=t}),c.qZA(),c.qZA(),c.YNc(5,j,4,10,"div",25),c.YNc(6,V,4,14,"div",26),c.YNc(7,W,4,15,"div",26),c.TgZ(8,"div",27),c.TgZ(9,"div",28),c.TgZ(10,"button",29),c.NdJ("click",function(){return c.CHM(e),c.oxw().loadChart()}),c._uU(11),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(3),c.Oqu(e.language.TTimeFrame),c.xp6(1),c.Q6J("items",e.Frame)("ngModel",e.TimeFrame),c.xp6(1),c.Q6J("ngIf",e.start&&!e.isLastDay15minSelected),c.xp6(1),c.Q6J("ngIf",e.start),c.xp6(1),c.Q6J("ngIf",e.start),c.xp6(4),c.hij(" ",e.language.apply," ")}}function z(e,t){if(1&e&&(c.TgZ(0,"div",37),c.TgZ(1,"div",38),c.TgZ(2,"div",39),c.TgZ(3,"div",40),c.TgZ(4,"span",41),c._uU(5),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.xp6(5),c.Oqu(e.language.Loading)}}function G(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",42),c.TgZ(1,"ngx-slider",43),c.NdJ("valueChange",function(t){return c.CHM(e),c.oxw(2).selectedInterval=t})("userChangeEnd",function(){return c.CHM(e),c.oxw(2).sliderEvent()}),c.qZA(),c.TgZ(2,"span",44),c.TgZ(3,"label"),c._uU(4),c.qZA(),c.qZA(),c.TgZ(5,"span",45),c.TgZ(6,"label"),c._uU(7),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(1),c.Q6J("value",e.selectedInterval)("options",e.timeIntervalOptions),c.xp6(3),c.hij(" ",e.leftSliderTime,""),c.xp6(3),c.Oqu(e.rightSliderTime)}}function K(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",6),c.TgZ(1,"div",46),c.TgZ(2,"div",28),c.TgZ(3,"button",29),c.NdJ("click",function(){return c.CHM(e),c.oxw(2).loadChart()}),c._uU(4),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(4),c.hij(" ",e.language.apply," ")}}function X(e,t){if(1&e&&(c.TgZ(0,"section",35),c.YNc(1,z,6,1,"div",10),c.YNc(2,G,8,4,"div",36),c.YNc(3,K,5,1,"div",4),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.loader),c.xp6(1),c.Q6J("ngIf",e.showIntervalSlider),c.xp6(1),c.Q6J("ngIf",!1)}}function ee(e,t){if(1&e&&(c.TgZ(0,"div",37),c.TgZ(1,"div",38),c.TgZ(2,"div",39),c.TgZ(3,"div",40),c.TgZ(4,"span",41),c._uU(5),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(5),c.Oqu(e.language.Loading)}}const te=function(e){return{opac:e}};let ie=(()=>{class e{constructor(e,t,i,n){var a,r,l,o,d;this.translateService=e,this.dataChartService=t,this.deviceService=i,this.ssoService=n,this.deviceInfo=[],this.globalObj={},this.pipe=new s.uU("en-US"),this.homeRes={},this.station_mac_addr=null===(a=null==history?void 0:history.state)||void 0===a?void 0:a.stationMac,this.WeekFrame=7,this.lastSeventhDay=N().subtract(144,"hours").format("dddd"),this.lastSixthDay=N().subtract(120,"hours").format("dddd"),this.lastfifthDay=N().subtract(96,"hours").format("dddd"),this.lastFourthDay=N().subtract(72,"hours").format("dddd"),this.lastThirdDay=N().subtract(48,"hours").format("dddd"),this.yesterDay=N().subtract(24,"hours").format("dddd"),this.toDay=N().format("dddd"),this.WeekFramedata=[],this.TimeFrame=2,this.TimeInterval=1,this.FrameSV=[{id:2,name:"Last 24 hours"},{id:3,name:"Last 3 hours"},{id:5,name:" Last 15 minutes"},{id:6,name:" Any 15 minutes within last day"}],this.Frame=[{id:1,name:"Last 7 days"},{id:2,name:"Last_hours"},{id:3,name:"Last 3 hours"},{id:5,name:"Last 15 minutes"},{id:6,name:"Any 15 minutes within last day"},{id:4,name:"Any 3 Hours within last week"},{id:7,name:"Any day within last week"}],this.maxDate=new Date,this.minDate=new Date,this.formDate=new Date(this.minDate.setDate(this.minDate.getDate()-6)),this.stepMinuteVal=0,this.showHrs=!0,this.isLastDay15minSelected=!1,this.isEndDateDisabled=!0,this.effDash=!0,this.userClickTimeout=setTimeout(()=>{},0),this.timeIntervalOptions={hideLimitLabels:!0,onlyBindHandles:!0,stepsArray:[]},this.showIntervalSlider=!1,this.timeIntervals=[],this.TimeFrame=(null===(r=null==history?void 0:history.state)||void 0===r?void 0:r.period)||this.TimeFrame,this.endDate=(null===(l=null==history?void 0:history.state)||void 0===l?void 0:l.endTime)||this.endDate,this.startDate=(null===(o=null==history?void 0:history.state)||void 0===o?void 0:o.startTime)||this.startDate,this.WeekFrame=(null===(d=null==history?void 0:history.state)||void 0===d?void 0:d.WeekFrame)||this.WeekFrame,this.lastdays15MinOfValues()}inClick(e){e.stopPropagation(),history.state.endTime=!1,this.inputs=void 0;let t=e.target.id?e.target.id:"";if("slider-click-next"==t||"slider-click-prev"==t){let i=e.target.className?e.target.className.split(" ")[0]:"",s=this.timeIntervals.length-1;if("slider-click-next"==t){history.state.endTime=!1,this.inputs=void 0;let e=parseInt(i.split("-")[1]);e+1<=s&&(this.selectedInterval=e+1)}if("slider-click-prev"==t){history.state.endTime=!1,this.inputs=void 0;let e=parseInt(i.split("-")[1]);e-1>=0&&(this.selectedInterval=e-1)}this.handleUserTime()}history.state.endTime=!1,this.inputs=void 0}startTimeUpdate(){this.endDate=N(this.startDate).add(this.stepMinuteVal,"m").toDate(),this.isEndDateDisabled=this.isLastDay15minSelected,this.isDateAreEqual=this.start&&N(this.startDate).isSame(this.endDate)}endTimeUpdate(){this.isDateAreEqual=this.start&&N(this.startDate).isSame(this.endDate)}onTimeFrameChange(e){if(this.isEndDateDisabled=!0,this.isLastDay15minSelected=6==e,6==e){this.start=!0,this.stepMinuteVal=15;var t=3e5;(i=new Date).setMinutes(0),this.startDate=this.endDate=new Date(Math.round(i.getTime()/t)*t),this.startDate=N(this.endDate).add(-15,"m").toDate(),this.showHrs=!0}else if(4==e){var i;this.startDate=this.endDate="",this.isEndDateDisabled=!1,this.start=!0,this.stepMinuteVal=60,t=3e5,(i=new Date).setMinutes(0),this.startDate=this.endDate=new Date(Math.round(i.getTime()/t)*t),this.startDate=N(this.endDate).add(-60,"m").toDate(),this.showHrs=!0}else this.start=!1}ngOnInit(){var e,t,i,s;this.weekDate=this.maxDate=new Date;var n=3e5,a=new Date;this.startDate=this.endDate=new Date(Math.round(a.getTime()/n)*n),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.Frame=[{id:1,name:this.language["Last 7 days"]},{id:2,name:this.language.Last_hours},{id:3,name:this.language["Last 3 hours"]},{id:5,name:this.language["Last 15 minutes"]},{id:6,name:this.language["Any 15 minutes within last day"]},{id:4,name:this.language["Any 3 Hours within last week"]},{id:7,name:this.language["Any day within last week"]}],this.loadChart()}),this.orgId=this.ssoService.getOrgId(),this.deviceInfo=JSON.parse(sessionStorage.getItem(`${this.ssoService.getTabId()}calix.deviceData`));let r=null===(e=this.deviceInfo)||void 0===e?void 0:e.filter(e=>e.opMode&&e.opMode.indexOf("RG")>-1);(null==r?void 0:r.length)>0&&(r=r.filter(e=>"RG"==e.opMode),(r.length||this.ssoService.acceptGSModel((null===(t=r[0])||void 0===t?void 0:t.modelName)||""))&&(this.softwareVersion=null===(i=r[0].softwareVersion)||void 0===i?void 0:i.substring(0,4),this.serialNumberSelected=r[0].serialNumber,(null===(s=null==history?void 0:history.state)||void 0===s?void 0:s.endTime)&&this.calcOf15minVal(),this.zyxelModel(),this.loadChart()))}ngAfterViewInit(){this.Frame=[{id:1,name:this.language["Last 7 days"]},{id:2,name:this.language.Last_hours},{id:3,name:this.language["Last 3 hours"]},{id:5,name:this.language["Last 15 minutes"]},{id:6,name:this.language["Any 15 minutes within last day"]},{id:4,name:this.language["Any 3 Hours within last week"]},{id:7,name:this.language["Any day within last week"]}]}sliderEvent(){history.state.endTime=!1,this.inputs=void 0,setTimeout(()=>{(6==this.TimeFrame||4==this.TimeFrame||7==this.TimeFrame)&&(this.showIntervalSlider=!0),this.loadChart()},500)}dropDownChaneWeekFrame(){history.state.endTime=!1,this.inputs=void 0}dropDownchange(){history.state.endTime=!1,history.state.stationMac=!1,history.state.period=!1,this.lastdays15MinOfValues(),(6==this.TimeFrame||4==this.TimeFrame||7==this.TimeFrame)&&(this.showIntervalSlider=!1),this.sliderEvent()}handleUserTime(){clearTimeout(this.userClickTimeout),this.userClickTimeout=setTimeout(()=>{this.loadChart()},2e3)}loadChart(){var e,t,i,s,n,a,r,l;if(null===(e=null==history?void 0:history.state)||void 0===e?void 0:e.endTime){let[e,n]=this.timeForFilter(new Date,new Date),a=null===(t=null==history?void 0:history.state)||void 0===t?void 0:t.endTime[1],r=null===(i=null==history?void 0:history.state)||void 0===i?void 0:i.endTime[0];[e,n]=[this.getISOString(r),this.getISOString(a)];const l=null===(s=JSON.parse(this.ssoService.getSerialNo()||[]))||void 0===s?void 0:s.filter(e=>"RG"==e.opMode).map(e=>e.macAddress).join("");let o;o=1==this.TimeFrame?{sn:this.serialNumberSelected,orgId:this.orgId,routerMac:l,stationMac:this.station_mac_addr,period:this.TimeFrame,start:e,end:n,tz:0}:{sn:this.serialNumberSelected,orgId:this.orgId,routerMac:l,stationMac:this.station_mac_addr,period:this.TimeFrame,start:e,end:n,tz:-(new Date).getTimezoneOffset()/60},this.loader=!0,this.deviceService.getClientScore(o).subscribe(e=>{this.loader=!1,this.homeRes=e,H.chart("wholeHomeEfficiencyChart",this.wholeHomeEfficiencyOption(e||[]))},e=>{this.homeRes={},H.chart("wholeHomeEfficiencyChart",this.wholeHomeEfficiencyOption([]||[])),this.loader=!1})}else{this.globalObj.latencyCreateTime="";let[e,t]=this.timeForFilter(new Date,new Date);if(6==this.TimeFrame){let i=this.timeIntervals[this.selectedInterval].date,s=N(i).subtract(15,"minutes");i=N(i).add(1,"minutes"),[e,t]=[this.getISOString(s),this.getISOString(i)]}if(4==this.TimeFrame){let i,s,n;parseInt(this.timeIntervals[this.selectedInterval].legend.substring(11,13)||"0")%3==0?(n=this.timeIntervals[this.selectedInterval].date,s=N(n).subtract(15,"minutes"),i=N(n).subtract(180,"minutes")):(n=this.timeIntervals[this.selectedInterval].date,s=N(n).subtract(15,"minutes"),i=this.timeIntervals[this.selectedInterval-1].date),[e,t]=[this.getISOString(i),this.getISOString(s)]}if(7==this.TimeFrame){let i,s,n;parseInt(this.timeIntervals[this.selectedInterval].legend.substring(11,13)||"0")%12==0?(n=this.timeIntervals[this.selectedInterval].date,s=N(n),i=N(n).subtract(24,"hours")):(s=N(this.timeIntervals[this.selectedInterval].date),i=N(this.timeIntervals[this.selectedInterval-1].date)),[e,t]=[this.getISOString(i),this.getISOString(s)]}if(null!=this.inputs){let i,s;this.calcOf15minVal1(),this.TimeFrame=this.inputs.period,i=N(this.timeIntervals[this.selectedInterval-1].date),s=N(this.timeIntervals[this.selectedInterval].date),t=s.toISOString().substr(0,16)+":00",e=i.toISOString().substr(0,16)+":00"}let i=this.ssoService.getSerialNo();const s=i?JSON.parse(i||[]).filter(e=>"RG"==e.opMode).map(e=>e.macAddress).join(""):"";let o;o=1==this.TimeFrame?{sn:this.serialNumberSelected,orgId:this.orgId,routerMac:s,stationMac:(null===(n=this.index)||void 0===n?void 0:n.MACAddress)?null===(a=this.index)||void 0===a?void 0:a.MACAddress:this.station_mac_addr,period:this.TimeFrame,start:e,end:t,tz:0}:{sn:this.serialNumberSelected,orgId:this.orgId,routerMac:s,stationMac:(null===(r=this.index)||void 0===r?void 0:r.MACAddress)?null===(l=this.index)||void 0===l?void 0:l.MACAddress:this.station_mac_addr,period:this.TimeFrame,start:e,end:t,tz:-(new Date).getTimezoneOffset()/60},this.loader=!0,this.deviceService.getClientScore(o).subscribe(e=>{this.loader=!1,this.homeRes=e,H.chart("wholeHomeEfficiencyChart",this.wholeHomeEfficiencyOption(e||[]))},e=>{this.homeRes={},H.chart("wholeHomeEfficiencyChart",this.wholeHomeEfficiencyOption([]||[])),this.loader=!1})}}zyxelModel(){let e=JSON.parse(sessionStorage.getItem("calix.deviceData")).filter(e=>{if("RG"==e.opMode)return e});return this.dropdownModel="ZYXEL"==e[0].manufacturer||("Calix"==e[0].manufacturer||"MSTC"==e[0].manufacturer)&&parseFloat(e[0].softwareVersion)>=22.1}timeForFilter(e,t){switch(this.TimeFrame){case 1:return e.setDate(e.getDate()-6),e.setHours(5,30,0,0),t.setMinutes(t.getMinutes()),[e.toISOString().substring(0,11)+"00:00:00",t.toISOString().substring(0,19)];case 2:e.setHours(e.getHours()-24),[e,t]=this.minuteAligner(e,t);break;case 3:e.setHours(e.getHours()-3),[e,t]=this.minuteAligner(e,t);break;case 4:break;case 5:e.setMinutes(e.getMinutes()-16),t.setMinutes(t.getMinutes()+1)}return[e.toISOString().substring(0,16)+":00",t.toISOString().substring(0,16)+":00"]}minuteAligner(e,t){let[i,s]=[e.getMinutes(),t.getMinutes()];const n=[45,30,15,0];for(let a=0;a<n.length;a++)!n.includes(i)&&i>n[a]&&(e.setMinutes(n[a]),i=n[a]),!n.includes(s)&&s>n[a]&&(t.setMinutes(n[a]),s=n[a]);return[e,t]}roundOffDate(e,t){if(e&&t&&e>t){let i=t.split("T"),s=i[0].split("-");return s[2]=(s[2]<9?"0":"")+(parseInt(s[2])+1),t=s.join("-")+"T"+i[1],this.roundOffDate(e,t)}return[e,t]}wholeHomeEfficiencyOption(e){let[t,i]=this.mapWholeHomeEfficencyChartData(e),s=this.TimeFrame,n=this;return{title:{text:""},credits:{enabled:!1},tooltip:{pointFormat:`${this.language["Efficiency Score"]} : <b>{point.y}%</b>`},xAxis:{categories:t||[],overflow:!1,labels:{rotation:-45},tickInterval:function(){let e=t.length?t.length:0,i=1;return(2===s||7===s)&&(e>90?i=4:e>70?i=3:e>30&&(i=2)),i}()},yAxis:{min:0,max:100,tickInterval:20,lineColor:"#ddd",title:{text:`${this.language["Client Efficiency"]} (%)`,style:{fontSize:"15px"}}},plotOptions:{series:{maxPointWidth:20,borderRadius:0,cursor:"pointer",marker:{enabled:!1,states:{hover:{enabled:!0}}},point:{events:{click:function(){2===s&&(n.inputs={period:6,startTime:this.category},n.loadChart())}}}}},series:[{type:"line",name:"",data:i||[],color:"#0a77fb",showInLegend:!1}]}}mapWholeHomeEfficencyChartData(e){let t=[],i=[];return(e[1==this.TimeFrame?"dailyAverageScore":"rawData"]||[]).forEach(e=>{const s=e.date;let n=s.substring(0,4),a=s.substring(6,4),r=s.substring(6),l=a+"/"+r+"/"+n;const o=e.time;let d,c=a+"/"+r+"/"+s.substring(2,4),h=l+" "+(1==this.TimeFrame?"":o.substring(0,2)+":"+o.substring(2,4));if(1==this.TimeFrame)h=l,t.push(h);else if(4==this.TimeFrame)d=c+" "+N(o.substring(0,2)+":"+o.substring(2,4),["HH:mm"]).format("hh:mm A"),t.push(d);else if(2==this.TimeFrame){const e=N(o.substring(0,2)+":"+o.substring(2,4),["HH:mm"]).format("hh:mm A");d=c+" "+N(o.substring(0,2)+":"+o.substring(2,4),["HH:mm"]).format("hh:mm A"),h=e,t.push(d)}else{const e=N(o.substring(0,2)+":"+o.substring(2,4),["HH:mm"]).format("hh:mm A");h=e,t.push(e)}const m=parseInt(e.eff_score.toString().substring(0,5));i.push(m)}),[t,i]}filterContent(){this.effDash=!this.effDash,H.chart("wholeHomeEfficiencyChart",this.wholeHomeEfficiencyOption(this.effDash?this.homeRes:{rawData:[]}))}lastdays15MinOfValues(){var e;if(null===(e=null==history?void 0:history.state)||void 0===e?void 0:e.endTime)if(7==this.TimeFrame){let e,t=new Date,s=6e4,n=N(new Date(Math.floor(t.getTime()/s)*s)).minutes(0).seconds(0).milliseconds(0),a=N(n).subtract(144,"hours");i=new Date(a._d.setHours(0,0,0,0)),(new Date).setSeconds(0,0),i=N(i).add(1,"day"),this.timeIntervals=[];let r=N(i),l=0;for(;r<=n;){if(this.timeIntervals.push({value:l,legend:N(r).format("MM/DD/YYYY HH:mm"),date:N(r).toDate()}),e=N(r),r.add(1,"day"),r>n){let e=n._d;this.timeIntervals.push({value:l+1,legend:N(e).format("MM/DD/YYYY HH:mm"),date:N(e).toDate()})}l++}this.calcOf15minVal()}else if(4==this.TimeFrame){if(1==(t=this.WeekFrame)){let e,t=new Date,n=9e5,a=N(new Date(Math.floor(t.getTime()/n)*n)).seconds(0).milliseconds(0),r=N(a).subtract(144,"hours");i=new Date(r._d.setHours(0,0,0,0)),s=new Date(r._d.setHours(24,0,0,0));let l=(new Date).setSeconds(0,0);Math.ceil((l-new Date(N(r).toDate()).getTime())/36e5),s=N(s).subtract(180,"minutes"),this.timeIntervals=[];let o=N(i),d=0;for(;o<=s;)this.timeIntervals.push({value:d,legend:N(o).format("MM/DD/YYYY HH:mm"),date:N(o).toDate()}),e=N(o),o.add(180,"minutes"),d++;this.calcOf15minVal()}else if(2==t){let e,t=new Date,n=9e5,a=N(new Date(Math.floor(t.getTime()/n)*n)).seconds(0).milliseconds(0),r=N(a).subtract(144,"hours");i=new Date(r._d.setHours(24,0,0,0)),s=new Date(r._d.setHours(24,0,0,0));let l=(new Date).setSeconds(0,0);Math.ceil((l-new Date(N(r).toDate()).getTime())/36e5),s=N(s).subtract(180,"minutes"),this.timeIntervals=[];let o=N(i),d=0;for(;o<=s;)this.timeIntervals.push({value:d,legend:N(o).format("MM/DD/YYYY HH:mm"),date:N(o).toDate()}),e=N(o),o.add(180,"minutes"),d++;this.calcOf15minVal()}else if(3==t){let e,t=new Date,n=9e5,a=N(new Date(Math.floor(t.getTime()/n)*n)).seconds(0).milliseconds(0),r=N(a).subtract(144,"hours");i=new Date(r._d.setHours(48,0,0,0)),s=new Date(r._d.setHours(24,0,0,0));let l=(new Date).setSeconds(0,0);Math.ceil((l-new Date(N(r).toDate()).getTime())/36e5),s=N(s).subtract(180,"minutes"),this.timeIntervals=[];let o=N(i),d=0;for(;o<=s;)this.timeIntervals.push({value:d,legend:N(o).format("MM/DD/YYYY HH:mm"),date:N(o).toDate()}),e=N(o),o.add(180,"minutes"),d++;this.calcOf15minVal()}else if(4==t){let e,t=new Date,n=9e5,a=N(new Date(Math.floor(t.getTime()/n)*n)).seconds(0).milliseconds(0),r=N(a).subtract(144,"hours");i=new Date(r._d.setHours(72,0,0,0)),s=new Date(r._d.setHours(24,0,0,0));let l=(new Date).setSeconds(0,0);Math.ceil((l-new Date(N(r).toDate()).getTime())/36e5),s=N(s).subtract(180,"minutes"),this.timeIntervals=[];let o=N(i),d=0;for(;o<=s;)this.timeIntervals.push({value:d,legend:N(o).format("MM/DD/YYYY HH:mm"),date:N(o).toDate()}),e=N(o),o.add(180,"minutes"),d++;this.calcOf15minVal()}else if(5==t){let e,t=new Date,n=9e5,a=N(new Date(Math.floor(t.getTime()/n)*n)).seconds(0).milliseconds(0),r=N(a).subtract(144,"hours");i=new Date(r._d.setHours(96,0,0,0)),s=new Date(r._d.setHours(24,0,0,0));let l=(new Date).setSeconds(0,0);Math.ceil((l-new Date(N(r).toDate()).getTime())/36e5),s=N(s).subtract(180,"minutes"),this.timeIntervals=[];let o=N(i),d=0;for(;o<=s;)this.timeIntervals.push({value:d,legend:N(o).format("MM/DD/YYYY HH:mm"),date:N(o).toDate()}),e=N(o),o.add(180,"minutes"),d++;this.calcOf15minVal()}else if(6==t){let e,t=new Date,n=9e5,a=N(new Date(Math.floor(t.getTime()/n)*n)).seconds(0).milliseconds(0),r=N(a).subtract(144,"hours");i=new Date(r._d.setHours(120,0,0,0)),s=new Date(r._d.setHours(24,0,0,0));let l=(new Date).setSeconds(0,0);Math.ceil((l-new Date(N(r).toDate()).getTime())/36e5),s=N(s).subtract(180,"minutes"),this.timeIntervals=[];let o=N(i),d=0;for(;o<=s;)this.timeIntervals.push({value:d,legend:N(o).format("MM/DD/YYYY HH:mm"),date:N(o).toDate()}),e=N(o),o.add(180,"minutes"),d++;this.calcOf15minVal()}else if(7==t){let e,t=new Date,s=6e4,n=N(new Date(Math.floor(t.getTime()/s)*s)).minutes(0).seconds(0).milliseconds(0),a=N(n).subtract(144,"hours");i=new Date(a._d.setHours(144,0,0,0));let r=(new Date).setSeconds(0,0);Math.ceil((r-new Date(N(a).toDate()).getTime())/36e5),i=N(i).add(180,"minutes"),this.timeIntervals=[];let l,o=N(i),d=0;for(;o<=n;){if(this.timeIntervals.push({value:d,legend:N(o).format("MM/DD/YYYY HH:mm"),date:N(o).toDate()}),e=N(o),l=Math.floor((n._d.getHours()-o._d.getHours())/3),l>0)o.add(180,"minutes");else{const e=2==Math.ceil(n._d.getHours()-o._d.getHours())?120:60;o.add(e,"minutes")}d++}this.calcOf15minVal()}setTimeout(()=>{this.WeekFramedata=[{id:1,name:this.language[this.lastSeventhDay]},{id:2,name:this.language[this.lastSixthDay]},{id:3,name:this.language[this.lastfifthDay]},{id:4,name:this.language[this.lastFourthDay]},{id:5,name:this.language[this.lastThirdDay]},{id:6,name:this.language[this.yesterDay]},{id:7,name:this.language[this.toDay]}]},2e3)}else{let e,t=new Date,i=9e5,s=N(new Date(Math.floor(t.getTime()/i)*i)).seconds(0).milliseconds(0),n=N(s).subtract(24,"hours"),a=(new Date).setSeconds(0,0);const r=Math.ceil((a-new Date(N(n).toDate()).getTime())/36e5)>24?30:15;n=N(n).add(r,"minutes"),this.timeIntervals=[];let l=N(n),o=0;for(;l<=s;)this.timeIntervals.push({value:o,legend:N(l).format("MM/DD/YYYY HH:mm"),date:N(l).toDate()}),e=N(l),l.add(15,"minutes"),o++;this.calcOf15minVal()}else if(4==this.TimeFrame){var t;if(1==(t=this.WeekFrame)){let e,t=new Date,n=9e5,a=this,r=0;var i,s;let l=N(new Date(Math.floor(t.getTime()/n)*n)).seconds(0).milliseconds(0),o=N(l).subtract(144,"hours");i=new Date(o._d.setHours(0,0,0,0)),s=new Date(o._d.setHours(24,0,0,0));let d=(new Date).setSeconds(0,0);Math.ceil((d-new Date(N(o).toDate()).getTime())/36e5),i=N(i).add(180,"minutes"),this.timeIntervals=[];let c=N(i),h=0;for(;c<=s;)this.timeIntervals.push({value:h,legend:N(c).format("MM/DD/YYYY HH:mm"),date:N(c).toDate()}),e=N(c),c.add(180,"minutes"),h++;r=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[r-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,t)=>`<span id="slider-click-prev" class="point-${e} dir-arrows" > </span> ${N(a.timeIntervals[e].date).subtract(180,"minutes").format("MMM DD hh:mm A")} - ${N(a.timeIntervals[e].date).subtract(15,"minutes").format("MMM DD hh:mm A")} <span id="slider-click-next" class="point-${e} dir-arrows"></span > `,this.leftSliderTime=N(this.timeIntervals[0].date).subtract(180,"minutes").format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[r-1].date).format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}else if(2==t){let e,t=new Date,n=9e5,a=this,r=0,l=N(new Date(Math.floor(t.getTime()/n)*n)).seconds(0).milliseconds(0),o=N(l).subtract(144,"hours");i=new Date(o._d.setHours(24,0,0,0)),s=new Date(o._d.setHours(24,0,0,0));let d=(new Date).setSeconds(0,0);Math.ceil((d-new Date(N(o).toDate()).getTime())/36e5),i=N(i).add(180,"minutes"),this.timeIntervals=[];let c=N(i),h=0;for(;c<=s;)this.timeIntervals.push({value:h,legend:N(c).format("MM/DD/YYYY HH:mm"),date:N(c).toDate()}),e=N(c),c.add(180,"minutes"),h++;r=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[r-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,t)=>`<span id="slider-click-prev" class="point-${e} dir-arrows" > </span> ${N(a.timeIntervals[e].date).subtract(180,"minutes").format("MMM DD hh:mm A")} - ${N(a.timeIntervals[e].date).subtract(15,"minutes").format("MMM DD hh:mm A")} <span id="slider-click-next" class="point-${e} dir-arrows"></span > `,this.leftSliderTime=N(this.timeIntervals[0].date).subtract(180,"minutes").format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[r-1].date).format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}else if(3==t){let e,t=new Date,n=9e5,a=this,r=0,l=N(new Date(Math.floor(t.getTime()/n)*n)).seconds(0).milliseconds(0),o=N(l).subtract(144,"hours");i=new Date(o._d.setHours(48,0,0,0)),s=new Date(o._d.setHours(24,0,0,0));let d=(new Date).setSeconds(0,0);Math.ceil((d-new Date(N(o).toDate()).getTime())/36e5),i=N(i).add(180,"minutes"),this.timeIntervals=[];let c=N(i),h=0;for(;c<=s;)this.timeIntervals.push({value:h,legend:N(c).format("MM/DD/YYYY HH:mm"),date:N(c).toDate()}),e=N(c),c.add(180,"minutes"),h++;r=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[r-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,t)=>`<span id="slider-click-prev" class="point-${e} dir-arrows" > </span> ${N(a.timeIntervals[e].date).subtract(180,"minutes").format("MMM DD hh:mm A")} - ${N(a.timeIntervals[e].date).subtract(15,"minutes").format("MMM DD hh:mm A")} <span id="slider-click-next" class="point-${e} dir-arrows"></span > `,this.leftSliderTime=N(this.timeIntervals[0].date).subtract(180,"minutes").format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[r-1].date).format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}else if(4==t){let e,t=new Date,n=9e5,a=this,r=0,l=N(new Date(Math.floor(t.getTime()/n)*n)).seconds(0).milliseconds(0),o=N(l).subtract(144,"hours");i=new Date(o._d.setHours(72,0,0,0)),s=new Date(o._d.setHours(24,0,0,0));let d=(new Date).setSeconds(0,0);Math.ceil((d-new Date(N(o).toDate()).getTime())/36e5),i=N(i).add(180,"minutes"),this.timeIntervals=[];let c=N(i),h=0;for(;c<=s;)this.timeIntervals.push({value:h,legend:N(c).format("MM/DD/YYYY HH:mm"),date:N(c).toDate()}),e=N(c),c.add(180,"minutes"),h++;r=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[r-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,t)=>`<span id="slider-click-prev" class="point-${e} dir-arrows" > </span> ${N(a.timeIntervals[e].date).subtract(180,"minutes").format("MMM DD hh:mm A")} - ${N(a.timeIntervals[e].date).subtract(15,"minutes").format("MMM DD hh:mm A")} <span id="slider-click-next" class="point-${e} dir-arrows"></span > `,this.leftSliderTime=N(this.timeIntervals[0].date).subtract(180,"minutes").format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[r-1].date).format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}else if(5==t){let e,t=new Date,n=9e5,a=this,r=0,l=N(new Date(Math.floor(t.getTime()/n)*n)).seconds(0).milliseconds(0),o=N(l).subtract(144,"hours");i=new Date(o._d.setHours(96,0,0,0)),s=new Date(o._d.setHours(24,0,0,0));let d=(new Date).setSeconds(0,0);Math.ceil((d-new Date(N(o).toDate()).getTime())/36e5),i=N(i).add(180,"minutes"),this.timeIntervals=[];let c=N(i),h=0;for(;c<=s;)this.timeIntervals.push({value:h,legend:N(c).format("MM/DD/YYYY HH:mm"),date:N(c).toDate()}),e=N(c),c.add(180,"minutes"),h++;r=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[r-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,t)=>`<span id="slider-click-prev" class="point-${e} dir-arrows" > </span> ${N(a.timeIntervals[e].date).subtract(180,"minutes").format("MMM DD hh:mm A")} - ${N(a.timeIntervals[e].date).subtract(15,"minutes").format("MMM DD hh:mm A")} <span id="slider-click-next" class="point-${e} dir-arrows"></span > `,this.leftSliderTime=N(this.timeIntervals[0].date).subtract(180,"minutes").format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[r-1].date).format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}else if(6==t){let e,t=new Date,n=9e5,a=this,r=0,l=N(new Date(Math.floor(t.getTime()/n)*n)).seconds(0).milliseconds(0),o=N(l).subtract(144,"hours");i=new Date(o._d.setHours(120,0,0,0)),s=new Date(o._d.setHours(24,0,0,0));let d=(new Date).setSeconds(0,0);Math.ceil((d-new Date(N(o).toDate()).getTime())/36e5),i=N(i).add(180,"minutes"),this.timeIntervals=[];let c=N(i),h=0;for(;c<=s;)this.timeIntervals.push({value:h,legend:N(c).format("MM/DD/YYYY HH:mm"),date:N(c).toDate()}),e=N(c),c.add(180,"minutes"),h++;r=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[r-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,t)=>`<span id="slider-click-prev" class="point-${e} dir-arrows" > </span> ${N(a.timeIntervals[e].date).subtract(180,"minutes").format("MMM DD hh:mm A")} - ${N(a.timeIntervals[e].date).subtract(15,"minutes").format("MMM DD hh:mm A")} <span id="slider-click-next" class="point-${e} dir-arrows"></span > `,this.leftSliderTime=N(this.timeIntervals[0].date).subtract(180,"minutes").format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[r-1].date).format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}else if(7==t){let e,t,s=new Date,n=6e4,a=this,r=0;t=N(new Date(Math.floor(s.getTime()/n)*n)).minutes(0).seconds(0).milliseconds(0);let l=N(t).subtract(144,"hours");i=new Date(l._d.setHours(144,0,0,0));let o=(new Date).setSeconds(0,0);Math.ceil((o-new Date(N(i).toDate()).getTime())/36e5),this.timeIntervals=[];let d,c=N(i),h=0;for(N();c<=t;){if(this.timeIntervals.push({value:h,legend:N(c).format("MM/DD/YYYY HH:mm"),date:N(c).toDate()}),e=N(c),d=Math.floor((t._d.getHours()-c._d.getHours())/3),d>0)c.add(180,"minutes");else{const e=2==Math.ceil(t._d.getHours()-c._d.getHours())?120:60;c.add(e,"minutes")}h++}r=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[r-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,t)=>{let i=N(a.timeIntervals[e].date);var s,n;return parseInt(this.timeIntervals[this.selectedInterval].legend.substring(11,13)||"0")%3==0?(s=i.subtract(180,"minutes").format("MMM DD hh:mm A"),n=N(a.timeIntervals[e].date).subtract(15,"minutes").format("MMM DD hh:mm A")):(s=N(this.timeIntervals[r-2].date).format("MMM DD hh:mm A"),n=N(a.timeIntervals[e].date).subtract(15,"minutes").format("MMM DD hh:mm A")),`<span id="slider-click-prev" class="point-${e} dir-arrows" > </span> ${s} - ${n} <span id="slider-click-next" class="point-${e} dir-arrows"></span > `},this.leftSliderTime=N(this.timeIntervals[0].date).subtract(180,"minutes").format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[r-1].date).format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}setTimeout(()=>{this.WeekFramedata=[{id:1,name:this.language[this.lastSeventhDay]},{id:2,name:this.language[this.lastSixthDay]},{id:3,name:this.language[this.lastfifthDay]},{id:4,name:this.language[this.lastFourthDay]},{id:5,name:this.language[this.lastThirdDay]},{id:6,name:this.language[this.yesterDay]},{id:7,name:this.language[this.toDay]}]},2e3)}else if(7==this.TimeFrame){let e,t=new Date,s=6e4,n=this,a=0,r=N(new Date(Math.floor(t.getTime()/s)*s)).minutes(0).seconds(0).milliseconds(0),l=N(r).subtract(144,"hours");i=new Date(l._d.setHours(0,0,0,0));let o=(new Date).setSeconds(0,0);Math.ceil((o-new Date(N(l).toDate()).getTime())/36e5),i=N(i).add(1,"day"),this.timeIntervals=[];let d=N(i),c=(N(),0);for(;d<=r;){if(this.timeIntervals.push({value:c,legend:N(d).format("MM/DD/YYYY HH:mm"),date:N(d).toDate()}),e=N(d),d.add(1,"day"),d>r){let e=r._d;this.timeIntervals.push({value:c+1,legend:N(e).format("MM/DD/YYYY HH:mm"),date:N(e).toDate()})}c++}a=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[a-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,t)=>{let i,s,r=N(n.timeIntervals[e].date);return parseInt(this.timeIntervals[this.selectedInterval].legend.substring(11,13)||"0")%24==0?(i=r.subtract(1,"day").format("MMM DD hh:mm A"),s=N(n.timeIntervals[e].date).format("MMM DD hh:mm A")):(i=N(this.timeIntervals[a-2].date).format("MMM DD hh:mm A"),s=N(this.timeIntervals[a-1].date).format("MMM DD hh:mm A")),`<span id="slider-click-prev" class="point-${e} dir-arrows" > </span> ${i} - ${s} <span id="slider-click-next" class="point-${e} dir-arrows"></span > `},this.leftSliderTime=N(this.timeIntervals[0].date).subtract(1,"day").format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[a-1].date).format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}else{let e,t=new Date,i=9e5,s=this,n=0,a=N(new Date(Math.floor(t.getTime()/i)*i)).seconds(0).milliseconds(0),r=N(a).subtract(24,"hours"),l=(new Date).setSeconds(0,0);const o=Math.ceil((l-new Date(N(r).toDate()).getTime())/36e5)>24?30:15;r=N(r).add(o,"minutes"),this.timeIntervals=[];let d=N(r),c=0;for(;d<=a;)this.timeIntervals.push({value:c,legend:N(d).format("MM/DD/YYYY HH:mm"),date:N(d).toDate()}),e=N(d),d.add(15,"minutes"),c++;n=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[n-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,t)=>`<span id="slider-click-prev" class="point-${e} dir-arrows" > </span> ${N(s.timeIntervals[e].date).subtract(15,"minutes").format("MMM DD hh:mm A")} - ${N(s.timeIntervals[e].date).format("MMM DD hh:mm A")} <span id="slider-click-next" class="point-${e} dir-arrows"></span > `,this.leftSliderTime=N(this.timeIntervals[0].date).subtract(15,"minutes").format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[n-1].date).format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}}calcOf15minVal(){var e,t,i,s,n,a,r,l,o;if(7==this.TimeFrame){let t=0,i=this;t=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[t-1].value;let s=N(null===(e=null==history?void 0:history.state)||void 0===e?void 0:e.endTime[1]),n=this.timeIntervals.findIndex(e=>N(e.date).isSame(s));if(-1===n){let e=N(this.timeIntervals[0].date),i=N(this.timeIntervals[t-1].date),a=0,r=[];if(s<e){for(;s<e;)r.push({value:a,legend:N(s).format("MM/DD/YYYY HH:mm"),date:N(s).toDate()}),s.add(24,"hours"),a++;let t=r.length;this.timeIntervals.map(e=>e.value=e.value+t),this.timeIntervals=[...r,...this.timeIntervals],n=0}else s<i&&(n=t)}this.selectedInterval=this.timeIntervals[n]?this.timeIntervals[n].value:this.timeIntervals[this.timeIntervals.length-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,t)=>{var s;let n,a;return N(i.timeIntervals[e].date),parseInt((null===(s=this.timeIntervals[this.selectedInterval])||void 0===s?void 0:s.legend.substring(11,13))||"0")%24==0?(n=N(this.timeIntervals[this.selectedInterval].date).subtract(1,"day").format("MMM DD hh:mm A"),a=N(this.timeIntervals[this.selectedInterval].date).format("MMM DD hh:mm A")):(n=N(this.timeIntervals[this.selectedInterval-1].date).format("MMM DD hh:mm A"),a=N(this.timeIntervals[this.selectedInterval].date).format("MMM DD hh:mm A")),`<span id="slider-click-prev" class="point-${e} dir-arrows" ></span> ${n} - ${a} <span id="slider-click-next" class="point-${e} dir-arrows"></span>`},this.leftSliderTime=N(this.timeIntervals[0].date).subtract(24,"hours").format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[t-1].date).format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}else if(4==this.TimeFrame){var d=this.WeekFrame;if(1==d){let e=0,i=this;e=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[e-1].value;let s=N(null===(t=null==history?void 0:history.state)||void 0===t?void 0:t.endTime[0]),n=this.timeIntervals.findIndex(e=>N(e.date).isSame(s));if(-1===n){let t=N(this.timeIntervals[0].date),i=N(this.timeIntervals[e-1].date),a=0,r=[];if(s<t){for(;s<t;)r.push({value:a,legend:N(s).format("MM/DD/YYYY HH:mm"),date:N(s).toDate()}),s.add(180,"minutes"),a++;let e=r.length;this.timeIntervals.map(t=>t.value=t.value+e),this.timeIntervals=[...r,...this.timeIntervals],n=0}else s<i&&(n=e)}this.selectedInterval=this.timeIntervals[n]?this.timeIntervals[n].value:this.timeIntervals[this.timeIntervals.length-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,t)=>{let s=N(i.timeIntervals[e].date);return`<span id="slider-click-prev" class="point-${e} dir-arrows" ></span> ${N(i.timeIntervals[e].date).format("MMM DD hh:mm A")} - ${s.add(165,"minutes").format("MMM DD hh:mm A")} <span id="slider-click-next" class="point-${e} dir-arrows"></span>`},this.leftSliderTime=N(this.timeIntervals[0].date).format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[e-1].date).add(180,"minutes").format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}else if(2==d){let e=0,t=this;e=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[e-1].value;let s=N(null===(i=null==history?void 0:history.state)||void 0===i?void 0:i.endTime[0]),n=this.timeIntervals.findIndex(e=>N(e.date).isSame(s));if(-1===n){let t=N(this.timeIntervals[0].date),i=N(this.timeIntervals[e-1].date),a=0,r=[];if(s<t){for(;s<t;)r.push({value:a,legend:N(s).format("MM/DD/YYYY HH:mm"),date:N(s).toDate()}),s.add(180,"minutes"),a++;let e=r.length;this.timeIntervals.map(t=>t.value=t.value+e),this.timeIntervals=[...r,...this.timeIntervals],n=0}else s<i&&(n=e)}this.selectedInterval=this.timeIntervals[n]?this.timeIntervals[n].value:this.timeIntervals[this.timeIntervals.length-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,i)=>{let s=N(t.timeIntervals[e].date);return`<span id="slider-click-prev" class="point-${e} dir-arrows" ></span> ${N(t.timeIntervals[e].date).format("MMM DD hh:mm A")} - ${s.add(165,"minutes").format("MMM DD hh:mm A")} <span id="slider-click-next" class="point-${e} dir-arrows"></span>`},this.leftSliderTime=N(this.timeIntervals[0].date).format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[e-1].date).add(180,"minutes").format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}else if(3==d){let e=0,t=this;e=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[e-1].value;let i=N(null===(s=null==history?void 0:history.state)||void 0===s?void 0:s.endTime[0]),n=this.timeIntervals.findIndex(e=>N(e.date).isSame(i));if(-1===n){let t=N(this.timeIntervals[0].date),s=N(this.timeIntervals[e-1].date),a=0,r=[];if(i<t){for(;i<t;)r.push({value:a,legend:N(i).format("MM/DD/YYYY HH:mm"),date:N(i).toDate()}),i.add(180,"minutes"),a++;let e=r.length;this.timeIntervals.map(t=>t.value=t.value+e),this.timeIntervals=[...r,...this.timeIntervals],n=0}else i<s&&(n=e)}this.selectedInterval=this.timeIntervals[n]?this.timeIntervals[n].value:this.timeIntervals[this.timeIntervals.length-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,i)=>{let s=N(t.timeIntervals[e].date);return`<span id="slider-click-prev" class="point-${e} dir-arrows" ></span> ${N(t.timeIntervals[e].date).format("MMM DD hh:mm A")} - ${s.add(165,"minutes").format("MMM DD hh:mm A")} <span id="slider-click-next" class="point-${e} dir-arrows"></span>`},this.leftSliderTime=N(this.timeIntervals[0].date).format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[e-1].date).add(180,"minutes").format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}else if(4==d){let e=0,t=this;e=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[e-1].value;let i=N(null===(n=null==history?void 0:history.state)||void 0===n?void 0:n.endTime[0]),s=this.timeIntervals.findIndex(e=>N(e.date).isSame(i));if(-1===s){let t=N(this.timeIntervals[0].date),n=N(this.timeIntervals[e-1].date),a=0,r=[];if(i<t){for(;i<t;)r.push({value:a,legend:N(i).format("MM/DD/YYYY HH:mm"),date:N(i).toDate()}),i.add(180,"minutes"),a++;let e=r.length;this.timeIntervals.map(t=>t.value=t.value+e),this.timeIntervals=[...r,...this.timeIntervals],s=0}else i<n&&(s=e)}this.selectedInterval=this.timeIntervals[s]?this.timeIntervals[s].value:this.timeIntervals[this.timeIntervals.length-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,i)=>{let s=N(t.timeIntervals[e].date);return`<span id="slider-click-prev" class="point-${e} dir-arrows" ></span> ${N(t.timeIntervals[e].date).format("MMM DD hh:mm A")} - ${s.add(165,"minutes").format("MMM DD hh:mm A")} <span id="slider-click-next" class="point-${e} dir-arrows"></span>`},this.leftSliderTime=N(this.timeIntervals[0].date).format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[e-1].date).add(180,"minutes").format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}else if(5==d){let e=0,t=this;e=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[e-1].value;let i=N(null===(a=null==history?void 0:history.state)||void 0===a?void 0:a.endTime[0]),s=this.timeIntervals.findIndex(e=>N(e.date).isSame(i));if(-1===s){let t=N(this.timeIntervals[0].date),n=N(this.timeIntervals[e-1].date),a=0,r=[];if(i<t){for(;i<t;)r.push({value:a,legend:N(i).format("MM/DD/YYYY HH:mm"),date:N(i).toDate()}),i.add(180,"minutes"),a++;let e=r.length;this.timeIntervals.map(t=>t.value=t.value+e),this.timeIntervals=[...r,...this.timeIntervals],s=0}else i<n&&(s=e)}this.selectedInterval=this.timeIntervals[s]?this.timeIntervals[s].value:this.timeIntervals[this.timeIntervals.length-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,i)=>{let s=N(t.timeIntervals[e].date);return`<span id="slider-click-prev" class="point-${e} dir-arrows" ></span> ${N(t.timeIntervals[e].date).format("MMM DD hh:mm A")} - ${s.add(165,"minutes").format("MMM DD hh:mm A")} <span id="slider-click-next" class="point-${e} dir-arrows"></span>`},this.leftSliderTime=N(this.timeIntervals[0].date).format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[e-1].date).add(180,"minutes").format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}else if(6==d){let e=0,t=this;e=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[e-1].value;let i=N(null===(r=null==history?void 0:history.state)||void 0===r?void 0:r.endTime[0]),s=this.timeIntervals.findIndex(e=>N(e.date).isSame(i));if(-1===s){let t=N(this.timeIntervals[0].date),n=N(this.timeIntervals[e-1].date),a=0,r=[];if(i<t){for(;i<t;)r.push({value:a,legend:N(i).format("MM/DD/YYYY HH:mm"),date:N(i).toDate()}),i.add(180,"minutes"),a++;let e=r.length;this.timeIntervals.map(t=>t.value=t.value+e),this.timeIntervals=[...r,...this.timeIntervals],s=0}else i<n&&(s=e)}this.selectedInterval=this.timeIntervals[s]?this.timeIntervals[s].value:this.timeIntervals[this.timeIntervals.length-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,i)=>{let s=N(t.timeIntervals[e].date);return`<span id="slider-click-prev" class="point-${e} dir-arrows" ></span> ${N(t.timeIntervals[e].date).format("MMM DD hh:mm A")} - ${s.add(165,"minutes").format("MMM DD hh:mm A")} <span id="slider-click-next" class="point-${e} dir-arrows"></span>`},this.leftSliderTime=N(this.timeIntervals[0].date).format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[e-1].date).add(180,"minutes").format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}else if(7==d){let e=0,t=this;e=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[e-1].value;let i=N(null===(l=null==history?void 0:history.state)||void 0===l?void 0:l.endTime[2]),s=this.timeIntervals.findIndex(e=>N(e.date).isSame(i));if(-1===s){let t=N(this.timeIntervals[0].date),n=N(this.timeIntervals[e-1].date),a=0,r=[];if(i<t){for(;i<t;)r.push({value:a,legend:N(i).format("MM/DD/YYYY HH:mm"),date:N(i).toDate()}),i.add(15,"minutes"),a++;let e=r.length;this.timeIntervals.map(t=>t.value=t.value+e),this.timeIntervals=[...r,...this.timeIntervals],s=0}else i<n&&(s=e)}this.selectedInterval=this.timeIntervals[s]?this.timeIntervals[s].value:this.timeIntervals[this.timeIntervals.length-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(i,s)=>{let n=N(t.timeIntervals[i].date);var a,r;return parseInt(this.timeIntervals[this.selectedInterval].legend.substring(11,13)||"0")%3==0?(a=n.subtract(180,"minutes").format("MMM DD hh:mm A"),r=N(t.timeIntervals[i].date).subtract(15,"minutes").format("MMM DD hh:mm A")):(a=N(this.timeIntervals[e-2].date).format("MMM DD hh:mm A"),r=N(t.timeIntervals[i].date).subtract(15,"minutes").format("MMM DD hh:mm A")),`<span id="slider-click-prev" class="point-${i} dir-arrows" ></span> ${a} - ${r} <span id="slider-click-next" class="point-${i} dir-arrows"></span>`},this.leftSliderTime=N(this.timeIntervals[0].date).subtract(15,"minutes").format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[e-1].date).format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}setTimeout(()=>{this.WeekFramedata=[{id:1,name:this.language[this.lastSeventhDay]},{id:2,name:this.language[this.lastSixthDay]},{id:3,name:this.language[this.lastfifthDay]},{id:4,name:this.language[this.lastFourthDay]},{id:5,name:this.language[this.lastThirdDay]},{id:6,name:this.language[this.yesterDay]},{id:7,name:this.language[this.toDay]}]},2e3)}else{let e=0,t=this;e=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[e-1].value;let i=N(null===(o=null==history?void 0:history.state)||void 0===o?void 0:o.endTime[1]),s=this.timeIntervals.findIndex(e=>N(e.date).isSame(i));if(-1===s){let t=N(this.timeIntervals[0].date),n=N(this.timeIntervals[e-1].date),a=0,r=[];if(i<t){for(;i<t;)r.push({value:a,legend:N(i).format("MM/DD/YYYY HH:mm"),date:N(i).toDate()}),i.add(15,"minutes"),a++;let e=r.length;this.timeIntervals.map(t=>t.value=t.value+e),this.timeIntervals=[...r,...this.timeIntervals],s=0}else i<n&&(s=e)}this.selectedInterval=this.timeIntervals[s]?this.timeIntervals[s].value:this.timeIntervals[this.timeIntervals.length-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,i)=>`<span id="slider-click-prev" class="point-${e} dir-arrows" ></span> ${N(t.timeIntervals[e].date).subtract(15,"minutes").format("MMM DD hh:mm A")} - ${N(t.timeIntervals[e].date).format("MMM DD hh:mm A")} <span id="slider-click-next" class="point-${e} dir-arrows"></span>`,this.leftSliderTime=N(this.timeIntervals[0].date).subtract(60,"minutes").format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[e-1].date).format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}}calcOf15minVal1(){{let e=0,t=this;e=this.timeIntervals.length,this.selectedInterval=this.timeIntervals[e-1].value;let i=N(this.inputs.startTime),s=this.timeIntervals.findIndex(e=>N(e.date).isSame(i));if(-1===s){let t=N(this.timeIntervals[0].date),n=N(this.timeIntervals[e-1].date),a=0,r=[];if(i<t){for(;i<t;)r.push({value:a,legend:N(i).format("MM/DD/YYYY HH:mm"),date:N(i).toDate()}),i.add(15,"minutes"),a++;let e=r.length;this.timeIntervals.map(t=>t.value=t.value+e),this.timeIntervals=[...r,...this.timeIntervals],s=0}else i<n&&(s=e)}this.selectedInterval=this.timeIntervals[s]?this.timeIntervals[s+1].value:this.timeIntervals[this.timeIntervals.length-1].value,this.timeIntervalOptions.stepsArray=[...this.timeIntervals],this.timeIntervalOptions.translate=(e,i)=>`<span id="slider-click-prev" class="point-${e} dir-arrows" ></span> ${N(t.timeIntervals[e].date).subtract(15,"minutes").format("MMM DD hh:mm A")} - ${N(t.timeIntervals[e].date).format("MMM DD hh:mm A")} <span id="slider-click-next" class="point-${e} dir-arrows"></span>`,this.leftSliderTime=N(this.timeIntervals[0].date).subtract(15,"minutes").format("MMM DD hh:mm A"),this.rightSliderTime=N(this.timeIntervals[e-1].date).format("MMM DD hh:mm A"),setTimeout(()=>{this.showIntervalSlider=!0,setTimeout(()=>{$(".multi-point-slider .ngx-slider-pointer-min").attr("title","Drag to select Time frame")},10)},1e3)}}getISOString(e){return e.toISOString().substr(0,16)+":00"}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(h.s),c.Y36(v.Q),c.Y36(g.U),c.Y36(m.t6))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-efficiency"]],hostBindings:function(e,t){1&e&&c.NdJ("click",function(e){return t.inClick(e)})},inputs:{index:"index"},decls:19,vars:11,consts:[["class","w-100 alert alert alert-danger fade show",4,"ngIf"],[1,"row","my-2"],["class","col-md-12 col-lg-3 col-xl-3",4,"ngIf"],["class","col-md-12 col-lg-2 col-xl-2 cus-select-height-24",4,"ngIf"],["class","row mb-3",4,"ngIf"],["class","time-frame-section mb-3 p-0","style","min-height: 100px;",4,"ngIf"],[1,"row","mb-3"],[1,"col-md-12"],["id","devie-client-eff",1,"ccl-Secondary-title","border-bottom","mb-4"],[1,""],["class","loader-wrapper-info",4,"ngIf"],["id","wholeHomeEfficiencyChart",1,"chart-box",2,"height","400px"],[1,"row","d-flex","justify-content-center"],[1,"serviceLegend","mr-1",2,"background-color","#0a77fb"],[1,"cursor-pointer","mr-2",3,"ngClass","click"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"col-md-12","col-lg-3","col-xl-3"],[1,"f-s-14px","mb-0"],["bindLabel","name","bindValue","id",3,"clearable","searchable","items","ngModel","change","ngModelChange"],[1,"col-md-12","col-lg-2","col-xl-2","cus-select-height-24"],[1,"col-md-3"],["bindLabel","name","bindValue","id",3,"items","ngModel","ngModelChange"],["class","col-md-2",4,"ngIf"],["class","col-md-2 form-check",4,"ngIf"],[1,"col-md-3","col-lg-3","text-right","btns-con","smy-2",2,"margin-top","40px"],[1,"d-inline-flex","mr-3"],["type","button",1,"btn-default","primary","px-3",3,"click"],[1,"col-md-2"],["id","week_Date","appendTo","body","placeholder","weekDate","value","#{dateBean.date}",1,"ccl-form",3,"inputStyle","autoZIndex","ngModel","showIcon","ngModelOptions","ngModelChange"],[1,"col-md-2","form-check"],["id","start_date","appendTo","body","placeholder","Time","hourFormat","12",1,"ccl-form",3,"ngModel","stepMinute","inputStyle","autoZIndex","showIcon","ngModelOptions","timeOnly","panelStyleClass","ngModelChange","onSelect"],["id","end_date","appendTo","body","placeholder","Time","hourFormat","12",1,"ccl-form",3,"stepMinute","inputStyle","autoZIndex","ngModel","showIcon","ngModelOptions","timeOnly","disabled","panelStyleClass","ngModelChange","onSelect"],[1,"time-frame-section","mb-3","p-0",2,"min-height","100px"],["class","multi-point-slider",4,"ngIf"],[1,"loader-wrapper-info"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"multi-point-slider"],[3,"value","options","valueChange","userChangeEnd"],[1,"left-most-slider-time"],[1,"right-most-slider-time"],[1,"col-md-3","col-lg-3","text-left","btns-con","smy-2",2,"margin-top","15px"]],template:function(e,t){1&e&&(c.TgZ(0,"section"),c.YNc(1,U,6,1,"div",0),c.TgZ(2,"div",1),c.YNc(3,J,4,5,"div",2),c.YNc(4,E,4,4,"div",3),c.qZA(),c.YNc(5,B,12,7,"div",4),c.YNc(6,X,4,3,"section",5),c.qZA(),c.TgZ(7,"section"),c.TgZ(8,"div",6),c.TgZ(9,"div",7),c.TgZ(10,"div",8),c._uU(11),c.qZA(),c.TgZ(12,"div",9),c.YNc(13,ee,6,1,"div",10),c._UZ(14,"div",11),c.TgZ(15,"div",12),c._UZ(16,"span",13),c.TgZ(17,"span",14),c.NdJ("click",function(){return t.filterContent()}),c._uU(18),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngIf",t.isDateAreEqual),c.xp6(2),c.Q6J("ngIf",t.dropdownModel),c.xp6(1),c.Q6J("ngIf",4==t.TimeFrame),c.xp6(1),c.Q6J("ngIf",!1),c.xp6(1),c.Q6J("ngIf",6==t.TimeFrame||4==t.TimeFrame||7==t.TimeFrame),c.xp6(5),c.hij(" ",t.language["Client Efficiency"]," "),c.xp6(2),c.Q6J("ngIf",t.loader),c.xp6(4),c.Q6J("ngClass",c.VKq(9,te,!t.effDash)),c.xp6(1),c.Oqu(t.language.Efficiency))},directives:[s.O5,s.mk,I.w9,x.JJ,x.On,L.f,Y.w5],styles:[".hideMin[_ngcontent-%COMP%]   .p-minute-picker[_ngcontent-%COMP%]{color:gray;cursor:not-allowed!important;text-decoration:none}.hideMin[_ngcontent-%COMP%]   .p-minute-picker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:not-allowed!important;color:gray}.loader-wrapper[_ngcontent-%COMP%]{position:relative}.loader-wrapper-info[_ngcontent-%COMP%]{transform:translate(-50%,-50%);top:50%;left:50%;position:absolute;width:100%;z-index:100;height:100%}.legendSolid[_ngcontent-%COMP%]{width:20px;height:3px;border-top:2px solid #0a77fb;margin-top:.8rem!important}.serviceLegend[_ngcontent-%COMP%]{width:13px;height:13px;margin-top:.4rem!important;border-radius:50%}.opac[_ngcontent-%COMP%]{opacity:.5}.time-frame-section[_ngcontent-%COMP%]{padding:2px 0 1px 140px;position:relative}.time-frame-section[_ngcontent-%COMP%]   .left-label[_ngcontent-%COMP%]{position:absolute;left:0;top:25px;font-size:16px}.time-frame-section[_ngcontent-%COMP%]   .left-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:-8px!important;display:block}.time-frame-section[_ngcontent-%COMP%]   .left-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#9e9e9e;font-size:12px}  .multi-point-slider .ngx-slider-bar{height:5px!important;background:#EBEAEF!important;border-radius:6px}  .multi-point-slider .ngx-slider .ngx-slider-bubble{color:#4c4c4c!important;font-size:14px!important;font-weight:600;bottom:8px!important;padding:0 15px!important}  .multi-point-slider .ngx-slider-pointer{background-color:#0279ff!important;cursor:pointer;width:32px!important;height:12px!important;top:-3px!important}  .multi-point-slider .ngx-slider-pointer:after{display:none}  .multi-point-slider{position:relative}  .multi-point-slider .left-most-slider-time,   .multi-point-slider .right-most-slider-time{position:absolute;color:#4c4c4c;font-size:12px;font-weight:normal;bottom:-16px}  .multi-point-slider .left-most-slider-time{left:0}  .multi-point-slider .right-most-slider-time{right:0}  .dir-arrows{cursor:pointer;position:absolute;top:5px;right:0;z-index:999;background-repeat:no-repeat!important;width:20px;height:15px}  #slider-click-next{background:url(ic_chevronright_blue.fd81c30020686fc07c55.svg);background-position:14px 0px!important}  #slider-click-prev{background:url(ic_chevronleft_blue.fe45f1210cc5f8e5cadf.svg);left:0}"]}),e})();function se(e,t){if(1&e&&(c.TgZ(0,"div",26),c.TgZ(1,"div",27),c.TgZ(2,"div",28),c.TgZ(3,"span",29),c._uU(4),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(4),c.Oqu(e.language.Loading)}}function ne(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",30),c.TgZ(1,"span",31),c._UZ(2,"img",32),c.qZA(),c.TgZ(3,"strong"),c._uU(4,"Error!"),c.qZA(),c._uU(5),c.TgZ(6,"button",33),c.NdJ("click",function(){c.CHM(e);const t=c.oxw();return t.error!=t.error}),c._UZ(7,"span",34),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(5),c.hij(" ",e.ErrorMsg," ")}}function ae(e,t){if(1&e&&(c.TgZ(0,"ng-option",49),c._uU(1),c.qZA()),2&e){const e=t.$implicit;c.Q6J("value",e),c.xp6(1),c.hij("",e," ")}}function re(e,t){if(1&e&&(c.TgZ(0,"ng-option",49),c._uU(1),c.qZA()),2&e){const e=t.$implicit;c.Q6J("value",e),c.xp6(1),c.hij("",e," ")}}function le(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",35),c.TgZ(1,"div",36),c.TgZ(2,"span",37),c._uU(3),c.qZA(),c.TgZ(4,"span",38),c.NdJ("click",function(){return c.CHM(e),c.oxw().getAllDevices("refresh")}),c._UZ(5,"i",39),c.qZA(),c.qZA(),c.TgZ(6,"div",40),c.TgZ(7,"div",41),c.TgZ(8,"ng-select",42),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().offline=t})("change",function(){return c.CHM(e),c.oxw().sort(!0)}),c.TgZ(9,"ng-option",43),c._uU(10),c.qZA(),c.TgZ(11,"ng-option",44),c._uU(12),c.qZA(),c.TgZ(13,"ng-option",45),c._uU(14),c.qZA(),c.qZA(),c.qZA(),c.TgZ(15,"div",46),c.TgZ(16,"ng-select",42),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().connection=t})("change",function(){return c.CHM(e),c.oxw().sort(!0)}),c.TgZ(17,"ng-option",43),c._uU(18),c.qZA(),c.YNc(19,ae,2,2,"ng-option",47),c.qZA(),c.qZA(),c.TgZ(20,"div",48),c.TgZ(21,"ng-select",42),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().ssidDrop=t})("change",function(){return c.CHM(e),c.oxw().sort(!0)}),c.TgZ(22,"ng-option",43),c._uU(23),c.qZA(),c.YNc(24,re,2,2,"ng-option",47),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(3),c.hij(" ",e.language.Client_device," "),c.xp6(5),c.Q6J("ngModel",e.offline)("searchable",!1),c.xp6(2),c.Oqu(e.language["Online and Offline Devices"]),c.xp6(2),c.Oqu(e.language.Online),c.xp6(2),c.Oqu(e.language.Offline),c.xp6(2),c.Q6J("ngModel",e.connection)("searchable",!1),c.xp6(2),c.Oqu(e.language["Any Band"]),c.xp6(1),c.Q6J("ngForOf",e.Connectionlist),c.xp6(2),c.Q6J("ngModel",e.ssidDrop)("searchable",!1),c.xp6(2),c.Oqu(e.language["All SSIDs"]),c.xp6(1),c.Q6J("ngForOf",e.ssid)}}function oe(e,t){1&e&&c._UZ(0,"span",50)}function de(e,t){1&e&&c._UZ(0,"span",50)}function ce(e,t){1&e&&c._UZ(0,"span",50)}function he(e,t){1&e&&c._UZ(0,"span",50)}function me(e,t){1&e&&c._UZ(0,"span",50)}function ge(e,t){1&e&&c._UZ(0,"span",50)}function ue(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"th",51),c.NdJ("click",function(){return c.CHM(e),c.oxw().custom_sort("WiFi_Score","WiFi_ScoreHeader")}),c._uU(1),c.YNc(2,ge,1,0,"span",11),c.qZA()}if(2&e){const e=c.oxw();c.xp6(1),c.hij(" ",e.language.WiFi_Score," "),c.xp6(1),c.Q6J("ngIf","WiFi_ScoreHeader"!==e.sortedColumn)}}function ve(e,t){1&e&&c._UZ(0,"span",50)}function pe(e,t){1&e&&c._UZ(0,"span",50)}function fe(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"th",52),c.NdJ("click",function(){return c.CHM(e),c.oxw().custom_sort("Efficiency Score","EfficiencyHeader")}),c._uU(1),c.YNc(2,pe,1,0,"span",11),c.qZA()}if(2&e){const e=c.oxw();c.xp6(1),c.hij(" ",e.language["Efficiency Score"]," "),c.xp6(1),c.Q6J("ngIf","EfficiencyHeader"!==e.sortedColumn)}}function De(e,t){1&e&&c._UZ(0,"span",50)}function Me(e,t){1&e&&c._UZ(0,"span",50)}function Ie(e,t){if(1&e&&(c.TgZ(0,"div",54),c.TgZ(1,"div",27),c.TgZ(2,"div",28),c.TgZ(3,"span",29),c._uU(4),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.xp6(4),c.Oqu(e.language.Loading)}}function xe(e,t){if(1&e&&(c.TgZ(0,"tr",53),c.YNc(1,Ie,5,1,"div",24),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.onLoadTime)}}function be(e,t){1&e&&(c.TgZ(0,"span"),c._uU(1," ("),c.qZA())}function Te(e,t){if(1&e&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&e){const e=c.oxw().$implicit;c.xp6(1),c.Oqu(e.AccessPoint)}}function Ze(e,t){1&e&&(c.TgZ(0,"span"),c._uU(1,")"),c.qZA())}function _e(e,t){1&e&&(c.TgZ(0,"span"),c._UZ(1,"img",67),c.qZA())}function Ae(e,t){if(1&e&&(c.TgZ(0,"td"),c._uU(1),c.qZA()),2&e){const e=c.oxw().$implicit;c.xp6(1),c.Oqu(null!=e["Wifi-score"]?e["Wifi-score"]:"--")}}function Se(e,t){1&e&&(c.TgZ(0,"span"),c._UZ(1,"img",67),c.qZA())}function ye(e,t){if(1&e&&(c.TgZ(0,"span"),c.TgZ(1,"span",62),c._UZ(2,"img",68),c.qZA(),c.TgZ(3,"span",69),c.YNc(4,Se,2,0,"span",23),c.qZA(),c.TgZ(5,"span"),c._uU(6),c.qZA(),c.qZA()),2&e){const e=c.oxw().$implicit,t=c.oxw();c.xp6(1),c.hYB("title","",null!=e["Signal-strength"]||0==e["Signal-strength"]?t.language.Signal_Strength+": ":"","",null!=e["Signal-strength"]||0==e["Signal-strength"]?e["Signal-strength"]+"dBm":"--",""),c.xp6(1),c.Q6J("src",t.SignalStrength(e["Signal-strength"],e.Status),c.LSH),c.xp6(1),c.s9C("title",t.language.Issue_Reason2),c.xp6(1),c.Q6J("ngIf","ssR"==t.totalsymbol(e.MACAddress,"ssR")),c.xp6(2),c.hij("(",null!=e&&e.SNR||0==(null==e?null:e.SNR)?(null==e?null:e.SNR)+" dB":"-",")")}}function we(e,t){1&e&&(c.TgZ(0,"span"),c._uU(1,"--"),c.qZA())}function Ce(e,t){1&e&&(c.TgZ(0,"span"),c._UZ(1,"img",70),c.qZA())}function Oe(e,t){if(1&e&&(c.TgZ(0,"td"),c._uU(1),c.TgZ(2,"span",62),c.YNc(3,Ce,2,0,"span",23),c.qZA(),c.qZA()),2&e){const e=c.oxw().$implicit,t=c.oxw();c.xp6(1),c.hij(" ",e["Client-efficiency-score"]>0?(100*e["Client-efficiency-score"]).toFixed(2)+"%":e["Client-efficiency-score"]<0||0==e["Client-efficiency-score"]?(0).toFixed(2)+"%":"--"," "),c.xp6(1),c.s9C("title",t.language.Issue_Reason3),c.xp6(1),c.Q6J("ngIf","LES"==t.totalsymbol(e.MACAddress,"LES"))}}function qe(e,t){if(1&e&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&e){const e=c.oxw().$implicit,t=c.oxw();c.xp6(1),c.hij("",e["DS-phy-rate"]||0==e["DS-phy-rate"]?t.kbpsTO(e["DS-phy-rate"],!1,!0)+"bps":"Kbps"," ")}}function ke(e,t){if(1&e&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&e){const e=c.oxw().$implicit,t=c.oxw();c.xp6(1),c.Oqu(e["US-phy-rate"]||0==e["US-phy-rate"]?t.kbpsTO(e["US-phy-rate"],!1,!0)+"bps":"Kbps")}}function Pe(e,t){1&e&&(c.TgZ(0,"span"),c._UZ(1,"img",70),c.qZA())}function He(e,t){1&e&&(c.TgZ(0,"span"),c._UZ(1,"img",70),c.qZA())}const Ne=function(e){return{"device-text1":e}},Le=function(e,t){return{"device-textoff":e,"device-text":t}};function Ye(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"tr",55),c.NdJ("click",function(){const t=c.CHM(e).index,i=c.oxw();return"DME"!==i.ssoAuthService.getCscType()&&i.deviceSelected(t)}),c.TgZ(1,"td"),c.TgZ(2,"span",56),c._UZ(3,"img",57),c.qZA(),c.qZA(),c.TgZ(4,"td",58),c.TgZ(5,"span"),c._uU(6),c.qZA(),c._uU(7),c._UZ(8,"br"),c.TgZ(9,"span",59),c._uU(10),c.qZA(),c.qZA(),c.TgZ(11,"td"),c._uU(12),c.qZA(),c.TgZ(13,"td"),c.TgZ(14,"p",60),c.TgZ(15,"span"),c._uU(16),c.qZA(),c.YNc(17,be,2,0,"span",23),c.YNc(18,Te,2,1,"span",23),c.YNc(19,Ze,2,0,"span",23),c.qZA(),c.TgZ(20,"p",61),c._uU(21),c.qZA(),c.qZA(),c.TgZ(22,"td"),c._uU(23),c.qZA(),c.TgZ(24,"td"),c._uU(25),c.TgZ(26,"span",62),c.YNc(27,_e,2,0,"span",23),c.qZA(),c.qZA(),c.YNc(28,Ae,2,1,"td",23),c.TgZ(29,"td"),c.YNc(30,ye,7,6,"span",23),c.YNc(31,we,2,0,"span",23),c.qZA(),c.YNc(32,Oe,4,3,"td",23),c.TgZ(33,"td"),c._uU(34),c.qZA(),c.TgZ(35,"td"),c.TgZ(36,"span",63),c._uU(37),c.YNc(38,qe,2,1,"span",64),c.qZA(),c.TgZ(39,"span",65),c._uU(40,"/"),c.qZA(),c.TgZ(41,"span",66),c._uU(42),c.YNc(43,ke,2,1,"span",64),c.qZA(),c.TgZ(44,"span",62),c.YNc(45,Pe,2,0,"span",23),c.qZA(),c.TgZ(46,"span",62),c.YNc(47,He,2,0,"span",23),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=t.$implicit,i=c.oxw();c.Q6J("ngClass",c.VKq(31,Ne,"offline"===e.Status)),c.xp6(3),c.Q6J("src",i.iconimage(e["Client-type"],e.Status),c.LSH),c.xp6(1),c.Q6J("ngClass",c.VKq(33,Ne,"offline"===e.Status)),c.xp6(2),c.Oqu(e.HostName?e.HostName:i.hostNameState),c.xp6(1),c.Oqu(i.deviceStatus(e.Status)),c.xp6(2),c.Q6J("ngClass",c.WLB(35,Le,"offline"===e.Status,"online"===e.Status)),c.xp6(1),c.AsE("",e.IPAddress,"\xa0\xa0\xa0\xa0",e.MACAddress,""),c.xp6(2),c.hij("",null!=e.Connection?e.Connection:"--"," "),c.xp6(4),c.Oqu((null==e?null:e.AccessPointHostName)||""),c.xp6(1),c.Q6J("ngIf",null==e?null:e.AccessPoint),c.xp6(1),c.Q6J("ngIf",null==e?null:e.AccessPoint),c.xp6(1),c.Q6J("ngIf",null==e?null:e.AccessPoint),c.xp6(2),c.Oqu(null!=(null==e?null:e.AccessPointSerialNumber)?null==e?null:e.AccessPointSerialNumber:"--"),c.xp6(2),c.Oqu(null!=e.SSID?e.SSID:"--"),c.xp6(2),c.hij("",null!=e.Mode&&""!=e.Mode?"802."+e.Mode:"--"," "),c.xp6(1),c.s9C("title",i.language.Issue_Reason4),c.xp6(1),c.Q6J("ngIf","rmode"==i.totalsymbol(e.MACAddress,"rmode")),c.xp6(1),c.Q6J("ngIf","WifiScore"==i.showClientEfficiency),c.xp6(2),c.Q6J("ngIf",null!=e["Signal-strength"]&&e["Signal-strength"]||0==e["Signal-strength"]),c.xp6(1),c.Q6J("ngIf",null==e["Signal-strength"]||!e["Signal-strength"]&&0!=e["Signal-strength"]),c.xp6(1),c.Q6J("ngIf","ClientEfficiencyScore"==i.showClientEfficiency),c.xp6(2),c.Oqu(null!=e["DS-packet-drops"]?e["DS-packet-drops"]:"--"),c.xp6(3),c.hij(" ",null!=e["DS-phy-rate"]||0==e["DS-phy-rate"]?i.kbpsTO(e["DS-phy-rate"],!0,!1):"--"," "),c.xp6(1),c.Q6J("ngIf",e["DS-phy-rate"]||0==e["DS-phy-rate"]),c.xp6(4),c.hij(" ",null!=e["US-phy-rate"]||0==e["US-phy-rate"]?i.kbpsTO(e["US-phy-rate"],!0,!1):"--"," "),c.xp6(1),c.Q6J("ngIf",e["US-phy-rate"]||0==e["US-phy-rate"]),c.xp6(1),c.s9C("title",i.language.Issue_Reason_new4),c.xp6(1),c.Q6J("ngIf","dhyRW"==i.totalsymbol(e.MACAddress,"dhyRW")),c.xp6(1),c.s9C("title",i.language.Issue_Reason3),c.xp6(1),c.Q6J("ngIf","LES"==i.totalsymbol(e.MACAddress,"LES")&&!i.showClientEfficiency)}}function Ue(e,t){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"td",71),c._uU(2),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(2),c.Oqu(e.message)}}function Je(e,t){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"td",71),c._uU(2),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(2),c.Oqu(e.language["No Data Available"])}}function Ee(e,t){if(1&e&&(c.TgZ(0,"div",54),c.TgZ(1,"div",27),c.TgZ(2,"div",28),c.TgZ(3,"span",29),c._uU(4),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(4),c.Oqu(e.language.Loading)}}function Fe(e,t){if(1&e&&(c.TgZ(0,"th"),c._uU(1),c.qZA()),2&e){const e=c.oxw(3);c.xp6(1),c.Oqu(e.language.WiFi_Score)}}function Qe(e,t){if(1&e&&(c.TgZ(0,"th"),c._uU(1),c.qZA()),2&e){const e=c.oxw(3);c.xp6(1),c.Oqu(e.language.Client_efficiency)}}function $e(e,t){if(1&e&&(c.TgZ(0,"th"),c._uU(1),c.qZA()),2&e){const e=c.oxw(3);c.xp6(1),c.Oqu(null!=e.deviceDetail["Wifi-score"]||0==e.deviceDetail["Wifi-score"]?e.deviceDetail["Wifi-score"]:"--")}}function Re(e,t){1&e&&(c.TgZ(0,"span"),c._UZ(1,"img",67),c.qZA())}function je(e,t){if(1&e&&(c.TgZ(0,"span"),c.TgZ(1,"span",62),c._UZ(2,"img",68),c.qZA(),c.TgZ(3,"span",69),c.YNc(4,Re,2,0,"span",23),c.qZA(),c.qZA()),2&e){const e=c.oxw(3);c.xp6(1),c.hYB("title","",null!=e.deviceDetail["Signal-strength"]||0==e.deviceDetail["Signal-strength"]?e.language.Signal_Strength+": ":"","",null!=e.deviceDetail["Signal-strength"]||0==e.deviceDetail["Signal-strength"]?e.deviceDetail["Signal-strength"]+"dBm":"--",""),c.xp6(1),c.Q6J("src",e.SignalStrength(e.deviceDetail["Signal-strength"],e.deviceDetail.Status),c.LSH),c.xp6(1),c.s9C("title",e.language.Issue_Reason2),c.xp6(1),c.Q6J("ngIf","ssR"==e.totalsymbol(e.deviceDetail.MACAddress,"ssR"))}}function Ve(e,t){1&e&&(c.TgZ(0,"span"),c._uU(1,"--"),c.qZA())}function We(e,t){1&e&&(c.TgZ(0,"span"),c._UZ(1,"img",100),c.qZA())}function Be(e,t){if(1&e&&(c.TgZ(0,"th"),c._uU(1),c.TgZ(2,"span",62),c.YNc(3,We,2,0,"span",23),c.qZA(),c.qZA()),2&e){const e=c.oxw(3);c.xp6(1),c.hij("",e.deviceDetail["Client-efficiency-score"]>0?(100*e.deviceDetail["Client-efficiency-score"]).toFixed(2)+"%":e.deviceDetail["Client-efficiency-score"]<0||0==e.deviceDetail["Client-efficiency-score"]?(0).toFixed(2)+"%":"--"," "),c.xp6(1),c.s9C("title",e.language.Issue_Reason3),c.xp6(1),c.Q6J("ngIf","LES"==e.totalsymbol(e.deviceDetail.MACAddress,"LES"))}}function ze(e,t){if(1&e&&(c.TgZ(0,"span",98),c._uU(1),c.qZA()),2&e){const e=c.oxw(3);c.xp6(1),c.Oqu(e.deviceDetail["DS-phy-rate"]||0==e.deviceDetail["DS-phy-rate"]?e.kbpsTO(e.deviceDetail["DS-phy-rate"],!1,!0)+"bps":"Kbps")}}function Ge(e,t){1&e&&(c.TgZ(0,"span"),c._UZ(1,"img",100),c.qZA())}function Ke(e,t){1&e&&(c.TgZ(0,"span"),c._UZ(1,"img",70),c.qZA())}function Xe(e,t){if(1&e&&(c.TgZ(0,"span",98),c._uU(1),c.qZA()),2&e){const e=c.oxw(3);c.xp6(1),c.Oqu(e.deviceDetail["US-phy-rate"]||0==e.deviceDetail["US-phy-rate"]?e.kbpsTO(e.deviceDetail["US-phy-rate"],!1,!0)+"bps":"Kbps")}}function et(e,t){if(1&e&&(c.TgZ(0,"table",95),c.TgZ(1,"thead"),c.TgZ(2,"tr",96),c.YNc(3,Fe,2,1,"th",23),c.TgZ(4,"th"),c._uU(5),c.qZA(),c.TgZ(6,"th"),c._uU(7),c.qZA(),c.YNc(8,Qe,2,1,"th",23),c.TgZ(9,"th"),c._uU(10),c.qZA(),c.TgZ(11,"th"),c._uU(12),c.qZA(),c.TgZ(13,"th"),c._uU(14),c.qZA(),c.TgZ(15,"th"),c._uU(16),c.qZA(),c.qZA(),c.qZA(),c.TgZ(17,"tbody"),c.TgZ(18,"tr",96),c.YNc(19,$e,2,1,"th",23),c.TgZ(20,"th",97),c.YNc(21,je,5,5,"span",23),c.YNc(22,Ve,2,0,"span",23),c.qZA(),c.TgZ(23,"th"),c._uU(24),c.TgZ(25,"span",98),c._uU(26),c.qZA(),c.qZA(),c.YNc(27,Be,4,3,"th",23),c.TgZ(28,"th"),c._uU(29),c.YNc(30,ze,2,1,"span",99),c.TgZ(31,"span",62),c.YNc(32,Ge,2,0,"span",23),c.qZA(),c.TgZ(33,"span",62),c.YNc(34,Ke,2,0,"span",23),c.qZA(),c.qZA(),c.TgZ(35,"th"),c._uU(36),c.YNc(37,Xe,2,1,"span",99),c.qZA(),c.TgZ(38,"th"),c._uU(39),c.qZA(),c.TgZ(40,"th"),c._uU(41),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.xp6(3),c.Q6J("ngIf",!e.showClientEfficiency),c.xp6(2),c.Oqu(e.language.Signal_Strength),c.xp6(2),c.Oqu(e.language.SNR),c.xp6(1),c.Q6J("ngIf",e.showClientEfficiency),c.xp6(2),c.Oqu(e.language.DS_PHY_Rate),c.xp6(2),c.Oqu(e.language.US_PHY_Rate),c.xp6(2),c.Oqu(e.language.Dropped_Packets),c.xp6(2),c.Oqu(e.language.Re_Transmitted_Packets),c.xp6(3),c.Q6J("ngIf",!e.showClientEfficiency),c.xp6(2),c.Q6J("ngIf",null!=e.deviceDetail["Signal-strength"]&&0==e.deviceDetail["Signal-strength"]||e.deviceDetail["Signal-strength"]),c.xp6(1),c.Q6J("ngIf",null==e.deviceDetail["Signal-strength"]||!e.deviceDetail["Signal-strength"]&&0!=e.deviceDetail["Signal-strength"]),c.xp6(2),c.Oqu(null!=e.deviceDetail.SNR||0==e.deviceDetail.SNR?e.snr(e.deviceDetail.SNR):"--"),c.xp6(2),c.Oqu(e.deviceDetail.SNR||0==e.deviceDetail.SNR?" dB":""),c.xp6(1),c.Q6J("ngIf",e.showClientEfficiency),c.xp6(2),c.hij("",e.deviceDetail["DS-phy-rate"]||0==e.deviceDetail["DS-phy-rate"]?e.kbpsTO(e.deviceDetail["DS-phy-rate"],!0,!1):"--"," "),c.xp6(1),c.Q6J("ngIf",e.deviceDetail["DS-phy-rate"]||0==e.deviceDetail["DS-phy-rate"]),c.xp6(1),c.s9C("title",e.language.Issue_Reason_new4),c.xp6(1),c.Q6J("ngIf","dhyRW"==e.totalsymbol(e.deviceDetail.MACAddress,"dhyRW")),c.xp6(1),c.s9C("title",e.language.Issue_Reason3),c.xp6(1),c.Q6J("ngIf","LES"==e.totalsymbol(e.deviceDetail.MACAddress,"LES")&&!e.showClientEfficiency),c.xp6(2),c.hij("",e.deviceDetail["US-phy-rate"]||0==e.deviceDetail["US-phy-rate"]?e.kbpsTO(e.deviceDetail["US-phy-rate"],!0,!1):"--"," "),c.xp6(1),c.Q6J("ngIf",e.deviceDetail["US-phy-rate"]||0==e.deviceDetail["US-phy-rate"]),c.xp6(2),c.hij("",null!=e.deviceDetail["DS-packet-drops"]?e.deviceDetail["DS-packet-drops"]:"--"," "),c.xp6(2),c.hij("",null!=e.deviceDetail["DS-retx-packets"]?e.deviceDetail["DS-retx-packets"]:"--"," ")}}function tt(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"li",84),c.NdJ("click",function(){return c.CHM(e),c.oxw(2).tabVisible=2}),c.TgZ(1,"a",101),c._uU(2),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(1),c.Q6J("ngClass",2==e.tabVisible?"nav-link active small":"nav-link small"),c.xp6(1),c.hij(" ",e.language.Signal_Strength_PHY_Rate,"")}}function it(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"li",84),c.NdJ("click",function(){return c.CHM(e),c.oxw(2).tabVisible=3}),c.TgZ(1,"a",102),c._uU(2),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(1),c.Q6J("ngClass",3==e.tabVisible?"nav-link active small":"nav-link small"),c.xp6(1),c.hij(" ",e.language.TX_RX_Bytes,"")}}function st(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"li",84),c.NdJ("click",function(){return c.CHM(e),c.oxw(2).tabVisible=4}),c.TgZ(1,"a",103),c._uU(2),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(1),c.Q6J("ngClass",4==e.tabVisible?"nav-link active small":"nav-link small"),c.xp6(1),c.hij(" ",e.language.Steering_Logs,"")}}function nt(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"li",84),c.NdJ("click",function(){return c.CHM(e),c.oxw(2).tabVisible=5}),c.TgZ(1,"a",104),c._uU(2),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(1),c.Q6J("ngClass",5==e.tabVisible?"nav-link active small":"nav-link small"),c.xp6(1),c.hij(" ",e.language.Efficiency," ")}}function at(e,t){if(1&e&&c._UZ(0,"app-device",105),2&e){const e=c.oxw(2);c.Q6J("index",e.deviceDetail)("selectedDevice",e.selectedDevice)("currentTime",e.currentTime)("rmode",e.rmode)}}function rt(e,t){if(1&e&&c._UZ(0,"app-signal-strength",106),2&e){const e=c.oxw(2);c.Q6J("orgId",e.orgId)("fsan",e.selectedDeviceFSAN)("routerData",e.selectedDevice)("RGRouter",e.RGData)("showSteeringLog",!0)("showCharts",!0)}}function lt(e,t){if(1&e&&c._UZ(0,"app-tx-rx",107),2&e){const e=c.oxw(2);c.Q6J("orgId",e.orgId)("fsan",e.selectedDeviceFSAN)("routerData",e.selectedDevice)}}function ot(e,t){if(1&e&&c._UZ(0,"app-signal-strength",106),2&e){const e=c.oxw(2);c.Q6J("orgId",e.orgId)("fsan",e.selectedDeviceFSAN)("routerData",e.selectedDevice)("RGRouter",e.RGData)("showSteeringLog",!0)("showCharts",!1)}}function dt(e,t){if(1&e&&c._UZ(0,"app-efficiency",108),2&e){const e=c.oxw(2);c.Q6J("index",e.deviceDetail)}}function ct(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",72),c.TgZ(1,"div",73),c.TgZ(2,"div",74),c.TgZ(3,"span",75),c.TgZ(4,"img",76),c.NdJ("click",function(){c.CHM(e);const t=c.oxw();return t.isDeviceTable=!0,t.historyclose()}),c.qZA(),c.qZA(),c.TgZ(5,"div",77),c._UZ(6,"img",57),c._uU(7," \xa0 "),c.TgZ(8,"span"),c._uU(9),c.qZA(),c._uU(10),c.qZA(),c._UZ(11,"p",78),c.qZA(),c.qZA(),c.TgZ(12,"div",79),c.TgZ(13,"div",80),c.YNc(14,et,42,24,"table",81),c.qZA(),c.qZA(),c.TgZ(15,"div",79),c.TgZ(16,"div",82),c.TgZ(17,"ul",83),c.TgZ(18,"li",84),c.NdJ("click",function(){return c.CHM(e),c.oxw().tabVisible=1}),c.TgZ(19,"a",85),c._uU(20),c.qZA(),c.qZA(),c._uU(21,"\xa0\xa0 "),c.YNc(22,tt,3,2,"li",86),c._uU(23,"\xa0 "),c.YNc(24,it,3,2,"li",86),c._uU(25,"\xa0 "),c.YNc(26,st,3,2,"li",86),c.YNc(27,nt,3,2,"li",86),c.qZA(),c.TgZ(28,"div",87),c.TgZ(29,"div",88),c._UZ(30,"div",89),c.qZA(),c.TgZ(31,"div",90),c._UZ(32,"div",89),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(33,at,1,4,"app-device",91),c.YNc(34,rt,1,6,"app-signal-strength",92),c.YNc(35,lt,1,3,"app-tx-rx",93),c.YNc(36,ot,1,6,"app-signal-strength",92),c.YNc(37,dt,1,1,"app-efficiency",94),c.qZA()}if(2&e){const e=c.oxw();c.xp6(6),c.Q6J("src",e.iconimage(e.icon,e.status),c.LSH),c.xp6(3),c.Oqu(e.deviceDetail.HostName?e.deviceDetail.HostName:e.hostNameState),c.xp6(1),c.xDo("\xa0 \xa0 ",e.deviceDetail.Manufacture&&e.deviceDetail.Model&&("Unknown"!=e.deviceDetail.Manufacture||"Unknown"!=e.deviceDetail.Model)?"(":" "," ",e.deviceDetail.Manufacture&&"undefined"!=e.deviceDetail.Manufacture&&"Unknown"!=e.deviceDetail.Manufacture?e.deviceDetail.Manufacture+" ":""," ",e.deviceDetail.Manufacture&&e.deviceDetail.Model&&"Unknown"!=e.deviceDetail.Manufacture&&"Unknown"!=e.deviceDetail.Model?"-":""," ","undefined"!=e.deviceDetail.Model&&"Unknown"!=e.deviceDetail.Model?null==e.deviceDetail?null:e.deviceDetail.Model:" ","",null!=e.deviceDetail&&e.deviceDetail.Manufacture&&e.deviceDetail.Model&&("Unknown"!=e.deviceDetail.Manufacture||"Unknown"!=e.deviceDetail.Model)?")":""," "),c.xp6(4),c.Q6J("ngIf","LAN"!=e.Lan),c.xp6(5),c.Q6J("ngClass",1==e.tabVisible?"px-0 nav-link active small":"px-0 nav-link small"),c.xp6(1),c.hij(" ",e.language.Device_Details,""),c.xp6(2),c.Q6J("ngIf",e.Lanconnect),c.xp6(2),c.Q6J("ngIf",e.txrxtabcheck),c.xp6(2),c.Q6J("ngIf",e.showSteering),c.xp6(1),c.Q6J("ngIf",e.showQOE&&"LAN"!=e.Lan),c.xp6(6),c.Q6J("ngIf",1==e.tabVisible),c.xp6(1),c.Q6J("ngIf",2==e.tabVisible),c.xp6(1),c.Q6J("ngIf",3==e.tabVisible),c.xp6(1),c.Q6J("ngIf",4==e.tabVisible),c.xp6(1),c.Q6J("ngIf",5==e.tabVisible)}}const ht=function(e){return{table:e}},mt=[{path:"",component:(()=>{class e{constructor(e,t,i,s,n,a,r,o,d,c){var h;this.translateService=e,this.ssoAuthService=t,this.deviceService=i,this.api=s,this.service=n,this.issuseservice=a,this.router=r,this.routerService=o,this.titleService=d,this.chRef=c,this.isDeviceTable=!0,this.tabVisible=1,this.RGData=[],this.deviceData=[],this.deviceList=[],this.routerSerialNumber="",this.serialNo=0,this.Lanconnect=!1,this.txrxtabcheck=!1,this.Connectionlist=[],this.ssid=[],this.datacopy=[],this.error=!1,this.connection="All",this.ssidDrop="All",this.offline="All",this.a="<img src='assets/img/outline-warning-orange.svg'>",this.REDICON=!1,this.IserialNumber=" ",this.dhyRW=!1,this.disabletab=!1,this.isOnlineNow=null===(h=null==history?void 0:history.state)||void 0===h?void 0:h.is_online_now,this.showSteering=!1,this.qoeSupported=!1,this.scope={qoeRead:!1},this.showClientEfficiency="",this.dtTrigger=new l.xQ,this.tableOptions={pagingType:"full_numbers",pageLength:20,serverSide:!1,processing:!0,dom:"tipr",ordering:!1},this.devicePageLoaded=!1,this.showNoData=!1,this.isExosModel=!1,this.dtOptions={},this.isDevEnv=!1,this.asc_Order=!0,this.sortedColumn="",this.onLoadTime=!1,this.ssoAuthService.setActionLog("CSC","pageHit","DEVICE",this.router.url,"Device page loaded"),sessionStorage.setItem("exosVersion",null),this.ssoAuthService.checkExosModel("21.2")}ngOnInit(){var e;this.isDevEnv=this.ssoAuthService.API.includes("dev"),this.language=this.translateService.defualtLanguage,this.tableLanguageOptions(),this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.titleService.setTitle(`${this.language.devices} - ${this.language.Service} - ${this.language["Calix Cloud"]}`),this.tableLanguageOptions()}),this.titleService.setTitle(`${this.language.devices} - ${this.language.Service} - ${this.language["Calix Cloud"]}`),sessionStorage.getItem("calix.userFdUser"),this.ssoAuthService.isExosModel.subscribe(e=>{this.isExosModel=e}),this.qoeCheck(),this.isDeviceTable=!0,this.dtOptions={paging:!1,info:!1,columnDefs:[{targets:[0,1,2,3,4,5,6,7,8],orderable:!1}],searching:!1},this.orgId=this.ssoAuthService.getOrgId(),this.deviceData=JSON.parse(sessionStorage.getItem(`${this.ssoAuthService.getTabId()}calix.deviceData`)),0!=(null===(e=this.deviceData)||void 0===e?void 0:e.filter(e=>e._id).length)&&(this.loading=!0,this.getFeatureProperties())}ngAfterViewChecked(){0==this.deviceList.length&&(setTimeout(()=>{this.devicePageLoaded=!0},5e3),this.deviceList=[],this.showNoData=!0),this.chRef.detectChanges()}getFeatureProperties(){var e,t,i,s,n;this.showClientEfficiency="";let a=this.ssoAuthService.getOrgId(),r=null===(t=null===(e=JSON.parse(window.sessionStorage.getItem("calix.deviceData")))||void 0===e?void 0:e.filter(e=>"RG"==e.opMode)[0])||void 0===t?void 0:t.serialNumber,l=null===(i=(JSON.parse(window.sessionStorage.getItem("calix.deviceData"))||[])[0])||void 0===i?void 0:i.serialNumber,o=this.service.getMetaData(r||l);if(o)return(o.hasOwnProperty("ClientEfficiencyScore")||o.hasOwnProperty("WifiScore"))&&(this.showClientEfficiency=(null===(s=o.ClientEfficiencyScore)||void 0===s?void 0:s.supported)?"ClientEfficiencyScore":(null===(n=o.WifiScore)||void 0===n?void 0:n.supported)?"WifiScore":""),void this.initDataLoad();r&&a&&this.service.fetchMetaData(a,r).subscribe(e=>{var t;e&&(null===(t=null==e?void 0:e.properties)||void 0===t||t.filter(e=>{("ClientEfficiencyScore"==(null==e?void 0:e.featureName)||"WifiScore"==(null==e?void 0:e.featureName))&&(null==e?void 0:e.supported)&&(this.showClientEfficiency=null==e?void 0:e.featureName)}),this.initDataLoad())})}initDataLoad(){var e,t,i,s,n,a,r;if(1!=(null===(e=null==history?void 0:history.state)||void 0===e?void 0:e.isDataModel)&&this.getAllDevices(),1==(null===(t=null==history?void 0:history.state)||void 0===t?void 0:t.isDataModel)){for(var l of(this.rmode=null===(i=null==history?void 0:history.state)||void 0===i?void 0:i.allDeviceissues,this.totalissues=null===(s=null==history?void 0:history.state)||void 0===s?void 0:s.allDeviceissues,this.IserialNumber=null===(n=null==history?void 0:history.state)||void 0===n?void 0:n.serialNumber,this.ImacAddress=null===(a=null==history?void 0:history.state)||void 0===a?void 0:a.macAddress,this.selectedDevice={},this.selectedDevice.MACAddress=this.ImacAddress,this.selectedDeviceFSAN=this.IserialNumber,this.deviceData))"RG"===l.opMode&&(this.RGData=l);this.deviceService.getdevices(this.IserialNumber,this.orgId).subscribe(e=>{this.deviceList=e,this.dtTrigger.next(),this.datacopy=this.deviceList,this.SsidandConFilter(),this.sortinalphbet(),this.callsecong(),this.deviceService.getDeviceDetails(this.orgId,this.IserialNumber,this.ImacAddress).subscribe(e=>{var t;for(var i of(this.deviceDetail=e,this.Lan=this.deviceDetail["Connection-type"],this.datacopy))if(i.HostName===this.deviceDetail.HostName){this.deviceDetail["Client-efficiency-score"]=i["Client-efficiency-score"];break}let s,n;for(var i of this.deviceData)if(i.serialNumber===this.selectedDeviceFSAN){s=i.modelName,n=i.manufacturer;break}let a=this.deviceDetail?null===(t=this.deviceDetail.AccessPointDeviceInfo)||void 0===t?void 0:t.productClass:" ";["GigaSpire","GigaPoint","GigaMesh","GigaPro"].includes(a)?(this.txrxtabcheck=!0,this.showSteering=!1,this.Lanconnect="LAN"!=this.deviceDetail["Connection-type"]):"LAN"!=this.deviceDetail["Connection-type"]?(this.Lanconnect=!0,this.txrxtabcheck=!0,this.showSteering=!1):(this.Lanconnect=!1,this.txrxtabcheck=!1,this.showSteering="LAN"!=this.deviceDetail["Connection-type"]),this.loading=!1,this.devicePageLoaded=!0,this.isDeviceTable=!1},e=>{this.loading=!1,this.devicePageLoaded=!0,this.ErrorMsg=e})},e=>{this.loading=!1,this.devicePageLoaded=!0})}0==(null===(r=this.deviceData)||void 0===r?void 0:r.length)&&(this.loading=!1,this.devicePageLoaded=!0),this.currentTime=(new Date).getTime(),this.totalissues=this.issuseservice.getDeviceIssues(),this.rmode=this.issuseservice.getDeviceIssues(),this.apiCallDone=!0}historyclose(){history.state.endTime=!1,history.state.stationMac=!1,history.state.period=!1,this.getAllDevices("refresh")}callsecong(){var e;let t=[];this.datacopy.forEach(e=>{"online"==e.Status&&t.push(e)}),this.DeviceCount=t?null==t?void 0:t.length:0,this.service.setDeviceTabCount(this.DeviceCount);let i=this.service.getSubscriberTabInfoData()?this.service.getSubscriberTabInfoData():"";i.networkStatus.lanHostsList.connectedDeviceCount=this.DeviceCount,this.service.setSubscriberTabInfoData(i),this.deviceCountDone=1!=this.deviceCountDone;let s=[],n=null===(e=null==history?void 0:history.state)||void 0===e?void 0:e.serialNumber;this.deviceList.forEach(e=>{e.AccessPointSerialNumber==n&&s.push(e)}),s.length&&(this.status=s[0].status,this.icon=s[0]["Client-type"],this.hostname=s[0].HostName)}getAllDevices(e){var t;e&&(this.totalissues=this.issuseservice.getDeviceIssues(),this.rmode=this.issuseservice.getDeviceIssues());let i={};if(this.deviceData)for(var s of this.deviceData)if((null===(t=null==history?void 0:history.state)||void 0===t?void 0:t.stationMac)==s.macAddress)i=s;else{if("RG"===s.opMode){i=s;break}s.opMode&&s.opMode.includes("WAP")&&(this.loading=!1,this.devicePageLoaded=!0,this.devicePageLoaded=!0,i=s)}i.opMode?(this.RGData=i,this.loading=!0,this.deviceService.getdevices(i.serialNumber,this.orgId,e).subscribe(t=>{var i,s,n;if(this.deviceList=t||[],this.datacopy=this.deviceList,this.sortinalphbet(),this.loading=!1,this.devicePageLoaded=!0,this.onLoadTime=!1,"refresh"==e?(this.deviceList=t||[],this.dtElement.dtInstance.then(e=>{e.clear().draw()})):(this.deviceList=t||[],this.dtTrigger.next()),1==this.deviceService.efficiencyChart){null==history?void 0:history.state;let e=null===(i=null==history?void 0:history.state)||void 0===i?void 0:i.stationMac,t=this.deviceList.findIndex(t=>t.MACAddress===e);-1!==t?this.deviceSelected(t):(null===(s=null==history?void 0:history.state)||void 0===s?void 0:s.stationMac)&&(this.deviceList.push({AccessPointSerialNumber:"",Status:"","Client-type":"",HostName:null===(n=null==history?void 0:history.state)||void 0===n?void 0:n.stationMac,Connection:""}),this.deviceSelected(this.deviceList.length-1))}let a=[];t.forEach(e=>{"online"==e.Status&&a.push(e)}),this.SsidandConFilter(),this.sort(),this.DeviceCount=a?a.length:0,this.service.setDeviceTabCount(this.DeviceCount);let r=this.service.getSubscriberTabInfoData()?this.service.getSubscriberTabInfoData():"";r&&(r.networkStatus.lanHostsList.connectedDeviceCount=this.DeviceCount,this.service.setSubscriberTabInfoData(r),this.deviceCountDone=1!=this.deviceCountDone),e&&this.custom_sort("",""),this.onLoadTime=!1},t=>{this.loading=!1,this.devicePageLoaded=!0,this.onLoadTime=!1,this.ErrorMsg=t,e&&this.custom_sort("","")})):this.devicePageLoaded=!1,e||(this.connection="All",this.ssidDrop="All"),e&&this.custom_sort("",""),this.devicePageLoaded=!0}sortinalphbet(){let e=[],t=[];this.deviceList.forEach(i=>{"online"==i.Status?e.push(i):t.push(i)}),e.sort((e,t)=>(e.Connection||"").toString().localeCompare((t.Connection||"").toString())),t.sort((e,t)=>(e.Connection||"").toString().localeCompare((t.Connection||"").toString())),this.deviceList=[...e,...t]}ngOnDestroy(){this.languageSubject.unsubscribe(),this.qoeSubscribed&&this.qoeSubscribed.unsubscribe()}deviceStatus(e){if("offline"===e)return"( offline )"}BytesConvert(e,t=2){return 0===e?0:parseFloat((e/Math.pow(1024,1)).toFixed(t))}deviceSelected(e){var t,i;let s,n;for(var a of(this.disabletab=!1,this.tabVisible=1,this.selectedDevice=this.deviceList[e],this.selectedDeviceFSAN=null===(t=this.deviceList[e])||void 0===t?void 0:t.AccessPointSerialNumber,this.status=this.deviceList[e].Status,this.icon=this.deviceList[e]["Client-type"],this.hostname=this.deviceList[e].HostName,this.Lan=this.deviceList[e].Connection,this.deviceData))if(a.serialNumber===this.selectedDeviceFSAN){s=a.modelName,n=a.manufacturer;break}if(this.deviceList[e].MACAddress)this.loading=!0,this.deviceService.getDeviceDetails(this.orgId,this.RGData.serialNumber,this.deviceList[e].MACAddress).subscribe(t=>{var i;this.deviceDetail=t,this.deviceDetail["Client-efficiency-score"]=this.deviceList[e]["Client-efficiency-score"],this.loading=!1,this.devicePageLoaded=!0,this.isDeviceTable=!1;let s=this.deviceDetail?null===(i=this.deviceDetail.AccessPointDeviceInfo)||void 0===i?void 0:i.productClass:" ";["GigaSpire","GigaPoint","GigaMesh","GigaPro"].includes(s)?(this.txrxtabcheck=!0,this.showSteering=!1,this.Lanconnect="LAN"!=this.deviceList[e].Connection):"LAN"!=this.deviceList[e].Connection?(this.Lanconnect=!0,this.txrxtabcheck=!0,this.showSteering=!1):(this.Lanconnect=!1,this.txrxtabcheck=!1,this.showSteering="LAN"!=this.deviceList[e].Connection),1==this.deviceService.efficiencyChart&&(this.tabVisible=5,this.deviceService.efficiencyChart=!1)},e=>{this.deviceDetail={},this.isDeviceTable=!1,this.loading=!1,this.devicePageLoaded=!0});else{this.loading=!1,this.devicePageLoaded=!0,this.deviceDetail={},this.deviceDetail.Hostname=null===(i=null==history?void 0:history.state)||void 0===i?void 0:i.stationMac,this.hostNameState=this.deviceDetail.Hostname,this.deviceService.efficiencyChart=!1,this.tabVisible=5,this.deviceList.slice(0,e),this.isDeviceTable=!this.deviceDetail.Hostname;let t=this.isOnlineNow;this.isOnlineNow&&(t=this.isOnlineNow),this.disabletab=null!=t&&1!=t}}onDeviceClick(){this.deviceList=this.datacopy,this.isDeviceTable=!0,this.connection="All",this.ssidDrop="All",this.offline="All",this.sortinalphbet(),this.rerender(),this.custom_sort("","")}snr(e){return Number.isInteger(e)?e:e.toFixed(2)}sort(e){this.deviceList=[];let t=[];if("All"==this.connection&&"All"==this.ssidDrop&&"All"==this.offline){if(e)return void this.getAllDevices("refresh");this.deviceList=this.datacopy}else"All"==this.offline?"All"==this.connection&&"All"!=this.ssidDrop?this.datacopy.forEach(e=>{e.SSID==this.ssidDrop&&this.deviceList.push(e)}):"All"!=this.connection&&"All"==this.ssidDrop?this.datacopy.forEach(e=>{e.Connection==this.connection&&this.deviceList.push(e)}):"All"!=this.connection&&"All"!=this.ssidDrop&&this.datacopy.forEach(e=>{e.Connection==this.connection&&e.SSID==this.ssidDrop&&this.deviceList.push(e)}):"Online"==this.offline?(this.deviceList=[],t=this.datacopy.filter(e=>"online"===e.Status),"All"==this.connection&&"All"==this.ssidDrop?this.deviceList=this.datacopy.filter(e=>"online"===e.Status):"All"==this.connection&&"All"!=this.ssidDrop?t.forEach(e=>{e.SSID==this.ssidDrop&&this.deviceList.push(e)}):"All"!=this.connection&&"All"==this.ssidDrop?t.forEach(e=>{e.Connection==this.connection&&this.deviceList.push(e)}):"All"!=this.connection&&"All"!=this.ssidDrop&&t.forEach(e=>{e.Connection==this.connection&&e.SSID==this.ssidDrop&&this.deviceList.push(e)})):"Offline"==this.offline&&(this.deviceList=[],t=this.datacopy.filter(e=>"offline"===e.Status),"All"==this.connection&&"All"==this.ssidDrop?this.deviceList=this.datacopy.filter(e=>"offline"===e.Status):"All"==this.connection&&"All"!=this.ssidDrop?t.forEach(e=>{e.SSID==this.ssidDrop&&this.deviceList.push(e)}):"All"!=this.connection&&"All"==this.ssidDrop?t.forEach(e=>{e.Connection==this.connection&&this.deviceList.push(e)}):"All"!=this.connection&&"All"!=this.ssidDrop&&t.forEach(e=>{e.Connection==this.connection&&e.SSID==this.ssidDrop&&this.deviceList.push(e)}));this.rerender(),this.custom_sort("",""),this.sortinalphbet()}iconimage(e,t){switch(parseInt(e)){case 0:return"offline"==t?"./assets/images/deviceicons/question_mark_grey_icon.png":"./assets/images/deviceicons/question_mark_blue_icon.png";case 1:return"offline"==t?"./assets/images/deviceicons/phone_grey_icon.png":"./assets/images/deviceicons/phone_blue_icon.png";case 2:return"offline"==t?"./assets/images/deviceicons/computer_grey_icon.png":"./assets/images/deviceicons/computer_blue_icon.png";case 3:return"offline"==t?"./assets/images/deviceicons/console_grey_icon.png":"./assets/images/deviceicons/console_blue_icon.png";case 4:return"offline"==t?"./assets/images/deviceicons/media_player_grey_icon.png":"./assets/images/deviceicons/media_player_blue_icon.png";case 5:return"offline"==t?"./assets/images/deviceicons/printer_grey_icon.png":"./assets/images/deviceicons/printer_blue_icon.png";case 6:return"offline"==t?"./assets/images/deviceicons/television_grey_icon.png":"./assets/images/deviceicons/television_blue_icon.png";case 7:return"offline"==t?"./assets/images/deviceicons/network_icon_grey.png":"./assets/images/deviceicons/network_blue_icon.png";case 8:return"offline"==t?"./assets/images/deviceicons/camera_grey_icon.png":"./assets/images/deviceicons/camera_blue_icon.png";case 9:return"offline"==t?"./assets/images/deviceicons/tablet_grey_icon.png":"./assets/images/deviceicons/tablet_blue_icon.png";case 10:return"offline"==t?"./assets/images/deviceicons/voip_grey.png":"./assets/images/deviceicons/voip_blue.png";case 11:return"offline"==t?"./assets/images/deviceicons/iot_grey.png":"./assets/images/deviceicons/iot_blue.png";case 30:return"offline"==t?"./assets/images/deviceicons/ic_modem-24px.svg":"./assets/images/deviceicons/ic_modem_grey.png";default:return"offline"==t?"./assets/images/deviceicons/question_mark_grey_icon.png":"./assets/images/deviceicons/question_mark_blue_icon.png"}}kbpsTO(e,t,i){return this.api.kbpsTO(e,t,i)}SignalStrength(e,t){let i=parseInt(e);if("online"==t){if(i>=-50)return"./assets/images/SignalIcons/signal_bar_icon.png";if(i>=-66&&i<=-51)return"./assets/images/SignalIcons/signalstrength04.png";if(i>=-69&&i<=-67)return"./assets/images/SignalIcons/signalstrength03.png";if(i>=-79&&i<=-70)return"./assets/images/SignalIcons/signalstrength02.png";if(i<=-80)return"./assets/images/SignalIcons/signalstrength01.png"}else{if(i>=-50)return"./assets/images/signalstrength_grey/05.png";if(i>=-66&&i<=-51)return"./assets/images/signalstrength_grey/04.png";if(i>=-69&&i<=-67)return"./assets/images/signalstrength_grey/03.png";if(i>=-79&&i<=-70)return"./assets/images/signalstrength_grey/02.png";if(i<=-80)return"./assets/images/signalstrength_grey/01.png"}}responseFromStatus(e){this.totalissues=this.issuseservice.getDeviceIssues(),this.rmode=this.issuseservice.getDeviceIssues(),this.devicePageLoaded=e}totalsymbol(e,t){if(!this.totalissues)return!1;for(var i of this.totalissues)if(i.serialNumber==e&&i.warning==t)switch(i.warning){case"ssR":if("ssR"==t)return"ssR";case"dhyRW":if("dhyRW"==t)return"dhyRW";case"rmode":if("rmode"==t)return"rmode";case"LES":if("LES"==t)return"LES";default:return""}}SsidandConFilter(){this.datacopy=this.deviceList,this.deviceList.forEach(e=>{e.Connection&&this.Connectionlist.push(e.Connection),e.SSID&&this.ssid.push(e.SSID)}),this.Connectionlist=this.Connectionlist.filter(function(e,t,i){return i.indexOf(e)===t}),this.ssid=this.ssid.filter(function(e,t,i){return i.indexOf(e)===t})}qoeCheck(){this.qoeSubscribed=this.service.showQoe.subscribe(e=>{this.showQOE=e})}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.tableOptions.language=this.translateService.fr:"es"==this.language.fileLanguage?this.tableOptions.language=this.translateService.es:"de_DE"==this.language.fileLanguage?this.tableOptions.language=this.translateService.de_DE:"en"==this.language.fileLanguage&&(this.tableOptions.language=this.translateService.en),this.rerender()}rerender(){var e,t;null===(t=null===(e=this.dtElement)||void 0===e?void 0:e.dtInstance)||void 0===t||t.then(e=>{e.destroy(),this.dtTrigger.next()})}custom_sort(e,t){var i,s,n,a,r,l,o,c,h,m,g,u,v,p,f,D,M,I,x,b,T,Z;let _=[];this.deviceListCopy=this.deviceList,this.sortedColumn!=t&&""!=this.sortedColumn&&(this.asc_Order=!0),this.sortedColumn!=t&&""!=this.sortedColumn&&"EfficiencyHeader"!=this.sortedColumn&&((null===(s=null===(i=document.getElementById(this.sortedColumn))||void 0===i?void 0:i.className)||void 0===s?void 0:s.includes("sorting_asc"))?null===(a=null===(n=document.getElementById(this.sortedColumn))||void 0===n?void 0:n.classList)||void 0===a||a.remove("sorting_asc"):(null===(l=null===(r=document.getElementById(this.sortedColumn))||void 0===r?void 0:r.className)||void 0===l?void 0:l.includes("sorting_desc"))&&(null===(c=null===(o=document.getElementById(this.sortedColumn))||void 0===o?void 0:o.classList)||void 0===c||c.remove("sorting_desc"))),"EfficiencyHeader"==this.sortedColumn&&"EfficiencyHeader"!==t&&((null===(m=null===(h=document.querySelector("."+this.sortedColumn))||void 0===h?void 0:h.className)||void 0===m?void 0:m.includes("sorting_asc"))?null===(u=null===(g=document.querySelector("."+this.sortedColumn))||void 0===g?void 0:g.classList)||void 0===u||u.remove("sorting_asc"):(null===(p=null===(v=document.querySelector("."+this.sortedColumn))||void 0===v?void 0:v.className)||void 0===p?void 0:p.includes("sorting_desc"))&&(null===(D=null===(f=document.querySelector("."+this.sortedColumn))||void 0===f?void 0:f.classList)||void 0===D||D.remove("sorting_desc"))),this.sortedColumn=t;let A="EfficiencyHeader"==t?document.querySelector("."+t):document.getElementById(t);this.asc_Order?((null===(M=null==A?void 0:A.className)||void 0===M?void 0:M.includes("sorting_desc"))&&(null===(I=null==A?void 0:A.classList)||void 0===I||I.remove("sorting_desc")),null===(x=null==A?void 0:A.classList)||void 0===x||x.add("sorting_asc")):((null===(b=null==A?void 0:A.className)||void 0===b?void 0:b.includes("sorting_asc"))&&(null===(T=null==A?void 0:A.classList)||void 0===T||T.remove("sorting_asc")),null===(Z=null==A?void 0:A.classList)||void 0===Z||Z.add("sorting_desc")),"device"==e&&this.asc_Order?_=d().orderBy(this.deviceListCopy,e=>{var t;return null===(t=e.HostName)||void 0===t?void 0:t.toUpperCase()},["asc"]):"device"==e&&!this.asc_Order&&(_=d().orderBy(this.deviceListCopy,e=>{var t;return null===(t=e.HostName)||void 0===t?void 0:t.toUpperCase()},["desc"])),"Connection"==e&&this.asc_Order?_=d().orderBy(this.deviceListCopy,["Connection"],["asc"]):"Connection"==e&&!this.asc_Order&&(_=d().orderBy(this.deviceListCopy,["Connection"],["desc"])),"Access_Point"==e&&this.asc_Order?_=d().orderBy(this.deviceListCopy,["AccessPointHostName","AccessPoint"],["asc","asc"]):"Access_Point"==e&&!this.asc_Order&&(_=d().orderBy(this.deviceListCopy,["AccessPointHostName","AccessPoint"],["desc","desc"])),"SSID"==e&&this.asc_Order?_=d().orderBy(this.deviceListCopy,["SSID"],["asc"]):"SSID"==e&&!this.asc_Order&&(_=d().orderBy(this.deviceListCopy,["SSID"],["desc"])),"Mode"==e&&this.asc_Order?_=d().orderBy(this.deviceListCopy,["Mode"],["asc"]):"Mode"==e&&!this.asc_Order&&(_=d().orderBy(this.deviceListCopy,["Mode"],["desc"])),"WiFi_Score"==e&&this.asc_Order?_=d().orderBy(this.deviceListCopy,["Wifi-score"],["asc"]):"WiFi_Score"==e&&!this.asc_Order&&(_=d().orderBy(this.deviceListCopy,["Wifi-score"],["desc"])),"Signal_Strength"==e&&this.asc_Order?_=d().orderBy(this.deviceListCopy,["Signal-strength","SNR"],["asc","asc"]):"Signal_Strength"==e&&!this.asc_Order&&(_=d().orderBy(this.deviceListCopy,["Signal-strength","SNR"],["desc","desc"])),"Efficiency Score"==e&&this.asc_Order?_=d().orderBy(this.deviceListCopy,["Client-efficiency-score"],["asc"]):"Efficiency Score"==e&&!this.asc_Order&&(_=d().orderBy(this.deviceListCopy,["Client-efficiency-score"],["desc"])),"Pkts_Dropped"==e&&this.asc_Order?_=d().orderBy(this.deviceListCopy,["DS-packet-drops"],["asc"]):"Pkts_Dropped"==e&&!this.asc_Order&&(_=d().orderBy(this.deviceListCopy,["DS-packet-drops"],["desc"])),"dsUsPhyRate"==e&&this.asc_Order?_=d().orderBy(this.deviceListCopy,["DS-phy-rate","US-phy-rate"],["asc","asc"]):"dsUsPhyRate"==e&&!this.asc_Order&&(_=d().orderBy(this.deviceListCopy,["DS-phy-rate","US-phy-rate"],["desc","desc"])),_.length>1&&(this.onLoadTime=!0,this.deviceList=[],this.rerender(),setTimeout(()=>{this.deviceList=_,this.dtElement.dtInstance.then(e=>{e.destroy(),this.dtTrigger.next()}),this.onLoadTime=!1},0),this.chRef.checkNoChanges()),""!==e&&(this.asc_Order=!this.asc_Order)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(h.s),c.Y36(m.t6),c.Y36(g.U),c.Y36(u.O),c.Y36(v.Q),c.Y36(p.F),c.Y36(a.F0),c.Y36(f.m),c.Y36(D.Dx),c.Y36(c.sBO))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-support-device"]],viewQuery:function(e,t){if(1&e&&c.Gf(r.G,5),2&e){let e;c.iGM(e=c.CRH())&&(t.dtElement=e.first)}},decls:45,vars:36,consts:[[3,"count","responseFromIssuse","sendingCountfromdevice","device","DeviceCallDone"],["class","loader load",4,"ngIf"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],["class","row d-flex align-items-center",4,"ngIf"],[1,"container-fluid","mb-3",3,"hidden"],[1,""],[1,"col-md-12","ccl-tables","px-0","device-table","table-responsive"],["datatable","","id","DeviceListTable",1,"table-borderless",3,"ngClass","dtOptions","dtTrigger"],[1,"border-bottom","detailheading"],[1,"align-middle"],["colspan","1","id","deviceHeader",1,"width-1","disable-sort-th",3,"click"],["class","C_sorting",4,"ngIf"],["id","ConnectionHeader",3,"click"],["id","Access_PointHeader",3,"click"],["id","SSIDHeader",3,"click"],["id","ModeHeader",3,"click"],["id","WiFi_ScoreHeader",3,"click",4,"ngIf"],["id","Signal_StrengthHeader",3,"click"],["id","pendoEfficiencyScore","class","EfficiencyHeader",3,"click",4,"ngIf"],["id","Pkts_DroppedHeader",3,"click"],["id","dsUsPhyRateHeader",3,"click"],["class","divice-table-info",4,"ngIf"],[3,"ngClass","click",4,"ngFor","ngForOf"],[4,"ngIf"],["class","loader",4,"ngIf"],["class","container my-4","id","DeviceDetails",4,"ngIf"],[1,"loader","load"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button","data-dismiss","alert","aria-label","Close","id","Call_Success_Alert",1,"close",3,"click"],["aria-hidden","true"],[1,"row","d-flex","align-items-center"],[1,"col-lg-12","col-md-12","col-sm-12","mb-0"],["id","client-device",1,"ccl-Secondary-title","d-block","border-bottom"],["id","refreshicon",1,"refreshicon-pos",3,"click"],[1,"fas","fa-sync","refreshicon"],[1,"d-flex","flex-wrap","w-100","cus-select-height-24","justify-content-end","pt-2"],["id","Device-sort-by-status",1,"col-lg-2","col-xl-2","col-md-12","col-sm-12","mb-3"],[3,"ngModel","searchable","ngModelChange","change"],["value","All"],["value","Online"],["value","Offline"],["id","Device-sort-by-connection",1,"col-lg-2","col-xl-2","col-md-12","col-sm-12","mb-3"],[3,"value",4,"ngFor","ngForOf"],["id","Device-sort-by-SSID",1,"col-lg-2","col-xl-2","col-md-12","col-sm-12","mb-3"],[3,"value"],[1,"C_sorting"],["id","WiFi_ScoreHeader",3,"click"],["id","pendoEfficiencyScore",1,"EfficiencyHeader",3,"click"],[1,"divice-table-info"],[1,"loader"],[3,"ngClass","click"],[1,"client-devices","ml-2"],["height","30px","width","30px","alt","warning",3,"src"],[1,"device-col",3,"ngClass"],[1,"greyText","small-text",3,"ngClass"],[1,"mb-0"],[1,"greyText","small-text","mb-0"],["tabindex","0","data-toggle","tooltip",1,"d-inline-block",3,"title"],[1,"arrow-img-d","arrow-space"],["class","",4,"ngIf"],[1,"p-1"],[1,"arrow-img-u","arrow-space"],["src","assets/img/outline-warning-orange.svg"],["alt","warning",1,"w-25",3,"src"],["tabindex","0","data-toggle","tooltip",1,"SSRwarningicon",3,"title"],["src"," assets/img/outline-error-red.svg"],["colspan","9","align","center"],["id","DeviceDetails",1,"container","my-4"],[1,"row","device-name-details","border-bottom","px-0"],[1,"dev-dtil","w-100"],[1,"close-icon","cursor-pointer","float-right"],["aria-hidden","true","id","Device-Details-close-icon","src","assets/img/ic_close-44px.svg",1,"pointer",3,"click"],["id","support-username-title",1,"ccl-Secondary-title","user-name.mb-0"],[1,"dev-para"],[1,"row"],[1,"col-md-12","ccl-wifi-table","my-1","px-0","device-satelite-table"],["class","table table-borderless detailheading table-lay-fixed",4,"ngIf"],[1,"col-md-12","px-0","ccl-tabs"],["id","tabs",1,"nav","nav-tabs"],[1,"ccl-Secondary-title","nav-item",3,"click"],["data-toggle","tab","id","dd-device-details",3,"ngClass"],["class","ccl-Secondary-title nav-item",3,"click",4,"ngIf"],["id","tabsContent",1,"tab-content"],["id","issue",1,"tab-pane","fade","active","show"],[1,"row","pb-2"],["id","topology",1,"tab-pane","fade"],[3,"index","selectedDevice","currentTime","rmode",4,"ngIf"],[3,"orgId","fsan","routerData","RGRouter","showSteeringLog","showCharts",4,"ngIf"],[3,"orgId","fsan","routerData",4,"ngIf"],[3,"index",4,"ngIf"],[1,"table","table-borderless","detailheading","table-lay-fixed"],["align","left"],[1,"f-size-30"],[1,"small-text"],["class","small-text",4,"ngIf"],["src","assets/img/outline-error-red.svg"],["data-toggle","tab","id","dd-PHY-rate",3,"ngClass"],["data-toggle","tab","id","dd-txRX-Bytes",3,"ngClass"],["data-toggle","tab","id","dd-steering-logs",3,"ngClass"],["data-toggle","tab","id","dd-efficiency",3,"ngClass"],[3,"index","selectedDevice","currentTime","rmode"],[3,"orgId","fsan","routerData","RGRouter","showSteeringLog","showCharts"],[3,"orgId","fsan","routerData"],[3,"index"]],template:function(e,t){1&e&&(c.TgZ(0,"app-subscriber-menu",0),c.NdJ("device",function(){return t.onDeviceClick()})("DeviceCallDone",function(e){return t.responseFromStatus(e)}),c.qZA(),c.TgZ(1,"div"),c.YNc(2,se,5,1,"div",1),c.YNc(3,ne,8,1,"div",2),c.YNc(4,le,25,14,"div",3),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"table",7),c.TgZ(9,"thead",8),c.TgZ(10,"tr",9),c.TgZ(11,"th",10),c.NdJ("click",function(){return t.custom_sort("device","deviceHeader")}),c._uU(12),c.YNc(13,oe,1,0,"span",11),c.qZA(),c._UZ(14,"th"),c.TgZ(15,"th",12),c.NdJ("click",function(){return t.custom_sort("Connection","ConnectionHeader")}),c._uU(16),c.YNc(17,de,1,0,"span",11),c.qZA(),c.TgZ(18,"th",13),c.NdJ("click",function(){return t.custom_sort("Access_Point","Access_PointHeader")}),c._uU(19),c.YNc(20,ce,1,0,"span",11),c.qZA(),c.TgZ(21,"th",14),c.NdJ("click",function(){return t.custom_sort("SSID","SSIDHeader")}),c._uU(22),c.YNc(23,he,1,0,"span",11),c.qZA(),c.TgZ(24,"th",15),c.NdJ("click",function(){return t.custom_sort("Mode","ModeHeader")}),c._uU(25),c.YNc(26,me,1,0,"span",11),c.qZA(),c.YNc(27,ue,3,2,"th",16),c.TgZ(28,"th",17),c.NdJ("click",function(){return t.custom_sort("Signal_Strength","Signal_StrengthHeader")}),c._uU(29),c.YNc(30,ve,1,0,"span",11),c.qZA(),c.YNc(31,fe,3,2,"th",18),c.TgZ(32,"th",19),c.NdJ("click",function(){return t.custom_sort("Pkts_Dropped","Pkts_DroppedHeader")}),c._uU(33),c.YNc(34,De,1,0,"span",11),c.qZA(),c.TgZ(35,"th",20),c.NdJ("click",function(){return t.custom_sort("dsUsPhyRate","dsUsPhyRateHeader")}),c._uU(36),c.YNc(37,Me,1,0,"span",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(38,"tbody"),c.YNc(39,xe,2,1,"tr",21),c.YNc(40,Ye,48,38,"tr",22),c.YNc(41,Ue,3,1,"tr",23),c.YNc(42,Je,3,1,"tr",23),c.qZA(),c.qZA(),c.YNc(43,Ee,5,1,"div",24),c.qZA(),c.qZA(),c.qZA(),c.YNc(44,ct,38,19,"div",25),c.qZA()),2&e&&(c.Q6J("count",t.DeviceCount)("responseFromIssuse",t.apiCallDone)("sendingCountfromdevice",t.deviceCountDone),c.xp6(2),c.Q6J("ngIf",t.loading),c.xp6(1),c.Q6J("ngIf",t.error),c.xp6(1),c.Q6J("ngIf",t.isDeviceTable),c.xp6(1),c.Q6J("hidden",!t.isDeviceTable),c.xp6(3),c.Q6J("ngClass",c.VKq(34,ht,"DME"!==t.ssoAuthService.getCscType()))("dtOptions",t.tableOptions)("dtTrigger",t.dtTrigger),c.xp6(4),c.hij(" ",t.language.device," "),c.xp6(1),c.Q6J("ngIf","deviceHeader"!==t.sortedColumn),c.xp6(3),c.hij(" ",t.language.Band?t.language.Band:"Band"," "),c.xp6(1),c.Q6J("ngIf","ConnectionHeader"!==t.sortedColumn),c.xp6(2),c.hij(" ",t.language.Access_Point," "),c.xp6(1),c.Q6J("ngIf","Access_PointHeader"!==t.sortedColumn),c.xp6(2),c.hij(" ",t.language.SSID," "),c.xp6(1),c.Q6J("ngIf","SSIDHeader"!==t.sortedColumn),c.xp6(2),c.hij(" ",t.language.Mode," "),c.xp6(1),c.Q6J("ngIf","ModeHeader"!==t.sortedColumn),c.xp6(1),c.Q6J("ngIf","WifiScore"==t.showClientEfficiency),c.xp6(2),c.hij(" ",t.language.Signal_Strength," (SNR) "),c.xp6(1),c.Q6J("ngIf","Signal_StrengthHeader"!==t.sortedColumn),c.xp6(1),c.Q6J("ngIf","ClientEfficiencyScore"==t.showClientEfficiency),c.xp6(2),c.hij(" ",t.language.Pkts_Dropped," "),c.xp6(1),c.Q6J("ngIf","Pkts_DroppedHeader"!==t.sortedColumn),c.xp6(2),c.hij(" ",t.language.dsUsPhyRate," "),c.xp6(1),c.Q6J("ngIf","dsUsPhyRateHeader"!==t.sortedColumn),c.xp6(2),c.Q6J("ngIf",t.onLoadTime),c.xp6(1),c.Q6J("ngForOf",t.deviceList),c.xp6(1),c.Q6J("ngIf",t.message),c.xp6(1),c.Q6J("ngIf",t.showNoData&&t.deviceList.length<=0&&t.datacopy.length<=0),c.xp6(1),c.Q6J("ngIf",!t.devicePageLoaded),c.xp6(1),c.Q6J("ngIf",!t.isDeviceTable))},directives:[M.e,s.O5,r.G,s.mk,s.sg,I.w9,x.JJ,x.On,I.xv,q,k.d,P.D,ie],styles:['.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fff;border-color:#dee2e6 #dee2e6 #fff;border:none;border-bottom:1px solid #2078fa}.nav-tabs[_ngcontent-%COMP%]{border-bottom:none}a[_ngcontent-%COMP%]{color:#333}.nav-link[_ngcontent-%COMP%]{font-size:18px;border-bottom:1px solid transparent;cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus, .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{border-color:#e9ecef #e9ecef #dee2e6;border:none;color:#4c4c4c;border-bottom:1px solid #9bc1f9}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4c4c4c}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-bottom:0}.table[_ngcontent-%COMP%]   .detailheading[_ngcontent-%COMP%]{cursor:default}.device-name-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.dev-dtil[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:36px;text-transform:capitalize;font-weight:300}.dev-dtil[_ngcontent-%COMP%]   .dev-para[_ngcontent-%COMP%]{font-size:18px;font-weight:300;margin-bottom:0}.device-text[_ngcontent-%COMP%]{color:#202020;font-size:12px;display:flex}.device-textoff[_ngcontent-%COMP%]{color:#cccfccd0!important;font-size:12px;display:flex}.device-text1[_ngcontent-%COMP%]{color:#cccfcc}.blockclick[_ngcontent-%COMP%]{pointer-events:none}.table[_ngcontent-%COMP%]{cursor:pointer}.loader.load[_ngcontent-%COMP%]{position:fixed!important}.loader[_ngcontent-%COMP%]{z-index:1;position:absolute;background-color:#178cd00d;height:100%;left:0;right:0;bottom:0;top:0;display:flex;align-items:center;justify-content:center}img[_ngcontent-%COMP%]{vertical-align:middle;border-style:none}img[_ngcontent-%COMP%]{display:inline-block;width:auto;vertical-align:middle}.refreshicon[_ngcontent-%COMP%]{width:16px;height:16px;color:#0279ff}.ccl-wifi-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ccl-wifi-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:2px 0!important;font-weight:300;cursor:default}.ccl-wifi-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:top}.SSRwarningicon[_ngcontent-%COMP%]{margin-left:-65px}.device-satelite-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:30px!important;font-weight:300!important}.arrow-img-d[_ngcontent-%COMP%]{background-image:url(arrow-down-sm-blue.8e323ac16c6a11dde4f3.svg);width:10px;background-position:left;background-repeat:no-repeat}.arrow-img-d.arrow-space[_ngcontent-%COMP%]{padding-left:.7rem!important}.arrow-img-u[_ngcontent-%COMP%]{background-image:url(arrow-up-sm-blue.ccd05522c38cec7526d7.svg);width:10px;background-position:left;background-repeat:no-repeat}.arrow-img-u.arrow-space[_ngcontent-%COMP%]{padding-left:.7rem!important}.greyText[_ngcontent-%COMP%]{color:gray}.small-text[_ngcontent-%COMP%]{font-size:14px;padding-left:6px}.device-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .device-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:2px!important;padding-bottom:2px!important}.li-disable[_ngcontent-%COMP%]{cursor:not-allowed!important;pointer-events:none}.li-disable[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:not-allowed;pointer-events:none!important}.refreshicon-pos[_ngcontent-%COMP%]{position:absolute;top:0;right:15px;cursor:pointer}.width-1[_ngcontent-%COMP%]{width:1%}.device-col[_ngcontent-%COMP%]{word-break:break-all;min-width:250px}#support-username-title[_ngcontent-%COMP%]{word-break:break-all;width:95%}.table-lay-fixed[_ngcontent-%COMP%]{table-layout:fixed}.f-size-30[_ngcontent-%COMP%]{font-size:30px}.dataTables_scrollBody[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{position:relative}table.dataTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[class*=sorting][_ngcontent-%COMP%]{position:relative;vertical-align:middle!important}#DeviceListTable[_ngcontent-%COMP%]   .C_sorting[_ngcontent-%COMP%]{background-image:none!important;cursor:pointer}#DeviceListTable[_ngcontent-%COMP%]   .C_sorting[_ngcontent-%COMP%]:after{content:"";position:absolute;-o-border-image:url(ic_sort.9019858203dc9553676d.svg);border-image:url(ic_sort.9019858203dc9553676d.svg);border-style:solid;border-width:0;border-left:0;border-bottom:0;border-right-width:12px;border-top-width:12px;margin-left:4px;margin-top:4px}#DeviceListTable[_ngcontent-%COMP%]   .sorting_asc[_ngcontent-%COMP%]{background-image:none!important}#DeviceListTable[_ngcontent-%COMP%]   .sorting_asc[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:5px solid #0279FF;margin-left:4px}#DeviceListTable[_ngcontent-%COMP%]   .sorting_desc[_ngcontent-%COMP%]{background-image:none!important}#DeviceListTable[_ngcontent-%COMP%]   .sorting_desc[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #0279FF;margin-left:4px;margin-top:8px}  #_pendo-badge_fD_3JeJakHwyfYVPj0EWAIh-wo4{float:right!important}.divice-table-info[_ngcontent-%COMP%]{min-height:300px;max-height:400px;display:block;width:100%}#DeviceListTable[_ngcontent-%COMP%]{table-layout:fixed}#DeviceListTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:77px!important}#DeviceListTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:259px!important}#DeviceListTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:87px!important}#DeviceListTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4){width:180px!important}#DeviceListTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5){width:64px!important}#DeviceListTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6){width:65px!important}#DeviceListTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(7){width:161px!important}#DeviceListTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(8){width:155px!important}#DeviceListTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(9){width:115px!important}#DeviceListTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(10){width:186px!important}#DeviceListTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){width:64px!important;word-break:break-all}.client-devices[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px!important}']}),e})()}];let gt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[a.Bz.forChild(mt)],a.Bz]}),e})();var ut=i(57093);let vt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.ez,gt,n.m,ut.SupportWifiModule,I.A0,L._8,Y.kx,r.T]]}),e})()}}]);