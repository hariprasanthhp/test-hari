(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[8370],{38023:function(t,e){var a,i,s;!function(n){"use strict";var r=n.setTimeout,o=n.clearTimeout,c=n.XMLHttpRequest,l=n.XDomainRequest,h=n.ActiveXObject,p=n.EventSource,d=n.document,u=n.Promise,g=n.fetch,f=n.Response,b=n.TextDecoder,m=n.TextEncoder,v=n.AbortController;if("undefined"!=typeof window&&!("readyState"in d)&&null==d.body&&(d.readyState="loading",window.addEventListener("load",function(t){d.readyState="complete"},!1)),null==c&&null!=h&&(c=function(){return new h("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),Date.now||(Date.now=function(){return(new Date).getTime()}),null==v){var x=g;g=function(t,e){var a=e.signal;return x(t,{headers:e.headers,credentials:e.credentials,cache:e.cache}).then(function(t){var e=t.body.getReader();return a._reader=e,a._aborted&&a._reader.cancel(),{status:t.status,statusText:t.statusText,headers:t.headers,body:{getReader:function(){return e}}}})},v=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function T(){this.bitsNeeded=0,this.codePoint=0}T.prototype.decode=function(t){function e(t,e,a){if(1===a)return t>=128>>e&&t<<e<=2047;if(2===a)return t>=2048>>e&&t<<e<=55295||t>=57344>>e&&t<<e<=65535;if(3===a)return t>=65536>>e&&t<<e<=1114111;throw new Error}function a(t,e){if(6===t)return e>>6>15?3:e>31?2:1;if(12===t)return e>15?3:2;if(18===t)return 3;throw new Error}for(var i=65533,s="",n=this.bitsNeeded,r=this.codePoint,o=0;o<t.length;o+=1){var c=t[o];0!==n&&(c<128||c>191||!e(r<<6|63&c,n-6,a(n,r)))&&(n=0,r=i,s+=String.fromCharCode(r)),0===n?(c>=0&&c<=127?(n=0,r=c):c>=192&&c<=223?(n=6,r=31&c):c>=224&&c<=239?(n=12,r=15&c):c>=240&&c<=247?(n=18,r=7&c):(n=0,r=i),0!==n&&!e(r,n,a(n,r))&&(n=0,r=i)):(n-=6,r=r<<6|63&c),0===n&&(r<=65535?s+=String.fromCharCode(r):(s+=String.fromCharCode(55296+(r-65535-1>>10)),s+=String.fromCharCode(56320+(r-65535-1&1023))))}return this.bitsNeeded=n,this.codePoint=r,s},(null==b||null==m||!function(){try{return"test"===(new b).decode((new m).encode("test"),{stream:!0})}catch(t){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+t)}return!1}())&&(b=T);var w=function(){};function C(t){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=w,this.onload=w,this.onerror=w,this.onreadystatechange=w,this._contentType="",this._xhr=t,this._sendTimeout=0,this._abort=w}function D(t){return t.replace(/[A-Z]/g,function(t){return String.fromCharCode(t.charCodeAt(0)+32)})}function O(t){for(var e=Object.create(null),a=t.split("\r\n"),i=0;i<a.length;i+=1){var s=a[i].split(": "),n=s.shift(),r=s.join(": ");e[D(n)]=r}this._map=e}function y(){}function A(t){this._headers=t}function P(){}function Z(){this._listeners=Object.create(null)}function S(t){r(function(){throw t},0)}function M(t){this.type=t,this.target=void 0}function k(t,e){M.call(this,t),this.data=e.data,this.lastEventId=e.lastEventId}function _(t,e){M.call(this,t),this.status=e.status,this.statusText=e.statusText,this.headers=e.headers}function L(t,e){M.call(this,t),this.error=e.error}C.prototype.open=function(t,e){this._abort(!0);var a=this,i=this._xhr,s=1,n=0;this._abort=function(t){0!==a._sendTimeout&&(o(a._sendTimeout),a._sendTimeout=0),(1===s||2===s||3===s)&&(s=4,i.onload=w,i.onerror=w,i.onabort=w,i.onprogress=w,i.onreadystatechange=w,i.abort(),0!==n&&(o(n),n=0),t||(a.readyState=4,a.onabort(null),a.onreadystatechange())),s=0};var l=function(){if(1===s){var t=0,e="",n=void 0;if("contentType"in i)t=200,e="OK",n=i.contentType;else try{t=i.status,e=i.statusText,n=i.getResponseHeader("Content-Type")}catch(r){t=0,e="",n=void 0}0!==t&&(s=2,a.readyState=2,a.status=t,a.statusText=e,a._contentType=n,a.onreadystatechange())}},h=function(){if(l(),2===s||3===s){s=3;var t="";try{t=i.responseText}catch(e){}a.readyState=3,a.responseText=t,a.onprogress()}},p=function(t,e){if((null==e||null==e.preventDefault)&&(e={preventDefault:w}),h(),1===s||2===s||3===s){if(s=4,0!==n&&(o(n),n=0),a.readyState=4,"load"===t)a.onload(e);else if("error"===t)a.onerror(e);else{if("abort"!==t)throw new TypeError;a.onabort(e)}a.onreadystatechange()}},d=function(){n=r(function(){d()},500),3===i.readyState&&h()};"onload"in i&&(i.onload=function(t){p("load",t)}),"onerror"in i&&(i.onerror=function(t){p("error",t)}),"onabort"in i&&(i.onabort=function(t){p("abort",t)}),"onprogress"in i&&(i.onprogress=h),"onreadystatechange"in i&&(i.onreadystatechange=function(t){!function(t){null!=i&&(4===i.readyState?(!("onload"in i)||!("onerror"in i)||!("onabort"in i))&&p(""===i.responseText?"error":"load",t):3===i.readyState?"onprogress"in i||h():2===i.readyState&&l())}(t)}),("contentType"in i||!("ontimeout"in c.prototype))&&(e+=(-1===e.indexOf("?")?"?":"&")+"padding=true"),i.open(t,e,!0),"readyState"in i&&(n=r(function(){d()},0))},C.prototype.abort=function(){this._abort(!1)},C.prototype.getResponseHeader=function(t){return this._contentType},C.prototype.setRequestHeader=function(t,e){var a=this._xhr;"setRequestHeader"in a&&a.setRequestHeader(t,e)},C.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},C.prototype.send=function(){if("ontimeout"in c.prototype&&("sendAsBinary"in c.prototype||"mozAnon"in c.prototype)||null==d||null==d.readyState||"complete"===d.readyState){var t=this._xhr;"withCredentials"in t&&(t.withCredentials=this.withCredentials);try{t.send(void 0)}catch(a){throw a}}else{var e=this;e._sendTimeout=r(function(){e._sendTimeout=0,e.send()},4)}},O.prototype.get=function(t){return this._map[D(t)]},null!=c&&null==c.HEADERS_RECEIVED&&(c.HEADERS_RECEIVED=2),y.prototype.open=function(t,e,a,i,s,n,r){t.open("GET",s);var o=0;for(var l in t.onprogress=function(){var e=t.responseText.slice(o);o+=e.length,a(e)},t.onerror=function(t){t.preventDefault(),i(new Error("NetworkError"))},t.onload=function(){i(null)},t.onabort=function(){i(null)},t.onreadystatechange=function(){if(t.readyState===c.HEADERS_RECEIVED){var a=t.status,i=t.statusText,s=t.getResponseHeader("Content-Type"),n=t.getAllResponseHeaders();e(a,i,s,new O(n))}},t.withCredentials=n,r)Object.prototype.hasOwnProperty.call(r,l)&&t.setRequestHeader(l,r[l]);return t.send(),t},A.prototype.get=function(t){return this._headers.get(t)},P.prototype.open=function(t,e,a,i,s,n,r){var o=null,c=new v,l=c.signal,h=new b;return g(s,{headers:r,credentials:n?"include":"same-origin",signal:l,cache:"no-store"}).then(function(t){return o=t.body.getReader(),e(t.status,t.statusText,t.headers.get("Content-Type"),new A(t.headers)),new u(function(t,e){var i=function(){o.read().then(function(e){if(e.done)t(void 0);else{var s=h.decode(e.value,{stream:!0});a(s),i()}}).catch(function(t){e(t)})};i()})}).catch(function(t){if("AbortError"!==t.name)return t}).then(function(t){i(t)}),{abort:function(){null!=o&&o.cancel(),c.abort()}}},Z.prototype.dispatchEvent=function(t){t.target=this;var e=this._listeners[t.type];if(null!=e)for(var a=e.length,i=0;i<a;i+=1){var s=e[i];try{"function"==typeof s.handleEvent?s.handleEvent(t):s.call(this,t)}catch(n){S(n)}}},Z.prototype.addEventListener=function(t,e){t=String(t);var a=this._listeners,i=a[t];null==i&&(a[t]=i=[]);for(var s=!1,n=0;n<i.length;n+=1)i[n]===e&&(s=!0);s||i.push(e)},Z.prototype.removeEventListener=function(t,e){t=String(t);var a=this._listeners,i=a[t];if(null!=i){for(var s=[],n=0;n<i.length;n+=1)i[n]!==e&&s.push(i[n]);0===s.length?delete a[t]:a[t]=s}},k.prototype=Object.create(M.prototype),_.prototype=Object.create(M.prototype),L.prototype=Object.create(M.prototype);var E=/^text\/event\-stream(;.*)?$/i,j=function(t,e){var a=null==t?e:parseInt(t,10);return a!=a&&(a=e),U(a)},U=function(t){return Math.min(Math.max(t,1e3),18e6)},I=function(t,e,a){try{"function"==typeof e&&e.call(t,a)}catch(i){S(i)}};function N(t,e){Z.call(this),e=e||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(t,e,a){e=String(e);var i=Boolean(a.withCredentials),s=a.lastEventIdQueryParameterName||"lastEventId",n=U(1e3),h=j(a.heartbeatTimeout,45e3),p="",d=n,u=!1,g=0,f=a.headers||{},b=a.Transport,m=F&&null==b?void 0:new C(null!=b?new b:null!=c&&"withCredentials"in c.prototype||null==l?new c:new l),v=null!=b&&"string"!=typeof b?new b:null==m?new P:new y,x=void 0,T=0,w=-1,D="",O="",A="",Z="",S=0,M=0,N=0,R=function(e,a,i,s){if(0===w)if(200===e&&null!=i&&E.test(i)){w=1,u=Date.now(),d=n,t.readyState=1;var r=new _("open",{status:e,statusText:a,headers:s});t.dispatchEvent(r),I(t,t.onopen,r)}else{var o="";200!==e?(a&&(a=a.replace(/\s+/g," ")),o="EventSource's response has a status "+e+" "+a+" that is not 200. Aborting the connection."):o="EventSource's response has a Content-Type specifying an unsupported type: "+(null==i?"-":i.replace(/\s+/g," "))+". Aborting the connection.",J(),r=new _("error",{status:e,statusText:a,headers:s}),t.dispatchEvent(r),I(t,t.onerror,r),console.error(o)}},q=function(e){if(1===w){for(var a=-1,i=0;i<e.length;i+=1)((l=e.charCodeAt(i))==="\n".charCodeAt(0)||l==="\r".charCodeAt(0))&&(a=i);var s=(-1!==a?Z:"")+e.slice(0,a+1);Z=(-1===a?Z:"")+e.slice(a+1),""!==e&&(u=Date.now(),g+=e.length);for(var c=0;c<s.length;c+=1){var l=s.charCodeAt(c);if(-1===S&&l==="\n".charCodeAt(0))S=0;else if(-1===S&&(S=0),l==="\r".charCodeAt(0)||l==="\n".charCodeAt(0)){if(0!==S){1===S&&(N=c+1);var f=s.slice(M,N-1),b=s.slice(N+(N<c&&s.charCodeAt(N)===" ".charCodeAt(0)?1:0),c);"data"===f?(D+="\n",D+=b):"id"===f?O=b:"event"===f?A=b:"retry"===f?(n=j(b,n),d=n):"heartbeatTimeout"===f&&(h=j(b,h),0!==T&&(o(T),T=r(function(){V()},h)))}if(0===S){if(""!==D){p=O,""===A&&(A="message");var m=new k(A,{data:D.slice(1),lastEventId:O});if(t.dispatchEvent(m),"open"===A?I(t,t.onopen,m):"message"===A?I(t,t.onmessage,m):"error"===A&&I(t,t.onerror,m),2===w)return}D="",A=""}S=l==="\r".charCodeAt(0)?-1:0}else 0===S&&(M=c,S=1),1===S?l===":".charCodeAt(0)&&(N=c+1,S=2):2===S&&(S=3)}}},$=function(e){if(1===w||0===w){w=-1,0!==T&&(o(T),T=0),T=r(function(){V()},d),d=U(Math.min(16*n,2*d)),t.readyState=0;var a=new L("error",{error:e});t.dispatchEvent(a),I(t,t.onerror,a),null!=e&&console.error(e)}},J=function(){w=2,null!=x&&(x.abort(),x=void 0),0!==T&&(o(T),T=0),t.readyState=2},V=function(){if(T=0,-1===w){u=!1,g=0,T=r(function(){V()},h),w=0,D="",A="",O=p,Z="",M=0,N=0,S=0;var a=e;"data:"!==e.slice(0,5)&&"blob:"!==e.slice(0,5)&&""!==p&&(a+=(-1===e.indexOf("?")?"?":"&")+s+"="+encodeURIComponent(p));var i=t.withCredentials,n={Accept:"text/event-stream"},o=t.headers;if(null!=o)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(n[c]=o[c]);try{x=v.open(m,R,q,$,a,i,n)}catch(d){throw J(),d}}else if(u||null==x){var l=Math.max((u||Date.now())+h-Date.now(),1);u=!1,T=r(function(){V()},l)}else $(new Error("No activity within "+h+" milliseconds. "+(0===w?"No response received.":g+" chars received.")+" Reconnecting.")),null!=x&&(x.abort(),x=void 0)};t.url=e,t.readyState=0,t.withCredentials=i,t.headers=f,t._close=J,V()}(this,t,e)}var F=null!=g&&null!=f&&"body"in f.prototype;(N.prototype=Object.create(Z.prototype)).CONNECTING=0,N.prototype.OPEN=1,N.prototype.CLOSED=2,N.prototype.close=function(){this._close()},N.CONNECTING=0,N.OPEN=1,N.CLOSED=2,N.prototype.withCredentials=void 0;var R=p;null!=c&&(null==p||!("withCredentials"in p.prototype))&&(R=N),function(n){if("object"==typeof t.exports){var r=n(e);void 0!==r&&(t.exports=r)}else i=[e],void 0!==(s="function"==typeof(a=n)?a.apply(e,i):a)&&(t.exports=s)}(function(t){t.EventSourcePolyfill=N,t.NativeEventSource=p,t.EventSource=R})}("undefined"==typeof globalThis?"undefined"!=typeof window?window:"undefined"!=typeof self?self:this:globalThis)},18921:function(t,e,a){"use strict";a.d(e,{R:function(){return s}});var i=a(37716);let s=(()=>{class t{constructor(){}bytes(t,e,a){var i,s,n,r=[];return 0==t?0:(a&&(i=0),s=Math.floor(Math.log(t)/Math.log(1024)),n=(t/Math.pow(1024,Math.floor(s))).toFixed(2),r[i]=n,i>0&&Math.abs(r[i-1]-r[i])<1e-4&&(n=(t/Math.pow(1024,Math.floor(--s))).toFixed(2)),s=s<0?-s:s,e&&(n+=" "+["b","KB","MB","GB","TB","PB"][s]),i++,n)}bits(t,e,a){var i,s,n,r=[];return 0==t?0:(a&&(i=0),s=Math.floor(Math.log(t)/Math.log(1024)),n=(t/Math.pow(1024,Math.floor(s))).toFixed(2),r[i]=n,i>0&&Math.abs(r[i-1]-r[i])<1e-4&&(n=(t/Math.pow(1024,Math.floor(--s))).toFixed(2)),s=s<0?-s:s,e&&(n+=" "+["bps","Kbps","Mbps","Gbps","Tbps","Pbps"][s]),i++,n)}getStackedUnit(t){let e;return e=t>1099511627776?[1099511627776,"TB"]:t>1073741824?[1073741824,"GB"]:t>1048576?[1048576,"MB"]:t>1024?[1024,"KB"]:[1,"KB"],e}getStackedUnitUpdate(t){let e;return e=t>1099511627776?[1099511627776,"T"]:t>1073741824?[1073741824,"G"]:t>1048576?[1048576,"M"]:t>1024?[1024,"K"]:[1,""],e}kbpsTO(t,e,a){let i,s=[];return(t=parseInt(t))>1e9?(i=(t/1e9).toFixed(2)+"T",s=[(t/1e9).toFixed(2),"T"]):t>1e6?(i=(t/1e6).toFixed(2)+"G",s=[(t/1e6).toFixed(2),"G"]):t>1e3?(i=(t/1e3).toFixed(2)+"M",s=[(t/1e3).toFixed(2),"M"]):(i=t+"K",s=[t,"K"]),e?s[0]:a?s[1]:i}getByteInfo(t,e){let a;a=e?this.getStackedUnitUpdate(t):this.getStackedUnit(t);let i=(t/a[0]).toFixed(2);return("0.00"==i?"0":i)+" "+a[1]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},8370:function(t,e,a){"use strict";a.r(e),a.d(e,{SupportTrafficReportsModule:function(){return mt}});var i=a(38583),s=a(3679),n=a(25317),r=a(86640),o=a(39895),c=a(92340),l=a(37716),h=a(7450),p=a(89097),d=a(38023),u=a(26215),g=a(11067),f=a(91841);let b=(()=>{class t{constructor(t,e){this.sso=t,this.http=e,this.data={graphType:"TRF",sendTime:(new Date).getTime(),usage:[0,0],maxRate:[0,0],packet:[0,0]},this.rtData$=new u.X(this.data),this.ratePacketStreamData$=new u.X(this.data),this.delay$=new u.X(!1),this.chartData=[0,0],this.lastData=[0,0],this.yAxixTitle="bps",this.chartDataPacket=[0,0],this.lastDataPacket=[0,0],this.yAxixTitlePacket="pps",this.cacheRateRTDataObj={},this.cachePacketRTDataObj={},this.inc=0,this.previousUrlData={},this.restoreChartObj={}}getData(){let t=this.sso.getOrgId(),e=this.sso.getSubscriberEndpointId();e?(this.source&&(this.source.close(),this.source=null),this.source=new d.EventSourcePolyfill(`${c.N.SUPPORT_URL}/rt/sse/${t}/EP/${e}/TAPP,TEP,TRF`,{headers:{"X-Calix-ClientID":c.N.X_CALIX_CLIENTID,"X-Calix-AccessToken":this.sso.getAccessToken()}}),this.source.addEventListener("open",t=>{console.log(JSON.stringify(t)),console.log(t),console.log(new Date)}),this.source.addEventListener("state",t=>{if(console.log(JSON.stringify(t)),console.log("state",t),console.log(new Date),"s300"===JSON.parse(t.data).status.toLowerCase()){let t={graphType:"TRF",sendTime:(new Date).getTime(),usage:[0,0],maxRate:[0,0],packet:[0,0]};this.rtData$.next(t)}}),this.source.addEventListener("message",t=>{-1===window.location.pathname.indexOf("/traffic-reports/")&&(console.log("force closed"),this.source.close());let e=JSON.parse(t.data);"TRF"===e.graphType?(this.ratePacketStreamData$.next(e),this.data=JSON.parse(t.data),clearInterval(this.cacheInterval),clearInterval(this.cachePacketInterval),this.cacheRTData("rate"),this.cacheRTData("packet")):this.rtData$.next(e),console.log(JSON.parse(t.data))}),this.source.addEventListener("error",t=>{window.location.reload(),this.source.close(),this.source=null})):console.log("subscriber endpoint id not set")}cacheRTData(t){if("rate"===t){this.currentData?this.lastData=this.currentData:this.chartData=[0,0],this.currentData=this.data.maxRate,this.yAxixTitle="rate"===t?"bps":"pps";let e=(new Date).getTime(),a=0;this.cacheInterval=setInterval(()=>{a++;let i=this.removeLast3Chars(e+1e3*a);this.cacheRateRTDataObj[i]=this.generateRTforCache(this.currentData,this.lastData,this.chartData,t),this.removeOldKeys(this.cacheRateRTDataObj,t)},1e3)}else{this.currentDataPacket?this.lastDataPacket=this.currentDataPacket:this.chartDataPacket=[0,0],this.currentDataPacket=this.data.packet,this.yAxixTitlePacket="rate"===t?"bps":"pps";let e=(new Date).getTime(),a=0;this.cachePacketInterval=setInterval(()=>{a++;let i=this.removeLast3Chars(e+1e3*a);this.cachePacketRTDataObj[i]=this.generateRTforCache(this.currentDataPacket,this.lastDataPacket,this.chartDataPacket,t),this.removeOldKeys(this.cachePacketRTDataObj,t)},1e3)}}generateRTforCache(t,e,a,i){let s=this.transformData(t,e,a,i);"rate"===i?this.chartData=s:this.chartDataPacket=s,s[0]||(s[0]=0),s[1]||(s[1]=0);let n=this.bitsToSize(s[0],i),r=this.bitsToSize(s[1],i),o=n.split(" "),c=r.split(" "),l=o[1]?o[1]:"rate"===i.toLowerCase()?"bps":"pps",h=c[1]?c[1]:"rate"===i.toLowerCase()?"bps":"pps",p="";if(p=s[0]||s[1]?s[0]>s[1]?o[1]:c[1]:"rate"===i.toLowerCase()?this.yAxixTitle?this.yAxixTitle:"rate"===i.toLowerCase()?"bps":"pps":this.yAxixTitlePacket?this.yAxixTitlePacket:"rate"===i.toLowerCase()?"bps":"pps","undefined"==p&&(p="rate"===i.toLowerCase()?this.yAxixTitle?this.yAxixTitle:"rate"===i.toLowerCase()?"bps":"pps":this.yAxixTitlePacket?this.yAxixTitlePacket:"rate"===i.toLowerCase()?"bps":"pps"),"string"==typeof p&&("rate"===i.toLowerCase()?this.yAxixTitle=p:this.yAxixTitlePacket=p),s)return"rate"===i.toLowerCase()?[s[0],s[1],this.yAxixTitle,l,h]:[s[0],s[1],this.yAxixTitlePacket,l,h]}transformData(t,e,a,i){i.toLowerCase();let s=[];for(let n=0;n<t.length;n++){let i=parseFloat(t[n])-parseFloat(e[n]);!parseFloat(t[n])&&!parseFloat(e[n])&&(a[n]=0);let r=i/15,o=Math.abs(parseFloat(a[n])+r);s.push(o)}return s}bitsToSize(t,e){let a=parseFloat(t),i="rate"===e.toLowerCase()?["bps","Kbps","Mbps","Gbps","Tbps"]:["pps","Kpps","Mpps","Gpps","Tpps"];if(0==a&&"rate"===e.toLowerCase())return"0 bps";if(0==a&&"packet"===e.toLowerCase())return"0 pps";var s=Math.floor(Math.log(a)/Math.log(1e3));return g.numberFormat(Math.abs(a/Math.pow(1e3,s)),2)+" "+i[s]}removeLast3Chars(t){return t=(t=t.toString()).slice(0,-3),parseInt(t)}removeOldKeys(t,e){let a=Object.keys(t),i=a.length;if(i>300){let s=t,n=i-300;for(let t=0;t<n;t++)delete s[a[t]];"rate"===e?this.cacheRateRTDataObj=s:this.cachePacketRTDataObj=s}}getCachedata(t){return"rate"===t?this.cacheRateRTDataObj:this.cachePacketRTDataObj}getCurrrentUnit(t){return Object.keys(this.cachePacketRTDataObj),"rate"===t.toLowerCase()?this.yAxixTitle?this.yAxixTitle:"rate"===t.toLowerCase()?"bps":"pps":this.yAxixTitlePacket?this.yAxixTitlePacket:"rate"===t.toLowerCase()?"bps":"pps"}clearData(){this.yAxixTitle="",this.yAxixTitlePacket="",this.cachePacketRTDataObj={},this.cacheRateRTDataObj={},this.source&&(this.source.close(),this.source=null),this.cacheInterval&&clearInterval(this.cacheInterval),this.cachePacketInterval&&clearInterval(this.cachePacketInterval)}getLastData(){return this.data}closeEventSource(){this.source&&this.source.close(),this.source=null,console.log("close event source")}getRealtimeDelay(){let t=this.sso.getOrgId();this.http.get(`${c.N.API_BASE_URL}fa/config/organization?org-id=${t}`).subscribe(t=>{this.sso.setRealtimeDelay(t&&null!==t?-1*(t.realtimeLateflowDelay?t.realtimeLateflowDelay:0)*1e3:0),this.delay$.next(!0)},t=>{this.sso.setRealtimeDelay(0),this.delay$.next(!0)})}getPreviousUrlData(t){return!!this.previousUrlData.hasOwnProperty(t)&&this.previousUrlData[t]}setPreviousUrlData(t,e,a){a?this.previousUrlData={}:this.previousUrlData[t]=e}getRestoreChartData(t){return!!this.restoreChartObj.hasOwnProperty(t)&&this.restoreChartObj[t]}setRestoreChartData(t,e,a){a?this.restoreChartObj={}:this.restoreChartObj[t]=e}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(p.t6),l.LFG(f.eN))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=a(94802),v=a(4350);function x(t,e){if(1&t&&(l.TgZ(0,"li",17),l.TgZ(1,"a",18),l.NdJ("Click",function(t){return t.preventDefault()}),l.TgZ(2,"span",19),l._uU(3),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(3),l.Oqu(t.language.Data)}}function T(t,e){if(1&t&&(l.TgZ(0,"li",20),l.TgZ(1,"a",21),l.TgZ(2,"span",19),l._uU(3),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(3),l.Oqu(t.language.Video)}}function w(t,e){if(1&t&&(l.TgZ(0,"li",22),l.TgZ(1,"a",23),l.TgZ(2,"span",19),l._uU(3),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(3),l.Oqu(t.language.Voice)}}function C(t,e){if(1&t&&(l.TgZ(0,"li",24),l.TgZ(1,"a",25),l._uU(2),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.MGl("routerLink","/",t.MODULE,"/traffic-reports/common-reports"),l.xp6(1),l.hij(" ",t.language.Reports,"")}}let D=(()=>{class t{constructor(t,e,a,i,s){this.translateService=t,this.sso=e,this.rtService=a,this.router=i,this.dataChartService=s,this.loader1=!1,this.loader2=!1,this.showDataService=!1,this.showVoiceService=!1,this.showVideoService=!1,this.deviceInfo={modelName:""},this.thirdPartyDevice=!1,this.checkDeviceManfacturer=JSON.parse(sessionStorage.getItem("calix.deviceData")),this.MODULE="support",this.metaData={},this.videoWan=!0,this.voiceWan=!0,this.MODULE=this.router.url.indexOf("/support/")>-1?"support":"cco"}ngOnInit(){this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t}),this.sso.getSubscriberEndpointId()?this.getDataByNewToken():this.sbcbrEpSubcribe=this.sso.subscriberEndPointId$.subscribe(t=>{console.log("subscribe",t),t&&this.getDataByNewToken()}),this.thirdPartyDevice=!!this.checkDeviceManfacturer&&!!this.checkDeviceManfacturer.filter(t=>"Calix"!==(null==t?void 0:t.manufacturer)&&t.manufacturer).length,this.orgId=this.sso.getOrgId();let t=this.sso.getScopes();if(this.getDevice(),c.N.VALIDATE_SCOPE){t["cloud.rbac.csc.services.video"]=t["cloud.rbac.csc.services.video"]?t["cloud.rbac.csc.services.video"]:[],t["cloud.rbac.csc.services.voice"]=t["cloud.rbac.csc.services.voice"]?t["cloud.rbac.csc.services.voice"]:[];let e=Object.keys(t);if(e)for(let t=0;t<e.length;t++)if(-1!==e[t].indexOf("cloud.rbac.csc.services.data")){this.showDataService=!0;break}t&&t["cloud.rbac.csc.services.video"]&&t["cloud.rbac.csc.services.video"].length&&(this.showVideoService=!0),t&&t["cloud.rbac.csc.services.voice"]&&t["cloud.rbac.csc.services.voice"].length&&(this.showVoiceService=!0)}else this.showDataService=!0,this.showVoiceService=!0,this.showVideoService=!0;this.apiCallDone=!0}getDevice(){var t,e,a,i;this.deviceInfo=JSON.parse(sessionStorage.getItem("calix.deviceData")),this.deviceInfo=null===(t=this.deviceInfo)||void 0===t?void 0:t.filter(t=>t.serialNumber).sort((t,e)=>"RG"!=t.opMode?1:-1),this.deviceInfo=null===(e=this.deviceInfo)||void 0===e?void 0:e.filter(t=>"RG"==t.opMode),this.deviceInfo=(null===(a=this.deviceInfo)||void 0===a?void 0:a.length)?this.deviceInfo[0]:{},this.serialNumberSelected=null===(i=this.deviceInfo)||void 0===i?void 0:i.serialNumber,this.metaData=this.dataChartService.getMetaData(this.serialNumberSelected),this.metaData?this.checkWanStatus():this.getMetaData()}getDataByNewToken(){}ngOnDestroy(){this.languageSubject.unsubscribe(),this.source&&this.source.close(),this.sbcbrEpSubcribe&&this.sbcbrEpSubcribe.unsubscribe(),this.source=null,this.rtService.clearData()}ngAfterViewInit(){-1!==window.location.pathname.indexOf("support/traffic-reports/")&&setTimeout(()=>{console.log("trigger css"),$("#serviceDataTabHrefId").addClass("active")},500)}objectExistence(t){return Object.keys(t||{}).length}getMetaData(){!this.serialNumberSelected||(this.loader1=!0,this.dataChartService.fetchMetaData(this.orgId,this.serialNumberSelected).subscribe(t=>{this.loader1=!1,this.metaData=t||{},t.properties.forEach(t=>{this.reStructureMeta(t)}),this.checkWanStatus(),this.dataChartService.setMetaData(this.serialNumberSelected,this.metaData)},t=>{this.loader1=!1}))}reStructureMeta(t){this.metaData[t.featureName.replace(/[.]/g,"")]={},t.hasOwnProperty("fields")?t.fields.forEach(e=>{this.metaData[t.featureName.replace(/[.]/g,"")][e.name.replace(/[.]/g,"")]=e}):t.hasOwnProperty("configuration")?this.metaData[t.featureName.replace(/[.]/g,"")].config=t.configuration:t.hasOwnProperty("supported")&&(this.metaData[t.featureName.replace(/[.]/g,"")].supported=t.supported)}checkWanStatus(){var t;if(null===(t=this.metaData)||void 0===t?void 0:t.WANInfo){let t=[];this.loader1=!0,this.dataChartService.getWanInfo(this.orgId,this.serialNumberSelected).subscribe(e=>{this.loader1=!1,e&&e.length&&e.filter(e=>{e.bIsVideo&&t.push("video"),e.bIsVoice&&t.push("voice")}),this.videoWan=t.includes("video"),this.voiceWan=t.includes("voice")},t=>{this.loader1=!1,this.videoWan=!1,this.voiceWan=!1})}else this.videoWan=!1,this.voiceWan=!1}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(h.s),l.Y36(p.t6),l.Y36(b),l.Y36(o.F0),l.Y36(m.Q))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-support-traffic-reports"]],decls:22,vars:6,consts:[[1,"mr-2","mb-2"],[1,"row"],[1,"col-md-12","ccl-tabs"],["id","tabs",1,"nav","nav-tabs"],["class","nav-item","id","serviceDataTabId",4,"ngIf"],["class","nav-item","id","serviceVideoTabId",4,"ngIf"],["id","serviceVoiceTabId","class","nav-item",4,"ngIf"],[1,"m-2"],[1,"row","mt-4"],[1,"col-md-12","px-1","ccl-tabs"],["id","data-realtime-tab",1,"nav-item"],["data-toggle","tab","routerLinkActive","active",1,"nav-link","small",3,"routerLink","Click"],["id","data-reports-time","class","nav-item",4,"ngIf"],["id","tabsContent",1,"tab-content"],["id","issue",1,"tab-pane","fade","active","show"],[1,"row","pb-2"],["id","topology",1,"tab-pane","fade"],["id","serviceDataTabId",1,"nav-item"],["routerLink","/support/service/data","data-toggle","tab","routerLinkActive","active","id","serviceDataTabHrefId",1,"nav-link","small",3,"Click"],[1,"big-text"],["id","serviceVideoTabId",1,"nav-item"],["routerLink","/support/service/video","data-toggle","tab","routerLinkActive","active",1,"big-text","nav-link","small"],["id","serviceVoiceTabId",1,"nav-item"],["routerLink","/support/service/voice","data-toggle","tab","routerLinkActive","active",1,"nav-link","small"],["id","data-reports-time",1,"nav-item"],["data-toggle","tab","routerLinkActive","active",1,"nav-link","small",3,"routerLink"]],template:function(t,e){1&t&&(l._UZ(0,"app-subscriber-menu"),l.TgZ(1,"section",0),l.TgZ(2,"div",1),l.TgZ(3,"div",2),l.TgZ(4,"ul",3),l.YNc(5,x,4,1,"li",4),l.YNc(6,T,4,1,"li",5),l.YNc(7,w,4,1,"li",6),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"section",7),l.TgZ(9,"div",8),l.TgZ(10,"div",9),l.TgZ(11,"ul",3),l.TgZ(12,"li",10),l.TgZ(13,"a",11),l.NdJ("Click",function(t){return t.preventDefault()}),l._uU(14),l.qZA(),l.qZA(),l.YNc(15,C,3,2,"li",12),l.qZA(),l.TgZ(16,"div",13),l.TgZ(17,"div",14),l._UZ(18,"div",15),l.qZA(),l.TgZ(19,"div",16),l._UZ(20,"div",15),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l._UZ(21,"router-outlet")),2&t&&(l.xp6(5),l.Q6J("ngIf",e.showDataService),l.xp6(1),l.Q6J("ngIf",e.showVideoService&&(e.objectExistence(null==e.metaData?null:e.metaData.VideoMulticastSystems)||e.videoWan)),l.xp6(1),l.Q6J("ngIf",e.deviceInfo.modelName&&0!=e.deviceInfo.modelName.indexOf("GS202")&&e.showVoiceService&&(e.objectExistence(null==e.metaData?null:e.metaData.VoiceStatus)||e.voiceWan)),l.xp6(6),l.MGl("routerLink","/",e.MODULE,"/traffic-reports/realtime"),l.xp6(1),l.Oqu(e.language.Real_time),l.xp6(1),l.Q6J("ngIf",!0))},directives:[v.e,i.O5,o.yS,o.Od,o.lC],styles:[".nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fff;border-color:#dee2e6 #dee2e6 #fff;border:none;border-bottom:1px solid #2078fa}.nav-tabs[_ngcontent-%COMP%]{border-bottom:none}a[_ngcontent-%COMP%]{color:#333}.nav-link[_ngcontent-%COMP%]{font-size:18px;border-bottom:1px solid transparent;cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus, .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{border-color:#e9ecef #e9ecef #dee2e6;border:none;color:#4c4c4c;border-bottom:1px solid #9bc1f9}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4c4c4c}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-bottom:0}"]}),t})();var O=a(33439),y=a.n(O),A=a(4954);let P=(()=>{class t{constructor(t){this.router=t}getArrayIndex(t,e){return t.indexOf(e)}removeorAddArray(t,e,a){let i=t.indexOf(e);return-1==i?(t.push(e),a.target.style.backgroundColor="#f0d20e"):(t.splice(i,1),a.target.style.backgroundColor="white"),t}nagigationByUrl(t,e,a){"Locations"==a?this.router.navigateByUrl(`/fa/location/realtime?name=${t}&id=${e}`):"Apps"==a?this.router.navigateByUrl(`/fa/application/apprealtime?name=${t}&id=${e}`):"Endpoints"==a&&this.router.navigateByUrl(`/fa/flowendpoint/realtime?name=${t}&id=${e}`)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(o.F0))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Z=a(94690),S=a(39075),M=a(65424),k=a.n(M),_=a(40006),L=a.n(_),E=a(18921),j=a(48483);function U(t,e){if(1&t&&(l.TgZ(0,"span",16),l._UZ(1,"i",17),l._uU(2),l.qZA()),2&t){const t=l.oxw(2);l.xp6(2),l.hij(" ",t.upRate," ")}}function I(t,e){if(1&t&&(l.TgZ(0,"span",18),l._UZ(1,"i",19),l._uU(2),l.qZA()),2&t){const t=l.oxw(2);l.xp6(2),l.hij(" ",t.downRate,"")}}function N(t,e){if(1&t&&l._UZ(0,"highcharts-chart",20),2&t){const t=l.oxw(2);l.Q6J("Highcharts",t.highcharts)("options",t.streamOptions)("callbackFunction",t.chartCallback)}}const F=function(t){return{"background-color":t}};function R(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",1),l.TgZ(1,"div",2),l.TgZ(2,"div",3),l.TgZ(3,"div",4),l.TgZ(4,"span",5),l._uU(5),l.qZA(),l.TgZ(6,"a",6),l.NdJ("click",function(){return l.CHM(t),l.oxw().toggleUpStream()}),l._UZ(7,"span",7),l._uU(8),l.qZA(),l.TgZ(9,"a",8),l.NdJ("click",function(){return l.CHM(t),l.oxw().toggleDownStream()}),l._UZ(10,"span",7),l._uU(11),l.qZA(),l.TgZ(12,"span",9),l._uU(13),l.qZA(),l.qZA(),l.TgZ(14,"div",10),l.TgZ(15,"span",11),l.YNc(16,U,3,1,"span",12),l.YNc(17,I,3,1,"span",13),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(18,"div",14),l.YNc(19,N,1,3,"highcharts-chart",15),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.xp6(4),l.s9C("title",t.chartName),l.xp6(1),l.hij(" ",t.chartName," "),l.xp6(2),l.Q6J("ngStyle",l.VKq(10,F,!0===t.isUpStreamVisible?"#0027FF":"grey")),l.xp6(1),l.hij(" ",t.language.up," "),l.xp6(2),l.Q6J("ngStyle",l.VKq(12,F,!0===t.isDownStreamVisible?"#00d0ff":"grey")),l.xp6(1),l.hij(" ",t.language.down," "),l.xp6(2),l.hij("",t.language.interval," 1 sec"),l.xp6(3),l.Q6J("ngIf",t.isUpStreamVisible),l.xp6(1),l.Q6J("ngIf",t.isDownStreamVisible),l.xp6(2),l.Q6J("ngIf",t.load)}}k()(g),L()(g);let q=(()=>{class t{constructor(t,e,a,i,s){this.customTranslateService=t,this.http=e,this.convertorService=a,this.dateUtilsService=i,this.sso=s,this.load=!0,this.title="myHighchart",this.highcharts=g,this.yAxixTitle="",this.pageAvailable=!1,this.windowLen=5,this.lastData=[0,0],this.chartData=[0,0],this.lastChartDataObj={},this.triggerReloadChart=!1,this.msgLen=0,this.inc=0,this.isDownStreamVisible=!0,this.isUpStreamVisible=!0,this.conversions={bps:1,Kbps:1e3,Mbps:1e6,Gbps:1e9,Tbps:1e12,pps:1,Kpps:1e3,Mpps:1e6,Gpps:1e9,Tpps:1e12},this.reloadChart=!1,this.sizes={bps:1,Kbps:1e3,Mbps:1e6,Gbps:1e9,Tbps:1e12,pps:1,Kpps:1e3,Mpps:1e6,Gpps:1e9,Tpps:1e12}}ngOnInit(){this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0),this.customTranslateService.selectedLanguage.subscribe(t=>{this.language=t})}ngOnChanges(t){if(this.chartName.toLowerCase(),t.data&&t.data.currentValue&&this.data){this.msgLen++,this.originalData=t.data.currentValue;let e=this.bitsToSize(this.data[0]),a=this.bitsToSize(this.data[1]);console.log(this.data),"rate"===this.chartName.toLowerCase()?(console.log("Up Rate - ",e),console.log("Down Rate - ",a)):(console.log("Up Packet Rate - ",e),console.log("Down Packer Rate - ",a)),this.currentData?(this.lastData=this.currentData,this.chartData=this.currentData):(this.lastData=[0,0],this.chartData=[0,0]),this.currentData=this.data}t.windowLen&&t.windowLen.currentValue&&this.data&&(this.time=1e3*this.dateUtilsService.getCurrentUtcTime(),this.triggerReloadChart=!1,this.load=!0,this.yAxixTitle="rate"===this.chartName.toLowerCase()?"bps":"pps",this.lastChartDataObj=this.history?this.history:{},Object.keys(this.lastChartDataObj).length?(this.lastData=this.data,this.chartData=this.data,this.rebuildData()):(console.log("intial call for load chart"),this.buildNewChart()))}buildChart(){console.log("chart reloaded"),this.time=1e3*this.dateUtilsService.getCurrentUtcTime(),this.streamOptions={};let t=this.timezoneDetected(),e=this.time+t,a=this;this.streamOptions={time:{useUTC:!1},chart:{backgroundColor:"#FFFFFF",type:"areaspline",zoomType:"x",height:220,margin:{},animation:!1,renderTo:"custom-mirrot-chart",events:{load:function(){let t="rate"===a.chartName.toLowerCase()?["bps","Kbps","Mbps","Gbps","Tbps"]:["pps","Kpps","Mpps","Gpps","Tpps"];var i=this.series;a.interval=setInterval(function(){a.inc++;let s=a.transformData(a.currentData,a.lastData,a.chartData);a.chartData=s,s[0]||(s[0]=0),s[1]||(s[1]=0);let n=a.bitsToSize(s[0]),r=a.bitsToSize(s[1]),o=n.split(" "),c=r.split(" "),l=o[0],h=c[0],p=o[1]?o[1]:"rate"===a.chartName.toLowerCase()?"bps":"pps",d=c[1]?c[1]:"rate"===a.chartName.toLowerCase()?"bps":"pps",u="";if(u=s[0]||s[1]?s[0]>s[1]?o[1]:c[1]:a.yAxixTitle?a.yAxixTitle:"rate"===a.chartName.toLowerCase()?"bps":"pps","undefined"==u&&(u=a.yAxixTitle?a.yAxixTitle:"rate"===a.chartName.toLowerCase()?"bps":"pps"),null!=u&&a.yAxixTitle!=u&&(s[0]||s[1]))return console.log(`scale changed from ${a.yAxixTitle} to ${u}`),a.yAxixTitle=u,a.streamOptions.yAxis.title.text=a.yAxixTitle,a.removeLast3Chars(m=e+1e3*a.inc),void a.rebuildData();"string"==typeof u&&(a.yAxixTitle=u);let f=parseFloat(o[0]),b=parseFloat(c[0]);if((s[0]||s[1])&&s[0]<s[1]&&o[1]!==c[1]){let e=t.indexOf(o[1]),a=t.indexOf(c[1])-e;if(a)for(let t=a;t>0;t--)f/=1e3}if((s[0]||s[1])&&s[0]>s[1]&&o[1]!==c[1]){let e=t.indexOf(o[1])-t.indexOf(c[1]);if(e)for(let t=e;t>0;t--)b/=1e3}if(s){var m=e+1e3*a.inc;let t=parseFloat(g.numberFormat(Math.abs(f),2));a.upRate=`${l} ${p}`,t=parseFloat(g.numberFormat(Math.abs(b),2)),a.downRate=`${h} ${d}`,i[0].addPoint([m,f],!0,!0),i[1].addPoint([m,-b],!0,!0);let n=a.removeLast3Chars(m);a.lastChartDataObj[n]=[s[0],s[1],a.yAxixTitle,p,d],a.removeOldKeys()}},1e3)}}},colors:["#0027FF","#5ACFEA"],title:{text:""},xAxis:{type:"datetime",tickPixelInterval:150},yAxis:{gridLineDashStyle:"longdash",opposite:!1,startOnTick:!1,endOnTick:!1,title:{text:this.yAxixTitle,style:{fontWeight:"bold",textAlign:"left"}},labels:{align:"left",x:0,y:0,formatter:function(){return Math.abs(this.value)}}},credits:{enabled:!1},plotOptions:{areaspline:{lineWidth:1,marker:{enabled:!1},fillOpacity:.75},spline:{animation:!1,marker:{enabled:!1,radius:.9,lineWidth:.7}}},tooltip:{formatter:function(){var e=new Date(this.point.x-t),i=["January","February","March","April","May","June","July","August","September","October","November","December"];let s=parseFloat(g.numberFormat(Math.abs(this.point.y),2)),n=a.removeLast3Chars(this.point.x),r=a.lastChartDataObj[n]?a.lastChartDataObj[n][2]:"",o="rate"===a.chartName.toLowerCase()?["bps","Kbps","Mbps","Gbps","Tbps"]:["pps","Kpps","Mpps","Gpps","Tpps"];if(s<1){let t=o.indexOf(a.yAxixTitle);t>=1&&(t-=1),-1===t&&(t=0);let r=a.yAxixTitle;if(this.point.y<0){let t=o.indexOf(a.yAxixTitle);r=a.lastChartDataObj[n]?a.lastChartDataObj[n][4]:a.yAxixTitle;let e=t-o.indexOf(r);if(e)for(let a=e;a>0;a--)s*=1e3}else{let t=o.indexOf(a.yAxixTitle);r=a.lastChartDataObj[n]?a.lastChartDataObj[n][3]:a.yAxixTitle;let e=t-o.indexOf(r);if(e)for(let a=e;a>0;a--)s*=1e3}return`<b> ${e.getDate()}-${i[e.getMonth()]} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}  </b><br/>\n                 ${this.series.name}stream: ${s} ${r}`}{let t=a.yAxixTitle;if(this.point.y<0&&Math.abs(this.point.y)>1e3){let e=o.indexOf(a.yAxixTitle);t=a.lastChartDataObj[n]?a.lastChartDataObj[n][4]:a.yAxixTitle;let i=o.indexOf(t)-e;if(i){for(let t=i;t>0;t--)s/=1e3;this.point.y=s}}else if(this.point.y>0&&Math.abs(this.point.y)>1e3){let e=o.indexOf(a.yAxixTitle);t=a.lastChartDataObj[n]?a.lastChartDataObj[n][3]:a.yAxixTitle;let i=o.indexOf(t)-e;if(i){for(let t=i;t>0;t--)s/=1e3;this.point.y=s}}return`<b> ${e.getDate()}-${i[e.getMonth()]} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}  </b><br/>\n                 ${this.series.name}stream: ${g.numberFormat(Math.abs(this.point.y),2)} ${r||a.yAxixTitle}`}}},legend:{enabled:!1},exporting:{enabled:!1},series:[{name:"Up",data:function(){var t,i=[],s=e;for(t=-300;t<=0;t+=1){let e=s+1e3*t,n=a.removeLast3Chars(e),r=void 0!==a.lastChartDataObj[n]?a.lastChartDataObj[n][0]:0;a.reloadChart&&!r&&(r=void 0!==a.lastChartDataObj[n-1]?a.lastChartDataObj[n-1][0]:0),r&&(r/=a.sizes[a.yAxixTitle]),i.push({x:e,y:r})}return i}()},{name:"Down",data:function(){var t,i=[],s=e;for(t=-300;t<=0;t+=1){let e=s+1e3*t,n=a.removeLast3Chars(e),r=a.lastChartDataObj[n]?a.lastChartDataObj[n][1]:0;a.reloadChart&&!r&&(r=a.lastChartDataObj[n-1]?a.lastChartDataObj[n-1][0]:0),r&&(r/=a.sizes[a.yAxixTitle]),r*=-1,i.push({x:e,y:r})}return i}()}]}}chartCallback(t){}toggleDownStream(){this.streamOptions.series[1].visible?(this.streamOptions.series[1].visible=!1,this.isDownStreamVisible=!1):(this.streamOptions.series[1].visible=!0,this.isDownStreamVisible=!0),this.rebuildData()}toggleUpStream(){this.streamOptions.series[0].visible?(this.streamOptions.series[0].visible=!1,this.isUpStreamVisible=!1):(this.streamOptions.series[0].visible=!0,this.isUpStreamVisible=!0),this.rebuildData()}ngOnDestroy(){this.streamOptions={},clearInterval(this.interval),clearInterval(this.interval2),this.interval=null,this.interval2=null}transformData(t,e,a){this.chartName.toLowerCase(),(!e||!e.length)&&(e=[0,0]);let i=[];for(let s=0;s<t.length;s++){let n=parseFloat(t[s])-parseFloat(e[s]);!parseFloat(t[s])&&!parseFloat(e[s])&&(a[s]=0);let r=n/15,o=parseFloat(a[s])+r;i.push(o)}return!i[0]&&!i[1]&&(t[0]||t[1])&&this.msgLen>2&&(i=t),i}bitsToSize(t){let e=parseFloat(t),a="rate"===this.chartName.toLowerCase()?["bps","Kbps","Mbps","Gbps","Tbps"]:["pps","Kpps","Mpps","Gpps","Tpps"];if(0==e&&"rate"===this.chartName.toLowerCase())return"0 bps";if(0==e&&"packet"===this.chartName.toLowerCase())return"0 pps";var i=Math.floor(Math.log(e)/Math.log(1e3));return g.numberFormat(Math.abs(e/Math.pow(1e3,i)),2)+" "+a[i]}removeLast3Chars(t){return t=(t=t.toString()).slice(0,-3),parseInt(t)}removeOldKeys(){let t=Object.keys(this.lastChartDataObj),e=t.length;if(e>300){let a=this.lastChartDataObj,i=e-300;for(let e=0;e<i;e++)delete a[t[e]];this.lastChartDataObj=a,console.log("removal of old chart length",Object.keys(this.lastChartDataObj).length)}}getPacketRate(t){let e=t,a="rate"===this.chartName.toLowerCase()?["bps","Kbps","Mbps","Gbps","Tbps"]:["pps","Kpps","Mpps","Gpps","Tpps"];if(0==e&&"rate"===this.chartName.toLowerCase())return"0 bps";if(0==e&&"packet"===this.chartName.toLowerCase())return"0 pps";var i=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1e3,i))+" "+a[i]}timezoneDetected(){var t,e=new Date("1/1/"+(new Date).getUTCFullYear()),a=1e4;for(t=0;t<12;t++)e.setUTCMonth(e.getUTCMonth()+1),a>-1*e.getTimezoneOffset()&&(a=-1*e.getTimezoneOffset());return 60*a*1e3}rebuildData(){if(this.chartName.toLowerCase(),Object.keys(this.lastChartDataObj).length){let t,e=(new Date).getTime()+parseInt(this.sso.getRealtimeDelay());for(t=-299;t<=0;t+=1){let a=this.removeLast3Chars(e+1e3*t);void 0===this.lastChartDataObj[a]&&void 0!==this.lastChartDataObj[a-1]?this.lastChartDataObj[a]=this.lastChartDataObj[a-1]:void 0===this.lastChartDataObj[a]&&void 0!==this.lastChartDataObj[a-2]&&(this.lastChartDataObj[a]=this.lastChartDataObj[a-2])}this.reloadChart=!0,this.buildNewChart()}}buildNewChart(){var t,e;console.log("chart reloaded"),this.time=1e3*this.dateUtilsService.getCurrentUtcTime(),this.streamOptions={};let a=parseInt(this.sso.getRealtimeDelay());(new Date).getTime();let i=this;this.streamOptions={time:{useUTC:!1},chart:{type:"areaspline",height:220,events:{load:function(){let t="rate"===i.chartName.toLowerCase()?["bps","Kbps","Mbps","Gbps","Tbps"]:["pps","Kpps","Mpps","Gpps","Tpps"];var e=this.series;i.interval=setInterval(function(){i.inc++;let s=i.transformData(i.currentData,i.lastData,i.chartData);i.chartData=s,s[0]||(s[0]=0),s[1]||(s[1]=0);let n=i.bitsToSize(s[0]),r=i.bitsToSize(s[1]),o=n.split(" "),c=r.split(" "),l=o[0],h=c[0],p=o[1]?o[1]:"rate"===i.chartName.toLowerCase()?"bps":"pps",d=c[1]?c[1]:"rate"===i.chartName.toLowerCase()?"bps":"pps",u="";if(p="undefined"==p?"rate"===i.chartName.toLowerCase()?"bps":"pps":p,d="undefined"==d?"rate"===i.chartName.toLowerCase()?"bps":"pps":d,u=s[0]||s[1]?s[0]>s[1]?o[1]:c[1]:i.yAxixTitle?i.yAxixTitle:"rate"===i.chartName.toLowerCase()?"bps":"pps","undefined"==u&&(u=i.yAxixTitle?i.yAxixTitle:"rate"===i.chartName.toLowerCase()?"bps":"pps"),null!=u&&i.yAxixTitle!=u&&(s[0]||s[1]))return console.log(`scale changed from ${i.yAxixTitle} to ${u}`),i.yAxixTitle=u,i.streamOptions.yAxis.title.text=i.yAxixTitle,void i.rebuildData();"string"==typeof u&&(i.yAxixTitle=u);let f=parseFloat(o[0]),b=parseFloat(c[0]);if((s[0]||s[1])&&s[0]<s[1]&&o[1]!==c[1]){let e=t.indexOf(o[1]),a=t.indexOf(c[1])-e;if(a)for(let t=a;t>0;t--)f/=1e3}if((s[0]||s[1])&&s[0]>s[1]&&o[1]!==c[1]){let e=t.indexOf(o[1])-t.indexOf(c[1]);if(e)for(let t=e;t>0;t--)b/=1e3}if(s){var m=(new Date).getTime()+a;let t=parseFloat(g.numberFormat(Math.abs(f),2));i.upRate=`${l} ${p}`,t=parseFloat(g.numberFormat(Math.abs(b),2)),i.removeOldKeys(),i.downRate=`${h} ${d}`,e[0].addPoint([m,f],!0,!0),e[1].addPoint([m,-b],!0,!0);let n=i.removeLast3Chars(m);i.lastChartDataObj[n]=[s[0],s[1],i.yAxixTitle,p,d],i.lastChartDataObj[n+1]=[s[0],s[1],i.yAxixTitle,p,d]}},1e3)}}},title:{text:""},colors:["#0027FF","#5ACFEA"],xAxis:{type:"datetime",tickPixelInterval:120},yAxis:{gridLineDashStyle:"longdash",opposite:!1,startOnTick:!1,endOnTick:!1,title:{text:this.yAxixTitle,margin:40},labels:{align:"left",x:-35,formatter:function(){return Math.abs(this.value)}}},credits:{enabled:!1},plotOptions:{areaspline:{lineWidth:1,marker:{enabled:!1},fillOpacity:.75},spline:{animation:!1,marker:{enabled:!1,radius:.9,lineWidth:.7}}},tooltip:{formatter:function(){var t=i.dateUtilsService.getLocalRealtimeDateFormat(this.point.x);return i.removeLast3Chars(this.point.x),"up"==this.series.name?`<b> ${t}  </b><br/>\n  ${i.language.Upstream}: ${g.numberFormat(Math.abs(this.point.y),2)} ${i.yAxixTitle}`:"down"==this.series.name?`<b> ${t}  </b><br/>\n  ${i.language.Downstream}: ${g.numberFormat(Math.abs(this.point.y),2)} ${i.yAxixTitle}`:void 0}},legend:{enabled:!1},exporting:{enabled:!1},series:[{name:(null===(t=null==i?void 0:i.language)||void 0===t?void 0:t.upStream)?i.language.upStream:"up",data:function(){var t,e=[],s=(new Date).getTime()+a;for(t=-299;t<=0;t+=1){let a=s+1e3*t,n=i.removeLast3Chars(a),r=void 0!==i.lastChartDataObj[n]?i.lastChartDataObj[n][0]:i.lastChartDataObj[n-1]&&i.lastChartDataObj[n-1][0]?i.lastChartDataObj[n-1][0]:0;i.reloadChart&&!r&&(r=void 0!==i.lastChartDataObj[n-1]?i.lastChartDataObj[n-1][0]:i.lastChartDataObj[n-2]&&i.lastChartDataObj[n-2][0]?i.lastChartDataObj[n-2][0]:0),r&&(r/=i.sizes[i.yAxixTitle]),e.push({x:a,y:r})}return e}()},{name:(null===(e=null==i?void 0:i.language)||void 0===e?void 0:e.downStream)?i.language.downStream:"down",data:function(){var t,e=[],s=(new Date).getTime()+a;for(t=-299;t<=0;t+=1){let a=s+1e3*t,n=i.removeLast3Chars(a),r=void 0!==i.lastChartDataObj[n]?i.lastChartDataObj[n][1]:i.lastChartDataObj[n-1]&&i.lastChartDataObj[n-1][1]?i.lastChartDataObj[n-1][1]:0;i.reloadChart&&!r&&(r=void 0!==i.lastChartDataObj[n-1]?i.lastChartDataObj[n-1][1]:i.lastChartDataObj[n-2]&&i.lastChartDataObj[n-2][1]?i.lastChartDataObj[n-2][1]:0),i.lastChartDataObj[n]&&(i.lastChartDataObj[n][1]=r),r&&(r/=i.sizes[i.yAxixTitle]),r*=-1,e.push({x:a,y:r})}return e}()}]},this.streamOptions.series[0].visible=this.isUpStreamVisible,this.streamOptions.series[1].visible=this.isDownStreamVisible,this.streamOptions=Object.assign({},this.streamOptions)}concatDateTime(t){const e=new Date(t);return`${this.roundingDigit(e.getDate())}-${e.toLocaleString("default",{month:"short"})} ${this.roundingDigit(e.getHours())}:${this.roundingDigit(e.getMinutes())}:${this.roundingDigit(e.getSeconds())}`}roundingDigit(t){return t<10?`0${t}`:t}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(h.s),l.Y36(f.eN),l.Y36(E.R),l.Y36(j.s),l.Y36(p.t6))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngx-stream-path-chart"]],inputs:{chartName:"chartName",yAxixTitle:"yAxixTitle",data:"data",windowLen:"windowLen",time:"time",history:"history"},features:[l.TTD],decls:1,vars:1,consts:[["class","analytic-widget",4,"ngIf"],[1,"analytic-widget"],[1,"analytic-widget-header"],[1,"d-flex","justify-content-between"],[1,"mx-2"],[1,"widget-title",3,"title"],[1,"legend-label","toggle-up",3,"click"],[1,"legend-glyph",3,"ngStyle"],[1,"legend-label","toggle-down",3,"click"],[1,"interval"],[1,"mx-2",2,"text-align","right"],[1,"traffic-volume","monitor-status-normal"],["style","color: #0027FF;",4,"ngIf"],["style","color: #5ACFEA;",4,"ngIf"],[1,"analytic-widget-body"],["id","custom-mirrot-chart","style","width: 100%; display: block;",3,"Highcharts","options","callbackFunction",4,"ngIf"],[2,"color","#0027FF"],["aria-hidden","true",1,"fa","fa-arrow-up"],[2,"color","#5ACFEA"],["aria-hidden","true",1,"fa","fa-arrow-down"],["id","custom-mirrot-chart",2,"width","100%","display","block",3,"Highcharts","options","callbackFunction"]],template:function(t,e){1&t&&l.YNc(0,R,20,14,"div",0),2&t&&l.Q6J("ngIf",e.pageAvailable)},directives:[i.O5,i.PC,n.x],styles:[".highcharts-data-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:320px;max-width:800px;margin:1em auto}.highcharts-data-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:Verdana,sans-serif;border-collapse:collapse;border:1px solid #EBEBEB;margin:10px auto;text-align:center;width:100%;max-width:500px}.highcharts-data-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{padding:1em 0;font-size:1.2em;color:#555}.highcharts-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;padding:.5em}.highcharts-data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{padding:.5em}.highcharts-data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f8f8f8}.highcharts-data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f1f7ff}.analytic-widget[_ngcontent-%COMP%]   .analytic-widget-header[_ngcontent-%COMP%]{display:block}.analytic-widget[_ngcontent-%COMP%]   .analytic-widget-header-cell[_ngcontent-%COMP%]{display:block;padding:5px 5px 5px 10px;position:relative}.analytic-widget[_ngcontent-%COMP%]   .legend-glyph[_ngcontent-%COMP%]{display:inline-block;margin-left:4px;margin-right:4px;width:10px;height:10px;border-radius:6px}.analytic-widget[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{display:inline-block;font-size:12px;padding-right:8px;margin-right:4px;border-color:#e1dfec;background-color:#eae8f3;border-width:1px;text-decoration:none;cursor:pointer}.analytic-widget[_ngcontent-%COMP%]   .interval[_ngcontent-%COMP%]{background:#efefef;padding:2px 7px;font-size:11px;border-radius:2px;color:#666;margin-right:20px}.analytic-widget[_ngcontent-%COMP%]   .traffic-volume.monitor-status-normal[_ngcontent-%COMP%]{margin-top:0;background-color:#eae8f3;border-color:#e1dfec;border-width:1px;font-size:12px}"]}),t})();var J=a(1282);let V=(()=>{class t{constructor(){this.barChartOptions={},this.type={},this.chartOptions={},this.updateFlag=!0,this.data=[{name:"Downstream",data:[107,31,635,203,2]}],this.highcharts=J}ngOnInit(){this.update=this.updateFlag}ngOnChanges(t){t.chartOptions&&t.chartOptions.currentValue&&(this.barChartOptions=Object.assign({},this.chartOptions),this.updateFlag=!0,this.update=!0)}chartCallback(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngx-barchart"]],inputs:{type:"type",chartOptions:"chartOptions",updateFlag:"updateFlag"},features:[l.TTD],decls:1,vars:4,consts:[[2,"width","100%","display","block",3,"Highcharts","options","update","callbackFunction","updateChange"]],template:function(t,e){1&t&&(l.TgZ(0,"highcharts-chart",0),l.NdJ("updateChange",function(t){return e.update=t}),l.qZA()),2&t&&l.Q6J("Highcharts",e.highcharts)("options",e.barChartOptions)("update",e.update)("callbackFunction",e.chartCallback)},directives:[n.x],styles:[""]}),t})();const Y=["realtimeFavCreatePop"],H=["recordCreatePop"];function Q(t,e){if(1&t&&(l.TgZ(0,"div",15),l._uU(1),l.qZA()),2&t){const t=l.oxw(2);l.xp6(1),l.AsE(" ",t.delay," ",t.language["minute delay"]," ")}}function X(t,e){if(1&t&&(l.TgZ(0,"div",3),l.TgZ(1,"div",16),l.TgZ(2,"div",17),l.TgZ(3,"div",18),l.TgZ(4,"span",19),l._uU(5),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw(2);l.xp6(5),l.Oqu(t.language.Loading)}}function B(t,e){if(1&t&&l._UZ(0,"ngx-stream-path-chart",26),2&t){const t=l.oxw(4);l.Q6J("chartName",t.rate)("yAxixTitle",t.rateUnit)("data",t.data.maxRate)("time",t.data.sendTime)("windowLen",t.windowLen)("history",t.cacheRateData)}}function G(t,e){if(1&t&&(l.TgZ(0,"div",23),l.TgZ(1,"div",24),l.YNc(2,B,1,6,"ngx-stream-path-chart",25),l.qZA(),l.qZA()),2&t){const t=l.oxw(3);l.xp6(2),l.Q6J("ngIf",t.data.maxRate&&t.showRealTime)}}function K(t,e){if(1&t&&l._UZ(0,"ngx-stream-path-chart",26),2&t){const t=l.oxw(4);l.Q6J("chartName",t.packet)("yAxixTitle",t.packetUnit)("data",t.data.packet)("time",t.data.sendTime)("windowLen",t.windowLen)("history",t.cachePacketData)}}function z(t,e){if(1&t&&(l.TgZ(0,"div",23),l.TgZ(1,"div",27),l.YNc(2,K,1,6,"ngx-stream-path-chart",25),l.qZA(),l.qZA()),2&t){const t=l.oxw(3);l.xp6(2),l.Q6J("ngIf",t.data.packet&&t.showRealTime)}}function W(t,e){if(1&t&&l._UZ(0,"ngx-barchart",48),2&t){const t=l.oxw(4);l.Q6J("chartOptions",t.topEndPointUpChartoptions)("type","up")("updateFlag",t.updateFlag)}}function tt(t,e){if(1&t&&l._UZ(0,"ngx-barchart",49),2&t){const t=l.oxw(4);l.Q6J("chartOptions",t.topEndPointDownChartoptions)("type","down")("updateFlag",t.updateFlag)}}function et(t,e){if(1&t&&l._UZ(0,"ngx-barchart",50),2&t){const t=l.oxw(4);l.Q6J("chartOptions",t.topAppsUpChartoptions)("type","up")("updateFlag",t.updateFlag)}}function at(t,e){if(1&t&&l._UZ(0,"ngx-barchart",51),2&t){const t=l.oxw(4);l.Q6J("chartOptions",t.topAppsDownChartoptions)("type","down")("updateFlag",t.updateFlag)}}function it(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",20),l.TgZ(1,"div",28),l.TgZ(2,"div",29),l.TgZ(3,"div",30),l.TgZ(4,"p",31),l._uU(5),l.qZA(),l.qZA(),l.TgZ(6,"span",32),l._uU(7),l.qZA(),l._uU(8,"\xa0\xa0 "),l.TgZ(9,"span",33),l.NdJ("click",function(){return l.CHM(t),l.oxw(3).fullscreen("TEP")}),l._uU(10,"\xa0 "),l._UZ(11,"i",34),l.qZA(),l.qZA(),l.TgZ(12,"div",35),l.TgZ(13,"div",36),l.TgZ(14,"div",37),l.TgZ(15,"span",38),l._uU(16),l.qZA(),l.qZA(),l.YNc(17,W,1,3,"ngx-barchart",39),l.qZA(),l.TgZ(18,"div",40),l.TgZ(19,"div",37),l.TgZ(20,"span",38),l._uU(21),l.qZA(),l.qZA(),l.YNc(22,tt,1,3,"ngx-barchart",41),l.qZA(),l.qZA(),l.qZA(),l.TgZ(23,"div",42),l.TgZ(24,"div",29),l.TgZ(25,"div",30),l.TgZ(26,"p",31),l._uU(27),l.qZA(),l.qZA(),l.TgZ(28,"span",32),l._uU(29),l.qZA(),l._uU(30,"\xa0\xa0 "),l.TgZ(31,"span",43),l.NdJ("click",function(){return l.CHM(t),l.oxw(3).fullscreen("TAPP")}),l._uU(32,"\xa0 "),l._UZ(33,"i",34),l.qZA(),l.qZA(),l.TgZ(34,"div",35),l.TgZ(35,"div",44),l.TgZ(36,"div",37),l.TgZ(37,"span",38),l._uU(38),l.qZA(),l.qZA(),l.YNc(39,et,1,3,"ngx-barchart",45),l.qZA(),l.TgZ(40,"div",46),l.TgZ(41,"div",37),l.TgZ(42,"span",38),l._uU(43),l.qZA(),l.qZA(),l.YNc(44,at,1,3,"ngx-barchart",47),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw(3);l.xp6(5),l.Oqu(t.language.top5Endpoints),l.xp6(2),l.hij("",t.language.interval,": 15 sec"),l.xp6(9),l.hij("",t.language.upRate," "),l.xp6(1),l.Q6J("ngIf",t.topEndPointUpChartoptions&&t.showRealTime),l.xp6(4),l.hij("",t.language.downRate," "),l.xp6(1),l.Q6J("ngIf",t.topEndPointDownChartoptions&&t.showRealTime),l.xp6(5),l.Oqu(t.language.top5Applications),l.xp6(2),l.hij("",t.language.interval,": 15 sec"),l.xp6(9),l.hij("",t.language.upRate," "),l.xp6(1),l.Q6J("ngIf",t.topAppsUpChartoptions&&t.showRealTime),l.xp6(4),l.hij("",t.language.downRate," "),l.xp6(1),l.Q6J("ngIf",t.topAppsDownChartoptions&&t.showRealTime)}}function st(t,e){if(1&t&&(l.TgZ(0,"div",3),l.TgZ(1,"div",20),l.YNc(2,G,3,1,"div",21),l.YNc(3,z,3,1,"div",21),l.qZA(),l.YNc(4,it,45,12,"div",22),l.qZA()),2&t){const t=l.oxw(2);l.xp6(2),l.Q6J("ngIf",t.data.maxRate.length||t.showRealTime),l.xp6(1),l.Q6J("ngIf",t.data.packet.length||t.showRealTime),l.xp6(1),l.Q6J("ngIf",!t.fsView)}}function nt(t,e){if(1&t&&l._UZ(0,"ngx-barchart",58),2&t){const t=l.oxw(3);l.Q6J("chartOptions",t.topEndPointUpChartoptions)("type","up")("updateFlag",t.updateFlag)}}function rt(t,e){if(1&t&&l._UZ(0,"ngx-barchart",59),2&t){const t=l.oxw(3);l.Q6J("chartOptions",t.topEndPointDownChartoptions)("type","down")("updateFlag",t.updateFlag)}}const ot=function(){return{standalone:!0}};function ct(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",52),l.TgZ(1,"div",29),l.TgZ(2,"div",30),l.TgZ(3,"ng-select",53),l.NdJ("ngModelChange",function(e){return l.CHM(t),l.oxw(2).selectedTopLength=e})("change",function(){return l.CHM(t),l.oxw(2).changeTopLength()}),l.qZA(),l.qZA(),l.TgZ(4,"span",32),l._uU(5),l.qZA(),l.TgZ(6,"span",54),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).closeFullscreen()}),l._uU(7,"\xa0 "),l._UZ(8,"i",34),l.qZA(),l.qZA(),l.TgZ(9,"div",55),l.TgZ(10,"div",40),l.TgZ(11,"div",37),l.TgZ(12,"span",38),l._uU(13),l.TgZ(14,"b"),l._uU(15),l.qZA(),l._uU(16),l.qZA(),l.qZA(),l.YNc(17,nt,1,3,"ngx-barchart",56),l.qZA(),l.TgZ(18,"div",40),l.TgZ(19,"div",37),l.TgZ(20,"span",38),l._uU(21),l.TgZ(22,"b"),l._uU(23),l.qZA(),l._uU(24),l.qZA(),l.qZA(),l.YNc(25,rt,1,3,"ngx-barchart",57),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw(2);l.xp6(3),l.Q6J("items",t.topLengths)("multiple",!1)("ngModel",t.selectedTopLength)("ngModelOptions",l.DdM(15,ot))("clearable",!1)("searchable",!1),l.xp6(2),l.hij("",t.language.interval,": 15 sec"),l.xp6(8),l.hij("",t.language.upRate," ("),l.xp6(2),l.hij("",t.tEPrcntData.upPercentage,"%"),l.xp6(1),l.hij(" ",t.language.ofTotal,")"),l.xp6(1),l.Q6J("ngIf",!0),l.xp6(4),l.hij("",t.language.downRate," ("),l.xp6(2),l.hij("",t.tEPrcntData.downPercentage,"%"),l.xp6(1),l.hij(" ",t.language.ofTotal,")"),l.xp6(1),l.Q6J("ngIf",!0)}}function lt(t,e){if(1&t&&l._UZ(0,"ngx-barchart",64),2&t){const t=l.oxw(3);l.Q6J("chartOptions",t.topAppsUpChartoptions)("type","up")("updateFlag",t.updateFlag)}}function ht(t,e){if(1&t&&l._UZ(0,"ngx-barchart",65),2&t){const t=l.oxw(3);l.Q6J("chartOptions",t.topAppsDownChartoptions)("type","down")("updateFlag",t.updateFlag)}}function pt(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",52),l.TgZ(1,"div",29),l.TgZ(2,"div",30),l.TgZ(3,"ng-select",53),l.NdJ("ngModelChange",function(e){return l.CHM(t),l.oxw(2).selectedTopLength=e})("change",function(){return l.CHM(t),l.oxw(2).changeTopLength()}),l.qZA(),l.qZA(),l.TgZ(4,"span",32),l._uU(5),l.qZA(),l.TgZ(6,"span",60),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).closeFullscreen()}),l._uU(7,"\xa0 "),l._UZ(8,"i",34),l.qZA(),l.qZA(),l.TgZ(9,"div",55),l.TgZ(10,"div",61),l.TgZ(11,"div",37),l.TgZ(12,"span",38),l._uU(13),l.qZA(),l.qZA(),l.YNc(14,lt,1,3,"ngx-barchart",62),l.qZA(),l.TgZ(15,"div",40),l.TgZ(16,"div",37),l.TgZ(17,"span",38),l._uU(18),l.qZA(),l.qZA(),l.YNc(19,ht,1,3,"ngx-barchart",63),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw(2);l.xp6(3),l.Q6J("items",t.topLengths)("multiple",!1)("ngModel",t.selectedTopLength)("ngModelOptions",l.DdM(11,ot))("clearable",!1)("searchable",!1),l.xp6(2),l.hij("",t.language.interval,": 15 sec"),l.xp6(8),l.hij("",t.language.upRate," "),l.xp6(1),l.Q6J("ngIf",!0),l.xp6(4),l.hij("",t.language.downRate," "),l.xp6(1),l.Q6J("ngIf",!0)}}function dt(t,e){if(1&t&&(l.TgZ(0,"div",1),l.TgZ(1,"section",2),l.TgZ(2,"div",3),l.TgZ(3,"div",4),l.TgZ(4,"div",5),l.TgZ(5,"h5",6),l._uU(6),l.qZA(),l.qZA(),l._UZ(7,"div",7),l.qZA(),l.qZA(),l.YNc(8,Q,2,2,"div",8),l.TgZ(9,"div",9),l.YNc(10,X,6,1,"div",10),l.YNc(11,st,5,3,"div",10),l.qZA(),l.qZA(),l.TgZ(12,"section",2),l.TgZ(13,"div",3),l.TgZ(14,"h2",11),l._uU(15),l.qZA(),l.qZA(),l.TgZ(16,"div",12),l.TgZ(17,"div",3),l.TgZ(18,"div",13),l.YNc(19,ct,26,16,"div",14),l.YNc(20,pt,20,12,"div",14),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("hidden",t.fsView),l.xp6(5),l.Oqu(t.language.trafficMonitorOverall),l.xp6(2),l.Q6J("ngIf",!t.loading),l.xp6(2),l.Q6J("ngIf",t.loading),l.xp6(1),l.Q6J("ngIf",!t.loading),l.xp6(1),l.Q6J("hidden",!t.fsView),l.xp6(3),l.Oqu(t.language.trafficMonitorOverall),l.xp6(4),l.Q6J("ngIf","TEP"==t.fsChartDetails.topChart),l.xp6(1),l.Q6J("ngIf","TAPP"==t.fsChartDetails.topChart)}}y()(g);let ut=(()=>{class t{constructor(t,e,a,i,s,n,r,o){this.router=t,this.customTranslateService=e,this.sso=a,this.optnsMngr=i,this.realTimeCommonFunctionService=s,this.utils=n,this.rtService=r,this.titleService=o,this.pageAvailable=!1,this.topEndPointUpXaxisArray=[],this.topEndPointUpXaxisIdArray=[],this.topEndPointUpXaxisSelection=!1,this.topEndPointDownXaxisArray=[],this.topEndPointDownXaxisIdArray=[],this.topEndPointDownXaxisSelection=!1,this.topAppsUpXaxisArray=[],this.topAppsUpXaxisIdArray=[],this.topAppsUpXaxisSelection=!1,this.topAppsDownXaxisArray=[],this.topAppsDownXaxisIdArray=[],this.topAppsDownXaxisSelection=!1,this.topLocationsUpXaxisArray=[],this.topLocationsUpXaxisIdArray=[],this.topLocationsUpXaxisSelection=!1,this.topLocationsDownXaxisArray=[],this.topLocationsDownXaxisIdArray=[],this.topLocationsDownXaxisSelection=!1,this.selectedTopLength=5,this.topLengths=[],this.updateFlag=!0,this.fsView=!1,this.fsChartDetails={},this.showChart=!1,this.Highcharts=g,this.loading=!0,this.recordingComponent=l.wA2,this.favoriteComponent=l.wA2,this.startDate=new Date,this.rate="",this.packet="",this.createFavorite=!0,this.createRecord=!0,this.windowLen=5,this.fsName="",this.data={maxRate:[],packet:[]},this.showRealTime=!1,this.tAPrcntData={downPercentage:"",upPercentage:""},this.tLPrcntData={downPercentage:"",upPercentage:""},this.tEPrcntData={downPercentage:"",upPercentage:""},this.tAData={},this.tLData={},this.tEPData={},this.showBars=!1,this.showTEPBars=!1,this.cachePacketData={},this.cacheRateData={},this.rateUnit="bps",this.packetUnit="pps",this.tepUpDataObj={},this.tepDownDataObj={},this.tapUpDataObj={},this.tapDownDataObj={},this.tlocUpDataObj={},this.tlocDownDataObj={},this.titleService.setTitle("Realtime - Data - Service - Service - Calix Cloud"),this.loading=!0}ngOnInit(){this.sso.setActionLog("CSC","pageHit","realtime",window.location.href,"realtime reports intiated"),this.rtService.delay$.subscribe(t=>{t&&(this.loading=!1,this.sso.getSubscriberEndpointId()?this.getDataByNewToken():this.sso.subscriberEndPointId$.subscribe(t=>{console.log("subscribe",t),t&&-1!==this.router.url.indexOf("traffic-reports")&&this.getDataByNewToken()}),this.getRtData(),this.delay=Math.abs(this.sso.getRealtimeDelay())/6e4,this.delay=Number.isInteger(this.delay)?this.delay:this.delay.toFixed(1))}),this.language=this.customTranslateService.defualtLanguage,this.rate=this.language.RATE,this.packet=this.language.PACKET,this.language&&(this.pageAvailable=!0),this.customTranslateService.selectedLanguage.subscribe(t=>{this.rate=t.RATE,this.packet=t.PACKET,this.language=t,this.fsView&&this.createTopLengthItems()}),this.topLengths=[{name:"Top 5",value:5}];let t=this.sso.getScopes();t&&t&&t["cloud.fa.network.realtime"]&&-1===t["cloud.fa.network.realtime"].indexOf("write")&&(this.createFavorite=!1,this.createRecord=!1)}ngAfterViewInit(){this.favoriteComponent=this.realtimeFavCreatePop,this.recordingComponent=this.recordCreatePop}getChartOptions(t){}fullscreen(t){this.fsChartDetails={topChart:t},this.fsView=!0,this.fsName=t,this.modifyCurrentOptionsToFS(t),this.createTopLengthItems()}closeFullscreen(){if(this.selectedTopLength=5,this.fsView=!1,"TEP"===this.fsName){let t=this.optnsMngr.getTopEP();this.makeTEPEvents(t)}else if("TAPP"===this.fsName){let t=this.optnsMngr.getTopApp();this.makeTAPPEvents(t)}else if("TLOC"===this.fsName){let t=this.optnsMngr.getTopLoc();this.makeTLOCEvents(t)}this.fsName="",this.fsChartDetails={}}modifyCurrentOptionsToFS(t){switch(t){case"TEP":this.fsChartDetails={topChart:"TEP",title:"Endpoints"};let t=this.optnsMngr.getTopEP();this.makeTEPEvents(t);break;case"TAPP":this.fsChartDetails={topChart:"TAPP",title:"Applications"};let e=this.optnsMngr.getTopApp();this.makeTAPPEvents(e);break;case"TLOC":this.fsChartDetails={topChart:"TLOC",title:"Locations"};let a=this.optnsMngr.getTopLoc();this.makeTLOCEvents(a)}}ipAddress(t){}getFSPointWidth(t){let e=14;switch(t){case 5:e=60;break;case 10:e=30;break;case 20:e=15;break;case 30:e=10}return e}createTopLengthItems(){this.topLengths=[{name:this.language["Top 5 "+this.fsChartDetails.title],value:5},{name:this.language["Top 10 "+this.fsChartDetails.title],value:10},{name:this.language["Top 20 "+this.fsChartDetails.title],value:20},{name:this.language["Top 30 "+this.fsChartDetails.title],value:30}]}ngOnDestroy(){this.rtSubscription&&this.rtSubscription.unsubscribe(),this.ratePacketStreamSubscription&&this.ratePacketStreamSubscription.unsubscribe(),this.tASource&&this.tASource.close(),this.tESource&&this.tESource.close(),this.tLsource&&this.tLsource.close()}checkAllOptions(){this.checkAllOptionsInterval=setInterval(()=>{this.topEndPointUpChartoptions&&this.topEndPointDownChartoptions&&this.topAppsUpChartoptions&&this.topAppsDownChartoptions&&this.topLocationsUpChartoptions&&this.topLocationsDownChartoptions&&(this.loading=!1,this.showChart=!0,clearInterval(this.checkAllOptionsInterval))},500)}gotoHistory(){this.router.navigate(["fa/traffic-record"])}getData(){let t=this.sso.getOrgId(),e=this.sso.getSubscriberEndpointId();e||alert("subscriber endpoint id not set"),this.source&&(this.source=null),this.source=new d.EventSourcePolyfill(`${c.N.SUPPORT_URL}/rt/sse/${t}/EP/${e}/TRF,TAPP,TEP`,{headers:{"X-Calix-ClientID":c.N.X_CALIX_CLIENTID,"X-Calix-AccessToken":this.sso.getAccessToken()}}),this.source.addEventListener("open",t=>{console.log(JSON.stringify(t)),console.log(t),console.log(new Date)}),this.source.addEventListener("state",t=>{console.log(JSON.stringify(t)),console.log("state",t),console.log(new Date),"s300"===JSON.parse(t.data).status.toLowerCase()&&(this.data={sendTime:(new Date).getTime(),usage:[0,0],maxRate:[0,0],packet:[0,0]},this.loading=!1,this.showRealTime=!0)}),this.source.addEventListener("message",t=>{console.log(JSON.parse(t.data));let e=JSON.parse(t.data);"TRF"===e.graphType?this.data=JSON.parse(t.data):this.showBars=!1,"TAPP"===e.graphType&&(this.optnsMngr.setTopApp(e),this.makeTAPPEvents(e)),"TEP"===e.graphType&&(this.topEndPointUpChartoptions=null,this.optnsMngr.setTopEP(e),this.makeTEPEvents(e)),this.loading=!1,this.showRealTime=!0}),this.source.addEventListener("error",t=>{this.source.close(),this.source=null})}getRtData(){this.rtSubscription&&this.rtSubscription.unsubscribe(),this.ratePacketStreamSubscription&&this.ratePacketStreamSubscription.unsubscribe(),this.ratePacketStreamSubscription=this.rtService.ratePacketStreamData$.subscribe(t=>{if(console.log("subscription data",t),"TRF"===t.graphType){let e=t.monitorString?t.monitorString.split("/"):[];e[e.length-2]==this.sso.getSubscriberEndpointId()&&(this.data=t),this.showRealTime=!0}else this.showBars=!1;this.loading=!1}),this.rtSubscription=this.rtService.rtData$.subscribe(t=>{let e=t.monitorString?t.monitorString.split("/"):[];e[e.length-2]===this.sso.getSubscriberEndpointId()&&("TAPP"===t.graphType&&(this.optnsMngr.setTopApp(t),this.makeTAPPEvents(t)),"TEP"===t.graphType&&(this.topEndPointUpChartoptions=null,this.optnsMngr.setTopEP(t),this.makeTEPEvents(t)),this.loading=!1)})}makeTEPEvents(t){this.tEPrcntData={downPercentage:t.downPercentage,upPercentage:t.upPercentage};let e=this.fsView&&"TEP"===this.fsName?this.selectedTopLength:5,a=t.upData.length,i=t.downData.length;a>=e&&(a=e),i>=e&&(i=e),this.settepUpDataObj(t.upData),this.settepDownDataObj(t.downData);let s=this.optnsMngr.makeOptionsForRTBC(t,"bar","upData",e,this.fsView),n=this.optnsMngr.makeOptionsForRTBC(t,"bar","downData",e,this.fsView);s.chart.height=this.fsView&&"TEP"===this.fsName?560:180,s.plotOptions.series.cursor="context-menu",n.plotOptions.series.cursor="context-menu",s.plotOptions.series.pointWidth=this.fsView&&"TEP"===this.fsName?this.getFSPointWidth(a):14,n.chart.height=this.fsView&&"TEP"===this.fsName?560:180,n.plotOptions.series.pointWidth=this.fsView&&"TEP"===this.fsName?this.getFSPointWidth(i):14;let r=this;s.xAxis.labels={useHTML:!0,formatter:function(){return`<span class="topEndPointUpChartXaxis text-primary" id="${r.tepUpDataObj[this.value]}" style="cursor:context-menu">${this.value}</span>`}},s.plotOptions.series.point.events={click:function(t){}},n.xAxis.labels={useHTML:!0,formatter:function(){return`<span class="topEndPointDownChartXaxis text-primary" id="${r.tepDownDataObj[this.value]}"  style=" cursor:context-menu">${this.value}</span>`}},n.plotOptions.series.point.events={click:function(t){}},n.plotOptions.series.color="#5ACFEA",this.topEndPointUpChartoptions=Object.assign({},s),this.topEndPointDownChartoptions=Object.assign({},n)}makeTLOCEvents(t){this.tLPrcntData={downPercentage:t.downPercentage,upPercentage:t.upPercentage};let e=this.fsView&&"TLOC"===this.fsName?this.selectedTopLength:5,a=t.upData.length,i=t.downData.length;a>=e&&(a=e),i>=e&&(i=e),this.settlocUpDataObj(t.upData),this.settlocDownDataObj(t.downData);let s=this.optnsMngr.makeOptionsForRTBC(t,"bar","upData",e,this.fsView),n=this.optnsMngr.makeOptionsForRTBC(t,"bar","downData",e,this.fsView);s.chart.height=this.fsView&&"TLOC"===this.fsName?560:180,delete s.chart.width,s.plotOptions.series.pointWidth=this.fsView&&"TLOC"===this.fsName?this.getFSPointWidth(a):14,n.chart.height=this.fsView&&"TLOC"===this.fsName?560:180,delete n.chart.width,n.plotOptions.series.pointWidth=this.fsView&&"TLOC"===this.fsName?this.getFSPointWidth(i):14;let r=this;s.xAxis.labels={useHTML:!0,formatter:function(){return`<span class="topLocationsUpChartXaxis text-primary" id="${r.tlocUpDataObj[this.value]}"  style=" cursor:context-menu">${this.value}</span>`}},s.plotOptions.series.point.events={click:function(t){}},n.xAxis.labels={useHTML:!0,formatter:function(){return`<span class="topLocationsDownChartXaxis text-primary"   id="${r.tlocDownDataObj[this.value]}" style=" cursor:context-menu">${this.value}</span>`}},n.plotOptions.series.point.events={click:function(t){}},n.plotOptions.series.color="#5ACFEA",this.topLocationsUpChartoptions=Object.assign({},s),this.topLocationsDownChartoptions=Object.assign({},n)}makeTAPPEvents(t){this.tAPrcntData={downPercentage:t.downPercentage,upPercentage:t.upPercentage};let e=this.fsView&&"TAPP"===this.fsName?this.selectedTopLength:5,a=t.upData.length,i=t.downData.length;a>=e&&(a=e),i>=e&&(i=e),this.settapUpDataObj(t.upData),this.settapDownDataObj(t.downData);let s=this.optnsMngr.makeOptionsForRTBC(t,"bar","upData",e,this.fsView),n=this.optnsMngr.makeOptionsForRTBC(t,"bar","downData",e,this.fsView);s.plotOptions.series.cursor="context-menu",n.plotOptions.series.cursor="context-menu",s.chart.height=this.fsView&&"TAPP"===this.fsName?560:180,delete s.chart.width,s.plotOptions.series.pointWidth=this.fsView&&"TAPP"===this.fsName?this.getFSPointWidth(a):14,n.chart.height=this.fsView&&"TAPP"===this.fsName?560:180,delete n.chart.width,n.plotOptions.series.pointWidth=this.fsView&&"TAPP"===this.fsName?this.getFSPointWidth(i):14;let r=this;s.xAxis.labels={useHTML:!0,formatter:function(){return`<span class="topAppsUpChartXaxis text-primary"  id="${r.tapUpDataObj[this.value]}"  style=" cursor:context-menu">${this.value}</span>`}},s.plotOptions.series.point.events={click:function(t){}},n.xAxis.labels={useHTML:!0,formatter:function(){return`<span class="topAppsDownChartXaxis text-primary "  id="${r.tapDownDataObj[this.value]}" style=" cursor:context-menu">${this.value}</span>`}},n.plotOptions.series.point.events={click:function(t){}},n.plotOptions.series.color="#5ACFEA",this.topAppsUpChartoptions=Object.assign({},s),this.topAppsDownChartoptions=Object.assign({},n)}getDataByNewToken(){this.cachePacketData=this.rtService.getCachedata("packet"),this.cacheRateData=this.rtService.getCachedata("rate"),Object.keys(this.cachePacketData),this.rateUnit=this.rtService.getCurrrentUnit("rate")?this.rtService.getCurrrentUnit("rate"):"bps",this.packetUnit=this.rtService.getCurrrentUnit("packet")?this.rtService.getCurrrentUnit("packet"):"pps",this.sso.getSubscriberEndpointId()!==window.localStorage.getItem("calix.temp_endpoint_id")&&(this.rtService.clearData(),this.cachePacketData={},this.cacheRateData={},this.rtSubscription&&this.rtSubscription.unsubscribe(),this.ratePacketStreamSubscription&&this.ratePacketStreamSubscription.unsubscribe()),window.localStorage.setItem("calix.temp_endpoint_id",this.sso.getSubscriberEndpointId()),Object.keys(this.cacheRateData).length||this.sso.getAuthTokenByRT().subscribe(t=>{this.sso.setLoginInfo(t),this.rtService.getData()},t=>{})}changeTopLength(){if("TEP"===this.fsName){let t=this.optnsMngr.getTopEP();this.makeTEPEvents(t)}else if("TAPP"===this.fsName){let t=this.optnsMngr.getTopApp();this.makeTAPPEvents(t)}else if("TLOC"===this.fsName){let t=this.optnsMngr.getTopLoc();this.makeTLOCEvents(t)}}settepUpDataObj(t){let e={};t.forEach(t=>{e[t.name]=t.id}),this.tepUpDataObj=e}gettepUpDataObj(){return this.tepUpDataObj}settepDownDataObj(t){let e={};t.forEach(t=>{e[t.name]=t.id}),this.tepDownDataObj=e}gettepDownDataObj(){return this.tepDownDataObj}settapUpDataObj(t){let e={};t.forEach(t=>{e[t.name]=t.id}),this.tapUpDataObj=e}gettapUpDataObj(){return this.tapUpDataObj}settapDownDataObj(t){let e={};t.forEach(t=>{e[t.name]=t.id}),this.tapDownDataObj=e}gettapDownDataObj(){return this.tapDownDataObj}settlocDownDataObj(t){let e={};t.forEach(t=>{e[t.name]=t.id}),this.tlocDownDataObj=e}gettlocDownDataObj(){return this.tlocDownDataObj}settlocUpDataObj(t){let e={};t.forEach(t=>{e[t.name]=t.id}),this.tlocUpDataObj=e}gettlocUpDataObj(){return this.tlocUpDataObj}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(o.F0),l.Y36(h.s),l.Y36(p.t6),l.Y36(A.D),l.Y36(P),l.Y36(Z.e),l.Y36(b),l.Y36(S.Dx))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngx-realtime"]],viewQuery:function(t,e){if(1&t&&(l.Gf(Y,7),l.Gf(H,7)),2&t){let t;l.iGM(t=l.CRH())&&(e.realtimeFavCreatePop=t.first),l.iGM(t=l.CRH())&&(e.recordCreatePop=t.first)}},decls:1,vars:1,consts:[["class","col-md-12 col-12 mt-4",4,"ngIf"],[1,"col-md-12","col-12","mt-4"],[3,"hidden"],[1,"row"],[1,"col-md-7","col-lg-8","col-xl-8","col-12","row"],[1,"with-info"],["id","trafficMonitorOverall",1,"tab-content-title","pr-2"],[1,"with-select"],["class","text-right",4,"ngIf"],[1,"bg-light","mt-3",2,"height","auto"],["class","row",4,"ngIf"],[1,"tab-content-title","col-md-3"],[1,"bg-light",2,"height","auto"],[1,"col-md-12","col-12"],["class","card","style","height:auto;",4,"ngIf"],[1,"text-right"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"col-md-12","col-lg-6","col-xl-6","col-sm-12"],["class","card m-10",4,"ngIf"],["class","col-md-12 col-lg-6 col-xl-6 col-sm-12",4,"ngIf"],[1,"card","m-10"],["id","ngx-stream-path-chart-rate",1,"card-body"],[3,"chartName","yAxixTitle","data","time","windowLen","history",4,"ngIf"],[3,"chartName","yAxixTitle","data","time","windowLen","history"],["id","ngx-stream-path-chart-packet",1,"card-body"],[1,"card","m-10",2,"height","auto"],[1,"board_head"],[1,"orange-text-wrapper",2,"display","inline-block"],[1,"orange-text"],[1,"ml20"],["id","open-fullscreen-top-endpoints",1,"top5-fullscreen","pointer",3,"click"],[1,"fa","fa-expand"],[1,"card-body","row","board_body",2,"height","210px"],["id","top-endpoints-up-chart-div",1,"col-md-6","col-12"],[1,"chart-info"],[1,""],["id","top-endpoints-up-chart",3,"chartOptions","type","updateFlag",4,"ngIf"],[1,"col-md-6","col-12"],["id","top-endpoints-down-chart",3,"chartOptions","type","updateFlag",4,"ngIf"],[1,"card","mt-2","m-10",2,"height","auto"],["id","open-fullscreen-top-apps",1,"top5-fullscreen","pointer",3,"click"],["id","top-apps-up-chart-div",1,"col-md-6","col-12"],["id","top-apps-up-chart",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-apps-down-chart-div",1,"col-md-6","col-12"],["id","top-apps-down-chart",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-endpoints-up-chart",3,"chartOptions","type","updateFlag"],["id","top-endpoints-down-chart",3,"chartOptions","type","updateFlag"],["id","top-apps-up-chart",3,"chartOptions","type","updateFlag"],["id","top-apps-down-chart",3,"chartOptions","type","updateFlag"],[1,"card",2,"height","auto"],["id","usage_criteria","bindLabel","name","bindValue","value","placeholder","",1,"realtime-custom-select",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],["id","close-fullscreen-top-endpoints",1,"top5-fullscreen","pointer",3,"click"],[1,"card-body","row","board_body","mt20"],["id","top-endpoints-up-chart-fullscreen",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-endpoints-down-chart-fullscreen",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-endpoints-up-chart-fullscreen",3,"chartOptions","type","updateFlag"],["id","top-endpoints-down-chart-fullscreen",3,"chartOptions","type","updateFlag"],["id","close-fullscreen-top-apps",1,"top5-fullscreen","pointer",3,"click"],[1,"col-md-6","col-6"],["id","top-apps-up-chart-fullscreen",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-apps-down-chart-fullscreen",3,"chartOptions","type","updateFlag",4,"ngIf"],["id","top-apps-up-chart-fullscreen",3,"chartOptions","type","updateFlag"],["id","top-apps-down-chart-fullscreen",3,"chartOptions","type","updateFlag"]],template:function(t,e){1&t&&l.YNc(0,dt,21,9,"div",0),2&t&&l.Q6J("ngIf",e.pageAvailable)},directives:[i.O5,q,V,r.w9,s.JJ,s.On],styles:[".board_head[_ngcontent-%COMP%]{padding:5px 10px 0}.orange-text[_ngcontent-%COMP%]{color:#ff7f00}.ml20[_ngcontent-%COMP%]{margin-left:20px}.mt20[_ngcontent-%COMP%]{margin-top:20px}.top5-fullscreen[_ngcontent-%COMP%]{float:right}.board_body[_ngcontent-%COMP%]{padding:0!important}.chart-info[_ngcontent-%COMP%]{padding:0 10px!important}.ng-select.realtime-custom-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{color:#ff7f00!important;border:none!important;border-radius:0!important}.topEndPointUpChartXaxis[_ngcontent-%COMP%]:hover{cursor:pointer!important}.with-info[_ngcontent-%COMP%]{display:flex;align-items:center;padding-right:20px}.with-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:0}.with-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .with-select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}.with-select[_ngcontent-%COMP%]{display:flex;align-items:center}.deafult-select[_ngcontent-%COMP%]{border-radius:20px}.m-10[_ngcontent-%COMP%]{margin-bottom:10px}.highcharts-axis-line[_ngcontent-%COMP%]{display:none!important}@media only screen and (max-width: 500px){.discover-content[_ngcontent-%COMP%]{margin-left:0!important}}@media only screen and (min-width: 501px){.discover-content[_ngcontent-%COMP%]{margin-left:1.5rem!important}}"]}),t})();const gt=[{path:"",component:D,canActivateChild:[a(91643).a],children:[{path:"realtime",component:ut},{path:"reports",loadChildren:()=>Promise.all([a.e(3363),a.e(3686)]).then(a.bind(a,73686)).then(t=>t.ReportsModule)},{path:"common-reports",loadChildren:()=>Promise.all([a.e(3363),a.e(5207)]).then(a.bind(a,55207)).then(t=>t.CommonReportsModule)},{path:"",redirectTo:"realtime",pathMatch:"full"}]}];let ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[o.Bz.forChild(gt)],o.Bz]}),t})();var bt=a(65681);let mt=(()=>{class t{constructor(t){this.service=t,this.service.getRealtimeDelay()}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(b))},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[i.ez,s.u5,ft,n.l,r.A0,bt.m]]}),t})()}}]);