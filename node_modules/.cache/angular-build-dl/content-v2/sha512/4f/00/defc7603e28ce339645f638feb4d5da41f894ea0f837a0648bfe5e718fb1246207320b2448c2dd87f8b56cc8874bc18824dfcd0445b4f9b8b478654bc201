"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[617],{36742:function(e,t,i){const s=i(8766),r={exact:!1},a=`${s.v4().source}\\/(3[0-2]|[12]?[0-9])`,o=`${s.v6().source}\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])`,n=new RegExp(`^${a}$`),l=new RegExp(`^${o}$`),u=new RegExp(`(?:^${a}$)|(?:^${o}$)`);e.exports=({exact:e}=r)=>e?u:new RegExp(`(?:${a})|(?:${o})`,"g"),e.exports.v4=({exact:e}=r)=>e?n:new RegExp(a,"g"),e.exports.v6=({exact:e}=r)=>e?l:new RegExp(o,"g")},8766:function(e){const t="[a-fA-F\\d:]",i=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${t})|(?<=${t})(?=\\s|$))`:"",s="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",a=`\n(\n(?:${r}:){7}(?:${r}|:)|                                // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${r}:){6}(?:${s}|:${r}|:)|                         // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${r}:){5}(?::${s}|(:${r}){1,2}|:)|                 // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${r}:){4}(?:(:${r}){0,1}:${s}|(:${r}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${r}:){3}(?:(:${r}){0,2}:${s}|(:${r}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${r}:){2}(?:(:${r}){0,3}:${s}|(:${r}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${r}:){1}(?:(:${r}){0,4}:${s}|(:${r}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::((?::${r}){0,5}:${s}|(?::${r}){1,7}|:))           // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(%[0-9a-zA-Z]{1,})?                                           // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp(`(?:^${s}$)|(?:^${a}$)`),n=new RegExp(`^${s}$`),l=new RegExp(`^${a}$`),u=e=>e&&e.exact?o:new RegExp(`(?:${i(e)}${s}${i(e)})|(?:${i(e)}${a}${i(e)})`,"g");u.v4=e=>e&&e.exact?n:new RegExp(`${i(e)}${s}${i(e)}`,"g"),u.v6=e=>e&&e.exact?l:new RegExp(`${i(e)}${a}${i(e)}`,"g"),e.exports=u},19549:function(e,t,i){const{v4:s,v6:r}=i(36742),a=s({exact:!0}),o=r({exact:!0});e.exports=e=>a.test(e)?4:o.test(e)?6:0,e.exports.v4=e=>a.test(e),e.exports.v6=e=>o.test(e)},50410:function(e,t,i){i.d(t,{n:function(){return h}});var s=i(91841),r=i(40205),a=i(5304);const o=i(92340).N.SUPPORT_URL,n=o+"/hsi",l=o+"/hsi",u=o+"/hsi";var c=i(37716),d=i(89097);let h=(()=>{class e{constructor(e,t){this.http=e,this.sso=t}getHSI(){const e=new s.LE;return this.http.get(n,{params:e}).pipe((0,a.K)(this.handleError))}updateHSI(e){return this.http.put(u,e).pipe((0,a.K)(this.handleError))}postHSI(e){return this.http.post(l,e).pipe((0,a.K)(this.handleError))}handleError(e){return(0,r._)(e)}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(s.eN),c.LFG(d.t6))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},14813:function(e,t,i){i.d(t,{k:function(){return d}});var s=i(91841),r=i(79765),a=i(26215),o=i(40205),n=i(5304),l=i(92340),u=i(37716),c=i(89097);let d=(()=>{class e{constructor(e,t){this.http=e,this.sso=t,this.metaData={},this.staticGroupSubject=new r.xQ,this.showCountStatus=new a.X(!1),this.showCountStatus$=this.showCountStatus.asObservable(),this.removeNull=e=>(Object.keys(e).forEach(t=>e[t]&&"object"==typeof e[t]&&this.removeNull(e[t])||(""===e[t]||null===e[t])&&delete e[t]),e)}updateServiceData(e,t,i){const s=this.sso.getOrg(e);let r=`${l.N.FOUNDATION_BASE_URL}subscriber-systems/rg-service?${s}`;return t&&t.sn?r=`${r}systemId=${t.sn}`:t&&t.subscriberId&&(r=`${r}subscriberId=${t.subscriberId}`),this.http.put(r,i)}updateEdgeSuitsData(e,t,i){const s=this.sso.getOrg(e);let r=`${l.N.FOUNDATION_BASE_URL}subscriber-systems/edge-suites?${s}`;return t&&t.sn?r=`${r}systemId=${t.sn}`:t&&t.subscriberId&&(r=`${r}subscriberId=${t.subscriberId}`),this.http.put(r,i)}updateEdgeSuitsDataCOC(e,t,i){const s=this.sso.getOrg(e);return this.http.put(`${l.N.FOUNDATION_BASE_URL}subscriber-systems/edge-suites?${s}subscriberId=${t}`,i)}performSearch(e,t,i,r){const a=(new s.LE).set("filter",t||"").set("pageNumber",i).set("pageSize",r);return this.http.get(`${l.N.SUPPORT_URL}/subscriber-search`,{params:a}).pipe((0,n.K)(this.handleError))}handleError(e){return(0,o._)(e)}showCount(e){this.showCountStatus.next(e)}swapNewSystem(e,t){const i=this.sso.getOrg(e);return this.http.put(`${l.N.SUPPORT_URL}/device/swap?${i}isReloadSSID=true`,t)}updateNewSystem(e,t,i=!1){const s=this.sso.getOrg(e);let r=`${l.N.SUPPORT_URL}/device/swap?${s}`;return i&&(t.skipSSIDLoad=!0),this.http.put(r,t)}AddSystemSubscriberData(e,t){const i=this.sso.getOrg(e);return this.http.post(`${l.N.FOUNDATION_BASE_URL}subscriber-systems?${i}`,t)}UpdateSystemSubscriberData(e,t,i){const s=this.sso.getOrg(e);let r=`${l.N.FOUNDATION_BASE_URL}subscriber-systems?${s}`;return i&&i.sn?r=`${r}systemId=${i.sn}`:i&&i.subscriberId&&(r=`${r}subscriberId=${i.subscriberId}`),this.http.put(r,t)}disassociateDevice(e,t){const i=this.sso.getOrg(e);return this.http.put(`${l.N.FOUNDATION_BASE_URL}subscriber-systems/disassociate?${i}`,t)}deleteAndDisassociatedDevice(e,t){const i=this.sso.getOrg(e);return this.http.delete(`${l.N.FOUNDATION_BASE_URL}subscriber-systems?${i}systemId=${t}`)}deleteWarningSubscriber(e,t){const i=this.sso.getOrg(e);return this.http.get(`${l.N.FOUNDATION_BASE_URL}subscriber-systems/edge-suites/servify-contract?${i}subscriberId=${t}`)}deleteSubscriber(e,t){const i=this.sso.getOrg(t);return this.http.delete(`${l.N.SUPPORT_URL}/subscriber/${e}?${i}`)}getSubscribersSystemList(e,t,i){const s=this.sso.getOrg(e);let r=`${l.N.FOUNDATION_BASE_URL}subscriber-systems?${s}`;return t&&t.sn?r=`${r}systemId=${t.sn}`:t&&t.subscriberId&&(r=`${r}subscriberId=${t.subscriberId}`),i&&(r=`${r}&includeEnabledStatus=true`),this.http.get(r)}getSystemStatusData(e,t,i){const s=this.sso.getOrg(e);return this.http.get(`${l.N.FOUNDATION_BASE_URL}subscriber-systems?${s}systemId=${t}&includeEnabledStatus=true`)}getedgesuiteData(e,t,i){const s=this.sso.getOrg(e);return this.http.get(`${l.N.FOUNDATION_BASE_URL}subscriber-systems?${s}subscriberId=${t}&includeEnabledStatus=true`)}AddSubscriberData(e,t){const i=this.sso.getOrg(e);return this.http.post(`${l.N.SUPPORT_URL}/subscriber?${i}`,t)}UpdateSubscriberData(e,t,i){const s=this.sso.getOrg(e);return this.http.put(`${l.N.SUPPORT_URL}/subscriber/${i}?${s}`,t)}GetSubscriberData(e,t){const i=this.sso.getOrg(e);return this.http.get(`${l.N.SUPPORT_URL}/subscriber/${t}?${i}queryByLocationId=false`)}UpdateSystemInfo(e,t,i){const s=this.sso.getOrg(e);let r=`${l.N.FOUNDATION_BASE_URL}subscriber-systems?${s}`;return i&&i.sn&&(r=`${r}systemId=${i.sn}`),this.http.put(r,t)}callRestApi(e,t){return this.http.get(`${e}`).pipe((0,n.K)(this.handleError))}getDeviceGroupCount(e){const t=this.sso.getOrg(e);return this.http.get(`${l.N.SUPPORT_URL}/netops-device/group/count?${t}`)}getDeviceGoupList(e,t=50){const i=this.sso.getOrg(e);return this.http.get(`${l.N.SUPPORT_URL}/netops-device/group?${i}skip=0&limit=${t}`)}getRadioStatus(e,t){return this.sso.getOrg(e),this.http.get(`${l.N.SUPPORT_URL}/device/${e}/${t}/wifi/radioSummaries`)}getProvisionrecord(e,t){const i=this.sso.getOrg(e);return this.http.get(`${l.N.SUPPORT_URL}/subscriber-provisioning/provisioning-record?${i}deviceId=${t}`)}updateStaticGroupsData(e,t,i){const s=this.sso.getOrg(e);let r=`${l.N.FOUNDATION_BASE_URL}subscriber-systems/static-group-memberships?${s}`;return t&&t.sn?r=`${r}systemId=${t.sn}`:t&&t.subscriberId&&(r=`${r}subscriberId=${t.subscriberId}`),this.http.put(r,i)}getModeFeature(e,t){const i=this.sso.getOrg(e);return this.http.get(`${l.N.CALIX_URL}/support/device/feature-properties?${i}modelName=${t}`)}getSearchResult(e,t){const i=this.sso.getOrg(e);return this.http.get(`${l.N.SUPPORT_URL}/subscriber-search?${i}filter=device:${t}&pageNumber=1&pageSize=1`)}getDeviceInfo(e,t){return this.sso.getOrg(e),this.http.get(`${l.N.SUPPORT_URL}/device/${e}/${t}/deviceinfo`)}gerArloSmartData(e){return this.http.get(`${l.N.FOUNDATION_BASE_URL}feature/arlo/devices?userId=${e}`)}deleteArloSmartData(e,t){return this.http.delete(`${l.N.FOUNDATION_BASE_URL}feature/arlo/device?userId=${e}&deviceId=${t}`)}getDialPlan(e){const t=this.sso.getOrg(e);return this.http.get(`${l.N.SUPPORT_URL}/netops-dp/dial-plan?${t}`)}getRegIdInstance(e,t){const i=this.sso.getOrg(e);return this.http.get(`${l.N.SUPPORT_URL}/device/deviceInfo?${i}registrationId=${t}`)}fetchMetaData(e,t){const i=this.sso.getOrg(e);return this.http.get(`${l.N.API_BASE_URL}calix/support/device/feature-properties?${i}serialNumber=${t}`)}getMetaData(e){return!!this.metaData.hasOwnProperty(e)&&this.metaData[e]}setMetaData(e,t,i=!1){i?this.metaData={}:this.metaData[e]=t}getServicesOfSubscriber(e,t){return this.http.get(`${l.N.FOUNDATION_SERVICES_URL}subscribers/${t}/services?summaryOnly=true`)}associateDevice(e,t){const i=this.sso.getOrg(e);return this.http.put(`${l.N.FOUNDATION_BASE_URL}subscriber-systems/associate?${i}`,t)}getDeleteAndFactoryreset(e){const t=this.sso.getOrg(e);return this.http.get(`${l.N.FOUNDATION_BASE_URL}subscriber-systems/org-config/delete-and-factory-reset?${t}`)}DeleteAndFactoryreset(e,t){const i=this.sso.getOrg(e);return this.http.put(`${l.N.FOUNDATION_BASE_URL}subscriber-systems/org-config/delete-and-factory-reset?${i}`,t)}getCommandIqOfSubscriber(e,t,i){const s=this.sso.getOrg(e);let r=`${l.N.SUPPORT_URL}/subscriber-summary/${t}?${s}`;return i&&(r=`${r}ontSerialNumber=${i}`),this.http.get(r)}getCommandIqOfSystem(e,t){const i=this.sso.getOrg(e);return this.http.get(`${l.N.SUPPORT_URL}/unassociated-device-summary?${i}serialNumber=${t}`)}saveSubscriberSystem(e){return this.http.post(`${l.N.SUPPORT_URL}/subscriber-provisioning/provisioning-record`,e)}getStaticGroupData(e,t){const i=this.sso.getOrg(e);return this.http.get(`${l.N.FOUNDATION_BASE_URL}/subscriber-systems/static-group-memberships?${i}systemId=${t}`)}getEdgeSuitesData(e,t){const i=this.sso.getOrg(e);let s=`${l.N.FOUNDATION_BASE_URL}subscriber-systems/edge-suites?${i}`;return t&&t.sn?s=`${s}systemId=${t.sn}`:t&&t.subscriberId&&(s=`${s}subscriberId=${t.subscriberId}`),this.http.get(s)}updateSystemServiceData(e,t,i){const s=this.sso.getOrg(e);return this.http.put(`${l.N.FOUNDATION_BASE_URL}subscriber-systems?${s}systemId=${t}`,i)}getDeviceGoupCount(e){const t=this.sso.getOrg(e);return this.http.get(`${l.N.SUPPORT_URL}/netops-device/group/count?${t}`)}getDetailedSubscriberServices(e){return this.http.get(`${l.N.FOUNDATION_SERVICES_URL}subscribers/${e}?includeDeviceData=false&includeDecommissionedDevices=false`)}getSubscriberSystemList(e){return this.http.get(`${l.N.FOUNDATION_SERVICES_URL}subscribers/${e}/devices`)}addSubscriberSystemList(e,t){return this.http.post(`${l.N.FOUNDATION_SERVICES_URL}subscribers/${e}/devices?deviceId=${t}`,{})}getBWProfile(e){const t=this.sso.getOrg(e);return this.http.get(`${l.N.SUPPORT_URL}/netops-config/configuration-profile?${t}`)}updateEnableApp(e,t,i){const s=this.sso.getOrg(e);return this.http.put(`${l.N.FOUNDATION_BASE_URL}subscriber-systems/edge-suites/iq-suites/container?${s}systemId=${t.sn}`,i)}getRadiosummary(e,t){return this.sso.getOrg(e),this.http.get(`${l.N.SUPPORT_URL}/device/${e}/${t}/wifi/radioSummaries`)}getSubscriberServices(e){return this.http.get(`${l.N.FOUNDATION_SERVICES_URL}subscribers/${e}/services`)}getPasspointStatus(e,t){const i=this.sso.getOrg(e);return this.http.get(`${l.N.FOUNDATION_BASE_URL}subscriber-systems/edge-suites/mycommunityiq/passpoint?${i}systemId=${t}`)}getsmallBizStatus(e,t){const i=this.sso.getOrg(e);return this.http.get(`${l.N.FOUNDATION_BASE_URL}subscriber-systems/edge-suites/smallbiziq?${i}systemId=${t}`)}getsmallBizStatusCOC(e,t){const i=this.sso.getOrg(e);return this.http.get(`${l.N.FOUNDATION_BASE_URL}subscriber-systems/edge-suites/smallbiziq?${i}subscriberId=${t}`)}getPasspointcocStatus(e,t){const i=this.sso.getOrg(e);return this.http.get(`${l.N.FOUNDATION_BASE_URL}subscriber-systems/edge-suites/mycommunityiq/passpoint?${i}subscriberId=${t}`)}deleteCommunitySubscriber(e,t){const i=this.sso.getOrg(e);return this.http.get(`${l.N.FOUNDATION_BASE_URL}subscriber-systems/edge-suites/mycommunityiq/subscriber?${i}subscriberId=${t}`)}getONTIpaddress(e,t){return this.http.get(`${l.N.CMC_API_BASE_URL}/search/prioritySearch?filter=${t}`).pipe((0,n.K)(this.handleError))}getONTIpAddresswithAggGroup(e,t){return this.sso.getOrg(t),this.http.get(`${l.N.faAdminCorrelatorURL}flowendpoint?agggroup=${e}&assigned=false&count=false&mappedby=NONE&orderby=name&org-id=${t}&pagenumber=0&pagesize=1000&sortdirection=asc`).pipe((0,n.K)(this.handleError))}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(s.eN),u.LFG(c.t6))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},94761:function(e,t,i){i.d(t,{s:function(){return o}});var s=i(5304),r=i(37716),a=i(91841);let o=(()=>{class e{constructor(e){this.http=e}get(e,t){return this.http.get(e,{params:t}).pipe((0,s.K)(this.handleError))}post(e,t,i){return this.http.post(e,JSON.stringify(t),{params:i}).pipe()}put(e,t,i){return this.http.put(e,JSON.stringify(t),{params:i}).pipe((0,s.K)(this.handleError))}delete(e){return this.http.delete(e).pipe((0,s.K)(this.handleError))}handleError(e){let t="";if(e.error instanceof Error){const i=e.json()||"";t=`${i.error||i.Message||JSON.stringify(i)}`}else t=e.error.message?e.error.message:e.error.toString();return t}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a.eN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},52114:function(e,t,i){i.d(t,{i:function(){return r}});var s=i(37716);let r=(()=>{class e{constructor(){}isIpv6CIDR(e){return/^([0-9a-fA-F]{1,4}(:[0-9a-fA-F]{1,4}){7}\/([1-9]|[1-9][0-9]|[1][0-1][0-9]|[1][2][0-8])\,*)+$/.test(e)||/^((([0-9A-Fa-f]{1,4}(:[0-9A-Fa-f]{1,4}){0,5})?)::(([0-9A-Fa-f]{1,4}(:[0-9A-Fa-f]{1,4}){0,5})?)\/([1-9]|[1-9][0-9]|[1][0-1][0-9]|[1][2][0-8])\,*)+$/.test(e)}isIpv6Address(e){return/^[0-9a-fA-F]{1,4}(:[0-9a-fA-F]{1,4}){7}$/.test(e)||/^(([0-9A-Fa-f]{1,4}(:[0-9A-Fa-f]{1,4}){0,5})?)::(([0-9A-Fa-f]{1,4}(:[0-9A-Fa-f]{1,4}){0,5})?)$/.test(e)}padSection(e,t){var i="0".repeat(t);return e.length<i.length&&(e=i.substring(0,i.length-e.length)+e),e}bin2HexOfSection(e){return parseInt(e,2).toString(16)}hex2BinOfSection(e){return parseInt(e,16).toString(2)}bin2HexOfAddress(e){for(var t=[],i=0;i<128;i+=16){var s=e.substring(i,i+16),r=this.padSection(this.bin2HexOfSection(s),4);t.push(r)}return t.join(":")}hex2BinOfAddress(e){for(var t=this.normalize(e).split(":"),i="",s=0;s<t.length;s++)i+=this.padSection(this.hex2BinOfSection(t[s]),16);return i}abbreviate(e){this.isIpv6Address(e);for(var t="",i=this.normalize(e).split(":"),s=0;s<i.length;s++)t+=this.bin2HexOfSection(this.hex2BinOfSection(i[s])),s<i.length-1&&(t+=":");var r=new RegExp("(:0){2,7}","g"),a=r.exec(t),o=-1,n=-1;for(null!=a&&(o=a.index,n=a[0].length);null!=a;)null!=(a=r.exec(t))&&a[0].length>=o&&(o=a.index,n=a[0].length);return n>2&&(0==o?t="::"+t.substring(n):o+n>=t.length?t=t.substring(0,o)+"::":0==(t=t.substring(0,o)+"::"+t.substring(o+n+1)).indexOf("0::")&&(t=t.substring(1))),t}normalize(e){if(!this.isIpv6Address(e))throw new Error("Invalid address: "+e);var t=e.split(/\:\:/g),i=[];if(1==t.length){if(8!==(i=e.split(/\:/g)).length)throw new Error("Invalid address: "+e)}else if(2==t.length){var s=t[1],r=t[0].split(/\:/g),a=s.split(/\:/g);for(var o in r)i[o]=r[o];for(let e=a.length;e>0;--e)i[7-(a.length-e)]=a[e-1]}for(let n=0;n<8;++n)void 0===i[n]&&(i[n]="0000"),i[n]=this.padSection(i[n],4);return i.join(":")}range(e,t){if(!this.isIpv6Address(e))throw new Error("Invalid address: "+e);for(var i=this.normalize(e).split(":"),s="",r=0;r<i.length;r++)s+=this.padSection(this.hex2BinOfSection(i[r]),16);var a=s.substring(0,t),o=a+"0".repeat(128-t),n=a+"1".repeat(128-t);return{ipLowStr:this.bin2HexOfAddress(o),ipHighStr:this.bin2HexOfAddress(n)}}cidr(e,t){if(!this.isIpv6Address(e)||!this.isIpv6Address(t))throw new Error("Invalid address: "+e+", "+t);for(var i=this.hex2BinOfAddress(e),s=this.hex2BinOfAddress(t),r=0,a=0;a<i.length&&i[a]==s[a];a++)r=a+1;return{ipLowStr:this.abbreviate(e),prefixSize:r}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},96045:function(e,t,i){i.d(t,{A:function(){return n}});var s=i(91841),r=i(92340),a=i(37716),o=i(89097);let n=(()=>{class e{constructor(e,t){this.http=e,this.Sso=t}AddWorkflowData(e){const t=this.Sso.getOrg(this.Sso.getOrgId());return this.http.post(r.N.SUPPORT_URL+`/netops-wf/workflow?${t}`,e)}editWorkflowData(e){return this.Sso.getOrg(this.Sso.getOrgId()),this.http.put(r.N.SUPPORT_URL+"/netops-wf/workflow/"+e._id+"?",e)}GetWorkflowGrid(e,t){const i=this.Sso.getOrg(e);return this.http.get(`${r.N.SUPPORT_URL}/netops-wf/workflow?${i}${t||""}`)}DownloadWholeWkflwData(e,t,i){const a=(new s.LE).set("workflowId",t).set("timezone",i);return this.Sso.getOrg(e)&&a.set("orgId",e),this.http.get(`${r.N.SUPPORT_URL}/workflow/downloadLogByGFS`,{params:a,responseType:"text"})}DownloadpartWkflwData(e,t,i,a,o){const n=(new s.LE).set("workflowId",t).set("execId",i).set("timezone",a).set("state",o);return this.Sso.getOrg(e)&&n.set("orgId",e),this.http.get(`${r.N.SUPPORT_URL}/workflow/downloadLogByGFS`,{params:n,responseType:"text"})}GetWorkflowFoundation(e){const t=this.Sso.getOrg(e);return this.http.get(`${r.N.SUPPORT_URL}/netops-wf/workflow?${t}source=Foundation`)}GetWorkflowById(e){return this.http.get(`${r.N.SUPPORT_URL}/netops-wf/workflow/${e}`)}DeleteWrkflw(e){return this.http.delete(`${r.N.SUPPORT_URL}/netops-wf/workflow/${e}`)}suspendWrkflw(e){return this.http.put(`${r.N.SUPPORT_URL}/netops-wf/workflow/${e}/suspend`,"")}resumeWrkflw(e){return this.http.put(`${r.N.SUPPORT_URL}/netops-wf/workflow/${e}/resume`,"")}GetDeviceGroup(e,t,i){return this.http.get(r.N.SUPPORT_URL+"/netops-device/group?skip="+t+"&limit="+i)}getDeviceGrpById(e){return this.http.get(r.N.SUPPORT_URL+"/netops-device/group/"+e)}getConfigFile(e,t){const i=this.Sso.getOrg(e);return this.http.get(r.N.SUPPORT_URL+`/netops-file/file?${i}type=`+t)}getConfigProfile(e){const t=this.Sso.getOrg(e);return this.http.get(r.N.SUPPORT_URL+`/netops-config/configuration-profile?${t}brief=`+!0)}getStaticDevice(e){const t=this.Sso.getOrg(e);return this.http.get(r.N.SUPPORT_URL+`/netops-device/group?${t}skip=0&limit=0`)}getWorkflowById(e){return this.http.get(r.N.SUPPORT_URL+"/netops-wf/workflow/"+e)}getExecLogs(e,t,i,s=""){const a=this.Sso.getOrg(e);return this.http.get("Succeeded"===i||"Failed"===i||"In Progress"===i||"Pending"===i?r.N.SUPPORT_URL+`/netops-wf/workflow-exec-logs?${a}workflowId=`+t+"&state="+i+"&execId="+s:r.N.SUPPORT_URL+`/netops-wf/workflow-exec-logs?${a}workflowId=`+t+"&execId="+s)}getReplaceService(e,t,i,a,o,n){if(i&&a&&o){const n=(new s.LE).set("category",t).set("profileId",i).set("mode",a).set("framingtype",o);return this.Sso.getOrg(e)&&n.set("orgId",e),this.http.get(r.N.SUPPORT_URL+"/netops-config/configuration-profile-managed-ont",{params:n})}if(i&&n){const a=(new s.LE).set("category",t).set("profileId",i).set("voicetype",n);return this.Sso.getOrg(e)&&a.set("orgId",e),this.http.get(r.N.SUPPORT_URL+"/netops-config/configuration-profile-managed-ont",{params:a})}if(i&&a){const o=(new s.LE).set("category",t).set("mode",a).set("profileId",i);return this.Sso.getOrg(e)&&o.set("orgId",e),this.http.get(r.N.SUPPORT_URL+"/netops-config/configuration-profile-managed-ont",{params:o})}if(i){const a=(new s.LE).set("category",t).set("profileId",i);return this.Sso.getOrg(e)&&a.set("orgId",e),this.http.get(r.N.SUPPORT_URL+"/netops-config/configuration-profile-managed-ont",{params:a})}{const i=(new s.LE).set("category",t);return this.Sso.getOrg(e)&&i.set("orgId",e),this.http.get(r.N.SUPPORT_URL+"/netops-config/configuration-profile-managed-ont",{params:i})}}getWorkflowByHist(e,t){const i=this.Sso.getOrg(e);return this.http.get(r.N.SUPPORT_URL+`/netops-wf/workflow/history?${i}workflowId=`+t)}GetWorkflowHisyPagination(e,t,i,s){const a=this.Sso.getOrg(e);return this.http.get(`${r.N.SUPPORT_URL}/netops-wf/workflow/history?${a}workflowId=${t}&limit=${s}&skip=${i}`)}GetWorkFlowCountHist(e,t){const i=this.Sso.getOrg(e);return this.http.get(`${r.N.SUPPORT_URL}/netops-wf/workflow/history/count?${i}workflowId=${t}`)}getWorkFlowExcLogsCount(e,t,i,s){const a=this.Sso.getOrg(e);return this.http.get(s?r.N.SUPPORT_URL+`/netops-wf/workflow-exec-logs/count?${a}workflowId=`+t+"&execId="+i+"&state="+s:r.N.SUPPORT_URL+`/netops-wf/workflow-exec-logs/count?${a}workflowId=`+t+"&execId="+i)}getIqSuites(e){const t=this.Sso.getOrg(e);return this.http.get(r.N.FOUNDATION_BASE_URL+`/subscriber-systems/org-config/iq-suites?${t}`)}updateIQSuitesConfigs(e,t){const i=this.Sso.getOrg(e);return this.http.put(`${r.N.FOUNDATION_BASE_URL}subscriber-systems/org-config/iq-suites?${i}`,t)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(s.eN),a.LFG(o.t6))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},82395:function(e,t,i){i.d(t,{P:function(){return Me}});var s=i(79765),r=i(35758),a=i(25917),o=i(23771),n=i(3679),l=i(92340),u=i(91704),c=i(19549),d=i(5304),h=i(37716),g=i(7450),p=i(89097),m=i(96410),f=i(94802),v=i(12664),b=i(91841),A=i(39895);let y=(()=>{class e{constructor(){}calculate(e,t){var i,s,r,a=[];if(""===e||null===e||!1===e||""===t||null===t||!1===t||(i=this.toDecimal(e),(s=this.toDecimal(t))<i))return null;for(r=i;r<=s;){var o=this.getOptimalRange(r,s);if(null===o)return null;a.push(o),r=o.ipHigh+1}return a}calculateSubnetMask(e,t){if(""===e||null===e||!1===e||""===t||null===t||!1===t)return null;var i=this.toDecimal(e);return this.getMaskRange(i,t)}calculateCIDRPrefix(e,t){if(""===e||null===e||!1===e||""===t||null===t||!1===t)return null;var i,s=this.toDecimal(e),r=this.toDecimal(t),a=0,o=0;for(i=0;i<32&&(r&(o=a+(1<<32-(i+1))>>>0))>>>0===o;i++)a=o;return this.getMaskRange(s,i)}getOptimalRange(e,t){var i,s=null;for(i=32;i>=0;i--){var r=this.getMaskRange(e,i);if(!(r.ipLow===e&&r.ipHigh<=t))break;s=r}return s}getMaskRange(e,t){var i=this.getPrefixMask(t),s=this.getMask(32-t),r=(e&i)>>>0,a=((e&i)>>>0)+s>>>0;return{ipLow:r,ipLowStr:this.toString(r),ipHigh:a,ipHighStr:this.toString(a),prefixMask:i,prefixMaskStr:this.toString(i),prefixSize:t,invertedMask:s,invertedMaskStr:this.toString(s),invertedSize:32-t}}getPrefixMask(e){var t,i=0;for(t=0;t<e;t++)i+=1<<32-(t+1)>>>0;return i}getMask(e){var t,i=0;for(t=0;t<e;t++)i+=1<<t>>>0;return i}toDecimal(e){var t=e.split(".");return 256*(256*(256*+t[0]+ +t[1])+ +t[2])+ +t[3]}toString(e){for(var t=e%256,i=3;i>0;i--)t=(e=Math.floor(e/256))%256+"."+t;return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var w=i(52114),_=i(38583),T=i(39075),R=i(74062),S=i(86640),D=i(82945);const x=["deleteModal"];function I(e,t){if(1&e&&(h.TgZ(0,"div",2),h._uU(1),h.qZA()),2&e){const e=h.oxw();h.xp6(1),h.hij(" ",e.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function O(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",28),h.TgZ(1,"span",29),h._UZ(2,"img",30),h.qZA(),h.TgZ(3,"button",31),h.NdJ("click",function(){return h.CHM(e),h.oxw(2).isError=!1}),h._UZ(4,"span"),h.qZA(),h._UZ(5,"div",32),h.qZA()}if(2&e){const e=h.oxw(2);h.xp6(5),h.Q6J("innerHtml",e.language[e.warningMessage]||e.warningMessage,h.oJD)}}function $(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",33),h.TgZ(1,"span",34),h._UZ(2,"img",35),h.qZA(),h.TgZ(3,"div",36),h.TgZ(4,"strong"),h._UZ(5,"div",37),h.qZA(),h.qZA(),h.TgZ(6,"div",36),h.TgZ(7,"button",38),h.NdJ("click",function(){return h.CHM(e),h.oxw(2).hideSuccess()}),h._UZ(8,"span"),h.qZA(),h.qZA(),h.qZA()}if(2&e){const e=h.oxw(2);h.xp6(5),h.Q6J("innerHtml",e.language[e.successMsg]||e.successMsg,h.oJD)}}function Z(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",39),h.TgZ(1,"div",40),h.TgZ(2,"div",29),h._UZ(3,"img",41),h.qZA(),h._UZ(4,"div",42),h.TgZ(5,"div",43),h.TgZ(6,"button",44),h.NdJ("click",function(){return h.CHM(e),h.oxw(2).confirmDeleteSecleted()}),h._uU(7),h.qZA(),h.TgZ(8,"button",45),h.NdJ("click",function(){return h.CHM(e),h.oxw(2).closeModal()}),h._uU(9),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&e){const e=h.oxw(2);h.xp6(4),h.Q6J("innerHtml",e.language.deviceGroupWarrningMsg(e.modalname,e.MemberCount,e.workflowcount),h.oJD),h.xp6(2),h.Q6J("disabled",e.btnDisabled),h.xp6(1),h.hij(" ",e.language.Confirm," "),h.xp6(2),h.hij(" ",e.language.Cancel," ")}}function N(e,t){if(1&e&&(h.TgZ(0,"div",46),h.TgZ(1,"div",47),h.TgZ(2,"div",48),h.TgZ(3,"span",49),h._uU(4),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e){const e=h.oxw(2);h.xp6(4),h.Oqu(e.language.Loading)}}function C(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"button",51),h.NdJ("click",function(){return h.CHM(e),h.oxw(3).displayAddGroup()}),h._uU(1),h.qZA()}if(2&e){const e=h.oxw(3);h.xp6(1),h.hij(" ",e.language.New_device_Group," ")}}function U(e,t){if(1&e&&(h.ynx(0),h.YNc(1,C,2,1,"button",50),h.BQk()),2&e){const e=h.oxw(2);h.xp6(1),h.Q6J("ngIf",e.ishidebtn&&!e.editSystem)}}function q(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",52),h.TgZ(1,"div",53),h.TgZ(2,"input",54),h.NdJ("ngModelChange",function(t){return h.CHM(e),h.oxw(2).searchText=t})("keyup.enter",function(){return h.CHM(e),h.oxw(2).searchGroupBy()}),h.qZA(),h.TgZ(3,"button",55),h.NdJ("click",function(){return h.CHM(e),h.oxw(2).searchGroupBy()}),h._UZ(4,"img",56),h.qZA(),h.qZA(),h.qZA()}if(2&e){const e=h.oxw(2);h.xp6(2),h.cQ8("placeholder","",e.language.GroupName,"/",e.language.FSAN_Serial_Number,"/Reg ID/",e.language.macAddress,""),h.Q6J("ngModel",e.searchText)}}function M(e,t){1&e&&h._UZ(0,"th",64)}function E(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"a",70),h.NdJ("click",function(){h.CHM(e);const t=h.oxw().$implicit;return h.oxw(3).workFlowMenbers(t._id,t.name,!1)}),h._uU(1),h.qZA()}if(2&e){const e=h.oxw().$implicit;h.xp6(1),h.Oqu(e.workflowCount)}}function P(e,t){if(1&e&&(h.TgZ(0,"a",71),h._uU(1),h.qZA()),2&e){const e=h.oxw(4);h.xp6(1),h.Oqu(e.language.None)}}function G(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"a",74),h.NdJ("click",function(){h.CHM(e);const t=h.oxw(2).$implicit;return h.oxw(3).deleteDeviceGrp(t)}),h._UZ(1,"i",75),h.qZA()}if(2&e){const e=h.oxw(5);h.xp6(1),h.s9C("title",e.language.Delete)}}function k(e,t){if(1&e&&(h.TgZ(0,"td"),h.TgZ(1,"span",72),h.YNc(2,G,2,1,"a",73),h.qZA(),h.qZA()),2&e){const e=h.oxw().$implicit,t=h.oxw(3);h.xp6(1),h.s9C("title",t.language.Delete),h.xp6(1),h.Q6J("ngIf",0==e.uncompletedCount)}}function L(e,t){if(1&e){const e=h.EpF();h.ynx(0),h.TgZ(1,"tr",65),h.TgZ(2,"td",66),h.NdJ("click",function(){const t=h.CHM(e).$implicit;return h.oxw(3).gotoEdit(t._id)}),h._uU(3),h.qZA(),h.TgZ(4,"td",66),h.NdJ("click",function(){const t=h.CHM(e).$implicit;return h.oxw(3).gotoEdit(t._id)}),h._uU(5),h.qZA(),h.TgZ(6,"td",66),h.NdJ("click",function(){const t=h.CHM(e).$implicit;return h.oxw(3).gotoEdit(t._id)}),h._uU(7),h.ALo(8,"titlecase"),h.qZA(),h.TgZ(9,"td",67),h.YNc(10,E,2,1,"a",68),h.YNc(11,P,2,1,"a",69),h.qZA(),h.YNc(12,k,3,2,"td",12),h.qZA(),h.BQk()}if(2&e){const e=t.$implicit,i=h.oxw(3);h.xp6(1),h.s9C("id",e._id),h.xp6(2),h.hij(" ",e.name?e.name:""," "),h.xp6(2),h.hij(" ",e.description?e.description:""," "),h.xp6(2),h.hij(" ",e.type?i.language[h.lcZ(8,7,e.type)]||e.type:""," "),h.xp6(3),h.Q6J("ngIf",e.workflowCount),h.xp6(1),h.Q6J("ngIf",0==e.workflowCount),h.xp6(1),h.Q6J("ngIf",i.hasWriteAccess)}}function F(e,t){if(1&e&&(h.TgZ(0,"tbody"),h.TgZ(1,"tr"),h.TgZ(2,"td",76),h._uU(3),h.qZA(),h.qZA(),h.qZA()),2&e){const e=h.oxw(3);h.xp6(3),h.hij(" ",e.language["No data available in table"]," ")}}function V(e,t){if(1&e&&(h.TgZ(0,"table",57),h.TgZ(1,"thead"),h.TgZ(2,"tr"),h.TgZ(3,"th",58),h._uU(4),h.qZA(),h.TgZ(5,"th",59),h._uU(6),h.qZA(),h.TgZ(7,"th",60),h._uU(8),h.qZA(),h.TgZ(9,"th",61),h._uU(10),h.qZA(),h.YNc(11,M,1,0,"th",62),h.qZA(),h.qZA(),h.TgZ(12,"tbody"),h.YNc(13,L,13,9,"ng-container",63),h.qZA(),h.YNc(14,F,4,1,"tbody",12),h._UZ(15,"tbody"),h.qZA()),2&e){const e=h.oxw(2);h.Q6J("dtOptions",e.dtOptionsDeviceGroup),h.xp6(4),h.Oqu(e.language.Name),h.xp6(2),h.Oqu(e.language.description),h.xp6(2),h.Oqu(e.language.Type),h.xp6(2),h.Oqu(e.language.no_of_workflows),h.xp6(1),h.Q6J("ngIf",e.hasWriteAccess),h.xp6(2),h.Q6J("ngForOf",e.DeviceTableData),h.xp6(1),h.Q6J("ngIf",0===(null==e.DeviceTableData?null:e.DeviceTableData.length)&&!e.loading)}}function j(e,t){if(1&e&&(h.TgZ(0,"div",46),h.TgZ(1,"div",47),h.TgZ(2,"div",48),h.TgZ(3,"span",49),h._uU(4),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e){const e=h.oxw(2);h.xp6(4),h.Oqu(e.language.Loading)}}function J(e,t){if(1&e&&(h.TgZ(0,"span"),h._uU(1),h.qZA()),2&e){const e=h.oxw(2);h.xp6(1),h.hij("",e.language.New," ")}}function B(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",9),h.TgZ(1,"div",77),h.TgZ(2,"button",78),h.NdJ("click",function(){h.CHM(e);const t=h.oxw(2);return t.cancelAddGroup(),t.FilledAll("active")}),h._uU(3),h.qZA(),h.TgZ(4,"button",79),h.NdJ("click",function(){return h.CHM(e),h.oxw(2).submitAddGroup()}),h._uU(5),h.qZA(),h.qZA(),h.qZA()}if(2&e){const e=h.oxw(2);h.xp6(3),h.hij(" ",e.language.Cancel," "),h.xp6(2),h.hij(" ",e.language["Save Group"]," ")}}function W(e,t){if(1&e){const e=h.EpF();h.ynx(0),h.TgZ(1,"div",28),h.TgZ(2,"span",29),h._UZ(3,"img",30),h.qZA(),h.TgZ(4,"button",31),h.NdJ("click",function(){return h.CHM(e),h.oxw(2).Rule_err=!1}),h._UZ(5,"span"),h.qZA(),h.TgZ(6,"div",80),h._uU(7),h.qZA(),h.qZA(),h.BQk()}if(2&e){const e=h.oxw(2);h.xp6(7),h.hij(" ",e.language[e.ErrorMessage]||e.ErrorMessage," ")}}function Q(e,t){if(1&e&&(h.TgZ(0,"div",100),h._uU(1),h.qZA()),2&e){const e=h.oxw(4);h.xp6(1),h.hij(" ",e.language.Enter_A_Value," ")}}function H(e,t){if(1&e&&(h.TgZ(0,"div",98),h.YNc(1,Q,2,1,"div",99),h.qZA()),2&e){const e=h.oxw(3);h.xp6(1),h.Q6J("ngIf",e.f.name.errors.required)}}function Y(e,t){if(1&e&&(h.TgZ(0,"div",101),h.TgZ(1,"label",102),h._uU(2),h.qZA(),h.TgZ(3,"div",103),h._UZ(4,"textarea",104),h.qZA(),h.qZA()),2&e){const e=h.oxw(3);h.xp6(2),h.Oqu(e.language.desc_optional),h.xp6(2),h.Q6J("formValue",e.createDeviceGroup)}}function z(e,t){if(1&e&&(h.TgZ(0,"div",105),h.TgZ(1,"label",90),h._uU(2),h.qZA(),h.TgZ(3,"div",91),h.TgZ(4,"div",106),h._UZ(5,"input",107),h.TgZ(6,"label",108),h._uU(7),h.qZA(),h.qZA(),h.TgZ(8,"div",106),h._UZ(9,"input",109),h.TgZ(10,"label",110),h._uU(11),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e){const e=h.oxw(3);h.Q6J("ngClass",e.is_staticenable?"cursornallow":""),h.xp6(2),h.Oqu(e.language.Allow_Inheritance),h.xp6(3),h.Q6J("ngClass",e.is_staticenable?"disable":"")("value",!0),h.xp6(2),h.hij(" ",e.language.Yes,""),h.xp6(2),h.Q6J("value",!1)("ngClass",e.is_staticenable?"disable":""),h.xp6(2),h.Oqu(e.language.No)}}const K=function(e,t){return{disable:e,errorMessage:t}};function X(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",81),h.TgZ(1,"div",82),h.TgZ(2,"label",83),h._uU(3),h.TgZ(4,"span",84),h._uU(5,"*"),h.qZA(),h.qZA(),h.TgZ(6,"div",85),h.TgZ(7,"input",86),h.NdJ("keyup",function(t){return h.CHM(e),h.oxw(2).nameCheck(t.target.value)}),h.qZA(),h.YNc(8,H,2,1,"div",87),h.qZA(),h.qZA(),h.YNc(9,Y,5,2,"div",88),h.TgZ(10,"div",89),h.TgZ(11,"label",90),h._uU(12),h.qZA(),h.TgZ(13,"div",91),h.TgZ(14,"div",92),h.TgZ(15,"input",93),h.NdJ("ngModelChange",function(t){return h.CHM(e),h.oxw(2).groupType=t})("change",function(t){return h.CHM(e),h.oxw(2).changeType(t)}),h.qZA(),h.TgZ(16,"label",94),h._uU(17),h.qZA(),h.qZA(),h.TgZ(18,"div",92),h.TgZ(19,"input",95),h.NdJ("change",function(t){return h.CHM(e),h.oxw(2).changeType(t)})("ngModelChange",function(t){return h.CHM(e),h.oxw(2).groupType=t}),h.qZA(),h.TgZ(20,"label",96),h._uU(21),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.YNc(22,z,12,8,"div",97),h.qZA()}if(2&e){const e=h.oxw(2);h.xp6(1),h.Q6J("ngClass",e.is_staticenable?"cursornallow":""),h.xp6(2),h.hij("",e.language.Name," "),h.xp6(3),h.Q6J("ngClass",h.WLB(19,K,e.is_staticenable,e.isNameError)),h.xp6(1),h.s9C("placeholder",e.language.Name),h.Q6J("formValue",e.createDeviceGroup),h.xp6(1),h.Q6J("ngIf",e.submitted&&e.f.name.errors),h.xp6(1),h.Q6J("ngIf",e.hasWriteAccess),h.xp6(3),h.Oqu(e.language.Type),h.xp6(2),h.Q6J("ngClass",e.is_staticenable?"cursornallow":""),h.xp6(1),h.Q6J("ngClass",e.is_staticenable?"disable":"")("ngModel",e.groupType),h.xp6(1),h.Q6J("ngClass",e.is_staticenable?"disable":""),h.xp6(1),h.hij(" ",e.language.Dynamic," "),h.xp6(1),h.Q6J("ngClass",e.is_staticenable?"cursornallow":""),h.xp6(1),h.Q6J("ngClass",e.is_staticenable?"disable":"")("ngModel",e.groupType),h.xp6(1),h.Q6J("ngClass",e.is_staticenable?"disable":""),h.xp6(1),h.hij(" ",e.language.Static,""),h.xp6(1),h.Q6J("ngIf",e.IsStatic)}}function ee(e,t){if(1&e&&h._uU(0),2&e){const e=t.item,i=h.oxw(5);h.hij(" ",i.language[e.name]," ")}}function te(e,t){if(1&e&&h._uU(0),2&e){const e=t.item,i=h.oxw(5);h.hij(" ",i.language[e.name]," ")}}function ie(e,t){if(1&e&&h._uU(0),2&e){const e=t.item,i=h.oxw(6);h.hij(" ",i.language[e.name]||e.name," ")}}function se(e,t){if(1&e&&h._uU(0),2&e){const e=t.item,i=h.oxw(6);h.hij(" ",i.language[e.name]||e.name," ")}}const re=function(){return{standalone:!0}};function ae(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"ng-select",125),h.NdJ("ngModelChange",function(t){h.CHM(e);const i=h.oxw().index;return h.oxw(4).RulesArray[i].rule2=t})("change",function(){h.CHM(e);const t=h.oxw().index,i=h.oxw(4);return i.Rule2change(t),i.DropdownOrInput(t),i.MultiOrSingle(t),i.FilterDevice(t),i.initFilledAll(t),i.Rule3select(t)}),h.YNc(1,ie,1,1,"ng-template",120),h.YNc(2,se,1,1,"ng-template",121),h.qZA()}if(2&e){const e=h.oxw().index,t=h.oxw(4);h.MGl("id","inputOperator-",e,""),h.MGl("name","inputOperator-",e,""),h.Q6J("items",t.rule2items[t.RulesArray[e].rule1])("ngModel",t.RulesArray[e].rule2)("searchable",!1)("clearable",!1)("ngModelOptions",h.DdM(7,re))}}function oe(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"ng-select",127),h.NdJ("ngModelChange",function(t){h.CHM(e);const i=h.oxw(2).index;return h.oxw(4).RulesArray[i].rule3=t})("change",function(){h.CHM(e);const t=h.oxw(2).index,i=h.oxw(4);return i.FilterDevice(t),i.Recall(),i.FilledAll("active")}),h.qZA()}if(2&e){const e=h.oxw(2).index,t=h.oxw(4);h.MGl("id","inputValue-",e,""),h.MGl("name","inputValue-",e,""),h.Q6J("items",t.RulesArray[e].rule3items[t.RulesArray[e].rule1])("multiple",t.MultiOrSingle(e)||t.RulesArray[e].multiple)("searchable",!0)("clearable",!1)("ngModel",t.RulesArray[e].rule3)("ngModelOptions",h.DdM(8,re))}}function ne(e,t){if(1&e&&(h.ynx(0),h.YNc(1,oe,1,9,"ng-select",126),h.BQk()),2&e){const e=h.oxw().index,t=h.oxw(4);h.xp6(1),h.Q6J("ngIf",e==t.Rule2change(e)||t.RulesArray[e].rule3)}}function le(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"input",130),h.NdJ("focusout",function(){h.CHM(e);const t=h.oxw(2).index;return h.oxw(4).CheckValidationErr(t)})("keyup",function(){h.CHM(e);const t=h.oxw(2).index,i=h.oxw(4);return i.FilledAll(i.RulesArray[t].rule3)})("ngModelChange",function(t){h.CHM(e);const i=h.oxw(2).index;return h.oxw(4).RulesArray[i].rule3=t})("change",function(){h.CHM(e);const t=h.oxw(2).index;return h.oxw(4).FilterDevice(t)}),h.qZA()}if(2&e){const e=h.oxw(2).index,t=h.oxw(4);h.s9C("title",t.tooltipTitle?t.tooltipTitle:""),h.MGl("id","inputValue-",e,""),h.MGl("name","inputValue-",e,""),h.Q6J("ngModel",t.RulesArray[e].rule3)("ngModelOptions",h.DdM(6,re))("formValue",t.RulesArray[e])}}function ue(e,t){if(1&e&&(h.ynx(0),h.TgZ(1,"div",128),h.YNc(2,le,1,7,"input",129),h.qZA(),h.BQk()),2&e){const e=h.oxw().index,t=h.oxw(4);h.xp6(2),h.Q6J("ngIf",e==t.Rule2change(e)||t.RulesArray[e].rule3)}}function ce(e,t){if(1&e){const e=h.EpF();h.ynx(0),h.TgZ(1,"div",117),h.TgZ(2,"div",118),h.TgZ(3,"ng-select",119),h.NdJ("ngModelChange",function(t){const i=h.CHM(e).index;return h.oxw(4).RulesArray[i].rule1=t})("change",function(){const t=h.CHM(e).index,i=h.oxw(4);return i.Rule1change(t),i.Rule1ChangeVal(t),i.dynamicTitle(i.RulesArray[t].rule1)}),h.YNc(4,ee,1,1,"ng-template",120),h.YNc(5,te,1,1,"ng-template",121),h.qZA(),h.qZA(),h.TgZ(6,"div",118),h.YNc(7,ae,3,8,"ng-select",122),h.qZA(),h.TgZ(8,"div",118),h.YNc(9,ne,2,1,"ng-container",12),h.YNc(10,ue,3,1,"ng-container",12),h.qZA(),h.TgZ(11,"div",123),h.TgZ(12,"a",124),h.NdJ("click",function(){const t=h.CHM(e).index,i=h.oxw(4);return i.OnclickDeleteSymbol(t),i.FilledAll("active")}),h._UZ(13,"i",75),h.qZA(),h.qZA(),h.qZA(),h.BQk()}if(2&e){const e=t.index,i=h.oxw(4);h.xp6(3),h.MGl("id","inputKey-",e,""),h.MGl("name","inputKey-",e,""),h.Q6J("items",i.RulesArray[e].rule1items)("ngModel",i.RulesArray[e].rule1)("searchable",!1)("clearable",!1)("ngModelOptions",h.DdM(12,re))("disabled",i.RulesArray[e].disabled),h.xp6(4),h.Q6J("ngIf",e==i.Rule1change(e)),h.xp6(2),h.Q6J("ngIf",1==i.DropdownOrInput(e)||i.RulesArray[e].multiple),h.xp6(1),h.Q6J("ngIf",0==i.DropdownOrInput(e)),h.xp6(3),h.s9C("title",i.language.Delete)}}function de(e,t){if(1&e&&(h.TgZ(0,"div",111),h.YNc(1,ce,14,13,"ng-container",63),h.qZA()),2&e){const e=h.oxw(3);h.xp6(1),h.Q6J("ngForOf",e.RulesArray)}}function he(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"a",131),h.NdJ("click",function(){h.CHM(e);const t=h.oxw(3);return t.onClickPlusSymbol(t.RulesArray.length),t.FilledAll("")}),h._uU(1),h.qZA()}if(2&e){const e=h.oxw(3);h.xp6(1),h.Oqu(e.language.addRule)}}function ge(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"a",131),h.NdJ("click",function(){h.CHM(e);const t=h.oxw(3);return t.onClickPlusSymbol(t.RulesArray.length)}),h._uU(1),h.qZA()}if(2&e){const e=h.oxw(3);h.xp6(1),h.Oqu(e.language.addRule)}}function pe(e,t){if(1&e&&(h.TgZ(0,"div",89),h.TgZ(1,"div",111),h.TgZ(2,"label",112),h._uU(3),h.TgZ(4,"span",84),h._uU(5,"*"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(6,"div",113),h.TgZ(7,"div",9),h.YNc(8,de,2,1,"div",114),h.qZA(),h.qZA(),h.TgZ(9,"div",115),h.YNc(10,he,2,1,"a",116),h.YNc(11,ge,2,1,"a",116),h.qZA(),h.qZA()),2&e){const e=h.oxw(2);h.xp6(3),h.hij("",e.language.Rules," "),h.xp6(5),h.Q6J("ngIf",e.RulesArray&&1==e.Is_Update||0==e.Is_Update),h.xp6(2),h.Q6J("ngIf",e.isFilledRow),h.xp6(1),h.Q6J("ngIf",!e.isFilledRow)}}function me(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",9),h.TgZ(1,"div",133),h.TgZ(2,"h5",134),h._uU(3),h.qZA(),h.qZA(),h.TgZ(4,"div",135),h.TgZ(5,"i",136),h.NdJ("click",function(){return h.CHM(e),h.oxw(3).CallDiscoveredDevice()}),h.qZA(),h.qZA(),h.qZA()}if(2&e){const e=h.oxw(3);h.xp6(3),h.hij(" ",e.language.Discovered_Devices," ")}}function fe(e,t){if(1&e&&(h.TgZ(0,"div",46),h.TgZ(1,"div",47),h.TgZ(2,"div",48),h.TgZ(3,"span",49),h._uU(4),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e){const e=h.oxw(3);h.xp6(4),h.Oqu(e.language.Loading)}}function ve(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"tr",65),h.TgZ(1,"td"),h.TgZ(2,"span",139),h.NdJ("click",function(){const t=h.CHM(e).$implicit;return h.oxw(4).GotoTroubleshooting(t)}),h._uU(3),h.qZA(),h.qZA(),h.TgZ(4,"td"),h._uU(5),h.qZA(),h.TgZ(6,"td"),h._uU(7),h.qZA(),h.TgZ(8,"td"),h._uU(9),h.qZA(),h.TgZ(10,"td"),h._uU(11),h.qZA(),h.TgZ(12,"td"),h._uU(13),h.qZA(),h.TgZ(14,"td"),h._uU(15),h.qZA(),h.TgZ(16,"td"),h._uU(17),h.qZA(),h.qZA()}if(2&e){const e=t.$implicit;h.s9C("id",e._id),h.xp6(3),h.hij(" ",e.serialNumber?e.serialNumber:""," "),h.xp6(2),h.hij(" ",e.manufacturer?e.manufacturer:""," "),h.xp6(2),h.hij(" ",e.opMode?e.opMode:""," "),h.xp6(2),h.hij(" ",e.modelName?e.modelName:""," "),h.xp6(2),h.hij(" ",e.softwareVersion?e.softwareVersion:""," "),h.xp6(2),h.hij(" ",e.registrationId?e.registrationId:""," "),h.xp6(2),h.hij(" ",e.ipAddress?e.ipAddress:""," "),h.xp6(2),h.hij(" ",e.macAddress?e.macAddress:""," ")}}function be(e,t){if(1&e&&(h.TgZ(0,"table",137),h.TgZ(1,"thead"),h.TgZ(2,"tr"),h.TgZ(3,"th"),h._uU(4),h.qZA(),h.TgZ(5,"th"),h._uU(6),h.qZA(),h.TgZ(7,"th"),h._uU(8),h.qZA(),h.TgZ(9,"th"),h._uU(10),h.qZA(),h.TgZ(11,"th"),h._uU(12),h.qZA(),h.TgZ(13,"th"),h._uU(14),h.qZA(),h.TgZ(15,"th"),h._uU(16),h.qZA(),h.TgZ(17,"th"),h._uU(18),h.qZA(),h.qZA(),h.qZA(),h.TgZ(19,"tbody"),h.YNc(20,ve,18,9,"tr",138),h.qZA(),h.qZA()),2&e){const e=h.oxw(3);h.Q6J("dtOptions",e.dtOptionsdis),h.xp6(4),h.Oqu(e.language.Device_info),h.xp6(2),h.Oqu(e.language.manufacturer),h.xp6(2),h.Oqu(e.language.Mode),h.xp6(2),h.Oqu(e.language.Model),h.xp6(2),h.Oqu(e.language.Software_Version),h.xp6(2),h.Oqu(e.language.Registration_ID),h.xp6(2),h.Oqu(e.language.IP_Address),h.xp6(2),h.Oqu(e.language.MAC_Address),h.xp6(2),h.Q6J("ngForOf",e.DiscoveredTableData)}}function Ae(e,t){if(1&e&&(h.TgZ(0,"div"),h.YNc(1,me,6,1,"div",21),h.YNc(2,fe,5,1,"div",10),h.YNc(3,be,21,10,"table",132),h.qZA()),2&e){const e=h.oxw(2);h.xp6(1),h.Q6J("ngIf",!e.static&&e.Disc_count),h.xp6(1),h.Q6J("ngIf",e.loading),h.xp6(1),h.Q6J("ngIf",!e.static&&e.Disc_count)}}function ye(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",9),h.TgZ(1,"div",133),h.TgZ(2,"h5",134),h._uU(3),h.qZA(),h.qZA(),h.TgZ(4,"div",140),h.TgZ(5,"i",136),h.NdJ("click",function(){return h.CHM(e),h.oxw(2).DevicediscoveredCount()}),h.qZA(),h.qZA(),h.qZA()}if(2&e){const e=h.oxw(2);h.xp6(3),h.hij(" ",e.language.Discovered_Devices," ")}}function we(e,t){if(1&e&&(h.TgZ(0,"div",46),h.TgZ(1,"div",47),h.TgZ(2,"div",48),h.TgZ(3,"span",49),h._uU(4),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e){const e=h.oxw(2);h.xp6(4),h.Oqu(e.language.Loading)}}function _e(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"tr",65),h.TgZ(1,"td"),h.TgZ(2,"span",139),h.NdJ("click",function(){const t=h.CHM(e).$implicit;return h.oxw(4).GotoTroubleshooting(t)}),h._uU(3),h.qZA(),h.qZA(),h.TgZ(4,"td"),h._uU(5),h.qZA(),h.TgZ(6,"td"),h._uU(7),h.qZA(),h.TgZ(8,"td"),h._uU(9),h.qZA(),h.TgZ(10,"td"),h._uU(11),h.qZA(),h.TgZ(12,"td"),h._uU(13),h.qZA(),h.TgZ(14,"td"),h._uU(15),h.qZA(),h.TgZ(16,"td"),h._uU(17),h.qZA(),h.qZA()}if(2&e){const e=t.$implicit;h.s9C("id",e._id),h.xp6(3),h.hij(" ",e.serialNumber?e.serialNumber:""," "),h.xp6(2),h.hij(" ",e.manufacturer?e.manufacturer:""," "),h.xp6(2),h.hij(" ",e.opMode?e.opMode:""," "),h.xp6(2),h.hij(" ",e.modelName?e.modelName:""," "),h.xp6(2),h.hij(" ",e.softwareVersion?e.softwareVersion:""," "),h.xp6(2),h.hij(" ",e.registrationId?e.registrationId:""," "),h.xp6(2),h.hij(" ",e.ipAddress?e.ipAddress:""," "),h.xp6(2),h.hij(" ",e.macAddress?e.macAddress:""," ")}}function Te(e,t){if(1&e&&(h.TgZ(0,"tbody"),h.YNc(1,_e,18,9,"tr",138),h.qZA()),2&e){const e=h.oxw(3);h.xp6(1),h.Q6J("ngForOf",e.DiscoveredTableData_static)}}function Re(e,t){if(1&e&&(h.TgZ(0,"tbody"),h.TgZ(1,"tr"),h.TgZ(2,"td",142),h._uU(3),h.qZA(),h.qZA(),h.qZA()),2&e){const e=h.oxw(3);h.xp6(3),h.Oqu(e.language["No data available in table"])}}function Se(e,t){if(1&e&&(h.TgZ(0,"table",141),h.TgZ(1,"thead"),h.TgZ(2,"tr"),h.TgZ(3,"th"),h._uU(4),h.qZA(),h.TgZ(5,"th"),h._uU(6),h.qZA(),h.TgZ(7,"th"),h._uU(8),h.qZA(),h.TgZ(9,"th"),h._uU(10),h.qZA(),h.TgZ(11,"th"),h._uU(12),h.qZA(),h.TgZ(13,"th"),h._uU(14),h.qZA(),h.TgZ(15,"th"),h._uU(16),h.qZA(),h.TgZ(17,"th"),h._uU(18),h.qZA(),h.qZA(),h.qZA(),h.YNc(19,Te,2,1,"tbody",12),h.YNc(20,Re,4,1,"tbody",12),h.qZA()),2&e){const e=h.oxw(2);h.Q6J("dtOptions",e.dtOptionsstaticdis),h.xp6(4),h.Oqu(e.language.Device_info),h.xp6(2),h.Oqu(e.language.manufacturer),h.xp6(2),h.Oqu(e.language.Mode),h.xp6(2),h.Oqu(e.language.Model),h.xp6(2),h.Oqu(e.language.Software_Version),h.xp6(2),h.Oqu(e.language.Registration_ID),h.xp6(2),h.Oqu(e.language.IP_Address),h.xp6(2),h.Oqu(e.language.MAC_Address),h.xp6(1),h.Q6J("ngIf",e.static&&e.Disc_count_static),h.xp6(1),h.Q6J("ngIf",0==(null==e.DiscoveredTableData_static?null:e.DiscoveredTableData_static.length))}}function De(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",9),h.TgZ(1,"div",133),h.TgZ(2,"h5",134),h._uU(3),h.qZA(),h.qZA(),h.TgZ(4,"div",143),h.TgZ(5,"i",136),h.NdJ("click",function(){return h.CHM(e),h.oxw(2).DeviceUndiscoveredCount()}),h.qZA(),h.qZA(),h.qZA()}if(2&e){const e=h.oxw(2);h.xp6(3),h.hij(" ",e.language.Undiscovered_Devices," ")}}function xe(e,t){if(1&e&&(h.TgZ(0,"div",46),h.TgZ(1,"div",47),h.TgZ(2,"div",48),h.TgZ(3,"span",49),h._uU(4),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e){const e=h.oxw(2);h.xp6(4),h.Oqu(e.language.Loading)}}function Ie(e,t){if(1&e&&(h.TgZ(0,"tr",65),h.TgZ(1,"td"),h._uU(2),h.qZA(),h.qZA()),2&e){const e=t.$implicit;h.s9C("id",e._id),h.xp6(2),h.hij(" ",e.memberInfo?e.memberInfo:""," ")}}function Oe(e,t){if(1&e&&(h.TgZ(0,"tbody"),h.YNc(1,Ie,3,2,"tr",138),h.qZA()),2&e){const e=h.oxw(3);h.xp6(1),h.Q6J("ngForOf",e.UnDiscoveredTableData_static)}}function $e(e,t){if(1&e&&(h.TgZ(0,"tbody"),h.TgZ(1,"tr"),h.TgZ(2,"td",76),h._uU(3),h.qZA(),h.qZA(),h.qZA()),2&e){const e=h.oxw(3);h.xp6(3),h.Oqu(e.language["No data available in table"])}}function Ze(e,t){if(1&e&&(h.TgZ(0,"table",144),h.TgZ(1,"thead"),h.TgZ(2,"tr"),h.TgZ(3,"th"),h._uU(4),h.qZA(),h.qZA(),h.qZA(),h.YNc(5,Oe,2,1,"tbody",12),h.YNc(6,$e,4,1,"tbody",12),h.qZA()),2&e){const e=h.oxw(2);h.Q6J("dtOptions",e.dtOptionsstaticUndis),h.xp6(4),h.Oqu(e.language.Device_info),h.xp6(1),h.Q6J("ngIf",e.static_undisc&&e.UnDisc_count_static),h.xp6(1),h.Q6J("ngIf",0==(null==e.UnDiscoveredTableData_static?null:e.UnDiscoveredTableData_static.length))}}function Ne(e,t){if(1&e&&(h.TgZ(0,"div",46),h.TgZ(1,"div",47),h.TgZ(2,"div",48),h.TgZ(3,"span",49),h._uU(4),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e){const e=h.oxw(3);h.xp6(4),h.Oqu(e.language.Loading)}}function Ce(e,t){if(1&e&&(h.TgZ(0,"tr"),h.TgZ(1,"td"),h.TgZ(2,"div",150),h._uU(3),h.qZA(),h.qZA(),h.TgZ(4,"td"),h.TgZ(5,"div",150),h._uU(6),h.qZA(),h.qZA(),h.TgZ(7,"td"),h._uU(8),h.qZA(),h.TgZ(9,"td"),h._uU(10),h.qZA(),h.qZA()),2&e){const e=t.$implicit,i=h.oxw(3);h.xp6(3),h.Oqu(e.name?e.name:""),h.xp6(3),h.Oqu(e.description?e.description:""),h.xp6(2),h.Oqu(i.language.Workflow),h.xp6(2),h.Oqu(e.state?i.language[e.state]||e.state:"")}}function Ue(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",145),h.YNc(1,Ne,5,1,"div",10),h.TgZ(2,"div",146),h.TgZ(3,"div",19),h._uU(4),h.qZA(),h.TgZ(5,"button",78),h.NdJ("click",function(){return h.CHM(e),h.oxw(2).cancelWorkFlowGroup()}),h._uU(6),h.qZA(),h.qZA(),h.TgZ(7,"div",147),h.TgZ(8,"table",148),h.TgZ(9,"thead"),h.TgZ(10,"tr"),h.TgZ(11,"th",58),h._uU(12),h.qZA(),h.TgZ(13,"th",59),h._uU(14),h.qZA(),h.TgZ(15,"th",149),h._uU(16),h.qZA(),h.TgZ(17,"th",149),h._uU(18),h.qZA(),h.qZA(),h.qZA(),h.TgZ(19,"tbody"),h.YNc(20,Ce,11,4,"tr",63),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&e){const e=h.oxw(2);h.xp6(1),h.Q6J("ngIf",e.loading),h.xp6(3),h.hij(" ",e.groupName," "),h.xp6(2),h.Oqu(e.language.Cancel),h.xp6(6),h.Oqu(e.language.Name),h.xp6(2),h.Oqu(e.language.description),h.xp6(2),h.Oqu(e.language.Type),h.xp6(2),h.Oqu(e.language.Status),h.xp6(2),h.Q6J("ngForOf",e.workflowMemberData)}}function qe(e,t){if(1&e&&(h.TgZ(0,"div",3),h.YNc(1,O,6,1,"div",4),h.YNc(2,$,9,1,"div",5),h.YNc(3,Z,10,4,"div",6),h.TgZ(4,"div",7),h._uU(5),h.qZA(),h.TgZ(6,"div",8),h.TgZ(7,"div",9),h.YNc(8,N,5,1,"div",10),h.TgZ(9,"div",11),h.YNc(10,U,2,1,"ng-container",12),h.qZA(),h.qZA(),h.YNc(11,q,5,4,"div",13),h.YNc(12,V,16,8,"table",14),h.qZA(),h.TgZ(13,"div",15),h.YNc(14,j,5,1,"div",10),h.TgZ(15,"form",16),h.TgZ(16,"div",17),h.TgZ(17,"div",18),h.TgZ(18,"div",19),h.YNc(19,J,2,1,"span",12),h._uU(20),h.qZA(),h.qZA(),h.TgZ(21,"div",20),h.YNc(22,B,6,2,"div",21),h.qZA(),h.qZA(),h.YNc(23,W,8,1,"ng-container",12),h.YNc(24,X,23,22,"div",22),h.TgZ(25,"div",23),h.YNc(26,pe,12,4,"div",24),h.qZA(),h.YNc(27,Ae,4,3,"div",12),h.YNc(28,ye,6,1,"div",21),h.YNc(29,we,5,1,"div",10),h.YNc(30,Se,21,11,"table",25),h.YNc(31,De,6,1,"div",21),h.YNc(32,xe,5,1,"div",10),h.YNc(33,Ze,7,4,"table",26),h.qZA(),h.qZA(),h.YNc(34,Ue,21,8,"div",27),h.qZA()),2&e){const e=h.oxw();h.xp6(1),h.Q6J("ngIf",e.isError),h.xp6(1),h.Q6J("ngIf",e.showSuccess),h.xp6(1),h.Q6J("ngIf",e.showWarningMsg),h.xp6(2),h.hij("",e.language["System Group"]," "),h.xp6(1),h.Q6J("hidden",e.isAddTable),h.xp6(2),h.Q6J("ngIf",e.loading),h.xp6(2),h.Q6J("ngIf",e.hasWriteAccess),h.xp6(1),h.Q6J("ngIf",e.ishidebtn&&!e.editSystem),h.xp6(1),h.Q6J("ngIf",!e.deviceGroupId),h.xp6(1),h.Q6J("hidden",e.isAddGroupForm),h.xp6(1),h.Q6J("ngIf",e.loading),h.xp6(1),h.Q6J("formGroup",e.createDeviceGroup),h.xp6(4),h.Q6J("ngIf",!e.editSystem),h.xp6(1),h.hij("",e.language.SystemGroup," "),h.xp6(2),h.Q6J("ngIf",e.hasWriteAccess),h.xp6(1),h.Q6J("ngIf",e.Rule_err),h.xp6(1),h.Q6J("ngIf",e.hasWriteAccess),h.xp6(2),h.Q6J("ngIf",!e.IsStatic&&e.hasWriteAccess),h.xp6(1),h.Q6J("ngIf",e.Disc_count),h.xp6(1),h.Q6J("ngIf",e.static),h.xp6(1),h.Q6J("ngIf",e.loading),h.xp6(1),h.Q6J("ngIf",e.static&&e.static_disc),h.xp6(1),h.Q6J("ngIf",e.static),h.xp6(1),h.Q6J("ngIf",e.loading),h.xp6(1),h.Q6J("ngIf",e.static_undisc),h.xp6(1),h.Q6J("ngIf",e.workflowdetails)}}let Me=(()=>{class e{constructor(e,t,i,r,a,o,n,l,c,d,h,g,p,m,f){this.translateService=e,this.ssoService=t,this.service=i,this.subService=r,this.dataservice=a,this.formBuilder=o,this.dialogService=n,this.http=l,this.cdr=c,this.router=d,this.route=h,this.IpSubnetCalculator=g,this.IPv6AddressService=p,this._location=m,this.titleService=f,this.groupType="dynamic",this.dynamic=[{id:"dynamic",name:"Dynamic"},{id:"static",name:"Static"}],this.isAddGroupForm=!0,this.isAddTable=!1,this.ishidebtn=!0,this.isHideDropDown=!1,this.inheritance=[{id:!0,name:"true"},{id:!1,name:"false"}],this.showSuccess=!1,this.workflowdetails=!1,this.DeviceTableData=[],this.isRerender=!1,this.loading=!1,this.dataAvailable=!1,this.IsStatic=!1,this.IsStatic_enable=!1,this.submitted=!1,this.workflowMemberData=[],this.searchText="",this.forceDelete=!0,this.showWarningMsg=!1,this.workflowcount=[],this.errMsg="Are you sure you want to delete Device Group",this.operatorsMapping={$ne:"Not Equal",$gt:"Greater Than",$gte:"Greater Than Or Equal",$regex:"WildCard",$in:"In",$lte:"Less Than or Equal",$lt:"Less Than",$subnets:"$subnets"},this.defaultWanAccessTypes=[{id:"AE",name:"AE"},{id:"GPON",name:"GPON"}],this.rule1items=[{id:"",name:""},{id:"manufacturer",name:"Manufacturer"},{id:"modelName",name:"Model"},{id:"softwareVersion",name:"SW Version"},{id:"hardwareVersion",name:"HW Version"},{id:"serialNumber",name:"FSAN/Serial Number"},{id:"normalizedIpAddress",name:"WAN IP"},{id:"registrationId",name:"Registration ID"},{id:"wanAccessType",name:"WAN Access Type"},{id:"opMode",name:"Mode"}],this.rule2items={manufacturer:[{id:"",name:""},{id:"Equals",name:"Equals"},{id:"$ne",name:"Not Equal"}],modelName:[{id:"",name:""},{id:"Equals",name:"Equals"},{id:"$ne",name:"Not Equal"},{id:"$in",name:"In"}],softwareVersion:[{id:"",name:""},{id:"Equals",name:"Equals"},{id:"$ne",name:"Not Equal"},{id:"$in",name:"In"}],hardwareVersion:[{id:"",name:""},{id:"Equals",name:"Equals"},{id:"$ne",name:"Not Equal"},{id:"$in",name:"In"}],serialNumber:[{id:"",name:""},{id:"$regex",name:"WildCard"}],normalizedIpAddress:[{id:"",name:""},{id:"$subnets",name:"In Subnet"}],registrationId:[{id:"",name:""},{id:"$regex",name:"WildCard"}],wanAccessType:[{id:"",name:""},{id:"Equals",name:"Equals"}],opMode:[{id:"Equals",name:"Equals"}]},this.static=!1,this.RulesArray=[],this.rule3items={},this.dtOptions={pagingType:"full_numbers",pageLength:50,lengthChange:!1,serverSide:!0,processing:!1,dom:"tipr",columnDefs:[{targets:[3,4],orderable:!1},{targets:[0],orderable:!0}],order:[],drawCallback:e=>{e._iRecordsDisplay<=e._iDisplayLength?u(e.nTableWrapper).find("#devicegrp-table").addClass("disabled"):u(e.nTableWrapper).find("#devicegrp-table").removeClass("disabled")}},this.dtOptionsdis={pagingType:"full_numbers",pageLength:2,lengthChange:!1,serverSide:!0,processing:!0,dom:"tipr",columnDefs:[{targets:[3,4],orderable:!1},{targets:[0],orderable:!0}],order:[],drawCallback:e=>{}},this.dtOptionsstaticUndis={paging:!1,lengthChange:!1,searching:!1},this.dtOptionsstaticdis={},this.dtOptionsDeviceGroup={searching:!1,lengthChange:!1},this.Rule_err=!1,this.DiscoveredTableData=[],this.DeviceTypeArr=[{_id:"data1",orgId:"string",modelName:"model_data1",manufacturer:"manufacturer_data1",productClass:"productclass_1",hardwareVersion:"hwdrwere_vers1",manufacturerOUI:"strinmanufacturerui1",softwareVersion:"sftwre1"},{_id:"data2",orgId:"string",modelName:"model_data2",manufacturer:"manufacturer_data2",productClass:"productclass_2",hardwareVersion:"hwdrwere_vers2",manufacturerOUI:"strinmanufacturerui2",softwareVersion:"sftwre2"}],this.UnDiscoveredTableData_static=[],this.DiscoveredTableData_static=[],this.is_staticenable=!1,this.ipv4BasicExp=/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/([1-9]|[12]\d|3[0-2])\,*)+$/,this.tableOptions={searching:!1,lengthChange:!1},this.dtTrigger=new s.xQ,this.isFilledRow=!0,this.isNameError=!1,this.btnDisabled=!1,this.hasWriteAccess=!1,this.hasScopeAccess=!1,this.pageAvailable=!1,this.editSystem=!1,this.secondindex=0,this.wanAccessTypes=[],this.isRerender_disc_static=!1,this.isRerender_undisc_static=!1,this.static_undisc=!1,this.undiscoveredDtTrigger=new s.xQ,this.isDtForStaticUnDiscoveredInitialized=!1,this.static_disc=!1,this.staticdiscoveredDtTrigger=new s.xQ,this.isDtForStaticDiscoveredInitialized=!1,this.edit_key=[],this.RuleAtleastOne=!1,this.rule_temp=[{id:"",name:""},{id:"manufacturer",name:"Manufacturer"},{id:"modelName",name:"Model"},{id:"softwareVersion",name:"SW Version"},{id:"hardwareVersion",name:"HW Version"},{id:"serialNumber",name:"FSAN/Serial Number"},{id:"normalizedIpAddress",name:"WAN IP"},{id:"registrationId",name:"Registration ID"},{id:"wanAccessType",name:"WAN Access Type"},{id:"opMode",name:"Mode"}],this.isIpv4CIDR=function(e){return this.ipv4BasicExp.test(e)},this.orgId=this.ssoService.getOrgId(),this.frTable=this.translateService.fr,this.esTable=this.translateService.es}setTitle(e){this.router.url.includes("/cco-foundation/foundation-configuration/configuration-prerequisites/device-groups")?this.titleService.setTitle(`${this.language["System Groups"]} - ${this.language["Workflow Prerequisites"]} - ${this.language.configuration} - ${this.language.Deployment} - ${this.language["Calix Cloud"]}`):this.router.url.includes("/support/netops-management/operations/devices-groups")?this.titleService.setTitle(`${this.language["System Groups"]} - ${this.language.Operations} - ${this.language.NetOps} - ${this.language.Support} - ${this.language["Calix Cloud"]}`):this.router.url.includes("/cco/operations/cco-subscriber-operations/operations/devices-groups")?this.titleService.setTitle(`${this.language["System Groups"]} - ${this.language.Operations} - ${this.language.Subscriber_Operations} - ${this.language.Operations} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`):this.router.url.includes("/cco/operations/configuration/system-groups")||this.router.url.includes("/cco/operations/configuration/devices-group/workflow")?this.titleService.setTitle(`${this.language["System Groups"]} - ${this.language.Configuration} - ${this.language.Operations} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`):this.router.url.includes("/support/netops-management/devices-groups")?this.titleService.setTitle(`${this.language["System Groups"]} - ${this.language.Operations} - ${this.language.NetOps} - ${this.language.Support} - ${this.language["Calix Cloud"]}`):(this.router.url.includes("/cco-foundation/foundation-configuration/device-groups")||this.router.url.includes("/cco-foundation/foundation-configuration/device-groups"))&&this.titleService.setTitle(`${this.language["System Groups"]} - ${this.language["Workflow Prerequisites"]} - ${this.language.configuration} - ${this.language.Deployment} - ${this.language["Calix Cloud"]}`)}ngOnInit(){var e,t;this.language=this.translateService.defualtLanguage;let i=this.ssoService.getScopes();if(this.router.url.includes("cco-foundation")||this.router.url.includes("/cco/operations/configuration"))this.router.url.includes("cco/operations/configuration")?l.N.VALIDATE_SCOPE?((null===(e=null==i?void 0:i["cloud.rbac.coc.operations.configuration.systemgroups"])||void 0===e?void 0:e.length)&&(this.hasScopeAccess=!0),i&&(null===(t=i["cloud.rbac.coc.operations.configuration.systemgroups"])||void 0===t?void 0:t.includes("write"))&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):l.N.VALIDATE_SCOPE?(i["cloud.rbac.foundation.configurations"]=i["cloud.rbac.foundation.configurations"]?i["cloud.rbac.foundation.configurations"]:[],i["cloud.rbac.foundation.configurations"].length&&(this.hasScopeAccess=!0),i&&i["cloud.rbac.foundation.configurations"].includes("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0);else if(l.N.VALIDATE_SCOPE){let e={};i["cloud.rbac.csc.netops.operations.device_group"]=i["cloud.rbac.csc.netops.operations.device_group"]?i["cloud.rbac.csc.netops.operations.device_group"]:[],i["cloud.rbac.csc.netops.operations.device_group"].length&&(this.hasScopeAccess=!0),i["cloud.rbac.csc.netops.operations.workflow"]=i["cloud.rbac.csc.netops.operations.workflow"]?i["cloud.rbac.csc.netops.operations.workflow"]:[],i["cloud.rbac.csc.netops.operations.profiles"]=i["cloud.rbac.csc.netops.operations.profiles"]?i["cloud.rbac.csc.netops.operations.profiles"]:[],i["cloud.rbac.csc.netops.operations.sw_images"]=i["cloud.rbac.csc.netops.operations.sw_images"]?i["cloud.rbac.csc.netops.operations.sw_images"]:[],i["cloud.rbac.csc.netops.operations.config_files"]=i["cloud.rbac.csc.netops.operations.config_files"]?i["cloud.rbac.csc.netops.operations.config_files"]:[],i["cloud.rbac.csc.netops.operations.perf_testing"]=i["cloud.rbac.csc.netops.operations.perf_testing"]?i["cloud.rbac.csc.netops.operations.perf_testing"]:[],i["cloud.rbac.csc.netops.config.dial_plan"]=i["cloud.rbac.csc.netops.config.dial_plan"]?i["cloud.rbac.csc.netops.config.dial_plan"]:[],i&&void 0!==i["cloud.rbac.csc.netops.operations.device_group"]&&-1!==i["cloud.rbac.csc.netops.operations.device_group"].indexOf("read")&&(e.showDeviceGrps=!0),i&&void 0!==i["cloud.rbac.csc.netops.operations.sw_images"]&&-1!==i["cloud.rbac.csc.netops.operations.sw_images"].indexOf("read")&&(e.showSoftwareImage=!0),i&&void 0!==i["cloud.rbac.csc.netops.operations.workflow"]&&-1!==i["cloud.rbac.csc.netops.operations.workflow"].indexOf("read")&&(e.showWorkFlow=!0),i&&void 0!==i["cloud.rbac.csc.netops.operations.profiles"]&&-1!==i["cloud.rbac.csc.netops.operations.profiles"].indexOf("read")&&(e.showProfiles=!0),i&&void 0!==i["cloud.rbac.csc.netops.operations.config_files"]&&-1!==i["cloud.rbac.csc.netops.operations.config_files"].indexOf("read")&&(e.showConfigFiles=!0),i&&void 0!==i["cloud.rbac.csc.netops.config.dial_plan"]&&-1!==i["cloud.rbac.csc.netops.config.dial_plan"].indexOf("read")&&(e.showDialPlan=!0),i&&void 0!==i["cloud.rbac.csc.netops.operations.perf_testing"]&&-1!==i["cloud.rbac.csc.netops.operations.perf_testing"].indexOf("read")&&(e.showPerfTest=!0),e.showDeviceGrps||(e.showProfiles?this.router.navigate(["./support/netops-management/operations/profiles"]):e.showConfigFiles?this.router.navigate(["./support/netops-management/operations/configuration-files-list"]):e.showSoftwareImage?this.router.navigate(["./support/netops-management/operations/software-images-list"]):e.showWorkFlow?this.router.navigate(["./support/netops-management/operations/workflows"]):e.showPerfTest&&"DME"!==this.ssoService.getCscType()&&this.router.navigate(["./support/netops-management/operations/performance-testing"])),i["cloud.rbac.csc.netops.operations.device_group"]=i["cloud.rbac.csc.netops.operations.device_group"]?i["cloud.rbac.csc.netops.operations.device_group"]:[],i&&i["cloud.rbac.csc.netops.operations.device_group"]&&-1!==i["cloud.rbac.csc.netops.operations.device_group"].indexOf("write")&&(this.hasWriteAccess=!0)}else this.hasWriteAccess=!0,this.hasScopeAccess=!0;if(!this.hasScopeAccess)return void this.ssoService.setPageAccess(!1);let s=this.route.snapshot.paramMap.get("id");s?(this.loading=!0,this.editSystem=!0,this.deviceGroupId=s,this.getDeviceType(0)):(this.onClickPlusSymbol(0),this.GetabList()),history.state.retainApproval&&this.deleteDeviceGrp(history.state.deletedata),this.dataAvailable=!1,this.formGrouping({}),this.setTitle(this.router.url),this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.setTitle(this.router.url),this.tableCountsDeviceGrpInfo&&this.changeTableStatusLanguageDeviceGrpInfo({_iDisplayStart:this.tableCountsDeviceGrpInfo.start,_iDisplayLength:this.tableCountsDeviceGrpInfo.displayCount,_iRecordsDisplay:this.tableCountsDeviceGrpInfo.displayed,_iRecordsTotal:this.tableCountsDeviceGrpInfo.total,oPreviousSearch:{sSearch:this.tableCountsDeviceGrpInfo.searchText}}),this.tableCountsUnDic&&this.changeTableStatusLanguageUnDisc({_iDisplayStart:this.tableCountsUnDic.start,_iDisplayLength:this.tableCountsUnDic.displayCount,_iRecordsDisplay:this.tableCountsUnDic.displayed,_iRecordsTotal:this.tableCountsUnDic.total,oPreviousSearch:{sSearch:this.tableCountsUnDic.searchText}}),this.tableCountsDeviceGroup&&this.changeTableStatusLanguageDeviceGroup({_iDisplayStart:this.tableCountsDeviceGroup.start,_iDisplayLength:this.tableCountsDeviceGroup.displayCount,_iRecordsDisplay:this.tableCountsDeviceGroup.displayed,_iRecordsTotal:this.tableCountsDeviceGroup.total,oPreviousSearch:{sSearch:this.tableCountsDeviceGroup.searchText}}),this.tableStaticDisc&&this.changeTableStatusLanguageStaticDisc({_iDisplayStart:this.tableStaticDisc.start,_iDisplayLength:this.tableStaticDisc.displayCount,_iRecordsDisplay:this.tableStaticDisc.displayed,_iRecordsTotal:this.tableStaticDisc.total,oPreviousSearch:{sSearch:this.tableStaticDisc.searchText}}),!this.static&&this.Disc_count&&this.redraw(),this.dynamic=[{id:"dynamic",name:this.language.Dynamic},{id:"static",name:this.language.Static}],this.errMsg=this.language["Are you sure you want to delete Device Group"]}),this.language&&(this.pageAvailable=!0),this.dynamic=[{id:"dynamic",name:this.language.Dynamic},{id:"static",name:this.language.Static}],(this.router.url.includes("devices-groups-add")||this.router.url.includes("device-groups-add")||this.router.url.includes("system-groups/add"))&&(this.loading=!0,this.isAddGroupForm=!1,this.isAddTable=!0,this.ishidebtn=!1,this.Is_Update=!1,this.RulesArray=[],this.submitted=!1,this.Rule_err=!1,this.deletedata="",this.createDeviceGroup.reset(),this.DiscoveredTableData=[],this.static=!1,this.Disc_count_static=!1,this.edit_key=[],this.UnDisc_count_static=!1,this.Disc_count=!1,this.is_staticenable=!1,this.IsStatic=!1,this.DiscoveredTableData_static=[],this.groupType="dynamic",this.createDeviceGroup.controls.type.setValue("dynamic"),this.createDeviceGroup.controls.allowInheritance.setValue(!0)),(this.router.url.includes("devices-groups-workflow")||this.router.url.includes("device-groups-workflow")||this.router.url.includes("devices-group/workflow"))&&(this.loading=!0,this.ishidebtn=!1,this.isAddTable=!0,this.isAddGroupForm=!0,this.workflowdetails=!0,this.systemGroupId=sessionStorage.getItem("workflowid"),this.groupName=sessionStorage.getItem("workflowName"),this.getWorkflows())}redraw(){this.dtElement.dtInstance.then(e=>{e.draw()})}formGrouping(e){this.createDeviceGroup=this.formBuilder.group({name:[e.name||"",n.kI.required],description:[e.description||""],type:[e.type||""],allowInheritance:[e.allowInheritance||""],cpeFilter:[e.cpeFilter||""]})}get f(){return this.createDeviceGroup.controls}getDeviceCount(){this.allDeviceGrpSubscribe=this.service.getDeviceGoupCount(this.orgId).subscribe(e=>{this.DeviceCount=e.count},e=>{this.pageErrorHandle(e)})}getList(){this.RulesArray=[],setTimeout(()=>{this.showSuccess=!1,this.successMsg=""},5e3),this.deviceGroupId?this.ssoService.redirectByUrl(["/support/netops-management/operations/devices-groups","cco/operations/cco-system-operations/device-groups","cco-foundation/foundation-configuration/configuration-prerequisites/device-groups","/cco/operations/cco-subscriber-operations/operations/devices-groups"]):(this.GetDevice_Type(-1),this.loading=!0,this.countSubscribe=this.service.getDeviceGoupCount(this.ssoService.getOrgId()).subscribe(e=>{let t=e.count;this.listSubscribe=this.service.getDeviceGoupList(this.ssoService.getOrgId(),t).subscribe(e=>{this.DeviceTableData=e,this.loading=!1},e=>{this.pageErrorHandle(e)})},e=>{this.pageErrorHandle(e)}))}GetabList(){if(this.RulesArray=[],setTimeout(()=>{this.showSuccess=!1,this.successMsg=""},5e3),this.deviceGroupId)return void this.ssoService.redirectByUrl(["/support/netops-management/operations/devices-groups","cco/operations/cco-system-operations/device-groups","cco-foundation/foundation-configuration/configuration-prerequisites/device-groups","/cco/operations/cco-subscriber-operations/operations/devices-groups"]);this.loading=!0,this.searchurl=`${l.N.SUPPORT_URL}/netops-device/group?${this.orgId}`;const e=this;this.dtOptionsDeviceGroup={pagingType:"full_numbers",pageLength:20,responsive:!0,serverSide:!0,processing:!1,searching:!1,lengthChange:!1,dom:"tipr",ajax:(t,i)=>{var s,a,o,n;this.loading=!0,this.sortBy=t.order[0].column,this.sortType=t.order[0].dir;let u=[],c=`${l.N.SUPPORT_URL}/netops-device/group?${this.ssoService.getOrg(this.orgId)}`;String(this.searchText)?u.push(e.http.get(c+"skip="+t.start+"&limit="+t.length+"&deviceId="+this.searchText+((null===(a=null===(s=this.router)||void 0===s?void 0:s.url)||void 0===a?void 0:a.includes("support/netops-management/"))?"&excludeOnBoot=true":"&excludeOnBoot=false")),this.service.getDeviceGoupsearchCount(this.orgId,this.searchText)):u.push(e.http.get(c+"skip="+t.start+"&limit="+t.length+((null===(n=null===(o=this.router)||void 0===o?void 0:o.url)||void 0===n?void 0:n.includes("support/netops-management/"))?"&excludeOnBoot=true":"&excludeOnBoot=false")),this.service.getDeviceGoupCount(this.orgId)),(0,r.D)(u).subscribe(([t,s])=>{s&&(this.DeviceCount=s.count),t&&(this.DeviceTableData=this.sortData(t,e.sortBy,e.sortType),this.loading=!1),i({recordsTotal:this.DeviceCount,recordsFiltered:this.DeviceCount,data:[]})},e=>{this.loading=!1})},drawCallback:e=>{this.changeTableStatusLanguageDeviceGroup(e),e._iRecordsDisplay<=e._iDisplayLength&&u(e.nTableWrapper).find("#users-table_last").addClass("disabled")},columns:[{data:"name"},{data:"description",searchable:!1},{data:"type",searchable:!1}]}}sortData(e,t,i){let s=[];return 0==t?s=this.sortByColumn(e,i,"name"):1==t?s=this.sortByColumn(e,i,"description"):2==t&&(s=this.sortByColumn(e,i,"type")),s}sortByColumn(e,t,i){return e.sort((e,s)=>{var r=e[i]?e[i].toUpperCase():"",a=s[i]?s[i].toUpperCase():"";if("asc"==t){if(r<a)return-1;if(r>a)return 1}else{if(r>a)return-1;if(r<a)return 1}return 0}),e}redrawnew(){this.dtElement.dtInstance.then(e=>{e.destroy(),this.GetabList()})}deleteDeviceGrp(e){this.loading=!0,this.deletedata=e,this.modalTitle="Delete Device Group",this.modalname=this.deletedata.name,this.modelType=this.deletedata.type,this.workflowcount=this.deletedata.completedCount,this.getGroupMemberCount(e),u("html, body").animate({scrollTop:0},"slow"),setTimeout(()=>{u(".workflowcountclass").off(),u(".workflowcountclass").on("click",()=>this.workFlowMenbers())},1e3)}getGroupMemberCount(e){this.loading=!0,this.deletedata=e,this.groupMemberCount=this.service.getDeviceMemberCount(this.ssoService.getOrgId(),this.deletedata._id).subscribe(e=>{this.MemberCount=e.count,this.modalInfo=this.language.deviceGroupWarrningMsg(this.modalname,this.MemberCount,this.workflowcount),this.showWarningMsg=!0,this.loading=!1},e=>{this.pageErrorHandle(e),this.isError=!0,this.loading=!1})}confirmDeleteSecleted(){this.loading=!0,this.btnDisabled=!0,this.DeleteDeviceGrpSubscribe=this.service.DeleteDeviceGoupList(this.orgId,this.deletedata._id,this.forceDelete).subscribe(e=>{e&&(this.getDeviceCount(),this.rerender(1),this.loading=!1,this.GetabList(),this.btnDisabled=!1,this.deletedata="")},e=>{this.loading=!1,this.btnDisabled=!1,this.deletedata="",this.pageErrorHandle(e)},()=>{this.btnDisabled=!1,this.deletedata="",this.showWarningMsg=!1,this.loading=!1})}closeModal(){this.showWarningMsg=!1,this.modalRef&&this.modalRef.close()}setTableOptions(e){this.tableOptions={pagingType:"full_numbers",pageLength:2,dom:"tipr",columnDefs:[{targets:[1,2,3,4],orderable:!1},{targets:[0],orderable:!0}],order:[],drawCallback:e=>{e.aoData.length<=e._iDisplayLength&&u(e.nTableWrapper).find("#devicegrp-table").addClass("disabled")}}}changeType(e){this.isTypeFor=e.target.value,"static"==e.target.value?(this.IsStatic=!0,this.static=!0,this.Disc_count_static=!1,this.CallDiscoveredDevice(),this.dtOptionsstaticUndis={paging:!1,lengthChange:!1,searching:!1},setTimeout(()=>{this.undiscoveredDtTrigger.next()},5e3),this.dtOptionsstaticdis={},setTimeout(()=>{this.staticdiscoveredDtTrigger.next()},500)):(this.IsStatic=!1,this.static=!1,this.static_undisc=!1)}Rule1change(e){if(this.RulesArray[e].rule1)return e}getSelectedRules(){let e={rule1:[],rule2:[],rule3:[]};if(this.RulesArray.length)for(let t=0;t<this.RulesArray.length;t++)e.rule1.push(this.RulesArray[t].rule1),e.rule2.push(this.RulesArray[t].rule2),e.rule3.push(this.RulesArray[t].rule3);return e}Rule1ChangeVal(e,t){this.Rule_err=!1;let i={modelName:["manufacturer"],softwareVersion:["modelName","manufacturer"],hardwareVersion:["modelName","manufacturer"],wanAccessType:["modelName"],opMode:["manufacturer"]};if(!this.RulesArray[e].rule1)return void(this.RulesArray[e].rule2="");if(e&&"modelName"===this.RulesArray[e].rule1&&this.RulesArray[e+1]&&this.RulesArray[e+1].rule1&&!t)return void this.FilterDevice(e-1);if(!i[this.RulesArray[e].rule1])return this.RulesArray[e].rule2="",void(this.RulesArray[e].rule3="");let s=this.getSelectedRules().rule1;if(this.rule2items={manufacturer:[{id:"",name:""},{id:"Equals",name:"Equals"},{id:"$ne",name:"Not Equal"}],modelName:[{id:"",name:""},{id:"Equals",name:"Equals"},{id:"$ne",name:"Not Equal"},{id:"$in",name:"In"}],softwareVersion:[{id:"",name:""},{id:"Equals",name:"Equals"},{id:"$ne",name:"Not Equal"},{id:"$in",name:"In"}],hardwareVersion:[{id:"",name:""},{id:"Equals",name:"Equals"},{id:"$ne",name:"Not Equal"},{id:"$in",name:"In"}],serialNumber:[{id:"",name:""},{id:"$regex",name:"WildCard"}],normalizedIpAddress:[{id:"",name:""},{id:"$subnets",name:"In Subnet"}],registrationId:[{id:"",name:""},{id:"$regex",name:"WildCard"}],wanAccessType:[{id:"",name:""},{id:"Equals",name:"Equals"}],opMode:[{id:"Equals",name:"Equals"}]},this.RulesArray&&i[this.RulesArray[e].rule1]){for(let t=0;t<i[this.RulesArray[e].rule1].length;t++){let r=i[this.RulesArray[e].rule1][t];if(-1===s.indexOf(r)){let t=this.findObjectByKey(r);this.Rule_err=!0,this.ErrorMessage=`${this.language["Error! missing cascade attributes:"]} ${t.name}`,this.rule2items[this.RulesArray[e].rule1]=[],this.RulesArray[e].rule2="",this.RulesArray[e].rule3="";break}}if(this.Rule_err)return}this.indexlength=e,this.RulesArray.length>=1&&(0==this.RulesArray.filter(e=>"modelName"===e.rule1).length?"softwareVersion"==this.RulesArray[e].rule1||"hardwareVersion"==this.RulesArray[e].rule1||"wanAccessType"==this.RulesArray[e].rule1?(this.Rule_err=!0,this.ErrorMessage="Error! missing cascade attributes:Model",this.rule2items[this.RulesArray[e].rule1]=[],this.RulesArray[e].rule2="",this.RulesArray[e].rule3=""):(this.ErrorMessage="",this.Rule_err=!1):0!=this.RulesArray.filter(e=>"modelName"===e.rule1).length&&(this.ErrorMessage="",this.Rule_err=!1),0==this.RulesArray.filter(e=>"manufacturer"===e.rule1).length&&("modelName"==this.RulesArray[e].rule1||"opMode"==this.RulesArray[e].rule1?(this.Rule_err=!0,this.ErrorMessage="Error! missing cascade attributes:Manufacturer",this.rule2items[this.RulesArray[e].rule1]=[],this.RulesArray[e].rule2="",this.RulesArray[e].rule3=""):(this.ErrorMessage="",this.Rule_err=!1))),1==this.RulesArray.filter(e=>"manufacturer"===e.rule1).length&&1==this.RulesArray.filter(e=>"modelName"===e.rule1).length&&-1!==s.indexOf("wanAccessType")&&!this.supportWanAccessType()&&(this.Rule_err=!0,this.ErrorMessage="Error! Wan Access Type Not Supported By Specified Model Name",this.rule2items[this.RulesArray[e].rule1]=[],this.RulesArray[e].rule2="",this.RulesArray[e].rule3=""),1==this.RulesArray.length&&(1==this.RulesArray.filter(e=>"softwareVersion"===e.rule1).length&&(this.Rule_err=!0,this.ErrorMessage="Error! missing cascade attributes:Model",this.rule2items[this.RulesArray[e].rule1]=[],this.RulesArray[e].rule2="",this.RulesArray[e].rule3=""),1==this.RulesArray.filter(e=>"hardwareVersion"===e.rule1).length&&(this.Rule_err=!0,this.ErrorMessage="Error! missing cascade attributes:Model",this.rule2items[this.RulesArray[e].rule1]=[],this.RulesArray[e].rule2="",this.RulesArray[e].rule3=""),1==this.RulesArray.filter(e=>"wanAccessType"===e.rule1).length&&(this.Rule_err=!0,this.ErrorMessage="Error! missing cascade attributes:Model",this.rule2items[this.RulesArray[e].rule1]=[],this.RulesArray[e].rule2="",this.RulesArray[e].rule3=""))}emptyRulesRow(e){"modelName"!==this.RulesArray[e].rule1&&(this.rule2items[this.RulesArray[e].rule1]=[],this.RulesArray[e].rule2="",this.RulesArray[e].rule3="")}dynamicTitle(e){this.tooltipTitle="serialNumber"==e?"Only alphanumeric characters and asterisk allowed,e.g:CXNK001CD*":"normalizedIpAddress"==e?"CIDR address seperated by comma,e.g:192.168.3.0/24,192.168.4.0/24":"registrationId"==e?"Only alphanumeric characters and asterisk allowed,e.g:210*":""}Rule2change(e){if(this.RulesArray[e].rule2)return e}Rule3select(e){this.RulesArray[e].rule3&&(this.RulesArray[e].rule3="$in"==this.RulesArray[e].rule2?[this.rule3items[this.RulesArray[e].rule1][0].id]:this.rule3items[this.RulesArray[e].rule1][0].id)}CheckValidationErr(e){var t,i,s,r,a,o,n,l,u,c,d,h,g,p,m,f,v,b,A,y,w,_,T,R,S,D,x,I,O,$,Z,N;this.Rule_err=!1;let C={modelName:["manufacturer"],softwareVersion:["modelName","manufacturer"],hardwareVersion:["modelName","manufacturer"],wanAccessType:["modelName"],opMode:["manufacturer"]},U=this.getSelectedRules().rule1;if(this.RulesArray&&C[this.RulesArray[e].rule1]){for(let t=0;t<C[this.RulesArray[e].rule1].length;t++){let i=C[this.RulesArray[e].rule1][t];if(-1===U.indexOf(i)){let t=this.findObjectByKey(i);this.Rule_err=!0,this.ErrorMessage=`Error! missing cascade attributes: ${t.name}`,this.rule2items[this.RulesArray[e].rule1]=[],this.RulesArray[e].rule2="",this.RulesArray[e].rule3="";break}}if(this.Rule_err)return}if("normalizedIpAddress"==(null===(t=this.RulesArray[e])||void 0===t?void 0:t.rule1))return this.RulesArray[e].rule3&&this.checkSubnet(this.RulesArray[e].rule3)?(this.ErrorMessage="",void(this.Rule_err=!1)):(this.ErrorMessage="Error! Rule WANIP contains invalid characters, only IPv4 or IPv6 CIDR address allowed(e.g 192.168.1.0/24,2001:db8:1234::/48)",void(this.Rule_err=!0));if("manufacturer"==(null===(i=this.RulesArray[e])||void 0===i?void 0:i.rule1))return""!=(null===(s=this.RulesArray[e])||void 0===s?void 0:s.rule2)&&(null===(r=this.RulesArray[e])||void 0===r?void 0:r.rule3)?(this.ErrorMessage="",void(this.Rule_err=!1)):(this.ErrorMessage="Error! Rule manufacturer is not valid.",void(this.Rule_err=!0));if("modelName"==(null===(a=this.RulesArray[e])||void 0===a?void 0:a.rule1))return""==(null===(o=this.RulesArray[e])||void 0===o?void 0:o.rule2)||!(null===(n=this.RulesArray[e])||void 0===n?void 0:n.rule3)||"$in"==(null===(l=this.RulesArray[e])||void 0===l?void 0:l.rule2)&&!(null===(c=null===(u=this.RulesArray[e])||void 0===u?void 0:u.rule3)||void 0===c?void 0:c.length)?(this.ErrorMessage="Error! Rule modelName is not valid.",void(this.Rule_err=!0)):(this.ErrorMessage="",void(this.Rule_err=!1));if("softwareVersion"==(null===(d=this.RulesArray[e])||void 0===d?void 0:d.rule1))return""==(null===(h=this.RulesArray[e])||void 0===h?void 0:h.rule2)||!(null===(g=this.RulesArray[e])||void 0===g?void 0:g.rule3)||"$in"==(null===(p=this.RulesArray[e])||void 0===p?void 0:p.rule2)&&!(null===(f=null===(m=this.RulesArray[e])||void 0===m?void 0:m.rule3)||void 0===f?void 0:f.length)?(this.ErrorMessage="Error! Rule softwareVersion is not valid.",void(this.Rule_err=!0)):(this.ErrorMessage="",void(this.Rule_err=!1));if("hardwareVersion"==(null===(v=this.RulesArray[e])||void 0===v?void 0:v.rule1))return""==(null===(b=this.RulesArray[e])||void 0===b?void 0:b.rule2)||!(null===(A=this.RulesArray[e])||void 0===A?void 0:A.rule3)||"$in"==(null===(y=this.RulesArray[e])||void 0===y?void 0:y.rule2)&&!(null===(_=null===(w=this.RulesArray[e])||void 0===w?void 0:w.rule3)||void 0===_?void 0:_.length)?(this.ErrorMessage="Error! Rule hardwareVersion is not valid.",void(this.Rule_err=!0)):(this.ErrorMessage="",void(this.Rule_err=!1));if("serialNumber"==(null===(T=this.RulesArray[e])||void 0===T?void 0:T.rule1)){if(""==(null===(R=this.RulesArray[e])||void 0===R?void 0:R.rule2)||!(null===(S=this.RulesArray[e])||void 0===S?void 0:S.rule3))return this.ErrorMessage="Error! Rule serialNumber is not valid.",void(this.Rule_err=!0);if(""==(null===(D=this.RulesArray[e])||void 0===D?void 0:D.rule3))return this.ErrorMessage="Error! Rule FSAN contains invalid characters, only alphanumeric characters allowed.",void(this.Rule_err=!0);if(!(null===(x=this.RulesArray[e])||void 0===x?void 0:x.rule3))return this.ErrorMessage="",void(this.Rule_err=!1);if(!(null===(I=this.RulesArray[e])||void 0===I?void 0:I.rule3).match(/^[a-z0-9*]+$/i))return this.ErrorMessage="FSAN-Error! Rule FSAN contains invalid characters, only alphanumeric characters allowed.",void(this.Rule_err=!0)}if("registrationId"==(null===(O=this.RulesArray[e])||void 0===O?void 0:O.rule1)){if(""==(null===($=this.RulesArray[e])||void 0===$?void 0:$.rule2))return this.ErrorMessage="Error! Rule registrationId is not valid.",void(this.Rule_err=!0);if(!(null===(Z=this.RulesArray[e])||void 0===Z?void 0:Z.rule3))return this.ErrorMessage="",void(this.Rule_err=!1);if(!(null===(N=this.RulesArray[e])||void 0===N?void 0:N.rule3).match(/^[a-z0-9*]+$/i))return this.ErrorMessage="RegistrationId-Error! Rule RegistrationId contains invalid characters, only alphanumeric characters allowed.",void(this.Rule_err=!0)}}DropdownOrInput(e){return"manufacturer"==this.RulesArray[e].rule1||"modelName"==this.RulesArray[e].rule1||"softwareVersion"==this.RulesArray[e].rule1||"hardwareVersion"==this.RulesArray[e].rule1||"opMode"==this.RulesArray[e].rule1||"wanAccessType"==this.RulesArray[e].rule1}MultiOrSingle(e){return this.secondindex=e,"$in"==this.RulesArray[e].rule2}FilterDeviceType(){this.Get_payload(),this.GetDevice_Type()}FilterDevice(e,t){this.RulesArray[e]&&this.RulesArray[e].rule3||(this.RulesArray[e].rule3=this.rule3items[this.RulesArray[e].rule1]&&this.rule3items[this.RulesArray[e].rule1][0]?this.rule3items[this.RulesArray[e].rule1][0].id:"");let i=["serialNumber","normalizedIpAddress","registrationId","wanAccessType","opMode"];if(-1===i.indexOf(this.RulesArray[e].rule1)){if(this.RulesArray.length>1&&e&&-1===i.indexOf(this.RulesArray[e-1].rule1)&&!this.RulesArray[e-1].rule3)return void(this.RulesArray[e].rule3items=[]);setTimeout(()=>{this.getParamsNew(e)&&this.GetDevice_Type(e)},500)}else this.RulesArray[e].rule3&&this.getDiscoveredDeviceCount()}CallDiscoveredDevice(){this.static?(this.RulesArray=[],this.Rule_err=!1,this.RuleAtleastOne=!1,this.ErrorMessage="",this.deviceGroupId&&this.DeviceDiscoveredStatic()):this.RulesArray.length>0&&this.RulesArray[0].rule1&&("$regex"!==this.RulesArray[0].rule2&&this.RulesArray[0].rule3||"$regex"==this.RulesArray[0].rule2)?(this.Rule_err=!1,this.RuleAtleastOne=!1,this.ErrorMessage="",this.getDiscoveredDeviceCount()):(this.Rule_err=!0,this.RuleAtleastOne=!0,this.ErrorMessage="Error! All Rules must be complete and a minimum of one is required.")}CheckAPIvalisempty(){for(var e=[],t=0;t<this.RulesArray.length;t++)""!=this.RulesArray[t].rule3&&e.push(1);if(e.length>0)return!0}Get_payload(){if(this.json_payload={orgId:this.orgId},this.RulesArray.length||this.edit_key.length>=1){let i=[],s=[],r=[],a=[],o=[],n=[],l=[],u=[];for(var e=0;e<this.RulesArray.length;e++){if("manufacturer"==this.RulesArray[e].rule1){let s={ruletype:this.RulesArray[e].rule2};s[t=this.RulesArray[e].rule1]=this.RulesArray[e].rule3,"manufacturer"==t&&i.push(s)}if("modelName"==this.RulesArray[e].rule1){let c={ruletype:this.RulesArray[e].rule2};c[t=this.RulesArray[e].rule1]=this.RulesArray[e].rule3,"manufacturer"==t&&i.push(c),"modelName"==t&&s.push(c),"softwareVersion"==t&&r.push(c),"hardwareVersion"==t&&a.push(c),"serialNumber"==t&&o.push(c),"normalizedIpAddress"==t&&n.push(c),"registrationId"==t&&l.push(c),"mode_payload_arr"==t&&u.push(c)}if("softwareVersion"==this.RulesArray[e].rule1){let c={ruletype:this.RulesArray[e].rule2};c[t=this.RulesArray[e].rule1]=this.RulesArray[e].rule3,"manufacturer"==t&&i.push(c),"modelName"==t&&s.push(c),"softwareVersion"==t&&r.push(c),"hardwareVersion"==t&&a.push(c),"serialNumber"==t&&o.push(c),"normalizedIpAddress"==t&&n.push(c),"registrationId"==t&&l.push(c),"mode_payload_arr"==t&&u.push(c)}if("hardwareVersion"==this.RulesArray[e].rule1){let c={ruletype:this.RulesArray[e].rule2};c[t=this.RulesArray[e].rule1]=this.RulesArray[e].rule3,"manufacturer"==t&&i.push(c),"modelName"==t&&s.push(c),"softwareVersion"==t&&r.push(c),"hardwareVersion"==t&&a.push(c),"serialNumber"==t&&o.push(c),"normalizedIpAddress"==t&&n.push(c),"registrationId"==t&&l.push(c),"mode_payload_arr"==t&&u.push(c)}if("serialNumber"==this.RulesArray[e].rule1){let c={ruletype:this.RulesArray[e].rule2};c[t=this.RulesArray[e].rule1]=this.RulesArray[e].rule3,"manufacturer"==t&&i.push(c),"modelName"==t&&s.push(c),"softwareVersion"==t&&r.push(c),"hardwareVersion"==t&&a.push(c),"serialNumber"==t&&o.push(c),"normalizedIpAddress"==t&&n.push(c),"registrationId"==t&&l.push(c),"mode_payload_arr"==t&&u.push(c)}if("normalizedIpAddress"==this.RulesArray[e].rule1){let c={ruletype:this.RulesArray[e].rule2};c[t=this.RulesArray[e].rule1]=this.RulesArray[e].rule3,"manufacturer"==t&&i.push(c),"modelName"==t&&s.push(c),"softwareVersion"==t&&r.push(c),"hardwareVersion"==t&&a.push(c),"serialNumber"==t&&o.push(c),"normalizedIpAddress"==t&&n.push(c),"registrationId"==t&&l.push(c),"mode_payload_arr"==t&&u.push(c)}if("registrationId"==this.RulesArray[e].rule1){let c={ruletype:this.RulesArray[e].rule2};c[t=this.RulesArray[e].rule1]=this.RulesArray[e].rule3,"manufacturer"==t&&i.push(c),"modelName"==t&&s.push(c),"softwareVersion"==t&&r.push(c),"hardwareVersion"==t&&a.push(c),"serialNumber"==t&&o.push(c),"normalizedIpAddress"==t&&n.push(c),"registrationId"==t&&l.push(c),"mode_payload_arr"==t&&u.push(c)}if("opMode"==this.RulesArray[e].rule1){var t;let c={ruletype:this.RulesArray[e].rule2};c[t=this.RulesArray[e].rule1]=this.RulesArray[e].rule3,"manufacturer"==t&&i.push(c),"modelName"==t&&s.push(c),"softwareVersion"==t&&r.push(c),"hardwareVersion"==t&&a.push(c),"serialNumber"==t&&o.push(c),"normalizedIpAddress"==t&&n.push(c),"registrationId"==t&&l.push(c),"mode_payload_arr"==t&&u.push(c)}}if(i.length>0&&("Equals"==i[0].ruletype&&(this.json_payload.manufacturer=i[0].manufacturer),"$ne"==i[0].ruletype&&(this.json_payload.manufacturer={$ne:i[0].manufacturer})),s.length>0&&("Equals"==s[0].ruletype&&s[0].modelName&&(this.json_payload.modelName=s[0].modelName.toString()),"$ne"==s[0].ruletype&&s[0].modelName&&(this.json_payload.modelName={$ne:s[0].modelName.toString()}),"$in"==s[0].ruletype&&(this.json_payload.modelName=Array.isArray(s[0].modelName)?{$in:s[0].modelName}:{$in:[s[0].modelName]})),r.length>0&&("Equals"==r[0].ruletype&&r[0].softwareVersion&&(this.json_payload.softwareVersion=r[0].softwareVersion.toString()),"$ne"==r[0].ruletype&&r[0].softwareVersion&&(this.json_payload.softwareVersion={$ne:r[0].softwareVersion.toString()}),"$in"==r[0].ruletype&&(this.json_payload.softwareVersion=Array.isArray(r[0].softwareVersion)?{$in:r[0].softwareVersion}:{$in:[r[0].softwareVersion]})),a.length>0&&("Equals"==a[0].ruletype&&a[0].hardwareVersion&&(this.json_payload.hardwareVersion=a[0].hardwareVersion.toString()),"$ne"==a[0].ruletype&&a[0].hardwareVersion&&(this.json_payload.hardwareVersion={$ne:a[0].hardwareVersion.toString()}),"$in"==a[0].ruletype&&(this.json_payload.hardwareVersion=Array.isArray(a[0].hardwareVersion)?{$in:a[0].hardwareVersion}:{$in:[a[0].hardwareVersion]})),o.length>0&&"$regex"==o[0].ruletype){let e=o[0].serialNumber?o[0].serialNumber:"";e=e.replace(/\*/g,".*?"),e="^"+e+"$",this.json_payload.serialNumber={$regex:e}}if(n.length>0&&("$subnets"==n[0].ruletype||"Equals"==n[0].ruletype)&&(this.json_payload.normalizedIpAddress=n[0].normalizedIpAddress),l.length>0&&"$regex"==l[0].ruletype){let e=l[0].registrationId?l[0].registrationId:"";e=e.replace(/\*/g,".*?"),e="^"+e+"$",this.json_payload.registrationId={$regex:e}}u.length>0&&"Equals"==u[0].ruletype&&(this.json_payload.opMode=u[0].opMode)}let i={};if(1==this.submitted){if(this.Rule_err)return;this.Rule_err=!1;let t=[],s=[],r=[],a=[],o=[],n=[],l=[],u=[],c=[];for(e=0;e<this.RulesArray.length;e++){if(this.CheckValidationErr(e),this.Rule_err)return;if("manufacturer"==this.RulesArray[e].rule1&&t.push({manufacturer:this.RulesArray[e].rule3,ruletype:this.RulesArray[e].rule2}),"modelName"==this.RulesArray[e].rule1&&s.push({modelName:this.RulesArray[e].rule3,ruletype:this.RulesArray[e].rule2}),"softwareVersion"==this.RulesArray[e].rule1&&r.push({softwareVersion:this.RulesArray[e].rule3,ruletype:this.RulesArray[e].rule2}),"hardwareVersion"==this.RulesArray[e].rule1&&a.push({hardwareVersion:this.RulesArray[e].rule3,ruletype:this.RulesArray[e].rule2}),"serialNumber"==this.RulesArray[e].rule1&&o.push({serialNumber:this.RulesArray[e].rule3,ruletype:this.RulesArray[e].rule2}),"normalizedIpAddress"==this.RulesArray[e].rule1){let t=this.RulesArray[e].rule3;if(!this.checkSubnet(t))return;let i=this.toIpRange(t);i.length>1?(i=i.map(e=>({normalizedIpAddress:e})),n.push({normalizedIpAddress:i,ruletype:this.RulesArray[e].rule2,multiple:!0})):n.push({normalizedIpAddress:i[0],ruletype:this.RulesArray[e].rule2})}"registrationId"==this.RulesArray[e].rule1&&l.push(this.RulesArray[e].rule3?{registrationId:this.RulesArray[e].rule3,ruletype:this.RulesArray[e].rule2}:{registrationId:"",ruletype:this.RulesArray[e].rule2}),"opMode"==this.RulesArray[e].rule1&&u.push({opMode:this.RulesArray[e].rule3,ruletype:this.RulesArray[e].rule2}),"wanAccessType"==this.RulesArray[e].rule1&&c.push({wanAccessType:this.RulesArray[e].rule3,ruletype:this.RulesArray[e].rule2})}if(t.length>0&&("Equals"==t[0].ruletype&&(i.manufacturer=t[0].manufacturer),"$ne"==t[0].ruletype&&(i.manufacturer={$ne:t[0].manufacturer})),s.length>0&&("Equals"==s[0].ruletype&&(i.modelName=s[0].modelName.toString()),"$ne"==s[0].ruletype&&(i.modelName={$ne:s[0].modelName.toString()}),"$in"==s[0].ruletype&&(i.modelName=Array.isArray(s[0].modelName)?{$in:s[0].modelName}:{$in:[s[0].modelName]})),r.length>0&&("Equals"==r[0].ruletype&&(i.softwareVersion=r[0].softwareVersion.toString()),"$ne"==r[0].ruletype&&(i.softwareVersion={$ne:r[0].softwareVersion.toString()}),"$in"==r[0].ruletype&&(i.softwareVersion=Array.isArray(r[0].softwareVersion)?{$in:r[0].softwareVersion}:{$in:[r[0].softwareVersion]})),a.length>0&&("Equals"==a[0].ruletype&&(i.hardwareVersion=a[0].hardwareVersion.toString()),"$ne"==a[0].ruletype&&(i.hardwareVersion={$ne:a[0].hardwareVersion.toString()}),"$in"==a[0].ruletype&&(i.hardwareVersion=Array.isArray(a[0].hardwareVersion)?{$in:a[0].hardwareVersion}:{$in:[a[0].hardwareVersion]})),o.length>0&&"$regex"==o[0].ruletype){let e=o[0].serialNumber?o[0].serialNumber:"";e=e.replace(/\*/g,".*?"),e="^"+e+"$",i.serialNumber={$regex:e}}if(n.length>0&&("$subnets"==n[0].ruletype||"Equals"==n[0].ruletype)&&(n[0].multiple?i.$or=n[0].normalizedIpAddress:i.normalizedIpAddress=n[0].normalizedIpAddress),l.length>0){let e=l[0].registrationId?l[0].registrationId:"";e=e.replace(/\*/g,".*?"),e="^"+e+"$","$regex"==l[0].ruletype&&(i.registrationId={$regex:e})}u.length>0&&"Equals"==u[0].ruletype&&(i.opMode=u[0].opMode),c.length>0&&"Equals"==c[0].ruletype&&(i.wanAccessType=c[0].wanAccessType)}this.json_payload_submit=i}GetwanAccessTypes(e){this.service.GetwanAccessTypes(e).subscribe(e=>{var t,i,s,r;this.wanAccessTypes=[];var a=null===(t=null==e?void 0:e.properties)||void 0===t?void 0:t.filter(e=>"WanAccessTypeOptions"==e.featureName);a&&(null===(i=a[0].configuration)||void 0===i?void 0:i.valueList.length)>0&&(this.wanAccessTypes=null===(r=null===(s=a[0])||void 0===s?void 0:s.configuration)||void 0===r?void 0:r.valueList,this.rule3items.wanAccessType=[],this.rule3items.wanAccessType=this.wanAccessTypes,this.loading=!1)},e=>{this.loading=!1,this.pageErrorHandle(e)})}GetDevice_Type(e){this.loading=!0;let t=this.getParamsNew(e,!0);t=t||{orgId:this.ssoService.getOrgId()},this.allDeviceGrpSubscribe=this.service.GetDeviceType(JSON.stringify(t)).subscribe(t=>{let i=[],s=[],r=[],a=[],o=[],n=[],l=[],u=[],c=[];this.DeviceTypeArr=t;let d=[{id:"WAP",name:"WAP"},{id:"RG",name:"RG"}];for(var h=0;h<this.DeviceTypeArr.length;h++)i.push({id:this.DeviceTypeArr[h].manufacturer,name:this.DeviceTypeArr[h].manufacturer}),s.push({id:this.DeviceTypeArr[h].modelName,name:this.DeviceTypeArr[h].modelName}),r.push({id:this.DeviceTypeArr[h].softwareVersion,name:this.DeviceTypeArr[h].softwareVersion}),a.push({id:this.DeviceTypeArr[h].hardwareVersion,name:this.DeviceTypeArr[h].hardwareVersion}),o.push({id:this.DeviceTypeArr[h].serialNumber,name:this.DeviceTypeArr[h].serialNumber}),n.push({id:this.DeviceTypeArr[h].ipAddress,name:this.DeviceTypeArr[h].ipAddress}),l.push({id:this.DeviceTypeArr[h].registrationId,name:this.DeviceTypeArr[h].registrationId}),u.push({id:this.DeviceTypeArr[h].wanAccessType,name:this.DeviceTypeArr[h].wanAccessType}),c=d;if(i=this.unique(i),s=this.unique(s),r=this.unique(r),a=this.unique(a),o=this.unique(o),n=this.unique(n),l=this.unique(l),u=this.unique(u),c=this.unique(c),this.RulesArray&&this.RulesArray.length){let e=this.findObject(this.RulesArray,"rule1","modelName");if(e){let t="",i=!1;("object"==typeof e.rule3?e.rule3:[e.rule3]).forEach(e=>{i=i||/844GE(-\d)?/i.test(e)||/^[MGS4227/GS4227].*/.test(e),t=e}),i&&this.GetwanAccessTypes(t)}}setTimeout(()=>{this.rule3items={manufacturer:i,modelName:s,softwareVersion:r,hardwareVersion:a,serialNumber:o,normalizedIpAddress:n,registrationId:l,wanAccessType:this.wanAccessTypes,opMode:c};let t={manufacturer:i,modelName:s,softwareVersion:r,hardwareVersion:a,serialNumber:o,normalizedIpAddress:n,registrationId:l,wanAccessType:this.wanAccessTypes,opMode:c};if(this.RulesArray[e+1]){if(-1!==["manufacturer","modelName","softwareVersion","hardwareVersion","wanAccessType"].indexOf(this.RulesArray[e+1].rule1))if(this.RulesArray[e+1].rule2="",this.RulesArray[e+1].rule3items=t,this.RulesArray[e+1].rule3=t[this.RulesArray[e+1].rule1]?t[this.RulesArray[e+1].rule1][0].id:"","wanAccessType"==this.RulesArray[e+1].rule1&&this.supportWanAccessType()){this.rule2items[this.RulesArray[e+1].rule1]=[{id:"",name:""},{id:"Equals",name:"Equals"}],this.rule2items=this.rule2items;let t=this.findObject(this.RulesArray,"rule1","modelName");if(t){let e="",i=!1;("object"==typeof t.rule3?t.rule3:[t.rule3]).forEach(t=>{i=i||/844GE(-\d)?/i.test(t)||/^[MGS4227/GS4227].*/.test(t),e=t})}}else t.wanAccessType=[],this.RulesArray[e+1].rule3items=t,-1===["serialNumber","normalizedIpAddress","registrationId","wanAccessType","opMode"].indexOf(this.RulesArray[e+1].rule1)&&(this.RulesArray[e+1].rule3="",this.RulesArray[e+1].rule2="");-1!==e&&this.GetDevice_Type(e+1),this.Rule1ChangeVal(e+1,!0)}else-1!==e?(this.RulesArray[e].rule3items=Object.assign(Object.assign({},t),this.RulesArray[e].rule3items),this.RulesArray[e].rule3||(this.RulesArray[e].rule3=t[this.RulesArray[e].rule1]?t[this.RulesArray[e].rule1][0].id:""),this.getDiscoveredDeviceCount()):this.loading=!1},1e3)},e=>{this.pageErrorHandle(e)})}Recall(){}GetDevice_Type_recall(){this.allDeviceGrpSubscribe=this.service.GetDeviceType(JSON.stringify(this.json_payload)).subscribe(e=>{let t=[],i=[],s=[],r=[],a=[],o=[],n=[],l=[],u=[];this.DeviceTypeArr=e;let c=[{id:"WAP",name:"WAP"},{id:"RG",name:"RG"}];for(var d=0;d<this.DeviceTypeArr.length;d++)t.push({id:this.DeviceTypeArr[d].manufacturer,name:this.DeviceTypeArr[d].manufacturer}),i.push({id:this.DeviceTypeArr[d].modelName,name:this.DeviceTypeArr[d].modelName}),s.push({id:this.DeviceTypeArr[d].softwareVersion,name:this.DeviceTypeArr[d].softwareVersion}),r.push({id:this.DeviceTypeArr[d].hardwareVersion,name:this.DeviceTypeArr[d].hardwareVersion}),a.push({id:this.DeviceTypeArr[d].serialNumber,name:this.DeviceTypeArr[d].serialNumber}),o.push({id:this.DeviceTypeArr[d].ipAddress,name:this.DeviceTypeArr[d].ipAddress}),n.push({id:this.DeviceTypeArr[d].registrationId,name:this.DeviceTypeArr[d].registrationId}),l.push({id:this.DeviceTypeArr[d].wanAccessType,name:this.DeviceTypeArr[d].wanAccessType}),u=c;t=this.unique(t),i=this.unique(i),s=this.unique(s),r=this.unique(r),a=this.unique(a),o=this.unique(o),n=this.unique(n),l=this.unique(l),u=this.unique(u),this.rule3items={manufacturer:t,modelName:i,softwareVersion:s,hardwareVersion:r,serialNumber:a,normalizedIpAddress:o,registrationId:n,wanAccessType:this.defaultWanAccessTypes,opMode:u}},e=>{this.pageErrorHandle(e)})}GotoTroubleshooting(e){this.searchByCharacters(e.serialNumber)}searchByCharacters(e){const t=e;t.length<2||(this.searchResult=[],this.dataservice.performSearch(this.orgId,t,1,500).subscribe(i=>{i&&(this.router.url.includes("cco-foundation")?(this.subService.setSubscriberInfo(void 0),this.subService.setSubscriberTabInfoData(void 0),this.subService.removeDataSaver(),this.router.navigate(["/cco-foundation/foundation-systems/foundation-manage/system-details"],{queryParams:{sn:t,subscriber:i.records[0].subscriberId}})):this.router.url.includes("/cco/operations")?(this.subService.setSubscriberInfo(void 0),this.subService.setSubscriberTabInfoData(void 0),this.subService.removeDataSaver(),localStorage.setItem("calix.Device_Details",JSON.stringify(null==i?void 0:i.records[0])),this.router.navigate(["/cco/system/cco-subscriber-system/system-details"],{queryParams:{sn:t,subscriber:i.records[0].subscriberId}})):(this.searchResult=i.records.filter(t=>(t.devices||[]).filter(t=>t.serialNumber==e).length),sessionStorage.setItem("calix.deviceData",JSON.stringify(this.searchResult[0].devices)),sessionStorage.setItem("calix.subscriberId",this.searchResult[0].subscriberId),this.subService.setSubscriberInfo(void 0),this.subService.setSubscriberTabInfoData(void 0),this.subService.removeDataSaver(),sessionStorage.setItem("calix.serialNo",t),this.router.navigate(["/support/router"])))},e=>{}))}unique(e){let t=[];for(var i=0;i<e.length;i++){let r=!1;for(var s=0;s<t.length;s++)if(e[i].name===t[s].name){r=!0;break}r||t.push(e[i])}return t}getDiscoveredDeviceCount(){this.json_payload=this.getParamsNew(this.RulesArray.length-1),this.json_payload.opMode&&"WAP"==this.json_payload.opMode&&(this.json_payload.opMode={$in:["WAP","WAP-IGMP"]}),this.json_payload&&(this.allDeviceGrpSubscribe=this.service.getDiscoveredCount(this.json_payload).subscribe(e=>{this.DiscoveredDeviceCount=e.count,this.Disc_count=!0,this.isRerender?this.rerender(2):(this.DeviceDiscovered(),this.isRerender=!0)},e=>{this.pageErrorHandle(e)}))}DeviceDiscovered(){if(this.static)return;let e=`${l.N.SUPPORT_URL}/netops-device/device`;const t=this;this.dtOptionsdis={pagingType:"full_numbers",pageLength:20,responsive:!0,serverSide:!0,processing:!1,searching:!1,lengthChange:!1,dom:"tipr",columnDefs:[{targets:[1,2,3,4,5,6,7],orderable:!1},{targets:[0],orderable:!0}],ajax:(i,s)=>{var r=document.getElementById("my-btn");r&&r.children[0]&&r.children[0].classList.add("spin-animation"),t.json_payload.opMode&&"WAP"==t.json_payload.opMode&&(t.json_payload.opMode={$in:["WAP","WAP-IGMP"]}),t.sortBy=i.order[0].column,t.sortType=i.order[0].dir,t.http.put(e+"?skip="+i.start+"&limit="+i.length,{$matcher:this.json_payload}).subscribe(e=>{this.DiscoveredTableData=0==e.length?[]:this.sortDataDiscoveredDynamic(e,t.sortBy,t.sortType),t.loading=!1;var i=document.getElementById("my-btn");i&&i.children[0]&&i.children[0].classList.remove("spin-animation"),s({recordsTotal:t.DiscoveredDeviceCount,recordsFiltered:t.DiscoveredDeviceCount,data:[]})},e=>{var t=document.getElementById("my-btn");t&&t.children[0]&&t.children[0].classList.remove("spin-animation"),this.pageErrorHandle(e)})},drawCallback:e=>{this.changeTableStatusLanguageDeviceGrpInfo(e),e._iRecordsDisplay<=e._iDisplayLength&&u(e.nTableWrapper).find("#users-table_last").addClass("disabled")},columns:[{data:"serialNumber"},{data:"manufacturer"},{data:"opMode"},{data:"modelName"},{data:"softwareVersion"},{data:"registrationId"},{data:"ipAddress"},{data:"macAddress"}]}}sortDataDiscoveredDynamic(e,t,i){let s=[];return 0==t&&(s=this.sortByColumn(e,i,"serialNumber")),s}StaticTblRefreshDisc(){this.DevicediscoveredCount()}StaticTblRefreshUndisc(){this.DeviceUndiscoveredCount()}DeviceUndiscoveredCount(){this.static_undisc=!1,this.startSpin("static-undiscovered"),this.allDeviceGrpSubscribe=this.service.GetUnDiscoveredDevices_static_count(this.devicegrpid_static,this.orgId).subscribe(e=>{this.UnDiscoveredStaticDeviceCount=e.count,this.UnDisc_count_static=!0,this.static_undisc=!0,this.isRerender_undisc_static||(this.DeviceUnDiscoveredStatic(),this.rerender(),this.isRerender_undisc_static=!0)},e=>{this.pageErrorHandle(e)})}DeviceUnDiscoveredStatic(){this.dtOptionsstaticUndis={pagingType:"full_numbers",pageLength:10,responsive:!0,serverSide:!0,processing:!1,searching:!1,lengthChange:!1,dom:"tipr",ordering:!0,columnDefs:[{targets:"_all",orderable:!0}],ajax:(e,t)=>{this.devicegrpid_static||(this.loading=!1,this.endSpin("static-undiscovered"));let i=`${l.N.SUPPORT_URL}/netops-device/static-group-member/undiscovered/`;const s=this;s.sortBy=e.order[0].column,s.sortType=e.order[0].dir,s.http.get(`${i}${this.devicegrpid_static}?${this.ssoService.getOrg(this.orgId)}skip=${e.start}&limit=${e.length}&bUndiscovered=true`).subscribe(e=>{s.UnDiscoveredTableData_static=e,this.UnDiscoveredTableData_static=this.sortDataDiscoveredStatic(this.UnDiscoveredTableData_static,s.sortBy,s.sortType,"undiscovered"),s.loading=!1,this.endSpin("static-undiscovered"),this.tableLanguageOptions(),t({recordsTotal:s.UnDiscoveredStaticDeviceCount,recordsFiltered:s.UnDiscoveredStaticDeviceCount,data:[]})})},drawCallback:e=>{this.changeTableStatusLanguageUnDisc(e),e._iRecordsDisplay<=e._iDisplayLength&&u(e.nTableWrapper).find("#users-table_last").addClass("disabled")},columns:[{data:"memberInfo"}]}}tableLanguageOptions(){this.language&&this.language.fileLanguage&&"fr"==this.language.fileLanguage&&(this.dtOptions.language=this.frTable),this.language&&this.language.fileLanguage&&"es"==this.language.fileLanguage?this.dtOptions.language=this.esTable:this.language&&this.language.fileLanguage&&"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}DevicediscoveredCount(){this.static_disc=!1,this.startSpin("static-discovered"),this.allDeviceGrpSubscribe=this.service.GetDiscoveredDevices_static_count(this.devicegrpid_static,this.orgId).subscribe(e=>{this.DiscoveredStaticDeviceCount=e.count,this.static=!0,this.static_disc=!0,this.Disc_count_static=!0,this.isRerender_disc_static?this.DeviceDiscoveredStatic():(this.DeviceDiscoveredStatic(),this.rerender(),this.isRerender_disc_static=!0)},e=>{this.pageErrorHandle(e)})}DeviceDiscoveredStatic(){const e=this;this.dtOptionsstaticdis={pagingType:"full_numbers",pageLength:10,responsive:!0,serverSide:!0,processing:!1,searching:!1,lengthChange:!1,dom:"tipr",columnDefs:[{targets:[1,2,3,4,5,6,7],orderable:!1},{targets:[0],orderable:!0}],ajax:(t,i)=>{this.devicegrpid_static||this.endSpin("static-discovered");let s=`${l.N.SUPPORT_URL}/netops-device/static-group-member/discovered/`;e.sortBy=t.order[0].column,e.sortType=t.order[0].dir,e.http.get(`${s}${this.devicegrpid_static}?${this.ssoService.getOrg(this.orgId)}skip=${t.start}&limit=${t.length}&bWithDeviceRecord=true`).subscribe(t=>{e.DiscoveredTableData_static=[];let s=[];for(var r=0;r<t.length;r++)t[r].deviceRecord&&s.push({serialNumber:t[r].deviceRecord.serialNumber,manufacturer:t[r].deviceRecord.manufacturer,opMode:t[r].deviceRecord.opMode,modelName:t[r].deviceRecord.modelName,softwareVersion:t[r].deviceRecord.softwareVersion,registrationId:t[r].deviceRecord.registrationId,ipAddress:t[r].deviceRecord.ipAddress,macAddress:t[r].deviceRecord.macAddress});this.DiscoveredTableData_static=s,e.DiscoveredTableData_static.length||(e.DiscoveredStaticDeviceCount=0),this.DiscoveredTableData_static=this.sortDataDiscoveredStatic(this.DiscoveredTableData_static,e.sortBy,e.sortType,"discovered"),e.loading=!1,this.endSpin("static-discovered"),i({recordsTotal:e.DiscoveredStaticDeviceCount,recordsFiltered:e.DiscoveredStaticDeviceCount,data:[]})},e=>{var t=document.getElementById("my-btn");t&&t.children[0]&&t.children[0].classList.remove("spin-animation"),this.pageErrorHandle(e)})},drawCallback:e=>{this.changeTableStatusLanguageStaticDisc(e),e._iRecordsDisplay<=e._iDisplayLength&&u(e.nTableWrapper).find("#users-table_last").addClass("disabled")},columns:[{data:"serialNumber"},{data:"manufacturer"},{data:"opMode"},{data:"modelName"},{data:"softwareVersion"},{data:"registrationId"},{data:"ipAddress"},{data:"macAddress"}]}}sortDataDiscoveredStatic(e,t,i,s){let r=[];return 0==t&&"discovered"==s&&(r=this.sortByColumn(e,i,"serialNumber")),0==t&&"undiscovered"==s&&(r=this.sortByColumn(e,i,"memberInfo")),r}displayEditGroup(e){this.deviceGroupId=e,this.isAddGroupForm=!1,this.isAddTable=!0,this.ishidebtn=!1,this.Is_Update=!0,this.editdevicegrpid=e,this.loading=!0,this.RulesArray=[],this.EditDeviceGrpSubscribe=this.service.getEditDeviceGoupList(e).subscribe(t=>{if(t){if(this.createDeviceGroup.controls.name.setValue(t.name),this.createDeviceGroup.controls.type.setValue(t.type),this.createDeviceGroup.controls.description.setValue(t.description),this.devicegrpid_static=e,"static"==t.type)this.IsStatic=!0,this.IsStatic_enable=!0,this.is_staticenable=!0,this.createDeviceGroup.controls.allowInheritance.setValue(t.allowInheritance),this.DevicediscoveredCount(),this.DeviceUndiscoveredCount(),this.loading=!1;else{this.cpeFilter=t.cpeFilter;let e=this.getRules();this.dtTrigger.next(),this.isFilledRow=!0,this.IsStatic=!1,this.IsStatic_enable=!1,this.static=!1,this.is_staticenable=!0,this.createDeviceGroup.controls.allowInheritance.setValue(!1),this.edit_key=Object.keys(t.cpeFilter);let s=[];for(var i=0;i<e.length;i++)s.push({rule1:e[i].key,rule2:e[i].oper?e[i].oper:"Equals",rule3:e[i].value,rule1items:this.rule1items,disabled:!0,multiple:"object"==typeof e[i].value,rule3items:0==i&&"manufacturer"===e[i].key?this.rule3items:[],rule2items:this.rule2items});const o=[];if(s.forEach((e,t,i)=>{let r=this.getParams(t,s);const n=this.service.GetDeviceType(JSON.stringify(r)).pipe((0,d.K)(e=>(0,a.of)(e.status)));o.push(n)}),o.length){this.loading=!0;let e=[];(0,r.D)(o).subscribe(t=>{t.forEach((t,i)=>{if("object"==typeof t){let e=[],a=[],o=[],n=[],l=[],u=[],c=[],d=[],h=[];this.DeviceTypeArr=t;let g=[{id:"WAP",name:"WAP"},{id:"RG",name:"RG"}];for(var r=0;r<this.DeviceTypeArr.length;r++)e.push({id:this.DeviceTypeArr[r].manufacturer,name:this.DeviceTypeArr[r].manufacturer}),a.push({id:this.DeviceTypeArr[r].modelName,name:this.DeviceTypeArr[r].modelName}),o.push({id:this.DeviceTypeArr[r].softwareVersion,name:this.DeviceTypeArr[r].softwareVersion}),n.push({id:this.DeviceTypeArr[r].hardwareVersion,name:this.DeviceTypeArr[r].hardwareVersion}),l.push({id:this.DeviceTypeArr[r].serialNumber,name:this.DeviceTypeArr[r].serialNumber}),u.push({id:this.DeviceTypeArr[r].ipAddress,name:this.DeviceTypeArr[r].ipAddress}),c.push({id:this.DeviceTypeArr[r].registrationId,name:this.DeviceTypeArr[r].registrationId}),d.push({id:this.DeviceTypeArr[r].wanAccessType,name:this.DeviceTypeArr[r].wanAccessType}),h=g;if(e=this.unique(e),a=this.unique(a),o=this.unique(o),n=this.unique(n),l=this.unique(l),u=this.unique(u),c=this.unique(c),d=this.unique(d),h=this.unique(h),this.rule3items={manufacturer:e,modelName:a,softwareVersion:o,hardwareVersion:n,serialNumber:l,normalizedIpAddress:u,registrationId:c,wanAccessType:this.defaultWanAccessTypes,opMode:h},this.RulesArray&&this.RulesArray.length){let e=this.findObject(this.RulesArray,"rule1","modelName");if(e){let t="",r=!1;("object"==typeof e&&"object"==typeof e.rule3?e.rule3:[e.rule3]).forEach(e=>{r=r||/844GE(-\d)?/i.test(e)||/^[MGS4227/GS4227].*/.test(e),t=e}),r&&(this.GetwanAccessTypes(t),setTimeout(()=>{this.rule3items.wanAccessType=[],this.rule3items.wanAccessType=this.wanAccessTypes,s[i+1]&&(s[i+1].rule3items.wanAccessType=this.rule3items.wanAccessType)},1e3))}}s[i+1]&&(s[i+1].rule3items=this.rule3items)}else e.push(t)}),this.getDiscoveredDeviceCount()},e=>{})}this.RulesArray=s}setTimeout(()=>{this.loading=!1},3e3)}},e=>{this.loading=!1,this.pageErrorHandle(e)},()=>{this.loading=!1})}EditDropdownDisabled(e){return 1==this.RulesArray[e].disabled}displayAddGroup(){var e;-1===(null===(e=window.location.href)||void 0===e?void 0:e.indexOf("/cco/operations/configuration/system-groups"))?this.ssoService.redirectByUrl(["/support/netops-management/devices-groups-add","cco/device-groups-add","cco-foundation/foundation-configuration/device-groups-add","/cco/operations/device-groups-add"]):this.router.navigate(["./cco/operations/configuration/system-groups/add"])}gotoEdit(e){var t;-1===(null===(t=window.location.href)||void 0===t?void 0:t.indexOf("/cco/operations/configuration/system-groups"))?this.ssoService.redirectByUrl([`/support/netops-management/devices-groups/${e}`,`cco/device-groups/${e}`,`cco-foundation/foundation-configuration/device-groups/${e}`]):this.router.navigate([`/cco/operations/configuration/system-groups/${e}`])}cancelAddGroup(){this.isAddGroupForm=!0,this.isAddTable=!1,this.ishidebtn=!0,this.isNameError=!1,this.isFilledRow=!0,this._location.back()}FilledAll(e){this.isFilledRow=!!e}initFilledAll(e){this.isFilledRow="manufacturer"==this.RulesArray[e].rule1||"modelName"==this.RulesArray[e].rule1||"softwareVersion"==this.RulesArray[e].rule1||"hardwareVersion"==this.RulesArray[e].rule1||"opMode"==this.RulesArray[e].rule1}nameCheck(e){this.isNameError=!e}submitAddGroup(){if(this.Rule_err=!1,this.orgId=this.ssoService.getOrgId(),this.submitted=!0,this.isNameError=!this.createDeviceGroup.value.name,!this.createDeviceGroup.invalid&&(this.Get_payload(),!this.Rule_err)){if("static"!=this.createDeviceGroup.value.type){if(!this.RulesArray.length)return this.Rule_err=!0,this.RuleAtleastOne=!0,void(this.ErrorMessage="Error! All Rules must be complete and a minimum of one is required.");if(1==this.RulesArray.length&&!this.RulesArray[0].rule1)return this.Rule_err=!0,this.RuleAtleastOne=!0,void(this.ErrorMessage="Error! All Rules must be complete and a minimum of one is required.");this.RulesArray.length>0&&this.RulesArray[0].rule1?this.RulesArray[0].rule1&&this.RulesArray[0].rule2&&this.RulesArray[0].rule3?this.RulesArray[0].rule1&&this.RulesArray[0].rule2&&this.RulesArray[0].rule3&&(this.Rule_err=!1,this.RuleAtleastOne=!1,this.ErrorMessage=""):0==this.RulesArray.length&&(this.RuleAtleastOne=!0):"registrationId"==this.RulesArray[0].rule1&&this.RulesArray[0].rule2&&!this.RulesArray[0].rule3||(this.Rule_err=!0,this.RuleAtleastOne=!0,this.ErrorMessage="Error! All Rules must be complete and a minimum of one is required."),(1===this.RulesArray.length&&!this.RulesArray[0].rule1||!this.RulesArray[0].rule2||!this.RulesArray[0].rule3)&&("registrationId"==this.RulesArray[0].rule1&&this.RulesArray[0].rule2&&!this.RulesArray[0].rule3||(this.Rule_err=!0,this.RuleAtleastOne=!0,this.ErrorMessage="Error! All Rules must be complete and a minimum of one is required."))}delete this.json_payload_submit.orgId,this.createDeviceGroup.value.cpeFilter=this.json_payload_submit,this.createDeviceGroup.value.name=this.createDeviceGroup.value.name.trim(),0==this.Rule_err&&(this.loading=!0,1==this.Is_Update?("static"!=this.createDeviceGroup.value.type&&delete this.createDeviceGroup.value.allowInheritance,this.UpdateDeviceGrpSubscribe=this.service.UpdateDeviceGroup(this.orgId,this.editdevicegrpid,this.createDeviceGroup.value).subscribe(e=>{this.showSuccess=!0,this.successMsg="Successfully Updated",setTimeout(function(){this.showSuccess=!1,this.successMsg=""},500),this.RulesArray=[],this.isError=!1,this.isAddGroupForm=!0,this.isAddTable=!1,this.ishidebtn=!0,this.isFilledRow=!0,this.loading=!1,this.goBack()},e=>{this.loading=!1,this.isFilledRow=!0,this.pageErrorHandle(e)},()=>{this.isFilledRow=!0,this.loading=!1,this.goBack()})):("static"==this.createDeviceGroup.value.type&&(this.static=!1,this.Disc_count_static=!1,this.UnDisc_count_static=!1),this.AddDeviceGrpSubscribe=this.service.addDeviceGroup(this.orgId,this.createDeviceGroup.value).subscribe(e=>{e&&(this.isError=!1,this.showSuccess=!0,this.successMsg="Successfully Added",this.RulesArray=[],this.isAddGroupForm=!0,this.isAddTable=!1,this.ishidebtn=!0,this.isFilledRow=!0,this.loading=!1,this.goBack())},e=>{this.isFilledRow=!0,this.loading=!1,this.pageErrorHandle(e)},()=>{this.isFilledRow=!0,this.loading=!1,this.goBack()})))}}onClickPlusSymbol(e){if(0==this.RulesArray.length&&(this.Rule_err=!1),this.RulesArray.length){let t=this.RulesArray[e-1];if(!("registrationId"===t.rule1||t.rule1&&t.rule2&&t.rule3))return}const t=[{id:"",name:""},{id:"manufacturer",name:"Manufacturer"},{id:"modelName",name:"Model"},{id:"softwareVersion",name:"SW Version"},{id:"hardwareVersion",name:"HW Version"},{id:"serialNumber",name:"FSAN/Serial Number"},{id:"normalizedIpAddress",name:"WAN IP"},{id:"registrationId",name:"Registration ID"},{id:"wanAccessType",name:"WAN Access Type"},{id:"opMode",name:"Mode"}];if(this.rule_temp=[],0==this.Rule_err||1==this.RuleAtleastOne){let e=t;this.RulesArray.length&&this.RulesArray.forEach(i=>{"manufacturer"==i.rule1&&(e=t.filter(e=>e.id!=i.rule1)),"modelName"==i.rule1&&(e=e.filter(e=>e.id!=i.rule1)),"softwareVersion"==i.rule1&&(e=e.filter(e=>e.id!=i.rule1)),"hardwareVersion"==i.rule1&&(e=e.filter(e=>e.id!=i.rule1)),"serialNumber"==i.rule1&&(e=e.filter(e=>e.id!=i.rule1)),"normalizedIpAddress"==i.rule1&&(e=e.filter(e=>e.id!=i.rule1)),"registrationId"==i.rule1&&(e=e.filter(e=>e.id!=i.rule1)),"wanAccessType"==i.rule1&&(e=e.filter(e=>e.id!=i.rule1)),"opMode"==i.rule1&&(e=e.filter(e=>e.id!=i.rule1))}),this.RulesArray.push({rule1:"",rule2:"",rule3:"",rule1items:e,rule3items:this.rule3items}),this.RulesArray=[...this.RulesArray]}}callSortedArray(e){var t;t=["manufacturer","modelName","softwareVersion","hardwareVersion","serialNumber","normalizedIpAddress","registrationId","wanAccessType","opMode"],e.sort(function(e,i){t.indexOf(e.id),t.indexOf(i.id)});let i=JSON.stringify(e);return JSON.parse(i)}OnclickDeleteSymbol(e){this.Rule_err=!1;let t={manufacturer:["opMode","wanAccessType","hardwareVersion","softwareVersion","modelName"],modelName:["wanAccessType","hardwareVersion","softwareVersion"],softwareVersion:[],hardwareVersion:[],wanAccessType:[],opMode:[],normalizedIpAddress:[],registrationId:[]};var i=this.findObjectByKey(this.RulesArray[e].rule1);if(null==i)return this.RulesArray.splice(e,1),this.RulesArray=this.RulesArray,void(this.RulesArray.length||(this.Rule_err=!0,this.RuleAtleastOne=!0,this.ErrorMessage="Error! All Rules must be complete and a minimum of one is required."));let s=i.id,r=["serialNumber","softwareVersion","normalizedIpAddress","registrationId","wanAccessType","opMode"],a=this.getSelectedRules().rule1;if(t[s]&&t[s].length){for(let e=0;e<t[s].length;e++)if(-1!==a.indexOf(t[s][e])){this.Rule_err=!0;let i=this.findObjectByKey(a[a.indexOf(t[s][e])]);return void(this.ErrorMessage="en"==this.language.fileLanguage?`Error! cascade elements ${i.name} already existed!`:`Erreur! les \xe9l\xe9ments de la cascade ${i.name} existaient d\xe9j\xe0!`)}if(this.RulesArray.splice(e,1),this.RulesArray=this.RulesArray,!this.RulesArray.length)return this.Rule_err=!0,this.ErrorMessage="Error! All Rules must be complete and a minimum of one is required.",void this.GetDevice_Type(-1);if(-1!==r.indexOf(s))return void this.getDiscoveredDeviceCount();for(let t=e-1;t>=0;t--)if(-1===r.indexOf(this.RulesArray[t].rule1)){this.GetDevice_Type(t);break}this.getDiscoveredDeviceCount()}else-1!==r.indexOf(s)?(this.RulesArray.splice(e,1),this.RulesArray=this.RulesArray,this.getDiscoveredDeviceCount()):(this.RulesArray.splice(e,1),this.RulesArray=this.RulesArray,this.GetDevice_Type(e-1)),this.RulesArray.length||(this.Rule_err=!0,this.RuleAtleastOne=!0,this.ErrorMessage="Error! All Rules must be complete and a minimum of one is required.",this.RulesArray.splice(e,1),this.FilledAll(""))}findObjectByKey(e){const t=[{id:"",name:""},{id:"manufacturer",name:"Manufacturer"},{id:"modelName",name:"Model"},{id:"softwareVersion",name:"SW Version"},{id:"hardwareVersion",name:"HW Version"},{id:"serialNumber",name:"FSAN/Serial Number"},{id:"normalizedIpAddress",name:"WAN IP"},{id:"registrationId",name:"Registration ID"},{id:"wanAccessType",name:"WAN Access Type"},{id:"opMode",name:"Mode"}];for(var i=0;i<t.length;i++)if(t[i].id==e)return t[i]}refresh(){var e=document.getElementById("my-btn");e.children[0].classList.add("spin-animation"),setTimeout(function(){e.children[0].classList.remove("spin-animation")},500)}rerender(e){this.dtElements.forEach(e=>{e.dtInstance.then(e=>{e.draw(),document.getElementById("my-btn")})})}pageErrorHandle(e){if(this.loading=!1,401==e.status&&(this.warningMessage="Access Denied"),504===e.status)this.warningMessage="Gateway Timeout";else{let t=this.ssoService.pageErrorHandle(e),i=this.ssoService.getspecificlangliterals();if(null==t?void 0:t.includes("that conflicts with another group")){let s=document.querySelector("#deviceName"),r=i[null==t?void 0:t.replace(s.value,"$$$$$")],a=null==r?void 0:r.replace("$$$",s.value);this.warningMessage=a||this.ssoService.pageErrorHandle(e)}else this.warningMessage=this.ssoService.pageErrorHandle(e)}this.isError=!0,u("body").scrollTop(0)}ngOnDestroy(){var e;null===(e=this.languageSubject)||void 0===e||e.unsubscribe(),this.dtTrigger&&this.dtTrigger.unsubscribe(),this.EditDeviceGrpSubscribe&&this.EditDeviceGrpSubscribe.unsubscribe(),this.UpdateDeviceGrpSubscribe&&this.UpdateDeviceGrpSubscribe.unsubscribe(),this.DiscoveredStaticSubscribe&&this.DiscoveredStaticSubscribe.unsubscribe(),this.allDeviceGrpSubscribe&&this.allDeviceGrpSubscribe.unsubscribe(),this.AddDeviceGrpSubscribe&&this.AddDeviceGrpSubscribe.unsubscribe(),this.UnDiscoveredStaticSubscribe&&this.UnDiscoveredStaticSubscribe.unsubscribe(),this.DeleteDeviceGrpSubscribe&&this.DeleteDeviceGrpSubscribe.unsubscribe()}getParams(e,t){let i={orgId:this.orgId};if(-1==e)return i;let s=["serialNumber","normalizedIpAddress","registrationId","wanAccessType","opMode","softwareVersion","hardwareVersion"];for(let a=0;a<=e;a++){let r=t[a];if(-1===s.indexOf(r.rule1)){if("normalizedIpAddress"==t[a].rule1){let e=t[a].rule3;if(!this.checkSubnet(e))return void(this.Rule_err=!0);let s=this.toIpRange(e);s.length>1?(s=s.map(e=>({normalizedIpAddress:e})),i.$or=s):i[r.rule1]=s[0]}else if("$ne"==r.rule2)i[r.rule1]={$ne:r.rule3};else if("$in"==r.rule2)r.rule3.forEach(e=>{if(!e)return this.ErrorMessage="en"==this.language.fileLanguage?`Rule ${a+1} is not valid.`:`La r\xe8gle ${a+1} n'est pas valide.`,void(this.Rule_err=!0)}),i[r.rule1]={$in:r.rule3};else if("$regex"==r.rule2){let e=r.rule3?r.rule3:"";e=e.replace(/\*/g,".*?"),e="^"+e+"$",i[r.rule1]={$regex:e}}else i[r.rule1]=r.rule3;if(e==a)break}}for(var r in i)(null==i[r]||""===i[r])&&delete i[r];return i}getParamsNew(e,t){let i={orgId:this.orgId};if(-1==e)return i;let s=["serialNumber","normalizedIpAddress","registrationId","wanAccessType","opMode","softwareVersion","hardwareVersion"];for(let a=0;a<=e;a++){let r=this.RulesArray[a];if(!t||-1===s.indexOf(r.rule1)){if("normalizedIpAddress"==this.RulesArray[a].rule1){let e=this.RulesArray[a].rule3;if(!this.checkSubnet(e))return this.Rule_err=!0,void(this.ErrorMessage="Error! Rule WANIP contains invalid characters, only IPv4 or IPv6 CIDR address allowed(e.g 192.168.1.0/24,2001:db8:1234::/48)");this.Rule_err=!1;let t=this.toIpRange(e);t.length>1?(t=t.map(e=>({normalizedIpAddress:e})),i.$or=t):i[r.rule1]=t[0]}else if("$ne"==r.rule2)i[r.rule1]={$ne:r.rule3};else if("$in"==r.rule2)r.rule3.forEach(e=>{if(!e)return this.ErrorMessage=`Rule ${a+1} is not valid.`,void(this.Rule_err=!0)}),i[r.rule1]={$in:r.rule3};else if("$regex"==r.rule2){let e=r.rule3?r.rule3:"";e=e.replace(/\*/g,".*?"),e="^"+e+"$",i[r.rule1]={$regex:e}}else i[r.rule1]=r.rule3;if(e==a)break}}for(var r in i)(null==i[r]||""===i[r])&&delete i[r];return i}checkSubnet(e){if(e){var t=!0;return e.split(",").forEach(e=>{t=t&&(c.v4(e)||c.v6(e))}),t}return!1}toIpRange(e){var t,i,s,r,a=e.split(","),o=[];return a.length&&a.forEach(e=>{t=e.split("/")[0],i=e.split("/")[1],this.isIpv4CIDR(e)?(s=this.IpSubnetCalculator.calculateSubnetMask(t,i),r={$gte:this.paddingIp(s.ipLowStr),$lte:this.paddingIp(s.ipHighStr)}):(s=this.IPv6AddressService.range(t,i),r={$gte:s.ipLowStr,$lte:s.ipHighStr}),o.push(r)}),o}supportWanAccessType(){let e=this.findObject(this.RulesArray,"rule1","modelName"),t="object"==typeof e.rule3?e.rule3:[e.rule3];var i=e.rule2?e.rule2:null;let s="";if(e.rule3&&i){if("Equals"===i){var r=!1;return t.forEach(e=>{r=r||/844GE(-\d)?/i.test(e)||/^[MGS4227/GS4227].*/.test(e),s=e}),r}return"$in"===i&&(r=!0,t.forEach(e=>{r=r&&/844GE(-\d)?/i.test(e)||/^[MGS4227/GS4227].*/.test(e)}),r)}}findObject(e,t,i){for(var s=0;s<e.length;s++)if(e[s][t]===i)return e[s];return null}getRules(){var e,t,i,s,r,a=[],o=0,n="";let l=[];if(this.cpeFilter)for(const u in this.cpeFilter){if(n="",t=r=this.cpeFilter[u],"normalizedIpAddress"===(e=this.findObject(this.rule1items,"id","$or"===u?Object.keys(r[0])[0]:u)).id)n="$subnets",t=this.fromIpRange(t);else{if("object"==typeof r)for(n in r)r.hasOwnProperty(n)&&"$options"!==n&&(t=r[n]);"$regex"===n&&("^"===t.slice(0,1)&&"$"===t.slice(-1)&&(t=t.substring(1,t.length-1)),t=this.replaceAll(t,".*?","*"))}i=this.operatorsMapping[n]||"Equals",s=t.toString(),a.push({index:o,key:e.id,keydesc:e.label,oper:n,operdesc:i,value:t,valuedesc:s}),l.push({index:o,key:e.id,oper:n,value:t}),o++}return a}bin2HexOfSection(e){return parseInt(e,2).toString(16)}hex2BinOfSection(e){return parseInt(e,16).toString(2)}getSubnet(e){var t,i,s=e.$gte,r=e.$lte;return this.IPv6AddressService.isIpv6Address(s)?t=(i=this.IPv6AddressService.cidr(s,r)).ipLowStr+"/"+i.prefixSize:(s=this.unpaddingIp(s),r=this.unpaddingIp(r),t=(i=this.IpSubnetCalculator.calculate(s,r))[0].ipLowStr+"/"+i[0].prefixSize),t}fromIpRange(e){return"object"==typeof e&&Array.isArray(e)?e.map(e=>this.getSubnet(e.normalizedIpAddress)).join():this.getSubnet(e)}padSection(e,t){var i="0".repeat(t);return e.length<i.length&&(e=i.substring(0,i.length-e.length)+e),e}unpaddingIp(e){return e.split(".").map(Number).join(".")}paddingIp(e){return e.split(".").map(function(e){return 1===e.length?e="00"+e:2===e.length&&(e="0"+e),e}).join(".")}replaceAll(e,t,i){return e.replace(new RegExp(this.escapeRegExp(t),"g"),i)}escapeRegExp(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}getDeviceType(e){let t={orgId:this.orgId};t=t||{orgId:this.ssoService.getOrgId()},this.allDeviceGrpSubscribe=this.service.GetDeviceType(JSON.stringify(t)).subscribe(e=>{let t=[],i=[],s=[],r=[],a=[],o=[],n=[],l=[],u=[];this.DeviceTypeArr=e;let c=[{id:"WAP",name:"WAP"},{id:"RG",name:"RG"}];for(var d=0;d<this.DeviceTypeArr.length;d++)t.push({id:this.DeviceTypeArr[d].manufacturer,name:this.DeviceTypeArr[d].manufacturer}),i.push({id:this.DeviceTypeArr[d].modelName,name:this.DeviceTypeArr[d].modelName}),s.push({id:this.DeviceTypeArr[d].softwareVersion,name:this.DeviceTypeArr[d].softwareVersion}),r.push({id:this.DeviceTypeArr[d].hardwareVersion,name:this.DeviceTypeArr[d].hardwareVersion}),a.push({id:this.DeviceTypeArr[d].serialNumber,name:this.DeviceTypeArr[d].serialNumber}),o.push({id:this.DeviceTypeArr[d].ipAddress,name:this.DeviceTypeArr[d].ipAddress}),n.push({id:this.DeviceTypeArr[d].registrationId,name:this.DeviceTypeArr[d].registrationId}),l.push({id:this.DeviceTypeArr[d].wanAccessType,name:this.DeviceTypeArr[d].wanAccessType}),u=c;t=this.unique(t),i=this.unique(i),s=this.unique(s),r=this.unique(r),a=this.unique(a),o=this.unique(o),n=this.unique(n),l=this.unique(l),u=this.unique(u),this.rule3items={manufacturer:t,modelName:i,softwareVersion:s,hardwareVersion:r,serialNumber:a,normalizedIpAddress:o,registrationId:n,wanAccessType:this.defaultWanAccessTypes,opMode:u},this.displayEditGroup(this.deviceGroupId)},e=>{this.pageErrorHandle(e)})}startSpin(e){var t=document.getElementById(e);t&&t.children[0]&&(t.children[0].classList.add("spin-animation"),setTimeout(function(){t.children[0].classList.remove("spin-animation")},500))}endSpin(e){var t=document.getElementById(e);t&&t.children[0]&&setTimeout(function(){t.children[0].classList.remove("spin-animation")},1e3)}changeTableStatusLanguageUnDisc(e){const t=new Intl.NumberFormat;this.tableCountsUnDic={searchText:e.oPreviousSearch.sSearch.replace(/\s+/g,""),total:e._iRecordsTotal,displayCount:e._iDisplayLength,displayed:e._iRecordsDisplay,start:e._iDisplayStart};const i="fr"==sessionStorage.getItem("defaultLanguage"),s="es"==sessionStorage.getItem("defaultLanguage"),r="de_DE"==sessionStorage.getItem("defaultLanguage"),a=e.oPreviousSearch.sSearch.replace(/\s+/g,"")?i?`(filtr\xe9es \xe0 partir des ${t.format(e._iRecordsTotal)} entr\xe9es totales)`:s?`(filtrado de un total de ${t.format(e._iRecordsTotal)} entradas)`:r?`(gefiltert aus ${t.format(e._iRecordsTotal)} Eintr\xe4gen)`:`(filtered from ${t.format(e._iRecordsTotal)} total entries)`:"",o=0==e._iRecordsDisplay?-1:e._iDisplayStart,n=e._iDisplayStart+e._iDisplayLength>e._iRecordsDisplay?e._iRecordsDisplay:e._iDisplayStart+e._iDisplayLength;u('#devicegrp-info-tbl-static-undisc_wrapper [role="status"]').text(i?`Affichage de ${t.format(o+1)} \xe0 ${t.format(n)} des ${t.format(e._iRecordsDisplay)} entr\xe9es ${a}`:s?`Se muestran del ${t.format(o+1)} al ${t.format(n)} de ${t.format(e._iRecordsDisplay)} resultados ${a}`:r?`Angezeigt ${t.format(o+1)} bis ${t.format(n)} von ${t.format(e._iRecordsDisplay)} ergebnissen ${a}`:`Showing ${t.format(o+1)} to ${t.format(n)} of ${t.format(e._iRecordsDisplay)} entries ${a}`),u("#devicegrp-info-tbl-static-undisc_first").text(i?"Le d\xe9but":s?"Primero":r?"Erste Seite":"First"),u("#devicegrp-info-tbl-static-undisc_previous").text(i?"Le d\xe9but":s?"Primero":r?"Zur\xfcck":"Previous"),u("#devicegrp-info-tbl-static-undisc_next").text(i?"Le d\xe9but":s?"Primero":r?"Weiter":"Next"),u("#devicegrp-info-tbl-static-undisc_last").text(i?"Le d\xe9but":s?"Primero":r?"Letzte":"Last")}changeTableStatusLanguageStaticDisc(e){const t=new Intl.NumberFormat;this.tableStaticDisc={searchText:e.oPreviousSearch.sSearch.replace(/\s+/g,""),total:e._iRecordsTotal,displayCount:e._iDisplayLength,displayed:e._iRecordsDisplay,start:e._iDisplayStart};const i="fr"==sessionStorage.getItem("defaultLanguage"),s="es"==sessionStorage.getItem("defaultLanguage"),r="de_DE"==sessionStorage.getItem("defaultLanguage"),a=e.oPreviousSearch.sSearch.replace(/\s+/g,"")?i?`(filtr\xe9es \xe0 partir des ${t.format(e._iRecordsTotal)} entr\xe9es totales)`:s?`(filtrado de un total de ${t.format(e._iRecordsTotal)} entradas)`:r?`(gefiltert aus ${t.format(e._iRecordsTotal)} Eintr\xe4gen)`:`(filtered from ${t.format(e._iRecordsTotal)} total entries)`:"",o=0==e._iRecordsDisplay?-1:e._iDisplayStart,n=e._iDisplayStart+e._iDisplayLength>e._iRecordsDisplay?e._iRecordsDisplay:e._iDisplayStart+e._iDisplayLength;u("#devicegrp-info-tbl-static_wrapper").find("#devicegrp-info-tbl-static_info").text(i?`Affichage de ${t.format(o+1)} \xe0 ${t.format(n)} des ${t.format(e._iRecordsDisplay)} entr\xe9es ${a}`:s?`Se muestran del ${t.format(o+1)} al ${t.format(n)} de ${t.format(e._iRecordsDisplay)} resultados ${a}`:r?`Angezeigt ${t.format(o+1)} bis ${t.format(n)} von ${t.format(e._iRecordsDisplay)} ergebnissen ${a}`:`Showing ${t.format(o+1)} to ${t.format(n)} of ${t.format(e._iRecordsDisplay)} entries ${a}`),u("#devicegrp-info-tbl-static_first").text(i?"Le d\xe9but":s?"Primero":r?"Erste Seite":"First"),u("#devicegrp-info-tbl-static_previous").text(i?"Le d\xe9but":s?"Primero":r?"Zur\xfcck":"Previous"),u("#devicegrp-info-tbl-static_next").text(i?"Le d\xe9but":s?"Primero":r?"Weiter":"Next"),u("#devicegrp-info-tbl-static_last").text(i?"Le d\xe9but":s?"Primero":r?"Letzte":"Last")}changeTableStatusLanguageDeviceGrpInfo(e){const t=new Intl.NumberFormat;this.tableCountsDeviceGrpInfo={searchText:e.oPreviousSearch.sSearch.replace(/\s+/g,""),total:e._iRecordsTotal,displayCount:e._iDisplayLength,displayed:e._iRecordsDisplay,start:e._iDisplayStart};const i="fr"==sessionStorage.getItem("defaultLanguage"),s="es"==sessionStorage.getItem("defaultLanguage"),r="de_DE"==sessionStorage.getItem("defaultLanguage"),a=e.oPreviousSearch.sSearch.replace(/\s+/g,"")?i?`(filtr\xe9es \xe0 partir des ${t.format(e._iRecordsTotal)} entr\xe9es totales)`:s?`(filtrado de un total de ${t.format(e._iRecordsTotal)} entradas)`:r?`(gefiltert aus ${t.format(e._iRecordsTotal)} Eintr\xe4gen)`:`(filtered from ${t.format(e._iRecordsTotal)} total entries)`:"",o=0==e._iRecordsDisplay?-1:e._iDisplayStart,n=e._iDisplayStart+e._iDisplayLength>e._iRecordsDisplay?e._iRecordsDisplay:e._iDisplayStart+e._iDisplayLength;u('#devicegrp-info-tbl_wrapper div[role="status"]').text(i?`Affichage de ${t.format(o+1)} \xe0 ${t.format(n)} des ${t.format(e._iRecordsDisplay)} entr\xe9es ${a}`:s?`Se muestran del ${t.format(o+1)} al ${t.format(n)} de ${t.format(e._iRecordsDisplay)} resultados ${a}`:r?`Angezeigt ${t.format(o+1)} bis ${t.format(n)} von ${t.format(e._iRecordsDisplay)} ergebnissen ${a}`:`Showing ${t.format(o+1)} to ${t.format(n)} of ${t.format(e._iRecordsDisplay)} entries ${a}`),u("#devicegrp-info-tbl_first").text(i?"Le d\xe9but":s?"Primero":r?"Erste Seite":"First"),u("#devicegrp-info-tbl_previous").text(i?"Pr\xe9c\xe9dent":s?"Anterior":r?"Zur\xfcck":"Previous"),u("#devicegrp-info-tbl_next").text(i?"Suivant":s?"Siguiente":r?"Weiter":"Next"),u("#devicegrp-info-tbl_last").text(i?"Derni\xe8re":s?"\xdaltimo":r?"Letzte":"Last")}hideSuccess(){this.showSuccess=!1,this.successMsg=""}goBack(){this.router.url.includes("cco/operations/configuration/system-groups")||this.router.url.includes("cco/operations/device-groups")?this.router.navigate(["cco/operations/configuration/system-groups"]):this.router.url.includes("/cco-foundation/foundation-configuration/device-groups-add")||this.router.url.includes("cco-foundation/foundation-configuration/device-groups")?this.router.navigate(["cco-foundation/foundation-configuration/configuration-prerequisites/device-groups"]):this.router.navigate(["support/netops-management/operations/devices-groups"])}workFlowMenbers(e=this.deletedata._id,t=this.deletedata.name,i=!0){var s;this.loading=!0,sessionStorage.setItem("workflowid",e),sessionStorage.setItem("workflowName",t);const r={deletedata:this.deletedata,retainDelete:!0};-1===(null===(s=window.location.href)||void 0===s?void 0:s.indexOf("/cco/operations/configuration/system-groups"))?this.ssoService.redirectByUrl(["/support/netops-management/devices-groups-workflow","cco/device-groups-workflow","cco-foundation/foundation-configuration/device-groups-workflow","/cco/operations/device-groups-workflow"],{state:i?r:{}}):this.router.navigate(["./cco/operations/configuration/devices-group/workflow"])}getWorkflows(){var e,t;let i=!!(null===(t=null===(e=this.router)||void 0===e?void 0:e.url)||void 0===t?void 0:t.includes("support/netops-management/"));this.getAllWorkFlows=this.service.getWorkflowsById(this.orgId,this.systemGroupId,i).subscribe(e=>{e&&(this.workflowMemberData=e),this.loading=!1},e=>{this.pageErrorHandle(e),this.isError=!0,this.loading=!1})}cancelWorkFlowGroup(){let e=history.state;e.retainDelete&&(e.retainApproval=!0),this.router.url.includes("cco/operations/configuration/devices-group/workflow")||this.router.url.includes("cco/operations/device-groups")?this.router.navigate(["cco/operations/configuration/system-groups"]):this.ssoService.redirectByUrl(["/support/netops-management/operations/devices-groups","/cco/operations/configuration/system-groups","cco-foundation/foundation-configuration/configuration-prerequisites/device-groups","cco/operations/cco-subscriber-operations/operations/devices-groups"],{state:e})}getDevicesearchCount(){this.allDeviceGrpSubscribe=this.service.getDeviceGoupsearchCount(this.orgId,this.searchText).subscribe(e=>{this.DeviceCount=e.count},e=>{this.pageErrorHandle(e)})}searchGroupBy(){this.loading=!0,this.searchText?(this.searchurl=`${l.N.SUPPORT_URL}/netops-device/group?${this.ssoService.getOrg(this.orgId)}deviceId=${this.searchText}`,this.rerender(1)):(this.searchurl=`${l.N.SUPPORT_URL}/netops-device/group?${this.ssoService.getOrg(this.orgId)}`,this.rerender(1))}changeTableStatusLanguageDeviceGroup(e){const t=new Intl.NumberFormat;this.tableCountsDeviceGroup={searchText:e.oPreviousSearch.sSearch.replace(/\s+/g,""),total:e._iRecordsTotal,displayCount:e._iDisplayLength,displayed:e._iRecordsDisplay,start:e._iDisplayStart};const i="fr"==sessionStorage.getItem("defaultLanguage"),s="es"==sessionStorage.getItem("defaultLanguage"),r="de_DE"==sessionStorage.getItem("defaultLanguage"),a=e.oPreviousSearch.sSearch.replace(/\s+/g,"")?i?`(filtr\xe9es \xe0 partir des ${t.format(e._iRecordsTotal)} entr\xe9es totales)`:s?`(filtrado de un total de ${t.format(e._iRecordsTotal)} entradas)`:r?`(gefiltert aus ${t.format(e._iRecordsTotal)} Eintr\xe4gen)`:`(filtered from ${t.format(e._iRecordsTotal)} total entries)`:"",o=0==e._iRecordsDisplay?-1:e._iDisplayStart,n=e._iDisplayStart+e._iDisplayLength>e._iRecordsDisplay?e._iRecordsDisplay:e._iDisplayStart+e._iDisplayLength;u("#devicegrp-table_wrapper").find("#devicegrp-table_info").text(i?`Affichage de ${t.format(o+1)} \xe0 ${t.format(n)} des ${t.format(e._iRecordsDisplay)} entr\xe9es ${a}`:s?`Se muestran del ${t.format(o+1)} al ${t.format(n)} de ${t.format(e._iRecordsDisplay)} resultados ${a}`:r?`Angezeigt ${t.format(o+1)} bis ${t.format(n)} von ${t.format(e._iRecordsDisplay)} ergebnissen ${a}`:`Showing ${t.format(o+1)} to ${t.format(n)} of ${t.format(e._iRecordsDisplay)} entries ${a}`),u("#devicegrp-table_first").text(i?"Le d\xe9but":s?"Primero":r?"Erste Seite":"First"),u("#devicegrp-table_previous").text(i?"Pr\xe9c\xe9dent":s?"Anterior":r?"Zur\xfcck":"Previous"),u("#devicegrp-table_next").text(i?"Suivant":s?"Siguiente":r?"Weiter":"Next"),u("#devicegrp-table_last").text(i?"Derni\xe8re":s?"\xdaltimo":r?"Letzte":"Last")}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(g.s),h.Y36(p.t6),h.Y36(m.y),h.Y36(f.Q),h.Y36(f.Q),h.Y36(n.qu),h.Y36(v.FF),h.Y36(b.eN),h.Y36(h.sBO),h.Y36(A.F0),h.Y36(A.gz),h.Y36(y),h.Y36(w.i),h.Y36(_.Ye),h.Y36(T.Dx))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-devices-groups"]],viewQuery:function(e,t){if(1&e&&(h.Gf(o.G,5),h.Gf(x,7),h.Gf(o.G,5)),2&e){let e;h.iGM(e=h.CRH())&&(t.dtElement=e.first),h.iGM(e=h.CRH())&&(t.deleteModal=e.first),h.iGM(e=h.CRH())&&(t.dtElements=e)}},decls:2,vars:2,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["id","device-groups","class","tab-pane",4,"ngIf"],["role","alert",1,"alert","alert-warning"],["id","device-groups",1,"tab-pane"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],["class","w-100 alert alert alert-success  fade show",4,"ngIf"],["class","py-3 warning-msg",4,"ngIf"],[1,"d-block","my-3","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],[1,"position-relative",3,"hidden"],[1,"row"],["class","loader",4,"ngIf"],[1,"col-md-6","text-left","my-3"],[4,"ngIf"],["class","w-100",4,"ngIf"],["id","devicegrp-table","datatable","","class","device-group-table table row-border hover dataTable table-alter",3,"dtOptions",4,"ngIf"],[3,"hidden"],[3,"formGroup"],[1,"d-flex","align-items-center","border-bottom","border-w2","mb-4"],[1,"col-md-8","pl-0"],[1,"net-ops-title","pb-3"],[1,"col-md-4","pr-0","text-right"],["class","row",4,"ngIf"],["class","col-md-6 p-0",4,"ngIf"],[1,"col-md-12","p-0"],["class","form-group row",4,"ngIf"],["id","devicegrp-info-tbl-static","datatable","","class","row-border hover table-alter",3,"dtOptions",4,"ngIf"],["id","devicegrp-info-tbl-static-undisc","datatable","","class","row-border hover table-alter",3,"dtOptions",4,"ngIf"],["class","detail-view",4,"ngIf"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert","alert-success","fade","show"],[1,"success-img"],["src","./assets/img/success-icon.svg"],[1,"d-inline"],[1,"d-inline",3,"innerHtml"],["type","button","id","hide-successs-btn",1,"close",3,"click"],[1,"py-3","warning-msg"],[1,"d-flex","warning-msg-info"],["src","./assets/img/warning-icon.svg","width","100%"],[1,"span-inline-ww",3,"innerHtml"],[1,"text-right"],["id","deletePFBtn",1,"btn-default","primary","mr-2",3,"disabled","click"],[1,"btn-default","btn-dft",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["type","button","class","btn-default primary px-3","id","add-device-group-btn",3,"click",4,"ngIf"],["type","button","id","add-device-group-btn",1,"btn-default","primary","px-3",3,"click"],[1,"w-100"],[1,"d-inline-flex","col-5","ccl-form","search-box-device","float-right","px-0"],[1,"device-search-input",3,"ngModel","placeholder","ngModelChange","keyup.enter"],["id","deviceGroupSearchBtn",1,"btn-round","search-btn-round","primary",3,"click"],["src","../../../../../assets/img/ic_search_white.svg"],["id","devicegrp-table","datatable","",1,"device-group-table","table","row-border","hover","dataTable","table-alter",3,"dtOptions"],[1,"devices-groups-name"],[1,"devices-groups-description"],[1,"min-w-130"],[1,"min-w-160"],["class","devices-groups-edit-delete bgimage-none",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"devices-groups-edit-delete","bgimage-none"],[3,"id"],[1,"cursor-pointer",3,"click"],[1,"text-left"],["class","cursor-pointer text-decoration-none",3,"click",4,"ngIf"],["class","none-count text-decoration-none",4,"ngIf"],[1,"cursor-pointer","text-decoration-none",3,"click"],[1,"none-count","text-decoration-none"],[1,"del","ml-6",3,"title"],["href"," javascript:void(0)","class","cursor-pointer",3,"click",4,"ngIf"],["href"," javascript:void(0)",1,"cursor-pointer",3,"click"],["aria-hidden","true",1,"fa","fa-trash-o",3,"title"],["colspan","5",1,"no-data-available"],[1,"col","align-self-end"],["type","button","id","cancelbtn",1,"btn","btn-link","primary","mr-2","mb-2",3,"click"],["type","button","id","submitbtn","id","submit-device-group-btn",1,"btn-default","primary","mb-3",3,"click"],[1,"d-inline-flex"],[1,"col-md-6","p-0"],[1,"form-group","ccl-form","row",3,"ngClass"],["for","deviceName",1,"col-sm-12","col-form-label"],[1,"error"],[1,"col-sm-12",3,"ngClass"],["type","text","id","deviceName","formControlName","name","trimSpace","",1,"grey-input-color",3,"placeholder","formValue","keyup"],["class","errorMessage",4,"ngIf"],["class","form-group ccl-form row",4,"ngIf"],[1,"form-group","row"],[1,"col-sm-12","col-form-label"],[1,"col-md-12","form-check-cus"],[1,"form-check-inline",3,"ngClass"],["type","radio","formControlName","type","id","devTypeDynamic","value","dynamic",1,"form-check-input","mr-2",3,"ngClass","ngModel","ngModelChange","change"],["for","devTypeDynamic",3,"ngClass"],["type","radio","value","static","formControlName","type","id","devTypeStatic",1,"form-check-input","mr-2",3,"ngClass","ngModel","change","ngModelChange"],["for","devTypeStatic",3,"ngClass"],["class","form-group row",3,"ngClass",4,"ngIf"],[1,"errorMessage"],["class","",4,"ngIf"],[1,""],[1,"form-group","ccl-form","row"],["for","deviceDescription",1,"col-sm-12","col-form-label"],[1,"col-sm-12"],["id","deviceDescription","formControlName","description","trimSpace","",1,"form-control","text-box",3,"formValue"],[1,"form-group","row",3,"ngClass"],[1,"form-check-inline"],["name","allowInheritance","type","radio","formControlName","allowInheritance","id","devInhyes",1,"form-check-input","mr-2",3,"ngClass","value"],["for","devInhyes"],["type","radio","name","allowInheritance","formControlName","allowInheritance","id","devInhno",1,"form-check-input","mr-2",3,"value","ngClass"],["for","devInhno"],[1,"col-md-12"],["for","deviceType",1,"col-form-label"],[1,"col-md-12","pl-0"],["class","col-md-12 ",4,"ngIf"],["id","deviceRules",1,"col-sm-12","mt-2","plusSymbol"],["href","javascript:void(0)","id","adderule","class","btn-default primary pull-left",3,"click",4,"ngIf"],[1,"d-flex","my-3","align-items-center","device-groups-drop-downs"],[1,"col-sm-4"],["bindLabel","name","autofocus","","bindValue","id",3,"items","id","ngModel","searchable","clearable","ngModelOptions","name","disabled","ngModelChange","change"],["ng-label-tmp",""],["ng-option-tmp",""],["bindLabel","name","autofocus","","bindValue","id",3,"items","id","ngModel","searchable","clearable","ngModelOptions","name","ngModelChange","change",4,"ngIf"],[1,"delete-align"],["href","javascript:void(0)","id","deleterule",1,"cursor-pointer",3,"click"],["bindLabel","name","autofocus","","bindValue","id",3,"items","id","ngModel","searchable","clearable","ngModelOptions","name","ngModelChange","change"],["bindLabel","name","autofocus","","bindValue","id","class","rule3items",3,"items","multiple","id","searchable","clearable","ngModel","ngModelOptions","name","ngModelChange","change",4,"ngIf"],["bindLabel","name","autofocus","","bindValue","id",1,"rule3items",3,"items","multiple","id","searchable","clearable","ngModel","ngModelOptions","name","ngModelChange","change"],[1,"form-group","ccl-form","row","m-0"],["type","text","data-toggle","tooltip","data-placement","top","trimSpace","",3,"title","id","ngModel","ngModelOptions","name","formValue","focusout","keyup","ngModelChange","change",4,"ngIf"],["type","text","data-toggle","tooltip","data-placement","top","trimSpace","",3,"title","id","ngModel","ngModelOptions","name","formValue","focusout","keyup","ngModelChange","change"],["href","javascript:void(0)","id","adderule",1,"btn-default","primary","pull-left",3,"click"],["id","devicegrp-info-tbl","datatable","","class","row-border hover table-alter",3,"dtOptions",4,"ngIf"],[1,"col","align-self-start"],[1,"net-ops-secondary-title"],["id","my-btn",1,"col","cursor-pointer","align-self-end","text-right","primary","icon-btn"],["aria-hidden","true",1,"fa","fa-refresh",3,"click"],["id","devicegrp-info-tbl","datatable","",1,"row-border","hover","table-alter",3,"dtOptions"],[3,"id",4,"ngFor","ngForOf"],[1,"gotorouter",3,"click"],["id","static-discovered",1,"col","cursor-pointer","align-self-end","text-right","primary","icon-btn"],["id","devicegrp-info-tbl-static","datatable","",1,"row-border","hover","table-alter",3,"dtOptions"],["colspan","8",1,"no-data-available"],["id","static-undiscovered",1,"col","cursor-pointer","align-self-end","text-right","primary","icon-btn"],["id","devicegrp-info-tbl-static-undisc","datatable","",1,"row-border","hover","table-alter",3,"dtOptions"],[1,"detail-view"],[1,"w-100","d-flex","align-items-center","justify-content-between","border-bottom"],[1,"device-group-deletion","mt-3"],[1,"table","table-borderless","table-striped","w-100"],[1,"max-170px","min-130px"],[1,"lenth-text-break"]],template:function(e,t){1&e&&(h.YNc(0,I,2,1,"div",0),h.YNc(1,qe,35,26,"div",1)),2&e&&(h.Q6J("ngIf",!t.hasScopeAccess),h.xp6(1),h.Q6J("ngIf",t.pageAvailable&&t.hasScopeAccess))},directives:[_.O5,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.On,o.G,_.sg,_.mk,n.u,R.f,n._,S.w9,D.U,S.bb,S.Z2],pipes:[_.rS],styles:[".delete-align[_ngcontent-%COMP%]{position:relative;padding-left:10px;color:gray;font-size:19px}.plusSymbol[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:unset!important;color:#2ecc71;cursor:pointer}.delete-align[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.del[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}#devicegrp-table[_ngcontent-%COMP%]{width:100%!important}.disable[_ngcontent-%COMP%]{pointer-events:none}.cursornallow[_ngcontent-%COMP%]{cursor:not-allowed}.gotorouter[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;color:#00f}@keyframes spin{to{transform:rotate(360deg)}}.icon-btn[_ngcontent-%COMP%]{border:none;background-color:transparent;outline:0}.icon-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:19px;cursor:pointer}.icon-btn[_ngcontent-%COMP%]   i.spin-animation[_ngcontent-%COMP%]{animation-name:spin;-webkit-animation-name:spin;-moz-animation-name:spin;-ms-animation-name:spin;animation-duration:.5s;-webkit-animation-duration:.5s;-moz-animation-duration:.5s;-ms-animation-duration:.5s;animation-timing-function:ease-in;-webkit-animation-timing-function:ease-in;-moz-animation-timing-function:ease-in;-ms-animation-timing-function:ease-in}.devices-groups-name[_ngcontent-%COMP%]{width:30%!important}.devices-groups-description[_ngcontent-%COMP%]{width:32.5%!important}.devices-groups-type[_ngcontent-%COMP%]{width:32.5%!important}.devices-groups-edit-delete[_ngcontent-%COMP%]{width:5%!important}.device-group-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{word-break:break-all}[_nghost-%COMP%]     .dataTables_empty{display:none}.no-data-available[_ngcontent-%COMP%]{text-align:center}.btn-link[_ngcontent-%COMP%]{border:none!important}.btn-link[_ngcontent-%COMP%]:hover{background-color:transparent!important;text-decoration:none!important}.text-box[_ngcontent-%COMP%]{border-radius:22px 22px 2px;min-height:85px}.form-check-cus[_ngcontent-%COMP%]   .form-check-inline[_ngcontent-%COMP%]{min-width:100px}.form-check-cus[_ngcontent-%COMP%]   .form-check-inline[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0}.grey-input-color[_ngcontent-%COMP%]{color:#646363!important}.border-w2[_ngcontent-%COMP%]{border-width:2px}.bgimage-none[_ngcontent-%COMP%]{background-image:unset}.span-inline-ww[_ngcontent-%COMP%]{width:670px;word-wrap:break-word;display:inline-block}.min-w-100[_ngcontent-%COMP%]{min-width:100px}.none-count[_ngcontent-%COMP%]{cursor:default!important;color:#1a1f22!important}.search-box-device[_ngcontent-%COMP%]{position:relative}.search-box-device[_ngcontent-%COMP%]   .device-search-input[_ngcontent-%COMP%]{padding-right:38px!important}.search-box-device[_ngcontent-%COMP%]   .search-btn-round[_ngcontent-%COMP%]{position:absolute;right:0px;min-height:38px;min-width:38px}.search-box-device[_ngcontent-%COMP%]   .search-btn-round[_ngcontent-%COMP%]:active{background-color:#0054b2}.search-box-device[_ngcontent-%COMP%]   .search-btn-round[_ngcontent-%COMP%]:focus{background-color:#0279ff}.search-box-device[_ngcontent-%COMP%]   .search-btn-round[_ngcontent-%COMP%]:focus:hover{background-color:#0054b2}.min-w-130[_ngcontent-%COMP%]{min-width:130px}.min-w-160[_ngcontent-%COMP%]{min-width:160px}.search-box-device[_ngcontent-%COMP%]{max-width:430px}.t-ini-small[_ngcontent-%COMP%]{text-transform:lowercase}.min-w-100px[_ngcontent-%COMP%]{min-width:100px}.warning-msg-info[_ngcontent-%COMP%]{width:100%}.warning-msg-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){width:36px;margin:0 8px}.warning-msg-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){width:68%}.warning-msg-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){width:25%}.max-170px[_ngcontent-%COMP%]{max-width:170px}.min-130px[_ngcontent-%COMP%]{min-width:130px}.lenth-text-break[_ngcontent-%COMP%]{word-break:break-word}"]}),e})()},47986:function(e,t,i){i.d(t,{r:function(){return s},k:function(){return r}});var s=(()=>{return(e=s||(s={})).SIP_Configuration_File="SIP Configuration File",e.T_Series_SIP_Configuration_File="T Series SIP Configuration File",e.Configuration_File="Configuration File",e.SW_FW_Image="SW/FW Image",s;var e})();class r{constructor(e,t,i,s,r,a,o,n,l,u,c,d,h,g,p){this._id=e||null,this.name=t||null,this.version=r||null,this.size=i||null,this.type=s||null,this.orgId=a||null,this.password=o||null,this.username=n||null,this.description=l||null,this.numberOfDownloads=u||null,this.uploadUrl=c||null,this.isOfficialImage=h||null,this.isOfficialImageIligible=h||null,this.isPublicImage=p||null,this.models=d||[]}}},43566:function(e,t,i){i.d(t,{E:function(){return s}});class s{constructor(e,t,i,s,r,a,o,n,l){this.name=t||null,this.description=i||null,this.type=s||null,o&&(this.version=o),this._id=e||null,this.models=n||null,this.manufacturer=r||null,a&&(this.binaryContent=a)}}},96410:function(e,t,i){i.d(t,{y:function(){return n}});var s=i(92340),r=i(37716),a=i(91841),o=i(89097);let n=(()=>{class e{constructor(e,t){this.http=e,this.sso=t}getDeviceGoupList(e,t=50){const i=this.sso.getOrg(e);return this.http.get(`${s.N.SUPPORT_URL}/netops-device/group?${i}skip=0&limit=${t}`)}getDeviceGroups(e,t){const i=this.sso.getOrg(e);return this.http.get(`${s.N.SUPPORT_URL}/netops-device/group?${i}&deviceId=${t}`)}getEditDeviceGoupList(e){return this.http.get(`${s.N.SUPPORT_URL}/netops-device/group/`+e)}GetDeviceType(e){return this.http.get(`${s.N.SUPPORT_URL}/netops-device/device-type?matcher=${e}`)}getDiscoveredCount(e){return this.http.put(`${s.N.SUPPORT_URL}/netops-device/device/count`,{$matcher:e})}GetDiscoveredDevices(e){return this.http.put(`${s.N.SUPPORT_URL}/netops-device/device`,{matcher:e})}GetUnDiscoveredDevices_static(e,t){const i=this.sso.getOrg(e);return this.http.get(`${s.N.SUPPORT_URL}/netops-device/static-group-member/undiscovered/`+t+`?${i}`)}GetUnDiscoveredDevices_static_count(e,t){const i=this.sso.getOrg(t);return this.http.get(`${s.N.SUPPORT_URL}/netops-device/static-group-member/undiscovered/count/`+e+`?${i}`)}GetDiscoveredDevices_static_count(e,t){const i=this.sso.getOrg(t);return this.http.get(`${s.N.SUPPORT_URL}/netops-device/static-group-member/discovered/count/`+e+`?${i}`)}GetDiscoveredDevices_static(e,t){const i=this.sso.getOrg(e);return this.http.get(`${s.N.SUPPORT_URL}/netops-device/static-group-member/discovered/`+t+`?${i}`)}DeleteDeviceGoupList(e,t,i){return this.http.delete(`${s.N.SUPPORT_URL}/netops-device/group/`+t+`?forceDelete=${i}`)}addDeviceGroup(e,t){const i=this.sso.getOrg(e);return this.http.post(`${s.N.SUPPORT_URL}/netops-device/group?${i}`,t)}UpdateDeviceGroup(e,t,i){const r=this.sso.getOrg(e);return this.http.put(`${s.N.SUPPORT_URL}/netops-device/group/`+t+`?${r}`,i)}getDeviceGoupCount(e){const t=this.sso.getOrg(e);return this.http.get(`${s.N.SUPPORT_URL}/netops-device/group/count?${t}`)}getDeviceGoupsearchCount(e,t){const i=this.sso.getOrg(e);return this.http.get(`${s.N.SUPPORT_URL}/netops-device/group/count?${i}deviceId=${t}`)}getDeviceMemberCount(e,t){const i=this.sso.getOrg(e);return this.http.get(`${s.N.SUPPORT_URL}/netops-device/group-member/count?groupId=${t}${i}`)}getWorkflowsById(e,t,i){const r=this.sso.getOrg(e);return this.http.get(`${s.N.SUPPORT_URL}/netops-wf/workflow?${r}groupId=${t}${i?"&excludeOnBoot=true":"&excludeOnBoot=false"}`)}pageErrorHandle(e){let t;t=null!=e.error&&null!=e.error&&"string"==typeof e.error?`${e.error}`:null!=e.error&&"object"==typeof e.error&&null!=e.error.error&&"string"==typeof e.error.error?`${e.error.error}`:null!=e.error&&"object"==typeof e.error&&null!=e.error.fault&&"string"==typeof e.error.fault?`${e.error.fault}`:null!=e.error&&"object"==typeof e.error&&null!=e.error.fault&&"object"==typeof e.error.fault&&null!=e.error.fault.faultstring&&"string"==typeof e.error.fault.faultstring?`${e.error.fault.faultstring}`:e.error&&e.error.errorMessage?e.error.errorMessage:"Unknown Error"==e.statusText&&"0"==e.status?"Unknown Error - Please refresh the page":null!=e.error?`${e.error.message}`:`${e.message}`;let i=this.sso.getspecificlangliterals();return t="undefined"!=t&&t&&i[t]?i[t]:t,"undefined"!=t&&t.length?t:Object.values(this.flatten(e)).join(" - ")}traverseAndFlatten(e,t,i){for(var s in e)if(e.hasOwnProperty(s)){var r;r=void 0===i?s:i+"."+s;var a=e[s];"object"==typeof a?this.traverseAndFlatten(a,t,r):t[r]=a}}flatten(e){let t={};try{this.traverseAndFlatten(e,t)}catch(i){t={}}return t}GetwanAccessTypes(e){return this.http.get(`${s.N.CALIX_URL}support/device/feature-properties?modelName=${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a.eN),r.LFG(o.t6))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},75333:function(e,t,i){i.d(t,{ok:function(){return a},Mb:function(){return o},dz:function(){return n},Ye:function(){return l},r2:function(){return u},JD:function(){return c},iv:function(){return d},YE:function(){return h},iT:function(){return g},Le:function(){return p},cT:function(){return m},JK:function(){return f},vD:function(){return v},WS:function(){return b},bE:function(){return A}});var s=i(92340);const r=s.N.SUPPORT_URL,a=s.N.UI_BASE_URL,o=r+"/netops-file/file",n=r+"/netops-file/file",l=r+"/netops-file/file",u=r+"/netops-file/file",c=r+"/netops-file/file",d=r+"/netops-file/file/count",h=r+"/sw/image",g=r+"/sw/image",p=r+"/sw/image",m=r+"/sw/image",f=r+"/sw/image",v=r+"/sw/image/count",b=r+"/sw/official-image",A=r+"/sw/official-image"},68745:function(e,t,i){i.d(t,{I:function(){return h}});var s=i(75333),r=i(91841),a=i(40205),o=i(5304),n=i(47986),l=i(37651),u=i(9579),c=i(37716),d=i(89097);let h=(()=>{class e{constructor(e,t){this.http=e,this.sso=t}getConfigFilesList(e,t,i){let a=new r.LE;return e&&(a=a.set("orgId",e)),t&&(a=a.set("name",t)),i&&(a=a.set("type",i)),this.http.get(s.Mb,{params:a}).pipe((0,o.K)(this.handleError))}getSwFilesList(e,t,i){const a=(new r.LE).set("type",i).set("name",t);return this.sso.getOrg(e)&&a.set("orgId",e),a.keys().forEach(e=>{a.get(e)||a.map.delete(e)}),this.http.get(s.YE,{params:a}).pipe((0,o.K)(this.handleError))}updateConfigFile(e,t){const i=new r.LE;return this.sso.getOrg(t)&&i.set("orgId",t),this.http.put(s.dz,e,{params:i}).pipe((0,o.K)(this.handleError))}updateSwFile(e,t){const i=new r.LE;return this.sso.getOrg(t)&&i.set("orgId",t),this.http.put(s.iT,e,{params:i}).pipe((0,o.K)(this.handleError))}uploadSwFile(e,t){const i=new r.LE;return this.sso.getOrg(t)&&i.set("orgId",t),this.http.post(s.Le,e,{params:i}).pipe((0,o.K)(this.handleError))}uploadConfigFile(e,t){const i=new r.LE;return this.sso.getOrg(t)&&i.set("orgId",t),this.http.post(s.Ye,e,{params:i}).pipe((0,o.K)(this.handleError))}getConfigFileById(e){return this.http.get(s.r2+"/"+e).pipe((0,o.K)(this.handleError))}getSwFileById(e){return this.http.get(s.cT+"/"+e).pipe((0,o.K)(this.handleError))}getSwFilesCount(e){const t=(new r.LE).set("type",n.r.SW_FW_Image);return this.sso.getOrg(e)&&t.set("orgId",e),this.http.get(s.vD,{params:t}).pipe((0,o.K)(this.handleError))}getConfigFilesCount(e){const t=(new r.LE).set("type","Configuration File");return this.sso.getOrg(e)&&t.set("orgId",e),this.http.get(s.iv,{params:t}).pipe((0,o.K)(this.handleError))}fileUploadIntoUrl(e,t){let i="Basic "+btoa(t.username+":"+t.password);const a={headers:(new r.WM).set("Authorization",i).set("Content-Type","application/octet-stream")};let n=t.uploadUrl.replace((0,u.Z_)(t.uploadUrl),s.ok);return this.http.post(n,e,a).pipe((0,o.K)(this.handleError))}makeOfficialImage(e){return this.http.post(s.WS,e).pipe((0,o.K)(this.handleError))}makeUnOfficialImge(e,t){const i=(new r.LE).set("imageId",t);return this.sso.getOrg(e)&&i.set("orgId",e),this.http.delete(s.bE,{params:i}).pipe((0,o.K)(this.handleError))}deleteConfigFileById(e){return this.http.delete(s.JD+"/"+e).pipe((0,o.K)(this.handleError))}deleteSwFileById(e){return this.http.delete(s.JK+"/"+e).pipe((0,o.K)(this.handleError))}getConfigurationFileList(e,t){return this.http.post(e,t).pipe((0,o.K)(this.handleError))}getSoftwareImageList(e,t){return this.http.post(e,t).pipe((0,o.K)(this.handleError))}getFileType(){return(new l.l).FileType}handleError(e){return(0,a._)(e)}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(r.eN),c.LFG(d.t6))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},15595:function(e,t,i){i.d(t,{B:function(){return s},I:function(){return r}});const s={99:"844G-1",100:"844G-2",101:"854G-1",102:"854G-2",103:"844E-1",104:"844E-2",107:"801GP",108:"803GP",109:"812G-1",110:"812G-2",111:"813G-1",112:"813G-2",113:"844F-1",114:"844FB-1",116:"818G",122:"844GE-1",123:"844GE-2",804:"804Mesh",118:"844F-2",119:"844FB-2",124:"882NG-V",125:"862NG-V",126:"812NG-V",128:"882NG-V",129:"862NG-V",130:"812NG-V",145:"GH3200X",146:"GP1000X",147:"GPR3000X"},r={160:"GP1200XE",161:"GP1200NG",16:"GC4020E",17:"GC4026E",18:"GC4226A",19:"GC4220G",20:"GC4226V",21:"GC4226U",22:"GS2026E",23:"GM1020",24:"GS2020E",25:"GS2025E",32:"GS4220E,MGS4220E",33:"GS4020E",34:"GS4227E",35:"GS4027E",36:"GS2028E,MGS2028E",37:"GM1028,MGM1028",38:"GS4220E-2,MGS4220E-2",39:"GS4227E-2",40:"GS2028E-2,MGS2028E-2",41:"GM1028-2,MGM1028-2",48:"GS2037E,GS2037E-2",74:"GS4227,GS4227-2,MGS4227,MGS4227-2",46:"GPR2032H",77:"GS4227W",78:"GS2128G,GS2128G-2,AGS2128G,AGS2128G-2",45:"GS4239",44:"GS4239E",43:"GM2037",42:"GS4237E",70:"GP1101X",69:"GP4200XH",64:"GP1100X",85:"GS2128XG,GS2128XG-2,AGS2128XG,AGS2128XG-2",72:"GM1028H ",79:"GS4237 ",92:"GPR1027E"}},18282:function(e,t,i){i.d(t,{P:function(){return x}});var s=i(68745),r=i(47986),a=i(43566),o=i(89097),n=i(15595),l=i(92340),u=i(37716),c=i(7450),d=i(39895),h=i(39075),g=i(38583),p=i(96410),m=i(3679),f=i(74062);const v=["labelImport"];function b(e,t){if(1&e&&(u.TgZ(0,"div",31),u._uU(1),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.hij(" ",e.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function A(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",32),u.TgZ(1,"span",33),u._UZ(2,"img",34),u.qZA(),u.TgZ(3,"button",35),u.NdJ("click",function(){return u.CHM(e),u.oxw().hideError()}),u._UZ(4,"span"),u.qZA(),u._UZ(5,"div",36),u.qZA()}if(2&e){const e=u.oxw();u.xp6(5),u.Q6J("innerHtml",e.errorMsg,u.oJD)}}function y(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",37),u.TgZ(1,"span",38),u._UZ(2,"img",39),u.qZA(),u.TgZ(3,"button",40),u.NdJ("click",function(){return u.CHM(e),u.oxw().hideSuccess()}),u._UZ(4,"span"),u.qZA(),u._UZ(5,"div",36),u.qZA()}if(2&e){const e=u.oxw();u.xp6(5),u.Q6J("innerHtml",e.successMsg,u.oJD)}}function w(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",41),u.TgZ(1,"span",33),u._UZ(2,"img",42),u.qZA(),u.TgZ(3,"span",43),u._uU(4),u.qZA(),u.TgZ(5,"div",44),u.TgZ(6,"button",45),u.NdJ("click",function(){return u.CHM(e),u.oxw().confirmUpdateSecleted()}),u._uU(7),u.qZA(),u.TgZ(8,"button",46),u.NdJ("click",function(){return u.CHM(e),u.oxw().closeModal()}),u._uU(9),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw();u.xp6(4),u.lnq(" ",e.language.The_Software_Image,' "',e.swFileObj.name,'"',e.language.Overwrite_Confirmation," "),u.xp6(3),u.hij(" ",e.language.Confirm," "),u.xp6(2),u.hij(" ",e.language.Cancel," ")}}function _(e,t){if(1&e&&(u.TgZ(0,"div",47),u.TgZ(1,"div",48),u.TgZ(2,"div",49),u.TgZ(3,"span",50),u._uU(4),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(4),u.Oqu(e.language.Loading)}}function T(e,t){if(1&e&&(u.TgZ(0,"button",57),u._uU(1),u.qZA()),2&e){const e=u.oxw(2),t=u.MAs(8);u.Q6J("disabled",!t.valid||!e.fileRequired),u.xp6(1),u.hij(" ",e.language["Save Image"],"")}}function R(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",51),u.TgZ(1,"div",52),u.TgZ(2,"div",53),u._uU(3),u.qZA(),u.qZA(),u.TgZ(4,"div",54),u.TgZ(5,"span",55),u.NdJ("click",function(){return u.CHM(e),u.oxw().goBack()}),u._uU(6),u.qZA(),u.YNc(7,T,2,2,"button",56),u.qZA(),u.qZA()}if(2&e){const e=u.oxw();u.xp6(3),u.Oqu(e.language["New Software Image"]),u.xp6(3),u.hij("",e.language.Cancel," "),u.xp6(1),u.Q6J("ngIf",e.hasWriteAccess)}}function S(e,t){if(1&e&&(u.TgZ(0,"small",59),u._uU(1),u.qZA()),2&e){const e=u.oxw(2);u.xp6(1),u.hij(" ",e.language.Name_Is_Required," ")}}function D(e,t){if(1&e&&(u.TgZ(0,"span"),u.YNc(1,S,2,1,"small",58),u.qZA()),2&e){u.oxw();const e=u.MAs(40);u.xp6(1),u.Q6J("ngIf",e.errors.required)}}let x=(()=>{class e{constructor(e,t,i,s,r,o,n){this.translateService=e,this.ssoAuthService=t,this.fileService=i,this.router=s,this.titleService=r,this._location=o,this.deviceGrp=n,this.loading=!1,this.showError=!1,this.showSuccess=!1,this.hasWriteAccess=!1,this.fileRequired=!1,this.updateData=new a.E,this.fileToUpload=null,this.swFileObj=new a.E,this.hasScopeAccess=!1,this.hasCalixModel=!1,this.resDetails={},this.orgId=this.ssoAuthService.getOrgId(),this.scopes=this.ssoAuthService.getScopes()}setTitle(e){this.router.url.includes("cco-foundation")||this.router.url.includes("/cco/operations/configuration")?this.router.url.includes("/cco/operations/configuration")?this.titleService.setTitle(`${this.language["Software Images"]} - ${this.language.Configuration} - ${this.language.Operations} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`):this.titleService.setTitle(`${this.language["Software Images"]} - ${this.language["Workflow Prerequisites"]} - ${this.language.configuration}  - ${this.language.Deployment}  - ${this.language["Calix Cloud"]}`):this.titleService.setTitle(`${this.language["Software Images"]} - ${this.language.Operations}  - ${this.language.NetOps}  - ${this.language.Support}  - ${this.language["Calix Cloud"]}`)}ngOnInit(){var e,t,i;if(this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.setTitle(this.router.url)}),this.setTitle(this.router.url),this.router.url.includes("cco-foundation")||this.router.url.includes("cco/operations/configuration/software"))if(this.router.url.includes("cco/operations/configuration/software"))l.N.VALIDATE_SCOPE?(this.scopes&&(null===(e=this.scopes["cloud.rbac.coc.operations.configuration.softwareimages"])||void 0===e?void 0:e.includes("write"))&&(this.hasWriteAccess=!0),(null===(i=null===(t=this.scopes)||void 0===t?void 0:t["cloud.rbac.coc.operations.configuration.softwareimages"])||void 0===i?void 0:i.length)&&(this.hasScopeAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0);else if(l.N.VALIDATE_SCOPE){let e=this.scopes;e["cloud.rbac.foundation.configurations"]=e["cloud.rbac.foundation.configurations"]?e["cloud.rbac.foundation.configurations"]:[],e&&e["cloud.rbac.foundation.configurations"].includes("write")&&(this.hasWriteAccess=!0),this.scopes["cloud.rbac.foundation.configurations"].length&&(this.hasScopeAccess=!0)}else this.hasWriteAccess=!0,this.hasScopeAccess=!0;else l.N.VALIDATE_SCOPE?(this.scopes["cloud.rbac.csc.netops.operations.sw_images"]=this.scopes["cloud.rbac.csc.netops.operations.sw_images"]?this.scopes["cloud.rbac.csc.netops.operations.sw_images"]:[],this.scopes&&this.scopes["cloud.rbac.csc.netops.operations.sw_images"]&&-1!==this.scopes["cloud.rbac.csc.netops.operations.sw_images"].indexOf("write")&&(this.hasWriteAccess=!0),this.scopes["cloud.rbac.csc.netops.operations.sw_images"].length&&(this.hasScopeAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0)}onSWFileSubmit(){this.loading=!0,this.swFileObj.type=r.r.SW_FW_Image,this.swFileObj.manufacturer=0==this.swFileObj.models.length?"":"Calix",Array.isArray(this.swFileObj.models)||(this.swFileObj.models=this.swFileObj.models.split(",")),this.fileService.uploadSwFile(this.swFileObj,this.orgId).subscribe(e=>{let t=e;this.resDetails=e,this.uploadFile(this.fileToUpload,t)},e=>{this.loading=!1,409==e.status?(this.showWarning=!0,this.modalInfo="Warning! ",this.updateData=this.swFileObj,this.errorMsg=`The Software Image "${this.swFileObj.name}" already exists. Are you sure you want to Overwrite it?`):400==e.status?(this.errorMsg=e.error.error,this.showError=!0):(this.errorMsg=this.pageErrorHandle(e),this.showError=!0)})}pageErrorHandle(e){let t="";return t=401===e.status?(e.hasPrefixedLabel?e.hasPrefixedLabel:"")+"Access Denied"+(e.hasPrefixedLabel?" due to scope CPE":""):504===e.status?this.language["Gateway Timeout"]:this.ssoAuthService.pageErrorHandle(e),document.getElementById("routerContentDiv").scrollIntoView(),t}uploadFile(e,t){this.fileService.fileUploadIntoUrl(e,t).subscribe(e=>{var t;this.loading=!1,this.successMsg="successfully uploaded!",this.showSuccess=!0,-1===(null===(t=window.location.href)||void 0===t?void 0:t.indexOf("/cco/operations/configuration/software/software-images-form"))?this.ssoAuthService.redirectByUrl(["/support/netops-management/operations/software-images-list","/cco/operations/cco-system-operations/software-image","/cco-foundation/foundation-configuration/configuration-prerequisites/software-images-list","/cco/operations/cco-subscriber-operations/operations/software-images-list"]):this.router.navigate(["/cco/operations/configuration/software/software-images-list"])},e=>{console.log("Upload image error = ",e),this.reverseUpload(!1),413==e.status?(this.errorMsg=e.error,this.showError=!0):"Unknown Error"==e.statusText?(this.errorMsg="Image Upload Failed!",this.showError=!0):(this.errorMsg=e.error?e.error:e.statusText,this.showError=!0)})}reverseUpload(e){this.loading=!0,this.swFileObj.name?this.fileService.getSwFilesList(this.orgId,this.swFileObj.name,r.r.SW_FW_Image).subscribe(t=>{t.forEach(t=>{t.name==this.swFileObj.name&&this.fileService.deleteSwFileById(t._id).subscribe(t=>{e&&(this.onSWFileSubmit(),this.loading=!1)},e=>{this.loading=!1,this.errorMsg=e.error.error,this.showError=!0}),this.loading=!1})},e=>{this.loading=!1,this.errorMsg=e.error.error,this.showError=!0}):this.fileService.getSwFilesList(this.orgId,null,r.r.SW_FW_Image).subscribe(t=>{t.forEach(t=>{t.name==this.swFileObj.name&&this.fileService.deleteSwFileById(t._id).subscribe(t=>{e&&(this.onSWFileSubmit(),this.loading=!1)},e=>{this.loading=!1,this.errorMsg=e.error.error,this.showError=!0}),this.loading=!1})},e=>{this.loading=!1,this.errorMsg=e.error.error,this.showError=!0})}confirmUpdateSecleted(){this.updateData=new a.E,this.reverseUpload(!0)}closeModal(){this.updateData=new a.E}onFileChange(e){if(this.hasCalixModel=!1,e.length>0){if(this.fileRequired=!0,this.labelImport.nativeElement.innerText=Array.from(e).map(e=>e.name).join(", "),this.fileToUpload=e.item(0),this.swFileObj.name=this.fileToUpload.name,this.swFileObj.name.endsWith(".oneimage"))this.fetchVersionModel(this.fileToUpload);else{var t=0,i=new FileReader,s=this.fileToUpload.slice(t,4),a=!1;i.onload=()=>{3390176508==new DataView(i.result).getUint32(0)?this.readEXOSVersion(t=5712,t+14,a=!0,i):this.readAfterCheckSigned(t,4,i,a,s)},i.readAsArrayBuffer(s)}this.swFileObj.type=r.r.SW_FW_Image,this.swFileObj.manufacturer="Calix"}}fetchVersionModel(e){let t=e.name;var i=t.substring(0,t.length-".oneimage".length).split("_");if(2==i.length){var s=i[1];this.swFileObj.models.push(i[0]),this.hasCalixModel=!0,/^\d+(\.\d+)+$/.test(s)&&(this.swFileObj.version=s)}}fillVersionAndName(e){var t=this.swFileObj.name,i=e.indexOf("\0"),s=i>=0?e.substr(0,i):e;if(/^\d[\d\.]+\d$/.test(s)){this.swFileObj.version=s;var r,a=t.lastIndexOf(".");return r=-1!=a?t.slice(0,a)+"_"+s+t.slice(a):t+"_"+s,this.swFileObj.name=r,!0}return this.swFileObj.version="",this.swFileObj.models=[],!1}readEXOSModels(e,t,i){var s=this.fileToUpload.slice(e,t);i.onload=()=>{var s=new DataView(i.result).getUint32(0),r=this.fileToUpload.slice(e=t,t=e+4*s);i.onload=()=>{for(var e=n.I,t=[],r=[],a=0;a<s;a++){var o=new DataView(i.result).getUint32(4*a);null!=e[o]&&t.push(e[o])}for(a=0;a<t.length;a++)if(-1!=t[a].indexOf(",")){let e=t[a].split(",");for(let t=0;t<e.length;t++)r.push(e[t])}else r.push(t[a]);this.swFileObj.models=r,this.hasCalixModel=!0},i.readAsArrayBuffer(r)},i.readAsArrayBuffer(s)}readEXOSVersion(e,t,i,s){var r=this.fileToUpload.slice(e,t);s.onload=()=>{if(this.fillVersionAndName(s.result)){var e=i?5732:80;this.readEXOSModels(e,e+4,s)}},s.readAsText(r)}readAfterCheckSigned(e,t,i,s,r){i.onload=()=>{if("CALX"===i.result)this.readEXOSVersion(e=16,t=48,s,i);else{var r=this.fileToUpload.slice(e=20,t=24);i.onload=()=>{var s=new DataView(i.result).getUint32(0),r=this.fileToUpload.slice(e=t,t=e+s);i.onload=()=>{if(this.fillVersionAndName(i.result)){var s=this.fileToUpload.slice(e=t+524,t=e+4);i.onload=()=>{var s=new DataView(i.result).getUint32(0),r=this.fileToUpload.slice(e=t+s+4,t=e+4);i.onload=()=>{var s=new DataView(i.result).getUint32(0),r=this.fileToUpload.slice(e=t,t=e+s);i.onload=()=>{for(var s=n.B,r=[],a=0;a<(t-e)/4;a++){var o=new DataView(i.result).getUint32(4*a);null!=s[o]&&r.push(s[o])}this.swFileObj.models=r,this.hasCalixModel=!0},i.readAsArrayBuffer(r)},i.readAsArrayBuffer(r)},i.readAsArrayBuffer(s)}},i.readAsText(r)},i.readAsArrayBuffer(r)}},i.readAsText(r)}goBack(){var e;-1===(null===(e=window.location.href)||void 0===e?void 0:e.indexOf("/cco/operations/configuration/software/software-images-form"))?this.ssoAuthService.redirectByUrl(["/support/netops-management/operations/software-images-list","/cco/operations/cco-system-operations/software-image","/cco-foundation/foundation-configuration/configuration-prerequisites/software-images-list","/cco/operations/cco-subscriber-operations/operations/software-images-list"]):this.router.navigate(["/cco/operations/configuration/software/software-images-list"])}hideError(){this.showError=!1,this.errorMsg=""}hideSuccess(){this.showSuccess=!1,this.successMsg=""}ngOnDestroy(){this.languageSubject.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(c.s),u.Y36(o.t6),u.Y36(s.I),u.Y36(d.F0),u.Y36(h.Dx),u.Y36(g.Ye),u.Y36(p.y))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-software-images-form"]],viewQuery:function(e,t){if(1&e&&u.Gf(v,5),2&e){let e;u.iGM(e=u.CRH())&&(t.labelImport=e.first)}},features:[u._Bn([s.I,o.t6])],decls:49,vars:29,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],["class","w-100 alert alert alert-success fade show",4,"ngIf"],["class","py-3 warning-msg warning-msg-dis",4,"ngIf"],["class","loader",4,"ngIf"],["class","d-flex align-items-center border-bottom-grey",4,"ngIf"],[3,"hidden"],["id","software-images-form","novalidate","",1,"my-3",3,"ngSubmit"],["myForm","ngForm"],[1,"form-group","browse-file","ccl-form","row"],[1,"input-group"],[1,"col-sm-12","col-form-label"],[1,"error"],[1,"required-field"],[1,"col-sm-12","col-md-5","position-relative"],[1,"browse-text"],["type","file","accept",".bin,.oneimage,.img","id","importFile","name","importFile",1,"custom-file-input",3,"change"],["for","importFile",1,"custom-file-label"],["labelImport",""],[1,"form-group","ccl-form","row"],["for","inputModel",1,"col-sm-12","col-md-12","col-form-label"],[1,"col-sm-12","col-md-5"],["type","text","id","Model","name","model","trimSpace","",1,"form-control",3,"ngModel","readonly","placeholder","formValue","ngModelChange"],["for","inputVersion",1,"col-sm-12","col-md-12","col-form-label"],["type","text","id","Version","name","version","trimSpace","",1,"form-control",3,"ngModel","readonly","placeholder","formValue","ngModelChange"],["for","inputName",1,"col-sm-12","col-md-12","col-form-label"],["type","text","id","name","name","name","required","","trimSpace","",1,"form-control",3,"ngModel","placeholder","formValue","ngModelChange"],["name","ngModel"],[4,"ngIf"],["for","inputdes",1,"col-sm-12","col-md-12","col-form-label"],["id","description","name","description","trimSpace","",1,"form-control","text-box",3,"ngModel","formValue","ngModelChange"],["role","alert",1,"alert","alert-warning"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button","id","hide-error-btn",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert","alert-success","fade","show"],[1,"success-img"],["src","./assets/img/success-icon.svg"],["type","button","id","hide-success-btn",1,"close",3,"click"],[1,"py-3","warning-msg","warning-msg-dis"],["src","./assets/img/warning-icon.svg"],[1,"wh-fl"],[1,"btn-con-sec","float-right"],["id","confirm-btn",1,"btn-default","btn-primary","mr-2",3,"click"],[1,"btn-default","btn-dft",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"d-flex","align-items-center","border-bottom-grey"],[1,"col-md-8","pl-0"],[1,"sf-title"],[1,"col-md-4","pr-0","text-right"],["id","cancel-btn","routerLink","",1,"primary","pointer",3,"click"],["type","submit","form","software-images-form","id","submit-btn","class","btn-default primary px-3 ml-3",3,"disabled",4,"ngIf"],["type","submit","form","software-images-form","id","submit-btn",1,"btn-default","primary","px-3","ml-3",3,"disabled"],["class","mandatory-msg",4,"ngIf"],[1,"mandatory-msg"]],template:function(e,t){if(1&e&&(u.YNc(0,b,2,1,"div",0),u.YNc(1,A,6,1,"div",1),u.YNc(2,y,6,1,"div",2),u.YNc(3,w,10,5,"div",3),u.YNc(4,_,5,1,"div",4),u.YNc(5,R,8,3,"div",5),u.TgZ(6,"div",6),u.TgZ(7,"form",7,8),u.NdJ("ngSubmit",function(){return t.onSWFileSubmit()}),u.TgZ(9,"div",9),u.TgZ(10,"div",10),u.TgZ(11,"label",11),u._uU(12),u.TgZ(13,"span",12),u._uU(14,"*"),u.qZA(),u._UZ(15,"span",13),u.qZA(),u.TgZ(16,"div",14),u.TgZ(17,"span",15),u._uU(18),u.qZA(),u.TgZ(19,"input",16),u.NdJ("change",function(e){return t.onFileChange(e.target.files)}),u.qZA(),u.TgZ(20,"label",17,18),u._uU(22),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(23,"div",19),u.TgZ(24,"label",20),u._uU(25),u.qZA(),u.TgZ(26,"div",21),u.TgZ(27,"input",22),u.NdJ("ngModelChange",function(e){return t.swFileObj.models=e}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(28,"div",19),u.TgZ(29,"label",23),u._uU(30),u.qZA(),u.TgZ(31,"div",21),u.TgZ(32,"input",24),u.NdJ("ngModelChange",function(e){return t.swFileObj.version=e}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(33,"div",19),u.TgZ(34,"label",25),u._uU(35),u.TgZ(36,"span",12),u._uU(37," *"),u.qZA(),u.qZA(),u.TgZ(38,"div",21),u.TgZ(39,"input",26,27),u.NdJ("ngModelChange",function(e){return t.swFileObj.name=e}),u.qZA(),u.YNc(41,D,2,1,"span",28),u.qZA(),u.qZA(),u.TgZ(42,"div",19),u.TgZ(43,"label",29),u._uU(44),u.TgZ(45,"small"),u._uU(46),u.qZA(),u.qZA(),u.TgZ(47,"div",21),u.TgZ(48,"textarea",30),u.NdJ("ngModelChange",function(e){return t.swFileObj.description=e}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.MAs(40);u.Q6J("ngIf",!t.hasScopeAccess),u.xp6(1),u.Q6J("ngIf",t.showError&&t.hasScopeAccess),u.xp6(1),u.Q6J("ngIf",t.showSuccess&&t.hasScopeAccess),u.xp6(1),u.Q6J("ngIf",t.updateData.name&&t.hasScopeAccess),u.xp6(1),u.Q6J("ngIf",t.loading&&t.hasScopeAccess),u.xp6(1),u.Q6J("ngIf",t.hasScopeAccess),u.xp6(1),u.Q6J("hidden",!t.hasScopeAccess),u.xp6(6),u.Oqu(t.language.File),u.xp6(6),u.Oqu(t.language.Browse),u.xp6(4),u.Oqu(t.language.File),u.xp6(3),u.Oqu(t.language.Models),u.xp6(2),u.s9C("placeholder",t.language.Models),u.Q6J("ngModel",t.swFileObj.models)("readonly",t.hasCalixModel)("formValue",t.swFileObj),u.xp6(3),u.Oqu(t.language.Version),u.xp6(2),u.s9C("placeholder",t.language.Version),u.Q6J("ngModel",t.swFileObj.version)("readonly",t.hasCalixModel)("formValue",t.swFileObj),u.xp6(3),u.Oqu(t.language.Name),u.xp6(4),u.s9C("placeholder",t.language.Name),u.Q6J("ngModel",t.swFileObj.name)("formValue",t.swFileObj),u.xp6(2),u.Q6J("ngIf",e.invalid&&(e.dirty||e.touched)),u.xp6(3),u.Oqu(t.language.Decription),u.xp6(2),u.Oqu(t.language.optional),u.xp6(2),u.Q6J("ngModel",t.swFileObj.description)("formValue",t.swFileObj)}},directives:[g.O5,m._Y,m.JL,m.F,m.Fj,f.f,m.JJ,m.On,m.Q7,d.rH],styles:[".errorMsg[_ngcontent-%COMP%]{color:red;margin-left:15px}.custom-file-label[_ngcontent-%COMP%]{position:absolute;top:0;right:0;left:0;z-index:1;height:calc(1.5em + .75rem + 2px);font-weight:400;line-height:1.5;color:#495057;background-color:#f8f8fa!important;border:1px solid #ced4da;border-radius:20px!important;margin:0 14px;font-size:14px;padding:.375rem 107px .375rem 20px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.custom-file-label[_ngcontent-%COMP%]:after{display:none}.browse-text[_ngcontent-%COMP%]{position:absolute;top:1px;right:15px;bottom:0;z-index:2;display:block;height:33px;padding:.375rem .75rem;line-height:1.5;color:#495057;background-color:#e9ecef;border-left:inherit;border-radius:20px!important;min-width:100px;text-align:center}.sf-title[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:42px;line-height:53px;color:#1a1f22}.text-box[_ngcontent-%COMP%]{border-radius:22px 22px 2px;min-height:85px}.border-bottom-grey[_ngcontent-%COMP%]{border-bottom:2px solid #CCCCCC;margin-bottom:24px;padding-bottom:10px}.warning-msg-dis[_ngcontent-%COMP%]{display:flow-root}.warning-msg-dis[_ngcontent-%COMP%]   .error-img[_ngcontent-%COMP%]{float:left}.warning-msg-dis[_ngcontent-%COMP%]   .wh-fl[_ngcontent-%COMP%]{width:80%;float:left}.browse-file[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]{cursor:pointer}"]}),e})()},37651:function(e,t,i){i.d(t,{l:function(){return s},O:function(){return r}});class s{constructor(){this.timeZone=[{name:"Etc/GMT+12"},{name:"Pacific/Pago_Pago"},{name:"Pacific/Apia"},{name:"America/Adak"},{name:"Pacific/Honolulu"},{name:"Pacific/Marquesas"},{name:"Pacific/Gambier"},{name:"America/Anchorage"},{name:"America/Los_Angeles"},{name:"Pacific/Pitcairn"},{name:"America/Phoenix"},{name:"America/Denver"},{name:"America/Guatemala"},{name:"America/Chicago"},{name:"Pacific/Easter"},{name:"America/Bogota"},{name:"America/New_York"},{name:"America/Caracas"},{name:"America/Halifax"},{name:"America/Santo_Domingo"},{name:"America/Santiago"},{name:"America/St_Johns"},{name:"America/Godthab"},{name:"America/Argentina/Buenos_Aires"},{name:"America/Montevideo"},{name:"America/Noronha"},{name:"UTC"},{name:"Atlantic/Azores"},{name:"Atlantic/Cape_Verde"},{name:"Europe/London"},{name:"Europe/Berlin"},{name:"Africa/Lagos"},{name:"Africa/Windhoek"},{name:"Asia/Beirut"},{name:"Africa/Johannesburg"},{name:"Asia/Baghdad"},{name:"Europe/Moscow"},{name:"Asia/Tehran"},{name:"Asia/Dubai"},{name:"Asia/Baku"},{name:"Asia/Kabul"},{name:"Asia/Yekaterinburg"},{name:"Asia/Karachi"},{name:"Asia/Kolkata"},{name:"Asia/Kathmandu"},{name:"Asia/Dhaka"},{name:"Asia/Omsk"},{name:"Asia/Rangoon"},{name:"Asia/Krasnoyarsk"},{name:"Asia/Jakarta"},{name:"Asia/Shanghai"},{name:"Asia/Irkutsk"},{name:"Australia/Eucla"},{name:"Asia/Yakutsk"},{name:"Asia/Tokyo"},{name:"Australia/Darwin"},{name:"Australia/Adelaide"},{name:"Australia/Brisbane"},{name:"Asia/Vladivostok"},{name:"Australia/Sydney"},{name:"Australia/Lord_Howe"},{name:"Asia/Kamchatka"},{name:"Pacific/Noumea"},{name:"Pacific/Norfolk"},{name:"Pacific/Auckland"},{name:"Pacific/Majuro"},{name:"Pacific/Chatham"},{name:"Pacific/Tongatapu"},{name:"Pacific/Apia"},{name:"Pacific/Kiritimati"}],this.daysOfWeek=[{name:"Monday",id:"Mon"},{name:"Tuesday",id:"Tue"},{name:"Wednesday",id:"Wed"},{name:"Thursday",id:"Thu"},{name:"Friday",id:"Fri"},{name:"Saturday",id:"Sat"},{name:"Sunday",id:"Sun"}],this.frequency=[{name:"Weekly",id:"Weekly"},{name:"Monthly",id:"Monthly"}],this.FileType=[{name:"Configuration File"},{name:"SIP Configuration File"},{name:"T Series SIP Configuration File"}],this.daysOfMonth=[{id:"1"},{id:"2"},{id:"3"},{id:"4"},{id:"5"},{id:"6"},{id:"7"},{id:"8"},{id:"9"},{id:"10"},{id:"11"},{id:"12"},{id:"13"},{id:"14"},{id:"15"},{id:"16"},{id:"17"},{id:"18"},{id:"19"},{id:"20"},{id:"21"},{id:"22"},{id:"23"},{id:"24"},{id:"25"},{id:"26"},{id:"27"},{id:"28"}]}}const r=/^(ftp|http|https|chrome|:\/\/|\.|@){2,}(localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\S*:\w*@)*([a-zA-Z]|(\d{1,3}|\.){7}){1,}(\w|\.{2,}|\.[a-zA-Z]{2,3}|\/|\?|&|:\d|@|=|\/|\(.*\)|#|-|%)*$/i}}]);