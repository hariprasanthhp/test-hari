!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,r=void 0,"symbol"==typeof(r=function(e,n){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,n||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(i,"string"))?r:String(r)),o)}var i,r}function i(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[9043],{9128:function(e,n,o){o.d(n,{q:function(){return a},Z:function(){return c}});var r=o(79765),l=o(37716);function a(e){var n;return(null==e?void 0:e.value)?(null===(n=null==e?void 0:e.value)||void 0===n?void 0:n.trim())&&/^[A-Za-z0-9 ]+$/.test(null==e?void 0:e.value)?null:{invalidName:!0}:{required:!0}}var s,c=((s=function(){function e(){t(this,e),this.tabChanged$=new r.xQ}return i(e,[{key:"setTabChange",value:function(){this.tabChanged$.next(!0)}}]),e}()).\u0275fac=function(e){return new(e||s)},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s)},27946:function(e,n,o){o.d(n,{M:function(){return b}});var r=o(37716),l=o(3679),a=o(9128),s=o(7450),c=o(38583);function u(e,n){if(1&e&&(r.TgZ(0,"div",15),r.TgZ(1,"div",16),r.TgZ(2,"div",17),r.TgZ(3,"div",18),r.TgZ(4,"div",19),r.TgZ(5,"span",20),r._uU(6),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){var t=r.oxw();r.xp6(6),r.Oqu(t.language.Loading)}}function d(e,n){if(1&e&&(r.TgZ(0,"div",23),r._uU(1),r.qZA()),2&e){var t=r.oxw(2);r.xp6(1),r.hij(" ",t.language["This field is required."]," ")}}function m(e,n){1&e&&(r.TgZ(0,"div",23),r._uU(1," Please fill out this field, 1-50 characters including letters, numbers and spaces only "),r.qZA())}function f(e,n){1&e&&(r.TgZ(0,"div",23),r._uU(1," Please fill out this field, 1-50 characters including letters, numbers and spaces only "),r.qZA())}function p(e,n){if(1&e&&(r.TgZ(0,"div",21),r.YNc(1,d,2,1,"div",22),r.YNc(2,m,2,0,"div",22),r.YNc(3,f,2,0,"div",22),r.qZA()),2&e){var t=r.oxw();r.xp6(1),r.Q6J("ngIf",null==t.formControls||null==t.formControls.name||null==t.formControls.name.errors?null:t.formControls.name.errors.required),r.xp6(1),r.Q6J("ngIf",null==t.formControls||null==t.formControls.name||null==t.formControls.name.errors?null:t.formControls.name.errors.invalidName),r.xp6(1),r.Q6J("ngIf",!(null!=t.formControls&&null!=t.formControls.name&&null!=t.formControls.name.errors&&t.formControls.name.errors.invalidName)&&(null==t.formControls||null==t.formControls.name||null==t.formControls.name.errors?null:t.formControls.name.errors.maxlength))}}var g,b=((g=function(){function e(n,o,i){t(this,e),this.translateService=n,this.fb=o,this.commonWorkflowService=i,this.loading=!1,this.detailsForm=this.fb.group({description:"",name:["",[l.kI.required,l.kI.maxLength(50),a.q]]}),this.submitted=!1,this.isFormValid=new r.vpe}return i(e,[{key:"workflowObj",get:function(){return this._workflowObj},set:function(e){console.log(e),(null==e?void 0:e.name)&&(document.getElementById("name").readOnly=!0),this._workflowObj=e,this.patchValue()}},{key:"ngOnInit",value:function(){var e,n,t=this;this.tabSub=this.commonWorkflowService.tabChanged$.subscribe(function(e){t.submitted=!0}),this.formSub=this.detailsForm.valueChanges.subscribe(function(e){t.prepareDetailsFormData(e),t.isFormValid.emit(t.detailsForm.valid)}),this.detailsForm.patchValue({name:null===(e=this.workflowObj)||void 0===e?void 0:e.name,description:null===(n=this.workflowObj)||void 0===n?void 0:n.description}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){t.language=e})}},{key:"formControls",get:function(){return this.detailsForm.controls}},{key:"prepareDetailsFormData",value:function(e){this._workflowObj.name=null==e?void 0:e.name,this._workflowObj.description=null==e?void 0:e.description}},{key:"patchValue",value:function(){var e,n;this.detailsForm.patchValue({name:null===(e=this.workflowObj)||void 0===e?void 0:e.name,description:null===(n=this.workflowObj)||void 0===n?void 0:n.description})}},{key:"ngOnDestroy",value:function(){var e,n;null===(e=this.formSub)||void 0===e||e.unsubscribe(),null===(n=this.tabSub)||void 0===n||n.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||g)(r.Y36(s.s),r.Y36(l.qu),r.Y36(a.Z))},g.\u0275cmp=r.Xpm({type:g,selectors:[["app-details"]],inputs:{workflowObj:"workflowObj"},outputs:{isFormValid:"isFormValid"},decls:23,vars:9,consts:[[1,"container"],["class","row mb-3",4,"ngIf"],[1,"row",3,"formGroup"],[1,"col-md-4","px-0"],[1,"ccl-form","mb-3"],["for","notification_name"],[1,"error"],["formControlName","name","id","name",3,"placeholder"],["class","errorMessage",4,"ngIf"],[1,"form-group","ccl-form"],["for","description"],["id","description","formControlName","description","rows","3","minlength","0","maxlength","200",1,"form-control",3,"placeholder"],["id","the-count",1,"text-right"],["id","current"],["id","maximum"],[1,"row","mb-3"],[1,"col-md-12"],[1,"loader","mt-5"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"errorMessage"],["class","mt-1",4,"ngIf"],[1,"mt-1"]],template:function(e,n){1&e&&(r.TgZ(0,"section"),r.TgZ(1,"div",0),r.YNc(2,u,7,1,"div",1),r.TgZ(3,"div",2),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r.TgZ(6,"label",5),r._uU(7),r.TgZ(8,"span",6),r._uU(9,"*"),r.qZA(),r.qZA(),r._UZ(10,"input",7),r.YNc(11,p,4,3,"div",8),r.qZA(),r.TgZ(12,"div",9),r.TgZ(13,"label",10),r._uU(14),r.TgZ(15,"small"),r._uU(16),r.qZA(),r.qZA(),r._UZ(17,"textarea",11),r.TgZ(18,"div",12),r.TgZ(19,"span",13),r._uU(20),r.qZA(),r.TgZ(21,"span",14),r._uU(22,"/200"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Q6J("ngIf",n.loading),r.xp6(1),r.Q6J("formGroup",n.detailsForm),r.xp6(4),r.hij("",n.language.Name," "),r.xp6(3),r.s9C("placeholder",n.language.Name),r.xp6(1),r.Q6J("ngIf",(null==n.formControls||null==n.formControls.name?null:n.formControls.name.invalid)&&((null==n.formControls||null==n.formControls.name?null:n.formControls.name.dirty)||(null==n.formControls||null==n.formControls.name?null:n.formControls.name.touched)||n.submitted)),r.xp6(3),r.Oqu(n.language.description),r.xp6(2),r.hij(" (",n.language.Optional,")"),r.xp6(1),r.s9C("placeholder",n.language.Decription),r.xp6(3),r.hij(" ",null==n.detailsForm.get("description").value?null:n.detailsForm.get("description").value.length,""))},directives:[c.O5,l.JL,l.sg,l.Fj,l.JJ,l.u,l.wO,l.nD],styles:["input[_ngcontent-%COMP%]:-moz-read-only{cursor:no-drop}input[_ngcontent-%COMP%]:read-only{cursor:no-drop}"]}),g)},67236:function(n,o,r){r.d(o,{F:function(){return M}});var l=r(37716),a=r(3679),s=r(23815),c=r(92340),u=r(7450),d=r(12664),m=r(9128),f=r(38583),p=["mail_recepients"];function g(e,n){if(1&e){var t=l.EpF();l.TgZ(0,"div",17),l.TgZ(1,"span",18),l._UZ(2,"img",19),l.qZA(),l.TgZ(3,"button",20),l.NdJ("click",function(){return l.CHM(t),l.oxw().submitted=!1}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",21),l.qZA()}if(2&e){var o=l.oxw();l.xp6(5),l.Q6J("innerHtml",o.language[o.errorMessage]||o.errorMessage,l.oJD)}}function b(e,n){if(1&e){var t=l.EpF();l.TgZ(0,"div",22),l._uU(1),l.TgZ(2,"span",23),l.NdJ("click",function(){var e=l.CHM(t).index,n=l.oxw();return n.removeData(n.dynamicFieldsObj.emailRecipients,e)}),l._UZ(3,"i",24),l.qZA(),l.qZA()}if(2&e){var o=n.$implicit;l.xp6(1),l.hij(" ",o," ")}}function h(e,n){if(1&e&&(l.TgZ(0,"div",27),l._uU(1),l.qZA()),2&e){var t=l.oxw(2);l.xp6(1),l.hij(" ",t.language["This field is required."]," ")}}function v(e,n){if(1&e&&(l.TgZ(0,"div",27),l._uU(1),l.qZA()),2&e){var t=l.oxw(2);l.xp6(1),l.hij(" ",t.language["Please enter a valid email address"]," ")}}function w(e,n){if(1&e&&(l.TgZ(0,"div",25),l.YNc(1,h,2,1,"div",26),l.YNc(2,v,2,1,"div",26),l.qZA()),2&e){var t=l.oxw();l.xp6(1),l.Q6J("ngIf",!(null!=t.workflowObj&&null!=t.workflowObj[t.dynamicFieldsObj.emailRecipients]&&t.workflowObj[t.dynamicFieldsObj.emailRecipients].length)&&(null==t.formControls||null==t.formControls[t.dynamicFieldsObj.emailRecipients]||null==t.formControls[t.dynamicFieldsObj.emailRecipients].errors?null:t.formControls[t.dynamicFieldsObj.emailRecipients].errors.required)),l.xp6(1),l.Q6J("ngIf",null==t.formControls||null==t.formControls[t.dynamicFieldsObj.emailRecipients]||null==t.formControls[t.dynamicFieldsObj.emailRecipients].errors?null:t.formControls[t.dynamicFieldsObj.emailRecipients].errors.invalidEmail)}}function y(e,n){if(1&e){var t=l.EpF();l.TgZ(0,"div",22),l._uU(1),l.TgZ(2,"span",23),l.NdJ("click",function(){var e=l.CHM(t).index,n=l.oxw(2);return n.removeData(n.dynamicFieldsObj.sms,e)}),l._UZ(3,"i",24),l.qZA(),l.qZA()}if(2&e){var o=n.$implicit;l.xp6(1),l.hij(" ",o," ")}}function O(e,n){if(1&e&&(l.TgZ(0,"div",27),l._uU(1),l.qZA()),2&e){var t=l.oxw(3);l.xp6(1),l.hij(" ",t.language["This field is required."]," ")}}function C(e,n){1&e&&(l.TgZ(0,"div",27),l._uU(1," Please enter valid Phone Number "),l.qZA())}function k(e,n){if(1&e&&(l.TgZ(0,"div",25),l.YNc(1,O,2,1,"div",26),l.YNc(2,C,2,0,"div",26),l.qZA()),2&e){var t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!(null!=t.workflowObj&&null!=t.workflowObj[t.dynamicFieldsObj.sms]&&t.workflowObj[t.dynamicFieldsObj.sms].length)&&(null==t.formControls||null==t.formControls[t.dynamicFieldsObj.sms]||null==t.formControls[t.dynamicFieldsObj.sms].errors?null:t.formControls[t.dynamicFieldsObj.sms].errors.required)),l.xp6(1),l.Q6J("ngIf",null==t.formControls||null==t.formControls[t.dynamicFieldsObj.sms]||null==t.formControls[t.dynamicFieldsObj.sms].errors?null:t.formControls[t.dynamicFieldsObj.sms].errors.pattern)}}function x(e,n){if(1&e){var t=l.EpF();l.TgZ(0,"div",4),l.TgZ(1,"label",5),l._uU(2,"Phone Number "),l.qZA(),l.TgZ(3,"div",6),l.NdJ("click",function(e){l.CHM(t);var n=l.oxw();return n.onCustomPasteClick(n.dynamicFieldsObj.sms,e)}),l.YNc(4,y,4,1,"div",7),l.TgZ(5,"input",28),l.NdJ("keyup.enter",function(){l.CHM(t);var e=l.oxw();return e.makeList(e.dynamicFieldsObj.sms)})("paste",function(e){l.CHM(t);var n=l.oxw();return n.pasteMakeList(n.dynamicFieldsObj.sms,e)})("keyup.Space",function(){l.CHM(t);var e=l.oxw();return e.makeList(e.dynamicFieldsObj.sms)})("blur",function(){l.CHM(t);var e=l.oxw();return e.makeList(e.dynamicFieldsObj.sms)}),l.qZA(),l.qZA(),l.YNc(6,k,3,2,"div",10),l.qZA()}if(2&e){var o=l.oxw();l.xp6(4),l.Q6J("ngForOf",null==o.workflowObj?null:o.workflowObj[o.dynamicFieldsObj.sms]),l.xp6(1),l.Q6J("formControlName",o.dynamicFieldsObj.sms),l.xp6(1),l.Q6J("ngIf",(null==o.formControls||null==o.formControls[o.dynamicFieldsObj.sms]?null:o.formControls[o.dynamicFieldsObj.sms].invalid)&&((null==o.formControls||null==o.formControls[o.dynamicFieldsObj.sms]?null:o.formControls[o.dynamicFieldsObj.sms].dirty)||(null==o.formControls||null==o.formControls[o.dynamicFieldsObj.sms]?null:o.formControls[o.dynamicFieldsObj.sms].touched)||o.submitted))}}function j(e,n){if(1&e){var t=l.EpF();l.TgZ(0,"div",22),l._uU(1),l.TgZ(2,"span",23),l.NdJ("click",function(){var e=l.CHM(t).index,n=l.oxw();return n.removeData(n.dynamicFieldsObj.webhooks,e)}),l._UZ(3,"i",24),l.qZA(),l.qZA()}if(2&e){var o=n.$implicit;l.xp6(1),l.hij(" ",o," ")}}function Z(e,n){if(1&e&&(l.TgZ(0,"div",27),l._uU(1),l.qZA()),2&e){var t=l.oxw(2);l.xp6(1),l.hij(" ",t.language["This field is required."]," ")}}function F(e,n){1&e&&(l.TgZ(0,"div",27),l._uU(1," Please enter a valid URL "),l.qZA())}function _(e,n){if(1&e&&(l.TgZ(0,"div",25),l.YNc(1,Z,2,1,"div",26),l.YNc(2,F,2,0,"div",26),l.qZA()),2&e){var t=l.oxw();l.xp6(1),l.Q6J("ngIf",!(null!=t.workflowObj&&null!=t.workflowObj[t.dynamicFieldsObj.webhooks]&&t.workflowObj[t.dynamicFieldsObj.webhooks].length)&&(null==t.formControls||null==t.formControls[t.dynamicFieldsObj.webhooks]||null==t.formControls[t.dynamicFieldsObj.webhooks].errors?null:t.formControls[t.dynamicFieldsObj.webhooks].errors.required)),l.xp6(1),l.Q6J("ngIf",null==t.formControls||null==t.formControls[t.dynamicFieldsObj.webhooks]||null==t.formControls[t.dynamicFieldsObj.webhooks].errors?null:t.formControls[t.dynamicFieldsObj.webhooks].errors.pattern)}}var A,M=((A=function(){function n(e,o,i){t(this,n),this.translateService=e,this.dialogService=o,this.commonWorkflowService=i,this.isFormValid=new l.vpe,this.dynamicFieldsObj={},this.errorMessage="At least one recipient must be entered",this.phoneRegx=/^\+[-0-9]*$/,this.showSms=!1}return i(n,[{key:"workflowObj",get:function(){return this._workflowObj},set:function(e){console.log(e),this._workflowObj=e}},{key:"ngOnInit",value:function(){var e,n=this;-1!==(null===(e=c.N.API_BASE_URL)||void 0===e?void 0:e.indexOf("dev.api.calix.ai"))&&(this.showSms=!0),this.tabSub=this.commonWorkflowService.tabChanged$.subscribe(function(e){n.submitted=!0}),this.emitFormStatus(),this.recepientForm=this.prepareForm(),this.addValidators();var t=this,o=s.pickBy(this.workflowObj,function(e,n){return n===t.dynamicFieldsObj.emailNotes});console.log(o),this.recepientForm.patchValue(o),this.formSub=this.recepientForm.valueChanges.subscribe(function(e){n.workflowObj[n.dynamicFieldsObj.emailNotes]=e[n.dynamicFieldsObj.emailNotes],n.emitFormStatus()}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){n.language=e})}},{key:"formControls",get:function(){return this.recepientForm.controls}},{key:"onCustomPasteClick",value:function(e,n){n.preventDefault()}},{key:"removeData",value:function(n,t){var o,i,r;null===(i=null===(o=this.workflowObj)||void 0===o?void 0:o[n])||void 0===i||i.splice(t,1),this.workflowObj[n]=e(null===(r=this.workflowObj)||void 0===r?void 0:r[n]),this.emitFormStatus()}},{key:"makeList",value:function(n,t){var o=this;console.log(n),this.validEmail=!0;var i="";t?(i=t,this.recepientForm.get(n).setValue("")):(this.recepientForm.get(n).value,i=this.recepientForm.get(n).value);var r=[];i=(i=(i=(i=(i=i.trim()).replace(/,/g," ")).replace(/,\s+/g," ")).replace(/\n/g," ")).replace(/\s\s+/g," ");var l="";if(n===this.dynamicFieldsObj.emailRecipients?l=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,20}$/i:n===this.dynamicFieldsObj.webhooks?l=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/:n===this.dynamicFieldsObj.sms&&(l=this.phoneRegx),null==i?void 0:i.length){if(this.recepientForm.get(n).setValue(""),Array.prototype.push.apply(r,i.split(" ")),(r=r.filter(function(e){return e}))&&r.length){r=this.getUniqueArr(r);var a=[];r.forEach(function(e){!o.workflowObj[n].includes(e)&&l.test(null==e?void 0:e.trim())&&a.push(e.trim())}),this.workflowObj[n]=[].concat(e(this.workflowObj[n]),a),this.emitFormStatus(),console.log(this.workflowObj)}}else i&&""!=i&&this.emitFormStatus()}},{key:"pasteMakeList",value:function(e,n){n.preventDefault();var t=(n.clipboardData||window.clipboardData).getData("text");this.makeList(e,t)}},{key:"getUniqueArr",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return $.each(e,function(e,t){-1===$.inArray(t,n)&&n.push(t)}),n}},{key:"clearSearch",value:function(){}},{key:"validateEmail",value:function(e){return e&&/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,20}$/i.test(e)}},{key:"prepareForm",value:function(){var e,n={};return null===(e=this.dynamicFields)||void 0===e||e.forEach(function(e){n[e.key]=e.required?new a.NI(""):new a.NI}),new a.cw(n)}},{key:"ngOnDestroy",value:function(){var e,n;null===(e=this.formSub)||void 0===e||e.unsubscribe(),null===(n=this.tabSub)||void 0===n||n.unsubscribe()}},{key:"addValidators",value:function(){var e,n,t;null===(e=this.recepientForm.controls[this.dynamicFieldsObj.emailRecipients])||void 0===e||e.addValidators([q.bind(this)]),null===(n=this.recepientForm.controls[this.dynamicFieldsObj.webhooks])||void 0===n||n.addValidators([a.kI.pattern(/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/)]),null===(t=this.recepientForm.controls[this.dynamicFieldsObj.sms])||void 0===t||t.addValidators([a.kI.pattern(this.phoneRegx)])}},{key:"emitFormStatus",value:function(){var e,n,t,o,i,r;(null===(n=null===(e=this.workflowObj)||void 0===e?void 0:e[this.dynamicFieldsObj.emailRecipients])||void 0===n?void 0:n.length)||(null===(o=null===(t=this.workflowObj)||void 0===t?void 0:t[this.dynamicFieldsObj.sms])||void 0===o?void 0:o.length)||(null===(r=null===(i=this.workflowObj)||void 0===i?void 0:i[this.dynamicFieldsObj.webhooks])||void 0===r?void 0:r.length)?(this.isFormValid.emit(!0),this.errorMessage=""):(this.isFormValid.emit(!1),this.errorMessage="At least one recipient must be entered")}}]),n}()).\u0275fac=function(e){return new(e||A)(l.Y36(u.s),l.Y36(d.FF),l.Y36(m.Z))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-recepients"]],viewQuery:function(e,n){var t;1&e&&l.Gf(p,7),2&e&&l.iGM(t=l.CRH())&&(n.mail_recepients=t.first)},inputs:{dynamicFields:"dynamicFields",dynamicFieldsObj:"dynamicFieldsObj",workflowObj:"workflowObj"},outputs:{isFormValid:"isFormValid"},decls:31,vars:14,consts:[["class","w-100 alert alert-danger fade show my-3",4,"ngIf"],[1,"row",3,"formGroup"],[1,"col-md-6"],[1,"cco-secondary-title","border-bottom","pb-2"],[1,"form-group","mt-3"],["for","recipients"],[1,"custom-paste-input",3,"click"],["class","custom-paste-list",4,"ngFor","ngForOf"],["autocomplete","off","id","mail_recepients","name","emailRecipients","type","text","aria-required","true","aria-describedby","mail_recepients-error",1,"w-100",3,"formControlName","placeholder","keyup.enter","paste","keyup.Space","blur"],["mail_recepients",""],["class","errorMessage",4,"ngIf"],[1,"form-group"],["for","emailNotes"],["placeholder","Add a note","minlength","0","maxlength","200","id","emailNotes","rows","3",1,"form-control",2,"border-radius","22px 22px 2px 22px",3,"formControlName"],[1,"text-right"],["class","form-group mt-3",4,"ngIf"],["autocomplete","off","name","webhooks","type","text","placeholder","Add webhook URL(s)",1,"w-100",3,"formControlName","keyup.enter","paste","keyup.Space","blur"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"custom-paste-list"],["data-key","",1,"remove-input-btn","primary",3,"click"],[1,"fa","fa-times"],[1,"errorMessage"],["class","mt-1",4,"ngIf"],[1,"mt-1"],["autocomplete","off","name","sms","type","text","placeholder","Add phone number(s) (for example: +9999999999)",1,"w-100",3,"formControlName","keyup.enter","paste","keyup.Space","blur"]],template:function(e,n){1&e&&(l.TgZ(0,"section"),l.YNc(1,g,6,1,"div",0),l.TgZ(2,"div",1),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l._uU(5,"Send Notifications To"),l.qZA(),l.TgZ(6,"div",4),l.TgZ(7,"label",5),l._uU(8),l.qZA(),l.TgZ(9,"div",6),l.NdJ("click",function(e){return n.onCustomPasteClick(n.dynamicFieldsObj.emailRecipients,e)}),l.YNc(10,b,4,1,"div",7),l.TgZ(11,"input",8,9),l.NdJ("keyup.enter",function(){return n.makeList(n.dynamicFieldsObj.emailRecipients)})("paste",function(e){return n.pasteMakeList(n.dynamicFieldsObj.emailRecipients,e)})("keyup.Space",function(){return n.makeList(n.dynamicFieldsObj.emailRecipients)})("blur",function(){return n.makeList(n.dynamicFieldsObj.emailRecipients)}),l.qZA(),l.qZA(),l.YNc(13,w,3,2,"div",10),l.qZA(),l.TgZ(14,"div",11),l.TgZ(15,"label",12),l._uU(16),l.qZA(),l._UZ(17,"textarea",13),l.TgZ(18,"div",14),l.TgZ(19,"span"),l._uU(20),l.qZA(),l.TgZ(21,"span"),l._uU(22,"/200"),l.qZA(),l.qZA(),l.qZA(),l.YNc(23,x,7,3,"div",15),l.TgZ(24,"div",4),l.TgZ(25,"label",5),l._uU(26,"Webhook "),l.qZA(),l.TgZ(27,"div",6),l.NdJ("click",function(e){return n.onCustomPasteClick(n.dynamicFieldsObj.webhooks,e)}),l.YNc(28,j,4,1,"div",7),l.TgZ(29,"input",16),l.NdJ("keyup.enter",function(){return n.makeList(n.dynamicFieldsObj.webhooks)})("paste",function(e){return n.pasteMakeList(n.dynamicFieldsObj.webhooks,e)})("keyup.Space",function(){return n.makeList(n.dynamicFieldsObj.webhooks)})("blur",function(){return n.makeList(n.dynamicFieldsObj.webhooks)}),l.qZA(),l.qZA(),l.YNc(30,_,3,2,"div",10),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",n.errorMessage&&n.submitted),l.xp6(1),l.Q6J("formGroup",n.recepientForm),l.xp6(6),l.hij("",n.language.Email," "),l.xp6(2),l.Q6J("ngForOf",null==n.workflowObj?null:n.workflowObj[n.dynamicFieldsObj.emailRecipients]),l.xp6(1),l.s9C("placeholder",n.language["Add email address(es)"]),l.Q6J("formControlName",n.dynamicFieldsObj.emailRecipients),l.xp6(2),l.Q6J("ngIf",((null==n.formControls||null==n.formControls[n.dynamicFieldsObj.emailRecipients]?null:n.formControls[n.dynamicFieldsObj.emailRecipients].invalid)||(null==n.formControls||null==n.formControls[n.dynamicFieldsObj.emailRecipients]||null==n.formControls[n.dynamicFieldsObj.emailRecipients].errors?null:n.formControls[n.dynamicFieldsObj.emailRecipients].errors.invalidEmail))&&((null==n.formControls||null==n.formControls[n.dynamicFieldsObj.emailRecipients]?null:n.formControls[n.dynamicFieldsObj.emailRecipients].dirty)||(null==n.formControls||null==n.formControls[n.dynamicFieldsObj.emailRecipients]?null:n.formControls[n.dynamicFieldsObj.emailRecipients].touched)||n.submitted)),l.xp6(3),l.Oqu(n.language["Email Notes"]),l.xp6(1),l.Q6J("formControlName",n.dynamicFieldsObj.emailNotes),l.xp6(3),l.Oqu(null!=n.recepientForm.get(n.dynamicFieldsObj.emailNotes).value&&n.recepientForm.get(n.dynamicFieldsObj.emailNotes).value.length?null==n.recepientForm.get(n.dynamicFieldsObj.emailNotes).value?null:n.recepientForm.get(n.dynamicFieldsObj.emailNotes).value.length:0),l.xp6(3),l.Q6J("ngIf",n.showSms),l.xp6(5),l.Q6J("ngForOf",null==n.workflowObj?null:n.workflowObj[n.dynamicFieldsObj.webhooks]),l.xp6(1),l.Q6J("formControlName",n.dynamicFieldsObj.webhooks),l.xp6(1),l.Q6J("ngIf",(null==n.formControls||null==n.formControls[n.dynamicFieldsObj.webhooks]?null:n.formControls[n.dynamicFieldsObj.webhooks].invalid)&&((null==n.formControls||null==n.formControls[n.dynamicFieldsObj.webhooks]?null:n.formControls[n.dynamicFieldsObj.webhooks].dirty)||(null==n.formControls||null==n.formControls[n.dynamicFieldsObj.webhooks]?null:n.formControls[n.dynamicFieldsObj.webhooks].touched)||n.submitted)))},directives:[f.O5,a.JL,a.sg,f.sg,a.Fj,a.JJ,a.u,a.wO,a.nD],styles:[".heading-4[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;border-bottom:1px solid #CCCCCC;padding-bottom:5px;margin-bottom:16px}.info-text[_ngcontent-%COMP%]{font-size:16px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:0em;text-align:left}.info-text[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:600!important}.exclusions-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.exclusions-item[_ngcontent-%COMP%]{flex-grow:1;margin-bottom:3%}.exclusions-item[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.exclusions-item[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{width:80px!important}.exclusions-item[_ngcontent-%COMP%]   .p-calendar[_ngcontent-%COMP%]{width:80%!important}.exclusions-item[_ngcontent-%COMP%] + .exclusions-item[_ngcontent-%COMP%]{text-align:center}.mail-tags[_ngcontent-%COMP%]{border:1px solid transparent;background-color:#f8f8fa;min-height:89px!important;border-radius:12px 22px 2px}.mail-tags[_ngcontent-%COMP%]     .ng2-tag-input__text-input{border:1px solid transparent;background-color:#f8f8fa}.mail-tags[_ngcontent-%COMP%]     .ng2-tag-input--focused{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem #007bff40;border:none!important}.mail-tags[_ngcontent-%COMP%]     .ng2-tag-input__text-input:focus{background-color:transparent}.mail-tags[_ngcontent-%COMP%]     tag{background-color:#ebeaef!important;margin-left:10px!important;border-radius:5px!important}.mail-tags[_ngcontent-%COMP%]     .ng2-tag-input{border:unset;min-height:89px!important}.schedule-container[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:0 28%;margin-bottom:2%}.week-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.week-container[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{width:35px;height:35px;color:#4c4c4c;background-color:#f8f8fa;text-align:center;line-height:35px;border-radius:50%;margin-bottom:2%}.week-container[_ngcontent-%COMP%]   .select-day[_ngcontent-%COMP%]{width:35px;height:35px;color:#fff;background-color:#0279ff;text-align:center;line-height:35px;border-radius:50%;margin-bottom:2%}.week-container[_ngcontent-%COMP%]   .week-circle[_ngcontent-%COMP%]{padding:4px}.month-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.month-container[_ngcontent-%COMP%]   .month-info[_ngcontent-%COMP%] + .month-info[_ngcontent-%COMP%]{margin-left:10px}.month-container[_ngcontent-%COMP%]   .month-info[_ngcontent-%COMP%]{flex:0 28%;margin-bottom:2%}.diable-div[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.timezone[_ngcontent-%COMP%]{width:205px}  .p-component::-webkit-input-placeholder{opacity:.6}.custom-paste-input[_ngcontent-%COMP%]{width:100%;min-height:86px;max-height:100px;line-height:inherit;border-radius:16px 16px 0!important;background:#f8f8fa;padding:0 15px;font-size:14px;font-weight:400;color:#646363;border:1px solid transparent;cursor:text;display:flex;flex-direction:row;flex-wrap:wrap;overflow:auto}.custom-paste-input[_ngcontent-%COMP%]   .custom-paste-list[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:29px;padding:3px 2px 0;font-size:14px;background-color:#e4e4e4;border:1px solid #aaa;border-radius:4px;cursor:default;margin:3px}.custom-paste-input[_ngcontent-%COMP%]   .custom-paste-list[_ngcontent-%COMP%]   .remove-input-btn[_ngcontent-%COMP%]{color:#7e8c94;float:right;margin-right:5px;margin-left:5px;cursor:pointer}.custom-paste-input[_ngcontent-%COMP%]   .custom-paste-list[_ngcontent-%COMP%]   .remove-input-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#7e8c94}.custom-paste-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:29px!important;background:#f8f8fa;width:-moz-fit-content;width:fit-content;border:none}.custom-paste-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none!important}.note-clear[_ngcontent-%COMP%]{padding:10px 0 0 16px}.width-100[_ngcontent-%COMP%]{max-width:110px}.clear-div[_ngcontent-%COMP%]{padding-left:20px}.form-check-input[_ngcontent-%COMP%]{cursor:pointer}.privacymodal[_ngcontent-%COMP%]{padding:40px 64px}"]}),A);function q(e){return(null==e?void 0:e.value)?this.validateEmail(e.value)?null:{invalidEmail:!0}:null}},2792:function(e,n,o){o.d(n,{J:function(){return c}});var r,l=o(37716),a=o(7450),s=o(12664),c=((r=function(){function e(n,o){t(this,e),this.translateService=n,this.modal=o}return i(e,[{key:"workflowObj",get:function(){return this._workflowObj},set:function(e){this._workflowObj=e}},{key:"ngOnInit",value:function(){var e=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(n){e.language=n})}},{key:"confirmConsent",value:function(){this.workflowObj.isConsentMsgSmsPopupAccepted=!0,this.passBack()}},{key:"passBack",value:function(){this.modal.close(this.workflowObj)}}]),e}()).\u0275fac=function(e){return new(e||r)(l.Y36(a.s),l.Y36(s.Kz))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-sms-consent"]],inputs:{workflowObj:"workflowObj"},decls:19,vars:1,consts:[[1,"modal-header","consent-modal-header","d-block"],["id","showInfoModal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","add-device-model"],[1,"consent-modal"],[1,"my-2"],["href","https://www.calix.com/pages/privacy-policy.html","target","_blank"],[1,"btn-default","primary","px-3",3,"click"],["type","button","data-dismiss","modal",1,"btn-default","transparant","px-3","m-2",3,"click"]],template:function(e,n){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h5",1),l._uU(2,"Consent to Receive Notifications"),l.qZA(),l.TgZ(3,"button",2),l.NdJ("click",function(){return n.modal.dismiss("Cross click")}),l._UZ(4,"span",3),l.qZA(),l.qZA(),l.TgZ(5,"div",4),l.TgZ(6,"div",5),l._uU(7," By providing your cellular\xa0or\xa0mobile telephone number, you expressly consent to receiving calls, messages, including auto-dialed and pre-recorded message calls, and SMS messages (including text messages) from Calix\xa0on your employer\u2019s behalf\xa0to receive report alert notifications (message frequency varies). "),l._UZ(8,"br"),l._UZ(9,"br"),l._uU(10," You certify and represent that the cellular or mobile telephone number that you have provided to us is\xa0your\xa0contact number\xa0or the contact number belongs to a network operator from your organization who has consented to receive these alert notifications as a part of their responsibilities.\xa0Message and data rates may apply. "),l._UZ(11,"br"),l.TgZ(12,"div",6),l.TgZ(13,"a",7),l._uU(14,"Calix Privacy Policy"),l.qZA(),l.qZA(),l.TgZ(15,"button",8),l.NdJ("click",function(){return n.confirmConsent()}),l._uU(16," Confirm Consent "),l.qZA(),l.TgZ(17,"button",9),l.NdJ("click",function(){return n.modal.dismiss("Cross click")}),l._uU(18),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(18),l.hij(" ",n.language.Cancel," "))},styles:[".consent-modal[_ngcontent-%COMP%]{padding:24px 32px}.consent-modal-header[_ngcontent-%COMP%]{padding:14px 32px 0!important}"]}),r)},89043:function(e,n,o){o.d(n,{R:function(){return u}});var r,l=o(38583),a=(o(27946),o(67236),o(3679)),s=o(86640),c=(o(1570),o(2792),o(37716)),u=((r=i(function e(){t(this,e)})).\u0275fac=function(e){return new(e||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[l.ez,s.A0,a.UX]]}),r)}}])}();