"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[5835],{75709:function(t,n,o){o.d(n,{V:function(){return l}});var i=o(92340),e=o(37716),a=o(91841),r=o(21693);let l=(()=>{class t{constructor(t,n){this.http=t,this.issueService=n,this.baseUrl=`${i.N.API_BASE_URL}analytics-engine/`}getCategories(){return new Promise((t,n)=>{this.http.get(`${this.baseUrl}alarmMasterCategory`).subscribe(n=>{let o=[{id:"All",name:"All"}];n&&n.length>0&&(o=[],n.forEach(t=>{!t||o.push({id:t,name:t})})),o.sort((t,n)=>(t.name||"").toString().localeCompare((n.name||"").toString(),"en",{numeric:!1})),t(o)},n=>{t([])})})}getIndividualAlarmData(){return new Promise((t,n)=>{this.http.get(`${this.baseUrl}alarmMasterDetailsWithCustomSeverity`).subscribe(n=>{let o=[];n&&n.length>0&&(n=[...n.filter(t=>{var n;return"ont-power-off"!=(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())})]).forEach(t=>{t.alarm_name=t.name?t.name:"",t.alarm_category=t.category?t.category:"",t.severity=t.perceivedSeverity?t.perceivedSeverity:"",t.alarm_id=t.id?t.id:"",o.push(t)}),t(o)},n=>{t([])})})}getGroupAlarmData(){return new Promise((t,n)=>{this.http.get(`${this.baseUrl}alarmgroupscount`).subscribe(n=>{let o=[];n&&n.length>0&&(o=[],n.forEach(t=>{!t||o.push({group_name:t.name,no_of_alarms:t.count,group_id:t.uuid})})),t(o)},n=>{t([])})})}getTransformAlarmData(){return new Promise((t,n)=>{this.http.get(`${this.baseUrl}alarmRules`).subscribe(n=>{let o=[];n&&n.length>0&&n.forEach(t=>{t.alarm_name=t.name?t.name:"",t.alarmRuleId=t.alarmRuleId?t.alarmRuleId:"",o.push(t)}),t(o)},n=>{t([])})})}regionsApiLoader(){return new Promise((t,n)=>{this.regionsSubject=this.issueService.getRegions().subscribe(n=>{let o={};n.forEach(t=>{o[t.name]=(o[t.name]||0)+1}),n.forEach((t,n)=>{var i,e;t.check_region_name=t.name+" ("+(null===(i=t.fqn)||void 0===i?void 0:i.split("=")[1].split(",")[0])+")",o[t.name]>1&&(t.name=t.name+" ("+(null===(e=t.fqn)||void 0===e?void 0:e.split("=")[1].split(",")[0])+")")}),n.sort(),t(n)},n=>{t([])})})}ngOnDestroy(){this.regionsSubject&&this.regionsSubject.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(a.eN),e.LFG(r.v))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},15835:function(t,n,o){o.d(n,{l:function(){return E}});var i=o(64762),e=o(37716),a=o(3679),r=o(92340),l=o(16738),s=o(49342),c=o(7450),d=o(39895),g=o(91841),m=o(75709),u=o(89097);let h=(()=>{class t{constructor(){this.timeZone=[{name:"America/Chicago",id:"GMT-0600 (Central Standard Time)"},{name:"America/Denver",id:"GMT-0700 (Mountain Standard Time)"},{name:"America/Phoenix",id:"GMT-0700 (Mountain Standard Time)"},{name:"America/Los_Angeles",id:"GMT-0800 (Pacific Standard Time)"},{name:"Pacific/Honolulu",id:"GMT-0900 (Alaska Standard Time)"},{name:"America/Anchorage",id:"GMT-1000 (Hawaii-Aleutian Standard Time)"}]}getTimeZones(){return this.timeZone}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=o(48483),f=o(39075),b=o(21693),_=o(38583),w=o(1570);function x(t,n){if(1&t){const t=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"div",20),e.TgZ(2,"div",21),e.TgZ(3,"div",22),e._uU(4),e.qZA(),e.TgZ(5,"div"),e.TgZ(6,"a",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).goToListView()}),e._UZ(7,"img",24),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const t=e.oxw(2);e.xp6(3),e.MGl("title"," ",t.workFlowSummaryData.notification.name,""),e.xp6(1),e.hij(" ",t.workFlowSummaryData.notification.name," ")}}function O(t,n){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",26),e._uU(4),e.qZA(),e.qZA()),2&t){const t=n.$implicit;e.xp6(2),e.hij(" ",t.alarm_name," "),e.xp6(2),e.hij(" ",t.alarm_category," ")}}function v(t,n){if(1&t&&(e.ynx(0),e.YNc(1,O,5,2,"tr",25),e.BQk()),2&t){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==t.alarmsForm||null==t.alarmsForm.monitoredIndividualAlarm?null:t.alarmsForm.monitoredIndividualAlarm.data)}}function A(t,n){1&t&&(e.ynx(0),e._UZ(1,"br"),e.BQk())}function y(t,n){if(1&t&&(e.ynx(0),e.YNc(1,A,2,0,"ng-container",0),e._uU(2),e.BQk()),2&t){const t=n.$implicit,o=n.index;e.xp6(1),e.Q6J("ngIf",0!=o),e.xp6(1),e.hij(" ",t.exclusions?t.exclusions:""," ")}}function F(t,n){if(1&t&&(e.ynx(0),e.YNc(1,y,3,2,"ng-container",25),e.BQk()),2&t){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",null==t.conditionForm?null:t.conditionForm.weekDays)}}function k(t,n){1&t&&(e.ynx(0),e._uU(1,"-"),e.BQk())}function C(t,n){if(1&t&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&t){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.language.scheduleFormHalfPercentClearThresholdText(t.conditionForm.clearThreshold||0==t.conditionForm.clearThreshold?t.conditionForm.clearThreshold:"")," ")}}function P(t,n){1&t&&(e.TgZ(0,"td"),e._uU(1,"-"),e.qZA())}function M(t,n){if(1&t&&(e.ynx(0),e.TgZ(1,"tr"),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"tr"),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.qZA(),e.TgZ(11,"tr"),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"tr"),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e.YNc(20,F,2,1,"ng-container",0),e.YNc(21,k,2,0,"ng-container",0),e.qZA(),e.qZA(),e.TgZ(22,"tr"),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.TgZ(25,"td",27),e._uU(26),e.qZA(),e.qZA(),e.TgZ(27,"tr"),e.TgZ(28,"td"),e._uU(29),e.qZA(),e.YNc(30,C,2,1,"td",0),e.YNc(31,P,2,0,"td",0),e.qZA(),e.BQk()),2&t){const t=e.oxw(2);e.xp6(3),e.AsE(" ",t.language.Alarm," ",t.language["Quantity Threshold"],""),e.xp6(2),e.AsE(" ",null!=t.conditionForm&&t.conditionForm.raiseThreshold?t.conditionForm.raiseThreshold:0," ",t.language["Alarm(s)"]," "),e.xp6(3),e.AsE(" ",t.language.Alarm," ",t.language["Duration Threshold"],""),e.xp6(2),e.AsE(" ",null!=t.conditionForm&&t.conditionForm.duration?t.conditionForm.duration:0," ",t.language["Minute(s)"]," "),e.xp6(3),e.AsE(" ",t.language.Alarm," ",t.language["Soak Time"],""),e.xp6(2),e.AsE(" ",null!=t.conditionForm&&t.conditionForm.soakTime?t.conditionForm.soakTime:0," ",t.language["Minute(s)"]," "),e.xp6(3),e.Oqu(t.language.Exclusions),e.xp6(2),e.Q6J("ngIf",t.conditionForm&&t.conditionForm.weekDays&&t.conditionForm.weekDays.length>0),e.xp6(1),e.Q6J("ngIf",!t.conditionForm.weekDays||t.conditionForm&&t.conditionForm.weekDays&&0==t.conditionForm.weekDays.length),e.xp6(3),e.Oqu(t.language.Exclusions_timezone),e.xp6(2),e.Oqu(t.conditionForm.weekDays&&t.conditionForm.weekDays.length>0&&t.conditionForm.exclusions_timezone?t.conditionForm.exclusions_timezone:"-"),e.xp6(3),e.Oqu(t.language["Cleared Alarm Notification"]),e.xp6(1),e.Q6J("ngIf",t.conditionForm&&t.conditionForm.notifyOnClear),e.xp6(1),e.Q6J("ngIf",!t.conditionForm.notifyOnClear)}}function Z(t,n){if(1&t&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.qZA()),2&t){const t=n.$implicit;e.xp6(3),e.hij(" ",t.location_name?t.location_name:""," ")}}function T(t,n){if(1&t&&(e.ynx(0),e.YNc(1,Z,4,1,"tr",25),e.BQk()),2&t){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.value)}}function D(t,n){if(1&t&&(e.ynx(0),e.TgZ(1,"tr"),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.qZA(),e.YNc(6,T,2,1,"ng-container",0),e.BQk()),2&t){const t=n.$implicit;e.xp6(3),e.hij(" ",t.key?t.key:""," "),e.xp6(2),e.hij(" ",t.value.length>0&&1==t.value.length&&t.value[0].noLocation?"All Locations":t.value.length+" Location(s)"," "),e.xp6(1),e.Q6J("ngIf",t&&t.value&&t.value.length>0)}}function q(t,n){if(1&t&&(e.ynx(0),e.YNc(1,D,7,3,"ng-container",25),e.ALo(2,"keyvalue"),e.BQk()),2&t){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,null==t.conditionForm?null:t.conditionForm.regionsLocations))}}function S(t,n){if(1&t&&(e.ynx(0),e.TgZ(1,"tr"),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.qZA(),e.BQk()),2&t){const t=e.oxw(2);e.xp6(3),e.Oqu(t.language["All Regions"]),e.xp6(2),e.Oqu(t.language["All Locations"])}}function I(t,n){if(1&t&&(e.TgZ(0,"section"),e.YNc(1,x,8,2,"div",11),e.TgZ(2,"div",5),e.TgZ(3,"div",12),e.TgZ(4,"div",13),e._uU(5),e.ALo(6,"number"),e.qZA(),e.TgZ(7,"div",14),e.TgZ(8,"table",15),e.TgZ(9,"thead"),e.TgZ(10,"tr"),e.TgZ(11,"th",16),e._uU(12),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,v,2,1,"ng-container",0),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",12),e.TgZ(18,"div",13),e._uU(19),e.qZA(),e.TgZ(20,"div",17),e.TgZ(21,"table",15),e.TgZ(22,"tbody"),e.TgZ(23,"tr"),e.TgZ(24,"td"),e._uU(25),e.qZA(),e.TgZ(26,"td"),e._uU(27),e.qZA(),e.qZA(),e.YNc(28,M,32,20,"ng-container",0),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",13),e._uU(30),e.qZA(),e.TgZ(31,"div",18),e.TgZ(32,"table",15),e.TgZ(33,"tbody"),e.YNc(34,q,3,3,"ng-container",0),e.YNc(35,S,6,2,"ng-container",0),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",12),e.TgZ(37,"div",13),e._uU(38),e.qZA(),e.TgZ(39,"div",18),e._UZ(40,"app-summary-recepients",19),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.workFlowSummaryData.alarm_notifications_summary),e.xp6(4),e.AsE(" ",t.language["Monitored Alarms"]," (",e.lcZ(6,16,t.alarmsForm.totMonitoredAlarms),") "),e.xp6(7),e.Oqu(t.language["Individual Alarms"]),e.xp6(2),e.AsE(" ",(null==t.alarmsForm||null==t.alarmsForm.monitoredIndividualAlarm||null==t.alarmsForm.monitoredIndividualAlarm.data?null:t.alarmsForm.monitoredIndividualAlarm.data.length)>0?t.alarmsForm.monitoredIndividualAlarm.data.length:0," ",t.language["Alarm(s)"]," "),e.xp6(2),e.Q6J("ngIf",t.alarmsForm&&t.alarmsForm.monitoredIndividualAlarm&&t.alarmsForm.monitoredIndividualAlarm.data&&t.alarmsForm.monitoredIndividualAlarm.data.length>0),e.xp6(3),e.Oqu(t.language["Notification Trigger"]),e.xp6(6),e.Oqu(t.language.Trigger),e.xp6(2),e.Oqu(t.conditionForm.trigger?t.conditionForm.trigger:"-"),e.xp6(1),e.Q6J("ngIf",t.conditionForm&&"true"==t.conditionForm.immediate),e.xp6(2),e.Oqu(t.language["Regions & Locations"]),e.xp6(4),e.Q6J("ngIf",t.conditionForm&&t.conditionForm.regionsLocations&&t.conditionForm.regionsLocationsLength>0),e.xp6(1),e.Q6J("ngIf",t.conditionForm&&t.conditionForm.regionsLocations&&0==t.conditionForm.regionsLocationsLength),e.xp6(3),e.Oqu(t.language.Recipients),e.xp6(2),e.Q6J("workflowObj",t.recepientsInfo)}}function L(t,n){if(1&t&&(e.TgZ(0,"div",28),e.TgZ(1,"div",29),e._uU(2),e.qZA(),e.qZA()),2&t){const t=n.$implicit;e.xp6(1),e.MGl("title"," ",t,""),e.xp6(1),e.hij(" ",t," ")}}function j(t,n){if(1&t&&(e.TgZ(0,"section"),e.TgZ(1,"div",4),e.TgZ(2,"div",30),e.TgZ(3,"div",31),e.TgZ(4,"div",32),e.TgZ(5,"div",33),e.TgZ(6,"div",34),e.TgZ(7,"span",35),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const t=e.oxw();e.xp6(8),e.Oqu(t.language.Loading)}}let E=(()=>{class t{constructor(t,n,o,i,a,l,s,c,d,g,m,u){this.commonOrgService=t,this.translateService=n,this.route=o,this.router=i,this.http=a,this.apiPreDataSevice=l,this.ssoService=s,this.formBuilder=c,this.utils=d,this.dateUtils=g,this.titleService=m,this.issueService=u,this.baseUrl=`${r.N.API_BASE_URL}analytics-engine/`,this.isDev=!1,this.loading=!1,this._workFlowSummaryData={name:"",notification:{mailRecepients:[]}},this.conditionForm={raiseThreshold:0,soakTime:0,duration:0,weekDays:[]},this.scheduleForm={weekDays:[]},this.alarmsForm={monitoredIndividualAlarm:{data:[]},monitoredGroupAlarm:{data:[]},monitoredTransformAlarm:{data:[]}},this.weekNames=[{name:"MONDAY",short_name:"Mon"},{name:"TUESDAY",short_name:"Tue"},{name:"WEDNESDAY",short_name:"Wed"},{name:"THURSDAY",short_name:"Thu"},{name:"FRIDAY",short_name:"Fri"},{name:"SATURDAY",short_name:"Sat"},{name:"SUNDAY",short_name:"Sun"}],this.errorInfo="",this.getWorkFlowAPIEmitter=new e.vpe,this.categorySubgroupsAlarms=[],this.categorySubgroupsName="",this.recepientsInfo={},this.notificationsData={alarms:{groupAlarmData:{data:[]},individualAlarmData:{data:[],categoryList:[]},transformAlarmData:{data:[]},monitoredIndividualAlarm:{data:[],categoryList:[]},monitoredGroupAlarm:{data:[]},monitoredTransformAlarm:{data:[]}},conditions:{regionsDataArray:["All"],locationDataArray:["All"]}},this.titleService.setTitle("Alarm Notifications - Email Notifications - Network Operations - Operations - Operations - Calix Cloud"),this.isDev=`${r.N.API_BASE}`.indexOf("/dev.api.calix.ai")>-1}set workFlowSummaryData(t){var n,o,i,e;this._workFlowSummaryData=t,console.log(t),this.recepientsInfo={emailRecipients:null===(n=null==t?void 0:t.notification)||void 0===n?void 0:n.mailRecepients,emailNotes:null===(o=null==t?void 0:t.notification)||void 0===o?void 0:o.notes,sms:null===(i=null==t?void 0:t.notification)||void 0===i?void 0:i.sms,webhooks:null===(e=null==t?void 0:t.notification)||void 0===e?void 0:e.webhooks}}get workFlowSummaryData(){return this._workFlowSummaryData}ngOnInit(){var t;this.route.params.subscribe(t=>{this.notificationId=t.notificationId?t.notificationId:""}),this.timezones=this.utils.getTimeZones();let n=null===(t=(new Date).toString())||void 0===t?void 0:t.split(" "),o=(n[5]?n[5]:"")+" "+(n[6]?n[6]:"")+" "+(n[7]?n[7]:"")+" "+(n[8]?n[8]:""),i=this.dateUtils.getLocalTimeZoneName();this.timezones.find(t=>t.name==i)||this.timezones.push({id:o,name:i}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t,""!=this.notificationId?(this.loading=!0,this.tempConditionForm=this.formBuilder.group({region:["",a.kI.required],location:["",a.kI.required]}),this.callMultipleAPI()):this.setSummaryData()}),""!=this.notificationId?(this.loading=!0,this.tempConditionForm=this.formBuilder.group({region:["",a.kI.required],region_name:[[]],location:["",a.kI.required],location_name:[[]]}),this.callMultipleAPI()):this.setSummaryData()}callMultipleAPI(){return(0,i.mG)(this,void 0,void 0,function*(){yield Promise.all([this.getCategories(),this.getIndividualAlarmData(),this.getTransformAlarmData(),this.regionsApiLoader()]),this.mergeAlarmRules(),""!=this.notificationId&&this.getSummaryData()})}getCategories(){return new Promise((t,n)=>{this.apiPreDataSevice.getCategories().then(n=>{this.notificationsData.alarms.individualAlarmData.categoryList=[...n],this.notificationsData.alarms.monitoredIndividualAlarm.categoryList=[...n],t()})})}getIndividualAlarmData(){return new Promise((t,n)=>{this.apiPreDataSevice.getIndividualAlarmData().then(n=>{this.notificationsData.alarms.individualAlarmData.data=[...n],this.notificationsData.alarms.individualAlarmData=Object.assign({},this.notificationsData.alarms.individualAlarmData),t()})})}getGroupAlarmData(){return new Promise((t,n)=>{this.apiPreDataSevice.getGroupAlarmData().then(n=>{this.notificationsData.alarms.groupAlarmData.data=[...n],this.notificationsData.alarms.groupAlarmData=Object.assign({},this.notificationsData.alarms.groupAlarmData),t()})})}getTransformAlarmData(){return new Promise((t,n)=>{this.apiPreDataSevice.getTransformAlarmData().then(n=>{this.notificationsData.alarms.transformAlarmData.data=[...n],this.notificationsData.alarms.transformAlarmData=Object.assign({},this.notificationsData.alarms.transformAlarmData),t()})})}regionsApiLoader(){return new Promise((t,n)=>{this.apiPreDataSevice.regionsApiLoader().then(n=>{this.notificationsData.conditions.regionsDataArray=[...this.notificationsData.conditions.regionsDataArray,...n],t()})})}mergeAlarmRules(){if(this.notificationsData.alarms.individualAlarmData.data.length>0){let t=this.notificationsData.alarms.individualAlarmData.data.filter(t=>t.alarm_name.includes("multiple-onts-down")&&"PON transformed"==t.alarm_category);t.length>0&&t.forEach(t=>{let n=this.notificationsData.alarms.transformAlarmData.data.find(n=>n.alarm_name==t.alarm_name);n?(t.alarm_id=n.alarmRuleId,t.rulesexist=!0):t.rulesnotexist=!0})}}setSummaryData(){var t,n,o,i,e,a,r,s,c,d,g,m;if(this.conditionForm=Object.assign({},null===(o=null===(n=null===(t=this.workFlowSummaryData)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.workFlowConditionsForm)||void 0===o?void 0:o.value),this.scheduleForm=Object.assign({},null===(a=null===(e=null===(i=this.workFlowSummaryData)||void 0===i?void 0:i.notification)||void 0===e?void 0:e.workFlowScheduleForm)||void 0===a?void 0:a.value),this.scheduleForm&&""==(null===(r=this.scheduleForm)||void 0===r?void 0:r.notes)&&(this.scheduleForm.notes="-"),this.scheduleForm.notes=null===(s=this.scheduleForm.notes)||void 0===s?void 0:s.split("\n"),this.scheduleForm.totalMail=(null===(d=null===(c=this.workFlowSummaryData)||void 0===c?void 0:c.notification)||void 0===d?void 0:d.mailRecepients)&&this.workFlowSummaryData.notification.mailRecepients.length>0?this.workFlowSummaryData.notification.mailRecepients.length:0,this.alarmsForm=Object.assign({},null===(g=this.workFlowSummaryData)||void 0===g?void 0:g.alarms),this.workFlowDetails=Object.assign({},null===(m=this.workFlowSummaryData)||void 0===m?void 0:m.details),this.conditionForm.immediate&&"true"==this.conditionForm.immediate){this.conditionForm.trigger="Immediate";let t=this.timezones.find(t=>t.id==this.conditionForm.timezone);this.conditionForm.exclusions_timezone="",t&&(this.conditionForm.exclusions_timezone=t.id)}else{let t=new Date(this.conditionForm.scheduleStartTime);if("daily"==this.conditionForm.recurrence)this.conditionForm.trigger=this.language.recurr_everyday(l(t).format("hh:mm A"));else if("weekly"==this.conditionForm.recurrence){let n="";this.conditionForm.weekDays&&this.conditionForm.weekDays.length>0&&this.conditionForm.weekDays.filter(t=>t.scheduleWeeklyStatus).forEach((t,o)=>{o==this.conditionForm.weekDays.filter(t=>t.scheduleWeeklyStatus).length-1?(n=n.slice(0,-2),1==this.conditionForm.weekDays.filter(t=>t.scheduleWeeklyStatus).length?n+=t.short_name:n+=" and "+t.short_name):n+=t.short_name+", "}),this.conditionForm.trigger=this.language.recurr_everyweek(n,l(t).format("hh:mm A"))}else"monthly"==this.conditionForm.recurrence&&(this.conditionForm.trigger=this.language.recurr_month(this.getNumberWithOrdinal(Number(this.conditionForm.dayOfMonth)),l(t).format("hh:mm A")))}if(this.conditionForm.regionsLocations=[],this.conditionForm.regionsLocationsLength=0,this.conditionForm.location&&(0==this.conditionForm.location.length||1==this.conditionForm.location.length&&0==this.conditionForm.location.findIndex(t=>"All"==t))&&this.conditionForm.region&&this.conditionForm.region.length>0)this.conditionForm.regionsLocations=this.workFlowSummaryData.conditions.regionsDataArray.filter(t=>-1!=this.conditionForm.region.indexOf(t.id)).map(t=>(t.region_name=t.name,t.noLocation=!0,t)),this.conditionForm.regionsLocations=this.groupByKey(this.conditionForm.regionsLocations,"region_name"),this.conditionForm.regionsLocationsLength=Object.keys(this.conditionForm.regionsLocations).length;else if(this.conditionForm.location&&this.conditionForm.location.length>0){let t=this.workFlowSummaryData.conditions.regionsDataArray.filter(t=>-1!=this.conditionForm.region.indexOf(t.id)).map(t=>(t.region_name=t.name,delete t.delete,t)),n=this.workFlowSummaryData.conditions.locationDataArray.filter(t=>-1!=this.conditionForm.location.indexOf(t.id)).map(t=>(t.location_name=t.name,delete t.delete,t));this.conditionForm.regionsLocations=[...t,...n],this.conditionForm.regionsLocations.forEach(t=>{if(t.location_name&&""!=t.location_name){let n=this.conditionForm.regionsLocations.find(n=>n.check_region_name==t.check_region_name);n&&(n.delete=!0)}}),this.conditionForm.regionsLocations=this.conditionForm.regionsLocations.filter(t=>!t.delete).map(t=>(t.location_name||(t.noLocation=!0),t)),this.conditionForm.regionsLocations=this.groupByKey(this.conditionForm.regionsLocations,"region_name"),this.conditionForm.regionsLocationsLength=Object.keys(this.conditionForm.regionsLocations).length}this.conditionForm&&this.conditionForm.weekDays&&this.conditionForm.weekDays.length>0&&(this.conditionForm.weekDays=this.conditionForm.weekDays.filter(t=>1==t.checked),this.conditionForm.weekDays.forEach(t=>{t.exclusions=this.language.exclusions_days(t.short_name,this.changeTimeFormat(t.dayFrom),this.changeTimeFormat(t.dayTo))}))}changeTimeFormat(t){return""!=t?new Date(t).toLocaleString([],{hour:"2-digit",minute:"2-digit"}):""}getSummaryData(){this.http.get(`${this.baseUrl}workflow?workflowId=${this.notificationId}`).subscribe(t=>(0,i.mG)(this,void 0,void 0,function*(){var n,o,i,e,a,r,s,c,d,g,m,u,h,p,f,b,_,w,x,O,v,A,y,F,k,C;if(this.recepientsInfo={emailRecipients:null==t?void 0:t.emails,emailNotes:null==t?void 0:t.notes,sms:null==t?void 0:t.sms,webhooks:null==t?void 0:t.webhooks},t&&Object.entries(t).length>0){this.workFlowSummaryData.notification.name=t.name,this.scheduleForm.totalMail=t.emails&&t.emails.length>0?t.emails.length:0,this.alarmsForm.monitoredIndividualAlarm={data:[]},this.alarmsForm.monitoredGroupAlarm={data:[]},this.alarmsForm.monitoredTransformAlarm={data:[]},(t.alarmNames&&t.alarmNames.length>0||t.transformAlarms&&t.transformAlarms.length>0)&&(t.alarmNames=[...t.alarmNames,...t.transformAlarms],this.notificationsData.alarms.monitoredTransformAlarm.data=[],t.alarmNames.forEach(t=>{let n=this.notificationsData.alarms.individualAlarmData.data.find(n=>t==n.alarm_id);n&&this.alarmsForm.monitoredIndividualAlarm.data.push(n)})),t.alarmGroups&&t.alarmGroups.length>0&&t.alarmGroups.forEach(t=>{let n=this.notificationsData.alarms.groupAlarmData.data.find(n=>t==n.group_id);n&&this.alarmsForm.monitoredGroupAlarm.data.push(n)});let P=this.alarmsForm.monitoredGroupAlarm.data.reduce((t,n)=>t+Number(n.no_of_alarms),0);t.transformAlarms&&t.transformAlarms.length>0&&t.transformAlarms.forEach(t=>{let n=this.notificationsData.alarms.transformAlarmData.data.find(n=>t==n.alarmRuleId);n&&this.alarmsForm.monitoredTransformAlarm.data.push(n)}),this.alarmsForm.totMonitoredAlarms=P+t.alarmNames.length,t&&(""==(null==t?void 0:t.notes)||null==(null==t?void 0:t.notes))&&(t.notes="-"),this.scheduleForm.notes=null===(n=t.notes)||void 0===n?void 0:n.split("\n"),this.workFlowSummaryData.notification.mailRecepients=t.emails&&t.emails.length>0?t.emails:[];const M=Object.assign({},null===(o=this.tempConditionForm)||void 0===o?void 0:o.controls);if(t.region=null===(e=null===(i=this.notificationsData.conditions.regionsDataArray)||void 0===i?void 0:i.filter(n=>{var o;return null===(o=t.region)||void 0===o?void 0:o.includes(n.id)}))||void 0===e?void 0:e.map(t=>t.id),t.region&&t.region.length>0){this.notificationsData.conditions.locationDataArray=yield this.loadLocationValue(t.region),this.notificationsData.conditions.locationDataArray=this.issueService.appendFqn(this.notificationsData.conditions.locationDataArray),this.notificationsData.conditions.locationDataArray=this.notificationsData.conditions.locationDataArray.sort((t,n)=>(t.name||"").toString().localeCompare((n.name||"").toString(),"en",{numeric:!1}));let n=this.notificationsData.conditions.locationDataArray.map(t=>{var n;let o=(null===(n=null==t?void 0:t.fqn)||void 0===n?void 0:n.split(",")).find(t=>t.includes("REGION"));return(null==o?void 0:o.split("=").length)>0&&(t.region_name=null==o?void 0:o.split("=")[1]),t}),o={};n.forEach((t,i)=>{n.find((n,o)=>n.region_name==t.region_name&&n.regionId!=t.regionId&&o!=i)&&(o[t.region_name]=(o[t.region_name]||0)+1)}),n.forEach((t,n)=>{var i,e;t.check_region_name=t.region_name+" ("+(null===(e=null===(i=t.fqn)||void 0===i?void 0:i.split("=")[1])||void 0===e?void 0:e.split(",")[0])+")",o[t.region_name]>1&&(t.region_name=t.check_region_name)}),this.notificationsData.conditions.locationDataArray=[...n],this.notificationsData.conditions.locationDataArray.unshift({name:"All",id:"All"}),-1==t.region.indexOf("11111111-1111-1111-1111-111111111111")?M.region.setValue(t.region):M.region.setValue(["All"])}if(t.location=null===(r=null===(a=this.notificationsData.conditions.locationDataArray)||void 0===a?void 0:a.filter(n=>{var o;return null===(o=t.location)||void 0===o?void 0:o.includes(n.id)}))||void 0===r?void 0:r.map(t=>t.id),t&&t.location&&t.location.length>0&&-1==t.location.indexOf("11111111-1111-1111-1111-111111111111")?M.location.setValue(t.location):M.location.setValue(["All"]),this.conditionForm=Object.assign({},null===(s=this.tempConditionForm)||void 0===s?void 0:s.value),this.conditionForm.regionsLocations=[],this.conditionForm.regionsLocationsLength=0,this.conditionForm.location&&(0==this.conditionForm.location.length||1==this.conditionForm.location.length&&0==this.conditionForm.location.findIndex(t=>"All"==t))&&this.conditionForm.region&&this.conditionForm.region.length>0)this.conditionForm.regionsLocations=this.notificationsData.conditions.regionsDataArray.filter(t=>-1!=this.conditionForm.region.indexOf(t.id)).map(t=>(t.region_name=t.name,t.noLocation=!0,t)),this.conditionForm.regionsLocations=this.groupByKey(this.conditionForm.regionsLocations,"region_name"),this.conditionForm.regionsLocationsLength=Object.keys(this.conditionForm.regionsLocations).length;else if(this.conditionForm.location&&this.conditionForm.location.length>0){let t=this.notificationsData.conditions.regionsDataArray.filter(t=>-1!=this.conditionForm.region.indexOf(t.id)).map(t=>(t.region_name=t.name,delete t.delete,t)),n=this.notificationsData.conditions.locationDataArray.filter(t=>-1!=this.conditionForm.location.indexOf(t.id)).map(t=>(t.location_name=t.name,delete t.delete,t));this.conditionForm.regionsLocations=[...t,...n],this.conditionForm.regionsLocations.forEach(t=>{if(t.location_name&&""!=t.location_name){let n=this.conditionForm.regionsLocations.find(n=>n.check_region_name==t.check_region_name);n&&(n.delete=!0)}}),this.conditionForm.regionsLocations=this.conditionForm.regionsLocations.filter(t=>!t.delete).map(t=>(t.location_name||(t.noLocation=!0),t)),this.conditionForm.regionsLocations=this.groupByKey(this.conditionForm.regionsLocations,"region_name"),this.conditionForm.regionsLocationsLength=Object.keys(this.conditionForm.regionsLocations).length}if((null===(c=null==t?void 0:t.schedule)||void 0===c?void 0:c.immediate)&&1==t.schedule.immediate){this.conditionForm.trigger="Immediate",this.conditionForm.immediate="true";let n=this.timezones.find(n=>n.id==t.timezone);this.conditionForm.exclusions_timezone="",n&&(this.conditionForm.exclusions_timezone=n.id),this.conditionForm.clearThreshold=t.clearThreshold?t.clearThreshold:0,this.conditionForm.notifyOnClear=!!t.notifyOnClear&&t.notifyOnClear,this.conditionForm.raiseThreshold=t.raiseThreshold?t.raiseThreshold:0,this.conditionForm.duration=t.duration?t.duration:0,this.conditionForm.soakTime=t.soakTime?t.soakTime:0,t.filter.length>0&&t.filter&&(this.conditionForm.weekDays=t.filter,this.conditionForm.weekDays.forEach(t=>{var n,o;let i=new Date,e=new Date,a=null===(n=t.fromTime)||void 0===n?void 0:n.split(":"),r=null===(o=t.toTime)||void 0===o?void 0:o.split(":");i.setHours(a[0]),i.setMinutes(a[1]),e.setHours(r[0]),e.setMinutes(r[1]);let l=this.weekNames.find(n=>n.short_name.toLowerCase()==t.daysOfWeek.toLowerCase());l&&(t.exclusions=this.language.exclusions_days(l.short_name,this.changeTimeFormat(i),this.changeTimeFormat(e)))}))}else{let n=new Date;if(this.conditionForm.immediate="false",(null===(d=null==t?void 0:t.schedule)||void 0===d?void 0:d.type)&&"daily"==t.schedule.type){if(null===(u=null===(m=null===(g=null==t?void 0:t.schedule)||void 0===g?void 0:g.recurrencePattern)||void 0===m?void 0:m.daily)||void 0===u?void 0:u.startTime){let o=null===(h=t.schedule.recurrencePattern.daily.startTime)||void 0===h?void 0:h.split(":");n.setHours(o[0]),n.setMinutes(o[1])}let o=new Date(n);this.conditionForm.trigger=this.language.recurr_everyday(l(o).format("hh:mm A"))}else if((null===(p=null==t?void 0:t.schedule)||void 0===p?void 0:p.type)&&"weekly"==t.schedule.type){if(null===(_=null===(b=null===(f=null==t?void 0:t.schedule)||void 0===f?void 0:f.recurrencePattern)||void 0===b?void 0:b.weekly)||void 0===_?void 0:_.startTime){let o=null===(w=t.schedule.recurrencePattern.weekly.startTime)||void 0===w?void 0:w.split(":");n.setHours(o[0]),n.setMinutes(o[1])}let o=new Date(n),i="";(null===(v=null===(O=null===(x=null==t?void 0:t.schedule)||void 0===x?void 0:x.recurrencePattern)||void 0===O?void 0:O.weekly)||void 0===v?void 0:v.days)&&t.schedule.recurrencePattern.weekly.days.length>0&&t.schedule.recurrencePattern.weekly.days.forEach((n,o)=>{let e=this.weekNames.find(t=>t.short_name.toLowerCase()==n.toLowerCase());e&&(o==t.schedule.recurrencePattern.weekly.days.length-1?(i=i.slice(0,-2),i+=1==t.schedule.recurrencePattern.weekly.days.length?e.short_name:" and "+e.short_name):i+=e.short_name+", ")}),this.conditionForm.trigger=this.language.recurr_everyweek(i,l(o).format("hh:mm A"))}else if((null===(A=null==t?void 0:t.schedule)||void 0===A?void 0:A.type)&&"monthly"==t.schedule.type){if(null===(k=null===(F=null===(y=null==t?void 0:t.schedule)||void 0===y?void 0:y.recurrencePattern)||void 0===F?void 0:F.monthly)||void 0===k?void 0:k.startTime){let o=null===(C=t.schedule.recurrencePattern.monthly.startTime)||void 0===C?void 0:C.split(":");n.setHours(o[0]),n.setMinutes(o[1])}let o=new Date(n);this.conditionForm.trigger=this.language.recurr_month(this.getNumberWithOrdinal(Number(t.schedule.recurrencePattern.monthly.dayOfMonth)),l(o).format("hh:mm A"))}}}this.loading=!1}),t=>{this.loading=!1,this.error=!0,this.pageErrorHandle(t)})}loadLocationValue(t){if(t&&t!=["All"]&&t!=["11111111-1111-1111-1111-111111111111"]&&t.length>0){let n="";return t.forEach(t=>{"All"==t||"11111111-1111-1111-1111-111111111111"==t||(n+=`&region=${t}`)}),""!=n?this.http.get(`${r.N.API_BASE_URL}nfa/locations?tenant=0${n}`).toPromise():[]}}goToListView(){var t;let n=null===(t=null==history?void 0:history.state)||void 0===t?void 0:t.ccoAlarmNotificationsText;this.router.navigateByUrl("/cco/operations/alarms/health-alarm-notifications",{state:{ccoAlarmNotificationsText:n||""}})}pageErrorHandle(t){this.errorInfo=401==t.status?"Access Denied":this.commonOrgService.pageErrorHandle(t),this.closeAlert(),this.error=!0}closeAlert(){this.error=!1}getCategorySubgroupsAlarms(t){this.categorySubgroupsAlarms=[],this.categorySubgroupsName="",this.loading=!0,this.http.get(`${this.baseUrl}alarmgroup?alarmgroupId=${t.group_id}`).subscribe(t=>{this.loading=!1,t&&Object.entries(t).length>0&&(this.categorySubgroupsAlarms=t.alarmEventName,this.categorySubgroupsName=t.name)},t=>{this.loading=!1})}groupByKey(t,n){let o=[];return o=t.reduce((t,o)=>(t[o[n]]=t[o[n]]||[],t[o[n]].push(o),t),Object.create(null)),o}getNumberWithOrdinal(t){var n=["th","st","nd","rd"],o=t%100;return t+(n[(o-20)%10]||n[o]||n[0])}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.v),e.Y36(c.s),e.Y36(d.gz),e.Y36(d.F0),e.Y36(g.eN),e.Y36(m.V),e.Y36(u.t6),e.Y36(a.qu),e.Y36(h),e.Y36(p.s),e.Y36(f.Dx),e.Y36(b.v))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-workflow-summary"]],inputs:{workFlowSummaryData:"workFlowSummaryData"},outputs:{getWorkFlowAPIEmitter:"getWorkFlowAPIEmitter"},decls:14,vars:4,consts:[[4,"ngIf"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"container"],[1,"row"],[1,"col-md-11","modal-title"],[1,"col-md-1"],["type","button","id","","data-dismiss","modal","aria-label","Close",1,"close"],[1,"row","alarm-name-list-box"],["class","col-md-3",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"col-md-4"],[1,"heading-4"],[1,"summary-info-table","monitored"],[1,"table"],[1,"width-60"],[1,"summary-info-table","marg-b-38px"],[1,"summary-info-table"],[3,"workflowObj"],[1,"col-12","mb-4"],[1,"d-flex","justify-content-between","align-items-center"],["data-toggle","tooltip","data-placement","top",1,"alarm-title",3,"title"],["href","javascript:void(0)",3,"click"],["src"," assets/img/close-icon.svg","alt",""],[4,"ngFor","ngForOf"],[1,"pl-0"],[1,"text-break"],[1,"col-md-3"],["data-toggle","tooltip","data-placement","top",1,"alarm-name-list",3,"title"],[1,"row","mb-3"],[1,"col-md-12"],[1,"loader","mt-5"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(t,n){1&t&&(e.YNc(0,I,41,18,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e._uU(7),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"button",8),e._UZ(10,"span"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",9),e.YNc(12,L,3,2,"div",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(13,j,9,1,"section",0)),2&t&&(e.Q6J("ngIf",!n.loading),e.xp6(7),e.Oqu(n.categorySubgroupsName+(n.categorySubgroupsAlarms.length>0&&n.categorySubgroupsAlarms?" ("+n.categorySubgroupsAlarms.length+") ":"")),e.xp6(5),e.Q6J("ngForOf",n.categorySubgroupsAlarms),e.xp6(1),e.Q6J("ngIf",n.loading))},directives:[_.O5,_.sg,w.f],pipes:[_.JJ,_.Nd],styles:['.p-10[_ngcontent-%COMP%]{padding:10px}.p-15[_ngcontent-%COMP%]{padding:15px}.p-20[_ngcontent-%COMP%]{padding:20px}.p-25[_ngcontent-%COMP%]{padding:25px}.p-30[_ngcontent-%COMP%]{padding:30px}.p-35[_ngcontent-%COMP%]{padding:35px}.p-40[_ngcontent-%COMP%]{padding:40px}.p-45[_ngcontent-%COMP%]{padding:45px}.p-50[_ngcontent-%COMP%]{padding:50px}.p-55[_ngcontent-%COMP%]{padding:55px}.p-60[_ngcontent-%COMP%]{padding:60px}.pt-10[_ngcontent-%COMP%]{padding-top:10px}.pt-15[_ngcontent-%COMP%]{padding-top:15px}.pt-20[_ngcontent-%COMP%]{padding-top:20px}.pt-25[_ngcontent-%COMP%]{padding-top:25px}.pt-30[_ngcontent-%COMP%]{padding-top:30px}.pt-35[_ngcontent-%COMP%]{padding-top:35px}.pt-40[_ngcontent-%COMP%]{padding-top:40px}.pt-45[_ngcontent-%COMP%]{padding-top:45px}.pt-50[_ngcontent-%COMP%]{padding-top:50px}.pt-55[_ngcontent-%COMP%]{padding-top:55px}.pt-60[_ngcontent-%COMP%]{padding-top:60px}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.mt-25[_ngcontent-%COMP%]{margin-top:25px}.mt-30[_ngcontent-%COMP%]{margin-top:30px}.mt-35[_ngcontent-%COMP%]{margin-top:35px}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mt-45[_ngcontent-%COMP%]{margin-top:45px}.mt-50[_ngcontent-%COMP%]{margin-top:50px}.mt-55[_ngcontent-%COMP%]{margin-top:55px}.mt-60[_ngcontent-%COMP%]{margin-top:60px}.mb0[_ngcontent-%COMP%]{margin-bottom:0}.mb1[_ngcontent-%COMP%]{margin-bottom:10px}.mb15[_ngcontent-%COMP%]{margin-bottom:15px}.mb2[_ngcontent-%COMP%]{margin-bottom:20px}.mb3[_ngcontent-%COMP%]{margin-bottom:30px}.mb4[_ngcontent-%COMP%]{margin-bottom:40px}.mb5[_ngcontent-%COMP%]{margin-bottom:50px}.mb6[_ngcontent-%COMP%]{margin-bottom:60px}.mb7[_ngcontent-%COMP%]{margin-bottom:70px}.mb8[_ngcontent-%COMP%]{margin-bottom:80px}.mb9[_ngcontent-%COMP%]{margin-bottom:90px}.primary[_ngcontent-%COMP%]{color:#0279ff}.secondary[_ngcontent-%COMP%]{color:#0054b2}.calixpurple[_ngcontent-%COMP%]{color:#43367d}.calixblue[_ngcontent-%COMP%]{color:#324a9d}.calixsky[_ngcontent-%COMP%]{color:#387cbf}.calixorange[_ngcontent-%COMP%]{color:#e97b00}.brightred[_ngcontent-%COMP%]{color:#ff3600}.lightred[_ngcontent-%COMP%]{color:#ff734f}.purple[_ngcontent-%COMP%]{color:#91479b}.error[_ngcontent-%COMP%]{color:#c70000}.warning[_ngcontent-%COMP%]{color:#ff8238}.warningt[_ngcontent-%COMP%]{color:#c74900}.success[_ngcontent-%COMP%]{color:#82bf00}.successt[_ngcontent-%COMP%]{color:#507500}.caution[_ngcontent-%COMP%]{color:#f7c343}.wgrey[_ngcontent-%COMP%]{color:#f8f8fa}.snowgrey[_ngcontent-%COMP%]{color:#ebeaef}.lgrey[_ngcontent-%COMP%]{color:#ccc}.calixgrey[_ngcontent-%COMP%]{color:#9e9e9e}.blastgrey[_ngcontent-%COMP%]{color:gray}.greyaa[_ngcontent-%COMP%]{color:#1a1f22}.darkgrey[_ngcontent-%COMP%]{color:#333}.calixblack[_ngcontent-%COMP%]{color:#1a1f22}.calixblack[_ngcontent-%COMP%]{color:#000}.calixred[_ngcontent-%COMP%]{color:#fb2d55}.calixgreen[_ngcontent-%COMP%]{color:#349885}.calixaqblue[_ngcontent-%COMP%]{color:#26c0eb}.title[_ngcontent-%COMP%]{font-size:42px;font-weight:300;line-height:53px}.title-second[_ngcontent-%COMP%]{font-size:24px!important;font-style:normal;font-weight:400!important;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.heading-sm[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:22px}.listlabels[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:22px}.listdataem[_ngcontent-%COMP%]{font-size:13px;font-weight:600;line-height:21px}.listdata[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:24px}.formlabels[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:16px}.captions[_ngcontent-%COMP%]{font-size:11px;font-weight:600;line-height:13.2px}.chartno[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.btn-large[_ngcontent-%COMP%]{border-radius:26px;padding:12px;min-width:130px;text-align:center;font-size:20px;font-weight:400;color:#fff;box-shadow:5px 5px 10px #00000026;border:0}.btn-large.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-large.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-large.primary[_ngcontent-%COMP%]:focus{background:#0054b2;outline:none;box-shadow:none;border:0}.btn-large.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-large.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-large.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-default[_ngcontent-%COMP%]{border-radius:16px;padding:5px;min-width:86px;text-align:center;font-size:16px;font-weight:400;color:#fff;box-shadow:3px 3px 6px #00000026;border:0}.btn-default.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-default.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-default.primary[_ngcontent-%COMP%]:focus{background:#0054b2}.btn-default.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-default.btn-dft[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c;border:1px solid #CCCCCC}.btn-default.btn-dft[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-default.btn-dft[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-default.btn-dft.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-small[_ngcontent-%COMP%]{border-radius:12px;padding:3px;min-width:70px;text-align:center;font-size:12px;font-weight:400;color:#fff;box-shadow:2px 2px 4px #00000026;border:0}.btn-small.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-small.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-small.primary[_ngcontent-%COMP%]:focus{background:#EBEAEF}.btn-small.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-small.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-small.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-round[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;display:flex;justify-content:center;align-items:center;border:0;background-position:center;background-repeat:no-repeat;padding:0}.btn-round.info-round[_ngcontent-%COMP%]{width:32px;height:32px}.btn-round.primary[_ngcontent-%COMP%]{background-color:#0279ff}.btn-round.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-round.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-round[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none;border:0}.btn-round.btn-small-24[_ngcontent-%COMP%]{width:24px;height:24px}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow[_ngcontent-%COMP%]{height:32px;line-height:32px;min-width:110px;text-align:center;border:0;padding:0;box-shadow:2px 2px 4px #00000026;font-size:16px;font-weight:400;color:#1a1f22;justify-content:center;align-items:center;position:relative;border-radius:26px}.btn-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;top:-2px}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]{box-shadow:none}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.btn-arrow.btn-arr-nxt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:10px}.btn-arrow.primary[_ngcontent-%COMP%]{background-color:#0279ff;color:#fff}.btn-arrow.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-arrow.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-arrow.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-arrow.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}[type=radio][_ngcontent-%COMP%]:checked, [type=radio][_ngcontent-%COMP%]:not(:checked){width:16px;height:16px;min-height:16px;position:relative!important;cursor:pointer;appearance:none;-webkit-appearance:none;-moz-appearance:none}[type=radio][_ngcontent-%COMP%]:checked:before, [type=radio][_ngcontent-%COMP%]:checked:after, [type=radio][_ngcontent-%COMP%]:not(:checked):before{content:"";position:absolute;border-radius:100%}[type=radio][_ngcontent-%COMP%]:checked:before{background:#0279FF;width:16px;height:16px;top:0px}[type=radio][_ngcontent-%COMP%]:checked:after{width:12px;height:12px;background:#0279FF;top:2px;left:2px;border:1px solid #ffffff;z-index:9}[type=radio][_ngcontent-%COMP%]:not(:checked):before{background:#ffffff;border:1px solid #CCCCCC;width:16px;height:16px}[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], [type=radio][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{position:relative;padding-left:10px;cursor:pointer;display:inline-block;color:#666}[type=radio][_ngcontent-%COMP%]:checked:disabled:before{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:checked:disabled:after{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:disabled, [type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{cursor:not-allowed}[type=radio][_ngcontent-%COMP%]:not(:checked):hover:before{background:#ffffff;border:1px solid #0279FF}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:hover:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:focus{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:active{border-color:transparent!important}.heading-4[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;border-bottom:1px solid #CCCCCC;padding-bottom:5px;margin-bottom:16px}.summary-info-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;margin-bottom:0}.summary-info-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #EBEAEF!important}.summary-info-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:15px;font-style:normal;font-weight:400!important;line-height:24px;letter-spacing:0em;text-align:left;color:#4c4c4c;border:none!important;padding:0 10px 0 0}.summary-info-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #EBEAEF!important}.summary-info-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:15px;font-style:normal;font-weight:400!important;line-height:24px;letter-spacing:0em;text-align:left;color:gray;width:50%;border:none!important;padding:0 10px;word-break:break-word!important}.monitored[_ngcontent-%COMP%]{max-height:300px;overflow:auto}.monitored[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:50%}.alarm-title[_ngcontent-%COMP%]{font-family:Source Sans Pro;font-size:42px;font-style:normal;font-weight:300;line-height:53px;letter-spacing:0em;text-align:left;overflow:hidden;text-overflow:ellipsis}.subgroups-but[_ngcontent-%COMP%]{background-color:#fff;border:none}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:26px;max-width:950px!important}.modal-title[_ngcontent-%COMP%]{font-weight:300;font-size:42px;line-height:53px;word-wrap:break-word;color:#1a1f22}.alarm-name-list[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;height:26px}.alarm-name-list-box[_ngcontent-%COMP%]{max-height:550px;overflow-y:scroll}.hover-row[_ngcontent-%COMP%]{color:#0279ff!important}.hover-row[_ngcontent-%COMP%]:hover{text-decoration:underline}.width-60[_ngcontent-%COMP%]{width:60%!important}.min-height-div[_ngcontent-%COMP%]{min-height:15px}.marg-b-38px[_ngcontent-%COMP%]{margin-bottom:38px}']}),t})()},1570:function(t,n,o){o.d(n,{f:function(){return b}});var i=o(92340),e=o(37716),a=o(7450),r=o(38583);function l(t,n){1&t&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function s(t,n){1&t&&e._UZ(0,"br")}function c(t,n){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.YNc(2,s,1,0,"br",1),e.qZA()),2&t){const t=n.$implicit,o=n.last;e.xp6(1),e.hij(" ",t,""),e.xp6(1),e.Q6J("ngIf",!o)}}function d(t,n){1&t&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function g(t,n){1&t&&e._UZ(0,"br")}function m(t,n){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.YNc(2,g,1,0,"br",1),e.qZA()),2&t){const t=n.$implicit,o=n.last;e.xp6(1),e.hij(" ",t,""),e.xp6(1),e.Q6J("ngIf",!o)}}function u(t,n){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,d,2,0,"span",1),e.YNc(5,m,3,2,"span",2),e.qZA(),e.qZA()),2&t){const t=e.oxw();e.xp6(2),e.hij("SMS (",null!=t.workflowObj&&null!=t.workflowObj.sms&&t.workflowObj.sms.length?null==t.workflowObj||null==t.workflowObj.sms?null:t.workflowObj.sms.length:0,")"),e.xp6(2),e.Q6J("ngIf",!(null!=t.workflowObj&&null!=t.workflowObj.sms&&t.workflowObj.sms.length)),e.xp6(1),e.Q6J("ngForOf",null==t.workflowObj?null:t.workflowObj.sms)}}function h(t,n){1&t&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function p(t,n){1&t&&e._UZ(0,"br")}function f(t,n){if(1&t&&(e.TgZ(0,"span",3),e._uU(1),e.YNc(2,p,1,0,"br",1),e.qZA()),2&t){const t=n.$implicit,o=n.last;e.xp6(1),e.hij(" ",t,""),e.xp6(1),e.Q6J("ngIf",!o)}}let b=(()=>{class t{constructor(t){this.translateService=t}set workflowObj(t){console.log(t),this._workflowObj=t}get workflowObj(){return this._workflowObj}ngOnInit(){var t;-1!==(null===(t=i.N.API_BASE_URL)||void 0===t?void 0:t.indexOf("dev.api.calix.ai"))&&(this.showSms=!0),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(a.s))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-summary-recepients"]],inputs:{workflowObj:"workflowObj"},decls:21,vars:10,consts:[[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-break"],["class","text-break",4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(e.TgZ(0,"table",0),e.TgZ(1,"tbody"),e.TgZ(2,"tr"),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.YNc(6,l,2,0,"span",1),e.YNc(7,c,3,2,"span",2),e.qZA(),e.qZA(),e.TgZ(8,"tr"),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",3),e._uU(12),e.qZA(),e.qZA(),e.YNc(13,u,6,3,"tr",1),e.TgZ(14,"tr"),e.TgZ(15,"td"),e.TgZ(16,"span"),e._uU(17),e.qZA(),e.qZA(),e.TgZ(18,"td"),e.YNc(19,h,2,0,"span",1),e.YNc(20,f,3,2,"span",4),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.AsE("",n.language.Email," (",null!=n.workflowObj&&null!=n.workflowObj.emailRecipients&&n.workflowObj.emailRecipients.length?null==n.workflowObj||null==n.workflowObj.emailRecipients?null:n.workflowObj.emailRecipients.length:0,")"),e.xp6(2),e.Q6J("ngIf",!(null!=n.workflowObj&&null!=n.workflowObj.emailRecipients&&n.workflowObj.emailRecipients.length)),e.xp6(1),e.Q6J("ngForOf",null==n.workflowObj?null:n.workflowObj.emailRecipients),e.xp6(3),e.Oqu(n.language.Notes),e.xp6(2),e.hij(" ",null!=n.workflowObj&&n.workflowObj.emailNotes?null==n.workflowObj?null:n.workflowObj.emailNotes:"-"," "),e.xp6(1),e.Q6J("ngIf",n.showSms),e.xp6(4),e.hij("Webhook (",null!=n.workflowObj&&null!=n.workflowObj.webhooks&&n.workflowObj.webhooks.length?null==n.workflowObj||null==n.workflowObj.webhooks?null:n.workflowObj.webhooks.length:0,")"),e.xp6(2),e.Q6J("ngIf",!(null!=n.workflowObj&&null!=n.workflowObj.webhooks&&n.workflowObj.webhooks.length)),e.xp6(1),e.Q6J("ngForOf",null==n.workflowObj?null:n.workflowObj.webhooks))},directives:[r.O5,r.sg],styles:[""]}),t})()}}]);