!function(){"use strict";function e(e,i){for(var r=0;r<i.length;r++){var t=i[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,(n=t.key,o=void 0,"symbol"==typeof(o=function(e,i){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,i||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(n,"string"))?o:String(o)),t)}var n,o}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[7423],{37423:function(i,r,t){t.d(r,{t:function(){return S}});var n=t(3679),o=t(92340),a=t(37716),l=t(7450),s=t(12664),u=t(43721),c=t(49342),p=t(67798),g=t(39075),d=t(38048),m=t(39895),h=t(53668),f=t(38583),v=["removecommandInfoModal"];function Z(e,i){if(1&e){var r=a.EpF();a.TgZ(0,"div",29),a.TgZ(1,"span",30),a._UZ(2,"img",31),a.qZA(),a.TgZ(3,"button",4),a.NdJ("click",function(){return a.CHM(r),a.oxw().success=!1}),a._UZ(4,"span"),a.qZA(),a._UZ(5,"span",32),a.qZA()}if(2&e){var t=a.oxw();a.xp6(5),a.Q6J("innerHtml",t.language[t.successInfo]||t.successInfo,a.oJD)}}function A(e,i){if(1&e&&(a.TgZ(0,"div",33),a.TgZ(1,"div",34),a.TgZ(2,"div",35),a.TgZ(3,"span",36),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){var r=a.oxw();a.xp6(4),a.Oqu(r.language.Loading)}}function b(e,i){if(1&e&&(a.TgZ(0,"div"),a.TgZ(1,"p",37),a._uU(2),a.qZA(),a.qZA()),2&e){var r=a.oxw();a.xp6(2),a.Oqu(r.language[r.emailmsg])}}function I(e,i){if(1&e&&(a.TgZ(0,"div"),a.TgZ(1,"p",37),a._uU(2),a.qZA(),a.qZA()),2&e){var r=a.oxw();a.xp6(2),a.Oqu(r.language["Please Enter a valid URL"])}}function y(e,i){if(1&e&&(a.TgZ(0,"div"),a.TgZ(1,"p",37),a._uU(2),a.qZA(),a.qZA()),2&e){var r=a.oxw();a.xp6(2),a.Oqu(r.language["Please Enter a valid URL"])}}function q(e,i){if(1&e&&(a.TgZ(0,"div",33),a.TgZ(1,"div",34),a.TgZ(2,"div",35),a.TgZ(3,"span",36),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){var r=a.oxw(2);a.xp6(4),a.Oqu(r.language.Loading)}}function U(e,i){if(1&e){var r=a.EpF();a.TgZ(0,"div",38),a.TgZ(1,"h5",39),a._uU(2),a.qZA(),a.TgZ(3,"button",40),a.NdJ("click",function(){return a.CHM(r).$implicit.dismiss("Cross click")}),a._UZ(4,"span",41),a.qZA(),a.qZA(),a.TgZ(5,"div",42),a.YNc(6,q,5,1,"div",8),a.TgZ(7,"div",43),a.TgZ(8,"div",44),a._uU(9),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"div",45),a.TgZ(11,"button",46),a.NdJ("click",function(){return a.CHM(r),a.oxw().DeleteInfo()}),a._uU(12),a.qZA(),a.TgZ(13,"button",47),a.NdJ("click",function(){return a.CHM(r).$implicit.close("Save click")}),a._uU(14),a.qZA(),a.qZA()}if(2&e){var t=a.oxw();a.xp6(2),a.Oqu(t.language["Delete Support Information"]),a.xp6(4),a.Q6J("ngIf",t.loading),a.xp6(3),a.hij(" ",t.language["Are you sure you want to delete Support information"]," ? "),a.xp6(3),a.hij(" ",t.language.Delete," "),a.xp6(2),a.hij(" ",t.language.Cancel," ")}}var x,S=((x=function(){function i(e,r,t,n,o,a,l,s,u){!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.translateService=e,this.dialogService=r,this.validatorService=t,this.commonOrgService=n,this.service=o,this.titleService=a,this.sso=l,this.router=s,this.organizationApiService=u;var c=this.router.url;this.ADMIN_ORG_ID=this.sso.getOrganizationID(c),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID);var p=this.sso.getRedirectModule(c);this.titleService.setTitle("CommandIQ Support Information - ".concat("systemAdministration"===p?"System Administration":"Administration"," - Calix Cloud")),this.commonOrgService.currentPageAdder("commandIQ")}var r,t,a;return r=i,(t=[{key:"ngOnInit",value:function(){var e=this,i=window.location.host;this.isDev="".concat(o.N.API_BASE).indexOf("/dev.api.calix.ai")>-1||i.indexOf("localhost")>-1,this.SPID?this.getSupportInfo():this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(function(i){e.sso.setAdminOrgInfo(i),i&&i.spId&&(e.SPID=i.spId,e.getSupportInfo())},function(e){}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(i){e.language=i}),this.CommanDIQForm=new n.cw({companyAddress:new n.NI(""),supportPhoneNumber:new n.NI(""),supportEmail:new n.NI(""),supportUrl:new n.NI(""),billingUrl:new n.NI(""),spid:new n.NI(this.SPID)})}},{key:"modalForm",get:function(){return this.CommanDIQForm.controls}},{key:"updateInfo",value:function(){var e=this;this.submitted=!0,this.CommanDIQForm.value.supportEmail&&this.Emailchange(this.CommanDIQForm.value.supportEmail),this.CommanDIQForm.value.supportUrl&&this.urlValidation(this.CommanDIQForm.value.supportUrl,"supportUrl"),this.CommanDIQForm.value.billingUrl&&this.urlValidation(this.CommanDIQForm.value.billingUrl,"billingUrl"),(!this.CommanDIQForm.value.supportUrl&&!this.CommanDIQForm.value.supportEmail||!(this.emailerror||this.UrLError||this.UrLErrorForBilling))&&(this.CommanDIQForm.patchValue({spid:this.SPID}),this.service.UpdateSupportInfo(this.CommanDIQForm.value).subscribe(function(i){e.loading=!1,e.showSuccessMessage("Successfully Updated"),e.success=!0,e.deleteDisabled=!0,e.getSupportInfo(),e.isError&&(e.isError=!1,e.warningMessage="")},function(i){e.loading=!1,e.pageErrorHandle(i)}))}},{key:"showSuccessMessage",value:function(e){var i=this;this.closeAlert(),this.successInfo=e,this.success=!0,setTimeout(function(){i.success=!1},2500)}},{key:"allowNumersOnly",value:function(){this.phonearray=this.CommanDIQForm.value.supportPhoneNumber.split("");var e=new RegExp("^[0-9+()-]+$");this.phonearray=this.phonearray.filter(function(i){return e.test(i)});var i=this.phonearray.join("");return this.CommanDIQForm.patchValue({supportPhoneNumber:i}),!1}},{key:"getSupportInfo",value:function(){var e=this;this.loading=!0,this.service.fetchSupportInfo(this.SPID).subscribe(function(i){e.loading=!1,i&&e.CommanDIQForm.patchValue({supportPhoneNumber:null==i?void 0:i.supportPhoneNumber,supportEmail:null==i?void 0:i.supportEmail,supportUrl:null==i?void 0:i.supportUrl,billingUrl:null==i?void 0:i.billingUrl,companyAddress:null==i?void 0:i.companyAddress}),e.emailerror=!1,e.UrLError=!1,e.UrLErrorForBilling=!1,e.supportInfo=i instanceof Array?i:[i],e.loading=!1},function(i){e.pageErrorHandle(i)})}},{key:"pageErrorHandle",value:function(e){this.warningMessage=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.isError=!0,this.loading=!1}},{key:"DeleteInfo",value:function(){var e=this;this.loading=!0,this.submitted=!1,this.service.DeleteSupportInfo().subscribe(function(i){e.loading=!1,e.successInfo="Successfully Deleted",e.closeAllModal(),e.deleteDisabled=!1,e.success=!0,e.getSupportInfo()},function(i){e.pageErrorHandle(i)})}},{key:"closeAllModal",value:function(){this.loading=!1,this.dialogService.dismissAll()}},{key:"closeAlert",value:function(){this.isError=!1,this.success=!1}},{key:"openDeletemodel",value:function(){this.getSupportInfo()}},{key:"Emailchange",value:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)?(this.emailmsg="",void(this.emailerror=!1)):""!=e?(this.emailmsg="You have entered an invalid email address!",void(this.emailerror=!0)):(this.emailmsg="",void(this.emailerror=!1))}},{key:"urlValidation",value:function(e,i){if("billingUrl"===i)if(e){var r=this.validatorService.urlValidation(e);this.UrLErrorForBilling=r.error}else this.UrLErrorForBilling=!!(e="");else if(e){var t=this.validatorService.urlValidation(e);this.UrLError=t.error}else this.UrLError=!!(e="")}},{key:"clsAlphaNoOnly",value:function(e){var i=new RegExp("^[0-9:+()-]+$"),r=String.fromCharCode(e.charCode?e.charCode:e.which);return!!i.test(r)||(e.preventDefault(),!1)}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe()}}])&&e(r.prototype,t),a&&e(r,a),Object.defineProperty(r,"prototype",{writable:!1}),i}()).\u0275fac=function(e){return new(e||x)(a.Y36(l.s),a.Y36(s.FF),a.Y36(u.o),a.Y36(c.v),a.Y36(p.E),a.Y36(g.Dx),a.Y36(d.t6),a.Y36(m.F0),a.Y36(h.F))},x.\u0275cmp=a.Xpm({type:x,selectors:[["app-command-iq-white-label"]],viewQuery:function(e,i){var r;1&e&&a.Gf(v,7),2&e&&a.iGM(r=a.CRH())&&(i.removecommandInfoModal=r.first)},decls:46,vars:19,consts:[["class","w-100 alert alert-success fade show my-3",4,"ngIf"],[1,"w-100","alert","alert-danger","fade","show",3,"hidden"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"position-relative"],[1,"pr-2"],["class","loader",4,"ngIf"],[3,"formGroup"],[1,"form-group","ccl-form","row","mt-3"],["for","address",1,"col-sm-2","col-form-label","py-0"],[1,"col-sm-10"],["type","text","id","address","oninput","this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..?)\\../g, '$1')","formControlName","supportPhoneNumber",3,"placeholder","keypress","input"],[1,"form-group","ccl-form","row"],["for","PhoneNumber",1,"col-sm-2","col-form-label"],["type","text","oninput","this.value = this.value.replace(/[^a-zA-Z0-9!@#:/\\$%\\^\\&*\\)\\(+=._-]/g, '').replace(/(\\..?)\\../g, '$1')","formControlName","supportEmail",3,"placeholder","keyup"],["email",""],[4,"ngIf"],["for","email",1,"col-sm-2","col-form-label"],["type","url","oninput","this.value = this.value.replace(/[^a-zA-Z0-9!@#:/\\$%\\^\\&*\\)\\(+=._-]/g, '').replace(/(\\..?)\\../g, '$1')","formControlName","supportUrl",3,"placeholder","keyup"],["url",""],["type","url","oninput","this.value = this.value.replace(/[^a-zA-Z0-9!@#:/\\$%\\^\\&*\\)\\(+=._-]/g, '').replace(/(\\..?)\\../g, '$1')","formControlName","billingUrl",3,"placeholder","keyup"],["Billurl",""],[1,"mt-4","pt-2"],["type","submit","id","ccoOrgAdminSubmitBtn",1,"btn-default","primary","mr-3",3,"click"],["type","button","id","ccoOrgAdminCancelBtn",1,"btn-default","btn-dft",3,"click"],["class","col-md-12"],["removecommandInfoModal",""],[1,"w-100","alert","alert-success","fade","show","my-3"],[1,"success-img"],["src","./assets/img/success-icon.svg"],[3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"mandatory-msg","mb-0"],[1,"modal-header","d-block"],["id","addModal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"ccl-form","my-2"],[1,"del-dev"],[1,"modal-footer"],["type","button",1,"btn-default","primary","px-3","px-3",3,"click"],["type","button","data-dismiss","modal",1,"btn-default","btn-dft","px-3","px-3","m-2",3,"click"]],template:function(e,i){if(1&e){var r=a.EpF();a.YNc(0,Z,6,1,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"span",2),a._UZ(3,"img",3),a.qZA(),a.TgZ(4,"button",4),a.NdJ("click",function(){return i.closeAlert()}),a._UZ(5,"span"),a.qZA(),a._UZ(6,"div",5),a.qZA(),a.TgZ(7,"div",6),a.TgZ(8,"h4",7),a._uU(9),a.qZA(),a.YNc(10,A,5,1,"div",8),a.TgZ(11,"form"),a.TgZ(12,"div",9),a.TgZ(13,"div",10),a.TgZ(14,"label",11),a._uU(15),a.qZA(),a.TgZ(16,"div",12),a.TgZ(17,"input",13),a.NdJ("keypress",function(e){return i.clsAlphaNoOnly(e)})("input",function(){return i.allowNumersOnly()}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"div",14),a.TgZ(19,"label",15),a._uU(20),a.qZA(),a.TgZ(21,"div",12),a.TgZ(22,"input",16,17),a.NdJ("keyup",function(){a.CHM(r);var e=a.MAs(23);return i.Emailchange(e.value)}),a.qZA(),a.YNc(24,b,3,1,"div",18),a.qZA(),a.qZA(),a.TgZ(25,"div",14),a.TgZ(26,"label",19),a._uU(27),a.qZA(),a.TgZ(28,"div",12),a.TgZ(29,"input",20,21),a.NdJ("keyup",function(){a.CHM(r);var e=a.MAs(30);return i.urlValidation(e.value,"supportUrl")}),a.qZA(),a.YNc(31,I,3,1,"div",18),a.qZA(),a.qZA(),a.TgZ(32,"div",14),a.TgZ(33,"label",19),a._uU(34),a.qZA(),a.TgZ(35,"div",12),a.TgZ(36,"input",22,23),a.NdJ("keyup",function(){a.CHM(r);var e=a.MAs(37);return i.urlValidation(e.value,"billingUrl")}),a.qZA(),a.YNc(38,y,3,1,"div",18),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(39,"div",24),a.TgZ(40,"button",25),a.NdJ("click",function(){return i.updateInfo()}),a._uU(41),a.qZA(),a.TgZ(42,"button",26),a.NdJ("click",function(){return i.openDeletemodel()}),a._uU(43),a.qZA(),a.qZA(),a.qZA(),a.YNc(44,U,15,5,"ng-template",27,28,a.W1O)}2&e&&(a.Q6J("ngIf",i.success),a.xp6(1),a.Q6J("hidden",!i.isError),a.xp6(5),a.Q6J("innerHtml",i.warningMessage,a.oJD),a.xp6(3),a.Oqu(i.language["CommandIQ Support Information"]),a.xp6(1),a.Q6J("ngIf",i.loading),a.xp6(2),a.Q6J("formGroup",i.CommanDIQForm),a.xp6(3),a.hij("",i.language["Support Phone Number"]," "),a.xp6(2),a.s9C("placeholder",i.language["Support Phone Number"]),a.xp6(3),a.hij("",i.language["Support Email"]," "),a.xp6(2),a.s9C("placeholder",i.language["Support Email"]),a.xp6(2),a.Q6J("ngIf",i.emailerror),a.xp6(3),a.hij("",i.language["Support URL"]," "),a.xp6(2),a.s9C("placeholder",i.language["Support URL"]),a.xp6(2),a.Q6J("ngIf",i.UrLError),a.xp6(3),a.hij("",i.language["Billing URL"]," "),a.xp6(2),a.s9C("placeholder",i.language["Billing URL"]),a.xp6(2),a.Q6J("ngIf",i.UrLErrorForBilling),a.xp6(3),a.hij(" ",i.language.Update," "),a.xp6(2),a.hij(" ",i.language.Cancel," "))},directives:[f.O5,n._Y,n.JL,n.F,n.sg,n.Fj,n.JJ,n.u],styles:[""]}),x)}}])}();