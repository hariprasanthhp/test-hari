"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[8617],{82572:function(t,e,i){i.d(e,{t:function(){return V}});var s=i(37716),r=i(3679),n=i(79765),o=i(46782),a=i(88002);function l(t){const e=t.charCode;return 13===t.keyCode||(e<48||e>57?(t.preventDefault(),!1):void 0)}var u=i(92340),c=i(7450),d=i(39895),g=i(91841),h=i(89097),p=i(39075),m=i(38583),f=i(27492);let b=(()=>{class t{constructor(){this.customDigitCheck=[]}validate(t){return(0,f.eS)(this.customDigitCheck[0],this.customDigitCheck[1])(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.lG2({type:t,selectors:[["","customDigitCheck",""]],inputs:{customDigitCheck:"customDigitCheck"},features:[s._Bn([{provide:r.Cf,useExisting:t,multi:!0}])]}),t})();var v=i(26329),Z=i(77351),x=i(74062),w=i(28931),_=i(99178),T=i(74375);let A=(()=>{class t{validate(t){if(r.kI.required(t))return null;let e=t.value;return e?e.startsWith(this.customStartsWith)?null:{customStartsWith:!0}:void 0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.lG2({type:t,selectors:[["","customStartsWith","","formControlName",""],["","customStartsWith","","formControl",""],["","customStartsWith","","ngModel",""]],inputs:{customStartsWith:"customStartsWith"},features:[s._Bn([{provide:r.Cf,useExisting:t,multi:!0}])]}),t})(),O=(()=>{class t{validate(t){if(r.kI.required(t))return null;let e=t.value;return e?e.endsWith(this.customEndsWith)?{customEndsWith:!0}:null:void 0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.lG2({type:t,selectors:[["","customEndsWith","","formControlName",""],["","customEndsWith","","formControl",""],["","customEndsWith","","ngModel",""]],inputs:{customEndsWith:"customEndsWith"},features:[s._Bn([{provide:r.Cf,useExisting:t,multi:!0}])]}),t})();const C=["nameRef"];function S(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",34),s.TgZ(1,"span",35),s._UZ(2,"img",36),s.qZA(),s.TgZ(3,"button",37),s.NdJ("click",function(){return s.CHM(t),s.oxw().closeAlert()}),s._UZ(4,"span"),s.qZA(),s._UZ(5,"div",38),s.qZA()}if(2&t){const t=s.oxw();s.xp6(5),s.Q6J("innerHtml",t.errorInfo,s.oJD)}}function q(t,e){if(1&t&&(s.TgZ(0,"span",39),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language.Enter_A_Value,"")}}function P(t,e){if(1&t&&(s.TgZ(0,"span",40),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language.Name_required_validation1,"")}}function I(t,e){if(1&t&&(s.TgZ(0,"span",40),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language.Name_required_validation2,"")}}function M(t,e){if(1&t&&(s.TgZ(0,"div",41),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language.Enter_A_Value," ")}}function N(t,e){if(1&t&&(s.TgZ(0,"div",41),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language.ShortTimer_Value_Hint_Min," ")}}function D(t,e){if(1&t&&(s.TgZ(0,"div",41),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language.ShortTimer_Value_Hint_Max," ")}}function y(t,e){if(1&t&&(s.TgZ(0,"div",42),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language.Enter_A_Value," ")}}function k(t,e){if(1&t&&(s.TgZ(0,"div",42),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language.Digit_Validation_Dial_New," ")}}function E(t,e){if(1&t&&(s.TgZ(0,"div",42),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language.longDigitTimer_Value_Hint_Min," ")}}function U(t,e){if(1&t&&(s.TgZ(0,"div",42),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language.longDigitTimer_Value_Hint_Max," ")}}function J(t,e){if(1&t&&(s.TgZ(0,"div",43),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language.Enter_A_Value," ")}}function j(t,e){if(1&t&&(s.TgZ(0,"div",43),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language.Rules_Validation," ")}}function Y(t,e){if(1&t&&(s.TgZ(0,"div",42),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language.Rules_Validation2," ")}}function F(t,e){if(1&t&&(s.TgZ(0,"div",42),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language["Invalid Rule"]," ")}}function Q(t,e){if(1&t&&(s.TgZ(0,"button",44),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.language.submit," ")}}const L=function(){return["digitShortTimer","digitlongTimer"]},R=function(t){return[t]};let V=(()=>{class t{constructor(t,e,i,r,o,a,u){this.translateService=t,this.formBuilder=e,this.router=i,this.activatedRoute=r,this.http=o,this.sso=a,this.titleService=u,this.onClose=new s.vpe,this.numberOnly=l,this.unSubscribeParam$=new n.xQ,this.valueLessShort=!1,this.hasWriteAccess=!1,this.hasScopeAccess=!1,this.btnDisabled=!1,this.error=!1,this.errorInfo="",this.successInfo="",this.nameDisbable=!1,this.rulesPattern="^\\^[^\\|\\^]*(\\|\\^[^\\|\\^]*)*\\|?$",this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.isEmptySpace=!1,this.regexObj={name:/^[a-zA-Z0-9_\s-]+$/,rules:{startsWith:"^",endsWith:"^",match:"^\\^[^\\|\\^]*(\\|\\^[^\\|\\^]*)*\\|?$"}},this.errors={name:"",descriptioin:"",shortTimer:"",longTimer:"",rules:""},this.createDialPlanFormGroup(),this.dialPlanObj={name:null,description:null,shortTimer:null,longTimer:null,rules:null}}ngOnChanges(t){this.id=this.Id,this.editModalInput?(this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.dialPlanObj={name:null,description:null,shortTimer:null,longTimer:null,rules:null},this.dialPlanObj=this.editModalInput,this.dialPlanFormGroup.patchValue(this.dialPlanObj),this.nameDisbable=!0,this.id=this.editModalInput._id,this.viewDialPlan()):this.nameDisbable=!1}setTitle(t){this.router.url.includes("cco-foundation")?this.titleService.setTitle(`${this.language["Dial Plans"]}  - ${this.language["Workflow Prerequisites"]} - ${this.language.configuration} - ${this.language.Deployment} - ${this.language["Calix Cloud"]}`):this.router.url.includes("/cco/services/service-profiles/dial-plan")?this.titleService.setTitle(`${this.language["RG Dial Plans"]} - ${this.language["Services Profiles"]} - ${this.language.Services} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`):this.router.url.includes("/support/netops-management")&&this.titleService.setTitle(`${this.language["Dial Plans"]} - ${this.language.Configurations} - ${this.language.NetOps} - ${this.language.Support} - ${this.language["Calix Cloud"]}`)}ngOnInit(){var t,e;this.id=this.Id,this.editModalInput?(this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.dialPlanObj={name:null,description:null,shortTimer:null,longTimer:null,rules:null},this.dialPlanObj=this.editModalInput,this.dialPlanFormGroup.patchValue(this.dialPlanObj),this.nameDisbable=!0,this.id=this.editModalInput._id,this.viewDialPlan()):this.nameDisbable=!1,this.id=this.activatedRoute.snapshot.paramMap.get("id"),this.id&&this.viewDialPlan(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t,this.errors.name=this.language.Enter_A_Value,this.errors.shortTimer=this.language["Please enter a value less than or equal to 16"],this.errors.longTimer=this.language.Enter_A_Value,this.errors.longTimer=this.language.Name_Validation2_dial_new,this.errors.rules=this.language.Rules_Validation,this.errors.rules=this.language.Rules_Validation2,this.errors.rules=this.language["Invalid Rule"],this.errors.name=this.language.Enter_A_Value,this.errors.shortTimer=this.language.Enter_A_Value,this.errors.longTimer=this.language.Enter_A_Value,this.errors.name=this.language["Please enter value between 4 and 20 characters long"],this.errors.name=this.language.Name_Validation_dial_new,this.errors.shortTimer=this.language["Please enter a value greater than or equal to 1"],this.errors.shortTimer=this.language["Please enter a value less than or equal to 16"],this.errors.shortTimer=this.language.Number_Validation_Dial_New,this.errors.longTimer=this.language.Digit_Validation_Dial_New,this.errors.longTimer=this.language.Value_Hint,this.setTitle(this.router.url)}),this.setTitle(this.router.url),this.routerState$=this.activatedRoute.paramMap.pipe((0,o.R)(this.unSubscribeParam$),(0,a.U)(()=>window.history.state)),this.routerState$.subscribe(t=>{t&&null!=t.dialPlanObj&&(this.dialPlanObj=t.dialPlanObj,this.dialPlanFormGroup.patchValue(this.dialPlanObj),this.nameDisbable=!0)});let i=this.sso.getScopes();this.router.url.includes("cco-foundation")||this.router.url.includes("cco/services/service-profiles/dial-plan")?this.router.url.includes("cco/services/service-profiles/dial-plan")?u.N.VALIDATE_SCOPE?((null===(t=i["cloud.rbac.coc.services.serviceprofiles.rgdialplans"])||void 0===t?void 0:t.length)&&(this.hasScopeAccess=!0),i&&(null===(e=i["cloud.rbac.coc.services.serviceprofiles.rgdialplans"])||void 0===e?void 0:e.includes("write"))&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):u.N.VALIDATE_SCOPE?(i["cloud.rbac.foundation.configurations"]=i["cloud.rbac.foundation.configurations"]?i["cloud.rbac.foundation.configurations"]:[],i&&i["cloud.rbac.foundation.configurations"].includes("write")&&(this.hasWriteAccess=!0,this.hasScopeAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):u.N.VALIDATE_SCOPE?(i["cloud.rbac.csc.netops.config.dial_plan"]=i["cloud.rbac.csc.netops.config.dial_plan"]?i["cloud.rbac.csc.netops.config.dial_plan"]:[],i&&i["cloud.rbac.csc.netops.config.dial_plan"]&&-1!==i["cloud.rbac.csc.netops.config.dial_plan"].indexOf("write")&&(this.hasWriteAccess=!0,this.hasScopeAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0),this.hasScopeAccess||this.sso.setPageAccess(!1)}ngAfterViewInit(){}ngOnDestroy(){this.languageSubject.unsubscribe(),this.unSubscribeParam$.next(),this.unSubscribeParam$.complete()}createDialPlanFormGroup(){this.dialPlanFormGroup=this.formBuilder.group({name:[null,[r.kI.required,r.kI.maxLength(20),r.kI.minLength(4),r.kI.pattern("/^[a-zA-Z0-9_s-]+$/")]],description:null,shortTimer:[null,[r.kI.required,r.kI.maxLength(2),r.kI.max(16),r.kI.min(1)]],longTimer:[null,[r.kI.required,r.kI.maxLength(2),r.kI.max(20),r.kI.min(4)]],rules:[null,r.kI.required]})}validateTimer(){this.dialPlanFormGroup.get("longTimer").valueChanges.subscribe(t=>{t&&Number(t)<this.shortTimer.value&&this.longTimer.setErrors({exceedsError:!0})})}validateRules(){this.dialPlanFormGroup.get("rules").valueChanges.subscribe(t=>{t&&!t.startsWith("^",0)?this.rules.setErrors({invalidStartRule:!0}):t&&t.endsWith("^")&&this.rules.setErrors({invalidEndRule:!0})})}goBack(t){this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.onClose.emit("close")}onSubmit(){}verifyName(){if(this.error=!1,this.errors.name="",this.valueLessShort=!1,!this.input.name)return this.errors.name=this.language.Enter_A_Value,void(this.error=!0);let t=this.input.name.length;return t<4||t>20?(this.errors.name=this.language.Number_hint,void(this.error=!0)):this.regexObj.name.test(this.input.name)?void 0:(this.errors.name=this.language.Name_Validation_dial_new,void(this.error=!0))}verifyShorTimer(){return this.error=!1,this.errors.shortTimer="",this.valueLessShort=!1,this.input.shortTimer?this.input.shortTimer.length<1?(this.errors.shortTimer=this.language["Please enter a value greater than or equal to 1"],void(this.error=!0)):this.input.shortTimer.length>16?(this.errors.shortTimer=this.language.Value_Hint_Max,void(this.error=!0)):void 0:(this.errors.shortTimer=this.language.Enter_A_Value,void(this.error=!0))}verifyLongimer(){return this.error=!1,this.errors.longTimer="",this.valueLessShort=!1,this.input.longTimer?this.input.longTimer<=this.input.shortTimer?(this.errors.longTimer=this.language.Digit_Validation_Dial_New,this.error=!0,void(this.input.longTimer<4&&(this.valueLessShort=!0))):this.input.longTimer>20?(this.errors.longTimer=this.language.Name_Validation2_dial_new,void(this.error=!0)):void 0:(this.errors.longTimer=this.language.Enter_A_Value,void(this.error=!0))}verifyRules(){return this.error=!1,this.errors.shortTimer="",this.valueLessShort=!1,this.input.rules.startsWith("^")?this.input.rules.endsWith("^")?(this.errors.rules=this.language.Rules_Validation2,void(this.error=!0)):this.input.rules.match("^\\^[^\\|\\^]*(\\|\\^[^\\|\\^]*)*\\|?$")?void 0:(this.errors.rules=this.language["Invalid Rule"],void(this.error=!0)):(this.errors.rules=this.language.Rules_Validation,void(this.error=!0))}nameSpaceNotAlloed(t){var e;this.isEmptySpace=0==(null===(e=t.target.value)||void 0===e?void 0:e.trim().length)}doSubmit(){if(this.error=!1,this.errors={name:"",descriptioin:"",shortTimer:"",longTimer:"",rules:""},this.valueLessShort=!1,!this.input.name)return this.errors.name=this.language.Enter_A_Value,void(this.error=!0);if(this.input.shortTimer||(this.errors.shortTimer=this.language.Enter_A_Value,this.error=!0),this.input.longTimer||(this.errors.longTimer=this.language.Enter_A_Value,this.error=!0),!this.input.rules.startsWith("^"))return this.errors.rules=this.language.Rules_Validation,void(this.error=!0);let t=this.input.name.length;if(this.input.name&&t<4||t>20)return this.errors.name=this.language["Please enter value between 4 and 20 characters long"],void(this.error=!0);if(this.input.name&&!this.regexObj.name.test(this.input.name))return this.errors.name=this.language.Name_Validation_dial_new,void(this.error=!0);if(this.input.shortTimer&&this.input.shortTimer<1)return this.errors.shortTimer=this.language["Please enter a value greater than or equal to 1"],void(this.error=!0);if(this.input.shortTimer&&this.input.shortTimer>16)return this.errors.shortTimer=this.language.Number_Validation_Dial_New,void(this.error=!0);if(this.input.longTimer<=this.input.shortTimer)return this.errors.longTimer=this.language.Digit_Validation_Dial_New,this.error=!0,void(this.input.longTimer<4&&(this.valueLessShort=!0));if(this.input.longTimer&&this.input.longTimer<4)return this.errors.longTimer=this.language.Value_Hint,void(this.error=!0);if(this.input.longTimer&&this.input.longTimer<this.input.shortTimer)return this.errors.longTimer=this.language.Digit_Validation_Dial_New,void(this.error=!0);if(this.input.longTimer&&this.input.longTimer>20)return this.errors.longTimer=this.language.Name_Validation2_dial_new,void(this.error=!0);if(this.input.rules.endsWith("^"))return this.errors.rules=this.language.Rules_Validation2,void(this.error=!0);if(!this.input.rules.match("^\\^[^\\|\\^]*(\\|\\^[^\\|\\^]*)*\\|?$"))return this.errors.rules=this.language["Invalid Rule"],void(this.error=!0);if(this.input.rules=this.input.rules.toString().includes("|")?this.input.rules.toString().split("|"):this.input.rules.toString().split(),this.btnDisabled=!1,this.id=this.Id,this.id){delete this.input._id;let t=`${u.N.SUPPORT_URL}/netops-dp/dial-plan/${this.id}?${this.sso.getOrg(this.orgId)}_id=${this.id}`;this.http.put(t,this.input).subscribe(t=>{this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.onClose.emit("submit")},t=>{this.input.rules&&(this.input.rules=this.input.rules.length>1?this.input.rules.join("|"):this.input.rules.toString("")),this.input=this.input,this.pageErrorHandle(t)})}else{let t=`${u.N.SUPPORT_URL}/netops-dp/dial-plan?${this.sso.getOrg(this.orgId)}`;this.http.post(t,this.input).subscribe(t=>{this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.onClose.emit("submit")},t=>{this.input.rules&&(this.input.rules=this.input.rules.length>1?this.input.rules.join("|"):this.input.rules.toString("")),this.input=this.input,this.pageErrorHandle(t)})}}constructDialPad(){const t=this.dialPlanFormGroup.getRawValue();return this.dialPlanObj.name=t.name.toString().trim(),this.dialPlanObj.description=null!==t.description?t.description.toString().trim():null,this.dialPlanObj.shortTimer=Number(t.shortTimer),this.dialPlanObj.longTimer=Number(t.longTimer),this.dialPlanObj.rules=t.rules.toString().includes("|")?t.rules.toString().split("|"):t.rules.toString().split(),this.dialPlanObj}get name(){return this.dialPlanFormGroup.get("name")}get description(){return this.dialPlanFormGroup.get("description")}get shortTimer(){return this.dialPlanFormGroup.get("shortTimer")}get longTimer(){return this.dialPlanFormGroup.get("longTimer")}get rules(){return this.dialPlanFormGroup.get("rules")}viewDialPlan(){let t=`${u.N.SUPPORT_URL}/netops-dp/dial-plan/${this.id}?${this.sso.getOrg(this.orgId)}_id=${this.id}`;this.http.get(t).subscribe(t=>{t.rules&&(t.rules=t.rules.length>1?t.rules.join("|"):t.rules.toString("")),this.input=t,delete this.input.orgId},t=>{this.pageErrorHandle(t)})}closeAlert(){this.error=!1,this.success=!1}showError(t){this.closeAlert(),this.errorInfo=t,this.error=!0}pageErrorHandle(t){this.btnDisabled=!1,this.errorInfo=401==t.status?this.language["Access Denied"]:this.sso.pageErrorHandle(t),this.closeAlert(),this.error=!0,$("html, body").animate({scrollTop:0},"slow")}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(c.s),s.Y36(r.qu),s.Y36(d.F0),s.Y36(d.gz),s.Y36(g.eN),s.Y36(h.t6),s.Y36(p.Dx))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-dial-plan-new"]],viewQuery:function(t,e){if(1&t&&s.Gf(C,5),2&t){let t;s.iGM(t=s.CRH())&&(e.nameRef=t.first)}},inputs:{editModalInput:"editModalInput",Id:"Id"},outputs:{onClose:"onClose"},features:[s.TTD],decls:63,vars:53,consts:[["class","w-100 alert alert-danger fade show margin-top-20",4,"ngIf"],["id","dial-plan-form","novalidate","",1,"form-group","ccl-form",3,"customDigitCheck","ngSubmit"],["myForm","ngForm"],[1,"form-group","row","ccl-form","required"],["for","name",1,"col-md-12","col-form-label"],[1,"error"],[1,"col-md-12",3,"ngClass"],["type","text","id","name","name","name","customMin","4","customMax","20","required","","aria-required","true","aria-describedby","name-error","aria-invalid","true","autocomplete","new-password","pattern","^[a-zA-Z0-9_\\s]+$","trimSpace","",1,"form-control",3,"placeholder","ngModel","disabled","formValue","ngModelChange"],["name","ngModel"],["class","pl-3","id","name-error",4,"ngIf"],["class","","id","name-error",4,"ngIf"],[1,"form-group","row","ccl-form"],["for","description",1,"col-md-12","col-form-label"],[1,"col-md-12"],["type","text","name","description","maxlength","100","id","dail-description","trimSpace","",1,"form-control",3,"placeholder","ngModel","formValue","ngModelChange"],["for","digitShortTimer",1,"col-md-12","col-form-label"],["id","digitShortTimer","type","number","required","","customNumMin","1","min","1","customNumMax","16","customNeg","","name","digitShortTimer","data-toggle","tooltip","data-placement","bottom","aria-required","true","aria-describedby","digitShortTimer-error","aria-invalid","true","autocomplete","new-password",1,"form-control",3,"ngModel","title","ngModelChange"],["digitShortTimer","ngModel"],["class","errorMessage","id","digitShortTimer-error",4,"ngIf"],["for","digitlongTimer",1,"col-md-12","col-form-label"],["id","digitlongTimer","type","number","required","","customNumMin","4","min","1","customNumMax","20","customNeg","","name","digitlongTimer","data-toggle","tooltip","data-placement","bottom","aria-required","true","aria-describedby","digitlongTimer-error","aria-invalid","true","autocomplete","new-password",1,"form-control",3,"ngModel","title","ngModelChange"],["digitlongTimer","ngModel"],["class","errorMessage","id","digitlongTimer-error",4,"ngIf"],["for","Rules",1,"col-md-12","col-form-label"],[1,"col-md-12","rules-textarea",3,"ngClass"],["id","Rules","type","number","required","","customNeg","","name","Rules","data-toggle","tooltip","customStartsWith","^","customEndsWith","^","data-placement","bottom","aria-required","true","aria-describedby","Rules-error","aria-invalid","true","autocomplete","new-password","trimSpace","",1,"form-control",3,"ngModel","placeholder","title","pattern","formValue","ngModelChange"],["Rules","ngModel"],["class","errorMessage","id","Rules-error",4,"ngIf"],[1,"row","mt-3"],[1,"col-12"],["role","toolbar","aria-label","Toolbar with button groups",1,"btn-toolbar"],["role","group","aria-label","First group",1,"btn-group","mr-2"],["type","submit","class","btn btn-primary btn-sm br-26 px-3","id","submit-btn",4,"ngIf"],["type","button","id","cancel-btn",1,"btn-default","btn-dft",3,"click"],[1,"w-100","alert","alert-danger","fade","show","margin-top-20"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button","id","err-mss",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],["id","name-error",1,"pl-3"],["id","name-error",1,""],["id","digitShortTimer-error",1,"errorMessage"],["id","digitlongTimer-error",1,"errorMessage"],["id","Rules-error",1,"errorMessage"],["type","submit","id","submit-btn",1,"btn","btn-primary","btn-sm","br-26","px-3"]],template:function(t,e){if(1&t){const t=s.EpF();s.YNc(0,S,6,1,"div",0),s.TgZ(1,"form",1,2),s.NdJ("ngSubmit",function(){return s.CHM(t),s.MAs(2).form.valid&&e.doSubmit()}),s.TgZ(3,"div",3),s.TgZ(4,"label",4),s._uU(5),s.TgZ(6,"span",5),s._uU(7,"*"),s.qZA(),s.qZA(),s.TgZ(8,"div",6),s.TgZ(9,"input",7,8),s.NdJ("ngModelChange",function(t){return e.input.name=t})("ngModelChange",function(t){return e.nameSpaceNotAlloed(t)}),s.qZA(),s.YNc(11,q,2,1,"span",9),s.YNc(12,P,2,1,"span",10),s.YNc(13,I,2,1,"span",10),s.qZA(),s.qZA(),s.TgZ(14,"div",11),s.TgZ(15,"label",12),s._uU(16),s.qZA(),s.TgZ(17,"div",13),s.TgZ(18,"input",14),s.NdJ("ngModelChange",function(t){return e.input.description=t}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"div",3),s.TgZ(20,"label",15),s._uU(21),s.TgZ(22,"span",5),s._uU(23,"*"),s.qZA(),s.qZA(),s.TgZ(24,"div",6),s.TgZ(25,"input",16,17),s.NdJ("ngModelChange",function(t){return e.input.shortTimer=t}),s.qZA(),s.YNc(27,M,2,1,"div",18),s.YNc(28,N,2,1,"div",18),s.YNc(29,D,2,1,"div",18),s.qZA(),s.qZA(),s.TgZ(30,"div",3),s.TgZ(31,"label",19),s._uU(32),s.TgZ(33,"span",5),s._uU(34,"*"),s.qZA(),s.qZA(),s.TgZ(35,"div",6),s.TgZ(36,"input",20,21),s.NdJ("ngModelChange",function(t){return e.input.longTimer=t}),s.qZA(),s.YNc(38,y,2,1,"div",22),s.YNc(39,k,2,1,"div",22),s.YNc(40,E,2,1,"div",22),s.YNc(41,U,2,1,"div",22),s.qZA(),s.qZA(),s.TgZ(42,"div",3),s.TgZ(43,"label",23),s._uU(44),s.TgZ(45,"span",5),s._uU(46,"*"),s.qZA(),s.qZA(),s.TgZ(47,"div",24),s.TgZ(48,"textarea",25,26),s.NdJ("ngModelChange",function(t){return e.input.rules=t}),s._uU(50,"        "),s.qZA(),s.YNc(51,J,2,1,"div",27),s.YNc(52,j,2,1,"div",27),s.YNc(53,Y,2,1,"div",22),s.YNc(54,F,2,1,"div",22),s.qZA(),s.qZA(),s.TgZ(55,"div",28),s.TgZ(56,"div",29),s.TgZ(57,"div",30),s.TgZ(58,"div",31),s.YNc(59,Q,2,1,"button",32),s.qZA(),s.TgZ(60,"div",31),s.TgZ(61,"button",33),s.NdJ("click",function(){return e.goBack(null)}),s._uU(62),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.MAs(2),i=s.MAs(10),r=s.MAs(26),n=s.MAs(37),o=s.MAs(49);s.Q6J("ngIf",e.error&&e.errorInfo),s.xp6(1),s.Q6J("customDigitCheck",s.DdM(44,L)),s.xp6(4),s.hij("",e.language.Name," "),s.xp6(3),s.Q6J("ngClass",s.VKq(45,R,(null!=i.errors&&i.errors.required||null!=i.errors&&i.errors.pattern||null!=i.errors&&i.errors.customMin||null!=i.errors&&i.errors.customMax||e.isEmptySpace)&&(t.submitted||i.touched)?"errorMessage":"")),s.xp6(1),s.s9C("placeholder",e.language.Name),s.Q6J("ngModel",e.input.name)("disabled",e.nameDisbable)("formValue",e.input),s.xp6(2),s.Q6J("ngIf",(i.touched||t.submitted)&&(null==i.errors?null:i.errors.required)||e.isEmptySpace),s.xp6(1),s.Q6J("ngIf",(i.touched||t.submitted)&&(null==i.errors?null:i.errors.pattern)),s.xp6(1),s.Q6J("ngIf",(i.touched||t.submitted)&&((null==i.errors?null:i.errors.customMin)||(null==i.errors?null:i.errors.customMax))),s.xp6(3),s.AsE("",e.language.description," (",e.language.Optional,")"),s.xp6(2),s.s9C("placeholder",e.language.description),s.Q6J("ngModel",e.input.description)("formValue",e.input),s.xp6(3),s.hij("",e.language.Digit_shortimer,"(s) "),s.xp6(3),s.Q6J("ngClass",s.VKq(47,R,(null!=r.errors&&r.errors.required||null!=r.errors&&r.errors.customNumMin||null!=r.errors&&r.errors.customNeg)&&(t.submitted||r.touched)?"errorMessage":"")),s.xp6(1),s.s9C("title",e.language.Digit_shortimer),s.Q6J("ngModel",e.input.shortTimer),s.xp6(2),s.Q6J("ngIf",(null==r.errors?null:r.errors.required)&&(t.submitted||r.touched)),s.xp6(1),s.Q6J("ngIf",((null==r.errors?null:r.errors.customNumMin)||(null==r.errors?null:r.errors.customNeg))&&(t.submitted||r.touched)),s.xp6(1),s.Q6J("ngIf",((null==r.errors?null:r.errors.customNumMax)||(null==r.errors?null:r.errors.customNeg))&&(t.submitted||r.touched)),s.xp6(3),s.hij("",e.language.Digit_longimer,"(s) "),s.xp6(3),s.Q6J("ngClass",s.VKq(49,R,(null!=n.errors&&n.errors.required||null!=n.errors&&n.errors.longDigitTimer||null!=n.errors&&n.errors.customNumMin||null!=n.errors&&n.errors.customNeg)&&(t.submitted||n.touched)?"errorMessage":"")),s.xp6(1),s.s9C("title",e.language.Digit_longimer),s.Q6J("ngModel",e.input.longTimer),s.xp6(2),s.Q6J("ngIf",(null==n.errors?null:n.errors.required)&&(t.submitted||n.touched)),s.xp6(1),s.Q6J("ngIf",(null==n.errors?null:n.errors.longDigitTimer)&&(t.submitted||n.touched)),s.xp6(1),s.Q6J("ngIf",((null==n.errors?null:n.errors.customNumMin)||(null==n.errors?null:n.errors.customNeg))&&(t.submitted||n.touched)),s.xp6(1),s.Q6J("ngIf",((null==n.errors?null:n.errors.customNumMax)||(null==n.errors?null:n.errors.customNeg))&&(t.submitted||n.touched)),s.xp6(3),s.hij("",e.language.Rules," "),s.xp6(3),s.Q6J("ngClass",s.VKq(51,R,(null!=o.errors&&o.errors.required||null!=o.errors&&o.errors.pattern)&&(t.submitted||o.touched)?"errorMessage":"")),s.xp6(1),s.MGl("placeholder","",e.language.RegEx_Pattern_eg,"::^911n|^411|^[2-9][0-9]{6}"),s.MGl("title","",e.language.RegEx_Pattern_eg,"::^911n|^411|^[2-9][0-9]{6}"),s.Q6J("ngModel",e.input.rules)("pattern",e.rulesPattern)("formValue",e.input),s.xp6(3),s.Q6J("ngIf",(null==o.errors?null:o.errors.required)&&(t.submitted||o.touched)),s.xp6(1),s.Q6J("ngIf",(null==o.errors?null:o.errors.customStartsWith)&&(t.submitted||o.touched)),s.xp6(1),s.Q6J("ngIf",(null==o.errors?null:o.errors.customEndsWith)&&(t.submitted||o.touched)),s.xp6(1),s.Q6J("ngIf",(null==o.errors?null:o.errors.pattern)&&(t.submitted||o.touched)),s.xp6(5),s.Q6J("ngIf",e.hasWriteAccess),s.xp6(3),s.hij(" ",e.language.cancel," ")}},directives:[m.O5,r._Y,r.JL,r.F,b,m.mk,r.Fj,v.a,Z.Z,r.Q7,r.c5,x.f,r.JJ,r.On,r.nD,r.qQ,r.wV,w.D,_.a,T.v,A,O],styles:[".btn-orange[_ngcontent-%COMP%]{background-color:#1d9e74;border-color:#1d9e74;color:#fff}.br-26[_ngcontent-%COMP%]{border-radius:26px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border-radius:20px;background:#F8F8FA}.form-control.is-valid[_ngcontent-%COMP%], .form-control.is-invalid[_ngcontent-%COMP%]{background-image:none;padding-right:inherit}.form-control[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.rules-textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:60px!important;height:auto}"]}),t})()},19718:function(t,e,i){i.d(e,{U:function(){return F}});var s=i(91841),r=i(79765),n=i(35758),o=i(92340),a=i(46782),l=i(88002),u=i(91704),c=i(23771),d=i(37716),g=i(7450),h=i(39075),p=i(94761),m=i(89097),f=i(39895),b=i(12664);let v=(()=>{class t{constructor(t){this.http=t}delete(t){return this.http.delete(t)}}return t.\u0275fac=function(e){return new(e||t)(d.LFG(s.eN))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Z=i(38583),x=i(82572);const w=["dialPlanDeleteModalRef"],_=["closeBtn"],T=["openDialogBtn"];function A(t,e){if(1&t&&(d.TgZ(0,"div",9),d._uU(1),d.qZA()),2&t){const t=d.oxw();d.xp6(1),d.hij(" ",t.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function O(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",10),d.TgZ(1,"span",11),d._UZ(2,"img",12),d.qZA(),d.TgZ(3,"button",13),d.NdJ("click",function(){return d.CHM(t),d.oxw().closeAlert()}),d._UZ(4,"span"),d.qZA(),d.TgZ(5,"div",14),d.TgZ(6,"strong"),d._uU(7),d.ALo(8,"titlecase"),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.oxw();d.xp6(7),d.Oqu(d.lcZ(8,1,t.successMsg))}}function C(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",15),d.TgZ(1,"div",16),d.TgZ(2,"span",17),d._UZ(3,"img",18),d.qZA(),d.TgZ(4,"span",19),d.TgZ(5,"span",20),d._uU(6),d.qZA(),d._UZ(7,"span",21),d.qZA(),d.TgZ(8,"button",22),d.NdJ("click",function(){return d.CHM(t),d.oxw().closeAlert()}),d._uU(9),d._UZ(10,"span"),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.oxw();d.xp6(6),d.hij("",t.language.Warning,"!"),d.xp6(1),d.Q6J("innerHtml",t.errorMsg,d.oJD),d.xp6(2),d.hij(" ",t.language.OK,"")}}function S(t,e){if(1&t&&(d.TgZ(0,"div",23),d.TgZ(1,"div",24),d._uU(2),d.qZA(),d.qZA()),2&t){const t=d.oxw();d.xp6(2),d.hij("",t.language["Dial Plan"]," ")}}function q(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"button",37,38),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).openDialog()}),d._uU(2),d.qZA()}if(2&t){const t=d.oxw(2);d.xp6(2),d.Oqu(t.language.New_Dial_Plan)}}function P(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"app-dial-plan-new",39),d.NdJ("onClose",function(e){return d.CHM(t),d.oxw(2).onModalClose(e)}),d.qZA()}if(2&t){const t=d.oxw(2);d.Q6J("editModalInput",t.editDialPlanObj)("Id",t.editDialPlanObj?t.editDialPlanObj._id:"")}}function I(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",25),d.YNc(1,q,3,1,"button",26),d.TgZ(2,"div",27),d.TgZ(3,"div",28),d.TgZ(4,"div",29),d.TgZ(5,"div",30),d.TgZ(6,"div",31),d._uU(7),d.qZA(),d.TgZ(8,"img",32),d.NdJ("click",function(){return d.CHM(t),d.oxw().closeModal()}),d.qZA(),d.qZA(),d.TgZ(9,"div",33),d.TgZ(10,"a"),d._UZ(11,"i",34,35),d.qZA(),d.YNc(13,P,1,2,"app-dial-plan-new",36),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.oxw();d.xp6(1),d.Q6J("ngIf",t.hasWriteAccess&&t.allowDialPlan),d.xp6(6),d.Oqu(t.language["Dial Plan"]),d.xp6(6),d.Q6J("ngIf",t.showDialog)}}function M(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",40),d.TgZ(1,"span",17),d._UZ(2,"img",41),d.qZA(),d.TgZ(3,"span"),d._uU(4),d.qZA(),d.TgZ(5,"div",42),d.TgZ(6,"button",43),d.NdJ("click",function(){return d.CHM(t),d.oxw().doDeleteDialPlan()}),d._uU(7),d.qZA(),d.TgZ(8,"button",44),d.NdJ("click",function(){return d.CHM(t),d.oxw().cancelDelete()}),d._uU(9),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.oxw();d.xp6(4),d.hij(" ",t.language.Dial_Plan_Confirmation1,""),d.xp6(3),d.hij(" ",t.language.Confirm," "),d.xp6(2),d.hij(" ",t.language.Cancel," ")}}function N(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"a",60),d.NdJ("click",function(e){d.CHM(t);const i=d.oxw(2).$implicit;return d.oxw(4).deleteDialPlan(i),e.stopPropagation()}),d._UZ(1,"i",61),d.qZA()}if(2&t){const t=d.oxw(6);d.s9C("title",t.language.Delete)}}function D(t,e){if(1&t&&(d.TgZ(0,"td",53),d.YNc(1,N,2,1,"a",59),d.qZA()),2&t){const t=d.oxw().$implicit;d.xp6(1),d.Q6J("ngIf","system-default"!==(null==t?null:t.name))}}function y(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"tr",56),d.NdJ("click",function(e){const i=d.CHM(t).$implicit;return d.oxw(4).goToEdit(i),e.stopPropagation()}),d.TgZ(1,"td",50),d.TgZ(2,"div"),d._uU(3),d.qZA(),d.qZA(),d.TgZ(4,"td",50),d.TgZ(5,"div"),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"td",51),d._uU(8),d.qZA(),d.TgZ(9,"td",51),d._uU(10),d.qZA(),d.TgZ(11,"td",52),d.TgZ(12,"div",57),d._uU(13),d.qZA(),d.qZA(),d.YNc(14,D,2,1,"td",58),d.qZA()}if(2&t){const t=e.$implicit,i=d.oxw(4);d.s9C("id",null==t?null:t._id),d.xp6(3),d.Oqu(null==t?null:t.name),d.xp6(3),d.Oqu(null==t?null:t.description),d.xp6(2),d.Oqu(null==t?null:t.shortTimer),d.xp6(2),d.Oqu(null==t?null:t.longTimer),d.xp6(3),d.Oqu(null==t||null==t.rules?null:t.rules.join("|")),d.xp6(1),d.Q6J("ngIf",i.hasWriteAccess)}}function k(t,e){if(1&t&&(d.TgZ(0,"tbody"),d.YNc(1,y,15,7,"tr",55),d.qZA()),2&t){const t=d.oxw(3);d.xp6(1),d.Q6J("ngForOf",t.dialPadList)}}function E(t,e){if(1&t&&(d.TgZ(0,"tbody"),d.TgZ(1,"tr"),d.TgZ(2,"td",62),d._uU(3),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.oxw(3);d.xp6(3),d.Oqu(t.language.NO_Dial_Plan_Found)}}function U(t,e){if(1&t&&(d.TgZ(0,"div",63),d.TgZ(1,"div",64),d.TgZ(2,"div",65),d.TgZ(3,"span",66),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.oxw(3);d.xp6(4),d.Oqu(t.language.Loading)}}function $(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"div",48),d.TgZ(2,"table",49),d.TgZ(3,"thead"),d.TgZ(4,"tr"),d.TgZ(5,"th",50),d._uU(6),d.qZA(),d.TgZ(7,"th",50),d._uU(8),d.qZA(),d.TgZ(9,"th",51),d._uU(10),d.qZA(),d.TgZ(11,"th",51),d._uU(12),d.qZA(),d.TgZ(13,"th",52),d._uU(14),d.qZA(),d._UZ(15,"th",53),d.qZA(),d.qZA(),d.YNc(16,k,2,1,"tbody",47),d.YNc(17,E,4,1,"tbody",47),d.qZA(),d.YNc(18,U,5,1,"div",54),d.qZA(),d.BQk()),2&t){const t=d.oxw(2);d.xp6(2),d.Q6J("dtOptions",t.dtOptions),d.xp6(4),d.Oqu(t.language.Name),d.xp6(2),d.Oqu(t.language.description),d.xp6(2),d.Oqu(t.language.Digit_shortimer),d.xp6(2),d.Oqu(t.language.Digit_longimer),d.xp6(2),d.Oqu(t.language.Rules),d.xp6(2),d.Q6J("ngIf",(null==t.dialPadList?null:t.dialPadList.length)>0),d.xp6(1),d.Q6J("ngIf",0===(null==t.dialPadList?null:t.dialPadList.length)),d.xp6(1),d.Q6J("ngIf",t.loader)}}function J(t,e){if(1&t&&(d.TgZ(0,"div",45,46),d.YNc(2,$,19,9,"ng-container",47),d.qZA()),2&t){const t=d.oxw();d.xp6(2),d.Q6J("ngIf",t.language)}}function j(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",67),d.TgZ(1,"h4",68),d._uU(2),d.qZA(),d.TgZ(3,"button",69),d.NdJ("click",function(){return d.CHM(t).$implicit.dismiss(!1)}),d._UZ(4,"span",70),d.qZA(),d.qZA(),d.TgZ(5,"div",33),d._uU(6),d.TgZ(7,"strong",71),d._uU(8),d.qZA(),d._uU(9," ? "),d.qZA(),d.TgZ(10,"div",72),d.TgZ(11,"button",73),d.NdJ("click",function(){return d.CHM(t).$implicit.dismiss(!1)}),d._uU(12),d.qZA(),d.TgZ(13,"button",74),d.NdJ("click",function(){return d.CHM(t).$implicit.close(!0)}),d._uU(14),d.qZA(),d.qZA()}if(2&t){const t=d.oxw();d.xp6(2),d.hij("",t.language.Delete_DialPlan,"!"),d.xp6(4),d.hij(" ",t.language.Dial_Plan_Confirmation2," "),d.xp6(2),d.Oqu(null==t.dialPlanObj?null:t.dialPlanObj.name),d.xp6(4),d.Oqu(t.language.Close),d.xp6(2),d.Oqu(t.language.Delete)}}const Y=function(){return["/support/netops-management/configuration/dial-plan","/cco/operations/cco-system-operations/sub-profile","/cco/operations/cco-subscriber-operations/configurations/dial-plan","/cco-foundation/foundation-operations/foundation-system-operation/sub-profile","/cco-foundation/foundation-configuration/configuration-prerequisites/dial-plan","/cco/services/service-profiles/dial-plan"]};let F=(()=>{class t{constructor(t,e,i,s,n,a,l,u){this.translateService=t,this.titleService=e,this.httpService=i,this.authService=s,this.router=n,this.activatedRoute=a,this.modalService=l,this.httpDialPlan=u,this.dtOptions={},this.loader=!1,this.showDialog=!0,this.unSubscribeParam$=new r.xQ,this.dialPadUrl=`${o.N.SUPPORT_URL}/netops-dp/dial-plan`,this.dialPadCountUrl=`${o.N.SUPPORT_URL}/netops-dp/dial-plan/count`,this.dialPlanName="",this.hasWriteAccess=!1,this.allowDialPlan=!0,this.hasScopeAccess=!1,this.editMode=!1,this.loader=!0}setTitle(t){this.router.url.includes("cco-foundation")?this.titleService.setTitle(`${this.language["Dial Plans"]}  - ${this.language["Workflow Prerequisites"]} - ${this.language.configuration} - ${this.language.Deployment} - ${this.language["Calix Cloud"]}`):this.router.url.includes("/cco/services/service-profiles/dial-plan")?this.titleService.setTitle(`${this.language["RG Dial Plans"]} - ${this.language["Services Profiles"]} - ${this.language.Services} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`):this.router.url.includes("/support/netops-management")&&this.titleService.setTitle(`${this.language["Dial Plans"]} - ${this.language.Configurations} - ${this.language.NetOps} - ${this.language.Support} - ${this.language["Calix Cloud"]}`)}ngOnInit(){var t,e;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t,this.setTitle(this.router.url)}),this.setTitle(this.router.url);let i=this.authService.getEntitlements();this.router.url.includes("cco/services")&&i[210]&&!i[102]&&(this.allowDialPlan=!1);let s=this.authService.getScopes();this.router.url.includes("cco-foundation")||this.router.url.includes("cco/services/service-profiles/dial-plan")?this.router.url.includes("cco/services/service-profiles/dial-plan")?o.N.VALIDATE_SCOPE?((null===(t=s["cloud.rbac.coc.services.serviceprofiles.rgdialplans"])||void 0===t?void 0:t.length)&&(this.hasScopeAccess=!0),s&&(null===(e=s["cloud.rbac.coc.services.serviceprofiles.rgdialplans"])||void 0===e?void 0:e.includes("write"))&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):o.N.VALIDATE_SCOPE?(s["cloud.rbac.foundation.configurations"]=s["cloud.rbac.foundation.configurations"]?s["cloud.rbac.foundation.configurations"]:[],s["cloud.rbac.foundation.configurations"].length&&(this.hasScopeAccess=!0),s&&s["cloud.rbac.foundation.configurations"].includes("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):o.N.VALIDATE_SCOPE?(s["cloud.rbac.csc.netops.config.dial_plan"]=s["cloud.rbac.csc.netops.config.dial_plan"]?s["cloud.rbac.csc.netops.config.dial_plan"]:[],s["cloud.rbac.csc.netops.config.dial_plan"].length&&(this.hasScopeAccess=!0),s&&s["cloud.rbac.csc.netops.config.dial_plan"]&&-1!==s["cloud.rbac.csc.netops.config.dial_plan"].indexOf("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0),this.hasScopeAccess?(this.validateScopeStage=`${o.N.API_BASE}`.indexOf("/dev.api.calix.ai")>-1,this.dialPlanObj||this.loadDialPadList()):this.authService.setPageAccess(!1)}ngAfterViewInit(){this.routerState$=this.activatedRoute.paramMap.pipe((0,a.R)(this.unSubscribeParam$),(0,l.U)(()=>window.history.state)),this.routerState$.subscribe(t=>{t&&null!=t.dialPlanObj&&(this.dialPlanObj=t.dialPlanObj,this.triggerSaveOrEdit())})}ngOnDestroy(){this.languageSubject.unsubscribe(),this.unSubscribeParam$.next(),this.unSubscribeParam$.complete()}triggerSaveOrEdit(){this.dialPlanObj&&!this.dialPlanObj.hasOwnProperty("_id")?this.httpService.post(this.dialPadUrl,this.dialPlanObj,this.constructParam(null)).subscribe(t=>{t&&(this.loadDialPadList(),this.reDrawTable())},t=>{this.showErrorAlert(this.httpService.handleError(t))}):this.dialPlanObj&&this.dialPlanObj.hasOwnProperty("_id")&&this.httpService.put(this.dialPadUrl+`/${this.dialPlanObj._id}`,this.dialPlanObj,this.constructParam(null)).subscribe(()=>{this.loadDialPadList(),this.reDrawTable()},t=>{this.showErrorAlert(this.httpService.handleError(t))})}showSuccessAlert(t){u(".alert.alert-success").show(),this.successMsg=t,setTimeout(()=>{this.closeAlert()},2e3)}showErrorAlert(t){u(".alert.alert-error").show(),this.errorMsg=t,setTimeout(()=>{this.closeAlert()},2e3)}showDeleteAlert(t){u(".alert.alert-error").show(),u(".alert.alert-error").addClass("alert-danger"),this.errorMsg=t}closeAlert(){u(".alert").hide()}loadDialPadList(){this.dtOptions={paging:!1,dom:"t",searching:!1,lengthChange:!1,destroy:!0,ordering:!1,serverSide:!0,processing:!1,columns:[{data:"name"},{data:"description"},{data:"shortTimer"},{data:"longTimer"},{data:"rules"},{data:null}],ajax:(t,e)=>{const i=this.httpService.get(this.dialPadUrl,this.constructParam(t)),s=this.httpService.get(this.dialPadCountUrl,this.constructParam(null));(0,n.D)([i,s]).subscribe(t=>{this.dialPadList=t[0],this.dialPadCount=t[1].count,this.loader=!1,e({recordsTotal:this.dialPadCount,recordsFiltered:this.dialPadCount,data:[]})},t=>{this.loader=!1,this.showErrorAlert(this.httpService.handleError(t))})}}}constructParam(t){return this.httpParams=new s.LE,this.authService.getOrg(this.orgId)&&this.httpParams.set("orgId",this.orgId),null!==t&&(this.httpParams=this.httpParams.set("limit","0"),this.httpParams=this.httpParams.set("skip","0")),this.httpParams}goToEdit(t){"system-default"!==(null==t?void 0:t.name)&&(this.editDialPlanObj=t,this.editMode=!0,this.openDialogBtn.nativeElement.click(),this.showDialog=!0)}deleteDialPlan(t){this.dialPlanObj=t,this.dialPlanName=null==t?void 0:t.name,u("html, body").animate({scrollTop:0},"slow")}reDrawTable(){this.dtElement.dtInstance.then(t=>{t.draw()})}cancelDelete(){this.dialPlanName=""}confirmDeleteDialPlan(t){this.dialPlanName=t}doDeleteDialPlan(){this.httpDialPlan.delete(this.dialPadUrl+`/${this.dialPlanObj._id}`).subscribe(t=>{this.dialPlanName="",this.dialPlanObj=null,this.showSuccessAlert(this.language["Dial Plan Deleted successfully"]),this.reDrawTable()},t=>{this.showDeleteAlert(this.httpService.handleError(t.error)),this.dialPlanName="",this.dialPlanObj=null})}newDialPlan(){}onModalClose(t){"submit"==t&&(this.reDrawTable(),this.showDialog=!1,this.editMode=!1),this.closeBtn.nativeElement.click(),this.showDialog=!1,this.editMode=!1}closeModal(){this.modalRef&&(this.modalRef.close(),this.editMode=!1,this.showDialog=!1),this.editMode=!1,this.showDialog=!1,this.editDialPlanObj=void 0}openDialog(){this.showDialog=!0,this.editMode||(this.editDialPlanObj=void 0)}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(g.s),d.Y36(h.Dx),d.Y36(p.s),d.Y36(m.t6),d.Y36(f.F0),d.Y36(f.gz),d.Y36(b.FF),d.Y36(v))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-dial-plan"]],viewQuery:function(t,e){if(1&t&&(d.Gf(w,5),d.Gf(c.G,5),d.Gf(_,5),d.Gf(T,5)),2&t){let t;d.iGM(t=d.CRH())&&(e.deleteModalRef=t.first),d.iGM(t=d.CRH())&&(e.dtElement=t.first),d.iGM(t=d.CRH())&&(e.closeBtn=t.first),d.iGM(t=d.CRH())&&(e.openDialogBtn=t.first)}},decls:11,vars:8,consts:[[1,"position-relative"],["role","alert","class","alert alert-warning",4,"ngIf"],["class","alert alert-success alert-dismissible",4,"ngIf"],["class","alert alert-error alert-dismissible py-0",4,"ngIf"],["class","row no-gutters",4,"ngIf"],["class","d-flex flex-row justify-content-start align-items-center my-3",4,"ngIf"],["class"," warning-msg",4,"ngIf"],["id","dial-plan","class","tab-pane",4,"ngIf"],["dialPlanDeleteModalRef",""],["role","alert",1,"alert","alert-warning"],[1,"alert","alert-success","alert-dismissible"],[1,"success-img"],["src","../../../../../assets/img/success-icon.svg"],["type","button","id","success-msg",1,"close",3,"click"],[1,"d-inline-flex"],[1,"alert","alert-error","alert-dismissible","py-0"],[1,"warning-msg","pt-2","pb-1","m-0"],[1,"error-img"],["src","./assets/img/ic_warning-36px.svg"],[1,"msg-details"],[2,"font-weight","bold"],[3,"innerHtml"],["type","button","id","err-msg",1,"btn-default","px-3","ok-btn","float-right",3,"click"],[1,"row","no-gutters"],[1,"d-block","my-3","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],[1,"d-flex","flex-row","justify-content-start","align-items-center","my-3"],["id","New_Dial_Plan","type","button","class","btn-default primary px-3","data-toggle","modal","data-target",".bd-example-modal-lg",3,"click",4,"ngIf"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true","data-backdrop","static","data-keyboard","false",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","dial-plan-info"],["src","assets/img/close-icon.svg","data-dismiss","modal","alt","",1,"pointer",3,"click"],[1,"modal-body"],["hidden","","data-dismiss","modal",1,"fa","fa-close"],["closeBtn",""],[3,"editModalInput","Id","onClose",4,"ngIf"],["id","New_Dial_Plan","type","button","data-toggle","modal","data-target",".bd-example-modal-lg",1,"btn-default","primary","px-3",3,"click"],["openDialogBtn",""],[3,"editModalInput","Id","onClose"],[1,"warning-msg"],["src","./assets/img/warning-icon.svg"],[1,"btn-con-sec","float-right"],["id","deletePFBtn",1,"btn-default","btn-primary","mr-2",3,"click"],["id","cancel-btn",1,"btn-default","btn-dft","py-1",3,"click"],["id","dial-plan",1,"tab-pane"],["scrollTopId",""],[4,"ngIf"],[1,"pb-2"],["width","100%","id","dail-plan-table","datatable","",1,"row-border","hover","table-alter","dail-plan-table",3,"dtOptions"],[2,"width","20%"],[2,"width","10%"],[2,"width","35%"],[2,"width","5%"],["class","loader","style","height: 100%;",4,"ngIf"],["style","cursor: pointer;",3,"id","click",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"id","click"],[1,"text-break","overflow-max-h"],["style","width: 5%",4,"ngIf"],["href","javascript:void(0)",3,"title","click",4,"ngIf"],["href","javascript:void(0)",3,"title","click"],["aria-hidden","true",1,"fa","fa-trash-o"],["colspan","5",1,"no-data-available"],[1,"loader",2,"height","100%"],[1,"d-flex","justify-content-center","align-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"modal-header",2,"color","#cc5814"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true","id","delete-dail"],[2,"font-size","18px"],[1,"modal-footer"],["type","button","id","close",1,"btn","btn-secondary",3,"click"],["type","button","ngbAutofocus","","id","delete",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.YNc(1,A,2,1,"div",1),d.YNc(2,O,9,3,"div",2),d.YNc(3,C,11,3,"div",3),d.YNc(4,S,3,1,"div",4),d.YNc(5,I,14,3,"div",5),d.YNc(6,M,10,3,"div",6),d.YNc(7,J,3,1,"div",7),d.qZA(),d.YNc(8,j,15,5,"ng-template",null,8,d.W1O),d._UZ(10,"router-outlet")),2&t&&(d.xp6(1),d.Q6J("ngIf",!e.hasScopeAccess),d.xp6(1),d.Q6J("ngIf",e.hasScopeAccess),d.xp6(1),d.Q6J("ngIf",e.hasScopeAccess),d.xp6(1),d.Q6J("ngIf",e.hasScopeAccess),d.xp6(1),d.Q6J("ngIf",!e.loader&&e.hasScopeAccess),d.xp6(1),d.Q6J("ngIf",e.dialPlanName&&e.hasScopeAccess),d.xp6(1),d.Q6J("ngIf",d.DdM(7,Y).indexOf(null==e.router?null:e.router.url)>-1&&e.hasScopeAccess))},directives:[Z.O5,f.lC,x.t,c.G,Z.sg],pipes:[Z.rS],styles:[".overflow-ellipsis[_ngcontent-%COMP%]{max-width:120px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]     table.dataTable td.dataTables_empty{display:none}.no-data-available[_ngcontent-%COMP%]{text-align:center}.alert.alert-success[_ngcontent-%COMP%]{display:none}.alert.alert-error[_ngcontent-%COMP%]{display:none}.dail-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:15px;font-weight:400;color:#4c4c4c;padding:0 10px 0 0;border-top:0!important;border-bottom:1px solid transparent;line-height:38px;word-break:break-all}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:26px;max-width:35%!important}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:40px 32px!important}.alert[_ngcontent-%COMP%]   .ok-btn[_ngcontent-%COMP%]{padding:5px;min-width:auto}.alert-danger[_ngcontent-%COMP%]   .ok-btn[_ngcontent-%COMP%]{background:#721c24}.alert-success[_ngcontent-%COMP%]   .ok-btn[_ngcontent-%COMP%]{background:#155724}.dial-plan-info[_ngcontent-%COMP%]{font-size:42px;font-style:normal;font-weight:300;line-height:53px;letter-spacing:0em;text-align:left;margin-top:-20px!important}.overflow-max-h[_ngcontent-%COMP%]{max-height:290px;overflow:auto}"]}),t})()},13909:function(t,e,i){i.d(e,{v:function(){return W}});var s=i(47986),r=i(91841),n=i(75333),o=i(23771),a=i(92340),l=i(37716),u=i(7450),c=i(89097),d=i(68745),g=i(12664),h=i(49342),p=i(39895),m=i(39075),f=i(38583),b=i(3679);const v=["deleteSoftareImageModal"];function Z(t,e){if(1&t&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.hij(" ",t.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function x(t,e){if(1&t&&(l.TgZ(0,"div",7),l.TgZ(1,"div",8),l._uU(2),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(2),l.hij("",t.language.Software_Images," ")}}function w(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",13),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).gotoAdd()}),l._uU(1),l.qZA()}if(2&t){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.language.Add_SW_Image," ")}}function _(t,e){if(1&t&&(l.TgZ(0,"div",9),l.TgZ(1,"div",10),l.TgZ(2,"div",11),l.YNc(3,w,2,1,"button",12),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(3),l.Q6J("ngIf",t.hasWriteAccess)}}function T(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",24),l.TgZ(1,"span",25),l._UZ(2,"img",26),l.qZA(),l.TgZ(3,"button",27),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).hideError()}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",28),l.qZA()}if(2&t){const t=l.oxw(2);l.xp6(5),l.Q6J("innerHtml",t.errorMsg,l.oJD)}}function A(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",29),l.TgZ(1,"span",30),l._UZ(2,"img",31),l.qZA(),l.TgZ(3,"button",32),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).hideSuccess()}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",28),l.qZA()}if(2&t){const t=l.oxw(2);l.xp6(5),l.Q6J("innerHtml",t.language[t.successMsg]||t.successMsg,l.oJD)}}function O(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",33),l.TgZ(1,"div",11),l.TgZ(2,"span",34),l._UZ(3,"img",35),l.qZA(),l.TgZ(4,"span",36),l._uU(5),l.qZA(),l.qZA(),l.TgZ(6,"div",37),l.TgZ(7,"button",38),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).deleteSoftwareFile()}),l._uU(8),l.qZA(),l.TgZ(9,"button",39),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).closeModal()}),l._uU(10),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw(2);l.xp6(5),l.AsE("",t.language["Are you sure you want to delete"]," ",t.modalInfo,""),l.xp6(3),l.hij(" ",t.language.Confirm," "),l.xp6(2),l.hij(" ",t.language.Cancel," ")}}function C(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",40),l.TgZ(1,"span",25),l._UZ(2,"img",41),l.qZA(),l.TgZ(3,"span"),l._uU(4),l.qZA(),l._uU(5),l.TgZ(6,"div",37),l.TgZ(7,"button",42),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).swOfficialConfirmation()}),l._uU(8),l.qZA(),l.TgZ(9,"button",43),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).closeswOfficialConfirmation()}),l._uU(10),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw(2);l.xp6(4),l.hij(" ",t.language.Confirmation,", "),l.xp6(1),l.hij(" ",t.swConfrmMsg," "),l.xp6(3),l.hij(" ",t.language.Confirm," "),l.xp6(2),l.hij(" ",t.language.Cancel," ")}}function S(t,e){if(1&t&&(l.TgZ(0,"div",44),l.TgZ(1,"div",45),l.TgZ(2,"div",46),l.TgZ(3,"span",47),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw(2);l.xp6(4),l.Oqu(t.language.Loading)}}function q(t,e){if(1&t&&(l.TgZ(0,"th",53),l._uU(1),l.qZA()),2&t){const t=l.oxw(3);l.xp6(1),l.Oqu(t.language["Official Status"])}}function P(t,e){if(1&t&&(l.TgZ(0,"th"),l._uU(1),l.qZA()),2&t){const t=l.oxw(3);l.xp6(1),l.Oqu(t.language.Supported)}}function I(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",60),l.TgZ(1,"label",61),l.TgZ(2,"input",62),l.NdJ("ngModelChange",function(e){return l.CHM(t),l.oxw(2).$implicit.isOfficialImage=e})("change",function(){l.CHM(t);const e=l.oxw(2).$implicit;return l.oxw(3).onSoftwareChange(e)}),l.qZA(),l.TgZ(3,"span"),l._UZ(4,"small"),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw(2).$implicit,e=l.oxw(3);l.xp6(1),l.Q6J("for",t.name),l.xp6(1),l.Q6J("checked",t.isOfficialImage)("ngModel",t.isOfficialImage)("id",t.name)("disabled",e.softwareImageOfficial)}}function M(t,e){if(1&t&&(l.TgZ(0,"td"),l.YNc(1,I,5,5,"div",59),l.qZA()),2&t){const t=l.oxw().$implicit,e=l.oxw(3);l.xp6(1),l.Q6J("ngIf",!e.router.url.includes("cco-foundation")||t.isOfficialImageEligible)}}function N(t,e){if(1&t&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.hij(" ",t," ")}}function D(t,e){if(1&t&&(l.TgZ(0,"td"),l.YNc(1,N,2,1,"div",63),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("ngForOf",t.models)}}function y(t,e){if(1&t&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.hij(" ",t," ")}}function k(t,e){if(1&t&&(l.TgZ(0,"td"),l.YNc(1,y,2,1,"div",63),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("ngForOf",t.models)}}function E(t,e){if(1&t&&(l.TgZ(0,"td",64),l.TgZ(1,"span",65),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("ngClass",null!=t&&t.supported?"icon-checked":"icon-close"),l.xp6(2),l.Oqu(null==t?null:t.supported)}}function U(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"td",11),l.TgZ(1,"span",66),l.NdJ("click",function(){l.CHM(t);const e=l.oxw().$implicit;return l.oxw(3).deleteSoftwareFileConfirm(e)}),l.qZA(),l.qZA()}if(2&t){const t=l.oxw(4);l.xp6(1),l.s9C("title",t.language.delete)}}function J(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"td",11),l.TgZ(1,"span",66),l.NdJ("click",function(){l.CHM(t);const e=l.oxw().$implicit;return l.oxw(3).deleteSoftwareFileConfirm(e)}),l.qZA(),l.qZA()}if(2&t){const t=l.oxw(4);l.xp6(1),l.s9C("title",t.language.delete)}}function j(t,e){1&t&&l._UZ(0,"td")}function Y(t,e){if(1&t&&(l.TgZ(0,"tr",54),l.YNc(1,M,2,1,"td",51),l.TgZ(2,"td"),l.TgZ(3,"div",55),l._uU(4),l.qZA(),l.qZA(),l.YNc(5,D,2,1,"td",51),l.YNc(6,k,2,1,"td",51),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td",50),l._uU(12),l.ALo(13,"number"),l.qZA(),l.YNc(14,E,4,2,"td",56),l.YNc(15,U,2,1,"td",57),l.YNc(16,J,2,1,"td",57),l.YNc(17,j,1,0,"ng-template",null,58,l.W1O),l.qZA()),2&t){const t=e.$implicit,i=l.MAs(18),s=l.oxw(3);l.s9C("id",t._id),l.xp6(1),l.Q6J("ngIf",s.isFoundation&&s.hasWriteAccess),l.xp6(3),l.Oqu(t.name),l.xp6(1),l.Q6J("ngIf",null==t?null:t.officialImageModels),l.xp6(1),l.Q6J("ngIf",!(null!=t&&t.officialImageModels)),l.xp6(2),l.Oqu("Calix Uploaded Release Image"==(null==t?null:t.description)?s.language["Calix Uploaded Release Image"]:t.description),l.xp6(2),l.Oqu(t.version),l.xp6(2),l.AsE("",l.xi3(13,14,t.size/1024/1024,"1.2-2")," ",0==t.size?"":"MB"," "),l.xp6(2),l.Q6J("ngIf",s.isFoundation),l.xp6(1),l.Q6J("ngIf",s.hasWriteAccess&&!s.isFoundation&&0!=t.orgId)("ngIfElse",i),l.xp6(1),l.Q6J("ngIf",s.hasWriteAccess&&s.isFoundation&&0!=t.orgId)("ngIfElse",i)}}function F(t,e){if(1&t&&(l.TgZ(0,"tbody"),l.TgZ(1,"tr"),l.TgZ(2,"td",67),l._uU(3),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw(3);l.xp6(3),l.hij(" ",t.language["No data available in table"]," ")}}function Q(t,e){if(1&t&&(l.TgZ(0,"table",48),l.TgZ(1,"thead"),l.TgZ(2,"tr"),l.YNc(3,q,2,1,"th",49),l.TgZ(4,"th"),l._uU(5),l.qZA(),l.TgZ(6,"th"),l._uU(7),l.qZA(),l.TgZ(8,"th"),l._uU(9),l.qZA(),l.TgZ(10,"th"),l._uU(11),l.qZA(),l.TgZ(12,"th",50),l._uU(13),l.qZA(),l.YNc(14,P,2,1,"th",51),l._UZ(15,"th"),l._UZ(16,"th"),l.qZA(),l.qZA(),l.TgZ(17,"tbody"),l.YNc(18,Y,19,17,"tr",52),l.qZA(),l.YNc(19,F,4,1,"tbody",51),l.qZA()),2&t){const t=l.oxw(2);l.Q6J("dtOptions",t.tableOptions),l.xp6(3),l.Q6J("ngIf",t.isFoundation&&t.hasWriteAccess),l.xp6(2),l.Oqu(t.language.Name),l.xp6(2),l.Oqu(t.language.model),l.xp6(2),l.Oqu(t.language.description),l.xp6(2),l.Oqu(t.language.Version),l.xp6(2),l.Oqu(t.language.Size),l.xp6(1),l.Q6J("ngIf",t.isFoundation),l.xp6(4),l.Q6J("ngForOf",t.softwareImageObj),l.xp6(1),l.Q6J("ngIf",0==(null==t.softwareImageObj?null:t.softwareImageObj.length))}}function L(t,e){if(1&t&&(l.TgZ(0,"div",14),l.TgZ(1,"div",15),l.YNc(2,T,6,1,"div",16),l.YNc(3,A,6,1,"div",17),l.YNc(4,O,11,4,"div",18),l.YNc(5,C,11,4,"div",19),l.TgZ(6,"div",20),l.YNc(7,S,5,1,"div",21),l.TgZ(8,"div",22),l.YNc(9,Q,20,10,"table",23),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(2),l.Q6J("ngIf",t.showError),l.xp6(1),l.Q6J("ngIf",t.showSuccess),l.xp6(1),l.Q6J("ngIf",null==t.deleteData?null:t.deleteData._id),l.xp6(1),l.Q6J("ngIf",t.softwareImageOfficial),l.xp6(2),l.Q6J("ngIf",t.loading),l.xp6(2),l.Q6J("ngIf",t.datatableVisible)}}function R(t,e){if(1&t&&(l.TgZ(0,"li"),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.hij("",t.name," ")}}function V(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",68),l.TgZ(1,"div",69),l.TgZ(2,"button",70),l.NdJ("click",function(){return l.CHM(t).$implicit.dismiss("Cross click")}),l._UZ(3,"span"),l.qZA(),l.TgZ(4,"div",71),l.TgZ(5,"div",72),l._UZ(6,"img",73),l.qZA(),l.TgZ(7,"div",74),l.TgZ(8,"h3"),l._uU(9,"Delete Software Image(s)"),l.qZA(),l.TgZ(10,"p"),l._uU(11," Are you sure you want to delete the following software image(s): "),l.qZA(),l.TgZ(12,"ul"),l.YNc(13,R,2,1,"li",63),l.qZA(),l.TgZ(14,"div",20),l.TgZ(15,"button",75),l._uU(16," Delete Software Image(s) "),l.qZA(),l.TgZ(17,"button",76),l.NdJ("click",function(){return l.CHM(t).$implicit.dismiss("Cross click")}),l._uU(18),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.xp6(13),l.Q6J("ngForOf",t.deleteZipcodeZipPlusfour),l.xp6(5),l.hij(" ",t.language.Cancel," ")}}let W=(()=>{class t{constructor(t,e,i,s,r,n,o,a){this.translateService=t,this.ssoAuthService=e,this.http=i,this.fileService=s,this.dialogService=r,this.commonOrgService=n,this.router=o,this.titleService=a,this.tableOptions={},this.datatableVisible=!1,this.showError=!1,this.showSuccess=!1,this.softwareImageObj=[],this.loading=!1,this.hasWriteAccess=!1,this.hasScopeAccess=!1,this.listIds=[],this.allChecked=!1,this.deleteSelectionButtonShow=!1,this.newArray=[];let l=this.router.url;this.isFoundation=l.indexOf("/cco-foundation")>-1||l.indexOf("/cco/operations/configuration")>-1,this.orgId=e.getOrgId(),this.getSwImagesListCout(),this.scopes=this.ssoAuthService.getScopes()}setTitle(t){this.router.url.includes("cco-foundation")||this.router.url.includes("/cco/operations/configuration")?this.router.url.includes("/cco/operations/configuration")?this.titleService.setTitle(`${this.language["Software Images"]} - ${this.language.Configuration} - ${this.language.Operations} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`):this.titleService.setTitle(`${this.language["Software Images"]} - ${this.language["Workflow Prerequisites"]} - ${this.language.configuration}  - ${this.language.Deployment}  - ${this.language["Calix Cloud"]}`):this.titleService.setTitle(`${this.language["Software Images"]} - ${this.language.Operations}  - ${this.language.NetOps}  - ${this.language.Support}  - ${this.language["Calix Cloud"]}`)}ngOnInit(){var t,e;if(this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t,this.redraw(),this.setTitle(this.router.url)}),this.setTitle(this.router.url),this.router.url.includes("cco-foundation")||this.router.url.includes("cco/operations/configuration/software"))if(this.router.url.includes("cco/operations/configuration/software"))a.N.VALIDATE_SCOPE?((null===(t=this.scopes["cloud.rbac.coc.operations.configuration.softwareimages"])||void 0===t?void 0:t.length)&&(this.hasScopeAccess=!0),this.scopes&&(null===(e=this.scopes["cloud.rbac.coc.operations.configuration.softwareimages"])||void 0===e?void 0:e.includes("write"))&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0);else if(a.N.VALIDATE_SCOPE){let t=this.scopes;t["cloud.rbac.foundation.configurations"]=t["cloud.rbac.foundation.configurations"]?t["cloud.rbac.foundation.configurations"]:[],this.scopes["cloud.rbac.foundation.configurations"].length&&(this.hasScopeAccess=!0),t&&t["cloud.rbac.foundation.configurations"].includes("write")&&(this.hasWriteAccess=!0)}else this.hasWriteAccess=!0,this.hasScopeAccess=!0;else a.N.VALIDATE_SCOPE?(this.scopes["cloud.rbac.csc.netops.operations.sw_images"]=this.scopes["cloud.rbac.csc.netops.operations.sw_images"]?this.scopes["cloud.rbac.csc.netops.operations.sw_images"]:[],this.scopes["cloud.rbac.csc.netops.operations.sw_images"].length&&(this.hasScopeAccess=!0),this.scopes&&this.scopes["cloud.rbac.csc.netops.operations.sw_images"]&&-1!==this.scopes["cloud.rbac.csc.netops.operations.sw_images"].indexOf("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0);this.hasScopeAccess?this.fetchSoftwareImageList():this.ssoAuthService.setPageAccess(!1)}pageErrorHandle(t){this.errorMsg=401==t.status?this.language["Access Denied"]:this.ssoAuthService.pageErrorHandle(t),503===t.status&&(this.errorMsg="Service Temporarily Unavailable"),this.showError=!0}getSwImagesListCout(){this.fileService.getSwFilesCount(this.orgId).subscribe(t=>{this.count=t.count,this.datatableVisible=!0},t=>{this.loading=!1,this.pageErrorHandle(t)})}fetchSoftwareImageList(){this.loading=!0;const t=this;this.tableOptions={pagingType:"full_numbers",pageLength:20,serverSide:!0,processing:!1,ordering:!0,columnDefs:[{targets:[0],orderable:!1},{targets:[-2],orderable:!1},{targets:[-1],orderable:!1}],dom:"tip",responsive:!0,order:[],columns:[{name:"name",orderable:!0},{name:"model",orderable:!0},{name:"description",orderable:!0},{name:"version",orderable:!0},{name:"size",orderable:!0}],ajax:(e,i)=>{var o;let a={};if(e.order[0]){let t=e.order[0].dir,i=null===(o=e.columns[e.order[0].column])||void 0===o?void 0:o.name;i&&(a[i]="asc"==t?1:-1)}else a.name=1;let l={orgId:this.orgId,skip:e.start,limit:e.length,type:s.r.SW_FW_Image,orderby:a};const u=(new r.LE).set("skip",e.start).set("limit",e.length).set("type",s.r.SW_FW_Image).set("orderby",JSON.stringify(l.orderby));this.ssoAuthService.getOrg(this.orgId)&&u.set("orgId",this.orgId),t.http.get(n.YE,{params:u}).subscribe(e=>{sessionStorage.setItem("swi",JSON.stringify(e)),t.softwareImageObj=e,t.zipCodeDetailLists=e,this.loading=!1,i({recordsTotal:this.count,recordsFiltered:this.count,data:[]})})},drawCallback:t=>{this.changeTableStatusLanguage(t);let e=t._iRecordsDisplay,i=t._iDisplayLength;this.Table=$("#software-images-table").DataTable(),this.info=this.Table.page.info(),this.newArray=this.Table.context[0].aiDisplay,this.table(t),e<=i&&$(t.nTableWrapper).find("#users-table_last").addClass("disabled")}},this.isFoundation?(this.tableOptions.columns.push({name:"supported",orderable:!0}),this.tableOptions.order[0]=[0,"asc"],this.hasWriteAccess&&(this.tableOptions.columns.unshift({name:"official status",orderable:!1}),this.tableOptions.order[0]=[1,"asc"])):this.tableOptions.order[0]=[0,"asc"]}changeTableStatusLanguage(t){const e=new Intl.NumberFormat;this.tableCounts={searchText:t.oPreviousSearch.sSearch.replace(/\s+/g,""),total:t._iRecordsTotal,displayCount:t._iDisplayLength,displayed:t._iRecordsDisplay,start:t._iDisplayStart};const i="fr"==sessionStorage.getItem("defaultLanguage"),s="es"==sessionStorage.getItem("defaultLanguage"),r="de_DE"==sessionStorage.getItem("defaultLanguage"),n=t.oPreviousSearch.sSearch.replace(/\s+/g,"")?i?`(filtr\xe9es \xe0 partir des ${e.format(t._iRecordsTotal)} entr\xe9es totales)`:s?`(filtrado de un total de ${e.format(t._iRecordsTotal)} entradas)`:r?`(gefiltert aus ${e.format(t._iRecordsTotal)} Eintr\xe4gen)`:`(filtered from ${e.format(t._iRecordsTotal)} total entries)`:"",o=0==t._iRecordsDisplay?-1:t._iDisplayStart,a=t._iDisplayStart+t._iDisplayLength>t._iRecordsDisplay?t._iRecordsDisplay:t._iDisplayStart+t._iDisplayLength;$('div [role="status"]').text(i?`Affichage de ${e.format(o+1)} \xe0 ${e.format(a)} des ${e.format(t._iRecordsDisplay)} entr\xe9es ${n}`:s?`Se muestran del ${e.format(o+1)} al ${e.format(a)} de ${e.format(t._iRecordsDisplay)} resultados ${n}`:r?`Angezeigt ${e.format(o+1)} bis ${e.format(a)} von ${e.format(t._iRecordsDisplay)} ergebnissen ${n}`:`Showing ${e.format(o+1)} to ${e.format(a)} of ${e.format(t._iRecordsDisplay)} entries ${n}`),$(".first").text(i?"Le d\xe9but":s?"Primero":r?"Erste Seite":"First"),$(".previous").text(i?"Pr\xe9c\xe9dent":s?"Anterior":r?"Letzte":"Previous"),$(".next").text(i?"Suivant":s?"Siguiente":r?"Weiter":"Next"),$(".last").text(i?"Derni\xe8re":s?"\xdaltimo":r?"Zur\xfcck":"Last")}deleteSoftwareFileConfirm(t){this.loading=!1,this.errorMsg=null,this.showError=!1,this.deleteData=t,this.modalTitle="Delete Software Image",this.modalInfo=`the software image ${t.name}?`,$("html, body").animate({scrollTop:0},"slow")}deleteSoftwareFile(){this.loading=!0,this.fileService.deleteSwFileById(this.deleteData._id).subscribe(t=>{this.loading=!1,this.showSuccess=!0,this.successMsg="Successfully Deleted!",this.getSwImagesListCout(),this.deleteData=new s.k,this.redraw()},t=>{this.loading=!1,this.deleteData=new s.k,this.errorMsg=t.error.error,this.showError=!0})}redraw(){var t;null===(t=this.dtElement)||void 0===t||t.dtInstance.then(t=>{t.draw()})}closeModal(){this.deleteData=new s.k,this.modalRef&&this.modalRef.close()}hideError(){this.showError=!1,this.errorMsg=""}hideSuccess(){this.showSuccess=!1,this.successMsg=""}onSoftwareChange(t){$("html, body").animate({scrollTop:0},"slow"),JSON.parse(sessionStorage.getItem("swi")).forEach(e=>{if(e._id==t._id)if(e.isOfficialImage)this.swConfrmMsg=this.language.Make_SW_UnOfficial;else{let e=[];JSON.parse(sessionStorage.getItem("swi")).forEach(i=>{i.isOfficialImage&&t.models.filter(t=>-1!==i.models.indexOf(t)?e.push(i.name):"")});var i=e.filter((t,e,i)=>i.indexOf(t)===e);this.uniqueimagename=e.filter((t,e,i)=>i.indexOf(t)===e),this.uniqueimageoldname=null==t?void 0:t.name,this.swConfrmMsg=0==i.length?this.language.Make_SW_Official:this.language.SoftwareImagesWarrningMsg(this.uniqueimagename,this.uniqueimageoldname)}}),this.softwareImageOfficial=!0,this.officialImageId=t}swOfficialConfirmation(){this.softwareImageOfficial=!1,this.officialImageId.isOfficialImage?this.officalSubs=this.fileService.makeOfficialImage({imageId:this.officialImageId._id}).subscribe(t=>{this.officialImageId=new s.k,this.getSwImagesListCout(),this.redraw()},t=>{this.loading=!1,this.errorMsg=t.error.error,this.showError=!0}):this.unOfficalSubs=this.fileService.makeUnOfficialImge(this.orgId,this.officialImageId._id).subscribe(t=>{this.officialImageId=new s.k,this.getSwImagesListCout(),this.redraw()},t=>{this.loading=!1,this.errorMsg=t.error.error,this.showError=!0})}closeswOfficialConfirmation(){this.softwareImageOfficial=!1,this.getSwImagesListCout(),this.redraw()}ngOnDestroy(){this.languageSubject.unsubscribe(),this.officalSubs&&this.officalSubs.unsubscribe(),this.unOfficalSubs&&this.unOfficalSubs.unsubscribe()}opendeleteSIModal(t){this.dialogService.open(t,{centered:!0,windowClass:"alert-delete-warning-modal"})}selectAll(t){this.listIds=[],this.allChecked=t,this.deleteSelectionButtonShow=t,this.newArray.slice(this.info.start,this.info.end);for(let e=0;e<this.zipCodeDetailLists.length;e++)this.zipCodeDetailLists[e].checked=t;t?this.zipCodeDetailLists.map(t=>{t.checked&&this.listIds.push(t._id)}):this.listIds=[]}table(t){this.allChecked=!1,this.listIds=[];for(let e=0;e<this.zipCodeDetailLists.length;e++)this.zipCodeDetailLists[e].checked=!1;this.deleteSelectionButtonShow=!1,this.deleteZipcodeZipPlusfour=[]}selectedOne(t,e){this.listIds=[];let i=this.info.end-this.info.start;this.zipCodeDetailLists[e].checked=t,this.zipCodeDetailLists.filter(t=>{1==t.checked&&this.listIds.push(t._id)}),this.allChecked=this.listIds.length==i,this.deleteSelectionButtonShow=this.listIds.length>0}deleteEntryListZipcode(t){let e=this.listIds;this.dialogService.open(t,{centered:!0,windowClass:"alert-delete-warning-modal"}),this.deleteZipcodeZipPlusfour=this.zipCodeDetailLists.filter(t=>-1!==e.indexOf(t._id))}deleteEntryZipcodes(){this.deleteZipcodeZipPlusfour.map(t=>t.id).join()}gotoAdd(){var t;-1===(null===(t=window.location.href)||void 0===t?void 0:t.indexOf("/cco/operations/configuration/software/software-images-list"))?this.ssoAuthService.redirectByUrl(["/support/netops-management/software-images-form","/cco/software-image/software-images-form","/cco-foundation/foundation-configuration/software-images-list/software-images-form","/cco/operations/configuration/software/software-images-form"]):this.router.navigate(["/cco/operations/configuration/software/software-images-form"])}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(u.s),l.Y36(c.t6),l.Y36(r.eN),l.Y36(d.I),l.Y36(g.FF),l.Y36(h.v),l.Y36(p.F0),l.Y36(m.Dx))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-software-images-list"]],viewQuery:function(t,e){if(1&t&&(l.Gf(o.G,5),l.Gf(v,7)),2&t){let t;l.iGM(t=l.CRH())&&(e.dtElement=t.first),l.iGM(t=l.CRH())&&(e.deleteSoftareImageModal=t.first)}},decls:7,vars:4,consts:[[1,"w-100","position-relative"],["role","alert","class","alert alert-warning",4,"ngIf"],["class","row no-gutters",4,"ngIf"],["class","row my-3",4,"ngIf"],["id","software-images-list","class","tab-pane",4,"ngIf"],["deleteSoftwareImages",""],["role","alert",1,"alert","alert-warning"],[1,"row","no-gutters"],[1,"d-block","my-3","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],[1,"row","my-3"],[1,"col-md-6"],[1,""],["id","add-software-images-btn","type","button","class","btn-default primary px-3",3,"click",4,"ngIf"],["id","add-software-images-btn","type","button",1,"btn-default","primary","px-3",3,"click"],["id","software-images-list",1,"tab-pane"],[1,"pb-2"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],["class","w-100 alert alert alert-success fade show",4,"ngIf"],["class","py-3 warning-msg warning-msg-dis",4,"ngIf"],["class","py-3 warning-msg",4,"ngIf"],[1,"w-100"],["class","loader pt-5 align-items-start",4,"ngIf"],[1,"overflow-auto"],["id","software-images-table","datatable","","class"," row-border hover table-alter software-images-table",3,"dtOptions",4,"ngIf"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button","id","hide-error-btn",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert","alert-success","fade","show"],[1,"success-img"],["src","./assets/img/success-icon.svg"],["type","button","id","hide-success-btn",1,"close",3,"click"],[1,"py-3","warning-msg","warning-msg-dis"],[1,"error-img","float-left"],["src","./assets/img/warning-icon.svg"],[1,"span-info-text"],[1,"btn-con-sec","float-right"],["id","deletePFBtn",1,"btn-default","btn-primary","px-3","mr-2",3,"click"],[1,"btn-default","btn-dft","py-1",3,"click"],[1,"py-3","warning-msg"],["src","./assets/img/ic_warning-36px.svg"],["type","button","ngbAutofocus","","id","confirm-btn",1,"btn-default","btn-primary","px-3","mr-2",3,"click"],["type","button","id","cancel-btn",1,"btn-default","btn-dft","py-1",3,"click"],[1,"loader","pt-5","align-items-start"],[1,"d-flex","align-items-start","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["id","software-images-table","datatable","",1,"row-border","hover","table-alter","software-images-table",3,"dtOptions"],["class","w-70px disable-th-alt",4,"ngIf"],[1,"col-size"],[4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"w-70px","disable-th-alt"],[3,"id"],[1,"long-text-break"],["class","text-center",4,"ngIf"],["class","",4,"ngIf","ngIfElse"],["elseBlock",""],["class","checkbox switcher w-70px",4,"ngIf"],[1,"checkbox","switcher","w-70px"],[3,"for"],["type","checkbox",1,"pointer",3,"checked","ngModel","id","disabled","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"mr-4",3,"ngClass"],[1,"fa","fa-trash-o","del-action-icon",3,"title","click"],["colspan","10",1,"no-data-available"],[1,"modal-body"],[1,"w-100","alert-box"],["aria-label","Close",1,"close",3,"click"],[1,"box-content"],[1,"icon"],["src","../../../../assets/img/ic_warning-36px.svg","alt","icon here"],[1,"content"],["type","button","id","removeDeleteSImageBtn",1,"btn-default","primary","mr-3"],["type","button","id","canceltDeleteSImageBtn","aria-label","Close",1,"btn-default","btn-dft",3,"click"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.YNc(1,Z,2,1,"div",1),l.YNc(2,x,3,1,"div",2),l.YNc(3,_,4,1,"div",3),l.YNc(4,L,10,6,"div",4),l.qZA(),l.YNc(5,V,19,2,"ng-template",null,5,l.W1O)),2&t&&(l.xp6(1),l.Q6J("ngIf",!e.hasScopeAccess),l.xp6(1),l.Q6J("ngIf",e.hasScopeAccess),l.xp6(1),l.Q6J("ngIf",e.hasScopeAccess),l.xp6(1),l.Q6J("ngIf",e.hasScopeAccess))},directives:[f.O5,o.G,f.sg,b.Wl,b.JJ,b.On,f.mk],pipes:[f.JJ],styles:[".sw-image[_ngcontent-%COMP%]{margin:10px 0}[_nghost-%COMP%]     .dataTables_empty{display:none}.no-data-available[_ngcontent-%COMP%]{text-align:center}.fa.fa-trash-o[_ngcontent-%COMP%]{font-size:14px}.no-break[_ngcontent-%COMP%]{white-space:nowrap;min-width:150px;display:flex;justify-content:flex-start}.software-images-table-info[_ngcontent-%COMP%]{overflow-x:scroll}.software-images-table[_ngcontent-%COMP%]{width:100%!important;overflow-x:auto!important}.del-action-icon[_ngcontent-%COMP%]{color:#0279ff;cursor:pointer}.del-action-icon[_ngcontent-%COMP%]:hover{color:#0054b2}.w-70px[_ngcontent-%COMP%]{width:70px!important}.warning-msg-dis[_ngcontent-%COMP%]{display:flow-root}.span-info-text[_ngcontent-%COMP%]{width:80%;float:left}.min-130px[_ngcontent-%COMP%]{min-width:130px}.icon-close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .icon-checked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20px;font-size:0}.icon-checked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{content:url(success-icon.4b28f44149a093cf0dfa.svg)}.icon-close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{content:url(ic_error_grey.48fa69db1aebd3a5abca.svg)}.th-after-none[_ngcontent-%COMP%]:after{display:none!important}  .alert-delete-warning-modal .modal-content{background:#fff9f5}  .alert-delete-warning-modal .modal-dialog{max-width:45.73%!important}.alert-box[_ngcontent-%COMP%]{position:relative;padding:30px 0 15px}.alert-box[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%]{right:0;top:0}.alert-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:24px;margin-bottom:35px}.alert-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-right:30px;padding-left:80px}.alert-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{min-width:75px;float:left;text-align:center}.alert-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px}.alert-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .alert-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#4c4c4c;margin-bottom:0;font-size:16px;line-height:20px}.alert-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;line-height:30px;color:#1a1f22}.disable-th-alt[_ngcontent-%COMP%]{pointer-events:none!important}.disable-th-alt[_ngcontent-%COMP%]:after{display:none!important}.overflow-auto[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(7){text-align:center}.long-text-break[_ngcontent-%COMP%]{word-break:break-all;min-width:250px;max-width:320px;padding-right:15px}.col-size[_ngcontent-%COMP%]{max-width:70px;min-width:70px}"]}),t})()},99178:function(t,e,i){i.d(e,{a:function(){return n}});var s=i(3679),r=i(37716);let n=(()=>{class t{validate(t){if(s.kI.required(t))return null;let e=t.value;return!isNaN(this.customNumMax)&&!isNaN(e)&&e>0&&+e>this.customNumMax?{customNumMax:!0}:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","customNumMax","","formControlName",""],["","customNumMax","","formControl",""],["","customNumMax","","ngModel",""]],inputs:{customNumMax:"customNumMax"},features:[r._Bn([{provide:s.Cf,useExisting:t,multi:!0}])]}),t})()},28931:function(t,e,i){i.d(e,{D:function(){return n}});var s=i(3679),r=i(37716);let n=(()=>{class t{validate(t){if(s.kI.required(t))return null;let e=t.value;return!isNaN(this.customNumMin)&&!isNaN(+e)&&+e>=0&&+e<+this.customNumMin?{customNumMin:!0}:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","customNumMin","","formControlName",""],["","customNumMin","","formControl",""],["","customNumMin","","ngModel",""]],inputs:{customNumMin:"customNumMin"},features:[r._Bn([{provide:s.Cf,useExisting:t,multi:!0}])]}),t})()},27492:function(t,e,i){i.d(e,{sH:function(){return r},ZS:function(){return n},zm:function(){return o},yK:function(){return a},ov:function(){return l},w_:function(){return u},b8:function(){return c},eS:function(){return d}});var s=i(9579);function r(t,e,i){return s=>{const r=s.controls[t],n=s.controls[e];if(!r||!n||n.errors&&!n.errors.mustMatch||i&&(!r.value||!n.value))return null;n.setErrors(r.value>n.value?{mustMatch:!0}:null)}}function n(t,e){return i=>{const r=i.controls[t],n=i.controls[e];if(!r||!n||n.errors&&!n.errors.ipBeforeValidate||r.errors&&!r.errors.ipBeforeValidate)return null;var o=null,a=null;r.value&&n.value&&(o=(0,s.l5)(r.value),a=(0,s.l5)(n.value)),o<=a?(r.setErrors(null),n.setErrors(null)):(r.setErrors({ipBeforeValidate:!0}),n.setErrors({ipBeforeValidate:!0}))}}function o(t,e){return i=>{const r=i.controls[t],n=i.controls[e];if(!r||!n||r.errors&&!r.errors.IpNetworkBroadcast||n.errors&&!n.errors.IpNetworkBroadcast)return null;var o=null,a=null,l=null,u=null;r.value&&n.value&&(u=((l=((o=(0,s.l5)(r.value))>>>0&(a=(0,s.l5)(n.value))>>>0)>>>0)|~a)>>>0),o<=l||o>=u?(r.setErrors({IpNetworkBroadcast:!0}),n.setErrors({IpNetworkBroadcast:!0})):(r.setErrors(null),n.setErrors(null))}}function a(t,e,i){return r=>{const n=r.controls[e],o=r.controls[i],a=r.controls[t];if(!n||!o||!a||a.errors&&!a.errors.ipIsOutside||o.errors&&!o.errors.ipIsOutside||n.errors&&!n.errors.ipIsOutside)return null;var l=null,u=null,c=null;n.value&&o.value&&a.value&&(l=(0,s.l5)(n.value),u=(0,s.l5)(o.value),c=(0,s.l5)(a.value)),c<l||c>u?(n.setErrors(null),o.setErrors(null),a.setErrors(null)):(n.setErrors({ipIsOutside:!0}),o.setErrors({ipIsOutside:!0}),a.setErrors({ipIsOutside:!0}))}}function l(t,e,i,r){return n=>{const o=n.controls[e],a=n.controls[i],l=n.controls[t],u=n.controls[r];if(!o||!a||!l||!u||l.errors&&!l.errors.sameIpNetwork||o.errors&&!o.errors.sameIpNetwork||a.errors&&!a.errors.sameIpNetwork||u.errors&&!u.errors.sameIpNetwork)return null;var c=null,d=null,g=null,h=null,p=null;o.value&&a.value&&l.value&&u.value&&(c=(0,s.l5)(o.value),d=(0,s.l5)(a.value),g=(0,s.l5)(l.value),p=(h=(0,s.l5)(u.value))&g),p!=(h&c)||p!=(h&d)?(l.setErrors({sameIpNetwork:!0}),a.setErrors({sameIpNetwork:!0}),o.setErrors({sameIpNetwork:!0}),u.setErrors({sameIpNetwork:!0})):(l.setErrors(null),a.setErrors(null),o.setErrors(null),u.setErrors(null))}}function u(t,e,i){return r=>{const n=r.controls[t],o=r.controls[i],a=r.controls[e];if(!n||!o||!a||n.errors&&!n.errors.maxNetworkBroadcast||o.errors&&!o.errors.maxNetworkBroadcast||a.errors&&!a.errors.maxNetworkBroadcast)return null;var l=null,u=null,c=null,d=null,g=null;a.value&&(l=(0,s.l5)(n.value),u=(0,s.l5)(o.value),c=(0,s.l5)(a.value),g=((d=(l>>>0&u>>>0)>>>0)|~u)>>>0),c<=d||c>=g?(n.setErrors({maxNetworkBroadcast:!0}),o.setErrors({maxNetworkBroadcast:!0}),a.setErrors({maxNetworkBroadcast:!0})):(n.setErrors(null),o.setErrors(null),a.setErrors(null))}}function c(t,e,i){return r=>{const n=r.controls[t],o=r.controls[e],a=r.controls[i];if(!n||!o||!a||n.errors&&!n.errors.minNetworkBroadcast||o.errors&&!o.errors.minNetworkBroadcast||a.errors&&!a.errors.minNetworkBroadcast)return null;var l=null,u=null,c=null,d=null,g=null;n.value&&o.value&&a.value&&(l=(0,s.l5)(n.value),u=(0,s.l5)(o.value),c=(0,s.l5)(a.value),g=((d=(l>>>0&u>>>0)>>>0)|~u)>>>0),c<=d||c>=g?(n.setErrors({minNetworkBroadcast:!0}),o.setErrors({minNetworkBroadcast:!0}),a.setErrors({minNetworkBroadcast:!0})):(n.setErrors(null),o.setErrors(null),a.setErrors(null))}}function d(t,e){return i=>{const s=i.controls[t],r=i.controls[e];if(!s||!r||r.errors&&!r.errors.longDigitTimer)return null;s.value&&r.value&&r.setErrors(s.value>r.value||s.value==r.value?{longDigitTimer:!0}:null)}}}}]);