"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[1873],{86295:function(t,e,i){var n,s,o;o=function(t){function e(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i))}e(t=t?t._modules:{},"Extensions/NoDataToDisplay.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/DefaultOptions.js"],t["Core/Utilities.js"]],function(t,e,i,n){var s=i.getOptions;i=n.addEvent;var o=n.extend;n=e.prototype,s=s(),o(s.lang,{noData:"No data to display"}),s.noData={attr:{zIndex:1},position:{x:0,y:0,align:"center",verticalAlign:"middle"},style:{fontWeight:"bold",fontSize:"12px",color:"#666666"}},n.showNoData=function(e){var i=this.options;e=e||i&&i.lang.noData||"",i=i&&(i.noData||{}),this.renderer&&(this.noDataLabel||(this.noDataLabel=this.renderer.label(e,0,0,void 0,void 0,void 0,i.useHTML,void 0,"no-data").add()),this.styledMode||this.noDataLabel.attr(t.filterUserAttributes(i.attr||{})).css(i.style||{}),this.noDataLabel.align(o(this.noDataLabel.getBBox(),i.position||{}),!1,"plotBox"))},n.hideNoData=function(){this.noDataLabel&&(this.noDataLabel=this.noDataLabel.destroy())},n.hasData=function(){for(var t=this.series||[],e=t.length;e--;)if(t[e].hasData()&&!t[e].options.isInternal)return!0;return this.loadingShown},i(e,"render",function(){this.hasData()?this.hideNoData():this.showNoData()})}),e(t,"masters/modules/no-data-to-display.src.js",[],function(){})},t.exports?(o.default=o,t.exports=o):(n=[i(1282)],void 0!==(s=(function(t){return o(t),o.Highcharts=t,o}).apply(e,n))&&(t.exports=s))},62347:function(t,e,i){i.d(e,{q:function(){return p}});var n=i(39895),s=i(37716),o=i(49342),a=i(30900),l=i(89097),d=i(404),r=i(38583);const u=function(){return["active"]};function c(t,e){if(1&t&&(s.TgZ(0,"li",4),s.TgZ(1,"a",5),s._uU(2),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.s9C("id",t.title),s.s9C("routerLink",t.routeLink),s.Q6J("routerLinkActive",s.DdM(4,u)),s.xp6(1),s.Oqu(t.title)}}function h(t,e){if(1&t&&(s.TgZ(0,"div",1),s.TgZ(1,"ul",2),s.YNc(2,c,3,5,"li",3),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(2),s.Q6J("ngForOf",t.menus)}}let g=(()=>{class t{constructor(t,e,i,n){this.router=t,this.customTranslateService=e,this.sso=i,this.commonService=n,this.pageAvailable=!1,this.languages=[{name:"English"},{name:"French Canadian"}],this.menuItems=[{menuName:"Network",subMenu:!0,subMenuItem:[{menuName:"Devices",link:""}]},{menuName:"Locations",subMenu:!1,subMenuItem:[]}],this.MODULE="calixAdmin",this.activeRoute="./network",this.isSecureAccess=!1,this.showTabMenu=!0,this.MODULE=this.sso.getRedirectModule(this.router.url),this.isSecureAccess=this.sso.isSecureAccess(),this.showTab()}ngOnInit(){this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0),this.customTranslateService.selectedLanguage.subscribe(t=>{this.language=t,this.menus[0].title=this.language.network,this.menus[1].title=this.language.locations,this.menus[2].title=this.language.Applications,this.menus[3].title=this.language.end,this.menus[4].title=this.language.Configurations,this.menus[5]&&this.menus[5].title&&(this.menus[5].title=this.language.Traffic),this.menus=[...this.menus]}),this.menus=[{title:this.language.network,routeLink:"./network",subMenuLink:`/${this.MODULE}/flowAnalyze/network`},{title:this.language.locations,routeLink:"./locations",subMenuLink:`/${this.MODULE}/flowAnalyze/locations`},{title:this.language.Applications,routeLink:"./applications",subMenuLink:`/${this.MODULE}/flowAnalyze/applications`},{title:this.language.end,routeLink:"./endpoint",subMenuLink:`/${this.MODULE}/flowAnalyze/endpoint`},{title:this.language.Configurations,routeLink:"./configurations",subMenuLink:`/${this.MODULE}/flowAnalyze/configurations`}];let t=this.sso.getRoles(),e=!1;t&&-1!==t.indexOf("System Admin")&&(e=!0),t&&-1!==t.indexOf("SysAdmin")&&(e=!0),(e||this.isSecureAccess)&&this.menus.push({title:this.language.Traffic,routeLink:"./traffic",subMenuLink:`/${this.MODULE}/flowAnalyze/traffic`}),this.setSubMenuPage()}languageChange(t){sessionStorage.setItem("defaultLanguage",t),this.customTranslateService.changeLanguage(t)}goPage(t){this.router.navigate([t])}goPageN(){this.router.navigate([this.activeRoute])}setSubMenuPage(){let t=this.router.url;this.activeRoute=t.indexOf("/network/")>-1?`/${this.MODULE}/flowAnalyze/network`:t.indexOf("/locations")>-1?`/${this.MODULE}/flowAnalyze/locations`:t.indexOf("/applications/")>-1?`/${this.MODULE}/flowAnalyze/applications`:t.indexOf("/endpoint/")>-1?`/${this.MODULE}/flowAnalyze/endpoint`:t.indexOf("/configurations/")>-1?`/${this.MODULE}/flowAnalyze/configurations`:`/${this.MODULE}/flowAnalyze/traffic`}pageChange(t){this.activeRoute=t.subMenuLink}showTab(){this.commonService.showTabMenu$.subscribe(t=>{null!=t&&(this.showTabMenu=t)})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(n.F0),s.Y36(a.d),s.Y36(l.t6),s.Y36(d.i))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-tab-menu"]],decls:1,vars:1,consts:[["class","flow-config-tab",4,"ngIf"],[1,"flow-config-tab"],[1,"nav"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],[1,"nav-link",3,"id","routerLink","routerLinkActive"]],template:function(t,e){1&t&&s.YNc(0,h,3,1,"div",0),2&t&&s.Q6J("ngIf",e.pageAvailable&&e.showTabMenu)},directives:[r.O5,r.sg,n.yS,n.Od],styles:[""]}),t})(),p=(()=>{class t{constructor(t,e){this.commonOrgService=t,this.router=e,this.commonOrgService.currentPageAdder("flowAnalyze"),this.rouerSubs=this.router.events.subscribe(t=>{t instanceof n.OD&&this.commonOrgService.closeAlert()})}ngOnInit(){}ngOnDestroy(){this.rouerSubs&&this.rouerSubs.unsubscribe()}onActivate(t){window.scroll({top:0,left:0,behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(o.v),s.Y36(n.F0))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-flow-config"]],decls:2,vars:0,consts:[[3,"activate"]],template:function(t,e){1&t&&(s._UZ(0,"app-tab-menu"),s.TgZ(1,"router-outlet",0),s.NdJ("activate",function(t){return e.onActivate(t)}),s.qZA())},directives:[g,n.lC],styles:[".edit-text[_ngcontent-%COMP%]{min-width:150px}"]}),t})()},90831:function(t,e,i){i.d(e,{m:function(){return ft}});var n=i(23771),s=i(79765),o=i(35758),a=i(37716),l=i(404),d=i(13149),r=i(91841),u=i(92340),c=i(89097);let h=(()=>{class t{constructor(t,e){this.httpClient=t,this.sso=e,this.baseURL=u.N.faAdminURL,this.arrayToObject=(t,e)=>t.reduce((t,i)=>(t[i[e]]=i,t),{}),this.org_id=this.sso.getOrgId(),this.locationList=this.baseURL+`location?org-id=${this.org_id}`,this.locationAdd=this.baseURL+`location?org-id=${this.org_id}`,this.locationExport=this.baseURL+`location?org-id=${this.org_id}`,this.locationImport=this.baseURL+`location?org-id=${this.org_id}`,this.locationDelete=this.baseURL+"location",this.locationEdit=this.baseURL+"location";let i=new r.WM({"Content-Type":"application/json"});this.options={headers:i},this.export=this.baseURL+"export/"}LocationList(t){return this.httpClient.get(this.baseURL+`location?org-id=${t}`)}LocationAdd(t,e){return this.httpClient.post(this.baseURL+`location?org-id=${e}`,t)}exportSubnets(t){return this.httpClient.get(this.baseURL+`location?org-id=${t}`)}importLocationSubnets(t,e){return this.httpClient.put(this.baseURL+`fa_import/locations?org-id=${e}`,t)}LocationDelete(t,e){return this.httpClient.delete(`${this.locationDelete}/${t}?org-id=${e}`)}LocationUpdate(t,e,i){return this.httpClient.put(`${this.locationEdit}/${t}?org-id=${i}`,e)}exportProcess(t){let e=[];return t.forEach(t=>{e.push({Name:t.name?t.name:"",SubnetsV4:t.subnetsV4?t.subnetsV4:"",SubnetsV6:t.subnetsV6?t.subnetsV6:"",Region:t.region?t.region:"",Address:t.address?t.address:"",Geo:t.geo?t.geo:""})}),e}importDataProcess(t,e,i,n){let s=[];return t.forEach(t=>{t.action=i?"Create":t.action,t.SubnetsV4&&(t.subnetsV4=t.SubnetsV4?t.SubnetsV4.trim():""),t.SubnetsV6&&(t.subnetsV6=t.SubnetsV6?t.SubnetsV6.trim():""),t.Region&&(t.region=t.Region?t.Region:""),t.Address&&(t.address=t.Address?t.Address:""),t.Geo&&(t.geo=t.Geo?t.Geo:""),t.name&&(t.subnetsV4||t.subnetsV6)&&s.push({subnetsV4:t.subnetsV4,subnetsV6:t.subnetsV6,region:t.region,address:t.address,action:t.action,geo:t.geo,name:t.name,orgId:n})}),s}Export(t,e){return this.httpClient.get(`${this.export}${t}?org-id=${e}`)}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(r.eN),a.LFG(c.t6))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=i(93822),p=i(7450),f=i(39895),b=i(12664),m=i(49342),Z=i(39075),v=i(20904),x=i(38583),S=i(3679);const A=["infoModal"],I=["deleteModal"],T=["multiDeleteModal"],w=["importModal"];function q(t,e){if(1&t&&(a.TgZ(0,"div",20),a.TgZ(1,"div",21),a.TgZ(2,"div",22),a.TgZ(3,"span",23),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=a.oxw();a.xp6(4),a.Oqu(t.language.Loading)}}function M(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",24),a.TgZ(1,"div",25),a.TgZ(2,"div",26),a.TgZ(3,"div"),a.TgZ(4,"button",27),a.NdJ("click",function(){return a.CHM(t),a.oxw().create()}),a._uU(5),a.qZA(),a.qZA(),a.TgZ(6,"div"),a.TgZ(7,"button",28),a.NdJ("click",function(){return a.CHM(t),a.oxw().export()}),a._uU(8),a.qZA(),a.qZA(),a.TgZ(9,"div",29),a.TgZ(10,"button",30),a.NdJ("click",function(){return a.CHM(t),a.oxw().fullImportUpload()}),a._uU(11),a.qZA(),a.TgZ(12,"input",31,32),a.NdJ("click",function(){return a.CHM(t),a.MAs(13).value=null})("change",function(e){return a.CHM(t),a.oxw().fullImport(e,!0)}),a.qZA(),a.qZA(),a.TgZ(14,"div",29),a.TgZ(15,"label",33),a._uU(16),a.qZA(),a.TgZ(17,"input",34,35),a.NdJ("click",function(){return a.CHM(t),a.MAs(18).value=null})("change",function(e){return a.CHM(t),a.oxw().fullImport(e,!1)}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(19,"div",36),a.TgZ(20,"div",37),a._UZ(21,"input",38),a.TgZ(22,"button",39),a._UZ(23,"i",40),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=a.oxw();a.xp6(5),a.hij(" ",t.language.create," "),a.xp6(3),a.hij(" ",t.language.export," "),a.xp6(3),a.hij(" ",t.language.fullImport," "),a.xp6(5),a.hij("",t.language.incrementalImport," ")}}function _(t,e){if(1&t&&(a.TgZ(0,"div",64),a.TgZ(1,"span",65),a._uU(2),a.qZA(),a.qZA()),2&t){const t=a.oxw(2);a.xp6(2),a.Oqu(t.language.addSubnets)}}function y(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",64),a.TgZ(1,"span",65),a._uU(2),a.qZA(),a.TgZ(3,"span",66),a.NdJ("click",function(){const e=a.CHM(t).index;return a.oxw(2).removeSubnetV4(e)}),a._UZ(4,"i",67),a.qZA(),a.qZA()}if(2&t){const t=e.$implicit;a.xp6(2),a.Oqu(t)}}function O(t,e){if(1&t&&(a.TgZ(0,"div",64),a.TgZ(1,"span",65),a._uU(2),a.qZA(),a.qZA()),2&t){const t=a.oxw(2);a.xp6(2),a.Oqu(t.language.addSubnets)}}function C(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",64),a.TgZ(1,"span",65),a._uU(2),a.qZA(),a.TgZ(3,"span",66),a.NdJ("click",function(){const e=a.CHM(t).index;return a.oxw(2).removeSubnetV6(e)}),a._UZ(4,"i",67),a.qZA(),a.qZA()}if(2&t){const t=e.$implicit;a.xp6(2),a.Oqu(t)}}function V(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"section"),a.TgZ(1,"div",41),a.TgZ(2,"div",42),a.TgZ(3,"form"),a.TgZ(4,"div",43),a.TgZ(5,"div",44),a.TgZ(6,"label",45),a._uU(7),a.TgZ(8,"span",46),a._uU(9,"*"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"div",47),a.TgZ(11,"input",48),a.NdJ("ngModelChange",function(e){return a.CHM(t),a.oxw().createSubnetName=e})("blur",function(){a.CHM(t);const e=a.oxw();return e.removeUnwantedSpace("createSubnetName",e.createSubnetName)}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"div",43),a.TgZ(13,"div",44),a.TgZ(14,"label",45),a._uU(15),a.TgZ(16,"span",46),a._uU(17,"*"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"div",47),a.YNc(19,_,3,1,"div",49),a.YNc(20,y,5,1,"div",50),a._UZ(21,"label",51),a.TgZ(22,"input",52),a.NdJ("ngModelChange",function(e){return a.CHM(t),a.oxw().createSubnetV4=e})("blur",function(){a.CHM(t);const e=a.oxw();return e.removeUnwantedSpace("createSubnetV4",e.createSubnetV4)}),a.qZA(),a.qZA(),a.TgZ(23,"div",47),a.YNc(24,O,3,1,"div",49),a.YNc(25,C,5,1,"div",50),a._UZ(26,"label",53),a.TgZ(27,"input",54),a.NdJ("ngModelChange",function(e){return a.CHM(t),a.oxw().createSubnetV6=e})("blur",function(){a.CHM(t);const e=a.oxw();return e.removeUnwantedSpace("createSubnetV6",e.createSubnetV6)}),a.qZA(),a.qZA(),a.TgZ(28,"button",55),a.NdJ("click",function(){return a.CHM(t),a.oxw().addSubnet()}),a._uU(29),a.qZA(),a.qZA(),a.TgZ(30,"div",43),a.TgZ(31,"div",44),a.TgZ(32,"label",45),a._uU(33),a.qZA(),a.qZA(),a.TgZ(34,"div",47),a._UZ(35,"label",51),a.TgZ(36,"input",56),a.NdJ("ngModelChange",function(e){return a.CHM(t),a.oxw().createSubnetRegion=e})("blur",function(){a.CHM(t);const e=a.oxw();return e.removeUnwantedSpace("createSubnetRegion",e.createSubnetRegion)}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(37,"div",43),a.TgZ(38,"div",44),a.TgZ(39,"label",45),a._uU(40),a.qZA(),a.qZA(),a.TgZ(41,"div",47),a._UZ(42,"label",51),a.TgZ(43,"input",57),a.NdJ("ngModelChange",function(e){return a.CHM(t),a.oxw().createSubnetAddress=e})("blur",function(){a.CHM(t);const e=a.oxw();return e.removeUnwantedSpace("createSubnetAddress",e.createSubnetAddress)}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(44,"div",43),a.TgZ(45,"div",44),a.TgZ(46,"label",45),a._uU(47),a.qZA(),a.qZA(),a.TgZ(48,"div",47),a._UZ(49,"label",51),a.TgZ(50,"input",58),a.NdJ("ngModelChange",function(e){return a.CHM(t),a.oxw().createGeo=e})("blur",function(){a.CHM(t);const e=a.oxw();return e.removeUnwantedSpace("createGeo",e.createGeo)}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(51,"div",59),a.TgZ(52,"div",60),a._UZ(53,"label",61),a.qZA(),a.TgZ(54,"button",62),a.NdJ("click",function(){return a.CHM(t),a.oxw().submit()}),a._uU(55),a.qZA(),a.TgZ(56,"button",63),a.NdJ("click",function(){return a.CHM(t),a.oxw().cancel()}),a._uU(57),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=a.oxw();a.xp6(7),a.hij("",t.language.name," "),a.xp6(4),a.Q6J("ngModel",t.createSubnetName),a.xp6(4),a.hij("",t.language.subnets," "),a.xp6(4),a.Q6J("ngIf",!t.createSubnetsV4.length),a.xp6(1),a.Q6J("ngForOf",t.createSubnetsV4),a.xp6(2),a.Q6J("ngModel",t.createSubnetV4),a.xp6(2),a.Q6J("ngIf",!t.createSubnetsV6.length),a.xp6(1),a.Q6J("ngForOf",t.createSubnetsV6),a.xp6(2),a.Q6J("ngModel",t.createSubnetV6),a.xp6(2),a.hij(" ",t.language.Add," "),a.xp6(4),a.Oqu(t.language.region),a.xp6(3),a.Q6J("ngModel",t.createSubnetRegion),a.xp6(4),a.Oqu(t.language.address),a.xp6(3),a.Q6J("ngModel",t.createSubnetAddress),a.xp6(4),a.Oqu(t.language.geo),a.xp6(3),a.Q6J("ngModel",t.createGeo),a.xp6(5),a.hij(" ",t.language.submit," "),a.xp6(2),a.hij(" ",t.language.Cancel," ")}}function U(t,e){if(1&t&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td"),a._uU(12),a.qZA(),a.TgZ(13,"td"),a._uU(14),a.qZA(),a.TgZ(15,"td"),a._uU(16),a.qZA(),a.TgZ(17,"td"),a._uU(18),a.qZA(),a.TgZ(19,"td"),a._uU(20),a.qZA(),a.TgZ(21,"td"),a._uU(22),a.qZA(),a.TgZ(23,"td"),a._uU(24),a.qZA(),a.qZA()),2&t){const t=e.$implicit;a.xp6(2),a.Oqu(t.action),a.xp6(2),a.Oqu(t.name),a.xp6(2),a.Oqu(t.subnetsV4),a.xp6(2),a.Oqu(t["Old subnetsV4"]),a.xp6(2),a.Oqu(t.subnetsV6),a.xp6(2),a.Oqu(t["Old subnetsV6"]),a.xp6(2),a.Oqu(t.region),a.xp6(2),a.Oqu(t["Old region"]),a.xp6(2),a.Oqu(t.address),a.xp6(2),a.Oqu(t["Old address"]),a.xp6(2),a.Oqu(t.geo),a.xp6(2),a.Oqu(t["Old geo"])}}function D(t,e){if(1&t&&(a.TgZ(0,"div",4),a.TgZ(1,"div",73),a.TgZ(2,"table",74),a.TgZ(3,"thead"),a.TgZ(4,"tr"),a.TgZ(5,"th"),a._uU(6),a.qZA(),a.TgZ(7,"th"),a._uU(8),a.qZA(),a.TgZ(9,"th"),a._uU(10),a.qZA(),a.TgZ(11,"th"),a._uU(12),a.qZA(),a.TgZ(13,"th"),a._uU(14),a.qZA(),a.TgZ(15,"th"),a._uU(16),a.qZA(),a.TgZ(17,"th"),a._uU(18),a.qZA(),a.TgZ(19,"th"),a._uU(20),a.qZA(),a.TgZ(21,"th"),a._uU(22),a.qZA(),a.TgZ(23,"th"),a._uU(24),a.qZA(),a.TgZ(25,"th"),a._uU(26),a.qZA(),a.TgZ(27,"th"),a._uU(28),a.qZA(),a.qZA(),a.qZA(),a.TgZ(29,"tbody"),a.YNc(30,U,25,12,"tr",75),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=a.oxw(2);a.xp6(2),a.Q6J("dtOptions",t.importTableOptions),a.xp6(4),a.Oqu(t.language.action),a.xp6(2),a.Oqu(t.language.name),a.xp6(2),a.Oqu(t.language.subnetIpv4),a.xp6(2),a.AsE("",t.language.old," ",t.language.subnetIpv4,""),a.xp6(2),a.Oqu(t.language.subnetIpv6),a.xp6(2),a.AsE("",t.language.old," ",t.language.subnetIpv6,""),a.xp6(2),a.Oqu(t.language.region),a.xp6(2),a.AsE("",t.language.old," ",t.language.region,""),a.xp6(2),a.Oqu(t.language.address),a.xp6(2),a.AsE("",t.language.old," ",t.language.address,""),a.xp6(2),a.Oqu(t.language.geo),a.xp6(2),a.AsE("",t.language.old," ",t.language.geo,""),a.xp6(2),a.Q6J("ngForOf",t.previewTableBody)}}function N(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"section"),a.YNc(1,D,31,19,"div",68),a.TgZ(2,"div",69),a.TgZ(3,"div",70),a.TgZ(4,"button",71),a.NdJ("click",function(){return a.CHM(t),a.oxw().submitImport()}),a._uU(5),a.qZA(),a.TgZ(6,"button",72),a.NdJ("click",function(){return a.CHM(t),a.oxw().cancel()}),a._uU(7),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=a.oxw();a.xp6(1),a.Q6J("ngIf",t.tablePreview),a.xp6(3),a.Q6J("disabled",!t.enableImportSubmit),a.xp6(1),a.hij(" ",t.language.submit," "),a.xp6(2),a.hij(" ",t.language.Cancel," ")}}function k(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",82),a.TgZ(1,"div",8),a.TgZ(2,"span",83),a.TgZ(3,"div",84),a.NdJ("click",function(){a.CHM(t);const e=a.oxw().$implicit;return a.oxw().edit(e)}),a._UZ(4,"i",85),a.qZA(),a.qZA(),a.TgZ(5,"span",83),a.TgZ(6,"input",86),a.NdJ("click",function(e){a.CHM(t);const i=a.oxw().$implicit;return a.oxw().getDeleteIds(e,i)}),a.qZA(),a.qZA(),a.TgZ(7,"span",83),a.TgZ(8,"div",87),a.NdJ("click",function(){a.CHM(t);const e=a.oxw().$implicit;return a.oxw().delete(e)}),a._UZ(9,"i",14),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=a.oxw().$implicit,e=a.oxw();a.xp6(3),a.s9C("title",e.language.Edit),a.xp6(3),a.Gre("delete_id_",t._id,""),a.s9C("value",t._id),a.MGl("name","delete_id_",t._id,""),a.s9C("title",e.language.Select),a.xp6(2),a.s9C("title",e.language.Delete)}}function J(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",88),a.TgZ(1,"div",8),a.TgZ(2,"span",89),a.TgZ(3,"div",90),a.NdJ("click",function(){a.CHM(t);const e=a.oxw().$implicit;return a.oxw().updateSave(e._id)}),a._UZ(4,"i",91),a.qZA(),a.qZA(),a.TgZ(5,"span",89),a.TgZ(6,"div",92),a.NdJ("click",function(){return a.CHM(t),a.oxw(2).updateCancel()}),a._UZ(7,"i",93),a.qZA(),a.qZA(),a.qZA(),a.qZA()}}function E(t,e){if(1&t&&(a.TgZ(0,"div",94),a._uU(1),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.hij(" ",t.name?t.name:""," ")}}const L=function(){return{standalone:!0}};function R(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",37),a.TgZ(1,"input",95),a.NdJ("ngModelChange",function(e){return a.CHM(t),a.oxw(2).editname=e})("blur",function(){a.CHM(t);const e=a.oxw(2);return e.removeUnwantedSpace("editname",e.editname)}),a.qZA(),a.qZA()}if(2&t){const t=a.oxw(2);a.xp6(1),a.Q6J("ngModel",t.editname)("ngModelOptions",a.DdM(2,L))}}function H(t,e){if(1&t&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.hij(" ",t.v4s[0]?t.v4s[0]:""," ")}}function P(t,e){if(1&t&&(a.ynx(0),a._uU(1),a._UZ(2,"br"),a.BQk()),2&t){const t=e.$implicit;a.xp6(1),a.hij(" ",t,"")}}function F(t,e){if(1&t&&(a.TgZ(0,"div"),a.TgZ(1,"div",96),a._UZ(2,"i",97),a._UZ(3,"i",98),a._uU(4," \xa0\xa0( "),a.TgZ(5,"span",99),a._uU(6),a.qZA(),a._uU(7," ) "),a.TgZ(8,"span",100),a._uU(9),a.qZA(),a.qZA(),a.TgZ(10,"div",101),a.YNc(11,P,3,1,"ng-container",75),a.qZA(),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.uIk("id","collapse-btn-v4-"+t._id)("data-target","#collapse-v4-"+t._id)("aria-controls","collapse-v4-"+t._id),a.xp6(5),a.Oqu(t.v4s.length),a.xp6(2),a.uIk("id","collapse-address-v4-"+t._id),a.xp6(1),a.hij("\xa0\xa0",t.v4s[0],""),a.xp6(1),a.uIk("id","collapse-v4-"+t._id),a.xp6(1),a.Q6J("ngForOf",t.v4s)}}function Q(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"li",112),a.TgZ(1,"span",113),a.NdJ("click",function(){a.CHM(t);const e=a.oxw().index;return a.oxw(3).showEditSubnetInput(e,"ip4")}),a._uU(2),a.qZA(),a.TgZ(3,"span",114),a.NdJ("click",function(){a.CHM(t);const e=a.oxw().index;return a.oxw(3).removeEditSubnet(e,"ip4")}),a._UZ(4,"i",115),a.qZA(),a.qZA()}if(2&t){const t=a.oxw().$implicit;a.xp6(2),a.hij(" ",t," ")}}function $(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",116),a.TgZ(1,"div",37),a.TgZ(2,"input",117),a.NdJ("ngModelChange",function(e){return a.CHM(t),a.oxw(4).newEditSubnet=e})("blur",function(){a.CHM(t);const e=a.oxw(4);return e.removeUnwantedSpace("newEditSubnet",e.newEditSubnet)}),a.qZA(),a.TgZ(3,"div",118),a.TgZ(4,"i",119),a.NdJ("click",function(){return a.CHM(t),a.oxw(4).modifyEditSubnet()}),a.qZA(),a.TgZ(5,"i",120),a.NdJ("click",function(){return a.CHM(t),a.oxw(4).hideEditSubnetInput()}),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=a.oxw(4);a.xp6(2),a.Q6J("ngModel",t.newEditSubnet)}}function Y(t,e){if(1&t&&(a.TgZ(0,"ul",109),a.YNc(1,Q,5,1,"li",110),a.YNc(2,$,6,1,"div",111),a.qZA()),2&t){const t=e.index,i=a.oxw(3);a.xp6(1),a.Q6J("ngIf",null==(null==i.modifySubnetInfo?null:i.modifySubnetInfo.index)||(null==i.modifySubnetInfo?null:i.modifySubnetInfo.index)!=t||"ip4"!=(null==i.modifySubnetInfo?null:i.modifySubnetInfo.type)),a.xp6(1),a.Q6J("ngIf","ip4"==(null==i.modifySubnetInfo?null:i.modifySubnetInfo.type)&&(null==i.modifySubnetInfo?null:i.modifySubnetInfo.index)==t)}}function j(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"div",102),a.ynx(2),a.YNc(3,Y,3,2,"ul",103),a.BQk(),a.qZA(),a.TgZ(4,"div",104),a.TgZ(5,"div",105),a.TgZ(6,"input",106),a.NdJ("ngModelChange",function(e){return a.CHM(t),a.oxw(2).editSubnet4=e})("blur",function(){a.CHM(t);const e=a.oxw(2);return e.removeUnwantedSpace("editSubnet4",e.editSubnet4)}),a.qZA(),a.TgZ(7,"span",107),a.NdJ("click",function(){return a.CHM(t),a.oxw(2).addEditSubnet("ip4")}),a._UZ(8,"i",108),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=a.oxw(2);a.xp6(3),a.Q6J("ngForOf",t.editSubnets4),a.xp6(3),a.Q6J("ngModel",t.editSubnet4)}}function B(t,e){if(1&t&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.hij(" ",t.v6s[0]?t.v6s[0]:""," ")}}function G(t,e){if(1&t&&(a.ynx(0),a._uU(1),a._UZ(2,"br"),a.BQk()),2&t){const t=e.$implicit;a.xp6(1),a.hij(" ",t,"")}}function z(t,e){if(1&t&&(a.TgZ(0,"div"),a.TgZ(1,"div",96),a._UZ(2,"i",121),a._UZ(3,"i",122),a._uU(4," \xa0\xa0( "),a.TgZ(5,"span",99),a._uU(6),a.qZA(),a._uU(7," ) "),a.TgZ(8,"span",100),a._uU(9),a.qZA(),a.qZA(),a.TgZ(10,"div",101),a.YNc(11,G,3,1,"ng-container",75),a.qZA(),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.uIk("id","collapse-btn-v6-"+t._id)("data-target","#collapse-v6-"+t._id)("aria-controls","collapse-v6-"+t._id),a.xp6(5),a.Oqu(t.v6s.length),a.xp6(2),a.uIk("id","collapse-address-v6-"+t._id),a.xp6(1),a.hij("\xa0\xa0",t.v6s[0],""),a.xp6(1),a.uIk("id","collapse-v6-"+t._id),a.xp6(1),a.Q6J("ngForOf",t.v6s)}}function W(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"li",112),a.TgZ(1,"span",113),a.NdJ("click",function(){a.CHM(t);const e=a.oxw().index;return a.oxw(3).showEditSubnetInput(e,"ip6")}),a._uU(2),a.qZA(),a.TgZ(3,"span",114),a.NdJ("click",function(){a.CHM(t);const e=a.oxw().index;return a.oxw(3).removeEditSubnet(e,"ip6")}),a._UZ(4,"i",115),a.qZA(),a.qZA()}if(2&t){const t=a.oxw().$implicit;a.xp6(2),a.hij(" ",t," ")}}function X(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",116),a.TgZ(1,"div",37),a.TgZ(2,"input",124),a.NdJ("ngModelChange",function(e){return a.CHM(t),a.oxw(4).newEditSubnet=e}),a.qZA(),a.TgZ(3,"div",118),a.TgZ(4,"i",119),a.NdJ("click",function(){return a.CHM(t),a.oxw(4).modifyEditSubnet()}),a.qZA(),a.TgZ(5,"i",120),a.NdJ("click",function(){return a.CHM(t),a.oxw(4).hideEditSubnetInput()}),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=a.oxw(4);a.xp6(2),a.Q6J("ngModel",t.newEditSubnet)}}function K(t,e){if(1&t&&(a.TgZ(0,"ul",109),a.YNc(1,W,5,1,"li",110),a.YNc(2,X,6,1,"div",111),a.qZA()),2&t){const t=e.index,i=a.oxw(3);a.xp6(1),a.Q6J("ngIf",null==(null==i.modifySubnetInfo?null:i.modifySubnetInfo.index)||(null==i.modifySubnetInfo?null:i.modifySubnetInfo.index)!=t||"ip6"!=(null==i.modifySubnetInfo?null:i.modifySubnetInfo.type)),a.xp6(1),a.Q6J("ngIf","ip6"==(null==i.modifySubnetInfo?null:i.modifySubnetInfo.type)&&(null==i.modifySubnetInfo?null:i.modifySubnetInfo.index)==t)}}function tt(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"div",102),a.ynx(2,94),a.YNc(3,K,3,2,"ul",103),a.BQk(),a.qZA(),a.TgZ(4,"div",104),a.TgZ(5,"div",105),a.TgZ(6,"input",123),a.NdJ("ngModelChange",function(e){return a.CHM(t),a.oxw(2).editSubnet6=e})("blur",function(){a.CHM(t);const e=a.oxw(2);return e.removeUnwantedSpace("editSubnet6",e.editSubnet6)}),a.qZA(),a.TgZ(7,"span",107),a.NdJ("click",function(){return a.CHM(t),a.oxw(2).addEditSubnet("ip6")}),a._UZ(8,"i",108),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=a.oxw(2);a.xp6(3),a.Q6J("ngForOf",t.editSubnets6),a.xp6(3),a.Q6J("ngModel",t.editSubnet6)}}function et(t,e){if(1&t&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.hij(" ",t.region," ")}}function it(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",37),a.TgZ(1,"input",95),a.NdJ("ngModelChange",function(e){return a.CHM(t),a.oxw(2).editregion=e})("blur",function(){a.CHM(t);const e=a.oxw(2);return e.removeUnwantedSpace("editregion",e.editregion)}),a.qZA(),a.qZA()}if(2&t){const t=a.oxw(2);a.xp6(1),a.Q6J("ngModel",t.editregion)("ngModelOptions",a.DdM(2,L))}}function nt(t,e){if(1&t&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.hij(" ",t.address," ")}}function st(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",37),a.TgZ(1,"input",95),a.NdJ("ngModelChange",function(e){return a.CHM(t),a.oxw(2).editaddress=e})("blur",function(){a.CHM(t);const e=a.oxw(2);return e.removeUnwantedSpace("editaddress",e.editaddress)}),a.qZA(),a.qZA()}if(2&t){const t=a.oxw(2);a.xp6(1),a.Q6J("ngModel",t.editaddress)("ngModelOptions",a.DdM(2,L))}}function ot(t,e){if(1&t&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.hij(" ",t.geo," ")}}function at(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",37),a.TgZ(1,"input",95),a.NdJ("ngModelChange",function(e){return a.CHM(t),a.oxw(2).editgeo=e})("blur",function(){a.CHM(t);const e=a.oxw(2);return e.removeUnwantedSpace("editgeo",e.editgeo)}),a.qZA(),a.qZA()}if(2&t){const t=a.oxw(2);a.xp6(1),a.Q6J("ngModel",t.editgeo)("ngModelOptions",a.DdM(2,L))}}function lt(t,e){if(1&t&&(a.TgZ(0,"tr",76),a.TgZ(1,"td",77),a.YNc(2,k,10,8,"div",78),a.YNc(3,J,8,0,"div",79),a.qZA(),a.TgZ(4,"td"),a.YNc(5,E,2,1,"div",80),a.YNc(6,R,2,3,"div",81),a.qZA(),a.TgZ(7,"td"),a.YNc(8,H,2,1,"div",3),a.YNc(9,F,12,8,"div",3),a.YNc(10,j,9,2,"div",3),a.qZA(),a.TgZ(11,"td"),a.YNc(12,B,2,1,"div",3),a.YNc(13,z,12,8,"div",3),a.YNc(14,tt,9,2,"div",3),a.qZA(),a.TgZ(15,"td"),a.YNc(16,et,2,1,"div",3),a.YNc(17,it,2,3,"div",81),a.qZA(),a.TgZ(18,"td"),a.YNc(19,nt,2,1,"div",3),a.YNc(20,st,2,3,"div",81),a.qZA(),a.TgZ(21,"td"),a.YNc(22,ot,2,1,"div",3),a.YNc(23,at,2,3,"div",81),a.qZA(),a.qZA()),2&t){const t=e.$implicit,i=a.oxw();a.s9C("id",t._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=t._id),a.xp6(1),a.Q6J("ngIf",i.editOnValue==t._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=t._id),a.xp6(1),a.Q6J("ngIf",i.editOnValue==t._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=t._id&&1==t.v4s.length),a.xp6(1),a.Q6J("ngIf",i.editOnValue!=t._id&&t.v4s.length>1),a.xp6(1),a.Q6J("ngIf",i.editOnValue==t._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=t._id&&1==t.v6s.length),a.xp6(1),a.Q6J("ngIf",i.editOnValue!=t._id&&t.v6s.length>1),a.xp6(1),a.Q6J("ngIf",i.editOnValue==t._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=t._id),a.xp6(1),a.Q6J("ngIf",i.editOnValue==t._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=t._id),a.xp6(1),a.Q6J("ngIf",i.editOnValue==t._id),a.xp6(2),a.Q6J("ngIf",i.editOnValue!=t._id),a.xp6(1),a.Q6J("ngIf",i.editOnValue==t._id)}}function dt(t,e){if(1&t&&(a.TgZ(0,"li",136),a._uU(1),a.qZA()),2&t){const t=e.$implicit;a.xp6(1),a.Oqu(t.name)}}function rt(t,e){if(1&t&&(a.TgZ(0,"ul",134),a.YNc(1,dt,2,1,"li",135),a.qZA()),2&t){const t=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",t.invalidImportLocationName)}}function ut(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",125),a.TgZ(1,"h4",126),a._uU(2),a.qZA(),a.TgZ(3,"button",127),a.NdJ("click",function(){return a.CHM(t),a.oxw().closeModal()}),a._UZ(4,"span",128),a.qZA(),a.qZA(),a.TgZ(5,"div",129),a.TgZ(6,"p",130),a._uU(7),a.qZA(),a.TgZ(8,"div",64),a.TgZ(9,"p",130),a._uU(10),a.qZA(),a.YNc(11,rt,2,1,"ul",131),a.qZA(),a.qZA(),a.TgZ(12,"div",132),a.TgZ(13,"button",133),a.NdJ("click",function(){return a.CHM(t),a.oxw().closeModal()}),a._uU(14),a.qZA(),a.qZA()}if(2&t){const t=a.oxw();a.xp6(2),a.Oqu(t.infoTitle),a.xp6(5),a.Oqu(t.invalidImportLocationName.length?t.language.Note+" - "+t.language["No location imported"]:""),a.xp6(3),a.Oqu(t.infoBody),a.xp6(1),a.Q6J("ngIf",t.invalidImportLocationName.length),a.xp6(3),a.hij(" ",t.language.Okay," ")}}function ct(t,e){if(1&t){const t=a.EpF();a.ynx(0),a.TgZ(1,"div",125),a.TgZ(2,"h4",126),a._uU(3),a.qZA(),a.TgZ(4,"button",127),a.NdJ("click",function(){return a.CHM(t),a.oxw().closeModal()}),a._UZ(5,"span",128),a.qZA(),a.qZA(),a.TgZ(6,"div",137),a._UZ(7,"table",138),a.qZA(),a.TgZ(8,"div",132),a.TgZ(9,"button",133),a.NdJ("click",function(){return a.CHM(t),a.oxw().confirmDelete()}),a._uU(10),a.qZA(),a.TgZ(11,"button",139),a.NdJ("click",function(){return a.CHM(t),a.oxw().closeModal()}),a._uU(12),a.qZA(),a.qZA(),a.BQk()}if(2&t){const t=a.oxw();a.xp6(3),a.Oqu(t.infoTitle),a.xp6(4),a.Q6J("innerHtml",t.infoBody,a.oJD),a.xp6(3),a.hij(" ",t.language.Okay," "),a.xp6(2),a.hij(" ",t.language.Cancel," ")}}function ht(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",125),a.TgZ(1,"h4",126),a._uU(2),a.qZA(),a.TgZ(3,"button",127),a.NdJ("click",function(){return a.CHM(t),a.oxw().closeModal()}),a._UZ(4,"span",128),a.qZA(),a.qZA(),a.TgZ(5,"div",129),a._UZ(6,"table",138),a.qZA(),a.TgZ(7,"div",132),a.TgZ(8,"button",133),a.NdJ("click",function(){return a.CHM(t),a.oxw().confirmDeleteSecleted()}),a._uU(9),a.qZA(),a.TgZ(10,"button",139),a.NdJ("click",function(){return a.CHM(t),a.oxw().closeModal()}),a._uU(11),a.qZA(),a.qZA()}if(2&t){const t=a.oxw();a.xp6(2),a.Oqu(t.infoTitle),a.xp6(4),a.Q6J("innerHtml",t.infoBody,a.oJD),a.xp6(3),a.hij(" ",t.language.Okay," "),a.xp6(2),a.hij(" ",t.language.Cancel," ")}}function gt(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",125),a.TgZ(1,"h4",126),a._uU(2),a.qZA(),a.TgZ(3,"button",127),a.NdJ("click",function(){return a.CHM(t),a.oxw().closeModal()}),a._UZ(4,"span",128),a.qZA(),a.qZA(),a.TgZ(5,"div",137),a._UZ(6,"table",138),a.qZA(),a.TgZ(7,"div",132),a.TgZ(8,"button",133),a.NdJ("click",function(){return a.CHM(t),a.oxw().proceedImport()}),a._uU(9),a.qZA(),a.TgZ(10,"button",139),a.NdJ("click",function(){return a.CHM(t),a.oxw().closeModal()}),a._uU(11),a.qZA(),a.qZA()}if(2&t){const t=a.oxw();a.xp6(2),a.Oqu(t.infoTitle),a.xp6(4),a.Q6J("innerHtml",t.infoBody,a.oJD),a.xp6(3),a.hij(" ",t.language.Okay," "),a.xp6(2),a.hij(" ",t.language.Cancel," ")}}const pt=i(91704);let ft=(()=>{class t{constructor(t,e,i,n,o,a,l,d,r,u,c){this.commonFunctionsService=t,this.exportExcel=e,this.api=i,this.dataTablecreatorService=n,this.translateService=o,this.router=a,this.sso=l,this.dialogService=d,this.commonOrgService=r,this.titleService=u,this.common=c,this.pageAvailable=!1,this.createSubnets=[],this.createSubnetsV4=[],this.createSubnetsV6=[],this.createSubnetV4="",this.createSubnetV6="",this.currentTableRowCount=0,this.formVisible=!1,this.buttonVisible=!0,this.dataAvailable=!1,this.tableOptions={pagingType:"full_numbers",columnDefs:[{targets:[0],orderable:!1}],order:[1,"asc"],stateSave:!1,drawCallback:t=>{this.sortData={column:t.aaSorting[0][0]?t.aaSorting[0][0]:1,type:t.aaSorting[0][1]?t.aaSorting[0][1]:"asc"},setTimeout(()=>{this.resetDelete()},0),this.currentTableRowCount=t.aiDisplay.length,t.aoData.length<=t._iDisplayLength&&pt(t.nTableWrapper).find(`#${t.sTableId}_last`).addClass("disabled")}},this.locationData=[],this.empty={Name:"",SubnetsV4:"",SubnetsV6:"",Region:"",Address:"",Geo:""},this.add={address:"",geo:"",name:"",region:"",subnetsV4:"",subnetsV6:"",tenantId:0,orgId:50},this.dtOptions={},this.dtTrigger=new s.xQ,this.isRerender=!1,this.importTableOptions={},this.tablePreview=!1,this.fullLoader=!0,this.isFullImport=!0,this.editSubnets4=[],this.editSubnets6=[],this.IP4s=[],this.IP6s=[],this.editSubnets=[],this.storageData={},this.loading=!0,this.deleteIds=[],this.deviceIps=[],this.importUpdateASCreate=[],this.sortData={column:1,type:"asc"},this.modifySubnetInfo={},this.invalidImportLocationName=[],this.invalidImportLocationRegion=[],this.invalidImportLocationAddress=[],this.invalidImportLocationGeo=[];let h=this.router.url;this.ORG_ID=this.sso.getOrganizationID(h),this.language=this.translateService.defualtLanguage,this.language&&(this.pageAvailable=!0),this.translateSubscribe=this.translateService.selectedLanguage.subscribe(t=>{this.language=t,this.dataAvailable=!1,this.isRerender=!0,this.titleService.setTitle(`${this.language.Locations} - ${this.language.flowconfiguration} - ${"systemAdministration"===g?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`),this.tableCreator("language")}),this.frTable=this.translateService.fr;let g=this.sso.getRedirectModule(h);this.titleService.setTitle(`${this.language.Locations} - ${this.language.flowconfiguration} - ${"systemAdministration"===g?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}ngOnInit(){this.createCurrentSubnet="",this.removeState(),this.apiLoader(),this.tableLanguageOptions();const t=JSON.parse(localStorage.getItem("calix.login_data"));this.storageData.clientIp=null==t?void 0:t.clientIp,this.storageData.UserId=null==t?void 0:t.UserId,this.subscription=this.dataTablecreatorService.tableOptionsData.subscribe(t=>{this.invalidImportLocationName=[],this.invalidImportLocationAddress=[],this.invalidImportLocationGeo=[],this.invalidImportLocationRegion=[];try{let e=!0;(t||[]).forEach(t=>(t.name=t.Name,delete t.Name,t.name&&t.name.length>64?(this.invalidImportLocationName.push(t),this.infoTitle=this.language["Invalid Value"],this.infoBody=this.language["Invalid Name - Name should not exceed 64 characters."],e=!1,void this.openInfoModal(!0)):t.Region&&t.Region.length>32||t.Address&&t.Address.length>32?(this.invalidImportLocationRegion.push(t),this.invalidImportLocationAddress.push(t),this.infoTitle=this.language["Invalid Value"],this.infoBody=this.language["Invalid Region/Address - Region/Address should not exceed 32 characters."],e=!1,void this.openInfoModal(!0)):t.Geo&&t.Geo.length>64?(this.invalidImportLocationAddress.push(t),this.infoTitle=this.language["Invalid Value"],this.infoBody=this.language["Invalid Geo - Geo should not exceed 64 characters."],e=!1,void this.openInfoModal(!0)):void 0)),e&&(this.recreateTable=t,this.submitImport(!0))}catch(e){}})}ngAfterViewInit(){this.loaded=!0}ngOnDestroy(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSubscribe&&this.translateSubscribe.unsubscribe(),this.subscription&&this.subscription.unsubscribe(),this.listSubs&&this.listSubs.unsubscribe(),this.createSubs&&this.createSubs.unsubscribe(),this.updateSubs&&this.updateSubs.unsubscribe(),this.deleteSubs&&this.deleteSubs.unsubscribe(),this.exportSubs&&this.exportSubs.unsubscribe(),this.importSubs&&this.importSubs.unsubscribe()}apiLoader(){this.listSubs=this.api.LocationList(this.ORG_ID).subscribe(t=>{t&&(this.locationData=[...this.processData(t)],this.tableCreator(),this.isRerender?(this.rerender(),this.isRerender=!1):this.dtTrigger.next(),setTimeout(()=>{this.resetDelete()},100),this.exportData=this.api.exportProcess(t))},t=>{this.pageErrorHandle(t),this.tableCreator(),this.isRerender?(this.rerender(),this.loading=!1):this.dtTrigger.next()})}processData(t){return t.forEach(t=>{for(let e in t){let e=[],i=[];t.subnets=this.checkNull(t.subnetsV4)+this.checkNull(t.subnetsV6),t.subnetsForExport=[t.subnetsV4,t.subnetsV6].filter(t=>"null"!=t).join(","),null!=t.subnetsV4&&""!=t.subnetsV4&&(e=[...t.subnetsV4.split("|")]),null!=t.subnetsV6&&""!=t.subnetsV6&&(i=[...t.subnetsV6.split("|")]),t.v4s=e,t.v6s=i}}),t}rerender(){this.dtElement.dtInstance.then(t=>{t.destroy(),this.tableOptions.order=[this.sortData.column,this.sortData.type],setTimeout(()=>{this.dtTrigger.next()},10)})}checkNull(t){return null==t?"":t}addSubnet(){if(this.createSubnetV4=this.createSubnetV4.trim(),this.createSubnetV6=this.createSubnetV6.trim(),""==this.createSubnetV4&&""==this.createSubnetV6)return this.infoTitle=this.language["Subnet cannot be empty"],this.infoBody="",void this.openInfoModal(!1);if(""!=this.createSubnetV4){if(!this.subnetValidatorIpv4(this.createSubnetV4))return this.infoTitle=this.language["Invalid subnet"],this.infoBody=`${this.createSubnetV4}`,void this.openInfoModal(!1);if(this.createSubnetsV4.includes(this.createSubnetV4))return this.infoTitle=this.language["Invalid subnet"],this.infoBody=this.language["Duplicate Subnet"],void this.openInfoModal(!1);this.createSubnetsV4.push(this.createSubnetV4),this.createSubnetV4=""}if(""!=this.createSubnetV6){if(!this.subnetValidatorIpv6(this.createSubnetV6))return this.infoTitle=this.language["Invalid subnet"],this.infoBody=`${this.createSubnetV6}`,void this.openInfoModal(!1);if(this.createSubnetsV6.includes(this.createSubnetV6))return this.infoTitle=this.language["Invalid subnet"],this.infoBody=this.language["Duplicate Subnet"],void this.openInfoModal(!1);this.createSubnetsV6.push(this.createSubnetV6),this.createSubnetV6=""}}removeSubnetV4(t){this.createSubnetsV4.splice(t,1)}removeSubnetV6(t){this.createSubnetsV6.splice(t,1)}tableCreator(t){this.tableOptions={pagingType:"full_numbers",rowId:"_id",columnDefs:[{targets:[0],orderable:!1}],order:[1,"asc"],stateSave:!1,drawCallback:t=>{this.sortData={column:t.aaSorting[0][0]?t.aaSorting[0][0]:1,type:t.aaSorting[0][1]?t.aaSorting[0][1]:"asc"},setTimeout(()=>{this.resetDelete()},0),this.currentTableRowCount=t.aiDisplay.length,t.aoData.length<=t._iDisplayLength&&pt(t.nTableWrapper).find(`#${t.sTableId}_last`).addClass("disabled")}},this.tableLanguageOptions(),t&&"language"==t?setTimeout(()=>{this.dataAvailable=!0,this.rerender(),setTimeout(()=>{this.loading=!1},100)},300):setTimeout(()=>{this.dataAvailable=!0,this.loading=!1},200)}hideShow(t){this.showingDeviceIp=this.showingDeviceIp==t?void 0:t}create(){this.buttonVisible=!1,this.formVisible=!0}submit(){if(!this.createSubnetName)return this.infoTitle=this.language["Object missing name"],this.infoBody="",void this.openInfoModal(!1);if(this.createSubnetName.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody=this.language["Invalid Name - Name should not exceed 64 characters."],void this.openInfoModal(!1);if(this.createSubnetV4=this.createSubnetV4?this.createSubnetV4.trim():"",this.createSubnetV6=this.createSubnetV6?this.createSubnetV6.trim():"",""==this.createSubnetV4&&!this.createSubnetsV4.length&&""==this.createSubnetV6&&!this.createSubnetsV6.length)return this.infoTitle=this.language["Location must have at least one subnet"],this.infoBody="",void this.openInfoModal(!1);if(this.IP4s=this.createSubnetsV4,this.IP6s=this.createSubnetsV6,""!=this.createSubnetV4){if(!this.subnetValidatorIpv4(this.createSubnetV4))return this.infoTitle=this.language["Invalid subnet"],this.infoBody="",void this.openInfoModal(!1);this.IP4s=[this.createSubnetV4,...this.IP4s]}if(""!=this.createSubnetV6){if(!this.subnetValidatorIpv6(this.createSubnetV6))return this.infoTitle=this.language["Invalid subnet"],this.infoBody="",void this.openInfoModal(!1);this.IP6s=[this.createSubnetV6,...this.IP6s]}if(this.createSubnetRegion&&this.createSubnetRegion.length>32||this.createSubnetAddress&&this.createSubnetAddress.length>32)return this.infoTitle=this.language["Invalid Value"],this.infoBody=this.language["Invalid Region/Address - Region/Address should not exceed 32 characters."],void this.openInfoModal(!1);if(this.createGeo&&this.createGeo.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody=this.language["Invalid Geo - Geo should not exceed 64 characters."],void this.openInfoModal(!1);let t={name:this.createSubnetName?this.createSubnetName.trim():"",subnetsV4:0!=this.IP4s.length?this.IP4s.join("|"):null,subnetsV6:0!=this.IP6s.length?this.IP6s.join("|"):null,region:this.createSubnetRegion?this.createSubnetRegion.trim():"",address:this.createSubnetAddress?this.createSubnetAddress.trim():"",geo:this.createGeo?this.createGeo.trim():"",orgId:parseInt(this.ORG_ID),tenantId:0};this.loading=!0,this.createSubs=this.api.LocationAdd(t,this.ORG_ID).subscribe(t=>{this.isRerender=!0,this.cancel(),this.apiLoader(),this.commonOrgService.closeAlert()},t=>{this.pageErrorHandle(t)})}edit(t){if(this.editData=t,this.editOnValue=t._id,this.editname=t.name,this.editSubnets4=null!=t.subnetsV4?t.subnetsV4.split("|"):[],this.editSubnets6=null!=t.subnetsV6?t.subnetsV6.split("|"):[],this.editSubnet4="",this.editSubnet6="",this.editregion=t.region,this.editaddress=t.address,this.editgeo=t.geo,-1!==this.deleteIds.indexOf(t._id)){this.deleteIds.splice(this.deleteIds.indexOf(t._id),1),this.deviceIps.splice(this.deviceIps.indexOf(t.name),1);let e=pt('input[name^="delete_id_"]').length;this.deleteIds.length?this.deleteIds.length!=e?(pt("#selectDeselectAll").prop("checked",!1),pt("#selectDeselectAll-span").show()):pt("#selectDeselectAll-span").hide():(pt("#selectDeselectAll").prop("checked",!1),pt("#selectDeselectAll-span").hide())}this.hideEditSubnetInput()}updateSave(t){if(""==this.editname)return this.infoTitle=this.language["Object missing name"],this.infoBody="",void this.openInfoModal(!1);if(this.editname.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody=this.language["Invalid Name - Name should not exceed 64 characters."],void this.openInfoModal(!1);if(this.editSubnet4=this.editSubnet4?this.editSubnet4.trim():"",this.editSubnet6=this.editSubnet6?this.editSubnet6.trim():"",""==this.editSubnet4&&!this.editSubnets4.length&&""==this.editSubnet6&&!this.editSubnets6.length)return this.infoTitle=this.language["Location must have at least one subnet"],this.infoBody="",void this.openInfoModal(!1);if(!this.validateSubnetEdit())return this.infoTitle=this.language["Invalid subnet"],void this.openInfoModal(!1);if(this.editregion&&this.editregion.length>32||this.editaddress&&this.editaddress.length>32)return this.infoTitle=this.language["Invalid Value"],this.infoBody=this.language["Invalid Region/Address - Region/Address should not exceed 32 characters."],void this.openInfoModal(!1);if(this.editgeo&&this.editgeo.length>64)return this.infoTitle=this.language["Invalid Value"],this.infoBody=this.language["Invalid Geo - Geo should not exceed 64 characters."],void this.openInfoModal(!1);let e={name:this.editname?this.editname.trim():"",subnetsV4:0!=this.IP4s.length?this.IP4s.join("|"):null,subnetsV6:0!=this.IP6s.length?this.IP6s.join("|"):null,region:this.editregion?this.editregion.trim():"",address:this.editaddress?this.editaddress.trim():"",geo:this.editgeo?this.editgeo.trim():"",_id:t};this.loading=!0,this.updateSubs=this.api.LocationUpdate(t,e,this.ORG_ID).subscribe(t=>{this.isRerender=!0,this.cancel(),this.apiLoader(),this.editOnValue=void 0,this.commonOrgService.closeAlert()},t=>{this.pageErrorHandle(t)})}updateCancel(){this.editOnValue=void 0}export(){let t=this.commonFunctionsService.generateExportName("location_file_export",!0);this.exportSubs=this.api.Export("locations",this.ORG_ID).subscribe(e=>{this.exportData=this.api.exportProcess(e),this.exportExcel.downLoadCSV(t,this.exportData&&this.exportData.length?this.exportData:[this.empty])},t=>{this.pageErrorHandle(t)})}exportPdf(){}cancelImport(){}fullImportUpload(){this.infoTitle=this.language.fullImport,this.infoBody=this.language.fullImportPrompt,this.closeModal(),this.modalRef=this.dialogService.open(this.importModal,{backdrop:"static",keyboard:!1})}proceedImport(){this.closeModal(),pt("#fullImportUpload").click()}fullImport(t,e){this.isFullImport=e,this.dataTablecreatorService.generateJsonFromCsv(t)}incrementalImport(){this.isFullImport=!1}submitImport(t=!1){let e={clientIP:this.storageData.clientIp,dry_run:t,full_import:this.isFullImport,import_data:[],orgId:this.ORG_ID?this.ORG_ID:50,userId:this.sso.getUserId()},i=[],n=this.api.importDataProcess(this.recreateTable,this.isFullImport,t,e.orgId);if(t){this.enableImportSubmit=!1;const t=n.length;this.locationData.forEach(e=>{let s=!1;for(let i=0;i<t;i++)e.name==n[i].name&&(s=!0,this.isFullImport?(n[i].action="Create",this.importUpdateASCreate.push(e)):n[i].action="Update");if(!s&&this.isFullImport){const t=Object.assign({},e);i.push(this.importTemplate(t,"Delete"))}})}else if(n=n.filter(t=>{if(["Create","Update"].includes(t.action))return t}),0==n.length)return void this.cancel();if(!n.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",void this.openInfoModal(!1);e.import_data=n,this.importSubs=this.api.importLocationSubnets(e,this.ORG_ID).subscribe(e=>{t?(e=e.map(t=>(t.action="ok"==t.validationResult.toLowerCase()?t.action:t.validationResult,"ok"==t.validationResult.toLowerCase()&&(this.enableImportSubmit=!0),t)),this.recreateTable=e,this.previewOrder([...e,...i]),this.buttonVisible=!1,this.tablePreview=!0):(this.isRerender=!0,this.apiLoader(),this.cancel())},e=>{400==e.status?(t?(this.infoTitle=this.language.objectNotFound,this.infoBody="",this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)):this.pageErrorHandle(e),this.loading=!1):this.pageErrorHandle(e)})}importTemplate(t,e){return{subnetsV4:t.subnetsV4,subnetsV6:t.subnetsV6,region:t.region,address:t.address,action:e,geo:t.geo,name:t.name,orgId:this.ORG_ID}}previewOrder(t){if(!t||0==t.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",void this.openInfoModal(!1);let e=[];const i=[""],n=["validationResult"],s=["action","name"];t.forEach(t=>{let o={};Object.keys(t).forEach(e=>{n.includes(e)||(o[e]=!i.includes(e)||"true"!==t[e]&&"Y"!=t[e].toString().toUpperCase?!i.includes(e)||"false"!==t[e]&&"N"!=t[e].toString().toUpperCase?t[e]:"No":"Yes",s.includes(e)||(o["Old "+e]=""))}),this.locationData.forEach(e=>{if(t.name==e.name){for(const[t,n]of Object.entries(o))if(t.includes("Old")){const n=t.replace("Old ","");i.includes(n)&&(e[n]||"Y"==e[n].toString().toUpperCase)?o[t]="Yes":i.includes(n)&&(!e[n]||"N"==e[n].toString().toUpperCase)&&(o[t]="No"),o[t]=e[n]}return"Create"==o.action&&(o.action="Update"),!1}}),e.push(o)}),this.previewTableBody=e}delete(t){this.deleteData=t,this.infoTitle=this.language["Delete location?"],this.infoBody=`${t.name}`,this.closeModal(),this.modalRef=this.dialogService.open(this.deleteModal,{backdrop:"static",keyboard:!1})}confirmDelete(){let t=this.deleteData._id;this.loading=!0,this.deleteSubs=this.api.LocationDelete(t,this.ORG_ID).subscribe(t=>{this.isRerender=!0,this.apiLoader(),this.closeDeleteModal()},t=>{this.pageErrorHandle(t)})}closeDeleteModal(){this.deleteData=void 0,this.closeModal()}getDeleteIds(t,e){if(t.target.checked){this.deleteIds.push(e._id),this.deviceIps.push(e.name);let t=pt('input[name^="delete_id_"]').length;this.deleteIds.length==t?(pt("#selectDeselectAll").prop("checked",!0),pt("#selectDeselectAll-span").hide()):pt("#selectDeselectAll-span").show()}else{this.deleteIds.splice(this.deleteIds.indexOf(e._id),1),this.deviceIps.splice(this.deviceIps.indexOf(e.name),1);let t=pt('input[name^="delete_id_"]').length;this.deleteIds.length?this.deleteIds.length!=t?(pt("#selectDeselectAll").prop("checked",!1),pt("#selectDeselectAll-span").show()):pt("#selectDeselectAll-span").hide():(pt("#selectDeselectAll").prop("checked",!1),pt("#selectDeselectAll-span").hide())}}selectDeselectAll(t){this.deleteIds=[],this.deviceIps=[];let e=0,i=pt('input[name^="delete_id_"]').length;var n=this;t?pt('input[name^="delete_id_"]').each(function(){if(e>=i)return!1;pt(this).prop("checked",!0);let t=pt(this).attr("class").split(" ")[0].substring("delete_id_".length),s=n.locationData.filter(e=>e._id===t);n.deleteIds.push(t),n.deviceIps.push(s[0].name),e++}):pt('input[name^="delete_id_"]').each(function(){if(e>=i)return!1;pt(this).prop("checked",!1),n.deleteIds=[],n.deviceIps=[],e++})}showAllInnerCheckBox(t){pt("#"+t.target.id).hide(),pt("#selectDeselectAll").prop("checked",!0),this.deleteIds=[],this.deviceIps=[],this.selectDeselectAll(!0)}deleteAllSelected(){this.deviceIps&&(this.infoTitle=this.language[1===this.deviceIps.length?"Delete selected location?":"Delete selected locations?"],this.infoBody=this.deviceIps.join(", <br>"),this.closeModal(),this.modalRef=this.dialogService.open(this.multiDeleteModal,{backdrop:"static",keyboard:!1}))}confirmDeleteSecleted(){const t=[];this.loading=!0,this.deleteIds.forEach(e=>{t.push(this.api.LocationDelete(e,this.ORG_ID))}),(0,o.D)(t).subscribe(t=>{this.deleteIds=[],this.deviceIps=[],this.isRerender=!0,this.apiLoader(),this.closeMultiDeleteModal()},t=>{this.pageErrorHandle(t)})}closeMultiDeleteModal(){this.deleteIds=[],this.deviceIps=[],this.closeModal()}reset(){this.createSubnetName=void 0,this.createSubnetsV4=[],this.createSubnetsV6=[],this.createSubnetV4="",this.createSubnetV6="",this.createSubnetRegion=void 0,this.createSubnetAddress=void 0,this.createGeo=void 0}cancel(){this.formVisible=!1,this.buttonVisible=!0,this.tablePreview=!1,this.reset()}showError(t,e){this.infoTitle=t,this.infoBody=e,this.openInfoModal(!1)}validateSubnet(t){if(!t)return!1;let e=this.commonFunctionsService.trimSubnet(t);return!(!e||!this.commonFunctionsService.isValidSubnetV4(e)&&!this.commonFunctionsService.isValidSubnetV6(e))}splitSubnets(t){this.IP4s=[],this.IP6s=[],t.forEach(t=>{let e=t.trim();this.commonFunctionsService.isValidSubnetV4(e)?this.IP4s.push(e):this.IP6s.push(e)})}subnetValidatorIpv4(t){if(t&&""!=t)return!!this.commonFunctionsService.isValidSubnetV4(t)}subnetValidatorIpv6(t){if(t&&""!=t)return!!this.commonFunctionsService.isValidSubnetV6(t)}addEditSubnet(t){if("ip4"==t){if(this.editSubnet4=this.editSubnet4.trim(),""==this.editSubnet4)return this.infoTitle=this.language["Subnet cannot be empty"],this.infoBody="",void this.openInfoModal(!1);if(!this.subnetValidatorIpv4(this.editSubnet4))return this.infoTitle="Invalid request",this.infoBody="Invalid CIDR format",void this.openInfoModal(!1);if(this.editSubnets4.includes(this.editSubnet4))return this.infoTitle="Invalid request",this.infoBody="Duplicate Subnet",void this.openInfoModal(!1);this.editSubnets4.push(this.editSubnet4),this.editSubnet4=""}else{if(this.editSubnet6=this.editSubnet6.trim(),""==this.editSubnet6)return this.infoTitle=this.language["Subnet cannot be empty"],this.infoBody="",void this.openInfoModal(!1);if(!this.subnetValidatorIpv6(this.editSubnet6))return this.infoTitle="Invalid request",this.infoBody="Invalid CIDR format",void this.openInfoModal(!1);if(this.editSubnets6.includes(this.editSubnet6))return this.infoTitle="Invalid request",this.infoBody="Duplicate Subnet",void this.openInfoModal(!1);this.editSubnets6.push(this.editSubnet6),this.editSubnet6=""}}removeEditSubnet(t,e){"ip4"==e?this.editSubnets4.splice(t,1):this.editSubnets6.splice(t,1)}validateSubnetEdit(){if(this.editSubnet4=this.editSubnet4?this.editSubnet4.trim():"",this.editSubnet6=this.editSubnet6?this.editSubnet6.trim():"",this.IP4s=[],this.IP6s=[],""==this.editSubnet4&&!this.editSubnets4.length&&""==this.editSubnet6&&!this.editSubnets6.length)return!1;if(this.IP4s=this.editSubnets4?this.editSubnets4:[],this.IP6s=this.editSubnets6?this.editSubnets6:[],""!=this.editSubnet4){if(!this.subnetValidatorIpv4(this.editSubnet4))return!1;this.IP4s=[this.editSubnet4,...this.IP4s]}if(""!=this.editSubnet6){if(!this.subnetValidatorIpv6(this.editSubnets6))return!1;this.IP6s=[this.editSubnet6,...this.IP6s]}return!0}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.tableOptions.language=this.frTable:"es"==this.language.fileLanguage?this.tableOptions.language=this.translateService.es:"de_DE"==this.language.fileLanguage?this.tableOptions.language=this.translateService.de_DE:"en"==this.language.fileLanguage&&this.tableOptions.language&&delete this.tableOptions.language}resetDelete(){this.selectDeselectAll(!1),pt("#selectDeselectAll").prop("checked",!1),pt("#selectDeselectAll-span").hide(),this.deleteIds=[],this.deviceIps=[]}closeModal(){this.modalRef&&this.modalRef.close()}pageErrorHandle(t){let e="";this.infoTitle="Error",400==t.status?(this.infoBody=this.commonOrgService.pageErrorHandle(t),this.infoTitle=this.language["Invalid request"],this.openInfoModal(!1),this.loading=!1):(e=401==t.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(t),this.commonOrgService.openErrorAlert(e),this.commonOrgService.pageScrollTop(),this.loading=!1)}openInfoModal(t){t||(this.invalidImportLocationAddress=[],this.invalidImportLocationGeo=[],this.invalidImportLocationRegion=[],this.invalidImportLocationName=[]),this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1})}removeState(){this.commonOrgService.removeTableState("locations",this.router.url)}showEditSubnetInput(t,e){this.modifySubnetInfo={index:t,type:e},this.newEditSubnetError="",this.newEditSubnet="ip4"==e?this.editSubnets4[t]:this.editSubnets6[t]}hideEditSubnetInput(){this.modifySubnetInfo={index:void 0,type:void 0}}modifyEditSubnet(){let t=this.modifySubnetInfo.index;if("ip4"==this.modifySubnetInfo.type){if(this.newEditSubnet=this.newEditSubnet.trim(),""==this.newEditSubnet)return this.infoTitle=this.language["Subnet cannot be empty"],this.infoBody="",void this.openInfoModal(!1);if(!this.subnetValidatorIpv4(this.newEditSubnet))return this.infoTitle="Invalid request",this.infoBody="Invalid CIDR format",void this.openInfoModal(!1);if(this.editSubnets4.includes(this.newEditSubnet)&&this.editSubnets4.indexOf(this.newEditSubnet)!=t)return this.infoTitle="Invalid request",this.infoBody="Duplicate Subnet",void this.openInfoModal(!1);this.editSubnets4[this.modifySubnetInfo.index]=this.newEditSubnet,this.newEditSubnet=""}else{if(this.newEditSubnet=this.newEditSubnet.trim(),""==this.newEditSubnet)return this.infoTitle=this.language["Subnet cannot be empty"],this.infoBody="",void this.openInfoModal(!1);if(!this.subnetValidatorIpv6(this.newEditSubnet))return this.infoTitle="Invalid request",this.infoBody="Invalid CIDR format",void this.openInfoModal(!1);if(this.editSubnets6.includes(this.newEditSubnet)&&this.editSubnets6.indexOf(this.newEditSubnet)!=t)return this.infoTitle="Invalid request",this.infoBody="Duplicate Subnet",void this.openInfoModal(!1);this.editSubnets6[this.modifySubnetInfo.index]=this.newEditSubnet,this.newEditSubnet=""}this.hideEditSubnetInput()}removeUnwantedSpace(t,e){this[t]=this.common.trimSpaceFromNonObjectInputs(e)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(l.i),a.Y36(d.O),a.Y36(h),a.Y36(g.L),a.Y36(p.s),a.Y36(f.F0),a.Y36(c.t6),a.Y36(b.FF),a.Y36(m.v),a.Y36(Z.Dx),a.Y36(v.i))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-locations"]],viewQuery:function(t,e){if(1&t&&(a.Gf(A,7),a.Gf(I,7),a.Gf(T,7),a.Gf(w,7),a.Gf(n.G,5)),2&t){let t;a.iGM(t=a.CRH())&&(e.infoModal=t.first),a.iGM(t=a.CRH())&&(e.deleteModal=t.first),a.iGM(t=a.CRH())&&(e.multiDeleteModal=t.first),a.iGM(t=a.CRH())&&(e.importModal=t.first),a.iGM(t=a.CRH())&&(e.dtElement=t.first)}},decls:41,vars:22,consts:[[1,"container","position-relative"],["class","loader",4,"ngIf"],["class","row py-4",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-md-12","ccl-admin-table","admin-locations-table",3,"hidden"],["id","fc-locations-table w-100","width","100%","datatable","",1,"row-border","hover","table-alter",3,"dtOptions","dtTrigger"],[1,"w-nowrap"],[1,"ccl-fc-table-icon"],[1,"d-flex","align-items-center",3,"hidden"],["type","checkbox","value","","id","selectDeselectAll",1,"",3,"hidden","disabled","change"],["id","selectDeselectAll-span",1,"checkbox-ui",2,"display","none",3,"hidden","click"],[1,"text-center","justify-content-center",3,"hidden"],["id","delete-selected-btn",1,"btn-default","primary","px-2","mx-2",3,"title","disabled","click"],[1,"far","fa-trash-alt"],[3,"id",4,"ngFor","ngForOf"],["infoModal",""],["deleteModal",""],["multiDeleteModal",""],["importModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"row","py-4"],[1,"col-md-9"],[1,"d-flex"],["id","create-btn",1,"btn-default","primary","mx-2",3,"click"],["id","export-btn",1,"btn-default","primary","mx-2",3,"click"],[1,"upload-btn-wrapper"],[1,"btn-default","primary","mx-2",3,"click"],["type","file","accept",".csv","id","fullImportUpload","value","",2,"display","none",3,"click","change"],["fullImportValue",""],["for","inc-import",1,"btn-default","primary","mx-2","cursor-pointer"],["type","file","id","inc-import","accept",".csv",2,"display","none",3,"click","change"],["incrementalImportValue",""],[1,"col-sm-3","align-self-end","d-none"],[1,"ccl-form"],["type","search","name","searchbox","placeholder","",1,"input-sm"],[1,"serach-but","btn-default","primary","btn-icon-md","inline"],["aria-hidden","true",1,"fa","fa-search"],[1,"row","my-3","py-3"],[1,"col-md-12"],[1,"row","form-inline"],[1,"form-group","mb-2","col-md-2","align-self-start"],["for","staticEmail2",1,""],[1,"error"],[1,"ccl-form","mx-sm-3","mb-2","align-self-end"],["type","text","id","createSubnetName","placeholder","","name","createSubnetName","trimSpace","",1,"w-250px",3,"ngModel","ngModelChange","blur"],["class","w-100",4,"ngIf"],["class","w-100",4,"ngFor","ngForOf"],["for","inputPassword2",1,"sr-only"],["type","text","id","createSubnetV4","placeholder","IPv4","name","createSubnetV4","trimSpace","",1,"form-control","w-250px",3,"ngModel","ngModelChange","blur"],["for","inputPassword3",1,"sr-only"],["type","text","id","createSubnetV6","placeholder","IPv6","name","createSubnetV6","trimSpace","",1,"w-250px",3,"ngModel","ngModelChange","blur"],["type","submit",1,"mb-2","btn-default","btn-primary","align-self-end",3,"click"],["type","text","id","createSubnetRegion","placeholder","","name","createSubnetRegion","trimSpace","",1,"w-250px",3,"ngModel","ngModelChange","blur"],["type","text","id","createSubnetAddress","placeholder","","name","createSubnetAddress","trimSpace","",1,"w-250px",3,"ngModel","ngModelChange","blur"],["type","text","id","createGeo","placeholder","","name","createGeo","trimSpace","",1,"w-250px",3,"ngModel","ngModelChange","blur"],[1,"row","form-inline","my-3"],[1,"form-group","mb-2","col-md-2"],["for","staticEmail2",1,"sr-only"],["type","submit","id","submit-btn",1,"btn-default","btn-primary","mx-4",3,"click"],["type","submit","id","cancel-btn",1,"btn-default","btn-dft","ml-2",3,"click"],[1,"w-100"],[1,"w-75"],[1,"w-25",3,"click"],["aria-hidden","true",1,"fa","fa-times","primary"],["class","row",4,"ngIf"],[1,"row","my-4"],[1,"col-md-8","offset-md-4"],[1,"btn-default","primary","px-3","mx-3",3,"disabled","click"],[1,"btn-default","btn-dft","py-1","px-3",3,"click"],[1,"col-md-12","ccl-admin-table","admin-locations-table"],["id","example","datatable","",1,"row-border","hover","table-alter",3,"dtOptions"],[4,"ngFor","ngForOf"],[3,"id"],[1,"w10-nowrap"],["class","editable-td text-center f-size13",4,"ngIf"],["class","save-cancel-btn-group d-flex justify-content-center",4,"ngIf"],["class","",4,"ngIf"],["class","ccl-form",4,"ngIf"],[1,"editable-td","text-center","f-size13"],[1,"pr-2"],["id","edit-btn",1,"primary",3,"title","click"],[1,"fas","fa-pencil-alt"],["type","checkbox",3,"value","name","title","click"],["id","delete-btn",1,"primary",3,"title","click"],[1,"save-cancel-btn-group","d-flex","justify-content-center"],[1,"pr-1"],["id","save-btn",1,"primary","mx-3",3,"click"],[1,"fas","fa-check"],["id","cancel-btn",1,"primary",3,"click"],[1,"fas","fa-times"],[1,""],["type","text","trimSpace","",1,"w150",3,"ngModel","ngModelOptions","ngModelChange","blur"],["role","button","data-toggle","collapse","aria-expanded","false",1,"collapse-btn","w-nowrap"],["id","'collapse-icon-v4-' + item._id",1,"fa","fa-chevron-right","collapse-icon"],["id","'collapse-icon-v4-' + item._id",1,"fa","fa-chevron-down","collapse-icon"],[1,"sxa-bold","f-style-italic"],[1,"collapse-address"],[1,"collapse","multi-collapse"],[1,"form-group"],["class","nav flex-column",4,"ngFor","ngForOf"],[1,"form-group","row","fw100","m-0"],[1,"ccl-form","input-group","flex-nowrap"],["type","text","name","editSubnet4","placeholder","","trimSpace","",1,"w150","add-subnet-input",3,"ngModel","ngModelChange","blur"],[1,"ccl-fc-add-icon","align-self-center","mx-2",3,"click"],[1,"fa","fa-plus"],[1,"nav","flex-column"],["class","nav-item subnet-value-size",4,"ngIf"],["class","my-2 position-relative",4,"ngIf"],[1,"nav-item","subnet-value-size"],["title","Click to edit",1,"pointer",3,"click"],["data-key","",1,"remove-subnet-btn","primary","f-right22",3,"click"],[1,"fa","fa-times"],[1,"my-2","position-relative"],["type","text","name","new-edit-subnet","placeholder","","trimSpace","",1,"pr-btn","min-w200",3,"ngModel","ngModelChange","blur"],[1,"pos-abs-r20"],[1,"fas","fa-check","primary","d-inline-flex","mr-2","pointer",3,"click"],[1,"fas","fa-times","primary","d-inline-flex","pointer",3,"click"],["id","'collapse-icon-v6-' + item._id",1,"fa","fa-chevron-right","collapse-icon"],["id","'collapse-icon-v6-' + item._id",1,"fa","fa-chevron-down","collapse-icon"],["type","text","name","editSubnet6","placeholder","","trimSpace","",1,"w150","add-subnet-input",3,"ngModel","ngModelChange","blur"],["type","text","name","new-edit-subnet","placeholder","",1,"pr-btn","min-w200",3,"ngModel","ngModelChange"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","modal-scrll"],[1,"f-size-16px"],["class","list-two",4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"],[1,"list-two"],["class","text-break",4,"ngFor","ngForOf"],[1,"text-break"],[1,"modal-body"],[3,"innerHtml"],["type","button","data-dismiss","modal",1,"btn-default","btn-dft","py-1","px-3",3,"click"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.YNc(1,q,5,1,"div",1),a.YNc(2,M,24,4,"div",2),a.YNc(3,V,58,18,"section",3),a.YNc(4,N,8,4,"section",3),a.TgZ(5,"div",4),a.TgZ(6,"div",5),a.TgZ(7,"table",6),a.TgZ(8,"thead"),a.TgZ(9,"tr"),a.TgZ(10,"th",7),a.TgZ(11,"div",8),a.TgZ(12,"div",9),a.TgZ(13,"input",10),a.NdJ("change",function(t){return e.selectDeselectAll(t.target.checked)}),a.qZA(),a.TgZ(14,"span",11),a.NdJ("click",function(t){return e.showAllInnerCheckBox(t)}),a.qZA(),a.qZA(),a.TgZ(15,"div",12),a.TgZ(16,"button",13),a.NdJ("click",function(){return e.deleteAllSelected()}),a._UZ(17,"i",14),a._uU(18),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(19,"th"),a._uU(20),a.qZA(),a.TgZ(21,"th"),a._uU(22),a.qZA(),a.TgZ(23,"th"),a._uU(24),a.qZA(),a.TgZ(25,"th"),a._uU(26),a.qZA(),a.TgZ(27,"th"),a._uU(28),a.qZA(),a.TgZ(29,"th"),a._uU(30),a.qZA(),a.qZA(),a.qZA(),a.TgZ(31,"tbody"),a.YNc(32,lt,24,17,"tr",15),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(33,ut,15,5,"ng-template",null,16,a.W1O),a.YNc(35,ct,13,4,"ng-template",null,17,a.W1O),a.YNc(37,ht,12,4,"ng-template",null,18,a.W1O),a.YNc(39,gt,12,4,"ng-template",null,19,a.W1O)),2&t&&(a.xp6(1),a.Q6J("ngIf",e.loading),a.xp6(1),a.Q6J("ngIf",e.buttonVisible),a.xp6(1),a.Q6J("ngIf",e.formVisible),a.xp6(1),a.Q6J("ngIf",e.tablePreview),a.xp6(2),a.Q6J("hidden",!e.dataAvailable),a.xp6(1),a.Q6J("dtOptions",e.tableOptions)("dtTrigger",e.dtTrigger),a.xp6(5),a.Q6J("hidden",e.editOnValue),a.xp6(1),a.Q6J("hidden",e.editOnValue)("disabled",0==(null==e.locationData?null:e.locationData.length)||0==e.currentTableRowCount),a.xp6(1),a.Q6J("hidden",e.editOnValue),a.xp6(1),a.Q6J("hidden",e.editOnValue),a.xp6(1),a.s9C("title",e.language["Delete selected"]),a.Q6J("disabled",!(null!=e.locationData&&e.locationData.length&&null!=e.deleteIds&&e.deleteIds.length)),a.xp6(2),a.hij(" ",e.language.selected," "),a.xp6(2),a.Oqu(e.language.name),a.xp6(2),a.Oqu(e.language.subnetIpv4),a.xp6(2),a.Oqu(e.language.subnetIpv6),a.xp6(2),a.Oqu(e.language.region),a.xp6(2),a.Oqu(e.language.address),a.xp6(2),a.Oqu(e.language.geo),a.xp6(2),a.Q6J("ngForOf",e.locationData))},directives:[x.O5,n.G,x.sg,S._Y,S.JL,S.F,S.Fj,S.JJ,S.On],styles:[".location-table-info[_ngcontent-%COMP%]{width:100%}.w150[_ngcontent-%COMP%]{min-width:150px}.w50[_ngcontent-%COMP%]{min-width:50px}div[aria-expanded=true][_ngcontent-%COMP%]   .fa-chevron-right[_ngcontent-%COMP%]{display:none}div[aria-expanded=true][_ngcontent-%COMP%]   .collapse-address[_ngcontent-%COMP%]{display:none}div[aria-expanded=false][_ngcontent-%COMP%]   .fa-chevron-down[_ngcontent-%COMP%]{display:none}.admin-locations-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top!important}.form-group[_ngcontent-%COMP%]{margin-bottom:0!important}.modal-scrll[_ngcontent-%COMP%]{overflow-y:auto;max-height:400px}.mx-width[_ngcontent-%COMP%]{max-width:300px}.pr-btn[_ngcontent-%COMP%]{padding-right:55px}.list-two[_ngcontent-%COMP%]{list-style-type:disc;margin-left:30px}.w-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.w10-nowrap[_ngcontent-%COMP%]{white-space:nowrap;width:10%!important}.f-style-italic[_ngcontent-%COMP%]{font-style:italic}.f-right22[_ngcontent-%COMP%]{float:right;margin-right:22px}.min-w200[_ngcontent-%COMP%]{min-width:200px}.pos-abs-r20[_ngcontent-%COMP%]{position:absolute;z-index:11;right:20px;top:10px}.w-250px[_ngcontent-%COMP%]{width:250px}.f-size13[_ngcontent-%COMP%]{font-size:13px}"]}),t})()},93822:function(t,e,i){i.d(e,{L:function(){return o}});var n=i(79765),s=i(37716);let o=(()=>{class t{constructor(){this.tableOptionsData=new n.xQ,this.jsonDataOfCSV=new n.xQ,this.csvRecords=[],this.tableOptions={data:[],columns:[]},this.columnsObject={title:"",data:""},this.header=!0,this.xlsOption={isToCamelCase:!0,isNested:!0}}generateJsonFromCsv(t,e,i){const n=t.target.files[0],s=new FileReader;s.onload=t=>{var e,i;const n=t.target.result.split(/\r\n|\n/);var s=[],o=n[0].split(",");const a=/"/gi;for(var l=1;l<n.length;l++){for(var d={},r=this.acceptComaName(n[l]),u=0;u<o.length;u++)r[u]=(null===(e=r[u])||void 0===e?void 0:e.replaceAll(a,""))?null===(i=r[u])||void 0===i?void 0:i.replaceAll(a,""):"",d[o[u]]=r[u]?r[u]:"";s.push(d)}this.csvRecords=s,this.tableOptionsData.next(this.csvRecords)},s.onerror=t=>{},s.readAsText(n)}acceptComaName(t){return function t(e){const i=(t,e)=>[e.slice(0,t),e.slice(t)];let n=JSON.parse(JSON.stringify({str:e})).str;for(let s=0;s<n.length;s++)if('"'==n[s]){n=i(s,n);break}return Array.isArray(n)&&(n[1]=n[1].replace('"',""),n[1]=n[1].replace(",","coma;"),n[1]=n[1].replace('"',""),n=n[0]+n[1]),-1!=n.indexOf('"')?t(n):n}(t).split(",").map(t=>t.replaceAll(/coma;/g,","))}tableOptionsCreator(t,e,i,n){let s=[];for(const o in t)if(!i.includes(o)){const i=n.includes(o)?1:2;for(let n=0;n<i;n++){let i={title:o?"":`${n?"Old ":""}${e[o.replace(/['"]+/g,"")]}`,data:t[o]?"":o.replace(/['"]+/g,"")};s.push(i)}}return s}getJsonFromCsv(t){const e=t.target.files[0],i=new FileReader;i.onload=t=>{var e,i;const n=t.target.result.split(/\r\n|\n/);var s=[],o=n[0].split(",");const a=/"/gi;for(var l=1;l<n.length;l++){for(var d={},r=this.acceptComaName(n[l]),u=0;u<o.length;u++)r[u]=(null===(e=r[u])||void 0===e?void 0:e.replaceAll(a,""))?null===(i=r[u])||void 0===i?void 0:i.replaceAll(a,""):"",d[o[u]]=r[u]?r[u]:"";s.push(d)}return this.csvRecords=s,this.jsonDataOfCSV.next(this.csvRecords),s},i.onerror=t=>{},i.readAsText(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);