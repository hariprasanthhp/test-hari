"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[9319],{15687:function(e,t,i){i.r(t),i.d(t,{ActiveDevicesGeomapModule:function(){return Ke}});var n=i(38583),s=i(86640),o=i(23771),a=i(3679),l=i(39895),r=i(79765),c=i(40205),d=i(88002),g=i(5304),u=i(37716),p=i(7450);const m=["multiNgSelect"];function h(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"button",11),u.NdJ("click",function(t){u.CHM(e);const i=u.oxw(2),n=u.MAs(1);return i.filterSearchInput="",n.filter(t.target.value)}),u._UZ(1,"span"),u.qZA()}}function f(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",7),u._UZ(1,"div",8),u.TgZ(2,"input",9),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw().filterSearchInput=t})("input",function(t){return u.CHM(e),u.oxw(),u.MAs(1).filter(t.target.value)}),u.qZA(),u.YNc(3,h,2,0,"button",10),u.qZA()}if(2&e){const e=u.oxw();u.xp6(2),u.s9C("placeholder",e.language.Search),u.Q6J("ngModel",e.filterSearchInput),u.xp6(1),u.Q6J("ngIf",e.filterSearchInput)}}function v(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",14),u.TgZ(1,"input",15),u.NdJ("click",function(t){return u.CHM(e),u.oxw(3).chooseAllOptions(t)}),u.qZA(),u.TgZ(2,"label",16),u._uU(3),u.TgZ(4,"span"),u._uU(5),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(3);u.xp6(1),u.Q6J("indeterminate",e.cSelectedItems.length>0&&e.cSelectedItems.length!==e.cItems.length)("checked",e.cSelectedItems.length>0&&e.cSelectedItems.length==e.cItems.length),u.xp6(2),u.hij("",e.language.All," "),u.xp6(2),u.hij("(",e.cItems.length,")")}}function x(e,t){if(1&e&&u.YNc(0,v,6,4,"div",13),2&e){const e=u.oxw(2);u.Q6J("ngIf","All"==e.filterSearchInput.toLowerCase()||""==e.filterSearchInput)}}function b(e,t){1&e&&u.YNc(0,x,1,1,"ng-template",12)}function A(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",18),u.TgZ(1,"div",19),u.TgZ(2,"span",20),u._uU(3),u.TgZ(4,"span",21),u.NdJ("click",function(){return u.CHM(e),u.oxw(2),u.MAs(1).handleClearClick()}),u._uU(5,"\xd7"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw().items;u.xp6(2),u.MGl("title"," ",e.name,""),u.xp6(1),u.hij("",e[0].name," ")}}function Z(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",18),u.TgZ(1,"div",19),u.TgZ(2,"span",20),u._uU(3),u.TgZ(4,"span",21),u.NdJ("click",function(){return u.CHM(e),u.oxw(2),u.MAs(1).handleClearClick()}),u._uU(5,"\xd7"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw().items,t=u.oxw();u.xp6(2),u.hYB("title","",e.length," ",t.language[t.cName],""),u.xp6(1),u.AsE("",e.length," ",t.language[t.cName]," ")}}function w(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",18),u.TgZ(1,"div",19),u.TgZ(2,"span",22),u._uU(3),u.TgZ(4,"span",21),u.NdJ("click",function(){return u.CHM(e),u.oxw(2),u.MAs(1).handleClearClick()}),u._uU(5,"\xd7"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(3),u.hij("",e.language.All," ")}}function y(e,t){if(1&e&&(u.YNc(0,A,6,2,"div",17),u.YNc(1,Z,6,4,"div",17),u.YNc(2,w,6,1,"div",17)),2&e){const e=t.items,i=u.oxw();u.Q6J("ngIf",1===e.length&&e.length!==(null==i.cItems?null:i.cItems.length)||i.cShowCountOfItems&&1===e.length&&1===(null==i.cItems?null:i.cItems.length)),u.xp6(1),u.Q6J("ngIf",e.length>1&&e.length!==(null==i.cItems?null:i.cItems.length)||i.cShowCountOfItems&&1!==e.length&&1!==(null==i.cItems?null:i.cItems.length)&&(e.length>1||e.length==(null==i.cItems?null:i.cItems.length))),u.xp6(1),u.Q6J("ngIf",e.length===(null==i.cItems?null:i.cItems.length)&&!i.cShowCountOfItems)}}function C(e,t){if(1&e&&(u.TgZ(0,"div",23),u._UZ(1,"input",24),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.qZA()),2&e){const e=t.item,i=t.item$;u.s9C("title",e.name),u.xp6(1),u.Q6J("checked",i.selected),u.xp6(2),u.Oqu(e.name)}}function T(e,t){if(1&e&&(u.TgZ(0,"div",25),u._uU(1),u.qZA()),2&e){const e=u.oxw();u.s9C("title",e.language.noItemsFound),u.xp6(1),u.hij(" ",e.language.noItemsFound," ")}}let O=(()=>{class e{constructor(e){this.translateService=e,this.cItems=[],this.cName="Select Options",this.cShowCountOfItems=!1,this.cShowSelectAll=!1,this.cSelectChange=new u.vpe,this.cBlurChange=new u.vpe,this.filterSearchInput="",this.cSelectedItems=[],this.allSelected=!1}ngOnInit(){this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e})}ngAfterViewInit(){this.cMultiNgSelect.openEvent.subscribe(()=>{this.searchFilter()})}resetSelect(){this.cMultiNgSelect.handleClearClick()}resetSearchFilter(){this.filterSearchInput=""}searchFilter(){this.cMultiNgSelect.filter(this.filterSearchInput)}onChange(e){this.cSelectChange.emit({event:e,selectedItems:this.cSelectedItems})}multiSelectBlur(e){this.cBlurChange.emit({event:e,selectedItems:this.cSelectedItems})}chooseAllOptions(e){e.target.checked?(this.cSelectedItems=[...new Set(this.cItems.map(e=>e[this.cBindValue]))],this.allSelected=!0):(this.cSelectedItems=[],this.allSelected=!1)}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(p.s))},e.\u0275cmp=u.Xpm({type:e,selectors:[["multi-select-dropdown"]],viewQuery:function(e,t){if(1&e&&u.Gf(m,5),2&e){let e;u.iGM(e=u.CRH())&&(t.cMultiNgSelect=e.first)}},inputs:{cItems:"cItems",cName:"cName",cBindValue:"cBindValue",cBindLabel:"cBindLabel",cClearable:"cClearable",cSearchable:"cSearchable",cShowCountOfItems:"cShowCountOfItems",cShowSelectAll:"cShowSelectAll",cSelectedItems:"cSelectedItems",allSelected:"allSelected",cPlaceHolder:"cPlaceHolder"},outputs:{cSelectChange:"cSelectChange",cBlurChange:"cBlurChange"},decls:7,vars:11,consts:[["name","cName",1,"clx-multi-select",3,"multiple","items","bindValue","bindLabel","clearable","searchable","placeholder","closeOnSelect","ngModel","ngModelChange","change","close"],["multiNgSelect",""],["ng-footer-tmp",""],[4,"ngIf"],["ng-multi-label-tmp",""],["ng-option-tmp",""],["ng-notfound-tmp",""],[1,"ng-select-search"],[1,"search-box-icon"],["type","text",3,"ngModel","placeholder","ngModelChange","input"],["type","button","class","close",3,"click",4,"ngIf"],["type","button",1,"close",3,"click"],["ng-header-tmp",""],["class","ng-select-all-holder",4,"ngIf"],[1,"ng-select-all-holder"],["type","checkbox","id","item-all-options-select",1,"ng-checkbox-input",3,"indeterminate","checked","click"],["for","item-all-options-select"],["class","ng-selected-label",4,"ngIf"],[1,"ng-selected-label"],[1,"ng-value-placeholder"],[1,"ng-value-label",3,"title"],["aria-hidden","true",1,"cursor-pointer",3,"click"],[1,"ng-value-label"],[1,"ng-option-text","text-truncated",3,"title"],["type","checkbox",1,"ng-checkbox-input",3,"checked"],[1,"ng-option","ng-option-disabled",3,"title"]],template:function(e,t){1&e&&(u.TgZ(0,"ng-select",0,1),u.NdJ("ngModelChange",function(e){return t.cSelectedItems=e})("change",function(e){return t.onChange(e)})("close",function(e){return t.multiSelectBlur(e)}),u.YNc(2,f,4,3,"ng-template",2),u.YNc(3,b,1,0,void 0,3),u.YNc(4,y,3,3,"ng-template",4),u.YNc(5,C,4,3,"ng-template",5),u.YNc(6,T,2,2,"ng-template",6),u.qZA()),2&e&&(u.Q6J("multiple",!0)("items",t.cItems)("bindValue",t.cBindValue)("bindLabel",t.cBindLabel)("clearable",t.cClearable)("searchable",t.cSearchable)("placeholder",t.language[t.cPlaceHolder]||t.cPlaceHolder)("closeOnSelect",!1)("ngModel",t.cSelectedItems),u.uIk("cShowSelectAll",t.cShowSelectAll),u.xp6(3),u.Q6J("ngIf",t.cShowSelectAll))},directives:[s.w9,a.JJ,a.On,s.x0,n.O5,s.Yi,s.Z2,s.vM,a.Fj,s.A3],styles:['.clx-multi-select .ng-select-search{position:relative;margin-bottom:10px}  .clx-multi-select .ng-select-search .search-box-icon{position:absolute;left:10px;top:8px;width:18px;height:18px;background:url(ic_search_blue.2eb86b821816f63900a3.svg);background-repeat:no-repeat;background-size:100%}  .clx-multi-select .ng-select-search input{min-height:32px!important;padding-left:35px;background:#f8f8fa;border:1px solid transparent;width:100%;border-radius:26px}  .clx-multi-select .ng-select-search input:focus{border-color:#0279ff}  .clx-multi-select .ng-select-search button.close{position:absolute;right:5px;top:10px}  .clx-multi-select .ng-select-search button.close span{background-size:100%;width:12px;height:12px}  .clx-multi-select .ng-dropdown-panel{display:flex;flex-direction:column;width:100%;height:auto;padding-top:0!important;max-height:300px;overflow-y:auto}  .clx-multi-select .ng-dropdown-footer{order:1;position:sticky;position:-webkit-sticky;top:0;order:0;background:#fff;z-index:999;border-bottom:0!important;padding-top:9px;padding-bottom:0}  .clx-multi-select .ng-dropdown-header{order:2;border-bottom:0!important;padding:0}  .clx-multi-select .ng-select-all-holder{display:inline-flex;padding:8px 12px;height:34px;width:100%;cursor:pointer;position:relative;z-index:1}  .clx-multi-select .ng-select-all-holder label{margin:0;display:block;cursor:pointer;font-size:14px}  .clx-multi-select .ng-select-all-holder:hover{background-color:#edf5ff}  .clx-multi-select .ng-dropdown-panel-items{order:3;overflow:unset!important;max-height:100%!important;height:100%}  .clx-multi-select .ng-selected-label{display:flex;width:100%;height:22px}  .clx-multi-select .ng-value-placeholder{flex-grow:1;position:relative}  .clx-multi-select .ng-value-placeholder{margin-right:5px}  .clx-multi-select .ng-value-placeholder:last-child{margin-right:0}  .clx-multi-select .ng-value-label{position:absolute;width:auto;max-width:100%;background:#DCECFF;border-radius:16px;font-weight:600;font-size:12px;line-height:15px;padding:2px 12px 2px 18px;color:#0054b2;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}  .clx-multi-select .ng-value-label>span{position:absolute;z-index:1;left:7px}  .clx-multi-select .ng-select-container .ng-value-container .ng-input{display:none}  .clx-multi-select .ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-marked{background-color:transparent!important}  .clx-multi-select .ng-dropdown-panel .ng-dropdown-panel-items .ng-option:not(.ng-option-selected):hover{background-color:#edf5ff!important}  .clx-multi-select .ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-selected,   .clx-multi-select .ng-select-all-holder:has(:checked){background-color:#ebf5ff!important}  .clx-multi-select input.ng-checkbox-input{-moz-appearance:none;appearance:none;-webkit-appearance:none;top:2px;position:relative;width:16px;height:16px;margin-right:8px;background-color:#fff;border:1px solid #ccc;border-radius:3px}  .clx-multi-select .ng-option-text.text-truncated{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .clx-multi-select input.ng-checkbox-input:not(:checked):hover{border-color:#0279ff}  .clx-multi-select input.ng-checkbox-input:checked,   .clx-multi-select input.ng-checkbox-input:indeterminate{background-color:#0279ff;border-color:#0279ff}  .clx-multi-select input.ng-checkbox-input:checked:before{content:url(ic_checked.bc5dcd0562bf1b889756.svg);position:absolute;left:0;width:100%;height:100%;text-align:center;line-height:13px}  .clx-multi-select input.ng-checkbox-input:indeterminate:before{position:absolute;left:2.5px;background-color:#fff;width:9px;height:1.3px;content:"";bottom:7px}  .clx-multi-select .ng-select-container .ng-value-container .ng-placeholder{font-size:14px!important;top:auto}  .ccl-filter-wrapper{background:#F8F8FA;border-top:1px solid #EBEAEF;border-bottom:1px solid #EBEAEF;padding:15px;display:flex;flex-wrap:wrap}  .ccl-filter-wrapper .ccl-form>input{min-height:25.34px;max-height:25.34px;background:#fff!important}  .ccl-filter-wrapper .ng-select .ng-select-container{min-height:24px;height:auto!important;background:#fff!important}  .ccl-filter-wrapper .ng-select .ng-select-container .ng-value-container{padding-top:0!important;padding-left:4px!important}  .ccl-filter-wrapper .ng-select .ng-select-container .ng-value-container .ng-value{position:relative;padding:0 16px 2px 4px;background:#DCECFF;color:#0054b2;font-weight:600;font-size:12px;border-radius:16px;height:19px;margin-bottom:0}  .ccl-filter-wrapper .ng-select .ng-select-container .ng-value-container .ng-value .ng-value-label,   .ccl-filter-wrapper .ng-select .ng-select-container .ng-value-container .ng-value .ng-value-icon{line-height:10px}  .ccl-filter-wrapper .ng-select .ng-select-container .ng-value-container .ng-value .ng-value-icon{position:absolute;right:3px;top:3px;border-right:0!important;cursor:pointer;z-index:2;display:block!important;padding:1px 5px}  .ccl-filter-wrapper .ng-select .ng-select-container .ng-value-container .ng-input{height:24px}  .ccl-filter-wrapper .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{padding-left:9px;min-width:43px}  .ccl-filter-wrapper .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{padding:1px 5px}  .ccl-filter-wrapper .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{display:none!important}  .ccl-filter-wrapper .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{top:auto;margin-top:4px;font-size:14px}  .show-it{display:block}  .do-not-show{display:none}']}),e})();var _=i(42821),I=i(92340),S=i(21693),M=i(91841),q=i(49342),P=i(89097),N=i(39075),k=i(87582);function D(e,t){if(1&e&&(u.TgZ(0,"div",2),u.TgZ(1,"div",3),u.TgZ(2,"div",4),u.TgZ(3,"div",5),u.TgZ(4,"span",6),u._uU(5),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(5),u.Oqu(e.language.Loading)}}function F(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",10),u.TgZ(1,"span",11),u._UZ(2,"img",12),u.qZA(),u.TgZ(3,"button",13),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).closeAlert()}),u._UZ(4,"span"),u.qZA(),u._UZ(5,"div",14),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(5),u.Q6J("innerHtml",e.language[e.errorInfo]||e.errorInfo,u.oJD)}}function U(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",15),u.TgZ(1,"div",16),u.TgZ(2,"img",17),u.NdJ("click",function(t){return u.CHM(e),u.oxw(2).onRefreshAckShelve(t)}),u.qZA(),u.qZA(),u.TgZ(3,"div",18),u.TgZ(4,"p",19),u._uU(5),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(5),u.Oqu(e.language["No Data Available"])}}function L(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-alarm-details",20),u.NdJ("ackShelveData",function(t){return u.CHM(e),u.oxw(2).onAckShelve(t)})("refreshAckShelveBtn",function(t){return u.CHM(e),u.oxw(2).onRefreshAckShelve(t)}),u.qZA()}if(2&e){const e=u.oxw(2);u.Q6J("fullData",e.fullData)("showAckShelveBtn",e.showAckShelveBtn)("hasWriteAccess",e.hasWriteAccess)("hideSource",e.hideSource)("connected",!0)("clickedAlarmType","Alarm")("alarmType","Alarm")}}function E(e,t){if(1&e&&(u.ynx(0),u.YNc(1,F,6,1,"div",7),u.YNc(2,U,6,1,"div",8),u.YNc(3,L,1,7,"app-alarm-details",9),u.BQk()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.error),u.xp6(1),u.Q6J("ngIf",!e.dataAvailable),u.xp6(1),u.Q6J("ngIf",e.dataAvailable)}}let Q=(()=>{class e{constructor(e,t,i,n,s,o){this.issueService=e,this.homeGeomapService=t,this.ssoService=i,this.http=n,this.commonOrgService=s,this.translateService=o,this.hasWriteAccess=!1,this.baseUrl=`${I.N.API_BASE_URL}analytics-engine/`,this.error=!1,this.loading=!1,this.list=[],this.showAckShelveBtn=!1,this.fullData={},this.hideSource=!1}ngOnInit(){var e;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e}),-1!==(null===(e=this.ssoService.getScopes()["cloud.rbac.coc.insights.activdevicesgeomap"])||void 0===e?void 0:e.indexOf("write"))&&(this.hasWriteAccess=!0),this.systemDetails=this.issueService.getGeomapAppliedFilters(),this.getAlarmDetails(),console.log(this.systemDetails)}getAlarmDetails(){this.list=[],this.dataAvailable=!1,this.loading=!0,this.error=!1;let e={};e={severity:"MAJOR,MINOR,CRITICAL,INFO,WARNING",notificationType:"Alarm",searchValue:this.systemDetails.systemDetails.outageAlarmId?this.systemDetails.systemDetails.outageAlarmId:void 0,searchField:"alarmId"};let t="";for(var i in e)null==e[i]||""==e[i]||(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));this.http.get(`${this.baseUrl}alarmListByPagination?historyReport=false&pageSize=1&${t}`).subscribe(e=>{this.processListResp(e)},e=>{this.loading=!1,this.pageErrorHandle(e)})}pageErrorHandle(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.closeAlert(),this.error=!0}closeAlert(){this.error=!1}processListResp(e){e&&e.alarms?(e.alarms.forEach(e=>{var t,i;e.subject.deviceName||(e.subject.deviceName=this.systemDetails.systemDetails.deviceUuid),e.subject.deviceName=null===(t=e.subject.deviceName)||void 0===t?void 0:t.replace("device=",""),e.subject.deviceName=null===(i=e.subject.deviceName)||void 0===i?void 0:i.replace("DEVICE=",""),e.subject.resourceForUI=this.issueService.generateResourceForUI(e,"EXA"===e.type)}),this.list=e.alarms,this.list&&this.list.length>0&&(this.viewDetails(this.list[0],0),this.dataAvailable=!0)):(this.dataAvailable=!1,this.list=[]),this.loading=!1}onAckShelve(e){var t,i;console.log(e),void 0!==(null==e?void 0:e.ack)?(null===(t=this.list[this.index])||void 0===t?void 0:t.subject)&&(this.list[this.index].subject.ccoAck=null==e?void 0:e.ack):void 0!==(null==e?void 0:e.shelve)&&(null===(i=this.list[this.index])||void 0===i?void 0:i.subject)&&(this.list[this.index].subject.ccoShelved=null==e?void 0:e.shelve)}onRefreshAckShelve(e){this.showAckShelveBtn=!1,this.homeGeomapService.closeModal()}viewDetails(e,t){this.hideSource=!1,this.index=t,this.fullData=e,this.showAckShelveBtn=!0,this.loading=!1}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(S.v),u.Y36(Y),u.Y36(P.t6),u.Y36(M.eN),u.Y36(q.v),u.Y36(p.s))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-alarm-details-modal"]],decls:2,vars:2,consts:[["class","loader-wrapper-info",4,"ngIf"],[4,"ngIf"],[1,"loader-wrapper-info"],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"],["class","w-100 alert alert-danger fade show my-3",4,"ngIf"],["class","row",4,"ngIf"],[3,"fullData","showAckShelveBtn","hasWriteAccess","hideSource","connected","clickedAlarmType","alarmType","ackShelveData","refreshAckShelveBtn",4,"ngIf"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"row"],[1,"col-12","text-right","pr-4","pt-2"],["aria-hidden","true","src","assets/img/ic_close-44px.svg","data-dismiss","modal","aria-label","Close",1,"pointer","mr-2",3,"click"],[1,"col-md-12","pl-5","pb-2","text-left"],[1,"pb-1"],[3,"fullData","showAckShelveBtn","hasWriteAccess","hideSource","connected","clickedAlarmType","alarmType","ackShelveData","refreshAckShelveBtn"]],template:function(e,t){1&e&&(u.YNc(0,D,6,1,"div",0),u.YNc(1,E,4,3,"ng-container",1)),2&e&&(u.Q6J("ngIf",t.loading),u.xp6(1),u.Q6J("ngIf",!t.loading))},directives:[n.O5,k.M],styles:[""]}),e})();var J=i(12664);let Y=(()=>{class e{constructor(e,t,i){this.issueService=e,this.router=t,this.dialogService=i}redirectToPage(e,t,i){var n,s,o,a;if("noOfAlarms"==e){"ONT"==(null===(n=null==t?void 0:t.deviceType)||void 0===n?void 0:n.toUpperCase())?this.setOntSystemsDetailsForListViewInService(t,i):"OLT"==(null===(s=null==t?void 0:t.deviceType)||void 0===s?void 0:s.toUpperCase())&&this.setOltSystemsDetailsForListViewInService(t,i);let e=`/cco/alerts/${t.id.toLowerCase()}/active-reports`;return"disruption"==t.id.toLowerCase()&&(e="/cco/alerts/disruption/list"),void this.router.navigate([e],{queryParams:{geoMapIssue:!0},state:{filters:this.issueService.getGeomapAppliedFilters()}})}if("ONT"==(null===(o=null==t?void 0:t.deviceType)||void 0===o?void 0:o.toUpperCase()))"deviceName"==e?(this.router.navigate(["/cco/services/subscribers/system/list"],{queryParams:{geoMapIssue:!0},state:{ccoSystemSearchText:t.deviceName&&""!=t.deviceName?t.deviceName:t.fsan_serialnumber?t.fsan_serialnumber:(null==t?void 0:t.subscriberName)||""}}),this.setOntSystemsDetailsForListViewInService(t,i)):"outageAlarmName"==e&&(this.setOntSystemsDetailsForListViewInService(t,i),this.modalRef=this.dialogService.open(Q,{size:"xl",centered:!0,windowClass:"custom-model-service custom-modal"}));else if("OLT"==(null===(a=null==t?void 0:t.deviceType)||void 0===a?void 0:a.toUpperCase())&&"deviceName"==e){t.isGeomap=!0,t.uuid=t.deviceUuid,localStorage.setItem("calix.network.system.details",JSON.stringify(t)),this.router.navigate(["/cco/system/cco-network-system/show-details"],{state:{networkSystemsListFilters:JSON.stringify({isGeomap:!0})}}),this.setOltSystemsDetailsForListViewInService(t,i)}}setOntSystemsDetailsForListViewInService(e,t){let i={systemDetails:e,fromIssuesGeoMap:"ont"};t=Object.assign(Object.assign({},t),i),this.issueService.setGeomapAppliedFilters(t)}setOltSystemsDetailsForListViewInService(e,t){let i={fromIssuesGeoMap:"olt",regions:null==e?void 0:e.deviceRegion,locations:null==e?void 0:e.deviceLocation,systemUuid:null==e?void 0:e.deviceUuid,oltName:null==e?void 0:e.deviceName};t=Object.assign(Object.assign({},t),i),this.issueService.setGeomapAppliedFilters(t)}closeModal(){this.modalRef.close()}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(S.v),u.LFG(l.F0),u.LFG(J.FF))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var j=i(51071),B=i(10298);const V=["showInfoModal"];function H(e,t){if(1&e&&(u.TgZ(0,"th",11),u._uU(1),u.qZA()),2&e){const e=t.$implicit,i=u.oxw();u.xp6(1),u.hij(" ",i.language[null==e?null:e.name]||(null==e?null:e.name)," ")}}function G(e,t){if(1&e&&(u.ynx(0),u._uU(1),u.BQk()),2&e){const e=u.oxw().$implicit;u.xp6(1),u.hij(" ",e.systemAlarmCount?e.systemAlarmCount:"-"," ")}}function $(e,t){if(1&e){const e=u.EpF();u.ynx(0),u.TgZ(1,"a",15),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw().redirectToPage("noOfAlarms",t,"clickNoOfSystemAlarms")}),u._uU(2),u.qZA(),u.BQk()}if(2&e){const e=u.oxw().$implicit;u.xp6(2),u.hij(" ",e.systemAlarmCount>0?e.systemAlarmCount:"-"," ")}}function z(e,t){if(1&e&&(u.ynx(0),u._uU(1),u.BQk()),2&e){const e=u.oxw().$implicit;u.xp6(1),u.hij(" ",e.transformedAlarmCount?e.transformedAlarmCount:"-"," ")}}function R(e,t){if(1&e){const e=u.EpF();u.ynx(0),u.TgZ(1,"a",15),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw().redirectToPage("noOfAlarms",t,"clickNoOfTransformedAlarms")}),u._uU(2),u.qZA(),u.BQk()}if(2&e){const e=u.oxw().$implicit;u.xp6(2),u.hij(" ",e.transformedAlarmCount>0?e.transformedAlarmCount:"-"," ")}}function W(e,t){if(1&e&&(u.ynx(0),u._uU(1),u.BQk()),2&e){const e=u.oxw().$implicit;u.xp6(1),u.hij(" ",e.cloudHealthCount?e.cloudHealthCount:"-"," ")}}function X(e,t){if(1&e){const e=u.EpF();u.ynx(0),u.TgZ(1,"a",15),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw().redirectToPage("noOfAlarms",t,"clickNoOfcloudHealthAlarms")}),u._uU(2),u.qZA(),u.BQk()}if(2&e){const e=u.oxw().$implicit;u.xp6(2),u.hij(" ",e.cloudHealthCount>0?e.cloudHealthCount:"-"," ")}}function K(e,t){if(1&e&&(u.ynx(0),u._uU(1),u.BQk()),2&e){const e=u.oxw().$implicit;u.xp6(1),u.hij(" ",e.cloudConnectivityCount?e.cloudConnectivityCount:"-"," ")}}function ee(e,t){if(1&e){const e=u.EpF();u.ynx(0),u.TgZ(1,"a",15),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw().redirectToPage("noOfAlarms",t,"clickNoOfCloudConnectivityAlarms")}),u._uU(2),u.qZA(),u.BQk()}if(2&e){const e=u.oxw().$implicit;u.xp6(2),u.hij(" ",e.cloudConnectivityCount>0?e.cloudConnectivityCount:"-"," ")}}function te(e,t){if(1&e&&(u.ynx(0),u.TgZ(1,"div",16),u._uU(2),u.qZA(),u.BQk()),2&e){const e=u.oxw(2).$implicit;u.xp6(2),u.Oqu(e.serviceDisruption?e.serviceDisruption:"-")}}function ie(e,t){if(1&e){const e=u.EpF();u.ynx(0),u.TgZ(1,"a",15),u.NdJ("click",function(){u.CHM(e);const t=u.oxw(2).$implicit;return u.oxw().redirectToPage("noOfAlarms",t,"clickServiceDisruptions")}),u._uU(2),u.qZA(),u.BQk()}if(2&e){const e=u.oxw(2).$implicit;u.xp6(2),u.hij(" ",e.serviceDisruption?e.serviceDisruption:"-"," ")}}function ne(e,t){if(1&e&&(u.TgZ(0,"td"),u.YNc(1,te,3,1,"ng-container",17),u.YNc(2,ie,3,1,"ng-container",17),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(1),u.Q6J("ngIf","False"==e.outage),u.xp6(1),u.Q6J("ngIf","True"==e.outage)}}function se(e,t){if(1&e&&(u.TgZ(0,"td"),u.TgZ(1,"div",16),u._uU(2),u.qZA(),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(2),u.Oqu(e.subscriberName?e.subscriberName:"-")}}function oe(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u.TgZ(2,"div",12),u._UZ(3,"span",13),u.TgZ(4,"span",14),u.TgZ(5,"a",15),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw().redirectToPage("deviceName",t)}),u._uU(6),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"td",16),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u.YNc(14,G,2,1,"ng-container",17),u.YNc(15,$,3,1,"ng-container",17),u.qZA(),u.TgZ(16,"td"),u.YNc(17,z,2,1,"ng-container",17),u.YNc(18,R,3,1,"ng-container",17),u.qZA(),u.TgZ(19,"td"),u.YNc(20,W,2,1,"ng-container",17),u.YNc(21,X,3,1,"ng-container",17),u.qZA(),u.TgZ(22,"td"),u.YNc(23,K,2,1,"ng-container",17),u.YNc(24,ee,3,1,"ng-container",17),u.qZA(),u.YNc(25,ne,3,2,"td",17),u.YNc(26,se,3,1,"td",17),u.qZA()}if(2&e){const e=t.$implicit,i=u.oxw();u.xp6(3),u.Q6J("ngClass","warning"==(null==e.nonZeroSev?null:e.nonZeroSev.toLowerCase())||"info"==(null==e.nonZeroSev?null:e.nonZeroSev.toLowerCase())||""==e.nonZeroSev?"no-alarms":null==e.nonZeroSev?null:e.nonZeroSev.toLowerCase()),u.xp6(3),u.hij(" ",e.deviceName?e.deviceName:"-"," "),u.xp6(2),u.hij(" ",(e.deviceRegion&&e.deviceRegion.region_name?e.deviceRegion.region_name:"-")+"/"+(e.deviceLocation&&e.deviceLocation.networkgroup_name?e.deviceLocation.networkgroup_name:"-")," "),u.xp6(2),u.hij(" ",e.deviceType?e.deviceType:"-"," "),u.xp6(2),u.hij(" ",e.deviceModel?e.deviceModel:"-"," "),u.xp6(2),u.Q6J("ngIf",!e.systemAlarmCount||0==e.systemAlarmCount),u.xp6(1),u.Q6J("ngIf",e.systemAlarmCount>0),u.xp6(2),u.Q6J("ngIf",!e.transformedAlarmCount||0==e.transformedAlarmCount),u.xp6(1),u.Q6J("ngIf",e.transformedAlarmCount>0),u.xp6(2),u.Q6J("ngIf",!e.cloudHealthCount||0==e.cloudHealthCount),u.xp6(1),u.Q6J("ngIf",e.cloudHealthCount>0),u.xp6(2),u.Q6J("ngIf",!e.cloudConnectivityCount||0==e.cloudConnectivityCount),u.xp6(1),u.Q6J("ngIf",e.cloudConnectivityCount>0),u.xp6(1),u.Q6J("ngIf",!i.systemInfoData.listHasAllOLT),u.xp6(1),u.Q6J("ngIf",!i.systemInfoData.listHasAllOLT)}}let ae=(()=>{class e{constructor(e,t){this.translateService=e,this.homeGeomapService=t,this.showcloseicon=!1,this.renderedOnce=!0,this.loading=!0,this.dtTrigger=new r.xQ,this.dtTrigger1=new r.xQ,this.dtOptions={},this.alertTypedtOptions={},this.hideInfoBox=new u.vpe,this.alertTypes=[{count:"cloudConnectivityCount",col:"Cloud Connectivity",id:"CONNECTIVITY",element:"clickNoOfCloudConnectivityAlarms"},{count:"cloudHealthCount",col:"Health Alerts",id:"HEALTH",element:"clickNoOfcloudHealthAlarms"},{count:"systemAlarmCount",col:"System Alarms",id:"SYSTEM",element:"clickNoOfSystemAlarms"},{count:"transformedAlarmCount",col:"Transform Alarms",id:"TRANSFORMED",element:"clickNoOfTransformedAlarms"},{count:"True",alertTypeName:"Service Disruptions",id:"disruption",element:"clickServiceDisruptions"}],this.alarmTypesData=[],this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,setTimeout(()=>{this.tableLanguageOptions(),this.rerender()},200)}),this.frTable=this.translateService.fr,this.esTable=this.translateService.es,this.germanTable=this.translateService.de_DE}ngOnInit(){this.renderedOnce=!0,this.dtOptions={pagingType:"full_numbers",pageLength:10,lengthChange:!1,paging:!0,processing:!1,dom:"tipr",autoWidth:!1},this.alertTypedtOptions={pagingType:"full_numbers",pageLength:10,lengthChange:!1,paging:!0,order:[],processing:!1,dom:"tipr",autoWidth:!1},this.tableLanguageOptions()}ngAfterViewInit(){this.dtTrigger.next(),this.dtTrigger1.next()}closeicon(e){this.searchtext="",this.showcloseicon=!1,this.search(this.searchtext)}search(e){this.loading=!0,this.showcloseicon=!!e.length,this.dtElements.forEach(t=>{t.dtInstance&&t.dtInstance.then(t=>{t.columns(0).search(e).draw()})}),this.loading=!1}renderTable(e){this.tableLanguageOptions(),this.renderedOnce?(this.rerender(),setTimeout(()=>{this.renderedOnce=!1,this.loading=!1},200)):(this.rerender(),this.loading=!0,setTimeout(()=>{this.loading=!1},200)),setTimeout(()=>{this.searchtext&&this.search(this.searchtext)},200)}rerender(e){this.dtElements.forEach(e=>{e.dtInstance&&e.dtInstance.then(e=>{e.destroy()})}),setTimeout(()=>{this.dtSub1=this.dtTrigger1.next(),this.dtSub=this.dtTrigger.next()}),setTimeout(()=>{e&&this.search(this.searchtext)},1e3)}tableLanguageOptions(){"fr"==this.language.fileLanguage?this.dtOptions.language=this.frTable:"es"==this.language.fileLanguage?this.dtOptions.language=this.esTable:this.language&&this.language.fileLanguage&&"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.germanTable:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}hideToolBox(e){this.hideInfoBox.emit(e)}redirectToAlerts(e){e=Object.assign(Object.assign({},e),null==e?void 0:e.system),this.homeGeomapService.redirectToPage("noOfAlarms",e,this.systemInfoData)}redirectToPage(e,t,i){if("noOfAlarms"==e){let e=Object.assign({},t);e.fsan=t.fsan_serialnumber||"";let n=this.alertTypes.find(e=>e.element==i);return e=Object.assign(Object.assign({},e),n),void this.homeGeomapService.redirectToPage("noOfAlarms",e,this.systemInfoData)}this.homeGeomapService.redirectToPage(e,t,this.systemInfoData)}ngOnDestroy(){this.dtSub&&this.dtSub.unsubscribe(),this.dtSub1&&this.dtSub1.unsubscribe(),this.showAlertTypeTableSubject&&this.showAlertTypeTableSubject.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(p.s),u.Y36(Y))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-system-list"]],viewQuery:function(e,t){if(1&e&&(u.Gf(V,7),u.Gf(o.G,5)),2&e){let e;u.iGM(e=u.CRH())&&(t.showInfoModal=e.first),u.iGM(e=u.CRH())&&(t.dtElements=e)}},inputs:{systemInfoData:"systemInfoData",showAlertTypeTable:"showAlertTypeTable"},outputs:{hideInfoBox:"hideInfoBox"},decls:16,vars:8,consts:[[1,"geomap-table"],[1,"d-flex","w-100","justify-content-between"],[1,"ccl-form","w-30","mb-2","position-relative"],["type","text","autocomplete","off",1,"search-input",3,"ngModel","placeholder","title","ngModelChange","keyup","search"],[1,"pointer",3,"ngClass","click"],["id","customListCloseButton",1,"close","clear-page-buton",3,"click"],[1,"geomap-view-table","pb-2"],["datatable","",1,"table","hover","table-alter","dataTable",3,"dtOptions","dtTrigger"],["class","header-col",4,"ngFor","ngForOf"],[1,"data-available"],[4,"ngFor","ngForOf"],[1,"header-col"],[1,"same-line","position-relative"],[1,"dot","position-absolute","mt-2",3,"ngClass"],[1,"ml-2","pl-1"],["href","javascript:void(0)",3,"click"],[1,"text-break"],[4,"ngIf"]],template:function(e,t){1&e&&(u.TgZ(0,"div"),u.TgZ(1,"div",0),u.TgZ(2,"div",1),u.TgZ(3,"div",2),u.TgZ(4,"input",3),u.NdJ("ngModelChange",function(e){return t.searchtext=e})("keyup",function(e){return t.search(e.target.value)})("search",function(e){return t.search(e.target.value)}),u.qZA(),u.TgZ(5,"span",4),u.NdJ("click",function(e){return t.closeicon(e.target.value)}),u._uU(6,"\xd7"),u.qZA(),u.qZA(),u.TgZ(7,"button",5),u.NdJ("click",function(){return t.hideToolBox("systemList")}),u._UZ(8,"span"),u.qZA(),u.qZA(),u.TgZ(9,"div",6),u.TgZ(10,"table",7),u.TgZ(11,"thead"),u.TgZ(12,"tr"),u.YNc(13,H,2,1,"th",8),u.qZA(),u.qZA(),u.TgZ(14,"tbody",9),u.YNc(15,oe,27,15,"tr",10),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(4),u.s9C("placeholder",t.language["Search System Name"]),u.s9C("title",t.language["Search System Name"]),u.Q6J("ngModel",t.searchtext),u.xp6(1),u.Q6J("ngClass",t.showcloseicon?"show-close-search":"hide-close-search"),u.xp6(5),u.Q6J("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),u.xp6(3),u.Q6J("ngForOf",t.systemInfoData.listColumn),u.xp6(2),u.Q6J("ngForOf",t.systemInfoData.listData))},directives:[a.Fj,a.JJ,a.On,n.mk,o.G,n.sg,n.O5],styles:['.MicrosoftMap .Infobox{display:none}  .MicrosoftMap .Infobox .infobox-actions{height:25px}  .InfoboxCustom .customInfobox{cursor:text;padding:10px;background-color:#fff;outline:black;border-radius:10px;border:1px solid #ddd;pointer-events:auto!important}  .InfoboxCustom .customInfobox .info-title{font-size:18px;font-weight:bold;line-height:35px}  .InfoboxCustom .customInfobox table tr td a{cursor:pointer!important;text-decoration:underline;color:#007bff}  .InfoboxCustom .customInfobox table tr td:first-child{padding-right:30px}  a.customInfoboxCloseButton:link, a.customInfoboxCloseButton[_ngcontent-%COMP%]:visited{cursor:pointer!important;color:#000;text-decoration:none;position:absolute;top:0px;right:10px;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;font-weight:bold;font-size:14px}  a.customSystemListCloseButton:link, a.customSystemListCloseButton[_ngcontent-%COMP%]:visited{cursor:pointer!important;color:#000;text-decoration:none;position:absolute;top:0px;right:10px;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;font-weight:bold;font-size:14px}  .InfoboxCustom .customList{max-width:700px;min-width:420px;height:510px;min-height:470px;max-height:510px;padding:10px;cursor:text;background-color:#fff;outline:none;border-radius:10px;pointer-events:auto!important}  .InfoboxCustom .customList .search-input{min-height:38px;max-height:42px;line-height:inherit;border-radius:26px;background:#f8f8fa;padding:0 15px;font-size:14px;font-weight:400;color:#646363;border:1px solid transparent}  .InfoboxCustom .customList .clear-search{position:relative;right:24px}  .InfoboxCustom .customList .search-input:active,   .InfoboxCustom .customList .search-input:focus{border:1px solid #0278ff}  .InfoboxCustom .customList table{min-width:415px;max-width:675px}  .InfoboxCustom .customList table thead{z-index:100;background-color:#fff}  .InfoboxCustom .customList table thead tr{display:block;border-bottom:2px solid lightgray;margin-bottom:3px}  .InfoboxCustom .customList table thead tr th:nth-child(1){width:160px;min-width:160px;word-break:break-word}  .InfoboxCustom .customList table thead tr th:nth-child(2){width:140px;min-width:140px;word-break:break-word}  .InfoboxCustom .customList table thead tr th:nth-child(3){width:65px;min-width:65px}  .InfoboxCustom .customList table thead tr th:nth-child(4){width:100px;min-width:100px}  .InfoboxCustom .customList table thead tr th:nth-child(5){width:85px;min-width:85px}  .InfoboxCustom .customList table thead tr th:nth-child(6){width:140px;min-width:140px}  .InfoboxCustom .customList table #data-available{overflow:auto;display:block;height:405px;width:100%}  .InfoboxCustom .customList table #data-available tr:nth-child(even){background-color:#f2f2f2}  .InfoboxCustom .customList table #data-available tr td .same-line{position:relative;padding-left:12px}  .InfoboxCustom .customList table #data-available tr td .same-line span.dot{position:absolute;left:0;top:9.5px}  .InfoboxCustom .customList table #data-available tr td a{cursor:pointer!important;color:#007bff}  .InfoboxCustom .customList table #data-available tr td:nth-child(1){width:160px;min-width:160px;word-break:break-word}  .InfoboxCustom .customList table #data-available tr td:nth-child(2){width:140px;min-width:140px;word-break:break-word}  .InfoboxCustom .customList table #data-available tr td:nth-child(3){width:65px;min-width:65px}  .InfoboxCustom .customList table #data-available tr td:nth-child(4){width:100px;min-width:100px;word-break:break-word}  .InfoboxCustom .customList table #data-available tr td:nth-child(5){width:85px;min-width:85px}  .InfoboxCustom .customList table #data-available tr td:nth-child(6){width:140px;min-width:140px;word-break:break-word}  .InfoboxCustom .customList table #no-data-available{display:block;height:405px;width:100%}  .InfoboxCustom .customList table #no-data-available tr .with-ont{min-width:610px;max-width:655px}  .InfoboxCustom .customList table #no-data-available tr .without-ont{min-width:495px;max-width:655px}.geomap-table[_ngcontent-%COMP%]{padding:10px;width:100%;margin:10px auto 35px;z-index:1034;background-color:#fff}.geomap-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border:0;font-size:12px}.geomap-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.geomap-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:5px}.geomap-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:0 5px}.geomap-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){border-right:1px solid #ddd}.geo-view-issue[_ngcontent-%COMP%]{width:100%;height:80vh}.clear-search-buton[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px}.clear-search-buton[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:11.71px;height:11.71px;background-size:11.71px}.geomap-view-table[_ngcontent-%COMP%]{overflow-x:auto;margin-top:1px;border-top:1px solid #ddd}.geomap-view-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), .geomap-view-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), .geomap-view-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), .geomap-view-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), .geomap-view-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), .geomap-view-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){max-width:100px}.geomap-view-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5), .geomap-view-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){max-width:80px}.hide-close-search[_ngcontent-%COMP%]{display:none}.show-close-search[_ngcontent-%COMP%]{color:gray;display:block;position:absolute;right:15px;font-size:22px;top:2px}.showHideTable[_ngcontent-%COMP%]{visibility:hidden}.same-line[_ngcontent-%COMP%]   span.dot[_ngcontent-%COMP%]{min-width:8px}.same-line[_ngcontent-%COMP%]   span.dot[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{word-break:break-all}.sys-list-kbi[_ngcontent-%COMP%]{display:flex;border-top:1px solid #CCCCCC}.sys-info-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1px 0}  .clx-custominfo-modal .modal-dialog{max-width:28.3%!important}  .clx-custominfo-modal .modal-content{box-shadow:0 5px 15px #00000040}.header-col[_ngcontent-%COMP%]:nth-child(2){min-width:150px}']}),e})();const le=["systemInfo"];function re(e,t){if(1&e&&(u.TgZ(0,"div",17),u._uU(1),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.hij(" ",e.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function ce(e,t){if(1&e&&(u.TgZ(0,"div",18),u.TgZ(1,"div",19),u.TgZ(2,"span",20),u._uU(3),u.qZA(),u.TgZ(4,"div",21),u.TgZ(5,"span",22),u._uU(6),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(3),u.Oqu(e.language["Active Systems"]),u.xp6(3),u.Oqu(null==e.totalActiveSystems?null:e.totalActiveSystems.toLocaleString())}}function de(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",52),u.TgZ(1,"div",53),u.TgZ(2,"span",54),u._uU(3),u.TgZ(4,"span",55),u.NdJ("click",function(){return u.CHM(e),u.oxw(2),u.MAs(7).handleClearClick()}),u._uU(5,"\xd7"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(3);u.xp6(3),u.hij(" ",e.language.all," ")}}function ge(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",53),u.TgZ(1,"span",57),u._uU(2),u.TgZ(3,"span",55),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(2).clear(t)}),u._uU(4,"\xd7"),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit;u.xp6(1),u.s9C("title",e.name),u.xp6(1),u.hij(" ",e.name?e.name:e," ")}}function ue(e,t){if(1&e&&(u.TgZ(0,"div",52),u.YNc(1,ge,5,2,"div",56),u.qZA()),2&e){const e=u.oxw().items;u.xp6(1),u.Q6J("ngForOf",e)}}function pe(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",53),u.TgZ(1,"span",57),u._uU(2),u.TgZ(3,"span",55),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(2).clear(t)}),u._uU(4,"\xd7"),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit;u.xp6(1),u.s9C("title",e.name),u.xp6(1),u.hij(" ",e.name?e.name:e," ")}}function me(e,t){if(1&e&&(u.TgZ(0,"div",52),u.YNc(1,pe,5,2,"div",56),u.qZA()),2&e){const e=u.oxw().items;u.xp6(1),u.Q6J("ngForOf",e)}}function he(e,t){if(1&e&&(u.YNc(0,de,6,1,"div",51),u.YNc(1,ue,2,1,"div",51),u.YNc(2,me,2,1,"div",51)),2&e){const e=t.items,i=u.oxw(2);u.Q6J("ngIf",e.length==(null==i.regionsDataArray?null:i.regionsDataArray.length)),u.xp6(1),u.Q6J("ngIf",1==e.length&&e.length!==(null==i.regionsDataArray?null:i.regionsDataArray.length)),u.xp6(1),u.Q6J("ngIf",e.length>1&&e.length!==(null==i.regionsDataArray?null:i.regionsDataArray.length))}}function fe(e,t){if(1&e&&(u.TgZ(0,"span",58),u._uU(1),u.qZA()),2&e){const e=t.item;u.s9C("title",e.name?e.name:e),u.xp6(1),u.Oqu(e.name?e.name:e)}}function ve(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",52),u.TgZ(1,"div",53),u.TgZ(2,"span",54),u._uU(3),u.TgZ(4,"span",55),u.NdJ("click",function(t){u.CHM(e),u.oxw(2);const i=u.MAs(14),n=u.oxw();return i.handleClearClick(),n.loadSystemValue(t)}),u._uU(5,"\xd7"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(3);u.xp6(3),u.hij(" ",e.language.all," ")}}function xe(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",53),u.TgZ(1,"span",57),u._uU(2),u.TgZ(3,"span",55),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(2).clear(t)}),u._uU(4,"\xd7"),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit;u.xp6(1),u.s9C("title",e.name),u.xp6(1),u.hij(" ",e.name?e.name:e," ")}}function be(e,t){if(1&e&&(u.TgZ(0,"div",52),u.YNc(1,xe,5,2,"div",56),u.qZA()),2&e){const e=u.oxw().items;u.xp6(1),u.Q6J("ngForOf",e)}}function Ae(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",53),u.TgZ(1,"span",57),u._uU(2),u.TgZ(3,"span",55),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(2).clear(t)}),u._uU(4,"\xd7"),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit;u.xp6(1),u.s9C("title",e.name),u.xp6(1),u.hij(" ",e.name?e.name:e," ")}}function Ze(e,t){if(1&e&&(u.TgZ(0,"div",52),u.YNc(1,Ae,5,2,"div",56),u.qZA()),2&e){const e=u.oxw().items;u.xp6(1),u.Q6J("ngForOf",e)}}function we(e,t){if(1&e&&(u.YNc(0,ve,6,1,"div",51),u.YNc(1,be,2,1,"div",51),u.YNc(2,Ze,2,1,"div",51)),2&e){const e=t.items,i=u.oxw(2);u.Q6J("ngIf",e.length==(null==i.locationDataArray?null:i.locationDataArray.length)),u.xp6(1),u.Q6J("ngIf",1==e.length&&e.length!==(null==i.locationDataArray?null:i.locationDataArray.length)),u.xp6(1),u.Q6J("ngIf",e.length>1&&e.length!==(null==i.locationDataArray?null:i.locationDataArray.length))}}function ye(e,t){if(1&e&&(u.TgZ(0,"span",58),u._uU(1),u.qZA()),2&e){const e=t.item;u.s9C("title",e.name?e.name:e),u.xp6(1),u.Oqu(e.name?e.name:e)}}function Ce(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",52),u.TgZ(1,"div",53),u.TgZ(2,"span",54),u._uU(3),u.TgZ(4,"span",55),u.NdJ("click",function(t){u.CHM(e),u.oxw(2);const i=u.MAs(21),n=u.oxw();return i.handleClearClick(),n.validateSystem(t)}),u._uU(5,"\xd7"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(3);u.xp6(3),u.hij(" ",e.language.all," ")}}function Te(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",53),u.TgZ(1,"span",57),u._uU(2),u.TgZ(3,"span",55),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(2).clear(t)}),u._uU(4,"\xd7"),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit;u.xp6(1),u.s9C("title",e.name),u.xp6(1),u.hij(" ",e.name?e.name:e," ")}}function Oe(e,t){if(1&e&&(u.TgZ(0,"div",52),u.YNc(1,Te,5,2,"div",56),u.qZA()),2&e){const e=u.oxw().items;u.xp6(1),u.Q6J("ngForOf",e)}}function _e(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",53),u.TgZ(1,"span",57),u._uU(2),u.TgZ(3,"span",55),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(2).clear(t)}),u._uU(4,"\xd7"),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit;u.xp6(1),u.s9C("title",e.name),u.xp6(1),u.hij(" ",e.name?e.name:e," ")}}function Ie(e,t){if(1&e&&(u.TgZ(0,"div",52),u.YNc(1,_e,5,2,"div",56),u.qZA()),2&e){const e=u.oxw().items;u.xp6(1),u.Q6J("ngForOf",e)}}function Se(e,t){if(1&e&&(u.YNc(0,Ce,6,1,"div",51),u.YNc(1,Oe,2,1,"div",51),u.YNc(2,Ie,2,1,"div",51)),2&e){const e=t.items,i=u.oxw(2);u.Q6J("ngIf",e.length==(null==i.systemDataArray?null:i.systemDataArray.length)),u.xp6(1),u.Q6J("ngIf",1==e.length&&e.length!==(null==i.systemDataArray?null:i.systemDataArray.length)),u.xp6(1),u.Q6J("ngIf",e.length>1&&e.length!==(null==i.systemDataArray?null:i.systemDataArray.length))}}function Me(e,t){if(1&e&&(u.TgZ(0,"span",58),u._uU(1),u.qZA()),2&e){const e=t.item;u.s9C("title",e.name?e.name:e),u.xp6(1),u.Oqu(e.name?e.name:e)}}function qe(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",26),u.TgZ(1,"label"),u._uU(2),u.qZA(),u.TgZ(3,"ng-select",59),u.NdJ("change",function(t){return u.CHM(e),u.oxw(2).onSelectVendor(t)})("remove",function(t){return u.CHM(e),u.oxw(2).loadModelValues(t)}),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(2),u.hij("",e.language["Vendor ID"]||"Vendor ID"," "),u.xp6(1),u.s9C("placeholder",e.language["Vendor ID"]||"Vendor ID"),u.Q6J("items",e.vendorNames)("clearable",!1)("searchable",!1)}}function Pe(e,t){if(1&e&&(u.TgZ(0,"p",63),u._uU(1),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.Oqu(e.language["Invalid FSAN"])}}function Ne(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",60),u.TgZ(1,"label"),u._uU(2),u.qZA(),u.TgZ(3,"input",61),u.NdJ("keypress",function(t){return u.CHM(e),u.oxw(2).removespecialcharacter(t)}),u.qZA(),u.YNc(4,Pe,2,1,"p",62),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(2),u.hij("",e.language.FSAN," "),u.xp6(1),u.s9C("placeholder",e.language.FSAN),u.Q6J("disabled","Cloud Connectivity"==e.tempSelectedAlertType||"Transform Alarms"==e.tempSelectedAlertType),u.xp6(1),u.Q6J("ngIf",!e.fsanvalid)}}function ke(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"section",23),u.TgZ(1,"div",24),u.TgZ(2,"div",25),u.TgZ(3,"div",26),u.TgZ(4,"label"),u._uU(5),u.qZA(),u.TgZ(6,"ng-select",27,28),u.NdJ("add",function(t){return u.CHM(e),u.oxw().validateRegion(t)})("remove",function(t){return u.CHM(e),u.oxw().loadLocationValue(t)}),u.YNc(8,he,3,3,"ng-template",29),u.YNc(9,fe,2,2,"ng-template",30),u.qZA(),u.qZA(),u.TgZ(10,"div",31),u.TgZ(11,"label"),u._uU(12),u.qZA(),u.TgZ(13,"ng-select",32,33),u.NdJ("add",function(t){return u.CHM(e),u.oxw().validateLocation(t)})("remove",function(t){return u.CHM(e),u.oxw().loadSystemValue(t)}),u.YNc(15,we,3,3,"ng-template",29),u.YNc(16,ye,2,2,"ng-template",30),u.qZA(),u.qZA(),u.TgZ(17,"div",34),u.TgZ(18,"label"),u._uU(19),u.qZA(),u.TgZ(20,"ng-select",35,36),u.NdJ("change",function(t){return u.CHM(e),u.oxw().selectSystem(t)})("add",function(t){return u.CHM(e),u.oxw().validateSystem(t)})("remove",function(t){return u.CHM(e),u.oxw().validateSystem(t)}),u.YNc(22,Se,3,3,"ng-template",29),u.YNc(23,Me,2,2,"ng-template",30),u.qZA(),u.qZA(),u.TgZ(24,"div",37),u.TgZ(25,"label"),u._uU(26),u.qZA(),u.TgZ(27,"ng-select",38),u.NdJ("change",function(t){return u.CHM(e),u.oxw().onAlarmGroupChange(t,"docChange")}),u.TgZ(28,"ng-option",39),u._uU(29),u.qZA(),u.TgZ(30,"ng-option",40),u._uU(31,"ONT"),u.qZA(),u.TgZ(32,"ng-option",41),u._uU(33,"OLT"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(34,"div",42),u.TgZ(35,"label"),u._uU(36,"Alert Type"),u.qZA(),u.TgZ(37,"ng-select",43),u.NdJ("change",function(t){return u.CHM(e),u.oxw().onSelectAlertTypes(t)}),u.qZA(),u.qZA(),u.TgZ(38,"div",37),u.TgZ(39,"label"),u._uU(40),u.qZA(),u.TgZ(41,"multi-select-dropdown",44),u.NdJ("cSelectChange",function(t){return u.CHM(e),u.oxw().setModelNames(t)})("cBlurChange",function(t){return u.CHM(e),u.oxw().setModelNamesOnBlur(t)}),u.qZA(),u.qZA(),u.YNc(42,qe,4,5,"div",45),u.YNc(43,Ne,5,4,"div",46),u.TgZ(44,"div",47),u.TgZ(45,"div",48),u.TgZ(46,"button",49),u.NdJ("click",function(){return u.CHM(e),u.oxw().generateParams()}),u.TgZ(47,"span"),u._uU(48),u.qZA(),u.qZA(),u.TgZ(49,"button",50),u.NdJ("click",function(){return u.CHM(e),u.oxw().clearFilter()}),u.TgZ(50,"span"),u._uU(51),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw();u.xp6(5),u.hij("",e.language.Region," "),u.xp6(1),u.s9C("placeholder",e.language.region),u.Q6J("multiple",!0)("items",e.regionsDataArray)("clearable",!1)("searchable",!0),u.xp6(6),u.hij("",e.language.Location," "),u.xp6(1),u.s9C("placeholder",e.language.Location),u.Q6J("multiple",!0)("items",e.locationDataArray)("clearable",!1)("searchable",!0),u.xp6(6),u.hij("",e.language.System," "),u.xp6(1),u.s9C("placeholder",e.language.System),u.Q6J("multiple",!0)("items",e.systemDataArray)("clearable",!1)("searchable",!0),u.xp6(6),u.hij("",e.language["System Type"]||"System Type"," "),u.xp6(1),u.Q6J("searchable",!1)("multiple",!1)("clearable",!1),u.xp6(2),u.Oqu(e.language.All),u.xp6(8),u.s9C("placeholder",e.language["Alert Type"]||"Alert Type"),u.Q6J("items",e.alertTypes)("clearable",!1)("searchable",!1),u.xp6(3),u.hij("",e.language.Model_Name||"Model_Name"," "),u.xp6(1),u.Q6J("cItems",e.modelNames)("cSelectedItems",null==e.filtersForm||null==e.filtersForm.controls.modelNames?null:e.filtersForm.controls.modelNames.value)("cBindValue","value")("cBindLabel","label")("cClearable",!1)("cSearchable",!0)("cName","Models")("cShowCountOfItems",e.showCountOfItems)("cPlaceHolder","Model_Name")("cShowSelectAll",!0),u.xp6(1),u.Q6J("ngIf",e.showFSAN),u.xp6(1),u.Q6J("ngIf",e.showFSAN),u.xp6(3),u.s9C("title",e.language.apply),u.xp6(2),u.Oqu(e.language.apply),u.xp6(1),u.s9C("title",e.language.TClearFilter),u.xp6(2),u.Oqu(e.language.TClearFilter)}}const De=function(e){return{cursornallow:e}},Fe=function(e){return{"diable-div":e}};function Ue(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"section",4),u.TgZ(1,"div",64),u.TgZ(2,"div",4),u.TgZ(3,"div",65),u.TgZ(4,"div",66),u.TgZ(5,"div",67),u.TgZ(6,"label",68),u._UZ(7,"input",69),u.TgZ(8,"span"),u._UZ(9,"small"),u.qZA(),u.qZA(),u.TgZ(10,"label",70),u._uU(11),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",71),u.TgZ(13,"button",72),u.NdJ("click",function(){return u.CHM(e),u.oxw().refreshGeomap()}),u._UZ(14,"img",73),u.qZA(),u.TgZ(15,"button",74),u.NdJ("click",function(){return u.CHM(e),u.oxw().gotoRealtime()}),u._uU(16),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw();u.xp6(4),u.Q6J("ngClass",u.VKq(6,De,"All Alerts"!=e.selectedAlertTypes)),u.xp6(1),u.Q6J("ngClass",u.VKq(8,Fe,"All Alerts"!=e.selectedAlertTypes)),u.xp6(6),u.Oqu(e.language["Hide Healthy Systems"]),u.xp6(2),u.s9C("title",e.language.Refresh),u.xp6(2),u.Q6J("disabled","All Alerts"==e.selectedAlertTypes),u.xp6(1),u.hij(" ",e.selectedAlertTypes+" View"," ")}}function Le(e,t){if(1&e&&(u.TgZ(0,"div",75),u.TgZ(1,"div",76),u.TgZ(2,"div",77),u.TgZ(3,"div",78),u.TgZ(4,"span",79),u._uU(5),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(5),u.Oqu(e.language.Loading)}}function Ee(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",80),u.TgZ(1,"span",81),u._UZ(2,"img",82),u.qZA(),u.TgZ(3,"button",83),u.NdJ("click",function(){return u.CHM(e),u.oxw().closeAlert()}),u._UZ(4,"span"),u.qZA(),u._UZ(5,"div",84),u.qZA()}if(2&e){const e=u.oxw();u.xp6(5),u.Q6J("innerHtml",e.errorInfo,u.oJD)}}function Qe(e,t){if(1&e&&(u.TgZ(0,"div",85),u.TgZ(1,"table"),u.TgZ(2,"tbody"),u.TgZ(3,"tr"),u.TgZ(4,"td"),u._UZ(5,"img",86),u.qZA(),u.TgZ(6,"td"),u._uU(7),u.qZA(),u.TgZ(8,"td"),u._UZ(9,"span",87),u.qZA(),u.TgZ(10,"td"),u._uU(11),u.qZA(),u.qZA(),u.TgZ(12,"tr"),u.TgZ(13,"td"),u._UZ(14,"img",88),u.qZA(),u.TgZ(15,"td"),u._uU(16),u.qZA(),u.TgZ(17,"td"),u._UZ(18,"span",89),u.qZA(),u.TgZ(19,"td"),u._uU(20),u.qZA(),u.qZA(),u.TgZ(21,"tr"),u._UZ(22,"td"),u._UZ(23,"td"),u.TgZ(24,"td"),u._UZ(25,"span",90),u.qZA(),u.TgZ(26,"td"),u._uU(27),u.qZA(),u.qZA(),u.TgZ(28,"tr"),u._UZ(29,"td"),u._UZ(30,"td"),u.TgZ(31,"td"),u._UZ(32,"span",91),u.qZA(),u.TgZ(33,"td"),u._uU(34),u.qZA(),u.qZA(),u.TgZ(35,"tr"),u._UZ(36,"td"),u._UZ(37,"td"),u.TgZ(38,"td"),u._UZ(39,"span",92),u.qZA(),u.TgZ(40,"td"),u._uU(41),u.qZA(),u.qZA(),u.TgZ(42,"tr"),u._UZ(43,"td"),u._UZ(44,"td"),u.TgZ(45,"td"),u._UZ(46,"span",93),u.qZA(),u.TgZ(47,"td"),u._uU(48),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(7),u.Oqu(e.language.ONT),u.xp6(4),u.hij("",e.language.critical," "),u.xp6(5),u.Oqu(e.language.OLT),u.xp6(4),u.hij("",e.language.major," "),u.xp6(7),u.Oqu(e.language.minor),u.xp6(7),u.Oqu(e.language["No alarms"]),u.xp6(7),u.Oqu(e.language["System aggregation"]),u.xp6(7),u.Oqu(e.language["System colocation"])}}function Je(e,t){if(1&e&&(u.TgZ(0,"div",102),u.TgZ(1,"div",105),u.TgZ(2,"div",106),u.TgZ(3,"div",107),u._UZ(4,"img",108),u.qZA(),u.TgZ(5,"div",109),u.TgZ(6,"p",110),u._uU(7,"Service Disruption Detected"),u.qZA(),u.TgZ(8,"p",111),u._uU(9,"Cause: "),u.TgZ(10,"a",112),u.TgZ(11,"span",113),u._uU(12),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(12),u.Oqu(e.systemInfoData.outageAlarmName)}}function Ye(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(2),u.Oqu(e.language.Subscriber_Name),u.xp6(2),u.Oqu(e.systemInfoData.subscriberName)}}function je(e,t){if(1&e&&(u.TgZ(0,"div",114),u.TgZ(1,"span",20),u._uU(2,"System Alarms"),u.qZA(),u.TgZ(3,"div",21),u.TgZ(4,"span",22),u.TgZ(5,"a",115),u._uU(6),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(6),u.Oqu(e.systemInfoData.systemAlarmCount)}}function Be(e,t){if(1&e&&(u.TgZ(0,"div",114),u.TgZ(1,"span",20),u._uU(2,"Transform Alarms"),u.qZA(),u.TgZ(3,"div",21),u.TgZ(4,"span",22),u.TgZ(5,"a",116),u._uU(6),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(6),u.Oqu(e.systemInfoData.transformedAlarmCount)}}function Ve(e,t){if(1&e&&(u.TgZ(0,"div",114),u.TgZ(1,"span",20),u._uU(2,"Health Alerts"),u.qZA(),u.TgZ(3,"div",21),u.TgZ(4,"span",22),u.TgZ(5,"a",117),u._uU(6),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(6),u.Oqu(e.systemInfoData.cloudHealthCount)}}function He(e,t){if(1&e&&(u.TgZ(0,"div",114),u.TgZ(1,"span",20),u._uU(2,"Cloud Connectivity"),u.qZA(),u.TgZ(3,"div",21),u.TgZ(4,"span",22),u.TgZ(5,"a",118),u._uU(6),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(6),u.Oqu(e.systemInfoData.cloudConnectivityCount)}}function Ge(e,t){if(1&e&&(u.TgZ(0,"div",94),u.TgZ(1,"div",95),u.TgZ(2,"div",96),u.TgZ(3,"a",97),u._uU(4),u.qZA(),u.qZA(),u.qZA(),u.TgZ(5,"div"),u.TgZ(6,"div",4),u.YNc(7,Je,13,1,"div",98),u.TgZ(8,"div",99),u.TgZ(9,"table",100),u.TgZ(10,"tbody"),u.TgZ(11,"tr"),u.TgZ(12,"td"),u._uU(13),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.qZA(),u.TgZ(16,"tr"),u.TgZ(17,"td"),u._uU(18),u.qZA(),u.TgZ(19,"td"),u._uU(20),u.qZA(),u.qZA(),u.TgZ(21,"tr"),u.TgZ(22,"td"),u._uU(23),u.qZA(),u.TgZ(24,"td"),u._uU(25),u.qZA(),u.qZA(),u.YNc(26,Ye,5,2,"tr",101),u.qZA(),u.qZA(),u.qZA(),u.TgZ(27,"div",102),u.TgZ(28,"div",103),u.YNc(29,je,7,1,"div",104),u.YNc(30,Be,7,1,"div",104),u.YNc(31,Ve,7,1,"div",104),u.YNc(32,He,7,1,"div",104),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(4),u.Oqu(e.systemInfoData.deviceName),u.xp6(3),u.Q6J("ngIf","True"==e.systemInfoData.outage),u.xp6(6),u.Oqu(e.language["Region/Location"]),u.xp6(2),u.Oqu((e.systemInfoData.deviceRegion&&e.systemInfoData.deviceRegion.region_name?e.systemInfoData.deviceRegion.region_name:"-")+"/"+(e.systemInfoData.deviceLocation&&e.systemInfoData.deviceLocation.networkgroup_name?e.systemInfoData.deviceLocation.networkgroup_name:"-")),u.xp6(3),u.Oqu(e.language["System Type"]),u.xp6(2),u.Oqu(e.systemInfoData.deviceType),u.xp6(3),u.Oqu(e.language.Model_Name),u.xp6(2),u.Oqu(e.systemInfoData.deviceModel),u.xp6(1),u.Q6J("ngIf","ONT"==e.systemInfoData.deviceType),u.xp6(3),u.Q6J("ngIf",e.systemInfoData.systemAlarmCount>0),u.xp6(1),u.Q6J("ngIf",e.systemInfoData.transformedAlarmCount>0),u.xp6(1),u.Q6J("ngIf",e.systemInfoData.cloudHealthCount>0),u.xp6(1),u.Q6J("ngIf",e.systemInfoData.cloudConnectivityCount>0)}}function $e(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-system-list",119,120),u.NdJ("hideInfoBox",function(t){return u.CHM(e),u.oxw().hideToolbox(t)}),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("systemInfoData",e.systemListData)}}const ze=[{path:"",component:(()=>{class e{constructor(e,t,i,n,s,o,a,l,c,d,g,u){var p;this.translateService=e,this.renderer=t,this.router=i,this.issueService=n,this.http=s,this.commonOrgService=o,this.fb=a,this.ssoService=l,this.titleService=c,this.homeGeomapService=d,this.websocketservice=g,this.routerService=u,this.hasScopeAccess=!1,this.loading=!0,this.map=void 0,this.mapData=[],this.pins=[],this.reStoreMapViewDetails={mapCenterBound:void 0,mapWidthBound:void 0,mapHeightBound:void 0,mapZoom:void 0},this.locs=0,this.mapSet=!1,this.baseUrl=`${I.N.API_BASE_URL}analytics-engine/`,this.errorInfo="",this.ontInfoBox=[{key:"regionLocation",name:"Region/Location"},{key:"deviceName",name:"System Name",hyperlink:!0},{key:"deviceType",name:"System Type"},{key:"deviceModel",name:"Model_Name"},{key:"subscriberName",name:"Subscriber Name"},{key:"outage",name:"Internet Outage"},{key:"outageAlarmName",name:"Internet Outage Cause",hyperlink:!0}],this.oltInfoBox=[{key:"regionLocation",name:"Region/Location"},{key:"deviceName",hyperlink:!0,name:"System Name"},{key:"deviceType",name:"System Type"},{key:"deviceModel",name:"Model_Name"}],this.listInfoBox=[{key:"deviceName",hyperlink:!0,name:"System Name"},{key:"regionLocation",name:"Region/Location"},{key:"deviceType",name:"System Type"},{key:"deviceModel",name:"Model_Name"},{key:"systemAlarmCount",name:"System Alarms"},{key:"transformedAlarmCount",name:"Transform Alarms"},{key:"cloudHealthCount",name:"Health Alerts"},{key:"cloudConnectivityCount",name:"Cloud Connectivity"},{key:"serviceDisruption",name:"Service Disruption"},{key:"subscriberName",name:"Subscriber Name"}],this.canCall=!0,this.devicesIcons={circles:{red:"assets/images/geomap-icons/circle-solid-red.svg",green:"assets/images/geomap-icons/circle-solid-green.svg",yellow:"assets/images/geomap-icons/circle-solid-yellow.svg",amber:"assets/images/geomap-icons/circle-solid-amber.svg",black:"assets/images/geomap-icons/circle-solid-black.svg",blue:"assets/images/geomap-icons/circle-solid-blue.svg"},diamonds:{red:"assets/images/geomap-icons/diamond-solid-red.svg",green:"assets/images/geomap-icons/diamond-solid-green.svg",yellow:"assets/images/geomap-icons/diamond-solid-yellow.svg",amber:"assets/images/geomap-icons/diamond-solid-amber.svg",black:"assets/images/geomap-icons/diamond-solid-black.svg",blue:"assets/images/geomap-icons/diamond-solid-blue.svg"},squares:{red:"assets/images/geomap-icons/square-solid-red.svg",green:"assets/images/geomap-icons/square-solid-green.svg",yellow:"assets/images/geomap-icons/square-solid-yellow.svg",amber:"assets/images/geomap-icons/square-solid-amber.svg",black:"assets/images/geomap-icons/square-solid-black.svg",blue:"assets/images/geomap-icons/square-solid-blue.svg"}},this.systemListData={},this.canShowSystemList=!1,this.canShowAlertTypeList=!1,this.enableClustering=!1,this.regionsDataArray=["All"],this.regionArray=["All"],this.locationDataArray=["All"],this.systemDataArray=["All"],this.filtersForm=this.fb.group({region:[""],alertType:"ALL",location:[""],system:[""],modelNames:[],vendorId:"All",fsan_serialno:"",device_type:"ALL",showAllSystems:!0,showOntNetOutage:!1,searchInputText:""}),this.fsanvalid=!0,this.showFSAN=!0,this.appliedParams=["region","location","system","alertType","modelNames","vendorId","fsan_serialno","device_type"],this.previousOntOutage=!1,this.totalActiveSystems=0,this.modelNames=[],this.vendorNames=["All"],this.isDev=!1,this.isDevfunc=!1,this.showCountOfItems=!1,this.clusters=[],this.showAlertTypeList=new r.xQ,this.alertTypes=[{id:"ALL",name:"All"},{id:"SYSTEM",name:"System Alarms"},{id:"TRANSFORMED",name:"Transform Alarms",disableFor:"ONT"},{id:"HEALTH",name:"Health Alerts"},{id:"CONNECTIVITY",name:"Cloud Connectivity",disableFor:"ONT"},{name:"Service Disruptions",id:"DISRUPTION",disableFor:"OLT"}],this.selectedAlertTypes="All Alerts",this.tempSelectedAlertType="All Alerts",this.clickNoOfAlarms=[{element:"clickNoOfCloudConnectivityAlarms",count:"cloudConnectivityCount",col:"Cloud Connectivity",id:"CONNECTIVITY"},{element:"clickNoOfcloudHealthAlarms",count:"cloudHealthCount",col:"Health Alerts",id:"HEALTH"},{element:"clickNoOfSystemAlarms",count:"systemAlarmCount",col:"System Alarms",id:"SYSTEM"},{element:"clickNoOfTransformedAlarms",count:"transformedAlarmCount",col:"Transform Alarms",id:"TRANSFORMED"}],window,this.prefillingFilters=null===(p=null==history?void 0:history.state)||void 0===p?void 0:p.filters}ngOnInit(){var e;console.log(history.state),this.isDev=!(!`${_.f.prototype.nativeWindow}`.includes("cloud-dev.calix.com")&&!`${_.f.prototype.nativeWindow}`.includes("localhost")),this.isDevfunc=!(!`${_.f.prototype.nativeWindow}`.includes("cloud-devfunc.calix.com")&&!`${_.f.prototype.nativeWindow}`.includes("localhost")),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.hideToolbox(),this.titleService.setTitle(`${this.language["Active GeoMap"]} - ${this.language.Home} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`${this.language["Active GeoMap"]} - ${this.language.Home} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`);let t=this.ssoService.getScopes();if(I.N.VALIDATE_SCOPE){let e=Object.keys(t);if(e)for(let t=0;t<e.length;t++)if(-1!==e[t].indexOf("cloud.rbac.coc.insights.activdevicesgeomap")){this.hasScopeAccess=!0;break}}else this.hasScopeAccess=!0;if(this.hasScopeAccess){if(this.ssoService.setPageAccess(!0),this.filtersForm.patchValue({region:["All"],location:["All"],system:["All"],alertType:"ALL",modelNames:[],vendorId:"All",fsan_serialno:"",device_type:"ALL",showAllSystems:!0,showOntNetOutage:!1,searchInputText:""},{emitEvent:!1,onlySelf:!0}),this.prefillingFilters&&this.filtersForm.patchValue(this.prefillingFilters,{emitEvent:!1,onlySelf:!0}),this.filterSubscription=this.issueService.issuesFilterChanged$.subscribe(e=>{e&&(this.hideToolbox(),setTimeout(()=>{this.getData()},300))}),this.navigatedGeoFilters=this.prefillingFilters,(this.routerService.previousUrl.includes("cco/system/cco-network-system/show-details")||this.routerService.previousUrl.includes("cco/services/subscribers/system/list")||this.routerService.previousUrl.includes("active-reports?geoMapIssue=true"))&&(this.navigatedGeoFilters=null===(e=this.issueService)||void 0===e?void 0:e.getGeomapAppliedFilters()),this.navigatedGeoFilters&&Object.keys(this.navigatedGeoFilters).length>0&&("olt"==this.navigatedGeoFilters.fromIssuesGeoMap||"ont"==this.navigatedGeoFilters.fromIssuesGeoMap||""!=this.navigatedGeoFilters.alertType)){let e=this.navigatedGeoFilters?this.alertTypes.find(e=>e.id==this.navigatedGeoFilters.alertType):void 0;this.selectedAlertTypes=this.tempSelectedAlertType=e&&e.name?"All"==e.name?"All Alerts":e.name:"All Alerts",this.navigatedGeoFilters.reStoreMapViewDetails&&(this.reStoreMapViewDetails={mapCenterBound:this.navigatedGeoFilters.reStoreMapViewDetails.mapCenterBound||void 0,mapWidthBound:this.navigatedGeoFilters.reStoreMapViewDetails.mapWidthBound||void 0,mapHeightBound:this.navigatedGeoFilters.reStoreMapViewDetails.mapHeightBound||void 0,mapZoom:this.navigatedGeoFilters.reStoreMapViewDetails.mapZoom||void 0}),this.filtersForm.patchValue({fsan_serialno:this.navigatedGeoFilters.fsan_serialno?this.navigatedGeoFilters.fsan_serialno:this.navigatedGeoFilters.fsan?this.navigatedGeoFilters.fsan:"",device_type:this.navigatedGeoFilters.device_type||"ALL",alertType:this.navigatedGeoFilters.alertType||"ALL",showAllSystems:!(this.navigatedGeoFilters&&0==this.navigatedGeoFilters.showAllSystems),showOntNetOutage:this.navigatedGeoFilters.showOntNetOutage||!1},{emitEvent:!1,onlySelf:!0})}this.regionsApiLoader()}else this.loading=!1}ngAfterViewInit(){var e,t;null===(e=this.filtersForm.get("showAllSystems").valueChanges)||void 0===e||e.subscribe(e=>{var t,i;this.filtersForm.get("showAllSystems").setValue(e,{emitEvent:!1});let n=null===(t=this.issueService)||void 0===t?void 0:t.getGeomapAppliedFilters();n.showAllSystems=e,e&&(this.filtersForm.get("showOntNetOutage").setValue(!e,{emitEvent:!1}),n.showOntNetOutage=!e),null===(i=this.issueService)||void 0===i||i.setGeomapAppliedFilters(n),this.getData()}),null===(t=this.filtersForm.get("showOntNetOutage").valueChanges)||void 0===t||t.subscribe(e=>{var t,i;this.filtersForm.get("showOntNetOutage").setValue(e,{emitEvent:!1});let n=null===(t=this.issueService)||void 0===t?void 0:t.getGeomapAppliedFilters();n.showOntNetOutage=e,e&&(this.filtersForm.get("showAllSystems").setValue(!e,{emitEvent:!1}),n.showAllSystems=!e),this.getData(),null===(i=this.issueService)||void 0===i||i.setGeomapAppliedFilters(n)}),this.filtersForm.get("fsan_serialno").valueChanges.subscribe(e=>{e?12==e.length&&(this.fsanvalid=!0):this.fsanvalid=!0})}getModalVendorIds(){this.http.get(`${this.baseUrl}modelNames-vendorIds`).subscribe(e=>{var t,i,n;this.vendorModals=e;let s=[],o=[];if(null===(t=this.vendorModals)||void 0===t?void 0:t.vendorIdToModelMap)for(let[a,l]of Object.entries(null===(i=this.vendorModals)||void 0===i?void 0:i.vendorIdToModelMap)){l&&l.length>0&&Array.isArray(l)&&l.forEach(e=>{let t={};t.vendor=a,t.model=t.value=t.label=t.name=e,s.push(t)});let e={};e.vendor=e.value=e.label=e.name=a,e.models=l,o.push(e)}s.sort((e,t)=>(e.model||"").toString().localeCompare((t.model||"").toString(),"en",{numeric:!1})),this.actualModelNames=[...s],this.modelNames=[...s],this.actualvendorNames=[...this.vendorNames,...o],this.vendorNames=[...this.vendorNames,...o],this.filtersForm.get("modelNames").setValue(this.actualModelNames.map(e=>e.model)),this.navigatedGeoFilters&&("olt"==this.navigatedGeoFilters.fromIssuesGeoMap||"ont"==this.navigatedGeoFilters.fromIssuesGeoMap||""!=this.navigatedGeoFilters.alertType)&&(this.filtersForm.get("modelNames").setValue(this.navigatedGeoFilters.modelNames||this.actualModelNames.map(e=>e.model)),this.filtersForm.get("vendorId").setValue(this.navigatedGeoFilters.vendorId||"All"),this.setModelNames({selectedItems:this.navigatedGeoFilters.modelNames||this.actualModelNames.map(e=>e.model)}),this.onSelectVendor(this.navigatedGeoFilters.vendorId||"All",this.navigatedGeoFilters.modelNames||this.actualModelNames.map(e=>e.model)),this.onAlarmGroupChange(null===(n=this.navigatedGeoFilters.device_type)||void 0===n?void 0:n.toUpperCase())),setTimeout(()=>{this.generateParams()},1e3)},e=>{setTimeout(()=>{this.generateParams()},1e3)})}regionsApiLoader(){new Set,this.regionSelected="All",this.locationSelected="All",this.systemSelected="All",this.regionsSubject=this.issueService.getRegions().subscribe(e=>{if(e&&e.length&&(e.forEach(t=>{if(this.findObjectsCountByValue(e,t.name)>1){let e="";if(t.fqn){let i=t.fqn.split(",");if(i.length){let t=i[0];if(t){let i=t.split("=");i.length&&i[1]&&(e=i[1])}}}t.tempName=`${t.name} ${e?`(${e})`:""}`}else t.tempName=t.name}),e.forEach(e=>{e.name=e.tempName})),e.sort(),this.regionsDataArray=[...this.regionsDataArray,...e],this.navigatedGeoFilters&&("olt"==this.navigatedGeoFilters.fromIssuesGeoMap||"ont"==this.navigatedGeoFilters.fromIssuesGeoMap||""!=this.navigatedGeoFilters.alertType)){let e=["All"],t=["All"],i=["All"];this.navigatedGeoFilters.region&&(e=this.navigatedGeoFilters.region||"All"),this.navigatedGeoFilters.location&&(t=this.navigatedGeoFilters.location||"All"),this.navigatedGeoFilters.system&&(i=this.navigatedGeoFilters.system||"All"),this.filtersForm.get("region").setValue(e),setTimeout(()=>{this.filtersForm.get("location").setValue(t),this.loadLocationValue(""),setTimeout(()=>{this.filtersForm.get("system").setValue(i),this.selectSystem(""),this.loadSystemValue()},200)},200)}this.getModalVendorIds()},e=>{this.getModalVendorIds(),this.error=!0,this.loading=!1,this.pageErrorHandle(e)})}findObjectsCountByValue(e,t){let i=0;if(e&&e.length)for(var n=0;n<e.length;n++)e[n].name.toLowerCase()==t.toLowerCase()&&i++;return i}loadLocationValue(e){this.clickedRegion="",this.locationSelected="All",this.systemSelected="All";let t=this.filtersForm.get("region").value;if(this.filtersForm.get("location"),this.regionSelected=t,this.regionSelected.length){let e="";if(t.length){if(-1!==t.indexOf("All"))return this.locationDataArray=["All"],this.systemDataArray=["All"],this.filtersForm.get("location").setValue(["All"]),this.filtersForm.get("system").setValue(["All"]),this.regionName=null,this.locationName=null,void(this.systemName=null);t.forEach(t=>{"All"!=t&&(e+=`&region=${t}`)}),this.locationsSubject=this.http.get(`${I.N.API_BASE_URL}nfa/locations?tenant=0${e}`).pipe((0,d.U)(e=>((e=this.issueService.appendFqn(e)).sort((e,t)=>(e.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})),e)),(0,g.K)(this.handleError)).subscribe(e=>{this.locationDataArray=["All"],this.locationDataArray=[...this.locationDataArray,...e];let t=this.filtersForm.get("location").value;t&&t.length>0&&t.forEach((e,i)=>{var n;"All"!=e&&-1==(null===(n=this.locationDataArray)||void 0===n?void 0:n.findIndex(t=>t.id==e))&&(t=null==t?void 0:t.filter(t=>t!=e))}),(!t||0==t.length)&&(t=["All"]),this.filtersForm.get("location").setValue(t),this.loadSystemValue()},e=>{}),this.regionName=t}else this.filtersForm.get("region").setValue(["All"]),this.filtersForm.get("location").setValue(["All"]),this.filtersForm.get("system").setValue(["All"]),this.regionName=null,this.locationName=null,this.systemName=null,this.locationDataArray=["All"],this.systemDataArray=["All"]}}loadSystemValue(e){this.clickedLocation="";let t=this.filtersForm.get("region").value,i=this.filtersForm.get("location").value;if(this.filtersForm.get("system"),this.systemSelected=["All"],t.length&&i.length&&-1===i.indexOf("All")){let e="";t.forEach(t=>{"All"!=t&&(e+=`&region=${t}`)});let n="";i.forEach(e=>{"All"!=e&&(n+=`&location=${e}`)}),this.systemsSubject=this.http.get(`${I.N.API_BASE_URL}nfa/systems?tenant=0${e}${n}`).pipe((0,d.U)(e=>(e.sort((e,t)=>(e.name||"").toString().localeCompare((t.name||"").toString(),"en",{numeric:!1})),e)),(0,g.K)(this.handleError)).subscribe(e=>{this.systemDataArray=["All"],this.systemDataArray=[...this.systemDataArray,...e];let t=this.filtersForm.get("system").value;t&&t.length>0&&t.forEach((e,i)=>{var n;"All"!=e&&-1==(null===(n=this.systemDataArray)||void 0===n?void 0:n.findIndex(t=>t.uuid==e))&&(t=null==t?void 0:t.filter(t=>t!=e))}),(!t||0==t.length)&&(t=["All"]),this.filtersForm.get("system").setValue(t)},e=>{}),this.locationName=i}else(!i.length||-1!=i.indexOf("All"))&&(this.filtersForm.get("location").setValue(["All"]),this.filtersForm.get("system").setValue(["All"]),this.locationName=null,this.systemName=null,this.systemDataArray=["All"])}selectSystem(e){let t=this.filtersForm.get("system").value;this.systemName=t,"All"==t&&(this.systemName=null)}validateRegion(e){let t=this.filtersForm.get("region").value;if("All"===e)t=["All"];else{let e=t.indexOf("All");e>-1&&t.splice(e,1)}this.filtersForm.get("region").setValue(t),this.loadLocationValue("")}validateLocation(e){let t=this.filtersForm.get("location").value;if("All"===e)this.clickedLocation=void 0,this.locationName=void 0,t=["All"];else{let e=t.indexOf("All");e>-1&&t.splice(e,1)}this.filtersForm.get("location").setValue(t),this.loadSystemValue("")}validateSystem(e){let t=this.filtersForm.get("system").value;if(t.length)if("All"===e)t=["All"];else{let e=t.indexOf("All");e>-1&&t.splice(e,1)}else t=["All"];this.filtersForm.get("system").setValue(t)}generateParams(){if(this.validateFSAN(),!this.fsanvalid)return;this.selectedAlertTypes="All"==this.tempSelectedAlertType?"All Alerts":this.tempSelectedAlertType,"All Alerts"!=this.selectedAlertTypes?("Cloud Connectivity"==this.selectedAlertTypes||"Transform Alarms"==this.selectedAlertTypes?(this.filtersForm.get("fsan_serialno").setValue("",{emitEvent:!1}),this.filtersForm.get("fsan_serialno").disable({emitEvent:!1})):this.filtersForm.get("fsan_serialno").enable({emitEvent:!1}),"Service Disruptions"==this.selectedAlertTypes?this.filtersForm.get("showAllSystems").setValue(!1,{emitEvent:!1}):this.filtersForm.get("showAllSystems").setValue(!0,{emitEvent:!1}),this.filtersForm.get("showAllSystems").disable({emitEvent:!1})):(this.filtersForm.get("showAllSystems").enable({emitEvent:!1}),this.filtersForm.get("fsan_serialno").enable({emitEvent:!1}));let e=this.filtersForm.value,t={showAllSystems:e.showAllSystems,showOntNetOutage:e.showOntNetOutage,region:e.region,location:e.location,system:e.system,fsan_serialno:e.fsan_serialno?e.fsan_serialno:"",device_type:e.device_type,alertType:e.alertType,modelNames:e.modelNames,vendorId:e.vendorId};this.selectedAlertTypes="All Alerts",e.alertType&&(this.selectedAlertTypes="All"==this.tempSelectedAlertType?"All Alerts":this.tempSelectedAlertType),this.previousOntOutage=e.showOntNetOutage,this.issueService.setGeomapAppliedFilters(t),this.getData()}getData(){var e,t,i,n,s;if(this.canCall){this.hideToolbox(),this.canShowAlertTypeList=!1,this.canShowSystemList=!1,this.canCall=!1,this.loading=!0,this.error=!1,this.errorInfo=void 0,this.geoMapParams={},this.map&&(Microsoft.Maps.Events.removeHandler(this.endHandler),this.map.layers&&this.map.layers.clear(),this.mapData=[],this.pins=[]);let a=Object.assign({},this.issueService.getGeomapAppliedFilters());a&&(this.geoMapParams=a);let l="";for(var o in this.filtersForm.get("showAllSystems").value&&(l="hide_healthy_systems="+encodeURIComponent(this.filtersForm.get("showAllSystems").value)),this.geoMapParams)null==this.geoMapParams[o]||""==this.geoMapParams[o]||"region"==o&&1==this.geoMapParams[o].length&&"all"==(null===(e=this.geoMapParams[o][0])||void 0===e?void 0:e.toLowerCase())||"location"==o&&1==this.geoMapParams[o].length&&"all"==(null===(t=this.geoMapParams[o][0])||void 0===t?void 0:t.toLowerCase())||"system"==o&&1==this.geoMapParams[o].length&&"all"==(null===(i=this.geoMapParams[o][0])||void 0===i?void 0:i.toLowerCase())||"showAllSystems"==o||"showOntNetOutage"==o||"modelNames"==o&&(null===(n=this.geoMapParams[o])||void 0===n?void 0:n.length)==(null===(s=this.actualModelNames)||void 0===s?void 0:s.length)||"vendorId"==o&&"All"==this.geoMapParams[o]||-1==this.appliedParams.findIndex(e=>e==o)||(""!=l&&(l+="&"),l+=o+"="+encodeURIComponent(this.geoMapParams[o]));setTimeout(()=>{let e=`${this.baseUrl}devices?withoutGeo=false`;l&&""!=l&&(e=`${this.baseUrl}devices?withoutGeo=false&${l}`),this.http.get(e).subscribe(e=>{this.mapData=e&&e.devicesOutputData?e.devicesOutputData:e||[],this.totalActiveSystems=e&&e.activeSystemsCount?e.activeSystemsCount:this.mapData&&this.mapData[0]&&this.mapData[0].activeSystemsCount?this.mapData[0].activeSystemsCount:0,this.mapData.length>0&&(this.mapData&&1==this.mapData.length&&(this.mapData=this.mapData.filter(e=>e.deviceUuid&&e.deviceName)),this.error=this.mapData.some(e=>0==Number(e.latitude)&&0==Number(e.longitude)),this.mapData=this.mapData.filter(e=>Number(e.latitude)||Number(e.longitude)),this.mapData.forEach(e=>{e.regionLocation="-",e.outage=e.outage||0==e.outage?String(e.outage).charAt(0).toUpperCase()+String(e.outage).slice(1):void 0,(e.deviceRegion&&e.deviceRegion.region_name||e.deviceLocation&&e.deviceLocation.networkgroup_name)&&(e.regionLocation=`${e.deviceRegion&&e.deviceRegion.region_name?e.deviceRegion.region_name:"-"}/${e.deviceLocation&&e.deviceLocation.networkgroup_name?e.deviceLocation.networkgroup_name:"-"}`)}),this.error&&(this.errorInfo="Invalid location co-ordinates (0,0)")),this.mapSet?this.mapData.length>0&&this.loadMap():(this.setMap(),this.mapSet=!0),this.canCall=!0,this.loading=!1},e=>{this.canCall=!0,this.error=!0,this.loading=!1,this.pageErrorHandle(e)})},1e3)}}pageErrorHandle(e){this.errorInfo=401==e.status?"Access Denied":this.commonOrgService.pageErrorHandle(e),this.error=!0}clearFilter(){this.showFSAN=!0,this.fsanvalid=!0,this.locationDataArray=["All"],this.systemDataArray=["All"],this.selectedAlertTypes="All Alerts",this.tempSelectedAlertType="All",this.clickedRegion=void 0,this.clickedLocation=void 0,this.locationName=void 0,this.regionName=void 0,this.systemName=void 0,this.filtersForm.get("showOntNetOutage").enable({emitEvent:!1}),this.filtersForm.get("showAllSystems").enable({emitEvent:!1}),this.filtersForm.get("fsan_serialno").enable({emitEvent:!1});let e=[...this.alertTypes];e.forEach(e=>{e.disabled=!1}),this.alertTypes=[...e],this.filtersForm.patchValue({region:["All"],location:["All"],system:["All"],modelNames:[],vendorId:"All",fsan_serialno:"",device_type:"ALL",showAllSystems:!0,showOntNetOutage:!1,searchInputText:"",alertType:"ALL"},{emitEvent:!1,onlySelf:!0}),this.setVendorModelToDefault(),this.issueService.setGeomapAppliedFilters(this.filtersForm.value),this.getData()}setVendorModelToDefault(){var e;null===(e=this.MultiSelectComponent)||void 0===e||e.resetSearchFilter(),this.showCountOfItems=!1,this.modelNames=[...this.actualModelNames],this.filtersForm.get("modelNames").setValue(this.actualModelNames.map(e=>e.model)),this.vendorNames=[...this.actualvendorNames],this.filtersForm.get("vendorId").setValue("All")}setMap(){this.map=new Microsoft.Maps.Map("#geoViewIssue",{credentials:I.N.BING_API_KEY,zoom:1}),this.map.setView({mapTypeId:Microsoft.Maps.MapTypeId.road}),this.map.setOptions({showLogo:!1,showLocateMeButton:!1,showMapTypeSelector:!1,showCopyright:!1,disableBirdseye:!0,disableStreetside:!1,showZoomButtons:!0}),this.systemListTooltip=new Microsoft.Maps.Infobox(this.map.getCenter(),{visible:!1}),this.systemListTooltip.setMap(this.map),this.tooltip=new Microsoft.Maps.Infobox(this.map.getCenter(),{visible:!1}),this.tooltip.setMap(this.map);let e=this;Microsoft.Maps.Events.addHandler(e.map,"click",function(){e.hideToolbox()}),e.mapData.length>0&&e.loadMap()}loadMap(){let e=this;this._that=this;var t,i,n=[];Microsoft.Maps.loadModule("Microsoft.Maps.Clustering",function(){var s,o;let a={},l=(t=e.mapData).length;for(let i=0;i<l;i++){a=e.createSpiderIcon(null===(s=t[i].nonZeroSev)||void 0===s?void 0:s.toLowerCase(),null===(o=t[i].deviceType)||void 0===o?void 0:o.toLowerCase());let l=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(t[i].latitude,t[i].longitude),a);l.metadata=t[i],l.customId=t[i].deviceUuid+t[i].deviceName,n.push(new Microsoft.Maps.Location(t[i].latitude,t[i].longitude)),Microsoft.Maps.Events.addHandler(l,"mouseover",c),e.pushpinMouseOutHandler=Microsoft.Maps.Events.addHandler(l,"mouseout",d),e.pins.push(l)}var r=Microsoft.Maps.LocationRect.fromLocations(n);if(e.map.setView({bounds:r,padding:100}),i=new Microsoft.Maps.ClusterLayer(e.pins,{clusteredPinCallback:g,gridSize:80}),e.map.layers.insert(i),e.reStoreMapViewDetails.mapCenterBound){let t=new Microsoft.Maps.Location(e.reStoreMapViewDetails.mapCenterBound.latitude,e.reStoreMapViewDetails.mapCenterBound.longitude),i=new Microsoft.Maps.LocationRect(t,e.reStoreMapViewDetails.mapWidthBound,e.reStoreMapViewDetails.mapHeightBound);e.map.setView({bounds:i}),e.map.setView({zoom:e.reStoreMapViewDetails.mapZoom})}function c(t){e.showToolbox(t)}function d(t){e.hideToolbox()}function g(t){var i;-1==e.clusters.findIndex(e=>e.customId==t.customId)&&t.containedPushpins.length>0&&(t.customId=t.containedPushpins[0].customId,e.clusters.push(t));let n=e.clusters.findIndex(e=>e.customId==t.customId);-1!=n&&e.clusters[n].lastClicked&&(t.lastClicked=!0);var s=7,o=null===(i=t.containedPushpins)||void 0===i?void 0:i.length,a="#008cff";if(Microsoft.Maps.Events.addHandler(t,"click",u),t.containedPushpins&&t.containedPushpins.length>0){let e=t.containedPushpins[0].geometry,i=t.containedPushpins.every(t=>t.geometry.x==e.x&&t.geometry.y==e.y);t.containedPushpins.forEach(e=>{e.changed.isPreviouslyInvoked=!0}),i&&(a="purple"),console.log(i,"lastAggCluster")}var l=Math.log(o)/Math.log(10)*3+12;let r="";r="purple"==a?"#ff00ff":"#003866";var c=[];c=t.lastClicked?['<svg xmlns="http://www.w3.org/2000/svg" width="',2*l,'" height="',2*l,'">','<circle cx="',l,'" cy="',l,'" r="',l,'" fill="',r,'"/>','<circle cx="',l,'" cy="',l,'" r="',l-(s=4),'" fill="',a,'"/>',"</svg>"]:['<svg xmlns="http://www.w3.org/2000/svg" width="',2*l,'" height="',2*l,'">','<circle cx="',l,'" cy="',l,'" r="',l,'" fill="',a,'"/>','<circle cx="',l,'" cy="',l,'" r="',l-s,'" fill="',a,'"/>',"</svg>"],t.setOptions({icon:c.join(""),anchor:new Microsoft.Maps.Point(l,l),textOffset:new Microsoft.Maps.Point(0,l-8)})}function u(t){var i;e.hideToolbox("systemList");let n=e.clusters.findIndex(e=>e.customId==t.target.customId);e.clusters=[...new Map(e.clusters.map(e=>[e.customId,e])).values()],e.clusters.forEach((e,t)=>{e.lastClicked=!1}),e.clusters.forEach((e,t)=>{n==t&&(e.lastClicked=!0),g(e)});var s=null===(i=t.target.containedPushpins)||void 0===i?void 0:i.length,o="#008cff";if(t.target.containedPushpins&&t.target.containedPushpins.length>0){let e=t.target.containedPushpins[0].geometry,i=t.target.containedPushpins.every(t=>t.geometry.x==e.x&&t.geometry.y==e.y);i&&(o="purple"),console.log(i,"lastAggCluster")}let a="";a="purple"==o?"#ff00ff":"#003866";var l=Math.log(s)/Math.log(10)*3+12;t.target.setOptions({icon:['<svg xmlns="http://www.w3.org/2000/svg" width="',2*l,'" height="',2*l,'">','<circle cx="',l,'" cy="',l,'" r="',l,'" fill="',a,'"/>','<circle cx="',l,'" cy="',l,'" r="',l-4,'" fill="',o,'"/>',"</svg>"].join(""),anchor:new Microsoft.Maps.Point(l,l),textOffset:new Microsoft.Maps.Point(0,l-8)}),e.systemListData={},e.loading=!0;let r=[];t.target.containedPushpins&&t.target.containedPushpins.length>0&&t.target.containedPushpins.forEach(e=>{r.push(null==e?void 0:e.metadata)}),e.showSystemsList(t.location,r)}}),e.locs=n.length,e.endHandler=Microsoft.Maps.Events.addHandler(e.map,"viewchangeend",function(){!function(t){let i=e.map.getBounds();e.reStoreMapViewDetails.mapCenterBound=i.center,e.reStoreMapViewDetails.mapWidthBound=i.width,e.reStoreMapViewDetails.mapHeightBound=i.height,e.reStoreMapViewDetails.mapZoom=e.map.getZoom()}()})}showSystemsList(e,t){var i;this.systemListData={};let n=null===(i=this.issueService)||void 0===i?void 0:i.getGeomapAppliedFilters();n&&(this.systemListData=n),t.forEach(e=>{"ONT"==e.deviceType&&(e.serviceDisruption="True"==e.outage?`Yes - ${e.outageAlarmName}`:"No")}),this.systemListData.listData=t,this.systemListData.selectedAlertTypes=this.selectedAlertTypes,this.systemListData.reStoreMapViewDetails=this.reStoreMapViewDetails,this.listHasAllOLT=t.every(e=>{var t;return"OLT"==(null===(t=e.deviceType)||void 0===t?void 0:t.toUpperCase())}),this.setListInfoBox=[...this.listInfoBox],this.listHasAllOLT&&(this.setListInfoBox=this.listInfoBox.filter(e=>"subscriberName"!=e.key&&"serviceDisruption"!=e.key)),this.systemListData.listColumn=this.setListInfoBox,this.systemListData.listHasAllOLT=this.listHasAllOLT,setTimeout(()=>{this.canShowSystemList=!0,this.loading=!1},200),setTimeout(()=>{window.scrollTo(0,document.body.scrollHeight)},500)}showToolbox(e){var t;this.systemInfoData=e.target.metadata,this.hideToolbox(),this.systemListData.reStoreMapViewDetails=this.reStoreMapViewDetails,this.systemListData={};let i=null===(t=this.issueService)||void 0===t?void 0:t.getGeomapAppliedFilters();i&&(this.systemListData=i),setTimeout(()=>{let t=this.systemInfo.nativeElement.innerHTML;t=t.replace("hide-modal","");let i={location:e.target.getLocation(),htmlContent:t,visible:!0,width:500};this.tooltip.setOptions(i),this.repositionToolBox(e.target.getLocation(),this.tooltip);let n=document.getElementById("clickdeviceName");n&&this.renderer.listen(n,"click",t=>{this.homeGeomapService.redirectToPage("deviceName",e.target.metadata,this.systemListData)});let s=document.getElementById("clickOutageAlarmName");s&&this.renderer.listen(s,"click",t=>{this.homeGeomapService.redirectToPage("outageAlarmName",e.target.metadata,this.systemListData)}),this.clickNoOfAlarms.forEach(t=>{let i=Object.assign({},e.target.metadata),n=document.getElementById(t.element);n&&this.renderer.listen(n,"click",e=>{i=Object.assign(Object.assign({},i),t),this.homeGeomapService.redirectToPage("noOfAlarms",i,this.systemListData)})})},200)}repositionToolBox(e,t,i){let n=15,s=t.getOffset(),o=t.getAnchor(),a=this.map.tryLocationToPixel(e,Microsoft.Maps.PixelReference.control),l=a.x+s.x-o.x,r=a.y-15-o.y;r<n?(r*=-1,r+=n):r=0,l<n?(l*=-1,l+=n):(l=this.map.getWidth()-a.x+o.x-t.getWidth(),l>n?l=0:l-=n),(0!=l||0!=r)&&this.map.setView({centerOffset:new Microsoft.Maps.Point(l,r),center:this.map.getCenter()})}hideToolbox(e){if(this.map){this.clusters=[...new Map(this.clusters.map(e=>[e.customId,e])).values()],this.clusters.forEach(e=>{e.lastClicked=!1});let e=this.map.getCenter();this.map.setView({center:{latitude:Number(e.latitude)+1e-5,longitude:Number(e.longitude)+1e-5}})}"systemList"==e?void 0!==this.systemListTooltip&&(this.systemListTooltip.setOptions({visible:!1}),this.canShowSystemList=!1):void 0!==this.tooltip&&this.tooltip.setOptions({visible:!1})}createSpiderIcon(e,t){let i="";return"ont"==t?i="critical"==e?this.devicesIcons.circles.red:"major"==e?this.devicesIcons.circles.amber:"minor"==e?this.devicesIcons.circles.yellow:this.devicesIcons.circles.green:"olt"==t?i="critical"==e?this.devicesIcons.squares.red:"major"==e?this.devicesIcons.squares.amber:"minor"==e?this.devicesIcons.squares.yellow:this.devicesIcons.squares.green:"asm"==t&&(i="critical"==e?this.devicesIcons.diamonds.red:"major"==e?this.devicesIcons.diamonds.amber:"minor"==e?this.devicesIcons.diamonds.yellow:this.devicesIcons.diamonds.green),{icon:i,anchor:new Microsoft.Maps.Point(9,9)}}closeAlert(){this.error=!1}validateFSAN(){var e,t,i,n;this.fsanvalid=!0,0!==(null===(t=null===(e=this.filtersForm.get("fsan_serialno"))||void 0===e?void 0:e.value)||void 0===t?void 0:t.length)&&12!==(null===(n=null===(i=this.filtersForm.get("fsan_serialno"))||void 0===i?void 0:i.value)||void 0===n?void 0:n.length)&&(this.fsanvalid=!1)}onAlarmGroupChange(e,t){let i=[...this.alertTypes];i.forEach(t=>{var i,n,s;"ALL"!=e&&this.filtersForm.get("alertType").value==t.id&&(null===(i=t.disableFor)||void 0===i?void 0:i.includes(e))&&this.filtersForm.get("alertType").setValue("ALL"),t.disabled=!!("ONT"==e&&(null===(n=t.disableFor)||void 0===n?void 0:n.includes("ONT"))||"OLT"==e&&(null===(s=t.disableFor)||void 0===s?void 0:s.includes("OLT")))}),this.alertTypes=[...i],"OLT"===e?(1==this.filtersForm.get("showOntNetOutage").value&&(this.previousOntOutage=!0,this.filtersForm.get("showOntNetOutage").setValue(!1)),this.filtersForm.get("showOntNetOutage").disable({emitEvent:!1}),this.filtersForm.get("fsan_serialno").setValue(""),this.showFSAN=!1,"docChange"==t&&this.setVendorModelToDefault()):(0==this.filtersForm.get("showOntNetOutage").value&&this.previousOntOutage&&this.filtersForm.get("showOntNetOutage").setValue(!0),this.filtersForm.get("showOntNetOutage").enable({emitEvent:!1}),this.showFSAN=!0,"docChange"==t&&this.setVendorModelToDefault())}removespecialcharacter(e){var t;return(t=e.keyCode)>47&&t<58||t>64&&t<91||t>96&&t<123}refreshGeomap(){this.hideToolbox(),setTimeout(()=>{this.getData()},300)}gotoRealtime(){let e=this.issueService.getGeomapAppliedFilters();e.reStoreMapViewDetails=this.reStoreMapViewDetails,e=Object.assign(Object.assign({},e),e),this.issueService.setGeomapAppliedFilters(e);let t=`/cco/alerts/${this.filtersForm.get("alertType").value.toLowerCase()}`;"disruption"==this.filtersForm.get("alertType").value.toLowerCase()&&(t+="/list"),this.router.navigate([t],{state:{filters:this.issueService.getGeomapAppliedFilters()}})}setModelNames(e){e&&e.selectedItems&&(this.filtersForm.get("modelNames").setValue(e.selectedItems),this.loadVendorValues(e.selectedItems))}setModelNamesOnBlur(e){var t,i;if(e&&e.selectedItems&&0==e.selectedItems.length&&!(null===(i=null===(t=null==e?void 0:e.event)||void 0===t?void 0:t.target)||void 0===i?void 0:i.checked)){let e=this.filtersForm.get("vendorId").value;""!=e&&"All"!=e?this.filtersForm.get("modelNames").setValue(this.modelNames.map(e=>e.model)):this.filtersForm.get("modelNames").setValue(this.actualModelNames.map(e=>e.model)),this.loadVendorValues(this.actualModelNames.map(e=>e.model))}}loadVendorValues(e){let t=[...this.actualvendorNames],i=[];e&&e.length>0&&e.forEach(e=>{let n=t.filter(t=>!!(t&&t.models&&t.models.length>0)&&-1!=t.models.findIndex(t=>t==e));i=[...i,...n]}),i=[...new Map(i.map(e=>[e.value,e])).values()],this.vendorNames=["All",...i]}onSelectVendor(e,t){let i=this.filtersForm.get("vendorId").value;if("All"===e)t||(this.vendorNames=[...this.actualvendorNames]),i="All";else{let e=i.indexOf("All");e>-1&&i.splice(e,1)}this.filtersForm.get("vendorId").setValue(i),this.loadModelValues(i,t)}loadModelValues(e,t){var i,n,s,o;this.showCountOfItems=!1;let a=this.filtersForm.get("vendorId").value;if(a&&"All"===a)this.filtersForm.get("vendorId").setValue("All"),this.modelNames=[...this.actualModelNames],t?this.filtersForm.get("modelNames").setValue(t):(this.filtersForm.get("vendorId").setValue("All"),this.filtersForm.get("modelNames").setValue(this.modelNames.map(e=>e.model)));else{let e=this.filtersForm.get("modelNames").value;this.modelNames=[...this.actualModelNames.filter(e=>e.vendor==a)],this.modelNames.length!=this.actualModelNames.length&&(this.showCountOfItems=!0),(null===(n=null===(i=this.modelNames.filter(t=>-1!==(null==e?void 0:e.findIndex(e=>e==t.model))))||void 0===i?void 0:i.map(e=>e.model))||void 0===n?void 0:n.length)>0?this.filtersForm.get("modelNames").setValue(null===(s=this.modelNames.filter(t=>-1!==(null==e?void 0:e.findIndex(e=>e==t.model))))||void 0===s?void 0:s.map(e=>e.model)):this.filtersForm.get("modelNames").setValue(null===(o=this.modelNames)||void 0===o?void 0:o.map(e=>e.model))}}handleError(e){return(0,c._)(e)}onSelectAlertTypes(e){this.tempSelectedAlertType=e.name,"Cloud Connectivity"==this.tempSelectedAlertType||"Transform Alarms"==this.tempSelectedAlertType?(this.fsanvalid=!0,this.filtersForm.get("fsan_serialno").setValue("",{emitEvent:!1}),this.filtersForm.get("fsan_serialno").disable({emitEvent:!1})):this.filtersForm.get("fsan_serialno").enable({emitEvent:!1})}redirectToPages(e,t){this.homeGeomapService.redirectToPage(e,t,this.systemListData)}ngOnDestroy(){var e,t;(null===(t=null===(e=this.router)||void 0===e?void 0:e.url)||void 0===t?void 0:t.includes("current-issues"))||this.issueService.fromMapNavigation(!1),this.languageSubject&&this.languageSubject.unsubscribe(),this.filterSubscription&&this.filterSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(p.s),u.Y36(u.Qsj),u.Y36(l.F0),u.Y36(S.v),u.Y36(M.eN),u.Y36(q.v),u.Y36(a.qu),u.Y36(P.t6),u.Y36(N.Dx),u.Y36(Y),u.Y36(j.i),u.Y36(B.c))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-active-devices-geomap"]],viewQuery:function(e,t){if(1&e&&(u.Gf(le,7),u.Gf(O,5)),2&e){let e;u.iGM(e=u.CRH())&&(t.systemInfo=e.first),u.iGM(e=u.CRH())&&(t.MultiSelectComponent=e.first)}},decls:17,vars:10,consts:[[1,"loader-wrapper"],[1,"my-3"],[1,"container"],["role","alert","class","alert alert-warning",4,"ngIf"],[1,"row"],["class","kbi-menu-wrapper",4,"ngIf"],[3,"formGroup"],["class","pb-2 px-3 mt-4",4,"ngIf"],["class","row",4,"ngIf"],["class","loader-wrapper-info",4,"ngIf"],["class","w-100 alert alert-danger fade show my-3",4,"ngIf"],["id","geoViewIssue",1,"geo-view-issue"],["class","geomap-legends",4,"ngIf"],[1,"hide-modal"],["systemInfo",""],["class","custom-inlne-modal hide-modal custom-size-large",4,"ngIf"],[3,"systemInfoData","hideInfoBox",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"kbi-menu-wrapper"],["id","active-devices",1,"kbi-item"],[1,"menu-title"],[1,"d-flex","align-content-around","flex-wrap"],[1,"stats-value"],[1,"pb-2","px-3","mt-4"],[1,"row","ccl-filter-row","px-2"],[1,"d-flex","flex-wrap","w-100"],["id","current-issues-region",1,"col-item","ccl-form"],["formControlName","region","bindValue","id","bindLabel","name",1,"selectboxwidth","custom-ng-multi",3,"multiple","items","clearable","searchable","placeholder","add","remove"],["regionNgSelect",""],["ng-multi-label-tmp",""],["ng-option-tmp",""],["id","current-issues-location",1,"col-item","ccl-form"],["formControlName","location","bindValue","id","bindLabel","name",1,"selectboxwidth","custom-ng-multi",3,"multiple","items","placeholder","clearable","searchable","add","remove"],["locationNgSelect",""],["id","current-issues-system",1,"col-item","ccl-form"],["formControlName","system","bindValue","uuid","bindLabel","name",1,"selectboxwidth","custom-ng-multi",3,"multiple","items","placeholder","clearable","searchable","change","add","remove"],["systemNgSelect",""],["id","current-issues-system-type",1,"col-item","ccl-form"],["formControlName","device_type",3,"searchable","multiple","clearable","change"],["value","ALL"],["value","ONT"],["value","OLT"],["id","current-issues-alert-type",1,"col-item","ccl-form"],["formControlName","alertType","bindValue","id","bindLabel","name",1,"selectboxwidth",3,"items","clearable","searchable","placeholder","change"],[3,"cItems","cSelectedItems","cBindValue","cBindLabel","cClearable","cSearchable","cName","cShowCountOfItems","cPlaceHolder","cShowSelectAll","cSelectChange","cBlurChange"],["class","col-item ccl-form","id","current-issues-region",4,"ngIf"],["class","col-item ccl-form position-relative","id","current-issues-system-type",4,"ngIf"],[1,"col-item-action"],[1,"d-flex","w-100","align-items-start","pl-3"],[1,"btn-default","btn-primary","py-0","mr-2",3,"title","click"],[1,"btn-link","primary","mt-2",3,"title","click"],["class","ng-selected-label",4,"ngIf"],[1,"ng-selected-label"],[1,"ng-value-placeholder"],[1,"ng-value"],["aria-hidden","true",1,"ng-value-icon","left","cursor-pointer",3,"click"],["class","ng-value-placeholder",4,"ngFor","ngForOf"],[1,"ng-value",3,"title"],[3,"title"],["formControlName","vendorId","bindValue","value","bindLabel","name",1,"selectboxwidth",3,"items","clearable","searchable","placeholder","change","remove"],["id","current-issues-system-type",1,"col-item","ccl-form","position-relative"],["formControlName","fsan_serialno","type","text","maxlength","12",1,"form-control",3,"disabled","placeholder","keypress"],["class","mandatory-msg mb-0",4,"ngIf"],[1,"mandatory-msg","mb-0"],[1,"col-md-12","mt-3"],[1,"col-8"],[1,"toggle-swtbtn","checkbox","switcher","d-inline-flex","mb-3","mr-3",3,"ngClass"],[3,"ngClass"],["for","ActivehideHealthySystems"],["type","checkbox","id","ActivehideHealthySystems","formControlName","showAllSystems","value","true"],["for","ActivehideHealthySystems",1,"ml-3","c-auto"],[1,"col-4","text-right"],[1,"btn-refresh","mr-3","mb-3",3,"title","click"],["src","../../../../../../assets/img/ic_refresh.svg"],[1,"btn-default","btn-dft","h-24-btn","mb-3","mr-3",3,"disabled","click"],[1,"loader-wrapper-info"],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"geomap-legends"],["src","assets/images/geomap-icons/circle.svg","alt",""],[1,"dot","critical"],["src","assets/images/geomap-icons/square.svg","alt",""],[1,"dot","major"],[1,"dot","minor"],[1,"dot","no-alarms"],[1,"dot","aggregation"],[1,"dot","collocation"],[1,"custom-inlne-modal","hide-modal","custom-size-large"],[1,"mb-3"],[1,"cco-secondary-title","text-primary"],["id","clickdeviceName",1,"cursor-pointer","text-decoration-none"],["class","col-12 mb-3",4,"ngIf"],[1,"col-12","mb-2"],[1,"table","table-borderless","sys-info-table","w-100"],[4,"ngIf"],[1,"col-12","mb-3"],[1,"sys-list-kbi","pt-4"],["class","col-auto border-left",4,"ngIf"],[1,"alert","alert-warning","mb-0"],[1,"d-flex","pt-2"],[1,"col-auto"],["src","../../../../../assets/img/warning-icon.svg","width","24px","height","24px"],[1,"col","pl-2"],[1,"mb-0"],[1,"mb-1"],["id","clickOutageAlarmName",1,"cursor-pointer","text-decoration-none"],[1,"text-primary","pl-1"],[1,"col-auto","border-left"],["id","clickNoOfSystemAlarms",1,"cursor-pointer","text-decoration-none"],["id","clickNoOfTransformedAlarms",1,"cursor-pointer","text-decoration-none"],["id","clickNoOfcloudHealthAlarms",1,"cursor-pointer","text-decoration-none"],["id","clickNoOfCloudConnectivityAlarms",1,"cursor-pointer","text-decoration-none"],[3,"systemInfoData","hideInfoBox"],["systemList",""]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"section",1),u.TgZ(2,"div",2),u.YNc(3,re,2,1,"div",3),u.TgZ(4,"div",4),u.YNc(5,ce,7,2,"div",5),u.qZA(),u.qZA(),u.qZA(),u.TgZ(6,"form",6),u.YNc(7,ke,52,44,"section",7),u.YNc(8,Ue,17,10,"section",8),u.qZA(),u.YNc(9,Le,6,1,"div",9),u.YNc(10,Ee,6,1,"div",10),u._UZ(11,"div",11),u.YNc(12,Qe,49,8,"div",12),u.TgZ(13,"section",13,14),u.YNc(15,Ge,33,13,"div",15),u.qZA(),u.qZA(),u.YNc(16,$e,2,1,"app-system-list",16)),2&e&&(u.xp6(3),u.Q6J("ngIf",!t.hasScopeAccess),u.xp6(2),u.Q6J("ngIf",t.hasScopeAccess),u.xp6(1),u.Q6J("formGroup",t.filtersForm),u.xp6(1),u.Q6J("ngIf",t.hasScopeAccess),u.xp6(1),u.Q6J("ngIf",t.hasScopeAccess),u.xp6(1),u.Q6J("ngIf",t.loading&&t.hasScopeAccess),u.xp6(1),u.Q6J("ngIf",t.error),u.xp6(2),u.Q6J("ngIf",t.hasScopeAccess),u.xp6(3),u.Q6J("ngIf",t.systemInfoData),u.xp6(1),u.Q6J("ngIf",(t.canShowSystemList||t.canShowAlertTypeList)&&t.hasScopeAccess))},directives:[n.O5,a._Y,a.JL,a.sg,s.w9,a.JJ,a.u,s.Yi,s.Z2,s.xv,O,n.sg,a.Fj,a.nD,n.mk,a.Wl,ae],styles:['.kbi-menu-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.kbi-item[_ngcontent-%COMP%]{flex-grow:1;border-left:1px solid #EBEAEF;padding-left:12px}.kbi-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:30px!important;color:#0054b2!important;line-height:32px!important;font-weight:300}.kbi-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1a1f22;font-size:14px;line-height:16.4px}.kbi-item[_ngcontent-%COMP%]   .red[_ngcontent-%COMP%]{color:#ff3600}.kbi-item[_ngcontent-%COMP%]   .orange[_ngcontent-%COMP%]{color:#fc7235}.kbi-item[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]{color:#72b4ff}.kbi-item[_ngcontent-%COMP%]   .yellow[_ngcontent-%COMP%]{color:#f3b426}.kbi-item[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{color:#82bf00}.health-pon-menu-item[_ngcontent-%COMP%] + .health-pon-menu-item[_ngcontent-%COMP%]{margin-left:2%}.loader-wrapper[_ngcontent-%COMP%]{position:relative}.loader-wrapper-info[_ngcontent-%COMP%]{transform:translate(-50%,-50%);top:50%;left:50%;position:absolute;width:100%;z-index:100;height:100%}.acg-container[_ngcontent-%COMP%]{display:flex;width:100%}  .MicrosoftMap .Infobox{display:none}  .MicrosoftMap .Infobox .infobox-actions{height:25px}  .InfoboxCustom .customInfobox{cursor:text;padding:10px;background-color:#fff;outline:black;border-radius:10px;border:1px solid #ddd;pointer-events:auto!important}  .InfoboxCustom .customInfobox .info-title{font-size:18px;font-weight:bold;line-height:35px}  .InfoboxCustom .customInfobox table tr td a{cursor:pointer!important;text-decoration:underline;color:#007bff}  .InfoboxCustom .customInfobox table tr td:first-child{padding-right:30px}  a.customInfoboxCloseButton:link, a.customInfoboxCloseButton[_ngcontent-%COMP%]:visited{cursor:pointer!important;color:#000;text-decoration:none;position:absolute;top:0px;right:10px;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;font-weight:bold;font-size:14px}  a.customSystemListCloseButton:link, a.customSystemListCloseButton[_ngcontent-%COMP%]:visited{cursor:pointer!important;color:#000;text-decoration:none;position:absolute;top:0px;right:10px;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;font-weight:bold;font-size:14px}  .InfoboxCustom .customList{max-width:700px;min-width:420px;height:510px;min-height:470px;max-height:510px;padding:10px;cursor:text;background-color:#fff;outline:none;border-radius:10px;pointer-events:auto!important}  .InfoboxCustom .customList .search-input{min-height:38px;max-height:42px;line-height:inherit;border-radius:26px;background:#f8f8fa;padding:0 15px;font-size:14px;font-weight:400;color:#646363;border:1px solid transparent}  .InfoboxCustom .customList .clear-search{position:relative;right:24px}  .InfoboxCustom .customList .search-input:active,   .InfoboxCustom .customList .search-input:focus{border:1px solid #0278ff}  .InfoboxCustom .customList table{min-width:415px;max-width:675px}  .InfoboxCustom .customList table thead{z-index:100;background-color:#fff}  .InfoboxCustom .customList table thead tr{display:block;border-bottom:2px solid lightgray;margin-bottom:3px}  .InfoboxCustom .customList table thead tr th:nth-child(1){width:160px;min-width:160px;word-break:break-word}  .InfoboxCustom .customList table thead tr th:nth-child(2){width:140px;min-width:140px;word-break:break-word}  .InfoboxCustom .customList table thead tr th:nth-child(3){width:65px;min-width:65px}  .InfoboxCustom .customList table thead tr th:nth-child(4){width:100px;min-width:100px}  .InfoboxCustom .customList table thead tr th:nth-child(5){width:85px;min-width:85px}  .InfoboxCustom .customList table thead tr th:nth-child(6){width:140px;min-width:140px}  .InfoboxCustom .customList table #data-available{overflow:auto;display:block;height:405px;width:100%}  .InfoboxCustom .customList table #data-available tr:nth-child(even){background-color:#f2f2f2}  .InfoboxCustom .customList table #data-available tr td .same-line{position:relative;padding-left:12px}  .InfoboxCustom .customList table #data-available tr td .same-line span.dot{position:absolute;left:0;top:9.5px}  .InfoboxCustom .customList table #data-available tr td a{cursor:pointer!important;color:#007bff}  .InfoboxCustom .customList table #data-available tr td:nth-child(1){width:160px;min-width:160px;word-break:break-word}  .InfoboxCustom .customList table #data-available tr td:nth-child(2){width:140px;min-width:140px;word-break:break-word}  .InfoboxCustom .customList table #data-available tr td:nth-child(3){width:65px;min-width:65px}  .InfoboxCustom .customList table #data-available tr td:nth-child(4){width:100px;min-width:100px;word-break:break-word}  .InfoboxCustom .customList table #data-available tr td:nth-child(5){width:85px;min-width:85px}  .InfoboxCustom .customList table #data-available tr td:nth-child(6){width:140px;min-width:140px;word-break:break-word}  .InfoboxCustom .customList table #no-data-available{display:block;height:405px;width:100%}  .InfoboxCustom .customList table #no-data-available tr .with-ont{min-width:610px;max-width:655px}  .InfoboxCustom .customList table #no-data-available tr .without-ont{min-width:495px;max-width:655px}.geomap-legends[_ngcontent-%COMP%]{padding:10px;width:220px;position:absolute;bottom:5px;left:20px;background-color:#fff}.geomap-legends[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;outline:1px solid #00000075;font-size:12px}.geomap-legends[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.geomap-legends[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:5px}.geomap-legends[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:0 5px}.geomap-legends[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){border-right:1px solid #00000075}  .dot{height:8px;width:8px;border-radius:50%;display:inline-block}  .dot.critical{background-color:#c70000}  .dot.major{background-color:#fc7235}  .dot.minor{background-color:#f3b426}  .dot.no-alarms{background-color:green}  .dot.aggregation{background-color:#008cff}  .dot.collocation{background-color:purple}.geo-view-issue[_ngcontent-%COMP%]{width:100%;height:80vh}.clear-search-buton[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px}.clear-search-buton[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:11.71px;height:11.71px;background-size:11.71px}.geomap-view-table[_ngcontent-%COMP%]{max-height:350px;overflow-y:auto;margin-top:1px;border:1px solid #ddd}.geomap-view-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), .geomap-view-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), .geomap-view-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), .geomap-view-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), .geomap-view-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), .geomap-view-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){max-width:100px}.geomap-view-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5), .geomap-view-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){max-width:80px}.hide-close-search[_ngcontent-%COMP%]{display:none}.show-close-search[_ngcontent-%COMP%]{color:gray;display:block;position:absolute;right:40px;font-size:22px;top:2px}.showHideTable[_ngcontent-%COMP%]{visibility:hidden}  .ccl-form .ng-select-multiple input{min-height:auto}  .custom-model-service .modal-content{padding:0!important}  .custom-model-service .modal-dialog{max-width:67.31%!important}.diable-div[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.cursornallow[_ngcontent-%COMP%]{cursor:not-allowed}.btn-refresh[_ngcontent-%COMP%]{border:none;background:none;outline:none;padding:0}.h-24-btn[_ngcontent-%COMP%]{height:24px;line-height:16px!important;padding:3px 20px!important;font-size:14px}.ccl-filter-row[_ngcontent-%COMP%]{background:#F8F8FA;border-top:1px solid #EBEAEF;border-bottom:1px solid #EBEAEF;padding:13px 0 22px}.ccl-filter-row[_ngcontent-%COMP%]   .col-item[_ngcontent-%COMP%]{width:15%;margin-left:15px}.ccl-filter-row[_ngcontent-%COMP%]   .col-item.ccl-form[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{background-color:#fff}.ccl-filter-row[_ngcontent-%COMP%]   .col-item-action[_ngcontent-%COMP%]{padding-top:35px}.ccl-filter-row[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{border:none;background:transparent;margin-top:5px}.ccl-filter-row[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{color:#0069d9;text-decoration:none}  .ccl-filter-row .ng-select .ng-select-container{background-color:#fff!important}.ccl-filter-wrapper[_ngcontent-%COMP%]   .col-item[_ngcontent-%COMP%]{margin-right:15px;margin-bottom:15px}.ccl-filter-wrapper[_ngcontent-%COMP%]   .col-item[_ngcontent-%COMP%]:last-child{margin-right:0}.flex-g[_ngcontent-%COMP%]{flex-grow:1;display:grid;align-items:flex-start}.btn-sm-24[_ngcontent-%COMP%]{min-height:24px;line-height:normal!important;font-size:14px}.col-item-action[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{border:transparent;outline:none;background:transparent;color:#0278ff;padding:0!important;line-height:12px!important}.col-item-action[_ngcontent-%COMP%]{padding-top:33px}.col-item-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}@media screen and (min-width: 1400px){.ccl-filter-row[_ngcontent-%COMP%]   .col-item[_ngcontent-%COMP%]{width:11%}}  .custom-ng-multi .ng-select-container .ng-value-container .ng-value{position:relative;background-color:#dcecff!important;padding:2px 12px 2px 18px;border-radius:16px!important;font-weight:600!important;color:#0054b2!important;font-size:12px!important;line-height:15px;min-height:19px}  .custom-ng-multi.ng-select-multiple .ng-select-container .ng-value-container{width:calc(100% - 20px)}  .custom-ng-multi .ng-select-container .ng-value-container .ng-value .ng-value-label,   .custom-ng-multi .ng-select-container .ng-value-container .ng-value .ng-value-icon.left{padding:0!important;border:0!important}  .custom-ng-multi .ng-select-container .ng-value-container .ng-value .ng-value-icon.left{left:6px;top:2px;position:absolute}.ng-selected-label[_ngcontent-%COMP%]{line-height:18px;max-width:100%}.ng-value-placeholder[_ngcontent-%COMP%]{height:19px;margin-bottom:5px}.ng-selected-label[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:100%}input[_ngcontent-%COMP%]:disabled{cursor:not-allowed}it-works[_ngcontent-%COMP%]{z-index:9999}.hide-modal[_ngcontent-%COMP%]{display:none}.custom-inlne-modal[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 5px 15px #80808040;max-width:500px;padding:17px 20px;border-radius:26px;cursor:auto}.custom-inlne-modal[_ngcontent-%COMP%]   .sys-list-kbi[_ngcontent-%COMP%]{display:flex;border-top:1px solid #cccccc}.custom-inlne-modal[_ngcontent-%COMP%]   .sys-info-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:2px 0}.custom-size-large[_ngcontent-%COMP%]{max-width:530px!important}']}),e})()}];let Re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[l.Bz.forChild(ze)],l.Bz]}),e})();var We=i(77750),Xe=i(44466);let Ke=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[n.ez,Re,s.A0,a.u5,a.UX,o.T,We.r,Xe.m]]}),e})()},49319:function(e,t,i){i.r(t),i.d(t,{CcoHomeModule:function(){return de}});var n=i(38583),s=i(86640),o=i(39895),a=i(92340),l=i(35758),r=i(37716),c=i(91841),d=i(89097),g=i(7450),u=i(96855),p=i(1963),m=i(45834),h=i(65371),f=i(48483),v=i(12664),x=i(96045);const b=["GetStartedModal"];function A(e,t){if(1&e&&(r.TgZ(0,"div",4),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij(" ",e.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function Z(e,t){if(1&e&&(r.TgZ(0,"section",5),r.TgZ(1,"div",6),r.TgZ(2,"div",7),r.TgZ(3,"div",8),r.TgZ(4,"div",9),r._uU(5),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(5),r.Oqu(e.language.Home)}}function w(e,t){if(1&e&&(r.TgZ(0,"span",18),r._uU(1),r._UZ(2,"i",19),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij("+",e.outageInfo.percent,"% ")}}function y(e,t){if(1&e&&(r.TgZ(0,"span",20),r._uU(1),r._UZ(2,"i",21),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij("-",e.outageInfo.percent,"% ")}}function C(e,t){1&e&&(r.TgZ(0,"span",20),r._uU(1,"0% "),r.qZA())}function T(e,t){if(1&e&&(r.TgZ(0,"span",18),r._uU(1),r._UZ(2,"i",19),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij("+",e.PONCAPACITYpercent,"% ")}}function O(e,t){if(1&e&&(r.TgZ(0,"span",20),r._uU(1),r._UZ(2,"i",21),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij("",e.PONCAPACITYpercent,"% ")}}function _(e,t){1&e&&(r.TgZ(0,"span",20),r._uU(1,"0% "),r.qZA())}function I(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",12),r.TgZ(1,"div",13),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).gotoIssues()}),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.TgZ(4,"div",14),r.TgZ(5,"h3"),r._uU(6),r.qZA(),r.YNc(7,w,3,1,"span",15),r.YNc(8,y,3,1,"span",16),r.YNc(9,C,2,0,"span",16),r.qZA(),r.TgZ(10,"div",17),r._uU(11),r.qZA(),r.qZA(),r.TgZ(12,"div",13),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).gotoHealthPON()}),r.TgZ(13,"span"),r._uU(14),r.qZA(),r.TgZ(15,"div",14),r.TgZ(16,"h3"),r._uU(17),r.qZA(),r.YNc(18,T,3,1,"span",15),r.YNc(19,O,3,1,"span",16),r.YNc(20,_,2,0,"span",16),r.qZA(),r.TgZ(21,"div",17),r._uU(22),r.qZA(),r.qZA(),r.TgZ(23,"div",13),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).gotoSystem()}),r.TgZ(24,"span"),r._uU(25),r.qZA(),r.TgZ(26,"div",14),r.TgZ(27,"h3"),r._uU(28),r.qZA(),r.qZA(),r.TgZ(29,"div",17),r._uU(30),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(3),r.Oqu(e.language.Outages),r.xp6(3),r.Oqu(e.outageInfo.count),r.xp6(1),r.Q6J("ngIf",e.outageInfo.percent&&e.outageInfo.percent>0),r.xp6(1),r.Q6J("ngIf",e.outageInfo.percent<0),r.xp6(1),r.Q6J("ngIf",!e.outageInfo.percent),r.xp6(2),r.hij(" ",e.language.Past_24_hours,""),r.xp6(3),r.hij(" ",e.language["Pon Capacity Hits"],""),r.xp6(3),r.Oqu(e.PONCAPACITY?e.PONCAPACITY:0),r.xp6(1),r.Q6J("ngIf",e.PONCAPACITYpercent&&e.PONCAPACITYpercent>0),r.xp6(1),r.Q6J("ngIf",e.PONCAPACITYpercent<0),r.xp6(1),r.Q6J("ngIf",!e.PONCAPACITYpercent),r.xp6(2),r.hij(" ",e.language.Past_24_hours,""),r.xp6(3),r.hij("",e.language["Active Systems"]," "),r.xp6(3),r.Oqu(e.activeSystemsInfo.count),r.xp6(2),r.hij(" ",e.language.Past_24_hours,"")}}function S(e,t){1&e&&(r.TgZ(0,"a"),r._UZ(1,"i",26),r.qZA())}function M(e,t){if(1&e&&(r.TgZ(0,"span",18),r._uU(1),r.YNc(2,S,2,0,"a",25),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij("",e.activeper," "),r.xp6(1),r.Q6J("ngIf",!e.arrowactiveEnable)}}function q(e,t){1&e&&(r.TgZ(0,"a"),r._UZ(1,"i",27),r.qZA())}function P(e,t){if(1&e&&(r.TgZ(0,"span",20),r._uU(1),r.YNc(2,q,2,0,"a",25),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij("",e.activeper," "),r.xp6(1),r.Q6J("ngIf",!e.arrowactiveEnable)}}function N(e,t){1&e&&(r.TgZ(0,"a"),r._UZ(1,"i",26),r.qZA())}function k(e,t){if(1&e&&(r.TgZ(0,"span",18),r._uU(1),r.YNc(2,N,2,0,"a",25),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij("",e.preprovisionper," "),r.xp6(1),r.Q6J("ngIf",!e.arrowprovisionEnable)}}function D(e,t){1&e&&(r.TgZ(0,"a"),r._UZ(1,"i",27),r.qZA())}function F(e,t){if(1&e&&(r.TgZ(0,"span",20),r._uU(1),r.YNc(2,D,2,0,"a",25),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij("",e.preprovisionper," "),r.xp6(1),r.Q6J("ngIf",!e.arrowprovisionEnable)}}function U(e,t){1&e&&(r.TgZ(0,"a"),r._UZ(1,"i",26),r.qZA())}function L(e,t){if(1&e&&(r.TgZ(0,"span",18),r._uU(1),r.YNc(2,U,2,0,"a",25),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij("",e.unassociateper," "),r.xp6(1),r.Q6J("ngIf",!e.arrowunassoEnable)}}function E(e,t){1&e&&(r.TgZ(0,"a"),r._UZ(1,"i",27),r.qZA())}function Q(e,t){if(1&e&&(r.TgZ(0,"span",20),r.YNc(1,E,2,0,"a",25),r._uU(2),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",!e.arrowunassoEnable),r.xp6(1),r.hij("",e.unassociateper," ")}}function J(e,t){1&e&&(r.TgZ(0,"a"),r._UZ(1,"i",26),r.qZA())}function Y(e,t){if(1&e&&(r.TgZ(0,"span",18),r._uU(1),r.YNc(2,J,2,0,"a",25),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij("",e.commandIqper," "),r.xp6(1),r.Q6J("ngIf",!e.arrowcommandIqperEnable)}}function j(e,t){1&e&&(r.TgZ(0,"a"),r._UZ(1,"i",27),r.qZA())}function B(e,t){if(1&e&&(r.TgZ(0,"span",20),r.YNc(1,j,2,0,"a",25),r._uU(2),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",!e.arrowcommandIqperEnable),r.xp6(1),r.hij("",e.commandIqper," ")}}function V(e,t){1&e&&(r.TgZ(0,"a"),r._UZ(1,"i",26),r.qZA())}function H(e,t){if(1&e&&(r.TgZ(0,"span",18),r._uU(1),r.YNc(2,V,2,0,"a",25),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij("",e.edgeSuitper," "),r.xp6(1),r.Q6J("ngIf",!e.arrowedgeSuitperEnable)}}function G(e,t){1&e&&(r.TgZ(0,"a"),r._UZ(1,"i",27),r.qZA())}function $(e,t){if(1&e&&(r.TgZ(0,"span",20),r.YNc(1,G,2,0,"a",25),r._uU(2),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",!e.arrowedgeSuitperEnable),r.xp6(1),r.hij("",e.edgeSuitper," ")}}function z(e,t){if(1&e&&(r.TgZ(0,"div",12),r.TgZ(1,"div",22),r.TgZ(2,"span",23),r._uU(3),r.qZA(),r.TgZ(4,"div",24),r.TgZ(5,"h3"),r._uU(6),r.qZA(),r.YNc(7,M,3,2,"span",15),r.YNc(8,P,3,2,"span",16),r.qZA(),r.TgZ(9,"div",17),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"div",22),r.TgZ(12,"span",23),r._uU(13),r.qZA(),r.TgZ(14,"div",24),r.TgZ(15,"h3"),r._uU(16),r.qZA(),r.YNc(17,k,3,2,"span",15),r.YNc(18,F,3,2,"span",16),r.qZA(),r.TgZ(19,"div",17),r._uU(20),r.qZA(),r.qZA(),r.TgZ(21,"div",22),r.TgZ(22,"span",23),r._uU(23),r.qZA(),r.TgZ(24,"div",24),r.TgZ(25,"h3"),r._uU(26),r.qZA(),r.YNc(27,L,3,2,"span",15),r.YNc(28,Q,3,2,"span",16),r.qZA(),r.TgZ(29,"div",17),r._uU(30),r.qZA(),r.qZA(),r.TgZ(31,"div",22),r.TgZ(32,"span",23),r._uU(33),r.qZA(),r.TgZ(34,"div",24),r.TgZ(35,"h3"),r._uU(36),r.qZA(),r.YNc(37,Y,3,2,"span",15),r.YNc(38,B,3,2,"span",16),r.qZA(),r.TgZ(39,"div",17),r._uU(40),r.qZA(),r.qZA(),r.TgZ(41,"div",22),r.TgZ(42,"span",23),r._uU(43),r.qZA(),r.TgZ(44,"div",24),r.TgZ(45,"h3"),r._uU(46),r.qZA(),r.YNc(47,H,3,2,"span",15),r.YNc(48,$,3,2,"span",16),r.qZA(),r.TgZ(49,"div",17),r._uU(50),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(3),r.Oqu(e.language["Active Systems"]),r.xp6(3),r.Oqu(e.active),r.xp6(1),r.Q6J("ngIf",e.arrowPositive),r.xp6(1),r.Q6J("ngIf",!e.arrowPositive),r.xp6(2),r.hij(" ",e.language.Past_24_hours,""),r.xp6(3),r.Oqu(e.language["Pre-Provisioned Systems"]),r.xp6(3),r.Oqu(e.preprovision),r.xp6(1),r.Q6J("ngIf",e.arrowPositivepro),r.xp6(1),r.Q6J("ngIf",!e.arrowPositivepro),r.xp6(2),r.hij(" ",e.language.Past_24_hours,""),r.xp6(3),r.Oqu(e.language.Unassociated_System),r.xp6(3),r.Oqu(e.unassociate),r.xp6(1),r.Q6J("ngIf",e.arrowPositiveunasso),r.xp6(1),r.Q6J("ngIf",!e.arrowPositiveunasso),r.xp6(2),r.hij(" ",e.language.Past_24_hours,""),r.xp6(3),r.Oqu(e.language["CommandIQ Subscribers"]),r.xp6(3),r.Oqu(e.commandIQ),r.xp6(1),r.Q6J("ngIf",e.arrowPositivecommand),r.xp6(1),r.Q6J("ngIf",!e.arrowPositivecommand),r.xp6(2),r.hij(" ",e.language.Past_24_hours,""),r.xp6(3),r.Oqu(e.language["EDGE Suite Subscribers"]),r.xp6(3),r.Oqu(e.edgeSuit),r.xp6(1),r.Q6J("ngIf",e.arrowPositiveedge),r.xp6(1),r.Q6J("ngIf",!e.arrowPositiveedge),r.xp6(2),r.hij(" ",e.language.Past_24_hours,"")}}function R(e,t){if(1&e&&(r.TgZ(0,"section",5),r.TgZ(1,"div",6),r.TgZ(2,"div",10),r.YNc(3,I,31,15,"div",11),r.YNc(4,z,51,25,"div",11),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(3),r.Q6J("ngIf",e.network_trends&&e.menus.network),r.xp6(1),r.Q6J("ngIf",e.system_trends&&e.menus.system)}}const W=function(){return["./network-trends"]};function X(e,t){if(1&e&&(r.TgZ(0,"li",35),r.TgZ(1,"a",36),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("routerLink",r.DdM(2,W)),r.xp6(1),r.hij(" ",e.language["Network Trends"]," ")}}const K=function(){return["./system-service-trends"]};function ee(e,t){if(1&e&&(r.TgZ(0,"li",35),r.TgZ(1,"a",36),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("routerLink",r.DdM(2,K)),r.xp6(1),r.hij(" ",e.language.Subscriber_Trends," ")}}const te=function(){return["./active-systems-geomap"]};function ie(e,t){if(1&e&&(r.TgZ(0,"li",35),r.TgZ(1,"a",36),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("routerLink",r.DdM(2,te)),r.xp6(1),r.hij(" ",e.language["Active GeoMap"]||"Active GeoMap"," ")}}function ne(e,t){if(1&e&&(r.TgZ(0,"section",28),r.TgZ(1,"div",6),r.TgZ(2,"div",29),r.TgZ(3,"div",30),r.TgZ(4,"div",31),r.TgZ(5,"ul",32),r.YNc(6,X,3,3,"li",33),r.YNc(7,ee,3,3,"li",33),r.YNc(8,ie,3,3,"li",33),r.qZA(),r.qZA(),r.qZA(),r._UZ(9,"div",34),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(6),r.Q6J("ngIf",e.menus.network),r.xp6(1),r.Q6J("ngIf",e.menus.system),r.xp6(1),r.Q6J("ngIf",e.menus.geomap)}}const se=[{path:"",component:(()=>{class e{constructor(e,t,i,n,s,o,a,l,r,c,d){var g,u;this.http=e,this.router=t,this.sso=i,this.translateService=n,this.chartOptionService=s,this.foundationHome=o,this.ccochatservice=a,this.systemserive=l,this.dateUtils=r,this.modalService=c,this.api=d,this.filterDays="7",this.menus={network:!1,system:!1,geomap:!1},this.PONCAPACITY=0,this.network_trends=!1,this.system_trends=!1,this.hasScopeAccess=!1,this.pPONCAPACITY=0,this.PONCAPACITYpercent=0,this.hasPageAccess=!0,this.HideModel=!1,this.outageInfo={count:0,percent:0},this.activeSystemsInfo={count:0,percent:0},this.ORG_ID=this.sso.getOrgId(),this.filterDays=(null===(g=this.chartOptionService)||void 0===g?void 0:g.filterDays)?null===(u=this.chartOptionService)||void 0===u?void 0:u.filterDays:"7"}ngOnInit(){this.HideModel=!!window.localStorage.getItem("HideModel"),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e}),this.pageAcceesObs=this.sso.hasPageAccess$.subscribe(e=>{this.hasPageAccess=!!e.access});let e=this.sso.getScopes();if(a.N.VALIDATE_SCOPE){let t=Object.keys(e);if(t){for(let e=0;e<t.length;e++)-1===t[e].indexOf("cloud.rbac.coc.insights.networktrends")?-1===t[e].indexOf("cloud.rbac.coc.insights.subscribersystems")?-1===t[e].indexOf("cloud.rbac.coc.insights.activdevicesgeomap")||(this.menus.geomap=!0):this.menus.system=!0:this.menus.network=!0;(this.menus.network||this.menus.system||this.menus.geomap)&&(this.hasScopeAccess=!0)}}else this.menus={network:!0,system:!0,geomap:!0},this.hasScopeAccess=!0;this.setFilterDays(),this.systemStatusSubs=this.chartOptionService.systemStatusData$.subscribe(e=>{e&&this.systemStatusKPI(e)})}poncapcitycount(){let e=new Date;this.FromDate=new Date(e.getTime()-864e5);let t=new Date(e.getTime()-1728e5),i=`tenant=0&granularity=15min&groupBy=region&startTime=${this.startISODate(this.FromDate,!1)}&endTime=${this.startISODate(e,!0)}`,n=`tenant=0&granularity=15min&groupBy=region&startTime=${this.startISODate(t,!1)}&endTime=${this.startISODate(this.FromDate,!0)}`;(0,l.D)([this.ponutilizationchart=this.ccochatservice.Getutilizationthresholdexceededcount(i,"pon"),this.ponutilizationchart=this.ccochatservice.Getutilizationthresholdexceededcount(n,"pon")]).subscribe(e=>{if(e[0]){let t=[];t=Object.values(e[0]),t.forEach(e=>{e.dsUtilExcCnt&&"undefined"!=e.dsUtilExcCnt&&(this.PONCAPACITY=this.PONCAPACITY+e.dsUtilExcCnt),e.usUtilExcCnt&&"undefined"!=e.usUtilExcCnt&&(this.PONCAPACITY=this.PONCAPACITY+e.usUtilExcCnt)})}if(e[1]){let t=[];t=Object.values(e[1]),t.forEach(e=>{e.dsUtilExcCnt&&"undefined"!=e.dsUtilExcCnt&&(this.pPONCAPACITY=this.pPONCAPACITY+e.dsUtilExcCnt),e.usUtilExcCnt&&"undefined"!=e.usUtilExcCnt&&(this.pPONCAPACITY=this.pPONCAPACITY+e.usUtilExcCnt)})}this.PONCAPACITY&&this.pPONCAPACITY&&(this.PONCAPACITYpercent=(this.PONCAPACITY-this.pPONCAPACITY)/this.pPONCAPACITY*100,Number.isInteger(this.PONCAPACITYpercent)||(this.PONCAPACITYpercent=this.PONCAPACITYpercent.toFixed(2)))})}ngOnDestroy(){this.chartOptionService.setFilterDays("7"),this.pageAcceesObs&&this.pageAcceesObs.unsubscribe(),this.languageSubject&&this.languageSubject.unsubscribe(),this.systemStatusSubs&&this.systemStatusSubs.unsubscribe(),this.getSystemSubs&&this.getSystemSubs.unsubscribe()}setFilterDays(){this.chartOptionService.setFilterDays(this.filterDays)}systemStatusKPI(e){this.active=(null==e?void 0:e.active).toLocaleString(),this.preProvision=(null==e?void 0:e.preprovision).toLocaleString(),this.unAssociate=(null==e?void 0:e.unassociate).toLocaleString(),"0"==(null==e?void 0:e.preprovisionper)?(this.arrowProvisionEnable=!1,this.preProvisionPer="0%"):this.arrowProvisionEnable=!0,"0"==(null==e?void 0:e.activeper)?(this.arrowActiveEnable=!1,this.activePer="0%"):this.arrowActiveEnable=!0,"0"==(null==e?void 0:e.unassociateper)?(this.arrowUnassoEnable=!1,this.unAssociatePer="0%"):this.arrowUnassoEnable=!0,"+"==(null==e?void 0:e.positiveOrNegative)&&"0"!=(null==e?void 0:e.preprovisionper)?(this.preProvisionPer=(null==e?void 0:e.preprovisionper)+"%",this.arrowPositivePro=!0):(this.preProvisionPer=(null==e?void 0:e.preprovisionper)+"%",this.arrowPositivePro=!1),"+"==(null==e?void 0:e.positiveOrNegativeactive)&&"0"!=(null==e?void 0:e.activeper)?(this.activePer=(null==e?void 0:e.activeper)?(null==e?void 0:e.activeper)+"%":"0%",this.arrowPositive=!0):(this.activePer=(null==e?void 0:e.activeper)?(null==e?void 0:e.activeper)+"%":"0%",this.arrowPositive=!1),"+"==(null==e?void 0:e.positiveOrNegativeunassociate)&&"0"!=(null==e?void 0:e.unassociateper)?(this.unAssociatePer=(null==e?void 0:e.unassociateper)?(null==e?void 0:e.unassociateper)+"%":"0%",this.arrowPositiveUnasso=!0):(this.unAssociatePer=(null==e?void 0:e.unassociateper)?(null==e?void 0:e.unassociateper)+"%":"0%",this.arrowPositiveUnasso=!1)}loadSystemStatusData(){this.getSystemSubs=this.foundationHome.getSystemstatusChartData(this.ORG_ID,1).subscribe(e=>{this.chartDataModify(e)},e=>{})}chartDataModify(e){let t=[],i=[],n=[],s=[],o=[];(e=this.chartOptionService.sortByTimestamp(e,"time")).forEach(e=>{s.push(e.time),e.active=e.active?e.active:0,e.preprovision=e.preprovision?e.preprovision:0,e.offline=e.offline?e.offline:0,e.unassociate=e.unassociate?e.unassociate:0,t.push(parseInt(e.active)),i.push(parseInt(e.preprovision)),n.push(e.offline),o.push(e.unassociate)});let a=s.length-1,l=s.length-2,r=i[a],c=i[l],d=t[a],g=t[l],u=o[a],p=o[l],m="",h="",f="";m=0===c&&0!=r?"100":"0.00"==this.chartOptionService.setpercentage(r,c,2)?"0":this.chartOptionService.setpercentage(r,c,0),h=0==g&&0!=d?"100":"0.00"==this.chartOptionService.setpercentage(d,g,2)?"0":this.chartOptionService.setpercentage(d,g,0),f=0==p&&0!=u?"100":"0.00"==this.chartOptionService.setpercentage(u,p,2)?"0":this.chartOptionService.setpercentage(u,p,0);let v={preprovision:null==r?0:r,active:null==d?0:d,unassociate:null==u?0:u,preprovisionper:Math.abs("NaN"==m?0:m),activeper:Math.abs("NaN"==h?0:h),unassociateper:Math.abs("NaN"==f?0:f),positiveOrNegative:this.chartOptionService.checkPositvNegativ(m),positiveOrNegativeactive:this.chartOptionService.checkPositvNegativ(h),positiveOrNegativeunassociate:this.chartOptionService.checkPositvNegativ(f)};setTimeout(()=>{this.OnFormData(v),this.chartOptionService.setSystemStatusData(v)},50)}OnFormData(e){this.FormData=e,this.active=this.FormData.active.toLocaleString(),this.preprovision=this.FormData.preprovision.toLocaleString(),this.unassociate=this.FormData.unassociate.toLocaleString(),"0"==this.FormData.preprovisionper?(this.arrowprovisionEnable=!0,this.preprovisionper="0%"):this.arrowprovisionEnable=!1,"0"==this.FormData.activeper?(this.arrowactiveEnable=!0,this.activeper="0%"):this.arrowactiveEnable=!1,"0"==this.FormData.unassociateper?(this.arrowunassoEnable=!0,this.unassociateper="0%"):this.arrowunassoEnable=!1,"+"==e.positiveOrNegative?(this.preprovisionper=this.FormData.preprovisionper+"%",this.arrowPositivepro=!0):(this.preprovisionper=this.FormData.preprovisionper+"%",this.arrowPositivepro=!1),"+"==e.positiveOrNegativeactive?(this.activeper=this.FormData.activeper?this.FormData.activeper+"%":"0%",this.arrowPositive=!0):(this.activeper=this.FormData.activeper?this.FormData.activeper+"%":"0%",this.arrowPositive=!1),"+"==e.positiveOrNegativeunassociate?(this.unassociateper=this.FormData.unassociateper?this.FormData.unassociateper+"%":"0%",this.arrowPositiveunasso=!0):(this.unassociateper=this.FormData.unassociateper?this.FormData.unassociateper+"%":"0%",this.arrowPositiveunasso=!1)}startISODate(e,t){if(null==e)return;let i,n=new Date(e),s=n.getFullYear(),o=`${n.getMonth()+1}`,a=`${n.getDate()}`;return o.length<2&&(o=`0${o}`),a.length<2&&(a=`0${a}`),i=t?`${s}-${o}-${a}T23:59:00Z`:`${s}-${o}-${a}T00:00:00Z`,i}on_CommandIQdata(e){this.commandIQ=(null==e?void 0:e.commandIq)?e.commandIq.toLocaleString():"0","0"==e.commandIqper?(this.arrowcommandIqperEnable=!0,this.commandIqper="0%"):this.arrowcommandIqperEnable=!1,"+"==e.positiveOrNegative?(this.commandIqper=e.commandIqper+"%",this.arrowPositivecommand=!0):(this.commandIqper=e.commandIqper+"%",this.arrowPositivecommand=!1)}on_edgesuitData(e){this.edgeSuit=e.edgeSuit?e.edgeSuit.toLocaleString():"0","0"==e.edgeSuitper?(this.arrowedgeSuitperEnable=!0,this.edgeSuitper="0%"):this.arrowedgeSuitperEnable=!1,"+"==e.positiveOrNegative?(this.edgeSuitper=e.edgeSuitper+"%",this.arrowPositiveedge=!0):(this.edgeSuitper=e.edgeSuitper+"%",this.arrowPositiveedge=!1)}gotoIssues(){this.router.navigate(["/cco/alerts/system/active-reports"])}gotoHealthPON(){this.router.navigate(["/cco/health/pon-utilization/overview/basic"])}gotoSystem(){this.router.navigate(["/cco/system/cco-network-system/system-table-view"])}getOutagesInfo(){let e={startEpochTime:this.dateUtils.getStartUtcTimeByDays(0)-864e5,endEpochTime:this.dateUtils.getStartUtcTimeByDays(0),interval:"Hours"},t="";for(var i in e)null!=e[i]&&(""!=t&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));this.http.get(`${a.N.API_BASE_URL}analytics-engine/alarmByName?${t}&alarmEventName=loss-of-pon`).subscribe(e=>{if(e&&e.length){let t=0;e.forEach(e=>{t+=e.count}),this.outageInfo.count=t,this.outageInfo.percent=(t-e[0].count)/e[0].count*100,isNaN(this.outageInfo.percent)&&(this.outageInfo.percent=0)}})}getActiveSystemsInfo(){this.http.get(`${a.N.API_BASE_URL}nfa/systems/count`).subscribe(e=>{e&&e.count&&(this.activeSystemsInfo.count=e.count,isNaN(this.activeSystemsInfo.percent)&&(this.activeSystemsInfo.percent=0))})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(c.eN),r.Y36(o.F0),r.Y36(d.t6),r.Y36(g.s),r.Y36(u.a),r.Y36(p.h),r.Y36(m.C),r.Y36(h.D),r.Y36(f.s),r.Y36(v.FF),r.Y36(x.A))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-cco-home"]],viewQuery:function(e,t){if(1&e&&r.Gf(b,7),2&e){let e;r.iGM(e=r.CRH())&&(t.GetStartedModal=e.first)}},decls:6,vars:5,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],["class","",4,"ngIf"],["class","mb-3",4,"ngIf"],[3,"hidden"],["role","alert",1,"alert","alert-warning"],[1,""],[1,"container"],[1,"row","align-items-center"],[1,"col-6","col-sm-6","col-md-8","justify-content-start","pl-0"],[1,"cco-title"],[1,"row"],["class","test-container",4,"ngIf"],[1,"test-container"],[1,"item","pointer",3,"click"],[1,"d-flex","align-content-around","flex-wrap"],["class","sub-menu-list-icon",4,"ngIf"],["class","sub-menu-list-icon2",4,"ngIf"],[1,"past-hours"],[1,"sub-menu-list-icon"],["aria-hidden","true",1,"fa","fa-arrow-right","gly-rotate-90"],[1,"sub-menu-list-icon2"],["aria-hidden","true",1,"fa","fa-arrow-right","gly-rotate-45"],[1,"item"],[1,"cco-list-label"],[1,"d-flex"],[4,"ngIf"],[1,"fa","fa-arrow-right","gly-rotate-90"],[1,"fa","fa-arrow-right","gly-rotate-45"],[1,"mb-3"],[1,"row","mt-1"],[1,"col-md-10","px-0"],[1,"ccl-tabs","w-100"],["id","tabs",1,"nav","nav-tabs"],["class","nav-item",4,"ngIf"],[1,"col-12","col-md-2","pr-0","pl-0",2,"border-bottom","2px solid #cccccc"],[1,"nav-item"],["href","javascript:void(0)","data-toggle","tab","routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(e,t){1&e&&(r.YNc(0,A,2,1,"div",0),r.YNc(1,Z,6,1,"section",1),r.YNc(2,R,5,2,"section",1),r.YNc(3,ne,10,3,"section",2),r.TgZ(4,"div",3),r._UZ(5,"router-outlet"),r.qZA()),2&e&&(r.Q6J("ngIf",!t.hasPageAccess),r.xp6(1),r.Q6J("ngIf",t.hasPageAccess),r.xp6(1),r.Q6J("ngIf",t.hasPageAccess),r.xp6(1),r.Q6J("ngIf",t.hasPageAccess),r.xp6(1),r.Q6J("hidden",!t.hasPageAccess))},directives:[n.O5,o.lC,o.yS,o.Od],styles:[".sub-menu[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:start;width:100%}.sub-menu-list[_ngcontent-%COMP%]{flex:0 23%;margin:11px;border-left:3px solid #e2e2e2;padding:10px 10px 10px 20px}.sub-menu-list-icon[_ngcontent-%COMP%]{font-weight:400;padding:5px 10px;border-radius:15px;font-size:15px;line-height:24px;color:#507500}.sub-menu-list-icon2[_ngcontent-%COMP%]{font-weight:400;border-radius:15px;font-size:15px;line-height:24px;color:#c70000;position:relative;padding:5px 10px 5px 22px}.gly-rotate-45[_ngcontent-%COMP%]{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=.5);transform:rotate(45deg);color:#c70000}.gly-rotate-90[_ngcontent-%COMP%]{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=.5);transform:rotate(-66deg);color:#82bf00}.test-container[_ngcontent-%COMP%]{display:flex;width:100%}.item[_ngcontent-%COMP%]{border-left:1px solid #cdcdcd;padding-left:10px;width:15%}.item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:2%}.menu-info[_ngcontent-%COMP%]{display:flex;width:100%}.subscriber-trends-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.subscriber-trends-item[_ngcontent-%COMP%]{flex-grow:1;width:calc(100% / 3)}.subscriber-trends-item[_ngcontent-%COMP%] + .subscriber-trends-item[_ngcontent-%COMP%]{margin-left:5%}.system-service-trends-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.system-service-trends-item[_ngcontent-%COMP%]{flex-grow:1;width:calc(100% / 3)}.system-service-trends-item[_ngcontent-%COMP%] + .system-service-trends-item[_ngcontent-%COMP%]{margin-left:5%}.red[_ngcontent-%COMP%]{color:#c70000}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:30px!important;color:#0054b2!important;line-height:32px!important;margin-bottom:0!important;font-weight:300}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#1a1f22;font-size:14px;line-height:16.4px}.cco-secondary-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}@media screen and (max-width: 767px){.test-container[_ngcontent-%COMP%]{display:block}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex-grow:1;border-left:3px solid #cdcdcd;padding-left:20px;width:100%;margin-left:0;margin-top:10px}.custom-selectbox[_ngcontent-%COMP%]{margin:10px 0}}.past-hours[_ngcontent-%COMP%]{color:#9e9e9e;font-size:12px;font-weight:400;line-height:12px}"]}),e})(),children:[{path:"network-trends",loadChildren:()=>i.e(7867).then(i.bind(i,37867)).then(e=>e.NetworkTrendsModule)},{path:"system-service-trends",loadChildren:()=>Promise.resolve().then(i.bind(i,69695)).then(e=>e.SystemServiceTrendsModule)},{path:"active-systems-geomap",loadChildren:()=>Promise.resolve().then(i.bind(i,15687)).then(e=>e.ActiveDevicesGeomapModule)},{path:"operations",loadChildren:()=>i.e(4246).then(i.bind(i,14246)).then(e=>e.OperationsModule)},{path:"",redirectTo:"network-trends",pathMatch:"full"}]}];let oe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[o.Bz.forChild(se)],o.Bz]}),e})();var ae=i(3679),le=i(69695),re=i(15687),ce=i(77750);let de=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[n.ez,s.A0,oe,ae.u5,le.SystemServiceTrendsModule,re.ActiveDevicesGeomapModule,ce.r]]}),e})()},69695:function(e,t,i){i.r(t),i.d(t,{SystemServiceTrendsModule:function(){return ge}});var n=i(38583),s=i(39895),o=i(37716),a=i(92340),l=i(7450),r=i(65371),c=i(89097),d=i(96855),g=i(39075),u=i(86640),p=i(3679),m=i(695),h=i(69676),f=i(63158),v=i(8983),x=i(31738),b=i(39886);function A(e,t){if(1&e&&(o.TgZ(0,"div",15),o._uU(1),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.hij(" ",e.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function Z(e,t){1&e&&(o.TgZ(0,"a"),o._UZ(1,"i",25),o.qZA())}function w(e,t){if(1&e&&(o.TgZ(0,"span",23),o._uU(1),o.YNc(2,Z,2,0,"a",24),o.qZA()),2&e){const e=o.oxw(3);o.xp6(1),o.hij("",e.activeper," "),o.xp6(1),o.Q6J("ngIf",!e.arrowactiveEnable)}}function y(e,t){1&e&&(o.TgZ(0,"a"),o._UZ(1,"i",27),o.qZA())}function C(e,t){if(1&e&&(o.TgZ(0,"span",26),o._uU(1),o.YNc(2,y,2,0,"a",24),o.qZA()),2&e){const e=o.oxw(3);o.xp6(1),o.hij("",e.activeper," "),o.xp6(1),o.Q6J("ngIf",!e.arrowactiveEnable)}}function T(e,t){if(1&e&&(o.TgZ(0,"div",20),o.TgZ(1,"h3"),o._uU(2),o.qZA(),o.YNc(3,w,3,2,"span",21),o.YNc(4,C,3,2,"span",22),o.qZA()),2&e){const e=o.oxw(2);o.xp6(2),o.Oqu(e.active),o.xp6(1),o.Q6J("ngIf",e.arrowPositive),o.xp6(1),o.Q6J("ngIf",!e.arrowPositive)}}function O(e,t){1&e&&(o.TgZ(0,"div",20),o.TgZ(1,"h3"),o._uU(2,"0"),o.qZA(),o.TgZ(3,"span",23),o._uU(4,"0% "),o.qZA(),o.qZA())}function _(e,t){if(1&e&&(o.TgZ(0,"div",16),o.TgZ(1,"span",17),o._uU(2),o.qZA(),o.YNc(3,T,5,3,"div",18),o.YNc(4,O,5,0,"div",18),o.TgZ(5,"div",19),o._uU(6),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Oqu(e.language["Active Systems"]),o.xp6(1),o.Q6J("ngIf",e.FormData),o.xp6(1),o.Q6J("ngIf",!e.FormData),o.xp6(2),o.hij(" ",e.language.Past_24_hours,"")}}function I(e,t){1&e&&(o.TgZ(0,"a"),o._UZ(1,"i",25),o.qZA())}function S(e,t){if(1&e&&(o.TgZ(0,"span",23),o.YNc(1,I,2,0,"a",24),o._uU(2),o.qZA()),2&e){const e=o.oxw(3);o.xp6(1),o.Q6J("ngIf",!e.arrowprovisionEnable),o.xp6(1),o.hij("",e.preprovisionper," ")}}function M(e,t){1&e&&(o.TgZ(0,"a"),o._UZ(1,"i",27),o.qZA())}function q(e,t){if(1&e&&(o.TgZ(0,"span",26),o.YNc(1,M,2,0,"a",24),o._uU(2),o.qZA()),2&e){const e=o.oxw(3);o.xp6(1),o.Q6J("ngIf",!e.arrowprovisionEnable),o.xp6(1),o.hij("",e.preprovisionper," ")}}function P(e,t){if(1&e&&(o.TgZ(0,"div",20),o.TgZ(1,"h3"),o._uU(2),o.qZA(),o.YNc(3,S,3,2,"span",21),o.YNc(4,q,3,2,"span",22),o.qZA()),2&e){const e=o.oxw(2);o.xp6(2),o.Oqu(e.preprovision),o.xp6(1),o.Q6J("ngIf",e.arrowPositivepro),o.xp6(1),o.Q6J("ngIf",!e.arrowPositivepro)}}function N(e,t){1&e&&(o.TgZ(0,"div",20),o.TgZ(1,"h3"),o._uU(2,"0"),o.qZA(),o.TgZ(3,"span",23),o._uU(4,"0% "),o.qZA(),o.qZA())}function k(e,t){if(1&e&&(o.TgZ(0,"div",16),o.TgZ(1,"span",28),o._uU(2),o.qZA(),o.YNc(3,P,5,3,"div",18),o.YNc(4,N,5,0,"div",18),o.TgZ(5,"div",19),o._uU(6),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij(" ",e.language["Pre-Provisioned Systems"],""),o.xp6(1),o.Q6J("ngIf",e.FormData),o.xp6(1),o.Q6J("ngIf",!e.FormData),o.xp6(2),o.hij(" ",e.language.Past_24_hours,"")}}function D(e,t){1&e&&(o.TgZ(0,"a"),o._UZ(1,"i",25),o.qZA())}function F(e,t){if(1&e&&(o.TgZ(0,"span",23),o._uU(1),o.YNc(2,D,2,0,"a",24),o.qZA()),2&e){const e=o.oxw(3);o.xp6(1),o.hij("",e.unassociateper," "),o.xp6(1),o.Q6J("ngIf",!e.arrowunassoEnable)}}function U(e,t){1&e&&(o.TgZ(0,"a"),o._UZ(1,"i",27),o.qZA())}function L(e,t){if(1&e&&(o.TgZ(0,"span",26),o.YNc(1,U,2,0,"a",24),o._uU(2),o.qZA()),2&e){const e=o.oxw(3);o.xp6(1),o.Q6J("ngIf",!e.arrowunassoEnable),o.xp6(1),o.hij("",e.unassociateper," ")}}function E(e,t){if(1&e&&(o.TgZ(0,"div",20),o.TgZ(1,"h3"),o._uU(2),o.qZA(),o.YNc(3,F,3,2,"span",21),o.YNc(4,L,3,2,"span",22),o.qZA()),2&e){const e=o.oxw(2);o.xp6(2),o.Oqu(e.unassociate),o.xp6(1),o.Q6J("ngIf",e.arrowPositiveunasso),o.xp6(1),o.Q6J("ngIf",!e.arrowPositiveunasso)}}function Q(e,t){1&e&&(o.TgZ(0,"div",20),o.TgZ(1,"h3"),o._uU(2,"0"),o.qZA(),o.TgZ(3,"span",23),o._uU(4,"0% "),o.qZA(),o.qZA())}function J(e,t){if(1&e&&(o.TgZ(0,"div",16),o.TgZ(1,"span",29),o._uU(2),o.qZA(),o.YNc(3,E,5,3,"div",18),o.YNc(4,Q,5,0,"div",18),o.TgZ(5,"div",19),o._uU(6),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Oqu(e.language.Unassociated_System),o.xp6(1),o.Q6J("ngIf",e.FormData),o.xp6(1),o.Q6J("ngIf",!e.FormData),o.xp6(2),o.hij(" ",e.language.Past_24_hours,"")}}function Y(e,t){1&e&&(o.TgZ(0,"a"),o._UZ(1,"i",25),o.qZA())}function j(e,t){if(1&e&&(o.TgZ(0,"span",23),o._uU(1),o.YNc(2,Y,2,0,"a",24),o.qZA()),2&e){const e=o.oxw(3);o.xp6(1),o.hij("",e.commandIqper," "),o.xp6(1),o.Q6J("ngIf",!e.arrowcommandIqperEnable)}}function B(e,t){1&e&&(o.TgZ(0,"a"),o._UZ(1,"i",27),o.qZA())}function V(e,t){if(1&e&&(o.TgZ(0,"span",26),o.YNc(1,B,2,0,"a",24),o._uU(2),o.qZA()),2&e){const e=o.oxw(3);o.xp6(1),o.Q6J("ngIf",!e.arrowcommandIqperEnable),o.xp6(1),o.hij("",e.commandIqper," ")}}function H(e,t){if(1&e&&(o.TgZ(0,"div",20),o.TgZ(1,"h3"),o._uU(2),o.qZA(),o.YNc(3,j,3,2,"span",21),o.YNc(4,V,3,2,"span",22),o.qZA()),2&e){const e=o.oxw(2);o.xp6(2),o.Oqu(e.commandIQ),o.xp6(1),o.Q6J("ngIf",e.arrowPositivecommand),o.xp6(1),o.Q6J("ngIf",!e.arrowPositivecommand)}}function G(e,t){1&e&&(o.TgZ(0,"div",20),o.TgZ(1,"h3"),o._uU(2,"0"),o.qZA(),o.TgZ(3,"span",23),o._uU(4,"0% "),o.qZA(),o.qZA())}function $(e,t){if(1&e&&(o.TgZ(0,"div",16),o.TgZ(1,"span",30),o._uU(2),o.qZA(),o.YNc(3,H,5,3,"div",18),o.YNc(4,G,5,0,"div",18),o.TgZ(5,"div",19),o._uU(6),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij(" ",e.smallBizIQentitlement?e.language["CommandIQ & CommandWorx Subscribers"]:e.language["CommandIQ Subscribers"],""),o.xp6(1),o.Q6J("ngIf",e.commandIQvalue),o.xp6(1),o.Q6J("ngIf",!e.commandIQvalue),o.xp6(2),o.hij(" ",e.language.Past_24_hours,"")}}function z(e,t){1&e&&(o.TgZ(0,"a"),o._UZ(1,"i",25),o.qZA())}function R(e,t){if(1&e&&(o.TgZ(0,"span",23),o._uU(1),o.YNc(2,z,2,0,"a",24),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij("",e.edgeSuitper," "),o.xp6(1),o.Q6J("ngIf",!e.arrowedgeSuitperEnable)}}function W(e,t){1&e&&(o.TgZ(0,"a"),o._UZ(1,"i",27),o.qZA())}function X(e,t){if(1&e&&(o.TgZ(0,"span",26),o.YNc(1,W,2,0,"a",24),o._uU(2),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!e.arrowedgeSuitperEnable),o.xp6(1),o.hij("",e.edgeSuitper," ")}}function K(e,t){if(1&e&&(o.TgZ(0,"div",16),o.TgZ(1,"span",31),o._uU(2),o.qZA(),o.TgZ(3,"div",20),o.TgZ(4,"h3"),o._uU(5),o.qZA(),o.YNc(6,R,3,2,"span",21),o.YNc(7,X,3,2,"span",22),o.qZA(),o.TgZ(8,"div",19),o._uU(9),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij(" ",e.language["Managed Services Subscriptions"]," "),o.xp6(3),o.Oqu(e.edgeSuit),o.xp6(1),o.Q6J("ngIf",e.arrowPositiveedge),o.xp6(1),o.Q6J("ngIf",!e.arrowPositiveedge),o.xp6(2),o.hij(" ",e.language.Past_24_hours,"")}}function ee(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",32),o.TgZ(1,"div",33),o.TgZ(2,"span",34),o._uU(3),o.qZA(),o.qZA(),o.TgZ(4,"app-system-status",35),o.NdJ("Out_sysStatus",function(t){return o.CHM(e),o.oxw().OnFormData(t)}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(3),o.hij(" RG ",e.language["Systems Status"],"")}}function te(e,t){if(1&e&&(o.TgZ(0,"div",32),o.TgZ(1,"div",36),o._uU(2),o.qZA(),o._UZ(3,"app-systems-by-type"),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.AsE(" ",e.language["RG/Mesh"]," ",e.language.System_by_Type," ")}}function ie(e,t){if(1&e&&(o.TgZ(0,"div",32),o.TgZ(1,"div",37),o._uU(2),o.qZA(),o._UZ(3,"app-subscribers-system-model"),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.AsE(" ",e.language["RG/Mesh"]," ",e.language["Systems by Model"]," ")}}function ne(e,t){if(1&e&&(o.TgZ(0,"div",32),o.TgZ(1,"div",38),o._uU(2),o.qZA(),o._UZ(3,"app-mycommunity-iq"),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.s9C("title",e.language["Systems by Managed Services"]),o.xp6(1),o.hij(" ",e.language["Systems by Managed Services"]," ")}}function se(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",32),o.TgZ(1,"div",39),o._uU(2),o.qZA(),o.TgZ(3,"app-command-iq-status",40),o.NdJ("Out_commandIQ",function(t){return o.CHM(e),o.oxw().on_CommandIQdata(t)}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.s9C("title",e.smallBizIQentitlement?e.language["Subscribers with CommandIQ and CommandWorx"]:e.language["Subscribers with CommandIQ"]),o.xp6(1),o.hij(" ",e.smallBizIQentitlement?e.language["Subscribers with CommandIQ and CommandWorx"]:e.language["Subscribers with CommandIQ"]," ")}}function oe(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",32),o.TgZ(1,"div",41),o._uU(2),o.qZA(),o.TgZ(3,"app-revenue-edge-iqsuites",42),o.NdJ("Out_EdgeSuitIQ",function(t){return o.CHM(e),o.oxw().on_edgesuitiqData(t)}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.s9C("title",e.language["Subscribers with Managed Services"]),o.xp6(1),o.hij(" ",e.language["Subscribers with Managed Services"]," ")}}const ae=[{path:"",component:(()=>{class e{constructor(e,t,i,n,s,a,l){this.translateService=e,this.router=t,this.systemserive=i,this.service=n,this.sso=s,this.chartOptionService=a,this.titleService=l,this.Out_sysStatus=new o.vpe,this.filterDays="7",this.menus={systemstatus:!1,systemtype:!1,systemmodel:!1,cmndiqstatus:!1,revedgesuitestatus:!1,revedgesuiteecosystemstatus:!1,systembyrevenueedgeiqsuites:!1},this.hasScopeAccess=!1,this.getEdgeSuiteEntitlement(),this.MODULE=this.getRedirectModule(this.router.url),this.systemserive.CommandIQdata.subscribe(e=>{this.on_CommandIQdata(e)})}ngOnInit(){this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.titleService.setTitle(`${this.language.Subscriber_Trends} - ${this.language.Home} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`${this.language.Subscriber_Trends} - ${this.language.Home} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`);let e=this.sso.getScopes();if(a.N.VALIDATE_SCOPE){let t=Object.keys(e);if(t)for(let e=0;e<t.length;e++)-1!==t[e].indexOf("cloud.rbac.coc.insights.subscribersystems.systemstatus")&&(this.menus.systemstatus=!0),-1!==t[e].indexOf("cloud.rbac.coc.insights.subscribersystems.systemtype")&&(this.menus.systemtype=!0),-1!==t[e].indexOf("cloud.rbac.coc.insights.subscribersystems.systemmodel")&&(this.menus.systemmodel=!0),-1!==t[e].indexOf("cloud.rbac.coc.insights.subscribersystems.cmndiqstatus")&&(this.menus.cmndiqstatus=!0),-1!==t[e].indexOf("cloud.rbac.coc.insights.subscribersystems.revedgesuitestatus")&&(this.menus.revedgesuitestatus=!0),-1!==t[e].indexOf("cloud.rbac.coc.insights.subscribersystems.revedgesuiteecosystemstatus")&&(this.menus.revedgesuiteecosystemstatus=!0),-1!==t[e].indexOf("cloud.rbac.coc.insights.subscribersystems.systembyrevenueedgeiqsuites")&&(this.menus.systembyrevenueedgeiqsuites=!0)}else this.menus={systemstatus:!0,systemtype:!0,systemmodel:!0,cmndiqstatus:!0,revedgesuitestatus:!0,revedgesuiteecosystemstatus:!0,systembyrevenueedgeiqsuites:!0};for(let t in this.menus)this.menus[t]&&(this.hasScopeAccess=!0);this.sso.setPageAccess(!!this.hasScopeAccess)}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe()}getRedirectModule(e){return e.indexOf("/cco-foundation/")>-1?"cco-foundation":"cco"}getEdgeSuiteEntitlement(){var e,t,i,n;let s=this.sso.getEntitlements();s.ProtectIQ=s[203]?s[203]:[],s.ExperienceIQ=s[204]?s[204]:[],s["ExperienceIQ And ProtectIQ"]=s[205]?s[205]:[],s.MyCommunityIQ=s[214]?s[214]:[],s.Platinum=s[215]?s[215]:[],s.Silver=s[216]?s[216]:[],s.Gold=s[217]?s[217]:[],this.MyCommunityIQentitlement=!(!s||214!==(null===(e=s[214])||void 0===e?void 0:e.apptype)&&222!==(null===(t=s[222])||void 0===t?void 0:t.apptype)&&223!==(null===(i=s[223])||void 0===i?void 0:i.apptype)),this.productIQEnableentitlement=!(!s||!s.ProtectIQ||"ProtectIQ"!==s.ProtectIQ.name),this.ExperienceIQEnableentitlement=!(!s||!s.ExperienceIQ||"ExperienceIQ"!==s.ExperienceIQ.name),this.proAndExpEnableentitlement=!(!s||!s["ExperienceIQ And ProtectIQ"]||"ExperienceIQ And ProtectIQ"!==s["ExperienceIQ And ProtectIQ"].name),s.arlo=s[206]?s[206]:[],s.Servify=s[207]?s[207]:[],this.arloEnableentitlement=!(!s||!s.arlo||"ARLO"!==s.arlo.name),s.arloUnlimited=s[212]?s[212]:[],s.arloUnlimitedPlus=s[213]?s[213]:[],s.Bark_Premium=s[219]?s[219]:[],s.Bark_Junior=s[220]?s[220]:[],s.smallBizIQ=s[218]?s[218]:[],this.smallBizIQentitlement=!(!s||218!==(null===(n=null==s?void 0:s.smallBizIQ)||void 0===n?void 0:n.apptype)),this.Bark_Premiumentitlement=!(!s||!s.Bark_Premium||"Bark Premium"!==s.Bark_Premium.name),this.Bark_Juniorentitlement=!(!s||!s.Bark_Junior||"Bark Junior"!==s.Bark_Junior.name),this.arloUnlimitedentitlement=!(!s||!s.arloUnlimited||"ARLO Unlimited"!==s.arloUnlimited.name),this.arloUnlimitedplusentitlement=!(!s||!s.arloUnlimitedPlus||"ARLO Unlimited Plus"!==s.arloUnlimitedPlus.name),this.ServifyEnableentitlement=!(!s||!s.Servify||"Servify Bronze"!==s.Servify.name),this.ServifyPlatinumentitlement=!(!s||!s.Platinum||"Servify Platinum"!==s.Platinum.name),this.ServifySilverentitlement=!(!s||!s.Silver||"Servify Silver"!==s.Silver.name),this.ServifyGoldentitlement=!(!s||!s.Gold||"Servify Gold"!==s.Gold.name)}getData(){this.chartOptionService.setFilterDays(this.filterDays)}OnFormData(e){var t,i,n,s,o,a,l,r,c,d,g,u,p,m,h,f;this.FormData=e,this.FormData&&(this.active=(null===(t=this.FormData)||void 0===t?void 0:t.active).toLocaleString(),this.preprovision=(null===(i=this.FormData)||void 0===i?void 0:i.preprovision).toLocaleString(),this.unassociate=(null===(n=this.FormData)||void 0===n?void 0:n.unassociate).toLocaleString(),"0"==(null===(s=this.FormData)||void 0===s?void 0:s.preprovisionper)?(this.arrowprovisionEnable=!0,this.preprovisionper="0%"):this.arrowprovisionEnable=!1,"0"==(null===(o=this.FormData)||void 0===o?void 0:o.activeper)?(this.arrowactiveEnable=!0,this.activeper="0%"):this.arrowactiveEnable=!1,"0"==(null===(a=this.FormData)||void 0===a?void 0:a.unassociateper)?(this.arrowunassoEnable=!0,this.unassociateper="0%"):this.arrowunassoEnable=!1,"+"==e.positiveOrNegative?(this.preprovisionper=(null===(l=this.FormData)||void 0===l?void 0:l.preprovisionper)+"%",this.arrowPositivepro=!0):(this.preprovisionper=(null===(r=this.FormData)||void 0===r?void 0:r.preprovisionper)+"%",this.arrowPositivepro=!1),"+"==e.positiveOrNegativeactive?(this.activeper=(null===(c=this.FormData)||void 0===c?void 0:c.activeper)?(null===(d=this.FormData)||void 0===d?void 0:d.activeper)+"%":"0%",this.arrowPositive=!0):(this.activeper=(null===(g=this.FormData)||void 0===g?void 0:g.activeper)?(null===(u=this.FormData)||void 0===u?void 0:u.activeper)+"%":"0%",this.arrowPositive=!1),"+"==e.positiveOrNegativeunassociate?(this.unassociateper=(null===(p=this.FormData)||void 0===p?void 0:p.unassociateper)?(null===(m=this.FormData)||void 0===m?void 0:m.unassociateper)+"%":"0%",this.arrowPositiveunasso=!0):(this.unassociateper=(null===(h=this.FormData)||void 0===h?void 0:h.unassociateper)?(null===(f=this.FormData)||void 0===f?void 0:f.unassociateper)+"%":"0%",this.arrowPositiveunasso=!1))}on_CommandIQdata(e){this.commandIQvalue=e,e&&(this.commandIQ=(null==e?void 0:e.commandIq)?e.commandIq.toLocaleString():"0","0"==e.commandIqper?(this.arrowcommandIqperEnable=!0,this.commandIqper="0%"):this.arrowcommandIqperEnable=!1,"+"==e.positiveOrNegative?(this.commandIqper=e.commandIqper+"%",this.arrowPositivecommand=!0):(this.commandIqper=e.commandIqper+"%",this.arrowPositivecommand=!1))}on_edgesuitiqData(e){this.edgeSuit=e.edgeSuit?e.edgeSuit.toLocaleString():"0","0"==e.edgeSuitper?(this.arrowedgeSuitperEnable=!0,this.edgeSuitper="0%"):this.arrowedgeSuitperEnable=!1,"+"==e.positiveOrNegative?(this.edgeSuitper=e.edgeSuitper+"%",this.arrowPositiveedge=!0):(this.edgeSuitper=e.edgeSuitper+"%",this.arrowPositiveedge=!1)}on_edgesuitecoData(e){this.edgeSuiteco=e.edgeSuit?e.edgeSuit.toLocaleString():"0","0"==e.edgeSuitper?(this.arrowedgeSuitecoperEnable=!0,this.edgeSuitpereco="0%"):this.arrowedgeSuitecoperEnable=!1,"+"==e.positiveOrNegative?(this.edgeSuitpereco=e.edgeSuitper+"%",this.arrowPositiveedgeEco=!0):(this.edgeSuitpereco=e.edgeSuitper+"%",this.arrowPositiveedgeEco=!1)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(l.s),o.Y36(s.F0),o.Y36(r.D),o.Y36(r.D),o.Y36(c.t6),o.Y36(d.a),o.Y36(g.Dx))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-system-service-trends"]],outputs:{Out_sysStatus:"Out_sysStatus"},decls:33,vars:18,consts:[["role","alert","class","alert alert-warning",4,"ngIf"],[1,"my-3"],[1,"container"],[1,"row"],[1,"test-container"],["class","item",4,"ngIf"],[1,"row","my-3"],["id","current-issues-interval",1,"d-flex","w-100"],[1,"label-chart-timeframe","pr-3"],[1,"min-w-170"],[3,"searchable","placeholder","ngModel","ngModelChange","change"],["value","7"],["value","30"],[1,"subscriber-trends-wrapper"],["class","subscriber-trends-item",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"item"],["id","pendoActiveSystems",1,"cco-list-label"],["class","d-flex",4,"ngIf"],[1,"past-hours"],[1,"d-flex"],["class","sub-menu-list-icon",4,"ngIf"],["class","sub-menu-list-icon2",4,"ngIf"],[1,"sub-menu-list-icon"],[4,"ngIf"],[1,"gly-rotate-90"],[1,"sub-menu-list-icon2"],[1,"gly-rotate-45"],["id","pendoPreProvisionedSystems",1,"cco-list-label"],["id","pendoUnAssociatedSystem",1,"cco-list-label"],["id","pendoCommandIqSubscribers",1,"cco-list-label"],["id","pendoEDGESuiteSubscrivers",1,"cco-list-label"],[1,"subscriber-trends-item"],[1,"home-title"],["id","pendoSystemStatus"],[3,"Out_sysStatus"],["id","pendoCCOSystemByType",1,"home-title"],["id","pendoCCOSystemByModel",1,"home-title"],["data-toggle","tooltip","data-placement","top",1,"home-title",3,"title"],["data-toggle","tooltip","data-placement","top","id","subscribersWithCommandIQ",1,"home-title",3,"title"],[3,"Out_commandIQ"],["id","subscribersByRevenueEdgeSuite","data-toggle","tooltip","data-placement","top",1,"home-title",3,"title"],[3,"Out_EdgeSuitIQ"]],template:function(e,t){1&e&&(o.YNc(0,A,2,1,"div",0),o.TgZ(1,"section",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.YNc(5,_,7,4,"div",5),o.YNc(6,k,7,4,"div",5),o.YNc(7,J,7,4,"div",5),o.YNc(8,$,7,4,"div",5),o.YNc(9,K,10,5,"div",5),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",2),o.TgZ(11,"div",6),o.TgZ(12,"div",7),o.TgZ(13,"label",8),o._uU(14),o.qZA(),o.TgZ(15,"div",9),o.TgZ(16,"ng-select",10),o.NdJ("ngModelChange",function(e){return t.filterDays=e})("change",function(){return t.getData()}),o.TgZ(17,"ng-option",11),o._uU(18),o.qZA(),o.TgZ(19,"ng-option",12),o._uU(20),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(21,"div",3),o.TgZ(22,"div",13),o.YNc(23,ee,5,1,"div",14),o.YNc(24,te,4,2,"div",14),o.YNc(25,ie,4,2,"div",14),o.qZA(),o.qZA(),o.TgZ(26,"div",3),o.TgZ(27,"div",13),o.YNc(28,ne,4,2,"div",14),o.YNc(29,se,4,2,"div",14),o.YNc(30,oe,4,2,"div",14),o.qZA(),o.qZA(),o.TgZ(31,"div",3),o._UZ(32,"div",13),o.qZA(),o.qZA()),2&e&&(o.Q6J("ngIf",!t.hasScopeAccess),o.xp6(5),o.Q6J("ngIf",t.menus.systemstatus),o.xp6(1),o.Q6J("ngIf",t.menus.systemstatus),o.xp6(1),o.Q6J("ngIf",t.menus.systemstatus),o.xp6(1),o.Q6J("ngIf",t.menus.cmndiqstatus),o.xp6(1),o.Q6J("ngIf",t.menus.revedgesuiteecosystemstatus&&(t.arloEnableentitlement||t.arloUnlimitedentitlement||t.arloUnlimitedplusentitlement||t.ServifyEnableentitlement||t.ServifyGoldentitlement||t.ServifySilverentitlement||t.ServifyPlatinumentitlement||t.Bark_Premiumentitlement||t.Bark_Juniorentitlement||t.productIQEnableentitlement||t.ExperienceIQEnableentitlement||t.proAndExpEnableentitlement||t.MyCommunityIQentitlement)),o.xp6(5),o.hij(" ",t.language["Chart Timeframe"],""),o.xp6(2),o.s9C("placeholder",t.language.Last_7_Days),o.Q6J("searchable",!1)("ngModel",t.filterDays),o.xp6(2),o.hij(" ",t.language.Last_7_Days,""),o.xp6(2),o.hij("",t.language.Last_30_Days," "),o.xp6(3),o.Q6J("ngIf",t.menus.systemstatus),o.xp6(1),o.Q6J("ngIf",t.menus.systemtype),o.xp6(1),o.Q6J("ngIf",t.menus.systemmodel),o.xp6(3),o.Q6J("ngIf",t.menus.systembyrevenueedgeiqsuites&&(t.smallBizIQentitlement||t.MyCommunityIQentitlement)),o.xp6(1),o.Q6J("ngIf",t.menus.cmndiqstatus),o.xp6(1),o.Q6J("ngIf",t.menus.revedgesuiteecosystemstatus&&(t.productIQEnableentitlement||t.ExperienceIQEnableentitlement||t.proAndExpEnableentitlement||t.MyCommunityIQentitlement||t.arloEnableentitlement||t.arloUnlimitedentitlement||t.arloUnlimitedplusentitlement||t.ServifyEnableentitlement||t.ServifyGoldentitlement||t.ServifySilverentitlement||t.ServifyPlatinumentitlement||t.Bark_Premiumentitlement||t.Bark_Juniorentitlement)))},directives:[n.O5,u.w9,p.JJ,p.On,u.xv,m.t,h.J,f.N,v._,x.x,b.P],styles:[".test-container[_ngcontent-%COMP%]{display:flex;width:100%}.item[_ngcontent-%COMP%]{flex-grow:1;border-left:1px solid #cdcdcd;padding-left:13px}.item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:28px;font-weight:400;color:#0054b2!important;line-height:32px}.item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{align-items:baseline}.item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:2%}.menu-info[_ngcontent-%COMP%]{display:flex;width:100%}.sub-menu[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:start;width:100%}.sub-menu-list[_ngcontent-%COMP%]{flex:0 23%;margin:11px;border-left:3px solid #e2e2e2;padding:10px 10px 10px 20px}.sub-menu-list-icon[_ngcontent-%COMP%]{font-weight:400;padding:5px 10px 5px 22px;border-radius:15px;font-size:15px;line-height:24px;color:#507500;position:relative}.sub-menu-list-icon2[_ngcontent-%COMP%]{font-weight:400;padding:5px 10px 5px 22px;border-radius:15px;font-size:15px;line-height:24px;color:#c70000;position:relative}.gly-rotate-45[_ngcontent-%COMP%]{background:url(red_arrow.ded00ae0389de747fb56.svg)}.gly-rotate-90[_ngcontent-%COMP%]{background:url(green_arrow.02068dd066c3b8190639.svg)}i.gly-rotate-45[_ngcontent-%COMP%], i.gly-rotate-90[_ngcontent-%COMP%]{position:absolute;left:7px;top:12px;width:10px;height:10px;background-repeat:no-repeat;background-size:100% 100%}.subscriber-trends-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:wrap}.subscriber-trends-item[_ngcontent-%COMP%]{align-items:flex-start;width:32%}.subscriber-trends-item[_ngcontent-%COMP%] + .subscriber-trends-item[_ngcontent-%COMP%]{margin-left:2%}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 767px){.test-container[_ngcontent-%COMP%]{display:block}.item[_ngcontent-%COMP%]{border-left:3px solid #cdcdcd!important}.item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:0!important;margin-top:10px}.subscriber-trends-wrapper[_ngcontent-%COMP%]{display:block}.subscriber-trends-item[_ngcontent-%COMP%]{width:100%}}.home-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;border-bottom:1px solid #CCCCCC;padding-bottom:9px;margin-bottom:12px;color:#4c4c4c;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}@media screen and (min-width: 768px) and (max-width: 1140px){.cco-list-label[_ngcontent-%COMP%]{min-height:41px}.subscriber-trends-item[_ngcontent-%COMP%]{width:100%!important}.subscriber-trends-wrapper[_ngcontent-%COMP%]{flex-wrap:wrap}}.past-hours[_ngcontent-%COMP%]{color:#9e9e9e;font-size:12px;font-weight:400;line-height:12px}@media screen and (max-width: 767px){.test-container[_ngcontent-%COMP%]{display:block}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex-grow:1;border-left:3px solid #cdcdcd;padding-left:20px;width:100%;margin-left:0;margin-top:10px}.custom-selectbox[_ngcontent-%COMP%]{margin:10px 0}}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:30px!important;color:#0054b2!important;line-height:32px!important;margin-bottom:0!important;font-weight:300}.test-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#1a1f22;font-size:14px;line-height:16.4px}.cco-secondary-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.label-chart-timeframe[_ngcontent-%COMP%]{min-width:140px;padding-top:5px;margin-bottom:0}.min-w-170[_ngcontent-%COMP%]{min-width:170px}"]}),e})()}];let le=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.Bz.forChild(ae)],s.Bz]}),e})();var re=i(833),ce=i(79765);let de=(()=>{class e{constructor(){this.CommandIQdata=new ce.xQ,this.edgesuitData=new ce.xQ}setcommandiq(e){this.CommandIQdata.next(e)}setedgesuite(e){this.edgesuitData.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[de],imports:[[n.ez,le,re.CcoFoundationModule,p.u5,u.A0]]}),e})()}}]);