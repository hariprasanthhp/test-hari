!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,i)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?a:String(a)),n)}var o,a}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[3505],{83505:function(t,n,a){a.d(n,{d:function(){return Ye}});var r=a(37716),l=a(23771),s=a(79765),c=a(92340),u=a(96045),d=a(91841),g=a(30900),p=a(49342),f=a(38048),h=a(3679),w=a(7450),m=a(38583),v=a(86640);function k(e,t){if(1&e&&(r.TgZ(0,"div",20),r.TgZ(1,"div",21),r.TgZ(2,"div",22),r.TgZ(3,"span",23),r._uU(4),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw();r.xp6(4),r.Oqu(i.language.Loading)}}function b(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",24),r.TgZ(1,"span",25),r._UZ(2,"img",26),r.qZA(),r._UZ(3,"div",27),r.TgZ(4,"button",28),r.NdJ("click",function(){return r.CHM(i),r.oxw().closeAlert()}),r._uU(5),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(3),r.Q6J("innerHtml",n.errorInfo,r.oJD),r.xp6(2),r.Oqu(n.language.Ok)}}function y(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",29),r.TgZ(1,"span",25),r._UZ(2,"img",30),r.qZA(),r.TgZ(3,"button",31),r.NdJ("click",function(){return r.CHM(i),r.oxw().closeAlert()}),r._UZ(4,"span"),r.qZA(),r._UZ(5,"div",27),r.qZA()}if(2&e){var n=r.oxw();r.xp6(5),r.Q6J("innerHtml",n.successInfo,r.oJD)}}function D(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",5),r.TgZ(1,"label",6),r._uU(2),r.qZA(),r.TgZ(3,"div",7),r.TgZ(4,"label",8),r.TgZ(5,"input",32),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw().workflowInputData.selectedCategories=e}),r.qZA(),r._uU(6),r.qZA(),r.TgZ(7,"label",8),r.TgZ(8,"input",33),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw().workflowInputData.selectedCategories=e}),r.qZA(),r._uU(9),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(2),r.Oqu(n.language.CategoriesApplicable),r.xp6(3),r.Q6J("ngModel",n.workflowInputData.selectedCategories),r.xp6(1),r.hij(" ",n.language.Yes," "),r.xp6(2),r.Q6J("ngModel",n.workflowInputData.selectedCategories),r.xp6(1),r.hij(" ",n.language.No," ")}}function Z(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",5),r.TgZ(1,"label",6),r._uU(2),r.qZA(),r.TgZ(3,"div",7),r.TgZ(4,"label",8),r.TgZ(5,"input",34),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw().workflowInputData.selectedDeviceGroup=e})("ngModelChange",function(){r.CHM(i);var e=r.oxw();return e.showform(),e.deviceaction(),e.getDeviceGroup()}),r.qZA(),r._uU(6),r.qZA(),r.TgZ(7,"label",8),r.TgZ(8,"input",35),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw().workflowInputData.selectedDeviceGroup=e})("ngModelChange",function(){r.CHM(i);var e=r.oxw();return e.hideform(),e.deviceaction()}),r.qZA(),r._uU(9),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(2),r.Oqu(n.language.Device_grp_appl),r.xp6(3),r.Q6J("disabled","In Progress"==n.workflowInputData.state)("ngModel",n.workflowInputData.selectedDeviceGroup),r.xp6(1),r.hij(" ",n.language.Yes," "),r.xp6(2),r.Q6J("disabled","In Progress"==n.workflowInputData.state)("ngModel",n.workflowInputData.selectedDeviceGroup),r.xp6(1),r.hij(" ",n.language.No," ")}}function A(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"form",36),r.TgZ(2,"label",37),r._uU(3),r.qZA(),r.TgZ(4,"div",38),r.TgZ(5,"ng-select",39),r.NdJ("add",function(e){return r.CHM(i),r.oxw().validateCategory(e)}),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(1),r.Q6J("formGroup",n.filtersForm),r.xp6(2),r.Oqu(n.language.Category),r.xp6(2),r.s9C("placeholder",n.language.Category),r.Q6J("searchable",!1)("multiple",!0)("items",n.categories)}}function x(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"tr",44),r.TgZ(1,"td"),r.TgZ(2,"input",45),r.NdJ("change",function(e){var t=r.CHM(i).$implicit;return r.oxw(2).bindDeviceData(e,t._id)}),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"td"),r.TgZ(6,"span"),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"td"),r.TgZ(9,"span"),r._uU(10),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=t.$implicit;r.s9C("id",n._id),r.xp6(2),r.Q6J("value",n._id)("checked",n.checked),r.xp6(2),r.Oqu(n.name?n.name:""),r.xp6(3),r.Oqu(n.description?n.description:""),r.xp6(3),r.Oqu("dynamic"===n.type?"Dynamic":"Static")}}function T(e,t){if(1&e&&(r.TgZ(0,"div",40),r.TgZ(1,"span",41),r._uU(2),r.qZA(),r.TgZ(3,"table",42),r.TgZ(4,"thead"),r.TgZ(5,"tr"),r.TgZ(6,"th"),r._uU(7),r.qZA(),r.TgZ(8,"th"),r._uU(9),r.qZA(),r.TgZ(10,"th"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"tbody"),r.YNc(13,x,11,6,"tr",43),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw();r.xp6(2),r.Oqu(i.language.Device_groups),r.xp6(1),r.Q6J("dtOptions",i.tableOptions),r.xp6(4),r.Oqu(i.language.Name),r.xp6(2),r.Oqu(i.language.description),r.xp6(2),r.Oqu(i.language.type),r.xp6(2),r.Q6J("ngForOf",i.deviceGrpData)}}function I(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"tr",44),r.TgZ(1,"td"),r.TgZ(2,"input",48),r.NdJ("change",function(e){var t=r.CHM(i).$implicit;return r.oxw(3).bindDeviceData(e,t._id)}),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"td"),r.TgZ(6,"span"),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"td"),r.TgZ(9,"span"),r._uU(10),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=t.$implicit;r.s9C("id",n._id),r.xp6(2),r.Q6J("value",n._id)("checked",n.checked),r.xp6(2),r.Oqu(n.name?n.name:""),r.xp6(3),r.Oqu(n.description?n.description:""),r.xp6(3),r.Oqu("dynamic"===n.type?"Dynamic":"Static")}}function _(e,t){if(1&e&&(r.TgZ(0,"div",47),r.TgZ(1,"span",41),r._uU(2),r.qZA(),r.TgZ(3,"table",42),r.TgZ(4,"thead"),r.TgZ(5,"tr"),r.TgZ(6,"th"),r._uU(7),r.qZA(),r.TgZ(8,"th"),r._uU(9),r.qZA(),r.TgZ(10,"th"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"tbody"),r.YNc(13,I,11,6,"tr",43),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw(2);r.xp6(2),r.Oqu(i.language.Device_groups),r.xp6(1),r.Q6J("dtOptions",i.tableOptions),r.xp6(4),r.Oqu(i.language.Name),r.xp6(2),r.Oqu(i.language.description),r.xp6(2),r.Oqu(i.language.type),r.xp6(2),r.Q6J("ngForOf",i.deviceGrpData)}}function C(e,t){if(1&e&&r.YNc(0,_,14,6,"div",46),2&e){var i=r.oxw();r.Q6J("ngIf","In Progress"==i.workflowInputData.state)}}var P,S=((P=function(){function e(t,n,o,a,l,u,d,g){i(this,e),this.api=t,this.http=n,this.customTranslateService=o,this.commonOrgService=a,this.changeDetect=l,this.sso=u,this.fb=d,this.translateService=g,this.workflowDeviceData=new r.vpe,this.activeTab=new r.vpe,this.pageAvailable=!1,this.isRerender=!1,this.loading=!0,this.showdeviceform=!1,this.selectDeviceGrp=!0,this.selectedItem=[],this.errorInfo="",this.successInfo="",this.tableOptions={pagingType:"full_numbers",dom:"t",ordering:!1,columnDefs:[{targets:[1,2,3,4],orderable:!1},{targets:[0],orderable:!0}],order:[0,"asc"],drawCallback:function(e){e.aoData.length<=e._iDisplayLength&&$(e.nTableWrapper).find("#devicegroup-table_last").addClass("disabled")}},this.dtTrigger=new s.xQ,this.sysAdminRoute="systemAdministration",this.inputAlarms=[{label:"device_sync_failure"},{label:"post_i2c"},{label:"dhcp-server-detected"}],this.categories=[{id:"All",name:"All"}],this.filtersForm=this.fb.group({category:[]}),this.baseUrl="".concat(c.N.API_BASE_URL,"analytics-engine/"),this.orgId=this.sso.getOrgId()}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.getDeviceGroup(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t}),"No"==this.workflowInputData.selectedDeviceGroup&&this.hideform(),0!=this.workflowInputData.categories.length&&this.filtersForm.get("category").setValue(this.workflowInputData.categories),this.getCategories()}},{key:"getCategories",value:function(){var e=this,t={historyReport:!1},i="";for(var n in t)null==t[n]||""==t[n]||t[n]===[]||(""!=i&&(i+="&"),i+=n+"="+encodeURIComponent(t[n]));i+="&historyReport=false",this.http.get("".concat(this.baseUrl,"category?").concat(i)).subscribe(function(t){var i=[{id:"All",name:"All"}];t&&t.forEach(function(e){!e||i.push({id:e,name:e})}),e.categories=i,e.filtersForm.controls.category.setValue(["All"])})}},{key:"validateCategory",value:function(e){var t=this.filtersForm.get("category").value;if("All"===e.id)t=["All"];else{var i=t.indexOf("All");i>-1&&t.splice(i,1)}this.filtersForm.get("category").setValue(t)}},{key:"setTableOptions",value:function(e){var t=this;this.tableOptions={pagingType:"full_numbers",rowId:"id",searching:!1,lengthChange:!1,paging:!0,pageLength:10,ordering:!1,dom:"t",columnDefs:[{targets:[1,2,3,4],orderable:!1},{targets:[0],orderable:!0}],order:[0,"asc"],drawCallback:function(e){e.aoData.length<=e._iDisplayLength&&$(e.nTableWrapper).find("#devicegroup-table_last").addClass("disabled")}},e&&"language"==e?setTimeout(function(){t.rerender(),setTimeout(function(){t.dataAvailable=!0,t.loading=!1},100)},100):setTimeout(function(){t.dataAvailable=!0,t.loading=!1},500)}},{key:"rerender",value:function(){var e=this;this.dtElement.dtInstance.then(function(t){t.destroy(),e.dtTrigger.next()})}},{key:"showform",value:function(){this.showdeviceform=!0,this.selectDeviceGrp=!0}},{key:"hideform",value:function(){this.showdeviceform=!1,this.selectDeviceGrp=!1,this.workflowInputData.groups=[],this.deviceGrpData&&this.deviceGrpData.forEach(function(e){e.checked=!1})}},{key:"ngOnDestroy",value:function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSubscribe&&this.translateSubscribe.unsubscribe(),this.getDeviceGrpSubscribe&&this.getDeviceGrpSubscribe.unsubscribe(),this.languageSubject&&this.languageSubject.unsubscribe()}},{key:"getDeviceGroup",value:function(){var e=this;this.getDeviceGrpSubscribe=this.api.GetDeviceGroup(this.orgId,0,0).subscribe(function(t){if(t){var i=e.workflowInputData.groups;t.forEach(function(e){e.checked=-1!=i.indexOf(e._id)}),e.deviceGrpData="In Progress"===e.workflowInputData.state?t.filter(function(e){return e.checked}):t,e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):e.dtTrigger.next()}},function(t){e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):e.dtTrigger.next(),e.loading=!1,e.pageErrorHandle(t),e.commonOrgService.pageScrollTop()},function(){})}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.sso.pageErrorHandle(e),this.closeAlert(),this.error=!0}},{key:"closeAlert",value:function(){this.error=!1,this.success=!1}},{key:"go_next",value:function(){if(this.selectDeviceGrp&&this.workflowInputData.groups.length)return this.workflowInputData.levelPassed<=2&&(this.workflowInputData.levelPassed=2),this.workflowDeviceData.emit(this.workflowInputData),this.activeTab.emit("Select Operation Parameters"),!0;if("Yes"==this.workflowInputData.selectedAlarm){if(this.workflowInputData.levelPassed<=2&&(this.workflowInputData.levelPassed=2),null==this.workflowInputData.selectedCategories&&null==this.workflowInputData.selectedDeviceGroup)return this.error=!0,void(this.errorInfo="Please select at least one option.");if("Yes"==this.workflowInputData.selectedCategories){if(this.workflowInputData.categories=this.filtersForm.get("category").value,0==this.workflowInputData.categories.length)return this.error=!0,void(this.errorInfo="Please select at least one category.")}else this.workflowInputData.categories=[];return this.workflowDeviceData.emit(this.workflowInputData),this.activeTab.emit("Select Operation Parameters"),!0}return this.selectDeviceGrp||null==this.workflowInputData.selectedAlarm?(this.error=!0,this.errorInfo=null==this.workflowInputData.selectedAlarm?"Please select at least one option.":this.language["Please select at least one device group."],!1):(this.workflowInputData.levelPassed<=2&&(this.workflowInputData.levelPassed=2),this.workflowDeviceData.emit(this.workflowInputData),this.activeTab.emit("Select Operation Parameters"),!0)}},{key:"go_previous",value:function(){this.workflowDeviceData.emit(this.workflowInputData),this.activeTab.emit("Start")}},{key:"findObjByKeyName",value:function(e,t){for(var i=0;i<t.length;i++)if(t[i]._id===e)return t[i];return!1}},{key:"findObjIndex",value:function(e,t){return t.indexOf(e)}},{key:"bindDeviceData",value:function(e,t){if(e.target.checked)this.error=!1,this.findObjByKeyName(t,this.workflowInputData.groups)||this.workflowInputData.groups.push(t);else{var i=this.findObjIndex(t,this.workflowInputData.groups);-1!=i&&this.workflowInputData.groups.splice(i,1)}}},{key:"deviceaction",value:function(){0!=this.workflowInputData.actions.length&&(this.workflowInputData.actions.length=0)}}]),e}()).\u0275fac=function(e){return new(e||P)(r.Y36(u.A),r.Y36(d.eN),r.Y36(g.d),r.Y36(p.v),r.Y36(r.sBO),r.Y36(f.t6),r.Y36(h.qu),r.Y36(w.s))},P.\u0275cmp=r.Xpm({type:P,selectors:[["app-alarm-select-device-wizard"]],viewQuery:function(e,t){var i;1&e&&r.Gf(l.G,5),2&e&&r.iGM(i=r.CRH())&&(t.dtElement=i.first)},inputs:{workflowInputData:"workflowInputData"},outputs:{workflowDeviceData:"workflowDeviceData",activeTab:"activeTab"},decls:29,vars:16,consts:[["id","select-device",1,"tab-pane"],["class","loader",4,"ngIf"],["class","w-100 alert alert-danger mt-4 fade show",4,"ngIf"],["class","w-100 alert alert-success fade show mt-4",4,"ngIf"],[1,"wizard-form"],[1,"row"],[1,"col-3","control-label"],[1,"col-9"],[1,"radio-inline","col-2"],["type","radio","name","optradioAlarmGroup","value","Yes","id","selectedCategories",1,"mr-2",3,"disabled","ngModel","ngModelChange"],["type","radio","name","optradioAlarmGroup","value","No","id","selectedCategories",1,"mr-2",3,"disabled","ngModel","ngModelChange"],["class","row",4,"ngIf"],[4,"ngIf"],["class","pb-2 overflow-auto ",4,"ngIf"],["InProgressBlock",""],[1,"workflow-next-previous"],["type","button","id","previous",1,"btn-arrow","btn-arr-prev","btn-grey","mr-2",3,"click"],["src","assets/img/ic_chevronleft_grey.svg"],["type","button","id","next",1,"btn-arrow","btn-arr-nxt","primary",3,"click"],["src","assets/img/ic_chevron-r-w.svg"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert-danger","mt-4","fade","show"],[1,"success-img"],["src","./assets/img/error-icon.svg"],[1,"d-inline-flex",3,"innerHtml"],["id","wk-err-ok",1,"btn-default","px-3","ok-btn","float-right",3,"click"],[1,"w-100","alert","alert-success","fade","show","mt-4"],["src","./assets/img/success-icon.svg"],["type","button","id","wk-success",1,"close",3,"click"],["type","radio","name","optradioAlarmCategory","value","Yes","id","optradioAlarmCategory",1,"mr-2",3,"ngModel","ngModelChange"],["type","radio","name","optradioAlarmCategory","value","No","id","optradioAlarmCategory",1,"mr-2",3,"ngModel","ngModelChange"],["type","radio","name","optradio","value","Yes","id","show-form",1,"mr-2",3,"disabled","ngModel","ngModelChange"],["type","radio","name","optradio","value","No","id","hide-form",1,"mr-2",3,"disabled","ngModel","ngModelChange"],[3,"formGroup"],["for","Name",1,"col-form-label","select-font"],["id","current-issues-interval",1,"col-md-4","pl-0"],["formControlName","category","bindValue","id","bindLabel","name",3,"searchable","multiple","placeholder","items","add"],[1,"pb-2","overflow-auto"],[1,"net-ops-secondary-title"],["id","device-grp-table","width","100%","datatable","",1,"workflow-details-table","row-border","hover","table-alter",3,"dtOptions"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],["type","checkbox","placeholder","#","name","item.name",1,"mr-3",3,"value","checked","change"],["class","overflow-auto",4,"ngIf"],[1,"overflow-auto"],["type","checkbox","placeholder","#","name","item.name","disabled","",1,"mr-3",3,"value","checked","change"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.YNc(1,k,5,1,"div",1),r.YNc(2,b,6,2,"div",2),r.YNc(3,y,6,1,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"section"),r.TgZ(6,"div",5),r.TgZ(7,"label",6),r._uU(8),r.qZA(),r.TgZ(9,"div",7),r.TgZ(10,"label",8),r.TgZ(11,"input",9),r.NdJ("ngModelChange",function(){return t.hideform()})("ngModelChange",function(e){return t.workflowInputData.selectedAlarm=e}),r.qZA(),r._uU(12),r.qZA(),r.TgZ(13,"label",8),r.TgZ(14,"input",10),r.NdJ("ngModelChange",function(){return t.workflowInputData.selectedCategories="No"})("ngModelChange",function(e){return t.workflowInputData.selectedAlarm=e}),r.qZA(),r._uU(15),r.qZA(),r.qZA(),r.qZA(),r.YNc(16,D,10,5,"div",11),r.YNc(17,Z,10,7,"div",11),r.qZA(),r.qZA(),r.YNc(18,A,6,6,"div",12),r.YNc(19,T,14,6,"div",13),r.YNc(20,C,1,1,"ng-template",null,14,r.W1O),r.TgZ(22,"div",15),r.TgZ(23,"button",16),r.NdJ("click",function(){return t.go_previous()}),r._UZ(24,"img",17),r._uU(25),r.qZA(),r.TgZ(26,"button",18),r.NdJ("click",function(){return t.go_next()}),r._uU(27),r._UZ(28,"img",19),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngIf",t.loading),r.xp6(1),r.Q6J("ngIf",t.error),r.xp6(1),r.Q6J("ngIf",t.success),r.xp6(5),r.Oqu(t.language.AlarmGroup),r.xp6(3),r.Q6J("disabled","In Progress"==t.workflowInputData.state)("ngModel",t.workflowInputData.selectedAlarm),r.xp6(1),r.hij(" ",t.language.Yes," "),r.xp6(2),r.Q6J("disabled","In Progress"==t.workflowInputData.state)("ngModel",t.workflowInputData.selectedAlarm),r.xp6(1),r.hij(" ",t.language.No," "),r.xp6(1),r.Q6J("ngIf","Yes"==t.workflowInputData.selectedAlarm),r.xp6(1),r.Q6J("ngIf","No"==t.workflowInputData.selectedAlarm),r.xp6(1),r.Q6J("ngIf","Yes"==t.workflowInputData.selectedCategories),r.xp6(1),r.Q6J("ngIf",t.showdeviceform),r.xp6(6),r.hij(" ",t.language.Previous,""),r.xp6(2),r.Oqu(t.language.Next))},directives:[m.O5,h._,h.Fj,h.JJ,h.On,h._Y,h.JL,h.sg,v.w9,h.u,l.G,m.sg],styles:[".f-w-600[_ngcontent-%COMP%]{font-weight:600}[type=radio][_ngcontent-%COMP%]:checked, [type=radio][_ngcontent-%COMP%]:not(:checked){position:relative!important;left:unset!important}table.dataTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#4c4c4c;line-height:22px;padding:10px;border-bottom:1px solid #cccccc;border-top:transparent!important;width:calc(100% / 3)!important;word-break:break-word!important}"]}),P),O=a(39895);function q(e,t){if(1&e&&(r.TgZ(0,"div",14),r.TgZ(1,"small"),r._uU(2),r.qZA(),r.qZA()),2&e){var i=r.oxw();r.xp6(2),r.hij(" ",i.language.Enter_A_Value," ")}}var M=function(){var e=function(){function e(t,n){i(this,e),this.translateService=t,this.router=n,this.workflowdata=new r.vpe,this.activeTab=new r.vpe,this.saveClicked=!1,this.formError=!1}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.saveClicked=!1,this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t})}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe()}},{key:"validate",value:function(){this.formError=!1,this.workflowInputData.name||(this.formError=!0)}},{key:"go_next",value:function(){this.saveClicked=!0,this.validate(),!this.formError&&(this.workflowInputData.levelPassed<=1&&(this.workflowInputData.levelPassed=1),this.workflowdata.emit(this.workflowInputData),this.router.url.endsWith("official-workflow-wizard")?this.activeTab.emit("Select Operation Parameters"):this.activeTab.emit("Select Device Groups"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(w.s),r.Y36(O.F0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-alarm-start-wizard"]],inputs:{workflowInputData:"workflowInputData"},outputs:{workflowdata:"workflowdata",activeTab:"activeTab"},decls:23,vars:10,consts:[["id","wizardStart",1,"wizard-start"],[1,"wizard-form"],["id","wk-start-form"],[1,"form-group","ccl-form","row"],[1,"col-2","control-label"],[1,"col-10"],["id","wk-name_input","name","name_input","type","text","required","","aria-required","true","aria-describedby","name_input-error",3,"ngModel","placeholder","ngModelChange"],["id","name_input-error","class","errorMessage",4,"ngIf"],["id","wk-decription_input","name","description","type","text",3,"ngModel","placeholder","ngModelChange"],[1,"workflow-next-previous"],["type","button","disabled","","id","previous",1,"btn-arrow","btn-arr-prev","btn-grey","mr-2"],["src","assets/img/ic_chevronleft_grey.svg"],["type","button","id","next",1,"btn-arrow","btn-arr-nxt","primary",3,"click"],["src","assets/img/ic_chevron-r-w.svg"],["id","name_input-error",1,"errorMessage"]],template:function(e,t){1&e&&(r._UZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"form",2),r.TgZ(3,"div",3),r.TgZ(4,"label",4),r._uU(5),r.qZA(),r.TgZ(6,"div",5),r.TgZ(7,"input",6),r.NdJ("ngModelChange",function(e){return t.workflowInputData.name=e}),r.qZA(),r.YNc(8,q,3,1,"div",7),r.qZA(),r.qZA(),r.TgZ(9,"div",3),r.TgZ(10,"label",4),r._uU(11),r.TgZ(12,"small"),r._uU(13),r.qZA(),r.qZA(),r.TgZ(14,"div",5),r.TgZ(15,"input",8),r.NdJ("ngModelChange",function(e){return t.workflowInputData.description=e}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"div",9),r.TgZ(17,"button",10),r._UZ(18,"img",11),r._uU(19),r.qZA(),r.TgZ(20,"button",12),r.NdJ("click",function(){return t.go_next()}),r._uU(21),r._UZ(22,"img",13),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(5),r.Oqu(t.language.Name),r.xp6(2),r.s9C("placeholder",t.language.Name),r.Q6J("ngModel",t.workflowInputData.name),r.xp6(1),r.Q6J("ngIf",t.saveClicked&&!t.workflowInputData.name),r.xp6(3),r.hij("",t.language.Description," "),r.xp6(2),r.hij(" ",t.language.optional," "),r.xp6(2),r.s9C("placeholder",t.language.Description),r.Q6J("ngModel",t.workflowInputData.description),r.xp6(4),r.hij(" ",t.language.Previous," "),r.xp6(2),r.hij("",t.language.Next," "))},directives:[h._Y,h.JL,h.F,h.Fj,h.Q7,h.JJ,h.On,m.O5],styles:[""]}),e}(),N=a(18638);function E(e,t){if(1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.qZA()),2&e){var i=t.$implicit,n=r.oxw(2);r.xp6(2),r.Oqu(i.name?i.name:""),r.xp6(2),r.Oqu(null!=i&&i.description?i.description:""),r.xp6(2),r.hij(" ","dynamic"===i.type?n.language.Dynamic:n.language.Static," ")}}function F(e,t){if(1&e&&(r.TgZ(0,"div",24),r.TgZ(1,"table",4),r.TgZ(2,"thead"),r.TgZ(3,"tr"),r.TgZ(4,"th"),r._uU(5),r.qZA(),r.TgZ(6,"th"),r._uU(7),r.qZA(),r.TgZ(8,"th"),r._uU(9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"tbody"),r.YNc(11,E,7,3,"tr",18),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw();r.xp6(1),r.Q6J("dtOptions",i.tableRevOptions),r.xp6(4),r.Oqu(i.language.Name),r.xp6(2),r.Oqu(i.language.description),r.xp6(2),r.Oqu(i.language.Type),r.xp6(2),r.Q6J("ngForOf",i.deviceArray)}}function U(e,t){if(1&e&&(r.TgZ(0,"div",25),r.TgZ(1,"label",10),r._uU(2),r.qZA(),r.qZA()),2&e){var i=r.oxw();r.xp6(2),r.hij("Selected Alarm : ",null==i.workflowInputData?null:i.workflowInputData.alarmName,"")}}function J(e,t){if(1&e&&(r.TgZ(0,"div",28),r.TgZ(1,"label",29),r._uU(2),r.qZA(),r.qZA()),2&e){var i=r.oxw().$implicit;r.xp6(2),r.hij("Service Impacting : ",i.ServiceImpacting,"")}}function R(e,t){if(1&e&&(r.TgZ(0,"div",28),r.TgZ(1,"label",29),r._uU(2),r.qZA(),r.qZA()),2&e){var i=r.oxw().$implicit;r.xp6(2),r.hij("Service Affecting : ",i.ServiceAffecting," ")}}function W(e,t){if(1&e&&(r.TgZ(0,"div",28),r.TgZ(1,"label",30),r._uU(2),r.qZA(),r.qZA()),2&e){var i=r.oxw().$implicit,n=r.oxw();r.xp6(2),r.AsE("",n.language.Severity," : ",i.Severity," ")}}function Q(e,t){if(1&e&&(r.TgZ(0,"li",26),r.YNc(1,J,3,1,"div",27),r.YNc(2,R,3,1,"div",27),r.YNc(3,W,3,2,"div",27),r.qZA()),2&e){var i=t.$implicit;r.xp6(1),r.Q6J("ngIf",i.ServiceImpacting),r.xp6(1),r.Q6J("ngIf",i.ServiceAffecting),r.xp6(1),r.Q6J("ngIf",i.Severity)}}function z(e,t){if(1&e&&(r.TgZ(0,"h6"),r._uU(1),r.qZA()),2&e){var i=r.oxw();r.xp6(1),r.hij(" ",i.language.Triggered_CPE_Alarm_discovered," ")}}function G(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1,"Who all are going to be notified : "),r.qZA())}function Y(e,t){if(1&e&&(r.TgZ(0,"li"),r._uU(1),r.qZA()),2&e){var i=t.$implicit;r.xp6(1),r.hij(" ",i," ")}}function j(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",38),r.TgZ(1,"div",53),r.TgZ(2,"label",54),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"div",55),r.TgZ(5,"label",56),r._UZ(6,"input",57),r._uU(7),r.qZA(),r.TgZ(8,"div",58),r.TgZ(9,"input",59),r.NdJ("ngModelChange",function(e){r.CHM(i);var t=r.oxw(2);return(null==t.workflowInputData?null:t.workflowInputData.execPolicy.window).frequency=e}),r.qZA(),r.TgZ(10,"span"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.oxw(2);r.xp6(3),r.hij(" ",n.language.Daily," "),r.xp6(4),r.hij(" ",n.language.Every," "),r.xp6(2),r.Q6J("ngModel",null==n.workflowInputData?null:n.workflowInputData.execPolicy.window.frequency),r.xp6(2),r.hij(" ",n.language.Day_s," ")}}function V(e,t){if(1&e&&(r.TgZ(0,"label",61),r._uU(1),r.qZA()),2&e){var i=r.oxw(3);r.xp6(1),r.hij(" ",i.weekdays," ")}}function H(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",60),r.TgZ(1,"label",61),r._uU(2),r.qZA(),r.TgZ(3,"div",62),r.TgZ(4,"label",56),r._UZ(5,"input",57),r._uU(6),r.qZA(),r.TgZ(7,"div",58),r.TgZ(8,"input",63),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(2).workflowInputData.execPolicy.window.frequency=e}),r.qZA(),r.TgZ(9,"span"),r._uU(10),r.qZA(),r.qZA(),r.qZA(),r.YNc(11,V,2,1,"label",64),r.qZA()}if(2&e){var n=r.oxw(2);r.xp6(2),r.hij(" ",n.language.Weekly," "),r.xp6(4),r.hij(" ",n.language.Recur_every," "),r.xp6(2),r.Q6J("ngModel",n.workflowInputData.execPolicy.window.frequency),r.xp6(2),r.hij(" ",n.language.weeks_on," "),r.xp6(1),r.Q6J("ngIf","weekly"===(null==n.workflowInputData?null:n.workflowInputData.execPolicy.window.type))}}function L(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",60),r.TgZ(1,"label",61),r._uU(2),r.qZA(),r.TgZ(3,"div",65),r.TgZ(4,"label",66),r._UZ(5,"input",57),r._uU(6),r.qZA(),r.TgZ(7,"div",67),r.TgZ(8,"input",68),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(2).workflowInputData.execPolicy.window.daysOfMonth=e}),r.qZA(),r.TgZ(9,"span"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"div",67),r.TgZ(12,"input",69),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(2).workflowInputData.execPolicy.window.frequency=e}),r.qZA(),r.TgZ(13,"span"),r._uU(14),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.oxw(2);r.xp6(2),r.hij(" ",n.language.Monthly," "),r.xp6(4),r.hij("",n.language.Day," "),r.xp6(2),r.Q6J("ngModel",n.workflowInputData.execPolicy.window.daysOfMonth),r.xp6(2),r.hij(" ",n.language.of_every,""),r.xp6(2),r.Q6J("ngModel",n.workflowInputData.execPolicy.window.frequency),r.xp6(2),r.hij(" ",n.language["month(s)"],"")}}function B(e,t){if(1&e&&(r.TgZ(0,"label",70),r._uU(1),r.qZA()),2&e){var i=r.oxw(2);r.xp6(1),r.hij(" ",i.language.End_by," ")}}function K(e,t){if(1&e&&(r.TgZ(0,"label",70),r._uU(1),r.qZA()),2&e){var i=r.oxw(2);r.xp6(1),r.hij(" ",i.language.End_after," ")}}var X=function(){return{width:"100%",height:"36px"}},ee=function(){return{height:"36px"}},te=function(){return{standalone:!0}};function ie(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"p-calendar",71),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(2).customEndRange=e}),r.qZA()}if(2&e){var n=r.oxw(2);r.Akn(r.DdM(7,X)),r.Q6J("inputStyle",r.DdM(8,ee))("autoZIndex",!0)("ngModel",n.customEndRange)("showIcon",!0)("ngModelOptions",r.DdM(9,te))}}function ne(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",32),r.TgZ(1,"div",33),r._UZ(2,"label",72),r.qZA(),r.TgZ(3,"div",73),r.TgZ(4,"input",74),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw(2).rangeOccurrence=e}),r.qZA(),r.TgZ(5,"label",75),r._uU(6),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.oxw(2);r.xp6(4),r.Q6J("ngModel",n.rangeOccurrence),r.xp6(2),r.Oqu(n.language.Occurrences)}}function oe(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"form",31),r.TgZ(1,"div",32),r.TgZ(2,"div",33),r.TgZ(3,"label",34),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"div",35),r.TgZ(6,"p-calendar",36),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw().startDateTime=e}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",32),r.TgZ(8,"div",33),r.TgZ(9,"label",37),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"div",38),r.TgZ(12,"input",39),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw().windowlength=e}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"div",32),r.TgZ(14,"div",33),r.TgZ(15,"label",37),r._uU(16),r.qZA(),r.qZA(),r.YNc(17,j,12,4,"div",40),r.YNc(18,H,12,5,"div",41),r.YNc(19,L,15,6,"div",41),r.qZA(),r.TgZ(20,"div",42),r.TgZ(21,"div",43),r.TgZ(22,"div",33),r.TgZ(23,"label",34),r._uU(24),r.qZA(),r.qZA(),r.TgZ(25,"div",35),r.TgZ(26,"p-calendar",44),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw().custumStartDate=e}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(27,"div",42),r.TgZ(28,"div",43),r.TgZ(29,"div",33),r._UZ(30,"label",34),r.qZA(),r.TgZ(31,"div",35),r.YNc(32,B,2,1,"label",45),r.YNc(33,K,2,1,"label",46),r.YNc(34,ie,1,10,"p-calendar",47),r.qZA(),r.qZA(),r.qZA(),r.YNc(35,ne,7,2,"div",48),r.TgZ(36,"div",49),r.TgZ(37,"div",33),r.TgZ(38,"label",50),r._uU(39),r.qZA(),r.qZA(),r.TgZ(40,"div",51),r._UZ(41,"input",52),r.TgZ(42,"span"),r._uU(43),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(4),r.Oqu(n.language.Start_Time),r.xp6(2),r.Akn(r.DdM(31,X)),r.s9C("placeholder",n.language["Select Time"]),r.Q6J("inputStyle",r.DdM(32,ee))("autoZIndex",!0)("ngModel",n.startDateTime)("showIcon",!0)("ngModelOptions",r.DdM(33,te)),r.xp6(4),r.hij(" ",n.language.Time_window,""),r.xp6(2),r.Q6J("ngModel",n.windowlength),r.xp6(4),r.Oqu(n.language.Recurrence_Pattern),r.xp6(1),r.Q6J("ngIf","daily"===(null==n.workflowInputData?null:n.workflowInputData.execPolicy.window.type)),r.xp6(1),r.Q6J("ngIf","weekly"===(null==n.workflowInputData?null:n.workflowInputData.execPolicy.window.type)),r.xp6(1),r.Q6J("ngIf","monthly"===(null==n.workflowInputData?null:n.workflowInputData.execPolicy.window.type)),r.xp6(5),r.Oqu(n.language.Start_Date),r.xp6(2),r.Akn(r.DdM(34,X)),r.s9C("placeholder",n.language["Select Date"]),r.Q6J("inputStyle",r.DdM(35,ee))("autoZIndex",!0)("ngModel",n.custumStartDate)("showIcon",!0)("ngModelOptions",r.DdM(36,te)),r.xp6(6),r.Q6J("ngIf",!n.endAfter),r.xp6(1),r.Q6J("ngIf",n.endAfter),r.xp6(1),r.Q6J("ngIf",!n.endAfter),r.xp6(1),r.Q6J("ngIf",n.endAfter),r.xp6(4),r.Oqu(n.language.Prioritization),r.xp6(2),r.Q6J("checked",null==n.workflowInputData?null:n.workflowInputData.fullGroupExecute),r.xp6(2),r.Oqu(n.language.Ex_fullgrps)}}var ae=function(){var e=function(){function e(t,n,o,a){i(this,e),this.translateService=t,this.api=n,this.router=o,this.sso=a,this.activeTab=new r.vpe,this.submitWorkflow=new r.vpe,this.tableRevOptions={searching:!1,lengthChange:!1,paging:!1,ordering:!1,dom:"t"},this.reviewData=[],this.execPolicy={},this.custumStartDate=new Date,this.customEndRange=new Date,this.endAfter=!1,this.dataAvailable=!1,this.weekdays=[],this.listofEmail=[],this.orgId=this.sso.getOrgId()}return o(e,[{key:"ngOnInit",value:function(){var e=this;if(this.workflowInputData&&this.workflowInputData.actions.forEach(function(e){"Edge Suites Provision"===e.actionType&&(e.actionType="Edge Suites Bulk Activation")}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t}),this.workflowInputData&&this.workflowInputData.email&&(this.listofEmail=this.workflowInputData.email.split(",")),this.workflowInputData)if("Yes"==this.workflowInputData.selectedAlarm){if(this.dataAvailable=!0,0!=this.workflowInputData.categories.length){var t=[];this.workflowInputData.categories.forEach(function(e){t.push({name:e})}),this.deviceArray=t}}else this.getDeviceGrp();if(this.workflowInputData){if("Maintenance Window"===this.workflowInputData.execPolicy.initialTrigger.type){var i=this.workflowInputData.execPolicy.window;this.startDateTime=new Date(this.workflowInputData.startTime),this.windowlength=i.windowLength/60,this.custumStartDate=new Date(i.startDateTime),this.recurrence=i.frequency,this.workflowInputData.execPolicy.window.weekdays&&(this.weekdays=[],this.workflowInputData.execPolicy.window.weekdays.includes("SUN")&&this.weekdays.push("Sunday"),this.workflowInputData.execPolicy.window.weekdays.includes("MON")&&this.weekdays.push("Monday"),this.workflowInputData.execPolicy.window.weekdays.includes("TUE")&&this.weekdays.push("Tuesday"),this.workflowInputData.execPolicy.window.weekdays.includes("WEN")&&this.weekdays.push("Wednesday"),this.workflowInputData.execPolicy.window.weekdays.includes("THU")&&this.weekdays.push("Thursday"),this.workflowInputData.execPolicy.window.weekdays.includes("FRI")&&this.weekdays.push("Friday"),this.workflowInputData.execPolicy.window.weekdays.includes("SAT")&&this.weekdays.push("Saturday")),i.endDateTime?(this.customEndRange=new Date(i.endDateTime),this.endAfter=!1):(this.rangeOccurrence=i.recurrence,this.endAfter=!0)}else this.execPolicy=this.workflowInputData.execPolicy;this.priortize=this.workflowInputData.priortize}}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe()}},{key:"getDeviceGrp",value:function(){var e=this;this.getDeviceGrpData=this.api.GetDeviceGroup(this.orgId,0,0).subscribe(function(t){e.deviceData=t,e.deviceArray=e.deviceData.filter(function(t){return e.workflowInputData.groups.includes(t._id)}),e.dataAvailable=!0})}},{key:"go_previous",value:function(){this.activeTab.emit("Select Schedule Parameters")}},{key:"submit",value:function(){this.submitWorkflow.emit(this.workflowInputData)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(w.s),r.Y36(u.A),r.Y36(O.F0),r.Y36(f.t6))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-alarm-workflow-wizard-review"]],inputs:{workflowInputData:"workflowInputData"},outputs:{activeTab:"activeTab",submitWorkflow:"submitWorkflow"},decls:81,vars:34,consts:[["id","review_wizrd",1,"review-wizard"],[1,"review-table-sec"],[1,"net-ops-secondary-title"],["id","Workflow_div",1,"table-responsive"],["datatable","",1,"row-border","dataTable","hover","table-alter",3,"dtOptions"],["class","table-responsive","id","devicegrp_div",4,"ngIf"],[1,"wizard-form"],[1,"w-100","row","form-group"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-3","col-lg-3"],["for","Name",1,"col-form-label","select-font"],[1,"col-form-label","select-font"],["class","current-issue-menu-item col-12 col-sm-12 col-md-12 col-lg-12","style","word-wrap: break-word;",4,"ngIf"],[1,"w-100","form-group"],[1,"current-issue-menu-item"],["class","row",4,"ngFor","ngForOf"],[1,"row","workflow-policy-sec"],[1,"col-xs-12","col-12","col-md-12","col-lg-12"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","workflow-policy",4,"ngIf"],[1,"workflow-next-previous"],["type","button","id","previous",1,"btn-arrow","btn-arr-prev","btn-grey","mr-2",3,"click"],["src","assets/img/ic_chevronleft_grey.svg"],["type","button","disabled","","id","finish",1,"btn-default","primary","px-3",3,"click"],["id","devicegrp_div",1,"table-responsive"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-12","col-lg-12",2,"word-wrap","break-word"],[1,"row"],["class","col-sm-12 col-md-12 col-lg-3",4,"ngIf"],[1,"col-sm-12","col-md-12","col-lg-3"],[1,"select-font"],["for","Name",1,"select-font"],[1,"workflow-policy"],[1,"form-group","ccl-form","row"],[1,"col-sm-12","col-md-12","col-lg-2","col-xl-2"],["title","TimeZone as Local",1,"timelabel"],[1,"col-sm-12","col-md-12","col-lg-10","col-xl-10","calender"],["id","start_date","appendTo","body","disabled","","timeOnly","true","hourFormat","12",3,"inputStyle","autoZIndex","placeholder","ngModel","showIcon","ngModelOptions","ngModelChange"],["for","windowlength","title","",1,"timelabel"],[1,"col-sm-12","col-md-12","col-lg-10","col-xl-10","input-group"],["type","text","id","windowlength","name","windowlength","disabled","",1,"set-due-date","form-control",3,"ngModel","ngModelChange"],["class","col-sm-12 col-md-12 col-lg-10 col-xl-10 input-group",4,"ngIf"],["class","col-10 input-group",4,"ngIf"],[1,"form-group"],[1,"row","ccl-form"],["id","start_date_1","appendTo","body","dateFormat","mm-dd-yy","disabled","",3,"inputStyle","autoZIndex","placeholder","ngModel","showIcon","ngModelOptions","ngModelChange"],["class","radio-inline",4,"ngIf"],["class","radio-inline ",4,"ngIf"],["id","start_date_1","appendTo","body","placeholder","Select Date","dateFormat","mm-dd-yy","disabled","",3,"style","inputStyle","autoZIndex","ngModel","showIcon","ngModelOptions","ngModelChange",4,"ngIf"],["class","form-group ccl-form row",4,"ngIf"],[1,"form-group","row"],[1,"col-2","timelabel"],[1,"col-sm-12","col-md-12","col-lg-10","col-xl-10"],["type","checkbox","id","priortize","placeholder","#","name","range-occurrence","disabled","",1,"mr-3",3,"checked"],[1,"col-sm-12","col-md-12","col-lg-3","col-xl-3"],[1,"radio-inline","p-0"],[1,"daily-check","flex-start","col-sm-12","col-md-12","col-lg-9","col-xl-9"],[1,"radio-inline","pr-0","mb-0"],["type","radio","name","optionGroupsRadios","disabled","",1,"mr-2"],[1,"ccl-form","ml-2","number-input"],["type","number","placeholder","1","id","daily-pattern-frequence","name","daily-pattern-frequence",1,"col-md-3",3,"ngModel","ngModelChange"],[1,"col-10","input-group"],[1,"radio-inline","col-12","p-0"],[1,"daily-check","flex-start"],["type","number","placeholder","1","id","daily-pattern-frequence","name","daily-pattern-frequence",1,"col-2",3,"ngModel","ngModelChange"],["class","radio-inline col-12 p-0",4,"ngIf"],[1,"mont-list","flex-start"],[1,"radio-inline","mb-0","pr-0"],[1,"ccl-form"],["type","number","placeholder","1","id","month-pattern-frequence","disabled","","name","month-pattern-frequence",1,"",3,"ngModel","ngModelChange"],["type","number","placeholder","1","id","daysofmonth-pattern-frequence","disabled","","name","daysofmonth-pattern-frequence",1,"",3,"ngModel","ngModelChange"],[1,"radio-inline"],["id","start_date_1","appendTo","body","placeholder","Select Date","dateFormat","mm-dd-yy","disabled","",3,"inputStyle","autoZIndex","ngModel","showIcon","ngModelOptions","ngModelChange"],[1,"timelabel"],[1,"col-sm-12","col-md-12","col-lg-10","col-xl-10","workflow-oneline"],["type","number","id","range-occurrence","placeholder","#","name","range-occurrence","disabled","",1,"col-2",3,"ngModel","ngModelChange"],[1,"period-padding"]],template:function(e,t){1&e&&(r.TgZ(0,"section",0),r.TgZ(1,"div",1),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.TgZ(4,"div",3),r.TgZ(5,"table",4),r.TgZ(6,"thead"),r.TgZ(7,"tr"),r.TgZ(8,"th"),r._uU(9),r.qZA(),r.TgZ(10,"th"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"tbody"),r.TgZ(13,"tr"),r.TgZ(14,"td"),r._uU(15),r.qZA(),r.TgZ(16,"td"),r._uU(17),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(18,"div",1),r.TgZ(19,"span",2),r._uU(20),r.qZA(),r.YNc(21,F,12,5,"div",5),r.qZA(),r.TgZ(22,"div",1),r.TgZ(23,"span",2),r._uU(24),r.qZA(),r.TgZ(25,"div",6),r.TgZ(26,"form"),r.TgZ(27,"span",2),r._uU(28,"Filter By Region"),r.qZA(),r.TgZ(29,"div",7),r.TgZ(30,"div",8),r.TgZ(31,"label",9),r._uU(32),r.qZA(),r._uU(33),r.qZA(),r.TgZ(34,"div",8),r.TgZ(35,"label",9),r._uU(36),r.qZA(),r._uU(37),r.qZA(),r.TgZ(38,"div",8),r.TgZ(39,"label",9),r._uU(40),r.qZA(),r._uU(41),r.qZA(),r.qZA(),r.TgZ(42,"span",2),r._uU(43,"Filter By Count"),r.qZA(),r.TgZ(44,"div",7),r.TgZ(45,"div",8),r.TgZ(46,"label",10),r._uU(47),r.qZA(),r.qZA(),r.TgZ(48,"div",8),r.TgZ(49,"label",10),r._uU(50),r.qZA(),r.qZA(),r.TgZ(51,"div",8),r.TgZ(52,"label",10),r._uU(53),r.ALo(54,"date"),r.qZA(),r.qZA(),r.TgZ(55,"div",8),r.TgZ(56,"label",10),r._uU(57),r.ALo(58,"date"),r.qZA(),r.qZA(),r.YNc(59,U,3,1,"div",11),r.qZA(),r.TgZ(60,"span",2),r._uU(61,"Filter By Additional Parameters"),r.qZA(),r.TgZ(62,"div",12),r.TgZ(63,"ul",13),r.YNc(64,Q,4,3,"li",14),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(65,"div",15),r.TgZ(66,"div",16),r.TgZ(67,"span",2),r._uU(68),r.qZA(),r.YNc(69,z,2,1,"h6",17),r.TgZ(70,"div"),r.YNc(71,G,2,0,"span",17),r.TgZ(72,"ol",16),r.YNc(73,Y,2,1,"li",18),r.qZA(),r.qZA(),r.YNc(74,oe,44,37,"form",19),r.qZA(),r.qZA(),r.qZA(),r.TgZ(75,"div",20),r.TgZ(76,"button",21),r.NdJ("click",function(){return t.go_previous()}),r._UZ(77,"img",22),r._uU(78),r.qZA(),r.TgZ(79,"button",23),r.NdJ("click",function(){return t.submit()}),r._uU(80),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Oqu(t.language.Workflow),r.xp6(2),r.Q6J("dtOptions",t.tableRevOptions),r.xp6(4),r.Oqu(t.language.Name),r.xp6(2),r.Oqu(t.language.description),r.xp6(4),r.Oqu(null!=t.workflowInputData&&t.workflowInputData.name?null==t.workflowInputData?null:t.workflowInputData.name:""),r.xp6(2),r.hij(" ",null!=t.workflowInputData&&t.workflowInputData.description?t.workflowInputData.description:""," "),r.xp6(3),r.Oqu(t.language.Grouping),r.xp6(1),r.Q6J("ngIf",t.dataAvailable),r.xp6(3),r.Oqu(t.language.Operation_Parameters),r.xp6(8),r.Oqu(t.language.region),r.xp6(1),r.hij(" : ",null==t.workflowInputData?null:t.workflowInputData.regionName," "),r.xp6(3),r.Oqu(t.language.Location),r.xp6(1),r.hij(" : ",null==t.workflowInputData?null:t.workflowInputData.locationName," "),r.xp6(3),r.Oqu(t.language.System),r.xp6(1),r.hij(": ",null==t.workflowInputData?null:t.workflowInputData.systemName," "),r.xp6(6),r.hij(" No of Count : ",null==t.workflowInputData?null:t.workflowInputData.count," "),r.xp6(3),r.hij(" Duration (Seconds) : ",null==t.workflowInputData?null:t.workflowInputData.duration," "),r.xp6(3),r.hij(" Start Date : ",r.xi3(54,28,null==t.workflowInputData?null:t.workflowInputData.startDate,"dd/MM/yyyy")," "),r.xp6(4),r.hij(" End Date : ",r.xi3(58,31,null==t.workflowInputData?null:t.workflowInputData.endDate,"dd/MM/yyyy")," "),r.xp6(2),r.Q6J("ngIf","No"==(null==t.workflowInputData?null:t.workflowInputData.selectedCategories)),r.xp6(5),r.Q6J("ngForOf",null==t.workflowInputData?null:t.workflowInputData.additionalParams),r.xp6(4),r.Oqu(t.language.Select_Trigger),r.xp6(1),r.Q6J("ngIf","CPE Event"===(null==t.workflowInputData?null:t.workflowInputData.execPolicy.initialTrigger.type)),r.xp6(2),r.Q6J("ngIf","CPE Event"===(null==t.workflowInputData?null:t.workflowInputData.execPolicy.initialTrigger.type)),r.xp6(2),r.Q6J("ngForOf",t.listofEmail),r.xp6(1),r.Q6J("ngIf","CPE Event"!==(null==t.workflowInputData?null:t.workflowInputData.execPolicy.initialTrigger.type)),r.xp6(4),r.hij(" ",t.language.Previous," "),r.xp6(2),r.hij(" ",t.language.Finish," "))},directives:[l.G,m.O5,h._Y,h.JL,h.F,m.sg,N.f,h.JJ,h.On,h.Fj,h.wV],pipes:[m.uU],styles:[".review-table-sec[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;font-size:18px;margin-bottom:10px}.review-wizard[_ngcontent-%COMP%]{border:1px solid #ccc;padding:15px;border-radius:5px}.review-table-sec[_ngcontent-%COMP%]{margin:0}.workflow-policy-sec[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px;margin-bottom:30px}.workflow-policy[_ngcontent-%COMP%]   .timelabel[_ngcontent-%COMP%]{padding-left:30px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%], input[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.daily-check[_ngcontent-%COMP%]   .ccl-form.number-input[_ngcontent-%COMP%]{width:50%;margin-left:10px}.daily-check[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:5px;color:#222}.workflow-oneline[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:9%;margin-right:5px;padding-right:5px}.mont-list[_ngcontent-%COMP%]   .ccl-form[_ngcontent-%COMP%]{width:20%;display:flex;align-items:center}.mont-list[_ngcontent-%COMP%]   .ccl-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50%;padding-right:5px}.mont-list[_ngcontent-%COMP%]   .ccl-form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}.mont-list[_ngcontent-%COMP%]   label.radio-inline[_ngcontent-%COMP%]{margin-right:9px}"]}),e}(),re=a(47986),le=a(68745),se=a(48483),ce=a(21693),ue=a(74375),de=a(20692);function ge(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",31),r.TgZ(1,"span",32),r._UZ(2,"img",33),r.qZA(),r._UZ(3,"div",34),r.TgZ(4,"button",35),r.NdJ("click",function(){return r.CHM(i),r.oxw().closeAlert()}),r._uU(5),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(3),r.Q6J("innerHtml",n.errorInfo,r.oJD),r.xp6(2),r.hij(" ",n.language.Ok," ")}}function pe(e,t){1&e&&(r.TgZ(0,"em"),r._uU(1," please enter value starting from 1 "),r.qZA())}function fe(e,t){1&e&&(r.TgZ(0,"em"),r._uU(1," please enter value starting from 1 "),r.qZA())}function he(e,t){if(1&e&&(r.TgZ(0,"div",18),r.TgZ(1,"div",36),r.TgZ(2,"label",6),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"div",37),r._UZ(5,"ng-select",38),r.qZA(),r.qZA()),2&e){var i=r.oxw();r.xp6(3),r.Oqu(i.language.SelectAlarm),r.xp6(2),r.s9C("placeholder",i.language.SelectAlarm),r.Q6J("multiple",!0)("items",i.inputAlarms)("clearable",!1)("searchable",!0)}}function we(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"img",49),r.NdJ("click",function(){return r.CHM(i),r.oxw(2).addParams()}),r.qZA()}}function me(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"img",50),r.NdJ("click",function(){r.CHM(i);var e=r.oxw().index;return r.oxw().removeAddParams(e)}),r.qZA()}}function ve(e,t){1&e&&(r.TgZ(0,"em"),r._uU(1," please select a value "),r.qZA())}function ke(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",51),r.TgZ(1,"label",52),r._uU(2,"Service Impacting "),r.TgZ(3,"img",50),r.NdJ("click",function(){r.CHM(i);var e=r.oxw().index;return r.oxw().removeSingleParams(e,"Service Impacting")}),r.qZA(),r.qZA(),r.TgZ(4,"div"),r.TgZ(5,"label",53),r._UZ(6,"input",54),r._uU(7),r.qZA(),r.TgZ(8,"label",53),r._UZ(9,"input",55),r._uU(10),r.qZA(),r.qZA(),r.YNc(11,ve,2,0,"em",16),r.qZA()}if(2&e){var n,o=r.oxw().index,a=r.oxw();r.xp6(6),r.MGl("id","ServiceImpacting",o,""),r.xp6(1),r.hij(" ",a.language.Yes," "),r.xp6(2),r.MGl("id","ServiceImpacting",o,""),r.xp6(1),r.hij(" ",a.language.No," "),r.xp6(1),r.Q6J("ngIf",null==(n=a.filtersForm.get("ServiceImpacting"))||null==n.errors?null:n.errors.required)}}function be(e,t){1&e&&(r.TgZ(0,"em"),r._uU(1," please select a value "),r.qZA())}function ye(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",51),r.TgZ(1,"label",52),r._uU(2,"Service Affecting "),r.TgZ(3,"img",50),r.NdJ("click",function(){r.CHM(i);var e=r.oxw().index;return r.oxw().removeSingleParams(e,"Service Affecting")}),r.qZA(),r.qZA(),r.TgZ(4,"div"),r.TgZ(5,"label",53),r._UZ(6,"input",56),r._uU(7),r.qZA(),r.TgZ(8,"label",53),r._UZ(9,"input",57),r._uU(10),r.qZA(),r.qZA(),r.YNc(11,be,2,0,"em",16),r.qZA()}if(2&e){var n,o=r.oxw().index,a=r.oxw();r.xp6(6),r.MGl("id","ServiceAffecting",o,""),r.xp6(1),r.hij(" ",a.language.Yes," "),r.xp6(2),r.MGl("id","ServiceAffecting",o,""),r.xp6(1),r.hij(" ",a.language.No," "),r.xp6(1),r.Q6J("ngIf",null==(n=a.filtersForm.get("ServiceAffecting"))||null==n.errors?null:n.errors.required)}}function De(e,t){1&e&&(r.TgZ(0,"em"),r._uU(1," please select a value "),r.qZA())}function Ze(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",51),r.TgZ(1,"label",58),r._uU(2),r.TgZ(3,"img",50),r.NdJ("click",function(){r.CHM(i);var e=r.oxw().index;return r.oxw().removeSingleParams(e,"Severity")}),r.qZA(),r.qZA(),r.TgZ(4,"div",59),r.TgZ(5,"ng-select",60),r.NdJ("change",function(){return r.CHM(i),r.oxw(2).changeSeverity()}),r.TgZ(6,"ng-option",61),r._uU(7),r.qZA(),r.TgZ(8,"ng-option",62),r._uU(9),r.qZA(),r.TgZ(10,"ng-option",63),r._uU(11),r.qZA(),r.TgZ(12,"ng-option",64),r._uU(13),r.qZA(),r.TgZ(14,"ng-option",65),r._uU(15),r.qZA(),r.TgZ(16,"ng-option",66),r._uU(17),r.qZA(),r.qZA(),r.YNc(18,De,2,0,"em",16),r.qZA(),r.qZA()}if(2&e){var n,o=r.oxw(2);r.xp6(2),r.hij("",o.language.Severity," "),r.xp6(3),r.s9C("placeholder",o.language.Severity),r.Q6J("searchable",!1),r.xp6(2),r.Oqu(o.language.All),r.xp6(2),r.Oqu(o.language.critical),r.xp6(2),r.Oqu(o.language.major),r.xp6(2),r.Oqu(o.language.minor),r.xp6(2),r.Oqu(o.language.Warning),r.xp6(2),r.Oqu(o.language.Info),r.xp6(1),r.Q6J("ngIf",null==(n=o.filtersForm.get("Severity"))||null==n.errors?null:n.errors.required)}}function Ae(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",39),r.TgZ(1,"div",40),r.TgZ(2,"div",18),r.TgZ(3,"label",41),r._uU(4,"Select Parameter"),r.qZA(),r.TgZ(5,"div",42),r.TgZ(6,"ng-select",43),r.NdJ("change",function(e){var t=r.CHM(i).index;return r.oxw().selectAdditionalParam(e,t)})("add",function(e){return r.CHM(i),r.oxw().addAdditionalParam(e)}),r.qZA(),r.qZA(),r.TgZ(7,"div",44),r.YNc(8,we,1,0,"img",45),r.YNc(9,me,1,0,"img",46),r.qZA(),r.qZA(),r.TgZ(10,"div",47),r.YNc(11,ke,12,5,"div",48),r.YNc(12,ye,12,5,"div",48),r.YNc(13,Ze,19,10,"div",48),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=t.index,o=r.oxw();r.xp6(1),r.Q6J("formGroupName",n),r.xp6(5),r.Q6J("clearOnBackspace",!0)("multiple",!1)("items",o.additionalParameters)("clearable",!0)("searchable",!0),r.xp6(2),r.Q6J("ngIf",n==(null==o.filtersForm||null==o.filtersForm.value.additionalParams?null:o.filtersForm.value.additionalParams.length)-1),r.xp6(1),r.Q6J("ngIf",n!=(null==o.filtersForm||null==o.filtersForm.value.additionalParams?null:o.filtersForm.value.additionalParams.length)-1),r.xp6(2),r.Q6J("ngIf",o.selectedAddParams[n]&&o.selectedAddParams[n].includes("Service Impacting")),r.xp6(1),r.Q6J("ngIf",o.selectedAddParams[n]&&o.selectedAddParams[n].includes("Service Affecting")),r.xp6(1),r.Q6J("ngIf",o.selectedAddParams[n]&&o.selectedAddParams[n].includes("Severity"))}}var xe=function(e){return[e]},Te=function(){var t=function(){function t(e,n,o,a,l,u,d,g,p,f,w){i(this,t),this.translateService=e,this.customTranslateService=n,this.commonOrgService=o,this.api=a,this.router=l,this.sso=u,this.fileService=d,this.fb=g,this.http=p,this.dateUtilsService=f,this.issueService=w,this.workflowOprData=new r.vpe,this.activeTab=new r.vpe,this.inputLocations=[{label:"location1"},{label:"location2"},{label:"location3"}],this.dropdownPeriod=["Bandwidth","Data Service","Video Service","Voice Service"],this.inputOperationType=[{name:"Configuration File Download",id:"Configuration File Download"},{name:"Download SW/FW Image",id:"Download SW/FW Image"},{name:"Reboot",id:"Reboot"},{name:"Apply Configuration Profile",id:"Apply Configuration Profile"},{name:"Replace Service Profile",id:"Replace Service Profile"},{name:"Add to Static Device Group",id:"Add Static Device Group"},{name:"Edge Suites Provision",id:"Edge Suites Provision"}],this.configFileDnwld=["Name","Description","Software Version","Type"],this.commonHeader=["Name","Description"],this.replaceService=["Name","Description","Type"],this.actionType="Download Configuration File",this.categoryChoosed="Bandwidth",this.tableHeader=[],this.replaceProfile=!1,this.loading=!0,this.isRerender=!1,this.newOprtn=!1,this.doneActive=!1,this.newProfileShow=!1,this.selectedDevices=[],this.errorInfo="",this.successInfo="",this.IQtemp=[],this.tableOptions={pagingType:"full_numbers",dom:"t",ordering:!1,columnDefs:[{targets:[1,2,3,4],orderable:!1},{targets:[0],orderable:!0}],order:[0,"asc"],drawCallback:function(e){e.aoData.length<=e._iDisplayLength&&$(e.nTableWrapper).find("#opr-table_last").addClass("disabled")}},this.dtTrigger=new s.xQ,this.sysAdminRoute="systemAdministration",this.doneClicked=!1,this.groupOfCategory=["Service Attributes","Services"],this.IQSuitesData=[],this.showEditButton=!1,this.filtersForm=this.fb.group({region:[""],location:[""],system:[""],duration:["",[h.kI.min(1)]],count:["",[h.kI.min(1)]],additionalParams:this.fb.array([this.createItem()]),startDate:[""],endDate:[""],SelectedAlarm:[""]}),this.regionsDataArray=["All"],this.locationDataArray=["All"],this.systemDataArray=["All"],this.categories=[],this.baseUrl="".concat(c.N.API_BASE_URL,"analytics-engine/"),this.ServiceAffecting="Yes",this.ServiceImpacting="Yes",this.clickedSystem="",this.inputAlarms=[{label:"device_sync_failure"},{label:"post_i2c"},{label:"dhcp-server-detected"}],this.maxDate=new Date,this.maxForStartDate=new Date,this.additionalParameters=[{label:"Service Impacting"},{label:"Service Affecting"},{label:"Severity"}],this.todayDate=new Date,this.selectedAddParams=[],this.oprData={},this.orgId=this.sso.getOrgId(),this.frTable=this.customTranslateService.fr,this.sysAdminRoute=c.N.SYS_ADMIN_ROUTE}return o(t,[{key:"ngOnInit",value:function(){var e=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t}),this.tableHeader=this.configFileDnwld,this.workflowInputData&&this.workflowInputData.actions.forEach(function(e){"Edge Suites Provision"===e.actionType&&(e.actionType="Edge Suites Bulk Activation")}),this.router.url.includes("cco-foundation")?(this.oprTypeValueSelected="Download SW/FW Image",this.inputOperationType=this.sso.getEntitlementsArr().indexOf("203")>-1||this.sso.getEntitlementsArr().indexOf("204")>-1||this.sso.getEntitlementsArr().indexOf("205")>-1?[{name:"Download SW/FW Image",id:"Download SW/FW Image"},{name:"Reboot",id:"Reboot"},{name:"Apply Configuration Profile",id:"Apply Configuration Profile"},{name:"Replace Service Profile",id:"Replace Service Profile"},{name:"Add to Static Device Group",id:"Add Static Device Group"},{name:"Edge Suites Provision",id:"Edge Suites Provision"}]:[{name:"Download SW/FW Image",id:"Download SW/FW Image"},{name:"Reboot",id:"Reboot"},{name:"Apply Configuration Profile",id:"Apply Configuration Profile"},{name:"Replace Service Profile",id:"Replace Service Profile"},{name:"Add to Static Device Group",id:"Add Static Device Group"}],this.optTypeValueChoose()):(this.oprTypeValueSelected="Configuration File Download",this.optTypeValueChoose(),this.inputOperationType=this.sso.getEntitlementsArr().indexOf("203")>-1||this.sso.getEntitlementsArr().indexOf("204")>-1||this.sso.getEntitlementsArr().indexOf("205")>-1?[{name:"Configuration File Download",id:"Configuration File Download"},{name:"Download SW/FW Image",id:"Download SW/FW Image"},{name:"Reboot",id:"Reboot"},{name:"Apply Configuration Profile",id:"Apply Configuration Profile"},{name:"Replace Service Profile",id:"Replace Service Profile"},{name:"Add to Static Device Group",id:"Add Static Device Group"},{name:"Edge Suites Provision",id:"Edge Suites Provision"}]:[{name:"Configuration File Download",id:"Configuration File Download"},{name:"Download SW/FW Image",id:"Download SW/FW Image"},{name:"Reboot",id:"Reboot"},{name:"Apply Configuration Profile",id:"Apply Configuration Profile"},{name:"Replace Service Profile",id:"Replace Service Profile"},{name:"Add to Static Device Group",id:"Add Static Device Group"}]),this.checkSwCondition(),this.Severity="all",this.filtersForm.patchValue({region:["All"],location:["All"],system:["All"],severity:["All"]}),this.initData(),this.regionsApiLoader(),this.getCategories()}},{key:"initData",value:function(){this.workflowInputData&&(this.workflowInputData.region&&(this.filtersForm.get("region").setValue(this.workflowInputData.region),this.loadLocationValue(this.workflowInputData.region)),this.workflowInputData.location&&(this.filtersForm.get("location").setValue(this.workflowInputData.location),this.loadSystemValue(this.workflowInputData.location)),this.workflowInputData.system&&this.filtersForm.get("system").setValue(this.workflowInputData.system),this.workflowInputData.count&&this.filtersForm.get("count").setValue(this.workflowInputData.count),this.workflowInputData.duration&&this.filtersForm.get("duration").setValue(this.workflowInputData.duration),0!=this.workflowInputData.additionalParams.length&&(this.addAvailableSystems(this.workflowInputData.additionalParams),this.updateSelectedValues(this.workflowInputData.additionalParams)),this.workflowInputData.startDate&&this.filtersForm.get("startDate").setValue(new Date(this.workflowInputData.startDate)),this.workflowInputData.endDate&&this.filtersForm.get("endDate").setValue(new Date(this.workflowInputData.endDate)),this.workflowInputData.alarmName&&this.filtersForm.get("SelectedAlarm").setValue(this.workflowInputData.alarmName))}},{key:"createItem",value:function(e){return this.fb.group({Severity:(null==e?void 0:e.Severity)||void 0,ServiceImpacting:(null==e?void 0:e.ServiceImpacting)||void 0,ServiceAffecting:(null==e?void 0:e.ServiceAffecting)||void 0})}},{key:"updateSelectedValues",value:function(e){var t=this;e.forEach(function(e,i){e.Severity&&(t.selectedAddParams[i]=t.selectedAddParams[i]?t.selectedAddParams[i]+",Severity":"Severity"),e.ServiceImpacting&&(t.selectedAddParams[i]=t.selectedAddParams[i]?t.selectedAddParams[i]+",Service Impacting":"Service Impacting"),e.ServiceAffecting&&(t.selectedAddParams[i]=t.selectedAddParams[i]?t.selectedAddParams[i]+",Service Affecting":"Service Affecting")})}},{key:"removeSingleParams",value:function(e,t){var i=this.selectedAddParams[e].split(",");i=i.filter(function(e){return e!=t}).join(),this.selectedAddParams[e]=i,"Severity"==t&&this.filtersForm.get("additionalParams").at(e).get("Severity").patchValue(void 0),"Service Impacting"==t&&this.filtersForm.get("additionalParams").at(e).get("ServiceImpacting").patchValue(void 0),"Service Affecting"==t&&this.filtersForm.get("additionalParams").at(e).get("ServiceAffecting").patchValue(void 0)}},{key:"addAvailableSystems",value:function(e){var t=this;for(this.paramList=this.filtersForm.get("additionalParams");0!==this.paramList.length;)this.paramList.removeAt(0);e.forEach(function(e,i){t.paramList.push(t.createItem(e))})}},{key:"removeAddParams",value:function(e){this.paramList.removeAt(e),delete this.selectedAddParams[e],this.selectedAddParams=this.selectedAddParams.filter(function(e){return e}),this.addAvailableSystems(this.paramList.value)}},{key:"addParams",value:function(){this.paramList=this.filtersForm.get("additionalParams"),this.paramList.push(this.createItem())}},{key:"selectSystem",value:function(e){var t=this.filtersForm.get("system").value;this.systemName=t,"All"==t&&(this.systemName=null)}},{key:"validateRegion",value:function(e){var t=this.filtersForm.get("region").value;if("All"===e)this.workflowInputData.regionName="All",t=["All"];else{this.workflowInputData.regionName=e.name;var i=t.indexOf("All");i>-1&&t.splice(i,1)}this.filtersForm.get("region").setValue(t),this.loadLocationValue("")}},{key:"validateLocation",value:function(e){var t=this.filtersForm.get("location").value;if("All"===e)this.workflowInputData.locationName="All",t=["All"];else{this.workflowInputData.locationName=e.name;var i=t.indexOf("All");i>-1&&t.splice(i,1)}this.filtersForm.get("location").setValue(t),this.loadSystemValue("")}},{key:"changeSeverity",value:function(){this.clickedSeverity=""}},{key:"validateSystem",value:function(e){var t=this.filtersForm.get("system").value;if("All"===e)this.workflowInputData.systemName="All",t=["All"];else{this.workflowInputData.systemName=e.name;var i=t.indexOf("All");i>-1&&t.splice(i,1)}this.filtersForm.get("system").setValue(t)}},{key:"addAdditionalParam",value:function(e){}},{key:"selectAdditionalParam",value:function(e,t){this.selectedAddParams[t]=this.selectedAddParams[t]?this.selectedAddParams[t]+","+e.label:e.label}},{key:"loadSystemValue",value:function(e){var t=this;this.clickedLocation="";var i=this.filtersForm.get("region").value,n=this.filtersForm.get("location").value;if(this.systemSelected=["All"],i.length&&n.length&&-1===n.indexOf("All")){var o="";i.forEach(function(e){"All"!=e&&(o+="&region=".concat(e))});var a="";n.forEach(function(e){"All"!=e&&(a+="&location=".concat(e))}),this.http.get("".concat(c.N.API_BASE_URL,"nfa/systems?tenant=0&org-id=").concat(this.sso.getOrgId()).concat(o).concat(a)).subscribe(function(e){t.systemDataArray=e,t.systemDataArray.push("All")},function(e){});var r=[];this.locationDataArray.forEach(function(e){-1!==n.indexOf(e.id)&&r.push(e.name)}),this.locationName=r}else n.length||(this.filtersForm.get("system").setValue(["All"]),this.locationName=null,this.systemName=null,this.systemDataArray=["All"])}},{key:"loadLocationValue",value:function(e){var t=this;this.clickedRegion="",this.locationSelected="All",this.systemSelected="All";var i=this.filtersForm.get("region").value;if(this.regionSelected=i,this.regionSelected&&this.regionSelected!=["All"]){var n="";if(i.length&&i!==["All"]){if(-1!==i.indexOf("All"))return this.regionName=null,this.locationName=null,this.systemName=null,this.locationDataArray=["All"],void(this.systemDataArray=["All"]);i.forEach(function(e){"All"!=e&&(n+="&region=".concat(e))}),this.http.get("".concat(c.N.API_BASE_URL,"nfa/locations?tenant=0&org-id=").concat(this.sso.getOrgId()).concat(n)).subscribe(function(e){t.locationDataArray=e,t.locationDataArray.push("All")},function(e){});var o=[];this.regionsDataArray.forEach(function(e){-1!==i.indexOf(e.id)&&o.push(e.name)}),this.regionName=o}else this.filtersForm.get("location").setValue(["All"]),this.filtersForm.get("system").setValue(["All"]),this.regionName=null,this.locationName=null,this.systemName=null,this.locationDataArray=["All"],this.systemDataArray=["All"]}}},{key:"regionsApiLoader",value:function(){var t=this;this.regionSelected="All",this.locationSelected="All",this.systemSelected="All",this.regionsSubject=this.issueService.getRegions().subscribe(function(i){i.sort(),t.regionsDataArray=[].concat(e(t.regionsDataArray),e(i))},function(e){})}},{key:"getCategories",value:function(){var e=this,t={historyReport:!1},i="";for(var n in t)null==t[n]||""==t[n]||t[n]===[]||(""!=i&&(i+="&"),i+=n+"="+encodeURIComponent(t[n]));i+="&historyReport=false",this.http.get("".concat(this.baseUrl,"category?").concat(i)).subscribe(function(t){var i=[{id:"All",name:"All"}];t&&t.forEach(function(e){!e||i.push({id:e,name:e})}),e.categories=i})}},{key:"checkSwCondition",value:function(){if(this.workflowInputData)for(var e=0;e<this.workflowInputData.actions.length;e++){if("Download SW/FW Image"==this.workflowInputData.actions[e].actionType&&"CPE Event"==this.workflowInputData.execPolicy.initialTrigger.type&&"Suspended"!=this.workflowInputData.state){this.actionType=this.workflowInputData.actions[0].actionType,this.showEditButton=!0;break}this.showEditButton=!1}}},{key:"newOprtnAdd",value:function(e,t){this.newOprtn=!0,"new"===e&&(this.operationCondition="",this.categoryChoosed="Bandwidth",this.doneActive=!1,this.actionType=""),this.workflowInputData.groups.length?0!=this.workflowInputData.actions.length&&this.workflowInputData.actions[0].actionType?"edit"===e?(this.editIndex=t,this.oprTypeValueSelected=this.workflowInputData.actions[t].actionType,this.optTypeValueChoose()):(this.oprTypeValueSelected=this.workflowInputData.actions[0].actionType,this.workflowInputData.actions.findIndex(function(e){return"Edge Suites Bulk Activation"===e.actionType}),this.router.url.includes("cco-foundation")&&(this.oprTypeValueSelected="Download SW/FW Image",this.inputOperationType=this.sso.getEntitlementsArr().indexOf("203")>-1||this.sso.getEntitlementsArr().indexOf("204")>-1||this.sso.getEntitlementsArr().indexOf("205")>-1?[{name:"Download SW/FW Image",id:"Download SW/FW Image"},{name:"Reboot",id:"Reboot"},{name:"Apply Configuration Profile",id:"Apply Configuration Profile"},{name:"Replace Service Profile",id:"Replace Service Profile"},{name:"Add to Static Device Group",id:"Add Static Device Group"},{name:"Edge Suites Provision",id:"Edge Suites Provision"}]:[{name:"Download SW/FW Image",id:"Download SW/FW Image"},{name:"Reboot",id:"Reboot"},{name:"Apply Configuration Profile",id:"Apply Configuration Profile"},{name:"Replace Service Profile",id:"Replace Service Profile"},{name:"Add to Static Device Group",id:"Add Static Device Group"}]),this.optTypeValueChoose()):(this.workflowInputData.actions.findIndex(function(e){return"Edge Suites Bulk Activation"===e.actionType}),this.router.url.includes("cco-foundation")?(this.oprTypeValueSelected="Download SW/FW Image",this.inputOperationType=this.sso.getEntitlementsArr().indexOf("203")>-1||this.sso.getEntitlementsArr().indexOf("204")>-1||this.sso.getEntitlementsArr().indexOf("205")>-1?[{name:"Download SW/FW Image",id:"Download SW/FW Image"},{name:"Reboot",id:"Reboot"},{name:"Apply Configuration Profile",id:"Apply Configuration Profile"},{name:"Replace Service Profile",id:"Replace Service Profile"},{name:"Add to Static Device Group",id:"Add Static Device Group"},{name:"Edge Suites Provision",id:"Edge Suites Provision"}]:[{name:"Download SW/FW Image",id:"Download SW/FW Image"},{name:"Reboot",id:"Reboot"},{name:"Apply Configuration Profile",id:"Apply Configuration Profile"},{name:"Replace Service Profile",id:"Replace Service Profile"},{name:"Add to Static Device Group",id:"Add Static Device Group"}],this.optTypeValueChoose()):(this.oprTypeValueSelected="Configuration File Download",this.inputOperationType=this.sso.getEntitlementsArr().indexOf("203")>-1||this.sso.getEntitlementsArr().indexOf("204")>-1||this.sso.getEntitlementsArr().indexOf("205")>-1?[{name:"Configuration File Download",id:"Configuration File Download"},{name:"Download SW/FW Image",id:"Download SW/FW Image"},{name:"Reboot",id:"Reboot"},{name:"Apply Configuration Profile",id:"Apply Configuration Profile"},{name:"Replace Service Profile",id:"Replace Service Profile"},{name:"Add to Static Device Group",id:"Add Static Device Group"},{name:"Edge Suites Provision",id:"Edge Suites Provision"}]:[{name:"Configuration File Download",id:"Configuration File Download"},{name:"Download SW/FW Image",id:"Download SW/FW Image"},{name:"Reboot",id:"Reboot"},{name:"Apply Configuration Profile",id:"Apply Configuration Profile"},{name:"Replace Service Profile",id:"Replace Service Profile"},{name:"Add to Static Device Group",id:"Add Static Device Group"}],this.optTypeValueChoose())):(this.workflowInputData.actions.findIndex(function(e){return"Edge Suites Bulk Activation"===e.actionType}),this.oprTypeValueSelected="Replace Service Profile",this.inputOperationType=this.sso.getEntitlementsArr().indexOf("203")>-1||this.sso.getEntitlementsArr().indexOf("204")>-1||this.sso.getEntitlementsArr().indexOf("205")>-1?[{name:"Replace Service Profile",id:"Replace Service Profile"},{name:"Edge Suites Provision",id:"Edge Suites Provision"}]:[{name:"Replace Service Profile",id:"Replace Service Profile"}],this.tableHeader=this.replaceService,this.replaceProfile=!0,this.actionType="Replace Service Profile",this.getReplaceService(this.categoryChoosed),this.getConfigFile())}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe(),this.getConfigFileSubscribe&&this.getConfigFileSubscribe.unsubscribe(),this.getSwImageSubscribe&&this.getSwImageSubscribe.unsubscribe(),this.getConfigProfileSubscribe&&this.getConfigProfileSubscribe.unsubscribe(),this.getStaticSubscribe&&this.getStaticSubscribe.unsubscribe(),this.getReplaceServiceSubscribe&&this.getReplaceServiceSubscribe.unsubscribe(),this.getNewProfileSubscribe&&this.getNewProfileSubscribe.unsubscribe()}},{key:"setTableOptions",value:function(e){var t=this;this.tableOptions={pagingType:"full_numbers",rowId:"id",searching:!1,lengthChange:!1,paging:!1,ordering:!1,dom:"t",columnDefs:[{targets:[1,2,3,4],orderable:!1},{targets:[0],orderable:!0}],order:[0,"asc"],drawCallback:function(e){e.aoData.length<=e._iDisplayLength&&$(e.nTableWrapper).find("#opr-table_last").addClass("disabled")}},e&&"language"==e?setTimeout(function(){t.rerender(),setTimeout(function(){t.dataAvailable=!0,t.loading=!1},100)},100):setTimeout(function(){t.dataAvailable=!0,t.loading=!1},500)}},{key:"rerender",value:function(){var e=this;this.dtElement.dtInstance.then(function(t){t.destroy(),e.dtTrigger.next()})}},{key:"chooseCategory",value:function(){"Data Service"===this.categoryChoosed?(this.getReplaceService("Data Service"),this.newProfileShow=!1):"Voice Service"===this.categoryChoosed?(this.getReplaceService("Voice Service"),this.newProfileShow=!1):"Video Service"===this.categoryChoosed?(this.getReplaceService("Video Service"),this.newProfileShow=!1):(this.getReplaceService("Bandwidth"),this.newProfileShow=!1)}},{key:"optTypeValueChoose",value:function(){this.workflowInputData&&this.workflowInputData.source&&delete this.workflowInputData.source,"Configuration File Download"===this.oprTypeValueSelected?(this.tableHeader=this.configFileDnwld,this.replaceProfile=!1,this.actionType="Download Configuration File",this.getConfigFile()):"Download SW/FW Image"===this.oprTypeValueSelected?(this.tableHeader=this.commonHeader,this.replaceProfile=!1,this.actionType="Download SW/FW Image",this.router.url.includes("/cco-foundation/foundation-operations/foundation-system-operation/workflows/workflow-wizard")&&(this.workflowInputData.fullGroupExecute=!0,this.workflowInputData.source="Foundation"),this.getSwImgFile()):"Apply Configuration Profile"===this.oprTypeValueSelected?(this.tableHeader=this.commonHeader,this.replaceProfile=!1,this.actionType="Apply Configuration Profile",this.getConfigProfile()):"Add Static Device Group"===this.oprTypeValueSelected?(this.tableHeader=this.commonHeader,this.replaceProfile=!1,this.actionType="Add to Static Device Group",this.getStaticDevice()):"Reboot"===this.oprTypeValueSelected?(this.actionType="Reboot",this.doneActive=!0,this.oprData={}):"Edge Suites Provision"===this.oprTypeValueSelected?(this.IQtemp.length=0,this.IQSuitesData.length=0,this.tableHeader=this.commonHeader,this.replaceProfile=!1,this.actionType="Edge Suites Bulk Activation",(this.sso.getEntitlementsArr().indexOf("203")>-1||this.sso.getEntitlementsArr().indexOf("205")>-1)&&this.IQSuitesData.push({_id:"2",name:"ProtectIQ",checked:!1,description:"ProtectIQ"}),(this.sso.getEntitlementsArr().indexOf("204")>-1||this.sso.getEntitlementsArr().indexOf("205")>-1)&&this.IQSuitesData.push({_id:"1",name:"ExperienceIQ",checked:!1,description:"ExperienceIQ"})):(this.oprData={},this.tableHeader=this.replaceService,this.replaceProfile=!0,this.actionType="Replace Service Profile",this.getReplaceService(this.categoryChoosed))}},{key:"bindConfigData",value:function(e,t){if(e.target.checked)if(this.oprData={},"Add to Static Device Group"===this.actionType){this.doneActive=!0;var i={};i.staticGroupId=t._id,i.actionType=this.actionType,i.profileName=t.name,this.operationCondition&&(i.conditionLogic=this.operationCondition),this.oprData=i}else if("Apply Configuration Profile"===this.actionType){this.doneActive=!0;var n={};n.profileId=t._id,n.actionType=this.actionType,n.profileName=t.name,this.operationCondition&&(n.conditionLogic=this.operationCondition),this.oprData=n}else if("Edge Suites Bulk Activation"===this.actionType){this.doneActive=!0;var o={};this.IQtemp.push(t.name),o.actionType=this.actionType,o.appType=this.IQtemp.join(","),this.router.url.includes("/cco-foundation")&&(this.workflowInputData.source="Foundation"),this.operationCondition&&(o.conditionLogic=this.operationCondition),this.oprData=o}else{this.doneActive=!0;var a={};a.fileId=t._id,a.actionType=this.actionType,a.profileName=t.name,this.operationCondition&&(a.conditionLogic=this.operationCondition),this.oprData=a}else if("Edge Suites Bulk Activation"===this.actionType){var r=this.IQtemp.indexOf(t.name);-1!=r&&this.IQtemp.splice(r,1);var l={};l.actionType=this.actionType,l.appType=this.IQtemp.join(","),l.appType||(this.doneActive=!1),this.router.url.includes("/cco-foundation")&&(this.workflowInputData.source="Foundation"),this.operationCondition&&(l.conditionLogic=this.operationCondition),this.oprData=l}}},{key:"findObjIndex",value:function(e,t){for(var i=0;i<t.length;i++)if(t[i]._id===e)return i;return-1}},{key:"checkErrors",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;return Object.keys(e.controls).forEach(function(n){var o=e.get(n);o instanceof h.NI?i[n]=o.errors:o instanceof h.cw&&(i[n]=t.checkErrors(o))}),0!=Object.keys(i).length&&Object.keys(i).forEach(function(e){i[e]instanceof Object&&(n=!0)}),n}},{key:"go_next",value:function(){return this.workflowInputData.actions.length>0?(this.workflowInputData.levelPassed<=3&&(this.workflowInputData.levelPassed=3),this.workflowOprData.emit(this.workflowInputData),this.activeTab.emit("Select Schedule Parameters"),!0):this.checkErrors(this.filtersForm)?void 0:(this.workflowInputData.levelPassed<=3&&(this.workflowInputData.levelPassed=3),this.workflowInputData.region=this.filtersForm.get("region").value,this.workflowInputData.location=this.filtersForm.get("location").value,this.workflowInputData.system=this.filtersForm.get("system").value,this.workflowInputData.duration=this.filtersForm.get("duration").value,this.workflowInputData.count=this.filtersForm.get("count").value,this.workflowInputData.additionalParams=[],this.workflowInputData.additionalParams=this.filtersForm.get("additionalParams").value,this.filtersForm.get("startDate").value&&(this.workflowInputData.startDate=new Date(this.filtersForm.get("startDate").value).toUTCString()),this.filtersForm.get("endDate").value&&(this.workflowInputData.endDate=new Date(this.filtersForm.get("endDate").value).toUTCString()),this.workflowInputData.alarmName=this.filtersForm.get("SelectedAlarm").value,this.workflowOprData.emit(this.workflowInputData),this.activeTab.emit("Select Schedule Parameters"),!0)}},{key:"go_previous",value:function(){this.workflowOprData.emit(this.workflowInputData),this.router.url.endsWith("official-workflow-wizard")?this.activeTab.emit("Start"):this.activeTab.emit("Select Device Groups")}},{key:"deleteWrkflw",value:function(e){this.workflowInputData.actions.splice(e,1)}},{key:"getConfigFile",value:function(){var e=this;this.getConfigFileSubscribe=this.api.getConfigFile(this.orgId,"Configuration File").subscribe(function(t){if(t){var i=[];e.workflowInputData.actions&&e.workflowInputData.actions.forEach(function(e){i.push(e.fileId)});for(var n={},o=0;o<t.length;o++)n[t[o]._id]=t[o];for(var a=0;a<t.length;a++)-1!=i.indexOf(t[a]._id)&&delete n[t[a]._id];e.cofigFileData=Object.values(n),e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):e.dtTrigger.next()}},function(t){e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):e.dtTrigger.next(),e.loading=!1,e.pageErrorHandle(t),e.commonOrgService.pageScrollTop()},function(){})}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.sso.pageErrorHandle(e),this.closeAlert(),this.error=!0}},{key:"closeAlert",value:function(){this.error=!1,this.success=!1}},{key:"getSwImgFile",value:function(){var e=this;this.getSwImageSubscribe=this.fileService.getSwFilesList(String(this.orgId),"",re.r.SW_FW_Image).subscribe(function(t){if(t){var i=[];e.workflowInputData.actions&&e.workflowInputData.actions.forEach(function(e){i.push(e.fileId)});for(var n={},o=0;o<t.length;o++)n[t[o]._id]=t[o];for(var a=0;a<t.length;a++)-1!=i.indexOf(t[a]._id)&&delete n[t[a]._id];e.swFileData=Object.values(n),e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):e.dtTrigger.next()}},function(t){e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):e.dtTrigger.next(),e.loading=!1,e.pageErrorHandle(t),e.commonOrgService.pageScrollTop()},function(){})}},{key:"getConfigProfile",value:function(){var e=this;this.getConfigProfileSubscribe=this.api.getConfigProfile(this.orgId).subscribe(function(t){if(t){var i=[];e.workflowInputData.actions&&e.workflowInputData.actions.forEach(function(e){i.push(e.profileId)});for(var n={},o=0;o<t.length;o++)n[t[o]._id]=t[o];for(var a=0;a<t.length;a++)-1!=i.indexOf(t[a]._id)&&delete n[t[a]._id];e.configProFileData=Object.values(n),e.configProFileData=e.configProFileData.filter(function(e){return!e.innerProfileCategory}),e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):e.dtTrigger.next()}},function(t){e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):e.dtTrigger.next(),e.loading=!1,e.pageErrorHandle(t),e.commonOrgService.pageScrollTop()},function(){})}},{key:"getStaticDevice",value:function(){var e=this;this.getStaticSubscribe=this.api.getStaticDevice(this.orgId).subscribe(function(t){if(t){var i=[];e.workflowInputData.actions&&e.workflowInputData.actions.forEach(function(e){i.push(e.staticGroupId)});for(var n={},o=0;o<t.length;o++)n[t[o]._id]=t[o];for(var a=0;a<t.length;a++)-1!=i.indexOf(t[a]._id)&&delete n[t[a]._id];e.staticDeviceData=Object.values(n),e.staticDeviceTable=e.staticDeviceData.filter(function(e){return"static"===e.type}),e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):e.dtTrigger.next()}},function(t){e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):e.dtTrigger.next(),e.loading=!1,e.pageErrorHandle(t),e.commonOrgService.pageScrollTop()},function(){})}},{key:"getReplaceService",value:function(e){var t=this;this.loading=!0,this.getReplaceServiceSubscribe=this.api.getReplaceService(this.orgId,e).subscribe(function(e){if(e){var i=[];t.workflowInputData.actions&&t.workflowInputData.actions.forEach(function(e){i.push(e.profileId)});for(var n={},o=0;o<e.length;o++)n[e[o].id]=e[o];for(var a=0;a<e.length;a++)-1!=i.indexOf(e[a].id)&&delete n[e[a].id];t.originalProfile=Object.values(n),t.setTableOptions(),t.isRerender?(t.rerender(),t.isRerender=!1):t.dtTrigger.next()}},function(e){t.setTableOptions(),t.isRerender?(t.rerender(),t.isRerender=!1):t.dtTrigger.next(),t.loading=!1,t.pageErrorHandle(e),t.commonOrgService.pageScrollTop()},function(){})}},{key:"getNewProfileData",value:function(e,t,i,n,o){var a=this;this.loading=!0,this.getNewProfileSubscribe=this.api.getReplaceService(this.orgId,e,t,i,n,o).subscribe(function(e){if(e){var t=[];a.workflowInputData.actions&&a.workflowInputData.actions.forEach(function(e){t.push(e.replacedByProfileId)});for(var i={},n=0;n<e.length;n++)i[e[n].id]=e[n];for(var o=0;o<e.length;o++)-1!=t.indexOf(e[o].id)&&delete i[e[o].id];a.NewProfile=Object.values(i),a.setTableOptions(),a.newProfileShow=!0,a.isRerender?(a.rerender(),a.isRerender=!1):a.dtTrigger.next()}},function(e){a.setTableOptions(),a.isRerender?(a.rerender(),a.isRerender=!1):a.dtTrigger.next(),a.loading=!1,a.pageErrorHandle(e),a.commonOrgService.pageScrollTop()},function(){})}},{key:"bindReplaceData",value:function(e,t){e.target.checked&&(this.oldProData=t,"Data Service"===this.categoryChoosed?this.getNewProfileData("Data Service",t.id,t.mode,t.framingtype):"Voice Service"===this.categoryChoosed?this.getNewProfileData("Voice Service",t.id,t.mode,null,t.voicetype):"Video Service"===this.categoryChoosed?this.getNewProfileData("Video Service",t.id,t.mode):this.getNewProfileData("Bandwidth",t.id,t.mode,t.framingtype))}},{key:"bindReplaceNewData",value:function(e,t){e.target.checked&&(this.newProValue=t,this.doneActive=!0)}},{key:"doneClick",value:function(){if(this.doneClicked=!0,this.newOprtn=!1,this.error=!1,"Reboot"===this.actionType){var e={};e.actionType=this.actionType,this.operationCondition&&(e.conditionLogic=this.operationCondition),this.workflowInputData.actions.push(e)}if("Replace Service Profile"===this.actionType){var t={};t.actionType=this.actionType,t.profileId=this.oldProData.id,t.replacedByProfileId=this.newProValue.id,t.profileName=this.oldProData.name+" is replaced by "+this.newProValue.name,this.operationCondition&&(t.conditionLogic=this.operationCondition),this.workflowInputData.actions.push(t)}if("Download Official Image"===this.actionType){var i={};i.actionType=this.actionType,this.workflowInputData.actions.push(i)}Object.keys(this.oprData).length&&(this.operationCondition&&(this.oprData.conditionLogic=this.operationCondition),this.showEditButton?this.workflowInputData.actions[this.editIndex]=this.oprData:this.workflowInputData.actions.push(this.oprData)),"Apply Configuration Profile"===this.oprTypeValueSelected&&this.getConfigProfile(),"Configuration File Download"===this.oprTypeValueSelected&&this.getConfigFile(),"Download SW/FW Image"===this.oprTypeValueSelected&&this.getSwImgFile(),"Add Static Device Group"===this.oprTypeValueSelected&&this.getStaticDevice(),"Replace Service Profile"===this.oprTypeValueSelected&&this.getReplaceService(this.categoryChoosed),"Replace Service Profile"===this.oprTypeValueSelected&&this.getNewProfileData(this.categoryChoosed)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Y36(w.s),r.Y36(g.d),r.Y36(p.v),r.Y36(u.A),r.Y36(O.F0),r.Y36(f.t6),r.Y36(le.I),r.Y36(h.qu),r.Y36(d.eN),r.Y36(se.s),r.Y36(ce.v))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-alarm-wrkflow-wizard-opr-parameters"]],viewQuery:function(e,t){var i;(1&e&&r.Gf(l.G,5),2&e)&&(r.iGM(i=r.CRH())&&(t.dtElement=i.first))},inputs:{workflowInputData:"workflowInputData"},outputs:{workflowOprData:"workflowOprData",activeTab:"activeTab"},decls:58,vars:37,consts:[["class","w-100 alert alert-danger mt-4 fade show",4,"ngIf"],[1,"wizard-form"],[3,"formGroup"],[1,"net-ops-secondary-title"],[1,"w-100","row","form-group"],[1,"current-issue-menu-item","col-12","col-sm-12","col-md-3","col-lg-3"],["for","Name",1,"col-form-label","select-font"],["id","current-issues-interval",1,"w-100"],["formControlName","region","bindValue","id","bindLabel","name",1,"selectboxwidth",3,"multiple","items","clearable","searchable","placeholder","add","remove"],["formControlName","location","bindValue","id","bindLabel","name",1,"selectboxwidth",3,"multiple","items","placeholder","clearable","searchable","add","remove"],["formControlName","system","bindValue","fqn","bindLabel","name",1,"selectboxwidth",3,"multiple","items","placeholder","clearable","searchable","change","add"],[1,"w-100","form-group"],[1,"form-group","ccl-form","row",3,"ngClass"],[1,"col-2","control-label"],[1,"col-md-5"],["min","1","customNeg","","id","wk-count","name","name_input","type","number","formControlName","count","aria-describedby","count-error","placeholder","Enter Number of Count"],[4,"ngIf"],["min","0","id","wk-duration_input","name","seconds_input","type","number","formControlName","duration","aria-describedby","duration-error","placeholder","Enter Duration in seconds"],[1,"form-group","ccl-form","row"],["for","startDate",1,"col-2","control-label"],["name","startDate","data-toggle","tooltip","data-placement","bottom","title","Start Date","id","startDate","formControlName","startDate","readonlyInput","true","aria-required","true","aria-describedby","startTime-error","aria-invalid","true",3,"showIcon","minDate","maxDate"],["for","endDate",1,"col-2","control-label"],["name","endDate","data-toggle","tooltip","data-placement","bottom","title","End Date","id","endDate","formControlName","endDate","readonlyInput","true","aria-required","true","aria-describedby","endTime-error","aria-invalid","true",3,"showIcon","minDate"],["class","form-group ccl-form row",4,"ngIf"],[1,"form-group"],["class","border-bottom my-2","formArrayName","additionalParams",4,"ngFor","ngForOf"],[1,"workflow-next-previous"],["type","button","id","previous",1,"btn-arrow","btn-arr-prev","btn-grey","mr-2",3,"click"],["src","assets/img/ic_chevronleft_grey.svg"],["type","button","id","next",1,"btn-arrow","btn-arr-nxt","primary",3,"click"],["src","assets/img/ic_chevron-r-w.svg"],[1,"w-100","alert","alert-danger","mt-4","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],[1,"d-inline-flex",3,"innerHtml"],["id","wk-opr-err-ok",1,"btn-default","px-3","ok-btn","float-right",3,"click"],[1,"current-issue-menu-item","col-sm-12","col-md-2","col-lg-2"],["id","current-issues-interval",1,"col-sm-12","col-md-5","col-lg-5"],["formControlName","SelectedAlarm","bindValue","label","bindLabel","label",1,"selectboxwidth",3,"multiple","items","clearable","searchable","placeholder"],["formArrayName","additionalParams",1,"border-bottom","my-2"],[3,"formGroupName"],["for","Name",1,"col-2","control-label"],["id","current-issues-interval",1,"col-md-5"],["bindValue","label","bindLabel","label","placeholder","Select Parameter",1,"selectboxwidth",3,"clearOnBackspace","multiple","items","clearable","searchable","change","add"],[1,"add-remove"],["class","pointer mr-3","src","assets/img/Icon_Circle-Plus.svg",3,"click",4,"ngIf"],["class","pointer","src","assets/img/ic_minus_sign_circle.svg",3,"click",4,"ngIf"],[1,"row"],["class","form-group col ccl-form col-md-3",4,"ngIf"],["src","assets/img/Icon_Circle-Plus.svg",1,"pointer","mr-3",3,"click"],["src","assets/img/ic_minus_sign_circle.svg",1,"pointer",3,"click"],[1,"form-group","col","ccl-form","col-md-3"],[1,"control-label"],[1,"radio-inline","col-2"],["type","radio","value","Yes","formControlName","ServiceImpacting",1,"mr-2",3,"id"],["type","radio","value","No","formControlName","ServiceImpacting",1,"mr-2",3,"id"],["type","radio","value","Yes","formControlName","ServiceAffecting",1,"mr-2",3,"id"],["type","radio","value","No","formControlName","ServiceAffecting",1,"mr-2",3,"id"],["for","current-issues-interval",1,"col-md-12","select-font"],["id","current-issues-interval",1,"custom-selectbox"],["formControlName","Severity",3,"searchable","placeholder","change"],["value","All"],["value","Critical"],["value","Major"],["value","Minor"],["value","Warning"],["value","Info"]],template:function(e,t){var i,n;(1&e&&(r.YNc(0,ge,6,2,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"form",2),r.TgZ(3,"span",3),r._uU(4,"Filter By Region"),r.qZA(),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r.TgZ(7,"label",6),r._uU(8),r.qZA(),r.TgZ(9,"div",7),r.TgZ(10,"ng-select",8),r.NdJ("add",function(e){return t.validateRegion(e)})("remove",function(e){return t.loadLocationValue(e)}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"div",5),r.TgZ(12,"label",6),r._uU(13),r.qZA(),r.TgZ(14,"div",7),r.TgZ(15,"ng-select",9),r.NdJ("add",function(e){return t.validateLocation(e)})("remove",function(e){return t.loadSystemValue(e)}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"div",5),r.TgZ(17,"label",6),r._uU(18),r.qZA(),r.TgZ(19,"div",7),r.TgZ(20,"ng-select",10),r.NdJ("change",function(e){return t.selectSystem(e)})("add",function(e){return t.validateSystem(e)}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(21,"span",3),r._uU(22,"Filter By Count"),r.qZA(),r.TgZ(23,"div",11),r.TgZ(24,"div",12),r.TgZ(25,"label",13),r._uU(26," No of Count "),r.qZA(),r.TgZ(27,"div",14),r._UZ(28,"input",15),r.YNc(29,pe,2,0,"em",16),r.qZA(),r.qZA(),r.TgZ(30,"div",12),r.TgZ(31,"label",13),r._uU(32," Duration (Seconds) "),r.qZA(),r.TgZ(33,"div",14),r._UZ(34,"input",17),r.YNc(35,fe,2,0,"em",16),r.qZA(),r.qZA(),r.TgZ(36,"div",18),r.TgZ(37,"label",19),r._uU(38,"Start Date"),r.qZA(),r.TgZ(39,"div",14),r._UZ(40,"p-calendar",20),r.qZA(),r.qZA(),r.TgZ(41,"div",18),r.TgZ(42,"label",21),r._uU(43,"End Date"),r.qZA(),r.TgZ(44,"div",14),r._UZ(45,"p-calendar",22),r.qZA(),r.qZA(),r.YNc(46,he,6,6,"div",23),r.qZA(),r.TgZ(47,"span",3),r._uU(48,"Filter By Additional Parameters"),r.qZA(),r.TgZ(49,"div",24),r.YNc(50,Ae,14,11,"div",25),r.qZA(),r.TgZ(51,"div",26),r.TgZ(52,"button",27),r.NdJ("click",function(){return t.go_previous()}),r._UZ(53,"img",28),r._uU(54),r.qZA(),r.TgZ(55,"button",29),r.NdJ("click",function(){return t.go_next()}),r._uU(56),r._UZ(57,"img",30),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e)&&(r.Q6J("ngIf",t.error),r.xp6(2),r.Q6J("formGroup",t.filtersForm),r.xp6(6),r.Oqu(t.language.region),r.xp6(2),r.s9C("placeholder",t.language.region),r.Q6J("multiple",!0)("items",t.regionsDataArray)("clearable",!1)("searchable",!0),r.xp6(3),r.Oqu(t.language.Location),r.xp6(2),r.s9C("placeholder",t.language.Location),r.Q6J("multiple",!0)("items",t.locationDataArray)("clearable",!1)("searchable",!0),r.xp6(3),r.Oqu(t.language.System),r.xp6(2),r.s9C("placeholder",t.language.System),r.Q6J("multiple",!0)("items",t.systemDataArray)("clearable",!1)("searchable",!0),r.xp6(4),r.Q6J("ngClass",r.VKq(33,xe,t.filtersForm.get("count")&&t.filtersForm.get("count").errors&&t.filtersForm.get("count").errors.min?"errorMessage":"")),r.xp6(5),r.Q6J("ngIf",null==(i=t.filtersForm.get("count"))||null==i.errors?null:i.errors.min),r.xp6(1),r.Q6J("ngClass",r.VKq(35,xe,t.filtersForm.get("duration")&&t.filtersForm.get("duration").errors&&t.filtersForm.get("duration").errors.min?"errorMessage":"")),r.xp6(5),r.Q6J("ngIf",null==(n=t.filtersForm.get("duration"))||null==n.errors?null:n.errors.min),r.xp6(5),r.Q6J("showIcon",!0)("minDate",t.todayDate)("maxDate",t.filtersForm.get("endDate").value),r.xp6(5),r.Q6J("showIcon",!0)("minDate",t.filtersForm.get("startDate").value),r.xp6(1),r.Q6J("ngIf","No"==(null==t.workflowInputData?null:t.workflowInputData.selectedCategories)),r.xp6(4),r.Q6J("ngForOf",t.filtersForm.get("additionalParams").controls),r.xp6(4),r.hij(" ",t.language.Previous," "),r.xp6(2),r.hij(" ",t.language.Next," "))},directives:[m.O5,h._Y,h.JL,h.sg,v.w9,h.JJ,h.u,m.mk,h.qQ,h.wV,h.Fj,ue.v,de.v,N.f,m.sg,h.CE,h.x0,h._,v.xv],styles:["div.checkbox.switcher[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]{float:right}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0;cursor:pointer}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{vertical-align:middle}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:relative;display:inline-block;width:45px;height:25px;background:#ffffff;border:1px solid #0279ff;border-radius:50px;transition:all .3s ease-in-out;padding:5px}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{position:absolute;display:block;width:20px;height:19px;background:#0279ff;border-radius:50%;transition:all .3s ease-in-out;left:2px;top:2px}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{background:#269bff;border-color:#269bff}div.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], div.radio.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{left:50%;background:#ffffff}form[_ngcontent-%COMP%]{width:100%}.f-w-600[_ngcontent-%COMP%]{font-weight:600}[type=radio][_ngcontent-%COMP%]:checked, [type=radio][_ngcontent-%COMP%]:not(:checked){position:relative!important;left:unset!important;cursor:pointer}.pr-46[_ngcontent-%COMP%]{padding-right:46px}.br-26[_ngcontent-%COMP%]{border-radius:26px}.new-profile-table[_ngcontent-%COMP%]{margin:10px 0}.profile-table[_ngcontent-%COMP%]{margin:10px 0}.delete-org-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:red}.custom-selectbox-opr[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]{z-index:1;width:100%;padding-top:10px;padding-bottom:10px;border-radius:10px!important;min-height:auto;max-height:260px;overflow-y:auto;font-size:14px;transition:.5s ease}.errorMessage[_ngcontent-%COMP%]{padding-left:0!important}"]}),t}(),Ie=a(82945),_e=["endTime"];function Ce(e,t){if(1&e&&(r.TgZ(0,"div",19),r.TgZ(1,"span",20),r._UZ(2,"img",21),r.qZA(),r._uU(3),r.TgZ(4,"ul",22),r.TgZ(5,"li"),r._uU(6),r.qZA(),r.TgZ(7,"li"),r._uU(8),r.qZA(),r.TgZ(9,"li"),r._uU(10),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw();r.xp6(3),r.hij(" ",i.language.Device_reboot," "),r.xp6(3),r.hij("1.\xa0",i.language.Changes_Wan,""),r.xp6(2),r.hij("2.\xa0",i.language.Apply_wifi,""),r.xp6(2),r.hij("3.\xa0",i.language.Apply_reboot,"")}}function Pe(e,t){if(1&e&&r._uU(0),2&e){var i=t.item,n=r.oxw();r.hij(" ",n.language[i.name]," ")}}function Se(e,t){if(1&e&&r._uU(0),2&e){var i=t.item,n=r.oxw();r.hij(" ",n.language[i.name]," ")}}function Oe(e,t){if(1&e&&(r.TgZ(0,"h4",23),r._uU(1),r.qZA()),2&e){var i=r.oxw();r.xp6(1),r.hij(" ",i.language.Triggered_CPE_Alarm_discovered," ")}}function qe(e,t){1&e&&(r.TgZ(0,"div",30),r._uU(1," Enter Valid Email Id "),r.qZA())}function Me(e,t){if(1&e&&(r.TgZ(0,"div",30),r._uU(1),r.qZA()),2&e){var i=r.oxw(2);r.xp6(1),r.hij(" ",i.language["This field is required"],"")}}var Ne=function(e){return[e]};function Ee(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",24),r.TgZ(1,"label",25),r._uU(2),r.qZA(),r.TgZ(3,"div",26),r.TgZ(4,"input",27,28),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw().workflowInputData.email=e}),r.qZA(),r.YNc(6,qe,2,0,"div",29),r.YNc(7,Me,2,1,"div",29),r.qZA(),r.qZA()}if(2&e){var n=r.MAs(5),o=r.oxw(),a=r.MAs(20);r.xp6(2),r.Oqu(null==o.language?null:o.language.Email),r.xp6(1),r.Q6J("ngClass",r.VKq(5,Ne,(null!=n&&null!=n.errors&&n.errors.pattern||null!=n&&null!=n.errors&&n.errors.required)&&(a.submitted||null!=n&&n.touched)?"errorMessage":"")),r.xp6(1),r.Q6J("ngModel",o.workflowInputData.email),r.xp6(2),r.Q6J("ngIf",(null==n||null==n.errors?null:n.errors.pattern)&&(a.submitted||(null==n?null:n.touched))),r.xp6(1),r.Q6J("ngIf",((null==n?null:n.touched)||a.submitted)&&(null==n||null==n.errors?null:n.errors.required))}}var Fe=function(){var e=function(){function e(t,n,o){i(this,e),this.translateService=t,this.dateUtils=n,this.router=o,this.workflowInputData={},this.workflowOprData=new r.vpe,this.activeTab=new r.vpe,this.endtimeError=!1,this.timeWindow=60,this.dailyChecked=!0,this.weekChecked=!1,this.monthChecked=!1,this.weekScheduling=!1,this.monthScheduling=!1,this.RangeRecurrenceEndBy=!1,this.RangeRecurrenceEndAfter=!0,this.customStartDate=new Date,this.customStartRange=new Date,this.customEndRange=new Date,this.startDateTime=new Date,this.weekselected=[],this.daysOfMonth=1,this.rangeOccurrence=1,this.endBy=!1,this.endAfter=!0,this.radio=!0,this.daily_frequency=1,this.week_frequency=1,this.month_frequency=1,this.weekerror=!1,this.disablefullGroupExecute=!1,this.WindowerrorMsg=null}return o(e,[{key:"ngOnInit",value:function(){var e,t,i,n,o,a,r,l,s,c,u,d=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){d.language=e}),this.workflowInputData&&(null===(t=null===(e=this.workflowInputData)||void 0===e?void 0:e.actions)||void 0===t||t.filter(function(e){"Download SW/FW Image"===e.actionType&&d.router.url.includes("/cco-foundation/foundation-operations/foundation-system-operation/workflows/workflow-wizard")&&(d.disablefullGroupExecute=!0)}));var g=this.workflowInputData?null===(n=null===(i=this.workflowInputData)||void 0===i?void 0:i.actions)||void 0===n?void 0:n.filter(function(e){return"Replace Service Profile"===e.actionType||"Edge Suites Bulk Activation"===e.actionType}):"",p=this.workflowInputData?null===(a=null===(o=this.workflowInputData)||void 0===o?void 0:o.actions)||void 0===a?void 0:a.filter(function(e){return"Download Official Image"===e.actionType}):"";if((null==g?void 0:g.length)?(this.scheduleValueSelected="Time Scheduler",this.timeschedule=!0,this.inputOperationType=[{name:"Time Scheduler",id:"Time Scheduler"}]):(null==p?void 0:p.length)?(this.scheduleValueSelected="Time Scheduler",this.disablefullGroupExecute=!0,this.workflowInputData.source="Foundation",this.timeschedule=!0,this.workflowInputData.fullGroupExecute=!0,this.inputOperationType=[{name:"Time Scheduler",id:"Time Scheduler"}]):(this.scheduleValueSelected="On Discovery",this.timeschedule=!1,this.inputOperationType=[{name:"On Discovery",id:"On Discovery"}]),this.workflowInputData)if(this.workflowInputData.execPolicy==={}||void 0===(null===(l=null===(r=this.workflowInputData)||void 0===r?void 0:r.execPolicy)||void 0===l?void 0:l.initialTrigger)||"CPE Event"===(null===(u=null===(c=null===(s=this.workflowInputData)||void 0===s?void 0:s.execPolicy)||void 0===c?void 0:c.initialTrigger)||void 0===u?void 0:u.type))console.log("officialImage=>",p),!(null==g?void 0:g.length)&&!(null==p?void 0:p.length)&&(console.log("officialImage in if=>",p),this.scheduleValueSelected="On Discovery",this.timeschedule=!1);else switch(console.log("officialImage in else=>",p),this.scheduleValueSelected="Time Scheduler",this.timeschedule=!0,this.startDateTime=this.workflowInputData.execPolicy.window.startDateTime?new Date(this.workflowInputData.execPolicy.window.startDateTime):new Date,this.customStartDate=this.workflowInputData.execPolicy.window.startDateTime?new Date(this.workflowInputData.execPolicy.window.startDateTime):new Date,this.timeWindow=this.workflowInputData.execPolicy.window.windowLength?this.workflowInputData.execPolicy.window.windowLength/60:60,void 0!==this.workflowInputData.execPolicy.window.recurrence?(this.rangeOccurrence=this.workflowInputData.execPolicy.window.recurrence,this.RangeRecurrenceEndAfter=!0,this.endAfter=!0,this.endBy=!1):(this.customStartDate=this.workflowInputData.execPolicy.window.startDateTime?new Date(this.workflowInputData.execPolicy.window.startDateTime):new Date,this.customEndRange=new Date(this.workflowInputData.execPolicy.window.endDateTime),this.RangeRecurrenceEndBy=!0,this.RangeRecurrenceEndAfter=!1,this.endAfter=!1,this.endBy=!0),this.workflowInputData.execPolicy.window.type){case"weekly":console.log("weekly"),this.weekScheduling=!0,this.monthScheduling=!1,this.weekChecked=!0,this.dailyChecked=!1,this.monthChecked=!1,this.weekly="yes",this.daily="no",this.monthly="no",this.week_frequency=this.workflowInputData.execPolicy.window.frequency,this.daily_frequency=1,this.month_frequency=1,this.workflowInputData.execPolicy.window.weekdays?(this.workflowInputData.execPolicy.window.weekdays.includes("SUN")&&(this.Sunday=!0,this.weekselected.push("SUN")),this.workflowInputData.execPolicy.window.weekdays.includes("MON")&&(this.Monday=!0,this.weekselected.push("MON")),this.workflowInputData.execPolicy.window.weekdays.includes("TUE")&&(this.Tuesday=!0,this.weekselected.push("TUE")),this.workflowInputData.execPolicy.window.weekdays.includes("WEN")&&(this.Wednesday=!0,this.weekselected.push("WEN")),this.workflowInputData.execPolicy.window.weekdays.includes("THU")&&(this.Thursday=!0,this.weekselected.push("THU")),this.workflowInputData.execPolicy.window.weekdays.includes("FRI")&&(this.Friday=!0,this.weekselected.push("FRI")),this.workflowInputData.execPolicy.window.weekdays.includes("SAT")&&(this.Saturday=!0,this.weekselected.push("SAT"))):this.weekselected=[];break;case"monthly":console.log("weekly"),this.monthScheduling=!0,this.weekScheduling=!1,this.monthChecked=!0,this.dailyChecked=!1,this.weekChecked=!1,this.monthly="yes",this.weekly="no",this.daily="no",this.month_frequency=this.workflowInputData.execPolicy.window.frequency,this.daysOfMonth=this.workflowInputData.execPolicy.window.daysOfMonth[0],this.week_frequency=1,this.daily_frequency=1;break;default:console.log("daily"),this.weekScheduling=!1,this.monthScheduling=!1,this.dailyChecked=!0,this.weekChecked=!1,this.monthChecked=!1,this.daily="yes",this.monthly="no",this.weekly="no",this.week_frequency=1,this.month_frequency=1,this.daily_frequency=this.workflowInputData.execPolicy.window.frequency}}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe()}},{key:"optionValChoose",value:function(){"Time Scheduler"===this.scheduleValueSelected?this.timeschedule=!0:(this.timeschedule=!1,this.scheduleValueSelected="On Discovery")}},{key:"getRecurrenceData",value:function(e){"daily"===e.target.value?(this.weekScheduling=!1,this.monthScheduling=!1,this.dailyChecked=!0,this.weekChecked=!1,this.monthChecked=!1,this.daily="yes",this.monthly="no",this.weekly="no",this.week_frequency=1,this.month_frequency=1,this.daysOfMonth=1):"weekly"===e.target.value?(this.weekScheduling=!0,this.monthScheduling=!1,this.weekChecked=!0,this.dailyChecked=!1,this.monthChecked=!1,this.weekly="yes",this.daily="no",this.monthly="no",this.month_frequency=1,this.daily_frequency=1,this.daysOfMonth=1):(this.monthScheduling=!0,this.weekScheduling=!1,this.monthChecked=!0,this.dailyChecked=!1,this.weekChecked=!1,this.monthly="yes",this.weekly="no",this.daily="no",this.week_frequency=1,this.daily_frequency=1)}},{key:"bindData",value:function(e){var t;e.target.checked?this.weekselected.push(e.target.value):this.weekselected=null===(t=this.weekselected)||void 0===t?void 0:t.filter(function(t){return t!=e.target.value})}},{key:"go_next",value:function(){var e;if(this.customStartDate.setHours(+this.startDateTime.getHours()),this.customStartDate.setMinutes(+this.startDateTime.getMinutes()),this.customStartDate.setMilliseconds(+this.startDateTime.getMilliseconds()),"On Discovery"===this.scheduleValueSelected)this.workflowInputData.execPolicy={initialTrigger:{type:"CPE Event",cpeEvent:"CC EVENT - New CPE Discovered"}};else if("Time Scheduler"===this.scheduleValueSelected){if(!0===this.weekScheduling){if((null===(e=this.weekselected)||void 0===e?void 0:e.length)<1)return void(this.weekerror=!0);this.weekerror=!1,this.workflowInputData.execPolicy={initialTrigger:{type:"Maintenance Window"},window:{type:"weekly",startDateTime:this.customStartDate.toISOString(),windowLength:60*this.timeWindow,frequency:this.week_frequency,weekdays:this.weekselected}}}else this.workflowInputData.execPolicy=!0===this.monthScheduling?{initialTrigger:{type:"Maintenance Window"},window:{type:"monthly",startDateTime:this.customStartDate.toISOString(),windowLength:60*this.timeWindow,frequency:this.month_frequency,daysOfMonth:[this.daysOfMonth]}}:{initialTrigger:{type:"Maintenance Window"},window:{type:"daily",startDateTime:this.customStartDate.toISOString(),windowLength:60*this.timeWindow,frequency:this.daily_frequency}};if(this.RangeRecurrenceEndBy){if(this.endtimeError)return;this.workflowInputData.execPolicy.window.endDateTime=this.customEndRange?new Date(this.customEndRange).toISOString():""}else this.workflowInputData.execPolicy.window.recurrence=this.rangeOccurrence?this.rangeOccurrence:0}return this.workflowInputData.startTime=new Date(this.startDateTime).toISOString(),this.workflowInputData.levelPassed<=4&&(this.workflowInputData.levelPassed=4),this.workflowOprData.emit(this.workflowInputData),this.activeTab.emit("Review"),!0}},{key:"go_previous",value:function(){this.activeTab.emit("Select Operation Parameters")}},{key:"getRangeRecurrence",value:function(e){"endBy"===e.target.value?(this.RangeRecurrenceEndBy=!0,this.RangeRecurrenceEndAfter=!1,this.endBy=!0,this.endAfter=!1):(this.RangeRecurrenceEndAfter=!0,this.RangeRecurrenceEndBy=!1,this.endAfter=!0,this.endBy=!1)}},{key:"validateWindow",value:function(e){console.log("event=>",e),this.WindowerrorMsg=e?0==e?this.language.Input_Number_Validation+" 0":e>1440?this.language.Input_Number_Validation2+" 1440":"":""}},{key:"onSelectStartTime",value:function(e){console.log("event=>",e.target.value),Date.parse(e.target.value.toString())||(this.customStartDate=new Date)}},{key:"onSelectStartOnlyTime",value:function(e){console.log("event=>",e);var t=/^\d{1,2}:\d{2}( [ap || AP]M)?$/,i=e.target.value;i.match(t)||(console.log("selected Date=>",!i.match(t)),this.startDateTime=new Date)}},{key:"onSelectEndTime",value:function(e){console.log("event endtime=>",e),console.log("event starttime=>",this.customStartDate);var t=e,i=this.customStartDate;Date.parse(t.toString())?this.endtimeError=!(t.getTime()>i.getTime()):this.customEndRange=new Date}},{key:"onChangeEndTime",value:function(e){console.log("event=>",e.target.value);var t=e.target.value,i=this.customStartDate;Date.parse(t)?this.endtimeError=!(new Date(t).getTime()>i.getTime()):this.customEndRange=new Date}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(w.s),r.Y36(se.s),r.Y36(O.F0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-alarm-wrkflow-wizard-schedule-parameters"]],viewQuery:function(e,t){var i;(1&e&&r.Gf(_e,5),2&e)&&(r.iGM(i=r.CRH())&&(t.endTime=i.first))},inputs:{workflowInputData:"workflowInputData"},outputs:{workflowOprData:"workflowOprData",activeTab:"activeTab"},decls:22,vars:10,consts:[["id","workflowWizardSchedule",1,"workflow-wizard-schedule"],[1,"form-group","row"],[1,"col-xs-12","col-12","col-md-12","col-lg-12"],["class","alert alert-note ","role","alert","style","margin-right: -13px",4,"ngIf"],[1,"workflow-next-previous"],["type","button","id","previous",1,"btn-arrow","btn-arr-prev","btn-grey","mr-2",3,"click"],["src","assets/img/ic_chevronleft_grey.svg"],["type","submit","id","submit","form","email-form","id","next",1,"btn-arrow","btn-arr-nxt","primary"],["src","assets/img/ic_chevron-r-w.svg"],["id","trigger-form",1,"row","mt-4","mb-2"],["for","inputOperationType",1,"col-lg-2","col-md-2","col-sm-2","control-label"],[1,"custom-selectbox-shedule-par","col-lg-8","col-md-10","col-sm-12"],["bindLabel","name","autofocus","","placeholder","","name","trigger","id","trigger","id","trigger","bindValue","id",3,"items","ngModel","searchable","clearable","change","ngModelChange"],["ng-label-tmp",""],["ng-option-tmp",""],["class","f-size-18 pb-3",4,"ngIf"],["novalidate","","id","email-form",3,"ngSubmit"],["myForm","ngForm"],["class","form-group row required ccl-form",4,"ngIf"],["role","alert",1,"alert","alert-note",2,"margin-right","-13px"],[1,"success-img"],["src","./assets/img/ic_info.svg"],[1,"waring-ul","mb-0"],[1,"f-size-18","pb-3"],[1,"form-group","row","required","ccl-form"],["for","email",1,"col-2","control-label"],[1,"col-lg-8","col-md-10","col-sm-12",3,"ngClass"],["id","email","required","","aria-required","true","type","email","name","email","data-toggle","tooltip","data-placement","bottom","title","Enter Comma Separated Notification Mailing List","aria-required","true","aria-describedby","email-error","aria-invalid","true","pattern","^(\\s?[^\\s,]+@[^\\s,]+\\.[^\\s,]+\\s?,)*(\\s?[^\\s,]+@[^\\s,]+\\.[^\\s,]+)$","autocomplete","new-password",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["class","errorMessage","id","email-error",4,"ngIf"],["id","email-error",1,"errorMessage"]],template:function(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.YNc(3,Ce,11,4,"div",3),r.qZA(),r.qZA(),r.TgZ(4,"div",4),r.TgZ(5,"button",5),r.NdJ("click",function(){return t.go_previous()}),r._UZ(6,"img",6),r._uU(7),r.qZA(),r.TgZ(8,"button",7),r._uU(9),r._UZ(10,"img",8),r.qZA(),r.qZA(),r.TgZ(11,"form",9),r.TgZ(12,"label",10),r._uU(13),r.qZA(),r.TgZ(14,"div",11),r.TgZ(15,"ng-select",12),r.NdJ("change",function(){return t.optionValChoose()})("ngModelChange",function(e){return t.scheduleValueSelected=e}),r.YNc(16,Pe,1,1,"ng-template",13),r.YNc(17,Se,1,1,"ng-template",14),r.qZA(),r.qZA(),r.qZA(),r.YNc(18,Oe,2,1,"h4",15),r.TgZ(19,"form",16,17),r.NdJ("ngSubmit",function(){return r.CHM(i),r.MAs(20).form.valid&&t.go_next()}),r.YNc(21,Ee,8,7,"div",18),r.qZA(),r.qZA()}2&e&&(r.xp6(3),r.Q6J("ngIf",t.timeschedule),r.xp6(4),r.hij(" ",t.language.Previous," "),r.xp6(2),r.hij(" ",t.language.Next," "),r.xp6(4),r.Oqu(t.language.Trigger),r.xp6(2),r.Q6J("items",t.inputOperationType)("ngModel",t.scheduleValueSelected)("searchable",!1)("clearable",!1),r.xp6(3),r.Q6J("ngIf",!t.timeschedule),r.xp6(3),r.Q6J("ngIf",!t.timeschedule))},directives:[m.O5,h._Y,h.JL,h.F,v.w9,Ie.U,h.JJ,h.On,v.bb,v.Z2,m.mk,h.Fj,h.Q7,h.c5],styles:[".f-w-600[_ngcontent-%COMP%]{font-weight:600}[type=radio][_ngcontent-%COMP%]:checked, [type=radio][_ngcontent-%COMP%]:not(:checked){position:relative!important;left:unset!important}ul.date-order[_ngcontent-%COMP%]{display:inline-flex;width:100%}ul.date-order[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:15%}.ccl-form.number-input[_ngcontent-%COMP%]{width:50%;margin-left:10px}.number-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:5px;color:#222}.radio-inline[_ngcontent-%COMP%]{cursor:pointer}.workflow-oneline[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.workflow-oneline[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:65px;margin:0 10px}.weekly-days[_ngcontent-%COMP%]{display:flex;align-items:center}.weekly-days[_ngcontent-%COMP%]   .checkbox-inline[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.days-line[_ngcontent-%COMP%]{padding-left:5px}.mont-list[_ngcontent-%COMP%]   .ccl-form[_ngcontent-%COMP%]{width:20%;display:flex;align-items:center}.mont-list[_ngcontent-%COMP%]   .ccl-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50%;padding-right:5px}.mont-list[_ngcontent-%COMP%]   .ccl-form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}.mont-list[_ngcontent-%COMP%]   label.radio-inline[_ngcontent-%COMP%]{margin-right:9px}.ccl-form[_ngcontent-%COMP%]   .occurr-end[_ngcontent-%COMP%]{display:flex;align-items:center}.ccl-form[_ngcontent-%COMP%]   .occurr-end[_ngcontent-%COMP%]   .occur-input[_ngcontent-%COMP%]{width:11%;margin-left:10px}.ccl-form[_ngcontent-%COMP%]   .occurr-end[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:5px}.mothly-error-div[_ngcontent-%COMP%]{display:flex;align-items:start;width:auto}.mothly-error-div[_ngcontent-%COMP%]   .daily-month-error[_ngcontent-%COMP%]{width:28%;padding-right:10px;font-size:13px}.days-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-right:15px;margin:0}.days-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:5px}.custom-selectbox-shedule-par[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]{z-index:1;width:100%;padding-top:10px;padding-bottom:10px;border-radius:10px!important;min-height:auto;max-height:260px;overflow-y:auto;font-size:14px;transition:.5s ease}.alert-note[_ngcontent-%COMP%]{color:#1a1f22;background-color:#f5faff;border-color:#f5faff}"]}),e}();function Ue(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",18),r.TgZ(1,"span",19),r._UZ(2,"img",20),r.qZA(),r._UZ(3,"div",21),r.TgZ(4,"button",22),r.NdJ("click",function(){return r.CHM(i),r.oxw().closeAlert()}),r._uU(5),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(3),r.Q6J("innerHtml",n.errorInfo,r.oJD),r.xp6(2),r.hij(" ",n.language.Okay," ")}}function Je(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"app-alarm-start-wizard",23),r.NdJ("activeTab",function(e){return r.CHM(i),r.oxw().getCurrentTab(e)})("workflowdata",function(e){return r.CHM(i),r.oxw().getStartData(e)}),r.qZA()}if(2&e){var n=r.oxw();r.Q6J("workflowInputData",n.workflowInputData)}}function Re(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"app-alarm-select-device-wizard",24),r.NdJ("activeTab",function(e){return r.CHM(i),r.oxw().getCurrentTab(e)})("workflowDeviceData",function(e){return r.CHM(i),r.oxw().getDeviceData(e)}),r.qZA()}if(2&e){var n=r.oxw();r.Q6J("workflowInputData",n.workflowInputData)}}function We(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"app-alarm-wrkflow-wizard-opr-parameters",25),r.NdJ("activeTab",function(e){return r.CHM(i),r.oxw().getCurrentTab(e)})("workflowOprData",function(e){return r.CHM(i),r.oxw().getOptData(e)}),r.qZA()}if(2&e){var n=r.oxw();r.Q6J("workflowInputData",n.workflowInputData)}}function Qe(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"app-alarm-wrkflow-wizard-schedule-parameters",25),r.NdJ("activeTab",function(e){return r.CHM(i),r.oxw().getCurrentTab(e)})("workflowOprData",function(e){return r.CHM(i),r.oxw().getScheduleData(e)}),r.qZA()}if(2&e){var n=r.oxw();r.Q6J("workflowInputData",n.workflowInputData)}}function ze(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"app-alarm-workflow-wizard-review",26),r.NdJ("activeTab",function(e){return r.CHM(i),r.oxw().getCurrentTab(e)})("submitWorkflow",function(e){return r.CHM(i),r.oxw().submitWorkflow(e)}),r.qZA()}if(2&e){var n=r.oxw();r.Q6J("workflowInputData",n.workflowInputData)}}var Ge=function(e){return{"step-current":e}},Ye=function(){var e=function(){function e(t,n,o,a,r,l,s){i(this,e),this.translateService=t,this.route=n,this.api=o,this.router=a,this.fileService=r,this.sso=l,this.commonOrgService=s,this.activeTab="Start",this.editWorkFlow=!1,this.workflowInputData={orgId:0,name:"",selectedDeviceGroup:void 0,groups:[],actions:[],execPolicy:{},policy:{},description:"",fullGroupExecute:!1,bPriorNewAndFailed:!0,levelPassed:0,source:"",selectedAlarm:void 0,selectedCategories:void 0,categories:[],region:"",location:"",system:"",additionalParams:[],alarmName:[],duration:60,count:1,email:"",regionName:"All",locationName:"All",systemName:"All",startDate:null,endDate:null},this.errorInfo="",this.successInfo="",this.addProfileTab=["Start","Select Device Groups","Select Operation Parameters","Select Schedule Parameters","Review"],this.validlevels={1:"start",2:"device",3:"opr",4:"schedule",5:"review"},this.valid={Start:1,"Select Device Groups":2,"Select Operation Parameters":3,"Select Schedule Parameters":4,Review:5}}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t}),this.route.queryParams.subscribe(function(t){e.editItem_id=t.item,e.editItem_id&&e.getWorkflowById()})}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe(),this.editItem_id&&this.getWorkflowByIdSubscribe.unsubscribe()}},{key:"getWorkflowById",value:function(){var e=this;this.getWorkflowByIdSubscribe=this.api.getWorkflowById(this.editItem_id).subscribe(function(t){if(t){e.workflowInputData=t,e.workflowInputData.levelPassed=5,e.editWorkFlow=!0,e.workflowInputData.selectedDeviceGroup=0==e.workflowInputData.groups.length?"No":"Yes";for(var i=function(t){if(!e.workflowInputData.actions[t].profileName)switch(e.workflowInputData.actions[t].actionType){case"Download SW/FW Image":e.fileService.getSwFileById(e.workflowInputData.actions[t].fileId).subscribe(function(i){e.workflowInputData.actions[t].profileName=i.name});break;case"Configuration File Download":e.fileService.deleteConfigFileById(e.workflowInputData.actions[t].fileId).subscribe(function(i){e.workflowInputData.actions[t].profileName=i.name})}},n=0;n<e.workflowInputData.actions.length;n++)i(n);e.setStepperColors()}},function(e){},function(){})}},{key:"getCurrentTab",value:function(e){this.activeTab=e,this.setStepperColors()}},{key:"validateStart",value:function(){this.workflowInputData.name?this.activeTab="Select Device Groups":this.startElement.go_next()}},{key:"getStartData",value:function(e){this.workflowInputData=e,this.activeTab="Select Device Groups"}},{key:"getDeviceData",value:function(e){this.workflowInputData.groups=e.groups,this.activeTab="Select Operation Parameters"}},{key:"getOptData",value:function(e){this.workflowInputData.actions=e.actions,this.activeTab="Select Schedule Parameters"}},{key:"getScheduleData",value:function(e){this.workflowInputData.execPolicy=e.execPolicy,this.activeTab="Review"}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.sso.pageErrorHandle(e),this.closeAlert(),this.error=!0}},{key:"closeAlert",value:function(){this.error=!1,this.success=!1}},{key:"submitWorkflow",value:function(e){var t=this;this.workflowInputData.actions.forEach(function(e){"Edge Suites Bulk Activation"===e.actionType&&(e.actionType="Edge Suites Provision")}),setTimeout(function(){if(t.editWorkFlow){var e={};e._id=t.editItem_id,e.name=t.workflowInputData.name,e.description=t.workflowInputData.description,e.groups=t.workflowInputData.groups,e.actions=t.workflowInputData.actions,e.execPolicy=t.workflowInputData.execPolicy,e.bPriorNewAndFailed=!0,e.fullGroupExecute=t.workflowInputData.fullGroupExecute,t.router.url.includes("/cco-foundation")&&t.workflowInputData.source&&(e.source=t.workflowInputData.source),t.router.url.endsWith("official-workflow-wizard")&&(e.source=t.workflowInputData.source),t.editAllWorkflowData=t.api.editWorkflowData(e).subscribe(function(e){t.sso.redirectByUrl(["/support/netops-management/operations/workflows","/cco/operations/cco-system-operations/workflows","./cco-foundation/foundation-configuration/configuration-workflow/workflows","/cco/operations/cco-subscriber-operations/operations/workflows"]),t.editWorkFlow=!1},function(e){t.pageErrorHandle(e),t.commonOrgService.pageScrollTop()},function(){})}else{var i={};i.name=t.workflowInputData.name,i.description=t.workflowInputData.description,i.groups=t.workflowInputData.groups,i.actions=t.workflowInputData.actions,i.execPolicy=t.workflowInputData.execPolicy,i.bPriorNewAndFailed=!0,i.fullGroupExecute=t.workflowInputData.fullGroupExecute,t.router.url.includes("/cco-foundation")&&t.workflowInputData.source&&(i.source=t.workflowInputData.source),t.router.url.endsWith("official-workflow-wizard")&&(i.source=t.workflowInputData.source,i.type="Onboarding Scheduler"),t.addAllWorkflowData=t.api.AddWorkflowData(i).subscribe(function(e){t.sso.redirectByUrl(["/support/netops-management/operations/workflows","/cco/operations/cco-system-operations/workflows","./cco-foundation/foundation-configuration/configuration-workflow/workflows","/cco/operations/cco-subscriber-operations/operations/workflows"])},function(e){t.pageErrorHandle(e),t.commonOrgService.pageScrollTop()},function(){})}},0)}},{key:"setActiveTab",value:function(e){var t=this.valid[e];if("Start"==this.activeTab)this.startElement.go_next();else if("Select Device Groups"==this.activeTab){if(!this.deviceElement.go_next())return}else if("Select Operation Parameters"==this.activeTab){if(!this.oprElement.go_next())return}else if("Select Schedule Parameters"==this.activeTab&&!this.scheduleElement.go_next())return;this.activeTab=this.workflowInputData.levelPassed>=t-1?e:this.validlevels[this.workflowInputData.levelPassed+1],this.setStepperColors()}},{key:"setStepperColors",value:function(){for(var e=this.valid[this.activeTab],t=1;t<=this.workflowInputData.levelPassed;t++)$("#wk-".concat(this.validlevels[t])).removeClass("step"),$("#wk-".concat(this.validlevels[t])).removeClass("step-done"),$("#wk-".concat(this.validlevels[t])).removeClass("step-current"),e===t?$("#wk-".concat(this.validlevels[t])).addClass("step-current"):$("#wk-".concat(this.validlevels[t])).addClass("step-done")}},{key:"closeWorkflow",value:function(){this.sso.redirectByUrl(["/support/netops-management/operations/workflows","","/cco-foundation/foundation-configuration/configuration-workflow/workflows","/cco/operations/cco-subscriber-operations/operations/workflows"])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(w.s),r.Y36(O.gz),r.Y36(u.A),r.Y36(O.F0),r.Y36(le.I),r.Y36(f.t6),r.Y36(p.v))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-alarm-workflow-wizard"]],viewQuery:function(e,t){var i;(1&e&&(r.Gf(M,5),r.Gf(S,5),r.Gf(Te,5),r.Gf(Fe,5),r.Gf(ae,5)),2&e)&&(r.iGM(i=r.CRH())&&(t.startElement=i.first),r.iGM(i=r.CRH())&&(t.deviceElement=i.first),r.iGM(i=r.CRH())&&(t.oprElement=i.first),r.iGM(i=r.CRH())&&(t.scheduleElement=i.first),r.iGM(i=r.CRH())&&(t.reviewElement=i.first))},inputs:{activeTab:"activeTab"},decls:35,vars:35,consts:[[1,"row"],[1,"col-md-12"],["id","workflowWizard",1,"workflow-wizard"],[1,"row","justify-content-end"],[1,"col-md-1","mb-3"],["type","button","aria-label","Close",1,"close","mt-2",3,"click"],["aria-hidden","true"],[1,"stepper-ui"],["id","wk-start",1,"step",3,"title","ngClass","click"],["id","wk-device",1,"step",3,"title","ngClass","disabled","click"],["id","wk-opr",1,"step",3,"title","ngClass","disabled","click"],["id","wk-schedule",1,"step",3,"title","ngClass","disabled","click"],["id","wk-review",1,"step",3,"title","ngClass","disabled","click"],["class","w-100 alert alert-danger mt-4 fade show flex-space-between",4,"ngIf"],[3,"workflowInputData","activeTab","workflowdata",4,"ngIf"],[3,"workflowInputData","activeTab","workflowDeviceData",4,"ngIf"],[3,"workflowInputData","activeTab","workflowOprData",4,"ngIf"],[3,"workflowInputData","activeTab","submitWorkflow",4,"ngIf"],[1,"w-100","alert","alert-danger","mt-4","fade","show","flex-space-between"],[1,"success-img"],["src","./assets/img/error-icon.svg"],[1,"d-inline-flex",3,"innerHtml"],["id","wk-err-ok",1,"btn-default","primary","px-3","ok-btn",3,"click"],[3,"workflowInputData","activeTab","workflowdata"],[3,"workflowInputData","activeTab","workflowDeviceData"],[3,"workflowInputData","activeTab","workflowOprData"],[3,"workflowInputData","activeTab","submitWorkflow"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"button",5),r.NdJ("click",function(){return t.closeWorkflow()}),r._UZ(6,"span",6),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"section"),r.TgZ(8,"ul",7),r.TgZ(9,"li"),r.TgZ(10,"button",8),r.NdJ("click",function(){return t.setActiveTab("Start")}),r.TgZ(11,"span"),r._uU(12),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"li"),r.TgZ(14,"button",9),r.NdJ("click",function(){return t.setActiveTab("Select Device Groups")}),r.TgZ(15,"span"),r._uU(16),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"li"),r.TgZ(18,"button",10),r.NdJ("click",function(){return t.setActiveTab("Select Operation Parameters")}),r.TgZ(19,"span"),r._uU(20),r.qZA(),r.qZA(),r.qZA(),r.TgZ(21,"li"),r.TgZ(22,"button",11),r.NdJ("click",function(){return t.setActiveTab("Select Schedule Parameters")}),r.TgZ(23,"span"),r._uU(24),r.qZA(),r.qZA(),r.qZA(),r.TgZ(25,"li"),r.TgZ(26,"button",12),r.NdJ("click",function(){return t.setActiveTab("Review")}),r.TgZ(27,"span"),r._uU(28),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(29,Ue,6,2,"div",13),r.YNc(30,Je,1,1,"app-alarm-start-wizard",14),r.YNc(31,Re,1,1,"app-alarm-select-device-wizard",15),r.YNc(32,We,1,1,"app-alarm-wrkflow-wizard-opr-parameters",16),r.YNc(33,Qe,1,1,"app-alarm-wrkflow-wizard-schedule-parameters",16),r.YNc(34,ze,1,1,"app-alarm-workflow-wizard-review",17),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(10),r.s9C("title",t.language.Start),r.Q6J("ngClass",r.VKq(25,Ge,"Start"===t.activeTab)),r.xp6(2),r.Oqu(t.language.Start),r.xp6(2),r.s9C("title",t.language.Grouping),r.Q6J("ngClass",r.VKq(27,Ge,"Select Device Groups"===t.activeTab))("disabled",null==t.workflowInputData.selectedAlarm),r.xp6(2),r.Oqu(t.language.Grouping),r.xp6(2),r.s9C("title",t.language["Operation Parameters"]),r.Q6J("ngClass",r.VKq(29,Ge,"Select Operation Parameters"===t.activeTab))("disabled",null==t.workflowInputData.selectedAlarm),r.xp6(2),r.Oqu(t.language["Operation Parameters"]),r.xp6(2),r.s9C("title",t.language["Schedule Parameters"]),r.Q6J("ngClass",r.VKq(31,Ge,"Select Schedule Parameters"===t.activeTab))("disabled",!t.workflowInputData.additionalParams.length),r.xp6(2),r.Oqu(t.language["Schedule Parameters"]),r.xp6(2),r.s9C("title",t.language.Review),r.Q6J("ngClass",r.VKq(33,Ge,"Review"===t.activeTab))("disabled",!t.workflowInputData.additionalParams.length),r.xp6(2),r.Oqu(t.language.Review),r.xp6(1),r.Q6J("ngIf",t.error),r.xp6(1),r.Q6J("ngIf","Start"===t.activeTab),r.xp6(1),r.Q6J("ngIf","Select Device Groups"===t.activeTab),r.xp6(1),r.Q6J("ngIf","Select Operation Parameters"===t.activeTab),r.xp6(1),r.Q6J("ngIf","Select Schedule Parameters"===t.activeTab),r.xp6(1),r.Q6J("ngIf","Review"===t.activeTab))},directives:[m.mk,m.O5,M,S,Te,Fe,ae],styles:['#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .stepper-main[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;position:relative}#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]{width:100%;display:flex;position:relative}#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--1[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--2[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--3[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--4[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--5[_ngcontent-%COMP%]{padding:8px 20px;background:#ebeaef;color:gray;text-align:center;cursor:pointer;border-top-right-radius:20px;border-bottom-right-radius:20px;font-size:14px;border:transparent}#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--1[_ngcontent-%COMP%]{z-index:55;border-top-left-radius:20px;border-bottom-left-radius:20px}#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--2[_ngcontent-%COMP%]{z-index:44!important;transform:translate(-20px)}#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--3[_ngcontent-%COMP%]{z-index:33!important;transform:translate(-40px)}#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--4[_ngcontent-%COMP%]{z-index:22!important;transform:translate(-60px)}#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--5[_ngcontent-%COMP%]{z-index:11!important;transform:translate(-80px);border-top-right-radius:20px;border-bottom-right-radius:20px}#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step-active[_ngcontent-%COMP%]{background:#0279ff!important;color:#fff!important;z-index:99!important;border-radius:20px!important}#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step-success[_ngcontent-%COMP%]{background:#82bf00!important;color:#fff!important;z-index:101!important;border-radius:20px!important}#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:first-child{min-width:8%}.stepper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#ebeaef!important;border:1px solid #ebeaef!important}@media (max-width: 1328px){#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:first-child{min-width:10%}#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--1[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--2[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--3[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--4[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--5[_ngcontent-%COMP%]{padding:5px 15px;font-size:13px}}@media (max-width: 1100px){#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--1[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--2[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--3[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--4[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--5[_ngcontent-%COMP%]{padding:5px 15px;font-size:12px}}@media (max-width: 768px){.stepper-main[_ngcontent-%COMP%]{overflow-x:auto}#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]{width:1200px}#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:first-child{min-width:9%}#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{min-width:24%}#workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--1[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--2[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--3[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--4[_ngcontent-%COMP%], #workflowWizard.workflow-wizard[_ngcontent-%COMP%]   .step--5[_ngcontent-%COMP%]{font-size:12px;margin-left:9px;padding:10px 0 10px 9px}}.workflow-details-table[_ngcontent-%COMP%]   table.dataTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:33%}.stepper-ui[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0 0 10px;padding:0;overflow:hidden}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 10px 0 30px;background:#ffffff;color:#1a1f22;position:relative;height:32px;border-top:1px solid #0279ff;border-bottom:1px solid #0279ff;border-right:0px!important;border-left:0px!important;outline:none!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:2}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{content:"";width:30px;height:100%;background:transparent;position:absolute;top:0;right:-10px;transform:rotate(48deg);z-index:1;border:1px ridge transparent;border-top-color:#0279ff;border-right-color:#0279ff;border-top-right-radius:5px}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]{color:#fff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:after{background-color:#0279ff!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]{background-color:#82bf00;border-color:#82bf00}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:after{background-color:#82bf00}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:disabled{background-color:#82bf00!important;border-color:#82bf00!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:after{border-top-color:#fff!important;border-right-color:#fff!important;border-style:solid}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:after{border-top-color:#0279ff!important;border-right-color:#0279ff!important;border-style:solid}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   button[_ngcontent-%COMP%]{border-top-left-radius:30px;border-bottom-left-radius:30px}button[_ngcontent-%COMP%]:disabled{background:transparent!important;border:1px solid #0279ff!important;cursor:not-allowed;color:#4c4c4c}.new-workflow-title[_ngcontent-%COMP%]{font-size:42px;font-weight:300;line-height:53px;color:#1a1f22}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%]{opacity:.8;color:#fff!important}']}),e}()}}])}();