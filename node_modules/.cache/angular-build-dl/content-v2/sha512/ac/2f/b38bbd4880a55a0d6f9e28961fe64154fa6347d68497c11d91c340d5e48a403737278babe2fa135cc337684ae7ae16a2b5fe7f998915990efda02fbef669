"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[5994],{80431:function(e,t,i){i.d(t,{m:function(){return C}});var o=i(96718),n=i(37716),a=i(67798),r=i(89097),s=i(10298),l=i(7450),g=i(39895),c=i(49342),p=i(53668),h=i(39075),d=i(38583),u=i(3679);const m=["errorModal"],Z=["successModal"];function b(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",40),n.TgZ(1,"div",41),n.TgZ(2,"div",42),n._UZ(3,"img",43),n.qZA(),n.TgZ(4,"div",44),n.TgZ(5,"strong"),n._uU(6,"Error!"),n.qZA(),n._uU(7),n.qZA(),n.TgZ(8,"div",45),n.TgZ(9,"button",46),n.NdJ("click",function(){return n.CHM(e),n.oxw().hideError()}),n._UZ(10,"span",47),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(7),n.hij(" ",e.errorMsg,". ")}}function f(e,t){if(1&e&&(n.TgZ(0,"div",48),n.TgZ(1,"div",49),n.TgZ(2,"div",50),n.TgZ(3,"span",51),n._uU(4),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(4),n.Oqu(e.language.Loading)}}function x(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",52),n.NdJ("click",function(){return n.CHM(e),n.oxw().clearInput("App Name")}),n._UZ(1,"span"),n.qZA()}}function A(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",52),n.NdJ("click",function(){return n.CHM(e),n.oxw().clearInput("Primary Color")}),n._UZ(1,"span"),n.qZA()}}function _(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",52),n.NdJ("click",function(){return n.CHM(e),n.oxw().clearInput("Preferred ProtectIQ Name")}),n._UZ(1,"span"),n.qZA()}}function v(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",52),n.NdJ("click",function(){return n.CHM(e),n.oxw().clearInput("Preferred ExperienceIQ Name")}),n._UZ(1,"span"),n.qZA()}}const q=i(91704);let C=(()=>{class e{constructor(e,t,i,o,n,a,r,s){this.service=e,this.sso=t,this.routerService=i,this.translateService=o,this.router=n,this.commonOrgService=a,this.organizationApiService=r,this.titleService=s,this.loader=!1,this.showCreateBtn=!1,this.appName="",this.privacyPolicyLinkEnglish="",this.privacyPolicyLinkFrench="",this.isActive=!1,this.spid="",this.primaryColor="#0279ff",this.secondaryColor="#FFDDDD",this.showSuccess=!1,this.isShad=!0,this.logovisiblity=!1,this.whitelogovisiblity=!1,this.REDIRECT_URL="/organization-admin",this.selectOptions=[{label:"True",value:!0},{label:"False",value:!1}],this.showError=!1,this.customAppName={eiqLabel:"",piqLabel:""},this.commonOrgService.currentPageAdder("commandiq-create");let l=this.router.url;-1===l.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(l),this.REDIRECT_URL=this.sso.getRedirectModule(l),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID),this.SPID||this.getAdminOrgInfo()):this.SPID=this.sso.getSPID(),l.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings"),this.titleService.setTitle(`CommandIQ - Mobile App - ${"systemAdministration"===this.REDIRECT_URL?"System Administration":"Administration"} - Calix Cloud`)}ngOnInit(){this.spid=this.sso.getSPID(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e})}readURL(e,t){let i;if(this.hideError(),t&&"white_logo"===t?q("#whitelogo_image").attr("src"," "):q("#logo_image").attr("src"," "),e.files&&e.files[0]){let o=new FileReader;o.onload=e=>{"logo"===t?(q("#logo_image").attr("src",e.target.result),this.logovisiblity=!0):(q("#whitelogo_image").attr("src",e.target.result),this.whitelogovisiblity=!0),i=e.target.result,localStorage.setItem(t,i)},o.readAsDataURL(e.files[0])}}readWhiteLogoURL(e,t){let i;if(e.files&&e.files[0]){let o=new FileReader;o.onload=e=>{i=e.target.result,localStorage.setItem(t,i)},o.readAsDataURL(e.files[0])}}add(){let e,t;var i={};if(!this.loader){if(this.sso.getSPID(),i.spid=this.SPID,i.appName=this.appName,i.sellerName=this.appName,i.privacyPolicyLinkEnglish=this.privacyPolicyLinkEnglish,i.privacyPolicyLinkFrench=this.privacyPolicyLinkFrench,i.isActive=this.isActive,i.primaryColor=this.primaryColor,!i.appName)return void this.addError(this.language.enter_the_Seller_Name);if(!i.primaryColor)return void this.addError(this.language.enter_the_Primary_Color);if(this.customAppName.eiqLabel&&this.customAppName.piqLabel&&this.customAppName.eiqLabel.toLowerCase()===this.customAppName.piqLabel.toLowerCase())return void this.addError(this.language.piq_eiq_similar_name_err);var o=new FormData;if(t=q("input[name='logo']").get(0).files,!t.length)return void this.addError(this.language["Please upload Primary Logo image"]);var n=t[0].name.split(".").pop(),a=t[0].size/1024;if(-1==(s=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(n)){var r=s.join(", ");return void this.addError(this.language.Image_extension_will_be+r+this.language.file_format)}if(a>250)return void this.addError(this.language.Primary_Logo_Upload_Size_Error+" 250KB");if(q.each(t,function(e,t){o.append("logo",t)}),e=q("input[name='white_logo']").get(0).files,!e.length)return void this.addError(this.language["Please upload White Logo image"]);var s,l=e[0].size/1024;if(n=e[0].name.split(".").pop(),-1==(s=["png","PNG"]).indexOf(n))return r=s.join(", "),void this.addError(this.language["Image extension will be an "]+r+this.language.file_format);if(l>250)return void this.addError(this.language.WhitelogoImage_uploaderror+" 250KB");q.each(e,function(e,t){o.append("appIcon",t)}),o.append("spid",i.spid),o.append("primaryColor",i.primaryColor),o.append("secondaryColor",i.primaryColor),o.append("appName",i.appName),o.append("sellerName",i.appName),o.append("isActive",i.isActive),this.hideError(),this.loader=!0,this.service.add(o).subscribe(e=>{this.loader=!1,this.updateCustomName()},e=>{this.loader=!1,this.pageErrorHandle(e,!0)})}}cancel(){this.router.navigate(this.isShad?["/shad/commandiq"]:[`/${this.REDIRECT_URL}/mobile-app/commandiq`])}addError(e){this.errorMsg=e,this.showError=!0,q("html, body").animate({scrollTop:0},"slow")}hideError(){this.showError=!1,this.errorMsg=""}close(){this.modalRef.close()}goToWhiteLabelList(){this.routerService.WhiteLabelList(!0),this.router.navigate(this.isShad?["/shad/commandiq"]:[`/${this.REDIRECT_URL}/mobile-app/commandiq`])}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe(),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe()}getAdminOrgInfo(){this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(e=>{this.sso.setAdminOrgInfo(e),e&&e.spId&&(this.SPID=e.spId)},e=>{})}pageErrorHandle(e,t){400!=e.status||t?(this.errorMsg=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.showError=!0,q("html, body").animate({scrollTop:0},"slow")):(this.errorMsg=this.commonOrgService.pageInvalidRqstErrorHandle(e),this.showError=!0,q("html, body").animate({scrollTop:0},"slow"))}clearInput(e){"App Name"==e&&(this.appName=""),"Primary Color"==e&&(this.primaryColor="#0279ff"),"Preferred ProtectIQ Name"==e&&(this.customAppName.piqLabel=""),"Preferred ExperienceIQ Name"==e&&(this.customAppName.eiqLabel="")}updateCustomName(){this.loader=!0;let e={spid:this.SPID,customNames:[]};e.customNames.push({appName:"CIES",customAppName:this.customAppName.piqLabel}),e.customNames.push({appName:"CIEP",customAppName:this.customAppName.eiqLabel}),this.hideError(),this.service.updateAppCustomName(e).subscribe(e=>{this.loader=!1,this.goToWhiteLabelList()},e=>{this.loader=!1,this.pageErrorHandle(e,!0)})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(a.E),n.Y36(r.t6),n.Y36(s.c),n.Y36(l.s),n.Y36(g.F0),n.Y36(c.v),n.Y36(p.F),n.Y36(h.Dx))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-commandiq-create"]],viewQuery:function(e,t){if(1&e&&(n.Gf(m,7),n.Gf(Z,7)),2&e){let e;n.iGM(e=n.CRH())&&(t.errorModal=e.first),n.iGM(e=n.CRH())&&(t.successModal=e.first)}},features:[n._Bn([o.ee])],decls:104,vars:39,consts:[[1,"position-relative"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],["class","loader",4,"ngIf"],[1,"row","detail-view","my-3"],[1,"col-md-12"],[1,"text-right","d-flex","align-items","justify-content-end","white-form","pb-1"],[1,"d-inline-flex","align-items-center"],["id","savebuttonCiqView",1,"btn-default","primary","px-3",3,"click"],[1,"close","ml-3","px-0",3,"click"],[1,"col-md-12","mb-2"],[1,"toggle-swtbtn","checkbox","switcher"],[1,"f-s-14px"],["type","checkbox","name","Status","id","Status",3,"ngModel","ngModelChange"],[1,"mr-1"],[1,"col-sm-4","col-md-3","col-lg-3","col-xl-3"],[1,"form-group"],[1,"ccl-form-label","mb-0"],[1,"value-text"],[1,"form-group","ccl-form"],[1,"error"],["id","appName","type","text","name","appName",1,"clearable-input",3,"ngModel","ngModelChange","keyup"],["class","close btn-custom-close",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between","w-100"],[1,"position-relative","ccl-form","min-w-135"],["type","text",1,"clearable-input",3,"ngModel","value","ngModelChange","keyup"],["name","primaryColor","id","primaryColor","autocomplete","off",1,"form-control","color-box",3,"colorPicker","ngModel","cpOutputFormat","colorPickerChange","ngModelChange"],["id","CIQinputFL1","type","text","maxlength","25","name","piqName",1,"clearable-input",3,"placeholder","ngModel","ngModelChange"],["id","CIQinputFL2","type","text","maxlength","25","name","eiqName",1,"clearable-input",3,"placeholder","ngModel","ngModelChange"],[1,"logo-box"],["id","logo_image","src"," "],["for","logo",1,"custom-file-upload","btn-sm","btn-light","ml-0"],["type","file","name","logo","id","logo","accept",".jpeg, .JPEG, .PNG, .jpg, .png, .JPG, .img, .IMG, .bin, .BIN",1,"white-logo-input",3,"change"],["logo",""],["id","whitelogo_image","src"," "],["for","white_logo",1,"custom-file-upload","btn-sm","btn-light","ml-0"],["type","file","name","white_logo","id","white_logo","accept",".PNG, .png",1,"white-logo-input",3,"change"],["white_logo",""],[1,"logo-guidelines"],[1,"ml-4"],[1,"m-0"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"error-alert-wrapper","d-flex","justify-content-between"],[1,"error-alert-icon"],["src","../../../assets/img/error-icon.svg","alt",""],[1,"error-alert-msg"],[1,"error-alert-close"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"close","btn-custom-close",3,"click"]],template:function(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",0),n.YNc(1,b,11,1,"div",1),n.YNc(2,f,5,1,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"form"),n.TgZ(6,"div",5),n.TgZ(7,"div",6),n.TgZ(8,"button",7),n.NdJ("click",function(){return t.add()}),n._uU(9),n.qZA(),n.TgZ(10,"button",8),n.NdJ("click",function(){return t.cancel()}),n._UZ(11,"span"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"div",9),n.TgZ(13,"div",10),n.TgZ(14,"label",11),n.TgZ(15,"input",12),n.NdJ("ngModelChange",function(e){return t.isActive=e}),n.qZA(),n.TgZ(16,"span",13),n._UZ(17,"small"),n.qZA(),n._uU(18),n.qZA(),n.qZA(),n.qZA(),n.TgZ(19,"div",14),n.TgZ(20,"div",15),n.TgZ(21,"label",16),n._uU(22),n.qZA(),n.TgZ(23,"p",17),n._uU(24),n.qZA(),n.qZA(),n.TgZ(25,"div",18),n.TgZ(26,"label",16),n._uU(27),n.TgZ(28,"span",19),n._uU(29,"*"),n.qZA(),n.qZA(),n.TgZ(30,"div",0),n.TgZ(31,"input",20),n.NdJ("ngModelChange",function(e){return t.appName=e})("keyup",function(){return t.hideError()}),n.qZA(),n.YNc(32,x,2,0,"button",21),n.qZA(),n.qZA(),n.TgZ(33,"div",15),n.TgZ(34,"label",16),n._uU(35),n.TgZ(36,"span",19),n._uU(37,"*"),n.qZA(),n.qZA(),n.TgZ(38,"div",22),n.TgZ(39,"div",23),n.TgZ(40,"input",24),n.NdJ("ngModelChange",function(e){return t.primaryColor=e})("keyup",function(){return t.hideError()}),n.qZA(),n.YNc(41,A,2,0,"button",21),n.qZA(),n.TgZ(42,"input",25),n.NdJ("colorPickerChange",function(e){return t.primaryColor=e})("ngModelChange",function(e){return t.primaryColor=e}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(43,"div",18),n.TgZ(44,"label",16),n._uU(45),n.qZA(),n.TgZ(46,"div",0),n.TgZ(47,"input",26),n.NdJ("ngModelChange",function(e){return t.customAppName.piqLabel=e}),n.qZA(),n.YNc(48,_,2,0,"button",21),n.qZA(),n.qZA(),n.TgZ(49,"div",18),n.TgZ(50,"label",16),n._uU(51),n.qZA(),n.TgZ(52,"div",0),n.TgZ(53,"input",27),n.NdJ("ngModelChange",function(e){return t.customAppName.eiqLabel=e}),n.qZA(),n.YNc(54,v,2,0,"button",21),n.qZA(),n.qZA(),n.qZA(),n.TgZ(55,"div",14),n.TgZ(56,"div",15),n.TgZ(57,"label",16),n._uU(58),n.TgZ(59,"span",19),n._uU(60,"*"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(61,"div",28),n._UZ(62,"img",29),n.qZA(),n.TgZ(63,"label",30),n.TgZ(64,"a"),n._uU(65),n.qZA(),n.qZA(),n.TgZ(66,"input",31,32),n.NdJ("change",function(){n.CHM(e);const i=n.MAs(67);return t.readURL(i,"logo")}),n.qZA(),n.qZA(),n.TgZ(68,"div",14),n.TgZ(69,"div",15),n.TgZ(70,"label",16),n._uU(71),n.TgZ(72,"span",19),n._uU(73,"*"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(74,"div",28),n._UZ(75,"img",33),n.qZA(),n.TgZ(76,"label",34),n.TgZ(77,"a"),n._uU(78),n.qZA(),n.qZA(),n.TgZ(79,"input",35,36),n.NdJ("change",function(){n.CHM(e);const i=n.MAs(80);return t.readURL(i,"white_logo")}),n.qZA(),n.qZA(),n.TgZ(81,"div",14),n.TgZ(82,"div",15),n.TgZ(83,"label",16),n._uU(84),n.qZA(),n.qZA(),n.TgZ(85,"div",37),n.TgZ(86,"ul",38),n.TgZ(87,"li"),n._uU(88),n.qZA(),n.TgZ(89,"li"),n._uU(90),n.qZA(),n.TgZ(91,"li"),n._uU(92),n.qZA(),n.TgZ(93,"li"),n.TgZ(94,"p",39),n._uU(95),n.qZA(),n.TgZ(96,"p",39),n._uU(97,".png, .jpeg, img, bin"),n.qZA(),n.qZA(),n.TgZ(98,"li"),n.TgZ(99,"p",39),n._uU(100),n.qZA(),n.qZA(),n.TgZ(101,"li"),n.TgZ(102,"p",39),n._uU(103),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}2&e&&(n.xp6(1),n.Q6J("ngIf",t.showError),n.xp6(1),n.Q6J("ngIf",t.loader),n.xp6(7),n.hij(" ",t.language.Save," "),n.xp6(6),n.Q6J("ngModel",t.isActive),n.uIk("checked",t.isActive),n.xp6(3),n.hij(" ",t.isActive?t.language.Enabled:t.language.Disabled," "),n.xp6(4),n.Oqu(t.language.Service_Provider),n.xp6(2),n.Oqu(t.SPID),n.xp6(3),n.Oqu(t.language.App_Name),n.xp6(4),n.Q6J("ngModel",t.appName),n.xp6(1),n.Q6J("ngIf",t.appName),n.xp6(3),n.Oqu(t.language.Primary_Color),n.xp6(5),n.Q6J("ngModel",t.primaryColor)("value",t.primaryColor),n.xp6(1),n.Q6J("ngIf",t.primaryColor),n.xp6(1),n.Udp("background",t.primaryColor),n.Q6J("colorPicker",t.primaryColor)("ngModel",t.primaryColor)("cpOutputFormat","hex"),n.xp6(3),n.Oqu(t.language["Preferred ProtectIQ Name"]),n.xp6(2),n.s9C("placeholder",t.language.Protect_IQ),n.Q6J("ngModel",t.customAppName.piqLabel),n.xp6(1),n.Q6J("ngIf",t.customAppName.piqLabel),n.xp6(3),n.Oqu(t.language["Preferred ExperienceIQ Name"]),n.xp6(2),n.s9C("placeholder",t.language.Experience_IQ),n.Q6J("ngModel",t.customAppName.eiqLabel),n.xp6(1),n.Q6J("ngIf",t.customAppName.eiqLabel),n.xp6(4),n.Oqu(t.language.Primary_Logo),n.xp6(7),n.hij(" ",t.language["Upload Image"]," "),n.xp6(6),n.Oqu(t.language.White_Logo),n.xp6(7),n.hij(" ",t.language["Upload Image"]," "),n.xp6(6),n.Oqu(t.language.Logo_Guidelines),n.xp6(4),n.hij("",t.language["Max File size"],": 250KB"),n.xp6(2),n.hij("",t.language["Max-Width"],": 1080px"),n.xp6(2),n.hij("",t.language["Max-Height"],": 180px"),n.xp6(3),n.hij("",t.language["Primary Logo Format"],":"),n.xp6(5),n.hij("",t.language["White Logo Format"],": .png"),n.xp6(3),n.Oqu(t.language["Transparent background recommended"]))},directives:[d.O5,u._Y,u.JL,u.F,u.Wl,u.JJ,u.On,u.Fj,o.Kk,u.nD],styles:[".label-link[_ngcontent-%COMP%]{margin-bottom:15px;text-align:right}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline!important;font-weight:600;cursor:pointer}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0279ff}.nodata[_ngcontent-%COMP%]{text-align:center;font-size:16px}.detail-view[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:13px}.value-text[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:20px;color:gray;min-height:36px;padding:8px 16px;margin-bottom:0;min-width:100px;word-break:break-word}input.value-text[_ngcontent-%COMP%]{width:100%}.max-w-100[_ngcontent-%COMP%]{max-width:100px}.min-w-135[_ngcontent-%COMP%]{min-width:135px}.color-box[_ngcontent-%COMP%]{cursor:default!important;min-width:50px;max-width:77px;height:36px;border-radius:3px!important;font-size:0;box-shadow:none!important;margin-left:12px}.btn-custom-close[_ngcontent-%COMP%]{position:absolute;top:14px;right:14px}.btn-custom-close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:12px;height:12px;top:0;right:0;background-size:11px}.logo-box[_ngcontent-%COMP%]{background:#EBEAEF;border-radius:6px;width:100%;height:100px;display:inline-flex;align-items:center;justify-content:center;border:1px solid #dad9de;margin-bottom:10px}.logo-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:auto;max-height:100px}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;color:#4c4c4c}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #ccc;display:inline-block;padding:6px 12px;cursor:pointer;border-radius:22px;padding:3px 20px!important;height:24px;line-height:16px}.white-logo-input[_ngcontent-%COMP%]{display:none}.opacity-50[_ngcontent-%COMP%]{opacity:50%}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{width:35px;height:18px}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{width:12px;height:12px}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-left:3px}.Commandiq-loge-name[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;width:188px}.whitelabel-name[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;padding-bottom:7px;margin-bottom:7px}"]}),e})()},32500:function(e,t,i){i.d(t,{Q:function(){return q}});var o=i(37716),n=i(67798),a=i(12664),r=i(89097),s=i(10298),l=i(38583),g=i(7450),c=i(39895),p=i(49342),h=i(53668),d=i(39075),u=i(3679),m=i(96718);const Z=["errorModal"],b=["successModal"];function f(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",38),o.TgZ(1,"div",39),o.TgZ(2,"div",40),o._UZ(3,"img",41),o.qZA(),o.TgZ(4,"div",42),o.TgZ(5,"strong"),o._uU(6,"Error!"),o.qZA(),o._uU(7),o.qZA(),o.TgZ(8,"div",43),o.TgZ(9,"button",44),o.NdJ("click",function(){return o.CHM(e),o.oxw().hideError()}),o._UZ(10,"span",45),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(7),o.hij(" ",e.errorMsg,". ")}}function x(e,t){if(1&e&&(o.TgZ(0,"div",46),o.TgZ(1,"div",47),o.TgZ(2,"div",48),o.TgZ(3,"span",49),o._uU(4),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(4),o.Oqu(e.language.Loading)}}function A(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"button",50),o.NdJ("click",function(){return o.CHM(e),o.oxw().clearInput("App Name")}),o._UZ(1,"span"),o.qZA()}}function _(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"button",50),o.NdJ("click",function(){return o.CHM(e),o.oxw().clearInput("Primary Color")}),o._UZ(1,"span"),o.qZA()}}const v=i(91704);let q=(()=>{class e{constructor(e,t,i,o,n,a,r,s,l,g){this.service=e,this.dialogService=t,this.sso=i,this.routerService=o,this._location=n,this.translateService=a,this.router=r,this.commonOrgService=s,this.organizationApiService=l,this.titleService=g,this.primaryColor="#0279ff",this.secondaryColor="#FFDDDD",this.showSuccess=!1,this.isShad=!0,this.logovisiblity=!1,this.whitelogovisiblity=!1,this.REDIRECT_URL="/organization-admin",this.selectOptions=[{label:"True",value:!0},{label:"False",value:!1}],this.showError=!1,this.loader=!1,this.showCreateBtn=!1,this.appName="",this.privacyPolicyLinkEnglish="",this.privacyPolicyLinkFrench="",this.isActive=!1,this.spid="",this.commonOrgService.currentPageAdder("commandWorx-create");let c=this.router.url;-1===c.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(c),this.REDIRECT_URL=this.sso.getRedirectModule(c),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID),this.SPID||this.getAdminOrgInfo()):this.SPID=this.sso.getSPID(),c.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings"),this.titleService.setTitle(`CommandWorx - Mobile App - ${"systemAdministration"===this.REDIRECT_URL?"System Administration":"Administration"} - Calix Cloud`)}ngOnInit(){this.spid=this.sso.getSPID(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e})}readURL(e,t){let i;if(this.hideError(),t&&"white_logo"===t?v("#whitelogo_image").attr("src"," "):v("#logo_image").attr("src"," "),e.files&&e.files[0]){let o=new FileReader;o.onload=e=>{"logo"===t?(v("#logo_image").attr("src",e.target.result),this.logovisiblity=!0):(v("#whitelogo_image").attr("src",e.target.result),this.whitelogovisiblity=!0),i=e.target.result,localStorage.setItem(t,i)},o.readAsDataURL(e.files[0])}}readWhiteLogoURL(e,t){let i;if(e.files&&e.files[0]){let o=new FileReader;o.onload=e=>{i=e.target.result,localStorage.setItem(t,i)},o.readAsDataURL(e.files[0])}}add(){let e,t;var i={};if(!this.loader){if(this.sso.getSPID(),i.spid=this.SPID,i.appName=this.appName,i.sellerName=this.appName,i.privacyPolicyLinkEnglish=this.privacyPolicyLinkEnglish,i.privacyPolicyLinkFrench=this.privacyPolicyLinkFrench,i.isActive=this.isActive,i.primaryColor=this.primaryColor,!i.appName)return void this.addError(this.language.enter_the_Seller_Name);var o=new FormData;if(t=v("input[name='logo']").get(0).files,t.length){var n=t[0].name.split(".").pop(),a=t[0].size/1024;if(-1==(s=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(n)){var r=s.join(", ");return void this.addError(this.language.Image_extension_will_be+r+this.language.file_format)}if(a>250)return void this.addError(this.language.Primary_Logo_Upload_Size_Error+" 250KB");v.each(t,function(e,t){o.append("primaryLogo",t)})}else o.append("primaryLogo","");if(e=v("input[name='white_logo']").get(0).files,e.length){var s,l=e[0].size/1024;if(n=e[0].name.split(".").pop(),-1==(s=["png","PNG"]).indexOf(n))return r=s.join(", "),void this.addError(this.language["Image extension will be an "]+r+this.language.file_format);if(l>250)return void this.addError(this.language.WhitelogoImage_uploaderror+" 250KB");v.each(e,function(e,t){o.append("whiteLogo",t)})}else o.append("whiteLogo","");o.append("spid",i.spid),o.append("primaryColor",i.primaryColor),o.append("appName",i.appName),o.append("isActive",i.isActive),this.hideError(),this.loader=!0,this.service.commandIqadd(o).subscribe(e=>{this.loader=!1,this.goToWhiteLabelList()},e=>{this.loader=!1,this.pageErrorHandle(e,!0)})}}cancel(){this.router.navigate(this.isShad?["/shad/commandWorx"]:[`/${this.REDIRECT_URL}/mobile-app/commandWorx`])}addError(e){this.errorMsg=e,this.showError=!0,v("html, body").animate({scrollTop:0},"slow")}hideError(){this.showError=!1,this.errorMsg=""}close(){this.modalRef.close()}goToWhiteLabelList(){this.routerService.WhiteLabelList(!0),this.router.navigate(this.isShad?["/shad/commandWorx"]:[`/${this.REDIRECT_URL}/mobile-app/commandWorx`])}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe(),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe()}getAdminOrgInfo(){this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(e=>{this.sso.setAdminOrgInfo(e),e&&e.spId&&(this.SPID=e.spId)},e=>{})}pageErrorHandle(e,t){400!=e.status||t?(this.errorMsg=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.showError=!0,v("html, body").animate({scrollTop:0},"slow")):(this.errorMsg=this.commonOrgService.pageInvalidRqstErrorHandle(e),this.showError=!0,v("html, body").animate({scrollTop:0},"slow"))}clearInput(e){"App Name"==e&&(this.appName=""),"Primary Color"==e&&(this.primaryColor="#0279ff")}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(n.E),o.Y36(a.FF),o.Y36(r.t6),o.Y36(s.c),o.Y36(l.Ye),o.Y36(g.s),o.Y36(c.F0),o.Y36(p.v),o.Y36(h.F),o.Y36(d.Dx))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-commandiq-pro-create"]],viewQuery:function(e,t){if(1&e&&(o.Gf(Z,7),o.Gf(b,7)),2&e){let e;o.iGM(e=o.CRH())&&(t.errorModal=e.first),o.iGM(e=o.CRH())&&(t.successModal=e.first)}},decls:86,vars:31,consts:[[1,"position-relative"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],["class","loader",4,"ngIf"],[1,"row","detail-view","my-3"],[1,"col-md-12"],[1,"text-right","d-flex","align-items","justify-content-end","white-form","pb-1"],[1,"d-inline-flex","align-items-center"],["id","savebuttonCiqBizCreate",1,"btn-default","primary","px-3",3,"click"],[1,"close","ml-3","px-0",3,"click"],[1,"col-md-12","mb-2"],[1,"toggle-swtbtn","checkbox","switcher"],[1,"f-s-14px"],["type","checkbox","name","Status","id","CiqBizCreateStatus",3,"ngModel","ngModelChange"],[1,"mr-1"],[1,"col-sm-4","col-md-3","col-lg-3","col-xl-3"],[1,"form-group"],[1,"ccl-form-label","mb-0"],[1,"value-text"],[1,"form-group","ccl-form"],[1,"error"],["id","CiqBizappName","type","text","name","appName",1,"clearable-input",3,"ngModel","ngModelChange","keyup"],["class","close btn-custom-close",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between","w-100"],[1,"position-relative","ccl-form","min-w-135"],["type","text",1,"clearable-input",3,"value","ngModel","ngModelChange","keyup"],["name","primaryColor","id","primaryColor","autocomplete","off",1,"form-control","color-box",3,"colorPicker","ngModel","cpOutputFormat","colorPickerChange","ngModelChange"],[1,"logo-box"],["id","logo_image","src"," "],["for","logo",1,"custom-file-upload","btn-sm","btn-light","ml-0"],["type","file","name","logo","id","logo","accept",".jpeg, .JPEG, .PNG, .jpg, .png, .JPG, .img, .IMG, .bin, .BIN",1,"white-logo-input",3,"change"],["logo",""],["id","whitelogo_image","src"," "],["for","white_logo",1,"custom-file-upload","btn-sm","btn-light","ml-0"],["type","file","name","white_logo","id","white_logo","accept",".PNG, .png",1,"white-logo-input",3,"change"],["white_logo",""],[1,"logo-guidelines"],[1,"ml-4"],[1,"m-0"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"error-alert-wrapper","d-flex","justify-content-between"],[1,"error-alert-icon"],["src","../../../assets/img/error-icon.svg","alt",""],[1,"error-alert-msg"],[1,"error-alert-close"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"close","btn-custom-close",3,"click"]],template:function(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",0),o.YNc(1,f,11,1,"div",1),o.YNc(2,x,5,1,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"form"),o.TgZ(6,"div",5),o.TgZ(7,"div",6),o.TgZ(8,"button",7),o.NdJ("click",function(){return t.add()}),o._uU(9),o.qZA(),o.TgZ(10,"button",8),o.NdJ("click",function(){return t.cancel()}),o._UZ(11,"span"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(12,"div",9),o.TgZ(13,"div",10),o.TgZ(14,"label",11),o.TgZ(15,"input",12),o.NdJ("ngModelChange",function(e){return t.isActive=e}),o.qZA(),o.TgZ(16,"span",13),o._UZ(17,"small"),o.qZA(),o._uU(18),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"div",14),o.TgZ(20,"div",15),o.TgZ(21,"label",16),o._uU(22),o.qZA(),o.TgZ(23,"p",17),o._uU(24),o.qZA(),o.qZA(),o.TgZ(25,"div",18),o.TgZ(26,"label",16),o._uU(27),o.TgZ(28,"span",19),o._uU(29,"*"),o.qZA(),o.qZA(),o.TgZ(30,"div",0),o.TgZ(31,"input",20),o.NdJ("ngModelChange",function(e){return t.appName=e})("keyup",function(){return t.hideError()}),o.qZA(),o.YNc(32,A,2,0,"button",21),o.qZA(),o.qZA(),o.TgZ(33,"div",15),o.TgZ(34,"label",16),o._uU(35),o.qZA(),o.TgZ(36,"div",22),o.TgZ(37,"div",23),o.TgZ(38,"input",24),o.NdJ("ngModelChange",function(e){return t.primaryColor=e})("keyup",function(){return t.hideError()}),o.qZA(),o.YNc(39,_,2,0,"button",21),o.qZA(),o.TgZ(40,"input",25),o.NdJ("colorPickerChange",function(e){return t.primaryColor=e})("ngModelChange",function(e){return t.primaryColor=e}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(41,"div",14),o.TgZ(42,"div",15),o.TgZ(43,"label",16),o._uU(44),o.qZA(),o.qZA(),o.TgZ(45,"div",26),o._UZ(46,"img",27),o.qZA(),o.TgZ(47,"label",28),o.TgZ(48,"a"),o._uU(49),o.qZA(),o.qZA(),o.TgZ(50,"input",29,30),o.NdJ("change",function(){o.CHM(e);const i=o.MAs(51);return t.readURL(i,"logo")}),o.qZA(),o.qZA(),o.TgZ(52,"div",14),o.TgZ(53,"div",15),o.TgZ(54,"label",16),o._uU(55),o.qZA(),o.qZA(),o.TgZ(56,"div",26),o._UZ(57,"img",31),o.qZA(),o.TgZ(58,"label",32),o.TgZ(59,"a"),o._uU(60),o.qZA(),o.qZA(),o.TgZ(61,"input",33,34),o.NdJ("change",function(){o.CHM(e);const i=o.MAs(62);return t.readURL(i,"white_logo")}),o.qZA(),o.qZA(),o.TgZ(63,"div",14),o.TgZ(64,"div",15),o.TgZ(65,"label",16),o._uU(66),o.qZA(),o.qZA(),o.TgZ(67,"div",35),o.TgZ(68,"ul",36),o.TgZ(69,"li"),o._uU(70),o.qZA(),o.TgZ(71,"li"),o._uU(72),o.qZA(),o.TgZ(73,"li"),o._uU(74),o.qZA(),o.TgZ(75,"li"),o.TgZ(76,"p",37),o._uU(77),o.qZA(),o.TgZ(78,"p",37),o._uU(79,".png, .jpeg, img, bin"),o.qZA(),o.qZA(),o.TgZ(80,"li"),o.TgZ(81,"p",37),o._uU(82),o.qZA(),o.qZA(),o.TgZ(83,"li"),o.TgZ(84,"p",37),o._uU(85),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(1),o.Q6J("ngIf",t.showError),o.xp6(1),o.Q6J("ngIf",t.loader),o.xp6(7),o.hij(" ",t.language.Save," "),o.xp6(6),o.Q6J("ngModel",t.isActive),o.uIk("checked",t.isActive),o.xp6(3),o.hij(" ",t.isActive?t.language.Enabled:t.language.Disabled," "),o.xp6(4),o.Oqu(t.language.Service_Provider),o.xp6(2),o.Oqu(t.SPID),o.xp6(3),o.Oqu(t.language.App_Name),o.xp6(4),o.Q6J("ngModel",t.appName),o.xp6(1),o.Q6J("ngIf",t.appName),o.xp6(3),o.Oqu(t.language.Primary_Color),o.xp6(3),o.Q6J("value",t.primaryColor)("ngModel",t.primaryColor),o.xp6(1),o.Q6J("ngIf",t.primaryColor),o.xp6(1),o.Udp("background",t.primaryColor),o.Q6J("colorPicker",t.primaryColor)("ngModel",t.primaryColor)("cpOutputFormat","hex"),o.xp6(4),o.Oqu(t.language.Primary_Logo),o.xp6(5),o.hij(" ",t.language["Upload Image"]," "),o.xp6(6),o.Oqu(t.language.White_Logo),o.xp6(5),o.hij(" ",t.language["Upload Image"]," "),o.xp6(6),o.Oqu(t.language.Logo_Guidelines),o.xp6(4),o.hij("",t.language["Max File size"],": 250KB"),o.xp6(2),o.hij("",t.language["Max-Width"],": 1080px"),o.xp6(2),o.hij("",t.language["Max-Height"],": 180px"),o.xp6(3),o.hij("",t.language["Primary Logo Format"],":"),o.xp6(5),o.hij("",t.language["White Logo Format"],": .png"),o.xp6(3),o.Oqu(t.language["Transparent background recommended"]))},directives:[l.O5,u._Y,u.JL,u.F,u.Wl,u.JJ,u.On,u.Fj,m.Kk],styles:[".label-link[_ngcontent-%COMP%]{margin-bottom:15px;text-align:right}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline!important;font-weight:600;cursor:pointer}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0279ff}.nodata[_ngcontent-%COMP%]{text-align:center;font-size:16px}.detail-view[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:13px}.value-text[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:20px;color:gray;min-height:36px;padding:8px 16px;margin-bottom:0;min-width:100px;word-break:break-word}input.value-text[_ngcontent-%COMP%]{width:100%}.max-w-100[_ngcontent-%COMP%]{max-width:100px}.min-w-135[_ngcontent-%COMP%]{min-width:135px}.color-box[_ngcontent-%COMP%]{cursor:default!important;min-width:50px;max-width:77px;height:36px;border-radius:3px!important;font-size:0;box-shadow:none!important;margin-left:12px}.btn-custom-close[_ngcontent-%COMP%]{position:absolute;top:14px;right:14px}.btn-custom-close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:12px;height:12px;top:0;right:0;background-size:11px}.logo-box[_ngcontent-%COMP%]{background:#EBEAEF;border-radius:6px;width:100%;height:100px;display:inline-flex;align-items:center;justify-content:center;border:1px solid #dad9de;margin-bottom:10px}.logo-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:auto;max-height:100px}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;color:#4c4c4c}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #ccc;display:inline-block;padding:6px 12px;cursor:pointer;border-radius:22px;padding:3px 20px!important;height:24px;line-height:16px}.white-logo-input[_ngcontent-%COMP%]{display:none}.opacity-50[_ngcontent-%COMP%]{opacity:50%}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{width:35px;height:18px}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{width:12px;height:12px}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-left:3px}.Commandiq-loge-name[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;width:188px}.whitelabel-name[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;padding-bottom:7px;margin-bottom:7px}"]}),e})()},71205:function(e,t,i){i.d(t,{m:function(){return M}});var o=i(37716),n=i(96718),a=i(67798),r=i(12664),s=i(89097),l=i(10298),g=i(7450),c=i(39895),p=i(49342),h=i(53668),d=i(39075),u=i(20904),m=i(38583),Z=i(3679),b=i(74062);const f=["errorModal"],x=["successModal"];function A(e,t){if(1&e&&(o.TgZ(0,"div",31),o.TgZ(1,"div",32),o.TgZ(2,"div",33),o.TgZ(3,"span",34),o._uU(4),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(4),o.Oqu(e.language.Loading)}}function _(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",35),o.TgZ(1,"span",36),o._UZ(2,"img",37),o.qZA(),o.TgZ(3,"strong"),o._uU(4),o.qZA(),o._uU(5),o.TgZ(6,"button",38),o.NdJ("click",function(){return o.CHM(e),o.oxw().validateError()}),o._UZ(7,"span",39),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(4),o.hij("",e.language.Error,"!"),o.xp6(1),o.hij(" ",e.errorMsg,". ")}}function v(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"button",40),o.NdJ("click",function(){return o.CHM(e),o.oxw().clearInput("App Name")}),o._UZ(1,"span"),o.qZA()}}function q(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"button",40),o.NdJ("click",function(){return o.CHM(e),o.oxw().clearInput("Primary Color")}),o._UZ(1,"span"),o.qZA()}}function C(e,t){if(1&e&&(o.TgZ(0,"div",46),o._UZ(1,"img",47),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.s9C("src",e.updatelogo+"?timestamp="+e.timestamp,o.LSH)}}function T(e,t){1&e&&(o.TgZ(0,"div",46),o._UZ(1,"img",48),o.qZA())}function w(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div"),o.YNc(1,C,2,1,"div",41),o.YNc(2,T,2,0,"div",41),o.TgZ(3,"label",42),o.TgZ(4,"a",43),o.NdJ("click",function(){return o.CHM(e),o.oxw().hidelogo()}),o._uU(5),o.qZA(),o.qZA(),o.TgZ(6,"input",44,45),o.NdJ("change",function(){o.CHM(e);const t=o.MAs(7);return o.oxw().readURL(t,"logo")}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.updatelogo),o.xp6(1),o.Q6J("ngIf",!e.updatelogo),o.xp6(3),o.hij(" ",e.language.Replace_Image," ")}}function I(e,t){if(1&e&&(o.TgZ(0,"div",46),o._UZ(1,"img",52),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.s9C("src",e.updateWhiteLogo+"?timestamp="+e.timestamp,o.LSH)}}function P(e,t){1&e&&(o.TgZ(0,"div",46),o._UZ(1,"img",53),o.qZA())}function y(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div"),o.YNc(1,I,2,1,"div",41),o.YNc(2,P,2,0,"div",41),o.TgZ(3,"label",49),o.TgZ(4,"a",43),o.NdJ("click",function(){return o.CHM(e),o.oxw().hidelogo()}),o._uU(5),o.qZA(),o.qZA(),o.TgZ(6,"input",50,51),o.NdJ("change",function(){o.CHM(e);const t=o.MAs(7);return o.oxw().readURL(t,"white_logo")}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.updateWhiteLogo),o.xp6(1),o.Q6J("ngIf",!e.updateWhiteLogo),o.xp6(3),o.hij(" ",e.language.Replace_Image," ")}}const O=i(91704);let M=(()=>{class e{constructor(e,t,i,o,n,a,r,s,l,g,c,p){this.cpService=e,this.service=t,this.dialogService=i,this.sso=o,this.routerService=n,this.ref=a,this.translateService=r,this.router=s,this.commonOrgService=l,this.organizationApiService=g,this.titleService=c,this.CommonFunctionsService=p,this.fileName="",this.isShad=!0,this.REDIRECT_URL="/organization-admin",this.selectOptions=[{label:"True",value:!0},{label:"False",value:!1}],this.showError=!1,this.loader=!1,this.showCreateBtn=!1,this.appName="",this.privacyPolicyLinkEnglish="",this.privacyPolicyLinkFrench="",this.isActive=!1,this.spid="",this.updateappIcon="",this.updatelogo="",this.primaryColor="",this.updateWhiteLogo="",this.commonOrgService.currentPageAdder("commandWorx-update");let h=this.router.url;-1===h.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(h),this.REDIRECT_URL=this.sso.getRedirectModule(h),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID)):this.SPID=this.sso.getSPID(),h.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings"),this.titleService.setTitle(`CommandWorx - Mobile App - ${"systemAdministration"===this.REDIRECT_URL?"System Administration":"Administration"} - Calix Cloud`)}ngOnInit(){this.SPID||this.isShad?(this.getDetails(),this.calixspid=this.SPID):this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(e=>{this.sso.setAdminOrgInfo(e),e&&e.spId&&(this.SPID=e.spId,this.getDetails(),this.calixspid=this.SPID)},e=>{}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e})}validateError(){this.showError=!1}getDetails(){this.sso.getSPID(),this.service.commandIqList(this.SPID).toPromise().then(e=>{this.timestamp=(new Date).getTime(),this.spid=e.body.spid,this.updateappIcon=e.body.whiteLogo,this.ISappIcon=!!this.updateappIcon,this.updatelogo=e.body.primaryLogo,this.ISlogo=!!this.updatelogo,this.updateWhiteLogo=e.body.whiteLogo,this.dataAvailable=!0,this.appName=e.body.appName,this.privacyPolicyLinkEnglish=e.body.privacyPolicyLinkEnglish,this.privacyPolicyLinkFrench=e.body.privacyPolicyLinkFrench,this.isActive=e.body.isActive,this.engandfile=e.body.eulaAndroidEnglish,this.ISengandfile=!!this.engandfile,this.AndroidFrench=e.body.eulaAndroidFrench,this.ISAndroidFrench=!!this.AndroidFrench,this.IOSEnglish=e.body.eulaIOSEnglish,this.ISIOSEnglish=!!this.IOSEnglish,this.IOSFrench=e.body.eulaIOSFrench,this.ISIOSFrench=!!this.IOSFrench,this.English=e.body.aboutEnglish,this.ISEnglish=!!this.English,this.French=e.body.aboutFrench,this.ISFrench=!!this.French,e.body.primaryColor&&(this.primaryColor=e.body.primaryColor)}).catch(e=>{this.dataAvailable=!0})}readURL(e,t){let i;if(this.hideError(),t&&"white_logo"===t?(this.whiteLogoFile="",O("#white-logo-image-view").attr("src"," ")):(this.logoFile="",O("#logo-image-view").attr("src"," ")),e.files&&e.files[0]){let n=new FileReader;n.onload=e=>{"logo"===t?O("#logo-image-view").attr("src",e.target.result):O("#white-logo-image-view").attr("src",e.target.result),i=e.target.result,localStorage.setItem(t,i)},n.readAsDataURL(e.files[0]);var o=e.files[0].name;"appIcon"==t?(this.iconFile=o,this.updateappIcon=""):"logo"==t?(this.logoFile=o,this.updatelogo=""):"eulaAndroidEnglish"==t?(this.eulaAE=o,this.engandfile=""):"eulaAndroidFrench"==t?(this.eulaAF=o,this.AndroidFrench=""):"eulaIOSEnglish"==t?(this.eulaIOSE=o,this.IOSEnglish=""):"eulaIOSFrench"==t?(this.eulaIOSF=o,this.IOSFrench=""):"aboutEnglish"==t?(this.aboutE=o,this.English=""):"aboutFrench"==t?(this.aboutF=o,this.French=""):"white_logo"==t&&(this.whiteLogoFile=o,this.updateWhiteLogo="")}}add(){let e;var t={};if(this.loader)return;if(t.spid=this.SPID,t.appName=this.appName,t.sellerName=this.appName,t.privacyPolicyLinkEnglish=this.privacyPolicyLinkEnglish,t.privacyPolicyLinkFrench=this.privacyPolicyLinkFrench,t.isActive=this.isActive,t.primaryColor=this.primaryColor,!t.appName)return void this.addError(this.language.enter_the_Seller_Name);var i=new FormData;if(""!=this.updatelogo)i.append("primaryLogo",this.updatelogo);else if(e=O("input[name='logo']").get(0).files,e.length){var o=e[0].name.split(".").pop(),n=e[0].size/1024,a=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"];if(-1==a.indexOf(o)){var r=a.join(", ");return void this.addError("Logo Image extension will be an "+r+" file format")}if(n>250)return void this.addError(this.language.Primary_Logo_Upload_Size_Error+" 250KB");O.each(e,function(e,t){i.append("primaryLogo",t)})}else i.append("primaryLogo","");let s;if(""!=this.updateWhiteLogo)i.append("whiteLogo",this.updateWhiteLogo);else if(s=O("input[name='white_logo']").get(0).files,s.length){var l=s[0].size/1024;let e=s[0].name.split(".").pop(),t=["png","PNG"];if(-1==t.indexOf(e)){let e=t.join(", ");return void this.addError(this.language.Image_extension_will_be+e+this.language.file_format)}if(l>250)return void this.addError(this.language.WhitelogoImage_uploaderror+" 250KB");O.each(s,function(e,t){i.append("whiteLogo",t)})}else i.append("whiteLogo","");i.append("spid",this.SPID),i.append("primaryColor",t.primaryColor),i.append("appName",t.appName),i.append("isActive",t.isActive),this.hideError(),this.loader=!0,this.service.commandIqUpdate(i).subscribe(e=>{this.loader=!1,this.goToWhiteLabelList()},e=>{this.loader=!1,this.addError(e.statusText)})}addError(e){this.errorMsg=e,this.showError=!0,O("html, body").animate({scrollTop:0},"slow"),this.ref.detectChanges()}hideError(){this.showError=!1,this.errorMsg=""}close(){this.modalRef.close()}goToWhiteLabelList(){this.routerService.WhiteLabelList(),this.router.navigate(this.isShad?["/shad/whitelabel"]:[`/${this.REDIRECT_URL}/mobile-app/commandWorx`])}hideAppicon(){}hidelogo(){}hideAndroidFrench(){this.ISAndroidFrench=!1}hideengandfile(){this.ISengandfile=!1}hideIOSEnglish(){this.ISIOSEnglish=!1}hideIOSFrench(){this.ISIOSFrench=!1}hideEnglish(){this.ISEnglish=!1}hideFrench(){this.ISFrench=!1}cancel(){this.router.navigate(this.isShad?["/shad/whitelabel"]:[`/${this.REDIRECT_URL}/mobile-app/commandWorx`])}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe(),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe()}clearInput(e){"App Name"==e&&(this.appName=""),"Primary Color"==e&&(this.primaryColor="#0279ff")}removeUnwantedSpace(e,t){this[e]=this.CommonFunctionsService.trimSpaceFromNonObjectInputs(t)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(n.ee),o.Y36(a.E),o.Y36(r.FF),o.Y36(s.t6),o.Y36(l.c),o.Y36(o.sBO),o.Y36(g.s),o.Y36(c.F0),o.Y36(p.v),o.Y36(h.F),o.Y36(d.Dx),o.Y36(u.i))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-commandiq-pro-update"]],viewQuery:function(e,t){if(1&e&&(o.Gf(f,7),o.Gf(x,7)),2&e){let e;o.iGM(e=o.CRH())&&(t.errorModal=e.first),o.iGM(e=o.CRH())&&(t.successModal=e.first)}},decls:75,vars:31,consts:[[1,"position-relative"],["class","loader",4,"ngIf"],[1,"w-100"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],[1,"row","detail-view","my-3"],[1,"col-md-12"],[1,"text-right","d-flex","align-items","justify-content-end","white-form","pb-1"],[1,"d-inline-flex","align-items-center"],["id","savebuttonCiqBizCreate",1,"btn-default","primary","px-3",3,"click"],[1,"close","ml-3","px-0",3,"click"],[1,"col-md-12","mb-2"],[1,"toggle-swtbtn","checkbox","switcher"],[1,"f-s-14px"],["type","checkbox","name","Status","id","CiqBizCreateStatus",3,"ngModel","ngModelChange"],[1,"mr-1"],[1,"col-sm-4","col-md-3","col-lg-3","col-xl-3"],[1,"form-group"],[1,"ccl-form-label","mb-0"],[1,"value-text"],[1,"form-group","ccl-form"],[1,"error"],["id","CiqBizappName","type","text","name","appName","trimSpace","",1,"clearable-input",3,"ngModel","ngModelChange","blur","keyup"],["class","close btn-custom-close",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between","w-100"],[1,"position-relative","ccl-form","min-w-135"],["type","text",1,"clearable-input",3,"ngModel","value","ngModelChange","keyup"],["name","primaryColor","id","primaryColor","autocomplete","off","trimSpace","",1,"form-control","color-box",3,"colorPicker","ngModel","cpOutputFormat","colorPickerChange","ngModelChange","blur"],[4,"ngIf"],[1,"logo-guidelines"],[1,"ml-4"],[1,"m-0"],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"mr-2"],["src","../../../assets/img/ic_error-outline.svg"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"close","btn-custom-close",3,"click"],["class","logo-box",4,"ngIf"],["for","logo",1,"custom-file-upload","btn-sm","btn-light","ml-0"],[3,"click"],["type","file","name","logo","id","logo","accept",".jpeg, .JPEG, .PNG, .jpg, .png, .JPG, .img, .IMG, .bin, .BIN",1,"white-logo-input",3,"change"],["logo",""],[1,"logo-box"],["id","logo-image-view",3,"src"],["id","logo-image-view","src"," "],["for","white_logo",1,"custom-file-upload","btn-sm","btn-light","ml-0"],["type","file","name","white_logo","id","white_logo","accept",".PNG, .png",1,"white-logo-input",3,"change"],["white_logo",""],["id","white-logo-image-view",3,"src"],["id","white-logo-image-view","src"," "]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.YNc(1,A,5,1,"div",1),o.TgZ(2,"div",2),o.YNc(3,_,8,2,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"div",5),o.TgZ(6,"form"),o.TgZ(7,"div",6),o.TgZ(8,"div",7),o.TgZ(9,"button",8),o.NdJ("click",function(){return t.add()}),o._uU(10),o.qZA(),o.TgZ(11,"button",9),o.NdJ("click",function(){return t.cancel()}),o._UZ(12,"span"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"div",10),o.TgZ(14,"div",11),o.TgZ(15,"label",12),o.TgZ(16,"input",13),o.NdJ("ngModelChange",function(e){return t.isActive=e}),o.qZA(),o.TgZ(17,"span",14),o._UZ(18,"small"),o.qZA(),o._uU(19),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"div",15),o.TgZ(21,"div",16),o.TgZ(22,"label",17),o._uU(23),o.qZA(),o.TgZ(24,"p",18),o._uU(25),o.qZA(),o.qZA(),o.TgZ(26,"div",19),o.TgZ(27,"label",17),o._uU(28),o.TgZ(29,"span",20),o._uU(30,"*"),o.qZA(),o.qZA(),o.TgZ(31,"div",0),o.TgZ(32,"input",21),o.NdJ("ngModelChange",function(e){return t.appName=e})("blur",function(){return t.removeUnwantedSpace("appName",t.appName)})("keyup",function(){return t.hideError()}),o.qZA(),o.YNc(33,v,2,0,"button",22),o.qZA(),o.qZA(),o.TgZ(34,"div",16),o.TgZ(35,"label",17),o._uU(36),o.qZA(),o.TgZ(37,"div",23),o.TgZ(38,"div",24),o.TgZ(39,"input",25),o.NdJ("ngModelChange",function(e){return t.primaryColor=e})("keyup",function(){return t.hideError()}),o.qZA(),o.YNc(40,q,2,0,"button",22),o.qZA(),o.TgZ(41,"input",26),o.NdJ("colorPickerChange",function(e){return t.primaryColor=e})("ngModelChange",function(e){return t.primaryColor=e})("blur",function(){return t.removeUnwantedSpace("primaryColor",t.primaryColor)}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(42,"div",15),o.TgZ(43,"div",16),o.TgZ(44,"label",17),o._uU(45),o.qZA(),o.qZA(),o.YNc(46,w,8,3,"div",27),o.qZA(),o.TgZ(47,"div",15),o.TgZ(48,"div",16),o.TgZ(49,"label",17),o._uU(50),o.qZA(),o.qZA(),o.YNc(51,y,8,3,"div",27),o.qZA(),o.TgZ(52,"div",15),o.TgZ(53,"div",16),o.TgZ(54,"label",17),o._uU(55),o.qZA(),o.qZA(),o.TgZ(56,"div",28),o.TgZ(57,"ul",29),o.TgZ(58,"li"),o._uU(59),o.qZA(),o.TgZ(60,"li"),o._uU(61),o.qZA(),o.TgZ(62,"li"),o._uU(63),o.qZA(),o.TgZ(64,"li"),o.TgZ(65,"p",30),o._uU(66),o.qZA(),o.TgZ(67,"p",30),o._uU(68,".png, .jpeg, img, bin"),o.qZA(),o.qZA(),o.TgZ(69,"li"),o.TgZ(70,"p",30),o._uU(71),o.qZA(),o.qZA(),o.TgZ(72,"li"),o.TgZ(73,"p",30),o._uU(74),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",t.loader),o.xp6(2),o.Q6J("ngIf",t.showError),o.xp6(7),o.hij(" ",t.language.Save," "),o.xp6(6),o.Q6J("ngModel",t.isActive),o.uIk("checked",t.isActive),o.xp6(3),o.hij(" ",t.isActive?t.language.Enabled:t.language.Disabled," "),o.xp6(4),o.Oqu(t.language.Service_Provider),o.xp6(2),o.Oqu(t.calixspid),o.xp6(3),o.Oqu(t.language.App_Name),o.xp6(4),o.Q6J("ngModel",t.appName),o.xp6(1),o.Q6J("ngIf",t.appName),o.xp6(3),o.Oqu(t.language.Primary_Color),o.xp6(3),o.Q6J("ngModel",t.primaryColor)("value",t.primaryColor),o.xp6(1),o.Q6J("ngIf",t.primaryColor),o.xp6(1),o.Udp("background",t.primaryColor),o.Q6J("colorPicker",t.primaryColor)("ngModel",t.primaryColor)("cpOutputFormat","hex"),o.xp6(4),o.Oqu(t.language.Primary_Logo),o.xp6(1),o.Q6J("ngIf",t.dataAvailable),o.xp6(4),o.Oqu(t.language.White_Logo),o.xp6(1),o.Q6J("ngIf",t.dataAvailable),o.xp6(4),o.Oqu(t.language.Logo_Guidelines),o.xp6(4),o.hij("",t.language["Max File size"],": 250KB"),o.xp6(2),o.hij("",t.language["Max-Width"],": 1080px"),o.xp6(2),o.hij("",t.language["Max-Height"],": 180px"),o.xp6(3),o.hij("",t.language["Primary Logo Format"],":"),o.xp6(5),o.hij("",t.language["White Logo Format"],": .png"),o.xp6(3),o.Oqu(t.language["Transparent background recommended"]))},directives:[m.O5,Z._Y,Z.JL,Z.F,Z.Wl,Z.JJ,Z.On,Z.Fj,b.f,n.Kk],styles:[".label-link[_ngcontent-%COMP%]{margin-bottom:15px;text-align:right}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline!important;font-weight:600;cursor:pointer}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0279ff}.nodata[_ngcontent-%COMP%]{text-align:center;font-size:16px}.detail-view[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:13px}.value-text[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:20px;color:gray;min-height:36px;padding:8px 16px;margin-bottom:0;min-width:100px;word-break:break-word}input.value-text[_ngcontent-%COMP%]{width:100%}.max-w-100[_ngcontent-%COMP%]{max-width:100px}.min-w-135[_ngcontent-%COMP%]{min-width:135px}.color-box[_ngcontent-%COMP%]{cursor:default!important;min-width:50px;max-width:77px;height:36px;border-radius:3px!important;font-size:0;box-shadow:none!important;margin-left:12px}.btn-custom-close[_ngcontent-%COMP%]{position:absolute;top:14px;right:14px}.btn-custom-close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:12px;height:12px;top:0;right:0;background-size:11px}.logo-box[_ngcontent-%COMP%]{background:#EBEAEF;border-radius:6px;width:100%;height:100px;display:inline-flex;align-items:center;justify-content:center;border:1px solid #dad9de;margin-bottom:10px}.logo-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:auto;max-height:100px}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;color:#4c4c4c}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #ccc;display:inline-block;padding:6px 12px;cursor:pointer;border-radius:22px;padding:3px 20px!important;height:24px;line-height:16px}.white-logo-input[_ngcontent-%COMP%]{display:none}.opacity-50[_ngcontent-%COMP%]{opacity:50%}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{width:35px;height:18px}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{width:12px;height:12px}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-left:3px}.Commandiq-loge-name[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;width:188px}.whitelabel-name[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;padding-bottom:7px;margin-bottom:7px}"]}),e})()},87513:function(e,t,i){i.d(t,{f:function(){return O}});var o=i(96718),n=i(89097),a=i(37716),r=i(67798),s=i(39895),l=i(10298),g=i(7450),c=i(49342),p=i(53668),h=i(39075),d=i(38583),u=i(3679);function m(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",9),a.TgZ(1,"div",10),a.TgZ(2,"span",11),a._UZ(3,"img",12),a.qZA(),a.TgZ(4,"strong",11),a._uU(5),a.qZA(),a.qZA(),a.TgZ(6,"div",10),a.TgZ(7,"button",13),a.NdJ("click",function(){return a.CHM(e),a.oxw().hideSuccess()}),a._UZ(8,"span"),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(5),a.Oqu(e.createdWhiteLabel)}}function Z(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",14),a.TgZ(1,"strong"),a._uU(2),a.qZA(),a._uU(3),a.TgZ(4,"button",13),a.NdJ("click",function(){return a.CHM(e),a.oxw().hideError()}),a._UZ(5,"span",15),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.hij("",e.language.Error,"!"),a.xp6(1),a.hij(" ",e.errorMsg,". ")}}function b(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",16),a.TgZ(1,"div",17),a.TgZ(2,"a",18),a.NdJ("click",function(){return a.CHM(e),a.oxw().createWhiteLabel()}),a._uU(3),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(3),a.hij(" ",e.language["Add New CommandIQ Biz Branding"]," ")}}function f(e,t){if(1&e&&(a.TgZ(0,"div",19),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.AsE(" ",e.language.No_Data_Found," ",e.SPID," ")}}function x(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",20),a.TgZ(1,"div",21),a.TgZ(2,"a"),a.TgZ(3,"button",22),a.NdJ("click",function(){return a.CHM(e),a.oxw().update()}),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(4),a.hij(" ",e.language.campaign_Edit," ")}}function A(e,t){if(1&e&&(a.TgZ(0,"div",39),a._UZ(1,"img",40),a.qZA()),2&e){const e=a.oxw(2);a.xp6(1),a.s9C("src",e.logo+"?timestamp="+e.timestamp,a.LSH)}}function _(e,t){1&e&&(a.TgZ(0,"div",39),a._UZ(1,"img",41),a.qZA())}function v(e,t){if(1&e&&(a.TgZ(0,"div",39),a._UZ(1,"img",42),a.qZA()),2&e){const e=a.oxw(2);a.xp6(1),a.s9C("src",e.appicon+"?timestamp="+e.timestamp,a.LSH)}}function q(e,t){1&e&&(a.TgZ(0,"div",39),a._UZ(1,"img",43),a.qZA())}function C(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",23),a.TgZ(1,"div",24),a.TgZ(2,"div",25),a.TgZ(3,"label",26),a.TgZ(4,"input",27),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().isActive=t}),a.qZA(),a.TgZ(5,"span",28),a._UZ(6,"small"),a.qZA(),a._uU(7),a.qZA(),a.qZA(),a.qZA(),a.TgZ(8,"div",29),a.TgZ(9,"div",30),a.TgZ(10,"label",31),a._uU(11),a.qZA(),a.TgZ(12,"p",32),a._uU(13),a.qZA(),a.qZA(),a.TgZ(14,"div",30),a.TgZ(15,"label",31),a._uU(16),a.qZA(),a.TgZ(17,"p",32),a._uU(18),a.qZA(),a.qZA(),a.TgZ(19,"div",30),a.TgZ(20,"label",31),a._uU(21),a.qZA(),a.TgZ(22,"div",33),a.TgZ(23,"p",32),a._uU(24),a.qZA(),a._UZ(25,"div",34),a.qZA(),a.qZA(),a.qZA(),a.TgZ(26,"div",29),a.TgZ(27,"div",30),a.TgZ(28,"label",31),a._uU(29),a.qZA(),a.qZA(),a.YNc(30,A,2,1,"div",35),a.YNc(31,_,2,0,"div",35),a.qZA(),a.TgZ(32,"div",29),a.TgZ(33,"div",30),a.TgZ(34,"label",31),a._uU(35),a.qZA(),a.qZA(),a.YNc(36,v,2,1,"div",35),a.YNc(37,q,2,0,"div",35),a.qZA(),a.TgZ(38,"div",29),a.TgZ(39,"div",30),a.TgZ(40,"label",31),a._uU(41),a.qZA(),a.qZA(),a.TgZ(42,"div",36),a.TgZ(43,"ul",37),a.TgZ(44,"li"),a._uU(45),a.qZA(),a.TgZ(46,"li"),a._uU(47),a.qZA(),a.TgZ(48,"li"),a._uU(49),a.qZA(),a.TgZ(50,"li"),a.TgZ(51,"p",38),a._uU(52),a.qZA(),a.TgZ(53,"p",38),a._uU(54,".png, .jpeg, img, bin"),a.qZA(),a.qZA(),a.TgZ(55,"li"),a.TgZ(56,"p",38),a._uU(57),a.qZA(),a.qZA(),a.TgZ(58,"li"),a.TgZ(59,"p",38),a._uU(60),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(4),a.Q6J("ngModel",e.isActive),a.uIk("disabled",!0)("checked",e.isActive),a.xp6(3),a.hij(" ",e.isActive?e.language.Enabled:e.language.Disabled," "),a.xp6(4),a.Oqu(e.language.Service_Provider),a.xp6(2),a.Oqu(e.spidfromservice),a.xp6(3),a.Oqu(e.language.App_Name),a.xp6(2),a.Oqu(e.appname),a.xp6(3),a.Oqu(e.language.Primary_Color),a.xp6(3),a.Oqu(e.primarycolor),a.xp6(1),a.Udp("background",e.primarycolor),a.xp6(4),a.Oqu(e.language.Primary_Logo),a.xp6(1),a.Q6J("ngIf",e.logo),a.xp6(1),a.Q6J("ngIf",!e.logo),a.xp6(4),a.Oqu(e.language.White_Logo),a.xp6(1),a.Q6J("ngIf",e.appicon),a.xp6(1),a.Q6J("ngIf",!e.appicon),a.xp6(4),a.Oqu(e.language.Logo_Guidelines),a.xp6(4),a.hij("",e.language["Max File size"],": 250KB"),a.xp6(2),a.hij("",e.language["Max-Width"],": 1080px"),a.xp6(2),a.hij("",e.language["Max-Height"],": 180px"),a.xp6(3),a.hij("",e.language["Primary Logo Format"],":"),a.xp6(5),a.hij("",e.language["White Logo Format"],": .png"),a.xp6(3),a.Oqu(e.language["Transparent background recommended"])}}function T(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"a"),a.TgZ(1,"button",51),a.NdJ("click",function(){return a.CHM(e),a.oxw(3).update()}),a._uU(2),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(3);a.xp6(2),a.hij(" ",e.language.Update," ")}}const w=function(e){return{"background-color":e}};function I(e,t){if(1&e&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a.TgZ(2,"ul",47),a.TgZ(3,"li"),a._uU(4),a.qZA(),a.TgZ(5,"li"),a._uU(6),a.TgZ(7,"a",48),a._uU(8),a.qZA(),a.qZA(),a.TgZ(9,"li"),a._uU(10),a.TgZ(11,"a",48),a._uU(12),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(13,"td"),a._uU(14),a.qZA(),a.TgZ(15,"td"),a.TgZ(16,"ul",49),a.TgZ(17,"li"),a._uU(18),a._UZ(19,"span",50),a._uU(20),a.qZA(),a.qZA(),a.qZA(),a.TgZ(21,"td"),a.YNc(22,T,3,1,"a",46),a.qZA(),a.qZA()),2&e){const e=t.$implicit,i=a.oxw(2);a.xp6(4),a.Oqu(e.body.sellerName),a.xp6(2),a.hij(" ",i.language.Logo,": "),a.xp6(1),a.s9C("href",e.body.primaryLogo,a.LSH),a.xp6(1),a.hij("",i.language.Preview," "),a.xp6(2),a.hij(" ",i.language.White_Logo,": "),a.xp6(1),a.s9C("href",e.body.whiteLogo,a.LSH),a.xp6(1),a.hij("",i.language.Preview," "),a.xp6(2),a.Oqu(e.body.spid),a.xp6(4),a.hij(" ",i.language.Primary," : "),a.xp6(1),a.Q6J("ngStyle",a.VKq(12,w,e.body.primaryColor?e.body.primaryColor:null)),a.xp6(1),a.hij("",e.body.primaryColor," "),a.xp6(2),a.Q6J("ngIf",i.showUpdateBtn)}}function P(e,t){if(1&e&&(a.TgZ(0,"tr"),a.TgZ(1,"td",52),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw(2);a.xp6(2),a.Oqu(e.language.No_White_label)}}function y(e,t){if(1&e&&(a.TgZ(0,"table",44),a.TgZ(1,"thead"),a.TgZ(2,"tr"),a.TgZ(3,"th"),a._uU(4),a.qZA(),a.TgZ(5,"th"),a._uU(6,"SPID"),a.qZA(),a.TgZ(7,"th"),a._uU(8),a.qZA(),a.TgZ(9,"th"),a._uU(10),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"tbody"),a.YNc(12,I,23,14,"tr",45),a.YNc(13,P,3,1,"tr",46),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(4),a.Oqu(e.language.APP_Info),a.xp6(4),a.Oqu(e.language.Color),a.xp6(2),a.Oqu(e.language.Action),a.xp6(2),a.Q6J("ngForOf",e.whitelabellist),a.xp6(1),a.Q6J("ngIf",!0===e.hideAdd)}}let O=(()=>{class e{constructor(e,t,i,o,n,a,r,s){this.service=e,this.router=t,this.sso=i,this.routerService=o,this.translateService=n,this.commonOrgService=a,this.organizationApiService=r,this.titleService=s,this.isActive=!1,this.whitelabellist=[],this.addWhitelabel=!1,this.showSuccess=this.routerService.showSuccess,this.createdWhiteLabel="",this.updateSuccessMessage=this.routerService.updateSuccessMessage,this.isShad=!0,this.REDIRECT_URL="/organization-admin";let l=this.router.url;-1===l.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(l),this.REDIRECT_URL=this.sso.getRedirectModule(l),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID)):this.SPID=this.sso.getSPID(),l.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings"),this.commonOrgService.currentPageAdder("commandWorx")}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe(),this.routerService.setShowSuccess(!1),this.routerService.setCreateFlag(!1),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe()}ngOnInit(){let e=this.sso.getScopes();-1!==this.router.url.indexOf("/shad/")?e["cloud.shad.service"]&&-1!==e["cloud.shad.service"].indexOf("write")&&(this.showCreateBtn=!0,this.showUpdateBtn=!0):this.sso.checkAdminScopes(n.Nc.WRITE)&&(this.showCreateBtn=!0,this.showUpdateBtn=!0),this.SPID||this.isShad?this.list():this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(e=>{this.sso.setAdminOrgInfo(e),e&&e.spId&&(this.SPID=e.spId,this.list())},e=>{}),this.spid=this.sso.getSPID(),setTimeout(()=>{this.showSuccess=!1,this.createdWhiteLabel=""},5e3),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.titleService.setTitle(`${this.language.CommandIQ_BIZ} - ${this.language["Mobile App"]} - ${"systemAdministration"===this.REDIRECT_URL?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`${this.language.CommandIQ_BIZ} - ${this.language["Mobile App"]} - ${"systemAdministration"===this.REDIRECT_URL?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`),this.updateSuccessMessage&&(this.createdWhiteLabel=this.routerService.getCreateFlag()?this.language["Created Successfully"]:this.language["Updated Succesfully"])}hideSuccess(){this.showSuccess=!1,this.createdWhiteLabel=""}getWhitelabel(){this.showError=!1;var e=this.sso.getSPID();this.service.spinfo(e).toPromise().then(e=>{this.addWhitelabel=!1,this.list()}).catch(e=>{var t;404==(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.errorType)&&(this.addWhitelabel=!0)})}list(){this.sso.getSPID(),this.service.commandIqList(this.SPID).toPromise().then(e=>{this.timestamp=(new Date).getTime(),404!=e.errorType?(this.hideAdd=!0,this.editvisibility=!1,this.whitelabellist.push(e),this.spidfromservice=e.body.spid,this.appname=e.body.appName,this.primarycolor=e.body.primaryColor,this.logo=e.body.primaryLogo,this.appicon=e.body.whiteLogo,this.isActive=e.body.isActive):(this.hideAdd=!1,this.editvisibility=!0,this.whitelabellist=[]),this.whitelabellist.length>0?(this.hideAdd=!1,this.editvisibility=!0):(this.hideAdd=!0,this.editvisibility=!1,this.whitelabellist=[]),this.addWhitelabel=!1}).catch(e=>{this.addWhitelabel=!0,401==e.status&&(this.errorMsg=e.statusText?e.statusText:"Unauthorized User",this.showError=!0)})}update(){this.router.navigate(this.isShad?["/shad/commandWorx-update"]:[`/${this.REDIRECT_URL}/mobile-app/commandWorx-update`])}createWhiteLabel(){this.router.navigate(this.isShad?["/shad/commandWorx-create"]:[`/${this.REDIRECT_URL}/mobile-app/commandWorx-create`])}hideError(){this.showError=!1}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(r.E),a.Y36(s.F0),a.Y36(n.t6),a.Y36(l.c),a.Y36(g.s),a.Y36(c.v),a.Y36(p.F),a.Y36(h.Dx))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-commandiq-pro"]],features:[a._Bn([o.ee])],decls:9,vars:7,consts:[["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],[1,"row"],["class","col-12 my-3",4,"ngIf"],["class","nodata w-100",4,"ngIf"],["class","mt-2 mb-n2 col-md-12",4,"ngIf"],["class","row detail-view my-3",4,"ngIf"],[1,"whitelabel-sec"],["class","table table-bordered app-info","style","display:none",4,"ngIf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"d-inline"],[1,"mr-2"],["src","../../../assets/img/ic_success-circle-outline.svg"],["type","button",1,"close",3,"click"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["aria-hidden","true"],[1,"col-12","my-3"],[1,"label-link"],["id","add-new-commandiq-label",3,"click"],[1,"nodata","w-100"],[1,"mt-2","mb-n2","col-md-12"],[1,"text-right","d-flex","align-items","justify-content-end","pb-1"],["id","editbuttonCiqBizView",1,"btn-default","primary","px-3",3,"click"],[1,"row","detail-view","my-3"],[1,"col-md-12","mb-2"],[1,"toggle-swtbtn","checkbox","switcher"],[1,"f-s-14px","cursornotallow"],["type","checkbox","name","Status","id","Status",3,"ngModel","ngModelChange"],[1,"opacity-50","mr-1"],[1,"col-sm-4","col-md-3","col-lg-3","col-xl-3"],[1,"form-group"],[1,"ccl-form-label","mb-0"],[1,"value-text"],[1,"d-flex","justify-content-between","w-100"],["id","CIQBizPrimaryColor",1,"color-box"],["class","logo-box",4,"ngIf"],[1,"logo-guidelines"],[1,"ml-4"],[1,"m-0"],[1,"logo-box"],["id","logo-image-view",3,"src"],["id","logo-image-view","height","100px","width","100%","src"," "],["id","white-logo-image-view",3,"src"],["id","white-logo-image-view","src"," "],[1,"table","table-bordered","app-info",2,"display","none"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"app-detail"],[1,"link",3,"href"],[1,"color-detail"],[1,"box","mx-2",3,"ngStyle"],["id","updatebutton",1,"btn-default","primary","px-3",3,"click"],["colspan","7"]],template:function(e,t){1&e&&(a.YNc(0,m,9,1,"div",0),a.YNc(1,Z,6,2,"div",1),a.TgZ(2,"div",2),a.YNc(3,b,4,1,"div",3),a.YNc(4,f,2,2,"div",4),a.qZA(),a.YNc(5,x,5,1,"div",5),a.YNc(6,C,61,25,"div",6),a.TgZ(7,"div",7),a.YNc(8,y,14,5,"table",8),a.qZA()),2&e&&(a.Q6J("ngIf",t.showSuccess),a.xp6(1),a.Q6J("ngIf",t.showError),a.xp6(2),a.Q6J("ngIf",t.addWhitelabel&&t.showCreateBtn),a.xp6(1),a.Q6J("ngIf",t.addWhitelabel),a.xp6(1),a.Q6J("ngIf",t.editvisibility&&t.showUpdateBtn),a.xp6(1),a.Q6J("ngIf",t.editvisibility),a.xp6(2),a.Q6J("ngIf",!t.addWhitelabel))},directives:[d.O5,u.Wl,u.JJ,u.On,d.sg,d.PC],styles:[".label-link[_ngcontent-%COMP%]{margin-bottom:15px;text-align:right}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline!important;font-weight:600;cursor:pointer}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0279ff}.nodata[_ngcontent-%COMP%]{text-align:center;font-size:16px}.detail-view[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:13px}.value-text[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:20px;color:gray;min-height:36px;padding:8px 16px;margin-bottom:0;word-break:break-word}.color-box[_ngcontent-%COMP%]{cursor:default;min-width:77px;max-height:36px;border-radius:3px}.value-text[_ngcontent-%COMP%] + .color-box[_ngcontent-%COMP%]{margin-left:12px}.logo-box[_ngcontent-%COMP%]{background:#EBEAEF;border-radius:6px;width:100%;height:100px;display:inline-flex;align-items:center;justify-content:center}.logo-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:auto;max-height:100px}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;color:#4c4c4c}.opacity-50[_ngcontent-%COMP%]{opacity:50%}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{width:35px;height:18px}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{width:12px;height:12px}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-left:3px}"]}),e})()},77465:function(e,t,i){i.d(t,{v:function(){return E}});var o=i(88002),n=i(5304),a=i(25917),r=i(9112),s=i(92340),l=i(37716),g=i(96718),c=i(67798),p=i(12664),h=i(89097),d=i(10298),u=i(7450),m=i(39895),Z=i(49342),b=i(53668),f=i(39075),x=i(20904),A=i(38583),_=i(3679),v=i(74062);const q=["errorModal"],C=["successModal"];function T(e,t){if(1&e&&(l.TgZ(0,"div",33),l.TgZ(1,"div",34),l.TgZ(2,"div",35),l.TgZ(3,"span",36),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(4),l.Oqu(e.language.Loading)}}function w(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",37),l.TgZ(1,"span",38),l._UZ(2,"img",39),l.qZA(),l.TgZ(3,"strong"),l._uU(4),l.qZA(),l._uU(5),l.TgZ(6,"button",40),l.NdJ("click",function(){return l.CHM(e),l.oxw().validateError()}),l._UZ(7,"span",41),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(4),l.hij("",e.language.Error,"!"),l.xp6(1),l.hij(" ",e.errorMsg,". ")}}function I(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"button",42),l.NdJ("click",function(){return l.CHM(e),l.oxw().clearInput("App Name")}),l._UZ(1,"span"),l.qZA()}}function P(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"button",42),l.NdJ("click",function(){return l.CHM(e),l.oxw().clearInput("Primary Color")}),l._UZ(1,"span"),l.qZA()}}function y(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"button",42),l.NdJ("click",function(){return l.CHM(e),l.oxw().clearInput("Preferred ProtectIQ Name")}),l._UZ(1,"span"),l.qZA()}}function O(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"button",42),l.NdJ("click",function(){return l.CHM(e),l.oxw().clearInput("Preferred ExperienceIQ Name")}),l._UZ(1,"span"),l.qZA()}}function M(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"div",43),l._UZ(2,"img",44),l.qZA(),l.TgZ(3,"label",45),l.TgZ(4,"a",46),l.NdJ("click",function(){return l.CHM(e),l.oxw().hidelogo()}),l._uU(5),l.qZA(),l.qZA(),l.TgZ(6,"input",47,48),l.NdJ("change",function(){l.CHM(e);const t=l.MAs(7);return l.oxw().readURL(t,"logo")}),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(2),l.s9C("src",e.updatelogo+"?timestamp="+e.timestamp,l.LSH),l.xp6(3),l.hij(" ",e.language.Replace_Image," ")}}function S(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"div",43),l._UZ(2,"img",49),l.qZA(),l.TgZ(3,"label",50),l.TgZ(4,"a",46),l.NdJ("click",function(){return l.CHM(e),l.oxw().hidelogo()}),l._uU(5),l.qZA(),l.qZA(),l.TgZ(6,"input",51,52),l.NdJ("change",function(){l.CHM(e);const t=l.MAs(7);return l.oxw().readURL(t,"white_logo")}),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(2),l.s9C("src",e.updateWhiteLogo+"?timestamp="+e.timestamp,l.LSH),l.xp6(3),l.hij(" ",e.language.Replace_Image," ")}}const N=i(91704);let E=(()=>{class e{constructor(e,t,i,o,n,a,r,s,l,g,c,p){this.cpService=e,this.service=t,this.dialogService=i,this.sso=o,this.routerService=n,this.ref=a,this.translateService=r,this.router=s,this.commonOrgService=l,this.organizationApiService=g,this.titleService=c,this.CommonFunctionsService=p,this.fileName="",this.isShad=!0,this.REDIRECT_URL="/organization-admin",this.selectOptions=[{label:"True",value:!0},{label:"False",value:!1}],this.showError=!1,this.loader=!1,this.showCreateBtn=!1,this.appName="",this.privacyPolicyLinkEnglish="",this.privacyPolicyLinkFrench="",this.isActive=!1,this.spid="",this.updateappIcon="",this.updatelogo="",this.updateWhiteLogo="",this.customAppName={eiqLabel:"",piqLabel:""};let h=this.router.url;-1===h.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(h),this.REDIRECT_URL=this.sso.getRedirectModule(h),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID)):this.SPID=this.sso.getSPID(),h.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings"),this.commonOrgService.currentPageAdder("commandiq-update"),this.titleService.setTitle(`CommandIQ - Mobile App - ${"systemAdministration"===this.REDIRECT_URL?"System Administration":"Administration"} - Calix Cloud`)}ngOnInit(){this.SPID||this.isShad?(this.getWhitelabel(),this.getDetails(),this.calixspid=this.SPID):this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(e=>{this.sso.setAdminOrgInfo(e),e&&e.spId&&(this.SPID=e.spId,this.getWhitelabel(),this.getDetails(),this.calixspid=this.SPID)},e=>{}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e})}validateError(){this.showError=!1}getWhitelabel(){this.sso.getSPID(),this.service.spinfo(this.SPID).toPromise().then(e=>{}).catch(e=>{})}getDetails(){this.sso.getSPID(),this.service.whiteLabellist(this.SPID).toPromise().then(e=>{this.timestamp=(new Date).getTime(),this.spid=e.body.spid,this.updateappIcon=e.body.appIcon,this.ISappIcon=!!this.updateappIcon,this.updatelogo=e.body.theme.logo,this.ISlogo=!!this.updatelogo,this.updateWhiteLogo=e.body.appIcon,this.dataAvailable=!0,this.appName=e.body.appName,this.privacyPolicyLinkEnglish=e.body.privacyPolicyLinkEnglish,this.privacyPolicyLinkFrench=e.body.privacyPolicyLinkFrench,this.isActive=e.body.isActive,this.engandfile=e.body.eulaAndroidEnglish,this.ISengandfile=!!this.engandfile,this.AndroidFrench=e.body.eulaAndroidFrench,this.ISAndroidFrench=!!this.AndroidFrench,this.IOSEnglish=e.body.eulaIOSEnglish,this.ISIOSEnglish=!!this.IOSEnglish,this.IOSFrench=e.body.eulaIOSFrench,this.ISIOSFrench=!!this.IOSFrench,this.English=e.body.aboutEnglish,this.ISEnglish=!!this.English,this.French=e.body.aboutFrench,this.ISFrench=!!this.French,e.body.theme.primaryColor&&(this.primaryColor=e.body.theme.primaryColor),this.getEIQandPIQName()}).catch(e=>{this.dataAvailable=!0})}readURL(e,t){let i;if(this.hideError(),t&&"white_logo"===t?(this.whiteLogoFile="",N("#white-logo-image-view").attr("src"," ")):(this.logoFile="",N("#logo-image-view").attr("src"," ")),e.files&&e.files[0]){let n=new FileReader;n.onload=e=>{"logo"===t?N("#logo-image-view").attr("src",e.target.result):N("#white-logo-image-view").attr("src",e.target.result),i=e.target.result,localStorage.setItem(t,i)},n.readAsDataURL(e.files[0]);var o=e.files[0].name;"appIcon"==t?(this.iconFile=o,this.updateappIcon=""):"logo"==t?(this.logoFile=o,this.updatelogo=""):"eulaAndroidEnglish"==t?(this.eulaAE=o,this.engandfile=""):"eulaAndroidFrench"==t?(this.eulaAF=o,this.AndroidFrench=""):"eulaIOSEnglish"==t?(this.eulaIOSE=o,this.IOSEnglish=""):"eulaIOSFrench"==t?(this.eulaIOSF=o,this.IOSFrench=""):"aboutEnglish"==t?(this.aboutE=o,this.English=""):"aboutFrench"==t?(this.aboutF=o,this.French=""):"white_logo"==t&&(this.whiteLogoFile=o,this.updateWhiteLogo="")}}add(){let e;var t={};if(this.loader)return;if(t.spid=this.SPID,t.appName=this.appName,t.sellerName=this.appName,t.privacyPolicyLinkEnglish=this.privacyPolicyLinkEnglish,t.privacyPolicyLinkFrench=this.privacyPolicyLinkFrench,t.isActive=this.isActive,t.primaryColor=this.primaryColor,!t.appName)return void this.addError(this.language.enter_the_Seller_Name);if(!t.primaryColor)return void this.addError(this.language.enter_the_Primary_Color);if(this.customAppName.eiqLabel&&this.customAppName.piqLabel&&this.customAppName.eiqLabel.toLowerCase()===this.customAppName.piqLabel.toLowerCase())return void this.addError(this.language.piq_eiq_similar_name_err);var i=new FormData;if(""!=this.updatelogo)i.append("logo",this.updatelogo);else{if(e=N("input[name='logo']").get(0).files,!e.length)return void this.addError(this.language["Please upload Primary Logo image"]);var o=e[0].name.split(".").pop(),n=e[0].size/1024,a=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"];if(-1==a.indexOf(o)){var r=a.join(", ");return void this.addError("Logo Image extension will be an "+r+" file format")}if(n>250)return void this.addError(this.language.Primary_Logo_Upload_Size_Error+" 250KB");N.each(e,function(e,t){i.append("logo",t)})}let s;if(""!=this.updateWhiteLogo)i.append("appIcon",this.updateWhiteLogo);else{if(s=N("input[name='white_logo']").get(0).files,!s.length)return void this.addError(this.language["Please upload White Logo image"]);{var l=s[0].size/1024;let e=s[0].name.split(".").pop(),t=["png","PNG"];if(-1==t.indexOf(e)){let e=t.join(", ");return void this.addError("White Logo Image extension will be an "+e+" file format")}if(l>250)return void this.addError(this.language.WhitelogoImage_uploaderror+" 250KB");N.each(s,function(e,t){i.append("appIcon",t)})}}i.append("spid",this.SPID),i.append("primaryColor",t.primaryColor),i.append("appName",t.appName),i.append("sellerName",t.appName),i.append("isActive",t.isActive),this.hideError(),this.loader=!0,this.service.update(i).subscribe(e=>{this.loader=!1,this.updateCustomName()},e=>{this.loader=!1,this.addError(e.statusText)})}addError(e){this.errorMsg=e,this.showError=!0,N("html, body").animate({scrollTop:0},"slow"),this.ref.detectChanges()}hideError(){this.showError=!1,this.errorMsg=""}close(){this.modalRef.close()}goToWhiteLabelList(){this.routerService.WhiteLabelList(),this.router.navigate(this.isShad?["/shad/whitelabel"]:[`/${this.REDIRECT_URL}/mobile-app/commandiq`])}hideAppicon(){}hidelogo(){}hideAndroidFrench(){this.ISAndroidFrench=!1}hideengandfile(){this.ISengandfile=!1}hideIOSEnglish(){this.ISIOSEnglish=!1}hideIOSFrench(){this.ISIOSFrench=!1}hideEnglish(){this.ISEnglish=!1}hideFrench(){this.ISFrench=!1}cancel(){this.router.navigate(this.isShad?["/shad/whitelabel"]:[`/${this.REDIRECT_URL}/mobile-app/commandiq`])}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe(),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe(),this.parallelReqSubscribtion&&this.parallelReqSubscribtion.unsubscribe(),this.updateCustomAppSub&&this.updateCustomAppSub.unsubscribe()}clearInput(e){"App Name"==e&&(this.appName=""),"Primary Color"==e&&(this.primaryColor="#0279ff"),"Preferred ProtectIQ Name"==e&&(this.customAppName.piqLabel=""),"Preferred ExperienceIQ Name"==e&&(this.customAppName.eiqLabel="")}updateCustomName(){this.loader=!0;let e={spid:this.SPID,customNames:[]};e.customNames.push({appName:"CIES",customAppName:this.customAppName.piqLabel}),e.customNames.push({appName:"CIEP",customAppName:this.customAppName.eiqLabel}),this.hideError(),this.updateCustomAppSub=this.service.updateAppCustomName(e).subscribe(e=>{this.loader=!1,this.goToWhiteLabelList()},e=>{this.loader=!1,this.addError(null==e?void 0:e.statusText)})}getEIQandPIQName(){let e=[];e.push(`${s.N.apiHost}/admin/application/custom/name?spid=${this.SPID}&appName=CIES`,`${s.N.apiHost}/admin/application/custom/name?spid=${this.SPID}&appName=CIEP`);const t=[];e.forEach(e=>{const i=this.service.callRestApi(e).pipe((0,o.U)(e=>e),(0,n.K)(e=>(0,a.of)(e)));t.push(i)}),this.combineLatest=(0,r.aj)(t),this.makeParallelRequest()}makeParallelRequest(){this.parallelReqSubscribtion=this.combineLatest.subscribe(e=>{var t,i,o,n;e[0].length&&(null===(t=e[0][0])||void 0===t?void 0:t.customAppName)&&(this.customAppName.piqLabel=null===(i=e[0][0])||void 0===i?void 0:i.customAppName),e[1].length&&(null===(o=e[1][0])||void 0===o?void 0:o.customAppName)&&(this.customAppName.eiqLabel=null===(n=e[1][0])||void 0===n?void 0:n.customAppName)},e=>{this.loader=!1,this.addError(e.statusText)})}removeUnwantedSpace(e,t){this[e]=this.CommonFunctionsService.trimSpaceFromNonObjectInputs(t)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(g.ee),l.Y36(c.E),l.Y36(p.FF),l.Y36(h.t6),l.Y36(d.c),l.Y36(l.sBO),l.Y36(u.s),l.Y36(m.F0),l.Y36(Z.v),l.Y36(b.F),l.Y36(f.Dx),l.Y36(x.i))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-commandiq-update"]],viewQuery:function(e,t){if(1&e&&(l.Gf(q,7),l.Gf(C,7)),2&e){let e;l.iGM(e=l.CRH())&&(t.errorModal=e.first),l.iGM(e=l.CRH())&&(t.successModal=e.first)}},decls:93,vars:41,consts:[[1,"position-relative"],["class","loader",4,"ngIf"],[1,"w-100"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],[1,"row","detail-view","my-3"],[1,"col-md-12"],[1,"text-right","d-flex","align-items","justify-content-end","white-form","pb-1"],[1,"d-inline-flex","align-items-center"],["id","savebuttonCiqBizCreate",1,"btn-default","primary","px-3",3,"click"],[1,"close","ml-3","px-0",3,"click"],[1,"col-md-12","mb-2"],[1,"toggle-swtbtn","checkbox","switcher"],[1,"f-s-14px"],["type","checkbox","name","Status","id","CiqBizCreateStatus",3,"ngModel","ngModelChange"],[1,"mr-1"],[1,"col-sm-4","col-md-3","col-lg-3","col-xl-3"],[1,"form-group"],[1,"ccl-form-label","mb-0"],[1,"value-text"],[1,"form-group","ccl-form"],[1,"error"],["id","CiqBizappName","type","text","name","appName","trimSpace","",1,"clearable-input",3,"ngModel","ngModelChange","blur","keyup"],["class","close btn-custom-close",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between","w-100"],[1,"position-relative","ccl-form","min-w-135"],["type","text",1,"clearable-input",3,"ngModel","value","ngModelChange"],["name","primaryColor","id","primaryColor","autocomplete","off",1,"form-control","color-box",3,"colorPicker","ngModel","cpOutputFormat","colorPickerChange","ngModelChange"],["id","CIQInput1","type","text","maxlength","25","name","piqName","trimSpace","",1,"clearable-input",3,"placeholder","ngModel","formValue","ngModelChange"],["id","CIQInput2","type","text","maxlength","25","name","eiqName","trimSpace","",1,"clearable-input",3,"placeholder","ngModel","formValue","ngModelChange"],[4,"ngIf"],[1,"logo-guidelines"],[1,"ml-4"],[1,"m-0"],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"mr-2"],["src","../../../assets/img/ic_error-outline.svg"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"close","btn-custom-close",3,"click"],[1,"logo-box"],["id","logo-image-view",3,"src"],["for","logo",1,"custom-file-upload","btn-sm","btn-light","ml-0"],[3,"click"],["type","file","name","logo","id","logo","accept",".jpeg, .JPEG, .PNG, .jpg, .png, .JPG, .img, .IMG, .bin, .BIN",1,"white-logo-input",3,"change"],["logo",""],["id","white-logo-image-view",3,"src"],["for","white_logo",1,"custom-file-upload","btn-sm","btn-light","ml-0"],["type","file","name","white_logo","id","white_logo","accept",".jpeg, .JPEG, .PNG, .jpg, .png, .JPG, .img, .IMG, .bin, .BIN",1,"white-logo-input",3,"change"],["white_logo",""]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,T,5,1,"div",1),l.TgZ(2,"div",2),l.YNc(3,w,8,2,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"form"),l.TgZ(7,"div",6),l.TgZ(8,"div",7),l.TgZ(9,"button",8),l.NdJ("click",function(){return t.add()}),l._uU(10),l.qZA(),l.TgZ(11,"button",9),l.NdJ("click",function(){return t.cancel()}),l._UZ(12,"span"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(13,"div",10),l.TgZ(14,"div",11),l.TgZ(15,"label",12),l.TgZ(16,"input",13),l.NdJ("ngModelChange",function(e){return t.isActive=e}),l.qZA(),l.TgZ(17,"span",14),l._UZ(18,"small"),l.qZA(),l._uU(19),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"div",15),l.TgZ(21,"div",16),l.TgZ(22,"label",17),l._uU(23),l.qZA(),l.TgZ(24,"p",18),l._uU(25),l.qZA(),l.qZA(),l.TgZ(26,"div",19),l.TgZ(27,"label",17),l._uU(28),l.TgZ(29,"span",20),l._uU(30,"*"),l.qZA(),l.qZA(),l.TgZ(31,"div",0),l.TgZ(32,"input",21),l.NdJ("ngModelChange",function(e){return t.appName=e})("blur",function(){return t.removeUnwantedSpace("appName",t.appName)})("keyup",function(){return t.hideError()}),l.qZA(),l.YNc(33,I,2,0,"button",22),l.qZA(),l.qZA(),l.TgZ(34,"div",16),l.TgZ(35,"label",17),l._uU(36),l.TgZ(37,"span",20),l._uU(38,"*"),l.qZA(),l.qZA(),l.TgZ(39,"div",23),l.TgZ(40,"div",24),l.TgZ(41,"input",25),l.NdJ("ngModelChange",function(e){return t.primaryColor=e}),l.qZA(),l.YNc(42,P,2,0,"button",22),l.qZA(),l.TgZ(43,"input",26),l.NdJ("colorPickerChange",function(e){return t.primaryColor=e})("ngModelChange",function(e){return t.primaryColor=e}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(44,"div",19),l.TgZ(45,"label",17),l._uU(46),l.qZA(),l.TgZ(47,"div",0),l.YNc(48,y,2,0,"button",22),l.TgZ(49,"input",27),l.NdJ("ngModelChange",function(e){return t.customAppName.piqLabel=e}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(50,"div",19),l.TgZ(51,"label",17),l._uU(52),l.qZA(),l.TgZ(53,"div",0),l.YNc(54,O,2,0,"button",22),l.TgZ(55,"input",28),l.NdJ("ngModelChange",function(e){return t.customAppName.eiqLabel=e}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(56,"div",15),l.TgZ(57,"div",16),l.TgZ(58,"label",17),l._uU(59),l.TgZ(60,"span",20),l._uU(61,"*"),l.qZA(),l.qZA(),l.qZA(),l.YNc(62,M,8,2,"div",29),l.qZA(),l.TgZ(63,"div",15),l.TgZ(64,"div",16),l.TgZ(65,"label",17),l._uU(66),l.TgZ(67,"span",20),l._uU(68,"*"),l.qZA(),l.qZA(),l.qZA(),l.YNc(69,S,8,2,"div",29),l.qZA(),l.TgZ(70,"div",15),l.TgZ(71,"div",16),l.TgZ(72,"label",17),l._uU(73),l.qZA(),l.qZA(),l.TgZ(74,"div",30),l.TgZ(75,"ul",31),l.TgZ(76,"li"),l._uU(77),l.qZA(),l.TgZ(78,"li"),l._uU(79),l.qZA(),l.TgZ(80,"li"),l._uU(81),l.qZA(),l.TgZ(82,"li"),l.TgZ(83,"p",32),l._uU(84),l.qZA(),l.TgZ(85,"p",32),l._uU(86,".png, .jpeg, img, bin"),l.qZA(),l.qZA(),l.TgZ(87,"li"),l.TgZ(88,"p",32),l._uU(89),l.qZA(),l.qZA(),l.TgZ(90,"li"),l.TgZ(91,"p",32),l._uU(92),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",t.loader),l.xp6(2),l.Q6J("ngIf",t.showError),l.xp6(7),l.hij(" ",t.language.Save," "),l.xp6(6),l.Q6J("ngModel",t.isActive),l.uIk("checked",t.isActive),l.xp6(3),l.hij(" ",t.isActive?t.language.Enabled:t.language.Disabled," "),l.xp6(4),l.Oqu(t.language.Service_Provider),l.xp6(2),l.Oqu(t.calixspid),l.xp6(3),l.Oqu(t.language.App_Name),l.xp6(4),l.Q6J("ngModel",t.appName),l.xp6(1),l.Q6J("ngIf",t.appName),l.xp6(3),l.Oqu(t.language.Primary_Color),l.xp6(5),l.Q6J("ngModel",t.primaryColor)("value",t.primaryColor),l.xp6(1),l.Q6J("ngIf",t.primaryColor),l.xp6(1),l.Udp("background",t.primaryColor),l.Q6J("colorPicker",t.primaryColor)("ngModel",t.primaryColor)("cpOutputFormat","hex"),l.xp6(3),l.Oqu(t.language["Preferred ProtectIQ Name"]),l.xp6(2),l.Q6J("ngIf",t.customAppName.piqLabel),l.xp6(1),l.s9C("placeholder",t.language.Protect_IQ),l.Q6J("ngModel",t.customAppName.piqLabel)("formValue",t.customAppName),l.xp6(3),l.Oqu(t.language["Preferred ExperienceIQ Name"]),l.xp6(2),l.Q6J("ngIf",t.customAppName.eiqLabel),l.xp6(1),l.s9C("placeholder",t.language.Experience_IQ),l.Q6J("ngModel",t.customAppName.eiqLabel)("formValue",t.customAppName),l.xp6(4),l.Oqu(t.language.Primary_Logo),l.xp6(3),l.Q6J("ngIf",t.dataAvailable),l.xp6(4),l.Oqu(t.language.White_Logo),l.xp6(3),l.Q6J("ngIf",t.dataAvailable),l.xp6(4),l.Oqu(t.language.Logo_Guidelines),l.xp6(4),l.hij("",t.language["Max File size"],": 250KB"),l.xp6(2),l.hij("",t.language["Max-Width"],": 1080px"),l.xp6(2),l.hij("",t.language["Max-Height"],": 180px"),l.xp6(3),l.hij("",t.language["Primary Logo Format"],":"),l.xp6(5),l.hij("",t.language["White Logo Format"],": .png"),l.xp6(3),l.Oqu(t.language["Transparent background recommended"]))},directives:[A.O5,_._Y,_.JL,_.F,_.Wl,_.JJ,_.On,_.Fj,v.f,g.Kk,_.nD],styles:[".label-link[_ngcontent-%COMP%]{margin-bottom:15px;text-align:right}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline!important;font-weight:600;cursor:pointer}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0279ff}.nodata[_ngcontent-%COMP%]{text-align:center;font-size:16px}.detail-view[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:13px}.value-text[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:20px;color:gray;min-height:36px;padding:8px 16px;margin-bottom:0;min-width:100px;word-break:break-word}input.value-text[_ngcontent-%COMP%]{width:100%}.max-w-100[_ngcontent-%COMP%]{max-width:100px}.min-w-135[_ngcontent-%COMP%]{min-width:135px}.color-box[_ngcontent-%COMP%]{cursor:default!important;min-width:50px;max-width:77px;height:36px;border-radius:3px!important;font-size:0;box-shadow:none!important;margin-left:12px}.btn-custom-close[_ngcontent-%COMP%]{position:absolute;top:14px;right:14px}.btn-custom-close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:12px;height:12px;top:0;right:0;background-size:11px}.logo-box[_ngcontent-%COMP%]{background:#EBEAEF;border-radius:6px;width:100%;height:100px;display:inline-flex;align-items:center;justify-content:center;border:1px solid #dad9de;margin-bottom:10px}.logo-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:auto;max-height:100px}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;color:#4c4c4c}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #ccc;display:inline-block;padding:6px 12px;cursor:pointer;border-radius:22px;padding:3px 20px!important;height:24px;line-height:16px}.white-logo-input[_ngcontent-%COMP%]{display:none}.opacity-50[_ngcontent-%COMP%]{opacity:50%}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{width:35px;height:18px}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{width:12px;height:12px}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-left:3px}.Commandiq-loge-name[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;width:188px}.whitelabel-name[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;padding-bottom:7px;margin-bottom:7px}"]}),e})()},70123:function(e,t,i){i.d(t,{A:function(){return M}});var o=i(89097),n=i(92340),a=i(88002),r=i(5304),s=i(25917),l=i(9112),g=i(37716),c=i(67798),p=i(39895),h=i(10298),d=i(7450),u=i(49342),m=i(53668),Z=i(39075),b=i(38583),f=i(3679);function x(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",8),g.TgZ(1,"div",9),g.TgZ(2,"span",10),g._UZ(3,"img",11),g.qZA(),g.TgZ(4,"strong",10),g._uU(5),g.qZA(),g.qZA(),g.TgZ(6,"div",9),g.TgZ(7,"button",12),g.NdJ("click",function(){return g.CHM(e),g.oxw().hideSuccess()}),g._UZ(8,"span"),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.xp6(5),g.Oqu(e.createdWhiteLabel)}}function A(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",13),g.TgZ(1,"strong"),g._uU(2),g.qZA(),g._uU(3),g.TgZ(4,"button",12),g.NdJ("click",function(){return g.CHM(e),g.oxw().hideError()}),g._UZ(5,"span",14),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.xp6(2),g.hij("",e.language.Error,"!"),g.xp6(1),g.hij(" ",e.errorMsg,". ")}}function _(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",15),g.TgZ(1,"div",16),g.TgZ(2,"a",17),g.NdJ("click",function(){return g.CHM(e),g.oxw().createWhiteLabel()}),g._uU(3),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.xp6(3),g.hij(" ",e.language.Add_New_Whitelabel," ")}}function v(e,t){if(1&e&&(g.TgZ(0,"div",18),g._uU(1),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.AsE(" ",e.language.No_Data_Found," ",e.SPID," ")}}function q(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",19),g.TgZ(1,"div",20),g.TgZ(2,"a"),g.TgZ(3,"button",21),g.NdJ("click",function(){return g.CHM(e),g.oxw().update()}),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.xp6(4),g.hij(" ",e.language.campaign_Edit," ")}}function C(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",22),g.TgZ(1,"div",23),g.TgZ(2,"div",24),g.TgZ(3,"label",25),g.TgZ(4,"input",26),g.NdJ("ngModelChange",function(t){return g.CHM(e),g.oxw().isActive=t}),g.qZA(),g.TgZ(5,"span",27),g._UZ(6,"small"),g.qZA(),g._uU(7),g.qZA(),g.qZA(),g.qZA(),g.TgZ(8,"div",28),g.TgZ(9,"div",29),g.TgZ(10,"label",30),g._uU(11),g.qZA(),g.TgZ(12,"p",31),g._uU(13),g.qZA(),g.qZA(),g.TgZ(14,"div",29),g.TgZ(15,"label",30),g._uU(16),g.qZA(),g.TgZ(17,"p",31),g._uU(18),g.qZA(),g.qZA(),g.TgZ(19,"div",29),g.TgZ(20,"label",30),g._uU(21),g.qZA(),g.TgZ(22,"div",32),g.TgZ(23,"p",31),g._uU(24),g.qZA(),g._UZ(25,"div",33),g.qZA(),g.TgZ(26,"div",29),g.TgZ(27,"label",30),g._uU(28),g.qZA(),g.TgZ(29,"p",31),g._uU(30),g.qZA(),g.qZA(),g.TgZ(31,"div",29),g.TgZ(32,"label",30),g._uU(33),g.qZA(),g.TgZ(34,"p",31),g._uU(35),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(36,"div",28),g.TgZ(37,"div",29),g.TgZ(38,"label",30),g._uU(39),g.qZA(),g.qZA(),g.TgZ(40,"div",34),g._UZ(41,"img",35),g.qZA(),g.qZA(),g.TgZ(42,"div",28),g.TgZ(43,"div",29),g.TgZ(44,"label",30),g._uU(45),g.qZA(),g.qZA(),g.TgZ(46,"div",34),g._UZ(47,"img",36),g.qZA(),g.qZA(),g.TgZ(48,"div",28),g.TgZ(49,"div",29),g.TgZ(50,"label",30),g._uU(51),g.qZA(),g.qZA(),g.TgZ(52,"div",37),g.TgZ(53,"ul",38),g.TgZ(54,"li"),g._uU(55),g.qZA(),g.TgZ(56,"li"),g._uU(57),g.qZA(),g.TgZ(58,"li"),g._uU(59),g.qZA(),g.TgZ(60,"li"),g.TgZ(61,"p",39),g._uU(62),g.qZA(),g.TgZ(63,"p",39),g._uU(64,".png, .jpeg, img, bin"),g.qZA(),g.qZA(),g.TgZ(65,"li"),g.TgZ(66,"p",39),g._uU(67),g.qZA(),g.qZA(),g.TgZ(68,"li"),g.TgZ(69,"p",39),g._uU(70),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.xp6(4),g.Q6J("ngModel",e.isActive),g.uIk("disabled",!0)("checked",e.isActive),g.xp6(3),g.hij(" ",e.isActive?e.language.Enabled:e.language.Disabled," "),g.xp6(4),g.Oqu(e.language.Service_Provider),g.xp6(2),g.Oqu(e.spidfromservice),g.xp6(3),g.Oqu(e.language.App_Name),g.xp6(2),g.Oqu(e.appname),g.xp6(3),g.Oqu(e.language.Primary_Color),g.xp6(3),g.Oqu(e.primarycolor),g.xp6(1),g.Udp("background",e.primarycolor),g.xp6(3),g.Oqu(e.language["Preferred ProtectIQ Name"]),g.xp6(2),g.Oqu(e.customAppName.piqLabel),g.xp6(3),g.Oqu(e.language["Preferred ExperienceIQ Name"]),g.xp6(2),g.Oqu(e.customAppName.eiqLabel),g.xp6(4),g.Oqu(e.language.Primary_Logo),g.xp6(2),g.s9C("src",e.logo+"?timestamp="+e.timestamp,g.LSH),g.xp6(4),g.Oqu(e.language.White_Logo),g.xp6(2),g.s9C("src",e.appicon+"?timestamp="+e.timestamp,g.LSH),g.xp6(4),g.Oqu(e.language.Logo_Guidelines),g.xp6(4),g.hij("",e.language["Max File size"],": 250KB"),g.xp6(2),g.hij("",e.language["Max-Width"],": 1080px"),g.xp6(2),g.hij("",e.language["Max-Height"],": 180px"),g.xp6(3),g.hij("",e.language["Primary Logo Format"],":"),g.xp6(5),g.hij("",e.language["White Logo Format"],": .png"),g.xp6(3),g.Oqu(e.language["Transparent background recommended"])}}function T(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"a"),g.TgZ(1,"button",49),g.NdJ("click",function(){return g.CHM(e),g.oxw(4).update()}),g._uU(2),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(4);g.xp6(2),g.hij(" ",e.language.Update," ")}}const w=function(e){return{"background-color":e}};function I(e,t){if(1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g.TgZ(2,"ul",45),g.TgZ(3,"li"),g._uU(4),g.qZA(),g.TgZ(5,"li"),g._uU(6),g.TgZ(7,"a",46),g._uU(8),g.qZA(),g.qZA(),g.TgZ(9,"li"),g._uU(10),g.TgZ(11,"a",46),g._uU(12),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(13,"td"),g._uU(14),g.qZA(),g.TgZ(15,"td"),g.TgZ(16,"ul",47),g.TgZ(17,"li"),g._uU(18),g._UZ(19,"span",48),g._uU(20),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"td"),g.YNc(22,T,3,1,"a",44),g.qZA(),g.qZA()),2&e){const e=t.$implicit,i=g.oxw(3);g.xp6(4),g.Oqu(e.body.sellerName),g.xp6(2),g.hij(" ",i.language.Logo,": "),g.xp6(1),g.s9C("href",e.body.theme.logo,g.LSH),g.xp6(1),g.hij("",i.language.Preview," "),g.xp6(2),g.hij(" ",i.language.White_Logo,": "),g.xp6(1),g.s9C("href",e.body.appIcon,g.LSH),g.xp6(1),g.hij("",i.language.Preview," "),g.xp6(2),g.Oqu(e.body.spId),g.xp6(4),g.hij(" ",i.language.Primary," : "),g.xp6(1),g.Q6J("ngStyle",g.VKq(12,w,e.body.theme.primaryColor?e.body.theme.primaryColor:null)),g.xp6(1),g.hij("",e.body.theme.primaryColor," "),g.xp6(2),g.Q6J("ngIf",i.showUpdateBtn)}}function P(e,t){if(1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td",50),g._uU(2),g.qZA(),g.qZA()),2&e){const e=g.oxw(3);g.xp6(2),g.Oqu(e.language.No_White_label)}}function y(e,t){if(1&e&&(g.TgZ(0,"table",42),g.TgZ(1,"thead"),g.TgZ(2,"tr"),g.TgZ(3,"th"),g._uU(4),g.qZA(),g.TgZ(5,"th"),g._uU(6,"SPID"),g.qZA(),g.TgZ(7,"th"),g._uU(8),g.qZA(),g.TgZ(9,"th"),g._uU(10),g.qZA(),g.qZA(),g.qZA(),g.TgZ(11,"tbody"),g.YNc(12,I,23,14,"tr",43),g.YNc(13,P,3,1,"tr",44),g.qZA(),g.qZA()),2&e){const e=g.oxw(2);g.xp6(4),g.Oqu(e.language.APP_Info),g.xp6(4),g.Oqu(e.language.Color),g.xp6(2),g.Oqu(e.language.Action),g.xp6(2),g.Q6J("ngForOf",e.whitelabellist),g.xp6(1),g.Q6J("ngIf",!0===e.hideAdd)}}function O(e,t){if(1&e&&(g.TgZ(0,"div",40),g.YNc(1,y,14,5,"table",41),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",!e.addWhitelabel)}}let M=(()=>{class e{constructor(e,t,i,o,n,a,r,s){this.service=e,this.router=t,this.sso=i,this.routerService=o,this.translateService=n,this.commonOrgService=a,this.organizationApiService=r,this.titleService=s,this.whitelabellist=[],this.addWhitelabel=!1,this.isActive=!1,this.showSuccess=this.routerService.showSuccess,this.createdWhiteLabel="",this.updateSuccessMessage=this.routerService.updateSuccessMessage,this.isShad=!0,this.REDIRECT_URL="/organization-admin",this.customAppName={eiqLabel:null,piqLabel:null},this.commonOrgService.currentPageAdder("commandiq");let l=this.router.url;-1===l.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(l),this.REDIRECT_URL=this.sso.getRedirectModule(l),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID)):this.SPID=this.sso.getSPID(),l.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings")}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe(),this.routerService.setShowSuccess(!1),this.routerService.setCreateFlag(!1),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe()}ngOnInit(){let e=this.sso.getScopes();-1!==this.router.url.indexOf("/shad/")?e["cloud.shad.service"]&&-1!==e["cloud.shad.service"].indexOf("write")&&(this.showCreateBtn=!0,this.showUpdateBtn=!0):this.sso.checkAdminScopes(o.Nc.WRITE)&&(this.showCreateBtn=!0,this.showUpdateBtn=!0),this.SPID||this.isShad?this.list():this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(e=>{this.sso.setAdminOrgInfo(e),e&&e.spId&&(this.SPID=e.spId,this.list())},e=>{}),this.spid=this.sso.getSPID(),setTimeout(()=>{this.showSuccess=!1,this.createdWhiteLabel=""},5e3),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.titleService.setTitle(`${this.language.CommandIQ} - ${this.language["Mobile App"]} - ${"systemAdministration"===this.REDIRECT_URL?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`${this.language.CommandIQ} - ${this.language["Mobile App"]} - ${"systemAdministration"===this.REDIRECT_URL?this.language["System Administration"]:this.language.administration} - ${this.language["Calix Cloud"]}`),this.updateSuccessMessage&&(this.createdWhiteLabel=this.routerService.getCreateFlag()?this.language["Created Successfully"]:this.language["Updated Succesfully"])}hideSuccess(){this.showSuccess=!1,this.createdWhiteLabel=""}getWhitelabel(){this.showError=!1;var e=this.sso.getSPID();this.service.spinfo(e).toPromise().then(e=>{this.addWhitelabel=!1,this.list()}).catch(e=>{var t;404==(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.errorType)&&(this.addWhitelabel=!0)})}list(){this.sso.getSPID(),this.service.whiteLabellist(this.SPID).toPromise().then(e=>{this.timestamp=(new Date).getTime(),404!=e.errorType?(this.hideAdd=!0,this.editvisibility=!1,this.whitelabellist.push(e),this.spidfromservice=e.body.spId,this.isActive=e.body.isActive,this.appname=e.body.appName,this.primarycolor=e.body.theme.primaryColor,this.logo=e.body.theme.logo,this.appicon=e.body.appIcon):(this.hideAdd=!1,this.editvisibility=!0,this.whitelabellist=[]),this.whitelabellist.length>0?(this.hideAdd=!1,this.editvisibility=!0):(this.hideAdd=!0,this.editvisibility=!1,this.whitelabellist=[]),this.addWhitelabel=!1,this.getEIQandPIQName()}).catch(e=>{this.addWhitelabel=!0,401==e.status&&(this.errorMsg=e.statusText?e.statusText:"Unauthorized User",this.showError=!0)})}update(){this.router.navigate(this.isShad?["/shad/commandiq-update"]:[`/${this.REDIRECT_URL}/mobile-app/commandiq-update`])}createWhiteLabel(){this.router.navigate(this.isShad?["/shad/commandiq-create"]:[`/${this.REDIRECT_URL}/mobile-app/commandiq-create`])}hideError(){this.showError=!1}getEIQandPIQName(){let e=[];e.push(`${n.N.apiHost}/admin/application/custom/name?spid=${this.SPID}&appName=CIES`,`${n.N.apiHost}/admin/application/custom/name?spid=${this.SPID}&appName=CIEP`);const t=[];e.forEach(e=>{const i=this.service.callRestApi(e).pipe((0,a.U)(e=>e),(0,r.K)(e=>(0,s.of)(e)));t.push(i)}),this.combineLatest=(0,l.aj)(t),this.makeParallelRequest()}makeParallelRequest(){this.parallelReqSubscribtion=this.combineLatest.subscribe(e=>{var t,i,o,n;e[0].length&&(null===(t=e[0][0])||void 0===t?void 0:t.customAppName)&&(this.customAppName.piqLabel=null===(i=e[0][0])||void 0===i?void 0:i.customAppName),e[1].length&&(null===(o=e[1][0])||void 0===o?void 0:o.customAppName)&&(this.customAppName.eiqLabel=null===(n=e[1][0])||void 0===n?void 0:n.customAppName)},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(c.E),g.Y36(p.F0),g.Y36(o.t6),g.Y36(h.c),g.Y36(d.s),g.Y36(u.v),g.Y36(m.F),g.Y36(Z.Dx))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-commandiq"]],decls:8,vars:7,consts:[["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],[1,"row"],["class","col-12 my-3",4,"ngIf"],["class","nodata w-100",4,"ngIf"],["class","mt-2 mb-n2 col-md-12",4,"ngIf"],["class"," row detail-view my-3",4,"ngIf"],["class","whitelabel-sec",4,"ngIf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"d-inline"],[1,"mr-2"],["src","../../../assets/img/ic_success-circle-outline.svg"],["type","button",1,"close",3,"click"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["aria-hidden","true"],[1,"col-12","my-3"],[1,"label-link"],["id","add-new-commandiq-label",3,"click"],[1,"nodata","w-100"],[1,"mt-2","mb-n2","col-md-12"],[1,"text-right","d-flex","align-items","justify-content-end","pb-1"],["id","editbuttonCiqView",1,"btn-default","primary","px-3",3,"click"],[1,"row","detail-view","my-3"],[1,"col-md-12","mb-2"],[1,"toggle-swtbtn","checkbox","switcher"],[1,"f-s-14px","cursornotallow"],["type","checkbox","name","Status","id","Status",3,"ngModel","ngModelChange"],[1,"opacity-50","mr-1"],[1,"col-sm-4","col-md-3","col-lg-3","col-xl-3"],[1,"form-group"],[1,"ccl-form-label","mb-0"],[1,"value-text"],[1,"d-flex","justify-content-between","w-100"],["id","CIQprimaryColor",1,"color-box"],[1,"logo-box"],["id","primary-logo-image-view",3,"src"],["id","white-logo-image-view",3,"src"],[1,"logo-guidelines"],[1,"ml-4"],[1,"m-0"],[1,"whitelabel-sec"],["class","table table-bordered app-info","style","display: none;",4,"ngIf"],[1,"table","table-bordered","app-info",2,"display","none"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"app-detail"],[1,"link",3,"href"],[1,"color-detail"],[1,"box","mx-2",3,"ngStyle"],["id","updatebutton",1,"btn-default","primary","px-3",3,"click"],["colspan","7"]],template:function(e,t){1&e&&(g.YNc(0,x,9,1,"div",0),g.YNc(1,A,6,2,"div",1),g.TgZ(2,"div",2),g.YNc(3,_,4,1,"div",3),g.YNc(4,v,2,2,"div",4),g.qZA(),g.YNc(5,q,5,1,"div",5),g.YNc(6,C,71,27,"div",6),g.YNc(7,O,2,1,"div",7)),2&e&&(g.Q6J("ngIf",t.showSuccess),g.xp6(1),g.Q6J("ngIf",t.showError),g.xp6(2),g.Q6J("ngIf",t.addWhitelabel&&t.showCreateBtn),g.xp6(1),g.Q6J("ngIf",t.addWhitelabel),g.xp6(1),g.Q6J("ngIf",t.editvisibility&&t.showUpdateBtn),g.xp6(1),g.Q6J("ngIf",t.editvisibility),g.xp6(1),g.Q6J("ngIf",!1))},directives:[b.O5,f.Wl,f.JJ,f.On,b.sg,b.PC],styles:[".label-link[_ngcontent-%COMP%]{margin-bottom:15px;text-align:right}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline!important;font-weight:600;cursor:pointer}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0279ff}.nodata[_ngcontent-%COMP%]{text-align:center;font-size:16px}.detail-view[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:13px}.value-text[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:20px;color:gray;min-height:36px;padding:8px 16px;margin-bottom:0;word-break:break-word}.color-box[_ngcontent-%COMP%]{cursor:default;min-width:77px;max-height:36px;border-radius:3px}.value-text[_ngcontent-%COMP%] + .color-box[_ngcontent-%COMP%]{margin-left:12px}.logo-box[_ngcontent-%COMP%]{background:#EBEAEF;border-radius:6px;width:100%;height:100px;display:inline-flex;align-items:center;justify-content:center}.logo-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:auto;max-height:100px}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;color:#4c4c4c}.opacity-50[_ngcontent-%COMP%]{opacity:50%}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{width:35px;height:18px}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{width:12px;height:12px}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-left:3px}"]}),e})()}}]);