"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[8592],{12610:function(t,e,i){i.d(e,{_:function(){return s}});var r=i(37716),n=i(91841);let s=(()=>{class t{constructor(t){this.http=t,this.VideoEnable={},this.dataEnable={}}getdataEnableData(t){return!!this.dataEnable.hasOwnProperty(t)&&this.dataEnable[t]}setdataEnableData(t,e,i=!1){i?this.dataEnable={}:this.dataEnable[t]=e}getdataEnableVideo(t){return!!this.VideoEnable.hasOwnProperty(t)&&this.VideoEnable[t]}setdataEnableVideo(t,e,i=!1){i?this.VideoEnable={}:this.VideoEnable[t]=e}setServicesData(t,e){var i,r,n,s,a,o,l,h,c,p,d,u,g,m,f,b,C,v;let $=(null===(n=null===(r=null===(i=null==t?void 0:t.subscriberInformation)||void 0===i?void 0:i.ont)||void 0===r?void 0:r.dataService)||void 0===n?void 0:n.serviceDefinitionName)?null===(o=null===(a=null===(s=null==t?void 0:t.subscriberInformation)||void 0===s?void 0:s.ont)||void 0===a?void 0:a.dataService)||void 0===o?void 0:o.serviceDefinitionName:"",w=(null===(c=null===(h=null===(l=null==t?void 0:t.subscriberInformation)||void 0===l?void 0:l.ont)||void 0===h?void 0:h.voiceService)||void 0===c?void 0:c.serviceDefinitionName)?null===(u=null===(d=null===(p=null==t?void 0:t.subscriberInformation)||void 0===p?void 0:p.ont)||void 0===d?void 0:d.voiceService)||void 0===u?void 0:u.serviceDefinitionName:"",_=(null===(f=null===(m=null===(g=null==t?void 0:t.subscriberInformation)||void 0===g?void 0:g.ont)||void 0===m?void 0:m.videoService)||void 0===f?void 0:f.serviceDefinitionName)?null===(v=null===(C=null===(b=null==t?void 0:t.subscriberInformation)||void 0===b?void 0:b.ont)||void 0===C?void 0:C.videoService)||void 0===v?void 0:v.serviceDefinitionName:"";return e&&"data"==e?`${$||""}`:e&&"voice"==e?`${w||""}`:e&&"video"==e?`${_||""}`:`${$||""}${w?($?", ":"")+w:""}${_?($||w?", ":"")+_:""}`}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(n.eN))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})()},21693:function(t,e,i){i.d(e,{v:function(){return u}});var r=i(79765),n=i(39897),s=i(40205),a=i(92340),o=i(88002),l=i(5304),h=i(37716),c=i(91841),p=i(89097),d=i(3679);let u=(()=>{class t{constructor(t,e,i){this.httpClient=t,this.ssoAuthService=e,this.fb=i,this.transformedAlarms=["multiple-onts-down-network","multiple-onts-down-pon","multiple-onts-down-olt"],this.baseURL=a.N.API_BASE_URL,this.issuesFilterChanged$=new r.xQ,this.geoMapFilterChanged$=new r.xQ,this.homegeomapNavigation$=new r.xQ,this.isIssueMap=!1,this.issuesGeoMapFiltersParams={},this.filtersForm=this.fb.group({startDate:[""],endDate:[""],alarmType:[""],region:[""],location:[""],system:[""],fsan:[""],severity:[""],category:[""],customCategory:[""],eventName:"All",cco_ack:"all",cco_shelv:"all"}),this.selectedDate=new r.xQ,this.filterCount$=this.selectedDate.asObservable(),this.currentIssuesFilterParams={},this.geoMapHomeFilterParams={},this.regions=this.baseURL+"nfa/regions?tenant=0",this.locations=this.baseURL+"nfa/locations?tenant=0",this.systems=this.baseURL+"nfa/systems?tenant=0"}filterCounts(t){return this.selectedDate.next(t),this.dateParams=t,this.dateParams}listen(t){return new n.y(t=>{})}emit(t,e){}getRegions(t=!1){let e="";return t&&(e+="&includeDeleted=true"),this.httpClient.get(`${this.regions}${e}`).pipe((0,o.U)(t=>(t.sort((t,e)=>(t.name||"").toString().localeCompare((e.name||"").toString(),"en",{numeric:!1})),t)),(0,l.K)(this.handleError))}getLocations(t){return this.httpClient.get(`${this.locations}${"&region="+t}`).pipe((0,o.U)(t=>(t.sort((t,e)=>(t.name||"").toString().localeCompare((e.name||"").toString(),"en",{numeric:!1})),t)),(0,l.K)(this.handleError))}getSystems(t,e){return this.httpClient.get(`${this.systems}${"&region="+t}${"&location="+e}`).pipe((0,o.U)(t=>(t.sort((t,e)=>(t.name||"").toString().localeCompare((e.name||"").toString(),"en",{numeric:!1})),t)),(0,l.K)(this.handleError))}prepareLocationRegionHierachy(t){let e=[],i={};return t.map(t=>{i.hasOwnProperty(t[0])||(e.push({value:t[0],parent:"All"}),i[t[0]]=!0),e.push({value:t[1],parent:t[0]})}),e}handleError(t){return(0,s._)(t)}getAlarmSubscriberInfo(t){return this.httpClient.get(`${this.baseURL}/analytics-engine/alarmSubscriberList?historyReport=false&alarmId=${t}`)}setCurrentIssuesFilterParams(t,e=!0,i){this.currentIssuesFilterParams=t,i||this.issuesFilterChanged$.next(e)}getCurrentIssuesFilterParams(){return this.currentIssuesFilterParams}setgeoMapHomeFilterParams(t,e=!0,i){this.geoMapHomeFilterParams=t,i||this.issuesFilterChanged$.next(e)}getgeoMapHomeFilterParams(){return this.geoMapHomeFilterParams}setGeoMapFilters(t){this.geoMapFilterChanged$.next(t)}callGotoHomeGeomap(){this.homegeomapNavigation$.next()}fromMapNavigation(t){this.isIssueMap=t}isMap(){return this.isIssueMap}setIssuesGeoMapFilters(t){this.issuesGeoMapFiltersParams=t}getIssuesGeoMapFilters(){return this.issuesGeoMapFiltersParams}ngOnDestroy(){this.issuesFilterChanged$&&this.issuesFilterChanged$.unsubscribe(),this.geoMapFilterChanged$&&this.geoMapFilterChanged$.unsubscribe(),this.homegeomapNavigation$&&this.homegeomapNavigation$.unsubscribe(),this.selectedDate.unsubscribe()}generateResourceForUI(t,e){var i,r,n,s,a,o,l,h;let c="",p="",d="";return t&&t.subject&&(t.subject.region&&(c+=`${t.subject.region}`),t.subject.location&&(p+=`${c?"/":""}${t.subject.location}`),t.subject.deviceName&&(d+=`${p?"/":""}${t.subject.deviceName}`)),e?(t.subject.resourceForUI=`(${c} ${p} ${d}) ${t.subject.source}`,"object"==typeof(null===(r=null===(i=t.subject)||void 0===i?void 0:i.additionalAttributes)||void 0===r?void 0:r["ring-name"])?t.subject.resourceForUI+=`(${null===(s=null===(n=t.subject)||void 0===n?void 0:n.additionalAttributes)||void 0===s?void 0:s["ring-name"].value})`:(null===(o=null===(a=t.subject)||void 0===a?void 0:a.additionalAttributes)||void 0===o?void 0:o["ring-name"])&&(t.subject.resourceForUI+=`(${null===(h=null===(l=t.subject)||void 0===l?void 0:l.additionalAttributes)||void 0===h?void 0:h["ring-name"]})`)):-1===this.transformedAlarms.indexOf(t.subject.alarmEventName)?t.subject.resourceForUI=`(${c} ${p} ${d}) ${t.subject.source}`:t.subject&&"multiple-onts-down-network"===t.subject.alarmEventName?t.subject.resourceForUI=`(${c} ${p})`:t.subject&&"multiple-onts-down-pon"===t.subject.alarmEventName?t.subject.resourceForUI=`(${c} ${p} ${d}) ${t.subject.source}`:t.subject&&"multiple-onts-down-olt"===t.subject.alarmEventName&&(t.subject.resourceForUI=`(${c} ${p} ${d})`),t.subject.resourceForUI}appendFqn(t){return(null==t?void 0:t.length)&&(null==t||t.forEach(e=>{if(this.findObjectsCountByValue(t,e.name)>1){let t="";if(e.fqn){let i=e.fqn.split(",");if(i.length){let e=i[0];if(e){let i=e.split("=");i.length&&i[1]&&(t=i[1])}}}e.tempName=`${e.name} ${t?`(${t})`:""}`}else e.tempName=e.name}),t.forEach(t=>{t.name=t.tempName})),t}findObjectsCountByValue(t,e){let i=0;if(t&&t.length)for(var r=0;r<t.length;r++)void 0!==t[r].isDeleted&&!t[r].isDeleted&&t[r].name.toLowerCase()==e.toLowerCase()&&i++;return i}}return t.\u0275fac=function(e){return new(e||t)(h.LFG(c.eN),h.LFG(p.t6),h.LFG(d.qu))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},63807:function(t,e,i){i.d(e,{H:function(){return c}});var r=i(40205),n=i(5304),s=i(88002),a=i(92340),o=i(37716),l=i(91841),h=i(89097);let c=(()=>{class t{constructor(t,e){this.http=t,this.sso=e,this.baseUrl=`${a.N.COC_SERVICES_ACTIVATION_URL}/serviceDefinitions`,this.bandwidhtbaseUrl=`${a.N.COC_SERVICES_ACTIVATION_URL}/bandwidthTiers`,this.subscriberbaseUrl=`${a.N.COC_SERVICES_ACTIVATION_URL}/serviceTemplates`,this.ouibaseurl=`${a.N.COC_SERVICES_ACTIVATION_URL}/ouiMatchList`,this.multirangebaseurl=`${a.N.COC_SERVICES_ACTIVATION_URL}/multicastRange`,this.multicastvlansbaseurl=`${a.N.COC_SERVICES_ACTIVATION_URL}/multicastVlan`}getServiceTemplateType(t,e){const i=this.sso.getOrg(t);return this.http.get(`${a.N.COC_SERVICES_ACTIVATION_URL}/serviceTemplates/type?${i}type=${e}`).pipe((0,n.K)(this.handleError))}saveProfile(t,e){return this.http.post(`${a.N.COC_SERVICE_MIGRATION_URL}/ont/smp?orgId=${t}`,e).pipe((0,n.K)(this.handleError))}updateJobMig(t,e,i){let r=`${a.N.COC_SERVICE_MIGRATION_URL}/ont/migrate/${t}?name=${e}`;return i&&(r+=`&description=${i}`),this.http.put(r,"").pipe((0,n.K)(this.handleError))}saveJobMig(t,e,i,r){let s=`${a.N.COC_SERVICE_MIGRATION_URL}/ont/migrate?name=${i}`;return r&&(s+=`&description=${r}`),this.http.post(s,e).pipe((0,n.K)(this.handleError))}startMigration(t,e,i){return this.http.put(`${a.N.COC_SERVICE_MIGRATION_URL}/migration/${t}/accept`,"").pipe((0,n.K)(this.handleError))}ExportMigration(t){return this.http.get(`${a.N.COC_SERVICE_MIGRATION_URL}/export/${t}`).pipe((0,n.K)(this.handleError))}AbortMigration(t,e,i){return this.http.put(`${a.N.COC_SERVICE_MIGRATION_URL}/migration/${t}/abort`,"").pipe((0,n.K)(this.handleError))}DeleteMigration(t,e,i){return this.http.delete(`${a.N.COC_SERVICE_MIGRATION_URL}/migration/${t}`).pipe((0,n.K)(this.handleError))}undoMigration(t,e,i){return this.http.put(`${a.N.COC_SERVICE_MIGRATION_URL}/migration/${t}/revert`,"").pipe((0,n.K)(this.handleError))}UpdateProfile(t,e,i){return this.http.put(`${a.N.COC_SERVICE_MIGRATION_URL}/ont/smp/${i}`,e).pipe((0,n.K)(this.handleError))}GetAllservices(t){return this.http.get(`${a.N.COC_SERVICE_MIGRATION_URL}/migration/${t}/services?page=0&size=10`).pipe((0,n.K)(this.handleError))}GetAllsummary(t){return this.http.get(`${a.N.COC_SERVICE_MIGRATION_URL}/migration/${t}`).pipe((0,n.K)(this.handleError))}GetAllProfile(t,e,i){return this.http.get(`${a.N.COC_SERVICE_MIGRATION_URL}/ont/smps?page=${e}&size=10`).pipe((0,n.K)(this.handleError))}GetAllJob(t,e,i){return this.http.get(`${a.N.COC_SERVICE_MIGRATION_URL}/migration/all?page=${e}&size=10`).pipe((0,n.K)(this.handleError))}GetProfile(t){return this.http.get(`${a.N.COC_SERVICE_MIGRATION_URL}/ont/smp/${t}`).pipe((0,n.K)(this.handleError))}DeleteProfile(t,e){return this.http.delete(`${a.N.COC_SERVICE_MIGRATION_URL}/ont/smp/${t}`).pipe((0,n.K)(this.handleError))}getsubscriber(){return this.http.get(this.baseUrl).pipe((0,n.K)(this.handleError))}getOuiList(){return this.http.get(this.ouibaseurl).pipe((0,s.U)(t=>("object"==typeof t&&t.sort((t,e)=>(t.name||"").toString().localeCompare((e.name||"").toString(),"en",{numeric:!1})),t)),(0,n.K)(this.handleError))}getMultipleRange(){return this.http.get(this.multirangebaseurl).pipe((0,s.U)(t=>("object"==typeof t&&t.sort((t,e)=>(t.name||"").toString().localeCompare((e.name||"").toString(),"en",{numeric:!1})),t)),(0,n.K)(this.handleError))}getMultiplecastVlan(){return this.http.get(this.multicastvlansbaseurl).pipe((0,s.U)(t=>("object"==typeof t&&t.sort((t,e)=>(t.name||"").toString().localeCompare((e.name||"").toString(),"en",{numeric:!1})),t)),(0,n.K)(this.handleError))}getsubscriberDetail(t,e){switch(t=encodeURIComponent(t),e){case"Service Defintion":return this.http.get(`${this.baseUrl}?name=${t}`).pipe((0,n.K)(this.handleError));case"Subscriber":return this.http.get(`${this.subscriberbaseUrl}?name=${t}`).pipe((0,n.K)(this.handleError));case"Bandwidth tier":return this.http.get(`${this.bandwidhtbaseUrl}?name=${t}`).pipe((0,n.K)(this.handleError));case"ouiMatchList":return this.http.get(`${this.ouibaseurl}?name=${t}`).pipe((0,n.K)(this.handleError));case"Multicast Range":return this.http.get(`${this.multirangebaseurl}?name=${t}`).pipe((0,n.K)(this.handleError));case"Multicast VLAN":return this.http.get(`${this.multicastvlansbaseurl}?name=${t}`).pipe((0,n.K)(this.handleError))}}delsubscriber(t,e){switch(t=encodeURIComponent(t),e){case"Service Defintion":return this.http.delete(this.baseUrl+`/${t}`).pipe((0,n.K)(this.handleError));case"Subscriber":return this.http.delete(this.subscriberbaseUrl+`/${t}`).pipe((0,n.K)(this.handleError));case"Bandwidth tier":return this.http.delete(this.bandwidhtbaseUrl+`/${t}`).pipe((0,n.K)(this.handleError));case"ouiMatchList":return this.http.delete(this.ouibaseurl+`/${t}`).pipe((0,n.K)(this.handleError));case"Multicast Range":return this.http.delete(this.multirangebaseurl+`/${t}`).pipe((0,n.K)(this.handleError));case"Multicast VLAN":return this.http.delete(this.multicastvlansbaseurl+`/${t}`).pipe((0,n.K)(this.handleError))}}postdata(t,e){switch(e){case"service_Definition_Profile":return this.http.post(this.baseUrl,t).pipe((0,n.K)(this.handleError));case"subscriber_profile":return this.http.post(this.subscriberbaseUrl,t).pipe((0,n.K)(this.handleError));case"bandWidth_profile":return this.http.post(this.bandwidhtbaseUrl,t).pipe((0,n.K)(this.handleError));case"oui_profile":return this.http.post(this.ouibaseurl,t).pipe((0,n.K)(this.handleError));case"Multicast_Range_Profile":return this.http.post(this.multirangebaseurl,t).pipe((0,n.K)(this.handleError));case"Multicast_Vlan_Profile":return this.http.post(this.multicastvlansbaseurl,t).pipe((0,n.K)(this.handleError))}}putdata(t,e){switch(e){case"service_Definition_Profile":return this.http.put(this.baseUrl,t).pipe((0,n.K)(this.handleError));case"subscriber_profile":return this.http.put(this.subscriberbaseUrl,t).pipe((0,n.K)(this.handleError));case"bandWidth_profile":return this.http.put(this.bandwidhtbaseUrl,t).pipe((0,n.K)(this.handleError));case"oui_profile":return this.http.put(this.ouibaseurl,t).pipe((0,n.K)(this.handleError));case"Multicast_Range_Profile":return this.http.put(this.multirangebaseurl,t).pipe((0,n.K)(this.handleError));case"Multicast_Vlan_Profile":return this.http.put(this.multicastvlansbaseurl,t).pipe((0,n.K)(this.handleError))}}handleError(t){return(0,r._)(t)}getProfileList(t){const e=this.sso.getOrg(t);return this.http.get(`${a.N.SUPPORT_URL}/netops-config/configuration-profile?${e}`)}convert_to_kpbs(t,e="mbps"){switch(e){case"gbps":return 1e6*t;case"mbps":return 1e3*t;default:return t}}convert_kbps_to(t,e="mbps",i={start:{count:0}}){if(i.start.count>1)return t;switch(e){case"gbps":return t/1e6;case"mbps":return t/1e3;default:return t}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(l.eN),o.LFG(h.t6))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},47968:function(t,e,i){i.d(e,{G:function(){return o}});var r=i(26215),n=i(37716),s=i(89097),a=i(39895);let o=(()=>{class t{constructor(t,e){this.sso=t,this.router=e,this.prevStreamData={maxRate:[0,0],packet:[0,0]},this.data={upRateData:[],downRateData:[],packetUpData:[],packetDownData:[]},this.latestValues=new r.X({}),this.rateUpDeltaPerSec=0,this.rateDownDeltaPerSec=0,this.packetUpDeltaPerSec=0,this.packetDownDeltaPerSec=0}getData(){this.data={upRateData:[],downRateData:[],packetUpData:[],packetDownData:[]},this.prevStreamData={maxRate:[0,0],packet:[0,0]},this.rateUpDeltaPerSec=0,this.rateDownDeltaPerSec=0,this.packetUpDeltaPerSec=0,this.packetDownDeltaPerSec=0;for(let t=0;t<=300;t++)this.data.upRateData.push(0),this.data.downRateData.push(0),this.data.packetUpData.push(0),this.data.packetDownData.push(0);this.emitLatestValues()}getDelta(t,e){let i;return i=t<=0?e:t-e,i/15}emitLatestValues(){setInterval(()=>{this.data.upRateData.splice(0,1),this.data.downRateData.splice(0,1),this.data.packetUpData.splice(0,1),this.data.packetDownData.splice(0,1),this.data.upRateData.push(this.calculateNewValue(this.data.upRateData[299],this.rateUpDeltaPerSec)),this.data.downRateData.push(this.calculateNewValue(this.data.downRateData[299],this.rateDownDeltaPerSec)),this.data.packetUpData.push(this.calculateNewValue(this.data.packetUpData[299],this.packetUpDeltaPerSec)),this.data.packetDownData.push(this.calculateNewValue(this.data.packetDownData[299],this.packetDownDeltaPerSec)),this.latestValues.next(this.data)},1e3)}calculateNewValue(t,e){const i=(t+e).toFixed(2),r=parseInt(i);return r>=0?r:0}unsubscribeStream(){this.source&&(this.source.close(),this.source=null),this.data={upRateData:[],downRateData:[],packetUpData:[],packetDownData:[]},this.prevStreamData={maxRate:[0,0],packet:[0,0]},this.rateUpDeltaPerSec=0,this.rateDownDeltaPerSec=0,this.packetUpDeltaPerSec=0,this.packetDownDeltaPerSec=0}checkGetData(){this.source||this.getData()}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(s.t6),n.LFG(a.F0))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},90956:function(t,e,i){i.r(e),i.d(e,{AddServiceSystemModule:function(){return m}});var r=i(38583),n=i(39895),s=i(31128),a=i(70357),o=i(37716);const l=[{path:"",component:a.I,children:[{path:"add-details",component:s.U,data:{title:"Calix Cloud - Add Subscriber"}}]}];let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[n.Bz.forChild(l)],n.Bz]}),t})();var c=i(86640),p=i(23771),d=i(65681),u=i(3679),g=i(44466);let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[r.ez,h,c.A0,u.u5,u.UX,p.T,d.m,g.m]]}),t})()},89044:function(t,e,i){i.d(e,{U:function(){return h}});var r=i(26215),n=i(40205),s=i(91841),a=i(92340),o=i(5304),l=i(37716);let h=(()=>{class t{constructor(t){this.httpClient=t,this.isDev=!1,this.flowDataSync=new r.X({flowDataTab:!0}),this.baseUrl=a.N.faAdminCorrelatorURL,this.correlator="correlator",this.flowEndpoint="flowendpoint";let e=new s.WM({"Content-Type":"application/json"});this.options={headers:e}}getCount(t){return this.httpClient.get(`${this.baseUrl}${this.flowEndpoint}/count?org-id=${t}`)}getLists(t,e,i){return null==e&&(e=0),null==i&&(i=10),this.httpClient.get(`${a.N.faAdminCorrelatorURL}flowendpoint?org-id=${t}&pagenumber=${e}&pagesize=${i}`)}getListsDev(t,e,i,r){return null==i&&(i=0),null==r&&(r=10),this.httpClient.get(`${a.N.faAdminCorrelatorURL}flowendpoint?org-id=${t}&pagenumber=${i}&pagesize=${r}&mappedby=${e}`)}AddIP(t){return this.httpClient.post(t,{},this.options)}EndpointDelete(t){return this.httpClient.delete(t)}NonAssignedEndpointDelete(t){return this.httpClient.delete(t)}getOrg(t){return this.httpClient.get(`${a.N.faAdminURL}organization?org-id=${t}`)}updateOrgPUT(t,e){return this.httpClient.put(`${a.N.faAdminURL}organization?org-id=${t}`,e,this.options)}updateOrgPatch(t,e){return this.httpClient.patch(`${a.N.faAdminURL}organization?org-id=${t}`,e,this.options)}createOrg(t,e){return this.httpClient.post(`${a.N.faAdminURL}organization?org-id=${t}`,e,this.options)}updateManagement(t,e){return this.httpClient.put(`${a.N.faAdminCorrelatorURL}assigned/subscriber?org-id=${t}`,e,this.options)}Export(t){return this.httpClient.post(`${a.N.faAdminCorrelatorURL}assigned/subscriber/export?org-id=${t}`,{})}getAssignedCount(t){return this.httpClient.get(`${a.N.faAdminCorrelatorURL}flowendpoint?org-id=${t}&mappedby=ASSIGNED&count=true`)}getAssigned(t,e){return this.httpClient.get(`${a.N.faAdminCorrelatorURL}flowendpoint?org-id=${t}&pagenumber=${e}&pagesize=1000&mappedby=ASSIGNED`)}importAssigned(t,e){return this.httpClient.post(`${a.N.faAdminCorrelatorURL}assigned/subscriber/import?org-id=${e}`,t)}getAggregatedGroups(t,e){return this.httpClient.get(`${a.N.faAdminCorrelatorURL}flowendpoint?org-id=${t}&pagenumber=0&pagesize=100&agggroup=${e}`)}add1MinuteAggregation(t,e){return this.httpClient.post(`${a.N.faAdminURL}organization/allow1minaggregation?enable=${e}&org-id=${t}`,{})}addUnmappedIdAggregation(t,e){return this.httpClient.post(`${a.N.faAdminURL}organization/allowunmapped?enable=${e}&org-id=${t}`,{})}getDelay(t){return this.httpClient.get(`${a.N.API_BASE_URL}flow-realtime/lateflows?orgId=${t}&tenant-id=0`).pipe((0,o.K)(this.handleError))}handleError(t){return(0,n._)(t)}getMappedcount(t){return this.httpClient.get(`${a.N.faAdminCorrelatorURL}flowendpoint/count?discovered=true&org-id=${t}`)}getUnmappedcount(t){return this.httpClient.get(`${a.N.faAdminCorrelatorURL}flowendpoint/unmapped/count?org-id=${t}&source=true`)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(s.eN))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},52727:function(t,e,i){i.d(e,{L:function(){return E}});var r=i(39895),n=i(79765),s=i(25917),a=i(54395),o=i(43190),l=i(5304),h=i(92340),c=i(37716),p=i(30900),d=i(51071),u=i(91841),g=i(89097),m=i(38583),f=i(3679);function b(t,e){if(1&t&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&t){const t=c.oxw(2);c.xp6(1),c.Oqu(t.language["Not found"])}}function C(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"li",12),c.NdJ("click",function(){const e=c.CHM(t).$implicit;return c.oxw(4).gotoEndpoint(e)}),c._uU(1),c.qZA()}if(2&t){const t=e.$implicit;c.xp6(1),c.Oqu(t.endPointName?t.endPointName:t.name?t.name:t.ipAddress)}}function v(t,e){if(1&t&&(c.TgZ(0,"ul"),c.YNc(1,C,2,1,"li",11),c.qZA()),2&t){const t=c.oxw(3);c.xp6(1),c.Q6J("ngForOf",t.searchData)}}function w(t,e){if(1&t&&(c.TgZ(0,"div",9),c.YNc(1,v,2,1,"ul",10),c.qZA()),2&t){const t=c.oxw(2);c.xp6(1),c.Q6J("ngIf",t.searchData.length>0)}}function _(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",1),c.YNc(1,b,2,1,"div",2),c.TgZ(2,"div",3),c.TgZ(3,"input",4),c.NdJ("ngModelChange",function(e){return c.CHM(t),c.oxw().searchText=e})("keyup",function(e){return c.CHM(t),c.oxw().searchByCharacters(e)})("keyup.enter",function(){return c.CHM(t),c.oxw().performSearch()}),c.qZA(),c.TgZ(4,"button",5),c.NdJ("click",function(){return c.CHM(t),c.oxw().performIconSearch()}),c._UZ(5,"img",6),c.qZA(),c.YNc(6,w,2,1,"div",7),c.qZA(),c.qZA()}if(2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.epSearchError),c.xp6(2),c.s9C("placeholder",t.language["IP Address, End Points"]),c.Q6J("ngModel",t.searchText),c.xp6(1),c.Q6J("disabled",t.loading),c.xp6(2),c.Q6J("ngIf",t.searchText&&t.searchText.length>=2&&t.searchData.length>0)}}let E=(()=>{class t{constructor(t,e,i,s,a){this.router=t,this.customTranslateService=e,this.webSocketService=i,this.http=s,this.sso=a,this.pageAvailable=!1,this.endpointID="",this.subscriberName="",this.locationName="",this.regionName="",this.endPointName="",this.modelName="",this.IPAddress="",this.mappedBy="",this.lastUpdatedTime="",this.url="",this.endPointList=[],this.showEndpointSearch=!0,this.loading=!1,this.showHyperLink=!1,this.showSubscriber=!1,this.hasPageAccess=!1,this.searchData=[],this.epSearchError=!1,this.searchText="",this.searchText$=new n.xQ,window.location.pathname.includes("/realtime")||(this.showEndpointSearch=!1),this.showTextSubs=this.router.events.subscribe(t=>{t instanceof r.OD&&(this.showEndpointSearch=!!t.url.includes("/realtime"))})}ngOnInit(){this.ORG_ID=this.sso.getOrganizationID(this.router.url),this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0),this.customTranslateService.selectedLanguage.subscribe(t=>{this.language=t}),this.doSearch()}doSearch(){this.subscribers$=this.searchText$.pipe((0,a.b)(500),(0,o.w)(t=>this.mappedSearchEndPoint(t)),(0,o.w)(t=>404==t||0===t.length?this.unmappedSearchEndPoint(this.searchText):t)).subscribe(t=>{404!==t?(Array.isArray(t)?(this.searchData=t,this.getEndpointName(this.searchData),this.epSearchError=!1,this.webSocketService.isUnmapped=!0):(this.searchData.push(t),this.getEndpointName(this.searchData),this.epSearchError=!1,this.webSocketService.isUnmapped=!1),this.loading=!1):(this.epSearchError=!0,this.loading=!1)},t=>{this.epSearchError=!0,this.loading=!1})}searchByCharacters(t){const e=$(t.target).val().toString();e.length<2?this.epSearchError=!1:(13!==t.keyCode&&(this.loading=!0,this.epSearchError=!1),this.searchData=[],this.searchText$.next(e))}mappedSearchEndPoint(t){return this.url=`${h.N.faAdminCorrelatorURL}flowendpoint?org-id=${this.ORG_ID}&searchstring=${t}`,this.http.get(this.url).pipe((0,l.K)(t=>(0,s.of)(t.status)))}unmappedSearchEndPoint(t){return this.searchData=[],this.http.get(`${h.N.FA_API_BASE_URL}correlator/flowendpoint/unmapped?org-id=${this.ORG_ID}&ip=${t}`).pipe((0,l.K)(t=>(0,s.of)(t.status)))}performIconSearch(){if(0===this.searchData.length)this.performSearch();else{this.loading=!0;let t=!1;this.searchData.forEach(e=>{(this.searchText===e.ipAddress||this.searchText===e.name)&&(this.loading=!1,t=!0,this.gotoEndpoint(e))}),t||(this.loading=!1,this.gotoEndpoint(this.searchData[0]))}}performSearch(){const t=this.searchText;t.length<2||(this.loading=!0,this.searchText$.next(t))}gotoEndpoint(t){var e,i,r,n;let s=window.location.pathname.indexOf("/organization-admin/")>-1?"/organization-admin/flowAnalyze/traffic/endpoint/realtime":"/systemAdministration/flowAnalyze/traffic/endpoint/realtime";this.webSocketService.isUnmapped?(this.webSocketService.setEndpointValue(t.ipAddress),!this.epSearchError&&this.searchText&&!this.loading&&(window.sessionStorage.setItem("endpointName",null!==(n=null!==(r=t.endPointName)&&void 0!==r?r:t.name)&&void 0!==n?n:t.ipAddress),this.router.navigate([s],{queryParams:{id:t.ipAddress}}))):t.id&&null!==t.id&&(this.webSocketService.setEndpointValue(t.id),!this.epSearchError&&this.searchText&&!this.loading&&(window.sessionStorage.setItem("endpointName",null!==(i=null!==(e=t.endPointName)&&void 0!==e?e:t.name)&&void 0!==i?i:t.ipAddress),this.router.navigate([s],{queryParams:{id:t.id}})))}ngOnDestroy(){this.showTextSubs&&this.showTextSubs.unsubscribe()}getEndpointName(t){t&&t.length>0&&t.map(t=>{t.name||(t.name=t.ipAddress),t.name!==t.ipAddress&&!t.name.includes(t.ipAddress)&&(t.endPointName=t.name+"_"+t.ipAddress),t.name!==t.ipAddress&&t.name.includes(t.ipAddress)&&(t.endPointName=t.name),t.name===t.ipAddress&&(t.endPointName=t.name)})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(r.F0),c.Y36(p.d),c.Y36(d.i),c.Y36(u.eN),c.Y36(g.t6))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-input-box"]],decls:1,vars:1,consts:[["class","traffic-search-area d-flex align-items-end",4,"ngIf"],[1,"traffic-search-area","d-flex","align-items-end"],["class","invalid-msg","id","ep-search-error",4,"ngIf"],[1,"d-inline-flex","align-items-center","justify-content-between","search-box-input"],["name","search","id","search","ng-reflect-name","search","autocomplete","off",1,"ng-pristine","ng-valid","ng-touched",3,"placeholder","ngModel","ngModelChange","keyup","keyup.enter"],[1,"search-box-icon",3,"disabled","click"],["id","searchSubscriberIcon","src","assets/img/ic_search_white.svg",1,"search-icon","primary"],["class","search-result-dropdown overflow-auto",4,"ngIf"],["id","ep-search-error",1,"invalid-msg"],[1,"search-result-dropdown","overflow-auto"],[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,e){1&t&&c.YNc(0,_,7,5,"div",0),2&t&&c.Q6J("ngIf",e.showEndpointSearch)},directives:[m.O5,f.Fj,f.JJ,f.On,m.sg],styles:[".undo-icon[_ngcontent-%COMP%]{background-color:#f8f8fa;padding:5px;color:#9e9e9e;border-radius:15px;margin:3px;font-size:13px;cursor:pointer}.current-issue-menu-container[_ngcontent-%COMP%]{display:flex;margin:20px 0;justify-self:start}.current-issue-menu-item[_ngcontent-%COMP%]{flex-grow:0}.current-issue-menu-item[_ngcontent-%COMP%] + .current-issue-menu-item[_ngcontent-%COMP%]{margin-left:1%}.btn-secondary[_ngcontent-%COMP%]{color:#5f6165!important;background-color:#f7f8fa!important;border-color:#888!important}.test-container[_ngcontent-%COMP%]{display:flex;width:100%}.item[_ngcontent-%COMP%]{flex-grow:1;border-left:3px solid #cdcdcd;padding-left:20px;width:calc(100% / 3)}.item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:2%}.sub-menu-list-icon[_ngcontent-%COMP%]{background-color:#dee5ef;padding:2px 10px;border-radius:15px;font-size:10px;margin:10px}.network-trends-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.network-trends-item[_ngcontent-%COMP%]{flex-grow:1;width:calc(100% / 2)}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.network-trends-item[_ngcontent-%COMP%] + .network-trends-item[_ngcontent-%COMP%]{margin-left:5%}.sub-name[_ngcontent-%COMP%]{font-weight:300;font-size:42px;line-height:53px;color:1A1F22}.sub-account-details-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{line-height:18px}.sub-account-details-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;line-height:18px;font-weight:400;padding:5px 0;width:20%}.sub-account-details[_ngcontent-%COMP%]{display:flex;width:100%}.sub-account-details-info[_ngcontent-%COMP%]{flex-grow:1;width:100%;padding-left:20px;cursor:pointer}.sub-account-details-info[_ngcontent-%COMP%] + .sub-account-details-info[_ngcontent-%COMP%]{margin-left:2%}.sub-info-details[_ngcontent-%COMP%]{color:#0054b2;font-weight:300;line-height:20px;font-size:18px;word-break:break-word}.errbtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.sub-account-details-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:22px}.btn-default.btn-dft[_ngcontent-%COMP%]{border:1px solid #CCCCCC}.active[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{color:#fff!important}.sub-accounts-info[_ngcontent-%COMP%]{width:400px;display:block}.info-section-top[_ngcontent-%COMP%]{border:.5px solid black;background-color:#ddebe445}.traffic-search-area[_ngcontent-%COMP%]{justify-content:flex-end;text-align:right;position:absolute;top:-6px;right:0}.search-box-input[_ngcontent-%COMP%]{border-radius:26px;padding:0 0 0 15px;font-size:14px;font-weight:400;min-width:265px;color:#646363;border:1px solid #dfdfdf}.search-box-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.search-box-icon[_ngcontent-%COMP%]{width:42px;height:40px;background-color:#0279ff;padding:10px;border-radius:25px;cursor:pointer;border:none}.invalid-msg[_ngcontent-%COMP%]{color:#c70000;font-size:12px;width:100%;position:absolute;top:-20px;text-align:left;left:21px}@media screen and (max-width: 767px){.traffic-search-area[_ngcontent-%COMP%]{justify-content:flex-end;text-align:right;position:relative;top:0;margin-top:15px;right:0}}  .record-pop span.error-img{position:absolute;left:5px;top:10px}  .record-pop .alert{padding:15px 30px 15px 50px!important}  .record-pop .alert .close{right:8px!important;top:18px!important}.search-result-dropdown[_ngcontent-%COMP%]{position:absolute;top:45px;z-index:6;background:#fff;width:auto;left:auto;right:0;max-width:500px;min-width:260px;box-shadow:0 5px 15px #00000021;border:1px solid rgba(0,0,0,.15);border-radius:16px;padding:0 15px;text-align:left;max-height:200px}.search-result-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer}"]}),t})()},10803:function(t,e,i){i.d(e,{M:function(){return n}});var r=i(37716);let n=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-dummy-component"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})()},18924:function(t,e,i){i.d(e,{e3:function(){return r}});class r{constructor(t,e){this.metadata=t||new n,this.records=e||(new s)[0]}}class n{constructor(t){this.totalHits=t||0}}class s{constructor(t,e,i,r,n,s,o,l,h){this.subscriberId=t||null,this.subscriberLocationId=e||null,this.orgId=i||null,this.account=r||null,this.name=n||null,this.phone=s||null,this.email=o||null,this.serviceAddress=l||null,this.devices=h||(new a)[0]}}class a{constructor(t,e,i,r,n,s,a,o,l,h,c,p,d){this.deviceId=t||null,this.dataModelName=e,this.ipAddress=i,this.macAddress=r,this.manufacturer=n,this.modelName=s,this.opMode=a,this.productFamily=o,this.registrationId=l,this.serialNumber=h,this.softwareVersion=c,this.wapGatewaySn=p,this._id=d}}},71502:function(t,e,i){i.d(e,{V:function(){return n}});var r=i(37716);let n=(()=>{class t{transform(t,e){var i,r,n,s;if(e&&"show"==e){let e=[],n="";return n+=`${t.serialNumber?t.serialNumber:t.registrationId?t.registrationId:t.macAddress?t.macAddress:t.deviceId} - `,e.push(t.pppUsername&&t.pppUsername.trim()?t.pppUsername:""),e.push(t.registrationId&&t.registrationId.trim()?t.registrationId:""),e.push(t.ipAddress&&t.ipAddress.trim()?t.ipAddress:""),e.push(t.manufacturer&&t.manufacturer.trim()?t.manufacturer:""),e.push(t.modelName&&t.modelName.trim()?t.modelName:(null===(i=null==t?void 0:t.ont)||void 0===i?void 0:i.modelName)?null===(r=null==t?void 0:t.ont)||void 0===r?void 0:r.modelName:""),(t.macAddress&&t.deviceId!==t.macAddress||t.serialNumber||t.registrationId)&&e.push(t.macAddress&&t.macAddress.trim()?t.macAddress:""),n+=e.filter(t=>t).join(" | "),n}{let e=[],i=t.deviceId;return t.deviceId===t.serialNumber&&t.registrationId&&t.registrationId.trim()?i+=` - ${t.registrationId} | `:t.deviceId===t.registrationId&&t.serialNumber&&t.serialNumber.trim()?i+=` - ${t.serialNumber} | `:i+=" - ",e.push(t.pppUsername&&t.pppUsername.trim()?t.pppUsername:""),e.push(t.ipAddress&&t.ipAddress.trim()?t.ipAddress:""),e.push(t.manufacturer&&t.manufacturer.trim()?t.manufacturer:""),e.push(t.modelName&&t.modelName.trim()?t.modelName:(null===(n=null==t?void 0:t.ont)||void 0===n?void 0:n.modelName)?null===(s=null==t?void 0:t.ont)||void 0===s?void 0:s.modelName:""),e.push(t.macAddress&&t.macAddress.trim()?t.macAddress:""),i+=e.filter(t=>t).join(" | "),i}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Yjl({name:"sortDeviceData",type:t,pure:!0}),t})()}}]);