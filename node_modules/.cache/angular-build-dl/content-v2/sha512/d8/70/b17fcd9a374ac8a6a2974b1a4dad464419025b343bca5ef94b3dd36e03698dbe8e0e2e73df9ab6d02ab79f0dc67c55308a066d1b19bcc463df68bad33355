!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?a:String(a)),n)}var o,a}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[4144],{5457:function(t,n,o){o.d(n,{w:function(){return k}});var a=o(96718),r=o(89097),l=o(37716),s=o(10298),g=o(39895),c=o(36826),d=o(12664),u=o(7450),h=o(49342),p=o(53668),f=o(39075),m=o(20904),b=o(38583),v=o(3679),_=["errorModal"],Z=["successModal"];function x(e,t){if(1&e&&(l.TgZ(0,"div",29),l.TgZ(1,"div",30),l.TgZ(2,"div",31),l.TgZ(3,"span",32),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var i=l.oxw();l.xp6(4),l.Oqu(i.language.Loading)}}function A(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",33),l.TgZ(1,"span",34),l._UZ(2,"img",35),l.qZA(),l.TgZ(3,"strong"),l._uU(4),l.qZA(),l._uU(5),l.TgZ(6,"button",36),l.NdJ("click",function(){return l.CHM(i),l.oxw().showError=!1}),l._UZ(7,"span"),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(4),l.hij("",n.language.Error,"!"),l.xp6(1),l.hij(" ",n.errorMsg,". ")}}function y(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"button",37),l.NdJ("click",function(){return l.CHM(i),l.oxw().add()}),l._uU(1),l.qZA()}if(2&e){var n=l.oxw();l.Q6J("disabled",n.loader),l.xp6(1),l.hij(" ",n.language.submit," ")}}function C(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",38),l.TgZ(1,"h4",39),l._uU(2),l.qZA(),l.TgZ(3,"button",40),l.NdJ("click",function(){return l.CHM(i),l.oxw().close()}),l._UZ(4,"span",41),l.qZA(),l.qZA(),l.TgZ(5,"div",42),l.TgZ(6,"p"),l._uU(7),l.qZA(),l.qZA(),l.TgZ(8,"div",43),l.TgZ(9,"button",44),l.NdJ("click",function(){return l.CHM(i),l.oxw().close()}),l._uU(10),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(2),l.Oqu(n.language.Info),l.xp6(5),l.Oqu(n.errorMsg),l.xp6(3),l.hij(" ",n.language.Close," ")}}function T(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",38),l.TgZ(1,"h4",39),l._uU(2),l.qZA(),l.TgZ(3,"button",40),l.NdJ("click",function(){return l.CHM(i),l.oxw().close()}),l._UZ(4,"span",41),l.qZA(),l.qZA(),l.TgZ(5,"div",42),l.TgZ(6,"p"),l._uU(7),l.qZA(),l.qZA(),l._UZ(8,"div",43)}if(2&e){var n=l.oxw();l.xp6(2),l.Oqu(n.language.Info),l.xp6(5),l.Oqu(n.successMsg)}}var I,w=o(91704),k=((I=function(){function t(i,n,o,a,r,l,s,g,c,d,u,h,p){e(this,t),this.vcRef=i,this.cpService=n,this.routerService=o,this.route=a,this.service=r,this.dialogService=l,this.sso=s,this.translateService=g,this.commonOrgService=c,this.router=d,this.organizationApiService=u,this.titleService=h,this.common=p,this.editMode=!1,this.title="Add",this.name="",this.showError=!1,this.color="#e920e9",this.bodyFontColor="#FFDDDD",this.loader=!1,this.showCreateBtn=!1,this.isShad=!0,this.REDIRECT_URL="/organization-admin",this.commonOrgService.currentPageAdder("block_page");var f=this.router.url;-1===f.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(f),this.REDIRECT_URL=this.sso.getRedirectModule(f),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID),this.SPID||this.getAdminOrgInfo()):this.SPID=this.sso.getSPID(),f.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings")}return i(t,[{key:"onEventLog",value:function(e,t){}},{key:"onChangeColor",value:function(e){}},{key:"onChangeColorCmyk",value:function(e){var t=this.cpService.stringToHsva(e);if(t){var i=this.cpService.hsvaToRgba(t);return this.cpService.rgbaToCmyk(i)}return new a.Tg(0,0,0,0)}},{key:"onChangeColorHex8",value:function(e){var t=this.cpService.stringToHsva(e,!0);return t?this.cpService.outputFormat(t,"rgba",null):""}},{key:"ngOnInit",value:function(){var e=this,t=this.sso.getScopes();-1!==this.router.url.indexOf("/shad/")?t["cloud.shad.service"]&&-1!==t["cloud.shad.service"].indexOf("write")&&(this.showCreateBtn=!0):this.sso.checkAdminScopes(r.Nc.WRITE)&&(this.showCreateBtn=!0),this.id=this.route.snapshot.paramMap.get("id"),null!=this.id&&(this.title="Update",this.editMode=!0),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t,e.titleService.setTitle("".concat(e.language["Add Block Template"]," - ").concat("systemAdministration"===e.REDIRECT_URL?e.language["System Administration"]:e.language.administration," - ").concat(e.language["Calix Cloud"]))}),this.titleService.setTitle("".concat(this.language["Add Block Template"]," - ").concat("systemAdministration"===this.REDIRECT_URL?this.language["System Administration"]:this.language.administration," - ").concat(this.language["Calix Cloud"]))}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe(),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe()}},{key:"getAdminOrgInfo",value:function(){var e=this;this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(function(t){e.orgIdResponse=t,e.sso.setAdminOrgInfo(t),t&&t.spId&&(e.SPID=t.spId)},function(e){})}},{key:"preview",value:function(){this.routerService.blockPageView()}},{key:"goToBlockPageList",value:function(){this.router.navigate(this.isShad?["/shad/block_page_template_list"]:["/".concat(this.REDIRECT_URL,"/block_page_template_list")])}},{key:"getbodyFontColor",value:function(){}},{key:"addError",value:function(e){this.showError=!0,this.errorMsg=e}},{key:"hideError",value:function(){this.showError=!1,this.errorMsg=""}},{key:"readURL",value:function(e,t){var i;if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){i=e.target.result,localStorage.setItem(t,i)},n.readAsDataURL(e.files[0])}}},{key:"add",value:function(){var e,t,i,n=this,o=document.getElementById("body_bg_image"),a=document.getElementById("logo"),r={};if(!this.loader)if(r.name=this.name,r.header_bg=this.color,r.bodyFontColor=this.bodyFontColor,r.name)if(r.header_bg)if(!a||(null===(e=a.files)||void 0===e?void 0:e[0]))if(!o||(null===(t=o.files)||void 0===t?void 0:t[0])){r.name=r.name.replace(/['"]+/g,"");var l=new FormData,s=w("input[name='logo']").get(0).files;if(s.length){var g=s[0].name.split(".").pop();if(-1==(d=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(g)){var c=d.join(", ");return void this.addError(this.language.Image_extension_will_be+c+this.language.file_format)}w.each(s,function(e,t){l.append("logoImage",t)})}if(r.bodyFontColor){if((i=w("input[name='body_bg_image']").get(0).files).length){var d;if(g=i[0].name.split(".").pop(),-1==(d=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(g))return c=d.join(", "),void this.addError(this.language.Image_extension_will_be+c+this.language.file_format);w.each(i,function(e,t){l.append("backgroundImage",t)})}l.append("name",r.name);var u=r.header_bg.indexOf("#"),h=r.bodyFontColor.indexOf("#");0===u&&(r.header_bg=r.header_bg.replace("#","")),0===h&&(r.bodyFontColor=r.bodyFontColor.replace("#","")),l.append("logoBgColor",r.header_bg),l.append("bodyFontColor",r.bodyFontColor),l.append("spid",this.SPID),this.loader=!0,this.service.add(l).subscribe(function(e){n.addResponse=e,n.loader=!1,n.modalRef=n.dialogService.open(n.successModal),n.successMsg=n.language["Block page added successfully"],setTimeout(function(){n.close(),n.goToBlockPageList()},1e3)},function(e){n.loader=!1,n.addError(e.statusText)})}else this.addError(this.language["Please enter the Body Font Color"])}else this.addError(this.language["Please upload Back Ground Image"]);else this.addError(this.language["Please upload Header Logo image"]);else this.addError(this.language["Please enter the Logo Back Ground Color"]);else this.addError(this.language["Please enter the name"])}},{key:"viewPreview",value:function(){var e,t={};if(t.name=this.name,t.logoBgColor=this.color,t.bodyFontColor=this.bodyFontColor,t.logoBgColor){var i=w("input[name='logo']").get(0).files;if(i.length){var n=i[0].name.split(".").pop();if(-1!=(o=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(n)){var o;t.bodyFontColor?(e=w("input[name='body_bg_image']").get(0).files).length?(n=e[0].name.split(".").pop(),-1!=(o=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(n)?(t.logoImage=localStorage.getItem("logo"),t.bodyBgImage=localStorage.getItem("body_bg_image"),localStorage.setItem("params",JSON.stringify(t)),this.preview()):(a=o.join(", "),this.addError(this.language.Image_extension_will_be+a+this.language.file_format))):this.addError(this.language["Please upload Back Ground Image"]):this.addError(this.language["Please enter the Body Font Color"])}else{var a=o.join(", ");this.addError(this.language.Image_extension_will_be+a+this.language.file_format)}}else this.addError(this.language["Please upload Header Logo image"])}else this.addError(this.language["Please enter the Logo Back Ground Color"])}},{key:"loadErrorModal",value:function(){this.modalRef=this.dialogService.open(this.errorModal)}},{key:"close",value:function(){this.modalRef.close()}},{key:"removeUnwantedSpace",value:function(e,t){this[e]=this.common.trimSpaceFromNonObjectInputs(t)}}]),t}()).\u0275fac=function(e){return new(e||I)(l.Y36(l.s_b),l.Y36(a.ee),l.Y36(s.c),l.Y36(g.gz),l.Y36(c.E),l.Y36(d.FF),l.Y36(r.t6),l.Y36(u.s),l.Y36(h.v),l.Y36(g.F0),l.Y36(p.F),l.Y36(f.Dx),l.Y36(m.i))},I.\u0275cmp=l.Xpm({type:I,selectors:[["app-block-page-template-create"]],viewQuery:function(e,t){var i;1&e&&(l.Gf(_,7),l.Gf(Z,7)),2&e&&(l.iGM(i=l.CRH())&&(t.errorModal=i.first),l.iGM(i=l.CRH())&&(t.successModal=i.first))},decls:69,vars:20,consts:[[1,"position-relative"],["class","loader",4,"ngIf"],[1,"main-card"],[1,"main-card-header","text-center","pt-3"],[1,"row",2,"margin-bottom","5%"],[1,"col-md-12"],[1,"modal-footer","border-reset"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"row","justify-content-md-center"],[1,"col-md-8"],["class","alert alert-warning alert-dismissible fade show","id","test","role","alert",4,"ngIf"],[1,"form-row","mb-4"],[1,"col-md-4"],[1,"label-control"],[1,"error"],[1,"col-md-4","ccl-form","pr-4"],["id","focusing","type","text","name","name","trimSpace","",3,"ngModel","ngModelChange","blur"],[3,"colorPicker","colorPickerChange"],["type","file","name","logo","id","logo",3,"title","change"],["logo",""],["name","bodyFontColor","id","bodyFontColor",3,"colorPicker","colorPickerChange"],[1,"form-row","mb-5"],["type","file","name","body_bg_image","id","body_bg_image",3,"change"],["body_bg_image",""],["type","button","class","btn btn-primary btn-sm",3,"disabled","click",4,"ngIf"],["class","col-md-8"],["errorModal",""],["successModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"],["id","test","role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"success-img"],["src","./assets/img/error-icon.svg"],["type","button",1,"close",3,"click"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",0),l.YNc(1,x,5,1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"h6"),l._uU(7),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"div",6),l.TgZ(9,"button",7),l.NdJ("click",function(){return t.viewPreview()}),l._uU(10),l.qZA(),l._uU(11,"\xa0 "),l.TgZ(12,"button",8),l.NdJ("click",function(){return t.goToBlockPageList()}),l._uU(13),l.qZA(),l.qZA(),l.qZA(),l.TgZ(14,"div",9),l.TgZ(15,"div",10),l.YNc(16,A,8,2,"div",11),l.TgZ(17,"form"),l.TgZ(18,"div",12),l.TgZ(19,"div",13),l.TgZ(20,"label",14),l.TgZ(21,"b"),l._uU(22),l.qZA(),l.TgZ(23,"span",15),l._uU(24,"*"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(25,"div",16),l.TgZ(26,"input",17),l.NdJ("ngModelChange",function(e){return t.name=e})("blur",function(){return t.removeUnwantedSpace("name",t.name)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(27,"div",12),l.TgZ(28,"div",13),l.TgZ(29,"label",14),l.TgZ(30,"b"),l._uU(31),l.qZA(),l.qZA(),l.qZA(),l.TgZ(32,"div",10),l.TgZ(33,"input",18),l.NdJ("colorPickerChange",function(e){return t.color=e}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(34,"div",12),l.TgZ(35,"div",13),l.TgZ(36,"label",14),l.TgZ(37,"b"),l._uU(38),l.qZA(),l.TgZ(39,"span",15),l._uU(40,"*"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(41,"div",10),l.TgZ(42,"input",19,20),l.NdJ("change",function(){l.CHM(i);var e=l.MAs(43);return t.readURL(e,"logo")}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(44,"div",12),l.TgZ(45,"div",13),l.TgZ(46,"label",14),l.TgZ(47,"b"),l._uU(48),l.qZA(),l.qZA(),l.qZA(),l.TgZ(49,"div",10),l.TgZ(50,"input",21),l.NdJ("colorPickerChange",function(e){return t.bodyFontColor=e}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(51,"div",22),l.TgZ(52,"div",13),l.TgZ(53,"label",14),l.TgZ(54,"b"),l._uU(55),l.qZA(),l.TgZ(56,"span",15),l._uU(57,"*"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(58,"div",10),l.TgZ(59,"input",23,24),l.NdJ("change",function(){l.CHM(i);var e=l.MAs(60);return t.readURL(e,"body_bg_image")}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(61,"div",22),l._UZ(62,"div",13),l.TgZ(63,"div",10),l.YNc(64,y,2,2,"button",25),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(65,C,11,3,"ng-template",26,27,l.W1O),l.YNc(67,T,9,2,"ng-template",26,28,l.W1O)}2&e&&(l.xp6(1),l.Q6J("ngIf",t.loader),l.xp6(6),l.AsE("",t.language.add," ",t.language.Block_Template,""),l.xp6(3),l.hij(" ",t.language.Preview,""),l.xp6(3),l.hij(" ",t.language.Block_Page_Temp," "),l.xp6(3),l.Q6J("ngIf",t.showError),l.xp6(6),l.Oqu(t.language.Name),l.xp6(4),l.Q6J("ngModel",t.name),l.xp6(5),l.Oqu(t.language.Logo_Bckgrn_Color),l.xp6(2),l.Udp("background",t.color),l.Q6J("colorPicker",t.color),l.xp6(5),l.Oqu(t.language.Logo_Image),l.xp6(4),l.s9C("title",t.language["no file chosen"]),l.xp6(6),l.Oqu(t.language.Body_Font_Color),l.xp6(2),l.Udp("background",t.bodyFontColor),l.Q6J("colorPicker",t.bodyFontColor),l.xp6(5),l.Oqu(t.language.Back_Ground_Img),l.xp6(9),l.Q6J("ngIf",t.showCreateBtn))},directives:[b.O5,v._Y,v.JL,v.F,v.Fj,v.JJ,v.On,a.Kk],styles:["button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;pointer-events:all!important}.main-card-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.5rem}"]}),I)},18202:function(t,n,o){o.d(n,{t:function(){return q}});var a=o(89097),r=o(37716),l=o(10298),s=o(36826),g=o(39895),c=o(12664),d=o(7450),u=o(49342),h=o(53668),p=o(39075),f=o(38583),m=["deleteModal"],b=["defaultModal"],v=["defaultSuccessModal"],_=["deleteSuccessModal"];function Z(e,t){if(1&e&&(r.TgZ(0,"div",13),r.TgZ(1,"div",14),r.TgZ(2,"div",15),r.TgZ(3,"span",16),r._uU(4),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw();r.xp6(4),r.Oqu(i.language.Loading)}}function x(e,t){if(1&e&&(r.TgZ(0,"div",17),r.TgZ(1,"span",18),r._UZ(2,"img",19),r.qZA(),r.TgZ(3,"strong"),r._uU(4),r.qZA(),r._uU(5),r.TgZ(6,"button",20),r._UZ(7,"span",21),r.qZA(),r.qZA()),2&e){var i=r.oxw();r.xp6(4),r.hij("",i.language.Error,"!"),r.xp6(1),r.hij(" ",i.errorMsg,". ")}}function A(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"button",24),r.NdJ("click",function(){return r.CHM(i),r.oxw(2).addBlockPage()}),r._uU(1),r.qZA()}if(2&e){var n=r.oxw(2);r.xp6(1),r.hij(" ",n.language.Add_Block_Page," ")}}function y(e,t){if(1&e&&(r.TgZ(0,"div",22),r.YNc(1,A,2,1,"button",23),r.qZA()),2&e){var i=r.oxw();r.xp6(1),r.Q6J("ngIf",i.showAddBtn)}}function C(e,t){if(1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td",30),r._uU(2),r.qZA(),r.qZA()),2&e){var i=r.oxw(2);r.xp6(2),r.Oqu(i.language["No Data Available"])}}function T(e,t){if(1&e&&(r.TgZ(0,"div",25),r.TgZ(1,"table",26),r.TgZ(2,"thead"),r.TgZ(3,"tr"),r.TgZ(4,"th",27),r._uU(5),r.qZA(),r.TgZ(6,"th"),r._uU(7),r.qZA(),r.TgZ(8,"th"),r._uU(9),r.qZA(),r.TgZ(10,"th",27),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"tbody",28),r.YNc(13,C,3,1,"tr",29),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw();r.Q6J("hidden",i.loader),r.xp6(5),r.Oqu(i.language.Name),r.xp6(2),r.Oqu(i.language.Block_Page_Template),r.xp6(2),r.Oqu(i.language.Updated_On),r.xp6(2),r.Oqu(i.language.Action),r.xp6(2),r.Q6J("ngIf",i.showNoDataAvail)}}function I(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",31),r.TgZ(1,"button",32),r.NdJ("click",function(){return r.CHM(i),r.oxw().loadRecords()})("click",function(){return r.CHM(i),r.oxw().loadRecords()}),r._uU(2),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.Q6J("hidden",n.loader),r.xp6(2),r.hij(" ",n.language.Show_More," ")}}function w(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",33),r.TgZ(1,"h4",34),r._uU(2),r.qZA(),r.TgZ(3,"button",35),r.NdJ("click",function(){return r.CHM(i),r.oxw().close()}),r._UZ(4,"span",21),r.qZA(),r.qZA(),r.TgZ(5,"div",36),r.TgZ(6,"p"),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"div",37),r.TgZ(9,"button",38),r.NdJ("click",function(){return r.CHM(i),r.oxw().close()}),r._uU(10),r.qZA(),r.TgZ(11,"button",39),r.NdJ("click",function(){return r.CHM(i),r.oxw().deleteTemplate()}),r._uU(12),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(2),r.AsE(" ",n.language.Delete_Template," - ",n.templateName," "),r.xp6(5),r.AsE("",n.language.Delete_Temp_Msg," - ",n.templateName,"?"),r.xp6(3),r.hij(" ",n.language.No," "),r.xp6(1),r.Q6J("disabled",n.disableDeleteBtn),r.xp6(1),r.hij(" ",n.language.Yes," ")}}function k(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",33),r.TgZ(1,"h4",40),r._uU(2),r.qZA(),r.TgZ(3,"button",35),r.NdJ("click",function(){return r.CHM(i),r.oxw().close()}),r._UZ(4,"span",21),r.qZA(),r.qZA(),r.TgZ(5,"div",36),r.TgZ(6,"p"),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"div",37),r.TgZ(9,"button",38),r.NdJ("click",function(){return r.CHM(i),r.oxw().close()}),r._uU(10),r.qZA(),r.TgZ(11,"button",39),r.NdJ("click",function(){return r.CHM(i),r.oxw().setDefaultTemplate()}),r._uU(12),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(2),r.AsE(" ",n.language.Set_Default_Template," - ",n.templateName," "),r.xp6(5),r.AsE("",n.language.Set_Temp_Msg," - ",n.templateName," ?"),r.xp6(3),r.hij(" ",n.language.No," "),r.xp6(1),r.Q6J("disabled",n.disableDefaultBtn),r.xp6(1),r.hij(" ",n.language.Yes," ")}}function P(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",33),r.TgZ(1,"h4",34),r._uU(2),r.qZA(),r.TgZ(3,"button",35),r.NdJ("click",function(){return r.CHM(i),r.oxw().close()}),r._UZ(4,"span",21),r.qZA(),r.qZA(),r.TgZ(5,"div",36),r.TgZ(6,"p"),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"div",37),r.TgZ(9,"button",38),r.NdJ("click",function(){return r.CHM(i),r.oxw().close()}),r._uU(10),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(2),r.AsE(" ",n.language.Set_Default_Template," - ",n.templateName," "),r.xp6(5),r.AsE("",n.templateName," ",n.language.Update_Temp_Msg,""),r.xp6(3),r.hij(" ",n.language.Close," ")}}function O(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",33),r.TgZ(1,"h4",34),r._uU(2),r.qZA(),r.TgZ(3,"button",35),r.NdJ("click",function(){return r.CHM(i),r.oxw().close()}),r._UZ(4,"span",21),r.qZA(),r.qZA(),r.TgZ(5,"div",36),r.TgZ(6,"p"),r._uU(7),r.qZA(),r.qZA(),r._UZ(8,"div",37)}if(2&e){var n=r.oxw();r.xp6(2),r.AsE(" ",n.language.Delete," - ",n.templateName," "),r.xp6(5),r.Oqu(n.language.Delete_Suc_Msg)}}var M,S=o(91704),q=((M=function(){function t(i,n,o,a,r,l,s,g,c,d){e(this,t),this.routerService=i,this.service=n,this.router=o,this.dialogService=a,this.sso=r,this.translateService=l,this.zone=s,this.commonOrgService=g,this.organizationApiService=c,this.titleService=d,this.blockList=[],this.showLoadMoreBtn=!0,this.templateData={},this.loader=!0,this.showDeleteBtn=!1,this.showUpdateBtn=!1,this.showAddBtn=!1,this.disableDeleteBtn=!1,this.isShad=!0,this.REDIRECT_URL="/organization-admin",this.scroll=function(e){S(".ng-star-inserted").scrollTop()},this.disableDefaultBtn=!1,this.error=!1,this.errorMsg="",this.service.setIntialData(),this.commonOrgService.currentPageAdder("block_page");var u=this.router.url;-1===u.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(u),this.REDIRECT_URL=this.sso.getRedirectModule(u),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID)):this.SPID=this.sso.getSPID(),u.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings")}return i(t,[{key:"ngOnInit",value:function(){var e=this,t=this.sso.getScopes();-1!==this.router.url.indexOf("/shad/")?t["cloud.shad.service"]&&-1!==t["cloud.shad.service"].indexOf("write")&&(this.showUpdateBtn=!0,this.showAddBtn=!0,this.showDeleteBtn=!0):this.sso.checkAdminScopes(a.Nc.WRITE)&&(this.showUpdateBtn=!0,this.showAddBtn=!0,this.showDeleteBtn=!0),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t,e.titleService.setTitle("".concat(e.language.Block_Page_Temp," - ").concat("systemAdministration"===e.REDIRECT_URL?e.language["System Administration"]:e.language.administration," - ").concat(e.language["Calix Cloud"]))}),this.titleService.setTitle("".concat(this.language.Block_Page_Temp," - ").concat("systemAdministration"===this.REDIRECT_URL?this.language["System Administration"]:this.language.administration," - ").concat(this.language["Calix Cloud"])),this.loadRecords(),this.appendData(),this.windowScrollEvent()}},{key:"onScroll",value:function(e){e.target.offsetHeight+e.target.scrollTop+10>=e.target.scrollHeight&&this.loadRecords()}},{key:"addBlockPage",value:function(){this.router.navigate(this.isShad?["/shad/block_page_template"]:["/".concat(this.REDIRECT_URL,"/block_page_template")])}},{key:"viewBlockPage",value:function(){this.routerService.blockPageView()}},{key:"updateBlockPage",value:function(e){this.routerService.blockPageUpdate(e)}},{key:"loadRecords",value:function(){var e=this;!this.showLoadMoreBtn||(this.SPID||this.isShad?this.service.getList(this.SPID):this.getOrgInfoSubs=this.organizationApiService.getOrgInfo(this.ADMIN_ORG_ID).subscribe(function(t){e.orgIdResponse=t,e.sso.setAdminOrgInfo(t),t&&t.spId&&(e.SPID=t.spId,e.service.getList(e.SPID))},function(e){}))}},{key:"gotoView",value:function(e){var t=this.templateData[e];if(t){var i={};-1==t.logoBgColor.indexOf("#")&&(t.logoBgColor="#"+t.logoBgColor),-1==t.bodyFontColor.indexOf("#")&&(t.bodyFontColor="#"+t.bodyFontColor),i.header_bg=t.logoBgColor,i.bodyFontColor=t.bodyFontColor,i.logo=t.logoImage,i.body_bg_image=t.bodyBgImage,localStorage.setItem("original_params",JSON.stringify(i)),this.router.navigate([]).then(function(t){window.open("/block_page_template_view?id="+e,"_blank")})}else alert(this.language["No template found for template id"]+e)}},{key:"loadDeleteModal",value:function(e,t){this.deleteTemplateId=e.toString(),this.templateName=t,this.modalRef=this.dialogService.open(this.deleteModal,{backdrop:"static",keyboard:!1})}},{key:"loadDefaultModal",value:function(e,t){this.defaultTemplateId=e,this.templateName=t,this.modalRef=this.dialogService.open(this.defaultModal)}},{key:"loadDefaultSuccessModal",value:function(){this.modalRef=this.dialogService.open(this.defaultSuccessModal)}},{key:"loadDeleteSuccessModal",value:function(){this.modalRef=this.dialogService.open(this.deleteSuccessModal)}},{key:"setDefaultTemplate",value:function(){var e=this;this.disableDefaultBtn=!0,this.service.setDefaultTemplate(this.defaultTemplateId,this.SPID).subscribe(function(t){e.disableDefaultBtn=!1,e.close(),e.loadDefaultSuccessModal(),setTimeout(function(){window.location.reload()},1e3)},function(t){e.disableDefaultBtn=!1})}},{key:"deleteTemplate",value:function(){var e=this;this.disableDeleteBtn=!0,this.service.deleteTemplate(this.deleteTemplateId,this.SPID).subscribe(function(t){var i;e.deleteBlockpageResponse=t,e.disableDeleteBtn=!1,e.close(),e.loadDeleteSuccessModal(),null===(i=null==document?void 0:document.getElementById(e.deleteTemplateId+"_row"))||void 0===i||i.remove()},function(t){e.disableDeleteBtn=!1})}},{key:"close",value:function(){var e;null===(e=null==this?void 0:this.modalRef)||void 0===e||e.close()}},{key:"gotoUpdate",value:function(e){this.router.navigate(this.isShad?["/shad/block_page_template_update/".concat(e)]:["/".concat(this.REDIRECT_URL,"/block_page_template_update/").concat(e)])}},{key:"showError",value:function(e){this.error=!0,this.errorMsg=e}},{key:"hideError",value:function(){this.error=!1,this.errorMsg=""}},{key:"appendData",value:function(){var e=this;this.serviceSubscription=this.service.result$.subscribe(function(t){if(t&&t.error)return e.loader=!1,e.showLoadMoreBtn=!1,void e.showError(t.errorMsg);if(t&&t.results){e.listBlockedPageData=t.results;var i,n,o,a,r,l,s,g=t.results,c=g.length;for(i=0;i<c;i++)!g[i]||(e.templateData[g[i].id]=g[i],a=new Date(g[i].created).toLocaleString(),(n=g[i].name)&&(n=n.replace(/['"]+/g,"")),null==n&&(n=""),o=g[i].updated?new Date(g[i].updated).toLocaleString():"-",g[i].default,(r=document.createElement("tr")).setAttribute("id",g[i].id+"_row"),(l=document.createElement("td")).innerText="".concat(n),r.appendChild(l),(l=document.createElement("td")).innerText="".concat(a),r.appendChild(l),(l=document.createElement("td")).innerText="".concat(o),r.appendChild(l),l=document.createElement("td"),(s=document.createElement("span")).setAttribute("id",g[i].id),s.addEventListener("click",function(t){e.gotoView(t.target.id)},!1),s.style.cursor="pointer",s.classList.add("view-btn"),s.classList.add("btn"),s.classList.add("btn-sm"),s.classList.add("btn-success"),s.classList.add("margin-left-10"),s.innerText=e.language.View,l.appendChild(s),r.appendChild(l),(s=document.createElement("span")).setAttribute("id",g[i].id+"_update"),s.addEventListener("click",function(t){var i=t.target.id.split("_");e.gotoUpdate(i[0])},!1),s.style.cursor="pointer",s.classList.add("update-btn"),s.classList.add("btn"),s.classList.add("btn-sm"),s.classList.add("btn-warning"),s.style.marginLeft="3px",s.innerText=e.language.Update,e.showUpdateBtn&&(l.appendChild(s),r.appendChild(l)),(s=document.createElement("span")).setAttribute("id",g[i].id+"_"+g[i].name),s.style.cursor="pointer",s.classList.add("delete-btn"),s.classList.add("btn"),s.classList.add("btn-sm"),s.classList.add("btn-danger"),s.classList.add("margin-left-10"),s.style.marginLeft="3px",s.innerText=e.language.delete,s.addEventListener("click",function(t){var i=t.target.id.split("_");e.loadDeleteModal(i[0],i[1])},!1),e.showDeleteBtn&&(l.appendChild(s),r.appendChild(l)),g[i].default?((s=document.createElement("span")).style.cursor="pointer",s.classList.add("default-btn"),s.classList.add("btn"),s.classList.add("btn-sm"),s.classList.add("btn-light"),s.style.marginLeft="3px",s.innerText=e.language["Default Template"],l.appendChild(s),r.appendChild(l)):((s=document.createElement("span")).style.cursor="pointer",s.setAttribute("id",g[i].id+"_"+g[i].name+"_default"),s.classList.add("set-default-btn"),s.classList.add("btn"),s.classList.add("btn-sm"),s.classList.add("btn-primary"),s.style.marginLeft="3px",s.innerText=e.language["Set Default"],e.showAddBtn&&(s.addEventListener("click",function(t){var i=t.target.id.split("_");e.loadDefaultModal(i[0],i[1])},!1),l.appendChild(s),r.appendChild(l))),document.getElementById("block-page-list").appendChild(r));localStorage.setItem("templateData",JSON.stringify(e.templateData))}t&&t.results&&!t.results.length&&t&&0==t.start&&(e.showNoDataAvail=!0),e.showLoadMoreBtn=t.showLoadMoreBtn,e.loader=!1},function(t){e.loader=!1})}},{key:"ngOnDestroy",value:function(){this.serviceSubscription&&this.serviceSubscription.unsubscribe(),this.service.undoService(),this.languageSubject.unsubscribe(),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe(),S(window).off("scroll",this.pageScroll)}},{key:"windowScrollEvent",value:function(){var e=this;this.pageScroll=function(){S(window).scrollTop()+S(window).height()>S(document).height()-320&&e.loadRecords()},S(window).scroll(this.pageScroll)}}]),t}()).\u0275fac=function(e){return new(e||M)(r.Y36(l.c),r.Y36(s.E),r.Y36(g.F0),r.Y36(c.FF),r.Y36(a.t6),r.Y36(d.s),r.Y36(r.R0b),r.Y36(u.v),r.Y36(h.F),r.Y36(p.Dx))},M.\u0275cmp=r.Xpm({type:M,selectors:[["app-block-page-template-list"]],viewQuery:function(e,t){var i;1&e&&(r.Gf(m,7),r.Gf(b,7),r.Gf(v,7),r.Gf(_,7)),2&e&&(r.iGM(i=r.CRH())&&(t.deleteModal=i.first),r.iGM(i=r.CRH())&&(t.defaultModal=i.first),r.iGM(i=r.CRH())&&(t.defaultSuccessModal=i.first),r.iGM(i=r.CRH())&&(t.deleteSuccessModal=i.first))},hostBindings:function(e,t){1&e&&r.NdJ("scroll",function(e){return t.onScroll(e)})},decls:18,vars:6,consts:[[1,"position-relative"],["class","loader",4,"ngIf"],["id","main-div",1,"main-card"],[1,"main-card-header","text-center","pt-3"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],["class","pull-right mb1",4,"ngIf"],[3,"hidden",4,"ngIf"],["class","form-group text-center","id","load_more",3,"hidden",4,"ngIf"],["class","col-md-8"],["deleteModal",""],["defaultModal",""],["defaultSuccessModal",""],["deleteSuccessModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"success-img"],["src","./assets/img/error-icon.svg"],["type","button","data-dismiss","alert","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"pull-right","mb1"],["class","btn-default primary ","id","add-block-page-btn",3,"click",4,"ngIf"],["id","add-block-page-btn",1,"btn-default","primary",3,"click"],[3,"hidden"],["id","block-page-table",1,"table","table-bordered","text-center"],[2,"width","350px !important"],["id","block-page-list",2,"word-break","break-all"],[4,"ngIf"],["colspan","4"],["id","load_more",1,"form-group","text-center",3,"hidden"],[1,"btn","btn-lg","font-medium-1","btn-outline-success","block-element",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"btn","btn-danger",2,"margin-left","3px",3,"disabled","click"],["id","modal-basic-title",1,"modal-title",2,"margin-top","20px !important"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.YNc(1,Z,5,1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"h4"),r._uU(5),r.qZA(),r.qZA(),r.YNc(6,x,8,2,"div",4),r.YNc(7,y,2,1,"div",5),r.YNc(8,T,14,6,"div",6),r.YNc(9,I,3,2,"div",7),r.qZA(),r.qZA(),r.YNc(10,w,13,7,"ng-template",8,9,r.W1O),r.YNc(12,k,13,7,"ng-template",8,10,r.W1O),r.YNc(14,P,11,5,"ng-template",8,11,r.W1O),r.YNc(16,O,9,3,"ng-template",8,12,r.W1O)),2&e&&(r.xp6(1),r.Q6J("ngIf",t.loader),r.xp6(4),r.Oqu(t.language.Block_Page_Template),r.xp6(1),r.Q6J("ngIf",t.error),r.xp6(1),r.Q6J("ngIf",!t.error),r.xp6(1),r.Q6J("ngIf",!t.error),r.xp6(1),r.Q6J("ngIf",t.showLoadMoreBtn))},directives:[f.O5],styles:["button[_ngcontent-%COMP%]{cursor:pointer!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;pointer-events:all!important}"]}),M)},96951:function(t,n,o){o.d(n,{U:function(){return k}});var a=o(96718),r=o(37716),l=o(10298),s=o(39895),g=o(36826),c=o(12664),d=o(7450),u=o(49342),h=o(89097),p=o(53668),f=o(39075),m=o(38583),b=o(3679),v=["successModal"];function _(e,t){if(1&e&&(r.TgZ(0,"div",29),r.TgZ(1,"div",30),r.TgZ(2,"div",31),r.TgZ(3,"span",32),r._uU(4),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw();r.xp6(4),r.Oqu(i.language.Loading)}}function Z(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",33),r.TgZ(1,"span",34),r._UZ(2,"img",35),r.qZA(),r.TgZ(3,"strong"),r._uU(4),r.qZA(),r._uU(5),r.TgZ(6,"button",36),r.NdJ("click",function(){return r.CHM(i),r.oxw().showError=!1}),r._UZ(7,"span"),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(4),r.hij("",n.language.Error,"!"),r.xp6(1),r.hij(" ",n.errorMsg,". ")}}function x(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",37),r._UZ(1,"img",38),r._UZ(2,"br"),r.TgZ(3,"button",39),r.NdJ("click",function(){return r.CHM(i),r.oxw().hideLogoImage()}),r._uU(4),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(1),r.Q6J("src",n.logoImageUrl+"?timestamp="+n.timestamp,r.LSH),r.xp6(3),r.hij(" ",n.language.Change," ")}}function A(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"input",40,41),r.NdJ("change",function(){r.CHM(i);var e=r.MAs(1);return r.oxw().readURL(e,"logo")}),r.qZA()}}function y(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",42),r._UZ(1,"img",43),r._UZ(2,"br"),r.TgZ(3,"button",44),r.NdJ("click",function(){return r.CHM(i),r.oxw().hideBGImage()}),r._uU(4),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(1),r.Q6J("src",n.bGImageUrl+"?timestamp="+n.timestamp,r.LSH),r.xp6(3),r.hij(" ",n.language.Change," ")}}function C(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"input",45,46),r.NdJ("change",function(){r.CHM(i);var e=r.MAs(1);return r.oxw().readURL(e,"body_bg_image")}),r.qZA()}}function T(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",47),r.TgZ(1,"h4",48),r._uU(2),r.qZA(),r.TgZ(3,"button",49),r.NdJ("click",function(){return r.CHM(i),r.oxw().close()}),r._UZ(4,"span",50),r.qZA(),r.qZA(),r.TgZ(5,"div",51),r.TgZ(6,"p"),r._uU(7),r.qZA(),r.qZA(),r._UZ(8,"div",52)}if(2&e){var n=r.oxw();r.xp6(2),r.Oqu(n.language.Info),r.xp6(5),r.Oqu(n.successMsg)}}var I,w=o(91704),k=((I=function(){function t(i,n,o,a,r,l,s,g,c,d,u,h){e(this,t),this.vcRef=i,this.cpService=n,this.routerService=o,this.route=a,this.service=r,this.dialogService=l,this.router=s,this.translateService=g,this.commonOrgService=c,this.sso=d,this.organizationApiService=u,this.titleService=h,this.title="Update",this.name="",this.showError=!1,this.color="#e920e9",this.bodyFontColor="#FFDDDD",this.loader=!1,this.showLogoImage=!1,this.showBGImage=!1,this.logoImageUrl="",this.bGImageUrl="",this.isShad=!0,this.REDIRECT_URL="/organization-admin",this.commonOrgService.currentPageAdder("block_page");var p=this.router.url;-1===p.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(p),this.REDIRECT_URL=this.sso.getRedirectModule(p),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID)):this.SPID=this.sso.getSPID(),p.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings"),this.timestamp=(new Date).getTime()}return i(t,[{key:"hideBGImage",value:function(){this.showBGImage=!1}},{key:"hideLogoImage",value:function(){this.showLogoImage=!1}},{key:"onEventLog",value:function(e,t){}},{key:"onChangeColor",value:function(e){}},{key:"onChangeColorCmyk",value:function(e){var t=this.cpService.stringToHsva(e);if(t){var i=this.cpService.hsvaToRgba(t);return this.cpService.rgbaToCmyk(i)}return new a.Tg(0,0,0,0)}},{key:"onChangeColorHex8",value:function(e){var t=this.cpService.stringToHsva(e,!0);return t?this.cpService.outputFormat(t,"rgba",null):""}},{key:"ngOnInit",value:function(){var e=this;this.id=this.route.snapshot.paramMap.get("id"),this.SPID||this.isShad?this.getListById(this.id):this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(function(t){e.orgIdResponse=t,e.sso.setAdminOrgInfo(t),t&&t.spId&&(e.SPID=t.spId,e.getListById(e.id))},function(e){}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t,e.titleService.setTitle("".concat(e.language["Update Block Template"]," - ").concat("systemAdministration"===e.REDIRECT_URL?e.language["System Administration"]:e.language.administration," - ").concat(e.language["Calix Cloud"]))}),this.titleService.setTitle("".concat(this.language["Update Block Template"]," - ").concat("systemAdministration"===this.REDIRECT_URL?this.language["System Administration"]:this.language.administration," - ").concat(this.language["Calix Cloud"]))}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe(),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe()}},{key:"preview",value:function(){this.routerService.blockPageView()}},{key:"goToBlockPageList",value:function(){this.router.navigate(this.isShad?["/shad/block_page_template_list"]:["/".concat(this.REDIRECT_URL,"/block_page_template_list")])}},{key:"getbodyFontColor",value:function(){}},{key:"addError",value:function(e){this.errorMsg=e,this.showError=!0}},{key:"readURL",value:function(e,t){var i;if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){i=e.target.result,localStorage.setItem(t,i)},n.readAsDataURL(e.files[0])}}},{key:"update",value:function(){var e,t,i,n=this,o=document.getElementById("body_bg_image"),a=document.getElementById("logo"),r={};if(!this.loader)if(r.name=this.name,r.header_bg=this.color,r.bodyFontColor=this.bodyFontColor,r.name)if(r.header_bg)if(!a||(null===(e=a.files)||void 0===e?void 0:e[0]))if(!o||(null===(t=o.files)||void 0===t?void 0:t[0])){r.name=r.name.replace(/['"]+/g,"");var l=new FormData,s=w("input[name='logo']").length?w("input[name='logo']").get(0).files:"";if(s.length){var g=s[0].name.split(".").pop();if(-1==(d=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(g)){var c=d.join(", ");return void this.addError(this.language.Image_extension_will_be+c+this.language.file_format)}w.each(s,function(e,t){l.append("logoImage",t)})}if(r.bodyFontColor){if((i=w("input[name='body_bg_image']").length?w("input[name='body_bg_image']").get(0).files:"").length){var d;if(g=i[0].name.split(".").pop(),-1==(d=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(g))return c=d.join(", "),void this.addError(this.language.Image_extension_will_be+c+this.language.file_format);w.each(i,function(e,t){l.append("backgroundImage",t)})}l.append("spid",this.SPID),l.append("id",this.updateTemplateId),l.append("name",r.name);var u=r.header_bg.indexOf("#"),h=r.bodyFontColor.indexOf("#");0===u&&(r.header_bg=r.header_bg.replace("#","")),0===h&&(r.bodyFontColor=r.bodyFontColor.replace("#","")),l.append("logoBgColor",r.header_bg),l.append("bodyFontColor",r.bodyFontColor),this.loader=!0,this.service.update(l).subscribe(function(e){n.updateResponse=e,n.loader=!1,n.modalRef=n.dialogService.open(n.successModal),n.successMsg=n.language["Block page updated successfully"],setTimeout(function(){n.close(),n.goToBlockPageList()},1e3)},function(e){n.loader=!1})}else this.addError(this.language["Please enter the Body Font Color"])}else this.addError(this.language["Please upload Back Ground Image"]);else this.addError(this.language["Please upload Header Logo image"]);else this.addError(this.language["Please enter the Logo Back Ground Color"]);else this.addError(this.language["Please enter the name"])}},{key:"viewPreview",value:function(){var e,t,i,n={};if(n.name=this.name,n.logoBgColor=this.color,n.bodyFontColor=this.bodyFontColor,n.logoBgColor){var o=w("input[name='logo']").length?w("input[name='logo']").get(0).files:"";if(o.length){var a=o[0].name.split(".").pop();if(-1==(l=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(a)){var r=l.join(", ");return void this.addError(this.language.Image_extension_will_be+r+this.language.file_format)}}if(n.bodyFontColor){var l;if((i=w("input[name='body_bg_image']").length?w("input[name='body_bg_image']").get(0).files:"").length&&(a=i[0].name.split(".").pop(),-1==(l=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(a)))return r=l.join(", "),void this.addError(this.language.Image_extension_will_be+r+this.language.file_format);n.logoImage=o.length?localStorage.getItem("logo"):null===(e=this.updateData)||void 0===e?void 0:e.logoImage,n.bodyBgImage=i.length?localStorage.getItem("body_bg_image"):null===(t=this.updateData)||void 0===t?void 0:t.bodyBgImage,localStorage.setItem("params",JSON.stringify(n)),this.preview()}else this.addError(this.language["Please enter the Body Font Color"])}else this.addError(this.language["Please enter the Logo Back Ground Color"])}},{key:"close",value:function(){this.modalRef.close()}},{key:"getListById",value:function(e){var t=this;this.service.getListByTemplateId(e,this.SPID).subscribe(function(i){if(i&&i.results){var n=i.results[0];n||t.addError(t.language["No template found for template id"]+e),t.updateTemplateId=e,t.updateData=n,t.name=n.name,t.color=-1==n.logoBgColor.indexOf("#")?"#"+n.logoBgColor:n.logoBgColor,t.bodyFontColor=-1==n.bodyFontColor.indexOf("#")?"#"+n.bodyFontColor:n.bodyFontColor,n.logoImage?(t.logoImageUrl=n.logoImage,t.showLogoImage=!0):t.showLogoImage=!1,n.bodyBgImage?(t.bGImageUrl=n.bodyBgImage,t.showBGImage=!0):t.showBGImage=!1}else t.addError(t.language["No template found for template id"]+e)})}},{key:"view",value:function(){var e=this;if(this.updateData){var t={};-1==this.updateData.logoBgColor.indexOf("#")&&(this.updateData.logoBgColor="#"+this.updateData.logoBgColor),-1==this.updateData.bodyFontColor.indexOf("#")&&(this.updateData.bodyFontColor="#"+this.updateData.bodyFontColor),t.header_bg=this.updateData.logoBgColor,t.bodyFontColor=this.updateData.bodyFontColor,t.logo=this.updateData.logoImage,t.body_bg_image=this.updateData.bodyBgImage,localStorage.setItem("original_params",JSON.stringify(t)),this.router.navigate([]).then(function(t){window.open("/block_page_template_view?id="+e.updateTemplateId,"_blank")})}else this.addError(this.language["No template found for template id"]+this.updateTemplateId)}}]),t}()).\u0275fac=function(e){return new(e||I)(r.Y36(r.s_b),r.Y36(a.ee),r.Y36(l.c),r.Y36(s.gz),r.Y36(g.E),r.Y36(c.FF),r.Y36(s.F0),r.Y36(d.s),r.Y36(u.v),r.Y36(h.t6),r.Y36(p.F),r.Y36(f.Dx))},I.\u0275cmp=r.Xpm({type:I,selectors:[["app-block-page-template-update"]],viewQuery:function(e,t){var i;1&e&&r.Gf(v,7),2&e&&r.iGM(i=r.CRH())&&(t.successModal=i.first)},decls:71,vars:25,consts:[[1,"position-relative"],["class","loader",4,"ngIf"],[1,"main-card"],[1,"main-card-header","text-center","pt-3"],[1,"row","mb-4"],[1,"col-md-12"],[1,"modal-footer","border-reset"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"row","justify-content-md-center"],[1,"col-md-8"],["class","alert alert-warning alert-dismissible fade show","id","test","role","alert",4,"ngIf"],[1,"form-row","mb-4"],[1,"col-md-4"],[1,"label-control"],[1,"error"],[1,"col-md-4","ccl-form","pr-4"],["id","focusing","type","text","name","name",3,"ngModel","ngModelChange"],[3,"colorPicker","colorPickerChange"],["id","logo-image-view-div","class","d-inline-block",4,"ngIf"],["type","file","name","logo","id","logo",3,"change",4,"ngIf"],["name","bodyFontColor","id","bodyFontColor",3,"colorPicker","colorPickerChange"],[1,"form-row","mb-5"],["id","background-image-view-div","class","d-inline-block",4,"ngIf"],["type","file","name","body_bg_image","id","body_bg_image",3,"change",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","col-md-8"],["successModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"],["id","test","role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"success-img"],["src","./assets/img/error-icon.svg"],["type","button",1,"close",3,"click"],["id","logo-image-view-div",1,"d-inline-block"],["id","logo-image-view","height","100px","width","200px",3,"src"],["type","button","id","logo-image-change-btn",1,"btn","btn-sm","btn-light","mt-1",3,"click"],["type","file","name","logo","id","logo",3,"change"],["logo",""],["id","background-image-view-div",1,"d-inline-block"],["id","background-image-view","height","100px","width","200px",3,"src"],["type","button","id","background-image-change-btn",1,"btn","btn-sm","btn-light","mt-1",3,"click"],["type","file","name","body_bg_image","id","body_bg_image",3,"change"],["body_bg_image",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.YNc(1,_,5,1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"h6"),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",6),r.TgZ(9,"button",7),r.NdJ("click",function(){return t.view()}),r._uU(10),r.qZA(),r._uU(11,"\xa0 "),r.TgZ(12,"button",8),r.NdJ("click",function(){return t.viewPreview()}),r._uU(13),r.qZA(),r._uU(14,"\xa0 "),r.TgZ(15,"button",9),r.NdJ("click",function(){return t.goToBlockPageList()}),r._uU(16),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"div",10),r.TgZ(18,"div",11),r.YNc(19,Z,8,2,"div",12),r.TgZ(20,"form"),r.TgZ(21,"div",13),r.TgZ(22,"div",14),r.TgZ(23,"label",15),r.TgZ(24,"b"),r._uU(25),r.qZA(),r.TgZ(26,"span",16),r._uU(27,"*"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(28,"div",17),r.TgZ(29,"input",18),r.NdJ("ngModelChange",function(e){return t.name=e}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(30,"div",13),r.TgZ(31,"div",14),r.TgZ(32,"label",15),r.TgZ(33,"b"),r._uU(34),r.qZA(),r.qZA(),r.qZA(),r.TgZ(35,"div",11),r.TgZ(36,"input",19),r.NdJ("colorPickerChange",function(e){return t.color=e}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(37,"div",13),r.TgZ(38,"div",14),r.TgZ(39,"label",15),r.TgZ(40,"b"),r._uU(41),r.qZA(),r.TgZ(42,"span",16),r._uU(43,"*"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(44,"div",11),r.YNc(45,x,5,2,"div",20),r.YNc(46,A,2,0,"input",21),r.qZA(),r.qZA(),r.TgZ(47,"div",13),r.TgZ(48,"div",14),r.TgZ(49,"label",15),r.TgZ(50,"b"),r._uU(51),r.qZA(),r.qZA(),r.qZA(),r.TgZ(52,"div",11),r.TgZ(53,"input",22),r.NdJ("colorPickerChange",function(e){return t.bodyFontColor=e}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(54,"div",23),r.TgZ(55,"div",14),r.TgZ(56,"label",15),r.TgZ(57,"b"),r._uU(58),r.qZA(),r.TgZ(59,"span",16),r._uU(60,"*"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(61,"div",11),r.YNc(62,y,5,2,"div",24),r.YNc(63,C,2,0,"input",25),r.qZA(),r.qZA(),r.TgZ(64,"div",23),r._UZ(65,"div",14),r.TgZ(66,"div",11),r.TgZ(67,"button",26),r.NdJ("click",function(){return t.update()}),r._uU(68),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(69,T,9,2,"ng-template",27,28,r.W1O)),2&e&&(r.xp6(1),r.Q6J("ngIf",t.loader),r.xp6(6),r.AsE("",t.language.Update," ",t.language.Block_Template,""),r.xp6(3),r.hij(" ",t.language.View,""),r.xp6(3),r.hij(" ",t.language.Preview,""),r.xp6(3),r.hij(" ",t.language.Block_Page_Template," "),r.xp6(3),r.Q6J("ngIf",t.showError),r.xp6(6),r.Oqu(t.language.Name),r.xp6(4),r.Q6J("ngModel",t.name),r.xp6(5),r.Oqu(t.language.Logo_Bckgrn_Color),r.xp6(2),r.Udp("background",t.color),r.Q6J("colorPicker",t.color),r.xp6(5),r.Oqu(t.language.Logo_Image),r.xp6(4),r.Q6J("ngIf",t.showLogoImage&&t.logoImageUrl),r.xp6(1),r.Q6J("ngIf",!t.showLogoImage),r.xp6(5),r.Oqu(t.language.Body_Font_Color),r.xp6(2),r.Udp("background",t.bodyFontColor),r.Q6J("colorPicker",t.bodyFontColor),r.xp6(5),r.Oqu(t.language.Back_Ground_Img),r.xp6(4),r.Q6J("ngIf",t.showBGImage&&t.bGImageUrl),r.xp6(1),r.Q6J("ngIf",!t.showBGImage),r.xp6(4),r.Q6J("disabled",t.loader),r.xp6(1),r.hij(" ",t.language.submit," "))},directives:[m.O5,b._Y,b.JL,b.F,b.Fj,b.JJ,b.On,a.Kk],styles:["button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;pointer-events:all!important}"]}),I)},36826:function(t,n,o){o.d(n,{E:function(){return c}});var a,r=o(92340),l=o(79765),s=o(37716),g=o(91841),c=((a=function(){function t(i){e(this,t),this.http=i,this.data={start:0,limit:10},this.loading=!1,this.templateData={},this.result$=new l.xQ}return i(t,[{key:"getList",value:function(e){var t,i=this;if(!this.loading)return this.loading=!0,t=this.data,this.doService=this.http.get(r.N.SP_API_BASE_URL+"/template/blockpage/list?start="+t.start+"&limit="+t.limit+"&spid="+e).subscribe(function(e){i.data.start+=e.results.length,e.showLoadMoreBtn=!(i.data.start>=e.total);for(var t=0;t<e.results.length;t++)i.templateData[e.results[t].id]=e.results[t];localStorage.setItem("templateData",JSON.stringify(i.templateData)),i.loading=!1,i.result$.next(e)},function(e){i.loading=!1,i.result$.next({error:!0,errorMsg:e.statusText})},function(){i.loading=!1})}},{key:"setDefaultTemplate",value:function(e,t){return this.http.post(r.N.SP_API_BASE_URL+"/template/blockpage/set/default",{id:e,spid:t})}},{key:"deleteTemplate",value:function(e,t){return this.http.request("DELETE",r.N.SP_API_BASE_URL+"/template/blockpage/delete",{body:{id:e,spid:t}})}},{key:"add",value:function(e){return this.http.put(r.N.SP_API_BASE_URL+"/template/blockpage/add",e)}},{key:"getListByTemplateId",value:function(e,t){return this.http.get(r.N.SP_API_BASE_URL+"/template/blockpage/list?id="+e+"&spid="+t)}},{key:"update",value:function(e){return this.http.post(r.N.SP_API_BASE_URL+"/template/blockpage/update",e)}},{key:"undoService",value:function(){this.data={start:0,limit:10},this.doService&&this.doService.unsubscribe()}},{key:"setIntialData",value:function(){this.data={start:0,limit:10}}}]),t}()).\u0275fac=function(e){return new(e||a)(s.LFG(g.eN))},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a)},67798:function(t,n,o){o.d(n,{E:function(){return u}});var a,r=o(40205),l=o(5304),s=o(91841),g=o(92340),c=o(37716),d=o(89097),u=((a=function(){function t(i,n){e(this,t),this.ssoservice=i,this.http=n,this.API="".concat(g.N.AUTH_API_HOST)}return i(t,[{key:"setSpId",value:function(){return this.ssoservice.getSPID()}},{key:"getInfo",value:function(e){var t=new s.WM;return t=t.append("X-Calix-ClientID",g.N.X_CALIX_CLIENTID),this.http.get("".concat(this.API,"/usertype?spId=").concat(e),{headers:t})}},{key:"whiteLabellist",value:function(e){var t=localStorage.getItem("calix.csc_token");return new s.WM({Authorization:"Bearer "+t}),this.http.get(g.N.SP_API_BASE_URL+"/whitelabel/info?spId=".concat(e),{observe:"response"})}},{key:"whiteLabelinfo",value:function(e){return this.http.get(g.N.SP_API_BASE_URL+"/whitelabel/info?spid=".concat(e))}},{key:"spinfo",value:function(e){var t=localStorage.getItem("calix.csc_token");return new s.WM({Authorization:"Bearer "+t}),this.http.get(g.N.SP_API_BASE_URL+"/whitelabel/info?spid=".concat(e),{observe:"response"})}},{key:"add",value:function(e){var t=localStorage.getItem("calix.csc_token");return new s.WM({Authorization:"Bearer "+t}),console.log(e),this.http.put(g.N.SP_API_BASE_URL+"/whitelabel/add",e)}},{key:"update",value:function(e){var t=localStorage.getItem("calix.csc_token");return new s.WM({Authorization:"Bearer "+t}),this.http.post(g.N.SP_API_BASE_URL+"/whitelabel/update",e)}},{key:"UpdateSupportInfo",value:function(e){return this.http.put("".concat(g.N.apiHost,"/support/info"),e)}},{key:"fetchSupportInfo",value:function(e){return this.http.get("".concat(g.N.apiHost,"/support/info?spid=").concat(e))}},{key:"DeleteSupportInfo",value:function(){return this.http.delete("".concat(g.N.apiHost,"/support/info"))}},{key:"commandIqList",value:function(e){return this.http.get(g.N.SP_API_BASE_URL+"/smb/whitelabel?spid=".concat(e),{observe:"response"})}},{key:"commandIqadd",value:function(e){return this.http.post(g.N.SP_API_BASE_URL+"/smb/whitelabel",e)}},{key:"commandIqUpdate",value:function(e){return this.http.put(g.N.SP_API_BASE_URL+"/smb/whitelabel",e)}},{key:"updateAppCustomName",value:function(e){return this.http.post("".concat(g.N.apiHost,"/admin/application/custom/name"),e)}},{key:"callRestApi",value:function(e){return this.http.get("".concat(e)).pipe((0,l.K)(this.handleError))}},{key:"handleError",value:function(e){return(0,r._)(e)}}]),t}()).\u0275fac=function(e){return new(e||a)(c.LFG(d.t6),c.LFG(s.eN))},a.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a)},48705:function(t,n,o){o.d(n,{x:function(){return C}});var a=o(96718),r=o(37716),l=o(67798),s=o(12664),g=o(89097),c=o(10298),d=o(38583),u=o(7450),h=o(39895),p=o(49342),f=o(53668),m=o(39075),b=o(3679),v=["errorModal"],_=["successModal"];function Z(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",29),r.TgZ(1,"div",30),r.TgZ(2,"div",31),r._UZ(3,"img",32),r.qZA(),r.TgZ(4,"div",33),r.TgZ(5,"strong"),r._uU(6,"Error!"),r.qZA(),r._uU(7),r.qZA(),r.TgZ(8,"div",34),r.TgZ(9,"button",35),r.NdJ("click",function(){return r.CHM(i),r.oxw().hideError()}),r._UZ(10,"span",36),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(7),r.hij(" ",n.errorMsg,". ")}}function x(e,t){if(1&e&&(r.TgZ(0,"div",37),r.TgZ(1,"div",38),r.TgZ(2,"div",39),r.TgZ(3,"span",40),r._uU(4),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw();r.xp6(4),r.Oqu(i.language.Loading)}}var A,y=o(91704),C=((A=function(){function t(i,n,o,a,r,l,s,g,c,d){e(this,t),this.service=i,this.dialogService=n,this.sso=o,this.routerService=a,this._location=r,this.translateService=l,this.router=s,this.commonOrgService=g,this.organizationApiService=c,this.titleService=d,this.primaryColor="#e920e9",this.secondaryColor="#FFDDDD",this.showSuccess=!1,this.isShad=!0,this.logovisiblity=!1,this.whitelogovisiblity=!1,this.REDIRECT_URL="/organization-admin",this.selectOptions=[{label:"True",value:!0},{label:"False",value:!1}],this.showError=!1,this.loader=!1,this.showCreateBtn=!1,this.appName="",this.privacyPolicyLinkEnglish="",this.privacyPolicyLinkFrench="",this.isActive=!1,this.spid="",this.commonOrgService.currentPageAdder("whitelabel");var u=this.router.url;-1===u.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(u),this.REDIRECT_URL=this.sso.getRedirectModule(u),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID),this.SPID||this.getAdminOrgInfo()):this.SPID=this.sso.getSPID(),u.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings"),this.titleService.setTitle("Add CommandIQ Branding - ".concat("systemAdministration"===this.REDIRECT_URL?"System Administration":"Administration"," - Calix Cloud"))}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.spid=this.sso.getSPID(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t})}},{key:"readURL",value:function(e,t){var i,n=this;if(t&&"white_logo"===t?y("#whitelogo_image").attr("src"," "):y("#logo_image").attr("src"," "),e.files&&e.files[0]){var o=new FileReader;o.onload=function(e){"logo"===t?(y("#logo_image").attr("src",e.target.result),n.logovisiblity=!0):(y("#whitelogo_image").attr("src",e.target.result),n.whitelogovisiblity=!0),i=e.target.result,localStorage.setItem(t,i)},o.readAsDataURL(e.files[0])}}},{key:"readWhiteLogoURL",value:function(e,t){var i;if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){i=e.target.result,localStorage.setItem(t,i)},n.readAsDataURL(e.files[0])}}},{key:"add",value:function(){var e,t,i=this,n={};if(!this.loader){if(this.sso.getSPID(),n.spid=this.SPID,n.appName=this.appName,n.sellerName=this.appName,n.privacyPolicyLinkEnglish=this.privacyPolicyLinkEnglish,n.privacyPolicyLinkFrench=this.privacyPolicyLinkFrench,n.isActive=this.isActive,n.primaryColor=this.primaryColor,!n.appName)return void this.addError(this.language.enter_the_Seller_Name);if(!n.primaryColor)return void this.addError(this.language.enter_the_Primary_Color);var o=new FormData;if(!(t=y("input[name='logo']").get(0).files).length)return void this.addError(this.language.upload_Logo_image);var a=t[0].name.split(".").pop(),r=t[0].size/1024;if(-1==(s=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"]).indexOf(a)){var l=s.join(", ");return void this.addError(this.language.Image_extension_will_be+l+this.language.file_format)}if(r>250)return void this.addError(this.language.LogoImage_uploaderror+" 250KB");if(y.each(t,function(e,t){o.append("logo",t)}),!(e=y("input[name='white_logo']").get(0).files).length)return void this.addError(this.language["Please upload White Logo image"]);var s,g=e[0].size/1024;if(a=e[0].name.split(".").pop(),-1==(s=["png","PNG"]).indexOf(a))return l=s.join(", "),void this.addError(this.language["Image extension will be an "]+l+this.language.file_format);if(g>250)return void this.addError(this.language.WhitelogoImage_uploaderror+" 250KB");y.each(e,function(e,t){o.append("appIcon",t)}),o.append("spid",n.spid),o.append("primaryColor",n.primaryColor),o.append("secondaryColor",n.primaryColor),o.append("appName",n.appName),o.append("sellerName",n.appName),o.append("isActive",n.isActive),this.hideError(),this.loader=!0,this.service.add(o).subscribe(function(e){i.loader=!1,i.goToWhiteLabelList()},function(e){i.loader=!1,i.pageErrorHandle(e,!0)})}}},{key:"cancel",value:function(){this.router.navigate(this.isShad?["/shad/whitelabel"]:["/".concat(this.REDIRECT_URL,"/whitelabel")])}},{key:"addError",value:function(e){this.errorMsg=e,this.showError=!0,y("html, body").animate({scrollTop:0},"slow")}},{key:"hideError",value:function(){this.showError=!1,this.errorMsg=""}},{key:"close",value:function(){this.modalRef.close()}},{key:"goToWhiteLabelList",value:function(){this.routerService.WhiteLabelList(!0),this.router.navigate(this.isShad?["/shad/whitelabel"]:["/".concat(this.REDIRECT_URL,"/whitelabel")])}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe(),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe()}},{key:"getAdminOrgInfo",value:function(){var e=this;this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(function(t){e.sso.setAdminOrgInfo(t),t&&t.spId&&(e.SPID=t.spId)},function(e){})}},{key:"pageErrorHandle",value:function(e,t){400!=e.status||t?(this.errorMsg=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.showError=!0,y("html, body").animate({scrollTop:0},"slow")):(this.errorMsg=this.commonOrgService.pageInvalidRqstErrorHandle(e),this.showError=!0,y("html, body").animate({scrollTop:0},"slow"))}}]),t}()).\u0275fac=function(e){return new(e||A)(r.Y36(l.E),r.Y36(s.FF),r.Y36(g.t6),r.Y36(c.c),r.Y36(d.Ye),r.Y36(u.s),r.Y36(h.F0),r.Y36(p.v),r.Y36(f.F),r.Y36(m.Dx))},A.\u0275cmp=r.Xpm({type:A,selectors:[["app-whitelabel-create"]],viewQuery:function(e,t){var i;1&e&&(r.Gf(v,7),r.Gf(_,7)),2&e&&(r.iGM(i=r.CRH())&&(t.errorModal=i.first),r.iGM(i=r.CRH())&&(t.successModal=i.first))},features:[r._Bn([a.ee])],decls:78,vars:26,consts:[[1,"position-relative"],[1,"border-bottom","whitelabel-name"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],["class","loader",4,"ngIf"],[1,"row","my-3"],[1,"col-md-12"],[1,"toggle-swtbtn","checkbox","switcher"],["type","checkbox","name","Status","id","Status",3,"ngModel","ngModelChange"],[1,"mr-1"],[1,"row"],[1,"col-md-3"],[1,"form-input-field"],[1,"label-control"],[1,"input-field"],[1,"form-input-field","ccl-form"],[1,"error"],["id","appName","type","text","name","appName",3,"ngModel","ngModelChange"],["name","primaryColor","id","primaryColor",1,"form-control",2,"color","#faf9f5",3,"colorPicker","ngModel","cpOutputFormat","colorPickerChange","ngModelChange"],[1,"Commandiq-loge-name"],["type","file","name","logo","id","logo","accept",".jpeg, .JPEG, .PNG, .jpg, .png, .JPG, .img, .IMG, .bin, .BIN",1,"white-logo-input",3,"change"],["logo",""],["id","logo_image","height","100px","width","200px","src"," "],["type","file","name","white_logo","id","white_logo","accept",".PNG, .png",1,"white-logo-input",3,"change"],["white_logo",""],["id","whitelogo_image","height","100px","width","200px","src"," "],[1,"guidelines"],[1,"white-form","my-3"],[1,"btn-default","primary","px-3",3,"click"],[1,"btn-default","btn-dft","py-1","ml-3","px-3",3,"click"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"error-alert-wrapper","d-flex","justify-content-between"],[1,"error-alert-icon"],["src","../../../assets/img/error-icon.svg","alt",""],[1,"error-alert-msg"],[1,"error-alert-close"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r._uU(2),r.qZA(),r.YNc(3,Z,11,1,"div",2),r.YNc(4,x,5,1,"div",3),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r.TgZ(7,"div",6),r.TgZ(8,"label"),r.TgZ(9,"input",7),r.NdJ("ngModelChange",function(e){return t.isActive=e}),r.qZA(),r.TgZ(10,"span",8),r._UZ(11,"small"),r.qZA(),r._uU(12),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"div",9),r.TgZ(14,"div",10),r.TgZ(15,"div",11),r.TgZ(16,"label",12),r._uU(17),r.qZA(),r.TgZ(18,"div",13),r._uU(19),r.qZA(),r.qZA(),r.TgZ(20,"div",14),r.TgZ(21,"label",12),r._uU(22),r.TgZ(23,"span",15),r._uU(24,"*"),r.qZA(),r.qZA(),r.TgZ(25,"div",13),r.TgZ(26,"input",16),r.NdJ("ngModelChange",function(e){return t.appName=e}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(27,"div",14),r.TgZ(28,"label",12),r._uU(29),r.TgZ(30,"span",15),r._uU(31,"*"),r.qZA(),r.qZA(),r.TgZ(32,"div",13),r.TgZ(33,"input",17),r.NdJ("colorPickerChange",function(e){return t.primaryColor=e})("ngModelChange",function(e){return t.primaryColor=e}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(34,"div",10),r.TgZ(35,"div",11),r.TgZ(36,"label",12),r._uU(37),r.TgZ(38,"span",15),r._uU(39,"*"),r.qZA(),r.qZA(),r.TgZ(40,"div",13),r.TgZ(41,"div",18),r.TgZ(42,"input",19,20),r.NdJ("change",function(){r.CHM(i);var e=r.MAs(43);return t.readURL(e,"logo")}),r.qZA(),r._UZ(44,"img",21),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(45,"div",10),r.TgZ(46,"div",11),r.TgZ(47,"label",12),r._uU(48),r.TgZ(49,"span",15),r._uU(50,"*"),r.qZA(),r.qZA(),r.TgZ(51,"div",13),r.TgZ(52,"div",18),r.TgZ(53,"input",22,23),r.NdJ("change",function(){r.CHM(i);var e=r.MAs(54);return t.readURL(e,"white_logo")}),r.qZA(),r._UZ(55,"img",24),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(56,"div",10),r._uU(57),r.TgZ(58,"div",25),r.TgZ(59,"ul"),r.TgZ(60,"li"),r._uU(61),r.qZA(),r.TgZ(62,"li"),r._uU(63),r.qZA(),r.TgZ(64,"li"),r._uU(65),r.qZA(),r.TgZ(66,"li"),r._uU(67),r.qZA(),r.TgZ(68,"small"),r._uU(69),r._UZ(70,"br"),r._uU(71),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(72,"form"),r.TgZ(73,"div",26),r.TgZ(74,"button",27),r.NdJ("click",function(){return t.add()}),r._uU(75),r.qZA(),r.TgZ(76,"button",28),r.NdJ("click",function(){return t.cancel()}),r._uU(77),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(2),r.hij("",t.language.Add_Whitelabel_Theme," "),r.xp6(1),r.Q6J("ngIf",t.showError),r.xp6(1),r.Q6J("ngIf",t.loader),r.xp6(5),r.Q6J("ngModel",t.isActive),r.xp6(3),r.hij(" ",t.language.Enabled," "),r.xp6(5),r.hij("",t.language.Service_Provider," "),r.xp6(2),r.hij(" ",t.SPID," "),r.xp6(3),r.Oqu(t.language.Seller_Name),r.xp6(4),r.Q6J("ngModel",t.appName),r.xp6(3),r.Oqu(t.language.Primary_Color),r.xp6(4),r.Udp("background",t.primaryColor),r.Q6J("colorPicker",t.primaryColor)("ngModel",t.primaryColor)("cpOutputFormat","hex"),r.xp6(4),r.Oqu(t.language.Logo_Icon),r.xp6(11),r.Oqu(t.language.White_Logo_Icon),r.xp6(9),r.hij("",t.language.Logo_Guidelines," "),r.xp6(4),r.hij("",t.language["Max-Width"],": 1080px"),r.xp6(2),r.hij("",t.language["Max-Height"],": 180px"),r.xp6(2),r.hij("",t.language["Max File size"],": 250KB"),r.xp6(2),r.Oqu(t.language.Format),r.xp6(2),r.hij(" ",t.language.Primary_Logo,": jpeg,JPEG,jpg,JPG,png,PNG,img,IMG,bin,BIN"),r.xp6(2),r.hij(" ",t.language.White_Logo,": png,PNG "),r.xp6(4),r.hij(" ",t.language.Save," "),r.xp6(2),r.hij(" ",t.language.Cancel," "))},directives:[d.O5,b.Wl,b.JJ,b.On,b.Fj,a.Kk,b._Y,b.JL,b.F],styles:[".custom-file-upload[_ngcontent-%COMP%]{padding:5px 40px;margin:0 10px}.type-file[_ngcontent-%COMP%]{display:none}.drop-down[_ngcontent-%COMP%]{border-radius:3px;width:60 px;background-color:#d3d3d3;color:#00f}.logo-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.logo-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:small;font-weight:100;font-style:italic}.guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:disc;margin-left:30px}.guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px;font-size:14px;color:#4c4c4c}.Commandiq-loge-name[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;width:188px}.white-logo-input[_ngcontent-%COMP%]{padding-bottom:7px}.white-logo-input[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:250px;background-color:#ebeaef;margin-bottom:10px}.whitelabel-name[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;padding-bottom:7px;margin-bottom:7px}"]}),A)},46517:function(t,n,o){o.d(n,{E:function(){return T}});var a=o(37716),r=o(96718),l=o(67798),s=o(12664),g=o(89097),c=o(10298),d=o(7450),u=o(39895),h=o(49342),p=o(53668),f=o(39075),m=o(38583),b=o(3679),v=["errorModal"],_=["successModal"];function Z(e,t){if(1&e&&(a.TgZ(0,"div",25),a.TgZ(1,"div",26),a.TgZ(2,"div",27),a.TgZ(3,"span",28),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){var i=a.oxw();a.xp6(4),a.Oqu(i.language.Loading)}}function x(e,t){if(1&e){var i=a.EpF();a.TgZ(0,"div",29),a.TgZ(1,"span",30),a._UZ(2,"img",31),a.qZA(),a.TgZ(3,"strong"),a._uU(4),a.qZA(),a._uU(5),a.TgZ(6,"button",32),a.NdJ("click",function(){return a.CHM(i),a.oxw().validateError()}),a._UZ(7,"span",33),a.qZA(),a.qZA()}if(2&e){var n=a.oxw();a.xp6(4),a.hij("",n.language.Error,"!"),a.xp6(1),a.hij(" ",n.errorMsg,". ")}}function A(e,t){if(1&e){var i=a.EpF();a.TgZ(0,"div",14),a.TgZ(1,"div",34),a._UZ(2,"img",35),a._uU(3),a.TgZ(4,"label",36),a.TgZ(5,"a",37),a.NdJ("click",function(){return a.CHM(i),a.oxw().hidelogo()}),a._UZ(6,"i",38),a._uU(7," Replace Image"),a.qZA(),a.qZA(),a.TgZ(8,"input",39,40),a.NdJ("change",function(){a.CHM(i);var e=a.MAs(9);return a.oxw().readURL(e,"logo")}),a.qZA(),a.qZA(),a.qZA()}if(2&e){var n=a.oxw();a.xp6(2),a.s9C("src",n.updatelogo+"?timestamp="+n.timestamp,a.LSH),a.xp6(1),a.hij("",n.logoFile," ")}}function y(e,t){if(1&e){var i=a.EpF();a.TgZ(0,"div",14),a.TgZ(1,"div",41),a._UZ(2,"img",42),a._uU(3),a.TgZ(4,"label",43),a.TgZ(5,"a",37),a.NdJ("click",function(){return a.CHM(i),a.oxw().hidelogo()}),a._UZ(6,"i",38),a._uU(7,"Replace Image"),a.qZA(),a.qZA(),a.TgZ(8,"input",44,45),a.NdJ("change",function(){a.CHM(i);var e=a.MAs(9);return a.oxw().readURL(e,"white_logo")}),a.qZA(),a.qZA(),a.qZA()}if(2&e){var n=a.oxw();a.xp6(2),a.s9C("src",n.updateWhiteLogo+"?timestamp="+n.timestamp,a.LSH),a.xp6(1),a.hij("",n.whiteLogoFile," ")}}var C=o(91704),T=function(){var t=function(){function t(i,n,o,a,r,l,s,g,c,d,u){e(this,t),this.cpService=i,this.service=n,this.dialogService=o,this.sso=a,this.routerService=r,this.ref=l,this.translateService=s,this.router=g,this.commonOrgService=c,this.organizationApiService=d,this.titleService=u,this.fileName="",this.isShad=!0,this.REDIRECT_URL="/organization-admin",this.selectOptions=[{label:"True",value:!0},{label:"False",value:!1}],this.updatedRespone=!1,this.showError=!1,this.loader=!1,this.showCreateBtn=!1,this.appName="",this.privacyPolicyLinkEnglish="",this.privacyPolicyLinkFrench="",this.isActive=!1,this.spid="",this.updateappIcon="",this.updatelogo="",this.updateWhiteLogo="",this.commonOrgService.currentPageAdder("whitelabel");var h=this.router.url;-1===h.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(h),this.REDIRECT_URL=this.sso.getRedirectModule(h),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID)):this.SPID=this.sso.getSPID(),h.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings"),this.titleService.setTitle("Update CommandIQ Branding - ".concat("systemAdministration"===this.REDIRECT_URL?"System Administration":"Administration"," - Calix Cloud"))}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.SPID||this.isShad?(this.getWhitelabel(),this.getDetails(),this.calixspid=this.SPID):this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(function(t){e.orgIdResponse=t,e.sso.setAdminOrgInfo(t),t&&t.spId&&(e.SPID=t.spId,e.getWhitelabel(),e.getDetails(),e.calixspid=e.SPID)},function(e){}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t})}},{key:"validateError",value:function(){this.showError=!1}},{key:"getWhitelabel",value:function(){this.sso.getSPID(),this.service.spinfo(this.SPID).toPromise().then(function(e){}).catch(function(e){})}},{key:"getDetails",value:function(){var e=this;this.sso.getSPID(),this.service.whiteLabellist(this.SPID).toPromise().then(function(t){e.spiResponse=null==t?void 0:t.body,e.timestamp=(new Date).getTime(),e.spid=t.body.spid,e.updateappIcon=t.body.appIcon,e.ISappIcon=!!e.updateappIcon,e.updatelogo=t.body.theme.logo,e.ISlogo=!!e.updatelogo,e.updateWhiteLogo=t.body.appIcon,e.dataAvailable=!0,e.appName=t.body.appName,e.privacyPolicyLinkEnglish=t.body.privacyPolicyLinkEnglish,e.privacyPolicyLinkFrench=t.body.privacyPolicyLinkFrench,e.isActive=t.body.isActive,e.engandfile=t.body.eulaAndroidEnglish,e.ISengandfile=!!e.engandfile,e.AndroidFrench=t.body.eulaAndroidFrench,e.ISAndroidFrench=!!e.AndroidFrench,e.IOSEnglish=t.body.eulaIOSEnglish,e.ISIOSEnglish=!!e.IOSEnglish,e.IOSFrench=t.body.eulaIOSFrench,e.ISIOSFrench=!!e.IOSFrench,e.English=t.body.aboutEnglish,e.ISEnglish=!!e.English,e.French=t.body.aboutFrench,e.ISFrench=!!e.French,t.body.theme.primaryColor&&(e.primaryColor=t.body.theme.primaryColor)}).catch(function(t){e.dataAvailable=!0})}},{key:"readURL",value:function(e,t){var i;if(t&&"white_logo"===t?(this.whiteLogoFile="",C("#white-logo-image-view").attr("src"," ")):(this.logoFile="",C("#logo-image-view").attr("src"," ")),e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){"logo"===t?C("#logo-image-view").attr("src",e.target.result):C("#white-logo-image-view").attr("src",e.target.result),i=e.target.result,localStorage.setItem(t,i)},n.readAsDataURL(e.files[0]);var o=e.files[0].name;"appIcon"==t?(this.iconFile=o,this.updateappIcon=""):"logo"==t?(this.logoFile=o,this.updatelogo=""):"eulaAndroidEnglish"==t?(this.eulaAE=o,this.engandfile=""):"eulaAndroidFrench"==t?(this.eulaAF=o,this.AndroidFrench=""):"eulaIOSEnglish"==t?(this.eulaIOSE=o,this.IOSEnglish=""):"eulaIOSFrench"==t?(this.eulaIOSF=o,this.IOSFrench=""):"aboutEnglish"==t?(this.aboutE=o,this.English=""):"aboutFrench"==t?(this.aboutF=o,this.French=""):"white_logo"==t&&(this.whiteLogoFile=o,this.updateWhiteLogo="")}}},{key:"add",value:function(){var e,t=this,i={};if(!this.loader)if(i.spid=this.SPID,i.appName=this.appName,i.sellerName=this.appName,i.privacyPolicyLinkEnglish=this.privacyPolicyLinkEnglish,i.privacyPolicyLinkFrench=this.privacyPolicyLinkFrench,i.isActive=this.isActive,i.primaryColor=this.primaryColor,i.appName)if(i.primaryColor){var n,o=new FormData;if(""!=this.updatelogo)o.append("logo",this.updatelogo);else{if(!(e=C("input[name='logo']").get(0).files).length)return void this.addError(this.language.upload_Logo_image);var a=e[0].name.split(".").pop(),r=e[0].size/1024,l=["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"];if(-1==l.indexOf(a)){var s=l.join(", ");return void this.addError("Logo Image extension will be an "+s+" file format")}if(r>250)return void this.addError(this.language.LogoImage_uploaderror+" 250KB");C.each(e,function(e,t){o.append("logo",t)})}if(""!=this.updateWhiteLogo)o.append("appIcon",this.updateWhiteLogo);else{if(!(n=C("input[name='white_logo']").get(0).files).length)return void this.addError(this.language["Please upload White Logo image"]);var g=n[0].size/1024,c=n[0].name.split(".").pop(),d=["png","PNG"];if(-1==d.indexOf(c)){var u=d.join(", ");return void this.addError("White Logo Image extension will be an "+u+" file format")}if(g>250)return void this.addError(this.language.WhitelogoImage_uploaderror+" 250KB");C.each(n,function(e,t){o.append("appIcon",t)})}o.append("spid",this.SPID),o.append("primaryColor",i.primaryColor),o.append("appName",i.appName),o.append("sellerName",i.appName),o.append("isActive",i.isActive),this.hideError(),this.loader=!0,this.service.update(o).subscribe(function(e){t.updatedRespone=!0,t.loader=!1,t.goToWhiteLabelList()},function(e){t.loader=!1,t.addError(e.statusText)})}else this.addError(this.language.enter_the_Primary_Color);else this.addError(this.language.enter_the_Seller_Name)}},{key:"addError",value:function(e){this.errorMsg=e,this.showError=!0,C("html, body").animate({scrollTop:0},"slow"),this.ref.detectChanges()}},{key:"hideError",value:function(){this.showError=!1,this.errorMsg=""}},{key:"close",value:function(){this.modalRef.close()}},{key:"goToWhiteLabelList",value:function(){this.routerService.WhiteLabelList(),this.router.navigate(this.isShad?["/shad/whitelabel"]:["/".concat(this.REDIRECT_URL,"/whitelabel")])}},{key:"hideAppicon",value:function(){}},{key:"hidelogo",value:function(){}},{key:"hideAndroidFrench",value:function(){this.ISAndroidFrench=!1}},{key:"hideengandfile",value:function(){this.ISengandfile=!1}},{key:"hideIOSEnglish",value:function(){this.ISIOSEnglish=!1}},{key:"hideIOSFrench",value:function(){this.ISIOSFrench=!1}},{key:"hideEnglish",value:function(){this.ISEnglish=!1}},{key:"hideFrench",value:function(){this.ISFrench=!1}},{key:"cancel",value:function(){this.router.navigate(this.isShad?["/shad/whitelabel"]:["/".concat(this.REDIRECT_URL,"/whitelabel")])}},{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe(),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Y36(r.ee),a.Y36(l.E),a.Y36(s.FF),a.Y36(g.t6),a.Y36(c.c),a.Y36(a.sBO),a.Y36(d.s),a.Y36(u.F0),a.Y36(h.v),a.Y36(p.F),a.Y36(f.Dx))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-whitelabel-update"]],viewQuery:function(e,t){var i;(1&e&&(a.Gf(v,7),a.Gf(_,7)),2&e)&&(a.iGM(i=a.CRH())&&(t.errorModal=i.first),a.iGM(i=a.CRH())&&(t.successModal=i.first))},decls:71,vars:28,consts:[[1,"position-relative"],["class","loader",4,"ngIf"],[1,""],[1,"border-bottom","update-comiq-title"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],[1,"row"],[1,"col-md-10"],[1,"toggle-swtbtn","checkbox","switcher"],["type","checkbox","name","Status","id","Status",3,"ngModel","ngModelChange"],[1,"mr-1"],[1,"row","my-2"],[1,"col-md-3"],[1,"form-input-field"],[1,"label-control"],[1,"input-field"],[1,"form-input-field","ccl-form"],[1,"error"],["id","appName","type","text","name","appName",3,"ngModel","ngModelChange"],["name","primaryColor","id","primaryColor",1,"form-control",2,"color","#faf9f5",3,"colorPicker","ngModel","cpOutputFormat","colorPickerChange","ngModelChange"],[1,"label-control","logo-info"],["class","input-field",4,"ngIf"],[1,"guidelines"],[1,"white-form","my-3"],[1,"btn-default","primary","px-3",3,"click"],[1,"btn-default","btn-dft","py-1","ml-3","px-3",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],["role","",1,"spinner-border","text-primary"],[1,"sr-only"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"mr-2"],["src","../../../assets/img/ic_error-outline.svg"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["id","logo-image-view-div",1,"d-block"],["id","logo-image-view",3,"src"],["for","logo",1,"custom-file-upload","btn-sm","btn-light"],[3,"click"],[1,"fa","fa-cloud-upload","mx-2"],["type","file","name","logo","id","logo","accept",".jpeg, .JPEG, .PNG, .jpg, .png, .JPG, .img, .IMG, .bin, .BIN",1,"type-file",3,"change"],["logo",""],["id","white-logo-image-view-div",1,"d-inline-block"],["id","white-logo-image-view",1,"white-logo-image-box",3,"src"],["for","white_logo",1,"custom-file-upload","btn-sm","btn-light"],["type","file","name","white_logo","id","white_logo","accept",".PNG, .png",1,"type-file",3,"change"],["white_logo",""]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.YNc(1,Z,5,1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a._uU(4),a.qZA(),a.YNc(5,x,8,2,"div",4),a.TgZ(6,"div",5),a.TgZ(7,"div",6),a.TgZ(8,"div",7),a.TgZ(9,"label"),a.TgZ(10,"input",8),a.NdJ("ngModelChange",function(e){return t.isActive=e}),a.qZA(),a.TgZ(11,"span",9),a._UZ(12,"small"),a.qZA(),a._uU(13),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(14,"div",10),a.TgZ(15,"div",11),a.TgZ(16,"div",12),a.TgZ(17,"label",13),a._uU(18),a.qZA(),a.TgZ(19,"div",14),a._uU(20),a.qZA(),a.qZA(),a.TgZ(21,"div",15),a.TgZ(22,"label",13),a._uU(23),a.TgZ(24,"span",16),a._uU(25,"*"),a.qZA(),a.qZA(),a.TgZ(26,"div",14),a.TgZ(27,"input",17),a.NdJ("ngModelChange",function(e){return t.appName=e}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(28,"div",15),a.TgZ(29,"label",13),a._uU(30),a.TgZ(31,"span",16),a._uU(32,"*"),a.qZA(),a.qZA(),a.TgZ(33,"div",14),a.TgZ(34,"input",18),a.NdJ("colorPickerChange",function(e){return t.primaryColor=e})("ngModelChange",function(e){return t.primaryColor=e}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(35,"div",11),a._uU(36),a.TgZ(37,"span",16),a._uU(38,"*"),a.qZA(),a.TgZ(39,"div",12),a._UZ(40,"label",19),a.YNc(41,A,10,2,"div",20),a.qZA(),a.qZA(),a.TgZ(42,"div",11),a._uU(43),a.TgZ(44,"span",16),a._uU(45,"*"),a.qZA(),a.TgZ(46,"div",12),a._UZ(47,"label",19),a.YNc(48,y,10,2,"div",20),a.qZA(),a.qZA(),a.TgZ(49,"div",11),a._uU(50),a.TgZ(51,"div",21),a.TgZ(52,"ul"),a.TgZ(53,"li"),a._uU(54),a.qZA(),a.TgZ(55,"li"),a._uU(56),a.qZA(),a.TgZ(57,"li"),a._uU(58),a.qZA(),a.TgZ(59,"li"),a._uU(60),a.qZA(),a.TgZ(61,"small"),a._uU(62),a._UZ(63,"br"),a._uU(64),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(65,"form"),a.TgZ(66,"div",22),a.TgZ(67,"button",23),a.NdJ("click",function(){return t.add()}),a._uU(68),a.qZA(),a.TgZ(69,"button",24),a.NdJ("click",function(){return t.cancel()}),a._uU(70),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(1),a.Q6J("ngIf",t.loader),a.xp6(3),a.Oqu(t.language.Update_Whitelabel_Theme),a.xp6(1),a.Q6J("ngIf",t.showError),a.xp6(5),a.Q6J("ngModel",t.isActive),a.xp6(3),a.hij(" ",t.language.Enabled," "),a.xp6(5),a.hij("",t.language.Service_Provider," "),a.xp6(2),a.hij(" ",t.calixspid," "),a.xp6(3),a.Oqu(t.language.Seller_Name),a.xp6(4),a.Q6J("ngModel",t.appName),a.xp6(3),a.Oqu(t.language.Primary_Color),a.xp6(4),a.Udp("background",t.primaryColor),a.Q6J("colorPicker",t.primaryColor)("ngModel",t.primaryColor)("cpOutputFormat","hex"),a.xp6(2),a.Oqu(t.language.Logo_Icon),a.xp6(5),a.Q6J("ngIf",t.dataAvailable),a.xp6(2),a.Oqu(t.language.White_Logo_Icon),a.xp6(5),a.Q6J("ngIf",t.dataAvailable),a.xp6(2),a.hij("",t.language.Logo_Guidelines," "),a.xp6(4),a.hij("",t.language["Max-Width"],": 1080px"),a.xp6(2),a.hij("",t.language["Max-Height"],": 180px"),a.xp6(2),a.hij("",t.language["Max File size"],": 250KB"),a.xp6(2),a.Oqu(t.language.Format),a.xp6(2),a.hij(" ",t.language.Primary_Logo,": jpeg,JPEG,jpg,JPG,png,PNG,img,IMG,bin,BIN"),a.xp6(2),a.hij(" ",t.language.White_Logo,": png,PNG "),a.xp6(4),a.hij(" ",t.language.Save," "),a.xp6(2),a.hij(" ",t.language.Cancel," "))},directives:[m.O5,b.Wl,b.JJ,b.On,b.Fj,r.Kk,b._Y,b.JL,b.F],styles:[".custom-file-upload[_ngcontent-%COMP%]{padding:5px 40px;margin:0 10px}.file-content[_ngcontent-%COMP%]{width:150px;height:150px;transition:.2s;text-align:center;display:flex;align-items:center;justify-content:center;position:relative;background:#e9eff5;border:1px dashed #b7bcd6;border-radius:50%;margin-bottom:10px}.file-content[_ngcontent-%COMP%]   img.profile_img-display[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:50%}.browse-update.ml-15[_ngcontent-%COMP%]{display:grid;align-items:center;margin-left:15%}.type-file[_ngcontent-%COMP%]{display:none}.drop-down[_ngcontent-%COMP%]{border-radius:3px;width:60 px;color:#00f}input[type=file][_ngcontent-%COMP%]{display:none}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #ccc;display:inline-block;padding:6px 12px;cursor:pointer;border-radius:22px}.left[_ngcontent-%COMP%]{float:left}.white-logo-image-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .logo-image-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:250px}.logo-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.logo-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:small;font-weight:100;font-style:italic}.white-logo-image-box[_ngcontent-%COMP%]{background-color:#dedede;padding:10px}.guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:disc;margin-left:30px}.guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px;font-size:14px;color:#4c4c4c}#logo-image-view-div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-color:#ebeaef;margin-bottom:10px;padding:10px;max-width:230px;max-height:130px;display:block;min-width:230px;min-height:130px}#white-logo-image-view-div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-color:#ebeaef;margin-bottom:10px;padding:10px;max-width:230px;max-height:130px;display:block;min-width:230px;min-height:130px}.update-comiq-title[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;padding-bottom:7px;margin-bottom:7px}"]}),t}()},22098:function(t,n,o){o.d(n,{e:function(){return k}});var a=o(89097),r=o(37716),l=o(67798),s=o(39895),g=o(10298),c=o(7450),d=o(49342),u=o(53668),h=o(39075),p=o(38583),f=o(3679);function m(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",10),r.TgZ(1,"div",11),r.TgZ(2,"span",12),r._UZ(3,"img",13),r.qZA(),r.TgZ(4,"strong",12),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"div",11),r.TgZ(7,"button",14),r.NdJ("click",function(){return r.CHM(i),r.oxw().hideSuccess()}),r._UZ(8,"span"),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(5),r.Oqu(n.createdWhiteLabel)}}function b(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",15),r.TgZ(1,"strong"),r._uU(2),r.qZA(),r._uU(3),r.TgZ(4,"button",14),r.NdJ("click",function(){return r.CHM(i),r.oxw().hideError()}),r._UZ(5,"span",16),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(2),r.hij("",n.language.Error,"!"),r.xp6(1),r.hij(" ",n.errorMsg,". ")}}function v(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"a"),r.TgZ(1,"button",17),r.NdJ("click",function(){return r.CHM(i),r.oxw().update()}),r._uU(2),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(2),r.hij(" ",n.language.campaign_Edit," ")}}function _(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",18),r.TgZ(1,"a",19),r.NdJ("click",function(){return r.CHM(i),r.oxw().createWhiteLabel()}),r._uU(2),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(2),r.hij(" ",n.language.Add_New_Whitelabel," ")}}function Z(e,t){if(1&e&&(r.TgZ(0,"div",20),r._uU(1),r.qZA()),2&e){var i=r.oxw();r.xp6(1),r.AsE(" ",i.language.No_Data_Found," ",i.SPID," ")}}function x(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",2),r.TgZ(1,"div",21),r.TgZ(2,"div",22),r.TgZ(3,"label",23),r._uU(4),r.qZA(),r._uU(5),r.qZA(),r.TgZ(6,"div",22),r.TgZ(7,"label",23),r._uU(8),r.qZA(),r._uU(9),r.qZA(),r.TgZ(10,"div",24),r.TgZ(11,"label",25),r._uU(12),r.qZA(),r.TgZ(13,"div",26),r.TgZ(14,"input",27),r.NdJ("ngModelChange",function(e){return r.CHM(i),r.oxw().primarycolor=e}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"div",28),r._uU(16),r.TgZ(17,"div",29),r.TgZ(18,"div",26),r.TgZ(19,"div",30),r._UZ(20,"img",31),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(21,"div",28),r._uU(22),r.TgZ(23,"div",29),r.TgZ(24,"div",26),r.TgZ(25,"div",32),r._UZ(26,"img",33),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(4),r.hij(" ",n.language.Service_Provider," "),r.xp6(1),r.hij(" ",n.spidfromservice," "),r.xp6(3),r.hij(" ",n.language.App_Name," "),r.xp6(1),r.hij(" ",n.appname," "),r.xp6(3),r.hij("",n.language.Primary_Color," "),r.xp6(2),r.Udp("background",n.primarycolor),r.Q6J("ngModel",n.primarycolor),r.xp6(2),r.hij("",n.language.Logo_Icon," "),r.xp6(4),r.s9C("src",n.logo+"?timestamp="+n.timestamp,r.LSH),r.xp6(2),r.hij("",n.language.White_Logo_Icon," "),r.xp6(4),r.s9C("src",n.appicon+"?timestamp="+n.timestamp,r.LSH)}}function A(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"a"),r.TgZ(1,"button",40),r.NdJ("click",function(){return r.CHM(i),r.oxw(3).update()}),r._uU(2),r.qZA(),r.qZA()}if(2&e){var n=r.oxw(3);r.xp6(2),r.hij(" ",n.language.Update," ")}}var y=function(e){return{"background-color":e}};function C(e,t){if(1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r.TgZ(2,"ul",36),r.TgZ(3,"li"),r._uU(4),r.qZA(),r.TgZ(5,"li"),r._uU(6),r.TgZ(7,"a",37),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"li"),r._uU(10),r.TgZ(11,"a",37),r._uU(12),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td"),r.TgZ(16,"ul",38),r.TgZ(17,"li"),r._uU(18),r._UZ(19,"span",39),r._uU(20),r.qZA(),r.qZA(),r.qZA(),r.TgZ(21,"td"),r.YNc(22,A,3,1,"a",4),r.qZA(),r.qZA()),2&e){var i=t.$implicit,n=r.oxw(2);r.xp6(4),r.Oqu(i.body.sellerName),r.xp6(2),r.hij(" ",n.language.Logo,": "),r.xp6(1),r.s9C("href",i.body.theme.logo,r.LSH),r.xp6(1),r.hij("",n.language.Preview," "),r.xp6(2),r.hij(" ",n.language.White_Logo,": "),r.xp6(1),r.s9C("href",i.body.appIcon,r.LSH),r.xp6(1),r.hij("",n.language.Preview," "),r.xp6(2),r.Oqu(i.body.spId),r.xp6(4),r.hij(" ",n.language.Primary," : "),r.xp6(1),r.Q6J("ngStyle",r.VKq(12,y,i.body.theme.primaryColor?i.body.theme.primaryColor:null)),r.xp6(1),r.hij("",i.body.theme.primaryColor," "),r.xp6(2),r.Q6J("ngIf",n.showUpdateBtn)}}function T(e,t){if(1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td",41),r._uU(2),r.qZA(),r.qZA()),2&e){var i=r.oxw(2);r.xp6(2),r.Oqu(i.language.No_White_label)}}function I(e,t){if(1&e&&(r.TgZ(0,"table",34),r.TgZ(1,"thead"),r.TgZ(2,"tr"),r.TgZ(3,"th"),r._uU(4),r.qZA(),r.TgZ(5,"th"),r._uU(6,"SPID"),r.qZA(),r.TgZ(7,"th"),r._uU(8),r.qZA(),r.TgZ(9,"th"),r._uU(10),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"tbody"),r.YNc(12,C,23,14,"tr",35),r.YNc(13,T,3,1,"tr",4),r.qZA(),r.qZA()),2&e){var i=r.oxw();r.xp6(4),r.Oqu(i.language.APP_Info),r.xp6(4),r.Oqu(i.language.Color),r.xp6(2),r.Oqu(i.language.Action),r.xp6(2),r.Q6J("ngForOf",i.whitelabellist),r.xp6(1),r.Q6J("ngIf",!0===i.hideAdd)}}var w,k=((w=function(){function t(i,n,o,a,r,l,s,g){e(this,t),this.service=i,this.router=n,this.sso=o,this.routerService=a,this.translateService=r,this.commonOrgService=l,this.organizationApiService=s,this.titleService=g,this.whitelabellist=[],this.addWhitelabel=!1,this.showSuccess=this.routerService.showSuccess,this.createdWhiteLabel="",this.updateSuccessMessage=this.routerService.updateSuccessMessage,this.isShad=!0,this.REDIRECT_URL="/organization-admin",this.commonOrgService.currentPageAdder("whitelabel");var c=this.router.url;-1===c.indexOf("/shad/")?(this.isShad=!1,this.ADMIN_ORG_ID=this.sso.getOrganizationID(c),this.REDIRECT_URL=this.sso.getRedirectModule(c),this.SPID=this.sso.getAdminSPID(this.ADMIN_ORG_ID)):this.SPID=this.sso.getSPID(),c.indexOf("/foundation-configuration/")>-1&&(this.REDIRECT_URL="cco-foundation/foundation-configuration/configuration-settings"),this.titleService.setTitle("CommandIQ Branding - ".concat("systemAdministration"===this.REDIRECT_URL?"System Administration":"Administration"," - Calix Cloud"))}return i(t,[{key:"ngOnDestroy",value:function(){this.languageSubject&&this.languageSubject.unsubscribe(),this.routerService.setShowSuccess(!1),this.routerService.setCreateFlag(!1),this.getOrgInfoSubs&&this.getOrgInfoSubs.unsubscribe()}},{key:"ngOnInit",value:function(){var e=this,t=this.sso.getScopes();-1!==this.router.url.indexOf("/shad/")?t["cloud.shad.service"]&&-1!==t["cloud.shad.service"].indexOf("write")&&(this.showCreateBtn=!0,this.showUpdateBtn=!0):this.sso.checkAdminScopes(a.Nc.WRITE)&&(this.showCreateBtn=!0,this.showUpdateBtn=!0),this.SPID||this.isShad?this.list():this.getOrgInfoSubs=this.organizationApiService.orgInformation(this.ADMIN_ORG_ID).subscribe(function(t){e.orgIdResponse=t,e.sso.setAdminOrgInfo(t),t&&t.spId&&(e.SPID=t.spId,e.list())},function(e){}),this.spid=this.sso.getSPID(),setTimeout(function(){e.showSuccess=!1,e.createdWhiteLabel=""},5e3),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t}),this.updateSuccessMessage&&(this.createdWhiteLabel=this.routerService.getCreateFlag()?this.language["Created Successfully"]:this.language["Updated Succesfully"])}},{key:"hideSuccess",value:function(){this.showSuccess=!1,this.createdWhiteLabel=""}},{key:"getWhitelabel",value:function(){var e=this;this.showError=!1;var t=this.sso.getSPID();this.service.spinfo(t).toPromise().then(function(t){e.spiResponse=null==t?void 0:t.body,e.addWhitelabel=!1,e.list()}).catch(function(t){var i;404==(null===(i=null==t?void 0:t.error)||void 0===i?void 0:i.errorType)&&(e.addWhitelabel=!0)})}},{key:"list",value:function(){var e=this;this.sso.getSPID(),this.service.whiteLabellist(this.SPID).toPromise().then(function(t){e.whiteLbelResponse=t.body,e.timestamp=(new Date).getTime(),404!=t.errorType?(e.hideAdd=!0,e.editvisibility=!1,e.whitelabellist.push(t),e.spidfromservice=t.body.spId,e.appname=t.body.appName,e.primarycolor=t.body.theme.primaryColor,e.logo=t.body.theme.logo,e.appicon=t.body.appIcon):(e.hideAdd=!1,e.editvisibility=!0,e.whitelabellist=[]),e.whitelabellist.length>0?(e.hideAdd=!1,e.editvisibility=!0):(e.hideAdd=!0,e.editvisibility=!1,e.whitelabellist=[]),e.addWhitelabel=!1}).catch(function(t){e.addWhitelabel=!0,401==t.status&&(e.errorMsg=t.statusText?t.statusText:"Unauthorized User",e.showError=!0)})}},{key:"update",value:function(){this.router.navigate(this.isShad?["/shad/whitelabel-update"]:["/".concat(this.REDIRECT_URL,"/whitelabel-update")])}},{key:"createWhiteLabel",value:function(){this.router.navigate(this.isShad?["/shad/whitelabel-create"]:["/".concat(this.REDIRECT_URL,"/whitelabel-create")])}},{key:"hideError",value:function(){this.showError=!1}}]),t}()).\u0275fac=function(e){return new(e||w)(r.Y36(l.E),r.Y36(s.F0),r.Y36(a.t6),r.Y36(g.c),r.Y36(c.s),r.Y36(d.v),r.Y36(u.F),r.Y36(h.Dx))},w.\u0275cmp=r.Xpm({type:w,selectors:[["app-whitelabel"]],decls:10,vars:7,consts:[["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],[1,"row"],[1,"col-md-12","text-right","border-bottom","pb-2","mb-2"],[4,"ngIf"],[1,"whitelabel-sec"],["class","label-link",4,"ngIf"],["class","nodata",4,"ngIf"],["class","row",4,"ngIf"],["class","table table-bordered app-info","style","display: none;",4,"ngIf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"d-inline"],[1,"mr-2"],["src","../../../assets/img/ic_success-circle-outline.svg"],["type","button",1,"close",3,"click"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["aria-hidden","true"],["id","editbutton",1,"btn-default","primary","px-3",3,"click"],[1,"label-link"],["id","add-new-commandiq-label",3,"click"],[1,"nodata"],[1,"col-md-4"],[1,"mb-2"],[1,"w-100"],[1,"form-input-field","ccl-form"],[1,"label-control"],[1,"input-field"],["name","primaryColor","id","primaryColor","readonly","",1,"form-control",2,"color","#faf9f5",3,"ngModel","ngModelChange"],[1,"col-md-3"],[1,"form-input-field"],["id","logo-image-view-div",2,"display","inline-block"],["id","logo-image-view","height","100px","width","200px",2,"max-width","250px","background-color","#EBEAEF","margin-bottom","10px",3,"src"],["id","white-logo-image-view-div",2,"display","inline-block"],["id","white-logo-image-view","height","100px","width","200px",1,"white-logo-image-box",2,"background-color","#EBEAEF","margin-bottom","10px","max-width","250px",3,"src"],[1,"table","table-bordered","app-info",2,"display","none"],[4,"ngFor","ngForOf"],[1,"app-detail"],[1,"link",3,"href"],[1,"color-detail"],[1,"box","mx-2",3,"ngStyle"],["id","updatebutton",1,"btn-default","primary","px-3",3,"click"],["colspan","7"]],template:function(e,t){1&e&&(r.YNc(0,m,9,1,"div",0),r.YNc(1,b,6,2,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.YNc(4,v,3,1,"a",4),r.qZA(),r.qZA(),r.TgZ(5,"div",5),r.YNc(6,_,3,1,"div",6),r.YNc(7,Z,2,2,"div",7),r.YNc(8,x,27,12,"div",8),r.YNc(9,I,14,5,"table",9),r.qZA()),2&e&&(r.Q6J("ngIf",t.showSuccess),r.xp6(1),r.Q6J("ngIf",t.showError),r.xp6(3),r.Q6J("ngIf",t.showUpdateBtn&&t.editvisibility),r.xp6(2),r.Q6J("ngIf",t.addWhitelabel&&t.showCreateBtn),r.xp6(1),r.Q6J("ngIf",t.addWhitelabel),r.xp6(1),r.Q6J("ngIf",t.showUpdateBtn&&t.editvisibility),r.xp6(1),r.Q6J("ngIf",!t.addWhitelabel))},directives:[p.O5,f.Fj,f.JJ,f.On,p.sg,p.PC],styles:['.p-10[_ngcontent-%COMP%]{padding:10px}.p-15[_ngcontent-%COMP%]{padding:15px}.p-20[_ngcontent-%COMP%]{padding:20px}.p-25[_ngcontent-%COMP%]{padding:25px}.p-30[_ngcontent-%COMP%]{padding:30px}.p-35[_ngcontent-%COMP%]{padding:35px}.p-40[_ngcontent-%COMP%]{padding:40px}.p-45[_ngcontent-%COMP%]{padding:45px}.p-50[_ngcontent-%COMP%]{padding:50px}.p-55[_ngcontent-%COMP%]{padding:55px}.p-60[_ngcontent-%COMP%]{padding:60px}.pt-10[_ngcontent-%COMP%]{padding-top:10px}.pt-15[_ngcontent-%COMP%]{padding-top:15px}.pt-20[_ngcontent-%COMP%]{padding-top:20px}.pt-25[_ngcontent-%COMP%]{padding-top:25px}.pt-30[_ngcontent-%COMP%]{padding-top:30px}.pt-35[_ngcontent-%COMP%]{padding-top:35px}.pt-40[_ngcontent-%COMP%]{padding-top:40px}.pt-45[_ngcontent-%COMP%]{padding-top:45px}.pt-50[_ngcontent-%COMP%]{padding-top:50px}.pt-55[_ngcontent-%COMP%]{padding-top:55px}.pt-60[_ngcontent-%COMP%]{padding-top:60px}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.mt-25[_ngcontent-%COMP%]{margin-top:25px}.mt-30[_ngcontent-%COMP%]{margin-top:30px}.mt-35[_ngcontent-%COMP%]{margin-top:35px}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mt-45[_ngcontent-%COMP%]{margin-top:45px}.mt-50[_ngcontent-%COMP%]{margin-top:50px}.mt-55[_ngcontent-%COMP%]{margin-top:55px}.mt-60[_ngcontent-%COMP%]{margin-top:60px}.mb0[_ngcontent-%COMP%]{margin-bottom:0}.mb1[_ngcontent-%COMP%]{margin-bottom:10px}.mb15[_ngcontent-%COMP%]{margin-bottom:15px}.mb2[_ngcontent-%COMP%]{margin-bottom:20px}.mb3[_ngcontent-%COMP%]{margin-bottom:30px}.mb4[_ngcontent-%COMP%]{margin-bottom:40px}.mb5[_ngcontent-%COMP%]{margin-bottom:50px}.mb6[_ngcontent-%COMP%]{margin-bottom:60px}.mb7[_ngcontent-%COMP%]{margin-bottom:70px}.mb8[_ngcontent-%COMP%]{margin-bottom:80px}.mb9[_ngcontent-%COMP%]{margin-bottom:90px}.primary[_ngcontent-%COMP%]{color:#0279ff}.secondary[_ngcontent-%COMP%]{color:#0054b2}.calixpurple[_ngcontent-%COMP%]{color:#43367d}.calixblue[_ngcontent-%COMP%]{color:#324a9d}.calixsky[_ngcontent-%COMP%]{color:#387cbf}.calixorange[_ngcontent-%COMP%]{color:#e97b00}.brightred[_ngcontent-%COMP%]{color:#ff3600}.lightred[_ngcontent-%COMP%]{color:#ff734f}.purple[_ngcontent-%COMP%]{color:#91479b}.error[_ngcontent-%COMP%]{color:#c70000}.warning[_ngcontent-%COMP%]{color:#ff8238}.warningt[_ngcontent-%COMP%]{color:#c74900}.success[_ngcontent-%COMP%]{color:#82bf00}.successt[_ngcontent-%COMP%]{color:#507500}.caution[_ngcontent-%COMP%]{color:#f7c343}.wgrey[_ngcontent-%COMP%]{color:#f8f8fa}.snowgrey[_ngcontent-%COMP%]{color:#ebeaef}.lgrey[_ngcontent-%COMP%]{color:#ccc}.calixgrey[_ngcontent-%COMP%]{color:#9e9e9e}.blastgrey[_ngcontent-%COMP%]{color:gray}.greyaa[_ngcontent-%COMP%]{color:#1a1f22}.darkgrey[_ngcontent-%COMP%]{color:#333}.calixblack[_ngcontent-%COMP%]{color:#1a1f22}.calixblack[_ngcontent-%COMP%]{color:#000}.calixred[_ngcontent-%COMP%]{color:#fb2d55}.calixgreen[_ngcontent-%COMP%]{color:#349885}.calixaqblue[_ngcontent-%COMP%]{color:#26c0eb}.title[_ngcontent-%COMP%]{font-size:42px;font-weight:300;line-height:53px}.title-second[_ngcontent-%COMP%]{font-size:24px!important;font-style:normal;font-weight:400!important;line-height:30px;letter-spacing:0em;text-align:left;color:#1a1f22}.heading-sm[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:22px}.listlabels[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:22px}.listdataem[_ngcontent-%COMP%]{font-size:13px;font-weight:600;line-height:21px}.listdata[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:24px}.formlabels[_ngcontent-%COMP%]{font-size:13px;font-weight:400;line-height:16px}.captions[_ngcontent-%COMP%]{font-size:11px;font-weight:600;line-height:13.2px}.chartno[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.btn-large[_ngcontent-%COMP%]{border-radius:26px;padding:12px;min-width:130px;text-align:center;font-size:20px;font-weight:400;color:#fff;box-shadow:5px 5px 10px #00000026;border:0}.btn-large.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-large.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-large.primary[_ngcontent-%COMP%]:focus{background:#0054b2;outline:none;box-shadow:none;border:0}.btn-large.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-large.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-large.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-large.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-default[_ngcontent-%COMP%]{border-radius:16px;padding:5px;min-width:86px;text-align:center;font-size:16px;font-weight:400;color:#fff;box-shadow:3px 3px 6px #00000026;border:0}.btn-default.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-default.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-default.primary[_ngcontent-%COMP%]:focus{background:#0054b2}.btn-default.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-default.btn-dft[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c;border:1px solid #CCCCCC}.btn-default.btn-dft[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-default.btn-dft[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-default.btn-dft.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-small[_ngcontent-%COMP%]{border-radius:12px;padding:3px;min-width:70px;text-align:center;font-size:12px;font-weight:400;color:#fff;box-shadow:2px 2px 4px #00000026;border:0}.btn-small.primary[_ngcontent-%COMP%]{background:#0279ff}.btn-small.primary[_ngcontent-%COMP%]:hover{background:#0054b2}.btn-small.primary[_ngcontent-%COMP%]:focus{background:#EBEAEF}.btn-small.disabled[_ngcontent-%COMP%]{background:rgba(2,121,255,.26)}.btn-small.btn-default[_ngcontent-%COMP%]{background:#F8F8FA;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:hover{background:#EBEAEF;color:#4c4c4c}.btn-small.btn-default[_ngcontent-%COMP%]:focus{background:#EBEAEF;color:#0279ff}.btn-small.btn-default.disabled[_ngcontent-%COMP%]{opacity:.49}.btn-round[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;display:flex;justify-content:center;align-items:center;border:0;background-position:center;background-repeat:no-repeat;padding:0}.btn-round.info-round[_ngcontent-%COMP%]{width:32px;height:32px}.btn-round.primary[_ngcontent-%COMP%]{background-color:#0279ff}.btn-round.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-round.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-round[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none;border:0}.btn-round.btn-small-24[_ngcontent-%COMP%]{width:24px;height:24px}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-round.btn-small-24.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow[_ngcontent-%COMP%]{height:32px;line-height:32px;min-width:110px;text-align:center;border:0;padding:0;box-shadow:2px 2px 4px #00000026;font-size:16px;font-weight:400;color:#1a1f22;justify-content:center;align-items:center;position:relative;border-radius:26px}.btn-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;top:-2px}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]{box-shadow:none}.btn-arrow.btn-arr-prev[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.btn-arrow.btn-arr-nxt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:10px}.btn-arrow.primary[_ngcontent-%COMP%]{background-color:#0279ff;color:#fff}.btn-arrow.primary[_ngcontent-%COMP%]:hover{background-color:#0054b2}.btn-arrow.primary[_ngcontent-%COMP%]:focus{background-color:#0054b2;outline:none;box-shadow:none;border:0}.btn-arrow.btn-grey[_ngcontent-%COMP%]{background-color:#f8f8fa}.btn-arrow.btn-grey[_ngcontent-%COMP%]:hover{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}.btn-arrow.btn-grey[_ngcontent-%COMP%]:focus{background-color:#ebeaef;background-position:center;background-repeat:no-repeat}[type=radio][_ngcontent-%COMP%]:checked, [type=radio][_ngcontent-%COMP%]:not(:checked){width:16px;height:16px;min-height:16px;position:relative!important;cursor:pointer;appearance:none;-webkit-appearance:none;-moz-appearance:none}[type=radio][_ngcontent-%COMP%]:checked:before, [type=radio][_ngcontent-%COMP%]:checked:after, [type=radio][_ngcontent-%COMP%]:not(:checked):before{content:"";position:absolute;border-radius:100%}[type=radio][_ngcontent-%COMP%]:checked:before{background:#0279FF;width:16px;height:16px;top:0px}[type=radio][_ngcontent-%COMP%]:checked:after{width:12px;height:12px;background:#0279FF;top:2px;left:2px;border:1px solid #ffffff;z-index:9}[type=radio][_ngcontent-%COMP%]:not(:checked):before{background:#ffffff;border:1px solid #CCCCCC;width:16px;height:16px}[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], [type=radio][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{position:relative;padding-left:10px;cursor:pointer;display:inline-block;color:#666}[type=radio][_ngcontent-%COMP%]:checked:disabled:before{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:checked:disabled:after{background:#b4d7ff}[type=radio][_ngcontent-%COMP%]:disabled, [type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{cursor:not-allowed}[type=radio][_ngcontent-%COMP%]:not(:checked):hover:before{background:#ffffff;border:1px solid #0279FF}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]:not(:checked):disabled:hover:before{background:#F9F9FB;border:1px solid #e6e6e6}[type=radio][_ngcontent-%COMP%]{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:focus{border-color:transparent!important}[type=radio][_ngcontent-%COMP%]:active{border-color:transparent!important}.label-link[_ngcontent-%COMP%]{margin-bottom:15px}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;text-decoration:underline!important;font-weight:600;cursor:pointer}.label-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0279ff}.app-info[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#F8F8FA}.link[_ngcontent-%COMP%]{text-decoration:underline!important;cursor:pointer;color:#1a1f22}.link[_ngcontent-%COMP%]:hover{color:#0279ff}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-30[_ngcontent-%COMP%]{width:30%}.nodata[_ngcontent-%COMP%]{text-align:center;font-size:16px}.box[_ngcontent-%COMP%]{float:left;height:15px;width:15px;padding:10px;border:1px solid black;clear:both}']}),w)},53668:function(t,n,o){o.d(n,{F:function(){return u}});var a,r=o(91841),l=o(40205),s=o(92340),g=o(5304),c=o(37716),d={headers:new r.WM({})},u=((a=function(){function t(i){e(this,t),this.httpClient=i,this.baseURL=s.N.calixAdminURL,this.OrgBaseURL=s.N.CALIX_ADMIN_ORG_BASE_URL,this.org_id=s.N.faAdminOrgId,this.users=this.baseURL+"users",this.userDelete=this.baseURL+"user",this.userAdd=this.baseURL+"user/signup",this.roles=this.baseURL+"roles",this.roleDelete=this.baseURL+"role",this.deactivateUsersList=this.baseURL+"dpu/list",this.aclList=this.baseURL+"org/50/orgacl",this.ssoconfigAdd=this.baseURL+"config",this.ssoconfigUpdate=this.baseURL+"config",this.ssoconfigGet=this.baseURL+"config/org/",this.ssoconfigDelete=this.baseURL+"config/",this.aclDelete=this.baseURL+"org/12622588/orgacl",this.aclAdd=this.baseURL+"org/50/orgacl",this.acsList=this.OrgBaseURL+"orgshare/acs",this.acsUpdate=this.OrgBaseURL+"orgshare/acs",this.acsDelete=this.baseURL+"orgshare/acs/remove/1234",this.orgInfo=this.OrgBaseURL+"organizations/50",this.orgInfoEntitlements=this.OrgBaseURL+"entitlements/50"}return i(t,[{key:"UsersCountByOrgId",value:function(e){return this.httpClient.get("".concat(this.baseURL,"org/").concat(e,"/users/_count"),d)}},{key:"UsersList",value:function(){return this.httpClient.get(this.users,d)}},{key:"UsersListByOrgId",value:function(e,t){return this.httpClient.get("".concat(this.baseURL,"org/").concat(e,"/users?size=").concat(t),d)}},{key:"UserDelete",value:function(e){return this.httpClient.delete("".concat(this.userDelete,"/").concat(e),d)}},{key:"UserAdd",value:function(e){return this.httpClient.put("".concat(this.userAdd),e,d)}},{key:"RolesList",value:function(){return this.httpClient.get(this.roles,d)}},{key:"RolesListByOrgID",value:function(e){return this.httpClient.get("".concat(this.baseURL,"org/").concat(e,"/roles"),d)}},{key:"RoleDelete",value:function(e){return this.httpClient.delete("".concat(this.roleDelete,"/").concat(e),d)}},{key:"DeactivateUsersList",value:function(){return this.httpClient.get(this.deactivateUsersList,d)}},{key:"AclList",value:function(e){return this.httpClient.get("".concat(s.N.calixAdminURL,"org/").concat(e,"/orgacl"),d)}},{key:"AclAdd",value:function(e,t){return this.httpClient.post("".concat(s.N.calixAdminURL,"org/").concat(t,"/orgacl"),e,d)}},{key:"AclDelete",value:function(e){return this.httpClient.delete("".concat(s.N.calixAdminURL,"org/").concat(e,"/orgacl"),d)}},{key:"SSOConfigAdd",value:function(e){return this.httpClient.put("".concat(this.ssoconfigAdd),e,d)}},{key:"SSOConfigUpdate",value:function(e,t){return this.httpClient.post("".concat(this.ssoconfigUpdate,"/").concat(t),e,d)}},{key:"SSOConfigGet",value:function(e){return this.httpClient.get("".concat(s.N.calixAdminURL,"config/org/").concat(e),d)}},{key:"SSOConfigDelete",value:function(e){return this.httpClient.delete("".concat(this.ssoconfigDelete,"/").concat(e),d)}},{key:"ACSList",value:function(e){return this.httpClient.get("".concat(s.N.CALIX_ADMIN_ORG_BASE_URL,"orgshare/acs/").concat(e),d)}},{key:"ACSAdd",value:function(e){return this.httpClient.post("".concat(s.N.CALIX_ADMIN_ORG_BASE_URL,"orgshare/acs"),e,d)}},{key:"AcsDelete",value:function(){return this.httpClient.get(this.acsDelete,d)}},{key:"ACSUpdate",value:function(e,t){return this.httpClient.put("".concat(s.N.CALIX_ADMIN_ORG_BASE_URL,"orgshare/acs/").concat(t),e,d)}},{key:"orgInformation",value:function(e){return this.httpClient.get("".concat(s.N.CALIX_ADMIN_ORG_BASE_URL,"organizations/").concat(e),d)}},{key:"orgInfoEntitlement",value:function(e){return this.httpClient.get("".concat(s.N.CALIX_ADMIN_ORG_BASE_URL,"entitlements/").concat(e),d)}},{key:"OrganzationDetail",value:function(e){return this.httpClient.get("".concat(s.N.CALIX_ADMIN_ORG_BASE_URL,"organizations/").concat(e),d)}},{key:"GetSpeedTestData",value:function(e){return this.httpClient.get("".concat(s.N.SUPPORT_URL,"/device/speed-test/config/").concat(e))}},{key:"UpdateSpeedTestData",value:function(e,t){return this.httpClient.put("".concat(s.N.SUPPORT_URL,"/device/speed-test/config/").concat(e),t)}},{key:"AddSpeedTestData",value:function(e){return this.httpClient.post("".concat(s.N.calixAdminURL,"speedtest/organization"),e,d)}},{key:"DeleteSpeedTestData",value:function(e){return this.httpClient.delete("".concat(s.N.calixAdminURL,"speedtest/organization/").concat(e),d)}},{key:"callRestApi",value:function(e,t){return this.httpClient.get("".concat(e),d).pipe((0,g.K)(this.handleError))}},{key:"handleError",value:function(e){return(0,l._)(e)}},{key:"DeleteRolesListByUserId",value:function(e){return this.httpClient.delete("".concat(s.N.calixAdminURL,"user/").concat(e,"/roles"),d)}},{key:"GetHostData",value:function(e){return this.httpClient.get("".concat(e))}},{key:"GetACSData",value:function(e){return this.httpClient.get("".concat(s.N.calixAdminURL,"acs/organization/").concat(e))}},{key:"UpdateACSData",value:function(e,t){return this.httpClient.put("".concat(s.N.calixAdminURL,"acs/organization/").concat(t),e,d)}},{key:"getOrgInfo",value:function(e){return this.httpClient.get("".concat(s.N.CALIX_ADMIN_ORG_BASE_URL,"organizations/").concat(e),d)}},{key:"fetchBillingSummaryInfo",value:function(){return this.httpClient.get("".concat(s.N.API_BASE_URL,"billing/subscriber-pipeline/summary"))}}]),t}()).\u0275fac=function(e){return new(e||a)(c.LFG(r.eN))},a.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a)}}])}();