"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[8617],{82572:function(e,t,i){i.d(t,{t:function(){return L}});var s=i(37716),r=i(3679),n=i(79765),a=i(46782),o=i(88002);function l(e){const t=e.charCode;return 13===e.keyCode||(t<48||t>57?(e.preventDefault(),!1):void 0)}var u=i(92340),c=i(7450),g=i(39895),d=i(91841),h=i(38048),p=i(39075),m=i(38583),f=i(27492);let b=(()=>{class e{constructor(){this.customDigitCheck=[]}validate(e){return(0,f.eS)(this.customDigitCheck[0],this.customDigitCheck[1])(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","customDigitCheck",""]],inputs:{customDigitCheck:"customDigitCheck"},features:[s._Bn([{provide:r.Cf,useExisting:e,multi:!0}])]}),e})();var w=i(26329),Z=i(77351),v=i(74062),x=i(28931),_=i(99178),T=i(74375);let A=(()=>{class e{validate(e){if(r.kI.required(e))return null;let t=e.value;return t?t.startsWith(this.customStartsWith)?null:{customStartsWith:!0}:void 0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","customStartsWith","","formControlName",""],["","customStartsWith","","formControl",""],["","customStartsWith","","ngModel",""]],inputs:{customStartsWith:"customStartsWith"},features:[s._Bn([{provide:r.Cf,useExisting:e,multi:!0}])]}),e})(),q=(()=>{class e{validate(e){if(r.kI.required(e))return null;let t=e.value;return t?t.endsWith(this.customEndsWith)?{customEndsWith:!0}:null:void 0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","customEndsWith","","formControlName",""],["","customEndsWith","","formControl",""],["","customEndsWith","","ngModel",""]],inputs:{customEndsWith:"customEndsWith"},features:[s._Bn([{provide:r.Cf,useExisting:e,multi:!0}])]}),e})();const O=["nameRef"];function S(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",34),s.TgZ(1,"span",35),s._UZ(2,"img",36),s.qZA(),s.TgZ(3,"button",37),s.NdJ("click",function(){return s.CHM(e),s.oxw().closeAlert()}),s._UZ(4,"span"),s.qZA(),s._UZ(5,"div",38),s.qZA()}if(2&e){const e=s.oxw();s.xp6(5),s.Q6J("innerHtml",e.errorInfo,s.oJD)}}function I(e,t){if(1&e&&(s.TgZ(0,"span",39),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" ",e.language.Enter_A_Value,"")}}function C(e,t){if(1&e&&(s.TgZ(0,"span",40),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" ",e.language.Name_required_validation1,"")}}function M(e,t){if(1&e&&(s.TgZ(0,"span",40),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" ",e.language.Name_required_validation2,"")}}function P(e,t){if(1&e&&(s.TgZ(0,"div",41),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" ",e.language.Enter_A_Value," ")}}function N(e,t){if(1&e&&(s.TgZ(0,"div",41),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" ",e.language.ShortTimer_Value_Hint_Min," ")}}function y(e,t){if(1&e&&(s.TgZ(0,"div",41),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" ",e.language.ShortTimer_Value_Hint_Max," ")}}function D(e,t){if(1&e&&(s.TgZ(0,"div",42),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" ",e.language.Enter_A_Value," ")}}function k(e,t){if(1&e&&(s.TgZ(0,"div",42),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" ",e.language.Digit_Validation_Dial_New," ")}}function E(e,t){if(1&e&&(s.TgZ(0,"div",42),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" ",e.language.longDigitTimer_Value_Hint_Min," ")}}function U(e,t){if(1&e&&(s.TgZ(0,"div",42),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" ",e.language.longDigitTimer_Value_Hint_Max," ")}}function J(e,t){if(1&e&&(s.TgZ(0,"div",43),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" ",e.language.Enter_A_Value," ")}}function V(e,t){if(1&e&&(s.TgZ(0,"div",43),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" ",e.language.Rules_Validation," ")}}function j(e,t){if(1&e&&(s.TgZ(0,"div",42),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" ",e.language.Rules_Validation2," ")}}function R(e,t){if(1&e&&(s.TgZ(0,"div",42),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" ",e.language["Invalid Rule"]," ")}}function Q(e,t){if(1&e&&(s.TgZ(0,"button",44),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" ",e.language.submit," ")}}const Y=function(){return["digitShortTimer","digitlongTimer"]},F=function(e){return[e]};let L=(()=>{class e{constructor(e,t,i,r,a,o,u){this.translateService=e,this.formBuilder=t,this.router=i,this.activatedRoute=r,this.http=a,this.sso=o,this.titleService=u,this.onClose=new s.vpe,this.numberOnly=l,this.unSubscribeParam$=new n.xQ,this.valueLessShort=!1,this.hasWriteAccess=!1,this.hasScopeAccess=!1,this.btnDisabled=!1,this.error=!1,this.errorInfo="",this.successInfo="",this.nameDisbable=!1,this.rulesPattern="^\\^[^\\|\\^]*(\\|\\^[^\\|\\^]*)*\\|?$",this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.isEmptySpace=!1,this.regexObj={name:/^[a-zA-Z0-9_\s-]+$/,rules:{startsWith:"^",endsWith:"^",match:"^\\^[^\\|\\^]*(\\|\\^[^\\|\\^]*)*\\|?$"}},this.errors={name:"",descriptioin:"",shortTimer:"",longTimer:"",rules:""},this.createDialPlanFormGroup(),this.dialPlanObj={name:null,description:null,shortTimer:null,longTimer:null,rules:null}}ngOnChanges(e){this.id=this.Id,this.editModalInput?(this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.dialPlanObj={name:null,description:null,shortTimer:null,longTimer:null,rules:null},this.dialPlanObj=this.editModalInput,this.dialPlanFormGroup.patchValue(this.dialPlanObj),this.nameDisbable=!0,this.id=this.editModalInput._id,this.viewDialPlan()):this.nameDisbable=!1}setTitle(e){this.router.url.includes("cco-foundation")?this.titleService.setTitle(`${this.language["Dial Plans"]}  - ${this.language["Workflow Prerequisites"]} - ${this.language.configuration} - ${this.language.Deployment} - ${this.language["Calix Cloud"]}`):this.router.url.includes("/cco/services/service-profiles/dial-plan")?this.titleService.setTitle(`${this.language["RG Dial Plans"]} - ${this.language["Services Profiles"]} - ${this.language.Services} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`):this.router.url.includes("/support/netops-management")&&this.titleService.setTitle(`${this.language["Dial Plans"]} - ${this.language.Configurations} - ${this.language.NetOps} - ${this.language.Service} - ${this.language["Calix Cloud"]}`)}ngOnInit(){var e,t;this.id=this.Id,this.editModalInput?(this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.dialPlanObj={name:null,description:null,shortTimer:null,longTimer:null,rules:null},this.dialPlanObj=this.editModalInput,this.dialPlanFormGroup.patchValue(this.dialPlanObj),this.nameDisbable=!0,this.id=this.editModalInput._id,this.viewDialPlan()):this.nameDisbable=!1,this.id=this.activatedRoute.snapshot.paramMap.get("id"),this.id&&this.viewDialPlan(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.errors.name=this.language.Enter_A_Value,this.errors.shortTimer=this.language["Please enter a value less than or equal to 16"],this.errors.longTimer=this.language.Enter_A_Value,this.errors.longTimer=this.language.Name_Validation2_dial_new,this.errors.rules=this.language.Rules_Validation,this.errors.rules=this.language.Rules_Validation2,this.errors.rules=this.language["Invalid Rule"],this.errors.name=this.language.Enter_A_Value,this.errors.shortTimer=this.language.Enter_A_Value,this.errors.longTimer=this.language.Enter_A_Value,this.errors.name=this.language["Please enter value between 4 and 20 characters long"],this.errors.name=this.language.Name_Validation_dial_new,this.errors.shortTimer=this.language["Please enter a value greater than or equal to 1"],this.errors.shortTimer=this.language["Please enter a value less than or equal to 16"],this.errors.shortTimer=this.language.Number_Validation_Dial_New,this.errors.longTimer=this.language.Digit_Validation_Dial_New,this.errors.longTimer=this.language.Value_Hint,this.setTitle(this.router.url)}),this.setTitle(this.router.url),this.routerState$=this.activatedRoute.paramMap.pipe((0,a.R)(this.unSubscribeParam$),(0,o.U)(()=>window.history.state)),this.routerState$.subscribe(e=>{e&&null!=e.dialPlanObj&&(this.dialPlanObj=e.dialPlanObj,this.dialPlanFormGroup.patchValue(this.dialPlanObj),this.nameDisbable=!0)});let i=this.sso.getScopes();this.router.url.includes("cco-foundation")||this.router.url.includes("cco/services/service-profiles/dial-plan")?this.router.url.includes("cco/services/service-profiles/dial-plan")?u.N.VALIDATE_SCOPE?((null===(e=i["cloud.rbac.coc.services.serviceprofiles.rgdialplans"])||void 0===e?void 0:e.length)&&(this.hasScopeAccess=!0),i&&(null===(t=i["cloud.rbac.coc.services.serviceprofiles.rgdialplans"])||void 0===t?void 0:t.includes("write"))&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):u.N.VALIDATE_SCOPE?(i["cloud.rbac.foundation.configurations"]=i["cloud.rbac.foundation.configurations"]?i["cloud.rbac.foundation.configurations"]:[],i&&i["cloud.rbac.foundation.configurations"].includes("write")&&(this.hasWriteAccess=!0,this.hasScopeAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):u.N.VALIDATE_SCOPE?(i["cloud.rbac.csc.netops.config.dial_plan"]=i["cloud.rbac.csc.netops.config.dial_plan"]?i["cloud.rbac.csc.netops.config.dial_plan"]:[],i&&i["cloud.rbac.csc.netops.config.dial_plan"]&&-1!==i["cloud.rbac.csc.netops.config.dial_plan"].indexOf("write")&&(this.hasWriteAccess=!0,this.hasScopeAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0),this.hasScopeAccess||this.sso.setPageAccess(!1)}ngAfterViewInit(){}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe(),this.unSubscribeParam$&&this.unSubscribeParam$.next(),this.unSubscribeParam$&&this.unSubscribeParam$.complete()}createDialPlanFormGroup(){this.dialPlanFormGroup=this.formBuilder.group({name:[null,[r.kI.required,r.kI.maxLength(20),r.kI.minLength(4),r.kI.pattern("/^[a-zA-Z0-9_s-]+$/")]],description:null,shortTimer:[null,[r.kI.required,r.kI.maxLength(2),r.kI.max(16),r.kI.min(1)]],longTimer:[null,[r.kI.required,r.kI.maxLength(2),r.kI.max(20),r.kI.min(4)]],rules:[null,r.kI.required]})}validateTimer(){this.dialPlanFormGroup.get("longTimer").valueChanges.subscribe(e=>{e&&Number(e)<this.shortTimer.value&&this.longTimer.setErrors({exceedsError:!0})})}validateRules(){this.dialPlanFormGroup.get("rules").valueChanges.subscribe(e=>{e&&!e.startsWith("^",0)?this.rules.setErrors({invalidStartRule:!0}):e&&e.endsWith("^")&&this.rules.setErrors({invalidEndRule:!0})})}goBack(e){this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.onClose.emit("close")}onSubmit(){}verifyName(){if(this.error=!1,this.errors.name="",this.valueLessShort=!1,!this.input.name)return this.errors.name=this.language.Enter_A_Value,void(this.error=!0);let e=this.input.name.length;return e<4||e>20?(this.errors.name=this.language.Number_hint,void(this.error=!0)):this.regexObj.name.test(this.input.name)?void 0:(this.errors.name=this.language.Name_Validation_dial_new,void(this.error=!0))}verifyShorTimer(){return this.error=!1,this.errors.shortTimer="",this.valueLessShort=!1,this.input.shortTimer?this.input.shortTimer.length<1?(this.errors.shortTimer=this.language["Please enter a value greater than or equal to 1"],void(this.error=!0)):this.input.shortTimer.length>16?(this.errors.shortTimer=this.language.Value_Hint_Max,void(this.error=!0)):void 0:(this.errors.shortTimer=this.language.Enter_A_Value,void(this.error=!0))}verifyLongimer(){return this.error=!1,this.errors.longTimer="",this.valueLessShort=!1,this.input.longTimer?this.input.longTimer<=this.input.shortTimer?(this.errors.longTimer=this.language.Digit_Validation_Dial_New,this.error=!0,void(this.input.longTimer<4&&(this.valueLessShort=!0))):this.input.longTimer>20?(this.errors.longTimer=this.language.Name_Validation2_dial_new,void(this.error=!0)):void 0:(this.errors.longTimer=this.language.Enter_A_Value,void(this.error=!0))}verifyRules(){return this.error=!1,this.errors.shortTimer="",this.valueLessShort=!1,this.input.rules.startsWith("^")?this.input.rules.endsWith("^")?(this.errors.rules=this.language.Rules_Validation2,void(this.error=!0)):this.input.rules.match("^\\^[^\\|\\^]*(\\|\\^[^\\|\\^]*)*\\|?$")?void 0:(this.errors.rules=this.language["Invalid Rule"],void(this.error=!0)):(this.errors.rules=this.language.Rules_Validation,void(this.error=!0))}nameSpaceNotAlloed(e){var t;this.isEmptySpace=0==(null===(t=e.target.value)||void 0===t?void 0:t.trim().length)}doSubmit(){if(this.error=!1,this.errors={name:"",descriptioin:"",shortTimer:"",longTimer:"",rules:""},this.valueLessShort=!1,!this.input.name)return this.errors.name=this.language.Enter_A_Value,void(this.error=!0);if(this.input.shortTimer||(this.errors.shortTimer=this.language.Enter_A_Value,this.error=!0),this.input.longTimer||(this.errors.longTimer=this.language.Enter_A_Value,this.error=!0),!this.input.rules.startsWith("^"))return this.errors.rules=this.language.Rules_Validation,void(this.error=!0);let e=this.input.name.length;if(this.input.name&&e<4||e>20)return this.errors.name=this.language["Please enter value between 4 and 20 characters long"],void(this.error=!0);if(this.input.name&&!this.regexObj.name.test(this.input.name))return this.errors.name=this.language.Name_Validation_dial_new,void(this.error=!0);if(this.input.shortTimer&&this.input.shortTimer<1)return this.errors.shortTimer=this.language["Please enter a value greater than or equal to 1"],void(this.error=!0);if(this.input.shortTimer&&this.input.shortTimer>16)return this.errors.shortTimer=this.language.Number_Validation_Dial_New,void(this.error=!0);if(this.input.longTimer<=this.input.shortTimer)return this.errors.longTimer=this.language.Digit_Validation_Dial_New,this.error=!0,void(this.input.longTimer<4&&(this.valueLessShort=!0));if(this.input.longTimer&&this.input.longTimer<4)return this.errors.longTimer=this.language.Value_Hint,void(this.error=!0);if(this.input.longTimer&&this.input.longTimer<this.input.shortTimer)return this.errors.longTimer=this.language.Digit_Validation_Dial_New,void(this.error=!0);if(this.input.longTimer&&this.input.longTimer>20)return this.errors.longTimer=this.language.Name_Validation2_dial_new,void(this.error=!0);if(this.input.rules.endsWith("^"))return this.errors.rules=this.language.Rules_Validation2,void(this.error=!0);if(!this.input.rules.match("^\\^[^\\|\\^]*(\\|\\^[^\\|\\^]*)*\\|?$"))return this.errors.rules=this.language["Invalid Rule"],void(this.error=!0);if(this.input.rules=this.input.rules.toString().includes("|")?this.input.rules.toString().split("|"):this.input.rules.toString().split(),this.btnDisabled=!1,this.id=this.Id,this.id){delete this.input._id;let e=`${u.N.SUPPORT_URL}/netops-dp/dial-plan/${this.id}?${this.sso.getOrg(this.orgId)}_id=${this.id}`;this.http.put(e,this.input).subscribe(e=>{this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.onClose.emit("submit")},e=>{this.input.rules&&(this.input.rules=this.input.rules.length>1?this.input.rules.join("|"):this.input.rules.toString("")),this.input=this.input,this.pageErrorHandle(e)})}else{let e=`${u.N.SUPPORT_URL}/netops-dp/dial-plan?${this.sso.getOrg(this.orgId)}`;this.http.post(e,this.input).subscribe(e=>{this.input={name:"",description:"",shortTimer:"",longTimer:"",rules:""},this.onClose.emit("submit")},e=>{this.input.rules&&(this.input.rules=this.input.rules.length>1?this.input.rules.join("|"):this.input.rules.toString("")),this.input=this.input,this.pageErrorHandle(e)})}}constructDialPad(){const e=this.dialPlanFormGroup.getRawValue();return this.dialPlanObj.name=e.name.toString().trim(),this.dialPlanObj.description=null!==e.description?e.description.toString().trim():null,this.dialPlanObj.shortTimer=Number(e.shortTimer),this.dialPlanObj.longTimer=Number(e.longTimer),this.dialPlanObj.rules=e.rules.toString().includes("|")?e.rules.toString().split("|"):e.rules.toString().split(),this.dialPlanObj}get name(){return this.dialPlanFormGroup.get("name")}get description(){return this.dialPlanFormGroup.get("description")}get shortTimer(){return this.dialPlanFormGroup.get("shortTimer")}get longTimer(){return this.dialPlanFormGroup.get("longTimer")}get rules(){return this.dialPlanFormGroup.get("rules")}viewDialPlan(){let e=`${u.N.SUPPORT_URL}/netops-dp/dial-plan/${this.id}?${this.sso.getOrg(this.orgId)}_id=${this.id}`;this.http.get(e).subscribe(e=>{e.rules&&(e.rules=e.rules.length>1?e.rules.join("|"):e.rules.toString("")),this.input=e,delete this.input.orgId},e=>{this.pageErrorHandle(e)})}closeAlert(){this.error=!1,this.success=!1}showError(e){this.closeAlert(),this.errorInfo=e,this.error=!0}pageErrorHandle(e){this.btnDisabled=!1,this.errorInfo=401==e.status?this.language["Access Denied"]:this.sso.pageErrorHandle(e),this.closeAlert(),this.error=!0,$("html, body").animate({scrollTop:0},"slow")}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(c.s),s.Y36(r.qu),s.Y36(g.F0),s.Y36(g.gz),s.Y36(d.eN),s.Y36(h.t6),s.Y36(p.Dx))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-dial-plan-new"]],viewQuery:function(e,t){if(1&e&&s.Gf(O,5),2&e){let e;s.iGM(e=s.CRH())&&(t.nameRef=e.first)}},inputs:{editModalInput:"editModalInput",Id:"Id"},outputs:{onClose:"onClose"},features:[s.TTD],decls:63,vars:53,consts:[["class","w-100 alert alert-danger fade show margin-top-20",4,"ngIf"],["id","dial-plan-form","novalidate","",1,"form-group","ccl-form",3,"customDigitCheck","ngSubmit"],["myForm","ngForm"],[1,"form-group","row","ccl-form","required"],["for","name",1,"col-md-12","col-form-label"],[1,"error"],[1,"col-md-12",3,"ngClass"],["type","text","id","name","name","name","customMin","4","customMax","20","required","","aria-required","true","aria-describedby","name-error","aria-invalid","true","autocomplete","new-password","pattern","^[a-zA-Z0-9_\\s]+$","trimSpace","",1,"form-control",3,"placeholder","ngModel","disabled","formValue","ngModelChange"],["name","ngModel"],["class","pl-3","id","name-error",4,"ngIf"],["class","","id","name-error",4,"ngIf"],[1,"form-group","row","ccl-form"],["for","description",1,"col-md-12","col-form-label"],[1,"col-md-12"],["type","text","name","description","maxlength","100","id","dail-description","trimSpace","",1,"form-control",3,"placeholder","ngModel","formValue","ngModelChange"],["for","digitShortTimer",1,"col-md-12","col-form-label"],["id","digitShortTimer","type","number","required","","customNumMin","1","min","1","customNumMax","16","customNeg","","name","digitShortTimer","data-toggle","tooltip","data-placement","bottom","aria-required","true","aria-describedby","digitShortTimer-error","aria-invalid","true","autocomplete","new-password",1,"form-control",3,"ngModel","title","ngModelChange"],["digitShortTimer","ngModel"],["class","errorMessage","id","digitShortTimer-error",4,"ngIf"],["for","digitlongTimer",1,"col-md-12","col-form-label"],["id","digitlongTimer","type","number","required","","customNumMin","4","min","1","customNumMax","20","customNeg","","name","digitlongTimer","data-toggle","tooltip","data-placement","bottom","aria-required","true","aria-describedby","digitlongTimer-error","aria-invalid","true","autocomplete","new-password",1,"form-control",3,"ngModel","title","ngModelChange"],["digitlongTimer","ngModel"],["class","errorMessage","id","digitlongTimer-error",4,"ngIf"],["for","Rules",1,"col-md-12","col-form-label"],[1,"col-md-12","rules-textarea",3,"ngClass"],["id","Rules","type","number","required","","customNeg","","name","Rules","data-toggle","tooltip","customStartsWith","^","customEndsWith","^","data-placement","bottom","aria-required","true","aria-describedby","Rules-error","aria-invalid","true","autocomplete","new-password","trimSpace","",1,"form-control",3,"ngModel","placeholder","title","pattern","formValue","ngModelChange"],["Rules","ngModel"],["class","errorMessage","id","Rules-error",4,"ngIf"],[1,"row","mt-3"],[1,"col-12"],["role","toolbar","aria-label","Toolbar with button groups",1,"btn-toolbar"],["role","group","aria-label","First group",1,"btn-group","mr-2"],["type","submit","class","btn btn-primary btn-sm br-26 px-3","id","submit-btn",4,"ngIf"],["type","button","id","cancel-btn",1,"btn-default","btn-dft",3,"click"],[1,"w-100","alert","alert-danger","fade","show","margin-top-20"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button","id","err-mss",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],["id","name-error",1,"pl-3"],["id","name-error",1,""],["id","digitShortTimer-error",1,"errorMessage"],["id","digitlongTimer-error",1,"errorMessage"],["id","Rules-error",1,"errorMessage"],["type","submit","id","submit-btn",1,"btn","btn-primary","btn-sm","br-26","px-3"]],template:function(e,t){if(1&e){const e=s.EpF();s.YNc(0,S,6,1,"div",0),s.TgZ(1,"form",1,2),s.NdJ("ngSubmit",function(){return s.CHM(e),s.MAs(2).form.valid&&t.doSubmit()}),s.TgZ(3,"div",3),s.TgZ(4,"label",4),s._uU(5),s.TgZ(6,"span",5),s._uU(7,"*"),s.qZA(),s.qZA(),s.TgZ(8,"div",6),s.TgZ(9,"input",7,8),s.NdJ("ngModelChange",function(e){return t.input.name=e})("ngModelChange",function(e){return t.nameSpaceNotAlloed(e)}),s.qZA(),s.YNc(11,I,2,1,"span",9),s.YNc(12,C,2,1,"span",10),s.YNc(13,M,2,1,"span",10),s.qZA(),s.qZA(),s.TgZ(14,"div",11),s.TgZ(15,"label",12),s._uU(16),s.qZA(),s.TgZ(17,"div",13),s.TgZ(18,"input",14),s.NdJ("ngModelChange",function(e){return t.input.description=e}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"div",3),s.TgZ(20,"label",15),s._uU(21),s.TgZ(22,"span",5),s._uU(23,"*"),s.qZA(),s.qZA(),s.TgZ(24,"div",6),s.TgZ(25,"input",16,17),s.NdJ("ngModelChange",function(e){return t.input.shortTimer=e}),s.qZA(),s.YNc(27,P,2,1,"div",18),s.YNc(28,N,2,1,"div",18),s.YNc(29,y,2,1,"div",18),s.qZA(),s.qZA(),s.TgZ(30,"div",3),s.TgZ(31,"label",19),s._uU(32),s.TgZ(33,"span",5),s._uU(34,"*"),s.qZA(),s.qZA(),s.TgZ(35,"div",6),s.TgZ(36,"input",20,21),s.NdJ("ngModelChange",function(e){return t.input.longTimer=e}),s.qZA(),s.YNc(38,D,2,1,"div",22),s.YNc(39,k,2,1,"div",22),s.YNc(40,E,2,1,"div",22),s.YNc(41,U,2,1,"div",22),s.qZA(),s.qZA(),s.TgZ(42,"div",3),s.TgZ(43,"label",23),s._uU(44),s.TgZ(45,"span",5),s._uU(46,"*"),s.qZA(),s.qZA(),s.TgZ(47,"div",24),s.TgZ(48,"textarea",25,26),s.NdJ("ngModelChange",function(e){return t.input.rules=e}),s._uU(50,"        "),s.qZA(),s.YNc(51,J,2,1,"div",27),s.YNc(52,V,2,1,"div",27),s.YNc(53,j,2,1,"div",22),s.YNc(54,R,2,1,"div",22),s.qZA(),s.qZA(),s.TgZ(55,"div",28),s.TgZ(56,"div",29),s.TgZ(57,"div",30),s.TgZ(58,"div",31),s.YNc(59,Q,2,1,"button",32),s.qZA(),s.TgZ(60,"div",31),s.TgZ(61,"button",33),s.NdJ("click",function(){return t.goBack(null)}),s._uU(62),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.MAs(2),i=s.MAs(10),r=s.MAs(26),n=s.MAs(37),a=s.MAs(49);s.Q6J("ngIf",t.error&&t.errorInfo),s.xp6(1),s.Q6J("customDigitCheck",s.DdM(44,Y)),s.xp6(4),s.hij("",t.language.Name," "),s.xp6(3),s.Q6J("ngClass",s.VKq(45,F,(null!=i.errors&&i.errors.required||null!=i.errors&&i.errors.pattern||null!=i.errors&&i.errors.customMin||null!=i.errors&&i.errors.customMax||t.isEmptySpace)&&(e.submitted||i.touched)?"errorMessage":"")),s.xp6(1),s.s9C("placeholder",t.language.Name),s.Q6J("ngModel",t.input.name)("disabled",t.nameDisbable)("formValue",t.input),s.xp6(2),s.Q6J("ngIf",(i.touched||e.submitted)&&(null==i.errors?null:i.errors.required)||t.isEmptySpace),s.xp6(1),s.Q6J("ngIf",(i.touched||e.submitted)&&(null==i.errors?null:i.errors.pattern)),s.xp6(1),s.Q6J("ngIf",(i.touched||e.submitted)&&((null==i.errors?null:i.errors.customMin)||(null==i.errors?null:i.errors.customMax))),s.xp6(3),s.AsE("",t.language.description," (",t.language.Optional,")"),s.xp6(2),s.s9C("placeholder",t.language.description),s.Q6J("ngModel",t.input.description)("formValue",t.input),s.xp6(3),s.hij("",t.language.Digit_shortimer,"(s) "),s.xp6(3),s.Q6J("ngClass",s.VKq(47,F,(null!=r.errors&&r.errors.required||null!=r.errors&&r.errors.customNumMin||null!=r.errors&&r.errors.customNeg)&&(e.submitted||r.touched)?"errorMessage":"")),s.xp6(1),s.s9C("title",t.language.Digit_shortimer),s.Q6J("ngModel",t.input.shortTimer),s.xp6(2),s.Q6J("ngIf",(null==r.errors?null:r.errors.required)&&(e.submitted||r.touched)),s.xp6(1),s.Q6J("ngIf",((null==r.errors?null:r.errors.customNumMin)||(null==r.errors?null:r.errors.customNeg))&&(e.submitted||r.touched)),s.xp6(1),s.Q6J("ngIf",((null==r.errors?null:r.errors.customNumMax)||(null==r.errors?null:r.errors.customNeg))&&(e.submitted||r.touched)),s.xp6(3),s.hij("",t.language.Digit_longimer,"(s) "),s.xp6(3),s.Q6J("ngClass",s.VKq(49,F,(null!=n.errors&&n.errors.required||null!=n.errors&&n.errors.longDigitTimer||null!=n.errors&&n.errors.customNumMin||null!=n.errors&&n.errors.customNeg)&&(e.submitted||n.touched)?"errorMessage":"")),s.xp6(1),s.s9C("title",t.language.Digit_longimer),s.Q6J("ngModel",t.input.longTimer),s.xp6(2),s.Q6J("ngIf",(null==n.errors?null:n.errors.required)&&(e.submitted||n.touched)),s.xp6(1),s.Q6J("ngIf",(null==n.errors?null:n.errors.longDigitTimer)&&(e.submitted||n.touched)),s.xp6(1),s.Q6J("ngIf",((null==n.errors?null:n.errors.customNumMin)||(null==n.errors?null:n.errors.customNeg))&&(e.submitted||n.touched)),s.xp6(1),s.Q6J("ngIf",((null==n.errors?null:n.errors.customNumMax)||(null==n.errors?null:n.errors.customNeg))&&(e.submitted||n.touched)),s.xp6(3),s.hij("",t.language.Rules," "),s.xp6(3),s.Q6J("ngClass",s.VKq(51,F,(null!=a.errors&&a.errors.required||null!=a.errors&&a.errors.pattern)&&(e.submitted||a.touched)?"errorMessage":"")),s.xp6(1),s.MGl("placeholder","",t.language.RegEx_Pattern_eg,"::^911n|^411|^[2-9][0-9]{6}"),s.MGl("title","",t.language.RegEx_Pattern_eg,"::^911n|^411|^[2-9][0-9]{6}"),s.Q6J("ngModel",t.input.rules)("pattern",t.rulesPattern)("formValue",t.input),s.xp6(3),s.Q6J("ngIf",(null==a.errors?null:a.errors.required)&&(e.submitted||a.touched)),s.xp6(1),s.Q6J("ngIf",(null==a.errors?null:a.errors.customStartsWith)&&(e.submitted||a.touched)),s.xp6(1),s.Q6J("ngIf",(null==a.errors?null:a.errors.customEndsWith)&&(e.submitted||a.touched)),s.xp6(1),s.Q6J("ngIf",(null==a.errors?null:a.errors.pattern)&&(e.submitted||a.touched)),s.xp6(5),s.Q6J("ngIf",t.hasWriteAccess),s.xp6(3),s.hij(" ",t.language.cancel," ")}},directives:[m.O5,r._Y,r.JL,r.F,b,m.mk,r.Fj,w.a,Z.Z,r.Q7,r.c5,v.f,r.JJ,r.On,r.nD,r.qQ,r.wV,x.D,_.a,T.v,A,q],styles:[".btn-orange[_ngcontent-%COMP%]{background-color:#1d9e74;border-color:#1d9e74;color:#fff}.br-26[_ngcontent-%COMP%]{border-radius:26px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border-radius:20px;background:#F8F8FA}.form-control.is-valid[_ngcontent-%COMP%], .form-control.is-invalid[_ngcontent-%COMP%]{background-image:none;padding-right:inherit}.form-control[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.rules-textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:60px!important;height:auto}"]}),e})()},19718:function(e,t,i){i.d(t,{U:function(){return R}});var s=i(91841),r=i(79765),n=i(35758),a=i(92340),o=i(46782),l=i(88002),u=i(91704),c=i(23771),g=i(37716),d=i(7450),h=i(39075),p=i(94761),m=i(38048),f=i(39895),b=i(12664);let w=(()=>{class e{constructor(e){this.http=e}delete(e){return this.http.delete(e)}}return e.\u0275fac=function(t){return new(t||e)(g.LFG(s.eN))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Z=i(38583),v=i(82572);const x=["dialPlanDeleteModalRef"],_=["closeBtn"],T=["openDialogBtn"];function A(e,t){if(1&e&&(g.TgZ(0,"div",9),g._uU(1),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.hij(" ",e.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function q(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",10),g.TgZ(1,"span",11),g._UZ(2,"img",12),g.qZA(),g.TgZ(3,"button",13),g.NdJ("click",function(){return g.CHM(e),g.oxw().closeAlert()}),g._UZ(4,"span"),g.qZA(),g.TgZ(5,"div",14),g.TgZ(6,"strong"),g._uU(7),g.ALo(8,"titlecase"),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.xp6(7),g.Oqu(g.lcZ(8,1,e.successMsg))}}function O(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",15),g.TgZ(1,"div",16),g.TgZ(2,"span",17),g._UZ(3,"img",18),g.qZA(),g.TgZ(4,"span",19),g.TgZ(5,"span",20),g._uU(6),g.qZA(),g._UZ(7,"span",21),g.qZA(),g.TgZ(8,"button",22),g.NdJ("click",function(){return g.CHM(e),g.oxw().closeAlert()}),g._uU(9),g._UZ(10,"span"),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.xp6(6),g.hij("",e.language.Warning,"!"),g.xp6(1),g.Q6J("innerHtml",e.errorMsg,g.oJD),g.xp6(2),g.hij(" ",e.language.OK,"")}}function S(e,t){if(1&e&&(g.TgZ(0,"div",23),g.TgZ(1,"div",24),g._uU(2),g.qZA(),g.qZA()),2&e){const e=g.oxw();g.xp6(2),g.hij("",e.language["Dial Plan"]," ")}}function I(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",37,38),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).openDialog()}),g._uU(2),g.qZA()}if(2&e){const e=g.oxw(2);g.xp6(2),g.Oqu(e.language.New_Dial_Plan)}}function C(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"app-dial-plan-new",39),g.NdJ("onClose",function(t){return g.CHM(e),g.oxw(2).onModalClose(t)}),g.qZA()}if(2&e){const e=g.oxw(2);g.Q6J("editModalInput",e.editDialPlanObj)("Id",e.editDialPlanObj?e.editDialPlanObj._id:"")}}function M(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",25),g.YNc(1,I,3,1,"button",26),g.TgZ(2,"div",27),g.TgZ(3,"div",28),g.TgZ(4,"div",29),g.TgZ(5,"div",30),g.TgZ(6,"div",31),g._uU(7),g.qZA(),g.TgZ(8,"img",32),g.NdJ("click",function(){return g.CHM(e),g.oxw().closeModal()}),g.qZA(),g.qZA(),g.TgZ(9,"div",33),g.TgZ(10,"a"),g._UZ(11,"i",34,35),g.qZA(),g.YNc(13,C,1,2,"app-dial-plan-new",36),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.hasWriteAccess&&e.allowDialPlan),g.xp6(6),g.Oqu(e.language["Dial Plan"]),g.xp6(6),g.Q6J("ngIf",e.showDialog)}}function P(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",40),g.TgZ(1,"span",17),g._UZ(2,"img",41),g.qZA(),g.TgZ(3,"span"),g._uU(4),g.qZA(),g.TgZ(5,"div",42),g.TgZ(6,"button",43),g.NdJ("click",function(){return g.CHM(e),g.oxw().doDeleteDialPlan()}),g._uU(7),g.qZA(),g.TgZ(8,"button",44),g.NdJ("click",function(){return g.CHM(e),g.oxw().cancelDelete()}),g._uU(9),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.xp6(4),g.hij(" ",e.language.Dial_Plan_Confirmation1,""),g.xp6(3),g.hij(" ",e.language.Confirm," "),g.xp6(2),g.hij(" ",e.language.Cancel," ")}}function N(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"a",60),g.NdJ("click",function(t){g.CHM(e);const i=g.oxw(2).$implicit;return g.oxw(4).deleteDialPlan(i),t.stopPropagation()}),g._UZ(1,"i",61),g.qZA()}if(2&e){const e=g.oxw(6);g.s9C("title",e.language.Delete)}}function y(e,t){if(1&e&&(g.TgZ(0,"td",53),g.YNc(1,N,2,1,"a",59),g.qZA()),2&e){const e=g.oxw().$implicit;g.xp6(1),g.Q6J("ngIf","system-default"!==(null==e?null:e.name))}}function D(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tr",56),g.NdJ("click",function(t){const i=g.CHM(e).$implicit;return g.oxw(4).goToEdit(i),t.stopPropagation()}),g.TgZ(1,"td",50),g.TgZ(2,"div"),g._uU(3),g.qZA(),g.qZA(),g.TgZ(4,"td",50),g.TgZ(5,"div"),g._uU(6),g.qZA(),g.qZA(),g.TgZ(7,"td",51),g._uU(8),g.qZA(),g.TgZ(9,"td",51),g._uU(10),g.qZA(),g.TgZ(11,"td",52),g.TgZ(12,"div",57),g._uU(13),g.qZA(),g.qZA(),g.YNc(14,y,2,1,"td",58),g.qZA()}if(2&e){const e=t.$implicit,i=g.oxw(4);g.s9C("id",null==e?null:e._id),g.xp6(3),g.Oqu(null==e?null:e.name),g.xp6(3),g.Oqu(null==e?null:e.description),g.xp6(2),g.Oqu(null==e?null:e.shortTimer),g.xp6(2),g.Oqu(null==e?null:e.longTimer),g.xp6(3),g.Oqu(null==e||null==e.rules?null:e.rules.join("|")),g.xp6(1),g.Q6J("ngIf",i.hasWriteAccess)}}function k(e,t){if(1&e&&(g.TgZ(0,"tbody"),g.YNc(1,D,15,7,"tr",55),g.qZA()),2&e){const e=g.oxw(3);g.xp6(1),g.Q6J("ngForOf",e.dialPadList)}}function E(e,t){if(1&e&&(g.TgZ(0,"tbody"),g.TgZ(1,"tr"),g.TgZ(2,"td",62),g._uU(3),g.qZA(),g.qZA(),g.qZA()),2&e){const e=g.oxw(3);g.xp6(3),g.Oqu(e.language.NO_Dial_Plan_Found)}}function U(e,t){if(1&e&&(g.TgZ(0,"div",63),g.TgZ(1,"div",64),g.TgZ(2,"div",65),g.TgZ(3,"span",66),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){const e=g.oxw(3);g.xp6(4),g.Oqu(e.language.Loading)}}function J(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"div",48),g.TgZ(2,"table",49),g.TgZ(3,"thead"),g.TgZ(4,"tr"),g.TgZ(5,"th",50),g._uU(6),g.qZA(),g.TgZ(7,"th",50),g._uU(8),g.qZA(),g.TgZ(9,"th",51),g._uU(10),g.qZA(),g.TgZ(11,"th",51),g._uU(12),g.qZA(),g.TgZ(13,"th",52),g._uU(14),g.qZA(),g._UZ(15,"th",53),g.qZA(),g.qZA(),g.YNc(16,k,2,1,"tbody",47),g.YNc(17,E,4,1,"tbody",47),g.qZA(),g.YNc(18,U,5,1,"div",54),g.qZA(),g.BQk()),2&e){const e=g.oxw(2);g.xp6(2),g.Q6J("dtOptions",e.dtOptions),g.xp6(4),g.Oqu(e.language.Name),g.xp6(2),g.Oqu(e.language.description),g.xp6(2),g.Oqu(e.language.Digit_shortimer),g.xp6(2),g.Oqu(e.language.Digit_longimer),g.xp6(2),g.Oqu(e.language.Rules),g.xp6(2),g.Q6J("ngIf",(null==e.dialPadList?null:e.dialPadList.length)>0),g.xp6(1),g.Q6J("ngIf",0===(null==e.dialPadList?null:e.dialPadList.length)),g.xp6(1),g.Q6J("ngIf",e.loader)}}function $(e,t){if(1&e&&(g.TgZ(0,"div",45,46),g.YNc(2,J,19,9,"ng-container",47),g.qZA()),2&e){const e=g.oxw();g.xp6(2),g.Q6J("ngIf",e.language)}}function V(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",67),g.TgZ(1,"h4",68),g._uU(2),g.qZA(),g.TgZ(3,"button",69),g.NdJ("click",function(){return g.CHM(e).$implicit.dismiss(!1)}),g._UZ(4,"span",70),g.qZA(),g.qZA(),g.TgZ(5,"div",33),g._uU(6),g.TgZ(7,"strong",71),g._uU(8),g.qZA(),g._uU(9," ? "),g.qZA(),g.TgZ(10,"div",72),g.TgZ(11,"button",73),g.NdJ("click",function(){return g.CHM(e).$implicit.dismiss(!1)}),g._uU(12),g.qZA(),g.TgZ(13,"button",74),g.NdJ("click",function(){return g.CHM(e).$implicit.close(!0)}),g._uU(14),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.xp6(2),g.hij("",e.language.Delete_DialPlan,"!"),g.xp6(4),g.hij(" ",e.language.Dial_Plan_Confirmation2," "),g.xp6(2),g.Oqu(null==e.dialPlanObj?null:e.dialPlanObj.name),g.xp6(4),g.Oqu(e.language.Close),g.xp6(2),g.Oqu(e.language.Delete)}}const j=function(){return["/support/netops-management/configuration/dial-plan","/cco/operations/cco-system-operations/sub-profile","/cco/operations/cco-subscriber-operations/configurations/dial-plan","/cco-foundation/foundation-operations/foundation-system-operation/sub-profile","/cco-foundation/foundation-configuration/configuration-prerequisites/dial-plan","/cco/services/service-profiles/dial-plan"]};let R=(()=>{class e{constructor(e,t,i,s,n,o,l,u){this.translateService=e,this.titleService=t,this.httpService=i,this.authService=s,this.router=n,this.activatedRoute=o,this.modalService=l,this.httpDialPlan=u,this.dtOptions={},this.loader=!1,this.showDialog=!0,this.unSubscribeParam$=new r.xQ,this.dialPadUrl=`${a.N.SUPPORT_URL}/netops-dp/dial-plan`,this.dialPadCountUrl=`${a.N.SUPPORT_URL}/netops-dp/dial-plan/count`,this.dialPlanName="",this.hasWriteAccess=!1,this.allowDialPlan=!0,this.hasScopeAccess=!1,this.editMode=!1,this.loader=!0}setTitle(e){this.router.url.includes("cco-foundation")?this.titleService.setTitle(`${this.language["Dial Plans"]}  - ${this.language["Workflow Prerequisites"]} - ${this.language.configuration} - ${this.language.Deployment} - ${this.language["Calix Cloud"]}`):this.router.url.includes("/cco/services/service-profiles/dial-plan")?this.titleService.setTitle(`${this.language["RG Dial Plans"]} - ${this.language["Services Profiles"]} - ${this.language.Services} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`):this.router.url.includes("/support/netops-management")&&this.titleService.setTitle(`${this.language["Dial Plans"]} - ${this.language.Configurations} - ${this.language.NetOps} - ${this.language.Service} - ${this.language["Calix Cloud"]}`)}ngOnInit(){var e,t;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.setTitle(this.router.url)}),this.setTitle(this.router.url);let i=this.authService.getEntitlements();this.router.url.includes("cco/services")&&i[210]&&!i[102]&&(this.allowDialPlan=!1);let s=this.authService.getScopes();this.router.url.includes("cco-foundation")||this.router.url.includes("cco/services/service-profiles/dial-plan")?this.router.url.includes("cco/services/service-profiles/dial-plan")?a.N.VALIDATE_SCOPE?((null===(e=s["cloud.rbac.coc.services.serviceprofiles.rgdialplans"])||void 0===e?void 0:e.length)&&(this.hasScopeAccess=!0),s&&(null===(t=s["cloud.rbac.coc.services.serviceprofiles.rgdialplans"])||void 0===t?void 0:t.includes("write"))&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):a.N.VALIDATE_SCOPE?(s["cloud.rbac.foundation.configurations"]=s["cloud.rbac.foundation.configurations"]?s["cloud.rbac.foundation.configurations"]:[],s["cloud.rbac.foundation.configurations"].length&&(this.hasScopeAccess=!0),s&&s["cloud.rbac.foundation.configurations"].includes("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0):a.N.VALIDATE_SCOPE?(s["cloud.rbac.csc.netops.config.dial_plan"]=s["cloud.rbac.csc.netops.config.dial_plan"]?s["cloud.rbac.csc.netops.config.dial_plan"]:[],s["cloud.rbac.csc.netops.config.dial_plan"].length&&(this.hasScopeAccess=!0),s&&s["cloud.rbac.csc.netops.config.dial_plan"]&&-1!==s["cloud.rbac.csc.netops.config.dial_plan"].indexOf("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0),this.hasScopeAccess?(this.validateScopeStage=`${a.N.API_BASE}`.indexOf("/dev.api.calix.ai")>-1,this.dialPlanObj||this.loadDialPadList()):this.authService.setPageAccess(!1)}ngAfterViewInit(){this.routerState$=this.activatedRoute.paramMap.pipe((0,o.R)(this.unSubscribeParam$),(0,l.U)(()=>window.history.state)),this.routerState$.subscribe(e=>{e&&null!=e.dialPlanObj&&(this.dialPlanObj=e.dialPlanObj,this.triggerSaveOrEdit())})}ngOnDestroy(){this.languageSubject.unsubscribe(),this.unSubscribeParam$.next(),this.unSubscribeParam$.complete()}triggerSaveOrEdit(){this.dialPlanObj&&!this.dialPlanObj.hasOwnProperty("_id")?this.httpService.post(this.dialPadUrl,this.dialPlanObj,this.constructParam(null)).subscribe(e=>{e&&(this.loadDialPadList(),this.reDrawTable())},e=>{this.showErrorAlert(this.httpService.handleError(e))}):this.dialPlanObj&&this.dialPlanObj.hasOwnProperty("_id")&&this.httpService.put(this.dialPadUrl+`/${this.dialPlanObj._id}`,this.dialPlanObj,this.constructParam(null)).subscribe(()=>{this.loadDialPadList(),this.reDrawTable()},e=>{this.showErrorAlert(this.httpService.handleError(e))})}showSuccessAlert(e){u(".alert.alert-success").show(),this.successMsg=e,setTimeout(()=>{this.closeAlert()},2e3)}showErrorAlert(e){u(".alert.alert-error").show(),this.errorMsg=e,setTimeout(()=>{this.closeAlert()},2e3)}showDeleteAlert(e){u(".alert.alert-error").show(),u(".alert.alert-error").addClass("alert-danger"),this.errorMsg=e}closeAlert(){u(".alert").hide()}loadDialPadList(){this.dtOptions={paging:!1,dom:"t",searching:!1,lengthChange:!1,destroy:!0,ordering:!1,serverSide:!0,processing:!1,columns:[{data:"name"},{data:"description"},{data:"shortTimer"},{data:"longTimer"},{data:"rules"},{data:null}],ajax:(e,t)=>{const i=this.httpService.get(this.dialPadUrl,this.constructParam(e)),s=this.httpService.get(this.dialPadCountUrl,this.constructParam(null));(0,n.D)([i,s]).subscribe(e=>{this.dialPadList=e[0],this.dialPadCount=e[1].count,this.loader=!1,t({recordsTotal:this.dialPadCount,recordsFiltered:this.dialPadCount,data:[]})},e=>{this.loader=!1,this.showErrorAlert(this.httpService.handleError(e))})}}}constructParam(e){return this.httpParams=new s.LE,this.authService.getOrg(this.orgId)&&this.httpParams.set("orgId",this.orgId),null!==e&&(this.httpParams=this.httpParams.set("limit","0"),this.httpParams=this.httpParams.set("skip","0")),this.httpParams}goToEdit(e){"system-default"!==(null==e?void 0:e.name)&&(this.editDialPlanObj=e,this.editMode=!0,this.openDialogBtn.nativeElement.click(),this.showDialog=!0)}deleteDialPlan(e){this.dialPlanObj=e,this.dialPlanName=null==e?void 0:e.name,u("html, body").animate({scrollTop:0},"slow")}reDrawTable(){this.dtElement.dtInstance.then(e=>{e.draw()})}cancelDelete(){this.dialPlanName=""}confirmDeleteDialPlan(e){this.dialPlanName=e}doDeleteDialPlan(){this.httpDialPlan.delete(this.dialPadUrl+`/${this.dialPlanObj._id}`).subscribe(e=>{this.dialPlanName="",this.dialPlanObj=null,this.showSuccessAlert(this.language["Dial Plan Deleted successfully"]),this.reDrawTable()},e=>{this.showDeleteAlert(this.httpService.handleError(e.error)),this.dialPlanName="",this.dialPlanObj=null})}newDialPlan(){}onModalClose(e){"submit"==e&&(this.reDrawTable(),this.showDialog=!1,this.editMode=!1),this.closeBtn.nativeElement.click(),this.showDialog=!1,this.editMode=!1}closeModal(){this.modalRef&&(this.modalRef.close(),this.editMode=!1,this.showDialog=!1),this.editMode=!1,this.showDialog=!1,this.editDialPlanObj=void 0}openDialog(){this.showDialog=!0,this.editMode||(this.editDialPlanObj=void 0)}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(d.s),g.Y36(h.Dx),g.Y36(p.s),g.Y36(m.t6),g.Y36(f.F0),g.Y36(f.gz),g.Y36(b.FF),g.Y36(w))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-dial-plan"]],viewQuery:function(e,t){if(1&e&&(g.Gf(x,5),g.Gf(c.G,5),g.Gf(_,5),g.Gf(T,5)),2&e){let e;g.iGM(e=g.CRH())&&(t.deleteModalRef=e.first),g.iGM(e=g.CRH())&&(t.dtElement=e.first),g.iGM(e=g.CRH())&&(t.closeBtn=e.first),g.iGM(e=g.CRH())&&(t.openDialogBtn=e.first)}},decls:11,vars:8,consts:[[1,"position-relative"],["role","alert","class","alert alert-warning",4,"ngIf"],["class","alert alert-success alert-dismissible",4,"ngIf"],["class","alert alert-error alert-dismissible py-0",4,"ngIf"],["class","row no-gutters",4,"ngIf"],["class","d-flex flex-row justify-content-start align-items-center my-3",4,"ngIf"],["class"," warning-msg",4,"ngIf"],["id","dial-plan","class","tab-pane",4,"ngIf"],["dialPlanDeleteModalRef",""],["role","alert",1,"alert","alert-warning"],[1,"alert","alert-success","alert-dismissible"],[1,"success-img"],["src","../../../../../assets/img/success-icon.svg"],["type","button","id","success-msg",1,"close",3,"click"],[1,"d-inline-flex"],[1,"alert","alert-error","alert-dismissible","py-0"],[1,"warning-msg","pt-2","pb-1","m-0"],[1,"error-img"],["src","./assets/img/ic_warning-36px.svg"],[1,"msg-details"],[2,"font-weight","bold"],[3,"innerHtml"],["type","button","id","err-msg",1,"btn-default","px-3","ok-btn","float-right",3,"click"],[1,"row","no-gutters"],[1,"d-block","my-3","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],[1,"d-flex","flex-row","justify-content-start","align-items-center","my-3"],["id","New_Dial_Plan","type","button","class","btn-default primary px-3","data-toggle","modal","data-target",".bd-example-modal-lg",3,"click",4,"ngIf"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true","data-backdrop","static","data-keyboard","false",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","dial-plan-info"],["src","assets/img/close-icon.svg","data-dismiss","modal","alt","",1,"pointer",3,"click"],[1,"modal-body"],["hidden","","data-dismiss","modal",1,"fa","fa-close"],["closeBtn",""],[3,"editModalInput","Id","onClose",4,"ngIf"],["id","New_Dial_Plan","type","button","data-toggle","modal","data-target",".bd-example-modal-lg",1,"btn-default","primary","px-3",3,"click"],["openDialogBtn",""],[3,"editModalInput","Id","onClose"],[1,"warning-msg"],["src","./assets/img/warning-icon.svg"],[1,"btn-con-sec","float-right"],["id","deletePFBtn",1,"btn-default","btn-primary","mr-2",3,"click"],["id","cancel-btn",1,"btn-default","btn-dft","py-1",3,"click"],["id","dial-plan",1,"tab-pane"],["scrollTopId",""],[4,"ngIf"],[1,"pb-2"],["width","100%","id","dail-plan-table","datatable","",1,"row-border","hover","table-alter","dail-plan-table",3,"dtOptions"],[2,"width","20%"],[2,"width","10%"],[2,"width","35%"],[2,"width","5%"],["class","loader","style","height: 100%;",4,"ngIf"],["style","cursor: pointer;",3,"id","click",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"id","click"],[1,"text-break","overflow-max-h"],["style","width: 5%",4,"ngIf"],["href","javascript:void(0)",3,"title","click",4,"ngIf"],["href","javascript:void(0)",3,"title","click"],["aria-hidden","true",1,"fa","fa-trash-o"],["colspan","5",1,"no-data-available"],[1,"loader",2,"height","100%"],[1,"d-flex","justify-content-center","align-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"modal-header",2,"color","#cc5814"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true","id","delete-dail"],[2,"font-size","18px"],[1,"modal-footer"],["type","button","id","close",1,"btn","btn-secondary",3,"click"],["type","button","ngbAutofocus","","id","delete",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.YNc(1,A,2,1,"div",1),g.YNc(2,q,9,3,"div",2),g.YNc(3,O,11,3,"div",3),g.YNc(4,S,3,1,"div",4),g.YNc(5,M,14,3,"div",5),g.YNc(6,P,10,3,"div",6),g.YNc(7,$,3,1,"div",7),g.qZA(),g.YNc(8,V,15,5,"ng-template",null,8,g.W1O),g._UZ(10,"router-outlet")),2&e&&(g.xp6(1),g.Q6J("ngIf",!t.hasScopeAccess),g.xp6(1),g.Q6J("ngIf",t.hasScopeAccess),g.xp6(1),g.Q6J("ngIf",t.hasScopeAccess),g.xp6(1),g.Q6J("ngIf",t.hasScopeAccess),g.xp6(1),g.Q6J("ngIf",!t.loader&&t.hasScopeAccess),g.xp6(1),g.Q6J("ngIf",t.dialPlanName&&t.hasScopeAccess),g.xp6(1),g.Q6J("ngIf",g.DdM(7,j).indexOf(null==t.router?null:t.router.url)>-1&&t.hasScopeAccess))},directives:[Z.O5,f.lC,v.t,c.G,Z.sg],pipes:[Z.rS],styles:[".overflow-ellipsis[_ngcontent-%COMP%]{max-width:120px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]     table.dataTable td.dataTables_empty{display:none}.no-data-available[_ngcontent-%COMP%]{text-align:center}.alert.alert-success[_ngcontent-%COMP%]{display:none}.alert.alert-error[_ngcontent-%COMP%]{display:none}.dail-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:15px;font-weight:400;color:#4c4c4c;padding:0 10px 0 0;border-top:0!important;border-bottom:1px solid transparent;line-height:38px;word-break:break-all}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:26px;max-width:35%!important}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:40px 32px!important}.alert[_ngcontent-%COMP%]   .ok-btn[_ngcontent-%COMP%]{padding:5px;min-width:auto}.alert-danger[_ngcontent-%COMP%]   .ok-btn[_ngcontent-%COMP%]{background:#721c24}.alert-success[_ngcontent-%COMP%]   .ok-btn[_ngcontent-%COMP%]{background:#155724}.dial-plan-info[_ngcontent-%COMP%]{font-size:42px;font-style:normal;font-weight:300;line-height:53px;letter-spacing:0em;text-align:left;margin-top:-20px!important}.overflow-max-h[_ngcontent-%COMP%]{max-height:290px;overflow:auto}"]}),e})()},13909:function(e,t,i){i.d(t,{v:function(){return X}});var s=i(47986),r=i(91841),n=i(75333),a=i(23771),o=i(92340),l=i(37716),u=i(7450),c=i(38048),g=i(68745),d=i(12664),h=i(49342),p=i(39895),m=i(39075),f=i(38583),b=i(3679);const w=["deleteSoftareImageModal"];function Z(e,t){if(1&e&&(l.TgZ(0,"div",7),l._uU(1),l.qZA()),2&e){const e=l.oxw();l.xp6(1),l.hij(" ",e.language["Access denied due to RBAC. Please consult your Organization Administrator for access."]," ")}}function v(e,t){if(1&e&&(l.TgZ(0,"div",8),l.TgZ(1,"div",9),l._uU(2),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(2),l.hij("",e.language.Software_Images," ")}}function x(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"button",15),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).gotoAdd()}),l._uU(1),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(1),l.hij(" ",e.language.Add_SW_Image," ")}}function _(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"button",16),l.NdJ("click",function(){l.CHM(e);const t=l.oxw(2),i=l.MAs(8);return t.openOutdatedImageAlert(i)}),l._uU(1),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(1),l.hij(" ",e.language["Outdated Image Alert"]," ")}}function T(e,t){if(1&e&&(l.TgZ(0,"div",10),l.TgZ(1,"div",11),l.TgZ(2,"div",12),l.YNc(3,x,2,1,"button",13),l.YNc(4,_,2,1,"button",14),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(3),l.Q6J("ngIf",e.hasWriteAccess),l.xp6(1),l.Q6J("ngIf",e.showOutageAlert)}}function A(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",27),l.TgZ(1,"span",28),l._UZ(2,"img",29),l.qZA(),l.TgZ(3,"button",30),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).hideError()}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",31),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(5),l.Q6J("innerHtml",e.errorMsg,l.oJD)}}function q(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",32),l.TgZ(1,"span",33),l._UZ(2,"img",34),l.qZA(),l.TgZ(3,"button",35),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).hideSuccess()}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",31),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(5),l.Q6J("innerHtml",e.language[e.successMsg]||e.successMsg,l.oJD)}}function O(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",36),l.TgZ(1,"div",37),l.TgZ(2,"span",38),l._UZ(3,"img",39),l.qZA(),l.TgZ(4,"span",40),l._uU(5),l.qZA(),l.qZA(),l.TgZ(6,"div",41),l.TgZ(7,"button",42),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).deleteSoftwareFile()}),l._uU(8),l.qZA(),l.TgZ(9,"button",43),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).closeModal()}),l._uU(10),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(5),l.AsE("",e.language["Are you sure you want to delete"]," ",e.modalInfo,""),l.xp6(3),l.hij(" ",e.language.Confirm," "),l.xp6(2),l.hij(" ",e.language.Cancel," ")}}function S(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",44),l.TgZ(1,"span",28),l._UZ(2,"img",45),l.qZA(),l.TgZ(3,"span"),l._uU(4),l.qZA(),l._uU(5),l.TgZ(6,"div",41),l.TgZ(7,"button",46),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).swOfficialConfirmation()}),l._uU(8),l.qZA(),l.TgZ(9,"button",47),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).closeswOfficialConfirmation()}),l._uU(10),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(4),l.hij(" ",e.language.Confirmation,", "),l.xp6(1),l.hij(" ",e.swConfrmMsg," "),l.xp6(3),l.hij(" ",e.language.Confirm," "),l.xp6(2),l.hij(" ",e.language.Cancel," ")}}function I(e,t){if(1&e&&(l.TgZ(0,"div",48),l.TgZ(1,"div",49),l.TgZ(2,"div",50),l.TgZ(3,"span",51),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw(2);l.xp6(4),l.Oqu(e.language.Loading)}}function C(e,t){if(1&e&&(l.TgZ(0,"th",57),l._uU(1),l.qZA()),2&e){const e=l.oxw(3);l.xp6(1),l.Oqu(e.language["Official Status"])}}function M(e,t){if(1&e&&(l.TgZ(0,"th"),l._uU(1),l.qZA()),2&e){const e=l.oxw(3);l.xp6(1),l.Oqu(e.language.Supported)}}function P(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",64),l.TgZ(1,"label",65),l.TgZ(2,"input",66),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw(2).$implicit.isOfficialImage=t})("change",function(){l.CHM(e);const t=l.oxw(2).$implicit;return l.oxw(3).onSoftwareChange(t)}),l.qZA(),l.TgZ(3,"span"),l._UZ(4,"small"),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw(2).$implicit,t=l.oxw(3);l.xp6(1),l.Q6J("for",e.name),l.xp6(1),l.Q6J("checked",e.isOfficialImage)("ngModel",e.isOfficialImage)("id",e.name)("disabled",t.softwareImageOfficial)}}function N(e,t){if(1&e&&(l.TgZ(0,"td"),l.YNc(1,P,5,5,"div",63),l.qZA()),2&e){const e=l.oxw().$implicit,t=l.oxw(3);l.xp6(1),l.Q6J("ngIf",!t.router.url.includes("cco-foundation")||e.isOfficialImageEligible)}}function y(e,t){if(1&e&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.xp6(1),l.hij(" ",e," ")}}function D(e,t){if(1&e&&(l.TgZ(0,"td"),l.YNc(1,y,2,1,"div",67),l.qZA()),2&e){const e=l.oxw().$implicit;l.xp6(1),l.Q6J("ngForOf",e.models)}}function k(e,t){if(1&e&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.xp6(1),l.hij(" ",e," ")}}function E(e,t){if(1&e&&(l.TgZ(0,"td"),l.YNc(1,k,2,1,"div",67),l.qZA()),2&e){const e=l.oxw().$implicit;l.xp6(1),l.Q6J("ngForOf",e.models)}}function U(e,t){if(1&e&&(l.TgZ(0,"td",68),l.TgZ(1,"span",69),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw().$implicit;l.xp6(1),l.Q6J("ngClass",null!=e&&e.supported?"icon-checked":"icon-close"),l.xp6(2),l.Oqu(null==e?null:e.supported)}}function J(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"td",37),l.TgZ(1,"span",70),l.NdJ("click",function(){l.CHM(e);const t=l.oxw().$implicit;return l.oxw(3).deleteSoftwareFileConfirm(t)}),l.qZA(),l.qZA()}if(2&e){const e=l.oxw(4);l.xp6(1),l.s9C("title",e.language.delete)}}function V(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"td",37),l.TgZ(1,"span",70),l.NdJ("click",function(){l.CHM(e);const t=l.oxw().$implicit;return l.oxw(3).deleteSoftwareFileConfirm(t)}),l.qZA(),l.qZA()}if(2&e){const e=l.oxw(4);l.xp6(1),l.s9C("title",e.language.delete)}}function j(e,t){1&e&&l._UZ(0,"td")}function R(e,t){if(1&e&&(l.TgZ(0,"tr",58),l.YNc(1,N,2,1,"td",55),l.TgZ(2,"td"),l.TgZ(3,"div",59),l._uU(4),l.qZA(),l.qZA(),l.YNc(5,D,2,1,"td",55),l.YNc(6,E,2,1,"td",55),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td",54),l._uU(12),l.ALo(13,"number"),l.qZA(),l.YNc(14,U,4,2,"td",60),l.YNc(15,J,2,1,"td",61),l.YNc(16,V,2,1,"td",61),l.YNc(17,j,1,0,"ng-template",null,62,l.W1O),l.qZA()),2&e){const e=t.$implicit,i=l.MAs(18),s=l.oxw(3);l.s9C("id",e._id),l.xp6(1),l.Q6J("ngIf",s.isFoundation&&s.hasWriteAccess),l.xp6(3),l.Oqu(e.name),l.xp6(1),l.Q6J("ngIf",null==e?null:e.officialImageModels),l.xp6(1),l.Q6J("ngIf",!(null!=e&&e.officialImageModels)),l.xp6(2),l.Oqu("Calix Uploaded Release Image"==(null==e?null:e.description)?s.language["Calix Uploaded Release Image"]:e.description),l.xp6(2),l.Oqu(e.version),l.xp6(2),l.AsE("",l.xi3(13,14,e.size/1024/1024,"1.2-2")," ",0==e.size?"":"MB"," "),l.xp6(2),l.Q6J("ngIf",s.isFoundation),l.xp6(1),l.Q6J("ngIf",s.hasWriteAccess&&!s.isFoundation&&0!=e.orgId)("ngIfElse",i),l.xp6(1),l.Q6J("ngIf",s.hasWriteAccess&&s.isFoundation&&0!=e.orgId)("ngIfElse",i)}}function Q(e,t){if(1&e&&(l.TgZ(0,"tbody"),l.TgZ(1,"tr"),l.TgZ(2,"td",71),l._uU(3),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw(3);l.xp6(3),l.hij(" ",e.language["No data available in table"]," ")}}function Y(e,t){if(1&e&&(l.TgZ(0,"table",52),l.TgZ(1,"thead"),l.TgZ(2,"tr"),l.YNc(3,C,2,1,"th",53),l.TgZ(4,"th"),l._uU(5),l.qZA(),l.TgZ(6,"th"),l._uU(7),l.qZA(),l.TgZ(8,"th"),l._uU(9),l.qZA(),l.TgZ(10,"th"),l._uU(11),l.qZA(),l.TgZ(12,"th",54),l._uU(13),l.qZA(),l.YNc(14,M,2,1,"th",55),l._UZ(15,"th"),l._UZ(16,"th"),l.qZA(),l.qZA(),l.TgZ(17,"tbody"),l.YNc(18,R,19,17,"tr",56),l.qZA(),l.YNc(19,Q,4,1,"tbody",55),l.qZA()),2&e){const e=l.oxw(2);l.Q6J("dtOptions",e.tableOptions),l.xp6(3),l.Q6J("ngIf",e.isFoundation&&e.hasWriteAccess),l.xp6(2),l.Oqu(e.language.Name),l.xp6(2),l.Oqu(e.language.model),l.xp6(2),l.Oqu(e.language.description),l.xp6(2),l.Oqu(e.language.Version),l.xp6(2),l.Oqu(e.language.Size),l.xp6(1),l.Q6J("ngIf",e.isFoundation),l.xp6(4),l.Q6J("ngForOf",e.softwareImageObj),l.xp6(1),l.Q6J("ngIf",0==(null==e.softwareImageObj?null:e.softwareImageObj.length))}}function F(e,t){if(1&e&&(l.TgZ(0,"div",17),l.TgZ(1,"div",18),l.YNc(2,A,6,1,"div",19),l.YNc(3,q,6,1,"div",20),l.YNc(4,O,11,4,"div",21),l.YNc(5,S,11,4,"div",22),l.TgZ(6,"div",23),l.YNc(7,I,5,1,"div",24),l.TgZ(8,"div",25),l.YNc(9,Y,20,10,"table",26),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(2),l.Q6J("ngIf",e.showError),l.xp6(1),l.Q6J("ngIf",e.showSuccess),l.xp6(1),l.Q6J("ngIf",null==e.deleteData?null:e.deleteData._id),l.xp6(1),l.Q6J("ngIf",e.softwareImageOfficial),l.xp6(2),l.Q6J("ngIf",e.loading),l.xp6(2),l.Q6J("ngIf",e.datatableVisible)}}function L(e,t){if(1&e&&(l.TgZ(0,"li"),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.xp6(1),l.hij("",e.name," ")}}function W(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",72),l.TgZ(1,"div",73),l.TgZ(2,"button",74),l.NdJ("click",function(){return l.CHM(e).$implicit.dismiss("Cross click")}),l._UZ(3,"span"),l.qZA(),l.TgZ(4,"div",75),l.TgZ(5,"div",76),l._UZ(6,"img",77),l.qZA(),l.TgZ(7,"div",78),l.TgZ(8,"h3"),l._uU(9),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.TgZ(12,"ul"),l.YNc(13,L,2,1,"li",67),l.qZA(),l.TgZ(14,"div",23),l.TgZ(15,"button",79),l._uU(16),l.qZA(),l.TgZ(17,"button",80),l.NdJ("click",function(){return l.CHM(e).$implicit.dismiss("Cross click")}),l._uU(18),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(9),l.Oqu(e.language["Delete Software Image(s)"]),l.xp6(2),l.hij(" ",e.language["Are you sure you want to delete the following software image(s):"]," "),l.xp6(2),l.Q6J("ngForOf",e.deleteZipcodeZipPlusfour),l.xp6(3),l.hij(" ",e.language["Delete Software Image(s)"]," "),l.xp6(2),l.hij(" ",e.language.Cancel," ")}}function H(e,t){if(1&e&&(l.TgZ(0,"div",95),l.TgZ(1,"div",96),l.TgZ(2,"div",50),l.TgZ(3,"span",51),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw(2);l.xp6(4),l.Oqu(e.language.Loading)}}function B(e,t){if(1&e&&(l.TgZ(0,"div",97),l.TgZ(1,"span",28),l._UZ(2,"img",45),l.qZA(),l._UZ(3,"span",98),l.qZA()),2&e){const e=l.oxw(2);l.xp6(3),l.Q6J("innerHtml",e.warningInfo,l.oJD)}}function G(e,t){if(1&e&&(l.TgZ(0,"p",99),l._uU(1),l.qZA()),2&e){const e=l.oxw(2);l.xp6(1),l.hij(" ",e.language["Please enter a value"],"")}}function z(e,t){if(1&e&&(l.TgZ(0,"p",99),l._uU(1),l.qZA()),2&e){const e=l.oxw(2);l.xp6(1),l.hij(" ",e.language["Please enter a value"],"")}}function K(e,t){if(1&e){const e=l.EpF();l.YNc(0,H,5,1,"div",81),l.TgZ(1,"div",82),l.TgZ(2,"h4",83),l._uU(3),l.qZA(),l.TgZ(4,"button",84),l.NdJ("click",function(){return l.CHM(e),l.oxw().closeOutageModal()}),l._UZ(5,"span",85),l.qZA(),l.qZA(),l.YNc(6,B,4,1,"div",86),l.TgZ(7,"div",87),l.TgZ(8,"p"),l._uU(9),l.qZA(),l.TgZ(10,"div",88),l.TgZ(11,"label",89),l._uU(12),l.qZA(),l.TgZ(13,"input",90),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().releaseValue=t}),l.qZA(),l.TgZ(14,"label",91),l._uU(15),l.qZA(),l.YNc(16,G,2,1,"p",92),l.qZA(),l.TgZ(17,"div"),l.TgZ(18,"label",89),l._uU(19),l.qZA(),l.TgZ(20,"input",90),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().releaseValue1=t}),l.qZA(),l.TgZ(21,"label",91),l._uU(22),l.qZA(),l.YNc(23,z,2,1,"p",92),l.qZA(),l.qZA(),l.TgZ(24,"div",37),l.TgZ(25,"button",93),l.NdJ("click",function(){return l.CHM(e),l.oxw().saveAlert()}),l._uU(26),l.qZA(),l.TgZ(27,"button",94),l.NdJ("click",function(){return l.CHM(e),l.oxw().closeOutageModal()}),l._uU(28),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.Q6J("ngIf",e.softwareLoading),l.xp6(3),l.Oqu(e.language["Outdated Image Alert"]),l.xp6(3),l.Q6J("ngIf",e.warning),l.xp6(3),l.Oqu(e.language.recommended_to_set_the_image),l.xp6(3),l.Oqu(e.language["Receive GigaSpire Alert After"]),l.xp6(1),l.Q6J("ngModel",e.releaseValue),l.xp6(2),l.Oqu(e.language.Releases),l.xp6(1),l.Q6J("ngIf",e.emptyReleaseValue),l.xp6(3),l.Oqu(e.language["Receive GigaCenter Alert After"]),l.xp6(1),l.Q6J("ngModel",e.releaseValue1),l.xp6(2),l.Oqu(e.language.Releases),l.xp6(1),l.Q6J("ngIf",e.emptyReleaseValue1),l.xp6(2),l.Q6J("disabled",!e.hasWriteAccess),l.xp6(1),l.Oqu(e.language["Save Alert Settings"]),l.xp6(2),l.Oqu(e.language.Cancel)}}let X=(()=>{class e{constructor(e,t,i,s,r,n,a,o,l){this.translateService=e,this.ssoAuthService=t,this.http=i,this.fileService=s,this.dialogService=r,this.commonOrgService=n,this.router=a,this.titleService=o,this.modalService=l,this.tableOptions={},this.datatableVisible=!1,this.showError=!1,this.showSuccess=!1,this.softwareImageObj=[],this.loading=!1,this.hasWriteAccess=!1,this.hasScopeAccess=!1,this.listIds=[],this.allChecked=!1,this.deleteSelectionButtonShow=!1,this.newArray=[],this.releaseValue=2,this.emptyReleaseValue=!1,this.releaseValue1=2,this.emptyReleaseValue1=!1,this.warning=!1,this.errorVersionPost=!1,this.showOutageAlert=!0;let u=this.router.url;this.isFoundation=u.indexOf("/cco-foundation")>-1||u.indexOf("/cco/operations/configuration")>-1,this.orgId=t.getOrgId(),this.getSwImagesListCout(),this.scopes=this.ssoAuthService.getScopes()}setTitle(e){this.router.url.includes("cco-foundation")||this.router.url.includes("/cco/operations/configuration")?this.router.url.includes("/cco/operations/configuration")?this.titleService.setTitle(`${this.language["Software Images"]} - ${this.language.Configuration} - ${this.language.Operations} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`):this.titleService.setTitle(`${this.language["Software Images"]} - ${this.language["Workflow Prerequisites"]} - ${this.language.configuration}  - ${this.language.Deployment}  - ${this.language["Calix Cloud"]}`):this.titleService.setTitle(`${this.language["Software Images"]} - ${this.language.Operations}  - ${this.language.NetOps}  - ${this.language.Service}  - ${this.language["Calix Cloud"]}`)}ngOnInit(){var e,t;if(this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.redraw(),this.setTitle(this.router.url)}),this.setTitle(this.router.url),(this.router.url.includes("cco/operations/configuration/software")||this.router.url.includes("/cco-foundation/foundation-configuration/configuration-prerequisites/software-images-list"))&&(this.showOutageAlert=!1),this.router.url.includes("cco-foundation")||this.router.url.includes("cco/operations/configuration/software"))if(this.router.url.includes("cco/operations/configuration/software"))o.N.VALIDATE_SCOPE?((null===(e=this.scopes["cloud.rbac.coc.operations.configuration.softwareimages"])||void 0===e?void 0:e.length)&&(this.hasScopeAccess=!0),this.scopes&&(null===(t=this.scopes["cloud.rbac.coc.operations.configuration.softwareimages"])||void 0===t?void 0:t.includes("write"))&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0);else if(o.N.VALIDATE_SCOPE){let e=this.scopes;e["cloud.rbac.foundation.configurations"]=e["cloud.rbac.foundation.configurations"]?e["cloud.rbac.foundation.configurations"]:[],this.scopes["cloud.rbac.foundation.configurations"].length&&(this.hasScopeAccess=!0),e&&e["cloud.rbac.foundation.configurations"].includes("write")&&(this.hasWriteAccess=!0)}else this.hasWriteAccess=!0,this.hasScopeAccess=!0;else o.N.VALIDATE_SCOPE?(this.scopes["cloud.rbac.csc.netops.operations.sw_images"]=this.scopes["cloud.rbac.csc.netops.operations.sw_images"]?this.scopes["cloud.rbac.csc.netops.operations.sw_images"]:[],this.scopes["cloud.rbac.csc.netops.operations.sw_images"].length&&(this.hasScopeAccess=!0),this.scopes&&this.scopes["cloud.rbac.csc.netops.operations.sw_images"]&&-1!==this.scopes["cloud.rbac.csc.netops.operations.sw_images"].indexOf("write")&&(this.hasWriteAccess=!0)):(this.hasWriteAccess=!0,this.hasScopeAccess=!0);this.hasScopeAccess?this.fetchSoftwareImageList():this.ssoAuthService.setPageAccess(!1)}pageErrorHandle(e){this.errorMsg=401==e.status?this.language["Access Denied"]:this.ssoAuthService.pageErrorHandle(e),503===e.status&&(this.errorMsg="Service Temporarily Unavailable"),this.showError=!0}getSwImagesListCout(){this.fileService.getSwFilesCount(this.orgId).subscribe(e=>{this.count=e.count,this.datatableVisible=!0},e=>{this.loading=!1,this.pageErrorHandle(e)})}fetchSoftwareImageList(){this.loading=!0;const e=this;this.tableOptions={pagingType:"full_numbers",pageLength:20,serverSide:!0,processing:!1,ordering:!0,columnDefs:[{targets:[0],orderable:!1},{targets:[-2],orderable:!1},{targets:[-1],orderable:!1}],dom:"tip",responsive:!0,order:[],columns:[{name:"name",orderable:!0},{name:"model",orderable:!0},{name:"description",orderable:!0},{name:"version",orderable:!0},{name:"size",orderable:!0}],ajax:(t,i)=>{var a;let o={};if(t.order[0]){let e=t.order[0].dir,i=null===(a=t.columns[t.order[0].column])||void 0===a?void 0:a.name;i&&(o[i]="asc"==e?1:-1)}else o.name=1;let l={orgId:this.orgId,skip:t.start,limit:t.length,type:s.r.SW_FW_Image,orderby:o};const u=(new r.LE).set("skip",t.start).set("limit",t.length).set("type",s.r.SW_FW_Image).set("orderby",JSON.stringify(l.orderby));this.ssoAuthService.getOrg(this.orgId)&&u.set("orgId",this.orgId),e.http.get(n.YE,{params:u}).subscribe(t=>{sessionStorage.setItem("swi",JSON.stringify(t)),e.softwareImageObj=t,e.zipCodeDetailLists=t,this.loading=!1,i({recordsTotal:this.count,recordsFiltered:this.count,data:[]})})},drawCallback:e=>{this.changeTableStatusLanguage(e);let t=e._iRecordsDisplay,i=e._iDisplayLength;this.Table=$("#software-images-table").DataTable(),this.info=this.Table.page.info(),this.newArray=this.Table.context[0].aiDisplay,this.table(e),t<=i&&$(e.nTableWrapper).find("#users-table_last").addClass("disabled")}},this.isFoundation?(this.tableOptions.columns.push({name:"supported",orderable:!0}),this.tableOptions.order[0]=[0,"asc"],this.hasWriteAccess&&(this.tableOptions.columns.unshift({name:"official status",orderable:!1}),this.tableOptions.order[0]=[1,"asc"])):this.tableOptions.order[0]=[0,"asc"]}changeTableStatusLanguage(e){const t=new Intl.NumberFormat;this.tableCounts={searchText:e.oPreviousSearch.sSearch.replace(/\s+/g,""),total:e._iRecordsTotal,displayCount:e._iDisplayLength,displayed:e._iRecordsDisplay,start:e._iDisplayStart};const i="fr"==sessionStorage.getItem("defaultLanguage"),s="es"==sessionStorage.getItem("defaultLanguage"),r="de_DE"==sessionStorage.getItem("defaultLanguage"),n=e.oPreviousSearch.sSearch.replace(/\s+/g,"")?i?`(filtr\xe9es \xe0 partir des ${t.format(e._iRecordsTotal)} entr\xe9es totales)`:s?`(filtrado de un total de ${t.format(e._iRecordsTotal)} entradas)`:r?`(gefiltert aus ${t.format(e._iRecordsTotal)} Eintr\xe4gen)`:`(filtered from ${t.format(e._iRecordsTotal)} total entries)`:"",a=0==e._iRecordsDisplay?-1:e._iDisplayStart,o=e._iDisplayStart+e._iDisplayLength>e._iRecordsDisplay?e._iRecordsDisplay:e._iDisplayStart+e._iDisplayLength;$('div [role="status"]').text(i?`Affichage de ${t.format(a+1)} \xe0 ${t.format(o)} des ${t.format(e._iRecordsDisplay)} entr\xe9es ${n}`:s?`Se muestran del ${t.format(a+1)} al ${t.format(o)} de ${t.format(e._iRecordsDisplay)} resultados ${n}`:r?`Angezeigt ${t.format(a+1)} bis ${t.format(o)} von ${t.format(e._iRecordsDisplay)} ergebnissen ${n}`:`Showing ${t.format(a+1)} to ${t.format(o)} of ${t.format(e._iRecordsDisplay)} entries ${n}`),$(".first").text(i?"Le d\xe9but":s?"Primero":r?"Erste Seite":"First"),$(".previous").text(i?"Pr\xe9c\xe9dent":s?"Anterior":r?"Letzte":"Previous"),$(".next").text(i?"Suivant":s?"Siguiente":r?"Weiter":"Next"),$(".last").text(i?"Derni\xe8re":s?"\xdaltimo":r?"Zur\xfcck":"Last")}deleteSoftwareFileConfirm(e){this.loading=!1,this.errorMsg=null,this.showError=!1,this.deleteData=e,this.modalTitle="Delete Software Image",this.modalInfo=`the software image ${e.name}?`,$("html, body").animate({scrollTop:0},"slow")}deleteSoftwareFile(){this.loading=!0,this.fileService.deleteSwFileById(this.deleteData._id).subscribe(e=>{this.loading=!1,this.showSuccess=!0,this.successMsg="Successfully Deleted!",this.getSwImagesListCout(),this.deleteData=new s.k,this.redraw()},e=>{this.loading=!1,this.deleteData=new s.k,this.errorMsg=e.error.error,this.showError=!0})}redraw(){var e;null===(e=this.dtElement)||void 0===e||e.dtInstance.then(e=>{e.draw()})}closeModal(){this.deleteData=new s.k,this.modalRef&&this.modalRef.close()}hideError(){this.showError=!1,this.errorMsg=""}hideSuccess(){this.showSuccess=!1,this.successMsg=""}onSoftwareChange(e){$("html, body").animate({scrollTop:0},"slow"),JSON.parse(sessionStorage.getItem("swi")).forEach(t=>{if(t._id==e._id)if(t.isOfficialImage)this.swConfrmMsg=this.language.Make_SW_UnOfficial;else{let t=[];JSON.parse(sessionStorage.getItem("swi")).forEach(i=>{i.isOfficialImage&&e.models.filter(e=>-1!==i.models.indexOf(e)?t.push(i.name):"")});var i=t.filter((e,t,i)=>i.indexOf(e)===t);this.uniqueimagename=t.filter((e,t,i)=>i.indexOf(e)===t),this.uniqueimageoldname=null==e?void 0:e.name,this.swConfrmMsg=0==i.length?this.language.Make_SW_Official:this.language.SoftwareImagesWarrningMsg(this.uniqueimagename,this.uniqueimageoldname)}}),this.softwareImageOfficial=!0,this.officialImageId=e}swOfficialConfirmation(){this.softwareImageOfficial=!1,this.officialImageId.isOfficialImage?this.officalSubs=this.fileService.makeOfficialImage({imageId:this.officialImageId._id}).subscribe(e=>{this.officialImageId=new s.k,this.getSwImagesListCout(),this.redraw()},e=>{this.loading=!1,this.errorMsg=e.error.error,this.showError=!0}):this.unOfficalSubs=this.fileService.makeUnOfficialImge(this.orgId,this.officialImageId._id).subscribe(e=>{this.officialImageId=new s.k,this.getSwImagesListCout(),this.redraw()},e=>{this.loading=!1,this.errorMsg=e.error.error,this.showError=!0})}closeswOfficialConfirmation(){this.softwareImageOfficial=!1,this.getSwImagesListCout(),this.redraw()}ngOnDestroy(){this.languageSubject.unsubscribe(),this.officalSubs&&this.officalSubs.unsubscribe(),this.unOfficalSubs&&this.unOfficalSubs.unsubscribe()}opendeleteSIModal(e){this.dialogService.open(e,{centered:!0,windowClass:"alert-delete-warning-modal"})}selectAll(e){this.listIds=[],this.allChecked=e,this.deleteSelectionButtonShow=e,this.newArray.slice(this.info.start,this.info.end);for(let t=0;t<this.zipCodeDetailLists.length;t++)this.zipCodeDetailLists[t].checked=e;e?this.zipCodeDetailLists.map(e=>{e.checked&&this.listIds.push(e._id)}):this.listIds=[]}table(e){this.allChecked=!1,this.listIds=[];for(let t=0;t<this.zipCodeDetailLists.length;t++)this.zipCodeDetailLists[t].checked=!1;this.deleteSelectionButtonShow=!1,this.deleteZipcodeZipPlusfour=[]}selectedOne(e,t){this.listIds=[];let i=this.info.end-this.info.start;this.zipCodeDetailLists[t].checked=e,this.zipCodeDetailLists.filter(e=>{1==e.checked&&this.listIds.push(e._id)}),this.allChecked=this.listIds.length==i,this.deleteSelectionButtonShow=this.listIds.length>0}deleteEntryListZipcode(e){let t=this.listIds;this.dialogService.open(e,{centered:!0,windowClass:"alert-delete-warning-modal"}),this.deleteZipcodeZipPlusfour=this.zipCodeDetailLists.filter(e=>-1!==t.indexOf(e._id))}deleteEntryZipcodes(){this.deleteZipcodeZipPlusfour.map(e=>e.id).join()}gotoAdd(){var e;-1===(null===(e=window.location.href)||void 0===e?void 0:e.indexOf("/cco/operations/configuration/software/software-images-list"))?this.ssoAuthService.redirectByUrl(["/support/netops-management/software-images-form","/cco/software-image/software-images-form","/cco-foundation/foundation-configuration/software-images-list/software-images-form","/cco/operations/configuration/software/software-images-form"]):this.router.navigate(["/cco/operations/configuration/software/software-images-form"])}openOutdatedImageAlert(e){this.errorVersionPost=!1,this.modalService.open(e,{size:"lg",centered:!0,windowClass:"clx-default-modal",backdrop:"static",keyboard:!1}),this.emptyReleaseValue=!1,this.emptyReleaseValue1=!1,this.softwareLoading=!0,this.fileService.getSoftwareImageversion().subscribe(e=>{this.softwareVersion=e,this.releaseValue=this.softwareVersion.GSThreshold,this.releaseValue1=this.softwareVersion.GCThreshold,this.softwareLoading=!1},e=>{e.error.error&&(this.errorVersionPost=!0,this.releaseValue=2,this.releaseValue1=2),this.softwareLoading=!1})}closeOutageModal(){this.warning=!1,this.dialogService.dismissAll()}saveAlert(){""==this.releaseValue?(this.warning=!1,this.emptyReleaseValue=!0):""!=this.releaseValue&&(this.emptyReleaseValue=!1),""==this.releaseValue1?(this.warning=!1,this.emptyReleaseValue1=!0):""!=this.releaseValue1&&(this.emptyReleaseValue1=!1);let e=parseFloat(this.releaseValue),t=parseFloat(this.releaseValue1);if("number"==typeof e&&!Number.isNaN(e)&&!Number.isInteger(e))return this.warningInfo=this.language["Software Alert should not be in Decimal"],this.warning=!0;if("number"==typeof t&&!Number.isNaN(t)&&!Number.isInteger(t))return this.warningInfo=this.language["Software Alert should not be in Decimal"],this.warning=!0;if(""!=this.releaseValue&&this.releaseValue<1&&(this.warning=!0,this.warningInfo=this.language["Please enter alert value between 1 to 10"],this.emptyReleaseValue=!1),""!=this.releaseValue&&this.releaseValue>10&&(this.warning=!0,this.warningInfo=this.language["Please enter alert value below or equal to 10"],this.emptyReleaseValue=!1),""!=this.releaseValue1&&this.releaseValue1<1&&(this.warning=!0,this.warningInfo=this.language["Please enter alert value between 1 to 10"],this.emptyReleaseValue1=!1),""!=this.releaseValue1&&this.releaseValue1>10&&(this.warning=!0,this.warningInfo=this.language["Please enter alert value below or equal to 10"],this.emptyReleaseValue1=!1),this.releaseValue>=1&&this.releaseValue<=10&&this.releaseValue1>=1&&this.releaseValue1<=10){var i={GSThreshold:`${this.releaseValue}`,GCThreshold:`${this.releaseValue1}`};this.errorVersionPost?this.fileService.postSoftwareImageversion(i).subscribe(e=>{}):this.errorVersionPost||this.fileService.putSoftwareImageversion(i).subscribe(e=>{}),this.closeOutageModal()}}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(u.s),l.Y36(c.t6),l.Y36(r.eN),l.Y36(g.I),l.Y36(d.FF),l.Y36(h.v),l.Y36(p.F0),l.Y36(m.Dx),l.Y36(d.FF))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-software-images-list"]],viewQuery:function(e,t){if(1&e&&(l.Gf(a.G,5),l.Gf(w,7)),2&e){let e;l.iGM(e=l.CRH())&&(t.dtElement=e.first),l.iGM(e=l.CRH())&&(t.deleteSoftareImageModal=e.first)}},decls:9,vars:4,consts:[[1,"w-100","position-relative"],["role","alert","class","alert alert-warning",4,"ngIf"],["class","row no-gutters",4,"ngIf"],["class","row my-3",4,"ngIf"],["id","software-images-list","class","tab-pane",4,"ngIf"],["deleteSoftwareImages",""],["outdatedImageAlert",""],["role","alert",1,"alert","alert-warning"],[1,"row","no-gutters"],[1,"d-block","my-3","d-sm-none","ccl-Secondary-title","mb-2","col-md-12","border-bottom"],[1,"row","my-3"],[1,"col-md-6"],[1,"d-flex"],["id","add-software-images-btn","type","button","class","btn-default primary px-3",3,"click",4,"ngIf"],["id","","type","button","class","btn-default btn-dft px-3 ml-3",3,"click",4,"ngIf"],["id","add-software-images-btn","type","button",1,"btn-default","primary","px-3",3,"click"],["id","","type","button",1,"btn-default","btn-dft","px-3","ml-3",3,"click"],["id","software-images-list",1,"tab-pane"],[1,"pb-2"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],["class","w-100 alert alert alert-success fade show",4,"ngIf"],["class","py-3 warning-msg warning-msg-dis",4,"ngIf"],["class","py-3 warning-msg",4,"ngIf"],[1,"w-100"],["class","loader pt-5 align-items-start",4,"ngIf"],[1,"overflow-auto"],["id","software-images-table","datatable","","class"," row-border hover table-alter software-images-table",3,"dtOptions",4,"ngIf"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button","id","hide-error-btn",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert","alert-success","fade","show"],[1,"success-img"],["src","./assets/img/success-icon.svg"],["type","button","id","hide-success-btn",1,"close",3,"click"],[1,"py-3","warning-msg","warning-msg-dis"],[1,""],[1,"error-img","float-left"],["src","./assets/img/warning-icon.svg"],[1,"span-info-text"],[1,"btn-con-sec","float-right"],["id","deletePFBtn",1,"btn-default","btn-primary","px-3","mr-2",3,"click"],[1,"btn-default","btn-dft","py-1",3,"click"],[1,"py-3","warning-msg"],["src","./assets/img/ic_warning-36px.svg"],["type","button","ngbAutofocus","","id","confirm-btn",1,"btn-default","btn-primary","px-3","mr-2",3,"click"],["type","button","id","cancel-btn",1,"btn-default","btn-dft","py-1",3,"click"],[1,"loader","pt-5","align-items-start"],[1,"d-flex","align-items-start","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["id","software-images-table","datatable","",1,"row-border","hover","table-alter","software-images-table",3,"dtOptions"],["class","w-70px disable-th-alt",4,"ngIf"],[1,"col-size"],[4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"w-70px","disable-th-alt"],[3,"id"],[1,"long-text-break"],["class","text-center",4,"ngIf"],["class","",4,"ngIf","ngIfElse"],["elseBlock",""],["class","checkbox switcher w-70px",4,"ngIf"],[1,"checkbox","switcher","w-70px"],[3,"for"],["type","checkbox",1,"pointer",3,"checked","ngModel","id","disabled","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"mr-4",3,"ngClass"],[1,"fa","fa-trash-o","del-action-icon",3,"title","click"],["colspan","10",1,"no-data-available"],[1,"modal-body"],[1,"w-100","alert-box"],["aria-label","Close",1,"close",3,"click"],[1,"box-content"],[1,"icon"],["src","../../../../assets/img/ic_warning-36px.svg","alt","icon here"],[1,"content"],["type","button","id","removeDeleteSImageBtn",1,"btn-default","primary","mr-3"],["type","button","id","canceltDeleteSImageBtn","aria-label","Close",1,"btn-default","btn-dft",3,"click"],["class","loader",4,"ngIf"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","warning-msg",4,"ngIf"],[1,"modal-body","ccl-form","mb-4"],[1,"mb-3"],["for","",1,"col-5"],["type","text",1,"w-20","mx-2",3,"ngModel","ngModelChange"],["for",""],["class","m-0 error",4,"ngIf"],["type","button",1,"btn-default","primary","px-3","mr-3",3,"disabled","click"],["type","button",1,"btn-default","btn-dft","px-3",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"warning-msg"],[3,"innerHtml"],[1,"m-0","error"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,Z,2,1,"div",1),l.YNc(2,v,3,1,"div",2),l.YNc(3,T,5,2,"div",3),l.YNc(4,F,10,6,"div",4),l.qZA(),l.YNc(5,W,19,5,"ng-template",null,5,l.W1O),l.YNc(7,K,29,15,"ng-template",null,6,l.W1O)),2&e&&(l.xp6(1),l.Q6J("ngIf",!t.hasScopeAccess),l.xp6(1),l.Q6J("ngIf",t.hasScopeAccess),l.xp6(1),l.Q6J("ngIf",t.hasScopeAccess),l.xp6(1),l.Q6J("ngIf",t.hasScopeAccess))},directives:[f.O5,a.G,f.sg,b.Wl,b.JJ,b.On,f.mk,b.Fj],pipes:[f.JJ],styles:[".sw-image[_ngcontent-%COMP%]{margin:10px 0}[_nghost-%COMP%]     .dataTables_empty{display:none}.no-data-available[_ngcontent-%COMP%]{text-align:center}.fa.fa-trash-o[_ngcontent-%COMP%]{font-size:14px}.no-break[_ngcontent-%COMP%]{white-space:nowrap;min-width:150px;display:flex;justify-content:flex-start}.software-images-table-info[_ngcontent-%COMP%]{overflow-x:scroll}.software-images-table[_ngcontent-%COMP%]{width:100%!important;overflow-x:auto!important}.del-action-icon[_ngcontent-%COMP%]{color:#0279ff;cursor:pointer}.del-action-icon[_ngcontent-%COMP%]:hover{color:#0054b2}.w-70px[_ngcontent-%COMP%]{width:70px!important}.warning-msg-dis[_ngcontent-%COMP%]{display:flow-root}.span-info-text[_ngcontent-%COMP%]{width:80%;float:left}.min-130px[_ngcontent-%COMP%]{min-width:130px}.icon-close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .icon-checked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20px;font-size:0}.icon-checked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{content:url(success-icon.4b28f44149a093cf0dfa.svg)}.icon-close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{content:url(ic_error_grey.48fa69db1aebd3a5abca.svg)}.th-after-none[_ngcontent-%COMP%]:after{display:none!important}  .alert-delete-warning-modal .modal-content{background:#fff9f5}  .alert-delete-warning-modal .modal-dialog{max-width:45.73%!important}.alert-box[_ngcontent-%COMP%]{position:relative;padding:30px 0 15px}.alert-box[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%]{right:0;top:0}.alert-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:24px;margin-bottom:35px}.alert-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-right:30px;padding-left:80px}.alert-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{min-width:75px;float:left;text-align:center}.alert-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px}.alert-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .alert-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#4c4c4c;margin-bottom:0;font-size:16px;line-height:20px}.alert-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;line-height:30px;color:#1a1f22}.disable-th-alt[_ngcontent-%COMP%]{pointer-events:none!important}.disable-th-alt[_ngcontent-%COMP%]:after{display:none!important}.overflow-auto[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(7){text-align:center}.long-text-break[_ngcontent-%COMP%]{word-break:break-all;min-width:250px;max-width:320px;padding-right:15px}.col-size[_ngcontent-%COMP%]{max-width:70px;min-width:70px}.w-20[_ngcontent-%COMP%]{width:20%!important}"]}),e})()},99178:function(e,t,i){i.d(t,{a:function(){return n}});var s=i(3679),r=i(37716);let n=(()=>{class e{validate(e){if(s.kI.required(e))return null;let t=e.value;return!isNaN(this.customNumMax)&&!isNaN(t)&&t>0&&+t>this.customNumMax?{customNumMax:!0}:null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","customNumMax","","formControlName",""],["","customNumMax","","formControl",""],["","customNumMax","","ngModel",""]],inputs:{customNumMax:"customNumMax"},features:[r._Bn([{provide:s.Cf,useExisting:e,multi:!0}])]}),e})()},28931:function(e,t,i){i.d(t,{D:function(){return n}});var s=i(3679),r=i(37716);let n=(()=>{class e{validate(e){if(s.kI.required(e))return null;let t=e.value;return!isNaN(this.customNumMin)&&!isNaN(+t)&&+t>=0&&+t<+this.customNumMin?{customNumMin:!0}:null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","customNumMin","","formControlName",""],["","customNumMin","","formControl",""],["","customNumMin","","ngModel",""]],inputs:{customNumMin:"customNumMin"},features:[r._Bn([{provide:s.Cf,useExisting:e,multi:!0}])]}),e})()},27492:function(e,t,i){i.d(t,{sH:function(){return r},ZS:function(){return n},zm:function(){return a},yK:function(){return o},ov:function(){return l},w_:function(){return u},b8:function(){return c},eS:function(){return g}});var s=i(9579);function r(e,t,i){return s=>{const r=s.controls[e],n=s.controls[t];if(!r||!n||n.errors&&!n.errors.mustMatch||i&&(!r.value||!n.value))return null;n.setErrors(r.value>n.value?{mustMatch:!0}:null)}}function n(e,t){return i=>{const r=i.controls[e],n=i.controls[t];if(!r||!n||n.errors&&!n.errors.ipBeforeValidate||r.errors&&!r.errors.ipBeforeValidate)return null;var a=null,o=null;r.value&&n.value&&(a=(0,s.l5)(r.value),o=(0,s.l5)(n.value)),a<=o?(r.setErrors(null),n.setErrors(null)):(r.setErrors({ipBeforeValidate:!0}),n.setErrors({ipBeforeValidate:!0}))}}function a(e,t){return i=>{const r=i.controls[e],n=i.controls[t];if(!r||!n||r.errors&&!r.errors.IpNetworkBroadcast||n.errors&&!n.errors.IpNetworkBroadcast)return null;var a=null,o=null,l=null,u=null;r.value&&n.value&&(u=((l=((a=(0,s.l5)(r.value))>>>0&(o=(0,s.l5)(n.value))>>>0)>>>0)|~o)>>>0),a<=l||a>=u?(r.setErrors({IpNetworkBroadcast:!0}),n.setErrors({IpNetworkBroadcast:!0})):(r.setErrors(null),n.setErrors(null))}}function o(e,t,i){return r=>{const n=r.controls[t],a=r.controls[i],o=r.controls[e];if(!n||!a||!o||o.errors&&!o.errors.ipIsOutside||a.errors&&!a.errors.ipIsOutside||n.errors&&!n.errors.ipIsOutside)return null;var l=null,u=null,c=null;n.value&&a.value&&o.value&&(l=(0,s.l5)(n.value),u=(0,s.l5)(a.value),c=(0,s.l5)(o.value)),c<l||c>u?(n.setErrors(null),a.setErrors(null),o.setErrors(null)):(n.setErrors({ipIsOutside:!0}),a.setErrors({ipIsOutside:!0}),o.setErrors({ipIsOutside:!0}))}}function l(e,t,i,r){return n=>{const a=n.controls[t],o=n.controls[i],l=n.controls[e],u=n.controls[r];if(!a||!o||!l||!u||l.errors&&!l.errors.sameIpNetwork||a.errors&&!a.errors.sameIpNetwork||o.errors&&!o.errors.sameIpNetwork||u.errors&&!u.errors.sameIpNetwork)return null;var c=null,g=null,d=null,h=null,p=null;a.value&&o.value&&l.value&&u.value&&(c=(0,s.l5)(a.value),g=(0,s.l5)(o.value),d=(0,s.l5)(l.value),p=(h=(0,s.l5)(u.value))&d),p!=(h&c)||p!=(h&g)?(l.setErrors({sameIpNetwork:!0}),o.setErrors({sameIpNetwork:!0}),a.setErrors({sameIpNetwork:!0}),u.setErrors({sameIpNetwork:!0})):(l.setErrors(null),o.setErrors(null),a.setErrors(null),u.setErrors(null))}}function u(e,t,i){return r=>{const n=r.controls[e],a=r.controls[i],o=r.controls[t];if(!n||!a||!o||n.errors&&!n.errors.maxNetworkBroadcast||a.errors&&!a.errors.maxNetworkBroadcast||o.errors&&!o.errors.maxNetworkBroadcast)return null;var l=null,u=null,c=null,g=null,d=null;o.value&&(l=(0,s.l5)(n.value),u=(0,s.l5)(a.value),c=(0,s.l5)(o.value),d=((g=(l>>>0&u>>>0)>>>0)|~u)>>>0),c<=g||c>=d?(n.setErrors({maxNetworkBroadcast:!0}),a.setErrors({maxNetworkBroadcast:!0}),o.setErrors({maxNetworkBroadcast:!0})):(n.setErrors(null),a.setErrors(null),o.setErrors(null))}}function c(e,t,i){return r=>{const n=r.controls[e],a=r.controls[t],o=r.controls[i];if(!n||!a||!o||n.errors&&!n.errors.minNetworkBroadcast||a.errors&&!a.errors.minNetworkBroadcast||o.errors&&!o.errors.minNetworkBroadcast)return null;var l=null,u=null,c=null,g=null,d=null;n.value&&a.value&&o.value&&(l=(0,s.l5)(n.value),u=(0,s.l5)(a.value),c=(0,s.l5)(o.value),d=((g=(l>>>0&u>>>0)>>>0)|~u)>>>0),c<=g||c>=d?(n.setErrors({minNetworkBroadcast:!0}),a.setErrors({minNetworkBroadcast:!0}),o.setErrors({minNetworkBroadcast:!0})):(n.setErrors(null),a.setErrors(null),o.setErrors(null))}}function g(e,t){return i=>{const s=i.controls[e],r=i.controls[t];if(!s||!r||r.errors&&!r.errors.longDigitTimer)return null;s.value&&r.value&&r.setErrors(s.value>r.value||s.value==r.value?{longDigitTimer:!0}:null)}}}}]);