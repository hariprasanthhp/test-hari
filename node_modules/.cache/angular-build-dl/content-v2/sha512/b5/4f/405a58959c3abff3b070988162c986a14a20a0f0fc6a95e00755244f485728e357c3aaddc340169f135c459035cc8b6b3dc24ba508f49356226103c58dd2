"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[1959],{61959:function(e,t,n){n.r(t),n.d(t,{SmartbizModule:function(){return Oe}});var i=n(38583),o=n(39895),a=n(37716),s=n(7450),r=n(3679),l=n(39075),c=n(89097),g=n(4030);function d(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",59),a.TgZ(1,"div",60),a.TgZ(2,"div",61),a._UZ(3,"img",62),a.qZA(),a.TgZ(4,"div",63),a.TgZ(5,"p"),a._uU(6),a.qZA(),a.TgZ(7,"span"),a._uU(8),a.qZA(),a.qZA(),a.TgZ(9,"div",64),a.TgZ(10,"img",65),a.NdJ("click",function(){return a.CHM(e),a.oxw().connectionSuccess=!1}),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(6),a.Oqu(e.language["Successfully Connected to Hotspot"]),a.xp6(2),a.Oqu(e.language.WAN_failover_setup_msg)}}function u(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",66),a.TgZ(1,"div",67),a.TgZ(2,"div",68),a._UZ(3,"img",69),a.qZA(),a.TgZ(4,"div",70),a.TgZ(5,"p"),a._uU(6),a.qZA(),a.TgZ(7,"span"),a._uU(8),a.qZA(),a.qZA(),a.TgZ(9,"div",71),a.TgZ(10,"img",65),a.NdJ("click",function(){return a.CHM(e),a.oxw().connectionFailed=!1}),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(6),a.Oqu(e.language["Hotspot Connection Failed"]),a.xp6(2),a.hij(" ",e.language["Make sure the information entered is correct and try to connect again"]," ")}}function p(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",72),a.TgZ(1,"span",73),a._UZ(2,"img",74),a.qZA(),a.TgZ(3,"button",75),a.NdJ("click",function(){return a.CHM(e),a.oxw().errorMessage=""}),a._UZ(4,"span"),a.qZA(),a._UZ(5,"div",76),a.qZA()}if(2&e){const e=a.oxw();a.xp6(5),a.Q6J("innerHtml",e.errorMessage,a.oJD)}}function m(e,t){if(1&e&&(a.TgZ(0,"div",77),a.TgZ(1,"div",78),a.TgZ(2,"div",79),a.TgZ(3,"span",80),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(4),a.Oqu(e.language.Loading)}}function h(e,t){1&e&&a._UZ(0,"img",81)}function f(e,t){1&e&&a._UZ(0,"img",82)}function b(e,t){if(1&e&&(a.TgZ(0,"div",83),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.language["Enter Password"]," ")}}function Z(e,t){if(1&e&&(a.TgZ(0,"div",83),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.language["Password must have at least eight characters"]," ")}}function v(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"button",84),a.NdJ("click",function(){return a.CHM(e),a.oxw().submitHotspotDetails(!1)}),a._uU(1),a.qZA()}if(2&e){const e=a.oxw();a.Q6J("disabled",!e.deviceConfigurationForm.valid),a.xp6(1),a.hij(" ",e.language["Test Hotspot"]," ")}}function C(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"button",85),a.NdJ("click",function(){return a.CHM(e),a.oxw().endHotspot()}),a._uU(1),a.qZA()}if(2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.language["End Hotspot Test"]," ")}}function w(e,t){if(1&e&&(a.TgZ(0,"div",77),a.TgZ(1,"div",78),a.TgZ(2,"div",79),a.TgZ(3,"span",80),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(4),a.Oqu(e.language.Loading)}}function x(e,t){1&e&&a._UZ(0,"img",92)}function T(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"tr"),a.TgZ(1,"td",87),a.TgZ(2,"div",88),a.TgZ(3,"input",89),a.NdJ("click",function(){const t=a.CHM(e).$implicit;return a.oxw(2).siteSelected(t.ssid,t.securityType)}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(4,"td",87),a._uU(5),a.qZA(),a.TgZ(6,"td",87),a.YNc(7,x,1,0,"img",90),a.qZA(),a.TgZ(8,"td",87),a._UZ(9,"img",91),a.qZA(),a.qZA()}if(2&e){const e=t.$implicit,n=a.oxw(2);a.xp6(5),a.Oqu(e.ssid),a.xp6(2),a.Q6J("ngIf",e.securityType>0),a.xp6(2),a.Q6J("src",n.signalStrength(e.signalStrength),a.LSH)}}function A(e,t){if(1&e&&(a.TgZ(0,"tbody"),a.YNc(1,T,10,3,"tr",86),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",e.siteScanResult)}}function _(e,t){if(1&e&&(a.TgZ(0,"tbody"),a.TgZ(1,"tr"),a.TgZ(2,"td",93),a.TgZ(3,"strong"),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(4),a.Oqu(e.language["No data available"])}}let M=(()=>{class e{constructor(e,t,n,i,o){this.titleService=e,this.formBuilder=t,this.translateService=n,this.ssoAuthService=i,this.supportWifiService=o,this.loading=!0,this.siteScanLoading=!1,this.connectionSuccess=!1,this.connectionFailed=!1,this.showPassPhrase=!1,this.invalidPasswordLength=!1,this.hotspotButtonVisibility=!0,this.disableHotspotName=!0,this.disableSelect=!1,this.disablePassword=!0,this.disableOwner=!1,this.disablePos=!1,this.backupWanExists=!1,this.backupWanTestCompleted=!1,this.backupWanGetStatusCompleted=!1,this.userid="",this.backUpWifiId="",this.errorMessage="",this.selectedSsid="",this.selectedSecuritytype=0,this.siteScanResult=[]}ngOnInit(){this.userid=localStorage.getItem("ciquserid"),this.language=this.translateService.defualtLanguage,this.titleService.setTitle(`${this.language["Network Resilience"]} - ${this.language.SmartBiz} - ${this.language["Managed Services"]} - ${this.language.Support} - ${this.language["Calix Cloud"]}`),this.languageSubscription=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.titleService.setTitle(`${this.language["Network Resilience"]} - ${this.language.SmartBiz} - ${this.language["Managed Services"]} - ${this.language.Support} - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`${this.language["Network Resilience"]} - ${this.language.Wifi} - ${this.language.Support} - ${this.language["Calix Cloud"]}`),this.initDeviceConfigurationForm(),this.getBackupWifiInfo(!1)}initDeviceConfigurationForm(){this.deviceConfigurationForm=this.formBuilder.group({id:[],userId:this.userid,ssid:[{value:"",disabled:this.disableHotspotName}],password:[{value:"",disabled:!0},r.kI.minLength(8)],appliedTraffic:this.formBuilder.group({owner:[{value:!0,disabled:this.disableOwner}],pos:[{value:!0,disabled:this.disablePos}],staff:[{value:!1,disabled:!1}],customer:[{value:!1,disabled:!1}]})})}get ssid(){return this.deviceConfigurationForm.value.ssid}get staff(){return this.deviceConfigurationForm.getRawValue().appliedTraffic.staff}get customer(){return this.deviceConfigurationForm.getRawValue().appliedTraffic.customer}submitHotspotDetails(e){if(e&&!this.deviceConfigurationForm.value.id)return;this.loading=!0;let t=this.deviceConfigurationForm.getRawValue(),n=this.supportWifiService.backupwanwifiupdate(t);this.deviceConfigurationForm.value.id||(delete t.id,n=this.supportWifiService.backupwanwifiadd(t)),n.subscribe(()=>{this.loading=!1,e||setTimeout(()=>{this.getBackupWifiInfo(!0);const e=setInterval(()=>{this.backupWanExists?clearInterval(e):(clearInterval(e),this.getBackupWifiInfo(!0))},1e4)},1e4)},e=>{this.pageErrorHandle(e),this.loading=!1})}getBackupWifiInfo(e){this.loading=!0,this.supportWifiService.backupwanwifi(this.userid).subscribe(t=>{if(!t.backupWifis.length)return this.onHotspotNameChanged(),void(this.loading=!1);this.backupWanExists=!0;let n=t.backupWifis[0];this.backUpWifiId=n.id,n.password||this.deviceConfigurationForm.get("password").disable(),n.ssid&&this.deviceConfigurationForm.get("password").enable(),this.deviceConfigurationForm.patchValue(n),this.deviceConfigurationForm.controls.password.markAsTouched(),this.onHotspotNameChanged(),e?this.startBackupWanTest():this.getBackupWanTestStatus()},e=>{this.loading=!1,this.pageErrorHandle(e)})}getBackupWanTestStatus(){this.loading=!0,this.backupWanGetStatusCompleted=!1,this.supportWifiService.teststatusbw(this.userid,this.backUpWifiId).subscribe(e=>{this.loading=!1,""==e.failReason&&"success"==e.result?this.hotspotButtonVisibility=!1:(this.backupWanGetStatusCompleted=!0,this.hotspotButtonVisibility=!0)},e=>{this.loading=!1,this.pageErrorHandle(e)})}startBackupWanTest(){this.loading=!0,this.supportWifiService.teststartbw({userId:this.userid,id:this.backUpWifiId}).subscribe(()=>{this.loading=!1,setTimeout(()=>{let e=0;this.getBackupWanTestStatusPeriodically();const t=setInterval(()=>{e++,this.backupWanTestCompleted||17==e?(17==e&&(this.backupWanTestCompleted=!0,this.hotspotButtonVisibility=!0,this.connectionFailed=!0,this.loading=!1),clearInterval(t)):this.getBackupWanTestStatusPeriodically()},1e4)},1e4)},e=>{this.loading=!1,this.pageErrorHandle(e)})}getBackupWanTestStatusPeriodically(){this.backupWanTestCompleted=!1,this.supportWifiService.teststatusbw(this.userid,this.backUpWifiId).subscribe(e=>{"success"==e.result?(this.backupWanTestCompleted=!0,this.hotspotButtonVisibility=!1,this.connectionSuccess=!0,this.loading=!1,setTimeout(()=>{let e=0;this.getBackupWanTestStatus();const t=setInterval(()=>{e++,this.backupWanGetStatusCompleted||3==e?(3==e&&(this.backupWanGetStatusCompleted=!1),clearInterval(t)):this.getBackupWanTestStatus()},6e4)},6e4)):"failed"==e.result?(this.backupWanTestCompleted=!0,this.hotspotButtonVisibility=!0,this.connectionFailed=!0,this.loading=!1):this.backupWanTestCompleted=!1},e=>{this.loading=!1,this.pageErrorHandle(e)})}endHotspot(){this.loading=!0,this.supportWifiService.teststopbw({userId:this.userid,id:this.backUpWifiId}).subscribe(()=>{this.loading=!1,this.hotspotButtonVisibility=!0},e=>{this.loading=!1,this.pageErrorHandle(e)})}runSiteScan(){this.disableSelect=!0,this.siteScanLoading=!0,this.supportWifiService.sitestartbw({userId:this.userid}).subscribe(()=>{setTimeout(()=>{this.sitescanresult();const e=setInterval(()=>{this.siteScanResult.length||this.sitescanresult(),clearInterval(e)},1e3)},1e3)},e=>{this.siteScanLoading=!1,this.pageErrorHandle(e)})}sitescanresult(){this.siteScanResult=[],this.supportWifiService.sitescanresultbw(this.userid).subscribe(e=>{this.siteScanLoading=!1,this.siteScanResult=e.wifis},e=>{this.siteScanLoading=!1,this.pageErrorHandle(e)})}onHotspotNameChanged(){this.deviceConfigurationForm.getRawValue().ssid?(this.deviceConfigurationForm.get("appliedTraffic.staff").enable(),this.deviceConfigurationForm.get("appliedTraffic.customer").enable()):(this.deviceConfigurationForm.get("appliedTraffic.staff").disable(),this.deviceConfigurationForm.get("appliedTraffic.customer").disable())}signalStrength(e){let t=parseInt(e);return 0==t?"./assets/images/wifi-icons/WiFi0.png":"./assets/images/wifi-icons/WiFi"+t+".svg"}siteSelected(e,t){this.disableSelect=!1,this.selectedSsid=e,this.selectedSecuritytype=t}submitSelectedSSID(){0==this.selectedSecuritytype?this.deviceConfigurationForm.get("password").setValidators(r.kI.minLength(8)):this.deviceConfigurationForm.get("password").setValidators([r.kI.required,r.kI.minLength(8)]),this.deviceConfigurationForm.controls.password.markAsTouched(),this.deviceConfigurationForm.patchValue({ssid:this.selectedSsid,password:""}),this.deviceConfigurationForm.get("password").enable(),this.onHotspotNameChanged()}onPasswordChange(){this.deviceConfigurationForm.patchValue({password:this.deviceConfigurationForm.value.password?this.deviceConfigurationForm.value.password.trim():""})}togglePasswordVisibility(){this.showPassPhrase=!this.showPassPhrase}pageErrorHandle(e){this.errorMessage=401===e.status?this.language["Access Denied"]:this.ssoAuthService.pageErrorHandle(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(l.Dx),a.Y36(r.qu),a.Y36(s.s),a.Y36(c.t6),a.Y36(g.O))},e.\u0275cmp=a.Xpm({type:e,selectors:[["network-resilience"]],decls:107,vars:35,consts:[[1,"container"],[1,"row"],["class","success-meg-info d-flex justify-content-between",4,"ngIf"],["class","error-meg-info d-flex justify-content-between",4,"ngIf"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],[1,"position-relative"],["class","loader",4,"ngIf"],[1,"row","my-3"],[1,"col-md-12"],["id","runsitescanbakwan","data-toggle","modal","data-target","#site-scan-result-modal",1,"btn-default","primary","px-3","mr-20px",3,"click"],[3,"formGroup"],[1,"col-md-6"],[1,"d-flex","justify-content-between","border-bottom","mb-3"],["id","device-details",1,"cco-secondary-title"],[1,"ccl-form","form-group"],["for","hotspot-name"],["id","hotspot-name","formControlName","ssid","name","hotspotName","type","text","aria-describedby","hotspotName","autocomplete","off",1,"form-control",3,"change","onBlur"],[1,"ccl-form","form-group","password-container"],["for","password"],["id","password","name","password","formControlName","password","autocomplete","new-password","minlength","8","maxlength","63",3,"placeholder","type","keyup"],[1,"pointer","mt-1",3,"ngClass","click"],["src","../../../../assets/img/ic_hide.svg","alt","icon here",4,"ngIf"],["src","../../../../assets/img/ic_view_blue.svg","alt","icon here",4,"ngIf"],["class","errorMessage",4,"ngIf"],["id","test-hotspot-button","class","btn-default primary px-3 mr-20px",3,"disabled","click",4,"ngIf"],["id","end-hotspot-button","class","btn-default primary px-3 mr-20px",3,"click",4,"ngIf"],["formGroupName","appliedTraffic",1,"col-md-6"],["id","bark-account-details",1,"cco-secondary-title"],[1,""],["for","name",1,"col-form-label"],["ng-reflect-ng-class","toggle-swtbtn checkbox switche",1,"toggle-swtbtn","checkbox","switcher","switch-disabled","mr-2"],["for","owner"],["type","checkbox","name","owner","id","owner","formControlName","owner","ng-reflect-model","true","ng-reflect-is-disabled","false","disabled","",1,"ng-untouched","ng-pristine","ng-valid","ng-dirty"],[1,"mr-2"],["ng-reflect-ng-class","toggle-swtbtn checkbox switche",1,"toggle-swtbtn","checkbox","switcher","mr-2","switch-disabled"],["for","pointofsale"],["type","checkbox","name","pointofsale","id","pointofsale","formControlName","pos","ng-reflect-model","true","ng-reflect-is-disabled","false","disabled","",1,"ng-untouched","ng-pristine","ng-valid","ng-dirty"],["ng-reflect-ng-class","toggle-swtbtn checkbox switche",1,"toggle-swtbtn","checkbox","switcher","mr-2"],["for","staff"],["type","checkbox","name","staff","id","staff","formControlName","staff","ng-reflect-model","true","ng-reflect-is-disabled","false",1,"ng-untouched","ng-pristine","ng-valid","ng-dirty",3,"change"],["for","customer"],["type","checkbox","name","customer","id","customer","formControlName","customer","ng-reflect-model","true","ng-reflect-is-disabled","false",1,"ng-untouched","ng-pristine","ng-valid","ng-dirty",3,"change"],["id","site-scan-result-modal","tabindex","-1","role","dialog","aria-labelledby","siteScanResultModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"w-100"],[1,"w-100","d-flex","align-items-center"],["id","siteScanResultModalLabel",1,"modal-title"],[1,"w-50"],["src","../../../../../assets/img/Refresh-icon.svg","alt","",1,"w-10","pointer","ml-2",3,"click"],[1,"modal-body","wan-site-scan-table"],[1,"table","table-striped","site-scan-table"],[4,"ngIf"],[1,"modal-footer","justify-content-start"],["type","button","data-dismiss","modal",1,"btn-default","btn-primary","mr-2",3,"disabled","click"],["type","button","data-dismiss","modal",1,"btn-default","btn-dft","py-1"],[1,"success-meg-info","d-flex","justify-content-between"],[1,"success-meg","d-flex","align-items-center"],[1,"success-meg-icon"],["src","../../../../../assets/img/success-icon.svg","alt","",1,"mr-2"],[1,"success-meg-content"],[1,"success-meg-close"],["src","../../../../../assets/img/close-icon.svg","alt","",1,"ml-2",3,"click"],[1,"error-meg-info","d-flex","justify-content-between"],[1,"error-meg","d-flex","align-items-center"],[1,"error-meg-icon"],["src","../../../../../assets/img/error-icon.svg","alt","",1,"mr-2"],[1,"error-meg-content"],[1,"error-meg-close"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["src","../../../../assets/img/ic_hide.svg","alt","icon here"],["src","../../../../assets/img/ic_view_blue.svg","alt","icon here"],[1,"errorMessage"],["id","test-hotspot-button",1,"btn-default","primary","px-3","mr-20px",3,"disabled","click"],["id","end-hotspot-button",1,"btn-default","primary","px-3","mr-20px",3,"click"],[4,"ngFor","ngForOf"],[1,"filterable-cell"],[1,"form-check"],["type","radio","name","exampleRadios","id","exampleRadios1","value","option1",1,"form-check-input",3,"click"],["src","../../../../assets/img/lock-icon.svg","alt","",4,"ngIf"],["alt","",1,"wifi-icon",3,"src"],["src","../../../../assets/img/lock-icon.svg","alt",""],["colspan","100","align","center"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.YNc(2,d,11,2,"div",2),a.YNc(3,u,11,2,"div",3),a.YNc(4,p,6,1,"div",4),a.qZA(),a.TgZ(5,"div",5),a.YNc(6,m,5,1,"div",6),a.TgZ(7,"div",7),a.TgZ(8,"div",8),a.TgZ(9,"button",9),a.NdJ("click",function(){return t.runSiteScan()}),a._uU(10),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"form",10),a.TgZ(12,"div",1),a.TgZ(13,"div",11),a.TgZ(14,"div",12),a.TgZ(15,"div",13),a._uU(16),a.qZA(),a.qZA(),a.TgZ(17,"p"),a._uU(18),a.qZA(),a.TgZ(19,"div",14),a.TgZ(20,"label",15),a._uU(21),a.qZA(),a.TgZ(22,"input",16),a.NdJ("change",function(){return t.onHotspotNameChanged()})("onBlur",function(){return t.onHotspotNameChanged()}),a.qZA(),a.qZA(),a.TgZ(23,"div",17),a.TgZ(24,"label",18),a._uU(25),a.qZA(),a.TgZ(26,"input",19),a.NdJ("keyup",function(){return t.onPasswordChange()}),a.qZA(),a.TgZ(27,"span",20),a.NdJ("click",function(){return t.togglePasswordVisibility()}),a.YNc(28,h,1,0,"img",21),a.YNc(29,f,1,0,"img",22),a.qZA(),a.YNc(30,b,2,1,"div",23),a.YNc(31,Z,2,1,"div",23),a.qZA(),a.TgZ(32,"div",7),a.TgZ(33,"div",8),a.YNc(34,v,2,2,"button",24),a.YNc(35,C,2,1,"button",25),a.qZA(),a.qZA(),a.qZA(),a.TgZ(36,"div",26),a.TgZ(37,"div",12),a.TgZ(38,"div",27),a._uU(39),a.qZA(),a.qZA(),a.TgZ(40,"div",28),a.TgZ(41,"label",29),a._uU(42),a.qZA(),a.TgZ(43,"div",30),a.TgZ(44,"label",31),a._UZ(45,"input",32),a.TgZ(46,"span",33),a._UZ(47,"small"),a.qZA(),a._uU(48),a.qZA(),a.qZA(),a.qZA(),a.TgZ(49,"div",28),a.TgZ(50,"label",29),a._uU(51),a.qZA(),a.TgZ(52,"div",34),a.TgZ(53,"label",35),a._UZ(54,"input",36),a.TgZ(55,"span",33),a._UZ(56,"small"),a.qZA(),a._uU(57),a.qZA(),a.qZA(),a.qZA(),a.TgZ(58,"div",28),a.TgZ(59,"label",29),a._uU(60),a.qZA(),a.TgZ(61,"div",37),a.TgZ(62,"label",38),a.TgZ(63,"input",39),a.NdJ("change",function(){return t.submitHotspotDetails(!0)}),a.qZA(),a.TgZ(64,"span",33),a._UZ(65,"small"),a.qZA(),a.TgZ(66,"span"),a._uU(67),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(68,"div",28),a.TgZ(69,"label",29),a._uU(70),a.qZA(),a.TgZ(71,"div",37),a.TgZ(72,"label",40),a.TgZ(73,"input",41),a.NdJ("change",function(){return t.submitHotspotDetails(!0)}),a.qZA(),a.TgZ(74,"span",33),a._UZ(75,"small"),a.qZA(),a.TgZ(76,"span"),a._uU(77),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(78,"div",42),a.TgZ(79,"div",43),a.TgZ(80,"div",44),a.TgZ(81,"div",45),a.TgZ(82,"button",46),a._UZ(83,"span",47),a.qZA(),a.TgZ(84,"div",48),a.TgZ(85,"div",49),a.TgZ(86,"h5",50),a._uU(87),a.qZA(),a.TgZ(88,"span",51),a.TgZ(89,"img",52),a.NdJ("click",function(){return t.runSiteScan()}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(90,"div",53),a.YNc(91,w,5,1,"div",6),a.TgZ(92,"table",54),a.TgZ(93,"thead"),a.TgZ(94,"tr"),a.TgZ(95,"th"),a._uU(96,"SSID"),a.qZA(),a._UZ(97,"th"),a._UZ(98,"th"),a._UZ(99,"th"),a.qZA(),a.qZA(),a.YNc(100,A,2,1,"tbody",55),a.YNc(101,_,5,1,"tbody",55),a.qZA(),a.qZA(),a.TgZ(102,"div",56),a.TgZ(103,"button",57),a.NdJ("click",function(){return t.submitSelectedSSID()}),a._uU(104),a.qZA(),a.TgZ(105,"button",58),a._uU(106),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(2),a.Q6J("ngIf",t.connectionSuccess),a.xp6(1),a.Q6J("ngIf",t.connectionFailed),a.xp6(1),a.Q6J("ngIf",t.errorMessage),a.xp6(2),a.Q6J("ngIf",t.loading),a.xp6(4),a.hij(" ",t.language.Run_Site_Scan," "),a.xp6(1),a.Q6J("formGroup",t.deviceConfigurationForm),a.xp6(5),a.hij(" ",t.language.Device_Details," "),a.xp6(2),a.Oqu(t.language["Run a site scan to select device for failover device configuration"]),a.xp6(3),a.hij(" ",t.language["Hotspot Name"],""),a.xp6(4),a.Oqu(t.language.Password),a.xp6(1),a.Q6J("placeholder",t.language.Password)("type",t.showPassPhrase?"text":"password"),a.xp6(1),a.Q6J("ngClass",t.showPassPhrase?"password_view":"password_hide"),a.xp6(1),a.Q6J("ngIf",!t.showPassPhrase),a.xp6(1),a.Q6J("ngIf",t.showPassPhrase),a.xp6(1),a.Q6J("ngIf",t.deviceConfigurationForm.touched&&t.deviceConfigurationForm.dirty&&(null==t.deviceConfigurationForm.get("password").errors?null:t.deviceConfigurationForm.get("password").errors.required)),a.xp6(1),a.Q6J("ngIf",t.deviceConfigurationForm.touched&&t.deviceConfigurationForm.dirty&&(null==t.deviceConfigurationForm.get("password").errors?null:t.deviceConfigurationForm.get("password").errors.minlength)),a.xp6(3),a.Q6J("ngIf",t.hotspotButtonVisibility),a.xp6(1),a.Q6J("ngIf",!t.hotspotButtonVisibility),a.xp6(4),a.hij(" ",t.language["Network Access"]," "),a.xp6(3),a.hij(" ",t.language["Primary Network"]," "),a.xp6(6),a.hij(" ",t.language.Enabled," "),a.xp6(3),a.hij(" ",t.language["Point of Sale Network"]," "),a.xp6(6),a.hij(" ",t.language.Enabled," "),a.xp6(3),a.hij(" ",t.language["Staff Network"]," "),a.xp6(7),a.hij(" ",t.staff?t.language.Enabled:t.language.Disabled," "),a.xp6(3),a.hij(" ",t.language["Customer Portal"]," "),a.xp6(7),a.hij(" ",t.customer?t.language.Enabled:t.language.Disabled," "),a.xp6(10),a.hij(" ",t.language.Site_Scan," "),a.xp6(4),a.Q6J("ngIf",t.siteScanLoading),a.xp6(9),a.Q6J("ngIf",!t.siteScanLoading),a.xp6(1),a.Q6J("ngIf",!t.siteScanResult.length&&!t.siteScanLoading),a.xp6(2),a.Q6J("disabled",t.disableSelect),a.xp6(1),a.hij(" ",t.language.Select," "),a.xp6(2),a.hij(" ",t.language.Cancel," "))},directives:[i.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.wO,r.nD,i.mk,r.x0,r.Wl,i.sg],styles:[".password-container[_ngcontent-%COMP%]{position:relative}.password-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:20px;top:41px}.password-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .password-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:12px 36px 12px 12px;box-sizing:border-box}.fa-eye[_ngcontent-%COMP%]{position:absolute;top:28%;right:4%;cursor:pointer;color:#d3d3d3}.wan-site-scan-table[_ngcontent-%COMP%]{overflow-y:auto;height:400px}.wan-site-scan-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse}.wan-site-scan-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff;border-bottom:2px solid #dee2e6;border-top:none;position:sticky;top:0;z-index:1000}.wan-site-scan-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:10%}.wan-site-scan-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:70%}.wan-site-scan-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:10%}.wan-site-scan-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4){width:10%}.wan-site-scan-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px 0}.wan-site-scan-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1){width:8%}.wan-site-scan-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:8%;text-align:center}.wan-site-scan-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:10%;text-align:center}.switch-disabled[_ngcontent-%COMP%]{opacity:.5}.switch-disabled[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:not-allowed}.success-meg-info[_ngcontent-%COMP%]{width:100%;background-color:#fafff5;padding:24px}.success-meg-info[_ngcontent-%COMP%]   .success-meg[_ngcontent-%COMP%]{width:100%}.success-meg-info[_ngcontent-%COMP%]   .success-meg[_ngcontent-%COMP%]   .success-meg-icon[_ngcontent-%COMP%]{width:4%}.success-meg-info[_ngcontent-%COMP%]   .success-meg[_ngcontent-%COMP%]   .success-meg-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:16px;width:80%}.success-meg-info[_ngcontent-%COMP%]   .success-meg[_ngcontent-%COMP%]   .success-meg-content[_ngcontent-%COMP%]{width:91%}.success-meg-info[_ngcontent-%COMP%]   .success-meg[_ngcontent-%COMP%]   .success-meg-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:24px;line-height:30px;margin-bottom:0}.success-meg-info[_ngcontent-%COMP%]   .success-meg[_ngcontent-%COMP%]   .success-meg-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:20px;color:#4c4c4c}.success-meg-info[_ngcontent-%COMP%]   .success-meg[_ngcontent-%COMP%]   .success-meg-close[_ngcontent-%COMP%]{width:5%;text-align:right}.success-meg-info[_ngcontent-%COMP%]   .success-meg[_ngcontent-%COMP%]   .success-meg-close[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:16px;width:19px;cursor:pointer}.error-meg-info[_ngcontent-%COMP%]{width:100%;background-color:#fff5f5;padding:24px}.error-meg-info[_ngcontent-%COMP%]   .error-meg[_ngcontent-%COMP%]{width:100%}.error-meg-info[_ngcontent-%COMP%]   .error-meg[_ngcontent-%COMP%]   .error-meg-icon[_ngcontent-%COMP%]{width:4%}.error-meg-info[_ngcontent-%COMP%]   .error-meg[_ngcontent-%COMP%]   .error-meg-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:16px;width:80%}.error-meg-info[_ngcontent-%COMP%]   .error-meg[_ngcontent-%COMP%]   .error-meg-content[_ngcontent-%COMP%]{width:91%}.error-meg-info[_ngcontent-%COMP%]   .error-meg[_ngcontent-%COMP%]   .error-meg-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:24px;line-height:30px;margin-bottom:0}.error-meg-info[_ngcontent-%COMP%]   .error-meg[_ngcontent-%COMP%]   .error-meg-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:20px;color:#4c4c4c}.error-meg-info[_ngcontent-%COMP%]   .error-meg[_ngcontent-%COMP%]   .error-meg-close[_ngcontent-%COMP%]{width:5%;text-align:right}.error-meg-info[_ngcontent-%COMP%]   .error-meg[_ngcontent-%COMP%]   .error-meg-close[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:16px;width:19px;cursor:pointer}.wifi-icon[_ngcontent-%COMP%]{width:32px}.toggle-swtbtn.checkbox.switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + span[_ngcontent-%COMP%]{cursor:not-allowed}table.site-scan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:12px!important}"]}),e})();var y=n(12664),q=n(87949),P=n(20904),k=n(74062);function O(e,t){if(1&e&&(a.TgZ(0,"div",24),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.language["Character length should not exceed 512 characters"]," ")}}function S(e,t){if(1&e&&(a.TgZ(0,"span",25),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.language["Upload valid image file"]," ")}}function I(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"span",26),a.NdJ("click",function(){return a.CHM(e),a.oxw().deleteCoverImage()}),a.TgZ(1,"a",27),a._uU(2),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.language.delete)}}function J(e,t){if(1&e&&(a.TgZ(0,"span",24),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.language["Please Enter a valid URL"]," ")}}function N(e,t){if(1&e&&(a.TgZ(0,"div",24),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.language["Character length should not exceed 128 characters"]," ")}}let U=(()=>{class e{constructor(e){this.parent=e,this.language={},this.submitForm=new a.vpe,this.uploadImage=new a.vpe,this.deleteImage=new a.vpe,this.loading=!0,this.invalidURL=!1,this.errorValidation={}}ngOnInit(){this.form=this.parent.form,this.loading=!1}get title(){return this.form.value.title}get termsUrl(){return this.form.value.termsUrl}get coverImage(){return this.form.value.coverImage}get buttonText(){return this.form.value.buttonText}validateUrl(){if(this.termsUrl)return this.invalidURL=!/((h|H)ttp(s)?:\/\/)+(www\.)?(([^www\.][-a-zA-Z0-9@:%._\+~#=]{2,236})\.[a-z]{2,6})\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(this.termsUrl)||!this.termsUrl,this.invalidURL;this.invalidURL=!1}validateString(e){let t="";e.clipboardData&&(t=e.clipboardData.getData("text")),/^[a-zA-Z0-9:\u2014"!&\u201c/?\s\u2026\-]*$/.test(e.key||t)||e.preventDefault()}uploadCoverImage(e){this.uploadImage.emit({file:e.target.files[0]?e.target.files[0]:"",type:"coverImage"})}deleteCoverImage(){this.deleteImage.emit({openDialog:!0,type:"coverImage"})}submit(){this.invalidURL||this.submitForm.emit("")}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(r.sg))},e.\u0275cmp=a.Xpm({type:e,selectors:[["customer-portal-content"]],inputs:{language:"language"},outputs:{submitForm:"submitForm",uploadImage:"uploadImage",deleteImage:"deleteImage"},decls:47,vars:21,consts:[[1,"row",3,"formGroup"],[1,"col-md-6"],[1,"ccl-form","form-group"],["for","title"],["type","text","id","title","name","title","formControlName","title","aria-describedby","title","trimSpace","",1,"form-control",3,"formValue","blur","keydown","paste"],["class","error",4,"ngIf"],[1,"d-flex"],[1,"w-50","mr-2"],[1,"form-input-field"],[1,"input-field"],["id","logo-image-view-div",1,"logo-image-view"],["id","logo-image-view",1,"default-cover-image",3,"src"],["class","error","id","coverUploadError",4,"ngIf"],[1,"upload-btn-wrapper","mt-2","pointer"],["for","coverImage",1,"btn",3,"title"],["type","file","id","coverImage","accept",".jpeg, .JPEG, .PNG, .jpg, .png, .JPG, .img, .IMG, .bin, .BIN",3,"change"],["class","ml-2 mt-2 position-absolute",3,"click",4,"ngIf"],[1,"w-50"],[1,"guidelines"],[1,"text-capitalize"],["for","terms-url"],["id","terms-url","formControlName","termsUrl","name","termsUrl","type","text","aria-describedby","termsUrl","trimSpace","",1,"form-control",3,"formValue","keyup","blur"],["for","button-text"],["type","text","id","button-text","formControlName","buttonText","name","buttonText","aria-describedby","buttonText","trimSpace","",1,"form-control",3,"formValue","blur","keydown","paste"],[1,"error"],["id","coverUploadError",1,"error"],[1,"ml-2","mt-2","position-absolute",3,"click"],["href","javascript:void(0)",1,"primary","link-pointer"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"label",3),a._uU(4),a.qZA(),a.TgZ(5,"input",4),a.NdJ("blur",function(){return t.submit()})("keydown",function(e){return t.validateString(e)})("paste",function(e){return t.validateString(e)}),a.qZA(),a.YNc(6,O,2,1,"div",5),a.qZA(),a.TgZ(7,"div",6),a.TgZ(8,"div",7),a.TgZ(9,"div"),a._uU(10),a.TgZ(11,"div",8),a.TgZ(12,"div",9),a.TgZ(13,"div",10),a._UZ(14,"img",11),a.qZA(),a.YNc(15,S,2,1,"span",12),a.qZA(),a.TgZ(16,"div",13),a.TgZ(17,"label",14),a._uU(18),a.qZA(),a.TgZ(19,"input",15),a.NdJ("change",function(e){return t.uploadCoverImage(e)}),a.qZA(),a.qZA(),a.YNc(20,I,3,1,"span",16),a.qZA(),a.qZA(),a.qZA(),a.TgZ(21,"div",17),a.TgZ(22,"span"),a._uU(23),a.qZA(),a.TgZ(24,"div",18),a.TgZ(25,"ul"),a.TgZ(26,"li"),a.TgZ(27,"span",19),a._uU(28),a.qZA(),a._uU(29,":20MB "),a.qZA(),a.TgZ(30,"li"),a._uU(31),a.qZA(),a.TgZ(32,"li"),a._uU(33),a.qZA(),a.TgZ(34,"li"),a._uU(35),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(36,"div",1),a.TgZ(37,"div",2),a.TgZ(38,"label",20),a._uU(39),a.qZA(),a.TgZ(40,"input",21),a.NdJ("keyup",function(){return t.validateUrl()})("blur",function(){return t.submit()}),a.qZA(),a.YNc(41,J,2,1,"span",5),a.qZA(),a.TgZ(42,"div",2),a.TgZ(43,"label",22),a._uU(44),a.qZA(),a.TgZ(45,"input",23),a.NdJ("blur",function(){return t.submit()})("keydown",function(e){return t.validateString(e)})("paste",function(e){return t.validateString(e)}),a.qZA(),a.YNc(46,N,2,1,"div",5),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.Q6J("formGroup",t.form),a.xp6(4),a.Oqu(t.language.Message),a.xp6(1),a.Q6J("formValue",t.form),a.xp6(1),a.Q6J("ngIf",t.form.touched&&t.form.dirty&&(null==t.form.get("title").errors?null:t.form.get("title").errors.maxlength)),a.xp6(4),a.hij(" ",t.language["Cover Photo"]," "),a.xp6(4),a.Q6J("src",t.coverImage||" ",a.LSH),a.xp6(1),a.Q6J("ngIf",t.errorValidation.coverImage),a.xp6(2),a.Q6J("title",t.language["Upload Image"]),a.xp6(1),a.hij(" ",t.language["Upload Image"]," "),a.xp6(2),a.Q6J("ngIf",t.coverImage),a.xp6(3),a.Oqu(t.language["Cover Photo Guidelines"]),a.xp6(5),a.Oqu(t.language["Max File size"]),a.xp6(3),a.hij("",t.language["Max Width"],":1080px"),a.xp6(2),a.hij("",t.language["Max Height"],":360px"),a.xp6(2),a.hij("",t.language["Supported Formats"],": .png, .jpeg/.jpg"),a.xp6(4),a.Oqu(t.language["Terms of Service"]),a.xp6(1),a.Q6J("formValue",t.form),a.xp6(1),a.Q6J("ngIf",t.invalidURL),a.xp6(3),a.Oqu(t.language["Submit Button Text"]),a.xp6(1),a.Q6J("formValue",t.form),a.xp6(1),a.Q6J("ngIf",t.form.touched&&t.form.dirty&&(null==t.form.get("buttonText").errors?null:t.form.get("buttonText").errors.maxlength)))},directives:[r.JL,r.sg,r.Fj,r.JJ,r.u,k.f,i.O5],styles:['.ccl-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;min-height:38px;max-height:42px;line-height:inherit;border-radius:26px;background:#f8f8fa;padding:0 15px;font-size:14px;font-weight:400;color:#646363;border:1px solid #f8f8fa!important}.ccl-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .ccl-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active{border:1px solid #0278ff!important}.logo-image-view[_ngcontent-%COMP%]{background:#EBEAEF;border-radius:6px;width:100%;min-height:100px;max-height:180px;display:inline-flex;align-items:center;justify-content:center;border:1px solid #dad9de;position:relative}.logo-image-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;min-height:100px;max-height:100px}.logo-image-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:is([src=" "]){display:none}.btn[_ngcontent-%COMP%]{border:1px solid #CCCCCC;color:#1a1f22;background:#F8F8FA;padding:3px 20px;border-radius:8px;font-weight:400;font-size:14px;line-height:18px}.upload-btn-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;position:absolute;left:0;top:0;opacity:0;cursor:pointer;display:none}.upload-btn-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}.guidelines[_ngcontent-%COMP%]{margin-left:15px;padding-top:6px}.guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:10px}.guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;list-style-type:disc;padding-left:0;color:#4c4c4c}']}),e})();var F=n(96718);function D(e,t){if(1&e&&(a.TgZ(0,"span",30),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.language["Upload valid image file"]," ")}}function H(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"span",31),a.NdJ("click",function(){return a.CHM(e),a.oxw().deleteLogo()}),a.TgZ(1,"a",32),a._uU(2),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.Oqu(e.language.delete)}}function j(e,t){if(1&e&&(a.TgZ(0,"div",33),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.language.capitive_portal_color_validate,"")}}function Q(e,t){if(1&e&&(a.TgZ(0,"div",33),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.language.capitive_portal_color_validate,"")}}function E(e,t){if(1&e&&(a.TgZ(0,"div",33),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.language.capitive_portal_color_validate,"")}}function R(e,t){if(1&e&&(a.TgZ(0,"div",33),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.language.capitive_portal_color_validate,"")}}let Y=(()=>{class e{constructor(e,t){this.parent=e,this.ssoAuthService=t,this.language={},this.submitForm=new a.vpe,this.uploadImage=new a.vpe,this.deleteImage=new a.vpe,this.invalidLogoImage=!1,this.bgColorPicker="",this.pbColorPicker="",this.fColorPicker="",this.bfColorPicker=""}ngOnInit(){this.form=this.parent.form,this.bgColorPicker=this.bgColor,this.pbColorPicker=this.pbColor,this.fColorPicker=this.fColor,this.bfColorPicker=this.bfColor}get logoImage(){return this.form.value.logoImage}get bgColor(){return this.form.value.bgColor}get pbColor(){return this.form.value.pbColor}get fColor(){return this.form.value.fColor}get bfColor(){return this.form.value.bfColor}uploadLogo(e){this.uploadImage.emit({file:e.target.files[0]?e.target.files[0]:"",type:"logoImage"})}deleteLogo(){this.deleteImage.emit({openDialog:!0,type:"logoImage"})}colorPickerChangedEvent(e,t){this.bgColorPicker=e,this.form.get(t).patchValue(e)}submit(){this.submitForm.emit("")}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(r.sg),a.Y36(c.t6))},e.\u0275cmp=a.Xpm({type:e,selectors:[["customer-portal-branding"]],inputs:{language:"language"},outputs:{submitForm:"submitForm",uploadImage:"uploadImage",deleteImage:"deleteImage"},decls:67,vars:40,consts:[[1,"row",3,"formGroup"],[1,"branding-container"],[1,"branding-item"],[1,"d-flex"],[1,"w-50","mr-2"],[1,"form-input-field","mt-1"],[1,"input-field"],["id","logo-image-view-div",1,"logo-image-view"],["id","logo-image-view",1,"default-cover-image",3,"src"],["class","error","id","logoUploadError",4,"ngIf"],[1,"upload-btn-wrapper"],["for","logoImage",1,"btn"],["type","file","id","logoImage","accept",".jpeg, .JPEG, .PNG, .jpg, .png, .JPG, .img, .IMG, .bin, .BIN",3,"change"],["class","ml-3 position-absolute",3,"click",4,"ngIf"],[1,"w-50"],[1,"guidelines"],[1,"text-capitalize"],[1,"form-group","color-picker-custom"],[1,"d-flex","w-100"],[1,"position-relative","ccl-form","min-w-135"],["type","text","formControlName","bgColor",1,"clearable-input",3,"blur"],["class","error",4,"ngIf"],["name","primaryColor","formControlName","bgColor","id","bgColor","autocomplete","off",1,"form-control","color-box",3,"colorPicker","cpOutputFormat","cpPosition","colorPickerChange","colorPickerClose"],["type","text","formControlName","pbColor",1,"clearable-input",3,"blur"],["name","pbColor","formControlName","pbColor","id","pbColor","autocomplete","off",1,"form-control","color-box",3,"colorPicker","cpOutputFormat","cpPosition","colorPickerChange","colorPickerClose"],["type","text","formControlName","fColor",1,"clearable-input",3,"blur"],["name","fColor","formControlName","fColor","id","fColor","autocomplete","off",1,"form-control","color-box",3,"colorPicker","cpOutputFormat","cpPosition","colorPickerChange","colorPickerClose"],[1,"form-group","color-picker-custom","mt-3"],["type","text","formControlName","bfColor",1,"clearable-input",3,"value","blur"],["name","bfColor","formControlName","bfColor","id","bfColor","autocomplete","off",1,"form-control","color-box",3,"colorPicker","cpOutputFormat","cpPosition","colorPickerChange","colorPickerClose"],["id","logoUploadError",1,"error"],[1,"ml-3","position-absolute",3,"click"],["href","javascript:void(0)",1,"primary","link-pointer"],[1,"error"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"div",4),a.TgZ(5,"div"),a.TgZ(6,"label"),a._uU(7),a.qZA(),a.TgZ(8,"div",5),a.TgZ(9,"div",6),a.TgZ(10,"div",7),a._UZ(11,"img",8),a.qZA(),a.YNc(12,D,2,1,"span",9),a.qZA(),a.TgZ(13,"div",10),a.TgZ(14,"label",11),a._uU(15),a.qZA(),a.TgZ(16,"input",12),a.NdJ("change",function(e){return t.uploadLogo(e)}),a.qZA(),a.qZA(),a.YNc(17,H,3,1,"span",13),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"div",14),a.TgZ(19,"label"),a._uU(20),a.qZA(),a.TgZ(21,"div",15),a.TgZ(22,"ul"),a.TgZ(23,"li"),a.TgZ(24,"span",16),a._uU(25),a.qZA(),a._uU(26,":20MB "),a.qZA(),a.TgZ(27,"li"),a._uU(28),a.qZA(),a.TgZ(29,"li"),a._uU(30),a.qZA(),a.TgZ(31,"li"),a._uU(32),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(33,"div",2),a.TgZ(34,"div",17),a.TgZ(35,"label"),a._uU(36),a.qZA(),a.TgZ(37,"div",18),a.TgZ(38,"div",19),a.TgZ(39,"input",20),a.NdJ("blur",function(){return t.submit()}),a.qZA(),a.YNc(40,j,2,1,"div",21),a.qZA(),a.TgZ(41,"input",22),a.NdJ("colorPickerChange",function(e){return t.bgColorPicker=e})("colorPickerChange",function(e){return t.colorPickerChangedEvent(e,"bgColor")})("colorPickerClose",function(){return t.submit()}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(42,"div",17),a.TgZ(43,"label"),a._uU(44),a.qZA(),a.TgZ(45,"div",18),a.TgZ(46,"div",19),a.TgZ(47,"input",23),a.NdJ("blur",function(){return t.submit()}),a.qZA(),a.YNc(48,Q,2,1,"div",21),a.qZA(),a.TgZ(49,"input",24),a.NdJ("colorPickerChange",function(e){return t.pbColorPicker=e})("colorPickerChange",function(e){return t.colorPickerChangedEvent(e,"pbColor")})("colorPickerClose",function(){return t.submit()}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(50,"div",2),a.TgZ(51,"div",17),a.TgZ(52,"label"),a._uU(53),a.qZA(),a.TgZ(54,"div",18),a.TgZ(55,"div",19),a.TgZ(56,"input",25),a.NdJ("blur",function(){return t.submit()}),a.qZA(),a.YNc(57,E,2,1,"div",21),a.qZA(),a.TgZ(58,"input",26),a.NdJ("colorPickerChange",function(e){return t.fColorPicker=e})("colorPickerChange",function(e){return t.colorPickerChangedEvent(e,"fColor")})("colorPickerClose",function(){return t.submit()}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(59,"div",27),a.TgZ(60,"label"),a._uU(61),a.qZA(),a.TgZ(62,"div",18),a.TgZ(63,"div",19),a.TgZ(64,"input",28),a.NdJ("blur",function(){return t.submit()}),a.qZA(),a.YNc(65,R,2,1,"div",21),a.qZA(),a.TgZ(66,"input",29),a.NdJ("colorPickerChange",function(e){return t.bfColorPicker=e})("colorPickerChange",function(e){return t.colorPickerChangedEvent(e,"bfColor")})("colorPickerClose",function(){return t.submit()}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.Q6J("formGroup",t.form),a.xp6(7),a.Oqu(t.language.Logo),a.xp6(4),a.Q6J("src",t.logoImage||" ",a.LSH),a.xp6(1),a.Q6J("ngIf",t.invalidLogoImage),a.xp6(3),a.Oqu(t.language["Upload Image"]),a.xp6(2),a.Q6J("ngIf",t.logoImage),a.xp6(3),a.Oqu(t.language.Logo_Guidelines),a.xp6(5),a.Oqu(t.language["Max File size"]),a.xp6(3),a.hij("",t.language["Max Width"],":400px"),a.xp6(2),a.hij("",t.language["Max Height"],":400px"),a.xp6(2),a.hij("",t.language["Supported Formats"],": .png, .jpeg/.jpg"),a.xp6(4),a.Oqu(t.language.Background),a.xp6(4),a.Q6J("ngIf",!t.ssoAuthService.validateHexCode(t.bgColor)),a.xp6(1),a.Udp("background",t.bgColor),a.Q6J("colorPicker",t.bgColorPicker)("cpOutputFormat","hex")("cpPosition","top-left"),a.xp6(3),a.Oqu(t.language["Primary Button"]),a.xp6(4),a.Q6J("ngIf",!t.ssoAuthService.validateHexCode(t.pbColor)),a.xp6(1),a.Udp("background",t.pbColor),a.Q6J("colorPicker",t.pbColorPicker)("cpOutputFormat","hex")("cpPosition","top-left"),a.xp6(4),a.Oqu(t.language.Font),a.xp6(4),a.Q6J("ngIf",!t.ssoAuthService.validateHexCode(t.fColor)),a.xp6(1),a.Udp("background",t.fColor),a.Q6J("colorPicker",t.fColorPicker)("cpOutputFormat","hex")("cpPosition","top-left"),a.xp6(3),a.Oqu(t.language["Button Font"]),a.xp6(3),a.Q6J("value",t.bfColor),a.xp6(1),a.Q6J("ngIf",!t.ssoAuthService.validateHexCode(t.bfColor)),a.xp6(1),a.Udp("background",t.bfColor),a.Q6J("colorPicker",t.bfColorPicker)("cpOutputFormat","hex")("cpPosition","top-left"))},directives:[r.JL,r.sg,i.O5,r.Fj,r.JJ,r.u,F.Kk],styles:['.branding-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.branding-container[_ngcontent-%COMP%]   .branding-item[_ngcontent-%COMP%]{width:40%;margin:0 1%}.branding-container[_ngcontent-%COMP%]   .branding-item[_ngcontent-%COMP%] + .branding-item[_ngcontent-%COMP%]{width:27%;margin:0 1%}.guidelines[_ngcontent-%COMP%]{margin-left:15px;padding-top:6px}.guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:10px}.guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;list-style-type:disc;padding-left:0;color:#4c4c4c}  .color-picker-custom .color-picker.open{margin-top:-45px;margin-left:84px}  .color-picker-custom .arrow.arrow-top-left{transform:rotate(90deg);margin-bottom:-23px;margin-right:20px}.logo-image-view[_ngcontent-%COMP%]{background:#EBEAEF;border-radius:6px;width:100%;min-height:100px;max-height:180px;display:inline-flex;align-items:center;justify-content:center;border:1px solid #dad9de;position:relative}.logo-image-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;min-height:100px;max-height:100px}.logo-image-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:is([src=" "]){display:none}.btn[_ngcontent-%COMP%]{border:1px solid #CCCCCC;color:#1a1f22;background:#F8F8FA;padding:3px 20px;border-radius:8px;font-weight:400;font-size:14px;line-height:18px}.upload-btn-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}.upload-btn-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;position:absolute;left:0;top:0;opacity:0;cursor:pointer;display:none}.color-box[_ngcontent-%COMP%]{cursor:default!important;min-width:50px;max-width:77px;height:36px;border-radius:3px!important;font-size:0;box-shadow:none!important;margin-left:12px}.w-100px[_ngcontent-%COMP%]{width:100px}']}),e})();var W=n(16738),B=n(86640),L=n(18638);const V=["addScheduleModal"];function $(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",1),a.TgZ(1,"div",10),a.TgZ(2,"div",11),a._uU(3),a.qZA(),a.TgZ(4,"div",12),a.TgZ(5,"p-calendar",13),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().newSchedule.startTime=t})("ngModelChange",function(){return a.CHM(e),a.oxw().calcualteStopTime()})("onClose",function(){return a.CHM(e),a.oxw().addSchedule(!1)}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(6,"div",10),a.TgZ(7,"div",14),a._uU(8),a.qZA(),a.TgZ(9,"div",12),a.TgZ(10,"p-calendar",15),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().newSchedule.stopTime=t})("onClose",function(){return a.CHM(e),a.oxw().addSchedule(!1)}),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(3),a.hij(" ",e.language["Start Time"]," "),a.xp6(2),a.Q6J("ngModel",e.newSchedule.startTime)("showIcon",!0)("hourFormat",12)("readonlyInput",!0),a.xp6(3),a.hij(" ",e.language["End Time"]," "),a.xp6(2),a.Q6J("ngModel",e.newSchedule.stopTime)("showIcon",!0)("minDate",e.calcualteStopTime("get"))("maxDate",e.maxDate)("hourFormat",12)("readonlyInput",!0)}}function z(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"button",16),a.NdJ("click",function(){return a.CHM(e),a.oxw().openAddScheduleModal()}),a._uU(1),a.qZA()}if(2&e){const e=a.oxw();a.xp6(1),a.hij(" + ",e.language["Add Network Access Hours"]," ")}}function G(e,t){if(1&e&&(a.TgZ(0,"p"),a._uU(1),a.qZA()),2&e){const e=t.$implicit,n=a.oxw(4);a.xp6(1),a.hij(" ",n.getTimeString(e)," ")}}function X(e,t){if(1&e&&(a.TgZ(0,"div"),a.YNc(1,G,2,1,"p",18),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(1),a.Q6J("ngForOf",e.timeRanges)}}function K(e,t){if(1&e&&(a.TgZ(0,"p"),a._uU(1),a.qZA()),2&e){const e=a.oxw(3);a.xp6(1),a.Oqu(e.language["No Limit"])}}function ee(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",21),a.TgZ(1,"img",22),a.NdJ("click",function(){const t=a.CHM(e).index,n=a.oxw().$implicit;return a.oxw(2).deleteNetworkAccess(n.id,t)}),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(3);a.xp6(1),a.Q6J("title",e.language.Delete)}}function te(e,t){if(1&e&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a.YNc(4,X,2,1,"div",19),a.YNc(5,K,2,1,"p",19),a.qZA(),a.TgZ(6,"td"),a.YNc(7,ee,2,1,"div",20),a.qZA(),a.qZA()),2&e){const e=t.$implicit;a.xp6(2),a.Oqu(e.label),a.xp6(2),a.Q6J("ngIf",e.timeRanges),a.xp6(1),a.Q6J("ngIf",!e.timeRanges.length),a.xp6(2),a.Q6J("ngForOf",e.timeRanges)}}function ne(e,t){if(1&e&&(a.TgZ(0,"div",6),a.TgZ(1,"div",17),a.TgZ(2,"table"),a.TgZ(3,"thead"),a.TgZ(4,"th"),a._uU(5),a.qZA(),a.TgZ(6,"th"),a._uU(7),a.qZA(),a._UZ(8,"th"),a.qZA(),a.TgZ(9,"tbody"),a.YNc(10,te,8,4,"tr",18),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(5),a.Oqu(e.language.Day),a.xp6(2),a.Oqu(e.language["Network Access Hours"]),a.xp6(3),a.Q6J("ngForOf",e.formattedSchedules)}}function ie(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",38),a.TgZ(1,"span",39),a._UZ(2,"img",40),a.qZA(),a._UZ(3,"div",41),a.TgZ(4,"button",42),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).errorMessage=""}),a._UZ(5,"span"),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(2);a.xp6(3),a.Q6J("innerHtml",e.errorMessage,a.oJD)}}function oe(e,t){if(1&e&&(a.TgZ(0,"div",43),a._uU(1),a.qZA()),2&e){const e=a.oxw(3);a.xp6(1),a.hij(" ",e.language["Please select a day"]," ")}}function ae(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",3),a.TgZ(1,"label"),a._uU(2),a.TgZ(3,"span",43),a._uU(4,"*"),a.qZA(),a.qZA(),a.TgZ(5,"ng-select",44),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw(2).newSchedule.selectedDays=t})("change",function(){return a.CHM(e),a.oxw(2).validateDays()}),a.qZA(),a.YNc(6,oe,2,1,"div",45),a.qZA()}if(2&e){const e=a.oxw(2);a.xp6(2),a.hij(" ",e.language["Select Day(s)"]," "),a.xp6(3),a.Q6J("items",e.days)("ngModel",e.newSchedule.selectedDays)("multiple",!0)("closeOnSelect",!1)("searchable",!1),a.xp6(1),a.Q6J("ngIf",e.formSubmitted&&!e.newSchedule.selectedDays.length)}}function se(e,t){if(1&e&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&e){const e=a.oxw(2);a.xp6(1),a.Oqu(e.language.Enabled)}}function re(e,t){if(1&e&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&e){const e=a.oxw(2);a.xp6(1),a.Oqu(e.language.Disabled)}}function le(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",47),a.TgZ(1,"div",11),a._uU(2),a.qZA(),a.TgZ(3,"div",12),a.TgZ(4,"p-calendar",48),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw(3).newSchedule.startTime=t})("ngModelChange",function(){a.CHM(e);const t=a.oxw(3);return t.calcualteStopTime(),t.validateDays()}),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(3);a.xp6(2),a.hij(" ",e.language["Start Time"]," "),a.xp6(2),a.Q6J("ngModel",e.newSchedule.startTime)("showIcon",!0)("hourFormat",12)("readonlyInput",!0)}}function ce(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",47),a.TgZ(1,"div",14),a._uU(2),a.qZA(),a.TgZ(3,"div",12),a.TgZ(4,"p-calendar",49),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw(3).newSchedule.stopTime=t})("ngModelChange",function(){return a.CHM(e),a.oxw(3).validateDays()}),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw(3);a.xp6(2),a.hij(" ",e.language["End Time"]," "),a.xp6(2),a.Q6J("ngModel",e.newSchedule.stopTime)("showIcon",!0)("minDate",e.calcualteStopTime("get"))("maxDate",e.maxDate)("hourFormat",12)("readonlyInput",!0)}}function ge(e,t){if(1&e&&(a.TgZ(0,"div",6),a.YNc(1,le,5,5,"div",46),a.YNc(2,ce,5,7,"div",46),a.qZA()),2&e){const e=a.oxw(2);a.xp6(1),a.Q6J("ngIf","Always"!=e.networkAccessType),a.xp6(1),a.Q6J("ngIf","Always"!=e.networkAccessType)}}function de(e,t){if(1&e&&(a.TgZ(0,"div",50),a._uU(1),a.qZA()),2&e){const e=a.oxw(2);a.xp6(1),a.hij(" ",e.language["The selected date and time is already Added"]," ")}}function ue(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"button",51),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).addSchedule(!1)}),a._uU(1),a.qZA()}if(2&e){const e=a.oxw(2);a.Q6J("disabled",e.disableAddButton||e.formSubmitted&&"Custom"==e.networkAccessType&&!e.newSchedule.selectedDays.length),a.xp6(1),a.hij(" ",e.language["Save & Add Another"]," ")}}function pe(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",23),a.TgZ(1,"button",24),a.TgZ(2,"span",25),a.NdJ("click",function(){return a.CHM(e).$implicit.close("cancel")}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(3,"div",26),a.TgZ(4,"h2",27),a._uU(5),a.qZA(),a.YNc(6,ie,6,1,"div",28),a.YNc(7,ae,7,7,"div",29),a.TgZ(8,"div",30),a.TgZ(9,"label",31),a.TgZ(10,"input",32),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().newSchedule.enabled=t})("ngModelChange",function(){return a.CHM(e),a.oxw().disabledNetworkAccess()}),a.qZA(),a.TgZ(11,"span",33),a._UZ(12,"small"),a.qZA(),a.YNc(13,se,2,1,"span",19),a.YNc(14,re,2,1,"span",19),a.qZA(),a.qZA(),a.YNc(15,ge,3,2,"div",8),a.YNc(16,de,2,1,"div",34),a.TgZ(17,"div"),a.TgZ(18,"button",35),a.NdJ("click",function(){return a.CHM(e),a.oxw().addSchedule(!0)}),a._uU(19),a.qZA(),a.YNc(20,ue,2,2,"button",36),a.TgZ(21,"a",37),a.NdJ("click",function(){return a.CHM(e).$implicit.close("cancel")}),a._uU(22),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(5),a.hij(" ",e.language["Network Access Hours"]," "),a.xp6(1),a.Q6J("ngIf",e.errorMessage),a.xp6(1),a.Q6J("ngIf","Custom"==e.networkAccessType),a.xp6(3),a.Q6J("ngModel",e.newSchedule.enabled),a.xp6(3),a.Q6J("ngIf",e.newSchedule.enabled),a.xp6(1),a.Q6J("ngIf",!e.newSchedule.enabled),a.xp6(1),a.Q6J("ngIf",e.newSchedule.enabled),a.xp6(1),a.Q6J("ngIf",e.duplicateTimeRangeError),a.xp6(2),a.Q6J("disabled",e.disableAddButton||e.formSubmitted&&"Custom"==e.networkAccessType&&!e.newSchedule.selectedDays.length),a.xp6(1),a.hij(" ",e.language["Save Access Hours"]," "),a.xp6(1),a.Q6J("ngIf","Custom"==e.networkAccessType&&e.newSchedule.enabled),a.xp6(2),a.hij(" ",e.language.cancel," ")}}let me=(()=>{class e{constructor(e,t,n){this.parent=e,this.modalService=t,this.formBuilder=n,this.language={},this.submitForm=new a.vpe,this.disableAddButton=!1,this.formSubmitted=!1,this.duplicateTimeRangeError=!1,this.networkAccessType="Always",this.errorMessage="",this.networkAccess=[],this.days=[],this.formattedSchedules=[],this.newSchedule={selectedDays:[],enabled:!0,startTime:new Date,stopTime:new Date((new Date).setMinutes((new Date).getMinutes()+1))},this.maxDate=new Date("2023/7/18 11:58:00 pm")}set detectLanguageChange(e){this.ngOnInit()}set detectScheduleChange(e){"Custom"==this.networkAccessType&&(this.ngOnInit(),this.validateDays())}ngOnInit(){this.form=this.parent.form,this.networkAccess=[{id:"Always",name:"Always On",label:this.language.Always_On},{id:"Everyday",name:"Everyday",label:this.language.everyDay},{id:"Custom",name:"Custom",label:this.language.Custom}],this.days=[{id:"mon",name:"Monday",label:this.language.Monday,timeRanges:[]},{id:"tue",name:"Tuesday",label:this.language.Tuesday,timeRanges:[]},{id:"wed",name:"Wednesday",label:this.language.Wednesday,timeRanges:[]},{id:"thu",name:"Thursday",label:this.language.Thursday,timeRanges:[]},{id:"fri",name:"Friday",label:this.language.Friday,timeRanges:[]},{id:"sat",name:"Saturday",label:this.language.Saturday,timeRanges:[]},{id:"sun",name:"Sunday",label:this.language.Sunday,timeRanges:[]}],0!=this.schedules.length?(this.formSubmitted=!1,this.initNewSchedule(),this.formatSchedules()):this.networkAccessType="Always"}get schedules(){return this.form.get("schedules").value}get scheduleFormArray(){return this.form.get("schedules")}get startTimeString(){return this.newSchedule.startTime?this.getDateString(this.newSchedule.startTime):""}get stopTimeString(){return this.newSchedule.stopTime?this.getDateString(this.newSchedule.stopTime):""}getDateString(e){return String(e.getHours()?1==String(e.getHours()).length?"0"+e.getHours():e.getHours():"00")+String(e.getMinutes()?1==String(e.getMinutes()).length?"0"+e.getMinutes():e.getMinutes():"00")}networkChange(){if(this.formattedSchedules=[],"Always"==this.networkAccessType||"Everyday"==this.networkAccessType)return this.initNewSchedule(),void this.addSchedule(!1);this.scheduleFormArray.clear(),this.days.forEach(e=>{let t=this.formBuilder.group({timeRanges:this.formBuilder.array([{startTime:"0000",stopTime:"2359"}]),weekDays:e.id});t.patchValue({weekDays:e.id}),this.scheduleFormArray.push(t)}),this.initNewSchedule()}initNewSchedule(){this.errorMessage="",this.duplicateTimeRangeError=!1,this.newSchedule={selectedDays:[],enabled:!0,startTime:new Date,stopTime:new Date((new Date).setMinutes((new Date).getMinutes()+1))}}formatSchedules(){let e=[];this.formattedSchedules=[...this.days];let t=[...this.schedules];t.forEach((t,n)=>{let i=[];t.timeRanges.forEach(t=>{const n=String(t.startTime)+String(t.stopTime),o={startTime:this.formatTime(n.substring(0,2)+","+n.substring(2,4),"string"),stopTime:this.formatTime(n.substring(4,6)+","+n.substring(6,8),"string")};"00002359"!=n&&i.push(o),e.includes(n)||e.push(n)}),this.formattedSchedules.find(e=>e.id==t.weekDays).timeRanges=i}),e.forEach(n=>{let i=[];t.forEach(e=>{e.timeRanges.forEach(t=>{n==String(t.startTime)+String(t.stopTime)&&i.push(e.weekDays)})}),i.sort().join(",")==this.days.map(e=>e.id).sort().join(",")&&"Custom"!=this.networkAccessType?1==e.length&&"00002359"==e[0]?this.networkAccessType="Always":(this.networkAccessType="Everyday",this.newSchedule.startTime=this.formatTime(n.substring(0,2)+","+n.substring(2,4),"object"),this.newSchedule.stopTime=this.formatTime(n.substring(4,6)+","+n.substring(6,8),"object")):this.networkAccessType="Custom"})}formatTime(e,t){let n=e.split(",").shift(),i=e.split(",").pop();if("00"==n&&"00"==i&&"Everyday"!=this.networkAccessType)return"0000";let o=new Date("1/1/1 "+n+":"+i+":00");return"object"==t?o:W(o).format("hh:mm A")}openAddScheduleModal(){this.formSubmitted=!1,this.disableAddButton=!0,this.errorMessage="",this.initNewSchedule(),this.modalService.open(this.addScheduleModal,{size:"sm",windowClass:"add-schedule-modal",centered:!0,backdrop:"static",keyboard:!1})}addSchedule(e){if(this.formSubmitted=!0,"Custom"==this.networkAccessType&&!this.newSchedule.selectedDays.length)return;this.disableAddButton=!0;let t={startTime:this.startTimeString,stopTime:this.stopTimeString};"Always"==this.networkAccessType?(this.scheduleFormArray.clear(),this.days.forEach(e=>{let t=this.formBuilder.group({timeRanges:this.formBuilder.array([{startTime:"0000",stopTime:"2359"}]),weekDays:e.id});t.patchValue({weekDays:e.id}),this.scheduleFormArray.push(t)})):"Everyday"==this.networkAccessType?(this.scheduleFormArray.clear(),this.days.forEach(e=>{let n=this.formBuilder.group({timeRanges:this.formBuilder.array([t]),weekDays:e.id});n.patchValue({weekDays:e.id}),this.scheduleFormArray.push(n)})):"Custom"==this.networkAccessType&&this.newSchedule.selectedDays.forEach(e=>{let n=this.schedules.find(t=>t.weekDays==e);if(n)"0000"==t.startTime&&"0000"==t.stopTime&&(n.timeRanges=[]),n.timeRanges.find(e=>"0000"==e.startTime&&"0000"==e.stopTime)&&(n.timeRanges=[]),1==n.timeRanges.length&&n.timeRanges.find(e=>"0000"==e.startTime&&"2359"==e.stopTime)&&(n.timeRanges=[]),n.timeRanges.push(t);else{let n=this.formBuilder.group({timeRanges:this.formBuilder.array([t]),weekDays:e});n.patchValue({weekDays:e}),this.scheduleFormArray.push(n)}}),this.submitForm.emit(""),e&&this.modalService.dismissAll()}validateDays(){"Custom"==this.networkAccessType&&(this.disableAddButton=!0,this.errorMessage="",this.duplicateTimeRangeError=!1,(!this.newSchedule.selectedDays.length||(this.disableAddButton=!1,this.newSchedule.enabled))&&0!=this.formattedSchedules.length&&this.newSchedule.selectedDays.forEach(e=>{let t=this.schedules.find(t=>t.weekDays==e);if(("0000"!=t.timeRanges[0].startTime||"2359"!=t.timeRanges[0].stopTime)&&t){if(5==t.timeRanges.length)return this.errorMessage=`${this.language["Sorry, you can set up to five network access hour time slots each day"]}`,void(this.disableAddButton=!0);t.timeRanges.forEach(e=>{if(this.startTimeString>=e.startTime&&this.startTimeString<=e.stopTime||this.stopTimeString>=e.startTime&&this.stopTimeString<=e.stopTime||e.startTime>=this.startTimeString&&e.startTime<=this.stopTimeString||e.stopTime>=this.startTimeString&&e.stopTime<=this.stopTimeString)return this.disableAddButton=!0,void(this.duplicateTimeRangeError=!0)})}}))}calcualteStopTime(e="set"){if(this.newSchedule.startTime){let t=new Date(this.newSchedule.startTime);t.setHours(23),t.setMinutes(58),this.maxDate=new Date(t);const n=new Date(this.newSchedule.startTime);let i=new Date(n.setMinutes(n.getMinutes()+1));if("get"==e)return i;this.newSchedule.stopTime=i}}getMinDate(){if(this.newSchedule.startTime){const e=new Date(this.newSchedule.startTime);return new Date(e.setMinutes(e.getMinutes()+1))}}getTimeString(e){return"0000"==e.startTime&&"0000"==e.stopTime?this.language["Network Disabled"]:(parseInt(e.startTime)?e.startTime:"12:00 AM")+" to "+(parseInt(e.stopTime)?e.stopTime:"12:00 AM")}disabledNetworkAccess(){this.newSchedule.enabled?(this.newSchedule.startTime=new Date,this.newSchedule.stopTime=new Date((new Date).setMinutes((new Date).getMinutes()+1))):(this.newSchedule.startTime=new Date("1/1/1 00:00:00"),this.newSchedule.stopTime=new Date("1/1/1 00:00:00")),this.validateDays()}deleteNetworkAccess(e,t){let n=this.schedules.findIndex(t=>t.weekDays==e);this.scheduleFormArray.at(n).value.timeRanges.length>1?this.scheduleFormArray.at(n).value.timeRanges.splice(t,1):(this.scheduleFormArray.at(n).patchValue({timeRanges:[{startTime:"0000",stopTime:"2359"}]}),this.networkAccessType="Always"),this.formatSchedules(),this.validateDays(),this.submitForm.emit("")}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(r.sg),a.Y36(y.FF),a.Y36(r.qu))},e.\u0275cmp=a.Xpm({type:e,selectors:[["customer-portal-network-access"]],viewQuery:function(e,t){if(1&e&&a.Gf(V,7),2&e){let e;a.iGM(e=a.CRH())&&(t.addScheduleModal=e.first)}},inputs:{language:"language",detectLanguageChange:"detectLanguageChange",detectScheduleChange:"detectScheduleChange"},outputs:{submitForm:"submitForm"},decls:13,vars:7,consts:[["id","network-access"],[1,"row","ccl-form"],[1,"col-md-4"],[1,"mb-2"],["name","networkAccessType","value","id","bindLabel","label","bindValue","id",3,"ngModel","items","searchable","ngModelChange","change"],["class","row ccl-form",4,"ngIf"],[1,"row"],["type","button","class","btn-default primary btn-sm-primary mt-2",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["addScheduleModal",""],[1,"captive-time","mb-2","col-md-3"],["for","startTime"],[1,"captive-time-item","position-relative"],["id","startTime","name","startTime","timeOnly","true","showTime","true",3,"ngModel","showIcon","hourFormat","readonlyInput","ngModelChange","onClose"],["for","stopTime"],["id","stopTime","name","stopTime","timeOnly","true","showTime","true",3,"ngModel","showIcon","minDate","maxDate","hourFormat","readonlyInput","ngModelChange","onClose"],["type","button",1,"btn-default","primary","btn-sm-primary","mt-2",3,"click"],[1,"captive-hours-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","captive-hours-delete",4,"ngFor","ngForOf"],[1,"captive-hours-delete"],["src","../../../../assets/img/net-delete.svg",1,"net-delete","pointer",3,"title","click"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true",3,"click"],[1,"modal-body","ccl-form"],[1,"title"],["class","w-100 d-flex alert alert-danger fade show",4,"ngIf"],["class","mb-2",4,"ngIf"],["ng-reflect-ng-class","toggle-swtbtn checkbox switche",1,"toggle-swtbtn","checkbox","switcher","mr-2"],["for","enabled"],["type","checkbox","name","enabled","id","enabled",1,"ng-untouched","ng-pristine","ng-valid","ng-dirty",3,"ngModel","ngModelChange"],[1,"mr-2"],["class","error mb-2",4,"ngIf"],["type","button","id","add",1,"btn-default","primary","px-3","mr-3","mt-5",3,"disabled","click"],["type","button","id","add-another","class","btn-default default btn-dft px-3 mr-3 mt-5",3,"disabled","click",4,"ngIf"],["id","cancel",1,"primary",3,"click"],[1,"w-100","d-flex","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],[1,"d-inline-flex","w-75",3,"innerHtml"],["type","button",1,"close",3,"click"],[1,"error"],["bindLabel","label","bindValue","id","name","selectedDays",3,"items","ngModel","multiple","closeOnSelect","searchable","ngModelChange","change"],["class","error",4,"ngIf"],["class","captive-time mb-2 col-md-6",4,"ngIf"],[1,"captive-time","mb-2","col-md-6"],["id","startTime","name","startTime","timeOnly","true","showTime","true",3,"ngModel","showIcon","hourFormat","readonlyInput","ngModelChange"],["id","stopTime","name","stopTime","timeOnly","true","showTime","true",3,"ngModel","showIcon","minDate","maxDate","hourFormat","readonlyInput","ngModelChange"],[1,"error","mb-2"],["type","button","id","add-another",1,"btn-default","default","btn-dft","px-3","mr-3","mt-5",3,"disabled","click"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"label"),a._uU(5),a.qZA(),a.TgZ(6,"ng-select",4),a.NdJ("ngModelChange",function(e){return t.networkAccessType=e})("change",function(){return t.networkChange()}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(7,$,11,12,"div",5),a.TgZ(8,"div",6),a.YNc(9,z,2,1,"button",7),a.qZA(),a.YNc(10,ne,11,3,"div",8),a.qZA(),a.YNc(11,pe,23,12,"ng-template",null,9,a.W1O)),2&e&&(a.xp6(5),a.hij(" ",t.language["Network Access"]," "),a.xp6(1),a.Q6J("ngModel",t.networkAccessType)("items",t.networkAccess)("searchable",!1),a.xp6(1),a.Q6J("ngIf","Everyday"==t.networkAccessType),a.xp6(2),a.Q6J("ngIf","Custom"==t.networkAccessType),a.xp6(1),a.Q6J("ngIf","Custom"==t.networkAccessType))},directives:[B.w9,r.JJ,r.On,i.O5,L.f,i.sg,r.Wl],styles:['.captive-time-item .p-calendar-w-btn .p-datepicker-trigger .p-button-icon.pi.pi-calendar{background:url(clock.257649ad24994256bc09.svg)!important;background-repeat:no-repeat!important;background-size:20px!important;display:inline-block;width:20px;height:20px}  .captive-time-item .p-calendar-w-btn .p-datepicker-trigger .p-button-icon.pi.pi-calendar:before{display:none!important}.captive-time[_ngcontent-%COMP%]{position:relative}.captive-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:11px;top:35px;width:20px}.captive-time-item[_ngcontent-%COMP%]{width:100%}.captive-hours-table[_ngcontent-%COMP%]{width:616px;margin-top:16px}.captive-hours-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.captive-hours-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc}.captive-hours-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:18px;padding-bottom:6px}.captive-hours-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){padding-left:16px}.captive-hours-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;font-size:15px;line-height:24px}.captive-hours-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:3px 0}.captive-hours-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1){padding-left:16px}.captive-hours-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f8f8fa}  .add-schedule-modal .modal-dialog{border-radius:26px;width:536px}  .add-schedule-modal .modal-dialog .modal-header{height:20px}  .add-schedule-modal .modal-dialog .modal-content .modal-body h2{font-family:"Source Sans Pro";font-style:normal;font-weight:300;font-size:42px;line-height:53px;display:flex;align-items:center}  .add-schedule-modal .modal-dialog .modal-content .modal-body #cancel{text-decoration:none;cursor:pointer}.captive-hours-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;padding:6px 0}']}),e})(),he=(()=>{class e{constructor(e){this.parent=e,this.language={},this.submitForm=new a.vpe,this.retentionDays=[]}ngOnInit(){this.form=this.parent.form,this.retentionDays=[{id:"1 "+this.language.day,value:1},{id:"15 "+this.language.days,value:15},{id:"30 "+this.language.days,value:30},{id:"60 "+this.language.days,value:60},{id:"90 "+this.language.days,value:90}]}loginRetentionChanged(){this.submitForm.emit("")}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(r.sg))},e.\u0275cmp=a.Xpm({type:e,selectors:[["customer-portal-visitors"]],inputs:{language:"language"},outputs:{submitForm:"submitForm"},decls:8,vars:6,consts:[[1,"mb-5",3,"formGroup"],[1,"p-0"],[1,"d-flex","mt-2"],[1,"pr-3","pb-0","pt-2"],[1,"w-100px"],["bindLabel","id","bindValue","value","formControlName","loginRetentionDays",3,"searchable","items","clearable","change"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"p",1),a._uU(2),a.qZA(),a.TgZ(3,"div",2),a.TgZ(4,"label",3),a._uU(5),a.qZA(),a.TgZ(6,"div",4),a.TgZ(7,"ng-select",5),a.NdJ("change",function(){return t.loginRetentionChanged()}),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.Q6J("formGroup",t.form),a.xp6(2),a.hij(" ",t.language.login_retention_description," "),a.xp6(3),a.Oqu(t.language["Login Retention"]),a.xp6(2),a.Q6J("searchable",!1)("items",t.retentionDays)("clearable",!1))},directives:[r.JL,r.sg,B.w9,r.JJ,r.u],styles:[".w-100px[_ngcontent-%COMP%]{width:100px}"]}),e})();const fe=["deleteImageModal"];function be(e,t){if(1&e&&(a.TgZ(0,"div",23),a.TgZ(1,"div",24),a.TgZ(2,"div",25),a.TgZ(3,"span",26),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(4),a.Oqu(e.language.Loading)}}function Ze(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",27),a.TgZ(1,"span",28),a._UZ(2,"img",29),a.qZA(),a.TgZ(3,"button",30),a.NdJ("click",function(){return a.CHM(e),a.oxw().errorMessage=""}),a._UZ(4,"span"),a.qZA(),a._UZ(5,"div",31),a.qZA()}if(2&e){const e=a.oxw();a.xp6(5),a.Q6J("innerHtml",e.errorMessage,a.oJD)}}function ve(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"customer-portal-content",32),a.NdJ("submitForm",function(){return a.CHM(e),a.oxw().setCaptivePortal("content")})("uploadImage",function(t){return a.CHM(e),a.oxw().uploadImage(t)})("deleteImage",function(t){return a.CHM(e),a.oxw().deleteImage(t)}),a.qZA()}if(2&e){const e=a.oxw();a.Q6J("language",e.language)}}function Ce(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"customer-portal-branding",32),a.NdJ("submitForm",function(){return a.CHM(e),a.oxw().setCaptivePortal("branding")})("uploadImage",function(t){return a.CHM(e),a.oxw().uploadImage(t)})("deleteImage",function(t){return a.CHM(e),a.oxw().deleteImage(t)}),a.qZA()}if(2&e){const e=a.oxw();a.Q6J("language",e.language)}}function we(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"customer-portal-network-access",33),a.NdJ("submitForm",function(){return a.CHM(e),a.oxw().setCaptivePortal("network-access")}),a.qZA()}if(2&e){const e=a.oxw();a.Q6J("language",e.language)("detectScheduleChange",e.form.get("schedules").value)("detectLanguageChange",e.language)}}function xe(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"customer-portal-visitors",34),a.NdJ("submitForm",function(){return a.CHM(e),a.oxw().setCaptivePortal("visitors")}),a.qZA()}if(2&e){const e=a.oxw();a.Q6J("language",e.language)}}function Te(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",35),a.TgZ(1,"button",36),a.TgZ(2,"span",37),a.NdJ("click",function(){return a.CHM(e).$implicit.close("cancel")}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(3,"div",38),a.TgZ(4,"div",39),a.TgZ(5,"div",40),a.TgZ(6,"div",41),a._UZ(7,"img",42),a.qZA(),a.TgZ(8,"div",43),a.TgZ(9,"div",44),a.TgZ(10,"div",45),a._uU(11),a.qZA(),a.TgZ(12,"p"),a._uU(13),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(14,"button",46),a.NdJ("click",function(){return a.CHM(e),a.oxw().deleteImage(!1)}),a._uU(15),a.qZA(),a.TgZ(16,"button",47),a.NdJ("click",function(){return a.CHM(e).$implicit.close("cancel")}),a._uU(17),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(11),a.hij(" ",e.language["Are you sure you want to delete image?"]," "),a.xp6(2),a.Oqu(e.language["This action cannot be undone"]),a.xp6(2),a.hij(" ",e.language.Confirm," "),a.xp6(2),a.hij(" ",e.language.cancel," ")}}let Ae=(()=>{class e{constructor(e,t,n,i,o,a,s){this.titleService=e,this.formBuilder=t,this.modalService=n,this.translateService=i,this.ssoAuthService=o,this.captivePortalService=a,this.commonService=s,this.loading=!0,this.activeTab="content",this.errorValidation={},this.portalDetail={userId:"",portalId:"",ssid:"",title:"",smbWifiNetworkType:3,termsUrl:"",buttonText:"Connect",bgColor:"#FAFAFA",fColor:"#111111",pbColor:"#00A3FF",bfColor:"#111111",loginRetentionDays:30,schedules:[]}}ngOnInit(){this.language=this.translateService.defualtLanguage,this.titleService.setTitle(`${this.language["Customer Portal"]} - ${this.language.SmartBiz} - ${this.language["Managed Services"]} - ${this.language.Support} - ${this.language["Calix Cloud"]}`),this.languageSubscription=this.translateService.selectedLanguage.subscribe(e=>{this.language=e,this.titleService.setTitle(`${this.language["Customer Portal"]} - ${this.language.SmartBiz} - ${this.language["Managed Services"]} - ${this.language.Support} - ${this.language["Calix Cloud"]}`)}),this.initForm(),this.getCaptivePortal()}ngOnDestroy(){this.languageSubscription.unsubscribe()}initForm(){this.form=this.formBuilder.group({userId:"",portalId:"",ssid:"",smbWifiNetworkType:0,title:["",r.kI.maxLength(512)],termsUrl:"",buttonText:["",r.kI.maxLength(128)],coverImage:"",bgColor:"",fColor:"",pbColor:"",bfColor:"",logoImage:"",schedules:this.formBuilder.array([]),loginRetentionDays:1})}uploadImage(e){let t=e.file,n=e.type,i=t.name.split(".");t&&["jpeg","JPEG","PNG","jpg","png","JPG","img","IMG","bin","BIN"].includes(i[i.length-1])?(this.errorValidation[n]=!1,this.form.patchValue("coverImage"==n?{coverImage:t}:{logoImage:t}),this.setCaptivePortal("coverImage"==e.type?"content":"branding")):this.errorValidation[n]=!0}deleteImage(e){if(e.openDialog)return this.deleteImageEvent=e,void this.modalService.open(this.deleteCoverImageModal,{size:"lg",windowClass:"deleteImageModal-info",centered:!0});this.loading=!0,this.captivePortalService.deleteUploadedImg("coverImage"==this.deleteImageEvent.type?"cover":"logo",localStorage.getItem("ciquserid")).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.getCaptivePortal()},e=>{this.loading=!1,this.modalService.dismissAll(),this.errorMessage=this.ssoAuthService.pageErrorHandle(e)})}getCaptivePortal(){this.loading=!0,this.captivePortalService.getCaptivePortal(localStorage.getItem("ciquserid")).subscribe(e=>{this.loading=!1,Object.keys(e).map(t=>e[t]=e[t]&&"null"==e[t]?null:e[t]),this.patchPortalDetail(e)},e=>{this.loading=!1,this.errorMessage=this.ssoAuthService.pageErrorHandle(e)})}setCaptivePortal(e){if(!this.form.valid)return;this.loading=!0;let t=this.form.value;if(!(this.ssoAuthService.validateHexCode(t.bgColor)&&this.ssoAuthService.validateHexCode(t.fColor)&&this.ssoAuthService.validateHexCode(t.bfColor)&&this.ssoAuthService.validateHexCode(t.pbColor)))return void(this.loading=!1);if(!t.portalId)return void this.createCaptivePortal();const n=this.formatPayload(t,"edit");this.captivePortalService.setCaptivePortal(n).subscribe(t=>{this.loading=!1,t.coverImage=t.coverImage?`${t.coverImage}?${(new Date).getTime()}`:"",t.logoImage=t.logoImage?`${t.logoImage}?${(new Date).getTime()}`:"",this.portalDetail=t,this.previewData=JSON.parse(JSON.stringify(this.portalDetail)),this.patchPortalDetail(t),"content"==e?this.commonService.trackPendoEvents("Subscriber","customer portal content change"):"branding"==e?this.commonService.trackPendoEvents("Subscriber","customer portal branding change"):"visitors"==e&&this.commonService.trackPendoEvents("Subscriber","Customer portal login retention changes")},e=>{this.loading=!1,this.errorMessage=this.ssoAuthService.pageErrorHandle(e)})}createCaptivePortal(){this.loading=!0;const e=this.formatPayload(this.form.value);this.captivePortalService.createCaptivePortal(e).subscribe(e=>{this.loading=!1,e.coverImage=e.coverImage?`${e.coverImage}?${(new Date).getTime()}`:"",e.logoImage=e.logoImage?`${e.logoImage}?${(new Date).getTime()}`:"",this.portalDetail=e,this.previewData=JSON.parse(JSON.stringify(this.portalDetail)),this.patchPortalDetail(e)},e=>{this.loading=!1,this.errorMessage=this.ssoAuthService.pageErrorHandle(e)})}formatPayload(e,t="add"){var n,i;const o={userId:localStorage.getItem("ciquserid"),ssid:e.ssid||"Customer Wi-Fi",title:e.title||"Join Wi-Fi Network",smbWifiNetworkType:3,termsUrl:e.termsUrl||"",buttonText:e.buttonText||"Connect",bgColor:e.bgColor||"#FAFAFA",fColor:e.fColor||"#111111",pbColor:e.pbColor||"#00A3FF",bfColor:e.bfColor||"#111111",loginRetentionDays:e.loginRetentionDays||30,schedules:JSON.stringify(e.schedules||[]),coverImage:null!==(n=e.coverImage||this.portalDetail.coverImage)&&void 0!==n?n:"",logoImage:null!==(i=e.logoImage||this.portalDetail.logoImage)&&void 0!==i?i:""};"edit"==t&&(o.portalId=e.portalId);const a=new FormData;return Object.keys(o).forEach(e=>{a.append(e,o[e])}),a}patchPortalDetail(e){this.form.patchValue({userId:localStorage.getItem("ciquserid"),portalId:e.portalId?e.portalId:"",ssid:e.ssid?e.ssid:"Customer Wi-fi",title:e.title?e.title:"Join Wi-Fi Network",smbWifiNetworkType:e.smbWifiNetworkType?e.smbWifiNetworkType:3,termsUrl:e.termsUrl?e.termsUrl:"",buttonText:e.buttonText?e.buttonText:"Connect",bgColor:e.bgColor?e.bgColor:"#FAFAFA",fColor:e.fColor?e.fColor:"#111111",pbColor:e.pbColor?e.pbColor:"#00A3FF",bfColor:e.bfColor?e.bfColor:"#111111",coverImage:e.coverImage?e.coverImage:"",logoImage:e.logoImage?e.logoImage:"",loginRetentionDays:e.loginRetentionDays?e.loginRetentionDays:30,schedules:this.patchSchedules(e.schedules?e.schedules:[])}),this.previewData=e}patchSchedules(e){let t=this.form.get("schedules");t.clear(),e.length&&e.forEach(e=>{let n=this.formBuilder.group({timeRanges:[e.timeRanges],weekDays:e.weekDays});t.push(n)})}showPreview(){localStorage.setItem("captivePreview",JSON.stringify(this.previewData)),window.open("/customer-portal/preview","_blank")}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(l.Dx),a.Y36(r.qu),a.Y36(y.FF),a.Y36(s.s),a.Y36(c.t6),a.Y36(q.H),a.Y36(P.i))},e.\u0275cmp=a.Xpm({type:e,selectors:[["customer-portal"]],viewQuery:function(e,t){if(1&e&&a.Gf(fe,7),2&e){let e;a.iGM(e=a.CRH())&&(t.deleteCoverImageModal=e.first)}},decls:33,vars:16,consts:[[1,"customer-portal"],["class","loader",4,"ngIf"],["class","w-100 alert alert alert-danger fade show",4,"ngIf"],[1,"row"],[1,"col-md-12"],["id","tabs",1,"nav","nav-tabs"],[1,"nav-item"],["id","content","href","javascript:void(0)",1,"nav-link","small",3,"ngClass","click"],["id","branding","href","javascript:void(0)",1,"nav-link","small",3,"ngClass","click"],["id","network-access","href","javascript:void(0)",1,"nav-link","small",3,"ngClass","click"],["id","visitors","href","javascript:void(0)",1,"nav-link","small",3,"ngClass","click"],[1,"col-md-3"],[1,"preview-button"],["type","button","id","CP-Preview-Btn",1,"btn-default","btn-dft","pointer"],[3,"click"],["src","../../../../assets/img/External Link.svg","alt",""],[3,"formGroup"],[1,"page-content","col-md-12"],[3,"language","submitForm","uploadImage","deleteImage",4,"ngIf"],[3,"language","detectScheduleChange","detectLanguageChange","submitForm",4,"ngIf"],[3,"language","submitForm",4,"ngIf"],["class","col-md-12"],["deleteImageModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[3,"language","submitForm","uploadImage","deleteImage"],[3,"language","detectScheduleChange","detectLanguageChange","submitForm"],[3,"language","submitForm"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true",3,"click"],[1,"modal-body"],[1,"alert","modal-warning","alert-warning","alert-dismissible","fade","show"],[1,"modal-warning-info","d-flex","justify-content-between"],[1,"icon"],["src","../../../../assets/img/warning-icon-36px.svg","alt",""],[1,"Warning-content"],[1,"warn-confirm","pb-2"],[1,"content-title"],["type","button","id","confirm-delete",1,"btn-default","primary","px-3","mr-3","mt-5",3,"click"],["type","button","id","cancel",1,"btn-default","default","btn-dft","px-3","mr-3","mt-5",3,"click"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.YNc(1,be,5,1,"div",1),a.YNc(2,Ze,6,1,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"div",4),a.TgZ(5,"ul",5),a.TgZ(6,"li",6),a.TgZ(7,"a",7),a.NdJ("click",function(){return t.activeTab="content",t.errorValidation.logoImage?t.errorValidation.logoImage=!1:""}),a._uU(8),a.qZA(),a.qZA(),a.TgZ(9,"li",6),a.TgZ(10,"a",8),a.NdJ("click",function(){return t.activeTab="branding",t.errorValidation.coverImage?t.errorValidation.coverImage=!1:""}),a._uU(11),a.qZA(),a.qZA(),a.TgZ(12,"li",6),a.TgZ(13,"a",9),a.NdJ("click",function(){return t.activeTab="network-access",t.errorValidation={}}),a._uU(14),a.qZA(),a.qZA(),a.TgZ(15,"li",6),a.TgZ(16,"a",10),a.NdJ("click",function(){return t.activeTab="visitors",t.errorValidation={}}),a._uU(17),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"div",3),a.TgZ(19,"div",11),a.TgZ(20,"div",12),a.TgZ(21,"button",13),a.TgZ(22,"a",14),a.NdJ("click",function(){return t.showPreview()}),a._uU(23),a._UZ(24,"img",15),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(25,"form",16),a.TgZ(26,"div",17),a.YNc(27,ve,1,1,"customer-portal-content",18),a.YNc(28,Ce,1,1,"customer-portal-branding",18),a.YNc(29,we,1,3,"customer-portal-network-access",19),a.YNc(30,xe,1,1,"customer-portal-visitors",20),a.qZA(),a.qZA(),a.qZA(),a.YNc(31,Te,18,4,"ng-template",21,22,a.W1O)),2&e&&(a.xp6(1),a.Q6J("ngIf",t.loading),a.xp6(1),a.Q6J("ngIf",t.errorMessage),a.xp6(5),a.Q6J("ngClass","content"==t.activeTab?"active":""),a.xp6(1),a.hij(" ",t.language["Page Content"]," "),a.xp6(2),a.Q6J("ngClass","branding"==t.activeTab?"active":""),a.xp6(1),a.hij(" ",t.language.Bsp_Add_Micro__Branding," "),a.xp6(2),a.Q6J("ngClass","network-access"==t.activeTab?"active":""),a.xp6(1),a.hij(" ",t.language["Network Access Hours"]," "),a.xp6(2),a.Q6J("ngClass","visitors"==t.activeTab?"active":""),a.xp6(1),a.hij(" ",t.language["Customer Portal Visitors"]," "),a.xp6(6),a.hij(" ",t.language.Preview," "),a.xp6(2),a.Q6J("formGroup",t.form),a.xp6(2),a.Q6J("ngIf","content"==t.activeTab),a.xp6(1),a.Q6J("ngIf","branding"==t.activeTab),a.xp6(1),a.Q6J("ngIf","network-access"==t.activeTab),a.xp6(1),a.Q6J("ngIf","visitors"==t.activeTab))},directives:[i.O5,i.mk,r._Y,r.JL,r.sg,U,Y,me,he],styles:[".page-content[_ngcontent-%COMP%]{padding-top:20px;padding-left:20px}.nav-tabs[_ngcontent-%COMP%]{border-bottom:none}a[_ngcontent-%COMP%]{color:#333}.nav-link[_ngcontent-%COMP%]{font-size:10px;border-bottom:1px solid transparent;cursor:pointer}.ccl-no[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:20px;background-color:#0279ff;text-align:center;color:#fff}.preview-button[_ngcontent-%COMP%]{display:flex;margin:16px 0 0}.preview-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1a1f22}.preview-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.preview-button[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{padding:2px 10px!important}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{border-radius:26px;max-width:580px!important}.modal-close-icon[_ngcontent-%COMP%]{width:30px;height:30px;position:relative;z-index:1;left:450px;top:-16px}.modal-header[_ngcontent-%COMP%]{height:20px}  .captive-large-modal .modal-dialog{max-width:75%!important}  .deleteImageModal-info .modal-dialog{max-width:33%!important}  .deleteImageModal-info .modal-dialog .modal-content{background-color:#fff9f5;padding:34px}  .deleteImageModal-info .modal-dialog .modal-content .modal-warning-info{width:100%}  .deleteImageModal-info .modal-dialog .modal-content .modal-warning-info .icon{width:12%}  .deleteImageModal-info .modal-dialog .modal-content .modal-warning-info .Warning-content{width:88%}  .deleteImageModal-info .modal-dialog .modal-content .modal-warning-info .Warning-content .content-title{font-weight:400;font-size:24px;line-height:30px;color:#1a1f22;margin-bottom:8px}  .deleteImageModal-info .modal-dialog .modal-content .modal-warning-info .Warning-content p{font-weight:400;font-size:16px;line-height:20px;margin:0;color:#4c4c4c}"]}),e})();function _e(e,t){if(1&e&&(a.TgZ(0,"div",11),a.TgZ(1,"div",12),a.TgZ(2,"div",13),a.TgZ(3,"span",14),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(4),a.Oqu(e.language.Loading)}}function Me(e,t){1&e&&a._UZ(0,"network-resilience")}function ye(e,t){1&e&&a._UZ(0,"customer-portal")}const qe=[{path:"",component:(()=>{class e{constructor(e){this.translateService=e,this.loading=!0,this.activeTab="network-resilience"}ngOnInit(){this.language=this.translateService.defualtLanguage,this.languageSubscription=this.translateService.selectedLanguage.subscribe(e=>{this.language=e}),this.loading=!1}ngOnDestroy(){this.languageSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(s.s))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-smartbiz"]],decls:15,vars:7,consts:[[1,"position-relative"],[1,"container"],[1,"row","my-3"],[1,"col-lg-2","col-md-3","col-sm-12","ccl-tabs","pl-0"],["class","loader",4,"ngIf"],["id","netops-list-menu",1,"nav","flex-column","left-menu","tab-view-style"],[1,"nav-item"],["id","network-resilience","href","javascript:void(0)",1,"list-group-item","list-group-item-action",3,"ngClass","click"],["id","customer-portal","href","javascript:void(0)",1,"list-group-item","list-group-item-action",3,"ngClass","click"],[1,"col-lg-10","col-md-9","col-sm-12"],[4,"ngIf"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.YNc(4,_e,5,1,"div",4),a.TgZ(5,"ul",5),a.TgZ(6,"li",6),a.TgZ(7,"a",7),a.NdJ("click",function(){return t.activeTab="network-resilience"}),a._uU(8),a.qZA(),a.qZA(),a.TgZ(9,"li",6),a.TgZ(10,"a",8),a.NdJ("click",function(){return t.activeTab="customer-portal"}),a._uU(11),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"div",9),a.YNc(13,Me,1,0,"network-resilience",10),a.YNc(14,ye,1,0,"customer-portal",10),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(4),a.Q6J("ngIf",t.loading),a.xp6(3),a.Q6J("ngClass","network-resilience"==t.activeTab?"active":""),a.xp6(1),a.hij(" ",t.language["Network Resilience"]," "),a.xp6(2),a.Q6J("ngClass","customer-portal"==t.activeTab?"active":""),a.xp6(1),a.hij(" ",t.language["Customer Portal"]," "),a.xp6(2),a.Q6J("ngIf","network-resilience"==t.activeTab),a.xp6(1),a.Q6J("ngIf","customer-portal"==t.activeTab))},directives:[i.O5,i.mk,M,Ae],styles:[""]}),e})()}];let Pe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[o.Bz.forChild(qe)],o.Bz]}),e})();var ke=n(44466);let Oe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[r.sg],imports:[[i.ez,Pe,r.u5,r.UX,B.A0,F.e4,L._8,y.IJ,ke.m]]}),e})()}}]);