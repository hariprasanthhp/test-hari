!function(){"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(n=i.key,o=void 0,"symbol"==typeof(o=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(n,"string"))?o:String(o)),i)}var n,o}function t(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[5198],{85198:function(r,i,n){n.r(i),n.d(i,{SubscriberTemplatesModule:function(){return ee}});var o,s=n(38583),a=n(39895),l=n(37716),c=((o=function(){function r(){e(this,r)}return t(r,[{key:"ngOnInit",value:function(){}}]),r}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=l.Xpm({type:o,selectors:[["app-subscriber-templates"]],decls:1,vars:0,template:function(e,r){1&e&&l._UZ(0,"router-outlet")},directives:[a.lC],styles:[""]}),o),u=n(3679),d=n(52941),p=n(7450),b=n(49342),g=n(30900);function m(e,r){if(1&e&&(l.TgZ(0,"div",25),l.TgZ(1,"div",26),l.TgZ(2,"div",27),l.TgZ(3,"span",28),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var t=l.oxw();l.xp6(4),l.Oqu(t.language.Loading)}}function f(e,r){if(1&e){var t=l.EpF();l.TgZ(0,"div",29),l.TgZ(1,"span",30),l._UZ(2,"img",31),l.qZA(),l.TgZ(3,"button",32),l.NdJ("click",function(){return l.CHM(t),l.oxw().error=!1}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",33),l.qZA()}if(2&e){var i=l.oxw();l.xp6(5),l.Q6J("innerHtml",i.errorInfo,l.oJD)}}function v(e,r){if(1&e){var t=l.EpF();l.TgZ(0,"div",34),l.TgZ(1,"span",35),l._UZ(2,"img",36),l.qZA(),l.TgZ(3,"button",32),l.NdJ("click",function(){return l.CHM(t),l.oxw().success=!1}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",33),l.qZA()}if(2&e){var i=l.oxw();l.xp6(5),l.Q6J("innerHtml",i.successInfo,l.oJD)}}function h(e,r){1&e&&(l.TgZ(0,"span"),l._uU(1," Please enter a name "),l.qZA())}function Z(e,r){if(1&e&&(l.TgZ(0,"div",37),l.YNc(1,h,2,0,"span",38),l.qZA()),2&e){var t=l.oxw();l.xp6(1),l.Q6J("ngIf",null==t.SubscriberForm.controls.Name.errors?null:t.SubscriberForm.controls.Name.errors.required)}}function T(e,r){1&e&&(l.TgZ(0,"span"),l._uU(1," This value is invalid "),l.qZA())}function S(e,r){if(1&e&&(l.TgZ(0,"div",37),l.YNc(1,T,2,0,"span",38),l.qZA()),2&e){var t=l.oxw();l.xp6(1),l.Q6J("ngIf",null==t.SubscriberForm.controls.Servicetype.errors?null:t.SubscriberForm.controls.Servicetype.errors.required)}}function y(e,r){1&e&&(l.TgZ(0,"span"),l._uU(1," This value is invalid "),l.qZA())}function A(e,r){if(1&e&&(l.TgZ(0,"div",37),l.YNc(1,y,2,0,"span",38),l.qZA()),2&e){var t=l.oxw();l.xp6(1),l.Q6J("ngIf",null==t.SubscriberForm.controls.CeVlan.errors?null:t.SubscriberForm.controls.CeVlan.errors.required)}}function q(e,r){1&e&&(l.TgZ(0,"span"),l._uU(1," This value is invalid "),l.qZA())}function x(e,r){1&e&&(l.TgZ(0,"span"),l._uU(1,' Invalid Vlans, multiple Vlans Should be seperated by ",", No space '),l.qZA())}function w(e,r){if(1&e&&(l.TgZ(0,"div",37),l.YNc(1,q,2,0,"span",38),l.YNc(2,x,2,0,"span",38),l.qZA()),2&e){var t=l.oxw();l.xp6(1),l.Q6J("ngIf",null==t.SubscriberForm.controls.Vlans.errors?null:t.SubscriberForm.controls.Vlans.errors.required),l.xp6(1),l.Q6J("ngIf",null==t.SubscriberForm.controls.Vlans.errors?null:t.SubscriberForm.controls.Vlans.errors.pattern)}}function V(e,r){1&e&&(l.TgZ(0,"span"),l._uU(1," This value is invalid "),l.qZA())}function _(e,r){if(1&e&&(l.TgZ(0,"div",37),l.YNc(1,V,2,0,"span",38),l.qZA()),2&e){var t=l.oxw();l.xp6(1),l.Q6J("ngIf",null==t.SubscriberForm.controls.VlanMode.errors?null:t.SubscriberForm.controls.VlanMode.errors.required)}}function F(e,r){1&e&&(l.TgZ(0,"span"),l._uU(1," This value is invalid "),l.qZA())}function I(e,r){if(1&e&&(l.TgZ(0,"div",37),l.YNc(1,F,2,0,"span",38),l.qZA()),2&e){var t=l.oxw();l.xp6(1),l.Q6J("ngIf",null==t.SubscriberForm.controls.SubscribersPerVlan.errors?null:t.SubscriberForm.controls.SubscribersPerVlan.errors.required)}}function C(e,r){1&e&&(l.TgZ(0,"span"),l._uU(1," This value is invalid "),l.qZA())}function U(e,r){if(1&e&&(l.TgZ(0,"div",37),l.YNc(1,C,2,0,"span",38),l.qZA()),2&e){var t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",null==t.SubscriberForm.controls.priH248GwController.errors?null:t.SubscriberForm.controls.priH248GwController.errors.required)}}function N(e,r){if(1&e&&(l.TgZ(0,"div",7),l.TgZ(1,"label",8),l._uU(2),l.qZA(),l._UZ(3,"input",39),l.YNc(4,U,2,1,"div",10),l.qZA()),2&e){var t=l.oxw();l.xp6(2),l.Oqu(t.language["Primary H248 GW Controller (voice)"]),l.xp6(2),l.Q6J("ngIf",t.submitted&&t.SubscriberForm.controls.priH248GwController.errors||t.SubscriberForm.controls.priH248GwController.touched)}}function k(e,r){1&e&&(l.TgZ(0,"span"),l._uU(1," This value is invalid "),l.qZA())}function O(e,r){if(1&e&&(l.TgZ(0,"div",37),l.YNc(1,k,2,0,"span",38),l.qZA()),2&e){var t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",null==t.SubscriberForm.controls.secH248GwController.errors?null:t.SubscriberForm.controls.secH248GwController.errors.required)}}function J(e,r){if(1&e&&(l.TgZ(0,"div",7),l.TgZ(1,"label",8),l._uU(2),l.qZA(),l._UZ(3,"input",40),l.YNc(4,O,2,1,"div",10),l.qZA()),2&e){var t=l.oxw();l.xp6(2),l.Oqu(t.language["Secondary H248 GW Controller (voice)"]),l.xp6(2),l.Q6J("ngIf",t.submitted&&t.SubscriberForm.controls.secH248GwController.errors||t.SubscriberForm.controls.secH248GwController.touched)}}function P(e,r){1&e&&(l.TgZ(0,"span"),l._uU(1," This value is invalid "),l.qZA())}function H(e,r){if(1&e&&(l.TgZ(0,"div",37),l.YNc(1,P,2,0,"span",38),l.qZA()),2&e){var t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",null==t.SubscriberForm.controls.sipProxyServerAddress.errors?null:t.SubscriberForm.controls.sipProxyServerAddress.errors.required)}}function G(e,r){if(1&e&&(l.TgZ(0,"div",7),l.TgZ(1,"label",8),l._uU(2),l.qZA(),l._UZ(3,"input",41),l.YNc(4,H,2,1,"div",10),l.qZA()),2&e){var t=l.oxw();l.xp6(2),l.hij("",t.language["SIP Proxy Server Address"]," "),l.xp6(2),l.Q6J("ngIf",t.submitted&&t.SubscriberForm.controls.sipProxyServerAddress.errors||t.SubscriberForm.controls.sipProxyServerAddress.touched)}}function Y(e,r){1&e&&(l.TgZ(0,"span"),l._uU(1," This value is invalid "),l.qZA())}function Q(e,r){if(1&e&&(l.TgZ(0,"div",37),l.YNc(1,Y,2,0,"span",38),l.qZA()),2&e){var t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",null==t.SubscriberForm.controls.multicastProfile.errors?null:t.SubscriberForm.controls.multicastProfile.errors.required)}}function E(e,r){if(1&e&&(l.TgZ(0,"div",7),l.TgZ(1,"label",8),l._uU(2),l.qZA(),l._UZ(3,"input",42),l.YNc(4,Q,2,1,"div",10),l.qZA()),2&e){var t=l.oxw();l.xp6(2),l.hij("",t.language["Multicast Profile"]," "),l.xp6(2),l.Q6J("ngIf",t.submitted&&t.SubscriberForm.controls.multicastProfile.errors||t.SubscriberForm.controls.multicastProfile.touched)}}var M=function(){var r=function(){function r(t,i,n,o,s,a,l){e(this,r),this.fb=t,this.route=i,this.subscriberService=n,this.router=o,this.translateService=s,this.commonOrgService=a,this.customTranslateService=l,this.error=!1,this.voicetype=!1,this.videotype=!1,this.errorInfo="",this.submitted=!1,this.loading=!1,this.success=!1,this.SubscriberForm=this.fb.group({Name:["",u.kI.required],Servicetype:["DATA",u.kI.required],CeVlan:["",u.kI.required],Vlans:["",[u.kI.required,u.kI.pattern("^[0-9a-zA-Z,]*$")]],VlanMode:["",u.kI.required],SubscribersPerVlan:["",u.kI.required],priH248GwController:[""],secH248GwController:[""],sipProxyServerAddress:[""],multicastProfile:[""]}),this.edit=!1}return t(r,[{key:"ngOnInit",value:function(){var e=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(r){e.language=r}),this.edit=!1,this.name=this.route.snapshot.paramMap.get("id"),this.name&&(this.edit=!0,this.getsubscriber())}},{key:"getsubscriber",value:function(){var e=this;this.loading=!0,this.subscriberService.getsubscriberDetail(this.name).subscribe(function(r){e.setoption(r),e.loading=!1},function(r){e.error=!0,e.errorInfo=r.error.message,e.loading=!1})}},{key:"setoption",value:function(e){"VOICE"==e.serviceType&&(this.voicetype=!0,this.SubscriberForm.controls.priH248GwController.setValidators([u.kI.required]),this.SubscriberForm.controls.priH248GwController.updateValueAndValidity(),this.SubscriberForm.controls.secH248GwController.setValidators([u.kI.required]),this.SubscriberForm.controls.secH248GwController.updateValueAndValidity(),this.SubscriberForm.controls.sipProxyServerAddress.setValidators([u.kI.required]),this.SubscriberForm.controls.sipProxyServerAddress.updateValueAndValidity()),"VIDEO"==e.serviceType&&(this.SubscriberForm.controls.multicastProfile.setValidators([u.kI.required]),this.SubscriberForm.controls.multicastProfile.updateValueAndValidity(),this.videotype=!0),this.SubscriberForm.patchValue({Name:e.name,Servicetype:e.serviceType,CeVlan:e.ceVlan,Vlans:e.vlans,VlanMode:e.vlanMode,SubscribersPerVlan:e.subscribersPerVlan,priH248GwController:e.priH248GwController,secH248GwController:e.secH248GwController,sipProxyServerAddress:e.sipProxyServerAddress,multicastProfile:e.multicastProfile})}},{key:"goToList",value:function(){this.router.navigate(["/cco/operations/cco-subscriber-operations/templates/subscriber-templates/list"])}},{key:"servicetypechanged",value:function(e){this.submitted=!1,"VIDEO"==this.SubscriberForm.value.Servicetype?(this.SubscriberForm.controls.multicastProfile.setValidators([u.kI.required]),this.SubscriberForm.controls.multicastProfile.updateValueAndValidity(),this.videotype=!0):(this.SubscriberForm.controls.multicastProfile.clearValidators(),this.SubscriberForm.controls.multicastProfile.updateValueAndValidity(),this.videotype=!1),"VOICE"==this.SubscriberForm.value.Servicetype?(this.voicetype=!0,this.SubscriberForm.controls.priH248GwController.setValidators([u.kI.required]),this.SubscriberForm.controls.priH248GwController.updateValueAndValidity(),this.SubscriberForm.controls.secH248GwController.setValidators([u.kI.required]),this.SubscriberForm.controls.secH248GwController.updateValueAndValidity(),this.SubscriberForm.controls.sipProxyServerAddress.setValidators([u.kI.required]),this.SubscriberForm.controls.sipProxyServerAddress.updateValueAndValidity()):(this.voicetype=!1,this.SubscriberForm.controls.priH248GwController.clearValidators(),this.SubscriberForm.controls.priH248GwController.updateValueAndValidity(),this.SubscriberForm.controls.secH248GwController.clearValidators(),this.SubscriberForm.controls.secH248GwController.updateValueAndValidity(),this.SubscriberForm.controls.sipProxyServerAddress.clearValidators(),this.SubscriberForm.controls.sipProxyServerAddress.updateValueAndValidity())}},{key:"onSubmit",value:function(){var e=this;if(this.submitted=!0,!this.SubscriberForm.invalid){var r=this.SubscriberForm.value.Vlans;r=r.toString().split(",");var t={name:this.SubscriberForm.value.Name,serviceType:this.SubscriberForm.value.Servicetype,ceVlan:this.SubscriberForm.value.CeVlan,vlanMode:this.SubscriberForm.value.VlanMode,ipAddressingType:"v4",vlans:r,subscribersPerVlan:this.SubscriberForm.value.SubscribersPerVlan};"VOICE"==this.SubscriberForm.value.Servicetype&&(t=Object.assign(t,{priH248GwController:this.SubscriberForm.value.priH248GwController,secH248GwController:this.SubscriberForm.value.secH248GwController,sipProxyServerAddress:this.SubscriberForm.value.sipProxyServerAddress})),"VIDEO"==this.SubscriberForm.value.Servicetype&&(t=Object.assign(t,{multicastProfile:this.SubscriberForm.value.multicastProfile})),console.log(t),this.edit?(this.loading=!0,this.subscriberService.putdata(t).subscribe(function(r){e.loading=!1,e.success=!0,e.successInfo=r,$("html, body").animate({scrollTop:0},"slow"),setTimeout(function(){e.router.navigate(["/cco/operations/cco-subscriber-operations/templates/subscriber-templates/list"])},500)},function(r){e.loading=!1,console.log(r),e.error=!0,e.errorInfo=r.error.message,$("html, body").animate({scrollTop:0},"slow")})):(this.loading=!0,this.subscriberService.postdata(t).subscribe(function(r){r.message?(e.loading=!1,e.error=!0,e.errorInfo=r.message,$("html, body").animate({scrollTop:0},"slow")):(e.loading=!1,e.success=!0,e.successInfo=r,$("html, body").animate({scrollTop:0},"slow"),setTimeout(function(){e.router.navigate(["/cco/operations/cco-subscriber-operations/templates/subscriber-templates/list"])},500))},function(r){e.loading=!1,e.error=!0,e.errorInfo=r.error.message,$("html, body").animate({scrollTop:0},"slow")}))}}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e)}}]),r}();return r.\u0275fac=function(e){return new(e||r)(l.Y36(u.qu),l.Y36(a.gz),l.Y36(d.G),l.Y36(a.F0),l.Y36(p.s),l.Y36(b.v),l.Y36(g.d))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-add"]],decls:59,vars:24,consts:[[1,"container"],["class","loader load",4,"ngIf"],[1,"row"],["class","w-100 alert alert-danger fade show my-3",4,"ngIf"],["class","w-100 alert alert-success fade show my-3",4,"ngIf"],[1,"col-lg-6","col-md-6","col-sm-12","pr-5"],[1,"ccl-form","mt-4","needs-validation",3,"formGroup","ngSubmit"],[1,"form-group","inline-input"],[1,"col-form-label"],["id","name","type","text","name","name","formControlName","Name",1,"form-control"],["class","errorMessage",4,"ngIf"],["formControlName","Servicetype",1,"ccl-form","form-control","form-control-sm",3,"change"],["value","DATA"],["value","VOICE"],["value","VIDEO"],["id","ceVlan","type","number","name","Name","formControlName","CeVlan",1,"form-control"],["id","vlans","type","text","name","name","formControlName","Vlans",1,"form-control"],["placeholder","Vlan Mode","formControlName","VlanMode",1,"ccl-form","form-control","form-control-sm"],["value","ONE2ONE"],["value","N2ONE"],["id","subscriberpervlan","type","text","formControlName","SubscribersPerVlan",1,"form-control",2,"position","relative"],["class","form-group inline-input",4,"ngIf"],[1,"col-lg-12"],["type","submit",1,"btn-default","primary","px-3","my-3"],["type","submit",1,"my-2","mr-3","btn-default","btn-dft",3,"click"],[1,"loader","load"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert-success","fade","show","my-3"],[1,"success-img"],["src","./assets/img/success-icon.svg"],[1,"errorMessage"],[4,"ngIf"],["id","primarycontroller","type","text","formControlName","priH248GwController",1,"form-control",2,"position","relative"],["id","seccontroller","type","text","formControlName","secH248GwController",1,"form-control",2,"position","relative"],["id","sipaddress","type","text","formControlName","sipProxyServerAddress",1,"form-control",2,"position","relative"],["id","multicastprofile","type","text","name","s_name","formControlName","multicastProfile",1,"form-control",2,"position","relative"]],template:function(e,r){1&e&&(l.TgZ(0,"section"),l.TgZ(1,"div",0),l.YNc(2,m,5,1,"div",1),l.TgZ(3,"div",2),l.YNc(4,f,6,1,"div",3),l.YNc(5,v,6,1,"div",4),l.qZA(),l.TgZ(6,"div",2),l.TgZ(7,"div",5),l.TgZ(8,"form",6),l.NdJ("ngSubmit",function(){return r.onSubmit()}),l.TgZ(9,"div",7),l.TgZ(10,"label",8),l._uU(11),l.qZA(),l._UZ(12,"input",9),l.YNc(13,Z,2,1,"div",10),l.qZA(),l.TgZ(14,"div",7),l.TgZ(15,"label",8),l._uU(16),l.qZA(),l.TgZ(17,"select",11),l.NdJ("change",function(e){return r.servicetypechanged(e.target.value)}),l.TgZ(18,"option",12),l._uU(19),l.qZA(),l.TgZ(20,"option",13),l._uU(21),l.qZA(),l.TgZ(22,"option",14),l._uU(23),l.qZA(),l.qZA(),l.YNc(24,S,2,1,"div",10),l.qZA(),l.TgZ(25,"div",7),l.TgZ(26,"label",8),l._uU(27),l.qZA(),l._UZ(28,"input",15),l.YNc(29,A,2,1,"div",10),l.qZA(),l.TgZ(30,"div",7),l.TgZ(31,"label",8),l._uU(32),l.qZA(),l._UZ(33,"input",16),l.YNc(34,w,3,2,"div",10),l.qZA(),l.TgZ(35,"div",7),l.TgZ(36,"label",8),l._uU(37),l.qZA(),l.TgZ(38,"select",17),l.TgZ(39,"option",18),l._uU(40,"1:1"),l.qZA(),l.TgZ(41,"option",19),l._uU(42,"N:1"),l.qZA(),l.qZA(),l.YNc(43,_,2,1,"div",10),l.qZA(),l.TgZ(44,"div",7),l.TgZ(45,"label",8),l._uU(46),l.qZA(),l._UZ(47,"input",20),l.YNc(48,I,2,1,"div",10),l.qZA(),l.YNc(49,N,5,2,"div",21),l.YNc(50,J,5,2,"div",21),l.YNc(51,G,5,2,"div",21),l.YNc(52,E,5,2,"div",21),l.TgZ(53,"div",7),l.TgZ(54,"span",22),l.TgZ(55,"button",23),l._uU(56),l.qZA(),l.qZA(),l.TgZ(57,"button",24),l.NdJ("click",function(){return r.goToList()}),l._uU(58,"Cancel"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("ngIf",r.loading),l.xp6(2),l.Q6J("ngIf",r.error),l.xp6(1),l.Q6J("ngIf",r.success),l.xp6(3),l.Q6J("formGroup",r.SubscriberForm),l.xp6(3),l.Oqu(r.language.Name),l.xp6(2),l.Q6J("ngIf",r.submitted&&r.SubscriberForm.controls.Name.errors||r.SubscriberForm.controls.Name.touched),l.xp6(3),l.hij(" ",r.language.Service_Type," "),l.xp6(3),l.Oqu(r.language.Data),l.xp6(2),l.Oqu(r.language.Voice),l.xp6(2),l.Oqu(r.language.Videos),l.xp6(1),l.Q6J("ngIf",r.submitted&&r.SubscriberForm.controls.Servicetype.errors||r.SubscriberForm.controls.Servicetype.touched),l.xp6(3),l.Oqu(r.language["Ce-Vlan"]),l.xp6(2),l.Q6J("ngIf",r.submitted&&r.SubscriberForm.controls.CeVlan.errors||r.SubscriberForm.controls.CeVlan.touched),l.xp6(3),l.Oqu(r.language.Vlans),l.xp6(2),l.Q6J("ngIf",r.submitted&&r.SubscriberForm.controls.Vlans.errors||r.SubscriberForm.controls.Vlans.touched),l.xp6(3),l.Oqu(r.language["Vlan Mode"]),l.xp6(6),l.Q6J("ngIf",r.submitted&&r.SubscriberForm.controls.VlanMode.errors||r.SubscriberForm.controls.VlanMode.touched),l.xp6(3),l.Oqu(r.language["Subscribers Per Vlan"]),l.xp6(2),l.Q6J("ngIf",r.submitted&&r.SubscriberForm.controls.SubscribersPerVlan.errors||r.SubscriberForm.controls.SubscribersPerVlan.touched),l.xp6(1),l.Q6J("ngIf",r.voicetype),l.xp6(1),l.Q6J("ngIf",r.voicetype),l.xp6(1),l.Q6J("ngIf",r.voicetype),l.xp6(1),l.Q6J("ngIf",r.videotype),l.xp6(4),l.Oqu(1==r.edit?r.language.Update:r.language.save))},directives:[s.O5,u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,u.EJ,u.YN,u.Kr,u.wV],styles:[".form-control-sm[_ngcontent-%COMP%]{min-height:38px!important;max-height:42px!important;padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:1.2rem!important;background-color:#f8f8fa!important;border:none!important}select[_ngcontent-%COMP%]{border-radius:20px;background:url(http://cdn1.iconfinder.com/data/icons/cc_mono_icon_set/blacks/16x16/br_down.png) no-repeat right #f8f8fa10;-webkit-appearance:none;background-position:right 17px center}"]}),r}(),D=n(23771),j=n(79765);function L(e,r){if(1&e&&(l.TgZ(0,"div",12),l.TgZ(1,"div",13),l.TgZ(2,"div",14),l.TgZ(3,"span",15),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var t=l.oxw();l.xp6(4),l.Oqu(t.language.Loading)}}function z(e,r){if(1&e){var t=l.EpF();l.TgZ(0,"div",16),l.TgZ(1,"span",17),l._UZ(2,"img",18),l.qZA(),l.TgZ(3,"span",19),l._uU(4),l.TgZ(5,"b"),l._uU(6),l.qZA(),l._uU(7," ? "),l.qZA(),l.TgZ(8,"div",20),l.TgZ(9,"button",21),l.NdJ("click",function(){return l.CHM(t),l.oxw().Deletesubscriber()}),l._uU(10," Confirm "),l.qZA(),l.TgZ(11,"button",22),l.NdJ("click",function(){return l.CHM(t),l.oxw().closeModal()}),l._uU(12,"Cancel"),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(4),l.hij(" ",i.language["Are you sure you want to delete"]," "),l.xp6(2),l.Oqu(i.modalInfo),l.xp6(3),l.Q6J("disabled",i.btnDisabled)}}function K(e,r){if(1&e){var t=l.EpF();l.TgZ(0,"div",23),l.TgZ(1,"span",17),l._UZ(2,"img",24),l.qZA(),l.TgZ(3,"button",25),l.NdJ("click",function(){return l.CHM(t),l.oxw().error=!1}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",26),l.qZA()}if(2&e){var i=l.oxw();l.xp6(5),l.Q6J("innerHtml",i.errorInfo,l.oJD)}}function B(e,r){if(1&e){var t=l.EpF();l.TgZ(0,"div",27),l.TgZ(1,"span",28),l._UZ(2,"img",29),l.qZA(),l.TgZ(3,"button",25),l.NdJ("click",function(){return l.CHM(t),l.oxw().success=!1}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",30),l.qZA()}if(2&e){var i=l.oxw();l.xp6(5),l.Q6J("innerHtml",i.successInfo,l.oJD)}}function R(e,r){if(1&e){var t=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.TgZ(13,"td"),l.TgZ(14,"span",31),l.TgZ(15,"a",32),l.NdJ("click",function(){var e=l.CHM(t).$implicit;return l.oxw().editsubscriber(e.name)}),l._UZ(16,"i",33),l.qZA(),l.qZA(),l.TgZ(17,"span",31),l.TgZ(18,"a",32),l.NdJ("click",function(){var e=l.CHM(t).$implicit;return l.oxw().deleteDeviceGrp(e)}),l._UZ(19,"i",34),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=r.$implicit;l.xp6(2),l.hij("",i.name?i.name:"--"," "),l.xp6(2),l.Oqu(i.serviceType?i.serviceType:""),l.xp6(2),l.Oqu(i.ceVlan?i.ceVlan:""),l.xp6(2),l.Oqu(i.vlans?i.vlans:""),l.xp6(2),l.Oqu(i.vlanMode?"N2ONE"==i.vlanMode?"N:1":"1:1":""),l.xp6(2),l.Oqu(i.subscribersPerVlan?i.subscribersPerVlan:"")}}var X=[{path:"",component:c,children:[{path:"list",component:function(){var r=function(){function r(t,i,n,o,s){e(this,r),this.translateService=t,this.customTranslateService=i,this.subscriberService=n,this.commonOrgService=o,this.router=s,this.subscriberList=[],this.loading=!1,this.renderedOnce=!1,this.dtOptions={},this.dtTrigger=new j.xQ,this.success=!1}return t(r,[{key:"ngOnInit",value:function(){var e=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(r){e.language=r,setTimeout(function(){e.renderedOnce&&e.renderTable(!0)},500)}),this.renderedOnce=!1,this.dtOptions={pagingType:"full_numbers",pageLength:10,lengthChange:!0,processing:!1,dom:"tipr",columnDefs:[{targets:[0],orderable:!0}],order:[0,"asc"]},this.tableLanguageOptions(),this.Getsubscriber()}},{key:"Getsubscriber",value:function(){var e=this;this.loading=!0,this.subscriberService.getsubscriber().subscribe(function(r){e.subscriberList="Service template not found"==r?[]:r,e.renderTable(!1),e.loading=!1},function(r){e.error=!0,e.pageErrorHandle(r),e.loading=!1,e.renderTable(!1),e.dataAvailable=!0})}},{key:"editsubscriber",value:function(e){this.router.navigate(["/cco/operations/cco-subscriber-operations/templates/subscriber-templates/edit/".concat(e)])}},{key:"deleteDeviceGrp",value:function(e){this.deletedata=e,this.modalInfo=this.deletedata.name,$("html, body").animate({scrollTop:0},"slow")}},{key:"Deletesubscriber",value:function(){var e=this;this.btnDisabled=!0,this.loading=!0,this.subscriberService.delsubscriber(this.deletedata.name).subscribe(function(r){e.loading=!1,e.success=!0,e.successInfo=e.language["Deleted Successfully"],$("html, body").animate({scrollTop:0},"slow"),setTimeout(function(){e.Getsubscriber()},500),e.btnDisabled=!1,e.deletedata=""},function(r){e.loading=!1,e.error=!0,e.pageErrorHandle(r),e.btnDisabled=!1,e.deletedata=""},function(){e.btnDisabled=!1,e.deletedata="",e.loading=!1})}},{key:"closeModal",value:function(){this.deletedata=""}},{key:"renderTable",value:function(e){this.tableLanguageOptions(),this.renderedOnce?(this.dataAvailable=!0,this.rerender()):(this.rerender(),this.renderedOnce=!0,this.dataAvailable=!0,this.loading=!1)}},{key:"ngAfterViewInit",value:function(){this.dtTrigger.next()}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e)}},{key:"closeAlert",value:function(){this.error=!1}},{key:"rerender",value:function(){var e,r=this;null===(e=this.dtElement)||void 0===e||e.dtInstance.then(function(e){e.destroy(),r.dtTrigger.next()})}},{key:"tableLanguageOptions",value:function(){"fr"==this.language.fileLanguage?this.dtOptions.language=this.frTable:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}}]),r}();return r.\u0275fac=function(e){return new(e||r)(l.Y36(p.s),l.Y36(g.d),l.Y36(d.G),l.Y36(b.v),l.Y36(a.F0))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-subscribers"]],viewQuery:function(e,r){var t;(1&e&&l.Gf(D.G,5),2&e)&&(l.iGM(t=l.CRH())&&(r.dtElement=t.first))},decls:31,vars:16,consts:[[1,"container"],["class","loader load",4,"ngIf"],["class","py-3 warning-msg",4,"ngIf"],[1,"row"],["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],["class","w-100 alert alert-success fade show my-3",4,"ngIf"],[1,"row","d-flex","justify-content-end"],["routerLink","/cco/operations/cco-subscriber-operations/templates/subscriber-templates/add"],["type","button","id","add",1,"btn-default","primary","px-3","my-3"],[1,"col-md-12",3,"hidden"],["id","subscriber-template","width","100%","datatable","",1,"row-border","hover","table-alter",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"loader","load"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"py-3","warning-msg"],[1,"error-img"],["src","./assets/img/warning-icon.svg"],[2,"width","500px","word-wrap","break-word","display","inline-block"],[1,"btn-con-sec","float-right"],["id","deletePFBtn",1,"btn","warn-btn","mr-2",3,"disabled","click"],[1,"btn","warn-btn",3,"click"],[1,"w-100","alert","alert-danger","fade","show","my-3"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert-success","fade","show","my-3"],[1,"success-img"],["src","./assets/img/success-icon.svg"],[3,"innerHtml"],["title","Delete",1,"del"],["href","javascript:void(0)",2,"cursor","pointer",3,"click"],["aria-hidden","true",1,"fas","fa-pencil-alt","mx-2"],["aria-hidden","true",1,"fa","fa-trash-o"]],template:function(e,r){1&e&&(l.TgZ(0,"section"),l.TgZ(1,"div",0),l.YNc(2,L,5,1,"div",1),l.YNc(3,z,13,3,"div",2),l.TgZ(4,"div",3),l.YNc(5,K,6,1,"div",4),l.YNc(6,B,6,1,"div",5),l.qZA(),l.TgZ(7,"div",6),l.TgZ(8,"a",7),l.TgZ(9,"button",8),l._uU(10),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"div",9),l.TgZ(12,"table",10),l.TgZ(13,"thead"),l.TgZ(14,"tr"),l.TgZ(15,"th"),l._uU(16),l.qZA(),l.TgZ(17,"th"),l._uU(18),l.qZA(),l.TgZ(19,"th"),l._uU(20),l.qZA(),l.TgZ(21,"th"),l._uU(22),l.qZA(),l.TgZ(23,"th"),l._uU(24),l.qZA(),l.TgZ(25,"th"),l._uU(26),l.qZA(),l.TgZ(27,"th"),l._uU(28),l.qZA(),l.qZA(),l.qZA(),l.TgZ(29,"tbody"),l.YNc(30,R,20,6,"tr",11),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("ngIf",r.loading),l.xp6(1),l.Q6J("ngIf",r.deletedata),l.xp6(2),l.Q6J("ngIf",r.error),l.xp6(1),l.Q6J("ngIf",r.success),l.xp6(4),l.hij("",r.language["Add Template"]," "),l.xp6(1),l.Q6J("hidden",!r.dataAvailable),l.xp6(1),l.Q6J("dtOptions",r.dtOptions)("dtTrigger",r.dtTrigger),l.xp6(4),l.hij("",r.language.Name," "),l.xp6(2),l.Oqu(r.language.Service_Type),l.xp6(2),l.Oqu(r.language["Ce-Vlan"]),l.xp6(2),l.Oqu(r.language.Vlans),l.xp6(2),l.Oqu(r.language["Vlan Mode"]),l.xp6(2),l.Oqu(r.language["Subscribers Per Vlan"]),l.xp6(2),l.Oqu(r.language.action),l.xp6(2),l.Q6J("ngForOf",r.subscriberList))},directives:[s.O5,a.yS,D.G,s.sg],styles:[".form-control-sm[_ngcontent-%COMP%]{min-height:38px!important;max-height:42px!important;padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:1.2rem!important;background-color:#f8f8fa!important;border:none!important}select[_ngcontent-%COMP%]{border-radius:20px;background:url(http://cdn1.iconfinder.com/data/icons/cc_mono_icon_set/blacks/16x16/br_down.png) no-repeat right #f8f8fa10;-webkit-appearance:none;background-position:right 17px center}"]}),r}()},{path:"add",component:M},{path:"edit/:id",component:M},{path:"",redirectTo:"list",pathMatch:"full"}]}],W=function(){var r=t(function r(){e(this,r)});return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[[a.Bz.forChild(X)],a.Bz]}),r}(),ee=function(){var r=t(function r(){e(this,r)});return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[[s.ez,W,u.UX,D.T]]}),r}()},52941:function(r,i,n){n.d(i,{G:function(){return p}});var o,s=n(40205),a=n(88002),l=n(5304),c=n(92340),u=n(37716),d=n(91841),p=((o=function(){function r(t){e(this,r),this.http=t,this.bandwidhtbaseUrl="".concat(c.N.COC_SERVICES_ACTIVATION_URL,"/bandwidthTiers"),this.baseUrl="".concat(c.N.COC_SERVICES_ACTIVATION_URL,"/serviceTemplates")}return t(r,[{key:"getbandwidth",value:function(){return this.http.get(this.bandwidhtbaseUrl).pipe((0,a.U)(function(e){return"object"==typeof e&&e.sort(function(e,r){return(e.name||"").toString().localeCompare((r.name||"").toString(),"en",{numeric:!1})}),e}),(0,l.K)(this.handleError))}},{key:"getsubscriber",value:function(){return this.http.get(this.baseUrl).pipe((0,a.U)(function(e){return"object"==typeof e&&e.sort(function(e,r){return(e.name||"").toString().localeCompare((r.name||"").toString(),"en",{numeric:!1})}),e}),(0,l.K)(this.handleError))}},{key:"getsubscriberDetail",value:function(e){return this.http.get("".concat(this.baseUrl,"?name=").concat(e)).pipe((0,l.K)(this.handleError))}},{key:"delsubscriber",value:function(e){return this.http.delete(this.baseUrl+"/".concat(e)).pipe((0,l.K)(this.handleError))}},{key:"postdata",value:function(e){return this.http.post(this.baseUrl,e).pipe((0,l.K)(this.handleError))}},{key:"putdata",value:function(e){return this.http.put(this.baseUrl,e).pipe((0,l.K)(this.handleError))}},{key:"handleError",value:function(e){return(0,s._)(e)}}]),r}()).\u0275fac=function(e){return new(e||o)(u.LFG(d.eN))},o.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o)}}])}();