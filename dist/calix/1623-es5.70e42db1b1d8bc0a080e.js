!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?a:String(a)),n)}var o,a}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[1623],{34558:function(t,n,o){o.d(n,{r:function(){return r}});var a,c=o(79765),s=o(37716),r=((a=function(){function t(){e(this,t),this.currentPageData=new c.xQ}return i(t,[{key:"currentPageAdder",value:function(e){this.currentPageData.next(e)}}]),t}()).\u0275fac=function(e){return new(e||a)},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a)},31623:function(t,n,o){o.r(n),o.d(n,{FoundationSystemsModule:function(){return M}});var a=o(38583),c=o(39895),s=o(92340),r=o(37716),u=o(7450),l=o(34558),g=o(12664),d=o(1963),f=o(96045),h=o(64432),v=o(38048),p=o(39075),m=["GetStartedModal"];function b(e,t){if(1&e&&(r.TgZ(0,"div",9),r.TgZ(1,"div",10),r._uU(2),r.qZA(),r.qZA()),2&e){var i=r.oxw(2);r.xp6(2),r.Oqu(i.language.Systems)}}function Z(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",11),r.TgZ(1,"div",12),r.TgZ(2,"div",13),r._uU(3),r.qZA(),r.TgZ(4,"img",14),r.NdJ("click",function(){return r.CHM(i),r.oxw(2).gotoServiceProfiles()}),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.oxw(2);r.xp6(3),r.AsE("",n.ccoSearchText," : ",n.language["Provisioned Subscribers"],"")}}function w(e,t){if(1&e&&(r.TgZ(0,"section",4),r.TgZ(1,"div",5),r.TgZ(2,"div",6),r.YNc(3,b,3,1,"div",7),r.qZA(),r.YNc(4,Z,5,2,"div",8),r.qZA(),r.qZA()),2&e){var i=r.oxw();r.xp6(3),r.Q6J("ngIf",!i.isProvisioned),r.xp6(1),r.Q6J("ngIf",i.isProvisioned&&i.ccoSearchText)}}function y(e,t){if(1&e&&(r.TgZ(0,"li",19),r.TgZ(1,"a",20),r._uU(2),r.qZA(),r.qZA()),2&e){var i=r.oxw(2);r.xp6(1),r.Q6J("ngClass","foundation-manage"==i.currentPage?"active":""),r.xp6(1),r.hij(" ",i.language.Manage," ")}}function S(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"li",19),r.TgZ(1,"a",21),r.NdJ("click",function(){return r.CHM(i),r.oxw(2).setCurrentTab("foundation-geographic-view")}),r._uU(2),r.qZA(),r.qZA()}if(2&e){var n=r.oxw(2);r.xp6(2),r.hij(" ",n.language.Geographic_View," ")}}function x(e,t){if(1&e&&(r.TgZ(0,"section"),r.TgZ(1,"div",15),r.TgZ(2,"div",6),r.TgZ(3,"div",9),r.TgZ(4,"div",16),r.TgZ(5,"ul",17),r.YNc(6,y,3,2,"li",18),r.YNc(7,S,3,1,"li",18),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){var i=r.oxw();r.xp6(6),r.Q6J("ngIf",i.scopeFlag.manage),r.xp6(1),r.Q6J("ngIf",i.scopeFlag.geographic)}}function T(e,t){if(1&e){var i=r.EpF();r.TgZ(0,"div",22),r.TgZ(1,"div",23),r._UZ(2,"div",24),r.TgZ(3,"div",25),r.TgZ(4,"span",26),r.NdJ("click",function(){return r.CHM(i),r.oxw().closeAllModal()}),r._UZ(5,"img",27),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",28),r.TgZ(7,"div",29),r._UZ(8,"img",30),r.qZA(),r.TgZ(9,"div",31),r._uU(10),r._UZ(11,"br"),r._uU(12),r.qZA(),r.TgZ(13,"div",32),r._uU(14),r._UZ(15,"br"),r._uU(16),r.qZA(),r.TgZ(17,"div",33),r.NdJ("click",function(){return r.CHM(i),r.oxw().goToInitialOnboarding()}),r.TgZ(18,"span",34),r._uU(19),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var n=r.oxw();r.xp6(10),r.Oqu(n.language["Welcome to"]),r.xp6(2),r.hij(" ",n.language["Revenue EDGE Deployment Cloud"]," "),r.xp6(2),r.hij(" ",n.language["Before you jump in, we'd like to walk you"],""),r.xp6(2),r.hij(" ",n.language["through your system onboarding setup"],". "),r.xp6(3),r.Oqu(n.language.Lets_Started)}}function k(e,t){1&e&&r._UZ(0,"router-outlet")}var A,q=o(91704),C=[{path:"",component:(A=function(){function t(i,n,o,a,s,r,u,l,g){var d=this;e(this,t),this.translateService=i,this.foundation=n,this.router=o,this.modalService=a,this.home=s,this.api=r,this.ccoCommonService=u,this.ssoService=l,this.titleService=g,this.language={},this.currentPage="foundation-manage",this.showTabs=!1,this.scopeFlag={manage:!1,geographic:!1},this.ORG_ID=this.ssoService.getOrgId(),this.getScopes(),this.currentPageSubs=this.foundation.currentPageData.subscribe(function(e){d.currentPage=e,setTimeout(function(){"foundation-geographic-view"==e&&q("#manage").hasClass("active")&&q("#manage").removeClass("active")},100)}),this.checkShowTabs(),this.routeChangeSubs=this.router.events.subscribe(function(e){e instanceof c.m2&&d.checkShowTabs()})}return i(t,[{key:"setTitle",value:function(e){e.includes("/foundation-systems/foundation-geographic-view")?this.titleService.setTitle("".concat(this.language.Geographic_View," - ").concat(this.language.Systems," - ").concat(this.language.Deployment," - ").concat(this.language["Calix Cloud"])):this.titleService.setTitle("".concat(this.language.Manage," - ").concat(this.language.Systems," - ").concat(this.language.Deployment," - ").concat(this.language["Calix Cloud"]))}},{key:"ngOnInit",value:function(){var e=this;this.HideModel=!!window.localStorage.getItem("HideModel"),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t,e.setTitle(e.router.url)}),this.getHSI(),this.setTitle(this.router.url),this.ccoCommonService.textSearch.subscribe(function(t){e.ccoSearchText=t.searchText,e.isProvisioned=t.isProvisioned})}},{key:"ngOnDestroy",value:function(){this.languageSubject.unsubscribe(),this.currentPageSubs.unsubscribe(),this.routeChangeSubs.unsubscribe()}},{key:"ngAfterViewChecked",value:function(){-1===this.router.url.indexOf("/foundation-manage/")&&q("#manage").hasClass("active")&&q("#manage").removeClass("active")}},{key:"setCurrentTab",value:function(e){this.currentPage=e,this.foundation.currentPageAdder(e)}},{key:"checkShowTabs",value:function(){var e=this.router.url;this.showTabs=e.indexOf("/foundation-system-list")>-1||e.indexOf("/foundation-geographic-view")>-1}},{key:"getScopes",value:function(){this.validateScopeStage="".concat(s.N.API_BASE).indexOf("/dev.api.calix.ai")>-1;var e=this.ssoService.getScopes();e["cloud.rbac.foundation.systems"]=e["cloud.rbac.foundation.systems"]?e["cloud.rbac.foundation.systems"]:[],e&&e["cloud.rbac.foundation.systems"]&&((-1!==e["cloud.rbac.foundation.systems"].indexOf("read")||-1!==e["cloud.rbac.foundation.systems"].indexOf("write"))&&(this.scopeFlag.manage=!0),this.scopeFlag.geographic=!0)}},{key:"getHSI",value:function(){var e=this;this.api.GetWorkflowGrid(this.ORG_ID).subscribe(function(t){0==t.length&&e.home.getHSI(e.ORG_ID).subscribe(function(t){t?e.dataAvailable=!0:e.HideModel||(e.modalRef=e.modalService.open(e.GetStartedModal,{size:"lg",centered:!0,backdrop:"static",keyboard:!1,windowClass:"custom-modal"}))},function(t){404!=t.status||e.HideModel?e.dataAvailable=!0:e.modalRef=e.modalService.open(e.GetStartedModal,{size:"lg",centered:!0,backdrop:"static",keyboard:!1,windowClass:"custom-modal"})})})}},{key:"goToInitialOnboarding",value:function(){this.modalService.dismissAll("closed"),this.router.navigate(["/cco-foundation/foundation-configuration/configuration-workflow/workflows"])}},{key:"closeAllModal",value:function(){this.HideModel=!0,window.localStorage.setItem("HideModel","true"),this.modalService.dismissAll()}},{key:"gotoServiceProfiles",value:function(){this.router.navigate(["/cco-foundation/foundation-configuration/configuration-prerequisites/foundation-profiles/ONT-profile"])}}]),t}(),A.\u0275fac=function(e){return new(e||A)(r.Y36(u.s),r.Y36(l.r),r.Y36(c.F0),r.Y36(g.FF),r.Y36(d.h),r.Y36(f.A),r.Y36(h.q),r.Y36(v.t6),r.Y36(p.Dx))},A.\u0275cmp=r.Xpm({type:A,selectors:[["app-foundation-systems"]],viewQuery:function(e,t){var i;1&e&&r.Gf(m,7),2&e&&r.iGM(i=r.CRH())&&(t.GetStartedModal=i.first)},decls:5,vars:3,consts:[["class","mb-2",4,"ngIf"],[4,"ngIf"],["class","col-md-12"],["GetStartedModal",""],[1,"mb-2"],[1,"container"],[1,"row"],["class","col-md-12 px-0",4,"ngIf"],["class","row ccl-tabs",4,"ngIf"],[1,"col-md-12","px-0"],[1,"cco-title"],[1,"row","ccl-tabs"],[1,"col-md-12","px-0","d-flex","justify-content-between","nav-tabs","mb-0"],[1,"cco-title","pb-3"],["src","assets/img/ic_close-44px.svg","alt","",1,"mr-3","service-profiles-img","cursor-pointer",3,"click"],[1,"container","mb-2"],[1,"ccl-tabs"],["id","tabs",1,"nav","nav-tabs","sub-tab"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLink","/cco-foundation/foundation-systems/foundation-manage/foundation-system-list","id","manage","routerLinkActive","active","data-toggle","tab",1,"nav-link",3,"ngClass"],["routerLink","/cco-foundation/foundation-systems/foundation-geographic-view","id","geographic","routerLinkActive","active","data-toggle","tab",1,"nav-link",3,"click"],[1,"modal-content"],[1,"modal-header"],[1,"col-md-10"],[1,"col-md-2","text-right"],[1,"close-icon","pointer",3,"click"],["src","assets/img/close-icon.svg","alt",""],[1,"modal-body",2,"text-align","center","padding","42px 30px"],[1,""],["src","assets/img/calix-Cloud-logo.svg",2,"width","290px"],[1,"cco-title","mb-4"],[1,"cco-secondary-title","mb-4",2,"line-height","initial !important"],[1,"cco-secondary-title",2,"color","#0279ff !important",3,"click"],[1,"cursor-pointer"]],template:function(e,t){1&e&&(r.YNc(0,w,5,2,"section",0),r.YNc(1,x,8,2,"section",1),r.YNc(2,T,20,5,"ng-template",2,3,r.W1O),r.YNc(4,k,1,0,"router-outlet",1)),2&e&&(r.Q6J("ngIf",t.showTabs),r.xp6(1),r.Q6J("ngIf",t.showTabs&&!t.isProvisioned),r.xp6(3),r.Q6J("ngIf",t.scopeFlag.manage||t.scopeFlag.geographic))},directives:[a.O5,c.yS,c.Od,a.mk,c.lC],styles:[".service-profiles-img[_ngcontent-%COMP%]{width:22px}"]}),A),children:[{path:"",redirectTo:"foundation-manage",pathMatch:"full"},{path:"foundation-manage",loadChildren:function(){return Promise.all([o.e(7418),o.e(5482)]).then(o.bind(o,65482)).then(function(e){return e.FoundationManageModule})}},{path:"foundation-geographic-view",component:o(69794).G}]}],I=function(){var t=i(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[c.Bz.forChild(C)],c.Bz]}),t}(),P=o(12610),M=function(){var t=i(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[P._],imports:[[a.ez,I]]}),t}()}}])}();