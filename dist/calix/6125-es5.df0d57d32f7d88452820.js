!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,s=void 0,"symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"))?s:String(s)),n)}var a,s}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[6125],{66125:function(t,n,a){a.r(n),a.d(n,{ProtectIqNewModule:function(){return Me}});var s=a(38583),o=a(39895),r=a(92340),l=a(37716),c=a(39075),d=a(38048),u=a(7450),g=a(94802),p=a(27351);function v(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",2),l.TgZ(1,"span",3),l._UZ(2,"img",4),l.qZA(),l.TgZ(3,"button",5),l.NdJ("click",function(){return l.CHM(i),l.oxw().errorMessage=""}),l._uU(4),l.qZA(),l._UZ(5,"span",6),l.qZA()}if(2&e){var n=l.oxw();l.xp6(4),l.hij(" ",n.language.OK," "),l.xp6(1),l.Q6J("innerHtml",n.errorMessage,l.oJD)}}function b(e,t){if(1&e&&(l.TgZ(0,"div",13),l.TgZ(1,"div",14),l.TgZ(2,"div",15),l.TgZ(3,"span",16),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var i=l.oxw(2);l.xp6(4),l.Oqu(i.language.Loading)}}function h(e,t){if(1&e&&(l.TgZ(0,"li",18),l.TgZ(1,"a",19),l._uU(2),l.qZA(),l.qZA()),2&e){var i=l.oxw().$implicit,n=l.oxw(2);l.xp6(1),l.Tol("nav-link small "+(i.active?"active":"")),l.Q6J("id",i.name)("routerLink",i.routerLink)("state",i.state)("title",n.language[i.label]),l.xp6(1),l.hij(" ",n.language[i.label]," ")}}function f(e,t){if(1&e&&(l.ynx(0),l.YNc(1,h,3,7,"li",17),l.BQk()),2&e){var i=t.$implicit;l.xp6(1),l.Q6J("ngIf",i.display)}}function m(e,t){if(1&e&&(l.TgZ(0,"div",7),l.TgZ(1,"div",8),l.YNc(2,b,5,1,"div",9),l.TgZ(3,"ul",10),l.YNc(4,f,2,1,"ng-container",11),l.qZA(),l.qZA(),l.TgZ(5,"div",12),l._UZ(6,"router-outlet"),l.qZA(),l.qZA()),2&e){var i=l.oxw();l.xp6(2),l.Q6J("ngIf",i.loading),l.xp6(2),l.Q6J("ngForOf",i.menus)}}var Z,S=((Z=function(){function t(i,n,a,s,o,r){e(this,t),this.titleService=i,this.router=n,this.ssoAuthService=a,this.translateService=s,this.dataService=o,this.protectIqService=r,this.loading=!1,this.errorMessage="",this.scopeFlag={},this.undiscoveredGS=!1,this.preReqData={},this.newData={userId:""},this.menus=[{name:"details",label:"Details",routerLink:"./details",active:!0,display:!0,state:this.preReqData}],this.unitTesting=!1}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.ssoAuthService.setActionLog("CSC","pageHit","Application",this.router.url,"Application protectIQ page is loaded"),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t,e.titleService.setTitle("".concat(e.language.Security," - ").concat(e.language["Managed Services"]," - ").concat(e.language.Service," - ").concat(e.language["Calix Cloud"]))}),this.titleService.setTitle("".concat(this.language.Security," - ").concat(this.language["Managed Services"]," - ").concat(this.language.Service," - ").concat(this.language["Calix Cloud"])),this.protectIqService.subscribtionStatus.subscribe(function(t){e.subscribtionStatus=t,e.setLatestVersion(),e.initMenus(),e.formatMenus(),e.loading=!1}),this.currentSubscriberInfoSubscription=this.ssoAuthService.currentSubscriberInfo.subscribe(function(){e.router.navigateByUrl("/support/application/protect-iq"),Object.keys(e.preReqData).length?e.protectIqService.availabilityInfo.next(e.preReqData):(e.loading=!0,e.initMenus(),e.onBoardedCheck())}),this.setLatestVersion(),this.getScopes(),this.loadContent()}},{key:"ngOnDestory",value:function(){this.currentSubscriberInfoSubscription&&this.currentSubscriberInfoSubscription.unsubscribe(),this.availabilityApiSubscription&&this.availabilityApiSubscription.unsubscribe()}},{key:"setLatestVersion",value:function(){var e,t,i=null!==(t=null===(e=JSON.parse(sessionStorage.getItem("calix.deviceData")).find(function(e){return""!=e.softwareVersion}))||void 0===e?void 0:e.softwareVersion)&&void 0!==t?t:"";this.isLatestVersion=parseFloat(i)>=23.3&&this.ssoAuthService.isSmbEnabled(!0)}},{key:"getScopes",value:function(){var e=this.ssoAuthService.getScopes();if(r.N.VALIDATE_SCOPE){var t=Object.keys(e);if(t)for(var i=0;i<t.length;i++)-1===t[i].indexOf("cloud.rbac.csc.apps.experienceiq")?-1===t[i].indexOf("cloud.rbac.csc.apps.protectiq")||(this.scopeFlag.protectiq=!0):this.scopeFlag.experienceiq=!0;e["cloud.rbac.csc.apps.protectiq.configuration"]=e["cloud.rbac.csc.apps.protectiq.configuration"]?e["cloud.rbac.csc.apps.protectiq.configuration"]:[],e["cloud.rbac.csc.apps.protectiq.enablement"]=e["cloud.rbac.csc.apps.protectiq.enablement"]?e["cloud.rbac.csc.apps.protectiq.enablement"]:[],e&&e["cloud.rbac.csc.apps.protectiq.configuration"]&&(-1!==e["cloud.rbac.csc.apps.protectiq.configuration"].indexOf("read")&&(this.scopeFlag.configRead=!0),-1!==e["cloud.rbac.csc.apps.protectiq.configuration"].indexOf("write")&&(this.scopeFlag.configWrite=!0)),e&&e["cloud.rbac.csc.apps.protectiq.enablement"]&&(-1!==e["cloud.rbac.csc.apps.protectiq.enablement"].indexOf("read")&&(this.scopeFlag.enableRead=!0),-1!==e["cloud.rbac.csc.apps.protectiq.enablement"].indexOf("write")&&(this.scopeFlag.enableWrite=!0))}else this.scopeFlag.configRead=!0,this.scopeFlag.configWrite=!0,this.scopeFlag.enableRead=!0,this.scopeFlag.enableWrite=!0,this.scopeFlag.experienceiq=!0,this.scopeFlag.protectiq=!0}},{key:"loadContent",value:function(){var e,t,i,n=this;if(!this.unitTesting){this.deviceInfo=JSON.parse(sessionStorage.getItem("calix.deviceData"));var a=this.deviceInfo.filter(function(e){return"RG"==e.opMode&&e.hasOwnProperty("modelName")&&n.ssoAuthService.acceptGSModel(e.modelName)});a=a.length?a:this.deviceInfo.map(function(e){return e.deviceId}).includes(sessionStorage.getItem("undiscoveredSn"))?[{deviceId:sessionStorage.getItem("undiscoveredSn")}]:[],a=parseInt((null===(e=history.state)||void 0===e?void 0:e.containGS)||"0")||a.length,this.hasSubscriber=(null===(t=history.state)||void 0===t?void 0:t.hasSubscriber)||sessionStorage.getItem("calix.subscriberId")&&"undefined"!=sessionStorage.getItem("calix.subscriberId"),a?(null===(i=history.state)||void 0===i?void 0:i.iseiqfromissue)?this.router.navigate(["/support/application/experienceIQ"],{state:{ispriorities:!0}}):-1!=this.ssoAuthService.getEntitlementsArr().indexOf("203")||-1!=this.ssoAuthService.getEntitlementsArr().indexOf("205")||this.ssoAuthService.isSmbEnabled()&&this.ssoAuthService.getEntitlementsArr().includes("218")||this.scopeFlag.protectiq?(this.ssoAuthService.getEntitlementsArr().includes("203")||this.ssoAuthService.getEntitlementsArr().includes("205")||this.ssoAuthService.isSmbEnabled()&&this.ssoAuthService.getEntitlementsArr().includes("218"))&&this.scopeFlag.protectiq&&a?(this.router.navigate(["/support/application/protect-iq/details"]),this.undiscoveredGS=!this.deviceInfo.filter(function(e){return"RG"==e.opMode&&e.hasOwnProperty("modelName")&&n.ssoAuthService.acceptGSModel(e.modelName)}).length&&this.deviceInfo.filter(function(e){return!e.hasOwnProperty("modelName")}).length,this.deviceInfo=this.deviceInfo.filter(function(e){return"RG"==e.opMode}),this.deviceInfo=this.deviceInfo&&this.deviceInfo.length?this.deviceInfo[0].serialNumber:"",this.orgId=this.ssoAuthService.getOrgId(),this.subscriberStructure=this.dataService.getStoredSubscriberInfo()||{subscriberLocationId:sessionStorage.getItem("calix.subLocationId"),_id:sessionStorage.getItem("calix.subscriberId")},this.onBoardedCheck()):(this.ssoAuthService.getEntitlementsArr().includes("204")||this.ssoAuthService.getEntitlementsArr().includes("205")||this.ssoAuthService.isSmbEnabled()&&this.ssoAuthService.getEntitlementsArr().includes("218"))&&this.scopeFlag.experienceiq&&a?this.router.navigate(["/support/application/experienceIQ"]):(this.ssoAuthService.getEntitlementsArr().includes("206")||this.ssoAuthService.getEntitlementsArr().includes("213")||this.ssoAuthService.getEntitlementsArr().includes("212"))&&this.scopeFlag.arlo?this.router.navigate(["/support/application/arlo-smart"]):this.ssoAuthService.getEntitlementsArr().includes("207")&&this.scopeFlag.servify?this.router.navigate(["/support/application/servify-care"]):this.ssoAuthService.getEntitlementsArr().includes("214")&&this.scopeFlag.mycommunityiq?this.router.navigate(["/support/application/SmartTownWiFi"]):(this.ssoAuthService.getEntitlementsArr().includes("219")||this.ssoAuthService.getEntitlementsArr().includes("220"))&&this.scopeFlag.bark?this.router.navigate(["/support/application/bark"]):this.isCaptivePortAvail()&&this.router.navigate(["/support/application/customer-portal"]):this.ssoAuthService.getEntitlementsArr().indexOf("204")>-1&&this.scopeFlag.experienceiq?this.router.navigate(["/support/application/experienceIQ"]):this.router.navigate(["/support/application/arlo-smart"]):this.router.navigate(["/support/application/arlo-smart"])}}},{key:"isCaptivePortAvail",value:function(){for(var e=0,t=0;t<=15;t++){if(this.dataService.getStoredSubscriberInfo()){e=this.ssoAuthService.isSmbEnabled()?1:0;break}this.ssoAuthService.sleep(1e3)}return e}},{key:"onBoardedCheck",value:function(){var e=this;this.loading=!0,this.protectIqService.getUserId(this.deviceInfo).subscribe(function(t){t&&t.userId?(e.newData=t,e.protectIqService.routerOnboardInfo.next(t),e.showFeatureAvailability(t)):(e.loading=!1,e.setAvailabilityInfo())},function(t){e.loading=!1,e.errorMessage=e.protectIqService.errorHandler(t)})}},{key:"showFeatureAvailability",value:function(e){var t=this;this.loading=!0,this.availabilityApiSubscription=this.protectIqService.getFeatureAvailability(e.userId).subscribe(function(e){t.showSkippedDevice=e.psd,t.showSecuritySetting=e.securityByPass,t.showDetail=e.proofService,t.setAvailabilityInfo()},function(e){t.loading=!1,t.errorMessage=t.protectIqService.errorHandler(e)})}},{key:"setAvailabilityInfo",value:function(){this.preReqData={showSkippedDevice:this.showSkippedDevice,showSecuritySetting:this.showSecuritySetting,showDetail:this.showDetail,deviceInfo:this.deviceInfo,undiscoveredGS:this.undiscoveredGS,subscriberStructure:this.subscriberStructure,scopeFlag:this.scopeFlag,hasSubscriber:this.hasSubscriber},this.protectIqService.availabilityInfo.next(this.preReqData)}},{key:"initMenus",value:function(){this.menus=[{name:"details",label:"Details",routerLink:"./details",active:!0,display:!0,state:this.preReqData}]}},{key:"formatMenus",value:function(){this.subscribtionStatus.deviceSubscription&&this.subscribtionStatus.deviceStatus&&this.menus.push({name:"alerts",label:"Alerts",routerLink:"./alerts",display:!this.subscribtionStatus.smbEnabled&&!this.isLatestVersion,state:{userId:this.newData.userId}},{name:"trusted-list",label:"Trusted_List",routerLink:"./trusted-list",display:!this.subscribtionStatus.smbEnabled&&!this.isLatestVersion,state:{userId:this.newData.userId,isLatestVersion:this.isLatestVersion}},{name:"skipped-devices",label:"Skipped_Devices",routerLink:"./skipped-devices",display:!this.subscribtionStatus.smbEnabled||this.isLatestVersion&&this.showSkippedDevice,state:{configWrite:this.scopeFlag.configWrite,userId:this.newData.userId,isLatestVersion:this.isLatestVersion}},{name:"security-settings",label:"Security_Settings",routerLink:"./security-settings",display:this.showSecuritySetting,state:{userId:this.newData.userId,isLatestVersion:this.isLatestVersion}})}}]),t}()).\u0275fac=function(e){return new(e||Z)(l.Y36(c.Dx),l.Y36(o.F0),l.Y36(d.t6),l.Y36(u.s),l.Y36(g.Q),l.Y36(p.a))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-protect-iq-new"]],decls:2,vars:2,consts:[["class","w-100 alert alert alert-danger fade show",4,"ngIf"],["class","row my-3",4,"ngIf"],[1,"w-100","alert","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"btn-default","primary","ok","float-right",3,"click"],[1,"d-inline-flex","wrn-msg",3,"innerHtml"],[1,"row","my-3"],[1,"col-lg-2","col-md-3","col-sm-12","tab-sec","border-right","smy-2"],["class","loader",4,"ngIf"],["id","tabs",1,"w-100","nav","nav-tabs","sub-tab","vertical-tab"],[4,"ngFor","ngForOf"],[1,"col-lg-10","col-md-9","col-sm-12","details-sec"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["data-toggle","tab","href","javascript:void(0)",3,"id","routerLink","state","title"]],template:function(e,t){1&e&&(l.YNc(0,v,6,2,"div",0),l.YNc(1,m,7,2,"div",1)),2&e&&(l.Q6J("ngIf",t.errorMessage),l.xp6(1),l.Q6J("ngIf",t.scopeFlag.configRead))},directives:[s.O5,s.sg,o.lC,o.yS],styles:[""]}),Z),x=a(15257),A=a(35758),q=a(3679);function y(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",22),l.TgZ(1,"div",23),l._UZ(2,"img",24),l.qZA(),l.TgZ(3,"div",25),l._uU(4),l.qZA(),l.TgZ(5,"button",26),l.NdJ("click",function(){return l.CHM(i),l.oxw().warningMessage=""}),l._uU(6),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(4),l.Oqu(n.language[n.warningMessage]||n.warningMessage),l.xp6(2),l.Oqu(n.language.OK)}}function I(e,t){if(1&e&&(l.TgZ(0,"div",27),l.TgZ(1,"div",28),l.TgZ(2,"div",29),l.TgZ(3,"span",30),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var i=l.oxw();l.xp6(4),l.Oqu(i.language.Loading)}}function _(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"th",31),l._uU(2),l.qZA(),l.TgZ(3,"td",32),l.TgZ(4,"div",33),l.TgZ(5,"label",34),l.TgZ(6,"input",35),l.NdJ("change",function(){return l.CHM(i),l.oxw().toggleSubscription(!0)})("ngModelChange",function(e){return l.CHM(i),l.oxw().deviceSubscription=e}),l.qZA(),l.TgZ(7,"span",33),l._UZ(8,"small"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(2),l.Oqu(n.language.Subscribed),l.xp6(2),l.Q6J("ngClass",n.deviceSubscription?"toggle-swtbtn checkbox switcher mb-2":"toggle-swtbtn checkbox switcher-disabld mb-2"),l.xp6(2),l.Q6J("checked",n.deviceSubscription)("ngModel",n.deviceSubscription)("disabled",!n.scopeFlag.configWrite),l.xp6(1),l.Q6J("ngClass",n.scopeFlag.configWrite?"":"toggleDisabled")}}function T(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"th",31),l._uU(2),l.qZA(),l.TgZ(3,"td",32),l.TgZ(4,"div",33),l.TgZ(5,"label",36),l.TgZ(6,"input",37),l.NdJ("change",function(){return l.CHM(i),l.oxw().onSubscription(!0)})("ngModelChange",function(e){return l.CHM(i),l.oxw().deviceSubscription=e}),l.qZA(),l.TgZ(7,"span",38),l._UZ(8,"small"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(2),l.Oqu(n.language.enabled),l.xp6(2),l.Q6J("ngClass",n.deviceStatus?"toggle-swtbtn checkbox switcher mb-2":"toggle-swtbtn checkbox switcher-disabld mb-2"),l.xp6(2),l.Q6J("checked",n.deviceSubscription)("ngModel",n.deviceSubscription)("disabled",!0)}}function w(e,t){1&e&&l._UZ(0,"tr")}function M(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",39),l.TgZ(1,"div",4),l.TgZ(2,"div",40),l.TgZ(3,"div",41),l._uU(4),l.qZA(),l.TgZ(5,"a",42),l.NdJ("click",function(){return l.CHM(i),l.oxw().showStatusNotification()}),l._UZ(6,"i",43),l.qZA(),l.qZA(),l.TgZ(7,"table",44),l.TgZ(8,"tbody"),l.TgZ(9,"tr"),l.TgZ(10,"th",31),l._uU(11),l.qZA(),l.TgZ(12,"td",32),l._uU(13),l.qZA(),l.qZA(),l.TgZ(14,"tr"),l.TgZ(15,"th",45),l._uU(16),l.qZA(),l.TgZ(17,"td"),l._uU(18),l.ALo(19,"date"),l.qZA(),l.qZA(),l.TgZ(20,"tr"),l.TgZ(21,"th",45),l._uU(22),l.qZA(),l.TgZ(23,"td"),l._uU(24),l.qZA(),l.qZA(),l.TgZ(25,"tr"),l.TgZ(26,"th",45),l._uU(27),l.qZA(),l.TgZ(28,"td"),l._uU(29),l.qZA(),l.qZA(),l.TgZ(30,"tr"),l.TgZ(31,"th",45),l._uU(32),l.qZA(),l.TgZ(33,"td"),l._uU(34),l.qZA(),l.qZA(),l.TgZ(35,"tr"),l.TgZ(36,"th",45),l._uU(37),l.qZA(),l.TgZ(38,"td"),l._uU(39),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(4),l.Oqu(n.language.Status),l.xp6(7),l.hij("",n.language.Uptime,":"),l.xp6(2),l.Oqu(n.loading?"-":n.protectIQ_Uptime),l.xp6(3),l.hij("",n.language.Last_Updated,":"),l.xp6(2),l.Oqu(n.loading?"-":l.xi3(19,13,n.lastUpdated,"MMM dd yyyy, hh:mm:ss a")),l.xp6(4),l.hij("",n.language.Packets_Analyzed_Today,":"),l.xp6(2),l.Oqu(n.loading?"-":n.packetsAnalyzedToday),l.xp6(3),l.hij("",n.language.Total_Virus_Detected,":"),l.xp6(2),l.Oqu(n.loading?"-":n.totalVirusDetected),l.xp6(3),l.hij("",n.language.Total_Intrusions,":"),l.xp6(2),l.Oqu(n.loading?"-":n.totalIntrusions),l.xp6(3),l.hij("",n.language.Total_Web_Threats,":"),l.xp6(2),l.Oqu(n.loading?"-":n.totalWebThreats)}}var O=function(){var t=function(){function t(i,n,a,s){e(this,t),this.translateService=i,this.protectIqService=n,this.ssoService=a,this.dataService=s,this.loading=!0,this.newData={},this.deviceStatus=!1,this.deviceSubscription=!1,this.scopeFlag={},this.enabledUpdated=!1,this.subscriptionUpdated=!1,this.undiscoveredGS=!1,this.deviceStatusSet=0,this.isEduroamEnable=!1}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(t){e.language=t}),this.getScopes(),this.orgId=this.ssoService.getOrgId(),this.protectIqService.routerOnboardInfo.subscribe(function(t){e.newData=t}),this.deviceStatusSet=0,this.protectIqService.availabilityInfo.subscribe(function(t){0!=Object.keys(t).length&&e.protectIqService.currentAvailabilityInfo.next(t)}),this.protectIqService.currentAvailabilityInfo.pipe((0,x.q)(2)).subscribe(function(t){0!=Object.keys(t).length&&(e.deviceStatusSet++,e.showDetail=t.showDetail,e.deviceInfo=t.deviceInfo,e.undiscoveredGS=t.undiscoveredGS,e.hasSubscriber=t.hasSubscriber,e.subscriberStructure=t.subscriberStructure,1==e.deviceStatusSet&&e.getSubsciberStatus())})}},{key:"getScopes",value:function(){var e=this.ssoService.getScopes();if(r.N.VALIDATE_SCOPE){var t=Object.keys(e);if(t)for(var i=0;i<t.length;i++)-1===t[i].indexOf("cloud.rbac.csc.apps.experienceiq")?-1===t[i].indexOf("cloud.rbac.csc.apps.protectiq")||(this.scopeFlag.protectiq=!0):this.scopeFlag.experienceiq=!0;e["cloud.rbac.csc.apps.protectiq.configuration"]=e["cloud.rbac.csc.apps.protectiq.configuration"]?e["cloud.rbac.csc.apps.protectiq.configuration"]:[],e["cloud.rbac.csc.apps.protectiq.enablement"]=e["cloud.rbac.csc.apps.protectiq.enablement"]?e["cloud.rbac.csc.apps.protectiq.enablement"]:[],e&&e["cloud.rbac.csc.apps.protectiq.configuration"]&&(-1!==e["cloud.rbac.csc.apps.protectiq.configuration"].indexOf("read")&&(this.scopeFlag.configRead=!0),-1!==e["cloud.rbac.csc.apps.protectiq.configuration"].indexOf("write")&&(this.scopeFlag.configWrite=!0)),e&&e["cloud.rbac.csc.apps.protectiq.enablement"]&&(-1!==e["cloud.rbac.csc.apps.protectiq.enablement"].indexOf("read")&&(this.scopeFlag.enableRead=!0),-1!==e["cloud.rbac.csc.apps.protectiq.enablement"].indexOf("write")&&(this.scopeFlag.enableWrite=!0))}else this.scopeFlag.configRead=!0,this.scopeFlag.configWrite=!0,this.scopeFlag.enableRead=!0,this.scopeFlag.enableWrite=!0,this.scopeFlag.experienceiq=!0,this.scopeFlag.protectiq=!0}},{key:"showStatusNotification",value:function(){var e,t=this;this.loading=!0,this.notificationUserId=null===(e=this.newData)||void 0===e?void 0:e.userId,this.notificationUserId&&this.protectIqService.getNotification(this.notificationUserId).subscribe(function(e){t.loading=!1,t.protectIQ_Uptime=t.timeConvert(e.active_since),t.myDate=new Date(e.last_updated),t.lastUpdated=t.myDate.toString(),t.packetsAnalyzedToday=e.packet_analyzed_today,t.totalVirusDetected=e.virus_detected,t.totalIntrusions=e.intrusions,t.totalWebThreats=e.web_based_threats},function(e){t.warningMessage=t.protectIqService.errorHandler(e),t.loading=!1})}},{key:"timeConvert",value:function(e){var t=Math.floor(e/1440),i=Math.floor((e-1440*t)/60),n=Math.round(e%60);return t>0?t+" Days "+i+" Hrs , "+n+" Mins":i+(i>1?" Hrs ":" Hr, ")+n+" Mins"}},{key:"getSubsciberStatus",value:function(e,t){var i,n=this,a=sessionStorage.getItem("calix.subscriberId"),s=this.deviceInfo?1:a?2:0,o=[],r=[];(s&&!e||s&&"system"==e)&&(o.push(this.protectIqService.getArloAccount(this.ssoService.getOrgId(),1==s?this.deviceInfo:a,s)),r.push("system")),this.deviceInfo&&!e||this.deviceInfo&&"device"==e?(o.push(this.protectIqService.getDeviceStatus(this.deviceInfo,"CIES")),r.push("device")):this.deviceStatus=(null===(i=JSON.parse(sessionStorage.getItem("iqStatus")))||void 0===i?void 0:i.protectIQEnabled)||!1,o.length>0&&(this.loading=!0,(0,A.D)(o).subscribe(function(e){var i,a,s,o,l,c,d,u,g,p,v,b,h,f,m,Z,S,x,A,q,y,I,_,T,w,M,O,C,k,P,E,U,D,L,J,Q,N,F,j,Y;if(n.loading=!1,2==e.length&&(j=e[0],Y=e[1]),1==e.length&&r.includes("system")&&(j=e[0]),1==e.length&&r.includes("device")&&(Y=e[0]),r.includes("system")&&j.edgeSuites&&(n.experienceiqstatus=j.edgeSuites.experienceIQ.subscribed,n.smbOrSmarttownEnabled=(null===(s=null===(a=null===(i=null==j?void 0:j.edgeSuites)||void 0===i?void 0:i.myCommunityIQ)||void 0===a?void 0:a.passpoint)||void 0===s?void 0:s.enable)&&"failed"!==(null===(d=null===(c=null===(l=null===(o=null==j?void 0:j.edgeSuites)||void 0===o?void 0:o.myCommunityIQ)||void 0===l?void 0:l.passpoint)||void 0===c?void 0:c.status)||void 0===d?void 0:d.result)||(null===(p=null===(g=null===(u=null==j?void 0:j.edgeSuites)||void 0===u?void 0:u.myCommunityIQ)||void 0===g?void 0:g.eduroam)||void 0===p?void 0:p.enable)&&"failed"!==(null===(f=null===(h=null===(b=null===(v=null==j?void 0:j.edgeSuites)||void 0===v?void 0:v.myCommunityIQ)||void 0===b?void 0:b.eduroam)||void 0===h?void 0:h.status)||void 0===f?void 0:f.result)||(null===(Z=null===(m=null==j?void 0:j.edgeSuites)||void 0===m?void 0:m.smallBizIQ)||void 0===Z?void 0:Z.enable)&&"failed"!==(null===(A=null===(x=null===(S=null==j?void 0:j.edgeSuites)||void 0===S?void 0:S.smallBizIQ)||void 0===x?void 0:x.status)||void 0===A?void 0:A.result),n.isEduroamEnable=(null===(I=null===(y=null===(q=null==j?void 0:j.edgeSuites)||void 0===q?void 0:q.myCommunityIQ)||void 0===y?void 0:y.eduroam)||void 0===I?void 0:I.enable)&&"failed"!==(null===(M=null===(w=null===(T=null===(_=null==j?void 0:j.edgeSuites)||void 0===_?void 0:_.myCommunityIQ)||void 0===T?void 0:T.eduroam)||void 0===w?void 0:w.status)||void 0===M?void 0:M.result),n.isSmartTownActivated=(null===(k=null===(C=null===(O=null==j?void 0:j.edgeSuites)||void 0===O?void 0:O.myCommunityIQ)||void 0===C?void 0:C.passpoint)||void 0===k?void 0:k.enable)&&["pending","succeeded"].includes(null===(D=null===(U=null===(E=null===(P=null==j?void 0:j.edgeSuites)||void 0===P?void 0:P.myCommunityIQ)||void 0===E?void 0:E.passpoint)||void 0===U?void 0:U.status)||void 0===D?void 0:D.result),n.smbEnabled=(null===(J=null===(L=null==j?void 0:j.edgeSuites)||void 0===L?void 0:L.smallBizIQ)||void 0===J?void 0:J.enable)||"undefined"==sessionStorage["calix.subscriberId"]&&n.ssoService.isSmbEnabled(),j)){if(t)return void(n.subscriptionUpdated=n.deviceSubscription==j.edgeSuites.protectIQ.subscribed);n.deviceSubscription=n.smbEnabled||!!j.edgeSuites.protectIQ.subscribed,j.edgeSuites.protectIQ.subscribed&&!n.undiscoveredGS&&(n.deviceStatus=j.edgeSuites.protectIQ.enabled)}if(r.includes("device")){if(t)return n.enabledUpdated=n.deviceStatus==(null===(Q=null==Y?void 0:Y.status)||void 0===Q?void 0:Q.installed),void(n.tempDeviceStatus=null===(N=null==Y?void 0:Y.status)||void 0===N?void 0:N.installed);n.deviceStatus=null===(F=null==Y?void 0:Y.status)||void 0===F?void 0:F.installed,n.newData.userId?n.deviceStatus&&n.showStatusNotification():n.onBoardedCheck()}n.updatedSubscriptionStatus(),n.deviceStatusSet=0},function(e){n.loading=!1,n.deviceStatusSet=0,n.warningMessage=n.protectIqService.errorHandler(e)}))}},{key:"onBoardedCheck",value:function(){var e=this;this.protectIqService.getUserId(this.deviceInfo).subscribe(function(t){e.loading=!1,t&&t.userId&&(e.newData=t,e.deviceStatus&&e.showStatusNotification())},function(t){e.loading=!1,e.warningMessage=e.protectIqService.errorHandler(t)})}},{key:"toggleSubscription",value:function(e){var t=this;if(this.deviceSubscription!=e)if(this.deviceSubscription=e,this.updatedSubscriptionStatus(),this.advLoading=!0,this.hasSubscriber)this.protectIqService.toggleAppSubscription(this.orgId,"ProtectIQ",this.subscriberStructure.subscriberLocationId,this.deviceSubscription).subscribe(function(e){var i=0;t.getSubsciberStatus("system",!0);var n=setInterval(function(){i++,t.subscriptionUpdated&&(t.undiscoveredGS||t.deviceSubscription==t.tempDeviceStatus)?(t.advLoading=!1,clearInterval(n),t.updateAppTile(),t.undiscoveredGS||t.getSubsciberStatus("device",!1)):12==i?(t.advLoading=!1,clearInterval(n),t.updateAppTile()):t.getSubsciberStatus(t.subscriptionUpdated?"device":"system",!0)},1e4)},function(e){var i,n;t.deviceSubscription=!t.deviceSubscription,t.updatedSubscriptionStatus(),t.advLoading=!1,t.warningMessage=(null===(n=null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.error)||void 0===n?void 0:n.msg.includes("not communicating with router"))?t.protectIqService.errorHandler("Device is offline"):t.protectIqService.errorHandler(e)});else{var i={protectIQ:{},experienceIQ:{}};i.experienceIQ={subscribed:this.experienceiqstatus},i.protectIQ={subscribed:this.deviceSubscription},this.protectIqService.toggleAppSubscriptionwithoutsubscriber(this.orgId,this.deviceInfo,i).subscribe(function(e){var i=0,n=2e3;e&&e.estimatedDelay&&(n+=1e3*e.estimatedDelay),setTimeout(function(){t.getSubsciberStatus("system",!0)},n);var a=setInterval(function(){i++,t.subscriptionUpdated&&(t.undiscoveredGS||t.deviceSubscription==t.tempDeviceStatus)?(t.advLoading=!1,clearInterval(a),t.updateAppTile(),t.undiscoveredGS||t.getSubsciberStatus("device",!1)):12==i?(t.advLoading=!1,clearInterval(a),t.updateAppTile()):t.getSubsciberStatus(t.subscriptionUpdated?"device":"system",!0)},1e4)},function(e){var i,n;t.deviceSubscription=!t.deviceSubscription,t.updatedSubscriptionStatus(),t.advLoading=!1,t.warningMessage=(null===(n=null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.error)||void 0===n?void 0:n.msg.includes("not communicating with router"))?t.protectIqService.errorHandler("Device is offline"):t.protectIqService.errorHandler(e)})}}},{key:"onSubscription",value:function(e){var t=this;if(this.deviceStatus!=e){this.deviceStatus=e,this.advLoading=!0;var i={fsn:this.deviceInfo,appName:"CIES",orderId:this.newData.userId};this.deviceStatus?this.protectIqService.setInstall(i).subscribe(function(e){var i=0;t.getSubsciberStatus("device",!0);var n=setInterval(function(){i++,t.enabledUpdated?(t.advLoading=!1,clearInterval(n),t.updateAppTile(),t.getSubsciberStatus("device",!1)):12==i?(t.advLoading=!1,t.deviceStatus=!t.deviceStatus,clearInterval(n)):t.getSubsciberStatus("device",!0)},1e4)},function(e){var i,n;t.deviceStatus=!1,t.updatedSubscriptionStatus(),t.warningMessage=(null===(n=null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.error)||void 0===n?void 0:n.msg.includes("not communicating with router"))?t.protectIqService.errorHandler("Device is offline"):t.protectIqService.errorHandler(e),t.advLoading=!1}):this.protectIqService.setUnInstall(i).subscribe(function(e){var i=0;t.getSubsciberStatus("device",!0);var n=setInterval(function(){i++,t.enabledUpdated?(t.advLoading=!1,clearInterval(n),t.updateAppTile(),t.getSubsciberStatus("device",!1)):12==i?(t.advLoading=!1,t.deviceStatus=!t.deviceStatus,clearInterval(n)):t.getSubsciberStatus("device",!0)},1e4)},function(e){var i,n;t.deviceStatus=!0,t.updatedSubscriptionStatus(),t.warningMessage=(null===(n=null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.error)||void 0===n?void 0:n.msg.includes("not communicating with router"))?t.protectIqService.errorHandler("Device is offline"):t.protectIqService.errorHandler(e),t.advLoading=!1})}}},{key:"toggleEnable",value:function(e){var t=this;this.deviceStatus!=e&&(this.deviceStatus=e,this.updatedSubscriptionStatus(),this.advLoading=!0,this.protectIqService.setEnableStatus(this.orgId,this.deviceInfo,{app:"protectIQ",enable:this.deviceStatus}).subscribe(function(e){setTimeout(function(){var e=0;t.getSubsciberStatus("device",!0);var i=setInterval(function(){e++,t.enabledUpdated?(t.advLoading=!1,clearInterval(i),t.updateAppTile(),t.getSubsciberStatus("device",!1)):12==e?(t.advLoading=!1,t.deviceStatus=!t.deviceStatus,t.updatedSubscriptionStatus(),clearInterval(i)):t.getSubsciberStatus("device",!0)},1e4)},1e3*((null==e?void 0:e.estimatedDelay)||0)+2e3)},function(e){var i,n;t.deviceStatus=!1,t.updatedSubscriptionStatus(),t.warningMessage=(null===(n=null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.error)||void 0===n?void 0:n.msg.includes("not communicating with router"))?t.protectIqService.errorHandler("Device is offline"):t.protectIqService.errorHandler(e),t.advLoading=!1}))}},{key:"updateAppTile",value:function(){var e=this,t=this.deviceInfo||sessionStorage.getItem("undiscoveredSn")||"";t&&(this.advLoading=!0,this.protectIqService.tileStatus(this.orgId,t,this.subscriberStructure._id).subscribe(function(t){var i,n,a,s,o,r,l,c,d,u,g,p,v,b,h,f,m,Z,S;e.advLoading=!1,t=t||{};var x=0,A=e.ssoService.getScopes(),q=(null===(n=null===(i=null==t?void 0:t.app)||void 0===i?void 0:i.servifyCare)||void 0===n?void 0:n.email)&&(e.getEntitlemnt("207")||e.getEntitlemnt("215")||e.getEntitlemnt("216")||e.getEntitlemnt("217"))&&A["cloud.rbac.csc.apps.servify"]?1:0,y=(null===(s=null===(a=null==t?void 0:t.app)||void 0===a?void 0:a.arloSmart)||void 0===s?void 0:s.email)&&(e.getEntitlemnt("206")||e.getEntitlemnt("212")||e.getEntitlemnt("213"))&&A["cloud.rbac.csc.apps.arlo"]?1:0,I=(null===(l=null===(r=null===(o=null==t?void 0:t.app)||void 0===o?void 0:o.myCommunityIQ)||void 0===r?void 0:r.subscriber)||void 0===l?void 0:l.enable)&&(e.getEntitlemnt("214")||e.getEntitlemnt("222")||e.getEntitlemnt("223"))&&A["cloud.rbac.csc.apps.mycommunityiq"]?1:0,_=(null===(d=null===(c=null==t?void 0:t.app)||void 0===c?void 0:c.bark)||void 0===d?void 0:d.email)&&(e.getEntitlemnt("219")||e.getEntitlemnt("220"))&&A["cloud.rbac.csc.apps.bark"]?1:0;(e.getEntitlemnt("203")||e.getEntitlemnt("205")||e.ssoService.isSmbEnabled()&&e.getEntitlemnt("218"))&&A["cloud.rbac.csc.apps.protectiq"]&&(null===(g=null===(u=null==t?void 0:t.app)||void 0===u?void 0:u.protectIQ)||void 0===g?void 0:g.subscribed)&&x++,(e.getEntitlemnt("204")||e.getEntitlemnt("205")||e.ssoService.isSmbEnabled()&&e.getEntitlemnt("218"))&&A["cloud.rbac.csc.apps.experienceiq"]&&(null===(v=null===(p=null==t?void 0:t.app)||void 0===p?void 0:p.experienceIQ)||void 0===v?void 0:v.subscribed)&&x++,$("#commandIQEmailId").text((null===(b=null==t?void 0:t.commandIQ)||void 0===b?void 0:b.fduser)?"-":(null===(h=null==t?void 0:t.commandIQ)||void 0===h?void 0:h.email)||"-"),$("#appSubscribedId").text(x+q+y+I+_!=0?x+q+y+I+_:"-"),$("#appInstalledId").text(null!=(null===(f=null==t?void 0:t.installed)||void 0===f?void 0:f.count)?null===(m=null==t?void 0:t.installed)||void 0===m?void 0:m.count:"-");var T=e.dataService.getSubscriberTabInfoData()||{};(null===(Z=null==T?void 0:T.networkStatus)||void 0===Z?void 0:Z.appCount)||(T.networkStatus={appCount:{}}),T.networkStatus.appCount={subscriberAppCount:x+q+y+I+_,enabledAppCount:null===(S=null==t?void 0:t.installed)||void 0===S?void 0:S.count},e.dataService.setSubscriberTabInfoData(T)},function(t){e.warningMessage=e.protectIqService.errorHandler(t),e.advLoading=!1}))}},{key:"getEntitlemnt",value:function(e){return this.ssoService.getEntitlementsArr().includes(e)}},{key:"updatedSubscriptionStatus",value:function(){this.protectIqService.subscribtionStatus.next({deviceSubscription:this.deviceSubscription,deviceStatus:this.deviceStatus,smbEnabled:this.smbEnabled})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Y36(u.s),l.Y36(p.a),l.Y36(d.t6),l.Y36(g.Q))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-protect-iq-details"]],decls:39,vars:24,consts:[["class","w-100 alert alert alert-danger fade show d-flex justify-content-between align-items-center",4,"ngIf"],["id","details","role","tab","aria-labelledby","details",1,"row"],["class","loader",4,"ngIf"],[1,"col-lg-6","px-0","col-md-12","col-sm-12"],[1,"Protect-iq-table"],[1,"border-bottom"],["id","detail-settings",1,"ccl-Secondary-title"],[1,"col-12","col-lg-12","pl-1","mt-3","font-weight-bold"],[1,"col-12","col-lg-12","pl-1"],[1,"form-check","form-check-inline"],["type","radio","id","materialInline3","name","subscribed",3,"ngModel","value","disabled","ngModelChange","click"],["for","materialInline3",1,"form-check-label","mx-2"],["type","radio","id","materialInline4","name","subscribed",3,"ngModel","value","disabled","ngModelChange","click"],["for","materialInline4",1,"form-check-label","mx-2"],["type","radio","id","materialInline10","name","enabled",3,"ngModel","value","disabled","ngModelChange","click"],["for","materialInline10",1,"form-check-label","mx-2"],["type","radio","id","materialInline11","name","enabled",3,"ngModel","value","disabled","ngModelChange","click"],["for","materialInline11",1,"form-check-label","mx-2"],[1,"detail-list","mt-3","d-none"],[4,"ngIf"],["noSubScription",""],["class","col-lg-6 col-md-12 col-sm-12",4,"ngIf"],[1,"w-100","alert","alert","alert-danger","fade","show","d-flex","justify-content-between","align-items-center"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],[1,"d-inline-flex","wrn-msg"],["type","button",1,"btn-default","primary","ok",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["scope","row",1,""],[1,""],[3,"ngClass"],["for","selfHealCheckbox"],["type","checkbox","id","selfHealCheckbox",3,"checked","ngModel","disabled","change","ngModelChange"],["for","selfHealCheckbox1"],["type","checkbox","id","selfHealCheckbox1",3,"checked","ngModel","disabled","change","ngModelChange"],[1,"toggleDisabled"],[1,"col-lg-6","col-md-12","col-sm-12"],[1,"flex-space-between","border-bottom"],["id","details-status",1,"ccl-Secondary-title"],["href","javascript:void(0)",3,"click"],[1,"fas","fa-sync","refreshicon"],["id","Protect-iq-status-table",1,"detail-list","detail-list-table"],["scope","row"]],template:function(e,t){1&e&&(l.YNc(0,y,7,2,"div",0),l.TgZ(1,"div",1),l.YNc(2,I,5,1,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"div",6),l._uU(7),l.qZA(),l.qZA(),l.TgZ(8,"section"),l.TgZ(9,"div",7),l._uU(10),l.qZA(),l.TgZ(11,"div",8),l.TgZ(12,"div",9),l.TgZ(13,"input",10),l.NdJ("ngModelChange",function(e){return t.deviceSubscription=e})("click",function(){return t.toggleSubscription(!0)}),l.qZA(),l.TgZ(14,"label",11),l._uU(15),l.qZA(),l.qZA(),l.TgZ(16,"div",9),l.TgZ(17,"input",12),l.NdJ("ngModelChange",function(e){return t.deviceSubscription=e})("click",function(){return t.toggleSubscription(!1)}),l.qZA(),l.TgZ(18,"label",13),l._uU(19),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"section"),l.TgZ(21,"div",7),l._uU(22),l.qZA(),l.TgZ(23,"div",8),l.TgZ(24,"div",9),l.TgZ(25,"input",14),l.NdJ("ngModelChange",function(e){return t.deviceStatus=e})("click",function(){return t.toggleEnable(!0)}),l.qZA(),l.TgZ(26,"label",15),l._uU(27),l.qZA(),l.qZA(),l.TgZ(28,"div",9),l.TgZ(29,"input",16),l.NdJ("ngModelChange",function(e){return t.deviceStatus=e})("click",function(){return t.toggleEnable(!1)}),l.qZA(),l.TgZ(30,"label",17),l._uU(31),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(32,"table",18),l.TgZ(33,"tbody"),l.YNc(34,_,9,6,"tr",19),l.YNc(35,T,9,5,"tr",19),l.YNc(36,w,1,0,"ng-template",null,20,l.W1O),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(38,M,40,16,"div",21),l.qZA()),2&e&&(l.Q6J("ngIf",t.warningMessage),l.xp6(2),l.Q6J("ngIf",t.loading||t.advLoading),l.xp6(5),l.hij(" ",t.language.Settings," "),l.xp6(3),l.hij(" ",t.language.Subscription," "),l.xp6(3),l.Q6J("ngModel",t.deviceSubscription)("value",!0)("disabled",!t.scopeFlag.configWrite||t.smbEnabled),l.xp6(2),l.hij(" ",t.language.Subscribed," "),l.xp6(2),l.Q6J("ngModel",t.deviceSubscription)("value",!1)("disabled",!t.scopeFlag.configWrite||!t.isSmartTownActivated&&!t.isEduroamEnable&&t.smbOrSmarttownEnabled||t.smbEnabled),l.xp6(2),l.hij(" ",t.language.Unsubscribed," "),l.xp6(3),l.hij(" ",t.language.SERVICE," "),l.xp6(3),l.Q6J("ngModel",t.deviceStatus)("value",!0)("disabled",!t.scopeFlag.enableWrite||!t.deviceSubscription||!t.deviceInfo||t.isSmartTownActivated||t.smbEnabled),l.xp6(2),l.hij(" ",t.language.enabled," "),l.xp6(2),l.Q6J("ngModel",t.deviceStatus)("value",!1)("disabled",!t.scopeFlag.enableWrite||!t.deviceSubscription||!t.deviceInfo||t.isSmartTownActivated||t.smbOrSmarttownEnabled||t.smbEnabled),l.xp6(2),l.hij(" ",t.language.Disabled," "),l.xp6(3),l.Q6J("ngIf",t.scopeFlag.configRead),l.xp6(1),l.Q6J("ngIf",t.scopeFlag.configRead),l.xp6(3),l.Q6J("ngIf",t.showDetail&&t.deviceStatus&&t.deviceSubscription))},directives:[s.O5,q._,q.Fj,q.JJ,q.On,s.mk,q.Wl],pipes:[s.uU],styles:[".Protect-iq-table[_ngcontent-%COMP%]{padding:0 10px;width:100%}.Protect-iq-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.flex-space-between[_ngcontent-%COMP%]{padding-bottom:0}.detail-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;padding:0}.detail-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #EBEAEF;line-height:24px;padding:0 10px}.detail-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 10px}.detail-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0 10px}.detail-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;margin-bottom:0}.detail-list[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600}.wrn-msg[_ngcontent-%COMP%]{width:85%}"]}),t}(),C=a(86640);function k(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",14),l.TgZ(1,"div",15),l._UZ(2,"img",16),l.qZA(),l._UZ(3,"div",17),l.TgZ(4,"button",18),l.NdJ("click",function(){return l.CHM(i),l.oxw().errorMessage=""}),l._uU(5),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(3),l.Q6J("innerHtml",n.errorMessage,l.oJD),l.xp6(2),l.hij(" ",n.language.OK," ")}}function P(e,t){if(1&e&&(l.TgZ(0,"div",19),l.TgZ(1,"div",20),l.TgZ(2,"div",21),l.TgZ(3,"span",22),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var i=l.oxw();l.xp6(4),l.Oqu(i.language.Loading)}}function E(e,t){if(1&e&&l._uU(0),2&e){var i=t.item,n=l.oxw();l.hij(" ",n.language[i.label]||i.label," ")}}function U(e,t){if(1&e&&l._uU(0),2&e){var i=t.item,n=l.oxw();l.hij(" ",n.language[i.label]," ")}}function D(e,t){1&e&&(l.TgZ(0,"span",40),l._uU(1,"+"),l.qZA())}function L(e,t){if(1&e&&(l.TgZ(0,"span",41),l._uU(1,"-"),l.qZA()),2&e){var i=l.oxw().index;l.uIk("id","symbolMinus"+i)}}function J(e,t){if(1&e&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&e){var i=l.oxw().$implicit;l.xp6(1),l.AsE(" ",null==i||null==i.securityAlarm?null:i.securityAlarm.message," was ",null==i||null==i.securityAlarm?null:i.securityAlarm.action,"ED ")}}function Q(e,t){if(1&e&&l._uU(0),2&e){var i=l.oxw().$implicit;l.AsE(" ",null==i||null==i.securityAlarm?null:i.securityAlarm.url," was ",null==i||null==i.securityAlarm?null:i.securityAlarm.action,"ED ")}}function N(e,t){if(1&e&&(l.TgZ(0,"div",42),l.TgZ(1,"table",43),l.TgZ(2,"tbody"),l.TgZ(3,"tr"),l._UZ(4,"th",9),l.TgZ(5,"th",44),l.TgZ(6,"table",45),l.TgZ(7,"tbody"),l.TgZ(8,"tr"),l.TgZ(9,"th",46),l._uU(10),l.qZA(),l.TgZ(11,"td",47),l._uU(12),l.ALo(13,"date"),l.qZA(),l.qZA(),l.TgZ(14,"tr"),l.TgZ(15,"th",46),l._uU(16),l.qZA(),l.TgZ(17,"td",47),l._uU(18),l.qZA(),l.qZA(),l.TgZ(19,"tr"),l.TgZ(20,"th",48),l._uU(21),l.qZA(),l.TgZ(22,"td"),l._uU(23),l.qZA(),l.qZA(),l.TgZ(24,"tr"),l.TgZ(25,"th",48),l._uU(26),l.qZA(),l.TgZ(27,"td"),l._uU(28),l.qZA(),l.qZA(),l.TgZ(29,"tr"),l.TgZ(30,"th",48),l._uU(31),l.qZA(),l.TgZ(32,"td"),l._uU(33),l.qZA(),l.qZA(),l.TgZ(34,"tr"),l.TgZ(35,"th",48),l._uU(36,"URL:"),l.qZA(),l.TgZ(37,"td"),l._uU(38),l.qZA(),l.qZA(),l.TgZ(39,"tr"),l.TgZ(40,"th",48),l._uU(41,"File:"),l.qZA(),l.TgZ(42,"td"),l._uU(43),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var i=l.oxw(),n=i.index,a=i.$implicit,s=l.oxw();l.Q6J("id","collapseA"+n),l.xp6(10),l.hij(" ",s.language.Time," : "),l.xp6(2),l.hij(" ",l.xi3(13,13,a.timestamp,"MMM dd yyyy,hh:mm:s a")," "),l.xp6(4),l.hij(" ",s.language.Type," : "),l.xp6(2),l.hij(" ",s.getAlertLabel(null==a||null==a.securityAlarm?null:a.securityAlarm.type)," "),l.xp6(3),l.hij(" ",s.language.Source_IP," : "),l.xp6(2),l.hij(" ",(null==a||null==a.securityAlarm?null:a.securityAlarm.sourceIp)||"-"," "),l.xp6(3),l.hij(" ",s.language.Action," : "),l.xp6(2),l.hij(" ",(null==a||null==a.securityAlarm?null:a.securityAlarm.action)||"-"," "),l.xp6(3),l.hij(" ",s.language["Client Device"]," : "),l.xp6(2),l.hij(" ",(null==a||null==a.securityAlarm?null:a.securityAlarm.targetStaName)||"-"," "),l.xp6(5),l.hij(" ",(null==a||null==a.securityAlarm?null:a.securityAlarm.url)||"-"," "),l.xp6(5),l.hij(" ",(null==a||null==a.securityAlarm?null:a.securityAlarm.file)||"-"," ")}}function F(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td",23),l.TgZ(2,"div",24),l.TgZ(3,"div",25),l.TgZ(4,"div",26),l.TgZ(5,"div",27),l.TgZ(6,"ul",28),l.NdJ("click",function(){var e=l.CHM(i).index,t=l.oxw();return t.isExpanded[e]=!t.isExpanded[e]}),l.TgZ(7,"li",29),l.TgZ(8,"div",30),l.TgZ(9,"span",31),l.YNc(10,D,2,0,"span",32),l.YNc(11,L,2,1,"ng-template",null,33,l.W1O),l.qZA(),l._uU(13),l.ALo(14,"date"),l.qZA(),l.qZA(),l.TgZ(15,"li",34),l.YNc(16,J,2,2,"div",35),l.YNc(17,Q,1,2,"ng-template",null,36,l.W1O),l.qZA(),l.TgZ(19,"li",37),l.TgZ(20,"button",38),l.NdJ("click",function(){var e=l.CHM(i).$implicit;return l.oxw().addToTrustList(e)}),l._uU(21),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(22,N,44,16,"div",39),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=t.$implicit,a=t.index,s=l.MAs(12),o=l.MAs(18),r=l.oxw();l.xp6(10),l.Q6J("ngIf",!r.isExpanded[a])("ngIfElse",s),l.xp6(3),l.hij(" ",l.xi3(14,8,n.timestamp,"MMM dd yyyy, hh:mm:s a")," "),l.xp6(3),l.Q6J("ngIf","WG"!=(null==n||null==n.securityAlarm?null:n.securityAlarm.type))("ngIfElse",o),l.xp6(4),l.Q6J("id","whitelabelbtn"+a),l.xp6(1),l.hij(" ",r.language.Add_To_trust," "),l.xp6(1),l.Q6J("ngIf",r.isExpanded[a])}}function j(e,t){if(1&e&&(l.TgZ(0,"tr"),l.TgZ(1,"td",49),l._uU(2),l.qZA(),l.qZA()),2&e){var i=l.oxw();l.xp6(2),l.hij(" ",i.language["No data available"]," ")}}var Y=function(){var t=function(){function t(i,n,a){e(this,t),this.translateService=i,this.ssoAuthService=n,this.protectIqService=a,this.alertTypes=[{label:"All",value:"All"},{label:"Intrusion",value:"IPS"},{label:"Virus",value:"AV"},{label:"Web Threat",value:"WG"}],this.loading=!0,this.isError=!0,this.userId="",this.errorMessage="",this.alerts=[],this.isExpanded=[]}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.language=this.translateService.defualtLanguage,this.languageSubscription=this.translateService.selectedLanguage.subscribe(function(t){e.language=t}),this.selectedType="All",this.userId=history.state.userId,this.loadData()}},{key:"loadData",value:function(){var e=this;this.loading=!0,this.isError=!1,this.alerts=[],this.isExpanded=[],this.protectIqService.getAlerts(this.userId,this.selectedType).subscribe(function(t){var i;e.loading=!1,e.alerts=(null===(i=null==t?void 0:t.body)||void 0===i?void 0:i.datas)||[],e.alerts.forEach(function(){e.isExpanded.push(!1)})},function(t){404!=(null==t?void 0:t.status)&&e.ssoAuthService.pageErrorHandle(t),e.loading=!1})}},{key:"addToTrustList",value:function(e){var t,i,n,a,s=this;this.loading=!0;var o={userId:this.userId,type:null===(t=null==e?void 0:e.securityAlarm)||void 0===t?void 0:t.type,signatureId:null===(i=null==e?void 0:e.securityAlarm)||void 0===i?void 0:i.signatureId,url:null===(n=null==e?void 0:e.securityAlarm)||void 0===n?void 0:n.url,message:null===(a=null==e?void 0:e.securityAlarm)||void 0===a?void 0:a.message,notifId:null==e?void 0:e.notifId};this.protectIqService.addWhitelistDetails(o).subscribe(function(){s.loadData()},function(e){s.ssoAuthService.pageErrorHandle(e),s.loading=!1})}},{key:"getAlertLabel",value:function(e){var t,i;return null!==(i=null===(t=this.alertTypes.find(function(t){return t.value==e}))||void 0===t?void 0:t.label)&&void 0!==i?i:"-"}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Y36(u.s),l.Y36(d.t6),l.Y36(p.a))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-protect-iq-alerts"]],decls:19,vars:9,consts:[["id","alert","role","tab","aria-labelledby","alert",1,"col-12","px-0"],["class","w-100 alert alert alert-danger fade show d-flex justify-content-between align-items-center",4,"ngIf"],["class","loader",4,"ngIf"],[1,"alerts"],[1,"w-20","ml-auto"],["name","alert","bindLabel","label","bindValue","value",1,"my-2",3,"ngModel","items","searchable","ngModelChange","change"],["ng-label-tmp",""],["ng-option-tmp",""],[1,"detail-list","skip-device"],[1,"w-30"],["id","alert-occurred",1,"f-size-16","f-w-600","px-2"],["id","alert-details",1,"f-size-16","f-w-600","px-2"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"w-100","alert","alert","alert-danger","fade","show","d-flex","justify-content-between","align-items-center"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],[1,"d-inline-flex","wrn-msg",3,"innerHtml"],["type","button",1,"btn-default","primary","ok",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["colspan","3"],[1,"protect-iq-accordion"],["id","accordion"],[1,"card"],[1,"row","mb-0"],[1,"alert-ul",3,"click"],[1,"occurr-date"],[1,"alerts-info"],[1,"plus-minus-toggle","mr-2"],["class","plus",4,"ngIf","ngIfElse"],["expanded",""],[1,"alert-details"],[4,"ngIf","ngIfElse"],["showUrl",""],[1,"alert-btn","opacityCheck"],[1,"btn","default-btn",3,"id","click"],[3,"id",4,"ngIf"],[1,"plus"],[1,"minus"],[3,"id"],[1,"table","table-borderless"],[1,"w-60","p-0"],[1,"detail-list","alerts-table"],["scope","row",1,""],[1,""],["scope","row"],["colspan","5",1,"no-data-available"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,k,6,2,"div",1),l.YNc(2,P,5,1,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"ng-select",5),l.NdJ("ngModelChange",function(e){return t.selectedType=e})("change",function(){return t.loadData()}),l.YNc(6,E,1,1,"ng-template",6),l.YNc(7,U,1,1,"ng-template",7),l.qZA(),l.qZA(),l.TgZ(8,"table",8),l.TgZ(9,"thead"),l.TgZ(10,"th",9),l.TgZ(11,"div",10),l._uU(12),l.qZA(),l.qZA(),l.TgZ(13,"th",9),l.TgZ(14,"div",11),l._uU(15),l.qZA(),l.qZA(),l.qZA(),l.TgZ(16,"tbody"),l.YNc(17,F,23,11,"tr",12),l.YNc(18,j,3,1,"tr",13),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",t.errorMessage),l.xp6(1),l.Q6J("ngIf",t.loading),l.xp6(3),l.Q6J("ngModel",t.selectedType)("items",t.alertTypes)("searchable",!1),l.xp6(7),l.Oqu(t.language.Occurred),l.xp6(3),l.Oqu(t.language.Alert_Details),l.xp6(2),l.Q6J("ngForOf",t.alerts),l.xp6(1),l.Q6J("ngIf",0==t.alerts.length))},directives:[s.O5,C.w9,q.JJ,q.On,C.bb,C.Z2,s.sg],pipes:[s.uU],styles:['@charset "UTF-8";.alerts[_ngcontent-%COMP%]{padding:0 10px;width:100%}.alerts[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.detail-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;padding:0}.detail-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #EBEAEF;line-height:24px;padding:0 10px}.detail-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 10px}.detail-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0 10px}.detail-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;margin-bottom:0}.detail-list[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600}.skip-device[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.protect-iq-accordion[_ngcontent-%COMP%]{width:100%}.protect-iq-accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none}.protect-iq-accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#fff;box-shadow:none;border:none}.accordion[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:after{font-family:"FontAwesome";content:"\\f068";float:right}.accordion[_ngcontent-%COMP%]   .card-header.collapsed[_ngcontent-%COMP%]:after{content:"\\f067"}.card-header[_ngcontent-%COMP%]   .ccl-accordion-icon[_ngcontent-%COMP%]:after{content:"\\f078";font-family:FontAwesome;font-style:normal;font-weight:normal;text-decoration:inherit;color:#9e9e9e;font-size:18px;padding-right:.5em;position:absolute;top:10px;left:50px}.card-header.collapsed[_ngcontent-%COMP%]   .ccl-accordion-icon[_ngcontent-%COMP%]:after{transform:scaleY(-1)}.alert-ul[_ngcontent-%COMP%]{font-size:14px;padding:10px}.alert-ul[_ngcontent-%COMP%]   .alert-details[_ngcontent-%COMP%]{width:50%;word-break:break-all}.alerts-info[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.plus-minus-toggle[_ngcontent-%COMP%]{border:2px solid #000;width:18px;height:18px;display:flex;align-items:center;justify-content:center;border-radius:2px;font-size:20px;font-weight:600}.alert-btn.opacityCheck[_ngcontent-%COMP%]{opacity:1!important}.alerts-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 0;font-size:14px}.alerts-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 0;width:70%;word-break:break-all;font-size:14px}.alerts-table[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]{box-sizing:border-box!important;font-weight:normal!important;font-size:14px!important}.no-data-available[_ngcontent-%COMP%]{padding:15px;text-align:center}.wrn-msg[_ngcontent-%COMP%]{width:85%}']}),t}(),H=i(function t(){e(this,t),this.display=!0,this.state="inactive"});function W(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"li",3),l.TgZ(1,"a",4),l.NdJ("click",function(){l.CHM(i);var e=l.oxw().$implicit;return l.oxw().tabSelectedEvent(e.value)}),l._uU(2),l.qZA(),l.qZA()}if(2&e){var n=l.oxw().$implicit,a=l.oxw();l.xp6(1),l.Tol("nav-link small "+n.state),l.Q6J("id",n.value),l.xp6(1),l.hij(" ",a.language[n.label]," ")}}function V(e,t){if(1&e&&(l.ynx(0),l.YNc(1,W,3,4,"li",2),l.BQk()),2&e){var i=t.$implicit;l.xp6(1),l.Q6J("ngIf",i.display)}}var z=function(){var t=function(){function t(i){e(this,t),this.translateService=i,this.menus=[],this.activeTab=new l.vpe}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.language=this.translateService.defualtLanguage,this.languageSubscription=this.translateService.selectedLanguage.subscribe(function(t){e.language=t,e.initMenus()}),this.initMenus()}},{key:"ngOnDestroy",value:function(){this.languageSubscription&&this.languageSubscription.unsubscribe()}},{key:"initMenus",value:function(){this.menus=this.menus.map(function(e){var t,i=new H;return i.label=e.label,i.value=e.value,e.hasOwnProperty("display")&&(i.display=null!==(t=e.display)&&void 0!==t&&t),e.state&&(i.state=e.state),i})}},{key:"tabSelectedEvent",value:function(e){this.activeTab.emit(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Y36(u.s))},t.\u0275cmp=l.Xpm({type:t,selectors:[["top-nav-bar"]],inputs:{menus:"menus"},outputs:{activeTab:"activeTab"},decls:2,vars:1,consts:[["id","tabs",1,"nav","nav-tabs","top-nav-border"],[4,"ngFor","ngForOf"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["data-toggle","tab",1,"nav-link",3,"id","click"]],template:function(e,t){1&e&&(l.TgZ(0,"ul",0),l.YNc(1,V,2,1,"ng-container",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngForOf",t.menus))},directives:[s.sg,s.O5],styles:["#tabs[_ngcontent-%COMP%]{margin-bottom:24px!important}.top-nav-border[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc!important;width:-moz-fit-content;width:fit-content}.nav-tabs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-bottom:5px;font-size:14px;font-weight:300;line-height:21px}.nav-tabs[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]{margin-bottom:1px;border-bottom:2px solid transparent}.nav-tabs[_ngcontent-%COMP%]   a.nav-link.active[_ngcontent-%COMP%]{font-size:14px!important;font-weight:600!important;border-bottom:2px solid #0279ff!important}.nav-tabs[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]:hover{margin-bottom:1px!important;border-bottom:2px solid #0279ff!important}"]}),t}(),B=a(60943);function R(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"top-nav-bar",16),l.NdJ("activeTab",function(e){return l.CHM(i),l.oxw().selectedTab(e)}),l.qZA()}if(2&e){var n=l.oxw();l.Q6J("menus",n.menus)}}function G(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",17),l.TgZ(1,"div",18),l._UZ(2,"img",19),l.qZA(),l.TgZ(3,"div",20),l._uU(4),l.qZA(),l.TgZ(5,"button",21),l.NdJ("click",function(){return l.CHM(i),l.oxw().warningMessage=""}),l._uU(6),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(4),l.Oqu(n.language[n.warningMessage]||n.warningMessage),l.xp6(2),l.Oqu(n.language.OK)}}function X(e,t){if(1&e&&(l.TgZ(0,"div",22),l.TgZ(1,"div",23),l.TgZ(2,"div",24),l.TgZ(3,"span",25),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var i=l.oxw();l.xp6(4),l.Oqu(i.language.Loading)}}function K(e,t){if(1&e&&l._uU(0),2&e){var i=t.item,n=l.oxw();l.hij(" ",n.language[i.viewValue]||i.viewValue," ")}}function ee(e,t){if(1&e&&l._uU(0),2&e){var i=t.item,n=l.oxw();l.hij(" ",n.language[i.viewValue]," ")}}function te(e,t){if(1&e&&(l.TgZ(0,"span",39),l._uU(1," + "),l.qZA()),2&e){var i=l.oxw().index;l.uIk("id","symbolPlus"+i)}}function ie(e,t){if(1&e&&(l.TgZ(0,"span",40),l._uU(1,"-"),l.qZA()),2&e){var i=l.oxw().index;l.uIk("id","symbolMinus"+i)}}function ne(e,t){if(1&e&&(l.TgZ(0,"div",41),l.TgZ(1,"table",42),l.TgZ(2,"tbody"),l.TgZ(3,"tr"),l.TgZ(4,"th",43),l.TgZ(5,"table",44),l.TgZ(6,"tbody"),l.TgZ(7,"tr"),l.TgZ(8,"th",45),l._uU(9),l.qZA(),l.TgZ(10,"td",10),l._uU(11),l.ALo(12,"date"),l.qZA(),l.qZA(),l.TgZ(13,"tr"),l.TgZ(14,"th",45),l._uU(15),l.qZA(),l.TgZ(16,"td",10),l._uU(17),l.ALo(18,"alertType"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var i=l.oxw(),n=i.index,a=i.$implicit,s=l.oxw();l.uIk("id","collapseOne_"+n),l.xp6(9),l.hij(" ",s.language.Time," : "),l.xp6(2),l.hij(" ",l.xi3(12,5,a.created,"MMM dd yyyy, hh:mm:sa")," "),l.xp6(4),l.hij(" ",s.language.Type," : "),l.xp6(2),l.hij(" ",l.lcZ(18,8,a.type)," ")}}function ae(e,t){if(1&e&&(l._uU(0),l.ALo(1,"alertType")),2&e){var i=l.oxw().$implicit,n=l.oxw();l.AsE(" ",n.language["No Data is available for "]," ",l.lcZ(1,2,i.type)," type ")}}function se(e,t){if(1&e){var i=l.EpF();l.ynx(0),l.TgZ(1,"tr",26),l.TgZ(2,"td",27),l.TgZ(3,"ul",28),l.NdJ("click",function(){var e=l.CHM(i).index,t=l.oxw();return t.isExpanded[e]=!t.isExpanded[e]}),l.TgZ(4,"li",29),l.TgZ(5,"div",30),l.TgZ(6,"span",31),l.YNc(7,te,2,1,"span",32),l.YNc(8,ie,2,1,"ng-template",null,33,l.W1O),l.qZA(),l.TgZ(10,"div",34),l._uU(11),l.qZA(),l.qZA(),l.qZA(),l.TgZ(12,"li",35),l.TgZ(13,"button",36),l.NdJ("click",function(){var e=l.CHM(i).$implicit;return l.oxw().deleteWhiteListItem(e.signatureId)}),l._uU(14),l.qZA(),l.qZA(),l.qZA(),l.YNc(15,ne,19,10,"div",37),l.qZA(),l.qZA(),l.YNc(16,ae,2,4,"ng-template",null,38,l.W1O),l.BQk()}if(2&e){var n=t.$implicit,a=t.index,s=l.MAs(9),o=l.oxw();l.xp6(1),l.uIk("id","accordion_"+a),l.xp6(6),l.Q6J("ngIf",!o.isExpanded[a])("ngIfElse",s),l.xp6(4),l.hij(" ",n.msg," "),l.xp6(2),l.Q6J("id","whitelabelbtn"+a),l.xp6(1),l.hij(" ",o.language.delete," "),l.xp6(1),l.Q6J("ngIf",o.isExpanded[a])}}function oe(e,t){if(1&e&&(l.TgZ(0,"tr"),l.TgZ(1,"td",46),l._uU(2),l.qZA(),l.qZA()),2&e){var i=l.oxw();l.xp6(2),l.hij(" ",i.language["No data available"]," ")}}var re=function(){var t=function(){function t(i,n,a){e(this,t),this.translateService=i,this.protectIqservices=n,this.ssoService=a,this.menus=[{label:"Primary Network",value:"primary-network",state:"active"},{label:"Staff Network",value:"staff-network"},{label:"Point of Sale",value:"point-of-sale"},{label:"Customer Portal",value:"customer-portal"}],this.alerts=[{value:"All",viewValue:"All"},{value:"IPS",viewValue:"Intrusion"},{value:"AV",viewValue:"Virus"},{value:"WG",viewValue:"Web Threat"}],this.loading=!0,this.isLatestVersion=!1,this.userId="",this.roleId=2,this.activeTab="primary-network",this.selectedType="All",this.isExpanded=[],this.isExpandedSkipDevice=[]}return i(t,[{key:"ngOnInit",value:function(){var e,t,i=this;this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(function(e){i.language=e}),this.userId=null===(e=history.state)||void 0===e?void 0:e.userId,this.isLatestVersion=null===(t=history.state)||void 0===t?void 0:t.isLatestVersion,this.showTrustList()}},{key:"showTrustList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isExpanded=[],this.loading=!0,this.trustListDetails={whitelist:[]},t&&(this.selectedType="All"),this.protectIqservices.getTrustList(this.selectedType,this.userId,this.activeTab,this.roleId).subscribe(function(t){e.loading=!1,e.trustListDetails=null==t?void 0:t.body,e.trustListDetails.whitelist.forEach(function(){e.isExpanded.push(!1)})},function(t){e.loading=!1,404!=(null==t?void 0:t.status)&&(e.warningMessage=e.protectIqservices.errorHandler(t))})}},{key:"deleteWhiteListItem",value:function(e){var t=this;this.loading=!0,this.protectIqservices.removeItemInTrustList(e,this.userId,this.ssoService.isSmbEnabled()?this.activeTab:"",this.ssoService.isSmbEnabled()?this.roleId:"").subscribe(function(){t.showTrustList()},function(e){t.loading=!1,t.warningMessage=t.protectIqservices.errorHandler(e)})}},{key:"selectedTab",value:function(e){this.activeTab=e,this.selectedType="All","primary-network"==this.activeTab&&(this.roleId=1),"staff-network"==this.activeTab&&(this.roleId=2),"customer-portal"==this.activeTab&&(this.roleId=3),"point-of-sale"==this.activeTab&&(this.roleId=4),this.showTrustList()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Y36(u.s),l.Y36(p.a),l.Y36(d.t6))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-protect-iq-trusted-list"]],decls:22,vars:10,consts:[[3,"menus","activeTab",4,"ngIf"],["class","w-100 alert alert alert-danger fade show d-flex justify-content-between align-items-center",4,"ngIf"],["class","loader",4,"ngIf"],["id","trusted_List","role","tab","aria-labelledby","alert",1,"col-12","px-0"],[1,"trusted_list_table","px-0"],[1,"ml-auto","w-20"],["name","alert","bindLabel","viewValue","bindValue","value",1,"my-2",3,"ngModel","items","searchable","ngModelChange","change"],["ng-label-tmp",""],["ng-option-tmp",""],["id","protect-iq-trusted-list",1,"detail-list","skip-device"],[1,""],["id","trusted-head-name",1,"f-size-16","f-w-600","px-2"],[1,"w-40"],["id","trustedList",1,"f-size-16","f-w-600","px-2"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"menus","activeTab"],[1,"w-100","alert","alert","alert-danger","fade","show","d-flex","justify-content-between","align-items-center"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],[1,"d-inline-flex","wrn-msg"],["type","button",1,"btn-default","primary","ok",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["id","accordionTable",1,"accordion-toggle","collapsed"],["colspan","3"],[1,"px-0","dropdown-toggle","alert-ul","justify-content-between",3,"click"],[1,"occurr-date"],[1,"Protect-iq-info"],[1,"plus-minus-toggle","mr-2"],["class","plus",4,"ngIf","ngIfElse"],["expanded",""],[1,"trusted-title-info"],[1,"alert-btn","opacityCheck"],[1,"btn","btn-delete",3,"id","click"],["class","in p-3 w-40 ml-auto",4,"ngIf"],["showInfoMsg",""],[1,"plus"],[1,"minus"],[1,"in","p-3","w-40","ml-auto"],[1,"table","table-borderless"],[1,"w-60","p-0"],[1,"detail-list","protectiq-trusted-list-table"],["scope","row",1,""],["colspan","5",1,"no-data-available"]],template:function(e,t){1&e&&(l.YNc(0,R,1,1,"top-nav-bar",0),l.YNc(1,G,7,2,"div",1),l.TgZ(2,"section"),l.YNc(3,X,5,1,"div",2),l.qZA(),l.TgZ(4,"div",3),l.TgZ(5,"div",4),l.TgZ(6,"div",5),l.TgZ(7,"ng-select",6),l.NdJ("ngModelChange",function(e){return t.selectedType=e})("change",function(){return t.warningMessage="",t.showTrustList()}),l.YNc(8,K,1,1,"ng-template",7),l.YNc(9,ee,1,1,"ng-template",8),l.qZA(),l.qZA(),l.TgZ(10,"table",9),l.TgZ(11,"thead"),l.TgZ(12,"tr"),l.TgZ(13,"th",10),l.TgZ(14,"div",11),l._uU(15),l.qZA(),l.qZA(),l.TgZ(16,"th",12),l.TgZ(17,"div",13),l._uU(18),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"tbody"),l.YNc(20,se,18,7,"ng-container",14),l.YNc(21,oe,3,1,"tr",15),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("ngIf",t.isLatestVersion),l.xp6(1),l.Q6J("ngIf",t.warningMessage),l.xp6(2),l.Q6J("ngIf",t.loading),l.xp6(4),l.Q6J("ngModel",t.selectedType)("items",t.alerts)("searchable",!1),l.xp6(8),l.hij("",t.language.Name," "),l.xp6(3),l.hij("",t.language.Trusted_List," "),l.xp6(2),l.Q6J("ngForOf",t.trustListDetails.whitelist),l.xp6(1),l.Q6J("ngIf",0==t.trustListDetails.whitelist))},directives:[s.O5,C.w9,q.JJ,q.On,C.bb,C.Z2,s.sg,z],pipes:[s.uU,B.P],styles:[".trusted_list_table[_ngcontent-%COMP%]{padding:0 10px;width:100%}.trusted_list_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.detail-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .detail-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;padding:0}.detail-list[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600}.detail-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #EBEAEF;line-height:24px;padding:0 10px}.detail-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 10px}.detail-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0 10px}.list-ul[_ngcontent-%COMP%]{font-size:16px;padding:10px}.list-ul[_ngcontent-%COMP%]   .alert-details[_ngcontent-%COMP%]{width:50%;word-break:break-all}.Protect-iq-info[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.plus-minus-toggle[_ngcontent-%COMP%]{border:2px solid #000;width:18px;height:18px;display:flex;align-items:center;justify-content:center;border-radius:2px;font-size:20px;font-weight:600}.list-btn.opacityCheck[_ngcontent-%COMP%]{opacity:1!important}.protectiq-trusted-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 0;font-size:14px}.protectiq-trusted-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 0;font-size:14px}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.btn-delete[_ngcontent-%COMP%]{color:#000}.btn-delete[_ngcontent-%COMP%]:hover, .btn-delete[_ngcontent-%COMP%]:focus, .btn-delete[_ngcontent-%COMP%]:active{background:#0279ff;color:#fff;box-shadow:none!important;background-color:1px solid transparent}.no-data-available[_ngcontent-%COMP%]{padding:15px;text-align:center}.alert-ul[_ngcontent-%COMP%]:hover   li.alert-btn[_ngcontent-%COMP%]{visibility:visible;opacity:1}.trusted-title-info[_ngcontent-%COMP%]{word-break:break-all;white-space:break-spaces;min-width:600px}.wrn-msg[_ngcontent-%COMP%]{width:85%}"]}),t}(),le=a(86911),ce=a(35132);function de(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"top-nav-bar",13),l.NdJ("activeTab",function(e){return l.CHM(i),l.oxw().selectedTab(e)}),l.qZA()}if(2&e){var n=l.oxw();l.Q6J("menus",n.menus)}}function ue(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",14),l.TgZ(1,"div",15),l._UZ(2,"img",16),l.qZA(),l._UZ(3,"div",17),l.TgZ(4,"button",18),l.NdJ("click",function(){return l.CHM(i),l.oxw().errorMessage=""}),l._uU(5),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(3),l.Q6J("innerHtml",n.errorMessage,l.oJD),l.xp6(2),l.hij(" ",n.language.OK," ")}}function ge(e,t){if(1&e&&(l.TgZ(0,"div",19),l.TgZ(1,"div",20),l.TgZ(2,"div",21),l.TgZ(3,"span",22),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var i=l.oxw();l.xp6(4),l.Oqu(i.language.Loading)}}function pe(e,t){1&e&&(l.TgZ(0,"span"),l._uU(1,"+"),l.qZA())}function ve(e,t){if(1&e&&(l.TgZ(0,"span"),l._uU(1,"-"),l.qZA()),2&e){var i=l.oxw().index;l.uIk("id","symbolMinus"+i)}}function be(e,t){if(1&e&&(l.TgZ(0,"td",49),l._uU(1),l.qZA()),2&e){var i=l.oxw(4);l.xp6(1),l.hij(" ",i.language.Scanning," ")}}function he(e,t){if(1&e&&(l.TgZ(0,"td",50),l._uU(1),l.qZA()),2&e){var i=l.oxw(4);l.xp6(1),l.hij(" ",i.language.Skipping," ")}}function fe(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",51),l.TgZ(1,"button",52),l.NdJ("click",function(){l.CHM(i);var e=l.oxw().$implicit;return l.oxw(3).toggleSkipStatus(e.deviceId,e.skip)}),l._uU(2),l.qZA(),l.qZA()}if(2&e){var n=l.oxw(4);l.xp6(1),l.Q6J("disabled",!n.scopeFlag.configWrite)("ngClass",n.scopeFlag.configWrite?"":"toggleDisabled"),l.xp6(1),l.hij(" ",n.language.Skipping," ")}}function me(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"td",46),l.TgZ(1,"div",51),l.TgZ(2,"button",53),l.NdJ("click",function(){l.CHM(i);var e=l.oxw().$implicit;return l.oxw(3).toggleSkipStatus(e.deviceId,e.skip)}),l._uU(3),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=l.oxw(4);l.xp6(2),l.Q6J("disabled",!n.scopeFlag.configWrite)("ngClass",n.scopeFlag.configWrite?"":"toggleDisabled"),l.xp6(1),l.hij(" ",n.language.Scanning," ")}}function Ze(e,t){if(1&e&&(l.TgZ(0,"tbody"),l.TgZ(1,"tr"),l.TgZ(2,"th",39),l.TgZ(3,"div",40),l.TgZ(4,"h6",41),l._UZ(5,"img",42),l.ALo(6,"catogryImg"),l.TgZ(7,"span",43),l._uU(8),l.qZA(),l.qZA(),l.TgZ(9,"p"),l._uU(10),l.qZA(),l.qZA(),l.qZA(),l.YNc(11,be,2,1,"td",44),l.YNc(12,he,2,1,"ng-template",null,45,l.W1O),l.TgZ(14,"td",46),l.YNc(15,fe,3,3,"div",47),l.qZA(),l.YNc(16,me,4,3,"ng-template",null,48,l.W1O),l.qZA(),l.qZA()),2&e){var i=t.$implicit,n=l.MAs(13),a=l.MAs(17),s=l.oxw(2).$implicit;l.xp6(5),l.Q6J("src",l.lcZ(6,7,s.key),l.LSH),l.xp6(3),l.Oqu(i.name),l.xp6(2),l.Oqu(i.mac),l.xp6(1),l.Q6J("ngIf",!i.skip)("ngIfElse",n),l.xp6(4),l.Q6J("ngIf",!i.skip)("ngIfElse",a)}}function Se(e,t){if(1&e&&(l.TgZ(0,"div",37),l.TgZ(1,"table",38),l.YNc(2,Ze,18,9,"tbody",12),l.qZA(),l.qZA()),2&e){var i=l.oxw(),n=i.$implicit;l.Q6J("id","collapse"+i.index),l.xp6(2),l.Q6J("ngForOf",n.value)}}function xe(e,t){if(1&e){var i=l.EpF();l.ynx(0),l.TgZ(1,"tbody"),l.TgZ(2,"tr",23),l.TgZ(3,"td",24),l.TgZ(4,"div",25),l.TgZ(5,"div",26),l.TgZ(6,"div",27),l.TgZ(7,"div",28),l.NdJ("click",function(){var e=l.CHM(i).index,t=l.oxw();return t.isExpandedSkipDevice[e]=!t.isExpandedSkipDevice[e]}),l.TgZ(8,"div",29),l.TgZ(9,"div",30),l.TgZ(10,"span",31),l.YNc(11,pe,2,0,"span",32),l.YNc(12,ve,2,1,"ng-template",null,33,l.W1O),l.qZA(),l.TgZ(14,"span",34),l._UZ(15,"img",35),l.ALo(16,"catogryImg"),l.qZA(),l._uU(17),l.ALo(18,"catogry"),l.qZA(),l.qZA(),l.qZA(),l.YNc(19,Se,3,2,"div",36),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.BQk()}if(2&e){var n=t.$implicit,a=t.index,s=l.MAs(13),o=l.oxw();l.xp6(2),l.uIk("id","accordion_"+a),l.xp6(9),l.Q6J("ngIf",!o.isExpandedSkipDevice[a])("ngIfElse",s),l.xp6(4),l.Q6J("src",l.lcZ(16,6,n.key),l.LSH),l.xp6(2),l.hij(" ",l.lcZ(18,8,n.key)," "),l.xp6(2),l.Q6J("ngIf",o.isExpandedSkipDevice[a])}}function Ae(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"top-nav-bar",11),l.NdJ("activeTab",function(e){return l.CHM(i),l.oxw().selectedTab(e)}),l.qZA()}if(2&e){var n=l.oxw();l.Q6J("menus",n.menus)}}function qe(e,t){if(1&e){var i=l.EpF();l.TgZ(0,"div",12),l.TgZ(1,"div",13),l._UZ(2,"img",14),l.qZA(),l._UZ(3,"div",15),l.TgZ(4,"button",16),l.NdJ("click",function(){return l.CHM(i),l.oxw().errorMessage=""}),l._uU(5),l.qZA(),l.qZA()}if(2&e){var n=l.oxw();l.xp6(3),l.Q6J("innerHtml",n.errorMessage,l.oJD),l.xp6(2),l.hij(" ",n.language.OK," ")}}function ye(e,t){if(1&e&&(l.TgZ(0,"div",17),l.TgZ(1,"div",18),l.TgZ(2,"div",19),l.TgZ(3,"span",20),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var i=l.oxw();l.xp6(4),l.Oqu(i.language.Loading)}}var Ie=[{path:"",component:S,children:[{path:"",redirectTo:"details"},{path:"details",component:O},{path:"alerts",component:Y},{path:"trusted-list",component:re},{path:"skipped-devices",component:function(){var t=function(){function t(i,n){e(this,t),this.translateService=i,this.protectIqService=n,this.loading=!0,this.isLatestVersion=!1,this.menus=[{label:"Primary Network",value:"primary-network",state:"active"}],this.scopeFlag={configWrite:!0},this.errorMessage="",this.skipDevicesDetails=[],this.isExpandedSkipDevice=[]}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.language=this.translateService.defualtLanguage,this.languageSubscription=this.translateService.selectedLanguage.subscribe(function(t){e.language=t}),this.scopeFlag.configWrite=history.state.configWrite,this.userId=history.state.userId,this.isLatestVersion=history.state.isLatestVersion,this.loadData()}},{key:"loadData",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loading=!0,t&&(this.isExpandedSkipDevice=[]),this.protectIqService.getSkipList(this.userId).subscribe(function(t){e.loading=!1,e.skipDevicesDetails=t,Object.keys(e.skipDevicesDetails).forEach(function(){e.isExpandedSkipDevice.push(!1)})},function(t){e.loading=!1,e.errorMessage=e.protectIqService.errorHandler(t)})}},{key:"toggleSkipStatus",value:function(e,t){var i=this;this.loading=!0,this.protectIqService.updateSkipStatus({userId:this.userId,deviceId:e,skip:!t}).subscribe(function(){i.loadData(!1)},function(e){i.loading=!1,i.errorMessage=i.protectIqService.errorHandler(e)})}},{key:"toggleDevicesSkipStatus",value:function(e){var t=this;this.loading=!0,this.protectIqService.setAllSkipStatus({userId:this.userId,skip:e}).subscribe(function(){t.loadData(!1)},function(e){t.loading=!1,t.errorMessage=t.protectIqService.errorHandler(e)})}},{key:"selectedTab",value:function(e){this.loadData()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Y36(u.s),l.Y36(p.a))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-protect-iq-skipped-devices"]],decls:21,vars:14,consts:[[3,"menus","activeTab",4,"ngIf"],["id","skipped-devices",1,"col-12","px-0"],["class","w-100 alert alert alert-danger fade show d-flex justify-content-between align-items-center",4,"ngIf"],["class","loader",4,"ngIf"],[1,"skipped-devices"],["type","button","id","skip-all",1,"btn","btn-primary","py-1","mr-3",3,"disabled","ngClass","click"],["type","button","id","scan-all",1,"btn","btn-primary","py-1",3,"disabled","ngClass","click"],[1,"detail-list","skip-device","mt-4"],[1,"w-40"],[1,"f-size-16","f-w-600","px-2"],[1,"w-50"],[1,"w-10"],[4,"ngFor","ngForOf"],[3,"menus","activeTab"],[1,"w-100","alert","alert","alert-danger","fade","show","d-flex","justify-content-between","align-items-center"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],[1,"d-inline-flex","wrn-msg",3,"innerHtml"],["type","button",1,"btn-default","primary","ok",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],["id","accordionTable",1,"accordion-toggle","collapsed"],["colspan","3"],[1,"protect-iq-accordion"],["id","accordion"],[1,""],[1,"dropdown-toggle","align-middle",3,"click"],[1,"mb-0"],[1,"device-info"],[1,"plus-minus-toggle"],[4,"ngIf","ngIfElse"],["expanded",""],[1,"lap-icon"],["alt","",3,"src"],["aria-labelledby","headingThree","data-parent","#accordion",3,"id",4,"ngIf"],["aria-labelledby","headingThree","data-parent","#accordion",3,"id"],[1,"table","device-detail","table-borderless","skipped-devices-table"],["scope","row",1,"w-40"],[1,"about-device"],[1,"d-flex","align-items-center"],["alt","",2,"width","25px","height","25px",3,"src"],[1,"text-break","ml-1"],["class","w-50 align-middle pl-2",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"w-10","align-middle","pr-1"],["class","skip-sec",4,"ngIf","ngIfElse"],["checkSkipping",""],[1,"w-50","align-middle","pl-2"],[1,"w-50","align-middle"],[1,"skip-sec"],["type","button",1,"btn-default","primary",3,"disabled","ngClass","click"],["type","button",1,"btn-default","primary","skip-btn",3,"disabled","ngClass","click"]],template:function(e,t){1&e&&(l.YNc(0,de,1,1,"top-nav-bar",0),l.TgZ(1,"div",1),l.YNc(2,ue,6,2,"div",2),l.YNc(3,ge,5,1,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"div"),l.TgZ(6,"button",5),l.NdJ("click",function(){return t.toggleDevicesSkipStatus(!0)}),l._uU(7),l.qZA(),l.TgZ(8,"button",6),l.NdJ("click",function(){return t.toggleDevicesSkipStatus(!1)}),l._uU(9),l.qZA(),l.qZA(),l.TgZ(10,"table",7),l.TgZ(11,"thead"),l.TgZ(12,"th",8),l.TgZ(13,"div",9),l._uU(14),l.qZA(),l.qZA(),l.TgZ(15,"th",10),l.TgZ(16,"div",9),l._uU(17),l.qZA(),l.qZA(),l._UZ(18,"th",11),l.qZA(),l.YNc(19,xe,20,10,"ng-container",12),l.ALo(20,"keyvalue"),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("ngIf",t.isLatestVersion),l.xp6(2),l.Q6J("ngIf",t.errorMessage),l.xp6(1),l.Q6J("ngIf",t.loading),l.xp6(3),l.Q6J("disabled",!t.scopeFlag.configWrite)("ngClass",t.scopeFlag.configWrite?"":"toggleDisabled"),l.xp6(1),l.hij(" ",t.language.Skip_All," "),l.xp6(1),l.Q6J("disabled",!t.scopeFlag.configWrite)("ngClass",t.scopeFlag.configWrite?"":"toggleDisabled"),l.xp6(1),l.hij(" ",t.language.Scan_All," "),l.xp6(5),l.Oqu(t.language.device),l.xp6(3),l.Oqu(t.language.Status),l.xp6(2),l.Q6J("ngForOf",l.lcZ(20,12,t.skipDevicesDetails)))},directives:[s.O5,s.mk,s.sg,z],pipes:[s.Nd,le.g,ce.q],styles:['@charset "UTF-8";.skipped-devices[_ngcontent-%COMP%]{padding:0 10px;width:100%}.skipped-devices[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.detail-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;padding:0}.detail-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #EBEAEF;line-height:24px;padding:0 10px}.detail-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 10px}.detail-list-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0 10px}.detail-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;margin-bottom:0}.detail-list[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600}.skip-device[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.protect-iq-accordion[_ngcontent-%COMP%]{width:100%}.protect-iq-accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none}.protect-iq-accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#fff;box-shadow:none;border:none}.accordion[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:after{font-family:"FontAwesome";content:"\\f068";float:right}.accordion[_ngcontent-%COMP%]   .card-header.collapsed[_ngcontent-%COMP%]:after{content:"\\f067"}.device-info[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.plus-minus-toggle[_ngcontent-%COMP%]{border:2px solid #000;width:18px;height:18px;display:flex;align-items:center;justify-content:center;border-radius:2px;font-size:20px;font-weight:600}.lap-icon[_ngcontent-%COMP%]{margin:0 10px;width:3%}.skipped-devices-table[_ngcontent-%COMP%]{margin:10px 0}.skipped-devices-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{padding:10px 0}.skipped-devices-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 0;vertical-align:unset!important}.skipped-devices-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 0}.device-detail[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f2f2f2}.device-detail[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .skip-sec[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:all .3s}.device-detail[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .skip-sec[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:all .3s}.device-detail.table-borderless[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .device-detail.table-borderless[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px 0}.device-detail.table-borderless[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:70px}.table-borderless[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding-top:15px}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.wrn-msg[_ngcontent-%COMP%]{width:85%}']}),t}()},{path:"security-settings",component:function(){var t=function(){function t(i,n){e(this,t),this.translateService=i,this.protectIqService=n,this.menus=[{label:"Primary Network",value:"primary-network",state:"active"},{label:"Staff Network",value:"staff-network"},{label:"Point of Sale",value:"point-of-sale"},{label:"Customer Portal",value:"customer-portal"}],this.loading=!0,this.isLatestVersion=!1,this.errorMessage="",this.userId="",this.roleId=0,this.securitySettings={protocolAnomaly:!1,portScanDefence:!1}}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.language=this.translateService.defualtLanguage,this.languageSubscription=this.translateService.selectedLanguage.subscribe(function(t){e.language=t}),this.userId=history.state.userId,this.isLatestVersion=history.state.isLatestVersion,this.loadData()}},{key:"loadData",value:function(){var e=this;this.loading=!0;var t=this.protectIqService.getSecurityList(this.userId);this.roleId&&(t=this.protectIqService.getSecurityListByRole(this.userId,this.roleId)),t.subscribe(function(t){var i,n,a,s,o=t.securitySettings;o.count&&(e.securitySettings={protocolAnomaly:null!==(n=null===(i=o.data.find(function(e){return"PA"==e.name}))||void 0===i?void 0:i.enabled)&&void 0!==n&&n,portScanDefence:null!==(s=null===(a=o.data.find(function(e){return"PSD"==e.name}))||void 0===a?void 0:a.enabled)&&void 0!==s&&s}),e.loading=!1},function(t){e.loading=!1,e.errorMessage=e.protectIqService.errorHandler(t)})}},{key:"onSettingChange",value:function(e){var t=this;this.loading=!0;var i={userId:this.userId,roleId:this.roleId,securitySettings:[{type:"PA"==e?1:2,enabled:"PA"==e?this.securitySettings.protocolAnomaly:this.securitySettings.portScanDefence}]},n=this.protectIqService.setSecuritySettings(i);this.roleId&&(i.roleId=this.roleId,n=this.protectIqService.setSecuritySettingsByRole(i)),n.subscribe(function(){t.loadData()},function(e){t.loading=!1,t.errorMessage=t.protectIqService.errorHandler(e)})}},{key:"selectedTab",value:function(e){this.roleId=0,"staff-network"==e&&(this.roleId=2),"customer-portal"==e&&(this.roleId=3),"point-of-sale"==e&&(this.roleId=4),this.loadData()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Y36(u.s),l.Y36(p.a))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-protect-iq-security-settings"]],decls:22,vars:7,consts:[[3,"menus","activeTab",4,"ngIf"],[1,"security-settings","mt-4"],["class","w-100 alert alert alert-danger fade show d-flex justify-content-between align-items-center",4,"ngIf"],["class","loader",4,"ngIf"],[1,"row","col-5"],[1,"col-12","toggles-switch"],[1,"toggle-swtbtn","checkbox","switcher","d-flex","justify-content-between"],[1,"cco-list-label"],["type","checkbox","name","protocolAnomaly","id","protocol-anomaly",3,"ngModel","ngModelChange","change"],[1,"mr-1"],["type","checkbox","name","portScanDefence","id","port-scan-defence",3,"ngModel","ngModelChange","change"],[3,"menus","activeTab"],[1,"w-100","alert","alert","alert-danger","fade","show","d-flex","justify-content-between","align-items-center"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],[1,"d-inline-flex","wrn-msg",3,"innerHtml"],["type","button",1,"btn-default","primary","ok",3,"click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,t){1&e&&(l.YNc(0,Ae,1,1,"top-nav-bar",0),l.TgZ(1,"div",1),l.YNc(2,qe,6,2,"div",2),l.YNc(3,ye,5,1,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"div",6),l.TgZ(7,"span",7),l._uU(8),l.qZA(),l.TgZ(9,"label"),l.TgZ(10,"input",8),l.NdJ("ngModelChange",function(e){return t.securitySettings.protocolAnomaly=e})("change",function(){return t.onSettingChange("PA")}),l.qZA(),l.TgZ(11,"span",9),l._UZ(12,"small"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(13,"div",4),l.TgZ(14,"div",5),l.TgZ(15,"div",6),l.TgZ(16,"span",7),l._uU(17),l.qZA(),l.TgZ(18,"label"),l.TgZ(19,"input",10),l.NdJ("ngModelChange",function(e){return t.securitySettings.portScanDefence=e})("change",function(){return t.onSettingChange("PSD")}),l.qZA(),l.TgZ(20,"span",9),l._UZ(21,"small"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("ngIf",t.isLatestVersion),l.xp6(2),l.Q6J("ngIf",t.errorMessage),l.xp6(1),l.Q6J("ngIf",t.loading),l.xp6(5),l.Oqu(t.language["IPS Protocol Anomaly"]),l.xp6(2),l.Q6J("ngModel",t.securitySettings.protocolAnomaly),l.xp6(7),l.Oqu(t.language["IPS Port Scan Defense"]),l.xp6(2),l.Q6J("ngModel",t.securitySettings.portScanDefence))},directives:[s.O5,q.Wl,q.JJ,q.On,z],styles:[".wrn-msg[_ngcontent-%COMP%]{width:85%}"]}),t}()},{path:"",redirectTo:"details",pathMatch:"full"}]}],_e=function(){var t=i(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[o.Bz.forChild(Ie)],o.Bz]}),t}(),Te=a(32610),we=a(65681),Me=function(){var t=i(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[s.ez,_e,Te.SupportApplicationModule,we.m,C.A0]]}),t}()}}])}();