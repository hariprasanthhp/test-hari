"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[1797],{81797:function(e,t,n){n.d(t,{f:function(){return X}});var i=n(37716),o=n(7450),r=n(96045),l=n(48483),a=n(38048),c=n(39895),s=n(49342),d=n(38583),u=n(3679),g=n(86640),h=n(82945),w=n(18638),p=n(74375),m=n(20692),f=n(26329),y=n(16752),x=n(77351),Z=n(15239);const k=["endTime"];function q(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",17),i.TgZ(1,"span",18),i._UZ(2,"img",19),i.qZA(),i._UZ(3,"div",20),i.TgZ(4,"button",21),i.NdJ("click",function(){return i.CHM(e),i.oxw().closeAlert()}),i._uU(5),i.qZA(),i.qZA()}if(2&e){const e=i.oxw();i.xp6(3),i.Q6J("innerHtml",e.errorInfo,i.oJD),i.xp6(2),i.hij(" ",e.language.Ok," ")}}function _(e,t){if(1&e&&i._uU(0),2&e){const e=t.item,n=i.oxw();i.hij(" ",n.language[e.name]," ")}}function T(e,t){if(1&e&&i._uU(0),2&e){const e=t.item,n=i.oxw();i.hij(" ",n.language[e.name]," ")}}function M(e,t){if(1&e&&(i.TgZ(0,"h4",22),i._uU(1),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.hij(" ",e.language.Triggered_CPE_discovered," ")}}function b(e,t){if(1&e&&(i.TgZ(0,"div",63),i._uU(1),i.qZA()),2&e){const e=i.oxw(2);i.xp6(1),i.hij(" ",e.language.Enter_A_Value," ")}}function v(e,t){if(1&e&&(i.TgZ(0,"div",63),i._uU(1),i.qZA()),2&e){const e=i.oxw(2);i.xp6(1),i.hij(" ",e.language.Only_Digits," ")}}function A(e,t){if(1&e&&(i.TgZ(0,"div",63),i._uU(1),i.qZA()),2&e){const e=i.oxw(2);i.xp6(1),i.hij(" ",e.WindowerrorMsg," ")}}function C(e,t){if(1&e&&(i.TgZ(0,"div",63),i._uU(1),i._UZ(2,"br"),i._uU(3),i._UZ(4,"br"),i._uU(5),i.qZA()),2&e){const e=i.oxw(2);i.xp6(1),i.hij(" ",e.language.Only_Digits," "),i.xp6(2),i.hij(" ",e.language.Input_Number_Validation," 0"),i.xp6(2),i.hij(" ",e.language.Input_Number_Validation2," 1440 ")}}function D(e,t){if(1&e&&(i.TgZ(0,"div",72),i._uU(1),i.qZA()),2&e){const e=i.oxw(3);i.xp6(1),i.hij(" ",e.language.Enter_A_Value," ")}}function O(e,t){if(1&e&&(i.TgZ(0,"div",72),i._uU(1),i._UZ(2,"br"),i.qZA()),2&e){const e=i.oxw(3);i.xp6(1),i.hij(" ",e.language.Only_Digits,"")}}function I(e,t){if(1&e&&(i.TgZ(0,"div",72),i._uU(1),i.qZA()),2&e){const e=i.oxw(3);i.xp6(1),i.hij(" ",e.language.Input_Number_Validation," 0 ")}}const S=function(e){return[e]};function P(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",42),i.TgZ(1,"div"),i.TgZ(2,"div",64),i.TgZ(3,"label",65),i._UZ(4,"input",66),i._uU(5),i.qZA(),i.TgZ(6,"div",67),i.TgZ(7,"input",68,69),i.NdJ("ngModelChange",function(t){return i.CHM(e),i.oxw(2).daily_frequency=t}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(11,"div",70),i.YNc(12,D,2,1,"div",71),i.YNc(13,O,3,1,"div",71),i.YNc(14,I,2,1,"div",71),i.qZA(),i.qZA()}if(2&e){const e=i.MAs(8);i.oxw();const t=i.MAs(7),n=i.oxw();i.xp6(5),i.hij("",n.language.Every," "),i.xp6(2),i.Q6J("customMin",1)("required",n.dailyChecked)("ngModel",n.daily_frequency),i.xp6(3),i.hij(" ",n.language.days_s,""),i.xp6(1),i.Q6J("ngClass",i.VKq(9,S,(null!=e.errors&&e.errors.required||null!=e.errors&&e.errors.customMin||null!=e.errors&&e.errors.customNeg)&&(t.submitted||e.touched)?" errorMessage":"")),i.xp6(1),i.Q6J("ngIf",(e.touched||t.submitted)&&(null==e.errors?null:e.errors.required)),i.xp6(1),i.Q6J("ngIf",(e.touched||t.submitted)&&(null==e.errors?null:e.errors.customNeg)),i.xp6(1),i.Q6J("ngIf",(e.touched||t.submitted)&&(null==e.errors?null:e.errors.customMin))}}function U(e,t){if(1&e&&(i.TgZ(0,"div",90),i._uU(1),i.qZA()),2&e){const e=i.oxw(3);i.xp6(1),i.hij(" ",e.language.Enter_A_Value," ")}}function N(e,t){if(1&e&&(i.TgZ(0,"div",90),i._uU(1),i._UZ(2,"br"),i.qZA()),2&e){const e=i.oxw(3);i.xp6(1),i.hij(" ",e.language.Only_Digits," ")}}function J(e,t){if(1&e&&(i.TgZ(0,"div",90),i._uU(1),i.qZA()),2&e){const e=i.oxw(3);i.xp6(1),i.hij(" ",e.language.Input_Number_Validation," 0 ")}}function Q(e,t){if(1&e&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&e){const e=i.oxw(3);i.xp6(1),i.hij(" ",e.language.select_pattern," ")}}function E(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",73),i.TgZ(1,"div",74),i.TgZ(2,"div",75),i.TgZ(3,"div",76),i._uU(4),i.qZA(),i.TgZ(5,"div",58),i.TgZ(6,"input",77,78),i.NdJ("ngModelChange",function(t){return i.CHM(e),i.oxw(2).week_frequency=t}),i.qZA(),i.qZA(),i.TgZ(8,"div",76),i._uU(9),i.qZA(),i.qZA(),i.TgZ(10,"div",38),i.YNc(11,U,2,1,"div",79),i.YNc(12,N,3,1,"div",79),i.YNc(13,J,2,1,"div",79),i.qZA(),i.qZA(),i.TgZ(14,"div",80),i.TgZ(15,"div",81),i.TgZ(16,"label"),i.TgZ(17,"input",82),i.NdJ("change",function(t){return i.CHM(e),i.oxw(2).bindData(t)}),i.qZA(),i._uU(18),i.qZA(),i.TgZ(19,"label"),i.TgZ(20,"input",83),i.NdJ("change",function(t){return i.CHM(e),i.oxw(2).bindData(t)}),i.qZA(),i._uU(21),i.qZA(),i.TgZ(22,"label"),i.TgZ(23,"input",84),i.NdJ("change",function(t){return i.CHM(e),i.oxw(2).bindData(t)}),i.qZA(),i._uU(24),i.qZA(),i.TgZ(25,"label"),i.TgZ(26,"input",85),i.NdJ("change",function(t){return i.CHM(e),i.oxw(2).bindData(t)}),i.qZA(),i._uU(27),i.qZA(),i.TgZ(28,"label"),i.TgZ(29,"input",86),i.NdJ("change",function(t){return i.CHM(e),i.oxw(2).bindData(t)}),i.qZA(),i._uU(30),i.qZA(),i.TgZ(31,"label"),i.TgZ(32,"input",87),i.NdJ("change",function(t){return i.CHM(e),i.oxw(2).bindData(t)}),i.qZA(),i._uU(33),i.qZA(),i.TgZ(34,"label"),i.TgZ(35,"input",88),i.NdJ("change",function(t){return i.CHM(e),i.oxw(2).bindData(t)}),i.qZA(),i._uU(36),i.qZA(),i.qZA(),i.qZA(),i.TgZ(37,"div",70),i.YNc(38,Q,2,1,"div",89),i.qZA(),i.qZA()}if(2&e){const e=i.MAs(7);i.oxw();const t=i.MAs(7),n=i.oxw();i.xp6(1),i.Q6J("ngClass",i.VKq(26,S,(null!=e.errors&&e.errors.required||null!=e.errors&&e.errors.customMin||null!=e.errors&&e.errors.customNeg)&&(t.submitted||e.touched)?"errorMessage":"")),i.xp6(3),i.Oqu(n.language.Recur_every),i.xp6(2),i.Q6J("customMin",1)("required",n.weekChecked)("ngModel",n.week_frequency),i.xp6(3),i.hij("",n.language.weeks_on,":"),i.xp6(2),i.Q6J("ngIf",(e.touched||t.submitted)&&(null==e.errors?null:e.errors.required)),i.xp6(1),i.Q6J("ngIf",(e.touched||t.submitted)&&(null==e.errors?null:e.errors.customNeg)),i.xp6(1),i.Q6J("ngIf",(e.touched||t.submitted)&&(null==e.errors?null:e.errors.customMin)),i.xp6(2),i.Q6J("ngClass",i.VKq(28,S,0===(null==n.weekselected?null:n.weekselected.length)&&t.submitted&&n.weekerror?" errorMessage":"")),i.xp6(2),i.Q6J("checked",n.Sunday),i.xp6(1),i.hij("",n.language.Sunday," "),i.xp6(2),i.Q6J("checked",n.Monday),i.xp6(1),i.hij("",n.language.Monday," "),i.xp6(2),i.Q6J("checked",n.Tuesday),i.xp6(1),i.hij("",n.language.Tuesday," "),i.xp6(2),i.Q6J("checked",n.Wednesday),i.xp6(1),i.hij("",n.language.Wednesday," "),i.xp6(2),i.Q6J("checked",n.Thursday),i.xp6(1),i.hij("",n.language.Thursday," "),i.xp6(2),i.Q6J("checked",n.Friday),i.xp6(1),i.hij("",n.language.Friday," "),i.xp6(2),i.Q6J("checked",n.Saturday),i.xp6(1),i.hij("",n.language.Saturday," "),i.xp6(1),i.Q6J("ngClass",i.VKq(30,S,0===(null==n.weekselected?null:n.weekselected.length)&&t.submitted&&n.weekerror?" errorMessage":"")),i.xp6(1),i.Q6J("ngIf",t.submitted&&0===(null==n.weekselected?null:n.weekselected.length)&&n.weekerror)}}function j(e,t){if(1&e&&(i.TgZ(0,"div",105),i._uU(1),i.qZA()),2&e){const e=i.oxw(3);i.xp6(1),i.hij(" ",e.language.Enter_A_Value," ")}}function W(e,t){if(1&e&&(i.TgZ(0,"div",105),i._uU(1),i._UZ(2,"br"),i.qZA()),2&e){const e=i.oxw(3);i.xp6(1),i.hij(" ",e.language.Only_Digits," ")}}function R(e,t){if(1&e&&(i.TgZ(0,"div",105),i._uU(1),i.qZA()),2&e){const e=i.oxw(3);i.xp6(1),i.hij(" ",e.language.Input_Number_Validation," 0 ")}}function V(e,t){if(1&e&&(i.TgZ(0,"div",105),i._uU(1),i.qZA()),2&e){const e=i.oxw(3);i.xp6(1),i.hij(" ",e.language.No_Greater_Than," 28 ")}}function H(e,t){if(1&e&&(i.TgZ(0,"div",106),i._uU(1),i.qZA()),2&e){const e=i.oxw(3);i.xp6(1),i.hij(" ",e.language.Enter_A_Value," ")}}function Y(e,t){if(1&e&&(i.TgZ(0,"div",106),i._uU(1),i._UZ(2,"br"),i.qZA()),2&e){const e=i.oxw(3);i.xp6(1),i.hij(" ",e.language.Only_Digits," ")}}function F(e,t){if(1&e&&(i.TgZ(0,"div",106),i._uU(1),i.qZA()),2&e){const e=i.oxw(3);i.xp6(1),i.hij(" ",e.language.Input_Number_Validation," 0 ")}}function L(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",73),i.TgZ(1,"div",91),i.TgZ(2,"span",92),i._UZ(3,"input",93),i._uU(4),i.qZA(),i.TgZ(5,"div",94),i.TgZ(6,"input",95,96),i.NdJ("ngModelChange",function(t){return i.CHM(e),i.oxw(2).daysOfMonth=t}),i.qZA(),i.TgZ(8,"span",97),i._uU(9),i.qZA(),i.qZA(),i.TgZ(10,"div",98),i.TgZ(11,"input",99,100),i.NdJ("ngModelChange",function(t){return i.CHM(e),i.oxw(2).month_frequency=t}),i.qZA(),i.TgZ(13,"span",76),i._uU(14),i.qZA(),i.qZA(),i.qZA(),i.TgZ(15,"div",101),i.TgZ(16,"div",102),i.YNc(17,j,2,1,"div",103),i.YNc(18,W,3,1,"div",103),i.YNc(19,R,2,1,"div",103),i.YNc(20,V,2,1,"div",103),i.qZA(),i.TgZ(21,"div",102),i.YNc(22,H,2,1,"div",104),i.YNc(23,Y,3,1,"div",104),i.YNc(24,F,2,1,"div",104),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=i.MAs(7),t=i.MAs(12);i.oxw();const n=i.MAs(7),o=i.oxw();i.xp6(1),i.Q6J("ngClass",i.VKq(21,S,(null!=e.errors&&e.errors.required||null!=e.errors&&e.errors.customMin||null!=e.errors&&e.errors.customMax||null!=e.errors&&e.errors.customNeg)&&(n.submitted||e.touched)?" ccl-error ":"")),i.xp6(3),i.hij("",o.language.Day," "),i.xp6(2),i.Q6J("ngModel",o.daysOfMonth)("customMin",1)("customMax",28)("required",o.monthChecked),i.xp6(3),i.Oqu(o.language.of_every),i.xp6(1),i.Q6J("ngClass",i.VKq(23,S,(null!=t.errors&&t.errors.required||null!=t.errors&&t.errors.customMin)&&(n.submitted||t.touched)?" errorMessage":"")),i.xp6(1),i.Q6J("ngModel",o.month_frequency)("customMin",1)("required",o.monthChecked),i.xp6(3),i.hij(" ",o.language["month(s)"],""),i.xp6(2),i.Q6J("ngClass",i.VKq(25,S,(null!=e.errors&&e.errors.required||null!=e.errors&&e.errors.customMin||null!=e.errors&&e.errors.customMax)&&(n.submitted||e.touched)?" errorMessage":"")),i.xp6(1),i.Q6J("ngIf",(e.touched||n.submitted)&&(null==e.errors?null:e.errors.required)),i.xp6(1),i.Q6J("ngIf",(e.touched||n.submitted)&&(null==e.errors?null:e.errors.customNeg)),i.xp6(1),i.Q6J("ngIf",(e.touched||n.submitted)&&(null==e.errors?null:e.errors.customMin)),i.xp6(1),i.Q6J("ngIf",(e.touched||n.submitted)&&(null==e.errors?null:e.errors.customMax)),i.xp6(1),i.Q6J("ngClass",i.VKq(27,S,(null!=t.errors&&t.errors.required||null!=t.errors&&t.errors.customMin)&&(n.submitted||t.touched)?" errorMessage":"")),i.xp6(1),i.Q6J("ngIf",(t.touched||n.submitted)&&(null==t.errors?null:t.errors.required)),i.xp6(1),i.Q6J("ngIf",(t.touched||n.submitted)&&(null==t.errors?null:t.errors.customNeg)),i.xp6(1),i.Q6J("ngIf",(t.touched||n.submitted)&&(null==t.errors?null:t.errors.customMin))}}const B=function(){return{width:"100%",height:"36px"}},z=function(){return{height:"36px"}},K=function(){return{standalone:!0}};function G(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",23),i.TgZ(1,"div",1),i.TgZ(2,"div",24),i._uU(3),i.qZA(),i.qZA(),i.TgZ(4,"div",1),i.TgZ(5,"div",25),i.TgZ(6,"form",26,27),i.NdJ("ngSubmit",function(){i.CHM(e);const t=i.MAs(7),n=i.oxw();return t.form.valid&&n.go_next()}),i.TgZ(8,"div",28),i.TgZ(9,"label",29),i._uU(10),i.qZA(),i.TgZ(11,"div",30),i.TgZ(12,"p-calendar",31),i.NdJ("ngModelChange",function(t){return i.CHM(e),i.oxw().startDateTime=t})("focusout",function(t){return i.CHM(e),i.oxw().onSelectStartOnlyTime(t)}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(13,"div",32),i.TgZ(14,"label",33),i._uU(15),i.qZA(),i.TgZ(16,"div",34),i.TgZ(17,"div",35),i.TgZ(18,"input",36,37),i.NdJ("ngModelChange",function(t){return i.CHM(e),i.oxw().timeWindow=t})("ngModelChange",function(t){i.CHM(e);const n=i.MAs(19),o=i.oxw();return!(null!=n.errors&&n.errors.pattern)&&o.validateWindow(t)}),i.qZA(),i.TgZ(20,"div",38),i.YNc(21,b,2,1,"div",39),i.YNc(22,v,2,1,"div",39),i.YNc(23,A,2,1,"div",39),i.YNc(24,C,6,3,"div",39),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(25,"span",40),i._uU(26),i.qZA(),i.TgZ(27,"div",1),i._UZ(28,"label",41),i.TgZ(29,"div",42),i.TgZ(30,"ul",43),i.TgZ(31,"li"),i.TgZ(32,"label",44),i.TgZ(33,"input",45),i.NdJ("change",function(t){return i.CHM(e),i.oxw().getRecurrenceData(t)}),i.qZA(),i._uU(34),i.qZA(),i.qZA(),i.TgZ(35,"li"),i.TgZ(36,"label",46),i.TgZ(37,"input",47),i.NdJ("change",function(t){return i.CHM(e),i.oxw().getRecurrenceData(t)}),i.qZA(),i._uU(38),i.qZA(),i.qZA(),i.TgZ(39,"li"),i.TgZ(40,"label",48),i.TgZ(41,"input",49),i.NdJ("change",function(t){return i.CHM(e),i.oxw().getRecurrenceData(t)}),i.qZA(),i._uU(42),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(43,"div",50),i._UZ(44,"label",41),i.YNc(45,P,15,11,"div",51),i.YNc(46,E,39,32,"div",52),i.YNc(47,L,25,29,"div",52),i.qZA(),i.TgZ(48,"span",40),i._uU(49),i.qZA(),i.TgZ(50,"div",53),i.TgZ(51,"div",54),i.TgZ(52,"label",55),i._uU(53),i.qZA(),i.TgZ(54,"div",56),i.TgZ(55,"p-calendar",57),i.NdJ("focusout",function(t){return i.CHM(e),i.oxw().onSelectStartTime(t)})("ngModelChange",function(t){return i.CHM(e),i.oxw().customStartDate=t}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(56,"span",40),i._uU(57),i.qZA(),i.TgZ(58,"div",58),i._UZ(59,"label",59),i.TgZ(60,"div",60),i._UZ(61,"input",61),i.TgZ(62,"label",62),i._uU(63),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=i.MAs(7),t=i.MAs(19),n=i.oxw();i.xp6(3),i.Oqu(n.language.Workflow_Time),i.xp6(7),i.Oqu(n.language.Start_Time),i.xp6(2),i.Akn(i.DdM(38,B)),i.Q6J("inputStyle",i.DdM(39,z))("autoZIndex",!0)("ngModel",n.startDateTime)("showIcon",!0)("ngModelOptions",i.DdM(40,K)),i.xp6(3),i.Oqu(n.language.Time_window),i.xp6(1),i.Q6J("ngClass",i.VKq(41,S,(null!=t.errors&&t.errors.required||null!=t.errors&&t.errors.pattern||null!=t.errors&&t.errors.customNeg||n.WindowerrorMsg)&&(e.submitted||t.touched)?" errorMessage ":"")),i.xp6(2),i.Q6J("ngModel",n.timeWindow),i.xp6(3),i.Q6J("ngIf",(t.touched||e.submitted)&&(null==t.errors?null:t.errors.required)),i.xp6(1),i.Q6J("ngIf",t.touched&&(null==t.errors?null:t.errors.customNeg)),i.xp6(1),i.Q6J("ngIf",t.touched&&n.WindowerrorMsg),i.xp6(1),i.Q6J("ngIf",t.touched&&(null==t.errors?null:t.errors.pattern)),i.xp6(2),i.Oqu(n.language.Recurrence_Pattern),i.xp6(7),i.Q6J("checked",n.dailyChecked),i.xp6(1),i.hij("",n.language.Daily," "),i.xp6(3),i.Q6J("checked",n.weekChecked),i.xp6(1),i.hij("",n.language.Weekly," "),i.xp6(3),i.Q6J("checked",n.monthChecked),i.xp6(1),i.hij("",n.language.Monthly," "),i.xp6(3),i.Q6J("ngIf",n.dailyChecked),i.xp6(1),i.Q6J("ngIf",n.weekChecked),i.xp6(1),i.Q6J("ngIf",n.monthChecked),i.xp6(2),i.Oqu(n.language.Range_of_Recurrence),i.xp6(4),i.Oqu(n.language.Start),i.xp6(2),i.Akn(i.DdM(43,B)),i.Q6J("inputStyle",i.DdM(44,z))("autoZIndex",!0)("ngModel",n.customStartDate)("showIcon",!0)("ngModelOptions",i.DdM(45,K)),i.xp6(2),i.Oqu(n.language.Prioritization),i.xp6(4),i.Q6J("disabled",!0),i.xp6(2),i.hij(" ",n.language.Ex_fullgrps," ")}}let X=(()=>{class e{constructor(e,t,n,o,r,l,a){this.translateService=e,this.api=t,this.dateUtils=n,this.sso=o,this.route=r,this.router=l,this.commonOrgService=a,this.workflowOprData=new i.vpe,this.activeTab=new i.vpe,this.endtimeError=!1,this.inputOperationType=[{name:"Time Scheduler",id:"Time Scheduler"}],this.timeWindow=60,this.dailyChecked=!0,this.weekChecked=!1,this.monthChecked=!1,this.weekScheduling=!1,this.monthScheduling=!1,this.RangeRecurrenceEndBy=!1,this.RangeRecurrenceEndAfter=!0,this.customStartDate=new Date,this.customStartRange=new Date,this.customEndRange=null,this.diabledTrigger=!0,this.weekselected=[],this.daysOfMonth=1,this.rangeOccurrence=null,this.endBy=!1,this.endAfter=null,this.radio=null,this.daily_frequency=1,this.week_frequency=1,this.month_frequency=1,this.weekerror=!1,this.disablefullGroupExecute=!1,this.errorInfo="",this.successInfo="",this.WindowerrorMsg=null}ngOnInit(){this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(e=>{this.language=e}),this.scheduleValueSelected="Time Scheduler",this.timeschedule=!0,this.disablefullGroupExecute=!0,this.route.queryParams.subscribe(e=>{this.editItem_id=e.item,this.editItem_id?this.getWorkflowById():(this.startDateTime=new Date,this.timeWindow=60,this.workflowInputData={name:"Default Upgrade Scheduler",orgId:this.sso.getOrgId(),actions:[{actionType:"Download Official Image"}],execPolicy:{initialTrigger:{type:"Maintenance Window"},window:{type:"daily",frequency:1,windowLength:3600,startDateTime:new Date}},fullGroupExecute:!0,type:"Onboarding Scheduler",source:"Foundation",description:"Workflow schedule for upgrade of EXOS systems"},this.scheduleValueSelected="Time Scheduler",this.timeschedule=!0,this.disablefullGroupExecute=!0,this.workflowInputData.source="Foundation",this.workflowInputData.fullGroupExecute=!0,this.timeWindow=this.workflowInputData.execPolicy.window.windowLength?this.workflowInputData.execPolicy.window.windowLength/60:60)})}ngOnDestroy(){this.languageSubject.unsubscribe()}optionValChoose(){"Time Scheduler"===this.scheduleValueSelected?this.timeschedule=!0:(this.timeschedule=!1,this.scheduleValueSelected="On Discovery")}getRecurrenceData(e){"daily"===e.target.value?(this.weekScheduling=!1,this.monthScheduling=!1,this.dailyChecked=!0,this.weekChecked=!1,this.monthChecked=!1,this.daily="yes",this.monthly="no",this.weekly="no",this.week_frequency=1,this.month_frequency=1,this.daysOfMonth=1):"weekly"===e.target.value?(this.weekScheduling=!0,this.monthScheduling=!1,this.weekChecked=!0,this.dailyChecked=!1,this.monthChecked=!1,this.weekly="yes",this.daily="no",this.monthly="no",this.month_frequency=1,this.daily_frequency=1,this.daysOfMonth=1):(this.monthScheduling=!0,this.weekScheduling=!1,this.monthChecked=!0,this.dailyChecked=!1,this.weekChecked=!1,this.monthly="yes",this.weekly="no",this.daily="no",this.week_frequency=1,this.daily_frequency=1)}bindData(e){e.target.checked?this.weekselected.push(e.target.value):this.weekselected=this.weekselected.filter(t=>t!=e.target.value)}go_next(){var e;if(this.customStartDate.setHours(+this.startDateTime.getHours()),this.customStartDate.setMinutes(+this.startDateTime.getMinutes()),this.customStartDate.setMilliseconds(+this.startDateTime.getMilliseconds()),"Time Scheduler"===this.scheduleValueSelected){if(!0===this.weekScheduling){if(this.weekselected.length<1)return void(this.weekerror=!0);this.weekerror=!1,this.workflowInputData.execPolicy={initialTrigger:{type:"Maintenance Window"},window:{type:"weekly",startDateTime:this.customStartDate.toISOString(),windowLength:60*this.timeWindow,frequency:this.week_frequency,weekdays:this.weekselected}}}else this.workflowInputData.execPolicy=!0===this.monthScheduling?{initialTrigger:{type:"Maintenance Window"},window:{type:"monthly",startDateTime:this.customStartDate.toISOString(),windowLength:60*this.timeWindow,frequency:this.month_frequency,daysOfMonth:[this.daysOfMonth]}}:{initialTrigger:{type:"Maintenance Window"},window:{type:"daily",frequency:this.daily_frequency,startDateTime:this.customStartDate.toISOString(),windowLength:60*this.timeWindow}};if(this.RangeRecurrenceEndBy){if(this.endtimeError)return;this.workflowInputData.execPolicy.window.endDateTime=this.customEndRange?new Date(this.customEndRange).toISOString():""}else this.workflowInputData.execPolicy.window.recurrence=this.rangeOccurrence?this.rangeOccurrence:null}this.workflowInputData.bPriorNewAndFailed=!0,this.editItem_id?(null===(e=this.workflowInputData)||void 0===e||delete e.orgId,this.api.editWorkflowData(this.workflowInputData).subscribe(e=>{this.sso.redirectByUrlForWorkflow(["/support/netops-management/operations/workflows","/cco/operations/cco-system-operations/workflows","./cco-foundation/foundation-configuration/configuration-workflow/workflows","/cco/operations/configuration/workflows"]),this.editItem_id=null},e=>{this.pageErrorHandle(e),this.commonOrgService.pageScrollTop()},()=>{})):this.api.AddWorkflowData(this.workflowInputData).subscribe(e=>{this.sso.redirectByUrlForWorkflow(["/support/netops-management/operations/workflows","/cco/operations/cco-system-operations/workflows","./cco-foundation/foundation-configuration/configuration-workflow/workflows","/cco/operations/configuration/workflows"])},e=>{this.pageErrorHandle(e),this.commonOrgService.pageScrollTop()},()=>{})}pageErrorHandle(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.sso.pageErrorHandle(e),this.closeAlert(),this.error=!0}closeAlert(){this.error=!1,this.success=!1}getRangeRecurrence(e){"endBy"===e.target.value?(this.RangeRecurrenceEndBy=!0,this.RangeRecurrenceEndAfter=!1,this.endBy=!0,this.endAfter=!1):(this.RangeRecurrenceEndAfter=!0,this.RangeRecurrenceEndBy=!1,this.endAfter=!0,this.endBy=!1)}validateWindow(e){this.WindowerrorMsg=e?0==e?this.language.Input_Number_Validation+" 0":e>1440?this.language.Input_Number_Validation2+" 1440":"":""}onSelectStartTime(e){Date.parse(e.target.value.toString())||(this.customStartDate=new Date)}onSelectStartOnlyTime(e){e.target.value.match(/^\d{1,2}:\d{2}( [ap || AP]M)?$/)||(this.startDateTime=new Date)}onSelectEndTime(e){let t=e,n=this.customStartDate;Date.parse(t.toString())?this.endtimeError=!(t.getTime()>n.getTime()):this.customEndRange=new Date}onChangeEndTime(e){let t=e.target.value,n=this.customStartDate;Date.parse(t)?this.endtimeError=!(new Date(t).getTime()>n.getTime()):this.customEndRange=new Date}getWorkflowById(){this.api.getWorkflowById(this.editItem_id).subscribe(e=>{var t,n,i,o;if(e)switch(this.workflowInputData=e,this.scheduleValueSelected="Time Scheduler",this.timeschedule=!0,this.startDateTime=this.workflowInputData.execPolicy.window.startDateTime?new Date(this.workflowInputData.execPolicy.window.startDateTime):new Date,this.customStartDate=this.workflowInputData.execPolicy.window.startDateTime?new Date(this.workflowInputData.execPolicy.window.startDateTime):new Date,this.timeWindow=(null===(n=null===(t=null==e?void 0:e.execPolicy)||void 0===t?void 0:t.window)||void 0===n?void 0:n.windowLength)?(null===(o=null===(i=null==e?void 0:e.execPolicy)||void 0===i?void 0:i.window)||void 0===o?void 0:o.windowLength)/60:60,this.workflowInputData.execPolicy.window.type){case"weekly":this.weekScheduling=!0,this.monthScheduling=!1,this.weekChecked=!0,this.dailyChecked=!1,this.monthChecked=!1,this.weekly="yes",this.daily="no",this.monthly="no",this.week_frequency=this.workflowInputData.execPolicy.window.frequency,this.daily_frequency=1,this.month_frequency=1,this.workflowInputData.execPolicy.window.weekdays?(this.workflowInputData.execPolicy.window.weekdays.includes("SUN")&&(this.Sunday=!0,this.weekselected.push("SUN")),this.workflowInputData.execPolicy.window.weekdays.includes("MON")&&(this.Monday=!0,this.weekselected.push("MON")),this.workflowInputData.execPolicy.window.weekdays.includes("TUE")&&(this.Tuesday=!0,this.weekselected.push("TUE")),this.workflowInputData.execPolicy.window.weekdays.includes("WEN")&&(this.Wednesday=!0,this.weekselected.push("WEN")),this.workflowInputData.execPolicy.window.weekdays.includes("THU")&&(this.Thursday=!0,this.weekselected.push("THU")),this.workflowInputData.execPolicy.window.weekdays.includes("FRI")&&(this.Friday=!0,this.weekselected.push("FRI")),this.workflowInputData.execPolicy.window.weekdays.includes("SAT")&&(this.Saturday=!0,this.weekselected.push("SAT"))):this.weekselected=[];break;case"monthly":this.monthScheduling=!0,this.weekScheduling=!1,this.monthChecked=!0,this.dailyChecked=!1,this.weekChecked=!1,this.monthly="yes",this.weekly="no",this.daily="no",this.month_frequency=this.workflowInputData.execPolicy.window.frequency,this.daysOfMonth=this.workflowInputData.execPolicy.window.daysOfMonth[0],this.week_frequency=1,this.daily_frequency=1;break;default:this.weekScheduling=!1,this.monthScheduling=!1,this.dailyChecked=!0,this.weekChecked=!1,this.monthChecked=!1,this.daily="yes",this.monthly="no",this.weekly="no",this.week_frequency=1,this.month_frequency=1,this.daily_frequency=this.workflowInputData.execPolicy.window.frequency}},e=>{},()=>{})}closeWorkflow(){this.sso.redirectByUrlForWorkflow(["/support/netops-management/operations/workflows","/cco/operations/cco-system-operations/workflows","/cco-foundation/foundation-configuration/configuration-workflow/workflows","/cco/operations/configuration/workflows"])}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(o.s),i.Y36(r.A),i.Y36(l.s),i.Y36(a.t6),i.Y36(c.gz),i.Y36(c.F0),i.Y36(s.v))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-default-work-flow"]],viewQuery:function(e,t){if(1&e&&i.Gf(k,5),2&e){let e;i.iGM(e=i.CRH())&&(t.endTime=e.first)}},outputs:{workflowOprData:"workflowOprData",activeTab:"activeTab"},decls:20,vars:11,consts:[["id","workflowWizardSchedule",1,"workflow-wizard-schedule"],[1,"row"],[1,"col-md-9","col-sm-9"],["id","wizard",1,"net-ops-secondary-title"],[1,"col-md-3","col-sm-3","text-right"],["type","button","id","submit","id","next",1,"btn-arrow","btn-arr-nxt","primary","mr-3",3,"click"],["type","button","aria-label","Close",1,"close","mt-2",3,"click"],["aria-hidden","true"],["class","w-100 alert alert-danger mt-4 fade show",4,"ngIf"],["id","trigger-form",1,"row","mt-4","mb-2"],["for","inputOperationType",1,"col-lg-2","col-md-2","col-sm-2","control-label"],[1,"custom-selectbox-shedule-par","col-lg-8","col-md-10","col-sm-12"],["bindLabel","name","autofocus","","placeholder","","name","scheduleValueSelected","id","trigger","id","trigger","bindValue","id",3,"items","ngModel","searchable","clearable","disabled","change","ngModelChange"],["ng-label-tmp",""],["ng-option-tmp",""],["class","f-size-18 pb-3",4,"ngIf"],["class","container px-0",4,"ngIf"],[1,"w-100","alert","alert-danger","mt-4","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],[1,"d-inline-flex",3,"innerHtml"],["id","wk-opr-err-ok",1,"btn-default","px-3","ok-btn","float-right",3,"click"],[1,"f-size-18","pb-3"],[1,"container","px-0"],[1,"col-md-12","net-ops-secondary-title"],[1,"col-xs-12","col-12","col-md-12","col-lg-12"],["novalidate","","id","policy-form",1,"workflow-policy",3,"ngSubmit"],["myForm","ngForm"],[1,"form-group","ccl-form","row"],["id","start-time-label","title","TimeZone as Local",1,"col-lg-2","col-md-12","col-sm-12","col-xl-2"],[1,"col-lg-8","col-md-12","col-sm-12","col-xl-8","calender"],["id","start-time","appendTo","body","timeOnly","true","hourFormat","12","id","start-time",3,"inputStyle","autoZIndex","ngModel","showIcon","ngModelOptions","ngModelChange","focusout"],[1,"form-group","ccl-form","row","required"],["for","windowlength","id","Time-window-label","title","",1,"col-lg-2","col-xl-2","col-md-12","col-sm-12"],[1,"col-lg-8","col-xl-8","col-md-12","col-sm-12","input-group",3,"ngClass"],[1,"form-field-error","w-100"],["type","text","pattern","[0-9]+","id","windowlength","name","windowlength","min","1","max","1440","customNeg","","required","","aria-required","true","aria-describedby","windowLength-error","aria-invalid","true","autocomplete","new-password",1,"set-due-date","form-control",3,"ngModel","ngModelChange"],["windowLength","ngModel"],[1,"error-div"],["id","windowLength-error",4,"ngIf"],[1,"net-ops-secondary-title"],[1,"col-lg-2","col-md-12","col-sm-12","col-xl-2"],[1,"col-lg-10","col-md-12","col-sm-12","col-xl-10"],[1,"date-order","workflow-date-order"],["id","daily-radio-label ",1,"radio-inline"],["type","radio","id","daily-radio","value","daily","checked","",1,"mr-2",3,"checked","change"],["id","weekly-radio-label",1,"radio-inline"],["type","radio","id","weekly-radio","value","weekly",1,"mr-2",3,"checked","change"],["id","monthly-radio-label",1,"radio-inline"],["type","radio","id","monthly-radio","value","monthly",1,"mr-2",3,"checked","change"],[1,"row","form-group"],["class","col-lg-10 col-md-12 col-sm-12 col-xl-10",4,"ngIf"],["class","col-10",4,"ngIf"],[1,"form-group"],[1,"row","ccl-form"],["title","TimeZone as Local",1,"col-lg-2","col-xl-2","col-md-12","col-sm-12"],[1,"col-lg-8","col-xl-8","col-md-12","col-sm-12","calender"],["id","start_date_1","appendTo","body","placeholder","Select Date","dateFormat","mm/dd/yy","id","start-date_1",3,"inputStyle","autoZIndex","ngModel","showIcon","ngModelOptions","focusout","ngModelChange"],[1,"form-group","row"],[1,"col-lg-2","col-xl-2","col-md-12","col-sm-12"],[1,"col-lg-10","col-xl-10","col-md-12","col-sm-12"],["type","checkbox","id","Prioritization","placeholder","#","checked","",1,"mr-3",3,"disabled"],["for","range-occurrence",1,"pointer"],["id","windowLength-error"],[1,"daily-check","flex-start"],["id","daily-check-label",1,"radio-inline","cursor-default","pr-0","mb-0"],["type","radio","id","daily-check-input","disabled","",1,"mr-2"],[1,"ccl-form","ml-2","number-input"],["type","number","placeholder","#","id","daily-pattern-frequence","customNeg","","name","daily-pattern-frequence","aria-required","true","aria-describedby","frequency-error","aria-invalid","true",1,"col-lg-2","col-md-12","col-sm-12","col-xl-2",3,"customMin","required","ngModel","ngModelChange"],["frequency","ngModel"],[3,"ngClass"],["id","frequency-error",4,"ngIf"],["id","frequency-error"],[1,"col-10"],[1,"weekly-sec",3,"ngClass"],[1,"workflow-oneline","mb-0"],[1,"text-tclr"],["type","number","id","weeklyReccur","placeholder","#","customNeg","","aria-required","true","aria-describedby","weeklyReccur-error","aria-invalid","true","name","weekly-pattern-frequency",1,"form-control",3,"customMin","required","ngModel","ngModelChange"],["weeklyReccur","ngModel"],["id","weeklyReccur-error",4,"ngIf"],[1,"form-group","weekly-days","mt-3"],[1,"checkbox","checkbox-inline","days-label",3,"ngClass"],["type","checkbox","value","SUN","id","sunday",3,"checked","change"],["type","checkbox","value","MON","id","monday",3,"checked","change"],["type","checkbox","value","TUE","id","tuesday",3,"checked","change"],["type","checkbox","value","WEN","id","wednesday",3,"checked","change"],["type","checkbox","value","THU","id","thursday",3,"checked","change"],["type","checkbox","value","FRI","id","friday",3,"checked","change"],["type","checkbox","value","SAT","id","saturday",3,"checked","change"],[4,"ngIf"],["id","weeklyReccur-error"],[1,"mont-list","flex-start",3,"ngClass"],[1,"text-tclr","mb-0","pr-2"],["type","radio","disabled","",1,"mr-2"],[1,"ccl-form"],["type","number","placeholder","#","id","monthPattern","name","dailyPattern","customNeg","","aria-required","true","aria-describedby","dailyPattern-error","aria-invalid","true",1,"form-control",3,"ngModel","customMin","customMax","required","ngModelChange"],["dailyPattern","ngModel"],[1,"text-black"],[1,"ccl-form",3,"ngClass"],["type","number","placeholder","#","id","month-pattern-frequence","name","daily-pattern-frequence","customNeg","","aria-required","true","aria-describedby","every-error","aria-invalid","true",1,"",3,"ngModel","customMin","required","ngModelChange"],["every","ngModel"],[1,"mothly-error-div"],[1,"daily-month-error",3,"ngClass"],["id","dailyPattern-error",4,"ngIf"],["id","every-error",4,"ngIf"],["id","dailyPattern-error"],["id","every-error"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"span",3),i._uU(4),i.qZA(),i.qZA(),i.TgZ(5,"div",4),i.TgZ(6,"button",5),i.NdJ("click",function(){return t.go_next()}),i._uU(7),i.qZA(),i.TgZ(8,"button",6),i.NdJ("click",function(){return t.closeWorkflow()}),i._UZ(9,"span",7),i.qZA(),i.qZA(),i.qZA(),i.YNc(10,q,6,2,"div",8),i.TgZ(11,"form",9),i.TgZ(12,"label",10),i._uU(13),i.qZA(),i.TgZ(14,"div",11),i.TgZ(15,"ng-select",12),i.NdJ("change",function(){return t.optionValChoose()})("ngModelChange",function(e){return t.scheduleValueSelected=e}),i.YNc(16,_,1,1,"ng-template",13),i.YNc(17,T,1,1,"ng-template",14),i.qZA(),i.qZA(),i.qZA(),i.YNc(18,M,2,1,"h4",15),i.YNc(19,G,64,46,"div",16),i.qZA()),2&e&&(i.xp6(4),i.Oqu(t.language.Select_sch_param),i.xp6(3),i.hij(" ",t.language.submit,""),i.xp6(3),i.Q6J("ngIf",t.error),i.xp6(3),i.Oqu(t.language.Trigger),i.xp6(2),i.Q6J("items",t.inputOperationType)("ngModel",t.scheduleValueSelected)("searchable",!1)("clearable",!1)("disabled",t.diabledTrigger),i.xp6(3),i.Q6J("ngIf",!t.timeschedule),i.xp6(1),i.Q6J("ngIf",t.timeschedule))},directives:[d.O5,u._Y,u.JL,u.F,g.w9,h.U,u.JJ,u.On,g.bb,g.Z2,w.f,d.mk,u.Fj,u.c5,p.v,m.v,u.Q7,u.wV,f.a,y.a,x.Z,Z.Z],styles:[".f-w-600[_ngcontent-%COMP%]{font-weight:600}[type=radio][_ngcontent-%COMP%]:checked, [type=radio][_ngcontent-%COMP%]:not(:checked){position:relative!important;left:unset!important}ul.date-order[_ngcontent-%COMP%]{display:inline-flex;width:100%}ul.date-order[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:15%}.ccl-form.number-input[_ngcontent-%COMP%]{width:50%;margin-left:10px}.number-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:5px;color:#222}.radio-inline[_ngcontent-%COMP%]{cursor:pointer}.workflow-oneline[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.workflow-oneline[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:65px;margin:0 10px}.weekly-days[_ngcontent-%COMP%]{display:flex;align-items:center}.weekly-days[_ngcontent-%COMP%]   .checkbox-inline[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.days-line[_ngcontent-%COMP%]{padding-left:5px}.mont-list[_ngcontent-%COMP%]   .ccl-form[_ngcontent-%COMP%]{width:20%;display:flex;align-items:center}.mont-list[_ngcontent-%COMP%]   .ccl-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50%;padding-right:5px}.mont-list[_ngcontent-%COMP%]   .ccl-form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}.mont-list[_ngcontent-%COMP%]   label.radio-inline[_ngcontent-%COMP%]{margin-right:9px}.ccl-form[_ngcontent-%COMP%]   .occurr-end[_ngcontent-%COMP%]{display:flex;align-items:center}.ccl-form[_ngcontent-%COMP%]   .occurr-end[_ngcontent-%COMP%]   .occur-input[_ngcontent-%COMP%]{width:11%;margin-left:10px}.ccl-form[_ngcontent-%COMP%]   .occurr-end[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:5px}.mothly-error-div[_ngcontent-%COMP%]{display:flex;align-items:start;width:auto}.mothly-error-div[_ngcontent-%COMP%]   .daily-month-error[_ngcontent-%COMP%]{width:28%;padding-right:10px;font-size:13px}.days-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-right:15px;margin:0}.days-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:5px}.custom-selectbox-shedule-par[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]{z-index:1;width:100%;padding-top:10px;padding-bottom:10px;border-radius:10px!important;min-height:auto;max-height:260px;overflow-y:auto;font-size:14px;transition:.5s ease}.alert-note[_ngcontent-%COMP%]{color:#1a1f22;background-color:#f5faff;border-color:#f5faff}.text-black[_ngcontent-%COMP%]{color:#000}.cursor-default[_ngcontent-%COMP%]{cursor:default}"]}),e})()}}]);