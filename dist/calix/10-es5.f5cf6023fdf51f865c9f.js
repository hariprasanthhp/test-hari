!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,i)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,r=void 0,"symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?r:String(r)),n)}var o,r}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[10],{14813:function(e,t,n){n.d(t,{k:function(){return p}});var r,a=n(91841),s=n(79765),c=n(26215),u=n(40205),l=n(5304),d=n(92340),g=n(37716),m=n(38048),p=((r=function(){function e(t,n){var o=this;i(this,e),this.http=t,this.sso=n,this.metaData={},this.staticGroupSubject=new s.xQ,this.showCountStatus=new c.X(!1),this.showCountStatus$=this.showCountStatus.asObservable(),this.removeNull=function(e){return Object.keys(e).forEach(function(t){return e[t]&&"object"==typeof e[t]&&o.removeNull(e[t])||(""===e[t]||null===e[t])&&delete e[t]}),e}}return o(e,[{key:"updateServiceData",value:function(e,t,i){var n=this.sso.getOrg(e),o="".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/rg-service?").concat(n);return t&&t.sn?o="".concat(o,"systemId=").concat(t.sn):t&&t.subscriberId&&(o="".concat(o,"subscriberId=").concat(t.subscriberId)),this.http.put(o,i)}},{key:"updateEdgeSuitsData",value:function(e,t,i){var n=this.sso.getOrg(e),o="".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/edge-suites?").concat(n);return t&&t.sn?o="".concat(o,"systemId=").concat(t.sn):t&&t.subscriberId&&(o="".concat(o,"subscriberId=").concat(t.subscriberId)),this.http.put(o,i)}},{key:"updateEdgeSuitsDataCOC",value:function(e,t,i){var n=this.sso.getOrg(e);return this.http.put("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/edge-suites?").concat(n,"subscriberId=").concat(t),i)}},{key:"performSearch",value:function(e,t,i,n){var o=(new a.LE).set("filter",t||"").set("pageNumber",i).set("pageSize",n);return this.http.get("".concat(d.N.SUPPORT_URL,"/subscriber-search"),{params:o}).pipe((0,l.K)(this.handleError))}},{key:"handleError",value:function(e){return(0,u._)(e)}},{key:"showCount",value:function(e){this.showCountStatus.next(e)}},{key:"swapNewSystem",value:function(e,t){var i=this.sso.getOrg(e);return this.http.put("".concat(d.N.SUPPORT_URL,"/device/swap?").concat(i,"isReloadSSID=true"),t)}},{key:"updateNewSystem",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.sso.getOrg(e),o="".concat(d.N.SUPPORT_URL,"/device/swap?").concat(n);return i&&(t.skipSSIDLoad=!0),this.http.put(o,t)}},{key:"AddSystemSubscriberData",value:function(e,t){var i=this.sso.getOrg(e);return this.http.post("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems?").concat(i),t)}},{key:"UpdateSystemSubscriberData",value:function(e,t,i){var n=this.sso.getOrg(e),o="".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems?").concat(n);return i&&i.sn?o="".concat(o,"systemId=").concat(i.sn):i&&i.subscriberId&&(o="".concat(o,"subscriberId=").concat(i.subscriberId)),this.http.put(o,t)}},{key:"disassociateDevice",value:function(e,t){var i=this.sso.getOrg(e);return this.http.put("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/disassociate?").concat(i),t)}},{key:"deleteAndDisassociatedDevice",value:function(e,t){var i=this.sso.getOrg(e);return this.http.delete("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems?").concat(i,"systemId=").concat(t))}},{key:"deleteWarningSubscriber",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/edge-suites/servify-contract?").concat(i,"subscriberId=").concat(t))}},{key:"deleteSubscriber",value:function(e,t){var i=this.sso.getOrg(t);return this.http.delete("".concat(d.N.SUPPORT_URL,"/subscriber/").concat(e,"?").concat(i))}},{key:"getSubscribersSystemList",value:function(e,t,i){var n=this.sso.getOrg(e),o="".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems?").concat(n);return t&&t.sn?o="".concat(o,"systemId=").concat(t.sn):t&&t.subscriberId&&(o="".concat(o,"subscriberId=").concat(t.subscriberId)),i&&(o="".concat(o,"&includeEnabledStatus=true")),this.http.get(o)}},{key:"getSystemStatusData",value:function(e,t,i){var n=this.sso.getOrg(e);return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems?").concat(n,"systemId=").concat(t,"&includeEnabledStatus=true"))}},{key:"getedgesuiteData",value:function(e,t,i){var n=this.sso.getOrg(e);return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems?").concat(n,"subscriberId=").concat(t,"&includeEnabledStatus=true"))}},{key:"AddSubscriberData",value:function(e,t){var i=this.sso.getOrg(e);return this.http.post("".concat(d.N.SUPPORT_URL,"/subscriber?").concat(i),t)}},{key:"UpdateSubscriberData",value:function(e,t,i){var n=this.sso.getOrg(e);return this.http.put("".concat(d.N.SUPPORT_URL,"/subscriber/").concat(i,"?").concat(n),t)}},{key:"GetSubscriberData",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(d.N.SUPPORT_URL,"/subscriber/").concat(t,"?").concat(i,"queryByLocationId=false"))}},{key:"UpdateSystemInfo",value:function(e,t,i){var n=this.sso.getOrg(e),o="".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems?").concat(n);return i&&i.sn&&(o="".concat(o,"systemId=").concat(i.sn)),this.http.put(o,t)}},{key:"callRestApi",value:function(e,t){return this.http.get("".concat(e)).pipe((0,l.K)(this.handleError))}},{key:"getDeviceGroupCount",value:function(e){var t=this.sso.getOrg(e);return this.http.get("".concat(d.N.SUPPORT_URL,"/netops-device/group/count?").concat(t))}},{key:"getDeviceGoupList",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(d.N.SUPPORT_URL,"/netops-device/group?").concat(i,"skip=0&limit=").concat(t))}},{key:"getRadioStatus",value:function(e,t){return this.sso.getOrg(e),this.http.get("".concat(d.N.SUPPORT_URL,"/device/").concat(e,"/").concat(t,"/wifi/radioSummaries"))}},{key:"getProvisionrecord",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(d.N.SUPPORT_URL,"/subscriber-provisioning/provisioning-record?").concat(i,"deviceId=").concat(t))}},{key:"updateStaticGroupsData",value:function(e,t,i){var n=this.sso.getOrg(e),o="".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/static-group-memberships?").concat(n);return t&&t.sn?o="".concat(o,"systemId=").concat(t.sn):t&&t.subscriberId&&(o="".concat(o,"subscriberId=").concat(t.subscriberId)),this.http.put(o,i)}},{key:"getModeFeature",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(d.N.CALIX_URL,"/support/device/feature-properties?").concat(i,"modelName=").concat(t))}},{key:"getSearchResult",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(d.N.SUPPORT_URL,"/subscriber-search?").concat(i,"filter=device:").concat(t,"&pageNumber=1&pageSize=1"))}},{key:"getDeviceInfo",value:function(e,t){return this.sso.getOrg(e),this.http.get("".concat(d.N.SUPPORT_URL,"/device/").concat(e,"/").concat(t,"/deviceinfo"))}},{key:"checkSwapStatus",value:function(e,t){return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/replacing?orgId=").concat(t,"&systemId=").concat(e))}},{key:"gerArloSmartData",value:function(e){return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"feature/arlo/devices?userId=").concat(e))}},{key:"deleteArloSmartData",value:function(e,t){return this.http.delete("".concat(d.N.FOUNDATION_BASE_URL,"feature/arlo/device?userId=").concat(e,"&deviceId=").concat(t))}},{key:"getDialPlan",value:function(e){var t=this.sso.getOrg(e);return this.http.get("".concat(d.N.SUPPORT_URL,"/netops-dp/dial-plan?").concat(t))}},{key:"getRegIdInstance",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(d.N.SUPPORT_URL,"/device/deviceInfo?").concat(i,"registrationId=").concat(t))}},{key:"fetchMetaData",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(d.N.API_BASE_URL,"calix/support/device/feature-properties?").concat(i,"serialNumber=").concat(t))}},{key:"getMetaData",value:function(e){return!!this.metaData.hasOwnProperty(e)&&this.metaData[e]}},{key:"setMetaData",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i?this.metaData={}:this.metaData[e]=t}},{key:"getServicesOfSubscriber",value:function(e,t){return this.http.get("".concat(d.N.FOUNDATION_SERVICES_URL,"subscribers/").concat(t,"/services?summaryOnly=true"))}},{key:"associateDevice",value:function(e,t){var i=this.sso.getOrg(e);return this.http.put("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/associate?").concat(i),t)}},{key:"getDeleteAndFactoryreset",value:function(e){var t=this.sso.getOrg(e);return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/org-config/delete-and-factory-reset?").concat(t))}},{key:"DeleteAndFactoryreset",value:function(e,t){var i=this.sso.getOrg(e);return this.http.put("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/org-config/delete-and-factory-reset?").concat(i),t)}},{key:"getCommandIqOfSubscriber",value:function(e,t,i){var n=this.sso.getOrg(e),o="".concat(d.N.SUPPORT_URL,"/subscriber-summary/").concat(t,"?").concat(n);return i&&(o="".concat(o,"ontSerialNumber=").concat(i)),this.http.get(o)}},{key:"getCommandIqOfSystem",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(d.N.SUPPORT_URL,"/unassociated-device-summary?").concat(i,"serialNumber=").concat(t))}},{key:"saveSubscriberSystem",value:function(e){return this.http.post("".concat(d.N.SUPPORT_URL,"/subscriber-provisioning/provisioning-record"),e)}},{key:"getStaticGroupData",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"/subscriber-systems/static-group-memberships?").concat(i,"systemId=").concat(t))}},{key:"getEdgeSuitesData",value:function(e,t){var i=this.sso.getOrg(e),n="".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/edge-suites?").concat(i);return t&&t.sn?n="".concat(n,"systemId=").concat(t.sn):t&&t.subscriberId&&(n="".concat(n,"subscriberId=").concat(t.subscriberId)),this.http.get(n)}},{key:"updateSystemServiceData",value:function(e,t,i){var n=this.sso.getOrg(e);return this.http.put("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems?").concat(n,"systemId=").concat(t),i)}},{key:"getDeviceGoupCount",value:function(e){var t=this.sso.getOrg(e);return this.http.get("".concat(d.N.SUPPORT_URL,"/netops-device/group/count?").concat(t))}},{key:"getDetailedSubscriberServices",value:function(e){return this.http.get("".concat(d.N.FOUNDATION_SERVICES_URL,"subscribers/").concat(e,"?includeDeviceData=false&includeDecommissionedDevices=false"))}},{key:"getSubscriberSystemList",value:function(e){return this.http.get("".concat(d.N.FOUNDATION_SERVICES_URL,"subscribers/").concat(e,"/devices"))}},{key:"addSubscriberSystemList",value:function(e,t){return this.http.post("".concat(d.N.FOUNDATION_SERVICES_URL,"subscribers/").concat(e,"/devices?deviceId=").concat(t),{})}},{key:"getBWProfile",value:function(e){var t=this.sso.getOrg(e);return this.http.get("".concat(d.N.SUPPORT_URL,"/netops-config/configuration-profile?").concat(t))}},{key:"updateEnableApp",value:function(e,t,i){var n=this.sso.getOrg(e);return this.http.put("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/edge-suites/iq-suites/container?").concat(n,"systemId=").concat(t.sn),i)}},{key:"getRadiosummary",value:function(e,t){return this.sso.getOrg(e),this.http.get("".concat(d.N.SUPPORT_URL,"/device/").concat(e,"/").concat(t,"/wifi/radioSummaries"))}},{key:"getSubscriberServices",value:function(e){return this.http.get("".concat(d.N.FOUNDATION_SERVICES_URL,"subscribers/").concat(e,"/services"))}},{key:"getPasspointStatus",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/edge-suites/mycommunityiq/passpoint?").concat(i,"systemId=").concat(t))}},{key:"getsmallBizStatus",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/edge-suites/smallbiziq?").concat(i,"systemId=").concat(t))}},{key:"getsmallBizStatusCOC",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/edge-suites/smallbiziq?").concat(i,"subscriberId=").concat(t))}},{key:"getPasspointcocStatus",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/edge-suites/mycommunityiq/passpoint?").concat(i,"subscriberId=").concat(t))}},{key:"deleteCommunitySubscriber",value:function(e,t){var i=this.sso.getOrg(e);return this.http.get("".concat(d.N.FOUNDATION_BASE_URL,"subscriber-systems/edge-suites/mycommunityiq/subscriber?").concat(i,"subscriberId=").concat(t))}},{key:"getONTIpaddress",value:function(e,t){return this.http.get("".concat(d.N.CMC_API_BASE_URL,"/search/prioritySearch?filter=").concat(t)).pipe((0,l.K)(this.handleError))}},{key:"getONTIpAddresswithAggGroup",value:function(e,t){return this.sso.getOrg(t),this.http.get("".concat(d.N.faAdminCorrelatorURL,"flowendpoint?agggroup=").concat(e,"&assigned=false&count=false&mappedby=NONE&orderby=name&org-id=").concat(t,"&pagenumber=0&pagesize=1000&sortdirection=asc")).pipe((0,l.K)(this.handleError))}},{key:"getOntDetails",value:function(e,t){return this.http.get("".concat(d.N.API_BASE_URL,"cnap/invmgr/devices/").concat(e,"/state/details?onuid=").concat(t))}},{key:"getAsmData",value:function(e,t,i){return this.http.get(i?"".concat(d.N.API_BASE_URL,"cnap/invmgr/subscriber/").concat(e,"?fsan=").concat(t):"".concat(d.N.API_BASE_URL,"cnap/invmgr/subscriber/").concat(e,"?ont-interface-name=").concat(t))}}]),e}()).\u0275fac=function(e){return new(e||r)(g.LFG(a.eN),g.LFG(m.t6))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},90010:function(t,n,r){r.r(n),r.d(n,{MyCommunityIqModule:function(){return De}});var a=r(38583),s=r(39895),c=r(46916),u=r(3679),l=r(23771),d=r(79765),g=r(37716),m=r(7450),p=r(39075),h=r(38048),f=r(12664),v=r(49342),y=r(86451),b=r(43721),Z=r(86640),_=r(96718),T=["deleteModal"],A=["microSiteModal"],C=["verifyMicrositeModel"];function x(e,t){if(1&e&&(g.TgZ(0,"div",12),g.TgZ(1,"div",13),g.TgZ(2,"div",14),g.TgZ(3,"span",15),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){var i=g.oxw();g.xp6(4),g.Oqu(i.language.Loading)}}function S(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",16),g.TgZ(1,"span",17),g._UZ(2,"img",18),g.qZA(),g.TgZ(3,"button",19),g.NdJ("click",function(){return g.CHM(i),g.oxw().closeAlert()}),g._UZ(4,"span"),g.qZA(),g._UZ(5,"div",20),g.qZA()}if(2&e){var n=g.oxw();g.xp6(5),g.Q6J("innerHtml",n.language[n.errorInfo]||n.errorInfo,g.oJD)}}function q(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",21),g.TgZ(1,"span",22),g._UZ(2,"img",23),g.qZA(),g.TgZ(3,"button",19),g.NdJ("click",function(){return g.CHM(i),g.oxw().closeAlert()}),g._UZ(4,"span"),g.qZA(),g._UZ(5,"div",20),g.qZA()}if(2&e){var n=g.oxw();g.xp6(5),g.Q6J("innerHtml",n.language[n.successInfo]||n.successInfo,g.oJD)}}function M(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",24),g.TgZ(1,"span",25),g.NdJ("click",function(){return g.CHM(i),g.oxw().GetMicrosites()}),g._UZ(2,"img",26),g.qZA(),g.qZA()}if(2&e){var n=g.oxw();g.s9C("title",n.language.Refresh)}}function O(e,t){if(1&e&&(g.TgZ(0,"div",43),g._UZ(1,"span",44),g._uU(2),g.qZA()),2&e){var i=g.oxw().$implicit,n=g.oxw(2);g.xp6(2),g.hij(" ",n.language[i.status],"")}}function N(e,t){if(1&e&&(g.TgZ(0,"div",45),g._UZ(1,"span",44),g._uU(2),g.qZA()),2&e){var i=g.oxw().$implicit,n=g.oxw(2);g.xp6(2),g.hij(" ",n.language[i.status],"")}}function w(e,t){if(1&e&&(g.TgZ(0,"div",46),g._UZ(1,"span",44),g._uU(2),g.qZA()),2&e){var i=g.oxw().$implicit,n=g.oxw(2);g.xp6(2),g.hij(" ",n.language[i.status],"")}}function U(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td",32),g._uU(2),g.qZA(),g.TgZ(3,"td",32),g._uU(4),g.qZA(),g.TgZ(5,"td",32),g._uU(6),g.qZA(),g.TgZ(7,"td",32),g._uU(8),g.qZA(),g.TgZ(9,"td",32),g._uU(10),g.qZA(),g.TgZ(11,"td",32),g.YNc(12,O,3,1,"div",33),g.YNc(13,N,3,1,"div",34),g.YNc(14,w,3,1,"div",35),g.qZA(),g.TgZ(15,"td",36),g.TgZ(16,"div",37),g.TgZ(17,"button",38),g.TgZ(18,"span"),g._uU(19,"..."),g.qZA(),g.qZA(),g.TgZ(20,"div",39),g.TgZ(21,"button",40),g.NdJ("click",function(){var e=g.CHM(i),t=e.$implicit,n=e.index,o=g.oxw(2);return o.editMicroSite(t,n),o.buttonText="Bsp_Update_Microsite "}),g._uU(22),g.qZA(),g.TgZ(23,"button",41),g.NdJ("click",function(){var e=g.CHM(i).$implicit;return g.oxw(2).EditMicrositePreview(e)}),g._uU(24),g.qZA(),g.TgZ(25,"button",42),g.NdJ("click",function(){var e=g.CHM(i).$implicit;return g.oxw(2).WarToDelMicrosite(e)}),g._uU(26),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){var n=t.$implicit,o=g.oxw(2);g.xp6(2),g.Oqu(n.communityName),g.xp6(2),g.Oqu(n.communityDesc),g.xp6(2),g.AsE(" ",n.isPredefinedCommunity?o.language["Bsp_Add_Micro__Community_Pre-Defined"]:o.language.Bsp_Add_Micro__Branding_Custom,", ",n.communityType?o.language[n.communityType]:n.communityType,""),g.xp6(2),g.Oqu(n.brandingType?o.language[n.brandingType]:n.brandingType),g.xp6(2),g.Oqu(o.language[n.restrictionLevel]),g.xp6(2),g.Q6J("ngIf","READY"===n.status),g.xp6(1),g.Q6J("ngIf","CREATING"===n.status),g.xp6(1),g.Q6J("ngIf","ERROR"===n.status),g.xp6(7),g.s9C("title",o.language.Edit),g.xp6(1),g.Oqu(o.language.Edit),g.xp6(2),g.Oqu(o.language.Preview),g.xp6(1),g.s9C("title",o.language.delete),g.xp6(1),g.Oqu(o.language.Delete)}}function k(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"table",27,28),g.TgZ(2,"thead"),g.TgZ(3,"tr"),g.TgZ(4,"th",29),g.NdJ("click",function(){return g.CHM(i),g.oxw().showNoDataAvailable()}),g._uU(5),g.qZA(),g.TgZ(6,"th",29),g.NdJ("click",function(){return g.CHM(i),g.oxw().showNoDataAvailable()}),g._uU(7),g.qZA(),g.TgZ(8,"th",29),g.NdJ("click",function(){return g.CHM(i),g.oxw().showNoDataAvailable()}),g._uU(9),g.qZA(),g.TgZ(10,"th",29),g.NdJ("click",function(){return g.CHM(i),g.oxw().showNoDataAvailable()}),g._uU(11),g.qZA(),g.TgZ(12,"th",29),g.NdJ("click",function(){return g.CHM(i),g.oxw().showNoDataAvailable()}),g._uU(13),g.qZA(),g.TgZ(14,"th",29),g.NdJ("click",function(){return g.CHM(i),g.oxw().showNoDataAvailable()}),g._uU(15),g.qZA(),g.TgZ(16,"th",30),g.NdJ("click",function(){return g.CHM(i),g.oxw().showNoDataAvailable()}),g._uU(17),g.qZA(),g.qZA(),g.qZA(),g.TgZ(18,"tbody"),g.YNc(19,U,27,14,"tr",31),g.qZA(),g.qZA()}if(2&e){var n=g.oxw();g.Q6J("dtOptions",n.dtOptions),g.xp6(5),g.Oqu(n.language.Bsp_Microsite_Name),g.xp6(2),g.hij("",n.language.Bsp_Microsite_Description," "),g.xp6(2),g.Oqu(n.language.Bsp_Microsite_Type),g.xp6(2),g.hij("",n.language.Bsp_Microsite_Branding," "),g.xp6(2),g.hij("",n.language.Restrictions," "),g.xp6(2),g.hij("",n.language.Bsp_Microsite_Status," "),g.xp6(2),g.hij("",n.language.Action," "),g.xp6(2),g.Q6J("ngForOf",n.tableData)}}function D(e,t){if(1&e&&(g.TgZ(0,"div",12),g.TgZ(1,"div",13),g.TgZ(2,"div",14),g.TgZ(3,"span",15),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){var i=g.oxw(2);g.xp6(4),g.Oqu(i.language.Loading)}}function I(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",85),g.TgZ(1,"span",17),g._UZ(2,"img",18),g.qZA(),g._UZ(3,"div",86),g.TgZ(4,"button",19),g.NdJ("click",function(){return g.CHM(i),g.oxw(2).closeAlert()}),g._UZ(5,"span"),g.qZA(),g.qZA()}if(2&e){var n=g.oxw(2);g.xp6(3),g.Q6J("innerHtml",n.errorInfoMicrosite,g.oJD)}}function E(e,t){if(1&e&&(g.TgZ(0,"div"),g._uU(1),g.qZA()),2&e){var i=g.oxw(3);g.xp6(1),g.hij(" ",i.communityDesc," ")}}function P(e,t){if(1&e&&(g.TgZ(0,"span"),g._uU(1),g.qZA()),2&e){var i=g.oxw(4);g.xp6(1),g.Oqu(i.language["This field is required"])}}function L(e,t){if(1&e&&(g.TgZ(0,"div",90),g.YNc(1,P,2,1,"span",88),g.qZA()),2&e){var i=g.oxw(3);g.xp6(1),g.Q6J("ngIf",i.addMicroSite.get("communityName").errors.required)}}var F=function(e,t){return{"ccl-error":e,"inp-disabled":t}};function J(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",52),g.TgZ(1,"label",53),g._uU(2),g.TgZ(3,"span",54),g._uU(4,"*"),g.qZA(),g._UZ(5,"br"),g.qZA(),g.TgZ(6,"div",70),g.TgZ(7,"div"),g.TgZ(8,"ng-select",87),g.NdJ("change",function(e){return g.CHM(i),g.oxw(2).patchCommunityDescription(e)}),g.qZA(),g.YNc(9,E,2,1,"div",88),g.YNc(10,L,2,1,"div",89),g.qZA(),g.qZA(),g.qZA()}if(2&e){var n=g.oxw(2);g.xp6(2),g.hij("",n.language.Bsp_Add_Micro__Community_Name," "),g.xp6(6),g.s9C("placeholder",n.language.Bsp_Add_Micro__Community_Name),g.Q6J("items",n.communityArr)("readonly",n.disblemicrosite)("ngClass",g.WLB(7,F,n.addMicroSiteFormSubmitted&&n.addMicroSite.get("communityName").errors,n.disblemicrosite)),g.xp6(1),g.Q6J("ngIf",n.addMicroSite.value.communityName),g.xp6(1),g.Q6J("ngIf",n.addMicroSiteFormSubmitted&&n.addMicroSite.get("communityName").errors)}}function R(e,t){if(1&e&&(g.TgZ(0,"div",90),g.TgZ(1,"span"),g._uU(2),g.qZA(),g.qZA()),2&e){var i=g.oxw(3);g.xp6(2),g.hij(" ",i.language.The_community_name_must_be_4_to_63_characters," ")}}function B(e,t){if(1&e&&(g.TgZ(0,"div",90),g.TgZ(1,"span"),g._uU(2),g.qZA(),g.qZA()),2&e){var i=g.oxw(3);g.xp6(2),g.AsE(" ",i.language["This field can only contain digits, lowercase letters, or hyphens(-), and should NOT start or end with a hyphen (-) and a single word."]," ",i.language["New community name cannot start with \u201cc-\u201d."],"")}}function H(e,t){if(1&e&&(g.TgZ(0,"span"),g._uU(1),g.qZA()),2&e){var i=g.oxw(4);g.xp6(1),g.Oqu(i.language["This field is required"])}}function j(e,t){if(1&e&&(g.TgZ(0,"div",90),g.YNc(1,H,2,1,"span",88),g.qZA()),2&e){var i=g.oxw(3);g.xp6(1),g.Q6J("ngIf",i.addMicroSite.get("communityName").errors.required)}}function Q(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",68),g.TgZ(1,"label",91),g._uU(2),g.TgZ(3,"span",54),g._uU(4,"*"),g.qZA(),g.qZA(),g.TgZ(5,"div",55),g.TgZ(6,"input",92,93),g.NdJ("keyup",function(e){g.CHM(i);var t=g.MAs(7),n=g.oxw(2);return n.checkMaxMin(t.value,"community"),n.clsAlphaNoOnly(t.value,"community"),n.checkSpace(e)}),g.qZA(),g.YNc(8,R,3,1,"div",89),g.YNc(9,B,3,2,"div",89),g.YNc(10,j,2,1,"div",89),g.qZA(),g.qZA()}if(2&e){var n=g.oxw(2);g.xp6(2),g.Oqu(n.language.Bsp_Add_Micro__Community_Name),g.xp6(4),g.s9C("placeholder",n.language.Bsp_Microsite_Name_placeholder),g.Q6J("readonly",n.disblemicrosite)("ngClass",g.WLB(7,F,n.addMicroSiteFormSubmitted&&n.addMicroSite.get("communityName").errors,n.disblemicrosite)),g.xp6(2),g.Q6J("ngIf",n.minimumErr.community),g.xp6(1),g.Q6J("ngIf",n.communityError.community),g.xp6(1),g.Q6J("ngIf",n.addMicroSiteFormSubmitted&&n.addMicroSite.get("communityName").errors)}}function Y(e,t){if(1&e&&(g.TgZ(0,"div",90),g.TgZ(1,"span"),g._uU(2),g.qZA(),g.qZA()),2&e){var i=g.oxw(3);g.xp6(2),g.hij(" ",i.language["The community description shall not exceed 32 characters."]," ")}}function G(e,t){if(1&e&&(g.TgZ(0,"span"),g._uU(1),g.qZA()),2&e){var i=g.oxw(4);g.xp6(1),g.Oqu(i.language["This field is required"])}}function z(e,t){if(1&e&&(g.TgZ(0,"div",90),g.YNc(1,G,2,1,"span",88),g.qZA()),2&e){var i=g.oxw(3);g.xp6(1),g.Q6J("ngIf",i.addMicroSite.get("communityDesc").errors.required)}}var V=function(e){return{"ccl-error":e}};function W(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",68),g.TgZ(1,"label",91),g._uU(2),g.TgZ(3,"span",54),g._uU(4,"*"),g.qZA(),g.qZA(),g.TgZ(5,"div",94),g.TgZ(6,"textarea",95,96),g.NdJ("keyup",function(){g.CHM(i);var e=g.MAs(7);return g.oxw(2).checkMaxMin(e.value,"description")}),g.qZA(),g.YNc(8,Y,3,1,"div",89),g.YNc(9,z,2,1,"div",89),g.qZA(),g.qZA()}if(2&e){var n=g.oxw(2);g.xp6(2),g.hij("",n.language.Bsp_Microsite_Description," "),g.xp6(4),g.s9C("placeholder",n.language.Bsp_Microsite_Description_placeholder),g.Q6J("ngClass",g.VKq(5,V,n.addMicroSiteFormSubmitted&&n.addMicroSite.get("communityDesc").errors)),g.xp6(2),g.Q6J("ngIf",n.minimumErr.description),g.xp6(1),g.Q6J("ngIf",n.addMicroSiteFormSubmitted&&n.addMicroSite.get("communityDesc").errors)}}function K(e,t){if(1&e&&(g.TgZ(0,"span"),g._uU(1),g.qZA()),2&e){var i=g.oxw(4);g.xp6(1),g.Oqu(i.language["This field is required"])}}function X(e,t){if(1&e&&(g.TgZ(0,"div",90),g.YNc(1,K,2,1,"span",88),g.qZA()),2&e){var i=g.oxw(3);g.xp6(1),g.Q6J("ngIf",i.addMicroSite.get("primaryColor").errors.required)}}function ee(e,t){if(1&e&&(g.TgZ(0,"span"),g._uU(1),g.qZA()),2&e){var i=g.oxw(4);g.xp6(1),g.Oqu(i.language["This field is required"])}}function te(e,t){if(1&e&&(g.TgZ(0,"div",90),g.YNc(1,ee,2,1,"span",88),g.qZA()),2&e){var i=g.oxw(3);g.xp6(1),g.Q6J("ngIf",i.addMicroSite.get("secondaryColor").errors.required)}}var ie=function(e,t,i){return{"ccl-error":e,"text-dark":t,"text-white":i}};function ne(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",97),g.TgZ(1,"div",4),g.TgZ(2,"div",98),g.TgZ(3,"div",99),g._uU(4),g._UZ(5,"span",54),g.TgZ(6,"div",100),g.TgZ(7,"div",101),g.TgZ(8,"div",102),g._UZ(9,"img",103),g.TgZ(10,"label",104),g.TgZ(11,"a"),g._uU(12),g.qZA(),g.qZA(),g.TgZ(13,"input",105,106),g.NdJ("change",function(){g.CHM(i);var e=g.MAs(14);return g.oxw(2).convertIntoFileBase(e)}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(15,"div",107),g._uU(16),g.TgZ(17,"ul",108),g.TgZ(18,"li"),g._uU(19),g.qZA(),g.TgZ(20,"li"),g._uU(21),g.qZA(),g.TgZ(22,"li"),g._uU(23),g.qZA(),g.qZA(),g.qZA(),g.TgZ(24,"div",109),g.TgZ(25,"div",110),g._uU(26),g.TgZ(27,"div",111),g.TgZ(28,"div",112),g.TgZ(29,"input",113),g.NdJ("colorPickerChange",function(e){return g.CHM(i),g.oxw(2).addMicroSite.value.primaryColor=e})("ngModelChange",function(e){return g.CHM(i),g.oxw(2).addMicroSite.value.primaryColor=e}),g.qZA(),g.YNc(30,X,2,1,"div",89),g.qZA(),g.qZA(),g.qZA(),g.TgZ(31,"div",114),g._uU(32),g.TgZ(33,"div",111),g.TgZ(34,"div",112),g.TgZ(35,"input",115),g.NdJ("ngModelChange",function(e){return g.CHM(i),g.oxw(2).addMicroSite.value.secondaryColor=e})("colorPickerChange",function(e){return g.CHM(i),g.oxw(2).addMicroSite.value.secondaryColor=e}),g.qZA(),g.YNc(36,te,2,1,"div",89),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){var n=g.oxw(2);g.xp6(4),g.Oqu(n.language.Add_Microsite_Image),g.xp6(5),g.s9C("src",n.Micrositelogo?n.Micrositelogo:"./assets/img/empty_gary.svg",g.LSH),g.xp6(3),g.hij(" ",n.EditmicrositeId?n.language.Replace_Image:n.language["Upload Image"],""),g.xp6(4),g.hij(" ",n.language.Logo_Guidelines," "),g.xp6(3),g.Oqu(n.language["Max File Size: 400kb"]),g.xp6(2),g.hij(" ",n.language["Format: .png, .jpeg"]," "),g.xp6(2),g.Oqu(n.language["Transparent background recommended"]),g.xp6(3),g.hij("",n.language.Primary_Color," "),g.xp6(3),g.Udp("background",n.addMicroSite.value.primaryColor),g.Q6J("colorPicker",n.addMicroSite.value.primaryColor)("ngModel",n.addMicroSite.value.primaryColor)("cpOutputFormat","hex")("ngClass",g.kEZ(23,ie,n.addMicroSiteFormSubmitted&&n.addMicroSite.get("primaryColor").errors,n.getColorByBgColor(n.addMicroSite.value.primaryColor),!n.getColorByBgColor(n.addMicroSite.value.primaryColor))),g.xp6(1),g.Q6J("ngIf",n.addMicroSiteFormSubmitted&&n.addMicroSite.get("primaryColor").errors),g.xp6(2),g.hij("",n.language.Secondary_Color," "),g.xp6(3),g.Udp("background",n.addMicroSite.value.secondaryColor),g.Q6J("ngModel",n.addMicroSite.value.secondaryColor)("colorPicker",n.addMicroSite.value.secondaryColor)("cpOutputFormat","hex")("ngClass",g.kEZ(27,ie,n.addMicroSiteFormSubmitted&&n.addMicroSite.get("secondaryColor").errors,n.getColorByBgColor(n.addMicroSite.value.secondaryColor),!n.getColorByBgColor(n.addMicroSite.value.secondaryColor))),g.xp6(1),g.Q6J("ngIf",n.addMicroSiteFormSubmitted&&n.addMicroSite.get("secondaryColor").errors)}}function oe(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"button",116),g.NdJ("click",function(){return g.CHM(i),g.oxw(2).onSubmit()}),g._uU(1),g.qZA()}if(2&e){var n=g.oxw(2);g.Q6J("disabled",n.minimumErr.community||n.communityError.community||!n.addMicroSite.value.brandingType||!n.addMicroSite.value.communityName),g.xp6(1),g.Oqu(n.language[n.EditmicrositeId?"Edit_Communities":"Add Community"])}}function re(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"button",117),g.NdJ("click",function(){return g.CHM(i),g.oxw(2).onSubmit()}),g._uU(1),g.qZA()}if(2&e){var n=g.oxw(2);g.xp6(1),g.Oqu(n.language.Save_changes)}}function ae(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"button",118),g.NdJ("click",function(){return g.CHM(i),g.oxw(2).AddMicrositePreview()}),g._uU(1),g._UZ(2,"img",119),g.qZA()}if(2&e){var n=g.oxw(2);g.Q6J("disabled",n.minimumErr.community||n.communityError.community||!n.addMicroSite.value.brandingType||!n.addMicroSite.value.communityName),g.xp6(1),g.hij("",n.language.Preview," ")}}function se(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"button",118),g.NdJ("click",function(){return g.CHM(i),g.oxw(2).EditMicroPreview()}),g._uU(1),g._UZ(2,"img",119),g.qZA()}if(2&e){var n=g.oxw(2);g.Q6J("disabled",n.minimumErr.community||n.communityError.community||!n.addMicroSite.value.brandingType||!n.addMicroSite.value.communityName),g.xp6(1),g.hij("",n.language.Preview," ")}}var ce=function(e){return{"inp-disabled":e}};function ue(e,t){if(1&e){var i=g.EpF();g.YNc(0,D,5,1,"div",1),g.YNc(1,I,6,1,"div",47),g.TgZ(2,"div",48),g.TgZ(3,"div",49),g._uU(4),g.qZA(),g.TgZ(5,"button",50),g.NdJ("click",function(){return g.CHM(i),g.oxw().closeAllModal()}),g._UZ(6,"span"),g.qZA(),g.qZA(),g.TgZ(7,"form",51),g.TgZ(8,"div",52),g.TgZ(9,"label",53),g._uU(10),g.TgZ(11,"span",54),g._uU(12,"*"),g.qZA(),g.qZA(),g.TgZ(13,"div",55),g.TgZ(14,"div",56),g.TgZ(15,"input",57),g.NdJ("click",function(){return g.CHM(i),g.oxw().removeCommunity()}),g.qZA(),g.TgZ(16,"label",58),g._uU(17),g.qZA(),g.qZA(),g.TgZ(18,"div",56),g.TgZ(19,"input",59),g.NdJ("click",function(){return g.CHM(i),g.oxw().removeCommunity()}),g.qZA(),g.TgZ(20,"label",60),g._uU(21),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(22,"div",52),g.TgZ(23,"label",61),g._uU(24),g.TgZ(25,"span",54),g._uU(26,"*"),g.qZA(),g.qZA(),g.TgZ(27,"div",55),g.TgZ(28,"div",56),g.TgZ(29,"input",62),g.NdJ("click",function(){return g.CHM(i),g.oxw().removeCommunity()}),g.qZA(),g.TgZ(30,"label",63),g._uU(31),g.qZA(),g.qZA(),g.TgZ(32,"div",56),g.TgZ(33,"input",64),g.NdJ("click",function(){return g.CHM(i),g.oxw().removeCommunity()}),g.qZA(),g.TgZ(34,"label",65),g._uU(35),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(36,J,11,10,"div",66),g.YNc(37,Q,11,10,"div",67),g.YNc(38,W,10,7,"div",67),g.TgZ(39,"div",68),g.TgZ(40,"label",69),g._uU(41),g.qZA(),g.TgZ(42,"div",70),g.TgZ(43,"div"),g._UZ(44,"ng-select",71),g.qZA(),g.qZA(),g.qZA(),g.TgZ(45,"div",72),g.TgZ(46,"label",53),g._uU(47),g.TgZ(48,"span",54),g._uU(49,"*"),g.qZA(),g.qZA(),g.TgZ(50,"div",55),g.TgZ(51,"div",73),g.TgZ(52,"input",74),g.NdJ("change",function(){return g.CHM(i),g.oxw().checkColor()}),g.qZA(),g.TgZ(53,"label",75),g._uU(54),g.qZA(),g.qZA(),g.TgZ(55,"div",56),g.TgZ(56,"input",76),g.NdJ("change",function(){return g.CHM(i),g.oxw().checkColor()}),g.qZA(),g.TgZ(57,"label",77),g._uU(58),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(59,ne,37,31,"div",78),g.TgZ(60,"div",79),g.TgZ(61,"div",80),g.YNc(62,oe,2,2,"button",81),g.YNc(63,re,2,1,"button",82),g.YNc(64,ae,3,2,"button",83),g.YNc(65,se,3,2,"button",83),g.TgZ(66,"button",84),g.NdJ("click",function(){return g.CHM(i),g.oxw().closeAllModal()}),g._uU(67),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){var n=g.oxw();g.Q6J("ngIf",n.micrositeloader),g.xp6(1),g.Q6J("ngIf",n.iserror),g.xp6(3),g.hij(" ",n.language[n.EditmicrositeId?"Edit_Communities":"Add Community"]," "),g.xp6(3),g.Q6J("formGroup",n.addMicroSite),g.xp6(3),g.Oqu(n.language.Bsp_Add_Micro__Community),g.xp6(5),g.Q6J("value",!0),g.uIk("disabled",n.disableCommunity?"":null),g.xp6(2),g.hij("",n.language["Bsp_Add_Micro__Community_Pre-Defined"]," "),g.xp6(2),g.Q6J("value",!1),g.uIk("disabled",n.disblemicrosite?"":null),g.xp6(2),g.Oqu(n.language.Bsp_Add_Micro__Community_new),g.xp6(3),g.Oqu(n.language.Bsp_Microsite_Type),g.xp6(5),g.uIk("disabled",n.disblemicrosite?"":null),g.xp6(2),g.hij("",n.language.Permanent," "),g.xp6(2),g.uIk("disabled",n.disblemicrosite?"":null),g.xp6(2),g.Oqu(n.language["Non-permanent (events)"]),g.xp6(1),g.Q6J("ngIf",n.addMicroSite.value.isPredefinedCommunity),g.xp6(1),g.Q6J("ngIf",!n.addMicroSite.value.isPredefinedCommunity),g.xp6(1),g.Q6J("ngIf",!n.addMicroSite.value.isPredefinedCommunity),g.xp6(3),g.Oqu(n.language.Restrictions),g.xp6(3),g.s9C("placeholder",n.language.Restrictions),g.Q6J("items",n.restrictionArr)("readonly",n.addMicroSite.value.isPredefinedCommunity||n.disblemicrosite)("ngClass",g.VKq(33,ce,n.addMicroSite.value.isPredefinedCommunity||n.disblemicrosite)),g.xp6(3),g.hij("",n.language.Bsp_Microsite_Branding," "),g.xp6(7),g.hij("",n.language.Bsp_Add_Micro__Branding_Default," "),g.xp6(4),g.hij("",n.language.Bsp_Add_Micro__Branding_Custom," "),g.xp6(1),g.Q6J("ngIf","Custom"==n.addMicroSite.value.brandingType),g.xp6(3),g.Q6J("ngIf",!n.disblemicrosite),g.xp6(1),g.Q6J("ngIf",n.disblemicrosite),g.xp6(1),g.Q6J("ngIf",!n.EditmicrositeId),g.xp6(1),g.Q6J("ngIf",n.EditmicrositeId),g.xp6(2),g.hij("",n.language.Bsp_Micro_Cancel," ")}}function le(e,t){if(1&e&&(g.TgZ(0,"div",12),g.TgZ(1,"div",13),g.TgZ(2,"div",14),g.TgZ(3,"span",15),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){var i=g.oxw(2);g.xp6(4),g.Oqu(i.language.Loading)}}function de(e,t){if(1&e){var i=g.EpF();g.YNc(0,le,5,1,"div",1),g.TgZ(1,"div",120),g.TgZ(2,"div",121),g._uU(3),g.qZA(),g.TgZ(4,"button",122),g.NdJ("click",function(){return g.CHM(i).$implicit.dismiss()}),g._UZ(5,"span",123),g.qZA(),g.qZA(),g.TgZ(6,"div",124),g.TgZ(7,"div",125),g._uU(8),g.qZA(),g._uU(9),g.qZA(),g.TgZ(10,"div",126),g.TgZ(11,"button",127),g.NdJ("click",function(){return g.CHM(i),g.oxw().DeleteMicrosite()}),g._uU(12),g.qZA(),g.TgZ(13,"button",128),g.NdJ("click",function(){return g.CHM(i).$implicit.dismiss()}),g._uU(14),g.qZA(),g.qZA()}if(2&e){var n=g.oxw();g.Q6J("ngIf",n.micrositeloader),g.xp6(3),g.hij(" ",n.language.Delete_Communities,""),g.xp6(5),g.hij(" ",n.language.community_Delete_Mes_for_community," "),g.xp6(1),g.hij(" ",n.language.community_Delete_Mes," "),g.xp6(3),g.hij(" ",n.language.yes," "),g.xp6(2),g.hij("",n.language.no," ")}}function ge(e,t){if(1&e&&(g.TgZ(0,"li"),g._uU(1),g.qZA()),2&e){var i=t.$implicit;g.xp6(1),g.Oqu(null==i?null:i.name)}}function me(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",48),g.TgZ(1,"button",50),g.NdJ("click",function(){return g.CHM(i).$implicit.dismiss("Cross click")}),g._UZ(2,"span"),g.qZA(),g.qZA(),g.TgZ(3,"div",124),g.TgZ(4,"div",129),g.TgZ(5,"div",17),g._UZ(6,"img",18),g.qZA(),g.TgZ(7,"div",130),g.TgZ(8,"h1",131),g._uU(9),g.qZA(),g.TgZ(10,"p",132),g._uU(11),g.qZA(),g.TgZ(12,"ul",133),g.YNc(13,ge,2,1,"li",31),g.qZA(),g.TgZ(14,"p"),g._uU(15),g.qZA(),g.TgZ(16,"div",134),g.TgZ(17,"button",135),g.NdJ("click",function(){return g.CHM(i).$implicit.close("Save click")}),g._uU(18),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){var n=g.oxw();g.xp6(9),g.AsE("",n.language.Cannot_Delete," ",n.micrositeName,""),g.xp6(2),g.Oqu(n.language.VerifyCommunityTitle),g.xp6(2),g.Q6J("ngForOf",n.workFlowData),g.xp6(2),g.hij("",n.language.To_delete_this_community_msg,"."),g.xp6(3),g.Oqu(n.language.Okay)}}var pe,he=((pe=function(){function e(t,n,o,r,a,s,c,u,l){var g=this;i(this,e),this.translateService=t,this.router=n,this.titleService=o,this.sso=r,this.formBuilder=a,this.dialogService=s,this.commonOrgService=c,this.communityService=u,this.validatorService=l,this.bspFormSubmitted=!1,this.submitted=!1,this.addMicroSiteFormSubmitted=!1,this.minimumErr={community:!1,bsp:!1,wifi:!1,description:!1,friendlyName:!1},this.communityError={community:!1,bsp:!1},this.dtOptions={pagingType:"full_numbers",dom:"tipr",lengthChange:!1,pageLength:10,destroy:!0,processing:!1,columnDefs:[{orderable:!1,targets:[5,6]},{targets:[0],orderable:!0}],order:[0,"asc"],drawCallback:function(e){g._iDisplayStart=e._iDisplayStart,e.aoData.length<=e._iDisplayLength&&$(e.nTableWrapper).find("#".concat(e.sTableId,"_last")).addClass("disabled")}},this.dtTrigger=new d.xQ,this.tableData=[],this.buttonText="Bsp_Add_Microsite",this.refreshBack=!1,this.restrictionArr=[{name:"Child (0-9 yrs. old)",value:"Child"},{name:"Pre-Teen (9-12 yrs. old)",value:"Pre-Teen"},{name:"Teen (13-18 yrs. old)",value:"Teen"},{name:"None",value:"None"}],this.subscription=[],this.frTable=this.translateService.fr,this.esTable=this.translateService.es,this.de_DETable=this.translateService.de_DE,this.ORG_ID=this.sso.getOrgId(),this.MODULE=this.sso.getRedirectModule(this.router.url),this.commonOrgService.currentPageAdder("SmartTown Wi-Fi")}return o(e,[{key:"ngOnDestroy",value:function(){this.subscription.forEach(function(e){return null==e?void 0:e.unsubscribe()})}},{key:"ngOnInit",value:function(){var e=this;this.language=this.translateService.defualtLanguage,this.subscription.push(this.translateService.selectedLanguage.subscribe(function(t){e.language=t,e.tableDataAvailable=!1,e.restrictionArr=[{name:e.language["Child (0-8 yrs Old)"],value:"Child"},{name:e.language["Pre-Teen (9-12 yrs Old)"],value:"Pre-Teen"},{name:e.language["Teen (13-18 yrs Old)"],value:"Teen"},{name:e.language.None,value:"None"}],e.tableLanguageOptions(),e.titleService.setTitle("".concat(e.language.Communities," - ").concat(e.language["SmartTown Wi-Fi"]," - ").concat(e.language.administration," - ").concat(e.language["Calix Cloud"])),setTimeout(function(){e.tableDataAvailable=!0},100)})),this.titleService.setTitle("".concat(this.language.Communities," - ").concat(this.language["SmartTown Wi-Fi"]," - ").concat(this.language.administration," - ").concat(this.language["Calix Cloud"])),this.GetMicrosites(),this.getPredefinedCommunities(),this.addMicroSite=this.formBuilder.group({isPredefinedCommunity:[!0],communityType:["Permanent"],brandingType:["Default"],restrictionLevel:["None"],communityName:[null,[u.kI.required]],communityDesc:[""],logo:[""],primaryColor:["#0279FF",u.kI.required],secondaryColor:["#CCCCCC",u.kI.required]}),this.GetBspProvider(),this.restrictionArr=[{name:this.language["Child (0-8 yrs Old)"],value:"Child"},{name:this.language["Pre-Teen (9-12 yrs Old)"],value:"Pre-Teen"},{name:this.language["Teen (13-18 yrs Old)"],value:"Teen"},{name:this.language.None,value:"None"}]}},{key:"GetBspProvider",value:function(){var e=this;this.loader=!this.refreshBack,this.subscription.push(this.communityService.GetBspproviderInfo().subscribe(function(t){var i;e.BspData=t||{},e.bspId=null==t?void 0:t.id,e.BspData&&(e.refreshBack=!0,e.loader=!1),e.status=null==t?void 0:t.status,e.ShowMicrosite="READY"===e.status,e.defaultLogo=null===(i=e.BspData)||void 0===i?void 0:i.defaultLogo,e.bsploader=!1,e.loader=!1},function(t){e.loader=!1,e.bspId="",e.BspData="",e.status="",e.tableData=[],e.ShowMicrosite=!1,e.bspFormSubmitted=!1,e.defaultLogo="",e.bsploader=!1}))}},{key:"showNoDataAvailable",value:function(){setTimeout(function(){var e=document.querySelector(".dataTables_empty");e&&(e.style.display="table-cell",e.classList.add("text-center"))},100)}},{key:"GetMicrosites",value:function(){var e=this;this.micrositeloader=!0,this.subscription.push(this.communityService.GetMicrosite().subscribe(function(t){e.tableDataAvailable=!1,e.tableData=t||[],e.tableData||setTimeout(function(){e.showNoDataAvailable()},300),e.dtOptions={pagingType:"full_numbers",dom:"tipr",lengthChange:!1,pageLength:10,destroy:!0,processing:!0,displayStart:e._iDisplayStart?e._iDisplayStart:0,columnDefs:[{orderable:!1,targets:[5,6]},{targets:[0],orderable:!0}],order:[0,"asc"],drawCallback:function(t){e._iDisplayStart=t._iDisplayStart,t.aoData.length<=t._iDisplayLength&&$(t.nTableWrapper).find("#".concat(t.sTableId,"_last")).addClass("disabled")}},e.micrositeloader=!1,e.closeAllModal(),e.loadArloTables()},function(t){e.micrositeloader=!1,e.loadArloTables(),404==t.status&&setTimeout(function(){e.showNoDataAvailable()},300),e.pageErrorHandle(t,!0)}))}},{key:"closeAllModal",value:function(){this.error=!1,this.iserror=!1,this.dialogService.dismissAll()}},{key:"addMicroSiteValue",value:function(){var e;this.disblemicrosite=!1,this.error=!1,this.iserror=!1,this.logo="",this.addMicroSiteFormSubmitted=!1,this.EditmicrositeId="",this.minimumErr.community=!1,this.minimumErr.description=!1,this.communityDesc="",this.communityError.community=!1,this.Micrositelogo="",0===(null===(e=this.communityArr)||void 0===e?void 0:e.length)?(this.disableCommunity=!0,this.addMicroSite.patchValue({isPredefinedCommunity:!1})):this.disableCommunity=!1,this.addMicroSite.reset({shortName:null,communityType:"Permanent",isPredefinedCommunity:!this.disableCommunity,brandingType:"Default",restrictionLevel:"None",communityName:null,communityDesc:"",logo:null,primaryColor:"#0279FF",secondaryColor:"#CCCCCC"}),this.dialogService.open(this.microSiteModal)}},{key:"editMicroSite",value:function(e,t){var i=this;this.error=!1,this.logo="",this.iserror=!1,this.EditmicrositeId=e.id,this.disblemicrosite=!0,this.disableCommunity=!0,this.minimumErr.description=!1,this.minimumErr.community=!1,this.editLoader=!0,this.subscription.push(this.communityService.GetMicrositeForEdit(this.EditmicrositeId).subscribe(function(e){i.addMicroSite.patchValue(e),i.Micrositelogo=null==e?void 0:e.logo,i.editLoader=!1,i.dialogService.open(i.microSiteModal)},function(e){i.pageErrorHandle(e,!1),i.editLoader=!1})),this.editIndex=t}},{key:"EditMicrositePreview",value:function(e){var t=this;this.editLoader=!0,this.subscription.push(this.communityService.GetMicrositeForEdit(null==e?void 0:e.id).subscribe(function(e){t.MicrositeData=e||{},t.editLoader=!1,localStorage.setItem("calix.micrositeDetails",JSON.stringify(t.MicrositeData)),t.router.navigate([]).then(function(e){window.open("/microsite_preview","_blank")})},function(e){t.pageErrorHandle(e,!1),t.editLoader=!1}))}},{key:"WarToDelMicrosite",value:function(e){var t=this;this.micrositeId=e.id,this.micrositeName=null==e?void 0:e.communityName;var i=this.micrositeId;this.micrositeloader=!0,this.subscription.push(this.communityService.WarToDelMicrosite(this.ORG_ID,JSON.stringify({orgId:this.ORG_ID,"actions.passpointConfig.communities.micrositeId":i})).subscribe(function(e){t.workFlowData=e||[],t.micrositeloader=!1,0!==(null==e?void 0:e.length)?t.dialogService.open(t.verifyMicrositeModel,{windowClass:"custom-alert-warn"}):t.dialogService.open(t.deleteModal)},function(e){t.pageErrorHandle(e,!1),t.dialogService.open(t.deleteModal),t.micrositeloader=!1}))}},{key:"loadArloTables",value:function(){var e=this;this.tableLanguageOptions(),setTimeout(function(){e.tableDataAvailable=!0},0)}},{key:"tableLanguageOptions",value:function(){"fr"==this.language.fileLanguage?this.dtOptions.language=this.frTable:"es"==this.language.fileLanguage?this.dtOptions.language=this.esTable:"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.de_DETable:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}},{key:"pageErrorHandle",value:function(e,t){t?(this.iserror=!0,this.errorInfoMicrosite=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e)):(this.error=!0,this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e))}},{key:"onSubmit",value:function(){var e=this;this.addMicroSiteFormSubmitted=!0;var t=new FormData;if(this.EditmicrositeId){if(!this.addMicroSite.value.isPredefinedCommunity&&!this.addMicroSite.value.communityDesc||this.minimumErr.description)return;if("Custom"===this.addMicroSite.value.brandingType){var i;if(this.micrositeloader=!0,(i=$("input[name='white_logo']").get(0).files).length){var n=i[0].name.split(".").pop(),o=i[0].size/1024;if(-1==(s=["jpeg","JPEG","PNG","png","jpg","JPG"]).indexOf(n)){var r=s.join(", ");return void this.addError(this.language.Image_extension_will_be+r+this.language.file_format,!0)}if(o>400)return void this.addError(this.language.LogoImage_uploaderror+" 400 KB",!0);$.each(i,function(e,i){t.append("logo",i),t.append("updateLogo","true")})}else t.append("logo",""),t.append("updateLogo","false");t.append("primaryColor",this.addMicroSite.value.primaryColor),t.append("secondaryColor",this.addMicroSite.value.secondaryColor),t.append("brandingType",this.addMicroSite.value.brandingType),t.append("communityDesc",this.addMicroSite.value.communityDesc),t.append("restrictionLevel",this.addMicroSite.value.restrictionLevel)}else t.append("logo",""),t.append("updateLogo","false"),t.append("primaryColor",""),t.append("secondaryColor",""),t.append("communityDesc",this.addMicroSite.value.communityDesc),t.append("brandingType",this.addMicroSite.value.brandingType),t.append("restrictionLevel",this.addMicroSite.value.restrictionLevel)}else{if(!this.addMicroSite.value.brandingType||!this.addMicroSite.value.communityName||!this.addMicroSite.value.isPredefinedCommunity&&!this.addMicroSite.value.communityDesc)return;if(this.micrositeloader=!0,"Custom"===this.addMicroSite.value.brandingType){var a;if((a=$("input[name='white_logo']").get(0).files).length){var s;if(n=a[0].name.split(".").pop(),o=a[0].size/1024,-1==(s=["jpeg","JPEG","PNG","png","jpg","JPG"]).indexOf(n))return r=s.join(", "),void this.addError(this.language.Image_extension_will_be+r+this.language.file_format,!0);if(o>400)return void this.addError(this.language.LogoImage_uploaderror+" 400 KB",!0);$.each(a,function(e,i){t.append("logo",i),t.append("updateLogo","true")})}else t.append("logo",""),t.append("updateLogo","false");t.append("primaryColor",this.addMicroSite.value.primaryColor),t.append("secondaryColor",this.addMicroSite.value.secondaryColor)}else t.append("logo",""),t.append("updateLogo","false"),t.append("primaryColor",""),t.append("secondaryColor","");if(this.addMicroSite.value.isPredefinedCommunity)t.append("communityDesc","");else if(t.append("communityDesc",this.addMicroSite.value.communityDesc),this.clsAlphaNoOnly(this.addMicroSite.value.communityName),this.checkMaxMin(this.addMicroSite.value.communityName,"community"),this.communityError.community||this.minimumErr.community||this.minimumErr.description)return void(this.micrositeloader=!1);t.append("isPredefinedCommunity",this.addMicroSite.value.isPredefinedCommunity),t.append("brandingType",this.addMicroSite.value.brandingType),t.append("communityName",this.addMicroSite.value.communityName.toLowerCase()),t.append("communityType",this.addMicroSite.value.communityType),t.append("restrictionLevel",this.addMicroSite.value.restrictionLevel)}this.subscription.push(this.EditmicrositeId?this.communityService.EditMicrosite(t,this.EditmicrositeId).subscribe(function(t){e.closeAllModal(),e.GetMicrosites(),e.getPredefinedCommunities()},function(t){e.pageErrorHandle(t,!0),e.micrositeloader=!1}):this.communityService.AddMicrosite(t).subscribe(function(t){e.closeAllModal(),e.GetMicrosites(),e.getPredefinedCommunities()},function(t){e.pageErrorHandle(t,!0),e.micrositeloader=!1}))}},{key:"onChangecommunity",value:function(e){this.addMicroSite.patchValue({restrictionLevel:"None"})}},{key:"getPredefinedCommunities",value:function(){var e=this;this.loading=!0,this.subscription.push(this.communityService.GetpredefinedCommunities().subscribe(function(t){var i;e.communityArr=t||[],0===(null===(i=e.communityArr)||void 0===i?void 0:i.length)?(e.disableCommunity=!0,e.addMicroSite.patchValue({isPredefinedCommunity:!1})):e.disableCommunity=!1,e.loading=!1},function(t){e.loader=!1}))}},{key:"addError",value:function(e,t){t?(this.errorInfoMicrosite=e,this.iserror=!0,this.error=!1):(this.errorInfo=e,this.error=!0,this.iserror=!1),this.micrositeloader=!1,$("html, body").animate({scrollTop:0},"slow")}},{key:"clsAlphaNoOnly",value:function(e,t){if("community"===t){var i=new RegExp("^[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$"),n=e.substring(0,2);this.communityError.community=!i.test(e)||"c-"===n}else i=new RegExp("^[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$"),this.communityError.bsp=!i.test(e)}},{key:"checkMaxMin",value:function(e,t){"community"===t?e.length>0&&(this.minimumErr.community=!(e.length>=4&&e.length<=31)):"bsp"===t?e.length>0&&(this.minimumErr.bsp=!(e.length>=4&&e.length<=31)):"description"===t?e.length>0&&(this.minimumErr.description=!(e.length<=32)):"friendlyName"===t?this.minimumErr.friendlyName=e.length>0&&!(e.length>=3&&e.length<=32):e.length>0&&(this.minimumErr.wifi=!(e.length>=3&&e.length<=32))}},{key:"convertIntoFileBase",value:function(e){var t=this;if(this.Micrositelogo="",$("#logo-customimage-view").attr("src"," "),e.files&&e.files[0]){var i=new FileReader;i.onload=function(e){$("#logo-customimage-view").attr("src",e.target.result),t.logo=e.target.result,e.target.result},i.readAsDataURL(e.files[0])}}},{key:"getColorByBgColor",value:function(e){return!e||parseInt(e.replace("#",""),16)>8388607.5}},{key:"AddMicrositePreview",value:function(){var e,t,i={communityDesc:this.addMicroSite.value.communityDesc&&!this.addMicroSite.value.isPredefinedCommunity?this.addMicroSite.value.communityDesc:this.communityDesc&&this.addMicroSite.value.isPredefinedCommunity?this.communityDesc:this.addMicroSite.value.communityDesc,logo:this.logo?this.logo:"Custom"!==this.addMicroSite.value.brandingType?this.defaultLogo:"",primaryColor:"Custom"===this.addMicroSite.value.brandingType?this.addMicroSite.value.primaryColor:null===(e=this.BspData)||void 0===e?void 0:e.defaultPrimaryColor,secondaryColor:"Custom"===this.addMicroSite.value.brandingType?this.addMicroSite.value.secondaryColor:null===(t=this.BspData)||void 0===t?void 0:t.defaultSecondaryColor};localStorage.setItem("calix.micrositeDetails",JSON.stringify(i)),this.router.navigate([]).then(function(e){window.open("/microsite_preview","_blank")})}},{key:"EditMicroPreview",value:function(){var e,t,i={communityDesc:this.communityDesc?this.communityDesc:this.addMicroSite.value.communityDesc,logo:this.logo?this.logo:"Custom"===this.addMicroSite.value.brandingType?this.Micrositelogo:this.defaultLogo,primaryColor:"Custom"===this.addMicroSite.value.brandingType?this.addMicroSite.value.primaryColor:null===(e=this.BspData)||void 0===e?void 0:e.defaultPrimaryColor,secondaryColor:"Custom"===this.addMicroSite.value.brandingType?this.addMicroSite.value.secondaryColor:null===(t=this.BspData)||void 0===t?void 0:t.defaultSecondaryColor};localStorage.setItem("calix.micrositeDetails",JSON.stringify(i)),this.router.navigate([]).then(function(e){window.open("/microsite_preview","_blank")})}},{key:"removeCommunity",value:function(){this.addMicroSite.patchValue({communityName:null,description:null,restrictionLevel:"None"})}},{key:"patchCommunityDescription",value:function(e){this.communityDesc=e.description,this.addMicroSite.patchValue("c-k12"===this.addMicroSite.value.communityName?{restrictionLevel:"Pre-Teen"}:{restrictionLevel:"None"})}},{key:"closeAlert",value:function(){this.error=!1,this.iserror=!1,this.success=!1}},{key:"checkSpace",value:function(e){0==e.value.toString().replace(/\ /g,"").length&&32==e.which&&e.preventDefault()}},{key:"checkColor",value:function(){"Default"===this.addMicroSite.value.brandingType&&this.addMicroSite.patchValue({primaryColor:"#0279FF",secondaryColor:"#CCCCCC"})}},{key:"deleteMicrosite",value:function(e,t,i){this.micrositeId=e.id,this.dialogService.open(i,{size:"md"})}},{key:"DeleteMicrosite",value:function(){var e=this,t=this.micrositeId;this.micrositeloader=!0,this.subscription.push(this.communityService.DeleteMicrosite(t).subscribe(function(t){e.GetMicrosites(),e.getPredefinedCommunities()},function(t){e.pageErrorHandle(t,!1),e.micrositeloader=!1}))}}]),e}()).\u0275fac=function(e){return new(e||pe)(g.Y36(m.s),g.Y36(s.F0),g.Y36(p.Dx),g.Y36(h.t6),g.Y36(u.qu),g.Y36(f.FF),g.Y36(v.v),g.Y36(y.l),g.Y36(b.o))},pe.\u0275cmp=g.Xpm({type:pe,selectors:[["app-communities"]],viewQuery:function(e,t){var i;1&e&&(g.Gf(T,7),g.Gf(A,7),g.Gf(C,7),g.Gf(l.G,5)),2&e&&(g.iGM(i=g.CRH())&&(t.deleteModal=i.first),g.iGM(i=g.CRH())&&(t.microSiteModal=i.first),g.iGM(i=g.CRH())&&(t.verifyMicrositeModel=i.first),g.iGM(i=g.CRH())&&(t.dtElements=i))},decls:17,vars:8,consts:[[1,"row","relative-position"],["class","loader",4,"ngIf"],["class","w-100 alert alert-danger fade show",4,"ngIf"],["class","w-100 alert alert-success fade show",4,"ngIf"],[1,"col-md-12"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"btn-default","primary","px-3","mt-1",3,"disabled","click"],["class","d-inline-flex ml-2",3,"title",4,"ngIf"],[1,"microsites-table","mt-3",3,"hidden"],["class","table","datatable","",3,"dtOptions",4,"ngIf"],["microSiteModal",""],["deleteModal",""],["verifyMicrositeModel",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert-success","fade","show"],[1,"success-img"],["src","./assets/img/success-icon.svg"],[1,"d-inline-flex","ml-2",3,"title"],["id","refreshicon",1,"cursor-pointer",3,"click"],["src","./assets/img/ic_refresh.svg"],["datatable","",1,"table",3,"dtOptions"],["table1",""],[3,"click"],[1,"Action-column",3,"click"],[4,"ngFor","ngForOf"],[1,"align-middle"],["class","active-but",4,"ngIf"],["class","draft-but",4,"ngIf"],["class","error-but",4,"ngIf"],[1,"actions","align-middle"],[1,"communities-action","dropdown","dropleft"],["type","button","id","actionDropBtn","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","dropdown-toggle","p-0"],["aria-labelledby","actionDropBtn",1,"dropdown-menu","mt-4","ml-5"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"dropdown-item",3,"title","click"],[1,"dropdown-item",3,"click"],[1,"dropdown-item",3,"title","click"],[1,"active-but"],[1,"dot"],[1,"draft-but"],[1,"error-but"],["class","w-100 alert alert-danger fade show d-flex align-items-center mt-4 mb-2",4,"ngIf"],[1,"modal-header","my-2"],[1,"communities-popup-title"],["type","button","aria-label","Close",1,"close","custom-close-btn",3,"click"],[3,"formGroup"],[1,"form-group","row"],["for","inputPassword",1,"col-sm-4","col-form-label"],[1,"error"],[1,"col-sm-8"],[1,"form-check","form-check-inline"],["type","radio","formControlName","isPredefinedCommunity","id","inlineRadio1",1,"form-check-input",3,"value","click"],["for","inlineRadio1",1,"form-check-label"],["type","radio","formControlName","isPredefinedCommunity","id","inlineRadio2",1,"form-check-input",3,"value","click"],["for","inlineRadio2",1,"form-check-label"],["for","Community",1,"col-sm-4","col-form-label"],["type","radio","formControlName","communityType","value","Permanent","id","communityType1",1,"form-check-input",3,"click"],["for","communityType1",1,"form-check-label"],["type","radio","formControlName","communityType","value","Non-permanent","id","communityType2",1,"form-check-input",3,"click"],["for","communityType2",1,"form-check-label"],["class","form-group row",4,"ngIf"],["class","form-group ccl-form row",4,"ngIf"],[1,"form-group","ccl-form","row"],["for","restrictionLevel",1,"col-sm-4","col-form-label"],[1,"col-md-8"],["formControlName","restrictionLevel","bindLabel","name","bindValue","value",3,"items","placeholder","readonly","ngClass"],[1,"form-group","row","my-2"],[1,"form-check","form-check-inline","branding-input"],["type","radio","formControlName","brandingType","id","inlineRadio11","value","Default",1,"form-check-input",3,"change"],["for","inlineRadio11",1,"form-check-label"],["type","radio","formControlName","brandingType","id","inlineRadio22","value","Custom",1,"form-check-input",3,"change"],["for","inlineRadio22",1,"form-check-label"],["class","row my-2",4,"ngIf"],[1,"row","my-3"],[1,"col-md-12","align-items-center"],["class","btn-default primary px-3 mr-3","type","button","id","addMicrosite",3,"disabled","click",4,"ngIf"],["class","btn-default primary px-3 mr-3","type","button","id","bsp-savechanges",3,"click",4,"ngIf"],["class","btn-default btn-dft px-3 mr-3","type","button","id","bsp-preview-btn",3,"disabled","click",4,"ngIf"],["id","bsp-cancel",1,"btn","primary","pointer",3,"click"],[1,"w-100","alert","alert-danger","fade","show","d-flex","align-items-center","mt-4","mb-2"],[1,"d-inline-flex","w-80",3,"innerHtml"],["formControlName","communityName","bindLabel","name","bindValue","name",3,"items","placeholder","readonly","ngClass","change"],[4,"ngIf"],["class","ccl-error",4,"ngIf"],[1,"ccl-error"],["for","staticEmail",1,"col-sm-4","col-form-label"],["type","text","formControlName","communityName","required","",1,"form-control",3,"readonly","placeholder","ngClass","keyup"],["inputPassword",""],[1,"col-sm-8","ccl-form"],["rows","3","formControlName","communityDesc","required","",1,"text-area-style",3,"placeholder","ngClass","keyup"],["description",""],[1,"row","my-2"],[1,"add-microsite-container"],[1,"add-microsite-item"],[1,"form-input-field"],[1,"input-field"],["id","logo-customimage-view-div ",1,"logo-customimage-view","mt-2"],["id","logo-customimage-view",1,"white-logo-image-box","default-microsite-image",3,"src"],["for","white_logo",1,"primary","m-0","pointer"],["type","file","id","white_logo","name","white_logo",1,"type-file",3,"change"],["white_logo",""],[1,"add-microsite-item","logo-guidelines"],[1,"mt-1"],[1,"add-microsite-item","mb-2"],[1,"w-100","mb-2"],[1,"form-input-field","ccl-form","mt-2"],[1,"input-field","color-input"],["id","primaryColor","formControlName","primaryColor",1,"form-control",2,"color","#faf9f5",3,"colorPicker","ngModel","cpOutputFormat","ngClass","colorPickerChange","ngModelChange"],[1,"w-100"],["id","secondaryColor","formControlName","secondaryColor",1,"form-control","ng-untouched","ng-pristine","ng-valid",2,"color","#faf9f5",3,"ngModel","colorPicker","cpOutputFormat","ngClass","ngModelChange","colorPickerChange"],["type","button","id","addMicrosite",1,"btn-default","primary","px-3","mr-3",3,"disabled","click"],["type","button","id","bsp-savechanges",1,"btn-default","primary","px-3","mr-3",3,"click"],["type","button","id","bsp-preview-btn",1,"btn-default","btn-dft","px-3","mr-3",3,"disabled","click"],["src","./assets/img/icon_expand.svg"],[1,"modal-header"],["id","modal-basic-title",1,"communities-popup-title","modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mb-2"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"],["type","button","data-dismiss","modal",1,"btn-default","btn-dft","px-3",3,"click"],[1,"d-flex"],[1,"custom-alert-content"],[1,"cco-secondary-title"],[1,"mb-0"],[1,"list-disc-type"],[1,"w-100","my-3"],["type","button","id","microErrorOkayBtn",1,"btn-default","btn-primary","mr-2",3,"click"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.YNc(1,x,5,1,"div",1),g.YNc(2,S,6,1,"div",2),g.YNc(3,q,6,1,"div",3),g.TgZ(4,"div",4),g.TgZ(5,"button",5),g.NdJ("click",function(){return t.addMicroSiteValue(),t.buttonText="Bsp_Add_Microsite"}),g._uU(6),g.qZA(),g.YNc(7,M,3,1,"div",6),g.qZA(),g.TgZ(8,"div",4),g.TgZ(9,"div",7),g.YNc(10,k,20,9,"table",8),g.qZA(),g.qZA(),g.qZA(),g.YNc(11,ue,68,35,"ng-template",null,9,g.W1O),g.YNc(13,de,15,6,"ng-template",null,10,g.W1O),g.YNc(15,me,19,6,"ng-template",null,11,g.W1O)),2&e&&(g.xp6(1),g.Q6J("ngIf",t.loader||t.micrositeloader||t.loading||t.editLoader||t.bsploader),g.xp6(1),g.Q6J("ngIf",t.error),g.xp6(1),g.Q6J("ngIf",t.success),g.xp6(2),g.Q6J("disabled",!t.ShowMicrosite),g.xp6(1),g.hij("",t.language.Add_Community_Btn," "),g.xp6(1),g.Q6J("ngIf",null==t.tableData?null:t.tableData.length),g.xp6(2),g.Q6J("hidden",!t.tableDataAvailable),g.xp6(1),g.Q6J("ngIf",t.tableDataAvailable))},directives:[a.O5,l.G,a.sg,u._Y,u.JL,u.sg,u._,u.Fj,u.JJ,u.u,Z.w9,a.mk,u.Q7,_.Kk],styles:[".communities-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:transparent!important}.communities-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{display:none}.communities-popup-title[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:42px;line-height:53px;color:#1a1f22;margin-bottom:25px}.ccl-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid transparent;background-color:#f8f8fa;width:100%;border-radius:26px;padding:10px 16px}.add-microsite-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.add-microsite-item[_ngcontent-%COMP%]{flex:1 25%;margin-bottom:2%}.logo-customimage-view[_ngcontent-%COMP%]{display:inline-block}.default-microsite-image[_ngcontent-%COMP%]{background-color:#ebeaef;margin-bottom:10px;padding:10px;max-width:200px;max-height:150px;display:block;min-width:200px;min-height:150px}.logo-customimage-view[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:-moz-max-content;width:max-content}.type-file[_ngcontent-%COMP%]{display:none}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:7px;list-style:disc}.logo-guidelines[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;margin:0 5px;color:#4c4c4c}.add-microsite-item[_ngcontent-%COMP%] + .add-microsite-item[_ngcontent-%COMP%]{margin-left:28px}.color-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #D9D9D9}.inp-disabled[_ngcontent-%COMP%]  *{cursor:no-drop!important}"]}),pe),fe=r(92340),ve=r(91841),ye=r(14813);function be(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",22),g.TgZ(1,"span",23),g._UZ(2,"img",24),g.qZA(),g.TgZ(3,"button",25),g.NdJ("click",function(){return g.CHM(i),g.oxw().errorInfo=""}),g._UZ(4,"span"),g.qZA(),g._UZ(5,"div",26),g.qZA()}if(2&e){var n=g.oxw();g.xp6(5),g.Q6J("innerHtml",n.errorInfo,g.oJD)}}function Ze(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",27),g.TgZ(1,"span",28),g._UZ(2,"img",29),g.qZA(),g.TgZ(3,"div",30),g.TgZ(4,"strong"),g._uU(5),g.qZA(),g._uU(6),g.qZA(),g.TgZ(7,"div",30),g.TgZ(8,"button",25),g.NdJ("click",function(){return g.CHM(i),g.oxw().deleteSuccess=!1}),g._UZ(9,"span"),g.qZA(),g.qZA(),g.qZA()}if(2&e){var n=g.oxw();g.xp6(5),g.hij(" ",n.selectedUserForEditOrDelete.email,""),g.xp6(1),g.hij(" ",n.language["Successfully Deleted"]," ")}}function _e(e,t){if(1&e&&(g.TgZ(0,"div",31),g.TgZ(1,"div",32),g.TgZ(2,"div",33),g.TgZ(3,"span",34),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){var i=g.oxw();g.xp6(4),g.Oqu(i.language.Loading)}}function Te(e,t){if(1&e&&(g.TgZ(0,"span"),g._uU(1),g.qZA()),2&e){var i=t.$implicit,n=t.index,o=g.oxw().$implicit;g.xp6(1),g.AsE("",i.communityName,"",o.community.length-1!==n?", ":"","")}}function Ae(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"a",41),g.NdJ("click",function(){g.CHM(i);var e=g.oxw().$implicit,t=g.oxw(),n=g.MAs(40);return t.openEditOrDeleteUsersModal(e,n)}),g._uU(1),g.qZA()}if(2&e){var n=g.oxw(2);g.xp6(1),g.Oqu(n.language["Delete user"])}}function Ce(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td",35),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.qZA(),g.TgZ(9,"td"),g.YNc(10,Te,2,2,"span",18),g.qZA(),g.TgZ(11,"td",17),g.TgZ(12,"div",36),g.TgZ(13,"div",37),g._uU(14," ... "),g.qZA(),g.TgZ(15,"div",38),g.TgZ(16,"a",39),g.NdJ("click",function(){var e=g.CHM(i).$implicit,t=g.oxw(),n=g.MAs(38);return t.openEditOrDeleteUsersModal(e,n)}),g._uU(17),g.qZA(),g.YNc(18,Ae,2,1,"a",40),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){var n=t.$implicit,o=g.oxw();g.xp6(2),g.Oqu(null==n?null:n.firstName),g.xp6(2),g.Oqu(null==n?null:n.lastName),g.xp6(2),g.Oqu(null==n?null:n.email),g.xp6(2),g.Oqu(o.language[null!=n&&n.isCommunitySubscriber?"No":"Yes"]),g.xp6(2),g.Q6J("ngForOf",null==n?null:n.community),g.xp6(7),g.Oqu(o.language["Edit access"]),g.xp6(1),g.Q6J("ngIf",null==n?null:n.isCommunitySubscriber)}}function xe(e,t){if(1&e&&(g.TgZ(0,"div",54),g.TgZ(1,"div",55),g._UZ(2,"img",56),g.qZA(),g.TgZ(3,"div",57),g._uU(4),g.qZA(),g.qZA()),2&e){var i=g.oxw(2);g.xp6(4),g.hij(" ",i.replaceLimitValue(i.language["reduce the number of records"])," ")}}function Se(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",42),g.TgZ(1,"div",43),g.TgZ(2,"h3",44),g._uU(3),g.qZA(),g.TgZ(4,"button",45),g.NdJ("click",function(){return g.CHM(i),g.oxw().close()}),g._UZ(5,"span",46),g.qZA(),g.qZA(),g.YNc(6,xe,5,1,"div",47),g.TgZ(7,"div"),g._uU(8),g.TgZ(9,"ul",48),g.TgZ(10,"li"),g.TgZ(11,"b"),g._uU(12),g.qZA(),g.qZA(),g.TgZ(13,"li"),g.TgZ(14,"strong"),g._uU(15),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(16,"p"),g._uU(17),g.qZA(),g.TgZ(18,"div",49),g.TgZ(19,"div",14),g.TgZ(20,"table"),g.TgZ(21,"thead"),g.TgZ(22,"tr"),g.TgZ(23,"th"),g._uU(24),g.qZA(),g.TgZ(25,"th"),g._uU(26),g.qZA(),g.TgZ(27,"th"),g._uU(28),g.qZA(),g.TgZ(29,"th"),g._uU(30),g.qZA(),g.qZA(),g.qZA(),g.TgZ(31,"tbody"),g.TgZ(32,"tr"),g.TgZ(33,"td"),g._uU(34,"John"),g.qZA(),g.TgZ(35,"td"),g._uU(36,"McClane"),g.qZA(),g.TgZ(37,"td"),g._uU(38,"Jmac@APD.gov"),g.qZA(),g.TgZ(39,"td"),g._uU(40,"station-wifi"),g.qZA(),g.qZA(),g.TgZ(41,"tr"),g.TgZ(42,"td"),g._uU(43,"James"),g.qZA(),g.TgZ(44,"td"),g._uU(45,"Smith"),g.qZA(),g.TgZ(46,"td"),g._uU(47,"Smith@APD.tgd"),g.qZA(),g.TgZ(48,"td"),g._uU(49,"c-library"),g.qZA(),g.qZA(),g.TgZ(50,"tr"),g.TgZ(51,"td"),g._uU(52,"Mary "),g.qZA(),g.TgZ(53,"td"),g._uU(54,"Smith"),g.qZA(),g.TgZ(55,"td"),g._uU(56,"Mary@gmail.com"),g.qZA(),g.TgZ(57,"td"),g._uU(58,"station-wifi"),g.qZA(),g.qZA(),g.TgZ(59,"tr"),g.TgZ(60,"td"),g._uU(61,"Maria "),g.qZA(),g.TgZ(62,"td"),g._uU(63,"Hernandez"),g.qZA(),g.TgZ(64,"td"),g._uU(65,"Hernande@gmail.com"),g.qZA(),g.TgZ(66,"td"),g._uU(67,"c-library, station-wifi"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(68,"div",50),g.TgZ(69,"div"),g.TgZ(70,"label",51),g._uU(71),g.qZA(),g.TgZ(72,"input",52),g.NdJ("change",function(e){return g.CHM(i),g.oxw().readSingleFile(e)}),g.qZA(),g.TgZ(73,"button",53),g.NdJ("click",function(){return g.CHM(i),g.oxw().close()}),g._uU(74),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){var n=g.oxw();g.xp6(3),g.Oqu(n.language.addUsers),g.xp6(3),g.Q6J("ngIf",n.CSVLimitExceded),g.xp6(2),g.hij(" ",n.language["uploading a CSV file with their information"]," "),g.xp6(4),g.Oqu(n.language["Only .csv format is supported (Maximum 1000 users)"]),g.xp6(3),g.Oqu(n.language["Duplicate users will be appended upon upload"]),g.xp6(2),g.hij("",n.language["Please use the format exactly as shown below:"]," "),g.xp6(7),g.Oqu(n.language["First Name"]),g.xp6(2),g.Oqu(n.language.Last_Name),g.xp6(2),g.Oqu(n.language.emailAddess),g.xp6(2),g.hij("",n.language.Bsp_Microsite_Name,"(s)"),g.xp6(41),g.hij("",n.language.Browse," "),g.xp6(3),g.hij(" ",n.language.Cancel," ")}}function qe(e,t){if(1&e&&(g.TgZ(0,"div",31),g.TgZ(1,"div",32),g.TgZ(2,"div",33),g.TgZ(3,"span",34),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){var i=g.oxw(2);g.xp6(4),g.Oqu(i.language.Loading)}}function Me(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",27),g.TgZ(1,"span",28),g._UZ(2,"img",29),g.qZA(),g._UZ(3,"div",62),g.TgZ(4,"div",30),g.TgZ(5,"button",63),g.NdJ("click",function(){return g.CHM(i),g.oxw(2).editSuccess=!1}),g._UZ(6,"span"),g.qZA(),g.qZA(),g.qZA()}if(2&e){var n=g.oxw(2);g.xp6(3),g.Q6J("innerHTML",n.language.community_removed_successfully(n.removedCommunity[0].communityName),g.oJD)}}function Oe(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",64),g.TgZ(1,"div",65),g._UZ(2,"img",66),g.qZA(),g.TgZ(3,"div",67),g._uU(4),g.TgZ(5,"B"),g._uU(6),g.qZA(),g._uU(7),g.TgZ(8,"div",6),g.TgZ(9,"button",68),g.NdJ("click",function(){return g.CHM(i),g.oxw(2).removeCommunity()}),g._uU(10),g.qZA(),g.TgZ(11,"button",69),g.NdJ("click",function(){return g.CHM(i),g.oxw(2).selectedCommunityForRemove=void 0}),g._uU(12),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){var n=g.oxw(2);g.xp6(4),g.hij(" ",n.language["Are you sure you want to remove access to"]," "),g.xp6(2),g.Oqu(n.removeCommunityName),g.xp6(1),g.hij(" ",n.language["for this user?"]," "),g.xp6(3),g.hij("",n.language["Remove access"]," "),g.xp6(2),g.hij("",n.language.Cancel," ")}}function Ne(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g.TgZ(4,"img",70),g.NdJ("click",function(){var e=g.CHM(i).index,t=g.oxw(2);return t.selectedCommunityForRemove=e,t.removeCommunityName=null==t.selectedUserForEditOrDelete||null==t.selectedUserForEditOrDelete.community[e]?null:t.selectedUserForEditOrDelete.community[e].communityName}),g.qZA(),g.qZA(),g.qZA()}if(2&e){var n=t.$implicit;g.xp6(2),g.hij(" ",n.communityName," ")}}function we(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",42),g.YNc(1,qe,5,1,"div",2),g.TgZ(2,"div",43),g.TgZ(3,"h3",58),g.TgZ(4,"span"),g._uU(5),g.qZA(),g.TgZ(6,"span",35),g._uU(7),g.qZA(),g.qZA(),g.TgZ(8,"button",59),g.NdJ("click",function(){return g.CHM(i),g.oxw().close()}),g._UZ(9,"span",46),g.qZA(),g.qZA(),g.YNc(10,Me,7,1,"div",1),g.TgZ(11,"div",49),g.YNc(12,Oe,13,5,"div",60),g.TgZ(13,"p"),g._uU(14),g.qZA(),g.TgZ(15,"div",14),g.TgZ(16,"table"),g.TgZ(17,"thead"),g.TgZ(18,"tr"),g.TgZ(19,"th"),g._uU(20),g.qZA(),g._UZ(21,"th"),g.qZA(),g.qZA(),g.TgZ(22,"tbody"),g.YNc(23,Ne,5,1,"tr",18),g.qZA(),g.qZA(),g.TgZ(24,"button",61),g.NdJ("click",function(){return g.CHM(i),g.oxw().close()}),g._uU(25),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){var n=g.oxw();g.xp6(1),g.Q6J("ngIf",n.EditLoader),g.xp6(4),g.hij("",n.language.Edit,": "),g.xp6(2),g.hij('"',n.selectedUserForEditOrDelete.email,'"'),g.xp6(3),g.Q6J("ngIf",n.editSuccess),g.xp6(2),g.Q6J("ngIf",void 0!==n.selectedCommunityForRemove),g.xp6(2),g.hij("",n.language["This user has access to the following communities"],":"),g.xp6(6),g.Oqu(n.language["Community Access"]),g.xp6(3),g.Q6J("ngForOf",n.selectedUserForEditOrDelete.community),g.xp6(2),g.hij("",n.language.done," ")}}function Ue(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"div",42),g.TgZ(1,"div",71),g.TgZ(2,"button",45),g.NdJ("click",function(){return g.CHM(i),g.oxw().close()}),g._UZ(3,"span",46),g.qZA(),g.qZA(),g.TgZ(4,"div",49),g.TgZ(5,"div",72),g.TgZ(6,"div",65),g._UZ(7,"img",73),g.qZA(),g.TgZ(8,"div",74),g.TgZ(9,"div",75),g._uU(10),g.qZA(),g._UZ(11,"p",76),g.TgZ(12,"div",6),g.TgZ(13,"button",77),g.NdJ("click",function(){g.CHM(i);var e=g.oxw();return e.deleteUser(e.selectedUserForEditOrDelete.subscriberId)}),g._uU(14),g.qZA(),g.TgZ(15,"button",78),g.NdJ("click",function(){return g.CHM(i),g.oxw().close()}),g._uU(16),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){var n=g.oxw();g.xp6(10),g.Oqu(n.language["Delete Community User Access"]),g.xp6(1),g.Q6J("innerHTML",n.language.Remove_Community_access(null==n.selectedUserForEditOrDelete?null:n.selectedUserForEditOrDelete.name,null==n.selectedUserForEditOrDelete?null:n.selectedUserForEditOrDelete.email),g.oJD),g.xp6(3),g.hij("",n.language.Delete," "),g.xp6(2),g.hij("",n.language.Cancel," ")}}var ke=[{path:"bsp-information",component:c.A},{path:"communities",component:he},{path:"community-users",component:function(){var t=function(){function t(e,n,o,r,a,s,c,u){i(this,t),this.dialogService=e,this.myCommunityIqService=n,this.router=o,this.translateService=r,this.http=a,this.commonOrgService=s,this.systemservice=c,this.titleService=u,this.subscriptions=[],this.communitySubscriberList=[],this.CSVLimitExceded=!1,this.dtOptions={pagingType:"full_numbers",dom:"tipr",lengthChange:!1,pageLength:10,processing:!0},this.loader=!1,this.disabledAddUser=!0,this.deleteSuccess=!1,this.count=0,this.filteredValueCount=0,this.dtTrigger=new d.xQ,this.microSiteList=[],this.selectedMicroSite="",this.editSuccess=!1,this.EditLoader=!1,this.frTable=this.translateService.fr,this.esTable=this.translateService.es,this.de_DETable=this.translateService.de_DE}return o(t,[{key:"ngAfterViewInit",value:function(){this.dtTrigger.next()}},{key:"ngOnInit",value:function(){var e=this;this.orgId=JSON.parse(localStorage.getItem("calix.org_id")),this.language=this.translateService.defualtLanguage,this.subscriptions.push(this.translateService.selectedLanguage.subscribe(function(t){e.language=t,e.tableLanguageOptions(),e.titleService.setTitle("".concat(e.language["Community Users"]," - ").concat(e.language["SmartTown Wi-Fi"]," - ").concat(e.language.administration," - ").concat(e.language["Calix Cloud"])),e.changeTableStatusLanguage({_iDisplayStart:e.tableCounts.start,_iDisplayLength:e.tableCounts.displayCount,_iRecordsDisplay:e.tableCounts.displayed,_iRecordsTotal:e.tableCounts.total,oPreviousSearch:{sSearch:e.tableCounts.searchText}})})),this.titleService.setTitle("".concat(this.language["Community Users"]," - ").concat(this.language["SmartTown Wi-Fi"]," - ").concat(this.language.administration," - ").concat(this.language["Calix Cloud"])),this.getCommunitySubscribers(),this.getCount(),this.GetBspProvider(),this.getMicroSites()}},{key:"changeTableStatusLanguage",value:function(e){var t=new Intl.NumberFormat;this.tableCounts={searchText:e.oPreviousSearch.sSearch.replace(/\s+/g,""),total:e._iRecordsTotal,displayCount:e._iDisplayLength,displayed:e._iRecordsDisplay,start:e._iDisplayStart};var i="fr"==sessionStorage.getItem("defaultLanguage"),n="es"==sessionStorage.getItem("defaultLanguage"),o="de_DE"==sessionStorage.getItem("defaultLanguage"),r=e._iRecordsTotal>1e4&&(""==e.oPreviousSearch.sSearch||""!=e.oPreviousSearch.sSearch)?i?"(filtr\xe9es \xe0 partir des  ".concat(t.format(e._iRecordsTotal)," entr\xe9es totales)<br/>")+(this.show?'<b style="font-size: 14px;">'.concat(this.language.searchError,"</b>"):""):n?"(filtrado de un total de  ".concat(t.format(e._iRecordsTotal)," entradas)<br/>")+(this.show?'<b style="font-size: 14px;">'.concat(this.language.searchError,"</b>"):""):o?"(gefiltert aus  ".concat(t.format(e._iRecordsTotal)," Eintr\xe4gen)<br/>")+(this.show?'<b style="font-size: 14px;">'.concat(this.language.searchError,"</b>"):""):"(filtered from  ".concat(t.format(e._iRecordsTotal)," total entries)<br/>")+(this.show?'<b style="font-size: 14px;">'.concat(this.language.searchError,"</b>"):""):"",a=0==e._iRecordsDisplay?-1:e._iDisplayStart,s=e._iDisplayStart+e._iDisplayLength>e._iRecordsDisplay?e._iRecordsDisplay:e._iDisplayStart+e._iDisplayLength;$('div [role="status"]').html(i?"Affichage de ".concat(t.format(a+1)," \xe0 ").concat(t.format(s)," des ").concat(t.format(e._iRecordsDisplay)," entr\xe9es ").concat(r):n?"Se muestran del ".concat(t.format(a+1)," al ").concat(t.format(s)," de ").concat(t.format(e._iRecordsDisplay)," resultados ").concat(r):o?"Angezeigt ".concat(t.format(a+1)," bis ").concat(t.format(s)," von ").concat(t.format(e._iRecordsDisplay)," ergebnissen ").concat(r):"Showing ".concat(t.format(a+1)," to ").concat(t.format(s)," of ").concat(t.format(e._iRecordsDisplay)," entries ").concat(r)),$(".first").text(i?"Le d\xe9but":n?"Primero":o?"Erste Seite":"First"),$(".previous").text(i?"Pr\xe9c\xe9dent":n?"Anterior":o?"Zur\xfcck":"Previous"),$(".next").text(i?"Suivant":n?"Siguiente":o?"Weiter":"Next"),$(".last").text(i?"Derni\xe8re":n?"\xdaltimo":o?"Letzte":"Last")}},{key:"getCount",value:function(){var e=this;this.loader=!0,this.myCommunityIqService.getSmartTownUsersCount(this.selectedMicroSite,this.filter).subscribe(function(t){e[e.selectedMicroSite||e.filter?"filteredValueCount":"count"]=t,e.rerender()},function(t){e.loader=!1,e.pageErrorHandle(t)})}},{key:"rerender",value:function(){var e,t,i=this;null===(t=null===(e=this.dtElement)||void 0===e?void 0:e.dtInstance)||void 0===t||t.then(function(e){e.destroy(),i.dtTrigger.next()})}},{key:"getMicroSites",value:function(){var t=this;this.bspDataLoader=!0,this.subscriptions.push(this.myCommunityIqService.GetMicrosite().subscribe(function(i){t.microSiteList=[{communityName:t.language.All_communities,id:""}].concat(e(i)),t.bspDataLoader=!1},function(e){t.bspDataLoader=!1,"No BSP Provider Found."!==e.error.errorMessage&&t.pageErrorHandle(e)}))}},{key:"getCommunitySubscribers",value:function(e){var t=this,i=this;this.dtOptions={pagingType:"full_numbers",pageLength:10,serverSide:!0,processing:!1,ordering:!1,search:!1,paging:!0,dom:"tipr",responsive:!0,drawCallback:function(e){t.dataTableSetting=e,t.changeTableStatusLanguage(e),t.count-e._iDisplayLength<=10&&$(e.nTableWrapper).find("#".concat(e.sTableId,"_last")).addClass("disabled")},ajax:function(e,n){var o,r,a;t.dataTableSetting&&9990==e.start?(t.show=!0,t.changeTableStatusLanguage(t.dataTableSetting)):t.show=!1,o=Math.round(e.start/10),r=(a=t.count-10*o)>10||!t.count?10:a,o*=10;var s="".concat(fe.N.FOUNDATION_BASE_URL,"/subscriber-systems/passpoint-subscribers?org-id=").concat(t.orgId,"&offset=").concat(o,"&limit=").concat(r).concat(t.selectedMicroSite?"&micrositeId="+t.selectedMicroSite:"").concat(t.filter?"&filter="+t.filter:"");i.loader=!0,i.http.get(s).subscribe(function(e){t.communitySubscriberList=e,i.loader=!1,n({recordsTotal:t.count,recordsFiltered:t.selectedMicroSite||t.filter?t.filteredValueCount:t.count,data:[]});var o=document.getElementsByClassName("dataTables_empty")[0];o&&(o.style.display=e.length?"none":"table-cell")},function(e){i.loader=!1,404==e.status?n({recordsTotal:0,recordsFiltered:0,data:[]}):t.pageErrorHandle(e)})}}}},{key:"pageErrorHandle",value:function(e){this.errorInfo=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e)}},{key:"openAddUserPopup",value:function(e){this.CSVLimitExceded=!1,this.dialogService.open(e,{size:"xl",centered:!0,windowClass:"add-user-modal"})}},{key:"openEditOrDeleteUsersModal",value:function(e,t){this.selectedUserForEditOrDelete=e,this.selectedCommunityForRemove=void 0,this.editSuccess=!1,this.dialogService.open(t,{size:"xl",centered:!0,windowClass:"edit-user-modal"})}},{key:"close",value:function(){this.dialogService.dismissAll()}},{key:"readSingleFile",value:function(e){var t,i=e.target.files[0];if(i&&((null===(t=i.type)||void 0===t?void 0:t.includes("csv"))||/^(application\/vnd.ms-excel)$/.test(i.type))){var n=new FileReader,o=this;n.onload=function(e){o.displayContents(e.target.result)},n.readAsText(i)}}},{key:"displayContents",value:function(t){var i=t.split(/\r?\n/).map(function(t){var i=t.split(","),n={firstName:"",lastName:"",email:"",community:[]};return i.length&&(n.firstName=i[0],i[1]&&(n.lastName=i[1]),i[2]&&(n.email=i[2]),i[3]&&(n.community=e(new Set(i.slice(3).map(function(e){return JSON.stringify({communityName:e.replace(/"/g,"")})}))).map(function(e){return JSON.parse(e)}))),n});i=e(new Set(i.map(function(e){return JSON.stringify(e)}))).map(function(e){return JSON.parse(e)}).filter(function(e){return Object.keys(e).some(function(t){return Array.isArray(e[t])?e[t].length:e[t]})}),this.CSVLimitExceded=i.length>1e3,!this.CSVLimitExceded&&(this.myCommunityIqService.communityListSubject.next(i),this.close(),this.router.navigate(["/organization-admin/SmartTownWi-Fi/confirm-users"]))}},{key:"removeCommunity",value:function(){var e,t,i,n,o=this;this.EditLoader=!0,this.removedCommunity=null===(t=null===(e=this.selectedUserForEditOrDelete)||void 0===e?void 0:e.community)||void 0===t?void 0:t.splice(this.selectedCommunityForRemove,1),this.subscriptions.push(this.myCommunityIqService.editCommunityAccess({enable:Boolean(null===(n=null===(i=this.selectedUserForEditOrDelete)||void 0===i?void 0:i.community)||void 0===n?void 0:n.length),communities:this.selectedUserForEditOrDelete.community},this.orgId,this.selectedUserForEditOrDelete.subscriberId).subscribe(function(e){var t,i;o.selectedCommunityForRemove=void 0,o.EditLoader=!1,(null===(i=null===(t=o.selectedUserForEditOrDelete)||void 0===t?void 0:t.community)||void 0===i?void 0:i.length)||(o.close(),o.getCount()),o.editSuccess=!0},function(e){var t,i;null===(i=null===(t=o.selectedUserForEditOrDelete)||void 0===t?void 0:t.community)||void 0===i||i.splice(o.selectedCommunityForRemove,0,o.removedCommunity[0]),o.selectedCommunityForRemove=void 0,o.EditLoader=!1,o.editSuccess=!1,o.close(),o.pageErrorHandle(e)}))}},{key:"tableLanguageOptions",value:function(){"fr"==this.language.fileLanguage?this.dtOptions.language=this.frTable:"es"==this.language.fileLanguage?this.dtOptions.language=this.esTable:"de_DE"==this.language.fileLanguage?this.dtOptions.language=this.de_DETable:"en"==this.language.fileLanguage&&this.dtOptions.language&&delete this.dtOptions.language}},{key:"GetBspProvider",value:function(){var e=this;this.subscriptions.push(this.myCommunityIqService.GetBspproviderInfo().subscribe(function(t){e.disabledAddUser="READY"!==(null==t?void 0:t.status)},function(t){"No BSP Provider Found."!==t.error.errorMessage&&e.pageErrorHandle(t)}))}},{key:"deleteUser",value:function(e){var t=this;this.close(),this.loader=!0,this.subscriptions.push(this.systemservice.deleteSubscriber(e,this.orgId).subscribe(function(e){t.deleteSuccess=!0,setTimeout(function(){t.deleteSuccess=!1,t.getCount()},3500)},function(e){t.loader=!1,t.pageErrorHandle(e)}))}},{key:"filterValue",value:function(){var e=this;clearTimeout(this.typingTimer),this.typingTimer=setTimeout(function(){e.getCount()},500)}},{key:"ngOnDestroy",value:function(){var e;null===(e=this.subscriptions)||void 0===e||e.forEach(function(e){return e.unsubscribe()})}},{key:"replaceLimitValue",value:function(e){return e.replace("500","1000")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.Y36(f.FF),g.Y36(y.l),g.Y36(s.F0),g.Y36(m.s),g.Y36(ve.eN),g.Y36(v.v),g.Y36(ye.k),g.Y36(p.Dx))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-community-users"]],viewQuery:function(e,t){var i;(1&e&&g.Gf(l.G,5),2&e)&&(g.iGM(i=g.CRH())&&(t.dtElement=i.first))},decls:41,vars:18,consts:[["class","w-100 alert alert-danger  fade show my-3",4,"ngIf"],["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","loader",4,"ngIf"],[1,"container"],[1,"row","mb-3"],[1,"col-md-12"],[1,""],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"btn-default","primary","px-3","mt-2",3,"disabled","click"],[1,"row","d-flex","justify-content-between","mt-3"],[1,"col-md-3","ccl-form"],["type","search","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-3"],["placeholder","Select","bindLabel","communityName","bindValue","id",3,"items","ngModel","ngModelChange","change"],[1,"row","my-3"],[1,"community-users-list"],["datatable","",1,"w-100",3,"dtOptions","dtTrigger"],[1,"email-with","text-break"],[1,"pl-4"],[4,"ngFor","ngForOf"],["AddUsersModal",""],["EditUsersModal",""],["DeleteUsersModal",""],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"mr-2"],["src","./assets/img/success-icon.svg",1,"wh-26"],[1,"d-inline"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"text-break"],[1,"dropdown"],["data-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle","pointer"],[1,"dropdown-menu"],["data-toggle","modal","data-target",".bd-example-modal-lg",1,"dropdown-item","cursor-pointer",3,"click"],["class","dropdown-item cursor-pointer","data-target",".bd-example-modal-lg",3,"click",4,"ngIf"],["data-target",".bd-example-modal-lg",1,"dropdown-item","cursor-pointer",3,"click"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","user-warning-meg d-flex",4,"ngIf"],[1,"pl-4","list-style-disc"],[1,"modal-body"],[1,"my-4"],["for","CSVFile","type","button",1,"usoc-upload-button","btn-default","primary","ml-1","mr-3"],["type","file","id","CSVFile","accept",".csv",1,"d-none",3,"change"],["id","cancel-add-role",1,"btn-default","btn-dft","py-1","md-btn",3,"click"],[1,"user-warning-meg","d-flex"],[1,"user-warning-img"],["src","../../../../assets/img/ic_error-outline.svg","alt",""],[1,"user-warning-content"],[1,"modal-title","d-flex"],["type","button","data-dismiss","modal","aria-label","Close",1,"close","p-0",3,"click"],["class","edit-warning-info w-100 d-flex align-items-start",4,"ngIf"],[1,"btn-default","primary","px-2","mt-2",3,"click"],[1,"d-inline",3,"innerHTML"],["type","button",1,"close","close-btn",3,"click"],[1,"edit-warning-info","w-100","d-flex","align-items-start"],[1,"w-10","mr-2"],["src","../../../../assets/img/ic_warning-36px.svg","alt",""],[1,"w-90","m;-2"],[1,"btn-default","primary","px-3","mt-2","mr-3",3,"click"],[1,"btn-default","btn-dft","py-1","md-btn",3,"click"],["src","../../../../assets/img/ic_close-24px.svg","alt","",1,"pointer",3,"click"],[1,"modal-header","mb-4"],[1,"d-flex","w-100","align-items-start"],["src","../../../../assets/img/ic_warning-36px.svg","alt","",1,"err-img"],[1,"w-90","ml-2"],[1,"stop-user-sub-title","chart-title"],[3,"innerHTML"],["id","",1,"btn-default","primary","mr-2",3,"click"],["type","button",1,"btn-default","btn-dft","py-1","md-btn","ml-1","mr-3",3,"click"]],template:function(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"section"),g.YNc(1,be,6,1,"div",0),g.YNc(2,Ze,10,2,"div",1),g.YNc(3,_e,5,1,"div",2),g.TgZ(4,"div",3),g.TgZ(5,"div",4),g.TgZ(6,"div",5),g.TgZ(7,"div",6),g.TgZ(8,"button",7),g.NdJ("click",function(){g.CHM(i);var e=g.MAs(36);return t.openAddUserPopup(e)}),g._uU(9),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"div",8),g.TgZ(11,"div",9),g.TgZ(12,"input",10),g.NdJ("ngModelChange",function(e){return t.filter=e})("ngModelChange",function(){return t.filterValue()}),g.qZA(),g.qZA(),g.TgZ(13,"div",11),g.TgZ(14,"ng-select",12),g.NdJ("ngModelChange",function(e){return t.selectedMicroSite=e})("change",function(){return t.getCount()}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(15,"div",13),g.TgZ(16,"div",5),g.TgZ(17,"div",14),g.TgZ(18,"table",15),g.TgZ(19,"thead"),g.TgZ(20,"tr"),g.TgZ(21,"th"),g._uU(22),g.qZA(),g.TgZ(23,"th"),g._uU(24),g.qZA(),g.TgZ(25,"th",16),g._uU(26),g.qZA(),g.TgZ(27,"th"),g._uU(28),g.qZA(),g.TgZ(29,"th"),g._uU(30),g.qZA(),g.TgZ(31,"th",17),g._uU(32),g.qZA(),g.qZA(),g.qZA(),g.TgZ(33,"tbody"),g.YNc(34,Ce,19,7,"tr",18),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(35,Se,75,12,"ng-template",null,19,g.W1O),g.YNc(37,we,26,9,"ng-template",null,20,g.W1O),g.YNc(39,Ue,17,4,"ng-template",null,21,g.W1O)}2&e&&(g.xp6(1),g.Q6J("ngIf",t.errorInfo),g.xp6(1),g.Q6J("ngIf",t.deleteSuccess),g.xp6(1),g.Q6J("ngIf",t.loader||t.bspDataLoader),g.xp6(5),g.Q6J("disabled",t.disabledAddUser||t.microSiteList.length<=1),g.xp6(1),g.hij("",t.language.addUsers," "),g.xp6(3),g.s9C("placeholder",t.language.Search),g.Q6J("ngModel",t.filter),g.xp6(2),g.Q6J("items",t.microSiteList)("ngModel",t.selectedMicroSite),g.xp6(4),g.Q6J("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),g.xp6(4),g.Oqu(t.language.First_Name),g.xp6(2),g.Oqu(t.language.Last_Name),g.xp6(2),g.Oqu(t.language.Email),g.xp6(2),g.Oqu(t.language["BSP Subscriber"]),g.xp6(2),g.Oqu(t.language["Community Access"]),g.xp6(2),g.Oqu(t.language.Action),g.xp6(2),g.Q6J("ngForOf",t.communitySubscriberList))},directives:[a.O5,u.Fj,u.JJ,u.On,Z.w9,l.G,a.sg],styles:['.community-users-list[_ngcontent-%COMP%]{width:100%}.community-users-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.community-users-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #CCCCCC}.community-users-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-size:16px;line-height:20px;color:#1a1f22;padding-bottom:7px}.community-users-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;font-size:15px;line-height:24px;padding:7px 0}.community-users-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6){margin-right:30px}.community-users-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f8f8fa}.dropdown-toggle[_ngcontent-%COMP%]:after{content:"";border:0px!important}.dropdown-menu.show[_ngcontent-%COMP%]{position:absolute;transform:translate(-6px,24px);top:0px;left:-95px!important;will-change:transform}.usoc-upload-button[_ngcontent-%COMP%]{position:relative}.usoc-upload-button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;z-index:1;left:0;top:0;width:100%;height:100%;opacity:0}.usoc-upload-button[_ngcontent-%COMP%]:focus{outline:none!important}  .add-user-modal .modal-content{background:#fff}  .add-user-modal .modal-dialog{max-width:45.73%!important}  .edit-user-modal .modal-content{background:#fff}  .edit-user-modal .modal-dialog{max-width:45.73%!important}.user-warning-meg[_ngcontent-%COMP%]{background-color:#fff5f5;padding:12px 24px;border-radius:12px;margin-bottom:24px;align-items:center}.user-warning-img[_ngcontent-%COMP%]{width:6%;margin-right:16px}.user-warning-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.user-warning-content[_ngcontent-%COMP%]{width:94%}  .delete-user-modal .modal-content{background:#FFF9F5}  .delete-user-modal .modal-dialog{max-width:35%!important}.edit-warning-info[_ngcontent-%COMP%]{background:#FFF8F5;border-radius:24px;padding:20px 24px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer!important}.no-drop[_ngcontent-%COMP%]{cursor:no-drop}.modal-content[_ngcontent-%COMP%]{position:relative}.wh-26[_ngcontent-%COMP%]{width:30px;height:30px}.err-img[_ngcontent-%COMP%]{height:48px;width:48px}.email-with[_ngcontent-%COMP%]{min-width:180px;min-width:200px;word-break:break-all}.close-btn[_ngcontent-%COMP%]{top:2px!important;right:0px!important}.list-style-disc[_ngcontent-%COMP%]{list-style-type:disc!important}']}),t}()},{path:"",redirectTo:"bsp-information"}],De=function(){var e=o(function e(){i(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[a.ez,s.Bz.forChild(ke),l.T]]}),e}()}}])}();