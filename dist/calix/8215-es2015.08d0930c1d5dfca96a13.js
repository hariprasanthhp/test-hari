"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[8215],{88215:function(t,e,i){i.r(e),i.d(e,{ConfigurationsModule:function(){return L}});var n=i(38583),s=i(39895),o=i(92340),r=i(37716),c=i(7450),a=i(38048);function l(t,e){if(1&t&&(r.TgZ(0,"li",3),r.TgZ(1,"a",10),r.NdJ("Click",function(t){return t.preventDefault()}),r._uU(2),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(2),r.Oqu(t.language.Site_Scan)}}function u(t,e){if(1&t&&(r.TgZ(0,"li",3),r.TgZ(1,"a",11),r.NdJ("Click",function(t){return t.preventDefault()}),r._uU(2),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(2),r.Oqu(t.language.Speed_Test)}}const g=function(t){return[t]};let d=(()=>{class t{constructor(t,e,i){this.translateService=t,this.router=e,this.sso=i,this.showSiteScan=!1,this.showEdgeSuite=!1}ngOnInit(){let t=this.sso.getScopes(),e=this.sso.getEntitlements();(e[118]||e[120])&&t&&void 0!==t["cloud.rbac.csc.netops.config.site_scan"]&&-1!==t["cloud.rbac.csc.netops.config.site_scan"].indexOf("read")&&(this.showSiteScan=!0),o.N.VALIDATE_SCOPE?(t["cloud.rbac.coc.operations.subscriber.operations.edgesuitesbulkprovisioning"]=t["cloud.rbac.csc.netops.config.edgesuitesbulkprovisioning"]||[],t&&t["cloud.rbac.coc.operations.subscriber.operations.edgesuitesbulkprovisioning"]&&-1!==t["cloud.rbac.coc.operations.subscriber.operations.edgesuitesbulkprovisioning"].indexOf("read")&&(this.showEdgeSuite=!0)):this.showEdgeSuite=!0,this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t})}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(c.s),r.Y36(s.F0),r.Y36(a.t6))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-configurations"]],decls:23,vars:11,consts:[[1,"ccl-tabs"],["id","tabs",1,"nav","nav-tabs","sub-tab"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/dial-plan","id","dialPlanTabId","routerLinkActive","active",1,"nav-link",3,"Click"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/external-file-server-list","id","externalFileServerTabId","routerLinkActive","active",1,"nav-link",3,"ngClass","Click"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/secure-onboarding","id","secureOnboardingTabId","routerLinkActive","active",1,"nav-link",3,"Click"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/self-heal","id","selfHealTabId","routerLinkActive","active",1,"nav-link",3,"Click"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/stale-device-purge","id","staleDeviceOurgeTabId","routerLinkActive","active",1,"nav-link",3,"Click"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/subnet-configuration","id","subnetConfigTabId","routerLinkActive","active",1,"nav-link",3,"Click"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/background-site-scan","id","autoSiteScanTabId","routerLinkActive","active",1,"nav-link",3,"Click"],["routerLink","/cco/operations/cco-subscriber-operations/configurations/speed-test","id","speedTestTabId","routerLinkActive","active",1,"nav-link",3,"Click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"ul",1),r.YNc(2,l,3,1,"li",2),r.TgZ(3,"li",3),r.TgZ(4,"a",4),r.NdJ("Click",function(t){return t.preventDefault()}),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"li",3),r.TgZ(7,"a",5),r.NdJ("Click",function(t){return t.preventDefault()}),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"li",3),r.TgZ(10,"a",6),r.NdJ("Click",function(t){return t.preventDefault()}),r._uU(11),r.qZA(),r.qZA(),r.TgZ(12,"li",3),r.TgZ(13,"a",7),r.NdJ("Click",function(t){return t.preventDefault()}),r._uU(14),r.qZA(),r.qZA(),r.TgZ(15,"li",3),r.TgZ(16,"a",8),r.NdJ("Click",function(t){return t.preventDefault()}),r._uU(17),r.qZA(),r.qZA(),r.TgZ(18,"li",3),r.TgZ(19,"a",9),r.NdJ("Click",function(t){return t.preventDefault()}),r._uU(20),r.qZA(),r.qZA(),r.YNc(21,u,3,1,"li",2),r.qZA(),r.qZA(),r._UZ(22,"router-outlet")),2&t&&(r.xp6(2),r.Q6J("ngIf",e.showSiteScan),r.xp6(3),r.Oqu(e.language.Dial_Plan),r.xp6(2),r.Q6J("ngClass",r.VKq(9,g,e.router.url.includes("external-file-server-list")||e.router.url.includes("external-file-server-form")?"active":"")),r.xp6(1),r.Oqu(e.language.External_File_Server),r.xp6(3),r.Oqu(e.language.Secure_Onboarding),r.xp6(3),r.Oqu(e.language.Self_Heal),r.xp6(3),r.Oqu(e.language["Stale System Purge"]),r.xp6(3),r.Oqu(e.language.Subnet_Configuration),r.xp6(1),r.Q6J("ngIf",e.sso.getEntitlementsArr().indexOf("118")>-1))},directives:[n.O5,s.yS,s.Od,n.mk,s.lC],styles:[".ccl-tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc!important}.ccl-tabs[_ngcontent-%COMP%]{overflow-x:auto!important}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;white-space:nowrap}#tabs.nav-tabs[_ngcontent-%COMP%]{display:inline-flex;flex-wrap:nowrap;width:100%}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]{padding:0 10px}"]}),t})();var p=i(45048),b=i(19718),f=i(82572),h=i(16624),v=i(14306),Z=i(93385),C=i(84388),x=i(5399),m=i(35781),A=i(61012),T=i(3679),w=i(12664),q=i(96045),k=i(39075);function S(t,e){if(1&t&&(r.TgZ(0,"div",10),r.TgZ(1,"div",11),r.TgZ(2,"div",12),r.TgZ(3,"div",13),r.TgZ(4,"span",14),r._uU(5),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(5),r.Oqu(t.language.Loading)}}function O(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",15),r.TgZ(1,"span",16),r._UZ(2,"img",17),r.qZA(),r.TgZ(3,"button",18),r.NdJ("click",function(){return r.CHM(t),r.oxw().closeAlert()}),r._UZ(4,"span"),r.qZA(),r._UZ(5,"div",19),r.qZA()}if(2&t){const t=r.oxw();r.xp6(5),r.Q6J("innerHtml",t.errorInfo,r.oJD)}}function I(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",20),r.TgZ(1,"span",21),r._UZ(2,"img",22),r.qZA(),r.TgZ(3,"button",18),r.NdJ("click",function(){return r.CHM(t),r.oxw().closeAlert()}),r._UZ(4,"span"),r.qZA(),r._UZ(5,"div",19),r.qZA()}if(2&t){const t=r.oxw();r.xp6(5),r.Q6J("innerHtml",t.successInfo,r.oJD)}}function _(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",23),r.TgZ(1,"label",24),r._uU(2),r.qZA(),r.TgZ(3,"div",25),r.TgZ(4,"div",26),r.TgZ(5,"label",27),r.TgZ(6,"input",28),r.NdJ("change",function(){return r.CHM(t),r.oxw().changeForm()}),r.qZA(),r.TgZ(7,"span"),r._UZ(8,"small"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(2),r.hij(" ","ProtectIQ",""),r.xp6(2),r.Q6J("ngClass",t.allowSubnetConfig&&t.hasWriteAccess?"":"switch-disabled"),r.xp6(2),r.uIk("disabled",!t.hasWriteAccess||!t.allowSubnetConfig||null)}}function J(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",23),r.TgZ(1,"label",24),r._uU(2),r.qZA(),r.TgZ(3,"div",25),r.TgZ(4,"div",26),r.TgZ(5,"label",29),r.TgZ(6,"input",30),r.NdJ("change",function(){return r.CHM(t),r.oxw().changeForm()}),r.qZA(),r.TgZ(7,"span"),r._UZ(8,"small"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(2),r.hij(" ","ExperienceIQ",""),r.xp6(2),r.Q6J("ngClass",t.allowSubnetConfig&&t.hasWriteAccess?"":"switch-disabled"),r.xp6(2),r.uIk("disabled",!t.hasWriteAccess||!t.allowSubnetConfig||null)}}function E(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",23),r.TgZ(1,"div",31),r.TgZ(2,"button",32),r.NdJ("click",function(){return r.CHM(t),r.oxw().reset()}),r._uU(3),r.qZA(),r.TgZ(4,"button",33),r.NdJ("click",function(){return r.CHM(t),r.oxw().save()}),r._uU(5),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(3),r.Oqu(t.language.reset),r.xp6(2),r.Oqu(t.language.submit)}}const N=[{path:"",component:d,children:[{path:"background-site-scan",component:p.L,data:{title:"Calix Cloud - Flow Configuration"}},{path:"dial-plan",component:b.U,data:{title:"Calix Cloud - Flow Configuration"},children:[{path:"add",component:f.t,data:{title:"Calix Cloud - Flow Configuration"}},{path:":id",component:f.t,data:{title:"Calix Cloud - Flow Configuration"}}]},{path:"external-file-server-list",component:h.X,data:{title:"Calix Cloud - Flow Configuration"}},{path:"secure-onboarding",component:v.i,data:{title:"Calix Cloud - Flow Configuration"}},{path:"self-heal",component:Z.u,data:{title:"Calix Cloud - Flow Configuration"}},{path:"stale-device-purge",component:x.m,data:{title:"Calix Cloud - Flow Configuration"}},{path:"subnet-configuration",component:C.B,data:{title:"Calix Cloud - Flow Configuration"}},{path:"dial-plan-new",component:f.t,data:{title:"Calix Cloud - Flow Configuration"}},{path:"edge-suites",component:(()=>{class t{constructor(t,e,i,n,s,r){var c,a;this.translateService=t,this.dialogService=e,this.sso=i,this.service=n,this.router=s,this.titleService=r,this.showSaveButtons=!1,this.settings={subscribedToProtectIq:!1,subscribedToExperienceIq:!1},this.hasWriteAccess=!1,this.allowSubnetConfig=!0,this.ORG_ID=this.sso.getOrgId(),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t});let l=this.sso.getScopes();o.N.VALIDATE_SCOPE&&o.N.VALIDATE_FOUNDATION_SCOPE?(l["cloud.rbac.csc.netops.config.edgesuitesbulkprovisioning"]=l["cloud.rbac.csc.netops.config.edgesuitesbulkprovisioning"]?l["cloud.rbac.csc.netops.config.edgesuitesbulkprovisioning"]:[],l&&(null===(c=l["cloud.rbac.csc.netops.config.edgesuitesbulkprovisioning"])||void 0===c?void 0:c.includes("write"))&&(this.hasWriteAccess=!0),l&&(null===(a=l["cloud.rbac.coc.operations.subscriber.configurations"])||void 0===a?void 0:a.includes("write"))&&(this.hasWriteAccess=!0)):this.hasWriteAccess=!0;let u=this.sso.getEntitlements();this.router.url.includes("cco/operations")&&u[210]&&!u[102]&&(this.allowSubnetConfig=!1)}ngOnInit(){this.settingsForm=new T.cw({subscribedToProtectIq:new T.NI(!1),subscribedToExperienceIq:new T.NI(!1)}),this.router.url.includes("cco/operations/cco-subscriber-operations")?this.titleService.setTitle("Edge Suites Bulk Provisioning - Configurations - Subscriber Operations - Operations - Operations - Calix Cloud"):this.router.url.includes("/support/netops-management")&&this.titleService.setTitle("Edge Suites Bulk Provisioning - Configurations - Netops - Service - Calix Cloud"),this.closeAlert(),this.getSettings()}ngOnDestroy(){this.languageSubject&&this.languageSubject.unsubscribe(),this.getListSubs&&this.getListSubs.unsubscribe(),this.updateListSubs&&this.updateListSubs.unsubscribe()}getSettings(){this.loading=!0,this.showSaveButtons=!1,this.getListSubs=this.service.getIqSuites(this.ORG_ID).subscribe(t=>{t&&0!==Object.keys(t).length?(this.settings=t,this.loading=!1):this.settings={subscribedToProtectIq:!1,subscribedToExperienceIq:!1},this.settingsForm.patchValue(this.settings)},t=>{this.pageErrorHandle(t),this.settings={subscribedToProtectIq:!1,subscribedToExperienceIq:!1},this.settingsForm.patchValue(this.settings),this.loading=!1})}changeForm(){let t=JSON.stringify(this.settingsForm.value),e=JSON.stringify(this.settings);this.showSaveButtons=t!==e}reset(){this.getSettings()}save(){this.loading=!0,this.updateListSubs=this.service.updateIQSuitesConfigs(this.ORG_ID,this.settingsForm.value).subscribe(t=>{this.getSettings()},t=>{this.pageErrorHandle(t),this.loading=!1})}pageErrorHandle(t){this.errorInfo=401==t.status?this.language["Access Denied"]:this.sso.pageErrorHandle(t),setTimeout(()=>{this.error=!0,this.loading=!1},500)}closeAlert(){this.error=!1,this.success=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(c.s),r.Y36(w.FF),r.Y36(a.t6),r.Y36(q.A),r.Y36(s.F0),r.Y36(k.Dx))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-edge-suite"]],decls:12,vars:7,consts:[[1,"loader-wrapper","position-relative"],["class","loader-wrapper-info",4,"ngIf"],["class","w-100 alert alert-danger fade show",4,"ngIf"],["class","w-100 alert alert-success fade show",4,"ngIf"],[1,"container","sys-contain"],[1,"ccl-form","needs-validation",3,"formGroup"],[1,"row"],[1,"col-md-10","col-md-4","col-sm-12","pr-5","pl-0"],[1,"ccl-form","mt-3","needs-validation","mt-3"],["class","form-group inline-input row",4,"ngIf"],[1,"loader-wrapper-info"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"w-100","alert","alert-danger","fade","show"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert-success","fade","show"],[1,"success-img"],["src","./assets/img/success-icon.svg"],[1,"form-group","inline-input","row"],[1,"col-md-3","col-form-label"],[1,"col-md-6"],[1,"toggle-swtbtn","checkbox","switcher",3,"ngClass"],["for","subscribedToProtectIq"],["type","checkbox","id","subscribedToProtectIq","formControlName","subscribedToProtectIq",3,"change"],["for","subscribedToExperienceIq"],["type","checkbox","id","subscribedToExperienceIq","formControlName","subscribedToExperienceIq",3,"change"],[1,"col-md-10","offset-md-2","text-right"],[1,"btn-default","primary","md-btn","mr-2",3,"click"],[1,"btn-default","primary","md-btn","px-0",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.YNc(1,S,6,1,"div",1),r.YNc(2,O,6,1,"div",2),r.YNc(3,I,6,1,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"form",5),r.TgZ(6,"div",6),r.TgZ(7,"div",7),r.TgZ(8,"div",8),r.YNc(9,_,9,3,"div",9),r.YNc(10,J,9,3,"div",9),r.qZA(),r.qZA(),r.qZA(),r.YNc(11,E,6,2,"div",9),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(1),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",e.error),r.xp6(1),r.Q6J("ngIf",e.success),r.xp6(2),r.Q6J("formGroup",e.settingsForm),r.xp6(4),r.Q6J("ngIf",e.sso.getEntitlementsArr().indexOf("203")>-1||e.sso.getEntitlementsArr().indexOf("205")>-1),r.xp6(1),r.Q6J("ngIf",e.sso.getEntitlementsArr().indexOf("204")>-1||e.sso.getEntitlementsArr().indexOf("205")>-1),r.xp6(1),r.Q6J("ngIf",e.showSaveButtons&&e.hasWriteAccess))},directives:[n.O5,T._Y,T.JL,T.sg,n.mk,T.Wl,T.JJ,T.u],styles:[".opacity-50[_ngcontent-%COMP%]{opacity:.5}.switch-disabled[_ngcontent-%COMP%]{opacity:.5}.switch-disabled[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:not-allowed}"]}),t})(),data:{title:"Calix Cloud - Bulk IQ suites"}},{path:"external-file-server-form",component:m.A,data:{title:"Calix Cloud - Flow Configuration"}},{path:"speed-test",component:A.U,data:{title:"Calix Cloud - Flow Configuration"}},{path:"",redirectTo:"background-site-scan",pathMatch:"full"}]}];let F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[s.Bz.forChild(N)],s.Bz]}),t})(),L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.ez,F]]}),t})()}}]);