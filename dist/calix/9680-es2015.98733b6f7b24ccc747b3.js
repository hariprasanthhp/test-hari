"use strict";(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[9680],{24463:function(t,e,o){o.r(e),o.d(e,{OutageWorkflowModule:function(){return it}});var n=o(38583),i=o(39895),l=o(37716);let r=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-outage-workflow"]],decls:1,vars:0,template:function(t,e){1&t&&l._UZ(0,"router-outlet")},directives:[i.lC],styles:[""]}),t})();var s=o(92340),a=(()=>{return(t=a||(a={})).DETAILS_LABEL="Details",t.NOTIFICATION_LABEL="Notification Trigger",t.RECEPIENTS_LABEL="Recepients",t.SUMMARY_LABEL="Summary",a;var t})(),c=o(2792),g=o(7450),u=o(39075),d=o(80139),p=o(49342),f=o(91841),h=o(48483),b=o(9128),w=o(20904),m=o(12664),O=o(27946),v=o(3679),x=o(40205),k=o(88002),_=o(5304),C=o(38048),P=o(14541),M=o(21693),Z=o(86640);function T(t,e){if(1&t&&(l.TgZ(0,"div",18),l._uU(1),l.qZA()),2&t){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.language["This field is required."]," ")}}function A(t,e){if(1&t&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&t){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.language["Please enter a value between 1 and 10000"]," ")}}function j(t,e){if(1&t&&(l.TgZ(0,"div",15),l.YNc(1,T,2,1,"div",16),l.YNc(2,A,2,1,"div",17),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",null==t.formControls||null==t.formControls.outagePollInterval||null==t.formControls.outagePollInterval.errors?null:t.formControls.outagePollInterval.errors.isrequired),l.xp6(1),l.Q6J("ngIf",null==t.formControls||null==t.formControls.outagePollInterval||null==t.formControls.outagePollInterval.errors?null:t.formControls.outagePollInterval.errors.minMaxError)}}function y(t,e){}function I(t,e){if(1&t&&(l.TgZ(0,"div",15),l.TgZ(1,"p"),l._uU(2),l.qZA(),l.qZA()),2&t){const t=l.oxw(2);l.xp6(2),l.hij("",t.language["This field is required"],".")}}function q(t,e){if(1&t&&(l.TgZ(0,"div",15),l.TgZ(1,"p"),l._uU(2),l.qZA(),l.qZA()),2&t){const t=l.oxw(2);l.xp6(2),l.hij("",t.language["This field is required"],".")}}function S(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",19),l.TgZ(1,"div",2),l.TgZ(2,"label",20),l._uU(3),l.qZA(),l.TgZ(4,"div",21),l.TgZ(5,"ng-select",22),l.NdJ("add",function(e){return l.CHM(t),l.oxw().validateRegion(e)})("remove",function(e){return l.CHM(t),l.oxw().loadLocationValue(e)}),l.qZA(),l.YNc(6,I,3,1,"div",11),l.qZA(),l.qZA(),l.TgZ(7,"div",2),l.TgZ(8,"label",20),l._uU(9),l.qZA(),l.TgZ(10,"div",21),l.TgZ(11,"ng-select",23),l.NdJ("add",function(e){return l.CHM(t),l.oxw().validateLocation(e)})("remove",function(e){return l.CHM(t),l.oxw().validateLocation(e)}),l.qZA(),l.YNc(12,q,3,1,"div",11),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.xp6(3),l.Oqu(t.language["Region(s)"]),l.xp6(2),l.s9C("placeholder",t.language.region),l.Q6J("multiple",!0)("items",t.regionsDataArray)("clearable",!1)("searchable",!0),l.xp6(1),l.Q6J("ngIf",!1),l.xp6(3),l.hij(" ",t.language["Location(s)"],""),l.xp6(2),l.s9C("placeholder",t.language.Location),l.Q6J("multiple",!0)("items",t.locationDataArray)("clearable",!1)("searchable",!0),l.xp6(1),l.Q6J("ngIf",!1)}}let F=(()=>{class t{constructor(t,e,o,n,i,r,s,a){this.translateService=t,this.fb=e,this.dateUtils=o,this.http=n,this.sso=i,this.otgWrkflwSrvc=r,this.chartOptionService=s,this.issueService=a,this.isFormValid=new l.vpe,this.regionsDataArray=["All"],this.locationDataArray=["All"],this.daysMap={day1:{label:"Monday",value:"MON"},day2:{label:"Tuesday",value:"TUE"},day3:{label:"Wednesday",value:"WED"},day4:{label:"Thursday",value:"THU"},day5:{label:"Friday",value:"FRI"},day6:{label:"Saturday",value:"SAT"},day7:{label:"Sunday",value:"SUN"}},this.triggerForm=this.fb.group({outagePollInterval:["",[v.kI.required]],region:["All"],location:["All"],exclusions:this.fb.array([])}),this.exclusionsObj={},this.outagePollOptions=[{id:10,name:10},{id:15,name:15},{id:30,name:30}]}set workflowObj(t){var e;console.log(t),null===(e=null==(t=this.otgWrkflwSrvc.updateRegLocToAll(t))?void 0:t.filter)||void 0===e||e.forEach(t=>{this.exclusionsObj[t.daysOfWeek]=t}),this._workflowObj=t}get workflowObj(){return this._workflowObj}ngOnInit(){var t,e,o;this.tabSub=this.otgWrkflwSrvc.outageTabChanged$.subscribe(t=>{this.submitted=!0}),this.getRegions(),this.generateExclusion(),this.triggerForm.patchValue({outagePollInterval:null===(t=this.workflowObj)||void 0===t?void 0:t.outagePollInterval,region:null===(e=this.workflowObj)||void 0===e?void 0:e.region,location:null===(o=this.workflowObj)||void 0===o?void 0:o.location}),this.formSub=this.triggerForm.valueChanges.subscribe(t=>{this.prepareNtfctnTriggerData(t),this.isFormValid.emit(this.triggerForm.valid)}),this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t})}get formControls(){return this.triggerForm.controls}getRegions(){this.regionsSubject=this.issueService.getRegions().subscribe(t=>{var e;(null==t?void 0:t.length)&&((t=this.issueService.appendFqn(t)).sort(),this.regionsDataArray=[...this.regionsDataArray,...t],(null===(e=this._workflowObj)||void 0===e?void 0:e.region)&&(this.triggerForm.get("region").setValue(this._workflowObj.region),this.loadLocationValue("")))},t=>{console.log(t)})}loadLocationValue(t){let e=this.triggerForm.get("region").value;if(null==e?void 0:e.length){let t="";if(e.length){if(-1!==e.indexOf("All"))return this.locationDataArray=["All"],void this.triggerForm.get("location").setValue(["All"]);e.forEach(e=>{"All"!=e&&(t+=`&region=${e}`)}),this.locationsSubject=this.http.get(`${s.N.API_BASE_URL}nfa/locations?tenant=0${t}`).pipe((0,k.U)(t=>((t=this.issueService.appendFqn(t)).sort((t,e)=>(t.name||"").toString().localeCompare((e.name||"").toString(),"en",{numeric:!1})),t)),(0,_.K)(this.handleError)).subscribe(t=>{var e;this.chartOptionService.setLocationsInfo(t),this.locationDataArray=["All"],this.locationDataArray=[...this.locationDataArray,...t],(null===(e=this._workflowObj)||void 0===e?void 0:e.location)&&this.triggerForm.get("location").setValue(this._workflowObj.location);let o=this.triggerForm.get("location").value;if(o&&o.length){let t=this.chartOptionService.getLocationsObj(),e=Object.keys(t).length?Object.keys(t):[],n=[];o.forEach(t=>{-1!==e.indexOf(t)&&n.push(t)}),n.length||(n=["All"]),this.triggerForm.get("location").setValue(n)}},t=>{})}else this.triggerForm.get("region").setValue(["All"]),this.triggerForm.get("location").setValue(["All"]),this.locationDataArray=["All"]}else this.triggerForm.get("region").setValue(["All"]),this.triggerForm.get("location").setValue(["All"])}handleError(t){return(0,x._)(t)}createExclusion(t){var e,o;return this.fb.group({daysOfWeek:[this.exclusionsObj[t]?t:""],fromTime:[this.exclusionsObj[t]?this.getStartDate(null===(e=this.exclusionsObj[t])||void 0===e?void 0:e.fromTime):this.getStartDate()],toTime:[this.exclusionsObj[t]?this.getEndDate(null===(o=this.exclusionsObj[t])||void 0===o?void 0:o.toTime):this.getEndDate()]})}generateExclusion(){let t=Object.keys(this.daysMap);null==t||t.forEach(t=>{var e;this.exclusions.push(this.createExclusion(null===(e=this.daysMap[t])||void 0===e?void 0:e.value))})}get exclusions(){return this.triggerForm.get("exclusions")}getEndDate(t="23:59"){return new Date(`${this.dateUtils.getTodayDateStr()} ${t}`)}getStartDate(t="00:00"){return new Date(`${this.dateUtils.getTodayDateStr()} ${t}`)}prepareExclusionsData(t){let e=[];null==t||t.forEach((t,o)=>{var n;(null==t?void 0:t.daysOfWeek)&&e.push({daysOfWeek:null===(n=this.daysMap[`day${o+1}`])||void 0===n?void 0:n.value,fromTime:this.dateUtils.getTimeStr(null==t?void 0:t.fromTime),toTime:this.dateUtils.getTimeStr(null==t?void 0:t.toTime)})}),this._workflowObj.filter=e}prepareNtfctnTriggerData(t){this._workflowObj.outageDuration=null==t?void 0:t.outageDuration,this._workflowObj.outagePollInterval=null==t?void 0:t.outagePollInterval,this._workflowObj.region=null==t?void 0:t.region,this._workflowObj.location=null==t?void 0:t.location}validateRegion(t){let e=this.triggerForm.get("region").value;if("All"===t)e=["All"];else{let t=e.indexOf("All");t>-1&&e.splice(t,1)}this.triggerForm.get("region").setValue(e),this.loadLocationValue("")}validateLocation(t){let e=this.triggerForm.get("location").value;if("All"!==t&&(null==e?void 0:e.length)){let t=e.indexOf("All");t>-1&&e.splice(t,1)}else e=["All"];this.triggerForm.get("location").setValue(e),this.workflowObj.location=e}ngOnDestroy(){var t,e;null===(t=this.formSub)||void 0===t||t.unsubscribe(),null===(e=this.tabSub)||void 0===e||e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(g.s),l.Y36(v.qu),l.Y36(h.s),l.Y36(f.eN),l.Y36(C.t6),l.Y36(d.q),l.Y36(P.t),l.Y36(M.v))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-outge-wrkflw-notification-trigger"]],inputs:{workflowObj:"workflowObj"},outputs:{isFormValid:"isFormValid"},decls:27,vars:11,consts:[[1,"container","px-0",3,"formGroup"],[1,"row","mb-3"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-6"],[1,"heading-4"],[1,"error"],[1,"px-3"],[1,"info-text","pt-2"],[1,"my-3"],[1,"ccl-form","row"],[1,"col-sm-5","max-121"],["formControlName","outagePollInterval","bindValue","id","bindLabel","name",3,"multiple","items","clearable"],["class","errorMessage",4,"ngIf"],["for","wf_outagepollinterval",1,"col-form-label","text-lowercase"],[3,"ngTemplateOutlet"],["geographyTemplate",""],[1,"errorMessage"],["class","mt-1",4,"ngIf"],[4,"ngIf"],[1,"mt-1"],[1,"row"],["for","inputEmail3",1,"col-form-label"],[1,"w-100"],["formControlName","region","bindValue","id","bindLabel","name",3,"multiple","items","clearable","searchable","placeholder","add","remove"],["formControlName","location","bindValue","id","bindLabel","name",3,"multiple","items","placeholder","clearable","searchable","add","remove"]],template:function(t,e){if(1&t&&(l.TgZ(0,"section"),l.TgZ(1,"div",0),l.TgZ(2,"div",1),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l._uU(5),l.TgZ(6,"span",4),l._uU(7,"*"),l.qZA(),l.qZA(),l.TgZ(8,"div",5),l.TgZ(9,"div",6),l._uU(10),l.qZA(),l.TgZ(11,"div",7),l.TgZ(12,"div",8),l.TgZ(13,"div",9),l._UZ(14,"ng-select",10),l.YNc(15,j,3,2,"div",11),l.qZA(),l.TgZ(16,"label",12),l._uU(17),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(18,"div",2),l.TgZ(19,"div",3),l._uU(20),l.qZA(),l.TgZ(21,"div",5),l.TgZ(22,"div",6),l._uU(23),l.qZA(),l.YNc(24,y,0,0,"ng-template",13),l.qZA(),l.qZA(),l.qZA(),l.YNc(25,S,13,14,"ng-template",null,14,l.W1O),l.qZA(),l.qZA()),2&t){const t=l.MAs(26);l.xp6(1),l.Q6J("formGroup",e.triggerForm),l.xp6(4),l.Oqu(e.language["Frequency Threshold"]),l.xp6(5),l.hij(" ",e.language["Frequency of email notifications during the outage"]," "),l.xp6(4),l.Q6J("multiple",!1)("items",e.outagePollOptions)("clearable",!1),l.xp6(1),l.Q6J("ngIf",e.submitted&&(null==e.formControls||null==e.formControls.outagePollInterval?null:e.formControls.outagePollInterval.invalid)),l.xp6(2),l.Oqu(e.language["Minute(s)"]),l.xp6(3),l.Oqu(e.language.Geography),l.xp6(3),l.hij(" ",e.language.immediate_geography_msg," "),l.xp6(1),l.Q6J("ngTemplateOutlet",t)}},directives:[v.JL,v.sg,Z.w9,v.JJ,v.u,n.O5,n.tP],styles:['.heading-4[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0em;text-align:left;border-bottom:1px solid #CCCCCC;padding-bottom:5px}.info-text[_ngcontent-%COMP%]{font-size:16px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:0em;text-align:left}.info-text[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:600!important}.raise-note[_ngcontent-%COMP%]{padding:10px 10px 0 15px}.sectitle[_ngcontent-%COMP%]{font-size:18px;font-weight:400;color:#1a1f22}.max-w165[_ngcontent-%COMP%]{max-width:165px}.label-highlight[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#1a1f22;line-height:20px}  .p-calendar{width:100%}  .p-datepicker-header{display:none!important}.icon-p-cal[_ngcontent-%COMP%]{position:absolute;z-index:1;right:15px;top:4px}.day-selection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:28px;height:28px;display:inline-block;font-weight:400;font-size:14px;line-height:28px;color:#4c4c4c;background:#F8F8FA;border-radius:26px;text-align:center;margin-bottom:0;margin-right:10px}.day-selection[_ngcontent-%COMP%]   .day-selected[_ngcontent-%COMP%]{background:#0279FF;color:#fff}.week-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.week-container[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{width:35px;height:35px;color:#4c4c4c;background-color:#f8f8fa;text-align:center;line-height:35px;border-radius:50%;margin-bottom:2%}.week-container[_ngcontent-%COMP%]   .select-day[_ngcontent-%COMP%]{width:35px;height:35px;color:#fff;background-color:#0279ff;text-align:center;line-height:35px;border-radius:50%;margin-bottom:2%}.week-container[_ngcontent-%COMP%]   .week-circle[_ngcontent-%COMP%]{padding:4px}.start-item[_ngcontent-%COMP%]{width:100%;height:"36px"}.exclusions-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.exclusions-item[_ngcontent-%COMP%]{flex-grow:1;margin-bottom:3%}.exclusions-item[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.exclusions-item[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{width:80px!important}.exclusions-item[_ngcontent-%COMP%]   .p-calendar[_ngcontent-%COMP%]{width:80%!important}.exclusions-item[_ngcontent-%COMP%] + .exclusions-item[_ngcontent-%COMP%]{text-align:center}.diable-div[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.cursornallow[_ngcontent-%COMP%]{cursor:not-allowed}.p-button-icon[_ngcontent-%COMP%]{cursor:pointer}.w-100-imp[_ngcontent-%COMP%]{width:100px!important}input[type=checkbox][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]{cursor:pointer}.max-105[_ngcontent-%COMP%]{max-width:105px}.max-121[_ngcontent-%COMP%]{max-width:121px;min-width:12px}']}),t})();var N=o(67236),E=o(19642);function U(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",22),l.TgZ(1,"span",23),l._UZ(2,"img",24),l.qZA(),l.TgZ(3,"button",25),l.NdJ("click",function(){return l.CHM(t),l.oxw().closeAlert()}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",26),l.qZA()}if(2&t){const t=l.oxw();l.xp6(5),l.Q6J("innerHtml",t.errorInfo,l.oJD)}}function L(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",27),l.TgZ(1,"span",28),l._UZ(2,"img",29),l.qZA(),l.TgZ(3,"button",25),l.NdJ("click",function(){return l.CHM(t),l.oxw().success=!1}),l._UZ(4,"span"),l.qZA(),l._UZ(5,"div",26),l.qZA()}if(2&t){const t=l.oxw();l.xp6(5),l.Q6J("innerHtml",t.language[t.successInfo]||t.successInfo,l.oJD)}}const J=function(t,e,o){return{"step-current":t,"":e,"step-done":o}};function Y(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"li"),l.TgZ(1,"button",30),l.NdJ("click",function(){const e=l.CHM(t).index;return l.oxw().onTabChange(e)}),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,o=e.index,n=l.oxw();l.xp6(1),l.s9C("title",n.language[t]),l.Q6J("ngClass",l.kEZ(3,J,n.activeTab===t,2===n.tabs.length,n.levelsPassed>o&&n.activeTab!==t)),l.xp6(2),l.Oqu(n.language[t]||t)}}const D=function(t){return{primary:t}};function Q(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",31),l.NdJ("click",function(){l.CHM(t);const e=l.oxw();return e.onTabChange(e.selectedTabIndex-1)}),l._UZ(1,"img",32),l._uU(2),l.qZA()}if(2&t){const t=l.oxw();l.Q6J("ngClass",l.VKq(2,D,0!==t.selectedTabIndex)),l.xp6(2),l.hij(" ",t.language["Go back"]," ")}}function R(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",33),l.NdJ("click",function(){l.CHM(t);const e=l.oxw();return e.onTabChange(e.selectedTabIndex+1)}),l._uU(1),l._UZ(2,"img",34),l.qZA()}if(2&t){const t=l.oxw();l.Q6J("disabled",t.disableNextBtn),l.xp6(1),l.hij(" ",t.language.save_and_continue," ")}}function $(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",35),l.NdJ("click",function(){return l.CHM(t),l.oxw().deploy("PAUSE")}),l._uU(1),l.qZA()}if(2&t){const t=l.oxw();l.Q6J("disabled",t.disableFinishBtn),l.xp6(1),l.hij(" ",t.language.save_and_pause," ")}}function W(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",36),l.NdJ("click",function(){return l.CHM(t),l.oxw().deploy("RUN")}),l._uU(1),l.qZA()}if(2&t){const t=l.oxw();l.Q6J("disabled",t.disableFinishBtn),l.xp6(1),l.hij(" ",t.language.save_and_activate," ")}}function B(t,e){if(1&t&&(l.TgZ(0,"div",37),l.TgZ(1,"div",38),l.TgZ(2,"div",39),l.TgZ(3,"span",40),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(4),l.Oqu(t.language.Loading)}}function V(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"app-details",41),l.NdJ("isFormValid",function(e){return l.CHM(t),l.oxw().validateForm(e)}),l.qZA()}if(2&t){const t=l.oxw();l.Q6J("workflowObj",t.workflowObj)}}function H(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"app-outge-wrkflw-notification-trigger",41),l.NdJ("isFormValid",function(e){return l.CHM(t),l.oxw().validateForm(e)}),l.qZA()}if(2&t){const t=l.oxw();l.Q6J("workflowObj",t.workflowObj)}}function z(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"app-recepients",42),l.NdJ("isFormValid",function(e){return l.CHM(t),l.oxw().validateForm(e)}),l.qZA()}if(2&t){const t=l.oxw();l.Q6J("dynamicFields",t.recepientFormFields)("dynamicFieldsObj",t.recepientFormFieldsObj)("workflowObj",t.workflowObj)}}function X(t,e){if(1&t&&l._UZ(0,"app-outge-wrkflw-summary",43),2&t){const t=l.oxw();l.Q6J("workflowObj",t.workflowObj)}}let G=(()=>{class t{constructor(t,e,o,n,i,l,r,s,c,g,u){this.translateService=t,this.titleService=e,this.otgWrkflwSrvc=o,this.route=n,this.commonOrgService=i,this.http=l,this.router=r,this.dateUtils=s,this.commonWorkflowService=c,this.commonService=g,this.modalService=u,this.recepientFormFields=[{key:"emails",required:!0},{key:"notes",required:!1},{key:"sms",required:!0},{key:"webhooks",required:!0}],this.recepientFormFieldsObj={emailRecipients:"emails",emailNotes:"notes",sms:"sms",webhooks:"webhooks"},this.loader=!1,this.disableFinishBtn=!1,this.outageWorkflow=a,this.activeTab=null==a?void 0:a.DETAILS_LABEL,this.selectedTabIndex=0,this.isTabChange=!0,this.disableNextBtn=!1,this.error=!1,this.errorInfo="",this.success=!1,this.successInfo="",this.tabs=[null==a?void 0:a.DETAILS_LABEL,null==a?void 0:a.NOTIFICATION_LABEL,null==a?void 0:a.RECEPIENTS_LABEL,null==a?void 0:a.SUMMARY_LABEL],this.workflowObj={uuid:"",name:"",tenantId:0,emails:[],notes:"",region:["All"],location:["All"],filter:[],schedule:{immediate:!0,type:null,recurrencePattern:null},notifyOnClear:!0,outageThreshold:1,outageDuration:1,description:"",status:"DRAFT",format:"HTML",timezone:"",outagePollInterval:15,sms:[],webhooks:[],forms:{0:{valid:!1},1:{valid:!1},2:{valid:!1}},isConsentMsgSmsPopupAccepted:!1,isLoadConsentMsgSmsPopupApplicable:!0},this.levelsPassed=0}ngOnInit(){this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t,this.titleService.setTitle(`${this.language["Service Disruption Notifications"]} - ${this.language["Email Notifications"]} - ${this.language.Network_Operations} - ${this.language.Operations} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`)}),this.titleService.setTitle(`${this.language["Service Disruption Notifications"]} - ${this.language["Email Notifications"]} - ${this.language.Network_Operations} - ${this.language.Operations} - ${this.language.Operations} - ${this.language["Calix Cloud"]}`),console.log(`${this.language["Service Disruption Notifications"]}`);let t=this.route.snapshot.paramMap.get("id");t&&this.getRecordById(t)}openModal(){const t=this.modalService.open(c.J);t.componentInstance.workflowObj=this.workflowObj,t.result.then(t=>{t&&(console.log(t),this.onTabChange(this.selectedTabIndex+1))}).catch(t=>{})}onTabChange(t,e=null){var o,n,i,l,r,s,a,c;if(t>this.selectedTabIndex){let e=!0;this.commonWorkflowService.setTabChange();for(let l=0;l<t;l++)if(!(null===(i=null===(n=null===(o=this.workflowObj)||void 0===o?void 0:o.forms)||void 0===n?void 0:n[l])||void 0===i?void 0:i.valid)){e=!1;break}if(!e)return;if(2==this.selectedTabIndex&&(null===(l=this.workflowObj)||void 0===l?void 0:l.isLoadConsentMsgSmsPopupApplicable)&&!(null===(r=this.workflowObj)||void 0===r?void 0:r.isConsentMsgSmsPopupAccepted)&&(null===(a=null===(s=this.workflowObj)||void 0===s?void 0:s.sms)||void 0===a?void 0:a.length))return void this.openModal();if(0!=this.selectedTabIndex||(null===(c=this.workflowObj)||void 0===c?void 0:c.uuid))this.update(t);else{let e={name:this.workflowObj.name,description:this.workflowObj.description,timezone:this.dateUtils.getTImeZoneWithOffset()};this.create(e,t)}}else this.updateTab(t)}closeAlert(){this.error=!1,this.errorInfo=""}validateForm(t){var e,o;(null===(o=null===(e=this.workflowObj)||void 0===e?void 0:e.forms)||void 0===o?void 0:o[this.selectedTabIndex])&&(this.workflowObj.forms[this.selectedTabIndex].valid=t)}getRecordById(t){this.loader=!0,this.http.get(`${s.N.API_BASE_URL}analytics-engine/outageworkflow?outageWorkflowId=${t}`).subscribe(t=>{var e,o;t&&Object.keys(t).length&&(t=this.otgWrkflwSrvc.updateRegLocToAll(t),this.setFormStatus(t),(null==t?void 0:t.outagePollInterval)||(t.outagePollInterval=15),this.workflowObj=Object.assign(Object.assign({},this.workflowObj),t),(null===(o=null===(e=this.workflowObj)||void 0===e?void 0:e.sms)||void 0===o?void 0:o.length)&&(this.workflowObj.isConsentMsgSmsPopupAccepted=!0,this.workflowObj.isLoadConsentMsgSmsPopupApplicable=!1)),this.loader=!1},t=>{console.log(t),this.pageErrorHandle(t)})}pageErrorHandle(t){this.errorInfo=401==t.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(t),this.error=!0,this.loader=!1}create(t,e){this.http.post(`${s.N.API_BASE_URL}analytics-engine/outageworkflow`,t,{responseType:"text"}).subscribe(t=>{console.log(t),this.setSuccessInfo("Successfully Saved"),this.workflowObj.uuid=t,this.updateTab(e)},t=>{console.log(t),this.pageErrorHandle(t)})}update(t){let e=`${s.N.API_BASE_URL}analytics-engine/outageworkflow/${this.workflowObj.uuid}`,o={description:this.workflowObj.description,timezone:this.dateUtils.getTImeZoneWithOffset()};1==this.selectedTabIndex?o=Object.assign(Object.assign({},o),{region:this.workflowObj.region,location:this.workflowObj.location,outagePollInterval:this.workflowObj.outagePollInterval}):2==this.selectedTabIndex&&(o=Object.assign(Object.assign({},o),{region:this.workflowObj.region,location:this.workflowObj.location,outagePollInterval:this.workflowObj.outagePollInterval,emails:this.workflowObj.emails,notes:this.workflowObj.notes,webhooks:this.workflowObj.webhooks,sms:this.workflowObj.sms})),o.status=this.workflowObj.status,this.selectedTabIndex>0&&(o=this.otgWrkflwSrvc.updateRegLoc(o)),this.http.put(e,o,{responseType:"text"}).subscribe(e=>{console.log(e),this.setSuccessInfo("Successfully Saved"),this.updateTab(t)},t=>{console.log(t),this.pageErrorHandle(t)})}deploy(t){let e=`${s.N.API_BASE_URL}analytics-engine/outagedeployWorkflow?workflowId=${this.workflowObj.uuid}&status=${t}`,o={description:this.workflowObj.description,region:this.workflowObj.region,location:this.workflowObj.location,outagePollInterval:this.workflowObj.outagePollInterval,emails:this.workflowObj.emails,notes:this.workflowObj.notes,status:t,webhooks:this.workflowObj.webhooks,sms:this.workflowObj.sms};o=this.otgWrkflwSrvc.updateRegLoc(o),this.http.put(e,o,{responseType:"text"}).subscribe(e=>{console.log(e);let o="Service Disruption Notification Schedule successfully deployed";"PAUSE"===t?(o="Service Disruption Notification Schedule successfully paused",this.commonService.trackPendoEvents("Operations_Cloud","Email notification modified")):this.commonService.trackPendoEvents("Operations_Cloud","Email notification saved"),this.setSuccessInfo(o),setTimeout(()=>{this.selectedTabIndex>2&&this.router.navigate(["./cco/operations/alarms/health-alarm-notifications"])},2e3)},t=>{console.log(t),this.pageErrorHandle(t)})}updateTab(t){this.activeTab=this.tabs[t],this.disableNextBtn=!1,this.selectedTabIndex=t,this.isTabChange=!this.isTabChange,this.levelsPassed<t&&(this.levelsPassed=t)}setSuccessInfo(t){this.success=!0,this.successInfo=t,setTimeout(()=>{this.success=!1},2e3)}setFormStatus(t){var e,o,n;(null==t?void 0:t.name)&&(this.workflowObj.forms[0].valid=!0,this.levelsPassed=1),(null==t?void 0:t.name)&&(null==t?void 0:t.outagePollInterval)&&(this.workflowObj.forms[1].valid=!0,this.levelsPassed=2),((null==t?void 0:t.name)&&(null==t?void 0:t.outagePollInterval)&&(null===(e=null==t?void 0:t.emails)||void 0===e?void 0:e.length)||(null===(o=null==t?void 0:t.sms)||void 0===o?void 0:o.length)||(null===(n=null==t?void 0:t.webhooks)||void 0===n?void 0:n.length))&&(this.workflowObj.forms[2].valid=!0,this.levelsPassed=3),("PAUSE"===(null==t?void 0:t.status)||"RUN"===(null==t?void 0:t.status))&&(this.levelsPassed=4)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(g.s),l.Y36(u.Dx),l.Y36(d.q),l.Y36(i.gz),l.Y36(p.v),l.Y36(f.eN),l.Y36(i.F0),l.Y36(h.s),l.Y36(b.Z),l.Y36(w.i),l.Y36(m.FF))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-outge-wrkflw-main"]],decls:26,vars:13,consts:[["class","w-100 alert alert-danger fade show my-3",4,"ngIf"],["class","w-100 alert alert-success fade show my-3",4,"ngIf"],["id","outage-workflow",1,"outage-workflow"],[1,"row","mb-2"],[1,"col-md-12","border-bottom","pb-1","pl-0","pr-5","position-relative","min-h-58px"],[1,"ccl-admin-title"],[1,"close-icon"],["routerLink","/cco/operations/alarms/health-alarm-notifications","routerLinkActive","active",1,"close","cursor-pointer"],[1,"row"],[1,"col-md-12","px-0"],[1,"stepper-main","mt-3"],[1,"stepper-ui","mb-4"],[4,"ngFor","ngForOf"],[1,"pos-action-btn"],["type","button","class","btn-arrow btn-arr-prev btn-grey mr-2 float-left",3,"ngClass","click",4,"ngIf"],["type","button","class","btn-default primary",3,"disabled","click",4,"ngIf"],["type","button","class","btn-default primary px-3 mr-2",3,"disabled","click",4,"ngIf"],["type","button","class","btn-default primary px-3",3,"disabled","click",4,"ngIf"],["class","loader",4,"ngIf"],[3,"workflowObj","isFormValid",4,"ngIf"],[3,"dynamicFields","dynamicFieldsObj","workflowObj","isFormValid",4,"ngIf"],[3,"workflowObj",4,"ngIf"],[1,"w-100","alert","alert-danger","fade","show","my-3"],[1,"error-img"],["src","./assets/img/ic_error-36px.svg"],["type","button",1,"close",3,"click"],[1,"d-inline-flex",3,"innerHtml"],[1,"w-100","alert","alert-success","fade","show","my-3"],[1,"success-img"],["src","./assets/img/success-icon.svg"],[3,"title","ngClass","click"],["type","button",1,"btn-arrow","btn-arr-prev","btn-grey","mr-2","float-left",3,"ngClass","click"],["src","assets/img/ic_chevronleft_grey.svg"],["type","button",1,"btn-default","primary",3,"disabled","click"],["src","assets/img/ic_chevron-r-w.svg",1,"ml-1"],["type","button",1,"btn-default","primary","px-3","mr-2",3,"disabled","click"],["type","button",1,"btn-default","primary","px-3",3,"disabled","click"],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[3,"workflowObj","isFormValid"],[3,"dynamicFields","dynamicFieldsObj","workflowObj","isFormValid"],[3,"workflowObj"]],template:function(t,e){1&t&&(l.YNc(0,U,6,1,"div",0),l.YNc(1,L,6,1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l._uU(6),l.qZA(),l.TgZ(7,"div",6),l.TgZ(8,"button",7),l._UZ(9,"span"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(10,"div",8),l.TgZ(11,"div",9),l.TgZ(12,"section",10),l.TgZ(13,"ul",11),l.YNc(14,Y,4,7,"li",12),l.qZA(),l.TgZ(15,"div",13),l.YNc(16,Q,3,4,"button",14),l.YNc(17,R,3,2,"button",15),l.YNc(18,$,2,2,"button",16),l.YNc(19,W,2,2,"button",17),l.qZA(),l.qZA(),l.YNc(20,B,5,1,"div",18),l.TgZ(21,"div"),l.YNc(22,V,1,1,"app-details",19),l.YNc(23,H,1,1,"app-outge-wrkflw-notification-trigger",19),l.YNc(24,z,1,3,"app-recepients",20),l.YNc(25,X,1,1,"app-outge-wrkflw-summary",21),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.Q6J("ngIf",e.error),l.xp6(1),l.Q6J("ngIf",e.success),l.xp6(5),l.hij(" ",(null==e.workflowObj?null:e.workflowObj.name)||e.language["New Service Disruption"]," "),l.xp6(8),l.Q6J("ngForOf",e.tabs),l.xp6(2),l.Q6J("ngIf",e.selectedTabIndex>0),l.xp6(1),l.Q6J("ngIf",e.selectedTabIndex+1!==(null==e.tabs?null:e.tabs.length)),l.xp6(1),l.Q6J("ngIf",e.selectedTabIndex+1===(null==e.tabs?null:e.tabs.length)),l.xp6(1),l.Q6J("ngIf",e.selectedTabIndex+1===(null==e.tabs?null:e.tabs.length)),l.xp6(1),l.Q6J("ngIf",e.loader),l.xp6(2),l.Q6J("ngIf",e.activeTab===(null==e.outageWorkflow?null:e.outageWorkflow.DETAILS_LABEL)),l.xp6(1),l.Q6J("ngIf",e.activeTab===(null==e.outageWorkflow?null:e.outageWorkflow.NOTIFICATION_LABEL)),l.xp6(1),l.Q6J("ngIf",e.activeTab===(null==e.outageWorkflow?null:e.outageWorkflow.RECEPIENTS_LABEL)),l.xp6(1),l.Q6J("ngIf",e.activeTab===(null==e.outageWorkflow?null:e.outageWorkflow.SUMMARY_LABEL)))},directives:[n.O5,i.rH,i.Od,n.sg,n.mk,O.M,F,N.F,E.O],styles:['#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .stepper-main[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;position:relative}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]{width:100%;display:flex;flex:0 0 100%;position:relative}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--1[_ngcontent-%COMP%], #outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--2[_ngcontent-%COMP%], #outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--3[_ngcontent-%COMP%], #outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--4[_ngcontent-%COMP%], #outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--5[_ngcontent-%COMP%]{width:calc(100% / 5);padding:5px 25px;background:#ebeaef!important;color:gray;text-align:center;cursor:pointer!important;border-radius:20px}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:first-child{border-top-left-radius:20px;border-bottom-left-radius:20px}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--1[_ngcontent-%COMP%]{z-index:55!important}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--2[_ngcontent-%COMP%]{z-index:44!important;transform:translate(-20px)}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--3[_ngcontent-%COMP%]{z-index:33!important;transform:translate(-40px)}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--4[_ngcontent-%COMP%]{z-index:22!important;transform:translate(-60px)!important}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step--5[_ngcontent-%COMP%]{z-index:11!important;transform:translate(-80px)!important}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step-active[_ngcontent-%COMP%]{background:#0279ff!important;color:#fff!important;z-index:99!important;border-radius:20px!important}#outage-workflow.outage-workflow[_ngcontent-%COMP%]   .step-success[_ngcontent-%COMP%]{background:#82bf00!important;color:#fff!important;z-index:101!important;border-radius:20px!important}.outage-workflow[_ngcontent-%COMP%]{position:relative}.close-box[_ngcontent-%COMP%]{font-size:24px;font-weight:300;color:gray}.btn-arrow.btn-grey[_ngcontent-%COMP%]{border:1px solid #CCCCCC!important;background-color:#f8f8fa!important;color:#4c4c4c!important}.stepper-main[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;flex-direction:column;position:relative}.stepper-ui[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0 0 10px;padding:0;overflow:hidden;width:100%}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 10px 0 30px;color:#1a1f22;position:relative;height:32px;border-top:1px solid #0279ff;border-bottom:1px solid #0279ff;border-right:0px!important;border-left:0px!important;outline:none!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:2}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{content:"";width:30px;height:100%;background:transparent;position:absolute;top:0;right:-10px;transform:rotate(48deg);z-index:1;border:1px ridge transparent;border-top-color:#0279ff;border-right-color:#0279ff;border-top-right-radius:5px}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]{color:#fff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:after{background-color:#0279ff!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]{background-color:#82bf00!important;border-color:#82bf00}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:after{background-color:#82bf00!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:disabled{background-color:#82bf00!important;border-color:#82bf00!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:after{border-top-color:#fff!important;border-right-color:#fff!important;border-style:solid}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:after{border-top-color:#0279ff!important;border-right-color:#0279ff!important;border-style:solid}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   button[_ngcontent-%COMP%]{border-top-left-radius:30px;border-bottom-left-radius:30px}button[_ngcontent-%COMP%]:disabled{background:transparent!important;border-color:#0279ff!important;cursor:not-allowed;color:#4c4c4c}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f5faff;color:#0279ff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{background-color:#f5faff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:-1px;width:20px;height:32px;background-color:transparent;border-top:1px solid #0279ff;border-bottom:1px solid #0279ff;z-index:9}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#1a1f22}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled:after{background-color:#fff}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%], .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%]{opacity:.8;color:#fff!important}.stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-current[_ngcontent-%COMP%]:before, .stepper-ui[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.step-done[_ngcontent-%COMP%]:before{display:none}.btn-arr-nxt[_ngcontent-%COMP%]:disabled{background:#0279ff!important;border:1px solid #0279ff!important;cursor:not-allowed;opacity:.5;color:#81bcff}.pos-action-btn[_ngcontent-%COMP%]{position:absolute;right:0px;top:0px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:0;top:24px}.min-h-58px[_ngcontent-%COMP%]{min-height:58px}']}),t})();const K=[{path:"",component:r,children:[{path:"add",component:G},{path:"edit/:id",component:G},{path:"",redirectTo:"add",pathMatch:"full"}]}];let tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[i.Bz.forChild(K)],i.Bz]}),t})();var et=o(18638),ot=o(44466),nt=o(89043);let it=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[n.ez,tt,v.u5,v.UX,Z.A0,et._8,ot.m,nt.R]]}),t})()},1570:function(t,e,o){o.d(e,{f:function(){return h}});var n=o(37716),i=o(7450),l=o(38583);function r(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1,"-"),n.qZA())}function s(t,e){1&t&&n._UZ(0,"br")}function a(t,e){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.YNc(2,s,1,0,"br",1),n.qZA()),2&t){const t=e.$implicit,o=e.last;n.xp6(1),n.hij(" ",t,""),n.xp6(1),n.Q6J("ngIf",!o)}}function c(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1,"-"),n.qZA())}function g(t,e){1&t&&n._UZ(0,"br")}function u(t,e){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.YNc(2,g,1,0,"br",1),n.qZA()),2&t){const t=e.$implicit,o=e.last;n.xp6(1),n.hij(" ",t,""),n.xp6(1),n.Q6J("ngIf",!o)}}function d(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1,"-"),n.qZA())}function p(t,e){1&t&&n._UZ(0,"br")}function f(t,e){if(1&t&&(n.TgZ(0,"span",3),n._uU(1),n.YNc(2,p,1,0,"br",1),n.qZA()),2&t){const t=e.$implicit,o=e.last;n.xp6(1),n.hij(" ",t,""),n.xp6(1),n.Q6J("ngIf",!o)}}let h=(()=>{class t{constructor(t){this.translateService=t}set workflowObj(t){console.log(t),this._workflowObj=t}get workflowObj(){return this._workflowObj}ngOnInit(){this.language=this.translateService.defualtLanguage,this.languageSubject=this.translateService.selectedLanguage.subscribe(t=>{this.language=t})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(i.s))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-summary-recepients"]],inputs:{workflowObj:"workflowObj"},decls:26,vars:12,consts:[[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-break"],["class","text-break",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(n.TgZ(0,"table",0),n.TgZ(1,"tbody"),n.TgZ(2,"tr"),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n.YNc(6,r,2,0,"span",1),n.YNc(7,a,3,2,"span",2),n.qZA(),n.qZA(),n.TgZ(8,"tr"),n.TgZ(9,"td"),n._uU(10),n.qZA(),n.TgZ(11,"td",3),n._uU(12),n.qZA(),n.qZA(),n.TgZ(13,"tr"),n.TgZ(14,"td"),n._uU(15),n.qZA(),n.TgZ(16,"td"),n.YNc(17,c,2,0,"span",1),n.YNc(18,u,3,2,"span",2),n.qZA(),n.qZA(),n.TgZ(19,"tr"),n.TgZ(20,"td"),n.TgZ(21,"span"),n._uU(22),n.qZA(),n.qZA(),n.TgZ(23,"td"),n.YNc(24,d,2,0,"span",1),n.YNc(25,f,3,2,"span",4),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(4),n.AsE("",e.language.Email," (",null!=e.workflowObj&&null!=e.workflowObj.emailRecipients&&e.workflowObj.emailRecipients.length?null==e.workflowObj||null==e.workflowObj.emailRecipients?null:e.workflowObj.emailRecipients.length:0,")"),n.xp6(2),n.Q6J("ngIf",!(null!=e.workflowObj&&null!=e.workflowObj.emailRecipients&&e.workflowObj.emailRecipients.length)),n.xp6(1),n.Q6J("ngForOf",null==e.workflowObj?null:e.workflowObj.emailRecipients),n.xp6(3),n.Oqu(e.language.Notes),n.xp6(2),n.hij(" ",null!=e.workflowObj&&e.workflowObj.emailNotes?null==e.workflowObj?null:e.workflowObj.emailNotes:"-"," "),n.xp6(3),n.hij("SMS (",null!=e.workflowObj&&null!=e.workflowObj.sms&&e.workflowObj.sms.length?null==e.workflowObj||null==e.workflowObj.sms?null:e.workflowObj.sms.length:0,")"),n.xp6(2),n.Q6J("ngIf",!(null!=e.workflowObj&&null!=e.workflowObj.sms&&e.workflowObj.sms.length)),n.xp6(1),n.Q6J("ngForOf",null==e.workflowObj?null:e.workflowObj.sms),n.xp6(4),n.hij("Webhook (",null!=e.workflowObj&&null!=e.workflowObj.webhooks&&e.workflowObj.webhooks.length?null==e.workflowObj||null==e.workflowObj.webhooks?null:e.workflowObj.webhooks.length:0,")"),n.xp6(2),n.Q6J("ngIf",!(null!=e.workflowObj&&null!=e.workflowObj.webhooks&&e.workflowObj.webhooks.length)),n.xp6(1),n.Q6J("ngForOf",null==e.workflowObj?null:e.workflowObj.webhooks))},directives:[l.O5,l.sg],styles:[""]}),t})()}}]);