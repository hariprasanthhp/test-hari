!function(){"use strict";function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,s,l,o=[],r=!0,u=!1;try{if(s=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;r=!1}else for(;!(r=(n=s.call(i)).done)&&(o.push(n.value),o.length!==t);r=!0);}catch(e){u=!0,a=e}finally{try{if(!r&&null!=i.return&&(l=i.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,s=void 0,"symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"))?s:String(s)),n)}var a,s}function l(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcalix=self.webpackChunkcalix||[]).push([[3069],{83069:function(i,n,s){s.r(n),s.d(n,{NetworkModule:function(){return it}});var o=s(38583),r=s(3679),u=s(39895),c=s(37716),d=s(30900),g=s(38048),h=function(){return["active"]};function p(e,t){if(1&e&&(c.TgZ(0,"li",5),c.TgZ(1,"a",6),c._uU(2),c.qZA(),c.qZA()),2&e){var i=t.$implicit;c.xp6(1),c.s9C("id",i.title),c.s9C("routerLink",i.link),c.Q6J("routerLinkActive",c.DdM(4,h)),c.xp6(1),c.Oqu(i.title)}}function f(e,t){if(1&e&&(c.TgZ(0,"div",2),c.TgZ(1,"ul",3),c.YNc(2,p,3,5,"li",4),c.qZA(),c.qZA()),2&e){var i=c.oxw();c.xp6(2),c.Q6J("ngForOf",i.menus)}}var b,v=((b=function(){function e(t,i,n){a(this,e),this.router=t,this.customTranslateService=i,this.sso=n,this.pageAvailable=!1,this.languages=[{name:"English"},{name:"French Canadian"}],this.MODULE=this.sso.getRedirectModule(this.router.url)}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.language=this.customTranslateService.defualtLanguage,this.language&&(this.pageAvailable=!0),this.customTranslateService.selectedLanguage.subscribe(function(t){e.language=t,e.menus[0].title=e.language.devices,e.menus[1].title=e.language.subnets,e.menus[2].title=e.language.radiusserver}),this.menus=[{title:this.language.devices,link:"devices",subMenuLink:"/".concat(this.MODULE,"/flowAnalyze/network/devices")},{title:this.language.subnets,link:"subnets",subMenuLink:"/".concat(this.MODULE,"/flowAnalyze/network/subnets")},{title:this.language.radiusserver,link:"radius-servers",subMenuLink:"/".concat(this.MODULE,"/flowAnalyze/network/radius-servers")}],this.activeRoute=this.router.url}},{key:"languageChange",value:function(e){sessionStorage.setItem("defaultLanguage",e),this.customTranslateService.changeLanguage(e)}},{key:"goPage",value:function(e){this.router.navigate([e])}},{key:"pageChange",value:function(e){this.activeRoute=e.subMenuLink}},{key:"onActivate",value:function(e){window.scroll({top:0,left:0,behavior:"smooth"})}}]),e}()).\u0275fac=function(e){return new(e||b)(c.Y36(u.F0),c.Y36(d.d),c.Y36(g.t6))},b.\u0275cmp=c.Xpm({type:b,selectors:[["app-network"]],decls:2,vars:1,consts:[["class","flow-config-sub-tab position-relative",4,"ngIf"],[3,"activate"],[1,"flow-config-sub-tab","position-relative"],[1,"nav"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],[1,"nav-link",3,"id","routerLink","routerLinkActive"]],template:function(e,t){1&e&&(c.YNc(0,f,3,1,"div",0),c.TgZ(1,"router-outlet",1),c.NdJ("activate",function(e){return t.onActivate(e)}),c.qZA()),2&e&&c.Q6J("ngIf",t.pageAvailable)},directives:[o.O5,u.lC,o.sg,u.yS,u.Od],styles:[""]}),b),Z=s(79765),m=s(35758),x=s(23771),S=s(404),T=s(91841),A=s(92340),y=function(){var e=function(){function e(t){a(this,e),this.httpClient=t,this.subnet="subnet",this.staticSubnet="staticsubnet",this.arrayToObject=function(e,t){return e.reduce(function(e,i){return e[i[t]]=i,e},{})},this.baseUrl=A.N.faAdminURL;var i=new T.WM({"Content-Type":"application/json"});this.options={headers:i},this.export=this.baseUrl+"export/"}return l(e,[{key:"getSubnets",value:function(e,t){return this.httpClient.get("".concat(this.baseUrl).concat(this.subnet,"?org-id=").concat(e).concat(t?"&all=true":""))}},{key:"getStaticSubnets",value:function(e){return this.httpClient.get("".concat(this.baseUrl).concat(this.staticSubnet,"?org-id=").concat(e))}},{key:"addSubnet",value:function(e,t){return this.httpClient.post("".concat(this.baseUrl).concat(this.subnet,"?org-id=").concat(t),e,this.options)}},{key:"addStaticSubnet",value:function(e,t){return this.httpClient.post("".concat(this.baseUrl).concat(this.subnet,"?org-id=").concat(t),e,this.options)}},{key:"exportSubnets",value:function(e){return this.httpClient.get("".concat(this.baseUrl,"devices?org-id=").concat(e))}},{key:"importSubnets",value:function(e,t,i){return this.httpClient.put("".concat(this.baseUrl,"fa_import/").concat(i?"combined-subnets":"subnets","?org-id=").concat(t),e)}},{key:"importStaticSubnets",value:function(e,t){return this.httpClient.put("".concat(this.baseUrl,"fa_import/static-subnets?org-id=").concat(t),e)}},{key:"deleteSubnet",value:function(e,t){return this.httpClient.delete("".concat(this.baseUrl).concat(this.subnet,"/").concat(e,"?org-id=").concat(t))}},{key:"deleteStaticSubnet",value:function(e,t){return this.httpClient.delete("".concat(this.baseUrl).concat(this.subnet,"/").concat(e,"?org-id=").concat(t))}},{key:"updateSubnet",value:function(e,t,i){return this.httpClient.put("".concat(this.baseUrl).concat(this.subnet,"/").concat(e,"?org-id=").concat(i),t)}},{key:"updateStaticSubnet",value:function(e,t,i){return this.httpClient.put("".concat(this.baseUrl).concat(this.subnet,"/").concat(e,"?org-id=").concat(i),t)}},{key:"getRadiusServers",value:function(e){return this.httpClient.get("".concat(A.N.FA_ADMIN_CONFIG_URL,"radius?org-id=").concat(e,"&tenant-id=0"))}},{key:"addRadiusServer",value:function(e,t){return this.httpClient.post("".concat(A.N.FA_ADMIN_CONFIG_URL,"radius?org-id=").concat(t,"&tenant-id=0"),e,this.options)}},{key:"updateRadiusServer",value:function(e,t,i){return this.httpClient.put("".concat(A.N.FA_ADMIN_CONFIG_URL,"radius/").concat(e,"?org-id=").concat(i,"&tenant-id=0"),t)}},{key:"deleteRadiusServer",value:function(e,t){return this.httpClient.delete("".concat(A.N.FA_ADMIN_CONFIG_URL,"radius/").concat(e,"?org-id=").concat(t,"&tenant-id=0"))}},{key:"exportProcess",value:function(e){var t=[];return e.forEach(function(e){t.push({subnet:e.subnet?e.subnet:"",excluded:e.excluded?e.excluded:""})}),t}},{key:"importDataProcess",value:function(e,t,i,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return e.forEach(function(e){e.excluded="boolean"==typeof e.excluded?e.excluded:!("N"==e.excluded.toUpperCase()||"NO"==e.excluded.toUpperCase()),e.isstatic=a,e.isv4=!0,e.action=t?"Create":"Update",e.orgId=n,e.tenantId=0}),e}},{key:"checkData",value:function(e){if(Array.isArray(e[0])){var t=[];return e.forEach(function(e){t.push({subnet:e[0],excluded:e[1]})}),t}return e}},{key:"trimSubnet",value:function(e){for(e=e.trim();"."===e[e.length-1];)e=e.slice(0,-1);return e}},{key:"isSubnetV4",value:function(e){return 4==e.split("/")[0].split(".").length}},{key:"isSubnetV6",value:function(e){return 6==e.split("/")[0].split(".").length}},{key:"deleteObjectFromArray",value:function(e,t){return e.filter(function(e){return e._id!==t})}},{key:"Export",value:function(e,t){return this.httpClient.get("".concat(this.export).concat(e,"?org-id=").concat(t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(T.eN))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),q=s(7450),w=s(12664),I=s(49342),M=s(39075),O=s(20904),k=["infoModal"],_=["deleteModal"],C=["multiDeleteModal"];function D(e,t){if(1&e&&(c.TgZ(0,"div",20),c.TgZ(1,"div",21),c.TgZ(2,"div",22),c.TgZ(3,"span",23),c._uU(4),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var i=c.oxw();c.xp6(4),c.Oqu(i.language.Loading)}}function U(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",24),c.TgZ(1,"div",25),c.TgZ(2,"div",26),c.TgZ(3,"div"),c.TgZ(4,"button",27),c.NdJ("click",function(){return c.CHM(i),c.oxw().create()}),c._uU(5),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"div",28),c.TgZ(7,"div",29),c._UZ(8,"input",30),c.TgZ(9,"button",31),c._UZ(10,"i",32),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(5),c.Oqu(n.language.create)}}function N(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"section"),c.TgZ(1,"div",4),c.TgZ(2,"div",33),c.TgZ(3,"form"),c.TgZ(4,"div",34),c.TgZ(5,"label",35),c._uU(6),c.TgZ(7,"span",36),c._uU(8,"*"),c.qZA(),c.qZA(),c.TgZ(9,"div",37),c.TgZ(10,"input",38),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw().newIP=e})("blur",function(){c.CHM(i);var e=c.oxw();return e.removeUnwantedSpace("newIP",e.newIP)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"div",34),c.TgZ(12,"label",39),c._uU(13),c.qZA(),c.TgZ(14,"div",37),c.TgZ(15,"input",40),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw().port=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(16,"div",34),c.TgZ(17,"label",41),c._uU(18),c.TgZ(19,"span",36),c._uU(20,"*"),c.qZA(),c.qZA(),c.TgZ(21,"div",37),c.TgZ(22,"input",42),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw().secret=e}),c.qZA(),c.TgZ(23,"span",43),c.NdJ("click",function(){return c.CHM(i),c.oxw().toggleSecret("addSecret")}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"div",44),c.TgZ(25,"div",45),c.TgZ(26,"button",46),c.NdJ("click",function(){return c.CHM(i),c.oxw().submit()}),c._uU(27),c.qZA(),c.TgZ(28,"button",47),c.NdJ("click",function(){return c.CHM(i),c.oxw().cancel()}),c._uU(29),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(6),c.hij("",n.language["Server IP address"]," "),c.xp6(4),c.Q6J("ngModel",n.newIP),c.xp6(3),c.Oqu(n.language.port),c.xp6(2),c.Q6J("ngModel",n.port),c.xp6(3),c.hij("",n.language.secret," "),c.xp6(4),c.Q6J("type",n.addSecret?"password":"text")("ngModel",n.secret),c.xp6(1),c.Q6J("ngClass",n.addSecret?"password_hide":"password_view"),c.xp6(4),c.Oqu(n.language.submit),c.xp6(2),c.Oqu(n.language.Cancel)}}function J(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",55),c.TgZ(1,"div",56),c.TgZ(2,"span",57),c.TgZ(3,"div",58),c.NdJ("click",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw().edit(e)}),c._UZ(4,"i",59),c.qZA(),c.qZA(),c.TgZ(5,"span",57),c.TgZ(6,"input",60),c.NdJ("click",function(e){c.CHM(i);var t=c.oxw().$implicit;return c.oxw().getDeleteIds(e,t)}),c.qZA(),c.qZA(),c.TgZ(7,"span",57),c.TgZ(8,"div",61),c.NdJ("click",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw().delete(e)}),c._UZ(9,"i",14),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw().$implicit,a=c.oxw();c.xp6(3),c.s9C("title",a.language.Edit),c.xp6(3),c.Gre("delete_id_",n._id,""),c.s9C("value",n._id),c.MGl("name","delete_id_",n._id,""),c.s9C("title",a.language.Select),c.xp6(2),c.s9C("title",a.language.Delete)}}function V(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",62),c.TgZ(1,"div",56),c.TgZ(2,"span",63),c.TgZ(3,"div",64),c.NdJ("click",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw().updateSave(e._id)}),c._UZ(4,"i",65),c.qZA(),c.qZA(),c.TgZ(5,"span",63),c.TgZ(6,"div",66),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).updateCancel()}),c._UZ(7,"i",67),c.qZA(),c.qZA(),c.qZA(),c.qZA()}}function E(e,t){if(1&e&&(c.TgZ(0,"div"),c._uU(1),c.qZA()),2&e){var i=c.oxw().$implicit;c.xp6(1),c.hij(" ",i.ip?i.ip:""," ")}}var H=function(){return{standalone:!0}};function P(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",29),c.TgZ(1,"input",68),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw(2).editIP=e})("blur",function(){c.CHM(i);var e=c.oxw(2);return e.removeUnwantedSpace("editIP",e.editIP)}),c.qZA(),c.qZA()}if(2&e){var n=c.oxw().$implicit,a=c.oxw();c.xp6(1),c.s9C("value",n.ip),c.Q6J("ngModel",a.editIP)("ngModelOptions",c.DdM(3,H))}}function R(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",69),c._uU(1),c.TgZ(2,"span",70),c.NdJ("click",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw().toggleSecret(e)}),c.qZA(),c.qZA()}if(2&e){var n=c.oxw().$implicit;c.xp6(1),c.hij(" ",n.secret?n.hideSecret?"******":n.secret:"-"," "),c.xp6(1),c.Q6J("ngClass",n.hideSecret?"password_hide":"password_view")}}function F(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",71),c.TgZ(1,"input",72),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw(2).editSecret=e}),c.qZA(),c.TgZ(2,"span",70),c.NdJ("click",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw().toggleSecret(e)}),c.qZA(),c.qZA()}if(2&e){var n=c.oxw().$implicit,a=c.oxw();c.xp6(1),c.s9C("value",n.secret),c.Q6J("type",n.hideSecret?"password":"text")("ngModel",a.editSecret)("ngModelOptions",c.DdM(5,H)),c.xp6(1),c.Q6J("ngClass",n.hideSecret?"password_hide":"password_view")}}function Y(e,t){if(1&e&&(c.TgZ(0,"tr",48),c.TgZ(1,"td",49),c.YNc(2,J,10,8,"div",50),c.YNc(3,V,8,0,"div",51),c.qZA(),c.TgZ(4,"td"),c.YNc(5,E,2,1,"div",3),c.YNc(6,P,2,4,"div",52),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c.YNc(10,R,3,2,"div",53),c.YNc(11,F,3,6,"div",54),c.qZA(),c.qZA()),2&e){var i=t.$implicit,n=c.oxw();c.s9C("id",i._id),c.xp6(2),c.Q6J("ngIf",n.editOnValue!=i._id),c.xp6(1),c.Q6J("ngIf",n.editOnValue==i._id),c.xp6(2),c.Q6J("ngIf",n.editOnValue!=i._id),c.xp6(1),c.Q6J("ngIf",n.editOnValue==i._id),c.xp6(2),c.hij(" ",i.port?i.port:""," "),c.xp6(2),c.Q6J("ngIf",n.editOnValue!=i._id),c.xp6(1),c.Q6J("ngIf",n.editOnValue==i._id)}}function Q(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",73),c.TgZ(1,"h4",74),c._uU(2),c.qZA(),c.TgZ(3,"button",75),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._UZ(4,"span",76),c.qZA(),c.qZA(),c.TgZ(5,"div",77),c._uU(6),c.qZA(),c.TgZ(7,"div",78),c.TgZ(8,"button",79),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._uU(9),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(2),c.Oqu(n.infoTitle),c.xp6(4),c.hij(" ",n.infoBody," "),c.xp6(3),c.Oqu(n.language.Okay)}}function j(e,t){if(1&e){var i=c.EpF();c.ynx(0),c.TgZ(1,"div",73),c.TgZ(2,"h4",74),c._uU(3),c.qZA(),c.TgZ(4,"button",75),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._UZ(5,"span",76),c.qZA(),c.qZA(),c.TgZ(6,"div",77),c._UZ(7,"table",80),c.qZA(),c.TgZ(8,"div",78),c.TgZ(9,"button",79),c.NdJ("click",function(){return c.CHM(i),c.oxw().confirmDelete()}),c._uU(10),c.qZA(),c.TgZ(11,"button",81),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._uU(12),c.qZA(),c.qZA(),c.BQk()}if(2&e){var n=c.oxw();c.xp6(3),c.hij("",n.infoTitle,"?"),c.xp6(4),c.Q6J("innerHtml",n.infoBody,c.oJD),c.xp6(3),c.Oqu(n.language.Okay),c.xp6(2),c.Oqu(n.language.Cancel)}}function G(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",73),c.TgZ(1,"h4",74),c._uU(2),c.qZA(),c.TgZ(3,"button",75),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._UZ(4,"span",76),c.qZA(),c.qZA(),c.TgZ(5,"div",77),c._UZ(6,"table",80),c.qZA(),c.TgZ(7,"div",78),c.TgZ(8,"button",79),c.NdJ("click",function(){return c.CHM(i),c.oxw().confirmDeleteSecleted()}),c._uU(9),c.qZA(),c.TgZ(10,"button",81),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._uU(11),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(2),c.hij("",n.infoTitle,"?"),c.xp6(4),c.Q6J("innerHtml",n.infoBody,c.oJD),c.xp6(3),c.Oqu(n.language.Okay),c.xp6(2),c.Oqu(n.language.Cancel)}}var L=s(91704),B=function(){var e=function(){function e(t,i,n,s,l,o,r,u,c){var d=this;a(this,e),this.commonFunctionsService=t,this.apiService=i,this.translateService=n,this.sso=s,this.router=l,this.dialogService=o,this.commonOrgService=r,this.titleService=u,this.common=c,this.pageAvailable=!1,this.formVisible=!1,this.buttonVisible=!0,this.tableOptions={pagingType:"full_numbers",order:[1,"asc"],columnDefs:[{targets:[0,2,3],orderable:!1}],stateSave:!1,drawCallback:function(e){d.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(function(){d.resetDelete()},0),d.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength&&L(e.nTableWrapper).find("#".concat(e.sTableId,"_last")).addClass("disabled")}},this.radiusData=[],this.add={excluded:!0,isstatic:!1,isv4:!0,subnet:""},this.importTableOptions={pagingType:"full_numbers",pageLength:10,order:[0,"asc"],dom:"tipr"},this.tablePreview=!1,this.fullLoader=!0,this.isFullImport=!0,this.subnetError=!1,this.isIPv4=!0,this.dtTrigger=new Z.xQ,this.isRerender=!1,this.deleteIds=[],this.deleteIPs=[],this.subnetVersions=["SubnetIPV4","SubnetIPV6"],this.subnetVersionsSelected="SubnetIPV4",this.loading=!0,this.importUpdateASCreate=[],this.currentTableRowCount=0,this.addSecret=!0,this.sortData={column:1,type:"asc"},this.language=this.translateService.defualtLanguage,this.language&&(this.pageAvailable=!0),this.translateSubscribe=this.translateService.selectedLanguage.subscribe(function(e){d.language=e,d.dataAvailable=!1,d.isRerender=!0,d.titleService.setTitle("".concat(d.language.radiusserver," - ").concat(d.language.Network," - ").concat(d.language.flowconfiguration," - ").concat("systemAdministration"===h?d.language["System Administration"]:d.language.administration," - ").concat(d.language["Calix Cloud"])),d.setTableOptions("language")}),this.commonOrgService.closeAlert();var g=this.router.url;this.ORG_ID=this.sso.getOrganizationID(g),this.frTable=this.translateService.fr;var h=this.sso.getRedirectModule(g);this.titleService.setTitle("".concat(this.language.radiusserver," - ").concat(this.language.Network," - ").concat(this.language.flowconfiguration," - ").concat("systemAdministration"===h?this.language["System Administration"]:this.language.administration," - ").concat(this.language["Calix Cloud"]))}return l(e,[{key:"ngOnInit",value:function(){this.port="1813",this.getRadiusServers(),this.tableLanguageOptions()}},{key:"ngAfterViewInit",value:function(){this.loaded=!0}},{key:"ngOnDestroy",value:function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSubscribe&&this.translateSubscribe.unsubscribe(),this.subscription&&this.subscription.unsubscribe(),this.listSubs&&this.listSubs.unsubscribe(),this.createSubs&&this.createSubs.unsubscribe(),this.updateSubs&&this.updateSubs.unsubscribe(),this.deleteSubs&&this.deleteSubs.unsubscribe()}},{key:"create",value:function(){this.buttonVisible=!1,this.formVisible=!0,this.reset()}},{key:"getRadiusServers",value:function(){var e=this;this.listSubs=this.apiService.getRadiusServers(this.ORG_ID).subscribe(function(i){i&&(e.radiusData=t(e.processData(i)),e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):(e.dtTrigger.next(),e.loading=!1),setTimeout(function(){e.resetDelete()},100))},function(t){e.pageErrorHandle(t),e.setTableOptions(),e.isRerender?(e.rerender(),e.loading=!1):e.dtTrigger.next()})}},{key:"setTableOptions",value:function(e){var t=this,i=this;this.tableOptions={pagingType:"full_numbers",order:[i.sortData.column,i.sortData.type],columnDefs:[{targets:[0,2,3],orderable:!1}],stateSave:!1,drawCallback:function(e){i.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(function(){t.resetDelete()},0),t.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength&&L(e.nTableWrapper).find("#".concat(e.sTableId,"_last")).addClass("disabled")}},this.tableLanguageOptions(),e&&"language"==e?setTimeout(function(){t.dataAvailable=!0,t.rerender()},200):(this.dataAvailable=!0,this.loading=!1)}},{key:"rerender",value:function(){var e=this;this.dtElement.dtInstance.then(function(t){t.destroy(),e.tableOptions.order=[e.sortData.column,e.sortData.type],setTimeout(function(){e.dtTrigger.next()},10)})}},{key:"processData",value:function(e){return e.forEach(function(e){e.port="1813",e.hideSecret=!0}),e}},{key:"submit",value:function(){var e=this;if(null==this.newIP||""==this.newIP)return this.infoTitle=this.language["Invalid IP address"],this.infoBody="",void this.openInfoModal();if(this.validateIP4(this.newIP),this.subnetError)return this.infoTitle=this.language["Invalid IP address"],this.infoBody=this.newIP?this.newIP:"",void this.openInfoModal();if(this.secret=this.secret?this.secret.trim():"",""==this.secret)return this.infoTitle=this.language["Invalid secret"],this.infoBody="",void this.openInfoModal();var t={ip:this.newIP?this.newIP.trim():"",secret:this.secret?this.secret.trim():"",orgId:this.ORG_ID,tenantId:0};this.loading=!0,this.createSubs=this.apiService.addRadiusServer(t,this.ORG_ID).subscribe(function(t){e.isRerender=!0,e.cancel(),e.getRadiusServers()},function(t){e.pageErrorHandle(t)})}},{key:"edit",value:function(e){if(this.editData=e,this.editOnValue=e._id,this.editSecret=e.secret,this.editIP=e.ip,-1!==this.deleteIds.indexOf(e._id)){this.deleteIds.splice(this.deleteIds.indexOf(e._id),1),this.deleteIPs.splice(this.deleteIPs.indexOf(e.ip),1);var t=L('input[name^="delete_id_"]').length;this.deleteIds.length?this.deleteIds.length!=t?(L("#selectDeselectAll").prop("checked",!1),L("#selectDeselectAll-span").show()):L("#selectDeselectAll-span").hide():(L("#selectDeselectAll").prop("checked",!1),L("#selectDeselectAll-span").hide())}}},{key:"updateSave",value:function(e){var t=this;if(null==this.editIP||""==this.editIP)return this.infoTitle=this.language["Invalid IP address"],this.infoBody="",void this.openInfoModal();if(this.validateIP4(this.editIP),this.subnetError)return this.infoTitle=this.language["Invalid IP address"],this.infoBody=this.editIP?this.editIP:"",void this.openInfoModal();if(this.editSecret=this.editSecret?this.editSecret.trim():"",""==this.editSecret)return this.infoTitle=this.language["Invalid secret"],this.infoBody="",void this.openInfoModal();var i={_id:this.editOnValue,ip:this.editIP?this.editIP.trim():"",secret:this.editSecret?this.editSecret.trim():"",orgId:this.ORG_ID,tenantId:0};this.loading=!0,this.updateSubs=this.apiService.updateRadiusServer(e,i,this.ORG_ID).subscribe(function(e){t.isRerender=!0,t.cancel(),t.getRadiusServers(),t.editOnValue=void 0},function(e){t.pageErrorHandle(e)})}},{key:"updateCancel",value:function(){this.editOnValue=void 0}},{key:"validateIP4",value:function(e){if(this.subnetError=!1,e){var t=this.apiService.trimSubnet(e);return t&&this.commonFunctionsService.isValidIpV4Addr(t)?(this.isIPv4=!0,this.ip=t,!0):void(this.subnetError=!0)}this.subnetError=!0}},{key:"cancel",value:function(){this.formVisible=!1,this.buttonVisible=!0,this.tablePreview=!1,this.reset()}},{key:"delete",value:function(e){this.deleteData=e,this.infoTitle=this.language["Delete radius"],this.infoBody="".concat(e.ip),this.closeModal(),this.modalRef=this.dialogService.open(this.deleteModal,{backdrop:"static",keyboard:!1})}},{key:"confirmDelete",value:function(){var e=this,t=this.deleteData._id;this.loading=!0,this.deleteSubs=this.apiService.deleteRadiusServer(t,this.ORG_ID).subscribe(function(t){e.isRerender=!0,e.getRadiusServers(),e.closeDeleteModal()},function(t){e.pageErrorHandle(t)})}},{key:"closeDeleteModal",value:function(){this.deleteData=void 0,this.closeModal()}},{key:"getDeleteIds",value:function(e,t){if(e.target.checked){this.deleteIds.push(t._id),this.deleteIPs.push(t.ip);var i=L('input[name^="delete_id_"]').length;this.deleteIds.length==i?(L("#selectDeselectAll").prop("checked",!0),L("#selectDeselectAll-span").hide()):L("#selectDeselectAll-span").show()}else{this.deleteIds.splice(this.deleteIds.indexOf(t._id),1),this.deleteIPs.splice(this.deleteIPs.indexOf(t.ip),1);var n=L('input[name^="delete_id_"]').length;this.deleteIds.length?this.deleteIds.length!=n?(L("#selectDeselectAll").prop("checked",!1),L("#selectDeselectAll-span").show()):L("#selectDeselectAll-span").hide():(L("#selectDeselectAll").prop("checked",!1),L("#selectDeselectAll-span").hide())}}},{key:"selectDeselectAll",value:function(e){this.deleteIds=[],this.deleteIPs=[];var t=0,i=L('input[name^="delete_id_"]').length,n=this;e?L('input[name^="delete_id_"]').each(function(){if(t>=i)return!1;L(this).prop("checked",!0);var e=L(this).attr("class").split(" ")[0].substring("delete_id_".length),a=n.radiusData.filter(function(t){return t._id===e});n.deleteIds.push(e),n.deleteIPs.push(a[0].ip),t++}):L('input[name^="delete_id_"]').each(function(){if(t>=i)return!1;L(this).prop("checked",!1),n.deleteIds=[],n.deleteIPs=[],t++})}},{key:"showAllInnerCheckBox",value:function(e){L("#"+e.target.id).hide(),L("#selectDeselectAll").prop("checked",!0),this.deleteIds=[],this.deleteIPs=[],this.selectDeselectAll(!0)}},{key:"deleteAllSelected",value:function(){this.deleteIPs&&(this.infoTitle=this.language["Delete selected radius"],this.infoBody=this.deleteIPs.join(", <br>"),this.closeModal(),this.modalRef=this.dialogService.open(this.multiDeleteModal,{backdrop:"static",keyboard:!1}))}},{key:"confirmDeleteSecleted",value:function(){var e=this,t=[];this.loading=!0,this.deleteIds.forEach(function(i){t.push(e.apiService.deleteRadiusServer(i,e.ORG_ID))}),(0,m.D)(t).subscribe(function(t){e.deleteIds=[],e.deleteIPs=[],e.isRerender=!0,e.getRadiusServers(),e.closeMultiDeleteModal()},function(t){e.pageErrorHandle(t)})}},{key:"closeMultiDeleteModal",value:function(){this.deleteIds=[],this.deleteIPs=[],this.closeModal()}},{key:"reset",value:function(){this.newIP=void 0,this.secret=void 0,this.addSecret=!0,this.editData=void 0,this.editOnValue=void 0}},{key:"tableLanguageOptions",value:function(){"fr"==this.language.fileLanguage?this.tableOptions.language=this.frTable:"es"==this.language.fileLanguage?this.tableOptions.language=this.translateService.es:"de_DE"==this.language.fileLanguage?this.tableOptions.language=this.translateService.de_DE:"en"==this.language.fileLanguage&&this.tableOptions.language&&delete this.tableOptions.language}},{key:"resetDelete",value:function(){this.selectDeselectAll(!1),L("#selectDeselectAll").prop("checked",!1),L("#selectDeselectAll-span").hide(),this.deleteIds=[],this.deleteIPs=[]}},{key:"toggleSecret",value:function(e){"addSecret"==e?this.addSecret=!this.addSecret:e.hideSecret=!e.hideSecret}},{key:"closeModal",value:function(){this.modalRef&&this.modalRef.close()}},{key:"pageErrorHandle",value:function(e){var t="";400==e.status?(this.infoBody=this.commonOrgService.pageErrorHandle(e),this.infoTitle=this.language["Invalid request"],this.openInfoModal(),this.loading=!1):(t=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(t),this.commonOrgService.pageScrollTop(),this.loading=!1)}},{key:"openInfoModal",value:function(){this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1})}},{key:"removeState",value:function(){this.commonOrgService.removeTableState("radius_server",this.router.url)}},{key:"removeUnwantedSpace",value:function(e,t){this[e]=this.common.trimSpaceFromNonObjectInputs(t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(S.i),c.Y36(y),c.Y36(q.s),c.Y36(g.t6),c.Y36(u.F0),c.Y36(w.FF),c.Y36(I.v),c.Y36(M.Dx),c.Y36(O.i))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-radius-servers"]],viewQuery:function(e,t){var i;(1&e&&(c.Gf(k,7),c.Gf(_,7),c.Gf(C,7),c.Gf(x.G,5)),2&e)&&(c.iGM(i=c.CRH())&&(t.infoModal=i.first),c.iGM(i=c.CRH())&&(t.deleteModal=i.first),c.iGM(i=c.CRH())&&(t.multiDeleteModal=i.first),c.iGM(i=c.CRH())&&(t.dtElement=i.first))},decls:32,vars:18,consts:[[1,"container","position-relative"],["class","loader",4,"ngIf"],["class","row py-4",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-md-12","ccl-admin-table",3,"hidden"],["id","radius-servers-table","width","100%","datatable","",1,"row-border","hover","table-alter",3,"dtOptions","dtTrigger"],[1,"mxw-200"],[1,"d-flex","justify-content-end"],[1,"d-flex","align-items-center","mr-1",3,"hidden"],["type","checkbox","value","","id","selectDeselectAll",1,"",3,"hidden","disabled","change"],["id","selectDeselectAll-span",1,"checkbox-ui",2,"display","none",3,"hidden","click"],[1,"text-center","justify-content-center",3,"hidden"],["id","delete-selected-btn",1,"btn-default","primary","px-2",3,"title","disabled","click"],[1,"far","fa-trash-alt"],[1,"mw-250"],[3,"id",4,"ngFor","ngForOf"],["infoModal",""],["deleteModal",""],["multiDeleteModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"row","py-4"],[1,"col-md-9"],[1,"d-flex"],["id","create-btn",1,"btn-default","primary","mx-2",3,"click"],[1,"col-sm-3","align-self-end","d-none"],[1,"ccl-form"],["type","search","name","searchbox","placeholder","",1,"input-sm"],[1,"serach-but","btn-default","primary","btn-icon-md","inline"],["aria-hidden","true",1,"fa","fa-search"],[1,"col-md-6","offset-md-3"],[1,"ccl-form","row","my-2"],["for","newIP",1,"col-sm-4","col-form-label"],[1,"error"],[1,"col-sm-8"],["id","newIP","type","text","name","newIP","placeholder","","trimSpace","",1,"",3,"ngModel","ngModelChange","blur"],["for","port",1,"col-sm-4","col-form-label"],["id","port","type","text","name","port","placeholder","","readonly","",1,"",3,"ngModel","ngModelChange"],["for","secret",1,"col-sm-4","col-form-label"],["id","secret","name","secret","placeholder","","maxlength","32",1,"",3,"type","ngModel","ngModelChange"],[1,"paswoard-icon","pointer",3,"ngClass","click"],[1,"row","my-4"],[1,"col-md-8","offset-md-4"],[1,"btn-default","primary","px-3","mx-3",3,"click"],[1,"btn-default","btn-dft","py-1","px-3",3,"click"],[3,"id"],[1,"action-button"],["class","editable-td text-center",4,"ngIf"],["class","save-cancel-btn-group d-flex justify-content-center",4,"ngIf"],["class","ccl-form",4,"ngIf"],["class","secret-div",4,"ngIf"],["class","ccl-form secret-div",4,"ngIf"],[1,"editable-td","text-center"],[1,"ccl-fc-table-icon"],[1,"pr-2"],["id","edit-btn",1,"primary",3,"title","click"],[1,"fas","fa-pencil-alt"],["type","checkbox",3,"value","name","title","click"],["id","delete-btn",1,"primary",3,"title","click"],[1,"save-cancel-btn-group","d-flex","justify-content-center"],[1,"pr-1"],["id","save-btn",1,"primary","mx-3",3,"click"],[1,"fas","fa-check"],["id","cancel-btn",1,"primary",3,"click"],[1,"fas","fa-times"],["type","text","trimSpace","",1,"edit-text",3,"value","ngModel","ngModelOptions","ngModelChange","blur"],[1,"secret-div"],[1,"pwd-icon",3,"ngClass","click"],[1,"ccl-form","secret-div"],["maxlength","32",1,"edit-text",3,"type","value","ngModel","ngModelOptions","ngModelChange"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"],[3,"innerHtml"],["type","button","data-dismiss","modal",1,"btn-default","btn-dft","py-1","px-3",3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.YNc(1,D,5,1,"div",1),c.YNc(2,U,11,1,"div",2),c.YNc(3,N,30,10,"section",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"table",6),c.TgZ(7,"thead"),c.TgZ(8,"tr"),c.TgZ(9,"th",7),c.TgZ(10,"div",8),c.TgZ(11,"div",9),c.TgZ(12,"input",10),c.NdJ("change",function(e){return t.selectDeselectAll(e.target.checked)}),c.qZA(),c.TgZ(13,"span",11),c.NdJ("click",function(e){return t.showAllInnerCheckBox(e)}),c.qZA(),c.qZA(),c.TgZ(14,"div",12),c.TgZ(15,"button",13),c.NdJ("click",function(){return t.deleteAllSelected()}),c._UZ(16,"i",14),c._uU(17),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"th",15),c._uU(19),c.qZA(),c.TgZ(20,"th",15),c._uU(21),c.qZA(),c.TgZ(22,"th",15),c._uU(23),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"tbody"),c.YNc(25,Y,12,8,"tr",16),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(26,Q,10,3,"ng-template",null,17,c.W1O),c.YNc(28,j,13,4,"ng-template",null,18,c.W1O),c.YNc(30,G,12,4,"ng-template",null,19,c.W1O)),2&e&&(c.xp6(1),c.Q6J("ngIf",t.loading),c.xp6(1),c.Q6J("ngIf",t.buttonVisible),c.xp6(1),c.Q6J("ngIf",t.formVisible),c.xp6(2),c.Q6J("hidden",!t.dataAvailable),c.xp6(1),c.Q6J("dtOptions",t.tableOptions)("dtTrigger",t.dtTrigger),c.xp6(5),c.Q6J("hidden",t.editOnValue),c.xp6(1),c.Q6J("hidden",t.editOnValue)("disabled",0==(null==t.radiusData?null:t.radiusData.length)||0==t.currentTableRowCount),c.xp6(1),c.Q6J("hidden",t.editOnValue),c.xp6(1),c.Q6J("hidden",t.editOnValue),c.xp6(1),c.s9C("title",t.language["Delete selected"]),c.Q6J("disabled",!(null!=t.radiusData&&t.radiusData.length&&null!=t.deleteIds&&t.deleteIds.length)),c.xp6(2),c.hij(" ",t.language.selected," "),c.xp6(2),c.Oqu(t.language.server),c.xp6(2),c.Oqu(t.language.port),c.xp6(2),c.Oqu(t.language.secret),c.xp6(2),c.Q6J("ngForOf",t.radiusData))},directives:[o.O5,x.G,o.sg,r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.nD,o.mk],styles:[".see_pass[_ngcontent-%COMP%]{right:30px;vertical-align:text-bottom;position:absolute;height:36px;line-height:34px;cursor:pointer}.eye-icon[_ngcontent-%COMP%]{cursor:pointer}.secret-div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline}.modal-scrll[_ngcontent-%COMP%]{overflow-y:auto;max-height:400px}.mxw-200[_ngcontent-%COMP%]{white-space:nowrap}.action-button[_ngcontent-%COMP%]{white-space:nowrap;width:10%!important}.editable-td[_ngcontent-%COMP%]{font-size:13px}.edit-text[_ngcontent-%COMP%]{width:150px}.pwd-icon[_ngcontent-%COMP%]{top:0px;right:0;position:relative;left:4px}.pwd-icon.password_hide[_ngcontent-%COMP%]{top:5px}.paswoard-icon[_ngcontent-%COMP%]{right:25px;top:13px}"]}),e}(),$=s(13149),z=s(93822),W=s(86640),X=["infoModal"],K=["deleteModal"],ee=["multiDeleteModal"],te=["importModal"];function ie(e,t){1&e&&(c.TgZ(0,"div",18),c.TgZ(1,"div",19),c.TgZ(2,"div",20),c.TgZ(3,"span",21),c._uU(4,"Loading..."),c.qZA(),c.qZA(),c.qZA(),c.qZA())}function ne(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",22),c.TgZ(1,"div",23),c.TgZ(2,"div",24),c.TgZ(3,"div"),c.TgZ(4,"button",25),c.NdJ("click",function(){return c.CHM(i),c.oxw().create()}),c._uU(5),c.qZA(),c.qZA(),c.TgZ(6,"div"),c.TgZ(7,"button",26),c.NdJ("click",function(){return c.CHM(i),c.oxw().export()}),c._uU(8),c.qZA(),c.qZA(),c.TgZ(9,"div",27),c.TgZ(10,"button",28),c.NdJ("click",function(){return c.CHM(i),c.oxw().fullImportUpload()}),c._uU(11),c.qZA(),c.TgZ(12,"input",29),c.NdJ("change",function(e){return c.CHM(i),c.oxw().fullImport(e,!0)}),c.qZA(),c.qZA(),c.TgZ(13,"div",27),c.TgZ(14,"label",30),c._uU(15),c.qZA(),c.TgZ(16,"input",31),c.NdJ("change",function(e){return c.CHM(i),c.oxw().fullImport(e,!1)}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(17,"div",32),c.TgZ(18,"div",33),c._UZ(19,"input",34),c.TgZ(20,"button",35),c._UZ(21,"i",36),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(5),c.Oqu(n.language.create),c.xp6(3),c.Oqu(n.language.export),c.xp6(3),c.Oqu(n.language.fullImport),c.xp6(4),c.hij("",n.language.incrementalImport," ")}}var ae=function(){return{standalone:!0}};function se(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"section"),c.TgZ(1,"div",4),c.TgZ(2,"div",37),c.TgZ(3,"form"),c.TgZ(4,"div",38),c.TgZ(5,"label",39),c._uU(6),c.qZA(),c.TgZ(7,"div",40),c.TgZ(8,"ng-select",41),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw().subnetVersionsSelected=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"div",38),c.TgZ(10,"label",42),c._uU(11),c.TgZ(12,"span",43),c._uU(13,"*"),c.qZA(),c.qZA(),c.TgZ(14,"div",40),c.TgZ(15,"input",44),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw().newSubnetipv4=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(16,"div",38),c.TgZ(17,"label",45),c._uU(18),c.qZA(),c.TgZ(19,"div",40),c.TgZ(20,"input",46),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw().newSubnetipv6=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"div",38),c.TgZ(22,"label",39),c._uU(23),c.qZA(),c.TgZ(24,"div",40),c.TgZ(25,"ng-select",47),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw().selectedSubnet=e}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(26,"div",48),c.TgZ(27,"div",49),c.TgZ(28,"button",50),c.NdJ("click",function(){return c.CHM(i),c.oxw().submit()}),c._uU(29),c.qZA(),c.TgZ(30,"button",51),c.NdJ("click",function(){return c.CHM(i),c.oxw().cancel()}),c._uU(31),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(6),c.Oqu(n.language.subnet),c.xp6(2),c.Q6J("items",n.subnetVersions)("multiple",!1)("ngModel",n.subnetVersionsSelected)("ngModelOptions",c.DdM(22,ae))("clearable",!1)("searchable",!1),c.xp6(3),c.hij("",n.language.subnetIpv4," "),c.xp6(4),c.Q6J("ngModel",n.newSubnetipv4)("disabled","SubnetIPV6"==n.subnetVersionsSelected),c.xp6(3),c.hij("",n.language.subnetIpv6," "),c.xp6(2),c.Q6J("ngModel",n.newSubnetipv6)("disabled","SubnetIPV4"==n.subnetVersionsSelected),c.xp6(3),c.hij("",n.language.excluded," "),c.xp6(2),c.Q6J("items",n.selectOptions)("multiple",!1)("ngModel",n.selectedSubnet)("ngModelOptions",c.DdM(23,ae))("clearable",!1)("searchable",!1),c.xp6(4),c.Oqu(n.language.submit),c.xp6(2),c.Oqu(n.language.Cancel)}}function le(e,t){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.qZA()),2&e){var i=t.$implicit;c.xp6(2),c.Oqu(i.action),c.xp6(2),c.Oqu(i.subnet),c.xp6(2),c.Oqu(i.excluded),c.xp6(2),c.Oqu(i["Old excluded"])}}function oe(e,t){if(1&e&&(c.TgZ(0,"div",4),c.TgZ(1,"div",53),c.TgZ(2,"table",54),c.TgZ(3,"thead"),c.TgZ(4,"tr"),c.TgZ(5,"th"),c._uU(6),c.qZA(),c.TgZ(7,"th"),c._uU(8),c.qZA(),c.TgZ(9,"th"),c._uU(10),c.qZA(),c.TgZ(11,"th"),c._uU(12),c.qZA(),c.qZA(),c.qZA(),c.TgZ(13,"tbody"),c.YNc(14,le,9,4,"tr",55),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var i=c.oxw(2);c.xp6(2),c.Q6J("dtOptions",i.importTableOptions),c.xp6(4),c.Oqu(i.language.action),c.xp6(2),c.Oqu(i.language.subnet),c.xp6(2),c.Oqu(i.language.excluded),c.xp6(2),c.AsE("",i.language.old," ",i.language.excluded,""),c.xp6(2),c.Q6J("ngForOf",i.previewTableBody)}}function re(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"section"),c.YNc(1,oe,15,7,"div",52),c.TgZ(2,"div",48),c.TgZ(3,"div",49),c.TgZ(4,"button",50),c.NdJ("click",function(){return c.CHM(i),c.oxw().submitImport()}),c._uU(5),c.qZA(),c.TgZ(6,"button",51),c.NdJ("click",function(){return c.CHM(i),c.oxw().cancel()}),c._uU(7),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(1),c.Q6J("ngIf",n.tablePreview),c.xp6(4),c.Oqu(n.language.submit),c.xp6(2),c.Oqu(n.language.Cancel)}}function ue(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",56),c.TgZ(1,"input",57),c.NdJ("change",function(e){return c.CHM(i),c.oxw().selectDeselectAll(e.target.checked)}),c.qZA(),c.TgZ(2,"span",58),c.NdJ("click",function(e){return c.CHM(i),c.oxw().showAllInnerCheckBox(e)}),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(1),c.Q6J("disabled",0==(null==n.staticSubnetData?null:n.staticSubnetData.length))}}function ce(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",59),c.TgZ(1,"button",60),c.NdJ("click",function(){return c.CHM(i),c.oxw().deleteAllSelected()}),c._UZ(2,"i",61),c._uU(3),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(1),c.s9C("title",n.language["Delete selected"]),c.Q6J("disabled",!(null!=n.staticSubnetData&&n.staticSubnetData.length&&null!=n.deleteIds&&n.deleteIds.length)),c.xp6(2),c.hij(" ",n.language.selected," ")}}function de(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",67),c.TgZ(1,"div",68),c.TgZ(2,"span",69),c.TgZ(3,"div",70),c.NdJ("click",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw().edit(e)}),c._UZ(4,"i",71),c.qZA(),c.qZA(),c.TgZ(5,"span",69),c.TgZ(6,"input",72),c.NdJ("click",function(e){c.CHM(i);var t=c.oxw().$implicit;return c.oxw().getDeleteIds(e,t)}),c.qZA(),c.qZA(),c.TgZ(7,"span",69),c.TgZ(8,"div",73),c.NdJ("click",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw().delete(e)}),c._UZ(9,"i",61),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw().$implicit,a=c.oxw();c.xp6(3),c.s9C("title",a.language.Edit),c.xp6(3),c.Gre("delete_id_",n._id,""),c.s9C("value",n._id),c.MGl("name","delete_id_",n._id,""),c.s9C("title",a.language.Select),c.xp6(2),c.s9C("title",a.language.Delete)}}function ge(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",74),c.TgZ(1,"div",68),c.TgZ(2,"span",75),c.TgZ(3,"div",76),c.NdJ("click",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw().updateSave(e._id)}),c._UZ(4,"i",77),c.qZA(),c.qZA(),c.TgZ(5,"span",75),c.TgZ(6,"div",78),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).updateCancel()}),c._UZ(7,"i",79),c.qZA(),c.qZA(),c.qZA(),c.qZA()}}function he(e,t){if(1&e&&(c.TgZ(0,"div"),c._uU(1),c.qZA()),2&e){var i=c.oxw().$implicit;c.xp6(1),c.hij(" ",i.subnet?i.subnet:""," ")}}function pe(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",80),c.TgZ(1,"ng-select",81),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw(2).editSubnetVersionsSelected=e}),c.qZA(),c.TgZ(2,"input",82),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw(2).editSubnetv4=e}),c.qZA(),c.qZA()}if(2&e){var n=c.oxw(2);c.xp6(1),c.Q6J("items",n.subnetVersions)("multiple",!1)("ngModel",n.editSubnetVersionsSelected)("ngModelOptions",c.DdM(8,ae))("clearable",!1)("searchable",!1),c.xp6(1),c.Q6J("ngModel",n.editSubnetv4)("ngModelOptions",c.DdM(9,ae))}}function fe(e,t){if(1&e&&(c.TgZ(0,"div"),c._uU(1),c.qZA()),2&e){var i=c.oxw().$implicit;c.xp6(1),c.hij(" ",i.excluded?i.excluded:""," ")}}function be(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"ng-select",81),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw(2).editSelectedExcluded=e}),c.qZA(),c.qZA()}if(2&e){var n=c.oxw(2);c.xp6(1),c.Q6J("items",n.selectOptions)("multiple",!1)("ngModel",n.editSelectedExcluded)("ngModelOptions",c.DdM(6,ae))("clearable",!1)("searchable",!1)}}function ve(e,t){if(1&e&&(c.TgZ(0,"tr",62),c.TgZ(1,"td",63),c.YNc(2,de,10,8,"div",64),c.YNc(3,ge,8,0,"div",65),c.qZA(),c.TgZ(4,"td"),c.YNc(5,he,2,1,"div",3),c.YNc(6,pe,3,10,"div",66),c.qZA(),c.TgZ(7,"td"),c.YNc(8,fe,2,1,"div",3),c.YNc(9,be,2,7,"div",3),c.qZA(),c.qZA()),2&e){var i=t.$implicit,n=c.oxw();c.s9C("id",i._id),c.xp6(2),c.Q6J("ngIf",n.editOnValue!=i._id),c.xp6(1),c.Q6J("ngIf",n.editOnValue==i._id),c.xp6(2),c.Q6J("ngIf",n.editOnValue!=i._id),c.xp6(1),c.Q6J("ngIf",n.editOnValue==i._id),c.xp6(2),c.Q6J("ngIf",n.editOnValue!=i._id),c.xp6(1),c.Q6J("ngIf",n.editOnValue==i._id)}}function Ze(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",83),c.TgZ(1,"h4",84),c._uU(2),c.qZA(),c.TgZ(3,"button",85),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._UZ(4,"span",86),c.qZA(),c.qZA(),c.TgZ(5,"div",87),c._uU(6),c.qZA(),c.TgZ(7,"div",88),c.TgZ(8,"button",89),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._uU(9),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(2),c.Oqu(n.infoTitle),c.xp6(4),c.hij(" ",n.infoBody," "),c.xp6(3),c.Oqu(n.language.Okay)}}function me(e,t){if(1&e){var i=c.EpF();c.ynx(0),c.TgZ(1,"div",83),c.TgZ(2,"h4",84),c._uU(3),c.qZA(),c.TgZ(4,"button",85),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._UZ(5,"span",86),c.qZA(),c.qZA(),c.TgZ(6,"div",87),c._UZ(7,"table",90),c.qZA(),c.TgZ(8,"div",88),c.TgZ(9,"button",89),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._uU(10),c.qZA(),c.TgZ(11,"button",89),c.NdJ("click",function(){return c.CHM(i),c.oxw().confirmDelete()}),c._uU(12),c.qZA(),c.qZA(),c.BQk()}if(2&e){var n=c.oxw();c.xp6(3),c.Oqu(n.infoTitle),c.xp6(4),c.Q6J("innerHtml",n.infoBody,c.oJD),c.xp6(3),c.Oqu(n.language.Cancel),c.xp6(2),c.Oqu(n.language.Okay)}}function xe(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",83),c.TgZ(1,"h4",84),c._uU(2),c.qZA(),c.TgZ(3,"button",85),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._UZ(4,"span",86),c.qZA(),c.qZA(),c.TgZ(5,"div",87),c._UZ(6,"table",90),c.qZA(),c.TgZ(7,"div",88),c.TgZ(8,"button",89),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._uU(9),c.qZA(),c.TgZ(10,"button",89),c.NdJ("click",function(){return c.CHM(i),c.oxw().confirmDeleteSecleted()}),c._uU(11),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(2),c.Oqu(n.infoTitle),c.xp6(4),c.Q6J("innerHtml",n.infoBody,c.oJD),c.xp6(3),c.Oqu(n.language.Cancel),c.xp6(2),c.Oqu(n.language.Okay)}}function Se(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",83),c.TgZ(1,"h4",84),c._uU(2),c.qZA(),c.TgZ(3,"button",85),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._UZ(4,"span",86),c.qZA(),c.qZA(),c.TgZ(5,"div",87),c._UZ(6,"table",90),c.qZA(),c.TgZ(7,"div",88),c.TgZ(8,"button",89),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._uU(9),c.qZA(),c.TgZ(10,"button",89),c.NdJ("click",function(){return c.CHM(i),c.oxw().proceedImport()}),c._uU(11),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(2),c.Oqu(n.infoTitle),c.xp6(4),c.Q6J("innerHtml",n.infoBody,c.oJD),c.xp6(3),c.Oqu(n.language.Cancel),c.xp6(2),c.Oqu(n.language.Okay)}}var Te=s(91704),Ae=function(){var i=function(){function i(e,t,n,s,l,o,r,u,c){var d=this;a(this,i),this.commonFunctionsService=e,this.apiService=t,this.exportExcel=n,this.dataTablecreatorService=s,this.translateService=l,this.sso=o,this.router=r,this.dialogService=u,this.commonOrgService=c,this.pageAvailable=!1,this.formVisible=!1,this.buttonVisible=!0,this.selectOptions=["No","Yes"],this.selectedSubnet="No",this.storageData={},this.tableOptions={pagingType:"full_numbers",order:[1,"asc"],columnDefs:[{targets:[0],orderable:!1}],drawCallback:function(e){d.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},e.aoData.length<=e._iDisplayLength&&Te(e.nTableWrapper).find("#".concat(e.sTableId,"_last")).addClass("disabled")}},this.staticSubnetData=[],this.exportData=[],this.empty={subnet:"",excluded:""},this.add={excluded:!0,isstatic:!0,isv4:!0,orgId:50,subnet:"",tenantId:0},this.importTableOptions={},this.tablePreview=!1,this.fullLoader=!0,this.isFullImport=!0,this.subnetError=!1,this.isIPv4=!0,this.dtTrigger=new Z.xQ,this.isRerender=!1,this.deleteIds=[],this.deleteSubnets=[],this.subnetVersions=["SubnetIPV4","SubnetIPV6"],this.subnetVersionsSelected="SubnetIPV4",this.loading=!0,this.importUpdateASCreate=[],this.sortData={column:1,type:"asc"},this.language=this.translateService.defualtLanguage,this.language&&(this.pageAvailable=!0),this.translateSubscribe=this.translateService.selectedLanguage.subscribe(function(e){d.language=e,d.dataAvailable=!1,d.isRerender=!0,d.setTableOptions("language")}),this.commonOrgService.closeAlert(),this.ORG_ID=this.sso.getOrganizationID(this.router.url),this.frTable=this.translateService.fr}return l(i,[{key:"ngOnInit",value:function(){var e=this;this.getSubnets(),this.tableLanguageOptions();var t=JSON.parse(localStorage.getItem("calix.login_data"));this.storageData.clientIp=null==t?void 0:t.clientIp,this.storageData.UserId=null==t?void 0:t.UserId,this.subscription=this.dataTablecreatorService.tableOptionsData.subscribe(function(t){try{e.recreateTable=t,e.submitImport(!0)}catch(i){}})}},{key:"ngAfterViewInit",value:function(){this.loaded=!0}},{key:"ngOnDestroy",value:function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSubscribe&&this.translateSubscribe.unsubscribe(),this.subscription&&this.subscription.unsubscribe(),this.listSubs&&this.listSubs.unsubscribe(),this.createSubs&&this.createSubs.unsubscribe(),this.updateSubs&&this.updateSubs.unsubscribe(),this.deleteSubs&&this.deleteSubs.unsubscribe(),this.exportSubs&&this.exportSubs.unsubscribe(),this.importSubs&&this.importSubs.unsubscribe()}},{key:"getSubnets",value:function(){var e=this;this.listSubs=this.apiService.getStaticSubnets(this.ORG_ID).subscribe(function(i){i&&(e.staticSubnetData=t(e.processData(i)),e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):(e.dtTrigger.next(),e.loading=!1),setTimeout(function(){e.resetDelete()},100),e.exportData=e.apiService.exportProcess(i))},function(t){e.pageErrorHandle(t),e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):e.dtTrigger.next()})}},{key:"setTableOptions",value:function(e){var t=this;this.tableOptions={pagingType:"full_numbers",order:[this.sortData.column,this.sortData.type],columnDefs:[{targets:[0],orderable:!1}],drawCallback:function(e){t.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},e.aoData.length<=e._iDisplayLength&&Te(e.nTableWrapper).find("#".concat(e.sTableId,"_last")).addClass("disabled")}},this.tableLanguageOptions(),e&&"language"==e?setTimeout(function(){t.dataAvailable=!0,t.rerender()},200):(this.dataAvailable=!0,this.loading=!1)}},{key:"rerender",value:function(){var e=this;this.dtElement.dtInstance.then(function(t){t.destroy(),e.tableOptions.order=[e.sortData.column,e.sortData.type],setTimeout(function(){e.dtTrigger.next()},10)})}},{key:"processData",value:function(e){return e.forEach(function(e){for(var t in e)"excluded"==t&&(e.excluded=e[t]?"Yes":"No");e.subnetIP4=e.isv4?e.subnet:"",e.subnetIP6=e.isv4?"":e.subnet}),e}},{key:"create",value:function(){this.buttonVisible=!1,this.formVisible=!0,this.reset()}},{key:"submit",value:function(){var e=this;return"SubnetIPV4"==this.subnetVersionsSelected&&null!=this.newSubnetipv4?this.validateSubnetv4(this.newSubnetipv4):"SubnetIPV6"==this.subnetVersionsSelected&&null!=this.newSubnetipv6&&this.validateSubnetv6(this.newSubnetipv6),null!=this.newSubnetipv4&&""!=this.newSubnetipv4||null!=this.newSubnetipv6&&""!=this.newSubnetipv6?this.subnetError?(this.infoTitle=this.language["Invalid subnet"],this.infoBody="SubnetIPV4"==this.subnetVersionsSelected?this.newSubnetipv4?this.newSubnetipv4:"":this.newSubnetipv6?this.newSubnetipv6:"",void this.openInfoModal()):void(this.createSubs=this.apiService.addStaticSubnet({excluded:"Yes"==this.selectedSubnet,isstatic:!0,isv4:this.isIPv4,orgId:this.ORG_ID,subnet:this.subnet,tenantId:0},this.ORG_ID).subscribe(function(t){e.isRerender=!0,e.cancel(),e.getSubnets()},function(t){e.pageErrorHandle(t)})):(this.infoTitle=this.language["Invalid subnet"],this.infoBody="",void this.openInfoModal())}},{key:"validateSubnet",value:function(e){if(this.subnetError=!1,e){var t=this.apiService.trimSubnet(e);return t?this.commonFunctionsService.isValidSubnetV4(t)?(this.isIPv4=!0,this.subnet=t,!0):this.commonFunctionsService.isValidSubnetV6(t)?(this.isIPv4=!1,void(this.subnet=t)):void(this.subnetError=!0):void(this.subnetError=!0)}this.subnetError=!0}},{key:"cancel",value:function(){this.formVisible=!1,this.buttonVisible=!0,this.tablePreview=!1,this.reset()}},{key:"edit",value:function(e){this.editData=e,this.editOnValue=e._id,this.editSubnetv4=e.subnet,this.editSelectedExcluded=e.excluded,this.editSubnetVersionsSelected=e.isv4?"SubnetIPV4":"SubnetIPV6"}},{key:"updateSave",value:function(e){var t=this;return null==this.editSubnetv4||""==this.editSubnetv4?(this.infoTitle=this.language["Invalid subnet"],this.infoBody="",void this.openInfoModal()):(null!=this.editSubnetv4&&""!=this.editSubnetv4&&"SubnetIPV4"==this.editSubnetVersionsSelected?this.validateSubnetv4(this.editSubnetv4):null!=this.editSubnetv4&&""!=this.editSubnetv4&&"SubnetIPV6"==this.editSubnetVersionsSelected&&this.validateSubnetv6(this.editSubnetv4),this.subnetError?(this.infoTitle=this.language["Invalid subnet"],this.infoBody="SubnetIPV4"==this.editSubnetVersionsSelected?this.editSubnetv4?this.editSubnetv4:"":this.editSubnetv6?this.editSubnetv6:"",void this.openInfoModal()):void this.apiService.updateStaticSubnet(e,{_id:e,excluded:"Yes"==this.editSelectedExcluded,isstatic:!0,isv4:this.isIPv4,orgId:this.ORG_ID,subnet:this.subnet,tenantId:0},this.ORG_ID).subscribe(function(e){t.isRerender=!0,t.cancel(),t.getSubnets(),t.editOnValue=void 0},function(e){t.pageErrorHandle(e)}))}},{key:"updateCancel",value:function(){this.editOnValue=void 0}},{key:"delete",value:function(e){this.deleteData=e,this.infoTitle=this.language["Delete subnet"],this.infoBody="".concat(e.subnet),this.closeModal(),this.modalRef=this.dialogService.open(this.deleteModal)}},{key:"confirmDelete",value:function(){var e=this;this.apiService.deleteStaticSubnet(this.deleteData._id,this.ORG_ID).subscribe(function(t){e.isRerender=!0,e.getSubnets(),e.closeDeleteModal()},function(t){e.pageErrorHandle(t)})}},{key:"closeDeleteModal",value:function(){this.deleteData=void 0,this.closeModal()}},{key:"getDeleteIds",value:function(e,t){if(e.target.checked){this.deleteIds.push(t._id),this.deleteSubnets.push(t.subnet);var i=Te('input[name^="delete_id_"]').length;this.deleteIds.length==i?(Te("#selectDeselectAll").prop("checked",!0),Te("#selectDeselectAll-span").hide()):Te("#selectDeselectAll-span").show()}else{this.deleteIds.splice(this.deleteIds.indexOf(t.value),1),this.deleteSubnets.splice(this.deleteSubnets.indexOf(t.subnet),1);var n=Te('input[name^="delete_id_"]').length;this.deleteIds.length?this.deleteIds.length!=n?(Te("#selectDeselectAll").prop("checked",!1),Te("#selectDeselectAll-span").show()):Te("#selectDeselectAll-span").hide():(Te("#selectDeselectAll").prop("checked",!1),Te("#selectDeselectAll-span").hide())}}},{key:"selectDeselectAll",value:function(e){this.deleteIds=[],this.deleteSubnets=[];var t=0,i=Te('input[name^="delete_id_"]').length,n=this;e?Te('input[name^="delete_id_"]').each(function(){if(t>=i)return!1;Te(this).prop("checked",!0);var e=Te(this).attr("class").split(" ")[0].substring("delete_id_".length),a=n.staticSubnetData.filter(function(t){return t._id===e});n.deleteIds.push(e),n.deleteSubnets.push(a[0].subnet),t++}):Te('input[name^="delete_id_"]').each(function(){if(t>=i)return!1;Te(this).prop("checked",!1),n.deleteIds=[],n.deleteSubnets=[],t++})}},{key:"showAllInnerCheckBox",value:function(e){Te("#"+e.target.id).hide(),Te("#selectDeselectAll").prop("checked",!0),this.deleteIds=[],this.deleteSubnets=[],this.selectDeselectAll(!0)}},{key:"deleteAllSelected",value:function(){this.deleteSubnets&&(this.infoTitle=this.language["Delete selected subnet"],this.infoBody=this.deleteSubnets.join(", <br>"),this.closeModal(),this.modalRef=this.dialogService.open(this.multiDeleteModal))}},{key:"confirmDeleteSecleted",value:function(){var e=this;this.loading=!0;var t=[];this.deleteIds.forEach(function(i){t.push(e.apiService.deleteStaticSubnet(i,e.ORG_ID))}),(0,m.D)(t).subscribe(function(t){e.deleteIds=[],e.deleteSubnets=[],e.isRerender=!0,e.getSubnets(),e.closeMultiDeleteModal()},function(t){e.pageErrorHandle(t)})}},{key:"closeMultiDeleteModal",value:function(){this.deleteIds=[],this.deleteSubnets=[],this.closeModal()}},{key:"export",value:function(){var e=this,t=this.commonFunctionsService.generateExportName("static_subnet");this.exportSubs=this.apiService.Export("static-subnets",this.ORG_ID).subscribe(function(i){e.exportData=e.exportDataConvertor(i),e.exportExcel.downLoadCSV(t,e.exportData&&e.exportData.length?e.exportData:[e.empty])})}},{key:"exportPdf",value:function(){}},{key:"exportDataConvertor",value:function(e){return e&&e.forEach(function(e){for(var t in delete e._id,e)"boolean"==typeof e[t]&&(e[t]=1==e[t]?"Yes":"No")}),e}},{key:"cancelImport",value:function(){}},{key:"fullImportUpload",value:function(){this.infoTitle=this.language.fullImport,this.infoBody=this.language.fullImportPrompt,this.closeModal(),this.modalRef=this.dialogService.open(this.importModal)}},{key:"proceedImport",value:function(){this.closeModal(),Te("#fullImportUpload").click()}},{key:"fullImport",value:function(e,t){this.isFullImport=t,this.dataTablecreatorService.generateJsonFromCsv(e)}},{key:"submitImport",value:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n={clientIP:this.storageData.clientIp,dry_run:i,full_import:this.isFullImport,import_data:[],orgId:this.ORG_ID?this.ORG_ID:50,userId:this.storageData.UserId},a=[],s=[];if(i?("Create",this.recreateTable.forEach(function(t){a.push(e.importTemplate(t,"Create"))})):this.recreateTable.forEach(function(t){a.push(e.importTemplate(t))}),i){var l=a.length;this.staticSubnetData.forEach(function(t){for(var i=!1,n=0;n<l;n++)t.subnet==a[n].subnet&&(i=!0,e.isFullImport?(a[n].action="Create",e.importUpdateASCreate.push(t)):a[n].action="Update");if(!i&&e.isFullImport){var o=Object.assign({},t);s.push(e.importTemplate(o,"Delete"))}})}else if(0==(a=a.filter(function(e){if(["Create","Update"].includes(e.action))return e})).length)return void this.cancel();n.import_data=a,this.importSubs=this.apiService.importStaticSubnets(n,this.ORG_ID).subscribe(function(n){i?(n=n.map(function(e){return e.action="ok"==e.validationResult.toLowerCase()?e.action:e.validationResult,e}),e.recreateTable=n,e.previewOrder([].concat(t(n),s)),e.buttonVisible=!1,e.tablePreview=!0):(e.cancel(),e.isRerender=!0,e.getSubnets())},function(t){400==t.status?(i?(e.infoTitle=e.language.objectNotFound,e.infoBody="",e.openInfoModal()):e.pageErrorHandle(t),e.loading=!1):e.pageErrorHandle(t)})}},{key:"previewOrder",value:function(t){var i=this;if(!t||0==t.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",void Te("#openModalButton").click();var n=[],a=["excluded"],s=["validationResult"],l=["action","subnet"];t.forEach(function(t){var o=t;Object.keys(t).forEach(function(e){s.includes(e)||(o[e]=a.includes(e)&&("true"===t[e]||!0===t[e]||t[e]&&"Y"==t[e].toString().toUpperCase)?"Yes":a.includes(e)&&("false"===t[e]||!1===t[e]||t[e]&&"N"==t[e].toString().toUpperCase)?"No":t[e],l.includes(e)||(o["Old "+e]=""))}),i.staticSubnetData.forEach(function(i){if(t.subnet==i.subnet){for(var n=0,s=Object.entries(o);n<s.length;n++){var l=e(s[n],2),r=l[0];l[1];if(r.includes("Old")){var u=r.replace("Old ","");a.includes(u)&&(i[u]||"Y"==i[u].toString().toUpperCase)?o[r]="Yes":a.includes(u)&&(!i[u]||"N"==i[u].toString().toUpperCase)&&(o[r]="No"),o[r]=i[u]}}return"Create"==o.action&&(o.action="Update"),!1}}),n.push(o)}),this.previewTableBody=n}},{key:"reset",value:function(){this.newSubnetipv4=void 0,this.newSubnetipv6=void 0,this.subnet=void 0,this.selectedSubnet="No",this.editData=void 0,this.editOnValue=void 0}},{key:"showError",value:function(e,t){this.infoTitle=e,this.infoBody=t,Te("#openModalButton").click()}},{key:"validateSubnetv4",value:function(e){if(this.subnetError=!1,e){var t=this.apiService.trimSubnet(e);return t&&this.commonFunctionsService.isValidSubnetV4(t)?(this.isIPv4=!0,this.subnet=t,!0):void(this.subnetError=!0)}this.subnetError=!0}},{key:"validateSubnetv6",value:function(e){if(this.subnetError=!1,e){var t=this.apiService.trimSubnet(e);return t&&this.commonFunctionsService.isValidSubnetV6(t)?(this.isIPv4=!1,void(this.subnet=t)):void(this.subnetError=!0)}this.subnetError=!0}},{key:"resetDelete",value:function(){this.selectDeselectAll(!1),Te("#selectDeselectAll").prop("checked",!1),Te("#selectDeselectAll-span").hide(),this.deleteIds=[],this.deleteSubnets=[]}},{key:"tableLanguageOptions",value:function(){"fr"==this.language.fileLanguage?this.tableOptions.language=this.frTable:"en"==this.language.fileLanguage&&this.tableOptions.language&&delete this.tableOptions.language}},{key:"closeModal",value:function(){this.modalRef&&this.modalRef.close()}},{key:"pageErrorHandle",value:function(e){var t="";400==e.status?(this.infoBody=this.commonOrgService.pageInvalidRqstErrorHandle(e),this.infoTitle=this.language["Invalid request"],this.openInfoModal(),this.loading=!1):(t=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(t),this.commonOrgService.pageScrollTop(),this.loading=!1)}},{key:"openInfoModal",value:function(){this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal)}},{key:"importTemplate",value:function(e,t){return!t&&this.isFullImport&&(t="Create"),{action:t||e.action,subnet:e.subnet,excluded:"boolean"==typeof e.excluded?e.excluded:!("N"==e.excluded.toUpperCase()||"NO"==e.excluded.toUpperCase()),isstatic:"boolean"==typeof e.isstatic?e.isstatic:!("N"==e.isstatic.toUpperCase()||"NO"==e.isstatic.toUpperCase()),isv4:"boolean"==typeof e.isv4?e.isv4:!("N"==e.isv4.toUpperCase()||"NO"==e.isv4.toUpperCase()),orgId:this.ORG_ID,tenantId:0}}}]),i}();return i.\u0275fac=function(e){return new(e||i)(c.Y36(S.i),c.Y36(y),c.Y36($.O),c.Y36(z.L),c.Y36(q.s),c.Y36(g.t6),c.Y36(u.F0),c.Y36(w.FF),c.Y36(I.v))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-static-subnets"]],viewQuery:function(e,t){var i;(1&e&&(c.Gf(X,7),c.Gf(K,7),c.Gf(ee,7),c.Gf(te,7),c.Gf(x.G,5)),2&e)&&(c.iGM(i=c.CRH())&&(t.infoModal=i.first),c.iGM(i=c.CRH())&&(t.deleteModal=i.first),c.iGM(i=c.CRH())&&(t.multiDeleteModal=i.first),c.iGM(i=c.CRH())&&(t.importModal=i.first),c.iGM(i=c.CRH())&&(t.dtElement=i.first))},decls:28,vars:12,consts:[[1,"container"],["class","loader",4,"ngIf"],["class","row py-4",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-md-12","ccl-admin-table",3,"hidden"],["id","static-subnets-table","width","100%","datatable","",1,"row-border","hover","table-alter",3,"dtOptions","dtTrigger"],[1,"mxw-200",2,"white-space","nowrap"],[1,"d-flex","justify-content-end"],["class","d-flex align-items-center mr-1",4,"ngIf"],["class","text-center justify-content-center",4,"ngIf"],[1,"mw-250"],[1,"w-250"],[3,"id",4,"ngFor","ngForOf"],["infoModal",""],["deleteModal",""],["multiDeleteModal",""],["importModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"row","py-4"],[1,"col-md-9"],[1,"d-flex"],["id","create-btn",1,"btn-default","primary","mx-2",3,"click"],["id","export-btn",1,"btn-default","primary","mx-2",3,"click"],[1,"upload-btn-wrapper"],[1,"btn-default","primary","mx-2",3,"click"],["type","file","accept",".xls,.xlsx,.csv","id","fullImportUpload",2,"display","none",3,"change"],["for","inc-import",1,"btn-default","primary","mx-2","cursor-pointer"],["type","file","id","inc-import","accept",".xls,.xlsx,.csv",2,"display","none",3,"change"],[1,"col-sm-3","align-self-end","d-none"],[1,"ccl-form"],["type","search","name","searchbox","placeholder","",1,"input-sm"],[1,"serach-but","btn-default","primary","btn-icon-md","inline"],["aria-hidden","true",1,"fa","fa-search"],[1,"col-md-6","offset-md-3"],[1,"ccl-form","row","my-2"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","subnet-select","placeholder","",2,"text-align","left",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["for","newSubnetV4",1,"col-sm-4","col-form-label"],[1,"error"],["id","newSubnetV4","type","text","name","newSubnetV4","placeholder","",1,"",3,"ngModel","disabled","ngModelChange"],["for","newSubnetV6",1,"col-sm-4","col-form-label"],["id","newSubnetV6","type","text","name","newSubnetV6","placeholder","",1,"",3,"ngModel","disabled","ngModelChange"],["placeholder","",2,"text-align","left",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],[1,"row","my-4"],[1,"col-md-8","offset-md-4"],[1,"btn-default","primary","px-3","mx-3",3,"click"],[1,"btn-default","primary","px-3",3,"click"],["class","row",4,"ngIf"],[1,"col-md-12","ccl-admin-table"],["id","example","datatable","",1,"row-border","hover","table-alter",3,"dtOptions"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","mr-1"],["type","checkbox","value","","id","selectDeselectAll",1,"",3,"disabled","change"],["id","selectDeselectAll-span",1,"checkbox-ui",2,"display","none",3,"click"],[1,"text-center","justify-content-center"],["id","delete-selected-btn",1,"btn-default","primary","px-2",3,"title","disabled","click"],[1,"far","fa-trash-alt"],[3,"id"],[1,"action-button",2,"white-space","nowrap","width","10% !important"],["class","editable-td text-center","style","font-size:13px",4,"ngIf"],["class","save-cancel-btn-group d-flex justify-content-center",4,"ngIf"],["class","subnet-select-div ccl-form",4,"ngIf"],[1,"editable-td","text-center",2,"font-size","13px"],[1,"ccl-fc-table-icon"],[1,"pr-2"],["id","edit-btn",1,"primary",3,"title","click"],[1,"fas","fa-pencil-alt"],["type","checkbox",3,"value","name","title","click"],["id","delete-btn",1,"primary",3,"title","click"],[1,"save-cancel-btn-group","d-flex","justify-content-center"],[1,"pr-1"],["id","save-btn",1,"primary","mx-3",3,"click"],[1,"fas","fa-check"],["id","cancel-btn",1,"primary",3,"click"],[1,"fas","fa-times"],[1,"subnet-select-div","ccl-form"],["placeholder","",2,"text-align","left","width","200px",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["type","text",1,"edit-text",2,"width","200px",3,"ngModel","ngModelOptions","ngModelChange"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"],[3,"innerHtml"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.YNc(1,ie,5,0,"div",1),c.YNc(2,ne,22,4,"div",2),c.YNc(3,se,32,24,"section",3),c.YNc(4,re,8,3,"section",3),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c.TgZ(7,"table",6),c.TgZ(8,"thead"),c.TgZ(9,"tr"),c.TgZ(10,"th",7),c.TgZ(11,"div",8),c.YNc(12,ue,3,1,"div",9),c.YNc(13,ce,4,3,"div",10),c.qZA(),c.qZA(),c.TgZ(14,"th",11),c._uU(15),c.qZA(),c.TgZ(16,"th",12),c._uU(17),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"tbody"),c.YNc(19,ve,10,7,"tr",13),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(20,Ze,10,3,"ng-template",null,14,c.W1O),c.YNc(22,me,13,4,"ng-template",null,15,c.W1O),c.YNc(24,xe,12,4,"ng-template",null,16,c.W1O),c.YNc(26,Se,12,4,"ng-template",null,17,c.W1O)),2&e&&(c.xp6(1),c.Q6J("ngIf",t.loading),c.xp6(1),c.Q6J("ngIf",t.buttonVisible),c.xp6(1),c.Q6J("ngIf",t.formVisible),c.xp6(1),c.Q6J("ngIf",t.tablePreview),c.xp6(2),c.Q6J("hidden",!t.dataAvailable),c.xp6(1),c.Q6J("dtOptions",t.tableOptions)("dtTrigger",t.dtTrigger),c.xp6(5),c.Q6J("ngIf",!t.editOnValue),c.xp6(1),c.Q6J("ngIf",!t.editOnValue),c.xp6(2),c.Oqu(t.language.subnet),c.xp6(2),c.Oqu(t.language.excluded),c.xp6(2),c.Q6J("ngForOf",t.staticSubnetData))},directives:[o.O5,x.G,o.sg,r._Y,r.JL,r.F,W.w9,r.JJ,r.On,r.Fj],styles:[".subnet-select-div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start}.subnet-select-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:10px}"]}),i}(),ye=s(29923),qe=["infoModal"],we=["deleteModal"],Ie=["multiDeleteModal"],Me=["importModal"];function Oe(e,t){1&e&&(c.TgZ(0,"div",22),c.TgZ(1,"div",23),c.TgZ(2,"div",24),c.TgZ(3,"span",25),c._uU(4,"Loading..."),c.qZA(),c.qZA(),c.qZA(),c.qZA())}function ke(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",26),c.TgZ(1,"div",27),c.TgZ(2,"div",28),c.TgZ(3,"div"),c.TgZ(4,"button",29),c.NdJ("click",function(){return c.CHM(i),c.oxw().create()}),c._uU(5),c.qZA(),c.qZA(),c.TgZ(6,"div"),c.TgZ(7,"button",30),c.NdJ("click",function(){return c.CHM(i),c.oxw().export()}),c._uU(8),c.qZA(),c.qZA(),c.TgZ(9,"div",31),c.TgZ(10,"button",32),c.NdJ("click",function(){return c.CHM(i),c.oxw().fullImportUpload()}),c._uU(11),c.qZA(),c.TgZ(12,"input",33),c.NdJ("change",function(e){return c.CHM(i),c.oxw().fullImport(e,!0)}),c.qZA(),c.qZA(),c.TgZ(13,"div",31),c.TgZ(14,"label",34),c._uU(15),c.qZA(),c.TgZ(16,"input",35,36),c.NdJ("change",function(e){return c.CHM(i),c.oxw().fullImport(e,!1)})("click",function(){return c.CHM(i),c.MAs(17).value=null}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"div",37),c.TgZ(19,"div",38),c._UZ(20,"input",39),c.TgZ(21,"button",40),c._UZ(22,"i",41),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(5),c.Oqu(n.language.create),c.xp6(3),c.Oqu(n.language.export),c.xp6(3),c.Oqu(n.language.fullImport),c.xp6(4),c.hij("",n.language.incrementalImport," ")}}function _e(e,t){if(1&e&&c._uU(0),2&e){var i=t.item,n=c.oxw(2);c.hij(" ",n.language[i]," ")}}function Ce(e,t){if(1&e&&c._uU(0),2&e){var i=t.item,n=c.oxw(2);c.hij(" ",n.language[i]," ")}}var De=function(){return{standalone:!0}};function Ue(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"section"),c.TgZ(1,"div",4),c.TgZ(2,"div",42),c.TgZ(3,"form"),c.TgZ(4,"div",43),c.TgZ(5,"label",44),c._uU(6),c.qZA(),c.TgZ(7,"div",45),c.TgZ(8,"ng-select",46),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw().subnetVersionsSelected=e})("change",function(){return c.CHM(i),c.oxw().subnetVerChoose()}),c.YNc(9,_e,1,1,"ng-template",47),c.YNc(10,Ce,1,1,"ng-template",48),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"div",43),c.TgZ(12,"label",44),c._uU(13),c.qZA(),c.TgZ(14,"div",45),c.TgZ(15,"ng-select",49),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw().subnetStaticSelected=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(16,"div",43),c.TgZ(17,"label",50),c._uU(18),c.qZA(),c.TgZ(19,"div",45),c.TgZ(20,"input",51),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw().newSubnetipv4=e})("blur",function(){c.CHM(i);var e=c.oxw();return e.removeUnwantedSpace("newSubnetipv4",e.newSubnetipv4)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"div",43),c.TgZ(22,"label",52),c._uU(23),c.qZA(),c.TgZ(24,"div",45),c.TgZ(25,"input",53),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw().newSubnetipv6=e})("blur",function(){c.CHM(i);var e=c.oxw();return e.removeUnwantedSpace("newSubnetipv6",e.newSubnetipv6)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(26,"div",43),c.TgZ(27,"label",44),c._uU(28),c.qZA(),c.TgZ(29,"div",45),c.TgZ(30,"ng-select",54),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw().selectedSubnet=e}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(31,"div",55),c.TgZ(32,"div",56),c.TgZ(33,"button",57),c.NdJ("click",function(){return c.CHM(i),c.oxw().submit()}),c._uU(34),c.qZA(),c.TgZ(35,"button",58),c.NdJ("click",function(){return c.CHM(i),c.oxw().cancel()}),c._uU(36),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(6),c.Oqu(n.language.subnet),c.xp6(2),c.Q6J("items",n.subnetVersions)("multiple",!1)("ngModel",n.subnetVersionsSelected)("ngModelOptions",c.DdM(29,De))("clearable",!1)("searchable",!1),c.xp6(5),c.Oqu(n.language.static),c.xp6(2),c.Q6J("items",n.subnetStatic)("multiple",!1)("ngModel",n.subnetStaticSelected)("ngModelOptions",c.DdM(30,De))("clearable",!1)("searchable",!1),c.xp6(3),c.Oqu(n.language.subnetIpv4),c.xp6(2),c.Q6J("ngModel",n.newSubnetipv4)("disabled","SubnetIPV6"==n.subnetVersionsSelected),c.xp6(3),c.hij("",n.language.subnetIpv6," "),c.xp6(2),c.Q6J("ngModel",n.newSubnetipv6)("disabled","SubnetIPV4"==n.subnetVersionsSelected),c.xp6(3),c.hij("",n.language.excluded," "),c.xp6(2),c.Q6J("items",n.selectOptions)("multiple",!1)("ngModel",n.selectedSubnet)("ngModelOptions",c.DdM(31,De))("clearable",!1)("searchable",!1),c.xp6(4),c.Oqu(n.language.submit),c.xp6(2),c.Oqu(n.language.Cancel)}}function Ne(e,t){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.TgZ(11,"td"),c._uU(12),c.qZA(),c.qZA()),2&e){var i=t.$implicit;c.xp6(2),c.Oqu(i.action),c.xp6(2),c.Oqu(i.subnet),c.xp6(2),c.Oqu(i.excluded),c.xp6(2),c.Oqu(i["Old excluded"]),c.xp6(2),c.Oqu(i.isstatic?"Yes":"No"),c.xp6(2),c.Oqu(i["Old isstatic"])}}function Je(e,t){if(1&e&&(c.TgZ(0,"div",4),c.TgZ(1,"div",60),c.TgZ(2,"table",61),c.TgZ(3,"thead"),c.TgZ(4,"tr"),c.TgZ(5,"th"),c._uU(6),c.qZA(),c.TgZ(7,"th"),c._uU(8),c.qZA(),c.TgZ(9,"th"),c._uU(10),c.qZA(),c.TgZ(11,"th"),c._uU(12),c.qZA(),c.TgZ(13,"th"),c._uU(14),c.qZA(),c.TgZ(15,"th"),c._uU(16),c.qZA(),c.qZA(),c.qZA(),c.TgZ(17,"tbody"),c.YNc(18,Ne,13,6,"tr",62),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var i=c.oxw(2);c.xp6(2),c.Q6J("dtOptions",i.importTableOptions),c.xp6(4),c.Oqu(i.language.action),c.xp6(2),c.Oqu(i.language.subnet),c.xp6(2),c.Oqu(i.language.excluded),c.xp6(2),c.AsE("",i.language.old," ",i.language.excluded,""),c.xp6(2),c.Oqu(i.language.static),c.xp6(2),c.AsE("",i.language.old," ",i.language.static,""),c.xp6(2),c.Q6J("ngForOf",i.previewTableBody)}}function Ve(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"section"),c.YNc(1,Je,19,10,"div",59),c.TgZ(2,"div",55),c.TgZ(3,"div",56),c.TgZ(4,"button",57),c.NdJ("click",function(){return c.CHM(i),c.oxw().submitImport()}),c._uU(5),c.qZA(),c.TgZ(6,"button",58),c.NdJ("click",function(){return c.CHM(i),c.oxw().cancel()}),c._uU(7),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(1),c.Q6J("ngIf",n.tablePreview),c.xp6(4),c.Oqu(n.language.submit),c.xp6(2),c.Oqu(n.language.Cancel)}}function Ee(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",69),c.TgZ(1,"div",70),c.TgZ(2,"span",71),c.TgZ(3,"div",72),c.NdJ("click",function(){c.CHM(i);var e=c.oxw().$implicit,t=c.oxw();return t.edit(e),t.updateDis=!0}),c._UZ(4,"i",73),c.qZA(),c.qZA(),c.TgZ(5,"span",71),c.TgZ(6,"input",74),c.NdJ("click",function(e){c.CHM(i);var t=c.oxw().$implicit;return c.oxw().getDeleteIds(e,t)}),c.qZA(),c.qZA(),c.TgZ(7,"span",71),c.TgZ(8,"div",75),c.NdJ("click",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw().delete(e)}),c._UZ(9,"i",14),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw().$implicit,a=c.oxw();c.xp6(3),c.s9C("title",a.language.Edit),c.xp6(3),c.Gre("delete_id_",n._id,""),c.s9C("value",n._id),c.MGl("name","delete_id_",n._id,""),c.s9C("title",a.language.Select),c.xp6(2),c.s9C("title",a.language.Delete)}}function He(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",76),c.TgZ(1,"div",70),c.TgZ(2,"span",77),c.TgZ(3,"div",78),c.NdJ("click",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw().updateSave(e._id)}),c._UZ(4,"i",79),c.qZA(),c.qZA(),c.TgZ(5,"span",77),c.TgZ(6,"div",80),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).updateCancel()}),c._UZ(7,"i",81),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw(2);c.xp6(3),c.Q6J("ngClass",n.updateDis?"disable-edit-btn":"")}}function Pe(e,t){if(1&e&&(c.TgZ(0,"div"),c._uU(1),c.qZA()),2&e){var i=c.oxw().$implicit;c.xp6(1),c.hij(" ",i.subnet?i.subnet:""," ")}}function Re(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",82),c.TgZ(1,"ng-select",83),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw(2).editSubnetVersionsSelected=e})("change",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw().objmodifycheck(e._id)}),c.qZA(),c.TgZ(2,"input",84),c.NdJ("keyup",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw().objmodifycheck(e._id)})("ngModelChange",function(e){return c.CHM(i),c.oxw(2).editSubnetv4=e})("blur",function(){c.CHM(i);var e=c.oxw(2);return e.removeUnwantedSpace("editSubnetv4",e.editSubnetv4)}),c.qZA(),c.qZA()}if(2&e){var n=c.oxw(2);c.xp6(1),c.Q6J("items",n.subnetVersions)("multiple",!1)("ngModel",n.editSubnetVersionsSelected)("ngModelOptions",c.DdM(8,De))("clearable",!1)("searchable",!1),c.xp6(1),c.Q6J("ngModel",n.editSubnetv4)("ngModelOptions",c.DdM(9,De))}}function Fe(e,t){if(1&e&&(c.TgZ(0,"div"),c._uU(1),c.qZA()),2&e){var i=c.oxw().$implicit;c.xp6(1),c.hij(" ",i.excluded?i.excluded:""," ")}}function Ye(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"ng-select",83),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw(2).editSelectedExcluded=e})("change",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw().objmodifycheck(e._id)}),c.qZA(),c.qZA()}if(2&e){var n=c.oxw(2);c.xp6(1),c.Q6J("items",n.selectOptions)("multiple",!1)("ngModel",n.editSelectedExcluded)("ngModelOptions",c.DdM(6,De))("clearable",!1)("searchable",!1)}}function Qe(e,t){if(1&e&&(c.TgZ(0,"div"),c._uU(1),c.qZA()),2&e){var i=c.oxw().$implicit;c.xp6(1),c.hij(" ",i.isstatic?i.isstatic:""," ")}}function je(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"ng-select",83),c.NdJ("ngModelChange",function(e){return c.CHM(i),c.oxw(2).eidtsubSelected=e})("change",function(){c.CHM(i);var e=c.oxw().$implicit;return c.oxw().objmodifycheck(e._id)}),c.qZA(),c.qZA()}if(2&e){var n=c.oxw(2);c.xp6(1),c.Q6J("items",n.selectOptions)("multiple",!1)("ngModel",n.eidtsubSelected)("ngModelOptions",c.DdM(6,De))("clearable",!1)("searchable",!1)}}function Ge(e,t){if(1&e&&(c.TgZ(0,"tr",63),c.TgZ(1,"td",64),c.YNc(2,Ee,10,8,"div",65),c.YNc(3,He,8,1,"div",66),c.qZA(),c.TgZ(4,"td"),c.YNc(5,Pe,2,1,"div",3),c.YNc(6,Re,3,10,"div",67),c.qZA(),c.TgZ(7,"td",68),c.YNc(8,Fe,2,1,"div",3),c.YNc(9,Ye,2,7,"div",3),c.qZA(),c.TgZ(10,"td",68),c.YNc(11,Qe,2,1,"div",3),c.YNc(12,je,2,7,"div",3),c.qZA(),c.qZA()),2&e){var i=t.$implicit,n=c.oxw();c.s9C("id",i._id),c.xp6(2),c.Q6J("ngIf",n.editOnValue!=i._id),c.xp6(1),c.Q6J("ngIf",n.editOnValue==i._id),c.xp6(2),c.Q6J("ngIf",n.editOnValue!=i._id),c.xp6(1),c.Q6J("ngIf",n.editOnValue==i._id),c.xp6(2),c.Q6J("ngIf",n.editOnValue!=i._id),c.xp6(1),c.Q6J("ngIf",n.editOnValue==i._id),c.xp6(2),c.Q6J("ngIf",n.editOnValue!=i._id),c.xp6(1),c.Q6J("ngIf",n.editOnValue==i._id)}}function Le(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",85),c.TgZ(1,"h4",86),c._uU(2),c.qZA(),c.TgZ(3,"button",87),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._UZ(4,"span",88),c.qZA(),c.qZA(),c.TgZ(5,"div",89),c._uU(6),c.qZA(),c.TgZ(7,"div",90),c.TgZ(8,"button",91),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._uU(9),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(2),c.Oqu(n.infoTitle),c.xp6(4),c.hij(" ",n.infoBody," "),c.xp6(3),c.Oqu(n.language.Okay)}}function Be(e,t){if(1&e){var i=c.EpF();c.ynx(0),c.TgZ(1,"div",85),c.TgZ(2,"h4",86),c._uU(3),c.qZA(),c.TgZ(4,"button",87),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._UZ(5,"span",88),c.qZA(),c.qZA(),c.TgZ(6,"div",89),c._UZ(7,"table",92),c.qZA(),c.TgZ(8,"div",90),c.TgZ(9,"button",91),c.NdJ("click",function(){return c.CHM(i),c.oxw().confirmDelete()}),c._uU(10),c.qZA(),c.TgZ(11,"button",93),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._uU(12),c.qZA(),c.qZA(),c.BQk()}if(2&e){var n=c.oxw();c.xp6(3),c.Oqu(n.infoTitle),c.xp6(4),c.Q6J("innerHtml",n.infoBody,c.oJD),c.xp6(3),c.Oqu(n.language.Okay),c.xp6(2),c.Oqu(n.language.Cancel)}}function $e(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",85),c.TgZ(1,"h4",86),c._uU(2),c.qZA(),c.TgZ(3,"button",87),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._UZ(4,"span",88),c.qZA(),c.qZA(),c.TgZ(5,"div",89),c._UZ(6,"table",92),c.qZA(),c.TgZ(7,"div",90),c.TgZ(8,"button",91),c.NdJ("click",function(){return c.CHM(i),c.oxw().confirmDeleteSecleted()}),c._uU(9),c.qZA(),c.TgZ(10,"button",93),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._uU(11),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(2),c.Oqu(n.infoTitle),c.xp6(4),c.Q6J("innerHtml",n.infoBody,c.oJD),c.xp6(3),c.Oqu(n.language.Okay),c.xp6(2),c.Oqu(n.language.Cancel)}}function ze(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"div",85),c.TgZ(1,"h4",86),c._uU(2),c.qZA(),c.TgZ(3,"button",87),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._UZ(4,"span",88),c.qZA(),c.qZA(),c.TgZ(5,"div",89),c._UZ(6,"table",92),c.qZA(),c.TgZ(7,"div",90),c.TgZ(8,"button",91),c.NdJ("click",function(){return c.CHM(i),c.oxw().proceedImport()}),c._uU(9),c.qZA(),c.TgZ(10,"button",93),c.NdJ("click",function(){return c.CHM(i),c.oxw().closeModal()}),c._uU(11),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(2),c.Oqu(n.infoTitle),c.xp6(4),c.Q6J("innerHtml",n.infoBody,c.oJD),c.xp6(3),c.Oqu(n.language.Okay),c.xp6(2),c.Oqu(n.language.Cancel)}}var We=s(91704),Xe=function(){var i=function(){function i(e,t,n,s,l,o,r,u,c,d,g){var h=this;a(this,i),this.commonFunctionsService=e,this.apiService=t,this.exportExcel=n,this.dataTablecreatorService=s,this.translateService=l,this.sso=o,this.router=r,this.dialogService=u,this.commonOrgService=c,this.titleService=d,this.common=g,this.pageAvailable=!1,this.editsubnetStatic=!1,this.formVisible=!1,this.buttonVisible=!0,this.currentTableRowCount=0,this.updateDis=!0,this.selectOptions=["No","Yes"],this.selectedSubnet="No",this.storageData={},this.tableOptions={pagingType:"full_numbers",order:[1,"asc"],columnDefs:[{targets:[0],orderable:!1}],stateSave:!0,drawCallback:function(e){h.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},h.resetDelete(),h.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength&&We(e.nTableWrapper).find("#".concat(e.sTableId,"_last")).addClass("disabled")}},this.subnetData=[],this.newSubnet="",this.empty={Subnet:"",Excluded:"","Is v4":"",Static:""},this.add={excluded:!0,isstatic:!1,isv4:!0,subnet:""},this.importTableOptions={pagingType:"full_numbers",pageLength:10,order:[0,"asc"],dom:"tipr"},this.tablePreview=!1,this.fullLoader=!0,this.isFullImport=!0,this.subnetError=!1,this.isIPv4=!0,this.dtTrigger=new Z.xQ,this.isRerender=!1,this.deleteIds=[],this.deleteSubnets=[],this.subnetVersions=["SubnetIPV4","SubnetIPV6"],this.subnetStatic=["Yes","No"],this.subnetVersionsSelected="SubnetIPV4",this.subnetStaticSelected="No",this.loading=!0,this.importUpdateASCreate=[],this.sortData={column:1,type:"asc"},this.columnName={subnet:"Subnet",excluded:"Excluded",isv4:"Is v4",isstatic:"Static"},this.language=this.translateService.defualtLanguage,this.exportColoumnNames={subnet:this.language.Subnet,excluded:this.language.excluded,isv4:this.language.isv4,isstatic:this.language.Static},this.language&&(this.pageAvailable=!0),this.translateSubscribe=this.translateService.selectedLanguage.subscribe(function(e){h.language=e,h.reloadCurrentRoute(),h.exportColoumnNames={subnet:h.language.Subnet,excluded:h.language.excluded,isv4:h.language.isv4,isstatic:h.language.Static},h.dataAvailable=!1,h.isRerender=!0,h.titleService.setTitle("".concat(h.language.subnets," - ").concat(h.language.Network," - ").concat(h.language.flowconfiguration," - ").concat("systemAdministration"===f?h.language["System Administration"]:h.language.administration," - ").concat(h.language["Calix Cloud"])),h.setTableOptions("language")}),this.commonOrgService.closeAlert();var p=this.router.url;this.ORG_ID=this.sso.getOrganizationID(p),this.frTable=this.translateService.fr;var f=this.sso.getRedirectModule(p);this.titleService.setTitle("".concat(this.language.subnets," - ").concat(this.language.Network," - ").concat(this.language.flowconfiguration," - ").concat("systemAdministration"===f?this.language["System Administration"]:this.language.administration," - ").concat(this.language["Calix Cloud"]))}return l(i,[{key:"ngOnInit",value:function(){var e=this;this.removeState(),this.getSubnets(),this.tableLanguageOptions();var t=JSON.parse(localStorage.getItem("calix.login_data"));this.storageData.clientIp=null==t?void 0:t.clientIp,this.storageData.UserId=null==t?void 0:t.UserId,this.subscription=this.dataTablecreatorService.tableOptionsData.subscribe(function(t){try{(t||[]).forEach(function(t){return e.commonFunctionsService.keysFromColumnName(t,e.exportColoumnNames)}),e.recreateTable=t,e.submitImport(!0)}catch(i){}})}},{key:"ngAfterViewInit",value:function(){this.loaded=!0}},{key:"ngOnDestroy",value:function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.translateSubscribe&&this.translateSubscribe.unsubscribe(),this.subscription&&this.subscription.unsubscribe(),this.listSubs&&this.listSubs.unsubscribe(),this.createSubs&&this.createSubs.unsubscribe(),this.updateSubs&&this.updateSubs.unsubscribe(),this.deleteSubs&&this.deleteSubs.unsubscribe(),this.exportSubs&&this.exportSubs.unsubscribe(),this.importSubs&&this.importSubs.unsubscribe()}},{key:"create",value:function(){this.buttonVisible=!1,this.formVisible=!0,this.reset()}},{key:"getSubnets",value:function(){var e=this;this.listSubs=this.apiService.getSubnets(this.ORG_ID,!0).subscribe(function(i){i&&(e.subnetData=t(e.processData(i)),e.setTableOptions(),e.isRerender?(e.rerender(),e.isRerender=!1):(e.dtTrigger.next(),e.loading=!1),setTimeout(function(){e.resetDelete()},100),e.exportData=e.apiService.exportProcess(i))},function(t){e.pageErrorHandle(t),e.setTableOptions(),e.isRerender?(e.rerender(),e.loading=!1):e.dtTrigger.next()})}},{key:"setTableOptions",value:function(e){var t=this;this.tableOptions={pagingType:"full_numbers",order:[this.sortData.column,this.sortData.type],columnDefs:[{targets:[0],orderable:!1}],stateSave:!0,drawCallback:function(e){t.sortData={column:e.aaSorting[0][0]?e.aaSorting[0][0]:1,type:e.aaSorting[0][1]?e.aaSorting[0][1]:"asc"},setTimeout(function(){t.resetDelete()},0),t.currentTableRowCount=e.aiDisplay.length,e.aoData.length<=e._iDisplayLength&&We(e.nTableWrapper).find("#".concat(e.sTableId,"_last")).addClass("disabled")}},this.tableLanguageOptions(),e&&"language"==e?setTimeout(function(){t.dataAvailable=!0,t.rerender()},200):(this.dataAvailable=!0,this.loading=!1)}},{key:"rerender",value:function(){var e=this;this.dtElement.dtInstance.then(function(t){t.destroy(),e.tableOptions.order=[e.sortData.column,e.sortData.type],setTimeout(function(){e.dtTrigger.next()},10)})}},{key:"processData",value:function(e){return e.forEach(function(e){for(var t in e)"excluded"==t&&(e.excluded=e[t]?"Yes":"No"),"isstatic"==t&&(e.isstatic=e[t]?"Yes":"No");e.subnetIP4=e.isv4?e.subnet:"",e.subnetIP6=e.isv4?"":e.subnet}),e}},{key:"submit",value:function(){var e=this;if("SubnetIPV4"==this.subnetVersionsSelected&&null!=this.newSubnetipv4?this.validateSubnetv4(this.newSubnetipv4):"SubnetIPV6"==this.subnetVersionsSelected&&null!=this.newSubnetipv6&&this.validateSubnetv6(this.newSubnetipv6),!(null!=this.newSubnetipv4&&""!=this.newSubnetipv4||null!=this.newSubnetipv6&&""!=this.newSubnetipv6))return this.infoTitle=this.language["Invalid subnet"],this.infoBody="",void this.openInfoModal();if(this.subnetError)return this.infoTitle=this.language["Invalid subnet"],this.infoBody=this.newSubnetipv4?this.newSubnetipv4:this.newSubnetipv6,void this.openInfoModal();var t={excluded:"Yes"==this.selectedSubnet,isstatic:"Yes"==this.subnetStaticSelected,isv4:this.isIPv4,orgId:this.ORG_ID,subnet:this.subnet,tenantId:0};this.loading=!0,this.createSubs=this.apiService.addSubnet(t,this.ORG_ID).subscribe(function(t){e.isRerender=!0,e.cancel(),e.getSubnets()},function(t){e.pageErrorHandle(t)})}},{key:"edit",value:function(e){if(this.editData=e,this.editOnValue=e._id,this.editSubnetv4=e.subnet,this.eidtsubSelected=e.isstatic,this.editSelectedExcluded=e.excluded,this.editSubnetVersionsSelected=e.isv4?"SubnetIPV4":"SubnetIPV6",-1!==this.deleteIds.indexOf(e._id)){this.deleteIds.splice(this.deleteIds.indexOf(e._id),1),this.deleteSubnets.splice(this.deleteSubnets.indexOf(e.subnet),1);var t=We('input[name^="delete_id_"]').length;this.deleteIds.length?this.deleteIds.length!=t?(We("#selectDeselectAll").prop("checked",!1),We("#selectDeselectAll-span").show()):We("#selectDeselectAll-span").hide():(We("#selectDeselectAll").prop("checked",!1),We("#selectDeselectAll-span").hide())}}},{key:"updateSave",value:function(e){var t=this;if(!this.updateDis){if(null==this.editSubnetv4||""==this.editSubnetv4)return this.infoTitle=this.language["Invalid subnet"],this.infoBody="",void this.openInfoModal();if(null!=this.editSubnetv4&&""!=this.editSubnetv4&&"SubnetIPV4"==this.editSubnetVersionsSelected?this.validateSubnetv4(this.editSubnetv4):null!=this.editSubnetv4&&""!=this.editSubnetv4&&"SubnetIPV6"==this.editSubnetVersionsSelected&&this.validateSubnetv6(this.editSubnetv4),this.subnetError)return this.infoTitle=this.language["Invalid subnet"],this.infoBody="SubnetIPV4"==this.editSubnetVersionsSelected?this.editSubnetv4:this.editSubnetv6,void this.openInfoModal();var i={_id:e,excluded:"Yes"==this.editSelectedExcluded,isstatic:"Yes"==this.eidtsubSelected,isv4:this.isIPv4,orgId:this.ORG_ID,subnet:this.subnet,tenantId:0};this.loading=!0,this.updateSubs=this.apiService.updateSubnet(e,i,this.ORG_ID).subscribe(function(e){t.isRerender=!0,t.cancel(),t.getSubnets(),t.editOnValue=void 0},function(e){t.pageErrorHandle(e)})}}},{key:"updateCancel",value:function(){this.editOnValue=void 0}},{key:"validateSubnetv4",value:function(e){if(this.subnetError=!1,e){var t=this.apiService.trimSubnet(e);return t&&this.commonFunctionsService.isValidSubnetV4(t)?(this.isIPv4=!0,this.subnet=t,!0):void(this.subnetError=!0)}this.subnetError=!0}},{key:"validateSubnetv6",value:function(e){if(this.subnetError=!1,e){var t=this.apiService.trimSubnet(e);return t&&this.commonFunctionsService.isValidSubnetV6(t)?(this.isIPv4=!1,void(this.subnet=t)):void(this.subnetError=!0)}this.subnetError=!0}},{key:"cancel",value:function(){this.formVisible=!1,this.buttonVisible=!0,this.tablePreview=!1,this.reset()}},{key:"delete",value:function(e){this.deleteData=e,this.infoTitle=this.language["Delete subnet?"],this.infoBody="".concat(e.subnet),this.closeModal(),this.modalRef=this.dialogService.open(this.deleteModal,{backdrop:"static",keyboard:!1})}},{key:"confirmDelete",value:function(){var e=this,t=this.deleteData._id;this.loading=!0,this.deleteSubs=this.apiService.deleteSubnet(t,this.ORG_ID).subscribe(function(t){e.isRerender=!0,e.getSubnets(),e.closeDeleteModal()},function(t){e.pageErrorHandle(t)})}},{key:"closeDeleteModal",value:function(){this.deleteData=void 0,this.closeModal()}},{key:"getDeleteIds",value:function(e,t){if(e.target.checked){this.deleteIds.push(t._id),this.deleteSubnets.push(t.subnet);var i=We('input[name^="delete_id_"]').length;this.deleteIds.length==i?(We("#selectDeselectAll").prop("checked",!0),We("#selectDeselectAll-span").hide()):We("#selectDeselectAll-span").show()}else{this.deleteIds.splice(this.deleteIds.indexOf(t._id),1),this.deleteSubnets.splice(this.deleteSubnets.indexOf(t.subnet),1);var n=We('input[name^="delete_id_"]').length;this.deleteIds.length?this.deleteIds.length!=n?(We("#selectDeselectAll").prop("checked",!1),We("#selectDeselectAll-span").show()):We("#selectDeselectAll-span").hide():(We("#selectDeselectAll").prop("checked",!1),We("#selectDeselectAll-span").hide())}}},{key:"selectDeselectAll",value:function(e){this.deleteIds=[],this.deleteSubnets=[];var t=0,i=We('input[name^="delete_id_"]').length,n=this;e?We('input[name^="delete_id_"]').each(function(){if(t>=i)return!1;We(this).prop("checked",!0);var e=We(this).attr("class").split(" ")[0].substring("delete_id_".length),a=n.subnetData.filter(function(t){return t._id===e});n.deleteIds.push(e),n.deleteSubnets.push(a[0].subnet),t++}):We('input[name^="delete_id_"]').each(function(){if(t>=i)return!1;We(this).prop("checked",!1),n.deleteIds=[],n.deleteSubnets=[],t++})}},{key:"showAllInnerCheckBox",value:function(e){We("#"+e.target.id).hide(),We("#selectDeselectAll").prop("checked",!0),this.deleteIds=[],this.deleteSubnets=[],this.selectDeselectAll(!0)}},{key:"deleteAllSelected",value:function(){this.deleteSubnets&&(this.infoTitle=this.language[1===this.deleteSubnets.length?"Delete selected subnet?":"Delete selected subnets?"],this.infoBody=this.deleteSubnets.join(", <br>"),this.closeModal(),this.modalRef=this.dialogService.open(this.multiDeleteModal,{backdrop:"static",keyboard:!1}))}},{key:"confirmDeleteSecleted",value:function(){var e=this,t=[];this.loading=!0,this.subnetData.filter(function(t){return e.deleteIds.includes(t._id)}).sort(function(e,t){return e.excluded===t.excluded?0:"Yes"===e.excluded?-1:1}).map(function(e){return e._id}).forEach(function(i){t.push(e.apiService.deleteSubnet(i,e.ORG_ID))});var i=t.length,n=0;ye.z.apply(void 0,t).subscribe(function(t){n++,i==n&&(e.deleteIds=[],e.deleteSubnets=[],e.isRerender=!0,e.getSubnets(),e.closeMultiDeleteModal())},function(t){e.pageErrorHandle(t)})}},{key:"closeMultiDeleteModal",value:function(){this.deleteIds=[],this.deleteSubnets=[],this.closeModal()}},{key:"fullImportFileUpload",value:function(e){this.commonFunctionsService.onFileChange(e).subscribe(function(e){})}},{key:"export",value:function(){var e=this,t=this.commonFunctionsService.generateExportName("subnet_file_export",!0);this.exportSubs=this.apiService.Export("combined-subnets",this.ORG_ID).subscribe(function(i){e.exportData=e.exportDataConvertor(i),e.exportExcel.downLoadCSV(t,e.exportData&&e.exportData.length?e.exportData:[e.empty])},function(t){e.pageErrorHandle(t)})}},{key:"exportPdf",value:function(){}},{key:"exportDataConvertor",value:function(e){var t=this;return Array.isArray(e)&&e.forEach(function(e){for(var i in e)"boolean"==typeof e[i]&&(e[i]=1==e[i]?"Yes":"No");Object.keys(t.exportColoumnNames).forEach(function(i){e[t.exportColoumnNames[i]]=null!=e[i]?e[i]:"",delete e[i]}),delete e._id,delete e.orgId,delete e.tenantId}),e}},{key:"cancelImport",value:function(){}},{key:"fullImportUpload",value:function(){this.infoTitle=this.language.fullImport,this.infoBody=this.language.fullImportPrompt,this.closeModal(),this.modalRef=this.dialogService.open(this.importModal,{backdrop:"static",keyboard:!1})}},{key:"proceedImport",value:function(){this.closeModal(),We("#fullImportUpload").click(),We("#fullImportUpload").val(""),We("inc-import").val("")}},{key:"fullImport",value:function(e,t){this.isFullImport=t,this.dataTablecreatorService.generateJsonFromCsv(e)}},{key:"submitImport",value:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n={clientIP:this.storageData.clientIp,dry_run:i,full_import:this.isFullImport,import_data:[],orgId:this.ORG_ID?this.ORG_ID:50,userId:this.storageData.UserId},a=[],s=[];if(i?("Create",this.recreateTable.forEach(function(t){t.subnet&&null!=t.excluded&&null!=t.isstatic&&a.push(e.importTemplate(t,"Create"))})):this.recreateTable.forEach(function(t){t.subnet&&null!=t.excluded&&null!=t.isstatic&&a.push(e.importTemplate(t))}),i){var l=a.length;this.subnetData.forEach(function(t){for(var i=!1,n=0;n<l;n++)t.subnet==a[n].subnet&&(i=!0,e.isFullImport?(a[n].action="Create",e.importUpdateASCreate.push(t)):a[n].action=e.findObjectsCountByValue(a,a[n].subnet)>1?("boolean"==typeof t.isstatic?t.isstatic:"N"!=t.isstatic.toUpperCase()&&"NO"!=t.isstatic.toUpperCase()&&""!==t.isstatic)===a[n].isstatic?"Update":"Create":"Update");if(!i&&e.isFullImport){var o=Object.assign({},t);s.push(e.importTemplate(o,"Delete"))}})}else{if(0==(a=a.filter(function(e){if(["Create","Update"].includes(e.action))return e})).length)return void this.cancel();this.loading=!0}if(!a.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",this.closeModal(),void(this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1}));n.import_data=a,this.importSubs=this.apiService.importSubnets(n,this.ORG_ID,!0).subscribe(function(n){i?(n=n.map(function(e){return e.action="ok"==e.validationResult.toLowerCase()?e.action:e.validationResult,e}),e.recreateTable=n,e.previewOrder([].concat(t(n),s)),e.buttonVisible=!1,e.tablePreview=!0):(e.importUpdateASCreate=[],e.cancel(),e.isRerender=!0,e.getSubnets())},function(t){400==t.status?(i?(e.infoTitle=e.language.objectNotFound,e.infoBody="",e.closeModal(),e.modalRef=e.dialogService.open(e.infoModal,{backdrop:"static",keyboard:!1})):e.pageErrorHandle(t),e.loading=!1):e.pageErrorHandle(t)})}},{key:"importTemplate",value:function(e,t){return{action:t||e.action,subnet:e.subnet,excluded:"boolean"==typeof e.excluded?e.excluded:"N"!=e.excluded.toUpperCase()&&"NO"!=e.excluded.toUpperCase()&&""!==e.excluded,isstatic:"boolean"==typeof e.isstatic?e.isstatic:"N"!=e.isstatic.toUpperCase()&&"NO"!=e.isstatic.toUpperCase()&&""!==e.isstatic,isv4:"boolean"==typeof e.isv4?e.isv4:!("N"==e.isv4.toUpperCase()||"NO"==e.isv4.toUpperCase()),orgId:this.ORG_ID,tenantId:0}}},{key:"previewOrder",value:function(t){var i=this;if(!t||0==t.length)return this.infoTitle=this.language.noAvailableChange,this.infoBody="",void this.openInfoModal();var n=[],a=["excluded"],s=["validationResult"],l=["action","subnet"];t.forEach(function(t){var o={};Object.keys(t).forEach(function(e){s.includes(e)||(o[e]=a.includes(e)&&("true"===t[e]||!0===t[e]||t[e]&&"Y"==t[e].toString().toUpperCase)?"Yes":a.includes(e)&&("false"===t[e]||!1===t[e]||t[e]&&"N"==t[e].toString().toUpperCase)?"No":t[e],l.includes(e)||(o["Old "+e]=""))}),i.subnetData.forEach(function(i){if(t.subnet==i.subnet){for(var n=0,s=Object.entries(o);n<s.length;n++){var l=e(s[n],2),r=l[0];l[1];if(r.includes("Old")){var u=r.replace("Old ","");a.includes(u)&&(i[u]||i[u]&&"Y"==i[u].toString().toUpperCase)?o[r]="Yes":a.includes(u)&&(!i[u]||i[u]&&"N"==i[u].toString().toUpperCase)&&(o[r]="No"),o[r]=i[u]}}return"Create"==o.action&&(o.action="Update"),!1}}),n.push(o)}),this.previewTableBody=n}},{key:"reset",value:function(){this.newSubnetipv4=void 0,this.newSubnetipv6=void 0,this.subnet=void 0,this.selectedSubnet="No",this.subnetStaticSelected="No",this.editData=void 0,this.editOnValue=void 0}},{key:"subnetVerChoose",value:function(){}},{key:"editSubnetVerChoose",value:function(){"SubnetIPV4"==this.editSubnetVersionsSelected?this.editSubnetv6=void 0:this.editSubnetv4=void 0}},{key:"tableLanguageOptions",value:function(){"fr"==this.language.fileLanguage?(this.tableOptions.language=this.frTable,this.importTableOptions.language=this.frTable):"es"==this.language.fileLanguage?(this.tableOptions.language=this.translateService.es,this.importTableOptions.language=this.translateService.es):"de_DE"==this.language.fileLanguage?(this.tableOptions.language=this.translateService.de_DE,this.importTableOptions.language=this.translateService.de_DE):("en"==this.language.fileLanguage&&this.tableOptions.language||"en"==this.language.fileLanguage&&this.importTableOptions.language)&&(delete this.tableOptions.language,delete this.importTableOptions.language)}},{key:"resetDelete",value:function(){this.selectDeselectAll(!1),We("#selectDeselectAll").prop("checked",!1),We("#selectDeselectAll-span").hide(),this.deleteIds=[],this.deleteSubnets=[]}},{key:"closeModal",value:function(){this.modalRef&&this.modalRef.close()}},{key:"pageErrorHandle",value:function(e){var t="";if(400==e.status){var i=this.commonOrgService.pageErrorHandle(e);i=i?i.trim():"",this.infoBody="subnet has excluded subnets"==i.toLowerCase()?this.language["Subnet has excluded subnets, please delete the excluded subnets first"]:i,this.infoTitle=this.language["Invalid request"],this.openInfoModal(),this.loading=!1}else t=401==e.status?this.language["Access Denied"]:this.commonOrgService.pageErrorHandle(e),this.commonOrgService.openErrorAlert(t),this.commonOrgService.pageScrollTop(),this.loading=!1}},{key:"openInfoModal",value:function(){this.closeModal(),this.modalRef=this.dialogService.open(this.infoModal,{backdrop:"static",keyboard:!1})}},{key:"objmodifycheck",value:function(e){var t=this;this.updateDis=!0;var i="No";this.subnetData.forEach(function(n){n._id==e&&(i=1==n.isstatic||"Yes"==n.isstatic?"Yes":"No",t.updateDis=n.excluded==t.editSelectedExcluded&&(n.isv4?"SubnetIPV4":"SubnetIPV6")==t.editSubnetVersionsSelected&&n.subnet==t.editSubnetv4.trim()&&i==t.eidtsubSelected)})}},{key:"removeState",value:function(){this.commonOrgService.removeTableState("network_subnets",this.router.url)}},{key:"findObjectsCountByValue",value:function(e,t){var i=0;if(e&&e.length)for(var n=0;n<e.length;n++)e[n].subnet==t&&i++;return i}},{key:"removeUnwantedSpace",value:function(e,t){this[e]=this.common.trimSpaceFromNonObjectInputs(t)}},{key:"reloadCurrentRoute",value:function(){var e=this,t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(function(){e.router.navigate([t])})}}]),i}();return i.\u0275fac=function(e){return new(e||i)(c.Y36(S.i),c.Y36(y),c.Y36($.O),c.Y36(z.L),c.Y36(q.s),c.Y36(g.t6),c.Y36(u.F0),c.Y36(w.FF),c.Y36(I.v),c.Y36(M.Dx),c.Y36(O.i))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-combined-subnets"]],viewQuery:function(e,t){var i;(1&e&&(c.Gf(qe,7),c.Gf(we,7),c.Gf(Ie,7),c.Gf(Me,7),c.Gf(x.G,5)),2&e)&&(c.iGM(i=c.CRH())&&(t.infoModal=i.first),c.iGM(i=c.CRH())&&(t.deleteModal=i.first),c.iGM(i=c.CRH())&&(t.multiDeleteModal=i.first),c.iGM(i=c.CRH())&&(t.importModal=i.first),c.iGM(i=c.CRH())&&(t.dtElement=i.first))},decls:35,vars:19,consts:[[1,"container","position-relative"],["class","loader",4,"ngIf"],["class","row py-4",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-md-12","ccl-admin-table",3,"hidden"],["id","subnets-table","width","100%","datatable","",1,"row-border","hover","table-alter","mb30",3,"dtOptions","dtTrigger"],[1,"mxw-200","w-nowrap"],[1,"d-flex","justify-content-end"],[1,"d-flex","align-items-center","mr-1",3,"hidden"],["type","checkbox","value","","id","selectDeselectAll",1,"",3,"hidden","disabled","change"],["id","selectDeselectAll-span",1,"checkbox-ui",2,"display","none",3,"hidden","click"],[1,"text-center","justify-content-center",3,"hidden"],["id","delete-selected-btn",1,"btn-default","primary","px-2",3,"title","disabled","click"],[1,"far","fa-trash-alt"],[1,"mw-250"],[1,"w-200px"],[3,"id",4,"ngFor","ngForOf"],["infoModal",""],["deleteModal",""],["multiDeleteModal",""],["importModal",""],[1,"loader"],[1,"d-flex","justify-content-center"],[1,"spinner-border","text-primary"],[1,"sr-only"],[1,"row","py-4"],[1,"col-md-9"],[1,"d-flex"],["id","create-btn",1,"btn-default","primary","mx-2",3,"click"],["id","export-btn",1,"btn-default","primary","mx-2",3,"click"],[1,"upload-btn-wrapper"],[1,"btn-default","primary","mx-2",3,"click"],["type","file","accept",".csv","id","fullImportUpload",2,"display","none",3,"change"],["for","inc-import",1,"btn-default","primary","mx-2","cursor-pointer"],["type","file","id","inc-import","accept",".csv","value","",2,"display","none",3,"change","click"],["incImport",""],[1,"col-sm-3","align-self-end","d-none"],[1,"ccl-form"],["type","search","name","searchbox","placeholder","",1,"input-sm"],[1,"serach-but","btn-default","primary","btn-icon-md","inline"],["aria-hidden","true",1,"fa","fa-search"],[1,"col-md-6","offset-md-3"],[1,"ccl-form","row","my-2"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","subnet-select","placeholder","",1,"text-left",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],["ng-label-tmp",""],["ng-option-tmp",""],["id","subnet-static","placeholder","",1,"text-left",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],["for","newSubnetV4",1,"col-sm-4","col-form-label"],["id","newSubnetV4","type","text","name","newSubnetV4","placeholder","","trimSpace","",1,"",3,"ngModel","disabled","ngModelChange","blur"],["for","newSubnetV6",1,"col-sm-4","col-form-label"],["id","newSubnetV6","type","text","name","newSubnetV6","placeholder","","trimSpace","",1,"",3,"ngModel","disabled","ngModelChange","blur"],["placeholder","",1,"text-left",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange"],[1,"row","my-4"],[1,"col-md-8","offset-md-4"],[1,"btn-default","primary","px-3","mx-3",3,"click"],[1,"btn-default","btn-dft","py-1","px-3",3,"click"],["class","row",4,"ngIf"],[1,"col-md-12","ccl-admin-table"],["id","example","datatable","",1,"row-border","hover","table-alter",3,"dtOptions"],[4,"ngFor","ngForOf"],[3,"id"],[1,"action-button","action-button-nowrap"],["class","editable-td text-center f-size13",4,"ngIf"],["class","save-cancel-btn-group d-flex justify-content-center",4,"ngIf"],["class","subnet-select-div ccl-form",4,"ngIf"],[1,"w-250"],[1,"editable-td","text-center","f-size13"],[1,"ccl-fc-table-icon"],[1,"pr-2"],["id","edit-btn",1,"primary",3,"title","click"],[1,"fas","fa-pencil-alt"],["type","checkbox",3,"value","name","title","click"],["id","delete-btn",1,"primary",3,"title","click"],[1,"save-cancel-btn-group","d-flex","justify-content-center"],[1,"pr-1"],["id","save-btn",1,"primary","mx-3",3,"ngClass","click"],[1,"fas","fa-check"],["id","cancel-btn",1,"primary",3,"click"],[1,"fas","fa-times"],[1,"subnet-select-div","ccl-form"],["placeholder","",1,"t-left-w200",3,"items","multiple","ngModel","ngModelOptions","clearable","searchable","ngModelChange","change"],["type","text","trimSpace","",1,"edit-text","w-200px",3,"ngModel","ngModelOptions","keyup","ngModelChange","blur"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn-default","primary","px-3",3,"click"],[3,"innerHtml"],["type","button","data-dismiss","modal",1,"btn-default","btn-dft","py-1","px-3",3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.YNc(1,Oe,5,0,"div",1),c.YNc(2,ke,23,4,"div",2),c.YNc(3,Ue,37,32,"section",3),c.YNc(4,Ve,8,3,"section",3),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c.TgZ(7,"table",6),c.TgZ(8,"thead"),c.TgZ(9,"tr"),c.TgZ(10,"th",7),c.TgZ(11,"div",8),c.TgZ(12,"div",9),c.TgZ(13,"input",10),c.NdJ("change",function(e){return t.selectDeselectAll(e.target.checked)}),c.qZA(),c.TgZ(14,"span",11),c.NdJ("click",function(e){return t.showAllInnerCheckBox(e)}),c.qZA(),c.qZA(),c.TgZ(15,"div",12),c.TgZ(16,"button",13),c.NdJ("click",function(){return t.deleteAllSelected()}),c._UZ(17,"i",14),c._uU(18),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(19,"th",15),c._uU(20),c.qZA(),c.TgZ(21,"th",16),c._uU(22),c.qZA(),c.TgZ(23,"th",16),c._uU(24),c.qZA(),c.qZA(),c.qZA(),c.TgZ(25,"tbody"),c.YNc(26,Ge,13,9,"tr",17),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(27,Le,10,3,"ng-template",null,18,c.W1O),c.YNc(29,Be,13,4,"ng-template",null,19,c.W1O),c.YNc(31,$e,12,4,"ng-template",null,20,c.W1O),c.YNc(33,ze,12,4,"ng-template",null,21,c.W1O)),2&e&&(c.xp6(1),c.Q6J("ngIf",t.loading),c.xp6(1),c.Q6J("ngIf",t.buttonVisible),c.xp6(1),c.Q6J("ngIf",t.formVisible),c.xp6(1),c.Q6J("ngIf",t.tablePreview),c.xp6(2),c.Q6J("hidden",!t.dataAvailable),c.xp6(1),c.Q6J("dtOptions",t.tableOptions)("dtTrigger",t.dtTrigger),c.xp6(5),c.Q6J("hidden",t.editOnValue),c.xp6(1),c.Q6J("hidden",t.editOnValue)("disabled",0==(null==t.subnetData?null:t.subnetData.length)||0==t.currentTableRowCount),c.xp6(1),c.Q6J("hidden",t.editOnValue),c.xp6(1),c.Q6J("hidden",t.editOnValue),c.xp6(1),c.s9C("title",t.language["Delete selected"]),c.Q6J("disabled",!(null!=t.subnetData&&t.subnetData.length&&null!=t.deleteIds&&t.deleteIds.length)),c.xp6(2),c.hij(" ",t.language.selected," "),c.xp6(2),c.Oqu(t.language.subnet),c.xp6(2),c.Oqu(t.language.excluded),c.xp6(2),c.Oqu(t.language.static),c.xp6(2),c.Q6J("ngForOf",t.subnetData))},directives:[o.O5,x.G,o.sg,r._Y,r.JL,r.F,W.w9,r.JJ,r.On,W.bb,W.Z2,r.Fj,o.mk],styles:["div.disable-edit-btn[_ngcontent-%COMP%]{cursor:not-allowed}div.disable-edit-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ccc!important}.subnet-select-div[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.modal-scrll[_ngcontent-%COMP%]{overflow-y:auto;max-height:400px}.w-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.w-200px[_ngcontent-%COMP%]{width:200px}.action-button-nowrap[_ngcontent-%COMP%]{white-space:nowrap;width:10%!important}.f-size13[_ngcontent-%COMP%]{font-size:13px}.t-left-w200[_ngcontent-%COMP%]{text-align:left;width:200px}"]}),i}(),Ke=[{path:"",component:v,children:[{path:"devices",loadChildren:function(){return Promise.all([s.e(8592),s.e(6242)]).then(s.bind(s,36242)).then(function(e){return e.DevicesModule})}},{path:"subnets",component:Xe,data:{title:"Calix Cloud - Flow Configuration"}},{path:"combinedSubnets",component:Xe,data:{title:"Calix Cloud - Flow Configuration"}},{path:"static_subnets",component:Ae,data:{title:"Calix Cloud - Flow Configuration"}},{path:"radius-servers",component:B,data:{title:"Calix Cloud - Flow Configuration"}},{path:"",redirectTo:"devices",pathMatch:"full",data:{title:"Calix Cloud - Flow Configuration"}}]}],et=function(){var e=l(function e(){a(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[u.Bz.forChild(Ke)],u.Bz]}),e}(),tt=s(23830),it=function(){var e=l(function e(){a(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[o.ez,r.u5,et,x.T,W.A0,tt.o]]}),e}()}}])}();