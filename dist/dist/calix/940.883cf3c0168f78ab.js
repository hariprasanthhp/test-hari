"use strict";(self.webpackChunklogin_module=self.webpackChunklogin_module||[]).push([[940],{9940:(E,f,u)=>{u.r(f),u.d(f,{WorkflowsModule:()=>P});var c=u(6895),d=u(9371),p=u(529),t=u(1571),w=u(2661),_=u(5415);function h(l,s){if(1&l){const o=t.EpF();t.TgZ(0,"div",16)(1,"button",1),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n.toSuspendConfirm())}),t._uU(2,"Confirom"),t.qZA()()}}function k(l,s){if(1&l){const o=t.EpF();t.TgZ(0,"div",8)(1,"div",9),t._UZ(2,"img",10),t.qZA(),t.TgZ(3,"div",11)(4,"p",12),t._uU(5),t.qZA()(),t.YNc(6,h,3,0,"div",13),t.TgZ(7,"div",14)(8,"button",15),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.erroMesTapOkay())}),t._uU(9,"Cancel"),t.qZA()()()}if(2&l){const o=t.oxw();t.xp6(5),t.hij(" ",o.crudErrorMessage,""),t.xp6(1),t.Q6J("ngIf",o.confiromButtonEnDis)}}function x(l,s){if(1&l){const o=t.EpF();t.TgZ(0,"div",17),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.apiErrorMessage())}),t.TgZ(1,"div",9),t._UZ(2,"img",18),t.qZA(),t.TgZ(3,"div",19)(4,"p",12),t._uU(5),t.qZA()(),t.TgZ(6,"div",14)(7,"button",20),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.erroMesTapOkay())}),t.qZA()()()}if(2&l){const o=t.oxw();t.xp6(5),t.Oqu(o.apiErroMsg)}}function C(l,s){1&l&&(t.TgZ(0,"div")(1,"div",21),t._UZ(2,"span",22),t.qZA()())}function Z(l,s){1&l&&t._UZ(0,"span",35)}function T(l,s){1&l&&t._UZ(0,"span",36)}function b(l,s){1&l&&t._UZ(0,"span",37)}function v(l,s){if(1&l){const o=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,e=t.oxw();return t.KtG(e.toEditSubscriber(n))}),t._UZ(1,"img",39),t.qZA()}}function y(l,s){if(1&l){const o=t.EpF();t.TgZ(0,"div",40),t.O4$(),t.TgZ(1,"svg",41),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,e=t.oxw();return t.KtG(e.clickedPause_Resume(null==n?null:n.name,null==n?null:n._id,"resume",null==n?null:n.state))}),t._UZ(2,"path",42),t.qZA()()}}function A(l,s){if(1&l){const o=t.EpF();t.TgZ(0,"div",43),t.O4$(),t.TgZ(1,"svg",44),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,e=t.oxw();return t.KtG(e.clickedPause_Resume(null==n?null:n.name,null==n?null:n._id,"suspend",null==n?null:n.state))}),t._UZ(2,"path",45),t.qZA()()}}function M(l,s){if(1&l){const o=t.EpF();t.TgZ(0,"tr")(1,"td",23),t.NdJ("click",function(){const n=t.CHM(o),e=n.index,i=n.$implicit,a=t.oxw();return t.KtG(a.showDetailForCheck(e,i))}),t._uU(2),t.qZA(),t.TgZ(3,"td",23),t.NdJ("click",function(){const n=t.CHM(o),e=n.index,i=n.$implicit,a=t.oxw();return t.KtG(a.showDetailForCheck(e,i))}),t._uU(4),t.qZA(),t.TgZ(5,"td",23),t.NdJ("click",function(){const n=t.CHM(o),e=n.index,i=n.$implicit,a=t.oxw();return t.KtG(a.showDetailForCheck(e,i))}),t.TgZ(6,"div"),t.YNc(7,Z,1,0,"span",24),t.YNc(8,T,1,0,"span",25),t.YNc(9,b,1,0,"span",26),t._uU(10),t.qZA()(),t.TgZ(11,"td",23),t.NdJ("click",function(){const n=t.CHM(o),e=n.index,i=n.$implicit,a=t.oxw();return t.KtG(a.showDetailForCheck(e,i))}),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"td",23),t.NdJ("click",function(){const n=t.CHM(o),e=n.index,i=n.$implicit,a=t.oxw();return t.KtG(a.showDetailForCheck(e,i))}),t._uU(15),t.ALo(16,"date"),t.qZA(),t.TgZ(17,"td",27),t.YNc(18,v,2,0,"button",28),t.TgZ(19,"button",29),t.NdJ("click",function(){const e=t.CHM(o).$implicit,i=t.oxw();return t.KtG(i.workFlowStatus(null==e?null:e.name,null==e?null:e._id))}),t._UZ(20,"img",30),t.qZA(),t.YNc(21,y,3,0,"div",31),t.YNc(22,A,3,0,"div",32),t.TgZ(23,"button",33),t.NdJ("click",function(){const e=t.CHM(o).$implicit,i=t.oxw();return t.KtG(i.clickedPause_Resume(null==e?null:e.name,null==e?null:e._id,"delete",null==e?null:e.state))}),t._UZ(24,"img",34),t.qZA()()()}if(2&l){const o=s.$implicit;t.xp6(2),t.Oqu(null==o?null:o.name),t.xp6(2),t.Oqu(null==o?null:o.description),t.xp6(3),t.Q6J("ngIf","Suspended"==(null==o?null:o.state)),t.xp6(1),t.Q6J("ngIf","In Progress"==(null==o?null:o.state)),t.xp6(1),t.Q6J("ngIf","Completed"==(null==o?null:o.state)),t.xp6(1),t.hij("",null==o?null:o.state," "),t.xp6(2),t.Oqu(null!=o&&o.start?t.xi3(13,11,null==o?null:o.start,"MM/dd/yyyy hh:mm a"):""),t.xp6(3),t.Oqu(null!=o&&o.end?t.xi3(16,14,null==o?null:o.end,"MM/dd/yyyy hh:mm a"):"N/A"),t.xp6(3),t.Q6J("ngIf","Suspended"==(null==o?null:o.state)||"In Progress"==(null==o?null:o.state)&&"Download SW/FW Image"==(null==o||null==o.actions[0]?null:o.actions[0].actionType)),t.xp6(3),t.Q6J("ngIf","Suspended"==(null==o?null:o.state)),t.xp6(1),t.Q6J("ngIf","Suspended"!==(null==o?null:o.state)&&"Completed"!==(null==o?null:o.state)&&"In Progress"==(null==o?null:o.state))}}function W(l,s){if(1&l){const o=t.EpF();t.TgZ(0,"tr")(1,"td",13),t.NdJ("click",function(){const e=t.CHM(o).$implicit,i=t.oxw();return t.KtG(i.go_details(null==e?null:e.start,null==e?null:e.succeededCount,null==e?null:e.failedCount,null==e?null:e.inProgressCount,null==e?null:e.pendingCount))}),t.TgZ(2,"p"),t._uU(3),t.ALo(4,"date"),t.qZA()(),t.TgZ(5,"td",13),t.NdJ("click",function(){const e=t.CHM(o).$implicit,i=t.oxw();return t.KtG(i.go_details(null==e?null:e.start,null==e?null:e.succeededCount,null==e?null:e.failedCount,null==e?null:e.inProgressCount,null==e?null:e.pendingCount))}),t.TgZ(6,"p",14),t._uU(7),t.ALo(8,"number"),t.qZA()(),t.TgZ(9,"td",13),t.NdJ("click",function(){const e=t.CHM(o).$implicit,i=t.oxw();return t.KtG(i.go_details(null==e?null:e.start,null==e?null:e.succeededCount,null==e?null:e.failedCount,null==e?null:e.inProgressCount,null==e?null:e.pendingCount))}),t.TgZ(10,"p",15),t._uU(11),t.qZA()(),t.TgZ(12,"td",13),t.NdJ("click",function(){const e=t.CHM(o).$implicit,i=t.oxw();return t.KtG(i.go_details(null==e?null:e.start,null==e?null:e.succeededCount,null==e?null:e.failedCount,null==e?null:e.inProgressCount,null==e?null:e.pendingCount))}),t.TgZ(13,"p",16),t._uU(14),t.qZA()(),t.TgZ(15,"td",13),t.NdJ("click",function(){const e=t.CHM(o).$implicit,i=t.oxw();return t.KtG(i.go_details(null==e?null:e.start,null==e?null:e.succeededCount,null==e?null:e.failedCount,null==e?null:e.inProgressCount,null==e?null:e.pendingCount))}),t.TgZ(16,"p",17),t._uU(17),t.qZA()(),t.TgZ(18,"td",13),t.NdJ("click",function(){const e=t.CHM(o).$implicit,i=t.oxw();return t.KtG(i.go_details(null==e?null:e.start,null==e?null:e.succeededCount,null==e?null:e.failedCount,null==e?null:e.inProgressCount,null==e?null:e.pendingCount))}),t.TgZ(19,"p",18),t._uU(20),t.qZA()(),t.TgZ(21,"td",13),t.NdJ("click",function(){const e=t.CHM(o).$implicit,i=t.oxw();return t.KtG(i.go_details(null==e?null:e.start,null==e?null:e.succeededCount,null==e?null:e.failedCount,null==e?null:e.inProgressCount,null==e?null:e.pendingCount))}),t.O4$(),t.TgZ(22,"svg",19),t._UZ(23,"path",20),t.qZA()()()}if(2&l){const o=s.$implicit;t.xp6(3),t.hij(" ",t.xi3(4,6,null==o?null:o.start,"MM/dd/yyyy hh:mm a"),""),t.xp6(4),t.hij(" ",o.succeededCount+o.failedCount?t.xi3(8,9,(o.succeededCount+o.failedCount)/(o.succeededCount+o.failedCount+o.inProgressCount+o.pendingCount)*100,"1.0-0"):"0"," % Completed"),t.xp6(4),t.hij(" ",null!=o&&o.succeededCount?null==o?null:o.succeededCount:"0","% Succeeded"),t.xp6(3),t.hij(" ",null!=o&&o.failedCount?null==o?null:o.failedCount:"0","% Faild"),t.xp6(3),t.hij(" ",null!=o&&o.inProgressCount?null==o?null:o.inProgressCount:"0","% In Progress"),t.xp6(3),t.hij(" ",null!=o&&o.pendingCount?null==o?null:o.pendingCount:"0","% Pending")}}function O(l,s){if(1&l&&(t.TgZ(0,"tr")(1,"td")(2,"span",25)(3,"a"),t._uU(4),t.qZA()()(),t.TgZ(5,"td")(6,"span"),t._uU(7),t.qZA()(),t.TgZ(8,"td")(9,"span"),t._uU(10),t.qZA()(),t.TgZ(11,"td")(12,"span"),t._uU(13),t.qZA()(),t.TgZ(14,"td",26)(15,"div",27)(16,"p"),t._uU(17),t.qZA(),t.TgZ(18,"p",28),t._uU(19),t.qZA()()(),t.TgZ(20,"td"),t._uU(21),t.ALo(22,"date"),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.ALo(25,"date"),t.qZA()()),2&l){const o=s.$implicit;t.xp6(4),t.Oqu(o.serialNumber?o.serialNumber:""),t.xp6(3),t.Oqu(o.ipAddress?o.ipAddress:""),t.xp6(3),t.Oqu(o.modelName?o.modelName:""),t.xp6(3),t.Oqu(o.softwareVersion?o.softwareVersion:""),t.xp6(4),t.Oqu(o.state?o.state:""),t.xp6(2),t.Oqu("myCommunityIQ Bulk Activation failed"===(null==o?null:o.failureSummary)?"SmartTown Wi-Fi Bulk Activation failed":"myCommunityIQ Bulk Activation is pending"===(null==o?null:o.failureSummary)?"SmartTown Wi-Fi Bulk Activation is pending":o.failureSummary),t.xp6(2),t.hij(" ",t.xi3(22,8,o.start,"MM/dd/yyyy hh:mm:ss a")," "),t.xp6(3),t.hij(" ",t.xi3(25,11,o.end,"MM/dd/yyyy hh:mm:ss a")," ")}}function I(l,s){if(1&l&&(t.TgZ(0,"div")(1,"table",21)(2,"thead")(3,"tr")(4,"th",22),t._uU(5,"FSAN/Serial Number"),t.qZA(),t.TgZ(6,"th",23),t._uU(7,"IP Address"),t.qZA(),t.TgZ(8,"th",23),t._uU(9,"Model"),t.qZA(),t.TgZ(10,"th",23),t._uU(11,"Current Software Image Version"),t.qZA(),t.TgZ(12,"th",23),t._uU(13,"Status"),t.qZA(),t.TgZ(14,"th",24),t._uU(15,"Start Time"),t.qZA(),t.TgZ(16,"th",24),t._uU(17,"End Time"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,O,26,14,"tr",11),t.qZA()()()),2&l){const o=t.oxw();t.xp6(1),t.Q6J("dtOptions",o.tableFilterOptions),t.xp6(18),t.Q6J("ngForOf",o.workflowhistory)}}const S=[{path:"",component:(()=>{class l{constructor(o,r,n){this.operationService=o,this.http=r,this.router=n,this.loader=!1,this.dtOptions={pagingType:"full_numbers",dom:"t",ordering:!0,paging:!1,searching:!1,lengthChange:!1,drawCallback:e=>{e.aoData.length<=e._iDisplayLength&&$(e.nTableWrapper).find("#workflow-table_last").addClass("disabled")}},this.okay=!1,this.confiromButtonEnDis=!0,this.renderTable=!0,this.apiErroMsgclose=!1,this.crudErrorMessage="",this.workFlowObj={name:"",orgId:"",fullGroupExecute:"",description:"",bPriorNewAndFailed:"",actions:[{actionType:"",fileId:"",profileName:""}],groups:[""]},this.orgId=localStorage.getItem("OrgId"),this.header=(new p.WM).set("X-Calix-AccessToken",`${localStorage.getItem("access_token")}`).set("X-Calix-ClientID","kK1cJ0mRp7iSmTFt3vAGO44vobsu36op")}ngOnInit(){this.workFlowsApi()}workFlowsApi(){this.loader=!0,this.http.get(`https://stage.api.calix.ai/v1/csc/netops-wf/workflow?orgId=${this.orgId}&excludeOnBoot=true`,{headers:this.header}).subscribe(o=>{this.workFlowData=o,this.loader=!1})}workFlowStatus(o,r){this.router.navigate(["/workflow/workflow-status"],{queryParams:{item:r,name:o}})}createNewWorkflow(){this.router.navigate(["/workflow/newWorkFlow"],{queryParams:{isNewwrkflw:!0}})}erroMesTapOkay(){this.okay=!this.okay}apiErrorMessage(){this.apiErroMsgclose=!this.apiErroMsgclose}clickedPause_Resume(o,r,n,e){this.confiromButtonEnDis=!0,"delete"==n&&"In Progress"==e?(this.confiromButtonEnDis=!1,this.crudErrorMessage=`Workflow "${o}" is currently in progress, please suspend the workflow before delete`):this.crudErrorMessage=`Are you sure you want to ${n} the workflow ${r}?`,this.okay=!0,this.operation=n,this.toDoName=o,this.toDoId=r,this.currentState=e,alert(e)}toSuspendConfirm(){"delete"!==this.operation?this.http.put(`https://stage.api.calix.ai/v1/csc/netops-wf/workflow/${this.toDoId}/${this.operation}`,"",{headers:this.header}).subscribe(o=>{this.workFlowsApi(),this.okay=!1},o=>{this.erroMesTapOkay(),this.apiErroMsgclose=!0,this.apiErroMsg=o.error.error}):"delete"==this.operation&&this.http.delete(`https://stage.api.calix.ai/v1/csc/netops-wf/workflow/${this.toDoId}`,{headers:this.header}).subscribe(o=>{this.workFlowsApi(),this.okay=!1},o=>{this.erroMesTapOkay(),this.apiErroMsgclose=!0,this.apiErroMsg=o.error.error})}showDetailForCheck(o,r){this.router.navigate(["/workflow/newWorkFlow"],{queryParams:{review:!0,id:r._id}})}toEditSubscriber(o){this.router.navigate(["/workflow/newWorkFlow"],{queryParams:{edit:!0,id:o._id}})}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(w.l),t.Y36(p.eN),t.Y36(d.F0))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-workflows"]],decls:27,vars:5,consts:[["id","workflowFullDiv"],[1,"btn","btn-primary",2,"border-radius","28px",3,"click"],["style","background-color: #FFF5F5;","id","sysgroups","class","d-flex",4,"ngIf"],["style","background-color: #FFF5F5;","id","sysgroups","class","d-flex",3,"click",4,"ngIf"],[4,"ngIf"],[1,"table-responsive"],["id","workflowTable","datatable","",1,"table","table-striped","table-hover","row-border","hover",3,"dtOptions"],[4,"ngFor","ngForOf"],["id","sysgroups",1,"d-flex",2,"background-color","#FFF5F5"],[2,"position","relative","top","5px"],["src","../../../assets/imgfile/ic_warning-36px.svg","alt",""],["id","top",1,"p-1"],[2,"margin-top","10px"],["style","position: relative; right: -1000px; top: 10px;",4,"ngIf"],[2,"position","relative","right","-1010px","top","10px"],[1,"btn",2,"border-radius","28px","border","1px solid black",3,"click"],[2,"position","relative","right","-1000px","top","10px"],["id","sysgroups",1,"d-flex",2,"background-color","#FFF5F5",3,"click"],["src","../../../assets/imgfile/ic_error-svg-xcircle.svg","alt",""],[1,"p-1"],[1,"btn","btn-close",2,"border-radius","28px","border","1px solid black",3,"click"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[3,"click"],["class","dot",4,"ngIf"],["class","dotInProgress",4,"ngIf"],["class","dotComplete",4,"ngIf"],[1,"d-flex",2,"padding","2px"],["title","Edit","class","btn",3,"click",4,"ngIf"],["title","List",1,"btn",3,"click"],["src","../../../assets/imgfile/list.svg","alt",""],["title","Resume",4,"ngIf"],["title","Pause",4,"ngIf"],["title","Delete",1,"btn",3,"click"],["src","../../../assets/imgfile/net-delete-svg.svg","alt",""],[1,"dot"],[1,"dotInProgress"],[1,"dotComplete"],["title","Edit",1,"btn",3,"click"],["src","../../../assets/imgfile/net-edit-svg.svg","alt",""],["title","Resume"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-play",2,"margin-top","13px",3,"click"],["d","M10.804 8 5 4.633v6.734L10.804 8zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692z"],["title","Pause"],["width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pause",2,"margin-top","13px",3,"click"],["d","M6 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5zm4 0a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z"]],template:function(o,r){1&o&&(t.TgZ(0,"div")(1,"div",0)(2,"button",1),t.NdJ("click",function(){return r.createNewWorkflow()}),t._uU(3,"New Workflow"),t.qZA(),t._UZ(4,"br"),t.YNc(5,k,10,2,"div",2),t.YNc(6,x,8,1,"div",3),t._UZ(7,"br")(8,"br"),t.YNc(9,C,3,0,"div",4),t.TgZ(10,"div",5)(11,"table",6)(12,"thead")(13,"tr")(14,"th"),t._uU(15,"Name"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Description"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Current State"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Start Time"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"End Time"),t.qZA(),t._UZ(24,"th"),t.qZA()(),t.TgZ(25,"tbody"),t.YNc(26,M,25,17,"tr",7),t.qZA()()()()()),2&o&&(t.xp6(5),t.Q6J("ngIf",r.okay),t.xp6(1),t.Q6J("ngIf",r.apiErroMsgclose),t.xp6(3),t.Q6J("ngIf",r.loader),t.xp6(2),t.Q6J("dtOptions",r.dtOptions),t.xp6(15),t.Q6J("ngForOf",r.workFlowData))},dependencies:[c.sg,c.O5,_.G,c.uU],styles:['.dot[_ngcontent-%COMP%]{height:8px;width:8px;background-color:#3292ff;border-radius:50%;display:inline-block}.dotInProgress[_ngcontent-%COMP%]{height:8px;width:8px;background-color:#507500;border-radius:50%;display:inline-block}.dotComplete[_ngcontent-%COMP%]{height:8px;width:8px;background-color:gray;border-radius:50%;display:inline-block}#workflowFullDiv[_ngcontent-%COMP%]{margin-top:200px;margin-left:200px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{padding:5px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}#play-pause[_ngcontent-%COMP%]{display:none}label[_ngcontent-%COMP%]{cursor:pointer}#play-pause[_ngcontent-%COMP%]:checked + #play-pause-label[_ngcontent-%COMP%]:after{content:"\\2759\\2759"}#play-pause-label[_ngcontent-%COMP%]:after{content:"\\25ba"}.workflow-next-previous[_ngcontent-%COMP%]{position:absolute;top:197px;right:50px}']}),l})()},{path:"workflow-status",component:(()=>{class l{constructor(o,r,n){this.http=o,this.router=r,this.route=n,this.dtOptions={},this.tableFilterOptions={},this.filtereTable=!1,this.orgId=localStorage.getItem("OrgId"),this.header=(new p.WM).set("X-Calix-AccessToken",`${localStorage.getItem("access_token")}`).set("X-Calix-ClientID","kK1cJ0mRp7iSmTFt3vAGO44vobsu36op")}ngOnInit(){this.router.queryParams.subscribe(o=>{this.item=o.item,this.name=o.name}),this.historyWorkFlowApi(),this.fetchWorkFlowExcLogs()}historyWorkFlowApi(){this.dtOptions={serverSide:!0,lengthChange:!1,ordering:!1,pagingType:"full_numbers",searching:!1,pageLength:10,ajax:(o,r)=>{this.http.get(`https://stage.api.calix.ai/v1/csc/netops-wf/workflow/history?orgId=${this.orgId}&workflowId=${this.item}&limit=10&skip=0`,{headers:this.header}).subscribe(n=>{console.log(n),this.historyWorkFlowData=n,r({recordsTotal:n.length,recordsFiltered:n.length,data:[]})},n=>{})}}}fetchWorkFlowExcLogs(){this.tableFilterOptions={pagingType:"full_numbers",pageLength:20,serverSide:!0,processing:!1,dom:"tip",responsive:!0,columnDefs:[{targets:[5,6],orderable:!0},{type:"date",targets:[5,6]}],order:[[5,"desc"]],ajax:(o,r)=>{let n=encodeURIComponent(JSON.stringify({end:-1})),i=o.order[0].dir;n=6==o.order[0].column?"asc"==i?encodeURIComponent(JSON.stringify({end:1})):encodeURIComponent(JSON.stringify({end:-1})):"asc"==i?encodeURIComponent(JSON.stringify({start:1})):encodeURIComponent(JSON.stringify({start:-1}));let a=new p.LE;a=a.set("orgId",String(this.orgId)),a=a.set("skip",o.start),a=a.set("limit",o.length),a=a.set("workflowId",this.item),a=a.set("execId",this.execId),this.workflowhistory=[],this.http.get(`https://stage.api.calix.ai/v1/csc/netops-wf/workflow-exec-logs?orderby= ${n}, ${a}`,{headers:this.header}).subscribe(g=>{g&&(this.workflowhistory=g),r({recordsTotal:g.length,recordsFiltered:g.length,data:[]})})}}}refreshButton(){this.dtElement.dtInstance.then(o=>{o.ajax.reload()})}go_details(o,r,n,e,i){this.execId=o,console.log({execId:o,Succeeded:r,Failed:n,InProgress:e,Pending:i}),this.filtereTable=!0}closeWorkFlowStatus(){this.route.navigate(["/workflow"])}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(p.eN),t.Y36(d.gz),t.Y36(d.F0))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-workflow-status"]],viewQuery:function(o,r){if(1&o&&t.Gf(_.G,5),2&o){let n;t.iGM(n=t.CRH())&&(r.dtElement=n.first)}},decls:32,vars:4,consts:[["id","workflowFullDiv"],[1,"d-flex","row"],[1,"col-3"],[2,"font-size","40px"],[1,"col-1"],[1,"btn","btn-primary",2,"border-radius","28px",3,"click"],[2,"border-radius","28px","padding","5px"],[1,"col-6"],[1,"btn","btn-close",3,"click"],["datatable","",1,"row-border","hover",3,"dtOptions"],[2,"font-size","15px"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"],[2,"color","black"],[2,"color","rgb(6, 209, 6)"],[2,"color","red"],[2,"color","blue"],[2,"color","orange"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-right-short"],["fill-rule","evenodd","d","M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"],["id","workflow-status-info-table","width","100%","datatable","",1,"row-border","hover","table-alter","dataTable","failed-table",3,"dtOptions"],["data-orderable","false",1,"w-12"],["data-orderable","false",1,"w-10"],[1,"w-10"],[1,"serial_a"],[1,"max-w-300px"],[1,"failed-msg"],[1,"text-break"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),t._uU(4," Workflow Status "),t.qZA()(),t.TgZ(5,"div",4)(6,"button",5),t.NdJ("click",function(){return r.refreshButton()}),t._uU(7,"Refresh Data"),t.qZA()(),t.TgZ(8,"div",4)(9,"button",6),t._uU(10,"Export Data"),t.qZA()(),t._UZ(11,"div",7),t.TgZ(12,"div",4)(13,"button",8),t.NdJ("click",function(){return r.closeWorkFlowStatus()}),t.qZA()()(),t.TgZ(14,"div")(15,"p",3),t._uU(16),t.qZA()(),t.TgZ(17,"table",9)(18,"thead")(19,"tr",10)(20,"th"),t._uU(21,"Start Time"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Satus"),t.qZA(),t._UZ(24,"th")(25,"th")(26,"th")(27,"th")(28,"th"),t.qZA()(),t.TgZ(29,"tbody"),t.YNc(30,W,24,12,"tr",11),t.qZA()(),t.YNc(31,I,20,2,"div",12),t.qZA()),2&o&&(t.xp6(16),t.hij(" ",r.name," "),t.xp6(1),t.Q6J("dtOptions",r.dtOptions),t.xp6(13),t.Q6J("ngForOf",r.historyWorkFlowData),t.xp6(1),t.Q6J("ngIf",r.filtereTable))},dependencies:[c.sg,c.O5,_.G,c.JJ,c.uU],styles:["#workflowFullDiv[_ngcontent-%COMP%]{margin-top:200px;margin-left:200px}  table.dataTable td.dataTables_empty{display:none}.no-data-available[_ngcontent-%COMP%]{text-align:center}"]}),l})()},{path:"newWorkFlow",component:u(3495).y}];let N=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[d.Bz.forChild(S),d.Bz]}),l})();var m=u(4006),J=u(8796);let P=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[c.ez,N,_.T,m.u5,m.UX,J.A0]}),l})()}}]);