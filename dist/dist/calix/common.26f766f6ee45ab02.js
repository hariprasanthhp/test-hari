"use strict";(self.webpackChunklogin_module=self.webpackChunklogin_module||[]).push([[592],{8159:(h,u,n)=>{n.d(u,{w:()=>_});var c=n(529),t=n(1571),r=n(4006),l=n(9371),d=n(6895);function a(o,g){1&o&&(t.TgZ(0,"div")(1,"label",4),t._uU(2,"Password"),t.qZA(),t.TgZ(3,"tr")(4,"td"),t._UZ(5,"input",8),t.qZA(),t._UZ(6,"br")(7,"br"),t.qZA()())}function p(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.checkName())}),t._uU(1,"Next"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.disabled)}}function m(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.tokenApiFun())}),t._uU(1,"Sign In"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.signInDisabled)}}let _=(()=>{class o{constructor(e,s,i){this.fb=e,this.http=s,this.route=i,this.errMessage="",this.disabled=!1,this.signInDisabled=!1,this.passwordDiv=!1,this.checkNameBtn=!0,this.signInBtn=!1,console.log("constructor log")}ngOnInit(){this.loginData=this.fb.group({name:[""],password:[""]})}checkName(){if(this.errMessage="",this.loginData?.value?.name.trim()){this.disabled=!0;var e=(new c.WM).set("X-Calix-AccessToken","token").set("X-Calix-ClientID","kK1cJ0mRp7iSmTFt3vAGO44vobsu36op");this.http.get(`https://stage.api.calix.ai/v1/authentication/usertype?username=${this.loginData?.value?.name}`,{headers:e}).subscribe(s=>{console.log(s.success),"sf"===s.success?this.route.navigate(["calixemployee"]):this.passwordDiv=!0,"local"===s.success&&(this.signInBtn=!0,this.checkNameBtn=!1),this.signInDisabled=!1})}else this.errMessage="Missing Username"}tokenApiFun(){if(this.loginData?.value?.name&&(this.loginData?.value?.name||this.loginData?.value?.password))if(this.loginData?.value?.password){localStorage.setItem("name",this.loginData?.value?.name.trim()),localStorage.setItem("password",this.loginData?.value?.password),this.signInDisabled=!0;var e=(new c.LE).set("grant_type","password").set("username",this.loginData?.value?.name.trim()).set("password",this.loginData?.value?.password).set("client_secret","6QcEcYE6c3kZCklO");let s=(new c.WM).set("X-Calix-ClientID","kK1cJ0mRp7iSmTFt3vAGO44vobsu36op").set("Content-Type","application/x-www-form-urlencoded");this.http.post("https://stage.api.calix.ai/v1/authentication/token",e,{headers:s}).subscribe(i=>{console.log(i);let f=JSON.stringify(i);localStorage.setItem("token",f),localStorage.setItem("OrgId",i.OrgId),localStorage.setItem("access_token",i.access_token),localStorage.setItem("UserId",i.UserId),this.route.navigate(["home"])},i=>{this.errMessage="Invalid Username/Password",this.loginData.patchValue({name:this.loginData?.value?.name.trim(),password:""}),this.passwordDiv=!1,this.signInBtn=!1,this.disabled=!1,this.checkNameBtn=!0})}else this.errMessage="Please enter Password";else this.passwordDiv=!1,this.signInBtn=!1,this.disabled=!1,this.checkNameBtn=!0,this.errMessage="Missing Username",this.loginData.patchValue({name:"",password:""})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(c.eN),t.Y36(l.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login-module"]],decls:19,vars:5,consts:[[1,"container-fluid",2,"background-size","cover","height","1050px","width","100%","background-image","url(../../assets/imgfile/dark-bg.png)"],["id","logo","src","../../assets/imgfile/login-logo.svg","alt",""],["id","formDiv",3,"formGroup"],[2,"background-color","red","color","white","width","fit-content","border-radius","4px"],["for",""],["type","text","name","","id","","formControlName","name",1,"form-control"],[4,"ngIf"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","password","name","","id","","placeholder","Password","formControlName","password",1,"form-control"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"form",2)(3,"p",3),t._uU(4),t.qZA(),t.TgZ(5,"table")(6,"label",4),t._uU(7,"User Name"),t.qZA(),t.TgZ(8,"tr")(9,"td"),t._UZ(10,"input",5),t.qZA()(),t._UZ(11,"br"),t.YNc(12,a,8,0,"div",6),t.TgZ(13,"tr")(14,"td"),t.YNc(15,p,2,1,"button",7),t.qZA()(),t.TgZ(16,"tr")(17,"td"),t.YNc(18,m,2,1,"button",7),t.qZA()()()()()),2&e&&(t.xp6(2),t.Q6J("formGroup",s.loginData),t.xp6(2),t.Oqu(s.errMessage),t.xp6(8),t.Q6J("ngIf",s.passwordDiv),t.xp6(3),t.Q6J("ngIf",s.checkNameBtn),t.xp6(3),t.Q6J("ngIf",s.signInBtn))},dependencies:[d.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:["#formDiv[_ngcontent-%COMP%]{position:relative;top:100px;left:40px}#logo[_ngcontent-%COMP%]{position:relative;top:50px}"]}),o})()},2661:(h,u,n)=>{n.d(u,{l:()=>r});var c=n(529),t=n(1571);let r=(()=>{class l{constructor(a){this.http=a,this.orgId=localStorage.getItem("OrgId"),this.header=(new c.WM).set("X-Calix-AccessToken",`${localStorage.getItem("access_token")}`).set("X-Calix-ClientID","kK1cJ0mRp7iSmTFt3vAGO44vobsu36op")}ngOnInit(){this.configurationProfile(),this.workFlowsApi()}countApiFunction(){this.http.get("https://stage.api.calix.ai/v1/csc/netops-config/configuration-category/count",{headers:this.header}).subscribe(a=>a)}configurationProfile(){this.http.get(`https://stage.api.calix.ai/v1/csc/netops-config/configuration-profile?orgId=${this.orgId}`,{headers:this.header}).subscribe(a=>(console.log(a),this.configurationProfileData=a))}workFlowsApi(){this.http.get(`https://stage.api.calix.ai/v1/csc/netops-wf/workflow?orgId=${this.orgId}&excludeOnBoot=true`,{headers:this.header}).subscribe(a=>{this.workFlowData=a})}}return l.\u0275fac=function(a){return new(a||l)(t.LFG(c.eN))},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);