<div class="w-100 alert alert-danger fade show" *ngIf="error">
    <span class="error-img"><img src="./assets/img/ic_error-36px.svg" /></span>
    <button type="button" class="close" (click)="closeAlert()">
        <span></span>
    </button>
    <div class="d-inline-flex" [innerHtml]="errorInfo"></div>
</div>

<div class="w-100 alert alert-success fade show" *ngIf="success">
    <span class="success-img"><img src="./assets/img/success-icon.svg" /></span>
    <button type="button" class="close" (click)="closeAlert()">
        <span></span>
    </button>
    <div [innerHtml]="successInfo"></div>
</div>
<div class="loader" *ngIf="loading">
    <div class="d-flex justify-content-center">
        <div class="spinner-border text-primary">
            <span class="sr-only">{{language.Loading}}</span>
        </div>
    </div>
</div>
<!-- <section class="service-section" *ngIf="isPRConfiguredOutside">
    <div class="system-details-item-full">
        <div class="alert alert-info margin-top-20" role="alert">
            <span>{{language['Services for this system are managed outside of Operations Cloud']}}</span>
        </div>
    </div>
</section> -->
<section class="service-section" >
    <form class="ccl-form needs-validation" [formGroup]="serviceForm" autocomplete="off">
        <div class="row">

            <div class="col-lg-4 col-md-4 col-sm-6" formGroupName="data">
                <div class="row title-holder">
                    <div class="d-inline-flex mr-3">

                        {{language.Data}}

                    </div>
                    <div class="d-inline-flex">
                        <div class="form-group ccl-form" >

                            <div class="toggle-swtbtn checkbox switcher mr-2">
                                <label for="Service1">
                                    <input type="checkbox" id="Service1"
                                        (change)="serviceChange();disableChange('data')" formControlName="Enable">
                                    <span>
                                        <small></small></span></label>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="content">
                    <!--end form-group-->
                    <div class="form-group ccl-form" *ngIf="serviceForm.value.data.Enable === true">
                        <div class="ccl-form">
                            <label class="modant">{{language['Data Plan']}} <span class="required">*</span></label>
                            <ng-select [items]="DataPlanItem" bindLabel="name" bindValue="name" [multiple]="false"
                                placeholder="{{language['Data Plan']}}" formControlName="usoc"
                                (change)="serviceChange();dataPlanItem(false)"
                                [ngClass]=" { 'is-invalid' : submitted && !serviceForm.value.data.usoc  }"
                                [clearable]="true" [searchable]="true">
                            </ng-select>
                            <div *ngIf="submitted && !serviceForm.value.data.usoc" class="invalid-feedback">
                                <small class="error">
                                    {{language['This field is required']}}</small>
                            </div>
                        </div>


                    </div>
                    <div class="ccl-form" *ngIf="!HideCvlan && serviceForm.value.data.Enable === true">
                        <label for="cevlan">{{language['C-VLAN']}}</label>
                        <input type="text" class="form-control" (keyup)="lanValidate('data', 'cVlan')" min="1"
                            max="4093" maxlength="4"
                            oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..?)\../g, '$1');"
                            formControlName="cVlan" #cevlan3 placeholder="C-VLAN" (change)="serviceChange()" required>
                        <div *ngIf="!dataFormValidate.cVlan">
                            <div *ngIf="serviceForm.value.data.cVlan">
                                <small class="error">
                                    {{language['Please enter a value between 1 and 4093']}}</small>
                            </div>
                        </div>
                        <!-- <div *ngIf="submitted && !serviceForm.value.data.cVlan">
                            <small class="error">
                                {{language['This field is required']}}</small>
                        </div> -->
                    </div>
                    <div class="ccl-form form-group" *ngIf="serviceForm.value.data.Enable === true && isCOC">
                        <label for="cevlan">{{language.port}}</label>
                        <ng-select bindValue="value" [items]="interfaceRGItem " bindLabel="name" [multiple]="false"
                            placeholder="{{language.port}}"  formControlName="interface"
                            (change)="serviceChange();interfaceChange();RGMemberItemdata()" [clearable]="true"
                            [searchable]="false">
                        </ng-select>
                    </div>
                    <div class="ccl-form" *ngIf="serviceForm.value.data.Enable === true">
                        <label for="Description">{{language['Notes']}}</label>
                        <textarea type="text" class="form-control min-h-85" placeholder="{{language['Notes']}}" id="description1"
                        formControlName="note" minlength="0" maxlength="128"></textarea>
                           <p id="the-count" class="text-right">
                            <span id="maximum">{{serviceForm.value.data.note.length}}/128</span>
                           </p>
                         <!-- <div *ngIf="submitted &&!serviceForm.value.data.note" >
                            <small class="error">
                                {{language['This field is required']}}
                            </small>
                        </div>  -->
                    </div>
                    <div class="form-check my-2" *ngIf="serviceForm.value.data.Enable &&provisionOntService && isCOC">
                        <input class="form-check-input check-box-ui" type="checkbox"
                          formControlName="isOntService" id="defaultCheck2" > 
                        <label class="form-check-label cursor-pointer" for="defaultCheck2">
                          <span>{{language['Provision ONT Services']}} </span>
                        </label>
                      </div>
                    <div class="ccl-form"
                    *ngIf="isCOC &&(serviceForm.value.data.interface === 'RG F1'|| serviceForm.value.data.interface === 'RG F1')">
                    <label for="exampleFormControlInput1">{{language.Member_ports}}</label>
                    <ng-select bindValue="name" [items]="RGMemberportData" bindLabel="name"
                        placeholder="{{language.Member_ports}}" formControlName="memberPorts"
                        [multiple]="true" (change)="serviceChange();" [readonly]="true">
                    </ng-select>
                    </div>

                    <!-- <div class="ccl-form" *ngIf="serviceForm.value.data.Enable === true && !isCOC">
                        <label for="exampleFormControlInput1">{{language.port}}</label>
                        <ng-select bindValue="value" [items]="interfaceRGItem" bindLabel="name" bindValue="value"
                            [multiple]="false" placeholder="{{language.port}}" formControlName="interface"
                            (change)="serviceChange()" [clearable]="true" [searchable]="false">
                        </ng-select>
                    </div> -->
                    <!--end form-group-->
                    <div class="form-group ccl-form my-2" *ngIf="serviceForm.value.data.Enable === true">

                        <div class="my-2" (click)="showAdvancedForm('data')"
                            *ngIf="serviceForm.value.data.Enable === true">
                            <a class="btn-link primary cursor-pointer" [ngClass]="advancedForms ? 'adshow': '' ">
                                {{language['IP Addressing']}} <img src="../assets/img/ic_chevrondown_blue.svg">
                            </a>
                        </div>
                        <!-- <div class="ccl-form" *ngIf="advancedForms && showIPAdress">
                            <label for="cevlan">{{language['IP Address Family']}}</label>

                            <ng-select [searchable]="false" placeholder="" formControlName="staticIpAddressFamily"
                                id="ipAddressFamily1" (change)="serviceChange();ipAdressChange(); ">
                                <ng-option value="dualstack">{{language.dualstack}}</ng-option>
                                <ng-option value="ipv4">IPv4 </ng-option>
                                <ng-option value="ipv6">IPv6</ng-option>
                            </ng-select>
                        </div> -->
                        <div class="ccl-form" *ngIf="advancedForms && EnableStatic ">
                            <label for="cevlan">{{language['Static IP Address']}}</label>
                            <input type="text" class="form-control" id="Address" formControlName="staticIpAddress"
                                (keyup)="IPValidation('data','staticIpAddress')"
                                placeholder="{{language['Static IP Address']}}"
                                (change)="serviceChange();requiredFieldChange()" trimSpace [formValue]="serviceForm">
                            <div *ngIf="!dataFormValidate.staticIpAddress">
                                <div *ngIf="serviceForm.value.data.staticIpAddress">
                                    <small class="error">{{ language["Please enter a valid IP address"]
                                        }}</small>
                                </div>
                            </div>
                        </div>
                        <div class="ccl-form" *ngIf="advancedForms && EnableStatic">
                            <label for="cevlan">{{language.Netmask}} </label>
                            <input type="text" class="form-control" id="netmask" formControlName="staticNetmask"
                                (keyup)="IPValidation('data','staticNetmask')" placeholder="{{language.Netmask}}"
                                (change)="serviceChange();requiredFieldChange()" trimSpace [formValue]="serviceForm">
                            <div *ngIf="!dataFormValidate.staticNetmask">
                                <div *ngIf="serviceForm.value.data.staticNetmask">
                                    <small class="error">{{ language["Please enter a valid Netmask"]
                                        }}</small>
                                </div>
                            </div>
                        </div>
                        <div class="ccl-form" *ngIf="advancedForms && EnableStatic">
                            <label for="cevlan">{{language.Gateway}}</label>
                            <input type="text" class="form-control" id="gateway" formControlName="staticGateway"
                                (keyup)="IPValidation('data','staticGateway')" placeholder="{{language.Gateway}}"
                                (change)="serviceChange();requiredFieldChange()" trimSpace [formValue]="serviceForm">
                            <div *ngIf="!dataFormValidate.staticGateway">
                                <div *ngIf="serviceForm.value.data.staticGateway">
                                    <small class="error">{{ language["Please enter a valid IP address"]
                                        }}</small>
                                </div>
                            </div>
                        </div>

                        <div class="my-2" (click)="EnableRgMode('data')">
                            <a class="btn-link primary cursor-pointer" [ngClass]="enableadditionaldata ? 'adshow':''">
                                {{language['PPPoE Credentials']}} <img src="../assets/img/ic_chevrondown_blue.svg"> </a>
                        </div>
                        <!-- <div class="" (click)="EnableRgMode('data')" *ngIf="enableadditionaldata">
                            <a class="btn-link primary" style="cursor: pointer;">Standalone RG</a>
                        </div> -->
                        <!-- <div class="ccl-form"
                            *ngIf="enableadditionaldata  && this.serviceForm.value.data.interface === 'G1'">
                            <label class="modant">PPPoE
                                Username</label>
                            <input type="text" class="form-control" formControlName="pppoeUsername"
                                (change)="serviceChange();" autocomplete="new-password" id="pppoeUsername1"
                                placeholder="PPPoE Username" [readonly]="!pppoeusenameRequiredData" />
                        </div> -->

                        <!--end form group-->
                        <!-- <div class="ccl-form password"
                            *ngIf="enableadditionaldata && this.serviceForm.value.data.interface === 'G1'"
                            style="position: relative;">
                            <label class="modant">PPPoE Password </label>
                            <input class="form-control" id="pppoePassword1" placeholder="PPPoE Password"
                                [type]="hidepwd ? 'password' : 'text'" autocomplete="new-password"
                                formControlName="pppoePassword" (change)="serviceChange();"
                                [readonly]="!pppoePasswordRequiredData">
                            <span class="see_pass fas pointer" [ngClass]="hidepwd ? 'fa-eye-slash' : 'fa-eye'"
                                (click)="showPass()"></span>
                        </div> -->
                        <!-- <div class="" (click)="EnableRgMode('data')" *ngIf="enableadditionaldata">
                            <a class="btn-link primary" style="cursor: pointer;">Integrated RG/ONT</a>
                        </div> -->
                        <div class="ccl-form" *ngIf="enableadditionaldata ">
                            <label class="modant">{{language.PPPoE_Username}}</label>
                            <input type="text" class="form-control" formControlName="pppoeUsername"
                                (keyup)="usernamechange()" (change)="serviceChange();" autocomplete="new-password"
                                id="pppoeUsername1" placeholder="{{language.PPPoE_Username}}"
                                [readonly]="!pppoeusenameRequiredData" trimSpace [formValue]="serviceForm" />
                            <div *ngIf="passwordError">
                                <div *ngIf="passwordError">
                                    <small class="error">{{language['Please Enter a Username']}}</small>
                                </div>
                            </div>
                        </div>

                        <!--end form group-->
                        <div class="ccl-form password position-relative" *ngIf="enableadditionaldata">
                            <label class="modant">{{language.PPPoE_Password}} </label>
                            <input class="form-control" id="pppoePassword1" placeholder="{{language.PPPoE_Password}}"
                                [type]="isPwdVisible.PPPoE ? 'password' : 'text'" autocomplete="new-password"
                                formControlName="pppoePassword" (change)="serviceChange();"
                                [readonly]="!pppoePasswordRequiredData">
                            <span class="pwd-field-icon"
                                [ngClass]="isPwdVisible.PPPoE ? 'password_hide' : 'password_view'"
                                (click)="isPwdVisible.PPPoE = !isPwdVisible.PPPoE"></span>
                        </div>
                        <div class="ccl-form my-2" (click)="EnableOverrides('data')"
                            *ngIf="serviceForm.value.data.Enable === true && isCOC">
                            <a class="btn-link primary cursor-pointer" [ngClass]="enableoverrides ? 'adshow':''" id="data-ont-overrides">
                                {{language['ONT Overrides']}} <img src="../assets/img/ic_chevrondown_blue.svg"></a>
                        </div>
                        <div *ngIf="enableoverrides">
                            <div class="ccl-form"
                                *ngIf="enableoverrides && serviceForm.value.data.interface =='RG F1' ">
                                <label for="cevlan">{{language.Interface}}</label>
                                <ng-select bindValue="value" [items]="interfaceRGItem" bindLabel="name" [multiple]="false"
                                    placeholder="{{language.InterFace}}" formControlName="interface1"
                                    (change)="serviceChange();interfaceChange()" [clearable]="true"
                                    [searchable]="false">
                                </ng-select>
                            </div>
                            <div class="ccl-form" *ngIf="enableoverrides">
                                <label for="cevlan">{{language['S-VLAN']}} </label>
                                <input type="text" class="form-control" (keyup)="lanValidate('data', 'sVlan')" min="1"
                                    max="4093" maxlength="4" formControlName="sVlan" #cevlan4
                                    oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..?)\../g, '$1');"
                                    placeholder="S-VLAN" (change)="serviceChange()" required trimSpace
                                    [formValue]="serviceForm">
                                <div *ngIf="!dataFormValidate.sVlan">
                                    <div *ngIf="serviceForm.value.data.sVlan ">
                                        <small class="error">
                                            {{language['Please enter a value between 1 and 4093']}}</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="ccl-form"
                    *ngIf="isCOC &&(serviceForm.value.data.port === 'ONT F1'|| serviceForm.value.data.interface === 'ONT F1')">
                    <label for="exampleFormControlInput1">{{language.Member_ports}}</label>
                    <ng-select bindValue="name" [items]="ONTmemberports" bindLabel="name"
                        placeholder="{{language.Member_ports}}" formControlName="memberPorts" [multiple]="true"
                        (change)="serviceChange()">
                    </ng-select>
                </div>
                </div>

            </div>
            <!--end col-->
            <div class="col-lg-4 col-md-4 col-sm-6" formGroupName="voice">
                <div class="row title-holder">
                    <div class="d-inline-flex mr-3">
                        {{language.Voice}}
                    </div>
                    <div class="d-inline-flex">
                        <div class="form-group ccl-form">

                            <div class="toggle-swtbtn checkbox switcher mr-2">
                                <label for="voiceSer1">
                                    <input type="checkbox" id="voiceSer1"
                                        (change)="serviceChange();disableChange('voice')" formControlName="Enable">
                                    <span>
                                        <small></small></span></label>
                            </div>
                        </div>
                        <!-- <div class="form-group ccl-form" *ngIf="!dev">
                            <div class="toggle-swtbtn checkbox switcher switch-disable d mr-2">
                                <label for="voiceSer1">
                                    <input type="checkbox" id="voiceSer1"
                                        (change)="serviceChange();disableChange('voice')" formControlName="Enable"
                                        disabled>
                                    <span class="opacity-4">
                                        <small></small></span></label>
                            </div>
                        </div> -->
                    </div>
                </div>

                <div class="content">
                    <div class="ccl-form" *ngIf="serviceForm.value.voice.Enable">
                        <div class="form-group ccl-form">
                            <label class="modant">{{language['Voice Plan']}} <span class="required">*</span></label>
                            <ng-select bindValue="name" [items]="VoicePlanItem" bindLabel="name" [multiple]="false"
                                placeholder="{{language['Voice_Plan']}}" formControlName="usoc"
                                (change)="serviceChange();VoicePlan(false);removePorts()"
                                [ngClass]=" { 'is-invalid' : submitted && !serviceForm.value.voice.usoc  }"
                                [clearable]="true" [searchable]="true">
                            </ng-select>
                            <div *ngIf="submitted && !serviceForm.value.voice.usoc " class="invalid-feedback">
                                <small class="error">
                                    {{language['This field is required']}}</small>
                            </div>
                        </div>
                        <div class="form-group inline-input row">
                            <label class="col-md-12">
                                {{language.port}}<span class="required">*</span>
                            </label>
                            <div class="col-md-12">
                                <ng-select  #name2 [items]="portItem"
                                    (change)="serviceChange();serviceChangeEvent($event)" bindLabel="label"
                                    bindValue="value" [multiple]="true" placeholder="{{language['Voice_Port']}}"
                                    formControlName="port"
                                    [ngClass]=" { 'is-invalid' : submitted && !serviceForm.value.voice.port.length  }"
                                    [clearable]="false" [searchable]="false">
                                </ng-select>
                            </div>
                            <div class="col-md-12">
                                <!-- <form [formGroup]="portForm">
                                    <ng-select [hidden]="isCOC" #name2 [items]="portItem" formControlName="port"
                                        (change)="portChange($event);selectRgPort($event)" bindLabel="label" bindValue="value"
                                        placeholder="{{language['Voice_Port']}}"
                                        [ngClass]=" { 'is-invalid' : submitted && !serviceForm.value.voice.port.length  }"
                                        [clearable]="false" [searchable]="false">
                                    </ng-select>
                                </form> -->
                                <div *ngIf="submitted && !serviceForm.value.voice.port.length ">
                                    <small class="error">
                                        {{language['This field is required']}}</small>
                                </div>
                                <!-- <div *ngIf="submitted && !portForm.value  " class="invalid-feedback">
                                    <small class="error">
                                        {{language['This field is required']}}</small>
                                </div> -->

                                <!-- <div class="valid-feedback"></div>
                                <div class="invalid-feedback mt-5 invalid-feedback-pos">
                                    *{{ language.Add_Sys_Validation1 }}
                                </div> -->
                            </div>
                        </div>
                            <div class="ccl-form" *ngIf="serviceForm.value.voice.Enable === true">
                                <label for="Description">{{language['Notes']}}</label>
                                <textarea type="text" class="form-control min-h-85" placeholder="{{language['Notes']}}" id="description2"
                                 formControlName="note"minlength="0" maxlength="128"> </textarea>
                                 <p id="the-count" class="text-right">
                                    <span id="maximum">{{serviceForm.value.voice.note.length}}/128</span>
                                   </p>
                                  <!-- <div *ngIf="submitted &&!serviceForm.value.voice.note" >
                                    <small class="error">
                                        {{language['This field is required']}}
                                    </small>
                                </div>  -->
                            </div>
                            <div class="form-check my-2" *ngIf="serviceForm.value.voice.Enable && provisionOntService && isCOC">
                                <input class="form-check-input check-box-ui" type="checkbox"
                                  formControlName="isOntService"  id="defaultCheck23" > 
                                <label class="form-check-label cursor-pointer" for="defaultCheck23">
                                  <span>{{language['Provision ONT Services']}}</span>
                                </label>
                              </div>

                        <div class="ccl-form mt-4" class="need-validation">
                            <div class="row" formGroupName="voiceInterfaces">
                                <div class="col-md-12">
                                    <div class="form-group ccl-form"
                                        *ngIf="serviceForm.value.voice.port.includes('ONT Line 1')" formGroupName="P1">
                                        <div class="my-3">
                                            <!-- <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label">
                                                    {{language.Voice_Service}}</label>
                                                <div class="col-md-12">
                                                    <div class="toggle-swtbtn checkbox switcher">
                                                        <label for="Voice">
                                                            <input type="checkbox" id="Voice" [value]=Enable
                                                                (change)="EnableVoicePort('P1');serviceChange()"
                                                                required formControlName="Enable" />
                                                            <span class="enabled_button"><small></small></span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div> -->

                                            <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label"><strong>ONT Line
                                                        1</strong></label>
                                            </div>
                                            <!-- <div class="w-100" *ngIf="isSIPvoiceServiceType && isSIPvoiceServiceType1"> -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'SIP'">

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Username}}
                                                        <span class="error">*</span></label>
                                                    <!-- <div class="col-md-12">
                                                        <input class="form-control" id="s_name2"
                                                            placeholder="{{language['Enter Username']}}"
                                                            (change)="serviceChange();"
                                                            (keyup)="checkLineValidation('P1', 'SIP', 'sipUsername');"
                                                            type="text" formControlName="sipUsername"
                                                             required />
                                                        <div *ngIf="!lineFormValidate['P1'].SIP.sipUsername">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P1'].SIP.sipUsername">
                                                                <small class="error">
                                                                    {{userNameErrorMsg}}</small>
                                                            </div>

                                                        </div>
                                                    </div> -->
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name89"
                                                            placeholder="{{language['Voice_Username']}}" type="text"
                                                            required formControlName="sipUsername"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P1', 'SIP', 'sipUsername');"
                                                            trimSpace [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['P1'].SIP.sipUsername">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P1'].SIP.sipUsername">
                                                                <small class="error">{{language['This field is\
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P1'].SIP.sipUsername">
                                                                <small class="error">{{userNameErrorMsg}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input position-relative password"
                                                    formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Password}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="Password"
                                                            placeholder="{{language.Password}}"
                                                            (change)="serviceChange();"
                                                            (keyup)="checkLineValidation('P1', 'SIP', 'sipPassword');"
                                                            [type]="isPwdVisible.ONT1 ? 'password' : 'text'"
                                                            autocomplete="new-password" formControlName="sipPassword">
                                                        <span class="pointer"
                                                            [ngClass]="isPwdVisible.ONT1 ? 'password_hide' : 'password_view'"
                                                            (click)="isPwdVisible.ONT1 = !isPwdVisible.ONT1"></span>
                                                        <div *ngIf="!lineFormValidate['P1'].SIP.sipPassword">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P1'].SIP.sipPassword">
                                                                <small class="error">
                                                                    {{language['This field is required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.SIP_URI}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name4"
                                                            placeholder="{{language.Voice_URI}}"
                                                            (change)="serviceChange();"
                                                            (keyup)="checkLineValidation('P1', 'SIP', 'sipUri');"
                                                            type="text" required formControlName="sipUri" trimSpace
                                                            [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['P1'].SIP.sipUri">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P1'].SIP.sipUri">
                                                                <small class="error">{{language['This field is\
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P1'].SIP.sipUri">
                                                                <small class="error">{{language['Please enter a\
                                                                    valid URI.']}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- voiceServiceType == 'H.248' -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'H.248'">

                                                <div class="row form-group inline-input" formGroupName="X_000631_H248">
                                                    <label class="col-md-12 col-form-label">{{language.Termination_ID}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class=" form-control"
                                                            placeholder="{{language['Enter Termination ID']}}"
                                                            (change)="serviceChange();"
                                                            (keyup)="checkLineValidation('P1', 'X_000631_H248', 'terminationId');"
                                                            type="text" formControlName="terminationId" />
                                                        <div
                                                            *ngIf="!lineFormValidate['P1'].X_000631_H248?.terminationId">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P1'].X_000631_H248?.terminationId">
                                                                <small class="error">{{language['This field is\
                                                                    required']}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="form-group ccl-form" id="Port2"
                                        *ngIf="serviceForm.value.voice.port.includes('ONT Line 2')" role="tabpanel"
                                        formGroupName="P2">
                                        <div class="my-3">

                                            <!-- <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label">
                                                    {{language.Voice_Service}}
                                                </label>
                                                <div class="col-md-12">
                                                    <div class="toggle-swtbtn checkbox switcher">
                                                        <label for="Voice-L2">
                                                            <input type="checkbox" id="Voice-L2"
                                                                (change)="EnableVoicePort('P2',this.serviceForm.value.voice.voiceInterfaces['P2'].Enable);serviceChange()"
                                                                required formControlName="Enable" />
                                                            <span class="enabled_button"><small></small></span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div> -->

                                            <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label"><strong>ONT Line
                                                        2</strong></label>
                                            </div>
                                            <!-- <section class="w-100"
                                                *ngIf="isSIPvoiceServiceType && isSIPvoiceServiceType2"> -->
                                            <section class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'SIP'">


                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Username}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name51"
                                                            placeholder="{{language['Enter Username']}}" type="text"
                                                            required formControlName="sipUsername"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P2', 'SIP', 'sipUsername');"
                                                            trimSpace [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['P2'].SIP.sipUsername">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P2'].SIP.sipUsername">
                                                                <small class="error">{{language['This field is\
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P2'].SIP.sipUsername">
                                                                <small class="error">{{userNameErrorMsg}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input position-relative password"
                                                    formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Password}}<span
                                                            class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="Password"
                                                            placeholder="{{language.Password}}"
                                                            (change)="serviceChange();"
                                                            (keyup)="checkLineValidation('P2', 'SIP', 'sipPassword');"
                                                            [type]="isPwdVisible.ONT2 ? 'password' : 'text'"
                                                            autocomplete="new-password" formControlName="sipPassword">
                                                        <span class="pointer"
                                                            [ngClass]="isPwdVisible.ONT2 ? 'password_hide' : 'password_view'"
                                                            (click)="isPwdVisible.ONT2 = !isPwdVisible.ONT2"></span>
                                                        <div *ngIf="!lineFormValidate['P2'].SIP.sipPassword">

                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P2'].SIP.sipPassword">
                                                                <small class="error">{{language['This field is\
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.SIP_URI}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name71"
                                                            placeholder="{{language.Enter_URI}}" type="text" required
                                                            formControlName="sipUri" (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P2', 'SIP', 'sipUri');"
                                                            trimSpace [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['P2'].SIP.sipUri">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P2'].SIP.sipUri">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P2'].SIP.sipUri">
                                                                <small class="error">{{language['Please enter a
                                                                    valid URI.']}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section>

                                            <!-- voiceServiceType == 'H.248' -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'H.248'">

                                                <div class="row form-group inline-input" formGroupName="X_000631_H248">
                                                    <label class="col-md-12 col-form-label">{{language.Termination_ID}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class=" form-control"
                                                            placeholder="{{language['Enter Termination ID']}}"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P2', 'X_000631_H248', 'terminationId');"
                                                            type="text" formControlName="terminationId" />
                                                        <div
                                                            *ngIf="!lineFormValidate['P2'].X_000631_H248?.terminationId">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P2'].X_000631_H248?.terminationId">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <!-- p3-->
                                    <div class="form-group ccl-form" id="Port3"
                                        *ngIf="serviceForm.value.voice.port.includes('ONT Line 3')" role="tabpanel"
                                        formGroupName="P3">
                                        <div class="my-3">

                                            <!-- <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label">
                                                    {{language.Voice_Service}}
                                                </label>
                                                <div class="col-md-12">
                                                    <div class="toggle-swtbtn checkbox switcher">
                                                        <label for="Voice-L2">
                                                            <input type="checkbox" id="Voice-L2"
                                                                (change)="EnableVoicePort('P3',this.serviceForm.value.voice.voiceInterfaces['P3'].Enable);serviceChange()"
                                                                required formControlName="Enable" />
                                                            <span class="enabled_button"><small></small></span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div> -->

                                            <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label"><strong>ONT Line
                                                        3</strong></label>
                                            </div>
                                            <!-- <section class="w-100"
                                                *ngIf="isSIPvoiceServiceType && isSIPvoiceServicePortType3"> -->
                                            <section class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'SIP'">

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Username}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name51"
                                                            placeholder="{{language['Enter Username']}}" type="text"
                                                            required formControlName="sipUsername"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P3', 'SIP', 'sipUsername');"
                                                            trimSpace [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['P3'].SIP.sipUsername">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P3'].SIP.sipUsername">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P3'].SIP.sipUsername">
                                                                <small class="error">{{userNameErrorMsg}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input position-relative password"
                                                    formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Password}}<span
                                                            class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="Password"
                                                            placeholder="{{language.Password}}"
                                                            (change)="serviceChange();"
                                                            (keyup)="checkLineValidation('P3', 'SIP', 'sipPassword');"
                                                            [type]="isPwdVisible.ONT3 ? 'password' : 'text'"
                                                            autocomplete="new-password" formControlName="sipPassword">
                                                        <span class="pointer"
                                                            [ngClass]="isPwdVisible.ONT3 ? 'password_hide' : 'password_view'"
                                                            (click)="isPwdVisible.ONT3 = !isPwdVisible.ONT3"></span>
                                                        <div *ngIf="!lineFormValidate['P3'].SIP.sipPassword">

                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P3'].SIP.sipPassword">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.SIP_URI}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name71"
                                                            placeholder="{{language.Enter_URI}}" type="text" required
                                                            formControlName="sipUri" (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P3', 'SIP', 'sipUri');"
                                                            trimSpace [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['P3'].SIP.sipUri">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P3'].SIP.sipUri">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P3'].SIP.sipUri">
                                                                <small class="error">{{language['Please enter a
                                                                    valid URI.']}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section>

                                            <!-- voiceServiceType == 'H.248' -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'H.248'">

                                                <div class="row form-group inline-input" formGroupName="X_000631_H248">
                                                    <label class="col-md-12 col-form-label">{{language.Termination_ID}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class=" form-control"
                                                            placeholder="{{language['Enter Termination ID']}}"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P3', 'X_000631_H248', 'terminationId');"
                                                            type="text" formControlName="terminationId" />
                                                        <div
                                                            *ngIf="!lineFormValidate['P3'].X_000631_H248?.terminationId">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P3'].X_000631_H248?.terminationId">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <!-- p4-->
                                    <div class="form-group ccl-form" id="Port4"
                                        *ngIf="serviceForm.value.voice.port.includes('ONT Line 4')" role="tabpanel"
                                        formGroupName="P4">
                                        <div class="my-3">

                                            <!-- <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label">
                                                    {{language.Voice_Service}}
                                                </label>
                                                <div class="col-md-12">
                                                    <div class="toggle-swtbtn checkbox switcher">
                                                        <label for="Voice-L2">
                                                            <input type="checkbox" id="Voice-L2"
                                                                (change)="EnableVoicePort('P4',this.serviceForm.value.voice.voiceInterfaces['P4'].Enable);serviceChange()"
                                                                required formControlName="Enable" />
                                                            <span class="enabled_button"><small></small></span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div> -->

                                            <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label"><strong>ONT Line
                                                        4</strong></label>
                                            </div>
                                            <!-- <section class="w-100"
                                                *ngIf="isSIPvoiceServiceType && isSIPvoiceServicePortType4"> -->
                                            <section class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'SIP'">


                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Username}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name51"
                                                            placeholder="{{language['Enter Username']}}" type="text"
                                                            required formControlName="sipUsername"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P4', 'SIP', 'sipUsername');"
                                                            trimSpace [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['P4'].SIP.sipUsername">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P4'].SIP.sipUsername">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P4'].SIP.sipUsername">
                                                                <small class="error">{{userNameErrorMsg}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input position-relative password"
                                                    formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Password}}<span
                                                            class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="Password"
                                                            placeholder="{{language.Password}}"
                                                            (change)="serviceChange();"
                                                            (keyup)="checkLineValidation('P4', 'SIP', 'sipPassword');"
                                                            [type]="isPwdVisible.ONT4 ? 'password' : 'text'"
                                                            autocomplete="new-password" formControlName="sipPassword">
                                                        <span class="pointer"
                                                            [ngClass]="isPwdVisible.ONT4 ? 'password_hide' : 'password_view'"
                                                            (click)="isPwdVisible.ONT4 = !isPwdVisible.ONT4"></span>
                                                        <div *ngIf="!lineFormValidate['P4'].SIP.sipPassword">

                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P4'].SIP.sipPassword">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.SIP_URI}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name71"
                                                            placeholder="{{language.Enter_URI}}" type="text" required
                                                            formControlName="sipUri" (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P4', 'SIP', 'sipUri');"
                                                            trimSpace [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['P4'].SIP.sipUri">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P4'].SIP.sipUri">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P4'].SIP.sipUri">
                                                                <small class="error">{{language['Please enter a
                                                                    valid URI.']}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section>

                                            <!-- voiceServiceType == 'H.248' -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'H.248'">

                                                <div class="row form-group inline-input" formGroupName="X_000631_H248">
                                                    <label class="col-md-12 col-form-label">{{language.Termination_ID}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class=" form-control"
                                                            placeholder="{{language['Enter Termination ID']}}"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P4', 'X_000631_H248', 'terminationId');"
                                                            type="text" formControlName="terminationId" />
                                                        <div
                                                            *ngIf="!lineFormValidate['P4'].X_000631_H248?.terminationId">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P4'].X_000631_H248?.terminationId">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <!-- p5 -->
                                    <div class="form-group ccl-form" id="Port5"
                                        *ngIf="serviceForm.value.voice.port.includes('ONT Line 5')" role="tabpanel"
                                        formGroupName="P5">
                                        <div class="my-3">

                                            <!-- <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label">
                                                    {{language.Voice_Service}}
                                                </label>
                                                <div class="col-md-12">
                                                    <div class="toggle-swtbtn checkbox switcher">
                                                        <label for="Voice-L2">
                                                            <input type="checkbox" id="Voice-L2"
                                                                (change)="EnableVoicePort('P5',this.serviceForm.value.voice.voiceInterfaces['P5'].Enable);serviceChange()"
                                                                required formControlName="Enable" />
                                                            <span class="enabled_button"><small></small></span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div> -->

                                            <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label"><strong>ONT Line
                                                        5</strong></label>
                                            </div>
                                            <!-- <section class="w-100"
                                                *ngIf="isSIPvoiceServiceType && isSIPvoiceServicePortType5"> -->
                                            <section class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'SIP'">


                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Username}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name51"
                                                            placeholder="{{language['Enter Username']}}" type="text"
                                                            required formControlName="sipUsername"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P5', 'SIP', 'sipUsername');"
                                                            trimSpace [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['P5'].SIP.sipUsername">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P5'].SIP.sipUsername">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P5'].SIP.sipUsername">
                                                                <small class="error">{{userNameErrorMsg}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input position-relative password"
                                                    formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Password}}<span
                                                            class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="Password"
                                                            placeholder="{{language.Password}}"
                                                            (change)="serviceChange();"
                                                            (keyup)="checkLineValidation('P5', 'SIP', 'sipPassword');"
                                                            [type]="isPwdVisible.ONT5 ? 'password' : 'text'"
                                                            autocomplete="new-password" formControlName="sipPassword">
                                                        <span class="pointer"
                                                            [ngClass]="isPwdVisible.ONT5 ? 'password_hide' : 'password_view'"
                                                            (click)="isPwdVisible.ONT5 = !isPwdVisible.ONT5"></span>
                                                        <div *ngIf="!lineFormValidate['P5'].SIP.sipPassword">

                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P5'].SIP.sipPassword">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.SIP_URI}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name71"
                                                            placeholder="{{language.Enter_URI}}" type="text" required
                                                            formControlName="sipUri" (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P5', 'SIP', 'sipUri');"
                                                            trimSpace [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['P5'].SIP.sipUri">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P5'].SIP.sipUri">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P5'].SIP.sipUri">
                                                                <small class="error">{{language['Please enter a
                                                                    valid URI.']}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section>

                                            <!-- voiceServiceType == 'H.248' -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'H.248'">

                                                <div class="row form-group inline-input" formGroupName="X_000631_H248">
                                                    <label class="col-md-12 col-form-label">{{language.Termination_ID}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class=" form-control"
                                                            placeholder="{{language['Enter Termination ID']}}"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P5', 'X_000631_H248', 'terminationId');"
                                                            type="text" formControlName="terminationId" />
                                                        <div
                                                            *ngIf="!lineFormValidate['P5'].X_000631_H248?.terminationId">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P5'].X_000631_H248?.terminationId">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <!-- p6 -->
                                    <div class="form-group ccl-form" id="Port6"
                                        *ngIf="serviceForm.value.voice.port.includes('ONT Line 6')" role="tabpanel"
                                        formGroupName="P6">
                                        <div class="my-3">

                                            <!-- <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label">
                                                    {{language.Voice_Service}}
                                                </label>
                                                <div class="col-md-12">
                                                    <div class="toggle-swtbtn checkbox switcher">
                                                        <label for="Voice-L2">
                                                            <input type="checkbox" id="Voice-L2"
                                                                (change)="EnableVoicePort('P6',this.serviceForm.value.voice.voiceInterfaces['P6'].Enable);serviceChange()"
                                                                required formControlName="Enable" />
                                                            <span class="enabled_button"><small></small></span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div> -->

                                            <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label"><strong>ONT Line
                                                        6</strong></label>
                                            </div>
                                            <!-- <section class="w-100"
                                                *ngIf="isSIPvoiceServiceType && isSIPvoiceServicePortType6"> -->
                                            <section class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'SIP'">


                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Username}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name51"
                                                            placeholder="{{language['Enter Username']}}" type="text"
                                                            required formControlName="sipUsername"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P6', 'SIP', 'sipUsername');"
                                                            trimSpace [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['P6'].SIP.sipUsername">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P6'].SIP.sipUsername">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P6'].SIP.sipUsername">
                                                                <small class="error">{{userNameErrorMsg}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input position-relative password"
                                                    formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Password}}<span
                                                            class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="Password"
                                                            placeholder="{{language.Password}}"
                                                            (change)="serviceChange();"
                                                            (keyup)="checkLineValidation('P6', 'SIP', 'sipPassword');"
                                                            [type]="isPwdVisible.ONT6 ? 'password' : 'text'"
                                                            autocomplete="new-password" formControlName="sipPassword">
                                                        <span class="pointer"
                                                            [ngClass]="isPwdVisible.ONT6 ? 'password_hide' : 'password_view'"
                                                            (click)="isPwdVisible.ONT6 = !isPwdVisible.ONT6"></span>
                                                        <div *ngIf="!lineFormValidate['P6'].SIP.sipPassword">

                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P6'].SIP.sipPassword">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.SIP_URI}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name71"
                                                            placeholder="{{language.Enter_URI}}" type="text" required
                                                            formControlName="sipUri" (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P6', 'SIP', 'sipUri');"
                                                            trimSpace [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['P6'].SIP.sipUri">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P6'].SIP.sipUri">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P6'].SIP.sipUri">
                                                                <small class="error">{{language['Please enter a
                                                                    valid URI.']}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section>

                                            <!-- voiceServiceType == 'H.248' -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'H.248'">

                                                <div class="row form-group inline-input" formGroupName="X_000631_H248">
                                                    <label class="col-md-12 col-form-label">{{language.Termination_ID}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class=" form-control"
                                                            placeholder="{{language['Enter Termination ID']}}"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P6', 'X_000631_H248', 'terminationId');"
                                                            type="text" formControlName="terminationId" />
                                                        <div
                                                            *ngIf="!lineFormValidate['P6'].X_000631_H248?.terminationId">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P6'].X_000631_H248?.terminationId">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <!-- p7 -->
                                    <div class="form-group ccl-form" id="Port7"
                                        *ngIf="serviceForm.value.voice.port.includes('ONT Line 7')" role="tabpanel"
                                        formGroupName="P7">
                                        <div class="my-3">

                                            <!-- <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label">
                                                    {{language.Voice_Service}}
                                                </label>
                                                <div class="col-md-12">
                                                    <div class="toggle-swtbtn checkbox switcher">
                                                        <label for="Voice-L2">
                                                            <input type="checkbox" id="Voice-L2"
                                                                (change)="EnableVoicePort('P7',this.serviceForm.value.voice.voiceInterfaces['P7'].Enable);serviceChange()"
                                                                required formControlName="Enable" />
                                                            <span class="enabled_button"><small></small></span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div> -->

                                            <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label"><strong>ONT Line
                                                        7</strong></label>
                                            </div>
                                            <!-- <section class="w-100"
                                                *ngIf="isSIPvoiceServiceType && isSIPvoiceServicePortType7"> -->
                                            <section class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'SIP'">


                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Username}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name51"
                                                            placeholder="{{language['Enter Username']}}" type="text"
                                                            required formControlName="sipUsername"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P7', 'SIP', 'sipUsername');"
                                                            trimSpace [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['P7'].SIP.sipUsername">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P7'].SIP.sipUsername">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P7'].SIP.sipUsername">
                                                                <small class="error">{{userNameErrorMsg}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input position-relative password"
                                                    formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Password}}<span
                                                            class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="Password"
                                                            placeholder="{{language.Password}}"
                                                            (change)="serviceChange();"
                                                            (keyup)="checkLineValidation('P7', 'SIP', 'sipPassword');"
                                                            [type]="isPwdVisible.ONT7 ? 'password' : 'text'"
                                                            autocomplete="new-password" formControlName="sipPassword">
                                                        <span class="pointer"
                                                            [ngClass]="isPwdVisible.ONT7 ? 'password_hide' : 'password_view'"
                                                            (click)="isPwdVisible.ONT7 = !isPwdVisible.ONT7"></span>
                                                        <div *ngIf="!lineFormValidate['P7'].SIP.sipPassword">

                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P7'].SIP.sipPassword">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.SIP_URI}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name71"
                                                            placeholder="{{language.Enter_URI}}" type="text" required
                                                            formControlName="sipUri" (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P7', 'SIP', 'sipUri');"
                                                            trimSpace [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['P7'].SIP.sipUri">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P7'].SIP.sipUri">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P7'].SIP.sipUri">
                                                                <small class="error">{{language['Please enter a
                                                                    valid URI.']}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section>

                                            <!-- voiceServiceType == 'H.248' -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'H.248'">

                                                <div class="row form-group inline-input" formGroupName="X_000631_H248">
                                                    <label class="col-md-12 col-form-label">{{language.Termination_ID}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class=" form-control"
                                                            placeholder="{{language['Enter Termination ID']}}"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P7', 'X_000631_H248', 'terminationId');"
                                                            type="text" formControlName="terminationId" />
                                                        <div
                                                            *ngIf="!lineFormValidate['P7'].X_000631_H248?.terminationId">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P7'].X_000631_H248?.terminationId">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <!-- p8 -->
                                    <div class="form-group ccl-form" id="Port8"
                                        *ngIf="serviceForm.value.voice.port.includes('ONT Line 8')" role="tabpanel"
                                        formGroupName="P8">
                                        <div class="my-3">

                                            <!-- <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label">
                                                    {{language.Voice_Service}}
                                                </label>
                                                <div class="col-md-12">
                                                    <div class="toggle-swtbtn checkbox switcher">
                                                        <label for="Voice-L2">
                                                            <input type="checkbox" id="Voice-L2"
                                                                (change)="EnableVoicePort('P8',this.serviceForm.value.voice.voiceInterfaces['P8'].Enable);serviceChange()"
                                                                required formControlName="Enable" />
                                                            <span class="enabled_button"><small></small></span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div> -->

                                            <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label"><strong>ONT Line
                                                        8</strong></label>
                                            </div>
                                            <!-- <section class="w-100"
                                                *ngIf="isSIPvoiceServiceType && isSIPvoiceServicePortType8"> -->
                                            <section class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'SIP'">


                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Username}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name51"
                                                            placeholder="{{language['Enter Username']}}" type="text"
                                                            required formControlName="sipUsername"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P8', 'SIP', 'sipUsername');" />
                                                        <div *ngIf="!lineFormValidate['P8'].SIP.sipUsername">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P8'].SIP.sipUsername">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P8'].SIP.sipUsername">
                                                                <small class="error">{{userNameErrorMsg}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input position-relative password"
                                                    formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Password}}<span
                                                            class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="Password"
                                                            placeholder="{{language.Password}}"
                                                            (change)="serviceChange();"
                                                            (keyup)="checkLineValidation('P8', 'SIP', 'sipPassword');"
                                                            [type]="isPwdVisible.ONT8 ? 'password' : 'text'"
                                                            autocomplete="new-password" formControlName="sipPassword">
                                                        <span class="pointer"
                                                            [ngClass]="isPwdVisible.ONT8 ? 'password_hide' : 'password_view'"
                                                            (click)="isPwdVisible.ONT8 = !isPwdVisible.ONT8"></span>
                                                        <div *ngIf="!lineFormValidate['P8'].SIP.sipPassword">

                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P8'].SIP.sipPassword">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.SIP_URI}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name71"
                                                            placeholder="{{language.Enter_URI}}" type="text" required
                                                            formControlName="sipUri" (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P8', 'SIP', 'sipUri');"
                                                            trimSpace [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['P8'].SIP.sipUri">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P8'].SIP.sipUri">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['P8'].SIP.sipUri">
                                                                <small class="error">{{language['Please enter a
                                                                    valid URI.']}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section>

                                            <!-- voiceServiceType == 'H.248' -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'H.248'">

                                                <div class="row form-group inline-input" formGroupName="X_000631_H248">
                                                    <label class="col-md-12 col-form-label">{{language.Termination_ID}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class=" form-control"
                                                            placeholder="{{language['Enter Termination ID']}}"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('P8', 'X_000631_H248', 'terminationId');"
                                                            type="text" formControlName="terminationId" />
                                                        <div
                                                            *ngIf="!lineFormValidate['P8'].X_000631_H248?.terminationId">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['P8'].X_000631_H248?.terminationId">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="form-group ccl-form" id="Line1"
                                        *ngIf="serviceForm.value.voice.port.includes('RG Line 1')" formGroupName="L1">
                                        <div class="my-3">

                                            <!-- <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label">
                                                    {{language.Voice_Service}}</label>
                                                <div class="col-md-12">
                                                    <div class="toggle-swtbtn checkbox switcher">
                                                        <label for="Voice1">
                                                            <input type="checkbox" id="Voice1"
                                                                (change)="EnableVoicePort('L1');serviceChange()"
                                                                required formControlName="Enable" />
                                                            <span class="enabled_button"><small></small></span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div> -->

                                            <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label"><strong>RG Line
                                                        1</strong></label>
                                            </div>
                                            <!-- <div class="w-100" *ngIf="isSIPvoiceServiceType && isSIPvoiceServiceType3"> -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'SIP'">

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Username}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class=" form-control" id="s_name21"
                                                            placeholder="{{language['Enter Username']}}"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('L1', 'SIP', 'AuthUserName');"
                                                            type="text" formControlName="AuthUserName" trimSpace
                                                            [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['L1'].SIP.AuthUserName">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['L1'].SIP.AuthUserName">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['L1'].SIP.AuthUserName">
                                                                <small class="error">{{userNameErrorMsg}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Password}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12 position-relative">
                                                        <input class="form-control" id="s_name33"
                                                            placeholder="{{language['Enter Password']}}"
                                                            [type]="isPwdVisible.RG1 ? 'password' : 'text'"
                                                            autocomplete="new-password" formControlName="AuthPassword"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('L1', 'SIP', 'AuthPassword');">
                                                        <span class="pointer"
                                                            [ngClass]="isPwdVisible.RG1 ? 'password_hide' : 'password_view'"
                                                            (click)="isPwdVisible.RG1 = !isPwdVisible.RG1"></span>
                                                        <div *ngIf="!lineFormValidate['L1'].SIP.AuthPassword">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['L1'].SIP.AuthPassword">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.SIP_URI}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name41"
                                                            placeholder="{{language.Enter_URI}}"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('L1', 'SIP', 'URI');"
                                                            type="text" required formControlName="URI" trimSpace
                                                            [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['L1'].SIP.URI">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['L1'].SIP.URI">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['L1'].SIP.URI">
                                                                <small class="error">{{language['Please enter a
                                                                    valid URI.']}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group inline-input row"
                                                    formGroupName="CallingFeatures">
                                                    <label class="col-md-12 col-form-label">
                                                        {{language.Call_Waiting}}</label>
                                                    <div class="col-md-12">
                                                        <div class="toggle-swtbtn checkbox switcher">
                                                            <label for="Waiting">
                                                                <input type="checkbox" id="Waiting"
                                                                    formControlName="CallWaitingEnable"
                                                                    (change)="serviceChange()" required />
                                                                <span class="enabled_button"><small></small></span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group inline-input row"
                                                    formGroupName="CallingFeatures">
                                                    <label class="col-md-12 col-form-label">
                                                        {{language.Caller_ID}}</label>
                                                    <div class="col-md-12">
                                                        <div class="toggle-swtbtn checkbox switcher">
                                                            <label for="CallerIDEnable">
                                                                <input type="checkbox" id="CallerIDEnable"
                                                                    formControlName="CallerIDEnable"
                                                                    (change)="serviceChange()" required />
                                                                <span class="enabled_button"><small></small></span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group inline-input row"
                                                    formGroupName="CallingFeatures">
                                                    <label class="col-md-12 col-form-label">
                                                        {{language.Three_waycall}}</label>
                                                    <div class="col-md-12">
                                                        <div class="toggle-swtbtn checkbox switcher">
                                                            <label for="Calling">
                                                                <input type="checkbox" id="Calling"
                                                                    (change)="serviceChange()"
                                                                    formControlName="X_000631_ThreewayCallingEnable"
                                                                    required />
                                                                <span class="enabled_button"><small></small></span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- <div class="form-group inline-input row"
                                                    formGroupName="CallingFeatures">
                                                    <label class="col-form-label col-md-12"> {{ language.T38Fax }}
                                                    </label>
                                                    <div class="col-md-12 w-select">
                                                        <div class="toggle-swtbtn checkbox switcher">
                                                            <label for="T38Fax">
                                                                <input type="checkbox" id="T38Fax"
                                                                    formControlName="faxT38"
                                                                    (change)="serviceChange()" />
                                                                <span class="enabled_button"><small></small></span>
                                                              
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div> -->
                                                <div class="form-group inline-input row"
                                                    formGroupName="CallingFeatures">
                                                    <label class="col-form-label col-md-12">
                                                        {{language.Message_Waiting}}</label>
                                                    <div class="col-md-12">
                                                        <div class="toggle-swtbtn checkbox switcher">
                                                            <label for="Indicator">
                                                                <input type="checkbox" id="Indicator"
                                                                    (change)="serviceChange()"
                                                                    formControlName="MWIEnable" required />
                                                                <span class="enabled_button"><small></small></span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group inline-input row"
                                                    formGroupName="CallingFeatures">
                                                    <label class="col-md-12 col-form-label">
                                                        {{language.Direct_Connect}}</label>
                                                    <div class="col-md-12">
                                                        <div class="toggle-swtbtn checkbox switcher">
                                                            <label for="Connect">
                                                                <input type="checkbox" id="Connect"
                                                                    (change)="serviceChange();directconnectenable();"
                                                                    formControlName="X_000631_DirectConnectEnable"
                                                                    required />
                                                                <span class="enabled_button"><small></small></span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group inline-input row" formGroupName="CallingFeatures"
                                                    *ngIf="serviceForm.value.voice.voiceInterfaces['L1']?.CallingFeatures?.X_000631_DirectConnectEnable">
                                                    <label class="col-md-12 col-form-label">
                                                        {{language.Direct_No}} <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name34"
                                                            placeholder="{{language['Enter Direct Connect Number']}}"
                                                            (change)="serviceChange()"
                                                            (keypress)="allowNumberOnly($event)"
                                                            oninput="(this.value) = (this.value.replace(/[^0-9.]/g, '').replace(/(\..?)\../g, '$1'));"
                                                            (keyup)="checkLineValidation('L1', 'CallingFeatures', 'X_000631_DirectConnectNumber');"
                                                            type="text" required maxlength="16"
                                                            formControlName="X_000631_DirectConnectNumber" />
                                                        <div
                                                            *ngIf="!lineFormValidate['L1']?.CallingFeatures.X_000631_DirectConnectNumber">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['L1']?.CallingFeatures.X_000631_DirectConnectNumber">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['L1']?.CallingFeatures.X_000631_DirectConnectNumber">
                                                                <small class="error">Please enter the Diret Connect
                                                                    Number less than or equal to 32 charecters</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group inline-input row" formGroupName="CallingFeatures"
                                                    *ngIf="serviceForm.value.voice.voiceInterfaces['L1']?.CallingFeatures.X_000631_DirectConnectEnable">
                                                    <label class="col-md-12 col-form-label">
                                                        {{language.Direct_Connect_Timer}} </label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name3"
                                                            placeholder="{{language['Enter Direct Connect Timer']}}"
                                                            (change)="serviceChange()"
                                                            oninput="(this.value) = (this.value.replace(/[^0-9.]/g, '').replace(/(\..?)\../g, '$1'));"
                                                            (keyup)="checkLineValidation('L1', 'CallingFeatures', 'X_000631_DirectConnectTimer');"
                                                            type="number" min="0" max="35" required
                                                            formControlName="X_000631_DirectConnectTimer"
                                                            maxlength="2" />
                                                        <div
                                                            *ngIf="!lineFormValidate['L1']?.CallingFeatures.X_000631_DirectConnectTimer">
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['L1']?.CallingFeatures.X_000631_DirectConnectTimer">
                                                                <small class="error">[{{language['Direct Connect
                                                                    Timer ranges from 0 to 35']}}.]</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                            <!-- ServiceType == 'H.248' -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'H.248'">
                                                <div class="row form-group inline-input" formGroupName="X_000631_H248">
                                                    <label class="col-md-12 col-form-label">{{language.Termination_ID}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class=" form-control"
                                                            placeholder="{{language['Enter Termination ID']}}"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('L1', 'X_000631_H248', 'TerminationId');"
                                                            type="text" formControlName="TerminationId" />
                                                        <div
                                                            *ngIf="!lineFormValidate['L1'].X_000631_H248?.TerminationId">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['L1'].X_000631_H248?.TerminationId">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- ServiceType == 'MGCP' -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'MGCP'">
                                                <div class="row form-group inline-input" formGroupName="MGCP">
                                                    <label class="col-md-12 col-form-label">{{language.GR303}}</label>
                                                    <div class="col-md-12 w-select">
                                                        <div class="toggle-swtbtn checkbox switcher">
                                                            <label for="X_000631_GR303_1">
                                                                <input type="checkbox" id="X_000631_GR303_1"
                                                                    formControlName="X_000631_GR303"
                                                                    (change)="serviceChange()" />
                                                                <span class="enabled_button"><small></small></span>
                                                                <!-- {{ language.enabled }} -->
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- ServiceType == 'X_000631_TDMGW' -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'X_000631_TDMGW'">
                                                <div class="row form-group inline-input" formGroupName="X_000631_TdmGw">
                                                    <label class="col-md-12 col-form-label">{{language.CRV}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class=" form-control" placeholder="N1-1-IG-1"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('L1', 'X_000631_TdmGw', 'Crv');"
                                                            type="text" formControlName="Crv" />
                                                        <div *ngIf="!lineFormValidate['L1'].X_000631_TdmGw?.Crv">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['L1'].X_000631_TdmGw?.Crv">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="w-100">
                                                <div formGroupName="VoiceProcessing">
                                                    <div class="row">
                                                        <div class="col-sm-12 px-0 marg-tbl">
                                                            <button id="btn-advancedSettings" type="button"
                                                                class="btn-default primary"
                                                                (click)="onToggleAdvSettings()">{{advanceSettingsLbl}}</button>
                                                        </div>
                                                    </div>
                                                    <div *ngIf="isShowAdvSetting">
                                                        <div class="row">
                                                            <label for="systemLossPlan"
                                                                class="col-md-12 col-form-label">{{language.System_loss}}</label>
                                                            <div class="col-12 col-md-12">
                                                                <ng-select [items]="voiceParam" id="systemLossPlan"
                                                                    [multiple]="false" [clearable]="false"
                                                                    [searchable]="false"
                                                                    (change)="onSysLossChange('L1'); serviceChange();"
                                                                    formControlName="systemLoss"
                                                                    placeholder="{{language['System loss plan']}}">
                                                                </ng-select>
                                                            </div>
                                                        </div>
                                                        <div
                                                            *ngIf="serviceForm.value.voice.voiceInterfaces['L1'].VoiceProcessing.systemLoss === 'Manual'">
                                                            <div class="form-group ccl-form row pt-3 pb-2">
                                                                <label
                                                                    class="col-md-12 col-form-label">{{language.System_Tx_Loss}}
                                                                    {{language.Plan}}
                                                                    (dB)</label>
                                                                <div class="col-12 col-md-12">
                                                                    <input class="voiceParam" type="text"
                                                                        formControlName="TransmitGain"
                                                                        (keyup)="checkLineValidation('L1', 'VoiceProcessing', 'TransmitGain');"
                                                                        #TransmitGain aria-invalid="false">
                                                                    <div
                                                                        *ngIf="!lineFormValidate['L1'].VoiceProcessing.TransmitGain">
                                                                        <small
                                                                            class="error">{{language.gainErrorMsg}}</small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group ccl-form row">
                                                                <label
                                                                    class="col-md-12 col-form-label">{{language.System_Rx_Loss}}
                                                                    {{language.Plan}}
                                                                    (dB)</label>
                                                                <div class="col-12 col-md-12">
                                                                    <input class="voiceParam" type="text"
                                                                        (keyup)="checkLineValidation('L1', 'VoiceProcessing', 'ReceiveGain');"
                                                                        formControlName="ReceiveGain" #ReceiveGain
                                                                        aria-invalid="false">
                                                                    <div
                                                                        *ngIf="!lineFormValidate['L1'].VoiceProcessing.ReceiveGain">
                                                                        <small
                                                                            class="error">{{language.gainErrorMsg}}</small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="form-group ccl-form" id="Line22"
                                        *ngIf="serviceForm.value.voice.port.includes('RG Line 2')" formGroupName="L2">
                                        <div class="my-3">

                                            <!-- <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label">
                                                    {{language.Voice_Service}}
                                                </label>
                                                <div class="col-md-12">
                                                    <div class="toggle-swtbtn checkbox switcher">
                                                        <label for="Voice-L21">
                                                            <input type="checkbox" id="Voice-L21"
                                                                (change)="EnableVoicePort('L2');serviceChange()"
                                                                required formControlName="Enable" />
                                                            <span class="enabled_button"><small></small></span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div> -->

                                            <div class="form-group inline-input row">
                                                <label class="col-md-12 col-form-label"><strong>RG Line
                                                        2</strong></label>
                                            </div>
                                            <!-- <section class="w-100"
                                                *ngIf="isSIPvoiceServiceType && isSIPvoiceServiceType4"> -->
                                            <section class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'SIP'">

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Username}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name5"
                                                            placeholder="{{language['Enter Username']}}" type="text"
                                                            required formControlName="AuthUserName"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('L2', 'SIP', 'AuthUserName');"
                                                            trimSpace [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['L2'].SIP.AuthUserName">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['L2'].SIP.AuthUserName">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['L2'].SIP.AuthUserName">
                                                                <small class="error">{{userNameErrorMsg}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.Password}}<span
                                                            class="error">*</span></label>
                                                    <div class="col-md-12 position-relative">
                                                        <input class="form-control" id="s_name6"
                                                            placeholder="{{language['Enter Password']}}"
                                                            [type]="isPwdVisible.RG2 ? 'password' : 'text'"
                                                            autocomplete="new-password" formControlName="AuthPassword"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('L2', 'SIP', 'AuthPassword');">
                                                        <span class="see_pass fas pointer top-right position-absolute"
                                                            [ngClass]="isPwdVisible.RG2 ? 'password_hide' : 'password_view'"
                                                            (click)="isPwdVisible.RG2 = !isPwdVisible.RG2"></span>
                                                        <div *ngIf="!lineFormValidate['L2'].SIP.AuthPassword">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['L2'].SIP.AuthPassword">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row form-group inline-input" formGroupName="SIP">
                                                    <label class="col-md-12 col-form-label">{{language.SIP_URI}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name7"
                                                            placeholder="{{language.Enter_URI}}" type="text" required
                                                            formControlName="URI" (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('L2', 'SIP', 'URI');" trimSpace
                                                            [formValue]="serviceForm" />
                                                        <div *ngIf="!lineFormValidate['L2'].SIP.URI">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['L2'].SIP.URI">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['L2'].SIP.URI">
                                                                <small class="error">{{language['Please enter a
                                                                    valid URI.']}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group inline-input row"
                                                    formGroupName="CallingFeatures">
                                                    <label class="col-md-12 col-form-label">
                                                        {{language.Call_Waiting}}</label>
                                                    <div class="col-md-12">
                                                        <div class="toggle-swtbtn checkbox switcher">
                                                            <label for="CallWaiting">
                                                                <input type="checkbox" (change)="serviceChange()"
                                                                    id="CallWaiting" formControlName="CallWaitingEnable"
                                                                    required />
                                                                <span class="enabled_button"><small></small></span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group inline-input row"
                                                    formGroupName="CallingFeatures">
                                                    <label class="col-md-12 col-form-label">
                                                        {{language.Caller_ID}}</label>
                                                    <div class="col-md-12">
                                                        <div class="toggle-swtbtn checkbox switcher">
                                                            <label for="CallerIDEnable2">
                                                                <input type="checkbox" id="CallerIDEnable2"
                                                                    formControlName="CallerIDEnable"
                                                                    (change)="serviceChange()" required />
                                                                <span class="enabled_button"><small></small></span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group inline-input row"
                                                    formGroupName="CallingFeatures">
                                                    <label class="col-md-12 col-form-label">
                                                        {{language.Three_waycall}}</label>
                                                    <div class="col-md-12">
                                                        <div class="toggle-swtbtn checkbox switcher">
                                                            <label for="Three-Way">
                                                                <input type="checkbox" (change)="serviceChange()"
                                                                    id="Three-Way"
                                                                    formControlName="X_000631_ThreewayCallingEnable"
                                                                    required />
                                                                <span class="enabled_button"><small></small></span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- <div class="form-group inline-input row"
                                                    formGroupName="CallingFeatures">
                                                    <label class="col-form-label col-md-12"> {{ language.T38Fax }}
                                                    </label>
                                                    <div class="col-md-12 w-select">
                                                        <div class="toggle-swtbtn checkbox switcher">
                                                            <label for="T38Fax">
                                                                <input type="checkbox" id="T38Fax"
                                                                    formControlName="faxT38"
                                                                    (change)="serviceChange()" />
                                                                <span class="enabled_button"><small></small></span>
                                                                
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div> -->
                                                <div class="form-group inline-input row"
                                                    formGroupName="CallingFeatures">
                                                    <label class="col-form-label col-md-12">
                                                        {{language.Message_Waiting}}</label>
                                                    <div class="col-md-12">
                                                        <div class="toggle-swtbtn checkbox switcher">
                                                            <label for="Message">
                                                                <input type="checkbox" (change)="serviceChange()"
                                                                    id="Message" formControlName="MWIEnable" required />
                                                                <span class="enabled_button"><small></small></span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group inline-input row"
                                                    formGroupName="CallingFeatures">
                                                    <label class="col-md-12 col-form-label">
                                                        {{language.Direct_Connect}}</label>
                                                    <div class="col-md-12">
                                                        <div class="toggle-swtbtn checkbox switcher">
                                                            <label for="Direct">
                                                                <input type="checkbox" (change)="serviceChange()"
                                                                    id="Direct"
                                                                    formControlName="X_000631_DirectConnectEnable"
                                                                    required />
                                                                <span class="enabled_button"><small></small></span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group inline-input row" formGroupName="CallingFeatures"
                                                    *ngIf="serviceForm.value.voice.voiceInterfaces['L2']?.CallingFeatures.X_000631_DirectConnectEnable">
                                                    <label class="col-md-12 col-form-label">
                                                        {{language.Direct_No}} <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name31"
                                                            placeholder="{{language['Enter Direct Connect Number']}}"
                                                            (change)="serviceChange();directconnectenable();"
                                                            (keypress)="allowNumberOnly($event)"
                                                            oninput="(this.value) = (this.value.replace(/[^0-9.]/g, '').replace(/(\..?)\../g, '$1'));"
                                                            (keyup)="checkLineValidation('L2', 'CallingFeatures', 'X_000631_DirectConnectNumber');"
                                                            type="text" required maxlength="16"
                                                            formControlName="X_000631_DirectConnectNumber" />
                                                        <div
                                                            *ngIf="!lineFormValidate['L2']?.CallingFeatures.X_000631_DirectConnectNumber">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['L2']?.CallingFeatures.X_000631_DirectConnectNumber">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['L2']?.CallingFeatures.X_000631_DirectConnectNumber">
                                                                <small class="error">{{language['Please enter a
                                                                    number']}}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group inline-input row" formGroupName="CallingFeatures"
                                                    *ngIf="serviceForm.value.voice.voiceInterfaces['L2']?.CallingFeatures.X_000631_DirectConnectEnable">
                                                    <label class="col-md-12 col-form-label">
                                                        {{language.Direct_Connect_Timer}} <span
                                                            class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class="form-control" id="s_name32"
                                                            placeholder="{{language['Enter Direct Connect Timer']}}"
                                                            (change)="serviceChange()"
                                                            oninput="(this.value) = (this.value.replace(/[^0-9.]/g, '').replace(/(\..?)\../g, '$1'));"
                                                            (keyup)="checkLineValidation('L2', 'CallingFeatures', 'X_000631_DirectConnectTimer');"
                                                            type="number" min="0" max="35" maxlength="2" required
                                                            formControlName="X_000631_DirectConnectTimer" />
                                                        <div
                                                            *ngIf="!lineFormValidate['L2']?.CallingFeatures.X_000631_DirectConnectTimer">
                                                            <div
                                                                *ngIf="serviceForm.value.voice.voiceInterfaces['L2']?.CallingFeatures.X_000631_DirectConnectTimer">
                                                                <small class="error">[{{language['Direct Connect
                                                                    Timer ranges from 0 to 35']}}.]</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </section>

                                            <!-- ServiceType == 'H.248' -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'H.248'">
                                                <div class="row form-group inline-input" formGroupName="X_000631_H248">
                                                    <label class="col-md-12 col-form-label">{{language.Termination_ID}}
                                                        <span class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class=" form-control"
                                                            placeholder="{{language['Enter Termination ID']}}"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('L2', 'X_000631_H248', 'TerminationId');"
                                                            type="text" formControlName="TerminationId" />
                                                        <div
                                                            *ngIf="!lineFormValidate['L2'].X_000631_H248?.TerminationId">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['L2'].X_000631_H248?.TerminationId">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- ServiceType == 'MGCP' -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'MGCP'">
                                                <div class="row form-group inline-input" formGroupName="MGCP">
                                                    <label class="col-md-12 col-form-label">{{language.GR303}}</label>
                                                    <div class="col-md-12 w-select">
                                                        <div class="toggle-swtbtn checkbox switcher">
                                                            <label for="X_000631_GR303_2">
                                                                <input type="checkbox" id="X_000631_GR303_2"
                                                                    formControlName="X_000631_GR303"
                                                                    (change)="serviceChange()" />
                                                                <span class="enabled_button"><small></small></span>
                                                                <!-- {{ language.enabled }} -->
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- ServiceType == 'X_000631_TDMGW' -->
                                            <div class="w-100"
                                                *ngIf="serviceForm?.value.voice?.voiceServiceType == 'X_000631_TDMGW'">
                                                <div class="row form-group inline-input" formGroupName="X_000631_TdmGw">
                                                    <label class="col-md-12 col-form-label">{{language.CRV}} <span
                                                            class="error">*</span></label>
                                                    <div class="col-md-12">
                                                        <input class=" form-control" placeholder="N1-1-IG-1"
                                                            (change)="serviceChange()"
                                                            (keyup)="checkLineValidation('L2', 'X_000631_TdmGw', 'Crv');"
                                                            type="text" formControlName="Crv" />
                                                        <div *ngIf="!lineFormValidate['L2'].X_000631_TdmGw?.Crv">
                                                            <div
                                                                *ngIf="!serviceForm.value.voice.voiceInterfaces['L2'].X_000631_TdmGw?.Crv">
                                                                <small class="error">{{language['This field is
                                                                    required']}}</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="w-100">
                                                <div formGroupName="VoiceProcessing">
                                                    <div class="row">
                                                        <div class="col-sm-12 px-0 marg-tbl">
                                                            <button id="btn-advancedSettings" type="button"
                                                                class="btn-default primary"
                                                                (click)="onToggleAdvSettings()">{{advanceSettingsLbl}}</button>
                                                        </div>
                                                    </div>
                                                    <div *ngIf="isShowAdvSetting">
                                                        <div class="row">
                                                            <label for="systemLossPlan"
                                                                class="col-md-12 col-form-label">{{language.System_loss}}</label>
                                                            <div class="col-12 col-md-12 mb-3">
                                                                <ng-select [items]="voiceParam" id="systemLossPlan"
                                                                    [multiple]="false" [clearable]="false"
                                                                    [searchable]="false"
                                                                    (change)="onSysLossChange('L2'); serviceChange();"
                                                                    formControlName="systemLoss" name="systemLoss"
                                                                    placeholder="{{language['System loss plan']}}">
                                                                </ng-select>

                                                            </div>
                                                        </div>
                                                        <div
                                                            *ngIf="serviceForm.value.voice.voiceInterfaces['L2'].VoiceProcessing.systemLoss === 'Manual'">
                                                            <div class="form-group ccl-form row pt-3 pb-2">
                                                                <label
                                                                    class="col-md-12 col-form-label">{{language.System_Tx_Loss}}
                                                                    {{language.Plan}} (dB)</label>
                                                                <div class="col-12 col-md-12">
                                                                    <input class="voiceParam" type="text"
                                                                        formControlName="TransmitGain"
                                                                        (change)="serviceChange();"
                                                                        (keyup)="checkLineValidation('L2', 'VoiceProcessing', 'TransmitGain');"
                                                                        #TransmitGain aria-invalid="false">
                                                                    <div
                                                                        *ngIf="!lineFormValidate['L2'].VoiceProcessing.TransmitGain">
                                                                        <small
                                                                            class="error">{{language.gainErrorMsg}}</small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group ccl-form row">
                                                                <label
                                                                    class="col-md-12 col-form-label">{{language.System_Rx_Loss}}
                                                                    {{language.Plan}}
                                                                    (dB)</label>
                                                                <div class="col-12 col-md-12">
                                                                    <input class="voiceParam" type="text" #ReceiveGain
                                                                        formControlName="ReceiveGain"
                                                                        (change)="serviceChange();"
                                                                        (keyup)="checkLineValidation('L2', 'VoiceProcessing', 'ReceiveGain');"
                                                                        aria-invalid="false">
                                                                    <div
                                                                        *ngIf="!lineFormValidate['L2'].VoiceProcessing.ReceiveGain">
                                                                        <small
                                                                            class="error">{{language.gainErrorMsg}}</small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group inline-input row"
                            *ngIf="serviceForm.value.voice.voiceServiceType == 'SIP' && (serviceForm.value.voice.port.includes('RG Line 1') || serviceForm.value.voice.port.includes('RG Line 2'))">
                            <label class="col-form-label col-md-12"> {{ language.T38Fax }}
                            </label>
                            <div class="col-md-12 ">
                                <div class="toggle-swtbtn checkbox switcher">
                                    <label for="T38Fax">
                                        <input type="checkbox" id="T38Fax" formControlName="faxT38"
                                            (change)="serviceChange()" />
                                        <span class="enabled_button"><small></small></span>

                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="ccl-form" *ngIf="!HidecVlanVoice && serviceForm.value.voice.Enable && serviceForm.value.voice.usoc">
                        <label for="cevlan">{{language['C-VLAN']}} </label>
                        <input type="text" class="form-control" (keyup)="lanValidate('voice', 'cVlan')" min="1"
                            max="4093" maxlength="4"
                            oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..?)\../g, '$1');"
                            formControlName="cVlan" #cevlan3 placeholder="C-VLAN" (change)="serviceChange()" required>
                        <!-- <div *ngIf="submitted && !serviceForm.value.voice.cVlan" >
                                <small class="error">
                                    {{language['This field is required']}}</small>
                            </div> -->
                        <div *ngIf="!voiceFormValidate1.cVlan">
                            <div *ngIf="serviceForm.value.voice.cVlan">
                                <small class="error">
                                    {{language['Please enter a value between 1 and 4093']}}</small>
                            </div>
                        </div>
                    </div>
                    <div class="my-2" (click)="RGAddressTypeChange()"
                        *ngIf="RGPortSelected && serviceForm.value.voice.Enable">
                        <a class="btn-link primary cursor-pointer"
                            [ngClass]="RGIpAddress ? 'adshow':''">
                            {{language['RG IP Addressing']}}<img src="../assets/img/ic_chevrondown_blue.svg"> </a>
                    </div>
                         
                    <div formArrayName="staticIpConfigurations" *ngIf="RGPortSelected && serviceForm.value.voice.Enable">
                        <div id="RG-Ip-addressing" formGroupName="0" *ngIf="RGIpAddress">
                            <div class="form-group inline-input row">
                                <label class="col-form-label col-md-12">{{language['Static IP Address']}}
                                </label>
                                <!-- (change)="serviceChange()" (blur)="validateIp()" (keyup)="checkIPValidation('staticIpAddress')"  -->
                                <div class="col-md-12">
                                    <input class="form-control" (keyup)="addValidationStaticIpConfigurations()"
                                       type="text" 
                                        formControlName="staticIpAddress" placeholder="{{ language.Static_IP_Address }}"
                                        trimSpace [formValue]="serviceForm" />
                                    <div *ngIf="staticIpConfigurations?.value?.staticIpAddress && staticIpConfigurations.get('staticIpAddress')?.errors?.pattern">
                                        <div >
                                            <small class="error">{{ language["Static_IP"] }}</small>
                                        </div>
                                    </div>
    
                                </div>
                            </div>
                            <div class="form-group inline-input row" *ngIf="staticIpConfigurations.value.staticIpAddress && staticIpConfigurations?.get('staticIpAddress')?.valid">
                                <label class="col-form-label col-md-12">{{ language.Subnet_Mask }} <span class="error">*</span></label>
                                <div class="col-md-12">
                                    <input class="form-control"
                                        placeholder="{{ language.Subnet_Mask }}" type="text" formControlName="staticNetmask"
                                        trimSpace [formValue]="serviceForm" />
                                    <div>
                                        <div
                                            *ngIf="submitted && staticIpConfigurations.get('staticNetmask')?.errors?.required">
                                            <small class="error">{{language['This field is required']}}</small>
                                        </div>
                                        <div *ngIf="!staticIpConfigurations.get('staticNetmask')?.errors?.required && staticIpConfigurations.get('staticNetmask')?.errors?.pattern">
                                            <small class="error">{{ language["Please enter a valid Netmask"] }}</small>
                                        </div>
    
                                    </div>
                                </div>
                            </div>
                            <div class="form-group inline-input row" *ngIf="staticIpConfigurations.value.staticIpAddress && staticIpConfigurations?.get('staticIpAddress')?.valid"
                               >
                                <label class="col-form-label col-md-12">{{ language.Default_Gateway }} <span class="error"
                                        >*</span></label>
                                <div class="col-md-12">
                                    <input class="form-control" 
                                        placeholder="{{ language.Default_Gateway }}" type="text"
                                        formControlName="staticGateway" trimSpace [formValue]="serviceForm" />
                                    <div>
                                        <div
                                            *ngIf="submitted && staticIpConfigurations.get('staticGateway')?.errors?.required">
                                            <small class="error">{{language['This field is required']}}</small>
                                        </div>
                                        <div *ngIf="!staticIpConfigurations.get('staticGateway')?.errors?.required && staticIpConfigurations.get('staticGateway')?.errors?.pattern">
                                            <small class="error">{{ language["Please enter a valid IP address"] }}</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="my-2" (click)="serviceChange();addressTypeChange();"
                        *ngIf="ontPortSelected && serviceForm.value.voice.Enable">
                        <a class="btn-link primary cursor-pointer"
                            [ngClass]="ontPortSelected && advancedVoice ? 'adshow':''">
                            {{language['ONT IP Addressing']}}<img src="../assets/img/ic_chevrondown_blue.svg"> </a>
                    </div>
               
                  
                    <div class="ccl-form"
                        *ngIf="advancedVoice && serviceForm.value.voice.Enable &&((serviceForm.value.voice.port === 'RG Line 1') || (serviceForm.value.voice.port === 'RG Line 2'))">
                        <label for="cevlan">{{language['IP Address Family']}}</label>

                        <ng-select [searchable]="false" placeholder="" formControlName="staticIpAddressFamily"
                            id="ipAddressFamily1" (change)="serviceChange();  ">
                            <!-- <ng-option value="dualstack">dualstack</ng-option> -->
                            <ng-option value="ipv4">{{language.ipv4}} </ng-option>
                            <!-- <ng-option value="ipv6">IPv6</ng-option> -->
                        </ng-select>
                        <p>
                            <small class="sm-text">{{language['v6 is supported on ONT POTs ports, but not RG Line\
                                ports']}}</small>
                        </p>
                    </div>
                    <div class="form-group ccl-form"
                        *ngIf="(serviceForm?.value.voice?.voiceServiceType == 'H.248' || serviceForm?.value.voice?.voiceServiceType == 'SIP' ||serviceForm?.value.voice?.voiceServiceType == 'MGCP') && (ontPortSelected && advancedVoice)  && serviceForm.value.voice.Enable && isCOC">
                        <label class="modant">{{language['IP host Name']}}</label>
                        <input type="text" id="Service2" (change)="serviceChange();" formControlName="voiceHostname"
                            trimSpace [formValue]="serviceForm">
                    </div>
                    <div>
                        <div class="form-group inline-input row"
                            *ngIf="serviceForm.value.voice.Enable && ontPortSelected && advancedVoice">
                            <label class="col-form-label col-md-12">{{language['Static IP Address']}}
                            </label>
                            <div class="col-md-12">
                                <input class="form-control" (change)="serviceChange()"
                                    (keyup)="checkIPValidation('staticIpAddress')" type="text" (blur)="validateIp()"
                                    formControlName="staticIpAddress" placeholder="{{ language.Static_IP_Address }}"
                                    trimSpace [formValue]="serviceForm" />
                                <div *ngIf="!voiceFormValidate.staticIpAddress">

                                    <div *ngIf="serviceForm.value.voice.staticIpAddress">
                                        <small class="error">{{ language["Static_IP"] }}</small>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="form-group inline-input row"
                            *ngIf="validStaticIp && serviceForm.value.voice.Enable && ontPortSelected && advancedVoice">
                            <label class="col-form-label col-md-12">{{ language.Subnet_Mask }} <span class="error"
                                    *ngIf="serviceForm.value.voice.staticIpAddress && voiceFormValidate.staticIpAddress">*</span></label>
                            <div class="col-md-12">
                                <input class="form-control" (change)="serviceChange()"
                                    (keyup)="checkIPValidation('staticNetmask')"
                                    placeholder="{{ language.Subnet_Mask }}" type="text" formControlName="staticNetmask"
                                    trimSpace [formValue]="serviceForm" />
                                <div *ngIf="!voiceFormValidate.staticNetmask">
                                    <div
                                        *ngIf="(serviceForm.value.voice.staticIpAddress && voiceFormValidate.staticIpAddress)">
                                        <small class="error" *ngIf="!serviceForm.value.voice.staticNetmask">{{language['This field is required']}}</small>
                                        <small class="error" *ngIf="serviceForm.value.voice.staticNetmask && !ONTStaticNetMaskPatternValidate">
                                            {{language["Please enter a valid Netmask"]}}
                                        </small>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="form-group inline-input row"
                            *ngIf="validStaticIp &&  serviceForm.value.voice.Enable && ontPortSelected&& advancedVoice">
                            <label class="col-form-label col-md-12">{{ language.Default_Gateway }} <span class="error"
                                    *ngIf="serviceForm.value.voice.staticIpAddress && voiceFormValidate.staticIpAddress">*</span></label>
                            <div class="col-md-12">
                                <input class="form-control" (change)="serviceChange()"
                                    (keyup)="checkIPValidation('staticGateway')"
                                    placeholder="{{ language.Default_Gateway }}" type="text"
                                    formControlName="staticGateway" trimSpace [formValue]="serviceForm" />
                                <div *ngIf="!voiceFormValidate.staticGateway">
                                    <div
                                        *ngIf="(serviceForm.value.voice.staticIpAddress && voiceFormValidate.staticIpAddress) && !serviceForm.value.voice.staticGateway">
                                        <small class="error">{{language['This field is required']}}</small>
                                    </div>
                                    <div *ngIf="serviceForm.value.voice.staticGateway">
                                        <small class="error">{{ language["Please enter a valid IP address"] }}</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group ccl-form my-2" *ngIf="serviceForm.value.voice.Enable">

                            <div class="mb-2" (click)="EnableOverrides('voice')"
                                *ngIf="serviceForm.value.voice.Enable && isCOC">
                                <a class="btn-link primary cursor-pointer" id="voice-ont-overrides"
                                    [ngClass]="enableoverridesVoice ? 'adshow':''">
                                    {{language['ONT Overrides']}} <img src="../assets/img/ic_chevrondown_blue.svg"> </a>
                            </div>
                            <div class="ccl-form"
                                *ngIf="enableoverridesVoice &&(serviceForm.value.voice.port.includes('RG Line 1')||serviceForm.value.voice.port.includes('RG Line 2'))">
                                <label for="cevlan">{{language.Interface}}</label>
                                <ng-select bindValue="value" [items]="InterfaceItemForVoice" bindLabel="name"
                                    [multiple]="false" placeholder="{{language.InterFace}}" formControlName="interface"
                                    (change)="serviceChange()" [clearable]="true" [searchable]="false">
                                </ng-select>
                            </div>
                            <div class="form-group ccl-form" *ngIf="enableoverridesVoice">
                                <label class="modant">{{language['S-VLAN']}}</label>
                                <input type="text" (keyup)="lanValidate('voice', 'sVlan');" class="form-control" min="1"
                                    max="4093" maxlength="4"
                                    oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..?)\../g, '$1');"
                                    formControlName="sVlan" (change)="serviceChange()" id="usoc233" placeholder="S-VLAN"
                                    trimSpace [formValue]="serviceForm" />
                                <div *ngIf="!voiceFormValidate1.sVlan">
                                    <div *ngIf="serviceForm.value.voice.sVlan">
                                        <small class="error">{{language['Please enter a value between 1 and
                                            4093']}}.</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--edn col-->
            <div class="col-lg-4 col-md-4 col-sm-6" formGroupName="video">
                <div class="row title-holder">
                    <div class="d-inline-flex mr-3">
                        {{language.Video}}
                    </div>
                    <div class="d-inline-flex">
                        <div class="form-group ccl-form">

                            <div class="toggle-swtbtn checkbox switcher mr-2">
                                <label for="videoSer2">
                                    <input type="checkbox" id="videoSer2"
                                        (change)="serviceChange();disableChange('video')" formControlName="Enable">
                                    <span>
                                        <small></small></span></label>
                            </div>

                        </div>
                        <!-- <div class="form-group ccl-form" *ngIf="!dev">
                            <div class="toggle-swtbtn checkbox switcher switch-disable mr-2">
                                <label for="videoSer2">
                                    <input type="checkbox" id="videoSer2"
                                        (change)="serviceChange();disableChange('video')" formControlName="Enable"
                                        disabled>
                                    <span class="opacity-4">
                                        <small></small></span></label>
                            </div>
                        </div> -->

                    </div>

                </div>


                <div class="content">


                    <!--end form group-->
                    <div class="ccl-form" *ngIf="serviceForm.value.video.Enable">
                        <div class="form-group ccl-form">
                            <label class="modant">{{language['Video Plan']}}<span class="required">*</span></label>
                            <ng-select id="Brandwidth_options" bindValue="name" [items]="VideoPlanItem" bindLabel="name"
                                [multiple]="false" placeholder="{{language['Video Plan']}}" formControlName="usoc"
                                (change)="serviceChange();videoPlanItem(false)" [clearable]="true" [searchable]="true"
                                [ngClass]=" { 'is-invalid' : submitted && !serviceForm.value.video.usoc  }">
                            </ng-select>
                            <div *ngIf="submitted && !serviceForm.value.video.usoc" class="invalid-feedback">
                                <small class="error">{{language['This field is required']}}</small>
                            </div>
                        </div>

                        <div class="ccl-form" *ngIf="!HideCvlanVideo && serviceForm.value.video.Enable">
                            <label for="cevlan7">{{language['C-VLAN']}} <span class="error">*</span></label>
                            <input type="text" class="form-control" (keyup)="lanValidate('video', 'cVlan')" min="1"
                                max="4093" maxlength="4"
                                oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..?)\../g, '$1');"
                                formControlName="cVlan" #cevlan5 placeholder="C-VLAN" (change)="serviceChange()"
                                required>
                            <div *ngIf="!videoFormValidate.cVlan">
                                <div *ngIf="serviceForm.value.video.cVlan">
                                    <small class="error">
                                        {{language['Please enter a value between 1 and 4093']}}</small>
                                </div>
                            </div>
                        </div>
                        <div class="ccl-form form-group" *ngIf="serviceForm.value.video.Enable && isCOC">
                            <label for="exampleFormControlInput1">{{language.port}}</label>
                            <ng-select bindValue="value" [items]="InterfaceItemForVideo" bindLabel="name"
                                bindValue="value" [multiple]="false" placeholder="{{language.port}}"
                                formControlName="interface" (change)="serviceChange();RGMemberItem()" [clearable]="true"
                                [searchable]="false">
                            </ng-select>
                        </div>
                        <div class="ccl-form" *ngIf="serviceForm.value.video.Enable === true">
                            <label for="Description">{{language['Notes']}}</label>
                            <textarea type="text" class="form-control min-h-85" placeholder="{{language['Notes']}}" id="description3"
                            formControlName="note" minlength="0" maxlength="128"></textarea>
                            <p id="the-count" class="text-right">
                                <span id="maximum">{{serviceForm.value.video.note.length}}/128</span>
                               </p>
                             <!-- <div *ngIf="submitted &&!serviceForm.value.video.note" >
                                <small class="error">
                                    {{language['This field is required']}}
                                </small>
                            </div>  -->
                            
                        </div>
                        <!-- <div class="ccl-form" *ngIf="serviceForm.value.video.Enable && !isCOC">
                            <label for="exampleFormControlInput1">{{language.port}}</label>
                            <ng-select bindValue="value" [items]="InterfaceItemfoundtaion" bindLabel="name"
                                bindValue="value" [multiple]="false" placeholder="{{language.port}}"
                                formControlName="interface" (change)="serviceChange();RGMemberItem()" [clearable]="true"
                                [searchable]="false">
                            </ng-select>
                        </div> -->
                        <div class="form-check my-2" *ngIf="serviceForm.value.video.Enable &&provisionOntService && isCOC">
                            <input class="form-check-input check-box-ui" type="checkbox"
                              formControlName="isOntService" id="defaultCheck24" > 
                            <label class="form-check-label cursor-pointer" for="defaultCheck24">
                              <span>{{language['Provision ONT Services']}} </span>
                            </label>
                          </div>
                        <div class="ccl-form"
                            *ngIf="serviceForm.value.video.interface === 'RG F1'|| serviceForm.value.video.interface === 'RG F1'">
                            <label for="exampleFormControlInput1">{{language.Member_ports}}</label>
                            <ng-select bindValue="name" [items]="RGMemberportItem" bindLabel="name"
                                placeholder="{{language.Member_ports}}" formControlName="memberPorts"
                                [multiple]="true" (change)="serviceChange();" [readonly]="true">
                            </ng-select>
                        </div>

                    </div>

                    <!--end form-group-->
                    <div class="form-group ccl-form my-2" *ngIf="serviceForm.value.video.Enable">


                        <div class="mb-2" (click)="EnableOverrides('video')"
                            *ngIf="serviceForm.value.video.Enable && isCOC">
                            <a class="btn-link primary cursor-pointer" id="video-ont-overrides" [ngClass]="enableoverridesVideo ? 'adshow':''">
                                {{language['ONT Overrides']}} <img src="../assets/img/ic_chevrondown_blue.svg"></a>

                        </div>

                        <div *ngIf="enableoverridesVideo && isCOC">
                            <div class="ccl-form" *ngIf="serviceForm.value.video.interface =='RG F1' ">
                                <label for="exampleFormControlInput1">{{language.Interface}}</label>
                                <ng-select bindValue="value" [items]="InterfaceItemData" bindLabel="name"
                                    bindValue="value" [multiple]="false" placeholder="{{language.Interface}}"
                                    formControlName="interface1" (change)="serviceChange()" [clearable]="true"
                                    [searchable]="false">
                                </ng-select>
                            </div>

                            <div class="ccl-form">
                                <label for="cevlan">{{language['S-VLAN']}} </label>
                                <input type="text" class="form-control" formControlName="sVlan" #cevlan43
                                    (keyup)="lanValidate('video', 'sVlan');" placeholder="S-VLAN"
                                    (change)="serviceChange()" min="1" max="4093" maxlength="4"
                                    oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..?)\../g, '$1');"
                                    required trimSpace [formValue]="serviceForm">
                                <div *ngIf="!videoFormValidate.sVlan">
                                    <div *ngIf="serviceForm.value.video.sVlan">
                                        <small class="error">{{language['Please enter a value between 1 and
                                            4093']}}.</small>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="ccl-form"
                        *ngIf="serviceForm.value.video.port === 'ONT F1'|| serviceForm.value.video.interface === 'ONT F1' || (serviceForm.value.video.usoc && serviceForm.value.video.memberPorts?.length !==0  && serviceForm.value.video.interface !== 'RG F1')">
                        <label for="exampleFormControlInput1">{{language.Member_ports}}</label>
                        <ng-select bindValue="name" [items]="ONTmemberports" bindLabel="name"
                            placeholder="{{language.Member_ports}}" formControlName="memberPorts" [multiple]="true"
                            (change)="serviceChange()">
                        </ng-select>
                    </div>
                </div>
            </div>
        </div>
    </form>
</section>